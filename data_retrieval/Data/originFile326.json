{"items":[{"tags":["javascript","java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688629712,"creation_date":1688629712,"answer_id":76626607,"question_id":76625995,"body_markdown":"As the initial element:\r\n\r\n\t&lt;span dir=&quot;auto&quot; class=&quot;sapMITHTextContent&quot;&gt;All (42936)&lt;/span&gt;\r\n\t\r\ngets modified as:\r\n\r\n\t&lt;span dir=&quot;auto&quot; class=&quot;sapMITHTextContent&quot; style=&quot;background: yellow; border: 2px solid red;&quot;&gt;All (42936)&lt;/span&gt;\r\n\t\r\nNow to set the element back the original state you can use [removeAttribute()](https://stackoverflow.com/a/60409690/7429447) method as follows:\r\n\r\n\r\n    public static void objHighlight(WebDriver webdriver, WebElement element)\r\n    {\r\n    \tJavascriptExecutor js = (JavascriptExecutor) webdriver;\r\n    \t// String originalStyle = element.getAttribute(&quot;style&quot;);\r\n    \tjs.executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;, &#39;background: yellow; border: 2px solid red;&#39;);&quot;, element);\r\n    \ttry\r\n    \t    {\r\n    \t\tThread.sleep(500);\r\n    \t    }\r\n    \tcatch (InterruptedException e)\r\n    \t    {\r\n    \t\te.printStackTrace();\r\n    \t    }\r\n    \tjs.executeScript(&quot;arguments[0].removeAttribute(&#39;style&#39;)&quot;, element);\r\n    }","title":"How to replace a new xpath with the existing xpath using JS executeScript() method?","body":"<p>As the initial element:</p>\n<pre><code>&lt;span dir=&quot;auto&quot; class=&quot;sapMITHTextContent&quot;&gt;All (42936)&lt;/span&gt;\n</code></pre>\n<p>gets modified as:</p>\n<pre><code>&lt;span dir=&quot;auto&quot; class=&quot;sapMITHTextContent&quot; style=&quot;background: yellow; border: 2px solid red;&quot;&gt;All (42936)&lt;/span&gt;\n</code></pre>\n<p>Now to set the element back the original state you can use <a href=\"https://stackoverflow.com/a/60409690/7429447\">removeAttribute()</a> method as follows:</p>\n<pre><code>public static void objHighlight(WebDriver webdriver, WebElement element)\n{\n    JavascriptExecutor js = (JavascriptExecutor) webdriver;\n    // String originalStyle = element.getAttribute(&quot;style&quot;);\n    js.executeScript(&quot;arguments[0].setAttribute('style', 'background: yellow; border: 2px solid red;');&quot;, element);\n    try\n        {\n        Thread.sleep(500);\n        }\n    catch (InterruptedException e)\n        {\n        e.printStackTrace();\n        }\n    js.executeScript(&quot;arguments[0].removeAttribute('style')&quot;, element);\n}\n</code></pre>\n"}],"owner":{"account_id":28960355,"reputation":13,"user_id":22182964,"display_name":"Benny Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76626607,"answer_count":1,"score":1,"last_activity_date":1688636043,"creation_date":1688624141,"question_id":76625995,"body_markdown":"I am writing a Selenium method in Java which highlights the text area with a Yellow Background and Red boundary. It does by injecting a HTML Attribute &#39;style&#39; in the xpath using JavascriptExecutor class and executeScript() method. \r\n\r\n\r\n```\r\npublic static void objHighlight(WebDriver webdriver, WebElement element)\r\n{\r\n\tJavascriptExecutor js = (JavascriptExecutor) webdriver;\r\n\tString originalStyle = element.getAttribute(&quot;style&quot;);\r\n\tjs.executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;, &#39;background: yellow; border: 2px solid red;&#39;);&quot;, element);\r\n\ttry\r\n\t{\r\n\t\tThread.sleep(500);\r\n\t}\r\n\tcatch (InterruptedException e)\r\n\t{\r\n\t\te.printStackTrace();\r\n\t}\r\n\t//js.executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;, &#39;&quot; + originalStyle + &quot;&#39;);&quot;, element);\r\n\t\t\t\t\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nThe problem comes when an xpath doesnt have the Attribute &#39;style&#39;. \r\nWhen such a xpath is encountered (`&lt;span dir=&quot;auto&quot; class=&quot;sapMITHTextContent&quot;&gt;All (42936)&lt;/span&gt;`), the method adds the attribute: `&#39;style = &quot;background: yellow; border: 2px solid red;&quot;&#39;`. \r\n\r\nThe new xpath is now: \r\n`&lt;span dir=&quot;auto&quot; class=&quot;sapMITHTextContent&quot; style=&quot;background: yellow; border: 2px solid red;&quot;&gt;All (42936)&lt;/span&gt;` and this button is highlighted in Yellow and has a Red boundary. I see that such and such a text is selected and verified. This highlight stays for 500 ms and then the control tries to remove this highlighting. Now the problem begins.\r\n\r\n\r\n\r\nWhen the Selenium control reaches the commented line:\r\n\r\n`js.executeScript(&quot;arguments[0].setAttribute(&#39;style&#39;, &#39;&quot; + originalStyle + &quot;&#39;);&quot;, element);` this is when the problem occurs. The control tries to replace `style = &quot;background: yellow; border: 2px solid red;&quot;` and puts in `style = &quot;&quot; `, as the original style attribute was not present at all. The new xpath now becomes `&lt;span dir=&quot;auto&quot; class=&quot;sapMITHTextContent&quot; style=&quot;&quot;&gt;All (42936)&lt;/span&gt;`.\r\n\r\nThis now throws a StaleElementReferenceException.\r\n\r\n\r\nIs there any way I can replace the whole xpath with the original xpath after the highlighting is done?\r\n\r\n`&lt;span dir=&quot;auto&quot; class=&quot;sapMITHTextContent&quot; style=&quot;background: yellow; border: 2px solid red;&quot;&gt;All (42936)&lt;/span&gt;` ===&gt;&gt; `&lt;span dir=&quot;auto&quot; class=&quot;sapMITHTextContent&quot;&gt;All (42936)&lt;/span&gt;`? I have tried workarounds, but they are highly ineffective.\r\n\r\n","title":"How to replace a new xpath with the existing xpath using JS executeScript() method?","body":"<p>I am writing a Selenium method in Java which highlights the text area with a Yellow Background and Red boundary. It does by injecting a HTML Attribute 'style' in the xpath using JavascriptExecutor class and executeScript() method.</p>\n<pre><code>public static void objHighlight(WebDriver webdriver, WebElement element)\n{\n    JavascriptExecutor js = (JavascriptExecutor) webdriver;\n    String originalStyle = element.getAttribute(&quot;style&quot;);\n    js.executeScript(&quot;arguments[0].setAttribute('style', 'background: yellow; border: 2px solid red;');&quot;, element);\n    try\n    {\n        Thread.sleep(500);\n    }\n    catch (InterruptedException e)\n    {\n        e.printStackTrace();\n    }\n    //js.executeScript(&quot;arguments[0].setAttribute('style', '&quot; + originalStyle + &quot;');&quot;, element);\n                \n}\n</code></pre>\n<p>The problem comes when an xpath doesnt have the Attribute 'style'.\nWhen such a xpath is encountered (<code>&lt;span dir=&quot;auto&quot; class=&quot;sapMITHTextContent&quot;&gt;All (42936)&lt;/span&gt;</code>), the method adds the attribute: <code>'style = &quot;background: yellow; border: 2px solid red;&quot;'</code>.</p>\n<p>The new xpath is now:\n<code>&lt;span dir=&quot;auto&quot; class=&quot;sapMITHTextContent&quot; style=&quot;background: yellow; border: 2px solid red;&quot;&gt;All (42936)&lt;/span&gt;</code> and this button is highlighted in Yellow and has a Red boundary. I see that such and such a text is selected and verified. This highlight stays for 500 ms and then the control tries to remove this highlighting. Now the problem begins.</p>\n<p>When the Selenium control reaches the commented line:</p>\n<p><code>js.executeScript(&quot;arguments[0].setAttribute('style', '&quot; + originalStyle + &quot;');&quot;, element);</code> this is when the problem occurs. The control tries to replace <code>style = &quot;background: yellow; border: 2px solid red;&quot;</code> and puts in <code>style = &quot;&quot; </code>, as the original style attribute was not present at all. The new xpath now becomes <code>&lt;span dir=&quot;auto&quot; class=&quot;sapMITHTextContent&quot; style=&quot;&quot;&gt;All (42936)&lt;/span&gt;</code>.</p>\n<p>This now throws a StaleElementReferenceException.</p>\n<p>Is there any way I can replace the whole xpath with the original xpath after the highlighting is done?</p>\n<p><code>&lt;span dir=&quot;auto&quot; class=&quot;sapMITHTextContent&quot; style=&quot;background: yellow; border: 2px solid red;&quot;&gt;All (42936)&lt;/span&gt;</code> ===&gt;&gt; <code>&lt;span dir=&quot;auto&quot; class=&quot;sapMITHTextContent&quot;&gt;All (42936)&lt;/span&gt;</code>? I have tried workarounds, but they are highly ineffective.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2332280,"reputation":2091,"user_id":2140633,"accept_rate":75,"display_name":"Udith Gunaratna"},"score":0,"creation_date":1688458770,"post_id":76610401,"comment_id":135073331,"body_markdown":"What you are doing with &#39;replaceFirst(&quot;&lt;?&quot;,&quot;&lt;&quot;)&#39; is incorrect. By doing that you are converting the XML header to an element, which causes this error.\nYou can get some ideas to solve your initial issue in this answer\nhttps://stackoverflow.com/a/3030913/2140633","body":"What you are doing with &#39;replaceFirst(&quot;&lt;?&quot;,&quot;&lt;&quot;)&#39; is incorrect. By doing that you are converting the XML header to an element, which causes this error. You can get some ideas to solve your initial issue in this answer <a href=\"https://stackoverflow.com/a/3030913/2140633\">stackoverflow.com/a/3030913/2140633</a>"},{"owner":{"account_id":24671638,"reputation":21,"user_id":18566586,"display_name":"Ruslan Fazylyanov"},"score":0,"creation_date":1688458977,"post_id":76610401,"comment_id":135073375,"body_markdown":"@UdithGunaratna i had error &quot;content is not allowed in prolog.&quot; and this replaceFirst helped me","body":"@UdithGunaratna i had error &quot;content is not allowed in prolog.&quot; and this replaceFirst helped me"},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1688461599,"post_id":76610401,"comment_id":135073949,"body_markdown":"If I copy your sample document into a file, `DocumentBuilder` parses the file without problems. This suggests that `xml` contains something other than your sample document. This makes helping you fairly impossible. That said, I wanted to point out that you do not need to convert your `xml` text to a `ByteArrayInputStream` for parsing. Just use a `StringReader` and an `InputSource`: `documentBuilder.parse(new InputSource(new StringReader(xml)))`.","body":"If I copy your sample document into a file, <code>DocumentBuilder</code> parses the file without problems. This suggests that <code>xml</code> contains something other than your sample document. This makes helping you fairly impossible. That said, I wanted to point out that you do not need to convert your <code>xml</code> text to a <code>ByteArrayInputStream</code> for parsing. Just use a <code>StringReader</code> and an <code>InputSource</code>: <code>documentBuilder.parse(new InputSource(new StringReader(xml)))</code>."}],"owner":{"account_id":24671638,"reputation":21,"user_id":18566586,"display_name":"Ruslan Fazylyanov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688635653,"creation_date":1688456989,"question_id":76610401,"body_markdown":"I get a problem when I try to get field value from XML\r\n\r\nMy XML example:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Document xmlns=&quot;urn:iso:std:iso:20022:tech:xsd:notificationName&quot;&gt;\r\n  &lt;Ntfctn&gt;\r\n    &lt;MsgHdr&gt;\r\n      &lt;MsgId&gt;47e22e35-6866-46f0-bc5d-8b5bb6afaba7&lt;/MsgId&gt;\r\n      &lt;CreDt&gt;2023-07-03T20:41:20Z&lt;/CreDt&gt;\r\n      &lt;Fr&gt;66666666-6666-4666-8666-666666666666&lt;/Fr&gt;\r\n      &lt;To&gt;93216692-7432-444d-88a1-18297159a92a&lt;/To&gt;\r\n      &lt;OprId&gt;4e8cf5f6-c6e1-4314-b043-65dfe13ab2fa&lt;/OprId&gt;\r\n    &lt;/MsgHdr&gt;\r\n    &lt;OprInfAndSts&gt;\r\n      &lt;OprInf&gt;\r\n        &lt;DCXchgOprInf&gt;\r\n          &lt;XchgOprAmt&gt;\r\n            &lt;TtlAmt Ccy=&quot;RUB&quot;&gt;147.71&lt;/TtlAmt&gt;\r\n          &lt;/XchgOprAmt&gt;\r\n          &lt;DgtlCcyTrfData&gt;\r\n            &lt;DCBuyr&gt;\r\n              &lt;Wllt&gt;\r\n                &lt;Id&gt;93216692-7432-444d-88a1-18297159a92a&lt;/Id&gt;\r\n                &lt;Bal&gt;\r\n                  &lt;TtlAmt Ccy=&quot;RUB&quot;&gt;13122.60&lt;/TtlAmt&gt;\r\n                &lt;/Bal&gt;\r\n              &lt;/Wllt&gt;\r\n            &lt;/DCBuyr&gt;\r\n          &lt;/DgtlCcyTrfData&gt;\r\n          &lt;SttlmDtTm&gt;2023-07-03T20:41:20Z&lt;/SttlmDtTm&gt;\r\n        &lt;/DCXchgOprInf&gt;\r\n      &lt;/OprInf&gt;\r\n    &lt;/OprInfAndSts&gt;\r\n  &lt;/Ntfctn&gt;\r\n&lt;/Document&gt;\r\n```\r\n\r\nI have a method that helps me to get the OprId field value\r\n\r\n```\r\npublic String getFieldValue(String xml, String tagName, String tagValue) {\r\n            xml = xml.trim().replaceFirst(&quot;&lt;?&quot;,&quot;&lt;&quot;);\r\n            ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(xml.getBytes(StandardCharsets.UTF_8));\r\n            DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\r\n            Document parse = documentBuilderFactory.newDocumentBuilder().parse(byteArrayInputStream);\r\n            NodeList nodeList = parse.getElementsByTagName(tagName);\r\n            Node item = nodeList.item(0);\r\n            return item.getTextContent();\r\n    }\r\n```\r\n\r\nI added replaceFirst with trim because I had an error - content is not allowed in prolog.  \r\nAnd this thing helped me\r\n\r\nBut now when I call getFieldValue method I have SAXParseExeception - XML document structures must start and end within the same entity\r\n\r\nI understand the meaning of the error, but I don&#39;t know how to fix this issue.\r\n\r\nThanks a lot! Have a nice day.","title":"How to resolve SAXParseExeception - XML document structures must start and end within the same entity","body":"<p>I get a problem when I try to get field value from XML</p>\n<p>My XML example:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;Document xmlns=&quot;urn:iso:std:iso:20022:tech:xsd:notificationName&quot;&gt;\n  &lt;Ntfctn&gt;\n    &lt;MsgHdr&gt;\n      &lt;MsgId&gt;47e22e35-6866-46f0-bc5d-8b5bb6afaba7&lt;/MsgId&gt;\n      &lt;CreDt&gt;2023-07-03T20:41:20Z&lt;/CreDt&gt;\n      &lt;Fr&gt;66666666-6666-4666-8666-666666666666&lt;/Fr&gt;\n      &lt;To&gt;93216692-7432-444d-88a1-18297159a92a&lt;/To&gt;\n      &lt;OprId&gt;4e8cf5f6-c6e1-4314-b043-65dfe13ab2fa&lt;/OprId&gt;\n    &lt;/MsgHdr&gt;\n    &lt;OprInfAndSts&gt;\n      &lt;OprInf&gt;\n        &lt;DCXchgOprInf&gt;\n          &lt;XchgOprAmt&gt;\n            &lt;TtlAmt Ccy=&quot;RUB&quot;&gt;147.71&lt;/TtlAmt&gt;\n          &lt;/XchgOprAmt&gt;\n          &lt;DgtlCcyTrfData&gt;\n            &lt;DCBuyr&gt;\n              &lt;Wllt&gt;\n                &lt;Id&gt;93216692-7432-444d-88a1-18297159a92a&lt;/Id&gt;\n                &lt;Bal&gt;\n                  &lt;TtlAmt Ccy=&quot;RUB&quot;&gt;13122.60&lt;/TtlAmt&gt;\n                &lt;/Bal&gt;\n              &lt;/Wllt&gt;\n            &lt;/DCBuyr&gt;\n          &lt;/DgtlCcyTrfData&gt;\n          &lt;SttlmDtTm&gt;2023-07-03T20:41:20Z&lt;/SttlmDtTm&gt;\n        &lt;/DCXchgOprInf&gt;\n      &lt;/OprInf&gt;\n    &lt;/OprInfAndSts&gt;\n  &lt;/Ntfctn&gt;\n&lt;/Document&gt;\n</code></pre>\n<p>I have a method that helps me to get the OprId field value</p>\n<pre><code>public String getFieldValue(String xml, String tagName, String tagValue) {\n            xml = xml.trim().replaceFirst(&quot;&lt;?&quot;,&quot;&lt;&quot;);\n            ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(xml.getBytes(StandardCharsets.UTF_8));\n            DocumentBuilderFactory documentBuilderFactory = DocumentBuilderFactory.newInstance();\n            Document parse = documentBuilderFactory.newDocumentBuilder().parse(byteArrayInputStream);\n            NodeList nodeList = parse.getElementsByTagName(tagName);\n            Node item = nodeList.item(0);\n            return item.getTextContent();\n    }\n</code></pre>\n<p>I added replaceFirst with trim because I had an error - content is not allowed in prolog.<br />\nAnd this thing helped me</p>\n<p>But now when I call getFieldValue method I have SAXParseExeception - XML document structures must start and end within the same entity</p>\n<p>I understand the meaning of the error, but I don't know how to fix this issue.</p>\n<p>Thanks a lot! Have a nice day.</p>\n"},{"tags":["java","android","nullpointerexception","sharedpreferences","android-checkbox"],"comments":[{"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"score":0,"creation_date":1688408368,"post_id":76606960,"comment_id":135067537,"body_markdown":"If you create an instance of the class ```MainActivity2``` yourself, the ```onCreate``` method will not be called and ```preferences``` will not be initialized, hence the NullPointerException.","body":"If you create an instance of the class <code>MainActivity2</code> yourself, the <code>onCreate</code> method will not be called and <code>preferences</code> will not be initialized, hence the NullPointerException."},{"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"score":0,"creation_date":1688408864,"post_id":76606960,"comment_id":135067636,"body_markdown":"Check out https://developer.android.com/reference/android/content/Context#getSharedPreferences(java.lang.String,%20int) for another way to acquire shared preferences from the Context. Use it with the same value for ```name``` in both Activities.","body":"Check out <a href=\"https://developer.android.com/reference/android/content/Context#getSharedPreferences(java.lang.String,%20int)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/content/&hellip;</a> for another way to acquire shared preferences from the Context. Use it with the same value for <code>name</code> in both Activities."},{"owner":{"account_id":28943042,"reputation":3,"user_id":22169225,"display_name":"Mc_Android"},"score":0,"creation_date":1688410418,"post_id":76606960,"comment_id":135067869,"body_markdown":"thanks for the advice regarding the NullPointerException, now i understand the reasion. I will check out your link on the other way to use sharedPreferences.","body":"thanks for the advice regarding the NullPointerException, now i understand the reasion. I will check out your link on the other way to use sharedPreferences."}],"answers":[{"tags":[],"owner":{"account_id":28943042,"reputation":3,"user_id":22169225,"display_name":"Mc_Android"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688635417,"creation_date":1688493215,"answer_id":76614920,"question_id":76606960,"body_markdown":"In `MainActivity2` I have changed the definition of `sharedPreferences`:\r\n\r\n    //-----------------------Shared Prefs---------------------\r\n\r\n    preferences = getSharedPreferences(&quot;KEY&quot;, 0);\r\n    editor = preferences.edit();\r\n\r\nAs well as in `MainActivity`:\r\n\r\n    buttonResult.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) {\r\n            SharedPreferences pref = getSharedPreferences(&quot;KEY&quot;, 0);\r\n            boolean a = pref.getBoolean(&quot;checkedCB&quot;, false);\r\n            tv_cb.setText(String.valueOf(a));\r\n        }\r\n    });","title":"Android: get checkbox value from another activity with shared preferences, nullPointerException","body":"<p>In <code>MainActivity2</code> I have changed the definition of <code>sharedPreferences</code>:</p>\n<pre><code>//-----------------------Shared Prefs---------------------\n\npreferences = getSharedPreferences(&quot;KEY&quot;, 0);\neditor = preferences.edit();\n</code></pre>\n<p>As well as in <code>MainActivity</code>:</p>\n<pre><code>buttonResult.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) {\n        SharedPreferences pref = getSharedPreferences(&quot;KEY&quot;, 0);\n        boolean a = pref.getBoolean(&quot;checkedCB&quot;, false);\n        tv_cb.setText(String.valueOf(a));\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":28943042,"reputation":3,"user_id":22169225,"display_name":"Mc_Android"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688635417,"creation_date":1688404890,"question_id":76606960,"body_markdown":"I am trying to access the value of a checkbox (MainActivity2) from another activity (MainActivity) with sharedPreferences.\r\n\r\nSince I want to save the checkbox status, I am using sharedPreferences anyway. Therefore I have a boolean-method getBooleanFromPref(key), which gives the correct output in MainActivity2.\r\nHowever, when I call this method in MainActivity, I get a nullPointerException.\r\nMy question:\r\nCan anybody explain me, why I am getting a nullpointerExpection?\r\nHere&#39;s my code:\r\nMainActivity:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private Button buttonResult, buttonActivity2;\r\n  \r\nprivate TextView tv_cb;\r\n  \r\nprivate MainActivity2 mainActivity2 = new MainActivity2();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n        buttonResult = findViewById(R.id.btn_result);\r\n        buttonActivity2 = findViewById(R.id.btn_goToAct2);\r\n        tv_cb = findViewById(R.id.tv_cb);\r\n    \r\n    \r\n        buttonActivity2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                startActivity(new Intent(getApplicationContext(), MainActivity2.class));\r\n            }\r\n        });\r\n    \r\n        buttonResult.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                tv_cb.setText(String.valueOf(mainActivity2.getBooleanFromPref(&quot;checkedCB&quot;)));\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nMainActivity2:\r\n```\r\npublic class MainActivity2 extends AppCompatActivity {\r\n    private CheckBox checkBox;\r\n  \r\n    private SharedPreferences preferences;\r\n    private SharedPreferences.Editor editor;\r\n  \r\n    private Button button;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n    \r\n        checkBox = findViewById(R.id.checkBox);\r\n        button = findViewById(R.id.btn_back);\r\n    \r\n        //--------------------------------------Shared Prefs-----------------------------------------------\r\n        preferences = PreferenceManager.getDefaultSharedPreferences(this);\r\n        editor = preferences.edit();\r\n    \r\n        //--------------------------------------Shared Prefs for Checkbox----------------------------------------------------------\r\n        if (preferences.contains(&quot;checkedCB&quot;) &amp;&amp; preferences.getBoolean(&quot;checkedCB&quot;, false) == true) {\r\n            checkBox.setChecked(true);\r\n        } else {\r\n            checkBox.setChecked(false);\r\n        }\r\n    \r\n        checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\r\n                if (checkBox.isChecked()) {\r\n                    editor.putBoolean(&quot;checkedCB&quot;, true);\r\n                    editor.apply();\r\n                    checkBox.setChecked(true);\r\n                } else {\r\n                    editor.putBoolean(&quot;checkedCB&quot;, false);\r\n                    editor.apply();\r\n                    checkBox.setChecked(false);\r\n                }\r\n            }\r\n        });\r\n    \r\n          button.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Toast.makeText(MainActivity2.this, &quot;Checkbox-Status: &quot; + String.valueOf(getBooleanFromPref(&quot;checkedCB&quot;)), Toast.LENGTH_SHORT).show();\r\n                startActivity(new Intent(getApplicationContext(), MainActivity.class));\r\n            }\r\n        });\r\n    }\r\n    \r\n    public boolean getBooleanFromPref(String key){\r\n        return preferences.getBoolean(key, false);\r\n    }\r\n}\r\n```\r\n\r\nP.S.: The boolean method getBooleanFromPref is working fine within Mainactivity2.\r\n\r\nSo far i tried different ways to access the checkbox value from MainActivity2:\r\nI created a getter-method in MainActivity2 for the checkbox value. When I call this method from Activity, I don&#39;t get the current value of the checkbox.\r\nWhen I use an intent, it&#39;s the same problem.\r\nI also changed the manifest-value for android-backup: `android:allowBackup=&quot;false&quot;`\r\n\r\nThe nullPointerException happens, when I try to access the getBooleanFromPref-method from MainActivity:\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke interface method &#39;boolean android.content.SharedPreferences.getBoolean(java.lang.String, boolean)&#39; on a null object reference\r\n        at com.example.checkbox_test.MainActivity2.getBooleanFromPref(MainActivity2.java:66)\r\n        at com.example.checkbox_test.MainActivity$2.onClick(MainActivity.java:38)\r\n        at android.view.View.performClick(View.java:7441)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\r\n```","title":"Android: get checkbox value from another activity with shared preferences, nullPointerException","body":"<p>I am trying to access the value of a checkbox (MainActivity2) from another activity (MainActivity) with sharedPreferences.</p>\n<p>Since I want to save the checkbox status, I am using sharedPreferences anyway. Therefore I have a boolean-method getBooleanFromPref(key), which gives the correct output in MainActivity2.\nHowever, when I call this method in MainActivity, I get a nullPointerException.\nMy question:\nCan anybody explain me, why I am getting a nullpointerExpection?\nHere's my code:\nMainActivity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private Button buttonResult, buttonActivity2;\n  \nprivate TextView tv_cb;\n  \nprivate MainActivity2 mainActivity2 = new MainActivity2();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    \n        buttonResult = findViewById(R.id.btn_result);\n        buttonActivity2 = findViewById(R.id.btn_goToAct2);\n        tv_cb = findViewById(R.id.tv_cb);\n    \n    \n        buttonActivity2.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                startActivity(new Intent(getApplicationContext(), MainActivity2.class));\n            }\n        });\n    \n        buttonResult.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                tv_cb.setText(String.valueOf(mainActivity2.getBooleanFromPref(&quot;checkedCB&quot;)));\n            }\n        });\n    }\n}\n</code></pre>\n<p>MainActivity2:</p>\n<pre><code>public class MainActivity2 extends AppCompatActivity {\n    private CheckBox checkBox;\n  \n    private SharedPreferences preferences;\n    private SharedPreferences.Editor editor;\n  \n    private Button button;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n    \n        checkBox = findViewById(R.id.checkBox);\n        button = findViewById(R.id.btn_back);\n    \n        //--------------------------------------Shared Prefs-----------------------------------------------\n        preferences = PreferenceManager.getDefaultSharedPreferences(this);\n        editor = preferences.edit();\n    \n        //--------------------------------------Shared Prefs for Checkbox----------------------------------------------------------\n        if (preferences.contains(&quot;checkedCB&quot;) &amp;&amp; preferences.getBoolean(&quot;checkedCB&quot;, false) == true) {\n            checkBox.setChecked(true);\n        } else {\n            checkBox.setChecked(false);\n        }\n    \n        checkBox.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton compoundButton, boolean b) {\n                if (checkBox.isChecked()) {\n                    editor.putBoolean(&quot;checkedCB&quot;, true);\n                    editor.apply();\n                    checkBox.setChecked(true);\n                } else {\n                    editor.putBoolean(&quot;checkedCB&quot;, false);\n                    editor.apply();\n                    checkBox.setChecked(false);\n                }\n            }\n        });\n    \n          button.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Toast.makeText(MainActivity2.this, &quot;Checkbox-Status: &quot; + String.valueOf(getBooleanFromPref(&quot;checkedCB&quot;)), Toast.LENGTH_SHORT).show();\n                startActivity(new Intent(getApplicationContext(), MainActivity.class));\n            }\n        });\n    }\n    \n    public boolean getBooleanFromPref(String key){\n        return preferences.getBoolean(key, false);\n    }\n}\n</code></pre>\n<p>P.S.: The boolean method getBooleanFromPref is working fine within Mainactivity2.</p>\n<p>So far i tried different ways to access the checkbox value from MainActivity2:\nI created a getter-method in MainActivity2 for the checkbox value. When I call this method from Activity, I don't get the current value of the checkbox.\nWhen I use an intent, it's the same problem.\nI also changed the manifest-value for android-backup: <code>android:allowBackup=&quot;false&quot;</code></p>\n<p>The nullPointerException happens, when I try to access the getBooleanFromPref-method from MainActivity:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke interface method 'boolean android.content.SharedPreferences.getBoolean(java.lang.String, boolean)' on a null object reference\n        at com.example.checkbox_test.MainActivity2.getBooleanFromPref(MainActivity2.java:66)\n        at com.example.checkbox_test.MainActivity$2.onClick(MainActivity.java:38)\n        at android.view.View.performClick(View.java:7441)\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1211)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","constructor"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1688632910,"post_id":76626996,"comment_id":135100718,"body_markdown":"[The Java Tutorials - Initializing Fields](https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/initial.html\" rel=\"nofollow noreferrer\">The Java Tutorials - Initializing Fields</a>"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688633264,"post_id":76626996,"comment_id":135100781,"body_markdown":"With *what* 3 parameters? If you can infer the correct values of all those fields from those 3 parameters there is no problem to solve. If not, there is. But this class looks like a prime candidate for refactoring into 3rd-normal form to me. Are those really all instance fields peculiar to a specific `CourseService`?","body":"With <i>what</i> 3 parameters? If you can infer the correct values of all those fields from those 3 parameters there is no problem to solve. If not, there is. But this class looks like a prime candidate for refactoring into 3rd-normal form to me. Are those really all instance fields peculiar to a specific <code>CourseService</code>?"},{"owner":{"account_id":17143647,"reputation":7,"user_id":12407074,"display_name":"lnikoli31"},"score":0,"creation_date":1688643423,"post_id":76626996,"comment_id":135102999,"body_markdown":"@user207421 I want to factorize my class with these 3 instance fields knowing that to initialize the CourseGroupService field with its 9 parameters in the constructor of my CourseService","body":"@user207421 I want to factorize my class with these 3 instance fields knowing that to initialize the CourseGroupService field with its 9 parameters in the constructor of my CourseService"}],"answers":[{"tags":[],"owner":{"account_id":17582942,"reputation":108,"user_id":12756335,"display_name":"Rigsto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688634163,"creation_date":1688634163,"answer_id":76627172,"question_id":76626996,"body_markdown":"Spring Boot has a little bit of different code when initializing the repository or other stereotypes inside the service file. You must add some annotations to make the project works. \r\n\r\nFirst, you need `@Autowired` It is an annotation to automatically wire (inject) dependencies into a Spring bean by type. Then, you need the `@Service` annotation to indicate that a class is a service component in the business logic layer of your application.\r\n\r\nYou can change your code to:\r\n```java\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\n\r\n@Service\r\npublic class CourseService extends CourseBase {\r\n    private CourseGroupService courseGroupService;\r\n\r\n    @Autowired\r\n    private MathRepository mathRepository;\r\n\r\n    @Autowired\r\n    private BiologyRepository biologyRepository;\r\n\r\n    public CourseService(CourseBaseOneRepository courseBaseOneRepository, CourseBaseTwoRepository courseBaseTwoRepository) {\r\n        super(courseBaseOneRepository, courseBaseTwoRepository);\r\n        this.courseGroupService = new CourseGroupService(\r\n            mathRepository,\r\n            biologyRepository,\r\n        );\r\n   }\r\n}\r\n```\r\n","title":"Iniatialize constructor with a few parameters in java","body":"<p>Spring Boot has a little bit of different code when initializing the repository or other stereotypes inside the service file. You must add some annotations to make the project works.</p>\n<p>First, you need <code>@Autowired</code> It is an annotation to automatically wire (inject) dependencies into a Spring bean by type. Then, you need the <code>@Service</code> annotation to indicate that a class is a service component in the business logic layer of your application.</p>\n<p>You can change your code to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.stereotype.Service;\nimport org.springframework.beans.factory.annotation.Autowired;\n\n@Service\npublic class CourseService extends CourseBase {\n    private CourseGroupService courseGroupService;\n\n    @Autowired\n    private MathRepository mathRepository;\n\n    @Autowired\n    private BiologyRepository biologyRepository;\n\n    public CourseService(CourseBaseOneRepository courseBaseOneRepository, CourseBaseTwoRepository courseBaseTwoRepository) {\n        super(courseBaseOneRepository, courseBaseTwoRepository);\n        this.courseGroupService = new CourseGroupService(\n            mathRepository,\n            biologyRepository,\n        );\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28952303,"reputation":11,"user_id":22176594,"display_name":"Dmytro Taranov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688635341,"creation_date":1688635341,"answer_id":76627341,"question_id":76626996,"body_markdown":"If you don&#39;t want to refactor your code and split this service into several smaller services, you have two options to solve the problem:\r\n1) Use field injection with ```@Autowired``` \r\n```\r\n@Service\r\npublic class UserService {\r\n  \r\n  @Autowired\r\n  private UserRepository userRepository;\r\n}\r\n```\r\nThis way you explicitly get rid of constructor injection, because the ```@Autowired``` annotation use the set-method for injection.\r\n\r\n**However, I would not recommend this approach.** The reasons for this can be found [here][1]\r\n\r\n2. **It&#39;s better** to use [Lombok][2] here with annotation ```@RequiredArgsConstructor```. \r\n\r\nThis annotation will implicitly create a constructor for you with all the required fields.\r\nYou can also make your fields final, which makes your class thread-safe\r\n```\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class UserService {\r\n\r\n  private final UserRepository userRepository;\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/40620000/spring-autowire-on-properties-vs-constructor\r\n  [2]: https://projectlombok.org/setup/maven","title":"Iniatialize constructor with a few parameters in java","body":"<p>If you don't want to refactor your code and split this service into several smaller services, you have two options to solve the problem:</p>\n<ol>\n<li>Use field injection with <code>@Autowired</code></li>\n</ol>\n<pre><code>@Service\npublic class UserService {\n  \n  @Autowired\n  private UserRepository userRepository;\n}\n</code></pre>\n<p>This way you explicitly get rid of constructor injection, because the <code>@Autowired</code> annotation use the set-method for injection.</p>\n<p><strong>However, I would not recommend this approach.</strong> The reasons for this can be found <a href=\"https://stackoverflow.com/questions/40620000/spring-autowire-on-properties-vs-constructor\">here</a></p>\n<ol start=\"2\">\n<li><strong>It's better</strong> to use <a href=\"https://projectlombok.org/setup/maven\" rel=\"nofollow noreferrer\">Lombok</a> here with annotation <code>@RequiredArgsConstructor</code>.</li>\n</ol>\n<p>This annotation will implicitly create a constructor for you with all the required fields.\nYou can also make your fields final, which makes your class thread-safe</p>\n<pre><code>@Service\n@RequiredArgsConstructor\npublic class UserService {\n\n  private final UserRepository userRepository;\n}\n</code></pre>\n"}],"owner":{"account_id":17143647,"reputation":7,"user_id":12407074,"display_name":"lnikoli31"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688635341,"creation_date":1688632785,"question_id":76626996,"body_markdown":"consider following code\r\n\r\n    @Getter\r\n    @Setter\r\n    @AllArgsConstructors\r\n    public class CourseGroupService {\r\n    \r\n      private MathRepository mathRepository;\r\n      private BiologyRepository biologyRepository;\r\n      private PhysicalRepository physicalRepository;\r\n      private EnglishRepository englishRepository;\r\n      private AlgebraRepository algebraRepository;\r\n      private TrigonometryRepository trigonometryRepository;\r\n      private ChemistryRepository chemistryRepository;\r\n      private AnatomyRepository anatomyRepository;\r\n      private HistoryRepository historyRepository;\r\n      \r\n      public CourseGroupService(\r\n    \tMathRepository mathRepository,\r\n    \tBiologyRepository biologyRepository,\r\n    \tPhysicalRepository physicalRepository,\r\n    \tEnglishRepository englishRepository,\r\n    \tAlgebraRepository algebraRepository,\r\n    \tTrigonometryRepository trigonometryRepository,\r\n    \tChemistryRepository chemistryRepository,\r\n    \tAnatomyRepository anatomyRepository,\r\n    \tHistoryRepository historyRepository,\r\n      ) {\r\n        this.mathRepository = mathRepository;\r\n    \tthis.biologyRepository = biologyRepository;\r\n    \tthis.physicalRepository = physicalRepository;\r\n    \tthis.englishRepository = englishRepository;\r\n    \tthis.algebraRepository = algebraRepository;\r\n    \tthis.trigonometryRepository = trigonometryRepository;\r\n    \tthis.chemistryRepository = chemistryRepository;\r\n    \tthis.anatomyRepository = anatomyRepository;\r\n    \tthis.historyRepository = historyRepository;\r\n      }\r\n    \r\n    }\r\n\r\nI want to create the constructor of this class \r\n\r\n    public class CourseService extends CourseBase {\r\n    \r\n      private CourseGroupService courseGroupService;\r\n      private MathRepository mathRepository;\r\n      private BiologyRepository biologyRepository;\r\n      private PhysicalRepository physicalRepository;\r\n      private EnglishRepository englishRepository;\r\n      private AlgebraRepository algebraRepository;\r\n      private TrigonometryRepository trigonometryRepository;\r\n      private ChemistryRepository chemistryRepository;\r\n      private AnatomyRepository anatomyRepository;\r\n      private HistoryRepository historyRepository;\r\n      private CourseBaseOneRepository courseBaseOneRepository;\r\n      private CourseBaseTwoRepository courseBaseTwoRepository;\r\n      \r\n      public CourseService(\r\n    \tCourseBaseOneRepository courseBaseOneRepository,\r\n    \tCourseBaseTwoRepository courseBaseTwoRepository\r\n      ) {\r\n      super(courseBaseOneRepository, courseBaseTwoRepository);\r\n        this.courseGroupService = new courseGroupService (this.mathRepository,...,this.historyRepository); \r\n      }\r\n      ...\r\n    \r\n    }\r\n\r\nThe problem is this.mathRepository,..., this.historyRepository are not initialized. How can i initialize all this parameters without put them in the constructor. My goal is to have a constructor CourseService with 3 parameters .\r\n\r\nHow can i do this ?","title":"Iniatialize constructor with a few parameters in java","body":"<p>consider following code</p>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructors\npublic class CourseGroupService {\n\n  private MathRepository mathRepository;\n  private BiologyRepository biologyRepository;\n  private PhysicalRepository physicalRepository;\n  private EnglishRepository englishRepository;\n  private AlgebraRepository algebraRepository;\n  private TrigonometryRepository trigonometryRepository;\n  private ChemistryRepository chemistryRepository;\n  private AnatomyRepository anatomyRepository;\n  private HistoryRepository historyRepository;\n  \n  public CourseGroupService(\n    MathRepository mathRepository,\n    BiologyRepository biologyRepository,\n    PhysicalRepository physicalRepository,\n    EnglishRepository englishRepository,\n    AlgebraRepository algebraRepository,\n    TrigonometryRepository trigonometryRepository,\n    ChemistryRepository chemistryRepository,\n    AnatomyRepository anatomyRepository,\n    HistoryRepository historyRepository,\n  ) {\n    this.mathRepository = mathRepository;\n    this.biologyRepository = biologyRepository;\n    this.physicalRepository = physicalRepository;\n    this.englishRepository = englishRepository;\n    this.algebraRepository = algebraRepository;\n    this.trigonometryRepository = trigonometryRepository;\n    this.chemistryRepository = chemistryRepository;\n    this.anatomyRepository = anatomyRepository;\n    this.historyRepository = historyRepository;\n  }\n\n}\n</code></pre>\n<p>I want to create the constructor of this class</p>\n<pre><code>public class CourseService extends CourseBase {\n\n  private CourseGroupService courseGroupService;\n  private MathRepository mathRepository;\n  private BiologyRepository biologyRepository;\n  private PhysicalRepository physicalRepository;\n  private EnglishRepository englishRepository;\n  private AlgebraRepository algebraRepository;\n  private TrigonometryRepository trigonometryRepository;\n  private ChemistryRepository chemistryRepository;\n  private AnatomyRepository anatomyRepository;\n  private HistoryRepository historyRepository;\n  private CourseBaseOneRepository courseBaseOneRepository;\n  private CourseBaseTwoRepository courseBaseTwoRepository;\n  \n  public CourseService(\n    CourseBaseOneRepository courseBaseOneRepository,\n    CourseBaseTwoRepository courseBaseTwoRepository\n  ) {\n  super(courseBaseOneRepository, courseBaseTwoRepository);\n    this.courseGroupService = new courseGroupService (this.mathRepository,...,this.historyRepository); \n  }\n  ...\n\n}\n</code></pre>\n<p>The problem is this.mathRepository,..., this.historyRepository are not initialized. How can i initialize all this parameters without put them in the constructor. My goal is to have a constructor CourseService with 3 parameters .</p>\n<p>How can i do this ?</p>\n"},{"tags":["java","spring","spring-boot","spring-aspects"],"answers":[{"tags":[],"owner":{"account_id":8976317,"reputation":1645,"user_id":6693037,"display_name":"Mehrdad HosseinNejad Yami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1579299141,"creation_date":1579292714,"answer_id":59794393,"question_id":59794092,"body_markdown":"**Edited**\n\nYou can use **java reflection** to dynamically set `BaseDto` object to `entity` field.\n\n&gt; **1- Iterate through fields of `entity`**.\n&gt;\n&gt; - Check fields type (must equal to `BaseDto.class`)\n&gt;\n&gt; **2- set accessibility of the checked field to `true`**.\n&gt;\n&gt; **3- set `new BaseDto()` to field**.\n\n\n   \n\n    @AfterReturning(pointcut = &quot;servicePointCut()&quot;, returning = &quot;entity&quot;)\n    public void afterReturningAdvice(JoinPoint joinPoint, Object entity) throws IllegalAccessException \n    \n    {\n\n        //Iterate through fields of entity\n        for (Field field : entity.getClass().getDeclaredFields()) {\n\n            //Check type of field (equals to BaseDto.class)\n            if (field.getType().equals(BaseDto.class)) {\n\n                //Set accessibility of field to true\n                field.setAccessible(true);\n                \n                //Set new BaseDto to entityobject\n                BaseDto baseDto = new BaseDto();\n                field.set(entity, baseDto);\n            }\n         \n        }\n    \n     //Rest of afterReturningAdvice method ...\n    }\n","title":"Spring aspect how to update a common field across multiple objects","body":"<p><strong>Edited</strong></p>\n<p>You can use <strong>java reflection</strong> to dynamically set <code>BaseDto</code> object to <code>entity</code> field.</p>\n<blockquote>\n<p><strong>1- Iterate through fields of <code>entity</code></strong>.</p>\n<ul>\n<li>Check fields type (must equal to <code>BaseDto.class</code>)</li>\n</ul>\n<p><strong>2- set accessibility of the checked field to <code>true</code></strong>.</p>\n<p><strong>3- set <code>new BaseDto()</code> to field</strong>.</p>\n</blockquote>\n<pre><code>@AfterReturning(pointcut = &quot;servicePointCut()&quot;, returning = &quot;entity&quot;)\npublic void afterReturningAdvice(JoinPoint joinPoint, Object entity) throws IllegalAccessException \n\n{\n\n    //Iterate through fields of entity\n    for (Field field : entity.getClass().getDeclaredFields()) {\n\n        //Check type of field (equals to BaseDto.class)\n        if (field.getType().equals(BaseDto.class)) {\n\n            //Set accessibility of field to true\n            field.setAccessible(true);\n            \n            //Set new BaseDto to entityobject\n            BaseDto baseDto = new BaseDto();\n            field.set(entity, baseDto);\n        }\n     \n    }\n\n //Rest of afterReturningAdvice method ...\n}\n</code></pre>\n"}],"owner":{"account_id":7693044,"reputation":1702,"user_id":5828621,"accept_rate":37,"display_name":"JDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":765,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59794393,"answer_count":1,"score":1,"last_activity_date":1688634893,"creation_date":1579291043,"question_id":59794092,"body_markdown":"I am writing a Spring aspect and looking for a way to update a field on the returning object\r\n\r\nMy Dto&#39;s\r\n\r\n    @Getter\r\n    @Setter\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class BaseDto{\r\n       LocalDateTime testTime;\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class TestDto{\r\n      private BaseDto baseDtol\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    @SuperBuilder\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class SampleDto{\r\n      private BaseDto baseDtol\r\n    }\r\n\r\nMy converters classes:\r\n    \r\n    @TestAnnotation\r\n    public TestDto covert(){\r\n      return new TestDto()\r\n    }\r\n\r\n    @TestAnnotation\r\n    public SampleDto covert(){\r\n      return new SampleDto()\r\n    }\r\n\r\n\r\n\r\nAspect:\r\n\r\n    @Aspect\r\n    @Component\r\n    public class TestAspect {\r\n       @AfterReturning(value = &quot;@annotation(TestAnnotation)&quot;, returning = &quot;entity&quot;)\r\n       public void test(JoinPoint joinPoint, Object entity){\r\n          //Looking for a way to set BaseDto in the TestDto and SampleDto objects\r\n       }\r\n    }\r\n\r\nMy aspect would be called from the converters class and returning objects can be SampleDto and TestDto. I am looking for a way to set the BaseDto object in them.\r\n\r\n","title":"Spring aspect how to update a common field across multiple objects","body":"<p>I am writing a Spring aspect and looking for a way to update a field on the returning object</p>\n<p>My Dto's</p>\n<pre><code>@Getter\n@Setter\n@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class BaseDto{\n   LocalDateTime testTime;\n}\n\n@Getter\n@Setter\n@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class TestDto{\n  private BaseDto baseDtol\n}\n\n@Getter\n@Setter\n@SuperBuilder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class SampleDto{\n  private BaseDto baseDtol\n}\n</code></pre>\n<p>My converters classes:</p>\n<pre><code>@TestAnnotation\npublic TestDto covert(){\n  return new TestDto()\n}\n\n@TestAnnotation\npublic SampleDto covert(){\n  return new SampleDto()\n}\n</code></pre>\n<p>Aspect:</p>\n<pre><code>@Aspect\n@Component\npublic class TestAspect {\n   @AfterReturning(value = &quot;@annotation(TestAnnotation)&quot;, returning = &quot;entity&quot;)\n   public void test(JoinPoint joinPoint, Object entity){\n      //Looking for a way to set BaseDto in the TestDto and SampleDto objects\n   }\n}\n</code></pre>\n<p>My aspect would be called from the converters class and returning objects can be SampleDto and TestDto. I am looking for a way to set the BaseDto object in them.</p>\n"},{"tags":["java","spring-boot","elasticsearch","fluentd","efk"],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688634493,"creation_date":1688634493,"question_id":76627227,"body_markdown":"I print the logs as follows. I want to index for fields such as traceid, guid. How can I do this with a configuration in fluentd and elasticseeach?\r\n\r\n**Java logger**\r\n\r\n    stringBuilder.append(&quot;guid=[&quot;).append((guid == null ? &quot;&quot; : guid)).append(&quot;] &quot;);\r\n    stringBuilder.append(&quot;traceid=[&quot;).append(tracer.currentSpan().context().traceId()).append(&quot;] &quot;);\r\n    stringBuilder.append(&quot;spanid=[&quot;).append(tracer.currentSpan().context().spanId()).append(&quot;] &quot;);\r\n    stringBuilder.append(&quot;method=[&quot;).append(request.getMethod()).append(&quot;] &quot;);\r\n    stringBuilder.append(&quot;path=[&quot;).append(request.getRequestURI()).append(&quot;] &quot;);\r\n    logger.info(stringBuilder.toString());\r\n\r\nfluentd configuration file\r\n\r\n    apiVersion: v1\r\n    data:\r\n      01_sources.conf: |-\r\n        ## logs from podman\r\n        &lt;source&gt;\r\n          @type tail\r\n          @id in_tail_container_logs\r\n          @label @KUBERNETES\r\n          path /var/log/containers/*auth*.log\r\n          pos_file /var/log/fluentd-containers.log.pos\r\n          tag kubernetes.*\r\n          read_from_head true\r\n          &lt;parse&gt;\r\n            @type multi_format\r\n            &lt;pattern&gt;\r\n              format json\r\n              time_key time\r\n              time_type string\r\n              time_format &quot;%Y-%m-%dT%H:%M:%S.%NZ&quot;\r\n              keep_time_key false\r\n            &lt;/pattern&gt;\r\n            &lt;pattern&gt;\r\n              format regexp\r\n              expression /^(?&lt;time&gt;.+) (?&lt;stream&gt;stdout|stderr)( (.))? (?&lt;log&gt;.*)$/\r\n              time_format &#39;%Y-%m-%dT%H:%M:%S.%NZ&#39;\r\n              keep_time_key false\r\n            &lt;/pattern&gt;\r\n          &lt;/parse&gt;\r\n          emit_unmatched_lines true\r\n        &lt;/source&gt;\r\n    04_outputs.conf: |-\r\n        &lt;label @OUTPUT&gt;\r\n          &lt;match **&gt;\r\n            @type elasticsearch\r\n            host &quot;elasticsearch-master&quot;\r\n            port 9200\r\n            user elastic\r\n            index_name fluentd-${time.strftime(&#39;%Y.%m.%d&#39;)}\r\n            logstash_format true\r\n            logstash_prefix fluentd\r\n            logstash_dateformat %Y%m%d\r\n          &lt;/match&gt;\r\n        &lt;/label&gt;\r\n\r\nHow can I do?","title":"Indexing by traceid and guid[EFK, Elasticsearch, Fluentd]","body":"<p>I print the logs as follows. I want to index for fields such as traceid, guid. How can I do this with a configuration in fluentd and elasticseeach?</p>\n<p><strong>Java logger</strong></p>\n<pre><code>stringBuilder.append(&quot;guid=[&quot;).append((guid == null ? &quot;&quot; : guid)).append(&quot;] &quot;);\nstringBuilder.append(&quot;traceid=[&quot;).append(tracer.currentSpan().context().traceId()).append(&quot;] &quot;);\nstringBuilder.append(&quot;spanid=[&quot;).append(tracer.currentSpan().context().spanId()).append(&quot;] &quot;);\nstringBuilder.append(&quot;method=[&quot;).append(request.getMethod()).append(&quot;] &quot;);\nstringBuilder.append(&quot;path=[&quot;).append(request.getRequestURI()).append(&quot;] &quot;);\nlogger.info(stringBuilder.toString());\n</code></pre>\n<p>fluentd configuration file</p>\n<pre><code>apiVersion: v1\ndata:\n  01_sources.conf: |-\n    ## logs from podman\n    &lt;source&gt;\n      @type tail\n      @id in_tail_container_logs\n      @label @KUBERNETES\n      path /var/log/containers/*auth*.log\n      pos_file /var/log/fluentd-containers.log.pos\n      tag kubernetes.*\n      read_from_head true\n      &lt;parse&gt;\n        @type multi_format\n        &lt;pattern&gt;\n          format json\n          time_key time\n          time_type string\n          time_format &quot;%Y-%m-%dT%H:%M:%S.%NZ&quot;\n          keep_time_key false\n        &lt;/pattern&gt;\n        &lt;pattern&gt;\n          format regexp\n          expression /^(?&lt;time&gt;.+) (?&lt;stream&gt;stdout|stderr)( (.))? (?&lt;log&gt;.*)$/\n          time_format '%Y-%m-%dT%H:%M:%S.%NZ'\n          keep_time_key false\n        &lt;/pattern&gt;\n      &lt;/parse&gt;\n      emit_unmatched_lines true\n    &lt;/source&gt;\n04_outputs.conf: |-\n    &lt;label @OUTPUT&gt;\n      &lt;match **&gt;\n        @type elasticsearch\n        host &quot;elasticsearch-master&quot;\n        port 9200\n        user elastic\n        index_name fluentd-${time.strftime('%Y.%m.%d')}\n        logstash_format true\n        logstash_prefix fluentd\n        logstash_dateformat %Y%m%d\n      &lt;/match&gt;\n    &lt;/label&gt;\n</code></pre>\n<p>How can I do?</p>\n"},{"tags":["java","google-api","firebase-cloud-messaging","wildfly","guava"],"answers":[{"tags":[],"owner":{"account_id":20291563,"reputation":13,"user_id":14883119,"display_name":"Geoffrey Aulombard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688634124,"creation_date":1688493082,"answer_id":76614910,"question_id":76446734,"body_markdown":"I have solved my issue by adding the following `jarModule` under `build/plugins/configuration/module` in my ear pom file.\r\n\r\n    &lt;jarModule&gt;\r\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n    &lt;/jarModule&gt;\r\n\r\n","title":"FIrebase - java.lang.NoSuchMethodError: com.google.common.io.ByteStreams.exhaust(Ljava/io/InputStream;)J","body":"<p>I have solved my issue by adding the following <code>jarModule</code> under <code>build/plugins/configuration/module</code> in my ear pom file.</p>\n<pre><code>&lt;jarModule&gt;\n    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n    &lt;artifactId&gt;guava&lt;/artifactId&gt;\n&lt;/jarModule&gt;\n</code></pre>\n"}],"owner":{"account_id":20291563,"reputation":13,"user_id":14883119,"display_name":"Geoffrey Aulombard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688634124,"creation_date":1686408791,"question_id":76446734,"body_markdown":"i&#39;m working on a feature using google firebase cloud messaging to send notifications. It&#39;s a eclipse JEE java project using maven and ear deployment. I&#39;m getting troubles trying to fetch my acces token from my json file using GoogleCredentials.\r\n\r\nHere my piece of code, pretty simple for now. \r\n\r\n\r\n```\r\nprivate String getAccessToken(String keyName) throws IOException, ServiceException {\r\n\t\ttry {\r\n\r\n\t\t\tString keyPath = &quot;&quot; + System.getProperty(&quot;jboss.server.config.dir&quot;) + &quot;/gfpconfiguration/&quot; + keyName\r\n\t\t\t\t\t+ &quot;.json&quot;;\r\n\r\n\t\t\tFileInputStream file = new FileInputStream(keyPath);\r\n\r\n\t\t\tGoogleCredentials googleCredentials = GoogleCredentials.fromStream(file)\r\n\t\t\t\t\t.createScoped(Collections.singletonList(&quot;https://www.googleapis.com/auth/firebase.messaging&quot;));\r\n\r\n\t\t\tgoogleCredentials.refreshIfExpired();\r\n\t\t\treturn googleCredentials.getAccessToken().getTokenValue();\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(e.getMessage(), e);\r\n\t\t\tthrow new ServiceException(e);\r\n\t\t}\r\n\t}\r\n```\r\n\r\nWhen i&#39;m running this on my local server (wildfly), i&#39;m getting this error :\r\n\r\n\r\n```\r\n16:24:56,777 INFO  [stdout] (DefaultQuartzScheduler_Worker-3) Caused by: java.lang.NoSuchMethodError: com.google.common.io.ByteStreams.exhaust(Ljava/io/InputStream;)J\r\n\r\n16:24:56,777 INFO  [stdout] (DefaultQuartzScheduler_Worker-3) \tat com.google.api.client.http.ConsumingInputStream.close(ConsumingInputStream.java:40) ~[google-http-client-1.42.2.jar:1.42.2]\r\n\r\n16:24:56,777 INFO  [stdout] (DefaultQuartzScheduler_Worker-3) \tat java.io.FilterInputStream.close(FilterInputStream.java:181) ~[?:1.8.0_231]\r\n\r\n```\r\n\r\nI&#39;m thinking about a dependency probleme, but no idea how to solve it. The weird thing is when I run my unit test everything is fine, I can get a valid token from the json file.\r\n\r\nI read lot&#39;s of topics about this and all lead to a guava dependancy problem (maybe not). Here i my dependency hierarchy.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/fJNxt.png)](https://i.stack.imgur.com/fJNxt.png)\r\n\r\nIf I isolate this piece of code in normal simple java project, everything is also fine. Hope that someone have an idea of what&#39;s happenning. I&#39;m pretty stuck. Let me know if you need more information/context.\r\n\r\n\r\n\r\n\r\n\r\nI tried lot&#39;s of thing, changed version of firebase, guava, exclude guava from firebase dependancy, managed dependency... Also tried with this\r\n\r\n    byte[] tempByte = Files.readAllBytes(Paths.get(keyPath));\r\n\t\t\tByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(tempByte);\r\n\r\nstill the same problem.","title":"FIrebase - java.lang.NoSuchMethodError: com.google.common.io.ByteStreams.exhaust(Ljava/io/InputStream;)J","body":"<p>i'm working on a feature using google firebase cloud messaging to send notifications. It's a eclipse JEE java project using maven and ear deployment. I'm getting troubles trying to fetch my acces token from my json file using GoogleCredentials.</p>\n<p>Here my piece of code, pretty simple for now.</p>\n<pre><code>private String getAccessToken(String keyName) throws IOException, ServiceException {\n        try {\n\n            String keyPath = &quot;&quot; + System.getProperty(&quot;jboss.server.config.dir&quot;) + &quot;/gfpconfiguration/&quot; + keyName\n                    + &quot;.json&quot;;\n\n            FileInputStream file = new FileInputStream(keyPath);\n\n            GoogleCredentials googleCredentials = GoogleCredentials.fromStream(file)\n                    .createScoped(Collections.singletonList(&quot;https://www.googleapis.com/auth/firebase.messaging&quot;));\n\n            googleCredentials.refreshIfExpired();\n            return googleCredentials.getAccessToken().getTokenValue();\n        } catch (Exception e) {\n            log.error(e.getMessage(), e);\n            throw new ServiceException(e);\n        }\n    }\n</code></pre>\n<p>When i'm running this on my local server (wildfly), i'm getting this error :</p>\n<pre><code>16:24:56,777 INFO  [stdout] (DefaultQuartzScheduler_Worker-3) Caused by: java.lang.NoSuchMethodError: com.google.common.io.ByteStreams.exhaust(Ljava/io/InputStream;)J\n\n16:24:56,777 INFO  [stdout] (DefaultQuartzScheduler_Worker-3)   at com.google.api.client.http.ConsumingInputStream.close(ConsumingInputStream.java:40) ~[google-http-client-1.42.2.jar:1.42.2]\n\n16:24:56,777 INFO  [stdout] (DefaultQuartzScheduler_Worker-3)   at java.io.FilterInputStream.close(FilterInputStream.java:181) ~[?:1.8.0_231]\n\n</code></pre>\n<p>I'm thinking about a dependency probleme, but no idea how to solve it. The weird thing is when I run my unit test everything is fine, I can get a valid token from the json file.</p>\n<p>I read lot's of topics about this and all lead to a guava dependancy problem (maybe not). Here i my dependency hierarchy.</p>\n<p><a href=\"https://i.stack.imgur.com/fJNxt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fJNxt.png\" alt=\"enter image description here\" /></a></p>\n<p>If I isolate this piece of code in normal simple java project, everything is also fine. Hope that someone have an idea of what's happenning. I'm pretty stuck. Let me know if you need more information/context.</p>\n<p>I tried lot's of thing, changed version of firebase, guava, exclude guava from firebase dependancy, managed dependency... Also tried with this</p>\n<pre><code>byte[] tempByte = Files.readAllBytes(Paths.get(keyPath));\n        ByteArrayInputStream byteArrayInputStream = new ByteArrayInputStream(tempByte);\n</code></pre>\n<p>still the same problem.</p>\n"},{"tags":["java","rust","java-native-interface"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688632900,"post_id":76626752,"comment_id":135100716,"body_markdown":"JNI doesn&#39;t deal in &#39;raw pointers&#39;. It deals in &#39;local references&#39;, which don&#39;t survive the JNI call unless returned to the calling Java method, in which case you can get a reference to the same object back again in another JNI call ... but not necessarily with the same bitwise value of the reference. As long as you don&#39;t store `jobject` values statically on the JNI side there is no cause for alarm.","body":"JNI doesn&#39;t deal in &#39;raw pointers&#39;. It deals in &#39;local references&#39;, which don&#39;t survive the JNI call unless returned to the calling Java method, in which case you can get a reference to the same object back again in another JNI call ... but not necessarily with the same bitwise value of the reference. As long as you don&#39;t store <code>jobject</code> values statically on the JNI side there is no cause for alarm."},{"owner":{"account_id":3393805,"reputation":497,"user_id":2848005,"accept_rate":64,"display_name":"py_ios_dev"},"score":0,"creation_date":1688633194,"post_id":76626752,"comment_id":135100774,"body_markdown":"I don&#39;t follow your comment 100%. can you clarify what you mean by not necessarily with the same bitwise value? If i have a java singleton pointing to a specific location on the native heap, then that should always return the same bitwise value, isn&#39;t it?","body":"I don&#39;t follow your comment 100%. can you clarify what you mean by not necessarily with the same bitwise value? If i have a java singleton pointing to a specific location on the native heap, then that should always return the same bitwise value, isn&#39;t it?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688633451,"post_id":76626752,"comment_id":135100830,"body_markdown":"Nothing &#39;point[s] to a specific location on the native heap&#39;. JNI can only see values of type `jobject`, which are *not* &#39;raw pointers&#39;. They are indirections, as described in the JNI Specification. If you do `jobject object = env-&gt;NewObject(...)` and then return `object` to Java, it will receive it as an object reference that it can then supply to another JNI call. The `jobject` value received by that 2nd call may or may not be bitwise identical to the first one, but it will still refer to the same object. You need to have a good look at the JNI Specification.","body":"Nothing &#39;point[s] to a specific location on the native heap&#39;. JNI can only see values of type <code>jobject</code>, which are <i>not</i> &#39;raw pointers&#39;. They are indirections, as described in the JNI Specification. If you do <code>jobject object = env-&gt;NewObject(...)</code> and then return <code>object</code> to Java, it will receive it as an object reference that it can then supply to another JNI call. The <code>jobject</code> value received by that 2nd call may or may not be bitwise identical to the first one, but it will still refer to the same object. You need to have a good look at the JNI Specification."},{"owner":{"account_id":3393805,"reputation":497,"user_id":2848005,"accept_rate":64,"display_name":"py_ios_dev"},"score":0,"creation_date":1688634835,"post_id":76626752,"comment_id":135101160,"body_markdown":"https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/design.html -&gt; I read this. so, if the registry is deleted then the reference(s) are gone. however, if there is a global reference (i.e., a singleton), then the boxed object should be identical across jni calls.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/design.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/&hellip;</a> -&gt; I read this. so, if the registry is deleted then the reference(s) are gone. however, if there is a global reference (i.e., a singleton), then the boxed object should be identical across jni calls."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":2,"creation_date":1688634902,"post_id":76626752,"comment_id":135101172,"body_markdown":"Note: all this stuff about local and global references applies to *Java objects*. It has no bearing on your Rust object.","body":"Note: all this stuff about local and global references applies to <i>Java objects</i>. It has no bearing on your Rust object."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688635605,"post_id":76626752,"comment_id":135101337,"body_markdown":"@py_ios_dev You keep making baseless or meaningless assertions. Global references are not necessarily (references to) singletons. They are just object  references that you can store statically, up to a point. Weak references are better, but better still is not to use either: just return your references and get them back later in another JNI call. If you want a singleton pattern, store the reference on the Java side, not the JNI side.","body":"@py_ios_dev You keep making baseless or meaningless assertions. Global references are not necessarily (references to) singletons. They are just object  references that you can store statically, up to a point. Weak references are better, but better still is not to use either: just return your references and get them back later in another JNI call. If you want a singleton pattern, store the reference on the Java side, not the JNI side."}],"answers":[{"tags":[],"owner":{"account_id":10712475,"reputation":53979,"user_id":7884305,"display_name":"Chayim Friedman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688631822,"creation_date":1688631822,"answer_id":76626873,"question_id":76626752,"body_markdown":"You do not need to pin it.\r\n\r\n`Pin` is not a language guarantee; it is a library guarantee. It prevents Rust code from moving the value. If you will not move the value in Rust, it will not be moved. It will stay where it is silently and you can definitely rely on that.","title":"how to reuse objects between a java/rust service via JNI using raw pointer","body":"<p>You do not need to pin it.</p>\n<p><code>Pin</code> is not a language guarantee; it is a library guarantee. It prevents Rust code from moving the value. If you will not move the value in Rust, it will not be moved. It will stay where it is silently and you can definitely rely on that.</p>\n"},{"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688634098,"creation_date":1688634098,"answer_id":76627161,"question_id":76626752,"body_markdown":"Since you took great pains in disguising the address of your boxed object as a simple number, the JVM will not do anything special with that.\r\nIt is up to you to ensure that that address remains valid, which in this case mostly means not letting the Box be dropped. From what little I know of Rust, that means either calling `Box::into_raw` or `Box::leak`.","title":"how to reuse objects between a java/rust service via JNI using raw pointer","body":"<p>Since you took great pains in disguising the address of your boxed object as a simple number, the JVM will not do anything special with that.\nIt is up to you to ensure that that address remains valid, which in this case mostly means not letting the Box be dropped. From what little I know of Rust, that means either calling <code>Box::into_raw</code> or <code>Box::leak</code>.</p>\n"}],"owner":{"account_id":3393805,"reputation":497,"user_id":2848005,"accept_rate":64,"display_name":"py_ios_dev"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76627161,"answer_count":2,"score":-1,"last_activity_date":1688634098,"creation_date":1688630863,"question_id":76626752,"body_markdown":"I&#39;ve the following scenario. I&#39;ve a java service that talks to a rust service via JNI.\r\n\r\nI&#39;m planning to re-use an object across multiple jni calls. So, I&#39;m planning to create it in the first JNI call on the heap using a Box and return a raw pointer to the same. I intent to store it as a singleton in the java service. \r\n\r\nIn each call from java service to rust service , I intent to pass along the singleton(pointer) via JNI, and get a reference to the object using the raw pointer in rust and perform business logic.\r\n\r\nIs it guranteed that the pointer will always point to the correct object? or do I need to pin it so that it doesn&#39;t move?","title":"how to reuse objects between a java/rust service via JNI using raw pointer","body":"<p>I've the following scenario. I've a java service that talks to a rust service via JNI.</p>\n<p>I'm planning to re-use an object across multiple jni calls. So, I'm planning to create it in the first JNI call on the heap using a Box and return a raw pointer to the same. I intent to store it as a singleton in the java service.</p>\n<p>In each call from java service to rust service , I intent to pass along the singleton(pointer) via JNI, and get a reference to the object using the raw pointer in rust and perform business logic.</p>\n<p>Is it guranteed that the pointer will always point to the correct object? or do I need to pin it so that it doesn't move?</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-transactions"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1598356557,"post_id":63578295,"comment_id":112426460,"body_markdown":"`@Transactional` with Spring AOP won&#39;t work. It will only work for public methods and externally called methods. This is due to proxies being used to apply AOP.","body":"<code>@Transactional</code> with Spring AOP won&#39;t work. It will only work for public methods and externally called methods. This is due to proxies being used to apply AOP."},{"owner":{"account_id":2121852,"reputation":1019,"user_id":1884937,"accept_rate":52,"display_name":"henrycharles"},"score":0,"creation_date":1598358687,"post_id":63578295,"comment_id":112427675,"body_markdown":"@M.Deinum I have tried making private method to public but applying in @Transactional(propagation = Propagation.REQUIRES_NEW) over getOldEmployee() method doesn&#39;t work calling employeeRepository.findById(employee.getId());gives only latest value which is being passed not from database","body":"@M.Deinum I have tried making private method to public but applying in @Transactional(propagation = Propagation.REQUIRES_NEW) over getOldEmployee() method doesn&#39;t work calling employeeRepository.findById(employee.getId());gives only latest value which is being passed not from database"},{"owner":{"account_id":2121852,"reputation":1019,"user_id":1884937,"accept_rate":52,"display_name":"henrycharles"},"score":0,"creation_date":1598358785,"post_id":63578295,"comment_id":112427725,"body_markdown":"@M.Deinum But if i apply @Transactional(propagation = Propagation.REQUIRES_NEW)  over preUpdateEvent method it works calling employeeRepository.findById(employee.getId()); is giving me value from database","body":"@M.Deinum But if i apply @Transactional(propagation = Propagation.REQUIRES_NEW)  over preUpdateEvent method it works calling employeeRepository.findById(employee.getId()); is giving me value from database"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1598358850,"post_id":63578295,"comment_id":112427756,"body_markdown":"As stated that won&#39;t work either because it is an internal method call.","body":"As stated that won&#39;t work either because it is an internal method call."}],"answers":[{"tags":[],"owner":{"account_id":12495309,"reputation":11902,"user_id":9095551,"display_name":"Beppe C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598356862,"creation_date":1598356862,"answer_id":63578416,"question_id":63578295,"body_markdown":"Spring applies the Transactional settings only on **public** methods, in other case the settings are ignored.  \r\nFrom Spring documentation:  \r\n\r\n&gt; When using proxies, you should apply the @Transactional annotation\r\n&gt; only to methods with public visibility.","title":"Transactional(propagation = Propagation.REQUIRES_NEW) not opening a new transaction in private method getting same value passed as parameter","body":"<p>Spring applies the Transactional settings only on <strong>public</strong> methods, in other case the settings are ignored.<br />\nFrom Spring documentation:</p>\n<blockquote>\n<p>When using proxies, you should apply the @Transactional annotation\nonly to methods with public visibility.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688633760,"creation_date":1688633760,"answer_id":76627117,"question_id":63578295,"body_markdown":"It will only work for externally called methods, i.e., transaction methods should be present in another class and should be called from this class.\r\n\r\nMeaning that the transaction method has to be public as well because we cannot call a method of another class if that method is not public.\r\n\r\nSo if you call local methods of the same class directly, Spring will not be able to do the proxy magic that is needed for Transaction functionality.","title":"Transactional(propagation = Propagation.REQUIRES_NEW) not opening a new transaction in private method getting same value passed as parameter","body":"<p>It will only work for externally called methods, i.e., transaction methods should be present in another class and should be called from this class.</p>\n<p>Meaning that the transaction method has to be public as well because we cannot call a method of another class if that method is not public.</p>\n<p>So if you call local methods of the same class directly, Spring will not be able to do the proxy magic that is needed for Transaction functionality.</p>\n"}],"owner":{"account_id":2121852,"reputation":1019,"user_id":1884937,"accept_rate":52,"display_name":"henrycharles"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2094,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688633760,"creation_date":1598356448,"question_id":63578295,"body_markdown":"I am using jpa entity listner class where and spring data repository . In @PreMethod update if I used `@Transactional(propagation = Propagation.REQUIRES_NEW)` I am getting data from the database directly. If  I use the same **transactional annotation** over private method(**getOldEmployee**) being `called inside @PreMethod` I am not getting the data from the database rather its using the same latest session data not sure why this behaviour is happening\r\n\r\n**Entity Class**\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;Employee&quot;)\r\n    @EntityListeners({EmployeeListener.class)\r\n    public class Employee extends AuditEntity implements Serializable {\r\n    \r\n    }\r\n\r\n\r\n**Listener class**\r\n\r\n \r\n\r\n     @Component\r\n     public class EmployeeListner{\r\n     \r\n     @Autowired\r\n     EmployeeRepository employeeRepository;\r\n    \r\n      @PreUpdate\r\n      @Transactional(propagation = Propagation.REQUIRES_NEW)   //if use here I get the employee database value before updating the database\r\n      public void preUpdateEvent(Employee employee) {\r\n        Employee employee=getOldEmployee(employee);\r\n      }\r\n    \r\n    \r\n      private Employee getOldEmployee(Employee employee) {     //if inspite of using  @Transactional(propagation = Propagation.REQUIRES_NEW) in @PreMethod if use here I am not getting the database value rather getting latest value\r\n        Optional&lt;Employee&gt; getOldEmployeeOptional =employeeRepository.findById(employee.getId());\r\n    \tgetOldEmployeeOptional  \r\n      }\r\n    }","title":"Transactional(propagation = Propagation.REQUIRES_NEW) not opening a new transaction in private method getting same value passed as parameter","body":"<p>I am using jpa entity listner class where and spring data repository . In @PreMethod update if I used <code>@Transactional(propagation = Propagation.REQUIRES_NEW)</code> I am getting data from the database directly. If  I use the same <strong>transactional annotation</strong> over private method(<strong>getOldEmployee</strong>) being <code>called inside @PreMethod</code> I am not getting the data from the database rather its using the same latest session data not sure why this behaviour is happening</p>\n<p><strong>Entity Class</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;Employee&quot;)\n@EntityListeners({EmployeeListener.class)\npublic class Employee extends AuditEntity implements Serializable {\n\n}\n</code></pre>\n<p><strong>Listener class</strong></p>\n<pre><code> @Component\n public class EmployeeListner{\n \n @Autowired\n EmployeeRepository employeeRepository;\n\n  @PreUpdate\n  @Transactional(propagation = Propagation.REQUIRES_NEW)   //if use here I get the employee database value before updating the database\n  public void preUpdateEvent(Employee employee) {\n    Employee employee=getOldEmployee(employee);\n  }\n\n\n  private Employee getOldEmployee(Employee employee) {     //if inspite of using  @Transactional(propagation = Propagation.REQUIRES_NEW) in @PreMethod if use here I am not getting the database value rather getting latest value\n    Optional&lt;Employee&gt; getOldEmployeeOptional =employeeRepository.findById(employee.getId());\n    getOldEmployeeOptional  \n  }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1688633356,"post_id":76627050,"comment_id":135100805,"body_markdown":"put some simple output like `System.out.println(&quot;Hello&quot;);` into that method after your loop and the  run it again with break and return and you will see the difference. One returns from the method, the other just breaks out of the loop.","body":"put some simple output like <code>System.out.println(&quot;Hello&quot;);</code> into that method after your loop and the  run it again with break and return and you will see the difference. One returns from the method, the other just breaks out of the loop."},{"owner":{"account_id":5907283,"reputation":1464,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1688633378,"post_id":76627050,"comment_id":135100813,"body_markdown":"depends, do you want to exit the method or do you want to end the loop?","body":"depends, do you want to exit the method or do you want to end the loop?"},{"owner":{"account_id":19537310,"reputation":1,"user_id":14295819,"display_name":"halinaaa"},"score":0,"creation_date":1688633438,"post_id":76627050,"comment_id":135100824,"body_markdown":"this code is must stop &quot;run&quot; method.","body":"this code is must stop &quot;run&quot; method."}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1688633420,"creation_date":1688633420,"answer_id":76627079,"question_id":76627050,"body_markdown":"In this case it works because `break` exits the loop and goes to the end of the method which immediately returns. Which is functionally equivalent to returning immediately.\r\n\r\nBut in this case, for example\r\n\r\n    void run(){ \r\n      while(true){\r\n        if(a&gt;0){\r\n        }else{return;}\r\n      }\r\n      System.out.println(&quot;Hello&quot;);\r\n    }\r\n\r\nvs \r\n\r\n    void run(){ \r\n      while(true){\r\n        if(a&gt;0){\r\n        }else{break;}\r\n      }\r\n      System.out.println(&quot;Hello&quot;);\r\n    }\r\n\r\nThe first version would not print, the second would","title":"when using java return vs break","body":"<p>In this case it works because <code>break</code> exits the loop and goes to the end of the method which immediately returns. Which is functionally equivalent to returning immediately.</p>\n<p>But in this case, for example</p>\n<pre><code>void run(){ \n  while(true){\n    if(a&gt;0){\n    }else{return;}\n  }\n  System.out.println(&quot;Hello&quot;);\n}\n</code></pre>\n<p>vs</p>\n<pre><code>void run(){ \n  while(true){\n    if(a&gt;0){\n    }else{break;}\n  }\n  System.out.println(&quot;Hello&quot;);\n}\n</code></pre>\n<p>The first version would not print, the second would</p>\n"}],"owner":{"account_id":19537310,"reputation":1,"user_id":14295819,"display_name":"halinaaa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":5,"up_vote_count":0,"closed_date":1688636512,"answer_count":1,"score":-5,"last_activity_date":1688633508,"creation_date":1688633251,"question_id":76627050,"body_markdown":"When have the source code like this:\r\n\r\n```java\r\nvoid run() { \r\n  while (true) {\r\n    if (a &gt; 0) {\r\n    } else {\r\n        return;\r\n    }\r\n  }\r\n}\r\n\r\n```\r\n\r\n\r\nThe &quot;else&quot; block has return, but when write down &quot;break;&quot;, it also works the same.\r\nSo I wonder a little more deep reason why using &quot;return;&quot; is more good code here.","title":"when using java return vs break","body":"<p>When have the source code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>void run() { \n  while (true) {\n    if (a &gt; 0) {\n    } else {\n        return;\n    }\n  }\n}\n\n</code></pre>\n<p>The &quot;else&quot; block has return, but when write down &quot;break;&quot;, it also works the same.\nSo I wonder a little more deep reason why using &quot;return;&quot; is more good code here.</p>\n"},{"tags":["java","spring","intellij-idea","spring-boot-actuator"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1688654325,"post_id":76627037,"comment_id":135105638,"body_markdown":"Please enable the &#39;Enable debug output&#39; checkbox for your Spring Boot run configuration in order to observe the Auto-configuration report provided by Spring Boot in the Console tab. It should help to ensure that endpoint beans were not initialized and why. If you can&#39;t find the issue, please contact support at https://intellij-support.jetbrains.com/hc/requests/new and share any sample project to reproduce this problem.","body":"Please enable the &#39;Enable debug output&#39; checkbox for your Spring Boot run configuration in order to observe the Auto-configuration report provided by Spring Boot in the Console tab. It should help to ensure that endpoint beans were not initialized and why. If you can&#39;t find the issue, please contact support at <a href=\"https://intellij-support.jetbrains.com/hc/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/requests/new</a> and share any sample project to reproduce this problem."}],"owner":{"account_id":26038502,"reputation":95,"user_id":19743660,"display_name":"programmer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688633137,"creation_date":1688633137,"question_id":76627037,"body_markdown":"IDEA version: 2022.2.5.\r\nI can&#39;t see any information in Run -&gt; Actuator tab (except Health).\r\nI am getting notifications after launching my Spring Boot 3 app:\r\n```\r\nFailed to retrieve &#39;mappings&#39; endpoint data\r\nFailed to retrieve application beans snapshot: :application=*\r\n```\r\n\r\nI am creating new app, in another existing app everything is fine. But my new app uses ```spring-boot-devtools``` dependency, maybe it is the reason. Although I removed this dependency, the problem remained.\r\n\r\nI opened actuator endpoints:\r\n```management.endpoints.web.exposure.include: info, ...```.\r\nI used option \r\n```-Djava.rmi.server.hostname=localhost``` but no result.\r\n\r\nWhat can be the reason, and how can I fix this?\r\n","title":"Why IntelliJ IDEA doesn&#39;t show actuator Beans and Mappings after running application?","body":"<p>IDEA version: 2022.2.5.\nI can't see any information in Run -&gt; Actuator tab (except Health).\nI am getting notifications after launching my Spring Boot 3 app:</p>\n<pre><code>Failed to retrieve 'mappings' endpoint data\nFailed to retrieve application beans snapshot: :application=*\n</code></pre>\n<p>I am creating new app, in another existing app everything is fine. But my new app uses <code>spring-boot-devtools</code> dependency, maybe it is the reason. Although I removed this dependency, the problem remained.</p>\n<p>I opened actuator endpoints:\n<code>management.endpoints.web.exposure.include: info, ...</code>.\nI used option\n<code>-Djava.rmi.server.hostname=localhost</code> but no result.</p>\n<p>What can be the reason, and how can I fix this?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1688580549,"post_id":76622917,"comment_id":135094069,"body_markdown":"You&#39;ve told us about &quot;line 51,&quot; but you haven&#39;t given us enough information to tell when line 51 gets invoked -- is it in `changeActivity`?  The implementation of `super.onResume`?","body":"You&#39;ve told us about &quot;line 51,&quot; but you haven&#39;t given us enough information to tell when line 51 gets invoked -- is it in <code>changeActivity</code>?  The implementation of <code>super.onResume</code>?"}],"answers":[{"tags":[],"owner":{"account_id":3986872,"reputation":76,"user_id":3287176,"display_name":"Pravin Tadvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688633058,"creation_date":1688633058,"answer_id":76627027,"question_id":76622917,"body_markdown":"Just initialized, `katefthinseisTomeis `, \r\n\r\nlike `public static String[] katefthinseisTomeis = new String[]{};`\r\n\r\nOR\r\n\r\nput whole code section of line 51, that is i think is `for loop` into `if condition` like...\r\n\r\n```\r\nif (katefthinseisTomeis != null){\r\n   for (String s: katefthinseisTomeis) {\r\n    ...\r\n   }\r\n}\r\n```\r\n","title":"How to properly use onResume with static variables in Android Java","body":"<p>Just initialized, <code>katefthinseisTomeis </code>,</p>\n<p>like <code>public static String[] katefthinseisTomeis = new String[]{};</code></p>\n<p>OR</p>\n<p>put whole code section of line 51, that is i think is <code>for loop</code> into <code>if condition</code> like...</p>\n<pre><code>if (katefthinseisTomeis != null){\n   for (String s: katefthinseisTomeis) {\n    ...\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":19068253,"reputation":178,"user_id":13922963,"display_name":"Thalis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688633058,"creation_date":1688579864,"question_id":76622917,"body_markdown":"I have made an app which uses a static variable: `public static String[] katefthinseisTomeis;`\r\nI am overriding the `onResume()` method as so:\r\n\r\n```\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        if (katefthinseisTomeis == null) {\r\n            changeActivity(this, LauncherActivity.class, R.anim.slide_in_left, R.anim.slide_out_right);\r\n        }\r\n    }\r\n```\r\n\r\nThis is line 51 where the following error I explain occurs\r\n```\r\nfor (String s: katefthinseisTomeis) {\r\n```\r\n\r\nSometimes I get this kind of error, telling me that `katefthinsiTomeis` is a null array\r\n```\r\nException java.lang.RuntimeException:\r\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3815)\r\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3977)\r\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:109)\r\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\r\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\r\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2374)\r\n  at android.os.Handler.dispatchMessage (Handler.java:106)\r\n  at android.os.Looper.loopOnce (Looper.java:233)\r\n  at android.os.Looper.loop (Looper.java:344)\r\n  at android.app.ActivityThread.main (ActivityThread.java:8249)\r\n  at java.lang.reflect.Method.invoke\r\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:589)\r\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1071)\r\nCaused by java.lang.NullPointerException: Attempt to get length of null array\r\n  at com.symplyapps.pernas.KatefthinsiActivity.getWidgets (KatefthinsiActivity.java:51)\r\n  at com.symplyapps.pernas.KatefthinsiActivity.onCreate (KatefthinsiActivity.java:43)\r\n  at android.app.Activity.performCreate (Activity.java:8130)\r\n  at android.app.Activity.performCreate (Activity.java:8110)\r\n  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1343)\r\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3781)\r\n```\r\n\r\nI am suspecting that my `if` statement does not actually run when I want it to because it comes after `super.onResume();` callback\r\n\r\nIs that the case?\r\nAm I using the `onResume` method correctly?\r\n\r\nThanks in advance!\r\n","title":"How to properly use onResume with static variables in Android Java","body":"<p>I have made an app which uses a static variable: <code>public static String[] katefthinseisTomeis;</code>\nI am overriding the <code>onResume()</code> method as so:</p>\n<pre><code>    @Override\n    public void onResume() {\n        super.onResume();\n        if (katefthinseisTomeis == null) {\n            changeActivity(this, LauncherActivity.class, R.anim.slide_in_left, R.anim.slide_out_right);\n        }\n    }\n</code></pre>\n<p>This is line 51 where the following error I explain occurs</p>\n<pre><code>for (String s: katefthinseisTomeis) {\n</code></pre>\n<p>Sometimes I get this kind of error, telling me that <code>katefthinsiTomeis</code> is a null array</p>\n<pre><code>Exception java.lang.RuntimeException:\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3815)\n  at android.app.ActivityThread.handleLaunchActivity (ActivityThread.java:3977)\n  at android.app.servertransaction.LaunchActivityItem.execute (LaunchActivityItem.java:109)\n  at android.app.servertransaction.TransactionExecutor.executeCallbacks (TransactionExecutor.java:135)\n  at android.app.servertransaction.TransactionExecutor.execute (TransactionExecutor.java:95)\n  at android.app.ActivityThread$H.handleMessage (ActivityThread.java:2374)\n  at android.os.Handler.dispatchMessage (Handler.java:106)\n  at android.os.Looper.loopOnce (Looper.java:233)\n  at android.os.Looper.loop (Looper.java:344)\n  at android.app.ActivityThread.main (ActivityThread.java:8249)\n  at java.lang.reflect.Method.invoke\n  at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run (RuntimeInit.java:589)\n  at com.android.internal.os.ZygoteInit.main (ZygoteInit.java:1071)\nCaused by java.lang.NullPointerException: Attempt to get length of null array\n  at com.symplyapps.pernas.KatefthinsiActivity.getWidgets (KatefthinsiActivity.java:51)\n  at com.symplyapps.pernas.KatefthinsiActivity.onCreate (KatefthinsiActivity.java:43)\n  at android.app.Activity.performCreate (Activity.java:8130)\n  at android.app.Activity.performCreate (Activity.java:8110)\n  at android.app.Instrumentation.callActivityOnCreate (Instrumentation.java:1343)\n  at android.app.ActivityThread.performLaunchActivity (ActivityThread.java:3781)\n</code></pre>\n<p>I am suspecting that my <code>if</code> statement does not actually run when I want it to because it comes after <code>super.onResume();</code> callback</p>\n<p>Is that the case?\nAm I using the <code>onResume</code> method correctly?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","heroku","playback"],"owner":{"account_id":7144348,"reputation":11,"user_id":5460672,"display_name":"Stefanos Lali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688632670,"creation_date":1688632670,"question_id":76626982,"body_markdown":"So I&#39;ve upgraded from Heroku:18 to Heroku:20 stack (Java backend - Play! 1.4.4 Framework).\r\n\r\nNow when I try to deploy new changes to Heroku - the build pipe fails with the following messages:\r\n\r\n\r\n    SyntaxError: Missing parentheses in call to &#39;print&#39;. Did you mean print(...)?\r\n    \r\n    Building Play! application at directory ./\r\n    \r\n    Resolving dependencies: .play/play dependencies ./ --forProd --forceCopy --silent -Duser.home=/tmp/build_ec5a0629 2&gt;&amp;1\r\n    \r\n    File &quot;/tmp/build_ec5a0629/.play/play&quot;, line 50\r\n    \r\n    print r&quot;~ _ _ &quot;\r\n    \r\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\r\n    \r\n    SyntaxError: Missing parentheses in call to &#39;print&#39;. Did you mean print(...)?\r\n    \r\n    Failed to build Play! application\r\n    \r\n    Cleared Play! framework from cache\r\n    \r\n    Push rejected, failed to compile Play! app.\r\n    \r\n    Push failed\r\n\r\nWhat is weird here - is that it seems like this is a Python error (print uses parenthesis in python3) - but I&#39;m not using Python even a single bit - anywhere in the project. This is pure Java project.\r\n\r\nI found in your docs something about moving from Python 2 to Python 3. Is that something that we should pay attention to? (keep in mind this is pure Java)\r\n\r\nWhat is going on here? Much appreciated on the help\r\n\r\n","title":"Upgrading to Heroku:20 stack - SyntaxError: Missing parentheses in call to &#39;print&#39;. Did you mean print(...)?","body":"<p>So I've upgraded from Heroku:18 to Heroku:20 stack (Java backend - Play! 1.4.4 Framework).</p>\n<p>Now when I try to deploy new changes to Heroku - the build pipe fails with the following messages:</p>\n<pre><code>SyntaxError: Missing parentheses in call to 'print'. Did you mean print(...)?\n\nBuilding Play! application at directory ./\n\nResolving dependencies: .play/play dependencies ./ --forProd --forceCopy --silent -Duser.home=/tmp/build_ec5a0629 2&gt;&amp;1\n\nFile &quot;/tmp/build_ec5a0629/.play/play&quot;, line 50\n\nprint r&quot;~ _ _ &quot;\n\n^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n\nSyntaxError: Missing parentheses in call to 'print'. Did you mean print(...)?\n\nFailed to build Play! application\n\nCleared Play! framework from cache\n\nPush rejected, failed to compile Play! app.\n\nPush failed\n</code></pre>\n<p>What is weird here - is that it seems like this is a Python error (print uses parenthesis in python3) - but I'm not using Python even a single bit - anywhere in the project. This is pure Java project.</p>\n<p>I found in your docs something about moving from Python 2 to Python 3. Is that something that we should pay attention to? (keep in mind this is pure Java)</p>\n<p>What is going on here? Much appreciated on the help</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":1150960,"reputation":1788,"user_id":1132699,"accept_rate":84,"display_name":"nitzanms"},"score":9,"creation_date":1444732301,"post_id":33100298,"comment_id":54015576,"body_markdown":"Is this your real email address? If so, you might want to consider changing it...","body":"Is this your real email address? If so, you might want to consider changing it..."}],"answers":[{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1444735813,"creation_date":1444732331,"answer_id":33100397,"question_id":33100298,"body_markdown":"Your Look-ahead is kind of complicated. Try this code :\r\n\r\n\tpublic static void main(String... args) throws Exception {\r\n\t\tString s = &quot;nileshkemse@gmail.com&quot;;\r\n\t\ts= s.replaceAll(&quot;(?&lt;=.{3}).(?=.*@)&quot;, &quot;*&quot;);\r\n\t\tSystem.out.println(s);\r\n\t}\r\n\r\nO/P :\r\n\r\n    nil********@gmail.com","title":"masking of email address in java","body":"<p>Your Look-ahead is kind of complicated. Try this code :</p>\n\n<pre><code>public static void main(String... args) throws Exception {\n    String s = \"nileshkemse@gmail.com\";\n    s= s.replaceAll(\"(?&lt;=.{3}).(?=.*@)\", \"*\");\n    System.out.println(s);\n}\n</code></pre>\n\n<p>O/P :</p>\n\n<pre><code>nil********@gmail.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1551252266,"creation_date":1444732371,"answer_id":33100406,"question_id":33100298,"body_markdown":"If you&#39;re bad at regular expressions, don&#39;t use them :) I don&#39;t know if you&#39;ve ever heard the quote:\r\n\r\n&gt; Some people, when confronted with a problem, think \r\n&quot;I know, I&#39;ll use regular expressions.&quot;   Now they have two problems.\r\n\r\n([source](https://en.wikiquote.org/wiki/Jamie_Zawinski))\r\n\r\nYou might get a working regular expression here, but will you understand it today? tomorrow? in six months&#39; time? And will your colleagues?\r\n\r\nAn easy alternative is using a `StringBuilder`, and I&#39;d argue that it&#39;s a lot more straightforward to understand what is going on here:\r\n\r\n    StringBuilder sb = new StringBuilder(email);\r\n    for (int i = 3; i &lt; sb.length() &amp;&amp; sb.charAt(i) != &#39;@&#39;; ++i) {\r\n      sb.setCharAt(i, &#39;*&#39;);\r\n    }\r\n    email = sb.toString();\r\n\r\n&quot;Starting at the third character, replace the characters with a `*` until you reach the end of the string or `@`.&quot;\n\n(You don&#39;t even need to use `StringBuilder`: you could simply manipulate the elements of `email.toCharArray()`, then construct a new string at the end).\n\nOf course, this doesn&#39;t work correctly for email addresses where the local part is shorter than 3 characters - it would actually then mask the domain.","title":"masking of email address in java","body":"<p>If you're bad at regular expressions, don't use them :) I don't know if you've ever heard the quote:</p>\n\n<blockquote>\n  <p>Some people, when confronted with a problem, think \n  \"I know, I'll use regular expressions.\"   Now they have two problems.</p>\n</blockquote>\n\n<p>(<a href=\"https://en.wikiquote.org/wiki/Jamie_Zawinski\" rel=\"noreferrer\">source</a>)</p>\n\n<p>You might get a working regular expression here, but will you understand it today? tomorrow? in six months' time? And will your colleagues?</p>\n\n<p>An easy alternative is using a <code>StringBuilder</code>, and I'd argue that it's a lot more straightforward to understand what is going on here:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder(email);\nfor (int i = 3; i &lt; sb.length() &amp;&amp; sb.charAt(i) != '@'; ++i) {\n  sb.setCharAt(i, '*');\n}\nemail = sb.toString();\n</code></pre>\n\n<p>\"Starting at the third character, replace the characters with a <code>*</code> until you reach the end of the string or <code>@</code>.\"</p>\n\n<p>(You don't even need to use <code>StringBuilder</code>: you could simply manipulate the elements of <code>email.toCharArray()</code>, then construct a new string at the end).</p>\n\n<p>Of course, this doesn't work correctly for email addresses where the local part is shorter than 3 characters - it would actually then mask the domain.</p>\n"},{"tags":[],"owner":{"account_id":4739783,"reputation":612574,"user_id":3832970,"display_name":"Wiktor Stribiew"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1444734134,"creation_date":1444732634,"answer_id":33100497,"question_id":33100298,"body_markdown":"Your look-ahead `(?=[^@]*?.@)` requires at least 1 character to be there in front of `@` (see the dot before `@`).\r\n\r\nIf you remove it, you will get all the expected symbols replaced:\r\n\r\n    (?&lt;=.{3}).(?=[^@]*?@)\r\n\r\nHere is [the regex demo][1] (replace with `*`).\r\n\r\nHowever, the regex is not a proper regex for the task. You need a regex that will match each character after the first 3 characters up to the first `@`:\r\n\r\n    (^[^@]{3}|(?!^)\\G)[^@]\r\n\r\nSee [another regex demo][2], replace with `$1*`. Here, `[^@]` matches any character that is not `@`, so we do not match addresses like `abc@example.com`. Only those emails will be masked that have 4+ characters in the username part.\r\n\r\nSee [IDEONE demo][3]:\r\n\r\n    String s = &quot;nileshkemse@gmail.com&quot;;\r\n\tSystem.out.println(s.replaceAll(&quot;(^[^@]{3}|(?!^)\\\\G)[^@]&quot;, &quot;$1*&quot;));\r\n\r\n\r\n  [1]: https://regex101.com/r/vZ2jV5/1\r\n  [2]: https://regex101.com/r/vZ2jV5/4\r\n  [3]: http://ideone.com/xH4ijS","title":"masking of email address in java","body":"<p>Your look-ahead <code>(?=[^@]*?.@)</code> requires at least 1 character to be there in front of <code>@</code> (see the dot before <code>@</code>).</p>\n\n<p>If you remove it, you will get all the expected symbols replaced:</p>\n\n<pre><code>(?&lt;=.{3}).(?=[^@]*?@)\n</code></pre>\n\n<p>Here is <a href=\"https://regex101.com/r/vZ2jV5/1\" rel=\"noreferrer\">the regex demo</a> (replace with <code>*</code>).</p>\n\n<p>However, the regex is not a proper regex for the task. You need a regex that will match each character after the first 3 characters up to the first <code>@</code>:</p>\n\n<pre><code>(^[^@]{3}|(?!^)\\G)[^@]\n</code></pre>\n\n<p>See <a href=\"https://regex101.com/r/vZ2jV5/4\" rel=\"noreferrer\">another regex demo</a>, replace with <code>$1*</code>. Here, <code>[^@]</code> matches any character that is not <code>@</code>, so we do not match addresses like <code>abc@example.com</code>. Only those emails will be masked that have 4+ characters in the username part.</p>\n\n<p>See <a href=\"http://ideone.com/xH4ijS\" rel=\"noreferrer\">IDEONE demo</a>:</p>\n\n<pre><code>String s = \"nileshkemse@gmail.com\";\nSystem.out.println(s.replaceAll(\"(^[^@]{3}|(?!^)\\\\G)[^@]\", \"$1*\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1083604,"reputation":9098,"user_id":1079877,"accept_rate":61,"display_name":"user1079877"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1529819417,"creation_date":1529819417,"answer_id":51007284,"question_id":33100298,"body_markdown":"I like this one because I just want to hide 4 characters, it also dynamically decrease the hidden chars to 2 if the email address is too short:\r\n\r\n    public static String maskEmailAddress(final String email) {\r\n        final String mask = &quot;*****&quot;;\r\n        final int at = email.indexOf(&quot;@&quot;);\r\n        if (at &gt; 2) {\r\n            final int maskLen = Math.min(Math.max(at / 2, 2), 4);\r\n            final int start = (at - maskLen) / 2;\r\n            return email.substring(0, start) + mask.substring(0, maskLen) + email.substring(start + maskLen);\r\n        }\r\n        return email;\r\n    }\r\n\r\nSample outputs:\r\n\r\n    my.email@gmail.com    &gt;    my****il@gmail.com\r\n    info@mail.com         &gt;    i**o@mail.com","title":"masking of email address in java","body":"<p>I like this one because I just want to hide 4 characters, it also dynamically decrease the hidden chars to 2 if the email address is too short:</p>\n\n<pre><code>public static String maskEmailAddress(final String email) {\n    final String mask = \"*****\";\n    final int at = email.indexOf(\"@\");\n    if (at &gt; 2) {\n        final int maskLen = Math.min(Math.max(at / 2, 2), 4);\n        final int start = (at - maskLen) / 2;\n        return email.substring(0, start) + mask.substring(0, maskLen) + email.substring(start + maskLen);\n    }\n    return email;\n}\n</code></pre>\n\n<p>Sample outputs:</p>\n\n<pre><code>my.email@gmail.com    &gt;    my****il@gmail.com\ninfo@mail.com         &gt;    i**o@mail.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3385111,"reputation":718,"user_id":2841217,"display_name":"Ajay Prajapati"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1560333604,"creation_date":1560333604,"answer_id":56559429,"question_id":33100298,"body_markdown":"    //In Kotlin\r\n\r\n    val email = &quot;nileshkemse@gmail.com&quot;\r\n    val maskedEmail = email.replace(Regex(&quot;(?&lt;=.{3}).(?=.*@)&quot;), &quot;*&quot;)","title":"masking of email address in java","body":"<pre><code>//In Kotlin\n\nval email = \"nileshkemse@gmail.com\"\nval maskedEmail = email.replace(Regex(\"(?&lt;=.{3}).(?=.*@)\"), \"*\")\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4723973,"reputation":63,"user_id":3821160,"accept_rate":0,"display_name":"Deep"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1570428636,"creation_date":1570427921,"answer_id":58264171,"question_id":33100298,"body_markdown":"        public static string GetMaskedEmail(string emailAddress)\r\n        {\r\n            string _emailToMask = emailAddress;\r\n            try\r\n            {\r\n                if (!string.IsNullOrEmpty(emailAddress))\r\n                {\r\n                    var _splitEmail = emailAddress.Split(Char.Parse(&quot;@&quot;));\r\n                    var _user = _splitEmail[0];\r\n                    var _domain = _splitEmail[1];\r\n\r\n                    if (_user.Length &gt; 3)\r\n                    {\r\n                        var _maskedUser = _user.Substring(0, 3) + new String(Char.Parse(&quot;*&quot;), _user.Length - 3);\r\n                        _emailToMask = _maskedUser + &quot;@&quot; + _domain;\r\n                    }\r\n                    else\r\n                    {\r\n                        _emailToMask = new String(Char.Parse(&quot;*&quot;), _user.Length) + &quot;@&quot; + _domain;\r\n                    }\r\n                }\r\n            }\r\n            catch (Exception) { }\r\n            return _emailToMask;\r\n        }","title":"masking of email address in java","body":"<pre><code>    public static string GetMaskedEmail(string emailAddress)\n    {\n        string _emailToMask = emailAddress;\n        try\n        {\n            if (!string.IsNullOrEmpty(emailAddress))\n            {\n                var _splitEmail = emailAddress.Split(Char.Parse(\"@\"));\n                var _user = _splitEmail[0];\n                var _domain = _splitEmail[1];\n\n                if (_user.Length &gt; 3)\n                {\n                    var _maskedUser = _user.Substring(0, 3) + new String(Char.Parse(\"*\"), _user.Length - 3);\n                    _emailToMask = _maskedUser + \"@\" + _domain;\n                }\n                else\n                {\n                    _emailToMask = new String(Char.Parse(\"*\"), _user.Length) + \"@\" + _domain;\n                }\n            }\n        }\n        catch (Exception) { }\n        return _emailToMask;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12444641,"reputation":2168,"user_id":9061224,"display_name":"MarGin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688632187,"creation_date":1688632187,"answer_id":76626931,"question_id":33100298,"body_markdown":"**Kotlin Extension**\r\n\r\n    /**\r\n     * Format email id in the following format\r\n     * (mn@gmail.com)\r\n     * only exception for 2 character username in that case it will be @gmail.com\r\n     * @return formatted email\r\n     */\r\n    fun String.maskEmailId(): String {\r\n        return if (this.isNotNullOrEmpty() &amp;&amp; this.indexOf(&#39;@&#39;) &gt; 0) {\r\n            val index = this.indexOf(&#39;@&#39;)\r\n            val maskedUsername = if (index &gt; 2) {\r\n                &quot;${this.substring(0, 1)}${&quot;*&quot;.repeat(index-2)}${this.substring(index-1)}&quot;\r\n            } else {\r\n                &quot;*&quot;.repeat(index) + this.substring(index)\r\n            }\r\n            maskedUsername\r\n        }  else &quot;&quot;\r\n    }\r\n\r\n","title":"masking of email address in java","body":"<p><strong>Kotlin Extension</strong></p>\n<pre><code>/**\n * Format email id in the following format\n * (mn@gmail.com)\n * only exception for 2 character username in that case it will be @gmail.com\n * @return formatted email\n */\nfun String.maskEmailId(): String {\n    return if (this.isNotNullOrEmpty() &amp;&amp; this.indexOf('@') &gt; 0) {\n        val index = this.indexOf('@')\n        val maskedUsername = if (index &gt; 2) {\n            &quot;${this.substring(0, 1)}${&quot;*&quot;.repeat(index-2)}${this.substring(index-1)}&quot;\n        } else {\n            &quot;*&quot;.repeat(index) + this.substring(index)\n        }\n        maskedUsername\n    }  else &quot;&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":3844593,"reputation":1493,"user_id":3186584,"accept_rate":56,"display_name":"nilesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37753,"favorite_count":0,"down_vote_count":1,"up_vote_count":28,"accepted_answer_id":33100497,"answer_count":7,"score":27,"last_activity_date":1688632187,"creation_date":1444732067,"question_id":33100298,"body_markdown":"I am trying to mask email address with &quot;*&quot; but I am bad at regex.\r\n\r\n    input : nileshxyzae@gmail.com\r\n    output : nil********@gmail.com\r\n\r\nMy code is\r\n\r\n    String maskedEmail = email.replaceAll(&quot;(?&lt;=.{3}).(?=[^@]*?.@)&quot;, &quot;*&quot;);\r\n\r\nbut its giving me output `nil*******e@gmail.com` I am not getting whats getting wrong here. Why last character is not converted?\r\nAlso can someone explain meaning all these regex","title":"masking of email address in java","body":"<p>I am trying to mask email address with \"*\" but I am bad at regex.</p>\n\n<pre><code>input : nileshxyzae@gmail.com\noutput : nil********@gmail.com\n</code></pre>\n\n<p>My code is</p>\n\n<pre><code>String maskedEmail = email.replaceAll(\"(?&lt;=.{3}).(?=[^@]*?.@)\", \"*\");\n</code></pre>\n\n<p>but its giving me output <code>nil*******e@gmail.com</code> I am not getting whats getting wrong here. Why last character is not converted?\nAlso can someone explain meaning all these regex</p>\n"},{"tags":["java","android","bluetooth"],"comments":[{"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"score":0,"creation_date":1688632611,"post_id":76626852,"comment_id":135100653,"body_markdown":"have you added the permission in manifest file?","body":"have you added the permission in manifest file?"},{"owner":{"account_id":27196302,"reputation":1,"user_id":20729150,"display_name":"Ricardo Moreira"},"score":0,"creation_date":1688632906,"post_id":76626852,"comment_id":135100717,"body_markdown":"Yes I have the necessary permissions for bluetooth","body":"Yes I have the necessary permissions for bluetooth"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1688709425,"post_id":76626852,"comment_id":135112760,"body_markdown":"What is your Android version? Are you sure that the connection is made successfully? Do you connect to the right device in your app?","body":"What is your Android version? Are you sure that the connection is made successfully? Do you connect to the right device in your app?"}],"owner":{"account_id":27196302,"reputation":1,"user_id":20729150,"display_name":"Ricardo Moreira"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688631652,"creation_date":1688631652,"question_id":76626852,"body_markdown":"I am trying to send data via bluetooth to my arduino, but I think that my android app code is not working properly to do it.\r\n\r\nI&#39;ve tested sending the same information by a serial bluetooth terminal app and it works, so the problem is with my android code.\r\n\r\nThis is my android app code to send information:\r\n\r\n```\r\npublic void SetAllAngles_click(View view) {\r\n        try {\r\n            EditText angleInput = findViewById(R.id.angleInputTXT);\r\n            String a = angleInput.getText().toString();\r\n\r\n            if (bluetoothSocket != null &amp;&amp; bluetoothSocket.isConnected()) {\r\n                OutputStream outputStream = bluetoothSocket.getOutputStream();\r\n                if (outputStream != null) {\r\n                    String data = a + &quot;,&quot; + a + &quot;,&quot; + a + &quot;,&quot; + a + &quot;,&quot; + a + &quot;,false&quot;;\r\n                    outputStream.write(data.getBytes());\r\n                    Toast.makeText(MainActivity.this, &quot;Data sent successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(MainActivity.this, &quot;OutputStream is null&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            } else {\r\n                Toast.makeText(MainActivity.this, &quot;Bluetooth connection is not established&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        } catch (IOException e) {\r\n            Toast.makeText(MainActivity.this, &quot;Error: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n        }\r\n    }\r\n```\r\n\r\nIt always show me the &quot;Data sent successfully&quot; message, but my arduino is not reciving it.","title":"How to send information to ardu&#237;no uno through a bluetooth connection between android app and HC-05 module","body":"<p>I am trying to send data via bluetooth to my arduino, but I think that my android app code is not working properly to do it.</p>\n<p>I've tested sending the same information by a serial bluetooth terminal app and it works, so the problem is with my android code.</p>\n<p>This is my android app code to send information:</p>\n<pre><code>public void SetAllAngles_click(View view) {\n        try {\n            EditText angleInput = findViewById(R.id.angleInputTXT);\n            String a = angleInput.getText().toString();\n\n            if (bluetoothSocket != null &amp;&amp; bluetoothSocket.isConnected()) {\n                OutputStream outputStream = bluetoothSocket.getOutputStream();\n                if (outputStream != null) {\n                    String data = a + &quot;,&quot; + a + &quot;,&quot; + a + &quot;,&quot; + a + &quot;,&quot; + a + &quot;,false&quot;;\n                    outputStream.write(data.getBytes());\n                    Toast.makeText(MainActivity.this, &quot;Data sent successfully&quot;, Toast.LENGTH_SHORT).show();\n                } else {\n                    Toast.makeText(MainActivity.this, &quot;OutputStream is null&quot;, Toast.LENGTH_SHORT).show();\n                }\n            } else {\n                Toast.makeText(MainActivity.this, &quot;Bluetooth connection is not established&quot;, Toast.LENGTH_SHORT).show();\n            }\n        } catch (IOException e) {\n            Toast.makeText(MainActivity.this, &quot;Error: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n        }\n    }\n</code></pre>\n<p>It always show me the &quot;Data sent successfully&quot; message, but my arduino is not reciving it.</p>\n"},{"tags":["java","bluetooth-lowenergy","mtu"],"comments":[{"owner":{"account_id":27317635,"reputation":737,"user_id":20831888,"display_name":"Kozydot"},"score":0,"creation_date":1688631657,"post_id":76626782,"comment_id":135100424,"body_markdown":"Could you please provide the model of the new scanner you&#39;re trying to integrate?","body":"Could you please provide the model of the new scanner you&#39;re trying to integrate?"},{"owner":{"account_id":1250471,"reputation":1125,"user_id":1210977,"accept_rate":40,"display_name":"tabina"},"score":0,"creation_date":1688631959,"post_id":76626782,"comment_id":135100512,"body_markdown":"It is the NirOne scanner from spectral engines.","body":"It is the NirOne scanner from spectral engines."}],"owner":{"account_id":1250471,"reputation":1125,"user_id":1210977,"accept_rate":40,"display_name":"tabina"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688631098,"creation_date":1688631098,"question_id":76626782,"body_markdown":"I realize there are several posts asking this question, but I can&#39;t seem to solve this problem with the provided answers.\r\n\r\nHere is what I am doing: in an existing app that was used with different scanners via bluetooth before, I want to integrate a new scanner. It uses bluetooth LE and with previous scanners everything worked fine.\r\nThe new scanner requires me to send pakets &gt; 20 bytes.\r\n\r\nAs I understand from the other posts, there are two ways to accomplish this.\r\n\r\n 1. increase the mtu\r\n 2. split the message into sub packets &lt;= 20 bytes and send them individually\r\n\r\nIncreasing the MTU:\r\nin my gatt callback onConnectionStateChange I check if the connection was established and then call\r\n\r\n    gatt.requestMtu(100);\r\n\r\nIn the gatt callback onMtuChanged the new mtu is 100, so the scanner has accepted the request.\r\n\r\nWhen I try to write a large packet to the characteristic (with gatt.writeCharacteristic(...)), it returns true. But the scanner sends a response, that tells me that the write has failed. \r\nMy guess at this point is, that either the scanner does not really handle the large packet properly or the message itself has invalid content. This is something I am trying to clarify with the scanner&#39;s support but I got no feedback yet.\r\n\r\n\r\nSplitting the packet:\r\n\r\nI tried this option as well. Splitting the message into smaller parts like this\r\n\r\n    int packetSize = 20;\r\n    int numPackets = (int) Math.ceil(packetData.length / 20.0);\r\n    int remainingPacketSize = (int) packetData.length % packetSize;\r\n\r\n    int numBytesAlreadyUsed = 0;\r\n\r\n    for (int i = 0; i &lt; numPackets; i++) {\r\n\r\n        Thread.sleep(1000);\r\n        if (i == numPackets - 1)  // last packet part\r\n        {\r\n             packetSize = remainingPacketSize;\r\n        }\r\n        byte[] data = new byte[packetSize];\r\n\r\n        for (int j = 0; j &lt; packetSize; j++) {\r\n             data[j] = packetData[numBytesAlreadyUsed];\r\n             numBytesAlreadyUsed++;\r\n        } \r\n    ...\r\n    }\r\n\r\nI tried two different variants of this.\r\n\r\n\r\nVariant 1:\r\n\r\nIn my app I am using a queuing mechanism to make sure the messages are only sent, after onCharacteristicWrite was received. So I enqueued the sub pakets one after the other to make sure that the gatt&#39;s onCharacteristicWrite gets triggered. Problem is, that the scanner, after it received the first message, does not send any response, so the gatt.onCharacteristicWrite does not get triggered. After a while the scanner runs into a timeout waiting for the next sub packet which results in it treating the first paket as complete (which it is not) and responding with a message indicating that the write was not successful.\r\n\r\n\r\nVariant 2:\r\n\r\nI enqueue only on request which includes the loop and the calls to gatt.writeCharacteristic(...) for the different sub packets. Since this is not waiting for onCharacteristicWrite before sending the next sub packet, the sub packets do not get sent at all. In the BluetoothGatt, writeCharacteristic(...) always returns false, because mDeviceBusy is still true.\r\n\r\n    synchronized (mDeviceBusyLock) {\r\n        if (mDeviceBusy) return false;\r\n        mDeviceBusy = true;\r\n    }\r\n\r\n\r\nAs a conslusion, I think changing the mtu should work and would be the cleanest way. But for the splitting of packets, is there any way to send write messages without waiting for responses? Using the WRITE_TYPE_NO_RESPONSE seems to be ignored.\r\nAre there other options to solve this problem?\r\n\r\n\r\n\r\n","title":"BluetoothLE sending pakets &gt; 20 bytes","body":"<p>I realize there are several posts asking this question, but I can't seem to solve this problem with the provided answers.</p>\n<p>Here is what I am doing: in an existing app that was used with different scanners via bluetooth before, I want to integrate a new scanner. It uses bluetooth LE and with previous scanners everything worked fine.\nThe new scanner requires me to send pakets &gt; 20 bytes.</p>\n<p>As I understand from the other posts, there are two ways to accomplish this.</p>\n<ol>\n<li>increase the mtu</li>\n<li>split the message into sub packets &lt;= 20 bytes and send them individually</li>\n</ol>\n<p>Increasing the MTU:\nin my gatt callback onConnectionStateChange I check if the connection was established and then call</p>\n<pre><code>gatt.requestMtu(100);\n</code></pre>\n<p>In the gatt callback onMtuChanged the new mtu is 100, so the scanner has accepted the request.</p>\n<p>When I try to write a large packet to the characteristic (with gatt.writeCharacteristic(...)), it returns true. But the scanner sends a response, that tells me that the write has failed.\nMy guess at this point is, that either the scanner does not really handle the large packet properly or the message itself has invalid content. This is something I am trying to clarify with the scanner's support but I got no feedback yet.</p>\n<p>Splitting the packet:</p>\n<p>I tried this option as well. Splitting the message into smaller parts like this</p>\n<pre><code>int packetSize = 20;\nint numPackets = (int) Math.ceil(packetData.length / 20.0);\nint remainingPacketSize = (int) packetData.length % packetSize;\n\nint numBytesAlreadyUsed = 0;\n\nfor (int i = 0; i &lt; numPackets; i++) {\n\n    Thread.sleep(1000);\n    if (i == numPackets - 1)  // last packet part\n    {\n         packetSize = remainingPacketSize;\n    }\n    byte[] data = new byte[packetSize];\n\n    for (int j = 0; j &lt; packetSize; j++) {\n         data[j] = packetData[numBytesAlreadyUsed];\n         numBytesAlreadyUsed++;\n    } \n...\n}\n</code></pre>\n<p>I tried two different variants of this.</p>\n<p>Variant 1:</p>\n<p>In my app I am using a queuing mechanism to make sure the messages are only sent, after onCharacteristicWrite was received. So I enqueued the sub pakets one after the other to make sure that the gatt's onCharacteristicWrite gets triggered. Problem is, that the scanner, after it received the first message, does not send any response, so the gatt.onCharacteristicWrite does not get triggered. After a while the scanner runs into a timeout waiting for the next sub packet which results in it treating the first paket as complete (which it is not) and responding with a message indicating that the write was not successful.</p>\n<p>Variant 2:</p>\n<p>I enqueue only on request which includes the loop and the calls to gatt.writeCharacteristic(...) for the different sub packets. Since this is not waiting for onCharacteristicWrite before sending the next sub packet, the sub packets do not get sent at all. In the BluetoothGatt, writeCharacteristic(...) always returns false, because mDeviceBusy is still true.</p>\n<pre><code>synchronized (mDeviceBusyLock) {\n    if (mDeviceBusy) return false;\n    mDeviceBusy = true;\n}\n</code></pre>\n<p>As a conslusion, I think changing the mtu should work and would be the cleanest way. But for the splitting of packets, is there any way to send write messages without waiting for responses? Using the WRITE_TYPE_NO_RESPONSE seems to be ignored.\nAre there other options to solve this problem?</p>\n"},{"tags":["java","sql-server","jdbc"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":0,"creation_date":1576185205,"post_id":59312443,"comment_id":104827407,"body_markdown":"That driver [officially](https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15) only supports JDK 8, 11 and 12. No clue why it works in one project and not another. Are you absolutely sure they&#39;re set up the same way?","body":"That driver <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/download-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15\" rel=\"nofollow noreferrer\">officially</a> only supports JDK 8, 11 and 12. No clue why it works in one project and not another. Are you absolutely sure they&#39;re set up the same way?"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1576227700,"post_id":59312443,"comment_id":104838806,"body_markdown":"Does your project contain a module-info.java? Given the screenshot contains both a Modulepath and a Classpath, it sounds like you are trying to write modular code, but aren&#39;t properly adding the driver on the modulepath.","body":"Does your project contain a module-info.java? Given the screenshot contains both a Modulepath and a Classpath, it sounds like you are trying to write modular code, but aren&#39;t properly adding the driver on the modulepath."},{"owner":{"account_id":14083432,"reputation":566,"user_id":10173800,"display_name":"Ethan Malloy"},"score":0,"creation_date":1576264230,"post_id":59312443,"comment_id":104856428,"body_markdown":"My project contains module-info.java. I looked over the projects a second time, and the project that works has all its code in individual class (.java) files, all contained in the default package. The other project doesn&#39;t have a default package. I created a package for my code to run in, called it Main, and created a class in that package called clsMain. This is where my code runs.","body":"My project contains module-info.java. I looked over the projects a second time, and the project that works has all its code in individual class (.java) files, all contained in the default package. The other project doesn&#39;t have a default package. I created a package for my code to run in, called it Main, and created a class in that package called clsMain. This is where my code runs."}],"answers":[{"tags":[],"owner":{"account_id":14083432,"reputation":566,"user_id":10173800,"display_name":"Ethan Malloy"},"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1576271604,"creation_date":1576271604,"answer_id":59329876,"question_id":59312443,"body_markdown":"I deleted `module-info.java` and this resolved the error. ","title":"&quot;Package not accessible&quot; error trying to import SQL Server JDBC package in project","body":"<p>I deleted <code>module-info.java</code> and this resolved the error. </p>\n"},{"tags":[],"owner":{"account_id":18755531,"reputation":181,"user_id":13675646,"display_name":"Jix"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1591227887,"creation_date":1591218392,"answer_id":62182723,"question_id":59312443,"body_markdown":"Put a string `requires java.sql;` in the `module-info.java` file.\r\n\r\n","title":"&quot;Package not accessible&quot; error trying to import SQL Server JDBC package in project","body":"<p>Put a string <code>requires java.sql;</code> in the <code>module-info.java</code> file.</p>\n"},{"tags":[],"owner":{"account_id":27473819,"reputation":1,"user_id":20962176,"display_name":"Omkar Bhalekar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688630960,"creation_date":1688630960,"answer_id":76626763,"question_id":59312443,"body_markdown":"don&#39;t create class with plane .java file.\r\ninstead click new--&gt; class --&gt; file  name --&gt; check parent class as a Object --&gt; finish","title":"&quot;Package not accessible&quot; error trying to import SQL Server JDBC package in project","body":"<p>don't create class with plane .java file.\ninstead click new--&gt; class --&gt; file  name --&gt; check parent class as a Object --&gt; finish</p>\n"}],"owner":{"account_id":14083432,"reputation":566,"user_id":10173800,"display_name":"Ethan Malloy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33107,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":59329876,"answer_count":3,"score":6,"last_activity_date":1688630960,"creation_date":1576183515,"question_id":59312443,"body_markdown":"I&#39;m trying to use the SQL Server JDBC package in my Java project. I&#39;m getting a `The package com.microsoft.sqlserver.jdbc is not accessible` error in my import statement. I&#39;ve already added the MSSQL JDBC driver to the appropriate classpath (see attached image). I have another project set up exactly the same way that works just fine. The driver used is the same and the import statements match. Here are my import statements: \r\n```\r\npackage Main;\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\nimport java.sql.Connection;\r\nimport java.sql.DriverManager;\r\nimport java.sql.ResultSet;\r\nimport java.sql.Statement;\r\nimport com.microsoft.sqlserver.jdbc.*;\r\n```\r\nNone of the other import statements throw an error. I am using this driver: `mssql-jdbc-7.4.1.jre12.jar`. I am also using JDK 13 for both projects.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JwN0r.png","title":"&quot;Package not accessible&quot; error trying to import SQL Server JDBC package in project","body":"<p>I'm trying to use the SQL Server JDBC package in my Java project. I'm getting a <code>The package com.microsoft.sqlserver.jdbc is not accessible</code> error in my import statement. I've already added the MSSQL JDBC driver to the appropriate classpath (see attached image). I have another project set up exactly the same way that works just fine. The driver used is the same and the import statements match. Here are my import statements: </p>\n\n<pre><code>package Main;\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\nimport com.microsoft.sqlserver.jdbc.*;\n</code></pre>\n\n<p>None of the other import statements throw an error. I am using this driver: <code>mssql-jdbc-7.4.1.jre12.jar</code>. I am also using JDK 13 for both projects.</p>\n\n<p><a href=\"https://i.stack.imgur.com/JwN0r.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JwN0r.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","iterator"],"comments":[{"owner":{"account_id":535778,"reputation":49549,"user_id":905093,"display_name":"Book Of Zeus"},"score":1,"creation_date":1550716224,"post_id":54798292,"comment_id":96374087,"body_markdown":"related: https://stackoverflow.com/questions/21081318/can-a-iterator-change-the-collection-it-is-iterating-over-java?","body":"related: <a href=\"https://stackoverflow.com/questions/21081318/can-a-iterator-change-the-collection-it-is-iterating-over-java\" title=\"can a iterator change the collection it is iterating over java\">stackoverflow.com/questions/21081318/&hellip;</a>?"},{"owner":{"account_id":1266843,"reputation":93034,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":0,"creation_date":1550716371,"post_id":54798292,"comment_id":96374120,"body_markdown":"related but my question is probably better worded and more to the point","body":"related but my question is probably better worded and more to the point"},{"owner":{"account_id":535778,"reputation":49549,"user_id":905093,"display_name":"Book Of Zeus"},"score":1,"creation_date":1550716839,"post_id":54798292,"comment_id":96374226,"body_markdown":"why -1? I think that is an interesting question?","body":"why -1? I think that is an interesting question?"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":1,"creation_date":1550716843,"post_id":54798292,"comment_id":96374228,"body_markdown":"Please **read the documentation**, i.e. the javadoc of [`HashMap`](https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html): *&quot;The iterators returned by all of this class&#39;s &quot;collection view methods&quot; are **fail-fast**: if the map is structurally modified at any time after the iterator is created, in any way except through the iterator&#39;s own `remove` method, the iterator will throw a `ConcurrentModificationException`.&quot;*","body":"Please <b>read the documentation</b>, i.e. the javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\"><code>HashMap</code></a>: <i>&quot;The iterators returned by all of this class&#39;s &quot;collection view methods&quot; are <b>fail-fast</b>: if the map is structurally modified at any time after the iterator is created, in any way except through the iterator&#39;s own <code>remove</code> method, the iterator will throw a <code>ConcurrentModificationException</code>.&quot;</i>"},{"owner":{"account_id":1266843,"reputation":93034,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":0,"creation_date":1550716973,"post_id":54798292,"comment_id":96374271,"body_markdown":"OK let&#39;s think outside the box - how to create an immutable iterator? Come on people. The documentation might be clear if you dig, but I am looking for a way to create an immutable iterator once it&#39;s created.","body":"OK let&#39;s think outside the box - how to create an immutable iterator? Come on people. The documentation might be clear if you dig, but I am looking for a way to create an immutable iterator once it&#39;s created."},{"owner":{"account_id":1266843,"reputation":93034,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":0,"creation_date":1550717052,"post_id":54798292,"comment_id":96374288,"body_markdown":"Updated the OP for those who can&#39;t read between the lines...","body":"Updated the OP for those who can&#39;t read between the lines..."},{"owner":{"account_id":8397558,"reputation":4568,"user_id":6304094,"display_name":"Kevin Anderson"},"score":0,"creation_date":1550717916,"post_id":54798292,"comment_id":96374509,"body_markdown":"You would, I think, need to design a `Collection` from the ground up with an eye toward supporting these so-called &quot;immutable&quot; iterators.  A collection instance would need to be aware at all times of every `Iterator` instance in existence and be able to notify those `Iterator` instances of every structural modification in sufficient detail that the `Iterator` could figure out how to proceed.  And, of course, the `Iterator`s themselves would have to be sufficiently resourceful to make sense of any possible change notification that might be thrown their way.","body":"You would, I think, need to design a <code>Collection</code> from the ground up with an eye toward supporting these so-called &quot;immutable&quot; iterators.  A collection instance would need to be aware at all times of every <code>Iterator</code> instance in existence and be able to notify those <code>Iterator</code> instances of every structural modification in sufficient detail that the <code>Iterator</code> could figure out how to proceed.  And, of course, the <code>Iterator</code>s themselves would have to be sufficiently resourceful to make sense of any possible change notification that might be thrown their way."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":4,"creation_date":1550719093,"post_id":54798292,"comment_id":96374790,"body_markdown":"The question as phrased doesn&#39;t really make sense, as iterators are inherently necessarily mutable; if I understand correctly, you want an iterator that&#39;s a snapshot of the underlying collection at some moment in time?","body":"The question as phrased doesn&#39;t really make sense, as iterators are inherently necessarily mutable; if I understand correctly, you want an iterator that&#39;s a snapshot of the underlying collection at some moment in time?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1550719152,"post_id":54798292,"comment_id":96374805,"body_markdown":"Also, see the documentation for `CopyOnWriteArrayList`, which I think implements what you&#39;re asking for.","body":"Also, see the documentation for <code>CopyOnWriteArrayList</code>, which I think implements what you&#39;re asking for."},{"owner":{"account_id":1266843,"reputation":93034,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"score":0,"creation_date":1550724848,"post_id":54798292,"comment_id":96376166,"body_markdown":"@chrylis CopyOnWriteArrayList makes a new copy for every add() operation, etc, that&#39;s not quite what I am looking for","body":"@chrylis CopyOnWriteArrayList makes a new copy for every add() operation, etc, that&#39;s not quite what I am looking for"},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1550770644,"post_id":54798292,"comment_id":96402842,"body_markdown":"@chrylis Iterators are not more &quot;inherently necessarily mutable&quot; as a concept than collections (containers).","body":"@chrylis Iterators are not more &quot;inherently necessarily mutable&quot; as a concept than collections (containers)."},{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":0,"creation_date":1550771377,"post_id":54798292,"comment_id":96403213,"body_markdown":"@chrylis @chrylis Consider that C++ has `const_iterator` types (for referring to `const` values) and can have `const iterator` values (for iterators that can not be incremented).","body":"@chrylis @chrylis Consider that C++ has <code>const_iterator</code> types (for referring to <code>const</code> values) and can have <code>const iterator</code> values (for iterators that can not be incremented)."},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1550782965,"post_id":54798292,"comment_id":96408615,"body_markdown":"@Raedwald This is a question relating to Java and the term should be interpreted in its context. Your `const iterator` does not match the description in the question.","body":"@Raedwald This is a question relating to Java and the term should be interpreted in its context. Your <code>const iterator</code> does not match the description in the question."}],"answers":[{"tags":[],"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1688630188,"creation_date":1550767383,"answer_id":54812170,"question_id":54798292,"body_markdown":"The only valid operations for a read-only iterator are increment and dereference (although the Java `Iterator` combines the two in its [`next()`](https://docs.oracle.com/javase/10/docs/api/java/util/Iterator.html#next()) method). If you have an unmodifiable iterator, that leaves you only dereferencing. The dereferencing can either give you an object reference, or it can be not valid to dereference because it does not refer to a valid position in the collection.\r\n\r\nBut those are the same semantics as [`Optional`](https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html): an `Optional` can either be empty or have a valid object reference. So, create an `Optional` from the [`Iterator`](https://docs.oracle.com/javase/10/docs/api/java/util/Iterator.html) and use that as your &quot;unmodifiable iterator&quot;:\r\n\r\n```\r\nprivate Optional&lt;T&gt; unmodifiableNext(Iterator&lt;T&gt; i)\r\n{\r\n   if (i.hasNext()) {\r\n      return Optional.ofNullable(i.next());\r\n   } else {\r\n      return Optional.empty();\r\n   }\r\n}\r\n```\r\nThis has the additional benefit that the `Optional` is no longer tied to the collection, so the collection can be safely changed without changing which object the `Optional ` refers to.","title":"how to create an immutable iterator?","body":"<p>The only valid operations for a read-only iterator are increment and dereference (although the Java <code>Iterator</code> combines the two in its <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Iterator.html#next()\" rel=\"nofollow noreferrer\"><code>next()</code></a> method). If you have an unmodifiable iterator, that leaves you only dereferencing. The dereferencing can either give you an object reference, or it can be not valid to dereference because it does not refer to a valid position in the collection.</p>\n<p>But those are the same semantics as <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a>: an <code>Optional</code> can either be empty or have a valid object reference. So, create an <code>Optional</code> from the <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Iterator.html\" rel=\"nofollow noreferrer\"><code>Iterator</code></a> and use that as your &quot;unmodifiable iterator&quot;:</p>\n<pre><code>private Optional&lt;T&gt; unmodifiableNext(Iterator&lt;T&gt; i)\n{\n   if (i.hasNext()) {\n      return Optional.ofNullable(i.next());\n   } else {\n      return Optional.empty();\n   }\n}\n</code></pre>\n<p>This has the additional benefit that the <code>Optional</code> is no longer tied to the collection, so the collection can be safely changed without changing which object the <code>Optional </code> refers to.</p>\n"},{"tags":[],"owner":{"account_id":3784583,"reputation":951,"user_id":3142960,"display_name":"BlakeTNC"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1598682439,"creation_date":1598681317,"answer_id":63644010,"question_id":54798292,"body_markdown":"An iterator instance itself would not generally need the concept of mutability/immutability. However, the collection it is iterating over may be intended to be unmodifiable or immutable. Here is a way to disable the ability of an iterator to change the collection. If you return an instance of this class, then the remove() method of the returned iterator is disabled. The class is used by returning UnmodifiableIterator.create(yourIterator).\r\n\r\n    import java.util.Iterator;\r\n    \r\n    /**\r\n     * UnmodifiableIterator, A wrapper around an iterator instance that\r\n     * disables the remove method.\r\n     */\r\n    public final class UnmodifiableIterator&lt;E&gt; implements Iterator&lt;E&gt; {\r\n    \r\n        /**\r\n         * iterator, The base iterator.\r\n         */\r\n        private final Iterator&lt;? extends E&gt; iterator;\r\n    \r\n        private UnmodifiableIterator(final Iterator&lt;? extends E&gt; iterator) {\r\n            this.iterator = iterator;\r\n        }\r\n    \r\n        public static &lt;E&gt; Iterator&lt;E&gt; create(final Iterator&lt;? extends E&gt; iterator) {\r\n            if (iterator == null) {\r\n                throw new NullPointerException(&quot;The iterator can not be null.&quot;);\r\n            }\r\n            return new UnmodifiableIterator&lt;&gt;(iterator);\r\n        }\r\n    \r\n        @Override\r\n        public boolean hasNext() {\r\n            return iterator.hasNext();\r\n        }\r\n    \r\n        @Override\r\n        public E next() {\r\n            return iterator.next();\r\n        }\r\n    \r\n        @Override\r\n        public void remove() {\r\n            throw new UnsupportedOperationException(&quot;Iterator.remove() is disabled.&quot;);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"how to create an immutable iterator?","body":"<p>An iterator instance itself would not generally need the concept of mutability/immutability. However, the collection it is iterating over may be intended to be unmodifiable or immutable. Here is a way to disable the ability of an iterator to change the collection. If you return an instance of this class, then the remove() method of the returned iterator is disabled. The class is used by returning UnmodifiableIterator.create(yourIterator).</p>\n<pre><code>import java.util.Iterator;\n\n/**\n * UnmodifiableIterator, A wrapper around an iterator instance that\n * disables the remove method.\n */\npublic final class UnmodifiableIterator&lt;E&gt; implements Iterator&lt;E&gt; {\n\n    /**\n     * iterator, The base iterator.\n     */\n    private final Iterator&lt;? extends E&gt; iterator;\n\n    private UnmodifiableIterator(final Iterator&lt;? extends E&gt; iterator) {\n        this.iterator = iterator;\n    }\n\n    public static &lt;E&gt; Iterator&lt;E&gt; create(final Iterator&lt;? extends E&gt; iterator) {\n        if (iterator == null) {\n            throw new NullPointerException(&quot;The iterator can not be null.&quot;);\n        }\n        return new UnmodifiableIterator&lt;&gt;(iterator);\n    }\n\n    @Override\n    public boolean hasNext() {\n        return iterator.hasNext();\n    }\n\n    @Override\n    public E next() {\n        return iterator.next();\n    }\n\n    @Override\n    public void remove() {\n        throw new UnsupportedOperationException(&quot;Iterator.remove() is disabled.&quot;);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1266843,"reputation":93034,"user_id":1223975,"accept_rate":54,"display_name":"Alexander Mills"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3101,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":2,"score":1,"last_activity_date":1688630188,"creation_date":1550716144,"question_id":54798292,"body_markdown":"If I have a Map or a List and get an iterator from it, for example:\r\n\r\n    var map = new HashMap();\r\n    var iterator = map.entrySet().iterator();\r\n\r\nif something modifies that map after the fact, will it affect the iterator or is the iterator basically immutable once created?\r\n\r\n*If it&#39;s not immutable, how to create an immutable iterator?*\r\n","title":"how to create an immutable iterator?","body":"<p>If I have a Map or a List and get an iterator from it, for example:</p>\n\n<pre><code>var map = new HashMap();\nvar iterator = map.entrySet().iterator();\n</code></pre>\n\n<p>if something modifies that map after the fact, will it affect the iterator or is the iterator basically immutable once created?</p>\n\n<p><em>If it's not immutable, how to create an immutable iterator?</em></p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":2,"creation_date":1688550038,"post_id":76619010,"comment_id":135086995,"body_markdown":"How do you think `#sdnStatusEvent.getNeStatus() == #object.NEStatus.name() == &#39;Offline&#39;` is gonna be evaluated?","body":"How do you think <code>#sdnStatusEvent.getNeStatus() == #object.NEStatus.name() == &#39;Offline&#39;</code> is gonna be evaluated?"},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1688553808,"post_id":76619010,"comment_id":135087769,"body_markdown":"@VasilyLiaskovsky I get from here https://stackoverflow.com/a/33921193/6813231","body":"@VasilyLiaskovsky I get from here <a href=\"https://stackoverflow.com/a/33921193/6813231\">stackoverflow.com/a/33921193/6813231</a>"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1688557578,"post_id":76619010,"comment_id":135088526,"body_markdown":"@Alexei No you did not, the expression in the link correctly only has one equals operator, yours has two.","body":"@Alexei No you did not, the expression in the link correctly only has one equals operator, yours has two."},{"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"score":0,"creation_date":1688629952,"post_id":76619010,"comment_id":135100071,"body_markdown":"@Gimby I was post my solution","body":"@Gimby I was post my solution"}],"answers":[{"tags":[],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688629933,"creation_date":1688629933,"answer_id":76626636,"question_id":76619010,"body_markdown":"Here my solution\r\n\r\n    public class SdnStatusEvent extends ApplicationEvent {\r\n        private NEStatus neStatus;\r\n    \r\n        public SdnStatusEvent(Object source, NEStatus neStatus) {\r\n            super(source);\r\n            this.neStatus = neStatus;\r\n        }\r\n    \r\n        public boolean isOnline() {\r\n            return neStatus == NEStatus.Online;\r\n        }\r\n    }\r\n\r\nAnd usage:\r\n\r\n    @EventListener(condition = &quot;#sdnStatusEvent.getNeStatus() != null &amp;&amp; #sdnStatusEvent.isOnline()&quot;)\r\n        public void handleSdnStatusEvent(SdnStatusEvent sdnStatusEvent) {\r\n    }\r\n\r\nAnd now it&#39;s work just fine :-)","title":"SpelParseException:: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;eq(==)&#39;","body":"<p>Here my solution</p>\n<pre><code>public class SdnStatusEvent extends ApplicationEvent {\n    private NEStatus neStatus;\n\n    public SdnStatusEvent(Object source, NEStatus neStatus) {\n        super(source);\n        this.neStatus = neStatus;\n    }\n\n    public boolean isOnline() {\n        return neStatus == NEStatus.Online;\n    }\n}\n</code></pre>\n<p>And usage:</p>\n<pre><code>@EventListener(condition = &quot;#sdnStatusEvent.getNeStatus() != null &amp;&amp; #sdnStatusEvent.isOnline()&quot;)\n    public void handleSdnStatusEvent(SdnStatusEvent sdnStatusEvent) {\n}\n</code></pre>\n<p>And now it's work just fine :-)</p>\n"}],"owner":{"account_id":9162277,"reputation":14688,"user_id":6813231,"accept_rate":56,"display_name":"Alexei"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688629933,"creation_date":1688549671,"question_id":76619010,"body_markdown":"Spring \r\n\r\nJava 8\r\n\r\nHere my enum\r\n\r\n    public enum NEStatus {\r\n    \tOnline(0), \r\n    \tOffline(1),\r\n    \tUnknown(2),\r\n    }\r\n\r\nHere snippet:\r\n\r\n \r\n\r\n    @EventListener(condition = &quot;#sdnStatusEvent.getNeStatus() != null &amp;&amp; #sdnStatusEvent.getNeStatus() == T(com.mycompany.myproject.NEStatus).Offline&quot;)\r\n    public void handleSdnStatusEvent(SdnStatusEvent sdnStatusEvent) {\r\n        LOGGER.info(&quot;handleSdnStatusEvent: sdnStatusEvent = {}&quot;, sdnStatusEvent);\r\n    }\r\n\r\n\r\nAnd this work just fine.\r\n\r\nBut I want to skip full package name to my enum. \r\n\r\nSo I try this:\r\n\r\n        @EventListener(condition = &quot;#sdnStatusEvent.getNeStatus() != null &amp;&amp; #sdnStatusEvent.getNeStatus() == #object.NEStatus.name() == &#39;Offline&#39;&quot;)\r\n        public void handleSdnStatusEvent(SdnStatusEvent sdnStatusEvent) {\r\n            LOGGER.info(&quot;handleSdnStatusEvent: sdnStatusEvent = {}&quot;, sdnStatusEvent);\r\n        }\r\n\r\n\r\nBut I get error:\r\n\r\n    2023-07-05 12:25:34.424 ERROR [ContextLoader:localhost-startStop-1] Context initialization failed\r\n    org.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;eq(==)&#39;\r\n            at org.springframework.expression.spel.standard.InternalSpelExpressionParser.doParseExpression(InternalSpelExpressionParser.java:129) ~[spring-expression-4.3.22.RELEASE.jar:4.3.22.RELEASE]\r\n\r\n","title":"SpelParseException:: EL1041E: After parsing a valid expression, there is still more data in the expression: &#39;eq(==)&#39;","body":"<p>Spring</p>\n<p>Java 8</p>\n<p>Here my enum</p>\n<pre><code>public enum NEStatus {\n    Online(0), \n    Offline(1),\n    Unknown(2),\n}\n</code></pre>\n<p>Here snippet:</p>\n<pre><code>@EventListener(condition = &quot;#sdnStatusEvent.getNeStatus() != null &amp;&amp; #sdnStatusEvent.getNeStatus() == T(com.mycompany.myproject.NEStatus).Offline&quot;)\npublic void handleSdnStatusEvent(SdnStatusEvent sdnStatusEvent) {\n    LOGGER.info(&quot;handleSdnStatusEvent: sdnStatusEvent = {}&quot;, sdnStatusEvent);\n}\n</code></pre>\n<p>And this work just fine.</p>\n<p>But I want to skip full package name to my enum.</p>\n<p>So I try this:</p>\n<pre><code>    @EventListener(condition = &quot;#sdnStatusEvent.getNeStatus() != null &amp;&amp; #sdnStatusEvent.getNeStatus() == #object.NEStatus.name() == 'Offline'&quot;)\n    public void handleSdnStatusEvent(SdnStatusEvent sdnStatusEvent) {\n        LOGGER.info(&quot;handleSdnStatusEvent: sdnStatusEvent = {}&quot;, sdnStatusEvent);\n    }\n</code></pre>\n<p>But I get error:</p>\n<pre><code>2023-07-05 12:25:34.424 ERROR [ContextLoader:localhost-startStop-1] Context initialization failed\norg.springframework.expression.spel.SpelParseException: EL1041E: After parsing a valid expression, there is still more data in the expression: 'eq(==)'\n        at org.springframework.expression.spel.standard.InternalSpelExpressionParser.doParseExpression(InternalSpelExpressionParser.java:129) ~[spring-expression-4.3.22.RELEASE.jar:4.3.22.RELEASE]\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"display_name":"user18473608"},"score":2,"creation_date":1688560269,"post_id":76620231,"comment_id":135089173,"body_markdown":"`@ConditionalOnClass` annotation has 2 properties. `name` of type String array and `value` of type Class array. So, you can add more classes. See javadoc https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnClass.html","body":"<code>@ConditionalOnClass</code> annotation has 2 properties. <code>name</code> of type String array and <code>value</code> of type Class array. So, you can add more classes. See javadoc <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnClass.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/api/org/springframew&zwnj;&#8203;ork/&hellip;</a>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1688560296,"post_id":76620231,"comment_id":135089178,"body_markdown":"What is the expected result? Are both classes required? If this is the case: you know that [`ConditionalOnClass`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnClass.html#value()) allows you to specify multiple classes that must be present?","body":"What is the expected result? Are both classes required? If this is the case: you know that <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/autoconfigure/condition/ConditionalOnClass.html#value()\" rel=\"nofollow noreferrer\"><code>ConditionalOnClass</code></a> allows you to specify multiple classes that must be present?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688563043,"post_id":76620231,"comment_id":135089919,"body_markdown":"Now if only `value` would accept an array... Yu can pass multiple classes as it does accept an array.","body":"Now if only <code>value</code> would accept an array... Yu can pass multiple classes as it does accept an array."}],"answers":[{"tags":[],"owner":{"account_id":17795939,"reputation":117,"user_id":12923772,"display_name":"Paco Pinazo Guna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688629720,"creation_date":1688629720,"answer_id":76626608,"question_id":76620231,"body_markdown":"As stated in the comments, you can just put an array of names:\r\n\r\n@ConditionalOnClass(name =  {&quot;org.springframework.Class1&quot;, &quot;org.springframework.Class2&quot; })\r\n","title":"Multiple ConditionalOnClass","body":"<p>As stated in the comments, you can just put an array of names:</p>\n<p>@ConditionalOnClass(name =  {&quot;org.springframework.Class1&quot;, &quot;org.springframework.Class2&quot; })</p>\n"}],"owner":{"account_id":17795939,"reputation":117,"user_id":12923772,"display_name":"Paco Pinazo Guna"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688629720,"creation_date":1688559452,"question_id":76620231,"body_markdown":"I want to create a @ConditionalOnClass that checks for two classes at the same time.\r\nI know the annotation is non-repeatable, but I would want to know if it is possible.\r\n\r\nMaybe creating a custom condition?\r\n\r\nI have tried putting two ConditionalOnClass and creating a custom Condition but I don&#39;t know how.","title":"Multiple ConditionalOnClass","body":"<p>I want to create a @ConditionalOnClass that checks for two classes at the same time.\nI know the annotation is non-repeatable, but I would want to know if it is possible.</p>\n<p>Maybe creating a custom condition?</p>\n<p>I have tried putting two ConditionalOnClass and creating a custom Condition but I don't know how.</p>\n"},{"tags":["java","javadoc"],"answers":[{"tags":[],"owner":{"account_id":249090,"reputation":4307,"user_id":524900,"display_name":"Lolo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1448015473,"creation_date":1448015473,"answer_id":33824384,"question_id":33804093,"body_markdown":"If you remove the `.package-info` it should work nicely:\r\n\r\n    @see com.zombo.apps.api.stream","title":"Javadoc: link to package-info","body":"<p>If you remove the <code>.package-info</code> it should work nicely:</p>\n\n<pre><code>@see com.zombo.apps.api.stream\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8737131,"reputation":433,"user_id":6535384,"display_name":"r-uu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1611338004,"creation_date":1611335269,"answer_id":65849626,"question_id":33804093,"body_markdown":"For those who want to reference a package-info without using the `@see` tag:\r\n`{@link com.zombo.apps.api.stream}` also works.","title":"Javadoc: link to package-info","body":"<p>For those who want to reference a package-info without using the <code>@see</code> tag:\n<code>{@link com.zombo.apps.api.stream}</code> also works.</p>\n"},{"tags":[],"owner":{"account_id":2567170,"reputation":10683,"user_id":3537858,"display_name":"Alexey Gavrilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688629703,"creation_date":1688629703,"answer_id":76626605,"question_id":33804093,"body_markdown":"In a module application (when you have a `module-info.java` file in the source path) the package link should start with a module name reference. For example:\r\n\r\n`@see module/package.class#member`\r\n\r\nSee chapter &quot;References&quot; in https://docs.oracle.com/en/java/javase/20/docs/specs/javadoc/doc-comment-spec.html \r\n","title":"Javadoc: link to package-info","body":"<p>In a module application (when you have a <code>module-info.java</code> file in the source path) the package link should start with a module name reference. For example:</p>\n<p><code>@see module/package.class#member</code></p>\n<p>See chapter &quot;References&quot; in <a href=\"https://docs.oracle.com/en/java/javase/20/docs/specs/javadoc/doc-comment-spec.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/java/javase/20/docs/specs/javadoc/doc-comment-spec.html</a></p>\n"}],"owner":{"account_id":2362099,"reputation":2271,"user_id":2068584,"accept_rate":86,"display_name":"seb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3722,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":33824384,"answer_count":3,"score":10,"last_activity_date":1688629703,"creation_date":1447936417,"question_id":33804093,"body_markdown":"I&#39;m using package-info.java files in my javadoc. I&#39;m trying to link from classes contained in a package to the package-info of the very same package. I have tried several options inspired by [this Oracle document][1].\r\n\r\nFor example, the package is: \r\n\r\n&gt; com.zombo.apps.api.stream\r\n\r\nI&#39;m inside com.orcsoftware.apps.api.stream.someClass and am writing\r\n\r\n&gt; @see com.zombo.apps.api.stream.package-info\r\n\r\nThe link doesn&#39;t get rendered in the javadoc. How can I link to the package-info?\r\n\r\n \r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html#see\r\n","title":"Javadoc: link to package-info","body":"<p>I'm using package-info.java files in my javadoc. I'm trying to link from classes contained in a package to the package-info of the very same package. I have tried several options inspired by <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/javadoc.html#see\" rel=\"noreferrer\">this Oracle document</a>.</p>\n\n<p>For example, the package is: </p>\n\n<blockquote>\n  <p>com.zombo.apps.api.stream</p>\n</blockquote>\n\n<p>I'm inside com.orcsoftware.apps.api.stream.someClass and am writing</p>\n\n<blockquote>\n  <p>@see com.zombo.apps.api.stream.package-info</p>\n</blockquote>\n\n<p>The link doesn't get rendered in the javadoc. How can I link to the package-info?</p>\n"},{"tags":["java","spring","java-8","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":2,"up_vote_count":63,"is_accepted":true,"score":61,"last_activity_date":1688628965,"creation_date":1556918814,"answer_id":55977292,"question_id":55976963,"body_markdown":"Read the documentation of the class [`Mono`][1] and see the diagrams. The differences are not as subtle as they appear:\r\n\r\n - [`Mono::doOnNext`][2] triggers when the data **is emitted** successfully, which means the data is available and present.\r\n - [`Mono::doOnSuccess`][3] triggers when the `Mono` **completes** successfully - result is either `T` or `null`, which means the processing itself successfully finished regardless the state of data and is executed although the data are not available or present but the pipeline itself succeed.\r\n - [`Mono::then`][4] as the end of the methods chain returns `Mono&lt;Void&gt;` on complete and error signals.\r\n     - Note here the payload is actively dropped, that&#39;s why there becomes `Mono&lt;Void&gt;` from `Mono&lt;T&gt;`. Note the two methods above don&#39;t throw the payload away.\r\n\r\nFollow the illustrative examples below:\r\n\r\n&lt;h3&gt;Non-empty Mono&lt;/h3&gt;\r\n\r\nA `Mono` that holds a value triggers `doOnNext` when the data is emitted successfully. This can be confusing to the `doOnSuccess`, but contrary to such trigger, `doOnNext` is triggered when **any** successful value is emitted including an empty `Mono`, which is still valid.\r\n\r\n```\r\nMono.just(&quot;Hello World&quot;)\r\n\t.doOnNext(i -&gt; System.out.println(&quot;On next: &quot; + i))\r\n\t.doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\r\n\t.doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\r\n\t.block();\r\n```\r\n```\r\nOn next: Hello World\r\nOn success: Hello World\r\n```\r\n\r\n&lt;h3&gt;Empty Mono&lt;/h3&gt;\r\n\r\nRemember, although the `Mono` is empty (`Mono.empty()`), it is still a valid response that triggers `doOnSuccess`, however not `doOnNext`, An empty `Mono` can be understood as one with a valid response that doesn&#39;t represent the desired output that contains a useful value. It works on the same principle as `Optional.empty()`. The `Mono` is successful but has no real useful value that would trigger `doOnNext` as it doesn&#39;t emit any value at all.\r\n\r\n```\r\nMono.empty()\r\n\t.doOnNext(i -&gt; System.out.println(&quot;On next: &quot; + i))\r\n\t.doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\r\n\t.doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\r\n\t.block();\r\n```\r\n```\r\nMono.just(&quot;Hello World&quot;)\r\n    .mapNotNull(s -&gt; null)\r\n\t.doOnNext(i -&gt; System.out.println(&quot;On next: &quot; + i))\r\n\t.doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\r\n\t.doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\r\n\t.block();\r\n```\r\nBoth result in the same output:\r\n```\r\nOn success: null\r\n```\r\n\r\n&lt;h3&gt;Erroneous Mono&lt;/h3&gt;\r\n\r\nFor sake of completeness to put in contrast with an empty `Mono`, the erroneous doesn&#39;t trigger either `doOnNext` or `doOnSuccess` but does `doOnError` instead:\r\n\r\n```\r\nMono.error(new RuntimeException(&quot;Something wrong&quot;))\r\n\t.doOnNext(i -&gt; System.out.println(&quot;On next: &quot; + i))\r\n\t.doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\r\n\t.doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\r\n\t.block();\r\n```\r\n```\r\nOn error: java.lang.RuntimeException: Something wrong\r\n```\r\n\r\n&lt;h3&gt;A side note about &lt;code&gt;then&lt;/code&gt;&lt;/h3&gt;\r\n\r\nThe method `Mono::then` with either no argument or its overridden variant accepting `Mono&lt;V&gt;` discards the former result and supplies a new `Mono&lt;Void` or `Mono&lt;V&gt;` respectively.\r\n\r\n```java\r\nMono.empty()\r\n\t.then()\r\n\t.doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\r\n\t.doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\r\n\t.block();\r\n\r\nMono.empty()\r\n\t.then(Mono.just(&quot;Good bye&quot;))\r\n\t.doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\r\n\t.doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\r\n\t.block();\r\n\r\nMono.just(&quot;Hello World&quot;)\r\n\t.then(Mono.just(&quot;Good bye&quot;))\r\n\t.doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\r\n\t.doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\r\n\t.block();\r\n\r\nMono.error(new RuntimeException(&quot;Something wrong&quot;))\r\n\t.then(Mono.just(&quot;Good bye&quot;))\r\n\t.doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\r\n\t.doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\r\n\t.block();\r\n\r\nMono.error(new RuntimeException(&quot;Something wrong&quot;))\r\n\t.then(Mono.error(new RuntimeException(&quot;Something very wrong&quot;)))\r\n\t.doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\r\n\t.doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\r\n\t.block();\r\n```\r\n```java\r\nOn success: null\r\nOn success: Good bye\r\nOn success: Good bye\r\nOn error: java.lang.RuntimeException: Something wrong\r\nOn error: java.lang.RuntimeException: Something wrong\r\n```\r\n \r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\r\n  [2]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnNext-java.util.function.Consumer-\r\n  [3]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnSuccess-java.util.function.Consumer-\r\n  [4]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#then--","title":"Is there a difference between doOnSuccess vs doOnNext for a Mono?","body":"<p>Read the documentation of the class <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html\" rel=\"noreferrer\"><code>Mono</code></a> and see the diagrams. The differences are not as subtle as they appear:</p>\n<ul>\n<li><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnNext-java.util.function.Consumer-\" rel=\"noreferrer\"><code>Mono::doOnNext</code></a> triggers when the data <strong>is emitted</strong> successfully, which means the data is available and present.</li>\n<li><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#doOnSuccess-java.util.function.Consumer-\" rel=\"noreferrer\"><code>Mono::doOnSuccess</code></a> triggers when the <code>Mono</code> <strong>completes</strong> successfully - result is either <code>T</code> or <code>null</code>, which means the processing itself successfully finished regardless the state of data and is executed although the data are not available or present but the pipeline itself succeed.</li>\n<li><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#then--\" rel=\"noreferrer\"><code>Mono::then</code></a> as the end of the methods chain returns <code>Mono&lt;Void&gt;</code> on complete and error signals.\n<ul>\n<li>Note here the payload is actively dropped, that's why there becomes <code>Mono&lt;Void&gt;</code> from <code>Mono&lt;T&gt;</code>. Note the two methods above don't throw the payload away.</li>\n</ul>\n</li>\n</ul>\n<p>Follow the illustrative examples below:</p>\n<h3>Non-empty Mono</h3>\n<p>A <code>Mono</code> that holds a value triggers <code>doOnNext</code> when the data is emitted successfully. This can be confusing to the <code>doOnSuccess</code>, but contrary to such trigger, <code>doOnNext</code> is triggered when <strong>any</strong> successful value is emitted including an empty <code>Mono</code>, which is still valid.</p>\n<pre><code>Mono.just(&quot;Hello World&quot;)\n    .doOnNext(i -&gt; System.out.println(&quot;On next: &quot; + i))\n    .doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\n    .doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\n    .block();\n</code></pre>\n<pre><code>On next: Hello World\nOn success: Hello World\n</code></pre>\n<h3>Empty Mono</h3>\n<p>Remember, although the <code>Mono</code> is empty (<code>Mono.empty()</code>), it is still a valid response that triggers <code>doOnSuccess</code>, however not <code>doOnNext</code>, An empty <code>Mono</code> can be understood as one with a valid response that doesn't represent the desired output that contains a useful value. It works on the same principle as <code>Optional.empty()</code>. The <code>Mono</code> is successful but has no real useful value that would trigger <code>doOnNext</code> as it doesn't emit any value at all.</p>\n<pre><code>Mono.empty()\n    .doOnNext(i -&gt; System.out.println(&quot;On next: &quot; + i))\n    .doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\n    .doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\n    .block();\n</code></pre>\n<pre><code>Mono.just(&quot;Hello World&quot;)\n    .mapNotNull(s -&gt; null)\n    .doOnNext(i -&gt; System.out.println(&quot;On next: &quot; + i))\n    .doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\n    .doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\n    .block();\n</code></pre>\n<p>Both result in the same output:</p>\n<pre><code>On success: null\n</code></pre>\n<h3>Erroneous Mono</h3>\n<p>For sake of completeness to put in contrast with an empty <code>Mono</code>, the erroneous doesn't trigger either <code>doOnNext</code> or <code>doOnSuccess</code> but does <code>doOnError</code> instead:</p>\n<pre><code>Mono.error(new RuntimeException(&quot;Something wrong&quot;))\n    .doOnNext(i -&gt; System.out.println(&quot;On next: &quot; + i))\n    .doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\n    .doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\n    .block();\n</code></pre>\n<pre><code>On error: java.lang.RuntimeException: Something wrong\n</code></pre>\n<h3>A side note about <code>then</code></h3>\n<p>The method <code>Mono::then</code> with either no argument or its overridden variant accepting <code>Mono&lt;V&gt;</code> discards the former result and supplies a new <code>Mono&lt;Void</code> or <code>Mono&lt;V&gt;</code> respectively.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono.empty()\n    .then()\n    .doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\n    .doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\n    .block();\n\nMono.empty()\n    .then(Mono.just(&quot;Good bye&quot;))\n    .doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\n    .doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\n    .block();\n\nMono.just(&quot;Hello World&quot;)\n    .then(Mono.just(&quot;Good bye&quot;))\n    .doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\n    .doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\n    .block();\n\nMono.error(new RuntimeException(&quot;Something wrong&quot;))\n    .then(Mono.just(&quot;Good bye&quot;))\n    .doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\n    .doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\n    .block();\n\nMono.error(new RuntimeException(&quot;Something wrong&quot;))\n    .then(Mono.error(new RuntimeException(&quot;Something very wrong&quot;)))\n    .doOnSuccess(i -&gt; System.out.println(&quot;On success: &quot; + i))\n    .doOnError(i -&gt; System.out.println(&quot;On error: &quot; + i))\n    .block();\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>On success: null\nOn success: Good bye\nOn success: Good bye\nOn error: java.lang.RuntimeException: Something wrong\nOn error: java.lang.RuntimeException: Something wrong\n</code></pre>\n"}],"owner":{"account_id":538537,"reputation":1295,"user_id":906497,"accept_rate":96,"display_name":"CowZow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31804,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":55977292,"answer_count":1,"score":22,"last_activity_date":1688628965,"creation_date":1556916673,"question_id":55976963,"body_markdown":"Let&#39;s say you have `Mono&lt;Integer&gt; someIntegerSource = Mono.just(5)` and you want to assign it to a variable.\r\n\r\nIs there a difference between these code snippets?\r\n\r\n**Case 1:** `doOnSuccess`\r\n````\r\nsomeIntegerSource.doOnSuccess(number -&gt; this.myNumber = number)\r\n````\r\n\r\n**Case 2:** `doOnNext`\r\n````\r\nsomeIntegerSource.doOnNext(number -&gt; this.myNumber = number)\r\n````\r\n\r\n**Case 3:** `doOnSuccess` + `then` (because I want to the assignment to be complete before emitting completion of the mono)\r\n````\r\nsomeIntegerSource.doOnSuccess(number -&gt; this.myNumber = number).then()\r\n````","title":"Is there a difference between doOnSuccess vs doOnNext for a Mono?","body":"<p>Let's say you have <code>Mono&lt;Integer&gt; someIntegerSource = Mono.just(5)</code> and you want to assign it to a variable.</p>\n<p>Is there a difference between these code snippets?</p>\n<p><strong>Case 1:</strong> <code>doOnSuccess</code></p>\n<pre><code>someIntegerSource.doOnSuccess(number -&gt; this.myNumber = number)\n</code></pre>\n<p><strong>Case 2:</strong> <code>doOnNext</code></p>\n<pre><code>someIntegerSource.doOnNext(number -&gt; this.myNumber = number)\n</code></pre>\n<p><strong>Case 3:</strong> <code>doOnSuccess</code> + <code>then</code> (because I want to the assignment to be complete before emitting completion of the mono)</p>\n<pre><code>someIntegerSource.doOnSuccess(number -&gt; this.myNumber = number).then()\n</code></pre>\n"},{"tags":["java","xsl-fo","apache-fop"],"answers":[{"tags":[],"owner":{"account_id":5103278,"reputation":7584,"user_id":4092205,"display_name":"Tony Graham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1685450837,"creation_date":1685450837,"answer_id":76365018,"question_id":76364638,"body_markdown":"See the graphic at https://www.w3.org/TR/xsl11/#fo_simple-page-master.\r\n\r\nEither decrease the `extent` of the `fo:region-before` (see https://www.w3.org/TR/xsl11/#extent) or increase the `margin-top` of the `fo:region-body`.","title":"How to add margin-top after table page break?","body":"<p>See the graphic at <a href=\"https://www.w3.org/TR/xsl11/#fo_simple-page-master\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/xsl11/#fo_simple-page-master</a>.</p>\n<p>Either decrease the <code>extent</code> of the <code>fo:region-before</code> (see <a href=\"https://www.w3.org/TR/xsl11/#extent\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/xsl11/#extent</a>) or increase the <code>margin-top</code> of the <code>fo:region-body</code>.</p>\n"}],"owner":{"account_id":16519521,"reputation":110,"user_id":11936074,"display_name":"Yagub Yagubkhanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76365018,"answer_count":1,"score":2,"last_activity_date":1688628894,"creation_date":1685448325,"question_id":76364638,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SoOU9.png\r\n\r\nHow to add margin-top for this table on the second page(and on all pages after first)? I&#39;ve already added &quot;margin-top&quot; attribute to &lt;fo:table margin-top=&quot;25&quot;&gt;, but this is applied only on the first page, but on the second page as it can be seen, margin after page break doesn&#39;t work. ( Page number, orange line and &#39;Card Statement&#39; is &lt;fo:static-content&gt; and I need some space between them and the table continuation)","title":"How to add margin-top after table page break?","body":"<p><a href=\"https://i.stack.imgur.com/SoOU9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SoOU9.png\" alt=\"enter image description here\" /></a></p>\n<p>How to add margin-top for this table on the second page(and on all pages after first)? I've already added &quot;margin-top&quot; attribute to &lt;fo:table margin-top=&quot;25&quot;&gt;, but this is applied only on the first page, but on the second page as it can be seen, margin after page break doesn't work. ( Page number, orange line and 'Card Statement' is &lt;fo:static-content&gt; and I need some space between them and the table continuation)</p>\n"},{"tags":["java","docker","apache-flink"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1688596723,"post_id":76617181,"comment_id":135096511,"body_markdown":"You&#39;re missing `--network flink-network` on the `taskmanager` service","body":"You&#39;re missing <code>--network flink-network</code> on the <code>taskmanager</code> service"},{"owner":{"account_id":21473693,"reputation":31,"user_id":15822298,"display_name":"Indefatigablex"},"score":0,"creation_date":1688628891,"post_id":76617181,"comment_id":135099822,"body_markdown":"@OneCricketeer Thx for your feedback, however it didn&#39;t change anything (even the log outputs remained unchanged) :(.\nI&#39;m currently using an alternative way with flink-k8s-ops, while building my own docker image based on flink. It allows me to just COPY the jar files.","body":"@OneCricketeer Thx for your feedback, however it didn&#39;t change anything (even the log outputs remained unchanged) :(. I&#39;m currently using an alternative way with flink-k8s-ops, while building my own docker image based on flink. It allows me to just COPY the jar files."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1688667116,"post_id":76617181,"comment_id":135108074,"body_markdown":"Okay. Jar files aren&#39;t related to the host not found exception, though. k8s will change that, sure","body":"Okay. Jar files aren&#39;t related to the host not found exception, though. k8s will change that, sure"}],"owner":{"account_id":21473693,"reputation":31,"user_id":15822298,"display_name":"Indefatigablex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688628800,"creation_date":1688532490,"question_id":76617181,"body_markdown":"# Intro\r\nWhile trying to launch my flink application in application-mode (which means the application runs on the jobmanager).\r\n\r\nThe two docker instances, taskmanager and jobmanager kept failed to communicate.\r\n\r\nI&#39;m using the latest docker on my m1 macbook air.\r\n\r\n# Launch script\r\nThe below is the script I used for running the docker container, which was modified from the [official docs](https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/resource-providers/standalone/docker/#application-mode).\r\n```\r\nFLINK_PROPERTIES=&quot;jobmanager.rpc.address: jobmanager&quot;\r\nARTIFACT_PATH=&quot;/Users/username/Desktop/flink&quot;\r\n# The jar file is in /Users/username/Desktop/flink/DataStreamJob.jar\r\n\r\ndocker network create flink-network\r\n\r\ndocker run \\\r\n    --mount type=bind,src=&quot;${ARTIFACT_PATH}&quot;,target=/opt/flink/usrlib \\\r\n    --rm \\\r\n    --env FLINK_PROPERTIES=&quot;${FLINK_PROPERTIES}&quot; \\\r\n    --network flink-network \\\r\n    --name=jobmanager \\\r\n    arm64v8/flink:latest standalone-job \\\r\n    --job-classname com.my.company.DataStreamJob # the jobmanager succeeded to open the jar archive\r\n\r\ndocker run \\\r\n    --mount type=bind,src=&quot;${ARTIFACT_PATH}&quot;,target=/opt/flink/usrlib \\\r\n    --env FLINK_PROPERTIES=&quot;${FLINK_PROPERTIES}&quot; \\\r\n    --network flink-network \\\r\n    arm64v8/flink:latest taskmanager\r\n```\r\n\r\nEdit: I forgot to write network on both runs, however didn&#39;t change the result. Also tried using the host network - didn&#39;t help neither.\r\n\r\n# Results (log)\r\n\r\n```\r\n2023-07-05 02:38:49,177 WARN  org.apache.flink.runtime.net.ConnectionUtils                 [] - Could not connect to jobmanager:6123. Selecting a local address using heuristics.\r\n2023-07-05 02:38:49,177 WARN  org.apache.flink.runtime.net.ConnectionUtils                 [] - Could not find any IPv4 address that is not loopback or link-local. Using localhost address.\r\n\r\n...\r\n\r\n2023-07-05 02:38:50,172 WARN  akka.remote.ReliableDeliverySupervisor                       [] - Association with remote system [akka.tcp://flink@jobmanager:6123] has failed, address is now gated for [50] ms. Reason: [Association failed with [akka.tcp://flink@jobmanager:6123]] Caused by: [java.net.UnknownHostException: jobmanager: Name or service not known]\r\n\r\n...\r\n\r\n2023-07-05 02:43:50,127 ERROR org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Fatal error occurred in TaskExecutor akka.tcp://flink@172.17.0.2:43843/user/rpc/taskmanager_0.\r\norg.apache.flink.runtime.taskexecutor.exceptions.RegistrationTimeoutException: Could not register at the ResourceManager within the specified maximum registration duration PT5M. This indicates a problem with this instance. Terminating now.\r\n\r\n...\r\n\r\n2023-07-05 02:43:50,153 ERROR org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] - Fatal error occurred while executing the TaskManager. Shutting it down...\r\norg.apache.flink.runtime.taskexecutor.exceptions.RegistrationTimeoutException: Could not register at the ResourceManager within the specified maximum registration duration PT5M. This indicates a problem with this instance. Terminating now.\r\n```\r\n\r\n\r\nI would appreciate any means of help or advice. Thanks in advance.","title":"Error while launching flink application mode example with docker","body":"<h1>Intro</h1>\n<p>While trying to launch my flink application in application-mode (which means the application runs on the jobmanager).</p>\n<p>The two docker instances, taskmanager and jobmanager kept failed to communicate.</p>\n<p>I'm using the latest docker on my m1 macbook air.</p>\n<h1>Launch script</h1>\n<p>The below is the script I used for running the docker container, which was modified from the <a href=\"https://nightlies.apache.org/flink/flink-docs-master/docs/deployment/resource-providers/standalone/docker/#application-mode\" rel=\"nofollow noreferrer\">official docs</a>.</p>\n<pre><code>FLINK_PROPERTIES=&quot;jobmanager.rpc.address: jobmanager&quot;\nARTIFACT_PATH=&quot;/Users/username/Desktop/flink&quot;\n# The jar file is in /Users/username/Desktop/flink/DataStreamJob.jar\n\ndocker network create flink-network\n\ndocker run \\\n    --mount type=bind,src=&quot;${ARTIFACT_PATH}&quot;,target=/opt/flink/usrlib \\\n    --rm \\\n    --env FLINK_PROPERTIES=&quot;${FLINK_PROPERTIES}&quot; \\\n    --network flink-network \\\n    --name=jobmanager \\\n    arm64v8/flink:latest standalone-job \\\n    --job-classname com.my.company.DataStreamJob # the jobmanager succeeded to open the jar archive\n\ndocker run \\\n    --mount type=bind,src=&quot;${ARTIFACT_PATH}&quot;,target=/opt/flink/usrlib \\\n    --env FLINK_PROPERTIES=&quot;${FLINK_PROPERTIES}&quot; \\\n    --network flink-network \\\n    arm64v8/flink:latest taskmanager\n</code></pre>\n<p>Edit: I forgot to write network on both runs, however didn't change the result. Also tried using the host network - didn't help neither.</p>\n<h1>Results (log)</h1>\n<pre><code>2023-07-05 02:38:49,177 WARN  org.apache.flink.runtime.net.ConnectionUtils                 [] - Could not connect to jobmanager:6123. Selecting a local address using heuristics.\n2023-07-05 02:38:49,177 WARN  org.apache.flink.runtime.net.ConnectionUtils                 [] - Could not find any IPv4 address that is not loopback or link-local. Using localhost address.\n\n...\n\n2023-07-05 02:38:50,172 WARN  akka.remote.ReliableDeliverySupervisor                       [] - Association with remote system [akka.tcp://flink@jobmanager:6123] has failed, address is now gated for [50] ms. Reason: [Association failed with [akka.tcp://flink@jobmanager:6123]] Caused by: [java.net.UnknownHostException: jobmanager: Name or service not known]\n\n...\n\n2023-07-05 02:43:50,127 ERROR org.apache.flink.runtime.taskexecutor.TaskExecutor           [] - Fatal error occurred in TaskExecutor akka.tcp://flink@172.17.0.2:43843/user/rpc/taskmanager_0.\norg.apache.flink.runtime.taskexecutor.exceptions.RegistrationTimeoutException: Could not register at the ResourceManager within the specified maximum registration duration PT5M. This indicates a problem with this instance. Terminating now.\n\n...\n\n2023-07-05 02:43:50,153 ERROR org.apache.flink.runtime.taskexecutor.TaskManagerRunner      [] - Fatal error occurred while executing the TaskManager. Shutting it down...\norg.apache.flink.runtime.taskexecutor.exceptions.RegistrationTimeoutException: Could not register at the ResourceManager within the specified maximum registration duration PT5M. This indicates a problem with this instance. Terminating now.\n</code></pre>\n<p>I would appreciate any means of help or advice. Thanks in advance.</p>\n"},{"tags":["java","javascript","sockets"],"comments":[{"owner":{"account_id":229855,"reputation":19367,"user_id":493106,"accept_rate":79,"display_name":"xaxxon"},"score":0,"creation_date":1375746050,"post_id":18064982,"comment_id":26443400,"body_markdown":"I don&#39;t know what java_socket_bridge is, but you cannot connect to an arbitrary TCP socket from javascript running in a browser, only HTTP.  And while you could bridge TCP over HTTP, what you write in java would have to speak HTTP, not just a normal socket.  Short answer: you can&#39;t.","body":"I don&#39;t know what java_socket_bridge is, but you cannot connect to an arbitrary TCP socket from javascript running in a browser, only HTTP.  And while you could bridge TCP over HTTP, what you write in java would have to speak HTTP, not just a normal socket.  Short answer: you can&#39;t."},{"owner":{"account_id":1351676,"reputation":10551,"user_id":1291122,"accept_rate":50,"display_name":"rahulserver"},"score":0,"creation_date":1375757718,"post_id":18064982,"comment_id":26445906,"body_markdown":"@xaxxon I have corrected my code and removed the line of java_socket_bridge. So you mean that to make this work, I need to establish an HTTP socket in java. Let me give it a try.","body":"@xaxxon I have corrected my code and removed the line of java_socket_bridge. So you mean that to make this work, I need to establish an HTTP socket in java. Let me give it a try."},{"owner":{"account_id":229855,"reputation":19367,"user_id":493106,"accept_rate":79,"display_name":"xaxxon"},"score":0,"creation_date":1375759948,"post_id":18064982,"comment_id":26446349,"body_markdown":"javascript running in a web browser can only initiate http connections.  But you can use ajax and websockets.  However, writing your own server for doing websockets is challenging.","body":"javascript running in a web browser can only initiate http connections.  But you can use ajax and websockets.  However, writing your own server for doing websockets is challenging."},{"owner":{"account_id":1351676,"reputation":10551,"user_id":1291122,"accept_rate":50,"display_name":"rahulserver"},"score":0,"creation_date":1375760053,"post_id":18064982,"comment_id":26446368,"body_markdown":"@xaxxon So you mean that there is no easy way to make javascript communicate with anything running on local client machine?","body":"@xaxxon So you mean that there is no easy way to make javascript communicate with anything running on local client machine?"},{"owner":{"account_id":229855,"reputation":19367,"user_id":493106,"accept_rate":79,"display_name":"xaxxon"},"score":0,"creation_date":1375760592,"post_id":18064982,"comment_id":26446487,"body_markdown":"if by easy you mean without using some sort of browser plugin (like java or flash), then yes.  It&#39;s not hard, it&#39;s impossible.  That&#39;s a security issue.","body":"if by easy you mean without using some sort of browser plugin (like java or flash), then yes.  It&#39;s not hard, it&#39;s impossible.  That&#39;s a security issue."},{"owner":{"account_id":1351676,"reputation":10551,"user_id":1291122,"accept_rate":50,"display_name":"rahulserver"},"score":0,"creation_date":1375760905,"post_id":18064982,"comment_id":26446542,"body_markdown":"@xaxxon then it would be very difficult for me because I can not embed an editable excel sheet into a web page. And I want to do what I want in the question because I want to get rid of overhead of creating excel file and uploading again and again.I wanted to automate it using java server running on client.I hope that you could suggest something for that.Anyways you can give your first comment as the answer.Thanx!!","body":"@xaxxon then it would be very difficult for me because I can not embed an editable excel sheet into a web page. And I want to do what I want in the question because I want to get rid of overhead of creating excel file and uploading again and again.I wanted to automate it using java server running on client.I hope that you could suggest something for that.Anyways you can give your first comment as the answer.Thanx!!"},{"owner":{"account_id":229855,"reputation":19367,"user_id":493106,"accept_rate":79,"display_name":"xaxxon"},"score":0,"creation_date":1375764690,"post_id":18064982,"comment_id":26447394,"body_markdown":"turns out it&#39;s pretty hard.  If you don&#39;t know where to start, it&#39;s probably a bit too difficult to describe to you.  Use google docs?","body":"turns out it&#39;s pretty hard.  If you don&#39;t know where to start, it&#39;s probably a bit too difficult to describe to you.  Use google docs?"}],"answers":[{"tags":[],"owner":{"account_id":33409,"reputation":335,"user_id":93518,"display_name":"johnstosh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1439012588,"creation_date":1439012588,"answer_id":31890065,"question_id":18064982,"body_markdown":"You&#39;re kind of on a dirt road and you need to get yourself on a freeway.\r\n\r\njavascript can communicate to java code in the specific case where the browser got the web page and javascript from a host and then the javascript connects back to that same host to get a connection for more data.  \r\n\r\nIn your case, you&#39;d like the same machine to be both client and server. But it is easier to understand what&#39;s required if you realize this idea of two machines: a client running the browser and the server which runs java.\r\n\r\nSo, you can find many examples of this on the web. For example, take a look at java running in Tomcat, providing a web page and javascript and then the javascript reading json data using a different URL on the Tomcat server. \r\n\r\nIf you think of the main-stream uses of web technology you can find videos demonstrating what you&#39;d like to see. Look around, for example, at the AngularJS demos and RESTful Web Services demos.\r\n\r\n","title":"Socket Communication between Java server on client and Javascript","body":"<p>You're kind of on a dirt road and you need to get yourself on a freeway.</p>\n\n<p>javascript can communicate to java code in the specific case where the browser got the web page and javascript from a host and then the javascript connects back to that same host to get a connection for more data.  </p>\n\n<p>In your case, you'd like the same machine to be both client and server. But it is easier to understand what's required if you realize this idea of two machines: a client running the browser and the server which runs java.</p>\n\n<p>So, you can find many examples of this on the web. For example, take a look at java running in Tomcat, providing a web page and javascript and then the javascript reading json data using a different URL on the Tomcat server. </p>\n\n<p>If you think of the main-stream uses of web technology you can find videos demonstrating what you'd like to see. Look around, for example, at the AngularJS demos and RESTful Web Services demos.</p>\n"}],"owner":{"account_id":1351676,"reputation":10551,"user_id":1291122,"accept_rate":50,"display_name":"rahulserver"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4279,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31890065,"answer_count":1,"score":2,"last_activity_date":1688628498,"creation_date":1375726772,"question_id":18064982,"body_markdown":"I want to establish a socket communication between javascript running on a web page and a java SocketServer running on my client machine so that as soon as the connection is established between the two, an excel sheet is opened on the client machine. I know that it would cause security issues, but since the communication would be on localhost so I am Ok with that.\r\n\r\nHere is my java server running on client:\r\n\r\n    import java.io.*;\r\n    import java.net.*;\r\n    \r\n    public class ServerExcelOpenOnJavaScriptConnect {\r\n        public static void main(String args[]) throws Exception {\r\n            ServerSocket welcomeSocket = new ServerSocket(12345);\r\n    \r\n    \r\n                Socket connectionSocket = welcomeSocket.accept();\r\n                Process p =\r\n                        Runtime.getRuntime()\r\n                                .exec(&quot;C:\\\\Program Files (x86)\\\\Microsoft Office\\\\Office14\\\\excel.exe c:\\\\users\\\\rahulserver\\\\desktop\\\\abcd.xlsx&quot;);\r\n                System.out.println(&quot;Waiting for excel file ...&quot;);\r\n                p.waitFor();\r\n                System.out.println(&quot;Excel file done.&quot;);\r\n    \r\n                //Runtime.getRuntime().exec();\r\n    \r\n        }\r\n    }\r\n\r\nHere is my html with javascript:\r\n\r\n\r\n        &lt;html&gt;\r\n    &lt;head&gt;\r\n    \t&lt;title&gt;TCP Socket test&lt;/title&gt;\r\n    \t&lt;script type=&quot;text/javascript&quot;&gt;\r\n    \tfunction connect(){\r\n                    var host = &#39;localhost&#39;;\r\n                    var port = 12345;\r\n    \t\tvar socket = new io.Socket(&#39;localhost&#39;,{&#39;port&#39;:12345});\r\n    \t\tsocket.connect();\r\n    \t\talert(&quot;connected&quot;);\r\n    }\r\n    \t\t\r\n                    \r\n                    \r\n    \t&lt;/script&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n    \t&lt;button onclick=&quot;connect()&quot;&gt;Connect&lt;/button&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nThe connection is not getting established as the server keeps on waiting for connection on port 12345. So how should it be done?","title":"Socket Communication between Java server on client and Javascript","body":"<p>I want to establish a socket communication between javascript running on a web page and a java SocketServer running on my client machine so that as soon as the connection is established between the two, an excel sheet is opened on the client machine. I know that it would cause security issues, but since the communication would be on localhost so I am Ok with that.</p>\n\n<p>Here is my java server running on client:</p>\n\n<pre><code>import java.io.*;\nimport java.net.*;\n\npublic class ServerExcelOpenOnJavaScriptConnect {\n    public static void main(String args[]) throws Exception {\n        ServerSocket welcomeSocket = new ServerSocket(12345);\n\n\n            Socket connectionSocket = welcomeSocket.accept();\n            Process p =\n                    Runtime.getRuntime()\n                            .exec(\"C:\\\\Program Files (x86)\\\\Microsoft Office\\\\Office14\\\\excel.exe c:\\\\users\\\\rahulserver\\\\desktop\\\\abcd.xlsx\");\n            System.out.println(\"Waiting for excel file ...\");\n            p.waitFor();\n            System.out.println(\"Excel file done.\");\n\n            //Runtime.getRuntime().exec();\n\n    }\n}\n</code></pre>\n\n<p>Here is my html with javascript:</p>\n\n<pre><code>    &lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;TCP Socket test&lt;/title&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    function connect(){\n                var host = 'localhost';\n                var port = 12345;\n        var socket = new io.Socket('localhost',{'port':12345});\n        socket.connect();\n        alert(\"connected\");\n}\n\n\n\n    &lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;button onclick=\"connect()\"&gt;Connect&lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The connection is not getting established as the server keeps on waiting for connection on port 12345. So how should it be done?</p>\n"},{"tags":["java","apache-spark","apache-spark-sql"],"answers":[{"tags":[],"owner":{"account_id":11741096,"reputation":9150,"user_id":8593414,"display_name":"Srinivas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589682618,"creation_date":1588685138,"answer_id":61614277,"question_id":61611328,"body_markdown":"Please check below code.\r\n\r\n- Extract the fields from struct \r\n- Update the required filed.\r\n- Reconstruct the struct back.\r\n\r\n\r\n```\r\nscala&gt; df.show(false)\r\n+-------+--------------+\r\n|field_a|field_b       |\r\n+-------+--------------+\r\n|parentA|[srinivas, 20]|\r\n|parentB|[ravi, 30]    |\r\n+-------+--------------+\r\n\r\n\r\nscala&gt; df.printSchema\r\nroot\r\n |-- field_a: string (nullable = true)\r\n |-- field_b: struct (nullable = true)\r\n |    |-- field_to_update: string (nullable = true)\r\n |    |-- field_not_to_update: integer (nullable = true)\r\n\r\n\r\nscala&gt; df.select(&quot;field_a&quot;,&quot;field_b.field_to_update&quot;,&quot;field_b.field_not_to_update&quot;).withColumn(&quot;field_to_update&quot;,lit(&quot;updated_val&quot;)).select(col(&quot;field_a&quot;),struct(col(&quot;field_to_update&quot;),col(&quot;field_not_to_update&quot;)).as(&quot;field_b&quot;)).show(false)\r\n+-------+-----------------+\r\n|field_a|field_b          |\r\n+-------+-----------------+\r\n|parentA|[updated_val, 20]|\r\n|parentB|[updated_val, 30]|\r\n+-------+-----------------+\r\n\r\n```","title":"Update value in struct type column in java spark","body":"<p>Please check below code.</p>\n\n<ul>\n<li>Extract the fields from struct </li>\n<li>Update the required filed.</li>\n<li>Reconstruct the struct back.</li>\n</ul>\n\n<pre><code>scala&gt; df.show(false)\n+-------+--------------+\n|field_a|field_b       |\n+-------+--------------+\n|parentA|[srinivas, 20]|\n|parentB|[ravi, 30]    |\n+-------+--------------+\n\n\nscala&gt; df.printSchema\nroot\n |-- field_a: string (nullable = true)\n |-- field_b: struct (nullable = true)\n |    |-- field_to_update: string (nullable = true)\n |    |-- field_not_to_update: integer (nullable = true)\n\n\nscala&gt; df.select(\"field_a\",\"field_b.field_to_update\",\"field_b.field_not_to_update\").withColumn(\"field_to_update\",lit(\"updated_val\")).select(col(\"field_a\"),struct(col(\"field_to_update\"),col(\"field_not_to_update\")).as(\"field_b\")).show(false)\n+-------+-----------------+\n|field_a|field_b          |\n+-------+-----------------+\n|parentA|[updated_val, 20]|\n|parentB|[updated_val, 30]|\n+-------+-----------------+\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4195728,"reputation":1108,"user_id":3437202,"display_name":"Alfilercio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589732201,"creation_date":1589576175,"answer_id":61828211,"question_id":61611328,"body_markdown":"You will have to reconstruct the whole schema, you can do it in a single instance with the following sentence.\r\n\r\n    import org.apache.spark.sql.functions.{lit, struct}\r\n\r\n    df.select(\r\n      df(&quot;field_a&quot;), // keep the fields that don&#39;t change\r\n      struct( // the field at first level must be reconstructed\r\n         lit(&quot;updated_value&quot;) as &quot;field_to_update&quot;, // transform or set the new elements\r\n         df(&quot;fb.field_not_to_update&quot;) as &quot;field_not_to_update&quot; // keep the unchanged sub elements and keep the last name\r\n      ) as &quot;field_b&quot;, // and we have to keep the name\r\n      df(&quot;field_c&quot;)\r\n    )\r\n\r\nThe syntax will be the same in java","title":"Update value in struct type column in java spark","body":"<p>You will have to reconstruct the whole schema, you can do it in a single instance with the following sentence.</p>\n\n<pre><code>import org.apache.spark.sql.functions.{lit, struct}\n\ndf.select(\n  df(\"field_a\"), // keep the fields that don't change\n  struct( // the field at first level must be reconstructed\n     lit(\"updated_value\") as \"field_to_update\", // transform or set the new elements\n     df(\"fb.field_not_to_update\") as \"field_not_to_update\" // keep the unchanged sub elements and keep the last name\n  ) as \"field_b\", // and we have to keep the name\n  df(\"field_c\")\n)\n</code></pre>\n\n<p>The syntax will be the same in java</p>\n"},{"tags":[],"owner":{"account_id":2441365,"reputation":13988,"user_id":2129801,"display_name":"werner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590351374,"creation_date":1590351374,"answer_id":61991932,"question_id":61611328,"body_markdown":"A more &quot;Java-like&quot; approach would be to convert the dataframe into a (typed) dataset and then use a [map](https://spark.apache.org/docs/2.4.4/api/java/org/apache/spark/sql/Dataset.html#map-org.apache.spark.api.java.function.MapFunction-org.apache.spark.sql.Encoder-) call to change the data. From a Java perspective the code is easy to handle. But the downside is that you would need three [Java bean classes](https://www.oracle.com/technetwork/java/javase/documentation/spec-136004.html) for the given schema.\r\n```lang-java\r\nDataset&lt;Bean1&gt; ds = df.as(Encoders.bean(Bean1.class));\r\n\r\nDataset&lt;Bean1&gt; updatedDs = ds.map((MapFunction&lt;Bean1, Bean1&gt;) row -&gt; {\r\n    row.getField_b().getField_d().setField_to_update(&quot;updated&quot;);\r\n    return row;\r\n}, Encoders.bean(Bean1.class));\r\n```\r\nwith the three Bean classes\r\n```lang-java\r\npublic static class Bean1 implements Serializable {\r\n    private String field_a;\r\n    private Bean2 field_b;\r\n    private String field_c;\r\n\r\n    //getters and setters\r\n}\r\n\r\npublic static class Bean2 implements Serializable {\r\n    private Bean3 field_d;\r\n\r\n    //getter and setter\r\n}\r\n\r\npublic static class Bean3 implements Serializable {\r\n    private String field_not_to_update;\r\n    private String field_to_update;\r\n\r\n    //getters and setters\r\n}\r\n```\r\n\r\n","title":"Update value in struct type column in java spark","body":"<p>A more \"Java-like\" approach would be to convert the dataframe into a (typed) dataset and then use a <a href=\"https://spark.apache.org/docs/2.4.4/api/java/org/apache/spark/sql/Dataset.html#map-org.apache.spark.api.java.function.MapFunction-org.apache.spark.sql.Encoder-\" rel=\"nofollow noreferrer\">map</a> call to change the data. From a Java perspective the code is easy to handle. But the downside is that you would need three <a href=\"https://www.oracle.com/technetwork/java/javase/documentation/spec-136004.html\" rel=\"nofollow noreferrer\">Java bean classes</a> for the given schema.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Dataset&lt;Bean1&gt; ds = df.as(Encoders.bean(Bean1.class));\n\nDataset&lt;Bean1&gt; updatedDs = ds.map((MapFunction&lt;Bean1, Bean1&gt;) row -&gt; {\n    row.getField_b().getField_d().setField_to_update(\"updated\");\n    return row;\n}, Encoders.bean(Bean1.class));\n</code></pre>\n\n<p>with the three Bean classes</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static class Bean1 implements Serializable {\n    private String field_a;\n    private Bean2 field_b;\n    private String field_c;\n\n    //getters and setters\n}\n\npublic static class Bean2 implements Serializable {\n    private Bean3 field_d;\n\n    //getter and setter\n}\n\npublic static class Bean3 implements Serializable {\n    private String field_not_to_update;\n    private String field_to_update;\n\n    //getters and setters\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16926599,"reputation":305,"user_id":12242023,"display_name":"Prabhatika Vij"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688627734,"creation_date":1688571942,"answer_id":76621963,"question_id":61611328,"body_markdown":"The method [withField][1] was introduced in Spark 3.1.1. As per the documentation: -\r\n\r\n&gt; An expression that adds/replaces field in StructType by name.\r\n\r\nThe following code snippet (in scala) shows this: -\r\n\r\n```scala\r\nimport org.apache.spark.sql.types.{StructType, StructField, StringType}\r\nimport org.apache.spark.sql.functions\r\n\r\nval structSchema = new StructType()\r\n.add(new StructField(&quot;field_a&quot;, StringType, true))\r\n.add(new StructField(&quot;field_b&quot;, \r\nnew StructType().add(new StructField(&quot;field_not_to_update&quot;, StringType, true))\r\n.add(new StructField(&quot;field_to_update&quot;, StringType, true)), \r\ntrue))\r\n.add(new StructField(&quot;field_c&quot;, StringType, true))\r\n\r\nval df = Seq(&quot;&quot;&quot;{&quot;field_a&quot;: &quot;some-value-a&quot;, &quot;field_b&quot;: {&quot;field_not_to_update&quot;: &quot;field_not_to_update_b&quot;, &quot;field_to_update&quot;: &quot;field_to_update_b&quot;}, &quot;field_c&quot;: &quot;some-value-c&quot;}&quot;&quot;&quot;).toDF\r\nval processedDf = df.withColumn(\r\n          &quot;processed_payload&quot;,\r\n          functions.from_json(functions.col(&quot;value&quot;), structSchema)\r\n        )\r\nval finalDf = processedDf.select(&quot;processed_payload.*&quot;)\r\nprintln(&quot;Input dataframe: &quot;)\r\nfinalDf.show(truncate=false)\r\nval updatedDf = finalDf.withColumn(&quot;field_b&quot;, functions.col(&quot;field_b&quot;).withField(&quot;field_to_update&quot;, functions.lit(&quot;UPDATED_VALUE&quot;)))\r\nprintln(&quot;Updated dataframe: &quot;)\r\nupdatedDf.show(truncate=false)\r\n```\r\n\r\nThe output of the above code snippet is as follows: -\r\n\r\n```\r\nInput dataframe: \r\n+------------+------------------------------------------+------------+\r\n|field_a     |field_b                                   |field_c     |\r\n+------------+------------------------------------------+------------+\r\n|some-value-a|{field_not_to_update_b, field_to_update_b}|some-value-c|\r\n+------------+------------------------------------------+------------+\r\n\r\nUpdated dataframe: \r\n+------------+--------------------------------------+------------+\r\n|field_a     |field_b                               |field_c     |\r\n+------------+--------------------------------------+------------+\r\n|some-value-a|{field_not_to_update_b, UPDATED_VALUE}|some-value-c|\r\n+------------+--------------------------------------+------------+\r\n```\r\n\r\n  [1]: https://spark.apache.org/docs/3.1.1/api/java/org/apache/spark/sql/Column.html#withField-java.lang.String-org.apache.spark.sql.Column-","title":"Update value in struct type column in java spark","body":"<p>The method <a href=\"https://spark.apache.org/docs/3.1.1/api/java/org/apache/spark/sql/Column.html#withField-java.lang.String-org.apache.spark.sql.Column-\" rel=\"nofollow noreferrer\">withField</a> was introduced in Spark 3.1.1. As per the documentation: -</p>\n<blockquote>\n<p>An expression that adds/replaces field in StructType by name.</p>\n</blockquote>\n<p>The following code snippet (in scala) shows this: -</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import org.apache.spark.sql.types.{StructType, StructField, StringType}\nimport org.apache.spark.sql.functions\n\nval structSchema = new StructType()\n.add(new StructField(&quot;field_a&quot;, StringType, true))\n.add(new StructField(&quot;field_b&quot;, \nnew StructType().add(new StructField(&quot;field_not_to_update&quot;, StringType, true))\n.add(new StructField(&quot;field_to_update&quot;, StringType, true)), \ntrue))\n.add(new StructField(&quot;field_c&quot;, StringType, true))\n\nval df = Seq(&quot;&quot;&quot;{&quot;field_a&quot;: &quot;some-value-a&quot;, &quot;field_b&quot;: {&quot;field_not_to_update&quot;: &quot;field_not_to_update_b&quot;, &quot;field_to_update&quot;: &quot;field_to_update_b&quot;}, &quot;field_c&quot;: &quot;some-value-c&quot;}&quot;&quot;&quot;).toDF\nval processedDf = df.withColumn(\n          &quot;processed_payload&quot;,\n          functions.from_json(functions.col(&quot;value&quot;), structSchema)\n        )\nval finalDf = processedDf.select(&quot;processed_payload.*&quot;)\nprintln(&quot;Input dataframe: &quot;)\nfinalDf.show(truncate=false)\nval updatedDf = finalDf.withColumn(&quot;field_b&quot;, functions.col(&quot;field_b&quot;).withField(&quot;field_to_update&quot;, functions.lit(&quot;UPDATED_VALUE&quot;)))\nprintln(&quot;Updated dataframe: &quot;)\nupdatedDf.show(truncate=false)\n</code></pre>\n<p>The output of the above code snippet is as follows: -</p>\n<pre><code>Input dataframe: \n+------------+------------------------------------------+------------+\n|field_a     |field_b                                   |field_c     |\n+------------+------------------------------------------+------------+\n|some-value-a|{field_not_to_update_b, field_to_update_b}|some-value-c|\n+------------+------------------------------------------+------------+\n\nUpdated dataframe: \n+------------+--------------------------------------+------------+\n|field_a     |field_b                               |field_c     |\n+------------+--------------------------------------+------------+\n|some-value-a|{field_not_to_update_b, UPDATED_VALUE}|some-value-c|\n+------------+--------------------------------------+------------+\n</code></pre>\n"}],"owner":{"account_id":1901662,"reputation":1900,"user_id":1717405,"display_name":"AlphaBetaGamma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1645,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":4,"score":3,"last_activity_date":1688627734,"creation_date":1588675682,"question_id":61611328,"body_markdown":"I want capability to update value in nested dataset. For this I have a created as nested Dataset in Spark. It has below schema structure:-\r\n\r\n    root\r\n    \r\n     |-- field_a: string (nullable = false)\r\n    \r\n     |-- field_b: struct (nullable = true)\r\n    \r\n     |    |-- field_d: struct(nullable = false)\r\n              |-- field_not_to_update: string(nullable = true)\r\n    \r\n     |        |-- field_to_update: string(nullable = false)\r\n     |   field_c: string (nullable = false)\r\n\r\n\r\n\r\nNow I wanted to update value in `field_to_update` in the dataset. I have tried \r\n\r\n    aFooData.withColumn(&quot;field_b.field_d.field_to_update&quot;, lit(&quot;updated_val&quot;)\r\n\r\nAlso tried,\r\n\r\n    aFooData.foreach(new ClassWithForEachFunction());\r\n\r\n \r\n\r\nwhere `ClassWithForEachFunction implements ForEachFunction&lt;Row&gt;` and has method `public void call(Row aRow)` to update field_to_update attribute. Tried same with lamda as well but it was throwing Task not serializable exception so has to go for long process.\r\n\r\n\r\nNone of them are fruitful so far and I am getting same Dataset with foreach and new column with name  `field_b.field_d.field_to_update` in second case. Any other suggestions for same?\r\n\r\n","title":"Update value in struct type column in java spark","body":"<p>I want capability to update value in nested dataset. For this I have a created as nested Dataset in Spark. It has below schema structure:-</p>\n\n<pre><code>root\n\n |-- field_a: string (nullable = false)\n\n |-- field_b: struct (nullable = true)\n\n |    |-- field_d: struct(nullable = false)\n          |-- field_not_to_update: string(nullable = true)\n\n |        |-- field_to_update: string(nullable = false)\n |   field_c: string (nullable = false)\n</code></pre>\n\n<p>Now I wanted to update value in <code>field_to_update</code> in the dataset. I have tried </p>\n\n<pre><code>aFooData.withColumn(\"field_b.field_d.field_to_update\", lit(\"updated_val\")\n</code></pre>\n\n<p>Also tried,</p>\n\n<pre><code>aFooData.foreach(new ClassWithForEachFunction());\n</code></pre>\n\n<p>where <code>ClassWithForEachFunction implements ForEachFunction&lt;Row&gt;</code> and has method <code>public void call(Row aRow)</code> to update field_to_update attribute. Tried same with lamda as well but it was throwing Task not serializable exception so has to go for long process.</p>\n\n<p>None of them are fruitful so far and I am getting same Dataset with foreach and new column with name  <code>field_b.field_d.field_to_update</code> in second case. Any other suggestions for same?</p>\n"},{"tags":["java","spring-boot","bearer-token"],"answers":[{"tags":[],"owner":{"account_id":23134567,"reputation":534,"user_id":17238973,"display_name":"Sahil Patel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688624909,"creation_date":1688624909,"answer_id":76626051,"question_id":76625854,"body_markdown":"try with this \r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setBearerAuth(accessToken);","title":"Get bearer token and consume token from another API","body":"<p>try with this</p>\n<pre><code>HttpHeaders headers = new HttpHeaders();\nheaders.setBearerAuth(accessToken);\n</code></pre>\n"}],"owner":{"account_id":14001871,"reputation":87,"user_id":10113226,"display_name":"Kraken"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688627620,"creation_date":1688622577,"question_id":76625854,"body_markdown":"I have created an API to get bearer token and use the token on the same API as I got the token, here is the controller I have created:\r\n\r\n    @GetMapping(&quot;/getNik&quot;)\r\n    \tpublic String pushToken() {\r\n    \t\t//generate token\r\n    \t    String uri = &quot;http://some-url-to-get-token&quot;; \r\n    \t    String notEncoded =&quot;*****:******&quot;;\r\n    \t    String encodedAuth = Base64.getEncoder().encodeToString(notEncoded.getBytes());\r\n    \t    System.out.println(&quot;encodeUserPass &quot;+encodedAuth);\r\n    \t\t    RestTemplate restTemplate = new RestTemplate();\r\n    \t\t    HttpHeaders headers = new HttpHeaders();\r\n    \t\t    headers.setContentType(MediaType.APPLICATION_JSON);\r\n    \t\t    headers.set(&quot;client_id&quot;, &quot;client_id&quot;);\r\n    \t\t    headers.set(&quot;Authorization&quot;, &quot;Basic &quot;+encodedAuth);\r\n    \r\n    \t\t  \r\n    \t\t\tHttpEntity&lt;String&gt; result = new HttpEntity&lt;String&gt;(headers);\r\n    \t\t\tString token = restTemplate.postForObject(uri, result, String.class);\r\n    \t\t\t\r\n    \t\t\tObject obj=JSONValue.parse(token); \r\n    \t\t\tJSONObject jsonObject = (JSONObject) obj; \r\n    \t\t\tString access_token = (String) jsonObject.get(&quot;access_token&quot;); \r\n    \t\t\t//dapat token\r\n    \t\t\tSystem.out.println(&quot;baru di get &quot;+access_token);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t//hit get nik\r\n            String urix = &quot;http:/some-url-that-need-otp-to-access&quot;; \r\n    \t    RestTemplate restTemplatex = new RestTemplate();\r\n    \t    HttpHeaders headersx = new HttpHeaders();\r\n    \t    headersx.setContentType(MediaType.APPLICATION_JSON);\r\n    \t    headersx.set(&quot;Authorization&quot;, &quot;Bearer &quot;+access_token);\r\n    \t    System.out.println(&quot;initokennya &quot;+access_token);\r\n    \r\n    \t\tHttpEntity&lt;String&gt; resultx = new HttpEntity&lt;String&gt;(headersx);\r\n    \t\tSystem.out.println(&quot;sama?&quot;+resultx);\r\n    \t\t//fail\r\n    \t\tString get = restTemplatex.getForObject(urix ,String.class, resultx);\r\n    \t\t\r\n    \t    return get;\r\n    \t}\r\n\r\n\r\nThe problem is when I got the token, I try to hit the API, but I can&#39;t use it, error 401 Unauthorized is there something I missed?\r\n\r\n","title":"Get bearer token and consume token from another API","body":"<p>I have created an API to get bearer token and use the token on the same API as I got the token, here is the controller I have created:</p>\n<pre><code>@GetMapping(&quot;/getNik&quot;)\n    public String pushToken() {\n        //generate token\n        String uri = &quot;http://some-url-to-get-token&quot;; \n        String notEncoded =&quot;*****:******&quot;;\n        String encodedAuth = Base64.getEncoder().encodeToString(notEncoded.getBytes());\n        System.out.println(&quot;encodeUserPass &quot;+encodedAuth);\n            RestTemplate restTemplate = new RestTemplate();\n            HttpHeaders headers = new HttpHeaders();\n            headers.setContentType(MediaType.APPLICATION_JSON);\n            headers.set(&quot;client_id&quot;, &quot;client_id&quot;);\n            headers.set(&quot;Authorization&quot;, &quot;Basic &quot;+encodedAuth);\n\n          \n            HttpEntity&lt;String&gt; result = new HttpEntity&lt;String&gt;(headers);\n            String token = restTemplate.postForObject(uri, result, String.class);\n            \n            Object obj=JSONValue.parse(token); \n            JSONObject jsonObject = (JSONObject) obj; \n            String access_token = (String) jsonObject.get(&quot;access_token&quot;); \n            //dapat token\n            System.out.println(&quot;baru di get &quot;+access_token);\n            \n            \n        //hit get nik\n        String urix = &quot;http:/some-url-that-need-otp-to-access&quot;; \n        RestTemplate restTemplatex = new RestTemplate();\n        HttpHeaders headersx = new HttpHeaders();\n        headersx.setContentType(MediaType.APPLICATION_JSON);\n        headersx.set(&quot;Authorization&quot;, &quot;Bearer &quot;+access_token);\n        System.out.println(&quot;initokennya &quot;+access_token);\n\n        HttpEntity&lt;String&gt; resultx = new HttpEntity&lt;String&gt;(headersx);\n        System.out.println(&quot;sama?&quot;+resultx);\n        //fail\n        String get = restTemplatex.getForObject(urix ,String.class, resultx);\n        \n        return get;\n    }\n</code></pre>\n<p>The problem is when I got the token, I try to hit the API, but I can't use it, error 401 Unauthorized is there something I missed?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":3,"creation_date":1381243676,"post_id":19250966,"comment_id":28497045,"body_markdown":"You need a `manifest` file with a `Main` entry.","body":"You need a <code>manifest</code> file with a <code>Main</code> entry."},{"owner":{"account_id":1654267,"reputation":7322,"user_id":1524210,"accept_rate":88,"display_name":"David Tunnell"},"score":0,"creation_date":1381243748,"post_id":19250966,"comment_id":28497089,"body_markdown":"Is there a way to generate one on jar export in eclipse?","body":"Is there a way to generate one on jar export in eclipse?"},{"owner":{"account_id":133140,"reputation":8968,"user_id":334279,"accept_rate":31,"display_name":"RamonBoza"},"score":3,"creation_date":1381243786,"post_id":19250966,"comment_id":28497119,"body_markdown":"If you export as a jar auto-executable, it will create the manifest for you","body":"If you export as a jar auto-executable, it will create the manifest for you"},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1381243830,"post_id":19250966,"comment_id":28497151,"body_markdown":"@DavidTunnell If you step through the Export wizard, there should be an option to specify a `Main` class.","body":"@DavidTunnell If you step through the Export wizard, there should be an option to specify a <code>Main</code> class."}],"answers":[{"tags":[],"owner":{"account_id":3295353,"reputation":4907,"user_id":2772755,"display_name":"Admit"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1432934151,"creation_date":1381244004,"answer_id":19251129,"question_id":19250966,"body_markdown":"First run your application from eclipse to create launch configuration.\r\nThen just follow the steps:\r\n\r\n&gt; &lt;ol&gt;\r\n&gt;       &lt;li&gt;\r\n&gt;         From the menu bar&#39;s &lt;strong&gt;File&lt;/strong&gt; menu, select &lt;strong&gt;Export&lt;/strong&gt;.\r\n&gt;       &lt;/li&gt;\r\n&gt;       &lt;li&gt;\r\n&gt;         Expand the &lt;strong&gt;Java&lt;/strong&gt; node and select &lt;strong&gt;Runnable JAR file&lt;/strong&gt;. Click &lt;strong&gt;Next&lt;/strong&gt;.\r\n&gt;       &lt;/li&gt;\r\n&gt;       &lt;li&gt;\r\n&gt;         In the &lt;a class=&quot;command-link&quot; href=&#39;javascript:executeCommand(&quot;org.eclipse.ui.file.export(exportWizardId=org.eclipse.jdt.internal.ui.fatjarpackager.JarPackageWizard)&quot;)&#39;&gt;\r\n&gt;         &lt;img src=&quot;../../org.eclipse.help/command_link.png&quot; alt=&quot;Opens the Runnable JAR export wizard&quot;&gt;\r\n&gt;         &lt;strong&gt;Runnable JAR File Specification&lt;/strong&gt;&lt;/a&gt; page, select a &#39;Java Application&#39; launch configuration to use to create a\r\n&gt; runnable JAR.\r\n&gt;       &lt;/li&gt;\r\n&gt;       &lt;li&gt;\r\n&gt;         In the &lt;strong&gt;Export destination&lt;/strong&gt; field, either type or click &lt;strong&gt;Browse&lt;/strong&gt; to select a location\r\n&gt;         for the JAR file.\r\n&gt;       &lt;/li&gt;\r\n&gt;       &lt;li&gt;\r\n&gt;         Select an appropriate &lt;a href=&quot;../reference/ref-export-runnable-jar.htm#library-handling&quot;&gt;&lt;strong&gt;library\r\n&gt; handling&lt;/strong&gt;&lt;/a&gt; strategy.\r\n&gt;       &lt;/li&gt;\r\n&gt;       &lt;li&gt;\r\n&gt;         Optionally, you can also create an ANT script to quickly regenerate a previously created runnable JAR file. \r\n&gt;       &lt;/li&gt;\r\n&gt;     &lt;/ol&gt;\r\n\r\nSource: [Creating a New Runnable JAR File][1] at Eclipse.org\r\n\r\n\r\n  [1]: http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/tasks-37.htm","title":"Failing to run jar file from command line: no main manifest attribute","body":"<p>First run your application from eclipse to create launch configuration.\nThen just follow the steps:</p>\n\n<blockquote>\n  <ol>\n        <li>\n          From the menu bar's <strong>File</strong> menu, select <strong>Export</strong>.\n        </li>\n        <li>\n          Expand the <strong>Java</strong> node and select <strong>Runnable JAR file</strong>. Click <strong>Next</strong>.\n        </li>\n        <li>\n          In the \n          \n          <strong>Runnable JAR File Specification</strong> page, select a 'Java Application' launch configuration to use to create a\n  runnable JAR.\n        </li>\n        <li>\n          In the <strong>Export destination</strong> field, either type or click <strong>Browse</strong> to select a location\n          for the JAR file.\n        </li>\n        <li>\n          Select an appropriate <strong>library\n  handling</strong> strategy.\n        </li>\n        <li>\n          Optionally, you can also create an ANT script to quickly regenerate a previously created runnable JAR file. \n        </li>\n      </ol>\n</blockquote>\n\n<p>Source: <a href=\"http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.jdt.doc.user/tasks/tasks-37.htm\" rel=\"noreferrer\">Creating a New Runnable JAR File</a> at Eclipse.org</p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1474476209,"creation_date":1381244157,"answer_id":19251196,"question_id":19250966,"body_markdown":"In Eclipse: `right-click` on your project -&gt; `Export` -&gt; `JAR file`\r\n\r\nAt last page with options (when there will be no `Next` button active) you will see settings for `Main class:`. You need to set here class with `main` method which should be executed by default (like when JAR file will be double-clicked).","title":"Failing to run jar file from command line: no main manifest attribute","body":"<p>In Eclipse: <code>right-click</code> on your project -> <code>Export</code> -> <code>JAR file</code></p>\n\n<p>At last page with options (when there will be no <code>Next</code> button active) you will see settings for <code>Main class:</code>. You need to set here class with <code>main</code> method which should be executed by default (like when JAR file will be double-clicked).</p>\n"},{"tags":[],"owner":{"account_id":3090141,"reputation":4142,"user_id":2616445,"accept_rate":86,"display_name":"Milan Baran"},"down_vote_count":3,"up_vote_count":50,"is_accepted":true,"score":47,"last_activity_date":1381244206,"creation_date":1381244206,"answer_id":19251221,"question_id":19250966,"body_markdown":"Try to run\r\n\r\n    java -cp ScrumTimeCaptureMaintenence.jar Main","title":"Failing to run jar file from command line: no main manifest attribute","body":"<p>Try to run</p>\n\n<pre><code>java -cp ScrumTimeCaptureMaintenence.jar Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1851585,"reputation":251,"user_id":1678030,"accept_rate":83,"display_name":"Fever "},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1411419120,"creation_date":1411419120,"answer_id":25982930,"question_id":19250966,"body_markdown":"You can select the &quot;Runnable JAR File&quot; after you click on &quot;Export&quot;.\r\n\r\nYou can specify your main driver in &quot;Launch Configuration&quot;\r\n\r\n![enter image description here][1]\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/dHQ4Z.png\r\n  [2]: http://i.stack.imgur.com/ygWyv.png","title":"Failing to run jar file from command line: no main manifest attribute","body":"<p>You can select the \"Runnable JAR File\" after you click on \"Export\".</p>\n\n<p>You can specify your main driver in \"Launch Configuration\"</p>\n\n<p><img src=\"https://i.stack.imgur.com/dHQ4Z.png\" alt=\"enter image description here\">\n<img src=\"https://i.stack.imgur.com/ygWyv.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":368307,"reputation":314,"user_id":715031,"accept_rate":25,"display_name":"Rajat"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1426845794,"creation_date":1426845794,"answer_id":29163882,"question_id":19250966,"body_markdown":"Export you Java Project as an **Runnable Jar file** rather than Jar. \r\n\r\nI exported my project as **Jar** and even though the Manifest was present it gave me the error **no main manifest attribute in jar** even though the Manifest file was present in the Jar.  However there is only one entry in the Manifest file and it didn&#39;t specify the Main class or Function to execute or any dependent JAR&#39;s\r\n\r\nAfter exporting it as **Runnable Jar file** it works as expected.\r\n\r\n","title":"Failing to run jar file from command line: no main manifest attribute","body":"<p>Export you Java Project as an <strong>Runnable Jar file</strong> rather than Jar. </p>\n\n<p>I exported my project as <strong>Jar</strong> and even though the Manifest was present it gave me the error <strong>no main manifest attribute in jar</strong> even though the Manifest file was present in the Jar.  However there is only one entry in the Manifest file and it didn't specify the Main class or Function to execute or any dependent JAR's</p>\n\n<p>After exporting it as <strong>Runnable Jar file</strong> it works as expected.</p>\n"},{"tags":[],"owner":{"account_id":1535951,"reputation":3975,"user_id":1431999,"accept_rate":73,"display_name":"Dheeraj Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1470291346,"creation_date":1470290745,"answer_id":38759594,"question_id":19250966,"body_markdown":"You need to include &quot;Main class&quot; attribute in Manisfest.mf file in Jar\r\n\r\nFor example: Main-Class: MyClassName\r\n\r\nSecond thing, To add Manifest file in Your jar, You can manually create file in your workspace folder, and refresh in Eclipse Project explorer. \r\n\r\nWhile exporting, Eclipse will create a Jar which will include your manifest.\r\n\r\nCheers !!","title":"Failing to run jar file from command line: no main manifest attribute","body":"<p>You need to include \"Main class\" attribute in Manisfest.mf file in Jar</p>\n\n<p>For example: Main-Class: MyClassName</p>\n\n<p>Second thing, To add Manifest file in Your jar, You can manually create file in your workspace folder, and refresh in Eclipse Project explorer. </p>\n\n<p>While exporting, Eclipse will create a Jar which will include your manifest.</p>\n\n<p>Cheers !!</p>\n"},{"tags":[],"owner":{"account_id":8885404,"reputation":356,"user_id":6633805,"display_name":"spacewanderer"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1475671333,"creation_date":1475671333,"answer_id":39874274,"question_id":19250966,"body_markdown":"The `-jar` option only works if the JAR file is an executable JAR file, which means it must have a manifest file with a `Main-Class` attribute in it. \r\n\r\nIf it&#39;s not an executable JAR, then you&#39;ll need to run the program with something like:\r\n\r\n    java -cp app.jar com.somepackage.SomeClass\r\n\r\nwhere `com.somepackage.SomeClass` is the class that contains the `main` method to run the program.","title":"Failing to run jar file from command line: no main manifest attribute","body":"<p>The <code>-jar</code> option only works if the JAR file is an executable JAR file, which means it must have a manifest file with a <code>Main-Class</code> attribute in it. </p>\n\n<p>If it's not an executable JAR, then you'll need to run the program with something like:</p>\n\n<pre><code>java -cp app.jar com.somepackage.SomeClass\n</code></pre>\n\n<p>where <code>com.somepackage.SomeClass</code> is the class that contains the <code>main</code> method to run the program.</p>\n"},{"tags":[],"owner":{"account_id":1895890,"reputation":4097,"user_id":1712880,"accept_rate":27,"display_name":"Hamid Mohayeji"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524512028,"creation_date":1524512028,"answer_id":49988671,"question_id":19250966,"body_markdown":"If you are using Spring boot, you should add this plugin in your ```pom.xml```:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;","title":"Failing to run jar file from command line: no main manifest attribute","body":"<p>If you are using Spring boot, you should add this plugin in your <code>pom.xml</code>:</p>\n\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"}],"owner":{"account_id":1654267,"reputation":7322,"user_id":1524210,"accept_rate":88,"display_name":"David Tunnell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":200328,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":19251221,"answer_count":8,"score":38,"last_activity_date":1688627457,"creation_date":1381243634,"question_id":19250966,"body_markdown":"I am trying to run a jar file from the console:\r\n\r\n    java -jar ScrumTimeCaptureMaintenence.jar\r\n\r\nAnd am getting the error:\r\n\r\n&gt;Can&#39;t execute jar- file: no main manifest attribute\r\n\r\nAs you can see I do in fact have a main file and it runs fine from eclipse:\r\n\r\n![main method is in class][1]\r\n\r\nWhat do I need to do to successfully run this file from the command line?\r\n\r\n  [1]: http://i.stack.imgur.com/bslJ2.png","title":"Failing to run jar file from command line: no main manifest attribute","body":"<p>I am trying to run a jar file from the console:</p>\n\n<pre><code>java -jar ScrumTimeCaptureMaintenence.jar\n</code></pre>\n\n<p>And am getting the error:</p>\n\n<blockquote>\n  <p>Can't execute jar- file: no main manifest attribute</p>\n</blockquote>\n\n<p>As you can see I do in fact have a main file and it runs fine from eclipse:</p>\n\n<p><img src=\"https://i.stack.imgur.com/bslJ2.png\" alt=\"main method is in class\"></p>\n\n<p>What do I need to do to successfully run this file from the command line?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1688554109,"post_id":76619552,"comment_id":135087821,"body_markdown":"`substring` does _not modify_ the string builder. `setLength` does","body":"<code>substring</code> does <i>not modify</i> the string builder. <code>setLength</code> does"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":2,"creation_date":1688554222,"post_id":76619552,"comment_id":135087839,"body_markdown":"You seem to be grossly overestimating the complexity of your task. It&#39;s just `sb.append(fileNameEdit.substring(0, fileNameEdit.length() - 8)`. No need for any loops. By the way, the expected value for sb2 is not part of your stated requirements, or perhaps you should clarify them.","body":"You seem to be grossly overestimating the complexity of your task. It&#39;s just <code>sb.append(fileNameEdit.substring(0, fileNameEdit.length() - 8)</code>. No need for any loops. By the way, the expected value for sb2 is not part of your stated requirements, or perhaps you should clarify them."},{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1688555611,"post_id":76619552,"comment_id":135088127,"body_markdown":"Have you considered using the String.substring() methods?","body":"Have you considered using the String.substring() methods?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1688558623,"post_id":76619552,"comment_id":135088775,"body_markdown":"@k314159 even better, `sb.append(fileNameEdit, 0, fileNameEdit.length() - 8)`, without the need for a temporary `String`.","body":"@k314159 even better, <code>sb.append(fileNameEdit, 0, fileNameEdit.length() - 8)</code>, without the need for a temporary <code>String</code>."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688554274,"creation_date":1688554274,"answer_id":76619609,"question_id":76619552,"body_markdown":"To remove the last 8 characters from a string builder, you can use [`setLength`](https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#setLength-int-) and [`length()`](https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#length--):\r\n\r\n```\r\nsb.setLength(sb.length() - 8);\r\n```\r\n\r\nMake sure to check for strings shorter than 8 chars or truncate to 0 in that case:\r\n\r\n```\r\nsb.setLength(Math.max(0, sb.length() - 8));\r\n```\r\n\r\nTo append the content of one string builder to another string builder, [`append`](https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#append-java.lang.CharSequence-) can be used directly, because `StringBuilder implements CharSequence`:\r\n\r\n```\r\nsb2.append(sb);\r\n```","title":"How to remove last 8 characters in a string builder and rest of the characters append to an another string builder?","body":"<p>To remove the last 8 characters from a string builder, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#setLength-int-\" rel=\"nofollow noreferrer\"><code>setLength</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#length--\" rel=\"nofollow noreferrer\"><code>length()</code></a>:</p>\n<pre><code>sb.setLength(sb.length() - 8);\n</code></pre>\n<p>Make sure to check for strings shorter than 8 chars or truncate to 0 in that case:</p>\n<pre><code>sb.setLength(Math.max(0, sb.length() - 8));\n</code></pre>\n<p>To append the content of one string builder to another string builder, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/StringBuilder.html#append-java.lang.CharSequence-\" rel=\"nofollow noreferrer\"><code>append</code></a> can be used directly, because <code>StringBuilder implements CharSequence</code>:</p>\n<pre><code>sb2.append(sb);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1820389,"reputation":76,"user_id":1654586,"display_name":"Pankaj Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688555185,"creation_date":1688555185,"answer_id":76619724,"question_id":76619552,"body_markdown":"As per your question you want to split file name in 2 String Builder instance.\r\nSb2 will contain last 8 character and rest will be stored in SB1 . \r\nSo you can use as follows:\r\n\r\n    public class Student{\r\n    \r\n        public static void main(String[] args) {\r\n            String fileNameEdit = &quot;student_1733332211&quot;;\r\n            StringBuilder sb = new StringBuilder();\r\n            StringBuilder sb2 = new StringBuilder();\r\n    \r\n    \r\n            sb2.append(fileNameEdit);\r\n            sb.append( sb2.substring(fileNameEdit.length()-8,fileNameEdit.length()));\r\n            sb2.delete(fileNameEdit.length()-8,fileNameEdit.length());\r\n    \r\n             System.out.println(&quot;sb:   &quot;+sb);\r\n            System.out.println(&quot;sb2:  &quot;+sb2);\r\n    \r\n        }\r\n\r\n}\r\n","title":"How to remove last 8 characters in a string builder and rest of the characters append to an another string builder?","body":"<p>As per your question you want to split file name in 2 String Builder instance.\nSb2 will contain last 8 character and rest will be stored in SB1 .\nSo you can use as follows:</p>\n<pre><code>public class Student{\n\n    public static void main(String[] args) {\n        String fileNameEdit = &quot;student_1733332211&quot;;\n        StringBuilder sb = new StringBuilder();\n        StringBuilder sb2 = new StringBuilder();\n\n\n        sb2.append(fileNameEdit);\n        sb.append( sb2.substring(fileNameEdit.length()-8,fileNameEdit.length()));\n        sb2.delete(fileNameEdit.length()-8,fileNameEdit.length());\n\n         System.out.println(&quot;sb:   &quot;+sb);\n        System.out.println(&quot;sb2:  &quot;+sb2);\n\n    }\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688556034,"creation_date":1688556034,"answer_id":76619818,"question_id":76619552,"body_markdown":"You dont need to append `modifiedStr` on each iteration, in you code you even append it if you dont encounter a digit.\r\n\r\nA corrected version: https://ideone.com/TLVUdj\r\n\r\n     class Student{\r\n     \r\n        public static void main(String[] args) {\r\n            String fileNameEdit = &quot;student_1733332211&quot;;\r\n            StringBuilder sb = new StringBuilder();\r\n            StringBuilder sb2 = new StringBuilder();\r\n     \r\n            for (int i = 0; i &lt; fileNameEdit.length(); i++) {\r\n                char c = fileNameEdit.charAt(i);\r\n                if (c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;)\r\n                    sb2.append(c);\r\n                else\r\n                    sb.append(c);\r\n            }\r\n     \r\n            if(sb2.length() &gt; 8)\r\n                sb.append(sb2.substring(0, sb2.length() - 8));\r\n            else\r\n                sb.append(sb2);\r\n     \r\n            System.out.println(&quot;sb:   &quot; + sb);\r\n            System.out.println(&quot;sb2:  &quot; + sb2);\r\n        }\r\n    }\r\n\r\nto make your code more concise you may use regexps for this task:\r\n\r\nhttps://ideone.com/52vJfY\r\n\r\n    import java.util.regex.*;\r\n    \r\n    class Student{\r\n    \r\n        public static void main(String[] args) {\r\n            String fileNameEdit = &quot;student_1733332211&quot;;\r\n            StringBuilder sb = new StringBuilder();\r\n            StringBuilder sb2 = new StringBuilder();\r\n            \r\n            Pattern pattern = Pattern.compile(&quot;(.*?)(\\\\d+)$&quot;); // first match any non digits, then the digits\r\n            Matcher matcher = pattern.matcher(fileNameEdit);\r\n    \r\n            if (matcher.find()) {\r\n                sb.append(matcher.group(1)); // non-digt characters group\r\n                sb2.append(matcher.group(2)); // digits part group\r\n    \r\n                if (sb2.length() &gt; 8) {\r\n                    sb.append(sb2.substring(0, sb2.length() - 8));\r\n                } else {\r\n                    sb.append(sb2);\r\n                }\r\n            }\r\n            \r\n            System.out.println(&quot;sb:   &quot; + sb);\r\n            System.out.println(&quot;sb2:  &quot; + sb2);\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to remove last 8 characters in a string builder and rest of the characters append to an another string builder?","body":"<p>You dont need to append <code>modifiedStr</code> on each iteration, in you code you even append it if you dont encounter a digit.</p>\n<p>A corrected version: <a href=\"https://ideone.com/TLVUdj\" rel=\"nofollow noreferrer\">https://ideone.com/TLVUdj</a></p>\n<pre><code> class Student{\n \n    public static void main(String[] args) {\n        String fileNameEdit = &quot;student_1733332211&quot;;\n        StringBuilder sb = new StringBuilder();\n        StringBuilder sb2 = new StringBuilder();\n \n        for (int i = 0; i &lt; fileNameEdit.length(); i++) {\n            char c = fileNameEdit.charAt(i);\n            if (c &gt;= '0' &amp;&amp; c &lt;= '9')\n                sb2.append(c);\n            else\n                sb.append(c);\n        }\n \n        if(sb2.length() &gt; 8)\n            sb.append(sb2.substring(0, sb2.length() - 8));\n        else\n            sb.append(sb2);\n \n        System.out.println(&quot;sb:   &quot; + sb);\n        System.out.println(&quot;sb2:  &quot; + sb2);\n    }\n}\n</code></pre>\n<p>to make your code more concise you may use regexps for this task:</p>\n<p><a href=\"https://ideone.com/52vJfY\" rel=\"nofollow noreferrer\">https://ideone.com/52vJfY</a></p>\n<pre><code>import java.util.regex.*;\n\nclass Student{\n\n    public static void main(String[] args) {\n        String fileNameEdit = &quot;student_1733332211&quot;;\n        StringBuilder sb = new StringBuilder();\n        StringBuilder sb2 = new StringBuilder();\n        \n        Pattern pattern = Pattern.compile(&quot;(.*?)(\\\\d+)$&quot;); // first match any non digits, then the digits\n        Matcher matcher = pattern.matcher(fileNameEdit);\n\n        if (matcher.find()) {\n            sb.append(matcher.group(1)); // non-digt characters group\n            sb2.append(matcher.group(2)); // digits part group\n\n            if (sb2.length() &gt; 8) {\n                sb.append(sb2.substring(0, sb2.length() - 8));\n            } else {\n                sb.append(sb2);\n            }\n        }\n        \n        System.out.println(&quot;sb:   &quot; + sb);\n        System.out.println(&quot;sb2:  &quot; + sb2);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688626728,"creation_date":1688626200,"answer_id":76626166,"question_id":76619552,"body_markdown":"This is because you are appending a compounded _modifiedStr_ to _sb_, in two of the iterations.  \r\nI believe you are intending the second instance of _modifiedStr_ to be just a _&quot;7&quot;_, and not _&quot;17&quot;_.\r\n\r\n```none\r\ni =  0, c = s, sb = s\r\ni =  1, c = t, sb = st\r\ni =  2, c = u, sb = stu\r\ni =  3, c = d, sb = stud\r\ni =  4, c = e, sb = stude\r\ni =  5, c = n, sb = studen\r\ni =  6, c = t, sb = student\r\ni =  7, c = _, sb = student_\r\ni =  8, c = 1, sb = student_, sb2 = 1\r\ni =  9, c = 7, sb = student_, sb2 = 17\r\ni = 10, c = 3, sb = student_, sb2 = 173\r\ni = 11, c = 3, sb = student_, sb2 = 1733\r\ni = 12, c = 3, sb = student_, sb2 = 17333\r\ni = 13, c = 3, sb = student_, sb2 = 173333\r\ni = 14, c = 2, sb = student_, sb2 = 1733332\r\ni = 15, c = 2, sb = student_, sb2 = 17333322\r\ni = 16, c = 1, sb = student_1, sb2 = 173333221, modifiedStr = 1\r\ni = 17, c = 1, sb = student_117, sb2 = 1733332211, modifiedStr = 17\r\n```\r\n\r\nI guess you could technically just append _modifiedStr_ once, after the _for-loop_.\r\n\r\n```java\r\nString fileNameEdit = &quot;student_1733332211&quot;;\r\nStringBuilder sb = new StringBuilder();\r\nStringBuilder sb2 = new StringBuilder();\r\n\r\nString modifiedStr = &quot;&quot;;\r\n\r\nfor (int i = 0; i &lt; fileNameEdit.length(); i++) {\r\n    char c = fileNameEdit.charAt(i);\r\n    if (c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;) {\r\n        sb2.append(c);\r\n        if(sb2.length()&gt;8) {\r\n            modifiedStr = sb2.substring(0, sb2.length() - 8);\r\n\r\n        }\r\n    }\r\n    else {\r\n\r\n        sb.append(c);\r\n\r\n    }\r\n}\r\n\r\nsb.append(modifiedStr);\r\n\r\nSystem.out.println(&quot;sb:   &quot;+sb);\r\nSystem.out.println(&quot;sb2:  &quot;+sb2);\r\n```\r\n\r\nAlthough, there is a much simpler way to do this.\r\n\r\n&gt; _&quot;How to remove the 8 characters in a StringBuilder from the ending and append the rest of the characters to another StringBuilder ...&quot;_\r\n\r\nYou can use the _[StringBuilder#delete](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#delete(int,int))_ method.\r\n\r\n```java\r\nString fileNameEdit = &quot;student_1733332211&quot;;\r\nStringBuilder sb = new StringBuilder(fileNameEdit);\r\nsb.delete(sb.length() - 8, sb.length());\r\n```\r\n\r\nOutput\r\n\r\n```none\r\nstudent_17\r\n```\r\n\r\nAs for _sb2_, it appears you require 10 digits here, and not 8.\r\n\r\nYou can use the same _delete_ method.\r\n\r\n```java\r\nStringBuilder sb2 = new StringBuilder(fileNameEdit);\r\nsb2.delete(0, sb2.length() - 10);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n1733332211\r\n```","title":"How to remove last 8 characters in a string builder and rest of the characters append to an another string builder?","body":"<p>This is because you are appending a compounded <em>modifiedStr</em> to <em>sb</em>, in two of the iterations.<br />\nI believe you are intending the second instance of <em>modifiedStr</em> to be just a <em>&quot;7&quot;</em>, and not <em>&quot;17&quot;</em>.</p>\n<pre class=\"lang-none prettyprint-override\"><code>i =  0, c = s, sb = s\ni =  1, c = t, sb = st\ni =  2, c = u, sb = stu\ni =  3, c = d, sb = stud\ni =  4, c = e, sb = stude\ni =  5, c = n, sb = studen\ni =  6, c = t, sb = student\ni =  7, c = _, sb = student_\ni =  8, c = 1, sb = student_, sb2 = 1\ni =  9, c = 7, sb = student_, sb2 = 17\ni = 10, c = 3, sb = student_, sb2 = 173\ni = 11, c = 3, sb = student_, sb2 = 1733\ni = 12, c = 3, sb = student_, sb2 = 17333\ni = 13, c = 3, sb = student_, sb2 = 173333\ni = 14, c = 2, sb = student_, sb2 = 1733332\ni = 15, c = 2, sb = student_, sb2 = 17333322\ni = 16, c = 1, sb = student_1, sb2 = 173333221, modifiedStr = 1\ni = 17, c = 1, sb = student_117, sb2 = 1733332211, modifiedStr = 17\n</code></pre>\n<p>I guess you could technically just append <em>modifiedStr</em> once, after the <em>for-loop</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fileNameEdit = &quot;student_1733332211&quot;;\nStringBuilder sb = new StringBuilder();\nStringBuilder sb2 = new StringBuilder();\n\nString modifiedStr = &quot;&quot;;\n\nfor (int i = 0; i &lt; fileNameEdit.length(); i++) {\n    char c = fileNameEdit.charAt(i);\n    if (c &gt;= '0' &amp;&amp; c &lt;= '9') {\n        sb2.append(c);\n        if(sb2.length()&gt;8) {\n            modifiedStr = sb2.substring(0, sb2.length() - 8);\n\n        }\n    }\n    else {\n\n        sb.append(c);\n\n    }\n}\n\nsb.append(modifiedStr);\n\nSystem.out.println(&quot;sb:   &quot;+sb);\nSystem.out.println(&quot;sb2:  &quot;+sb2);\n</code></pre>\n<p>Although, there is a much simpler way to do this.</p>\n<blockquote>\n<p><em>&quot;How to remove the 8 characters in a StringBuilder from the ending and append the rest of the characters to another StringBuilder ...&quot;</em></p>\n</blockquote>\n<p>You can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/StringBuilder.html#delete(int,int)\" rel=\"nofollow noreferrer\">StringBuilder#delete</a></em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fileNameEdit = &quot;student_1733332211&quot;;\nStringBuilder sb = new StringBuilder(fileNameEdit);\nsb.delete(sb.length() - 8, sb.length());\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>student_17\n</code></pre>\n<p>As for <em>sb2</em>, it appears you require 10 digits here, and not 8.</p>\n<p>You can use the same <em>delete</em> method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>StringBuilder sb2 = new StringBuilder(fileNameEdit);\nsb2.delete(0, sb2.length() - 10);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>1733332211\n</code></pre>\n"}],"owner":{"account_id":27599360,"reputation":1,"user_id":21064911,"display_name":"Akshaya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1688626728,"creation_date":1688553798,"question_id":76619552,"body_markdown":"How to remove the 8 characters in a StringBuilder from the ending and append the rest of the characters to another StringBuilder\r\n\r\n\r\nI tried this way, but this is not giving me the expected results\r\n\r\n\r\n```\r\npublic class Student{\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tString fileNameEdit = &quot;student_1733332211&quot;;\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\t\tStringBuilder sb2 = new StringBuilder();\r\n\t\t\r\n\t\tString modifiedStr = &quot;&quot;;\r\n\r\n\t\tfor (int i = 0; i &lt; fileNameEdit.length(); i++) {\r\n\t\t      char c = fileNameEdit.charAt(i);\r\n\t\t      if (c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;) {\r\n\t\t    \t  sb2.append(c);\r\n\t\t    \t  if(sb2.length()&gt;8) {\r\n\t\t    \t\t  modifiedStr = sb2.substring(0, sb2.length() - 8);\r\n\t\t    \t\t\r\n\t\t    \t  }\r\n\t\t    \t  sb.append(modifiedStr);\r\n\t\t      }\r\n\t\t      else {\r\n\r\n\t\t      sb.append(c);\r\n\t\t      sb.append(modifiedStr);\r\n\t\t     \r\n\t\t      }\r\n\t\t    }\r\n\r\n\t\tSystem.out.println(&quot;sb:   &quot;+sb);\r\n\t\tSystem.out.println(&quot;sb2:  &quot;+sb2);\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nOUTPUT:\r\n\r\n    sb:   student_117\r\n    sb2:  1733332211\r\n\r\nBut the EXPECTED OUTPUT is\r\n\r\n    sb:   student_17\r\n    sb2:  1733332211\r\n\r\nI want to remove the last 8 characters in sb2 and rest of the characters should be added to sb","title":"How to remove last 8 characters in a string builder and rest of the characters append to an another string builder?","body":"<p>How to remove the 8 characters in a StringBuilder from the ending and append the rest of the characters to another StringBuilder</p>\n<p>I tried this way, but this is not giving me the expected results</p>\n<pre><code>public class Student{\n\n    public static void main(String[] args) {\n        String fileNameEdit = &quot;student_1733332211&quot;;\n        StringBuilder sb = new StringBuilder();\n        StringBuilder sb2 = new StringBuilder();\n        \n        String modifiedStr = &quot;&quot;;\n\n        for (int i = 0; i &lt; fileNameEdit.length(); i++) {\n              char c = fileNameEdit.charAt(i);\n              if (c &gt;= '0' &amp;&amp; c &lt;= '9') {\n                  sb2.append(c);\n                  if(sb2.length()&gt;8) {\n                      modifiedStr = sb2.substring(0, sb2.length() - 8);\n                    \n                  }\n                  sb.append(modifiedStr);\n              }\n              else {\n\n              sb.append(c);\n              sb.append(modifiedStr);\n             \n              }\n            }\n\n        System.out.println(&quot;sb:   &quot;+sb);\n        System.out.println(&quot;sb2:  &quot;+sb2);\n\n    }\n\n}\n</code></pre>\n<p>OUTPUT:</p>\n<pre><code>sb:   student_117\nsb2:  1733332211\n</code></pre>\n<p>But the EXPECTED OUTPUT is</p>\n<pre><code>sb:   student_17\nsb2:  1733332211\n</code></pre>\n<p>I want to remove the last 8 characters in sb2 and rest of the characters should be added to sb</p>\n"},{"tags":["java","android","file","android-intent"],"answers":[{"tags":[],"owner":{"account_id":8694402,"reputation":73,"user_id":6506317,"accept_rate":25,"display_name":"walt3rwhite"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688626579,"creation_date":1688626268,"answer_id":76626176,"question_id":76625189,"body_markdown":"With the help of other answers of other stackoverflow questions, I was able to write this working code by using DocumentFile.\r\n\r\n```java\r\n@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        if (requestCode == DOCUMENTS_REQUEST_CODE\r\n                &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n\r\n            if (data != null) {\r\n                Uri directoryUri = data.getData();\r\n                ContentResolver contentResolver = getContentResolver();\r\n\r\n                Gson gson = new Gson();\r\n\r\n                DocumentFile directory = DocumentFile.fromTreeUri(this, directoryUri);\r\n                assert directory != null;\r\n                Log.i(&quot;directory files length&quot;, String.valueOf(directory.listFiles().length));\r\n                for (DocumentFile documentFile : directory.listFiles()) {\r\n                    Log.i(&quot;documentFile name &quot;, documentFile.getName());\r\n                    try {\r\n                        InputStream inputStream = contentResolver.openInputStream(documentFile.getUri());\r\n                        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n\r\n                        // logic to read data\r\n\r\n                    } catch (JSONException | IOException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n        }\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n```\r\n\r\n","title":"Android: Error accessing directory tree URI from Intent data","body":"<p>With the help of other answers of other stackoverflow questions, I was able to write this working code by using DocumentFile.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if (requestCode == DOCUMENTS_REQUEST_CODE\n                &amp;&amp; resultCode == Activity.RESULT_OK) {\n\n            if (data != null) {\n                Uri directoryUri = data.getData();\n                ContentResolver contentResolver = getContentResolver();\n\n                Gson gson = new Gson();\n\n                DocumentFile directory = DocumentFile.fromTreeUri(this, directoryUri);\n                assert directory != null;\n                Log.i(&quot;directory files length&quot;, String.valueOf(directory.listFiles().length));\n                for (DocumentFile documentFile : directory.listFiles()) {\n                    Log.i(&quot;documentFile name &quot;, documentFile.getName());\n                    try {\n                        InputStream inputStream = contentResolver.openInputStream(documentFile.getUri());\n                        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n\n                        // logic to read data\n\n                    } catch (JSONException | IOException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n        }\n\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n</code></pre>\n"}],"owner":{"account_id":8694402,"reputation":73,"user_id":6506317,"accept_rate":25,"display_name":"walt3rwhite"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688626579,"creation_date":1688611639,"question_id":76625189,"body_markdown":"I am new to Android development and currently working on an app that requires accessing JSON data from text files located in the device&#39;s &quot;Documents&quot; directory. I have test device which runs Android 13. To enable the functionality, I am using Storage Access Framework to open file explorer and select the directory. However, I am unable to proceed with the directory URI.\r\n\r\n\r\n```java\r\npublic void openDirectory(Uri uriToLoad) {\r\n        // Choose a directory using the system&#39;s file picker.\r\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\r\n        intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, uriToLoad);\r\n        startActivityForResult(intent, DOCUMENTS_REQUEST_CODE);\r\n    }\r\n```\r\n\r\n```java\r\n@Override\r\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        if (requestCode == DOCUMENTS_REQUEST_CODE\r\n                &amp;&amp; resultCode == Activity.RESULT_OK) {\r\n            // The result data contains a URI for the document or directory that\r\n            // the user selected.\r\n            Uri uri = null;\r\n\r\n            if (data != null) {\r\n                Uri directoryUri = data.getData();\r\n                Log.i(&quot;uri path&quot;, directoryUri.getPath());\r\n                Log.i(&quot;uri string value&quot;, String.valueOf(directoryUri));\r\n                \r\n               accessFilesInDirectory(directoryUri);\r\n\r\n            }\r\n        }\r\n\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n    }\r\n```\r\n\r\nThe values logged are\r\n```\r\nuri path: /tree/primary:Documents/SMART/Fall_data\r\nuri string value: content://com.android.externalstorage.documents/tree/primary%3ADocuments%2FSMART%2FFall_data\r\n```\r\nIs the URI in correct format? \r\nI am unable to figure the right way to implement accessFilesInDirectory().\r\n\r\nI have tried\r\n\r\n```java\r\n              File directory = new File(String.valueOf(directoryUri));\r\n              File[] files = directory.listFiles();\r\n              for (File file : files) {\r\n                   try {\r\n                        Log.i(&quot;LOAD FILES:&quot;, &quot;file name: &quot;. concat(file.getName()));\r\n                        FileInputStream inputStream = new FileInputStream(file);\r\n                        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n\r\n                        String line;\r\n                        StringBuilder string\r\n                        .\r\n                        .\r\n                        .\r\n```\r\nIt gave following error\r\n```\r\nCaused by: java.lang.IllegalArgumentException: Invalid URI: content://com.android.externalstorage.documents/tree/primary%3ADocuments%2FSMART%2FFall_data\r\n```\r\n\r\n```java\r\n// Get a ContentResolver instance\r\n                ContentResolver contentResolver = getContentResolver();\r\n\r\n                // Query for files in the specified directory\r\n                String[] projection = new String[]{DocumentsContract.Document.COLUMN_DOCUMENT_ID, DocumentsContract.Document.COLUMN_DISPLAY_NAME};\r\n                String selection = DocumentsContract.Document.COLUMN_MIME_TYPE + &quot; = ?&quot;;\r\n                String[] selectionArgs = new String[]{&quot;application/json&quot;};\r\n\r\n                Cursor cursor = contentResolver.query(directoryUri, projection, selection, selectionArgs, null);\r\n````\r\n\r\nIt gave following error\r\n```\r\nCaused by: java.lang.UnsupportedOperationException: Unsupported Uri content://com.android.externalstorage.documents/tree/primary%3ADocuments%2FSMART%2FFall_data\r\n```\r\n\r\nPlease provide the correct way to this problem. Thanks in advance. ","title":"Android: Error accessing directory tree URI from Intent data","body":"<p>I am new to Android development and currently working on an app that requires accessing JSON data from text files located in the device's &quot;Documents&quot; directory. I have test device which runs Android 13. To enable the functionality, I am using Storage Access Framework to open file explorer and select the directory. However, I am unable to proceed with the directory URI.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void openDirectory(Uri uriToLoad) {\n        // Choose a directory using the system's file picker.\n        Intent intent = new Intent(Intent.ACTION_OPEN_DOCUMENT_TREE);\n        intent.putExtra(DocumentsContract.EXTRA_INITIAL_URI, uriToLoad);\n        startActivityForResult(intent, DOCUMENTS_REQUEST_CODE);\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    protected void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        if (requestCode == DOCUMENTS_REQUEST_CODE\n                &amp;&amp; resultCode == Activity.RESULT_OK) {\n            // The result data contains a URI for the document or directory that\n            // the user selected.\n            Uri uri = null;\n\n            if (data != null) {\n                Uri directoryUri = data.getData();\n                Log.i(&quot;uri path&quot;, directoryUri.getPath());\n                Log.i(&quot;uri string value&quot;, String.valueOf(directoryUri));\n                \n               accessFilesInDirectory(directoryUri);\n\n            }\n        }\n\n        super.onActivityResult(requestCode, resultCode, data);\n    }\n</code></pre>\n<p>The values logged are</p>\n<pre><code>uri path: /tree/primary:Documents/SMART/Fall_data\nuri string value: content://com.android.externalstorage.documents/tree/primary%3ADocuments%2FSMART%2FFall_data\n</code></pre>\n<p>Is the URI in correct format?\nI am unable to figure the right way to implement accessFilesInDirectory().</p>\n<p>I have tried</p>\n<pre class=\"lang-java prettyprint-override\"><code>              File directory = new File(String.valueOf(directoryUri));\n              File[] files = directory.listFiles();\n              for (File file : files) {\n                   try {\n                        Log.i(&quot;LOAD FILES:&quot;, &quot;file name: &quot;. concat(file.getName()));\n                        FileInputStream inputStream = new FileInputStream(file);\n                        BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n\n                        String line;\n                        StringBuilder string\n                        .\n                        .\n                        .\n</code></pre>\n<p>It gave following error</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: Invalid URI: content://com.android.externalstorage.documents/tree/primary%3ADocuments%2FSMART%2FFall_data\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Get a ContentResolver instance\n                ContentResolver contentResolver = getContentResolver();\n\n                // Query for files in the specified directory\n                String[] projection = new String[]{DocumentsContract.Document.COLUMN_DOCUMENT_ID, DocumentsContract.Document.COLUMN_DISPLAY_NAME};\n                String selection = DocumentsContract.Document.COLUMN_MIME_TYPE + &quot; = ?&quot;;\n                String[] selectionArgs = new String[]{&quot;application/json&quot;};\n\n                Cursor cursor = contentResolver.query(directoryUri, projection, selection, selectionArgs, null);\n</code></pre>\n<p>It gave following error</p>\n<pre><code>Caused by: java.lang.UnsupportedOperationException: Unsupported Uri content://com.android.externalstorage.documents/tree/primary%3ADocuments%2FSMART%2FFall_data\n</code></pre>\n<p>Please provide the correct way to this problem. Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","docker","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":28902386,"reputation":30,"user_id":22137034,"display_name":"Tobias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688626416,"creation_date":1688545817,"answer_id":76618464,"question_id":76617928,"body_markdown":"With the following configuration, my spring boot app can successfully connect to the oracle server using the URL *jdbc:oracle:thin:@localhost:1522/xe*.\r\n\r\n*docker-compose.yml*\r\n\r\n    version: &#39;3&#39;\r\n    services:\r\n      oracle-xe:\r\n        image: gvenzl/oracle-xe:21\r\n        ports:\r\n          - &quot;1522:1521&quot;\r\n        environment:\r\n          - ORACLE_PASSWORD=oracle\r\n        networks:\r\n          - oracle\r\n    networks:\r\n      oracle:\r\n        name: oracle\r\n*pomx.xml*\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;oraclespring&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;oraclespring&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n*application.properties*\r\n\r\n    # Spring Boot Config for Oracle\r\n    spring.datasource.url=jdbc:oracle:thin:@localhost:1522/xe\r\n    spring.datasource.username=system\r\n    spring.datasource.password=oracle\r\n    spring.datasource.driver-class-name=oracle.jdbc.OracleDriver\r\n    #hibernate config\r\n    spring.jpa.database-platform=org.hibernate.dialect.OracleDialect","title":"Java Springboot container connecting to oracle database container","body":"<p>With the following configuration, my spring boot app can successfully connect to the oracle server using the URL <em>jdbc:oracle:thin:@localhost:1522/xe</em>.</p>\n<p><em>docker-compose.yml</em></p>\n<pre><code>version: '3'\nservices:\n  oracle-xe:\n    image: gvenzl/oracle-xe:21\n    ports:\n      - &quot;1522:1521&quot;\n    environment:\n      - ORACLE_PASSWORD=oracle\n    networks:\n      - oracle\nnetworks:\n  oracle:\n    name: oracle\n</code></pre>\n<p><em>pomx.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;oraclespring&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;oraclespring&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p><em>application.properties</em></p>\n<pre><code># Spring Boot Config for Oracle\nspring.datasource.url=jdbc:oracle:thin:@localhost:1522/xe\nspring.datasource.username=system\nspring.datasource.password=oracle\nspring.datasource.driver-class-name=oracle.jdbc.OracleDriver\n#hibernate config\nspring.jpa.database-platform=org.hibernate.dialect.OracleDialect\n</code></pre>\n"}],"owner":{"account_id":20315566,"reputation":21,"user_id":22177484,"display_name":"tony_rosey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688626416,"creation_date":1688541525,"question_id":76617928,"body_markdown":"While connecting to a container with oracle database.\r\n\r\nI have made a container using \r\n`docker run -it --rm -p 1522:1522 -e ORACLE_PASSWORD=oracle --name=oracle --network=my-network gvenzl/oracle-xe:21`\r\n\r\nContainer is working well, but when i try to connect using springboot application it refuses to connect giving error:\r\n\r\n&gt; Unable to determine jdbc url from datasource\r\n&gt; org.springframework.jdbc.support.MetaDataAccessException: Could not\r\n&gt; get Connection for extracting meta-data; nested exception is\r\n&gt; org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to\r\n&gt; obtain JDBC Connection; nested exception is\r\n&gt; java.sql.SQLRecoverableException: The Network Adapter could not\r\n&gt; establish the connection (CONNECTION_ID=Jgeu+rxZRACc21FmuU1HZA==)\r\n\r\nIm using `spring.datasource.url=jdbc:oracle:thin:@oracle:1522/xe`\r\n\r\nAlso using docker-compose:\r\n\r\n    version: &#39;3&#39;\r\n    services:\r\n      ca-manager:\r\n        build:\r\n          context: .\r\n          dockerfile: Dockerfile\r\n        ports:\r\n          - 8080:8080\r\n        networks:\r\n          - my-network\r\n    networks:\r\n      my-network:\r\n        external: true\r\n\r\nI&#39;m getting the error:\r\n\r\n&gt; java.sql.SQLRecoverableException: IO Error: The Network Adapter could\r\n&gt; not establish the connection (CONNECTION_ID=fg\r\n\r\nChanging docker-compose, urls ","title":"Java Springboot container connecting to oracle database container","body":"<p>While connecting to a container with oracle database.</p>\n<p>I have made a container using\n<code>docker run -it --rm -p 1522:1522 -e ORACLE_PASSWORD=oracle --name=oracle --network=my-network gvenzl/oracle-xe:21</code></p>\n<p>Container is working well, but when i try to connect using springboot application it refuses to connect giving error:</p>\n<blockquote>\n<p>Unable to determine jdbc url from datasource\norg.springframework.jdbc.support.MetaDataAccessException: Could not\nget Connection for extracting meta-data; nested exception is\norg.springframework.jdbc.CannotGetJdbcConnectionException: Failed to\nobtain JDBC Connection; nested exception is\njava.sql.SQLRecoverableException: The Network Adapter could not\nestablish the connection (CONNECTION_ID=Jgeu+rxZRACc21FmuU1HZA==)</p>\n</blockquote>\n<p>Im using <code>spring.datasource.url=jdbc:oracle:thin:@oracle:1522/xe</code></p>\n<p>Also using docker-compose:</p>\n<pre><code>version: '3'\nservices:\n  ca-manager:\n    build:\n      context: .\n      dockerfile: Dockerfile\n    ports:\n      - 8080:8080\n    networks:\n      - my-network\nnetworks:\n  my-network:\n    external: true\n</code></pre>\n<p>I'm getting the error:</p>\n<blockquote>\n<p>java.sql.SQLRecoverableException: IO Error: The Network Adapter could\nnot establish the connection (CONNECTION_ID=fg</p>\n</blockquote>\n<p>Changing docker-compose, urls</p>\n"},{"tags":["java","spring","tomcat","url"],"comments":[{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":1,"creation_date":1484903353,"post_id":41696088,"comment_id":70711132,"body_markdown":"If it is a CL issue, have you tried to put your `S3-URLStreamHandler` into a dedicated jar and deploy it in `tomcat/lib` or in `${JAVA-HOME}/jre/lib/ext`? This way your class will be in a CL high enough in the hierarchy to be seen.","body":"If it is a CL issue, have you tried to put your <code>S3-URLStreamHandler</code> into a dedicated jar and deploy it in <code>tomcat&#47;lib</code> or in <code>${JAVA-HOME}&#47;jre&#47;lib&#47;ext</code>? This way your class will be in a CL high enough in the hierarchy to be seen."},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1484904104,"post_id":41696088,"comment_id":70711617,"body_markdown":"@NicolasFilotto Actually I was hoping that this could be solved in the application code itself. That is I did not try to put the handler class in a different place, yet. I will give it a try, if there doesn&#39;t seem to be another possibility though...","body":"@NicolasFilotto Actually I was hoping that this could be solved in the application code itself. That is I did not try to put the handler class in a different place, yet. I will give it a try, if there doesn&#39;t seem to be another possibility though..."},{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1484904599,"post_id":41696088,"comment_id":70711916,"body_markdown":"That would introduce dependencies to Tomcat classes in my application code. That is actually something I wanted to avoid, to be able to run the same code in different application servers without the need to distinguish between them.","body":"That would introduce dependencies to Tomcat classes in my application code. That is actually something I wanted to avoid, to be able to run the same code in different application servers without the need to distinguish between them."},{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1484904938,"post_id":41696088,"comment_id":70712149,"body_markdown":"well not necessarily if you get the current `URLStreamHandlerFactory`  by reflection","body":"well not necessarily if you get the current <code>URLStreamHandlerFactory</code>  by reflection"}],"answers":[{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1520695351,"creation_date":1484905857,"answer_id":41760601,"question_id":41696088,"body_markdown":"You could either:\r\n\r\n# 1. Use a decorator\r\n\r\nOne way to set your custom `URLStreamHandlerFactory`, could be to use a decorator of type `URLStreamHandlerFactory` in order to wrap the `URLStreamHandlerFactory` that may have already been defined (by tomcat in this case). The tricky part is the fact that you need to use reflection (which is quite hacky) to get and reset the current `factory` potentially defined.\r\n\r\nHere is the pseudo-code of your decorator:\r\n\r\n    public class S3URLStreamHandlerFactory implements URLStreamHandlerFactory {\r\n\r\n        // The wrapped URLStreamHandlerFactory&#39;s instance\r\n        private final Optional&lt;URLStreamHandlerFactory&gt; delegate;\r\n\r\n        /**\r\n         * Used in case there is no existing URLStreamHandlerFactory defined\r\n         */\r\n        public S3URLStreamHandlerFactory() {\r\n            this(null);\r\n        }\r\n\r\n        /**\r\n         * Used in case there is an existing URLStreamHandlerFactory defined\r\n         */\r\n        public S3URLStreamHandlerFactory(final URLStreamHandlerFactory delegate) {\r\n            this.delegate = Optional.ofNullable(delegate);\r\n        }\r\n\r\n        @Override\r\n        public URLStreamHandler createURLStreamHandler(final String protocol) {\r\n            if (&quot;s3&quot;.equals(protocol)) {\r\n                return // my S3 URLStreamHandler;\r\n            }\r\n            // It is not the s3 protocol so we delegate it to the wrapped \r\n            // URLStreamHandlerFactory\r\n            return delegate.map(factory -&gt; factory.createURLStreamHandler(protocol))\r\n                .orElse(null);\r\n        }\r\n    }\r\n\r\nHere is the code to define it:\r\n\r\n    // Retrieve the field &quot;factory&quot; of the class URL that store the \r\n    // URLStreamHandlerFactory used\r\n    Field factoryField = URL.class.getDeclaredField(&quot;factory&quot;);\r\n    // It is a package protected field so we need to make it accessible\r\n    factoryField.setAccessible(true);\r\n    // Get the current value\r\n    URLStreamHandlerFactory urlStreamHandlerFactory \r\n        = (URLStreamHandlerFactory) factoryField.get(null);\r\n    if (urlStreamHandlerFactory == null) {\r\n        // No factory has been defined so far so we set the custom one\r\n        URL.setURLStreamHandlerFactory(new S3URLStreamHandlerFactory());\r\n    } else {\r\n        // Retrieve the field &quot;streamHandlerLock&quot; of the class URL that\r\n        // is the lock used to synchronize access to the protocol handlers \r\n        Field lockField = URL.class.getDeclaredField(&quot;streamHandlerLock&quot;);\r\n        // It is a private field so we need to make it accessible\r\n        lockField.setAccessible(true);\r\n        // Use the same lock to reset the factory\r\n        synchronized (lockField.get(null)) {\r\n            // Reset the value to prevent Error due to a factory already defined\r\n            factoryField.set(null, null);\r\n            // Set our custom factory and wrap the current one into it\r\n            URL.setURLStreamHandlerFactory(\r\n                new S3URLStreamHandlerFactory(urlStreamHandlerFactory)\r\n            );\r\n        }\r\n    }\r\n\r\n**NB:** Starting for Java 9, you will need to add `--add-opens java.base/java.net=myModuleName` to your launch command to allow deep reflection on the package `java.net` that includes the class `URL` from your module `myModuleName` otherwise calling `setAccessible(true)` will raise a `RuntimeException`.\r\n\r\n---\r\n\r\n# 2. Deploy it as an extension\r\n\r\nAnother way that should avoid this `ClassLoder` issue could be to move your custom `URLStreamHandler` into a dedicated jar and deploy it in `${JAVA-HOME}/jre/lib/ext` as an [*installed extension*][1] (with all its dependencies) such that it will be available in the Extension `ClassLoader`, this way your class will be defined in a `ClassLoader` high enough in the hierarchy to be seen.   \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/ext/basics/install.html","title":"Register custom URLStreamHandler in Spring web application (Tomcat)","body":"<p>You could either:</p>\n\n<h1>1. Use a decorator</h1>\n\n<p>One way to set your custom <code>URLStreamHandlerFactory</code>, could be to use a decorator of type <code>URLStreamHandlerFactory</code> in order to wrap the <code>URLStreamHandlerFactory</code> that may have already been defined (by tomcat in this case). The tricky part is the fact that you need to use reflection (which is quite hacky) to get and reset the current <code>factory</code> potentially defined.</p>\n\n<p>Here is the pseudo-code of your decorator:</p>\n\n<pre><code>public class S3URLStreamHandlerFactory implements URLStreamHandlerFactory {\n\n    // The wrapped URLStreamHandlerFactory's instance\n    private final Optional&lt;URLStreamHandlerFactory&gt; delegate;\n\n    /**\n     * Used in case there is no existing URLStreamHandlerFactory defined\n     */\n    public S3URLStreamHandlerFactory() {\n        this(null);\n    }\n\n    /**\n     * Used in case there is an existing URLStreamHandlerFactory defined\n     */\n    public S3URLStreamHandlerFactory(final URLStreamHandlerFactory delegate) {\n        this.delegate = Optional.ofNullable(delegate);\n    }\n\n    @Override\n    public URLStreamHandler createURLStreamHandler(final String protocol) {\n        if (\"s3\".equals(protocol)) {\n            return // my S3 URLStreamHandler;\n        }\n        // It is not the s3 protocol so we delegate it to the wrapped \n        // URLStreamHandlerFactory\n        return delegate.map(factory -&gt; factory.createURLStreamHandler(protocol))\n            .orElse(null);\n    }\n}\n</code></pre>\n\n<p>Here is the code to define it:</p>\n\n<pre><code>// Retrieve the field \"factory\" of the class URL that store the \n// URLStreamHandlerFactory used\nField factoryField = URL.class.getDeclaredField(\"factory\");\n// It is a package protected field so we need to make it accessible\nfactoryField.setAccessible(true);\n// Get the current value\nURLStreamHandlerFactory urlStreamHandlerFactory \n    = (URLStreamHandlerFactory) factoryField.get(null);\nif (urlStreamHandlerFactory == null) {\n    // No factory has been defined so far so we set the custom one\n    URL.setURLStreamHandlerFactory(new S3URLStreamHandlerFactory());\n} else {\n    // Retrieve the field \"streamHandlerLock\" of the class URL that\n    // is the lock used to synchronize access to the protocol handlers \n    Field lockField = URL.class.getDeclaredField(\"streamHandlerLock\");\n    // It is a private field so we need to make it accessible\n    lockField.setAccessible(true);\n    // Use the same lock to reset the factory\n    synchronized (lockField.get(null)) {\n        // Reset the value to prevent Error due to a factory already defined\n        factoryField.set(null, null);\n        // Set our custom factory and wrap the current one into it\n        URL.setURLStreamHandlerFactory(\n            new S3URLStreamHandlerFactory(urlStreamHandlerFactory)\n        );\n    }\n}\n</code></pre>\n\n<p><strong>NB:</strong> Starting for Java 9, you will need to add <code>--add-opens java.base/java.net=myModuleName</code> to your launch command to allow deep reflection on the package <code>java.net</code> that includes the class <code>URL</code> from your module <code>myModuleName</code> otherwise calling <code>setAccessible(true)</code> will raise a <code>RuntimeException</code>.</p>\n\n<hr>\n\n<h1>2. Deploy it as an extension</h1>\n\n<p>Another way that should avoid this <code>ClassLoder</code> issue could be to move your custom <code>URLStreamHandler</code> into a dedicated jar and deploy it in <code>${JAVA-HOME}/jre/lib/ext</code> as an <a href=\"https://docs.oracle.com/javase/tutorial/ext/basics/install.html\" rel=\"nofollow noreferrer\"><em>installed extension</em></a> (with all its dependencies) such that it will be available in the Extension <code>ClassLoader</code>, this way your class will be defined in a <code>ClassLoader</code> high enough in the hierarchy to be seen.   </p>\n"},{"tags":[],"owner":{"account_id":2549763,"reputation":109,"user_id":2213794,"display_name":"Bj&#246;rn Kahlert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675946942,"creation_date":1675889104,"answer_id":75391550,"question_id":41696088,"body_markdown":"As of Java 9 you can specify a [URL stream handler provider](https://docs.oracle.com/javase/9/docs/api/java/net/spi/URLStreamHandlerProvider.html) as described in the [URL JavaDoc](https://docs.oracle.com/javase/9/docs/api/java/net/URL.html#URL-java.lang.String-java.lang.String-int-java.lang.String-).\r\n\r\nSteps:\r\n- create a file `resources/META-INF/services/java.net.spi.URLStreamHandlerProvider`\r\n  - content: `my.S3URLStreamHandlerProvider`\r\n- implement `URLStreamHandler` or copy the `S3URLStreamHandler` you mentioned to `my.S3URLStreamHandler`\r\n- implement a `my.S3URLStreamHandlerProvider` and let the only to implement method [URLStreamHandlerFactory.createURLStreamHandler](https://docs.oracle.com/javase/9/docs/api/java/net/URLStreamHandlerFactory.html#createURLStreamHandler-java.lang.String-) return a `my.S3URLStreamHandler` if `protocol.equals(&quot;s3&quot;)`\r\n\r\nThat should be it. The first time you instantiate a s3-URL your URL stream handler provided will be automatically discovered.\r\n\r\nIf you mind Kotlin code, you can find a running example for `data:` URIs here:\r\n- [java.net.spi.URLStreamHandlerProvider](https://github.com/bkahlert/kommons/blob/master/kommons-uri/src/jvmMain/resources/META-INF/services/java.net.spi.URLStreamHandlerProvider)\r\n- [DataURLStreamHandlerProvider.kt](https://github.com/bkahlert/kommons/blob/master/kommons-uri/src/jvmMain/kotlin/com/bkahlert/kommons/uri/DataURLStreamHandlerProvider.kt)\r\n- [DataURLStreamHandler.kt](https://github.com/bkahlert/kommons/blob/master/kommons-uri/src/jvmMain/kotlin/com/bkahlert/kommons/uri/DataURLStreamHandler.kt)","title":"Register custom URLStreamHandler in Spring web application (Tomcat)","body":"<p>As of Java 9 you can specify a <a href=\"https://docs.oracle.com/javase/9/docs/api/java/net/spi/URLStreamHandlerProvider.html\" rel=\"nofollow noreferrer\">URL stream handler provider</a> as described in the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/net/URL.html#URL-java.lang.String-java.lang.String-int-java.lang.String-\" rel=\"nofollow noreferrer\">URL JavaDoc</a>.</p>\n<p>Steps:</p>\n<ul>\n<li>create a file <code>resources/META-INF/services/java.net.spi.URLStreamHandlerProvider</code>\n<ul>\n<li>content: <code>my.S3URLStreamHandlerProvider</code></li>\n</ul>\n</li>\n<li>implement <code>URLStreamHandler</code> or copy the <code>S3URLStreamHandler</code> you mentioned to <code>my.S3URLStreamHandler</code></li>\n<li>implement a <code>my.S3URLStreamHandlerProvider</code> and let the only to implement method <a href=\"https://docs.oracle.com/javase/9/docs/api/java/net/URLStreamHandlerFactory.html#createURLStreamHandler-java.lang.String-\" rel=\"nofollow noreferrer\">URLStreamHandlerFactory.createURLStreamHandler</a> return a <code>my.S3URLStreamHandler</code> if <code>protocol.equals(&quot;s3&quot;)</code></li>\n</ul>\n<p>That should be it. The first time you instantiate a s3-URL your URL stream handler provided will be automatically discovered.</p>\n<p>If you mind Kotlin code, you can find a running example for <code>data:</code> URIs here:</p>\n<ul>\n<li><a href=\"https://github.com/bkahlert/kommons/blob/master/kommons-uri/src/jvmMain/resources/META-INF/services/java.net.spi.URLStreamHandlerProvider\" rel=\"nofollow noreferrer\">java.net.spi.URLStreamHandlerProvider</a></li>\n<li><a href=\"https://github.com/bkahlert/kommons/blob/master/kommons-uri/src/jvmMain/kotlin/com/bkahlert/kommons/uri/DataURLStreamHandlerProvider.kt\" rel=\"nofollow noreferrer\">DataURLStreamHandlerProvider.kt</a></li>\n<li><a href=\"https://github.com/bkahlert/kommons/blob/master/kommons-uri/src/jvmMain/kotlin/com/bkahlert/kommons/uri/DataURLStreamHandler.kt\" rel=\"nofollow noreferrer\">DataURLStreamHandler.kt</a></li>\n</ul>\n"}],"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4831,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":41760601,"answer_count":2,"score":10,"last_activity_date":1688625591,"creation_date":1484652894,"question_id":41696088,"body_markdown":"I&#39;m trying to register a custom `URLStreamHandler` to handle requests to Amazon S3 URLs in a generic fashion. The implementation of the handler looks pretty much like [S3-URLStreamHandler (github)][1]. I did not put my `Handler` class into the `sun.net.www.protocol.s3` package, but used the custom package `com.github.dpr.protocol.s3`. To make Java pickup this package, I provided the system property `-Djava.protocol.handler.pkgs=&quot;com.github.dpr.protocol&quot;` following the documentation of the [URL class][2]. However, if I try to process a s3-URL like `s3://my.bucket/some-awesome-file.txt`, I get a `MalformedURLException`:\r\n\r\n    Caused by: java.net.MalformedURLException: unknown protocol: s3\r\n        at java.net.URL.&lt;init&gt;(URL.java:600)\r\n        at java.net.URL.&lt;init&gt;(URL.java:490)\r\n        at java.net.URL.&lt;init&gt;(URL.java:439)\r\n        at java.net.URI.toURL(URI.java:1089)\r\n        ...\r\n\r\n\r\nMy application is a Spring based web application, that currently runs in tomcat, but should not be cluttered with any knowledge about the underlying application container.\r\n\r\nI already debugged the respective code and found that my `URLStreamHandler` can&#39;t be initialized as the classloader used to load the class doesn&#39;t know it. This is the respective code from `java.net.URL` (jdk 1.8.0_92):\r\n\r\n    1174: try {\r\n    1175:   cls = Class.forName(clsName);\r\n    1176: } catch (ClassNotFoundException e) {\r\n    1177:   ClassLoader cl = ClassLoader.getSystemClassLoader();\r\n    1178:   if (cl != null) {\r\n    1179:     cls = cl.loadClass(clsName);\r\n    1180:   }\r\n    1181: }\r\n\r\nThe class loader of the `java.net.URL` class (used by `Class.forName`) is `null` indicating the bootstrap class loader and the system class loader doesn&#39;t know my class. If I put a break point in there and try to load my handler class using the current thread&#39;s class loader, it works fine. That is my class is apparently there and is in the application&#39;s class path, but Java uses the &quot;wrong&quot; class loaders to lookup the handler.\r\n\r\nI&#39;m aware of [this question on SOF][3], but I must not register a custom `URLStreamHandlerFactory` as tomcat registers it&#39;s own factory (`org.apache.naming.resources.DirContextURLStreamHandlerFactory`) on application start and there must only be one factory registered for a single JVM. Tomcat&#39;s `DirContextURLStreamHandlerFactory` allows to add user factories, that could be used to handle custom protocols, but I don&#39;t want to add a dependency to Tomcat in my application code, as the application should run in different containers.\r\n\r\nIs there any way to register a handler for custom URLs in a container independent fashion?\r\n\r\n----\r\n**UPDATE 2017-01-25:**  \r\nI gave the different options @Nicolas Filotto proposed a try:\r\n\r\n*Option 1 - Set custom URLStreamHandlerFactory using reflection*  \r\nThis option works as expected. But by using reflection it introduces a tight dependency to the inner workings of the `java.net.URL` class. Luckily Oracle is not too eager with fixing convenience issues in the basic java classes - actually [this related bug report][4] is open for almost **14 years** (great work Sun/Oracle) -  and this can easily be unit tested.\r\n\r\n*Option 2 - Put handler JAR into {JAVA_HOME}/jre/lib/ext*  \r\nThis option works as well. But only adding the handler jar as system extension won&#39;t do the trick - of course. One will need to add all dependencies of the handler as well. As these classes are visible to all applications using this Java installation, this may lead to undesired effects due to different versions of the same library in the classpath.\r\n\r\n*Option 3 - Put handler JAR into {CATALINA_HOME}/lib*  \r\nThis doesn&#39;t work. According to [Tomcat&#39;s classloader documentation][5] resources put into this directory will be loaded using Tomcat&#39;s *Common* classloader. This classloader will not be used by `java.net.URL` to lookup the protocol handler.\r\n\r\nGiven these options I&#39;ll stay with the reflection variant. All of the options are not very nice, but at least the first one can easily be tested and does not require any deployment logic. However I adapted the code slightly to use the same lock object for synchronization as `java.net.URL` does:\r\n\r\n    public static void registerFactory() throws Exception  {\r\n      final Field factoryField = URL.class.getDeclaredField(&quot;factory&quot;);\r\n      factoryField.setAccessible(true);\r\n      final Field lockField = URL.class.getDeclaredField(&quot;streamHandlerLock&quot;);\r\n      lockField.setAccessible(true);\r\n      \r\n      // use same lock as in java.net.URL.setURLStreamHandlerFactory\r\n      synchronized (lockField.get(null)) {\r\n        final URLStreamHandlerFactory urlStreamHandlerFactory = (URLStreamHandlerFactory) factoryField.get(null);\r\n        // Reset the value to prevent Error due to a factory already defined\r\n        factoryField.set(null, null);\r\n        URL.setURLStreamHandlerFactory(new AmazonS3UrlStreamHandlerFactory(urlStreamHandlerFactory));\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/jenshadlich/S3-URLStreamHandler\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/net/URL.html\r\n  [3]: https://stackoverflow.com/questions/26363573/registering-and-using-a-custom-java-net-url-protocol\r\n  [4]: http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4648098\r\n  [5]: http://tomcat.apache.org/tomcat-7.0-doc/class-loader-howto.html","title":"Register custom URLStreamHandler in Spring web application (Tomcat)","body":"<p>I'm trying to register a custom <code>URLStreamHandler</code> to handle requests to Amazon S3 URLs in a generic fashion. The implementation of the handler looks pretty much like <a href=\"https://github.com/jenshadlich/S3-URLStreamHandler\" rel=\"nofollow noreferrer\">S3-URLStreamHandler (github)</a>. I did not put my <code>Handler</code> class into the <code>sun.net.www.protocol.s3</code> package, but used the custom package <code>com.github.dpr.protocol.s3</code>. To make Java pickup this package, I provided the system property <code>-Djava.protocol.handler.pkgs=&quot;com.github.dpr.protocol&quot;</code> following the documentation of the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/URL.html\" rel=\"nofollow noreferrer\">URL class</a>. However, if I try to process a s3-URL like <code>s3://my.bucket/some-awesome-file.txt</code>, I get a <code>MalformedURLException</code>:</p>\n<pre><code>Caused by: java.net.MalformedURLException: unknown protocol: s3\n    at java.net.URL.&lt;init&gt;(URL.java:600)\n    at java.net.URL.&lt;init&gt;(URL.java:490)\n    at java.net.URL.&lt;init&gt;(URL.java:439)\n    at java.net.URI.toURL(URI.java:1089)\n    ...\n</code></pre>\n<p>My application is a Spring based web application, that currently runs in tomcat, but should not be cluttered with any knowledge about the underlying application container.</p>\n<p>I already debugged the respective code and found that my <code>URLStreamHandler</code> can't be initialized as the classloader used to load the class doesn't know it. This is the respective code from <code>java.net.URL</code> (jdk 1.8.0_92):</p>\n<pre><code>1174: try {\n1175:   cls = Class.forName(clsName);\n1176: } catch (ClassNotFoundException e) {\n1177:   ClassLoader cl = ClassLoader.getSystemClassLoader();\n1178:   if (cl != null) {\n1179:     cls = cl.loadClass(clsName);\n1180:   }\n1181: }\n</code></pre>\n<p>The class loader of the <code>java.net.URL</code> class (used by <code>Class.forName</code>) is <code>null</code> indicating the bootstrap class loader and the system class loader doesn't know my class. If I put a break point in there and try to load my handler class using the current thread's class loader, it works fine. That is my class is apparently there and is in the application's class path, but Java uses the &quot;wrong&quot; class loaders to lookup the handler.</p>\n<p>I'm aware of <a href=\"https://stackoverflow.com/questions/26363573/registering-and-using-a-custom-java-net-url-protocol\">this question on SOF</a>, but I must not register a custom <code>URLStreamHandlerFactory</code> as tomcat registers it's own factory (<code>org.apache.naming.resources.DirContextURLStreamHandlerFactory</code>) on application start and there must only be one factory registered for a single JVM. Tomcat's <code>DirContextURLStreamHandlerFactory</code> allows to add user factories, that could be used to handle custom protocols, but I don't want to add a dependency to Tomcat in my application code, as the application should run in different containers.</p>\n<p>Is there any way to register a handler for custom URLs in a container independent fashion?</p>\n<hr />\n<p><strong>UPDATE 2017-01-25:</strong><br />\nI gave the different options @Nicolas Filotto proposed a try:</p>\n<p><em>Option 1 - Set custom URLStreamHandlerFactory using reflection</em><br />\nThis option works as expected. But by using reflection it introduces a tight dependency to the inner workings of the <code>java.net.URL</code> class. Luckily Oracle is not too eager with fixing convenience issues in the basic java classes - actually <a href=\"http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4648098\" rel=\"nofollow noreferrer\">this related bug report</a> is open for almost <strong>14 years</strong> (great work Sun/Oracle) -  and this can easily be unit tested.</p>\n<p><em>Option 2 - Put handler JAR into {JAVA_HOME}/jre/lib/ext</em><br />\nThis option works as well. But only adding the handler jar as system extension won't do the trick - of course. One will need to add all dependencies of the handler as well. As these classes are visible to all applications using this Java installation, this may lead to undesired effects due to different versions of the same library in the classpath.</p>\n<p><em>Option 3 - Put handler JAR into {CATALINA_HOME}/lib</em><br />\nThis doesn't work. According to <a href=\"http://tomcat.apache.org/tomcat-7.0-doc/class-loader-howto.html\" rel=\"nofollow noreferrer\">Tomcat's classloader documentation</a> resources put into this directory will be loaded using Tomcat's <em>Common</em> classloader. This classloader will not be used by <code>java.net.URL</code> to lookup the protocol handler.</p>\n<p>Given these options I'll stay with the reflection variant. All of the options are not very nice, but at least the first one can easily be tested and does not require any deployment logic. However I adapted the code slightly to use the same lock object for synchronization as <code>java.net.URL</code> does:</p>\n<pre><code>public static void registerFactory() throws Exception  {\n  final Field factoryField = URL.class.getDeclaredField(&quot;factory&quot;);\n  factoryField.setAccessible(true);\n  final Field lockField = URL.class.getDeclaredField(&quot;streamHandlerLock&quot;);\n  lockField.setAccessible(true);\n  \n  // use same lock as in java.net.URL.setURLStreamHandlerFactory\n  synchronized (lockField.get(null)) {\n    final URLStreamHandlerFactory urlStreamHandlerFactory = (URLStreamHandlerFactory) factoryField.get(null);\n    // Reset the value to prevent Error due to a factory already defined\n    factoryField.set(null, null);\n    URL.setURLStreamHandlerFactory(new AmazonS3UrlStreamHandlerFactory(urlStreamHandlerFactory));\n  }\n}\n</code></pre>\n"},{"tags":["java","swing","keylistener","paintcomponent"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1688556655,"post_id":76619853,"comment_id":135088336,"body_markdown":"`repaint` must be called to initiate the painting, thus when you modify `move`. Don&#39;t call `repaint()` inside `paintComponent` but inside `keyPressed` (preferably at the end of).","body":"<code>repaint</code> must be called to initiate the painting, thus when you modify <code>move</code>. Don&#39;t call <code>repaint()</code> inside <code>paintComponent</code> but inside <code>keyPressed</code> (preferably at the end of)."},{"owner":{"account_id":27420454,"reputation":11,"user_id":20918982,"display_name":"Aaron"},"score":0,"creation_date":1688556934,"post_id":76619853,"comment_id":135088396,"body_markdown":"Tried. Doesnt work","body":"Tried. Doesnt work"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1688559477,"post_id":76619853,"comment_id":135088960,"body_markdown":"**posted** code, moving `repaint()` and  including call to `super.paintComponent()`, is working *perfectly* for me - please include a [mre] || are you seeing any output (from `println`) or is the `SHOWHITBOX` even not `set Focusable` (its default)?","body":"<b>posted</b> code, moving <code>repaint()</code> and  including call to <code>super.paintComponent()</code>, is working <i>perfectly</i> for me - please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> || are you seeing any output (from <code>println</code>) or is the <code>SHOWHITBOX</code> even not <code>set Focusable</code> (its default)?"},{"owner":{"account_id":27420454,"reputation":11,"user_id":20918982,"display_name":"Aaron"},"score":0,"creation_date":1688561467,"post_id":76619853,"comment_id":135089486,"body_markdown":"Yes, output number gets bigger while pressing button. But, even with setFocusable, even with superPaintComp it doesnt work","body":"Yes, output number gets bigger while pressing button. But, even with setFocusable, even with superPaintComp it doesnt work"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688562407,"post_id":76619853,"comment_id":135089753,"body_markdown":"***Again***, please read or re-read the [mre] link and then try to create and post one of these in your question. Otherwise, you&#39;re forcing everyone to try to guess why code not shown is not working, not a worthwhile endeavor.","body":"<b><i>Again</i></b>, please read or re-read the <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> link and then try to create and post one of these in your question. Otherwise, you&#39;re forcing everyone to try to guess why code not shown is not working, not a worthwhile endeavor."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688568364,"post_id":76619853,"comment_id":135091322,"body_markdown":"Class names should only have the first letter of the word capitalized: &quot;ShowHitBox&quot;. Learn and follow Java naming conventions. Following conventions of the API is a good way to learn.","body":"Class names should only have the first letter of the word capitalized: &quot;ShowHitBox&quot;. Learn and follow Java naming conventions. Following conventions of the API is a good way to learn."}],"answers":[{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688625192,"creation_date":1688571590,"answer_id":76621925,"question_id":76619853,"body_markdown":"There is two problems with your code:\r\n\r\n1. Don&#39;t call repaint from paint* method, that would trigger too much unnecessary paint events. Much better is to call repaint at a time where you need the drawing to be made: for example inside methods that modifies the `move` variable.\r\n\r\n2. You are playing with a panel, so you need some mechanic to give it the focus. If not, it won&#39;t be able to receive the keyboard events. I forced the focus from the main requesting it from the window focus.\r\n\r\nHere is the code:\r\n\r\n    import java.awt.*;\r\n    import java.awt.event.*;\r\n    import javax.swing.*;\r\n        \r\n    public class ShowHitBox extends JPanel implements KeyListener {\r\n      int move=0;\r\n      @Override\r\n      public void keyPressed(KeyEvent e) {\r\n        int key1 = e.getKeyCode();\r\n        System.out.println(key1);\r\n        if(key1==KeyEvent.VK_R){\r\n          move+=10;\r\n          System.out.println(move);\r\n        }\r\n        \r\n        if(key1==KeyEvent.VK_L){\r\n          move-=10;\r\n          System.out.println(move);\r\n        }\r\n        repaint();\r\n      }\r\n    \r\n      @Override\r\n      public void keyReleased(KeyEvent arg0) {    \r\n      }\r\n    \r\n      @Override\r\n      public void keyTyped(KeyEvent arg0) {\r\n      }\r\n        \r\n      public void paintComponent(Graphics gr) {\r\n        super.paintComponent(gr);\r\n        gr.drawRect(move,400,100,100);\r\n      }\r\n    \r\n      public static void main(String []args) {\r\n        JFrame f = new JFrame(&quot;App&quot;);\r\n        ShowHitBox hitBox = new ShowHitBox();\r\n        hitBox.addKeyListener(hitBox);\r\n        f.getContentPane().add(hitBox);\r\n        f.setVisible(true);\r\n        hitBox.requestFocusInWindow();\r\n      }    \r\n    }\r\n\r\nNote that you must call `super.paintComponent` in your `paintComponent` and that it is highly recommended to use the virtual keys symbols to test against the inputed keys.\r\n\r\n","title":"Rectangular doesnt move through KeyListener","body":"<p>There is two problems with your code:</p>\n<ol>\n<li><p>Don't call repaint from paint* method, that would trigger too much unnecessary paint events. Much better is to call repaint at a time where you need the drawing to be made: for example inside methods that modifies the <code>move</code> variable.</p>\n</li>\n<li><p>You are playing with a panel, so you need some mechanic to give it the focus. If not, it won't be able to receive the keyboard events. I forced the focus from the main requesting it from the window focus.</p>\n</li>\n</ol>\n<p>Here is the code:</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.*;\nimport javax.swing.*;\n    \npublic class ShowHitBox extends JPanel implements KeyListener {\n  int move=0;\n  @Override\n  public void keyPressed(KeyEvent e) {\n    int key1 = e.getKeyCode();\n    System.out.println(key1);\n    if(key1==KeyEvent.VK_R){\n      move+=10;\n      System.out.println(move);\n    }\n    \n    if(key1==KeyEvent.VK_L){\n      move-=10;\n      System.out.println(move);\n    }\n    repaint();\n  }\n\n  @Override\n  public void keyReleased(KeyEvent arg0) {    \n  }\n\n  @Override\n  public void keyTyped(KeyEvent arg0) {\n  }\n    \n  public void paintComponent(Graphics gr) {\n    super.paintComponent(gr);\n    gr.drawRect(move,400,100,100);\n  }\n\n  public static void main(String []args) {\n    JFrame f = new JFrame(&quot;App&quot;);\n    ShowHitBox hitBox = new ShowHitBox();\n    hitBox.addKeyListener(hitBox);\n    f.getContentPane().add(hitBox);\n    f.setVisible(true);\n    hitBox.requestFocusInWindow();\n  }    \n}\n</code></pre>\n<p>Note that you must call <code>super.paintComponent</code> in your <code>paintComponent</code> and that it is highly recommended to use the virtual keys symbols to test against the inputed keys.</p>\n"}],"owner":{"account_id":27420454,"reputation":11,"user_id":20918982,"display_name":"Aaron"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1688625192,"creation_date":1688556343,"question_id":76619853,"body_markdown":"Well, I tried to make rectangular moving while typing arrows on Keyboard. It must work mostly like hitboxes\r\n```\r\nimport java.awt.*;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\n\r\nimport javax.swing.JPanel;\r\n\r\n\r\n\r\n\r\npublic class SHOWHITBOX extends JPanel implements KeyListener{\r\n\r\n\tint move=0;\r\n\r\n\t \r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\tint key1 = e.getKeyCode();\r\n\tif(key1==39){\r\n\t\tmove+=10;\r\n\t\tSystem.out.println(move);\r\n\t}\r\n\t\r\n\tif(key1==37){\r\n\t\tmove-=10;\r\n\t\tSystem.out.println(move);\r\n\t}\r\n\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent arg0) {\r\n\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyTyped(KeyEvent arg0) {\r\n\r\n\t}\r\n\r\n\t\r\npublic SHOWHITBOX(){\r\n\r\n\t\r\n}\r\n\r\npublic void paintComponent(Graphics gr) {\r\n\t\tgr.drawRect(move,400,1000,100);\r\n\t\tgr.drawRect(move,400,100,100);\r\n\t\trepaint();\r\n\t}\r\n}\r\n\r\n```\r\n \r\n\r\nIt doesnt work, however Ive connected it to the class, and it annoys to the button typing (console output). But it still doesnt work. Second rect were did for test","title":"Rectangular doesnt move through KeyListener","body":"<p>Well, I tried to make rectangular moving while typing arrows on Keyboard. It must work mostly like hitboxes</p>\n<pre><code>import java.awt.*;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\n\nimport javax.swing.JPanel;\n\n\n\n\npublic class SHOWHITBOX extends JPanel implements KeyListener{\n\n    int move=0;\n\n     \n    @Override\n    public void keyPressed(KeyEvent e) {\n    int key1 = e.getKeyCode();\n    if(key1==39){\n        move+=10;\n        System.out.println(move);\n    }\n    \n    if(key1==37){\n        move-=10;\n        System.out.println(move);\n    }\n    \n    }\n\n    @Override\n    public void keyReleased(KeyEvent arg0) {\n    \n    }\n\n    @Override\n    public void keyTyped(KeyEvent arg0) {\n\n    }\n\n    \npublic SHOWHITBOX(){\n\n    \n}\n\npublic void paintComponent(Graphics gr) {\n        gr.drawRect(move,400,1000,100);\n        gr.drawRect(move,400,100,100);\n        repaint();\n    }\n}\n\n</code></pre>\n<p>It doesnt work, however Ive connected it to the class, and it annoys to the button typing (console output). But it still doesnt work. Second rect were did for test</p>\n"},{"tags":["java","entity","criteriabuilder"],"comments":[{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1688565975,"post_id":76621125,"comment_id":135090738,"body_markdown":"seems like you have imported the class wrong - make sure that you are importing your `Customer` class and not from some library","body":"seems like you have imported the class wrong - make sure that you are importing your <code>Customer</code> class and not from some library"},{"owner":{"account_id":28691334,"reputation":19,"user_id":21970496,"display_name":"ylmzzsy"},"score":0,"creation_date":1688566287,"post_id":76621125,"comment_id":135090813,"body_markdown":"I have checked the package, it seems to be correct","body":"I have checked the package, it seems to be correct"},{"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"score":0,"creation_date":1688581708,"post_id":76621125,"comment_id":135094279,"body_markdown":"and what is the import of the `@Entity` annotation?","body":"and what is the import of the <code>@Entity</code> annotation?"},{"owner":{"account_id":3755777,"reputation":499,"user_id":3122175,"accept_rate":92,"display_name":"D.T"},"score":0,"creation_date":1688619271,"post_id":76621125,"comment_id":135098377,"body_markdown":"Try to add annotation `@EntityScan( basePackages = {&quot;your package - core.entities&quot;} )` to your `ServerApplication` class","body":"Try to add annotation <code>@EntityScan( basePackages = {&quot;your package - core.entities&quot;} )</code> to your <code>ServerApplication</code> class"},{"owner":{"account_id":28691334,"reputation":19,"user_id":21970496,"display_name":"ylmzzsy"},"score":0,"creation_date":1688622774,"post_id":76621125,"comment_id":135098779,"body_markdown":"what do you mean by `ServerApplication` class?  is it @SpringBootApplication annotated class? @D.T","body":"what do you mean by <code>ServerApplication</code> class?  is it @SpringBootApplication annotated class? @D.T"},{"owner":{"account_id":28691334,"reputation":19,"user_id":21970496,"display_name":"ylmzzsy"},"score":0,"creation_date":1688625693,"post_id":76621125,"comment_id":135099231,"body_markdown":"@D.T thanks dude you comment fixed the issue, why don&#39;t you post it as an answer? However, my other projects does not have `@EntityScan` tag, but they are still working. Is there any other way to fix the issue?","body":"@D.T thanks dude you comment fixed the issue, why don&#39;t you post it as an answer? However, my other projects does not have <code>@EntityScan</code> tag, but they are still working. Is there any other way to fix the issue?"},{"owner":{"account_id":3755777,"reputation":499,"user_id":3122175,"accept_rate":92,"display_name":"D.T"},"score":0,"creation_date":1688637451,"post_id":76621125,"comment_id":135101745,"body_markdown":"@ylmzzsy in that case I think your class package are not really in order, could you update the post with your hierarchy in your project?","body":"@ylmzzsy in that case I think your class package are not really in order, could you update the post with your hierarchy in your project?"}],"owner":{"account_id":28691334,"reputation":19,"user_id":21970496,"display_name":"ylmzzsy"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688624954,"creation_date":1688565707,"question_id":76621125,"body_markdown":"I have base entity\r\n\r\n```\r\n@MappedSuperclass\r\n@EntityListeners({AuditingEntityListener.class})\r\npublic class BaseAuditEntity extends BaseEntity {\r\n      ...\r\n} \r\n```\r\nand the entity below\r\n\r\n```\r\npackage core.entities\r\n@Entity\r\npublic class Customer extends BaseAuditEntity {\r\n    ...\r\n}\r\n```\r\n\r\nwhen I try to query database using criteria builder like below:\r\n\r\n```\r\nCriteriaQuery&lt;BaseIdCodeDto&gt; query =\r\n    getCriteriaBuilder().createQuery(BaseIdCodeDto.class);\r\n\r\nRoot&lt;Customer&gt; root = query.from(Customer.class);\r\n```\r\n\r\nit says:\r\n\r\n```\r\norg.springframework.dao.InvalidDataAccessApiUsageException: Not an\r\n entity: class core.entities.Customer; nested exception is\r\n java.lang.IllegalArgumentException: Not an entity:\r\n```\r\n\r\nI dont have a ```persistence.xml``` file. I know that other projects are working without this file so how can I fix this? What is the problem?\r\n\r\n```Customer``` class is located in another project. I add maven dependency to the pom of the current project. The problem could be this, but I have no solution.\r\n\r\n**I created ```Customer``` class in my current project. The error changed. This time it does not see one to one depended entities like ```CustomerChannel```. This class is also located in the depended project and also annotated with ```@Entity``` as well. So why doesn&#39;t spring boot see it? I expect all the classes annotated with the ```@Entity``` should be registered as entities, but spring boot does not register entities in the depended projects. Am I wrong to expect this?**\r\n\r\nIt says \r\n```\r\nCustomer.customerChannel references an unknown entity: \r\ncore.entities.CustomerChannel\r\n```\r\n\r\nIt looks like if I add all of the entities from the depended project to the current project, the problem will be fixed but I cant do it because there are multiple projects using the same entities.\r\n\r\nAny help would be appreciated.","title":"spring boot does not register entities in the depended projects java.lang.IllegalArgumentException: Not an entity","body":"<p>I have base entity</p>\n<pre><code>@MappedSuperclass\n@EntityListeners({AuditingEntityListener.class})\npublic class BaseAuditEntity extends BaseEntity {\n      ...\n} \n</code></pre>\n<p>and the entity below</p>\n<pre><code>package core.entities\n@Entity\npublic class Customer extends BaseAuditEntity {\n    ...\n}\n</code></pre>\n<p>when I try to query database using criteria builder like below:</p>\n<pre><code>CriteriaQuery&lt;BaseIdCodeDto&gt; query =\n    getCriteriaBuilder().createQuery(BaseIdCodeDto.class);\n\nRoot&lt;Customer&gt; root = query.from(Customer.class);\n</code></pre>\n<p>it says:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessApiUsageException: Not an\n entity: class core.entities.Customer; nested exception is\n java.lang.IllegalArgumentException: Not an entity:\n</code></pre>\n<p>I dont have a <code>persistence.xml</code> file. I know that other projects are working without this file so how can I fix this? What is the problem?</p>\n<p><code>Customer</code> class is located in another project. I add maven dependency to the pom of the current project. The problem could be this, but I have no solution.</p>\n<p><strong>I created <code>Customer</code> class in my current project. The error changed. This time it does not see one to one depended entities like <code>CustomerChannel</code>. This class is also located in the depended project and also annotated with <code>@Entity</code> as well. So why doesn't spring boot see it? I expect all the classes annotated with the <code>@Entity</code> should be registered as entities, but spring boot does not register entities in the depended projects. Am I wrong to expect this?</strong></p>\n<p>It says</p>\n<pre><code>Customer.customerChannel references an unknown entity: \ncore.entities.CustomerChannel\n</code></pre>\n<p>It looks like if I add all of the entities from the depended project to the current project, the problem will be fixed but I cant do it because there are multiple projects using the same entities.</p>\n<p>Any help would be appreciated.</p>\n"},{"tags":["java","android","android-studio","localhost","ip"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641372577,"post_id":70589994,"comment_id":124785021,"body_markdown":"`try to run my app project in android studio` ? What are you doing? I would rather think you would try to run your Android app on an Android phone. Pretty unclear.","body":"<code>try to run my app project in android studio</code> ? What are you doing? I would rather think you would try to run your Android app on an Android phone. Pretty unclear."},{"owner":{"account_id":21093898,"reputation":11,"user_id":15505273,"display_name":"019_Alya Haryanti"},"score":0,"creation_date":1641373180,"post_id":70589994,"comment_id":124785224,"body_markdown":"i have to run the app on android studio emulator because this app for my final exam and i have to present it later","body":"i have to run the app on android studio emulator because this app for my final exam and i have to present it later"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1641379266,"post_id":70589994,"comment_id":124787604,"body_markdown":"Please remove the `android-studio` tag. And tell in your post that you use an emulator.","body":"Please remove the <code>android-studio</code> tag. And tell in your post that you use an emulator."}],"answers":[{"tags":[],"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozS "},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1641372804,"creation_date":1641372804,"answer_id":70590075,"question_id":70589994,"body_markdown":"If you are running in localhost you should use `http://10.0.2.2:8080/` as a base url, you need to specify the port, otherwise it won&#39;t work.","title":"FAILED TO CONNECT TO /127.0.0.1:443 - ANDROID STUDIO","body":"<p>If you are running in localhost you should use <code>http://10.0.2.2:8080/</code> as a base url, you need to specify the port, otherwise it won't work.</p>\n"},{"tags":[],"owner":{"account_id":6555363,"reputation":415,"user_id":5068212,"display_name":"della raharjo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641377251,"creation_date":1641377251,"answer_id":70591035,"question_id":70589994,"body_markdown":"Can you do simple test in your emulator.\r\nFrom your emulator.\r\nCan you open your browser. After that, open your URL. (10.0.2.2)\r\nIf everything good.\r\nThen you need to setup network_config in your android manifest.\r\nPlease check https://developer.android.com/training/articles/security-config\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;domain includeSubdomains=&quot;true&quot;&gt;10.0.2.2&lt;/domain&gt;\r\n        &lt;/domain-config&gt;\r\n        &lt;base-config cleartextTrafficPermitted=&quot;false&quot; /&gt;\r\n    &lt;/network-security-config&gt;","title":"FAILED TO CONNECT TO /127.0.0.1:443 - ANDROID STUDIO","body":"<p>Can you do simple test in your emulator.\nFrom your emulator.\nCan you open your browser. After that, open your URL. (10.0.2.2)\nIf everything good.\nThen you need to setup network_config in your android manifest.\nPlease check <a href=\"https://developer.android.com/training/articles/security-config\" rel=\"nofollow noreferrer\">https://developer.android.com/training/articles/security-config</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;10.0.2.2&lt;/domain&gt;\n    &lt;/domain-config&gt;\n    &lt;base-config cleartextTrafficPermitted=&quot;false&quot; /&gt;\n&lt;/network-security-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21809737,"reputation":1,"user_id":16107455,"display_name":"Pierre"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688624517,"creation_date":1688624517,"answer_id":76626022,"question_id":70589994,"body_markdown":"To complete della answer : after you make the test successful, create a new **xml** file in the **res** section. Replace the code inside with della&#39;s one. Then add to your **AndroidManifest.xml** the following line in the application section :\r\n\r\n        android:networkSecurityConfig=&quot;@xml/nameOfXmlFileYouCreated&quot;\r\n","title":"FAILED TO CONNECT TO /127.0.0.1:443 - ANDROID STUDIO","body":"<p>To complete della answer : after you make the test successful, create a new <strong>xml</strong> file in the <strong>res</strong> section. Replace the code inside with della's one. Then add to your <strong>AndroidManifest.xml</strong> the following line in the application section :</p>\n<pre><code>    android:networkSecurityConfig=&quot;@xml/nameOfXmlFileYouCreated&quot;\n</code></pre>\n"}],"owner":{"account_id":21093898,"reputation":11,"user_id":15505273,"display_name":"019_Alya Haryanti"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4090,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688624517,"creation_date":1641372397,"question_id":70589994,"body_markdown":"i have this kind of problem when i try to run my app project in android studio it keeps give me an error &quot;**failed to connect to /127.0.0.1:443**&quot;. im using local ip for that. but when i try using 192.168.1.10 or 10.0.2.2 it doesn&#39;t work too.\r\n\r\nthis is my retro code\r\n\r\n    public class RetroServer {\r\n    private static final String baseURL = &quot;https://127.0.0.1/laundry/&quot;;\r\n    private static Retrofit retro;\r\n    public static Retrofit konekRetrofit(){\r\n        if(retro == null){\r\n            retro = new Retrofit.Builder()\r\n                    .baseUrl(baseURL)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n        }\r\n        return retro;\r\n    }\r\nin my retro code there&#39;s 2 of this symbols }}\r\n\r\nand this is my androidmanifest.xml code\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;application\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Laundry&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.Activity.MainActivity&quot;\r\n            android:exported=&quot;true&quot;\r\n            tools:ignore=&quot;MissingClass&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n&lt;/manifest&gt;\r\n\r\nif you guys can help me with this problem, thank you so much ","title":"FAILED TO CONNECT TO /127.0.0.1:443 - ANDROID STUDIO","body":"<p>i have this kind of problem when i try to run my app project in android studio it keeps give me an error &quot;<strong>failed to connect to /127.0.0.1:443</strong>&quot;. im using local ip for that. but when i try using 192.168.1.10 or 10.0.2.2 it doesn't work too.</p>\n<p>this is my retro code</p>\n<pre><code>public class RetroServer {\nprivate static final String baseURL = &quot;https://127.0.0.1/laundry/&quot;;\nprivate static Retrofit retro;\npublic static Retrofit konekRetrofit(){\n    if(retro == null){\n        retro = new Retrofit.Builder()\n                .baseUrl(baseURL)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n    }\n    return retro;\n}\n</code></pre>\n<p>in my retro code there's 2 of this symbols }}</p>\n<p>and this is my androidmanifest.xml code</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;application\n    android:usesCleartextTraffic=&quot;true&quot;\n    android:allowBackup=&quot;true&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.Laundry&quot;&gt;\n    &lt;activity\n        android:name=&quot;.Activity.MainActivity&quot;\n        android:exported=&quot;true&quot;\n        tools:ignore=&quot;MissingClass&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>if you guys can help me with this problem, thank you so much</p>\n"},{"tags":["java","spring-boot","audit","hibernate-envers"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688627757,"post_id":76625948,"comment_id":135099598,"body_markdown":"You need to use property names **not** sql column names.","body":"You need to use property names <b>not</b> sql column names."},{"owner":{"account_id":13266291,"reputation":11,"user_id":9578982,"display_name":"Harsha Madhushan"},"score":0,"creation_date":1688632496,"post_id":76625948,"comment_id":135100624,"body_markdown":"what did you mean by property names? please explain","body":"what did you mean by property names? please explain"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688633648,"post_id":76625948,"comment_id":135100876,"body_markdown":"The name of the field in your entity not the mapped column name.","body":"The name of the field in your entity not the mapped column name."}],"owner":{"account_id":13266291,"reputation":11,"user_id":9578982,"display_name":"Harsha Madhushan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688624418,"creation_date":1688623672,"question_id":76625948,"body_markdown":"I&#39;m trying to get the audit records from a audit table. in this table, I want to get audit records only if one or two specific columns are changed. to get the audit records i have used the Envers library.only to get the changed records of specific columns, i have used the .hasChanged() method. but when i run it it gives me this error. \r\n\r\n```\r\njava.lang.IllegalArgumentException: org.hibernate.QueryException: could not resolve property: e_approval_status_MOD of: com.csi.bm.approval.model.entity.Approval_AUD [select e__ from com.csi.bm.approval.model.entity.Approval_AUD e__ where e__.originalId.id = :_p0 and e__.e_approval_status_MOD = :_p1 and e__.e_approval_remark_MOD = :_p2 order by e__.modifiedDate asc]\r\n```\r\nthis is the code that i wrote:\r\n\r\n```\r\nAuditReader reader = AuditReaderFactory.get(factory.createEntityManager());\r\n\t\tSet&lt;String&gt; userIds  =  new HashSet&lt;&gt;();\r\n\t\tAuditQuery approvalAudit = reader.createQuery()\r\n\t\t\t\t.forRevisionsOfEntity(Approval.class, true, true)\r\n\t\t\t\t.add(AuditEntity.property(&quot;id&quot;).eq(approvalId))\r\n\t\t\t\t.add(AuditEntity.property(&quot;e_approval_status&quot;).hasChanged())\r\n\t\t\t\t.add(AuditEntity.property(&quot;e_approval_remark&quot;).hasChanged())\r\n\t\t\t\t.addOrder(AuditEntity.property(&quot;modifiedDate&quot;).asc());\r\n\r\n\t\tList&lt;Approval&gt; approvalList = approvalAudit.getResultList();\r\n```\r\nIn the entity, I already added the @Audited annotation to the entity and added @Audited(withModifiedFlag=true) to the needed attributes.\r\ni can not set the DDL-AUTO: TRUE since we are using Liquibase changeset to alter the tables. \r\nPlease let me know, is there any additional changed that i need to do to the entity or the DB level to resolve this issue. \r\n\r\n\r\n\r\nI have changed the audit table columns with the column names mentioned in the error. it won&#39;t resolve the issue","title":"What are the changed need to do in DB and entity in order to use .hasChanged() method in envers library to get audit records","body":"<p>I'm trying to get the audit records from a audit table. in this table, I want to get audit records only if one or two specific columns are changed. to get the audit records i have used the Envers library.only to get the changed records of specific columns, i have used the .hasChanged() method. but when i run it it gives me this error.</p>\n<pre><code>java.lang.IllegalArgumentException: org.hibernate.QueryException: could not resolve property: e_approval_status_MOD of: com.csi.bm.approval.model.entity.Approval_AUD [select e__ from com.csi.bm.approval.model.entity.Approval_AUD e__ where e__.originalId.id = :_p0 and e__.e_approval_status_MOD = :_p1 and e__.e_approval_remark_MOD = :_p2 order by e__.modifiedDate asc]\n</code></pre>\n<p>this is the code that i wrote:</p>\n<pre><code>AuditReader reader = AuditReaderFactory.get(factory.createEntityManager());\n        Set&lt;String&gt; userIds  =  new HashSet&lt;&gt;();\n        AuditQuery approvalAudit = reader.createQuery()\n                .forRevisionsOfEntity(Approval.class, true, true)\n                .add(AuditEntity.property(&quot;id&quot;).eq(approvalId))\n                .add(AuditEntity.property(&quot;e_approval_status&quot;).hasChanged())\n                .add(AuditEntity.property(&quot;e_approval_remark&quot;).hasChanged())\n                .addOrder(AuditEntity.property(&quot;modifiedDate&quot;).asc());\n\n        List&lt;Approval&gt; approvalList = approvalAudit.getResultList();\n</code></pre>\n<p>In the entity, I already added the @Audited annotation to the entity and added @Audited(withModifiedFlag=true) to the needed attributes.\ni can not set the DDL-AUTO: TRUE since we are using Liquibase changeset to alter the tables.\nPlease let me know, is there any additional changed that i need to do to the entity or the DB level to resolve this issue.</p>\n<p>I have changed the audit table columns with the column names mentioned in the error. it won't resolve the issue</p>\n"},{"tags":["java",".class-file"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1688620892,"post_id":76625681,"comment_id":135098562,"body_markdown":"If the code is running, then at least one class file was created (even if it&#39;s in memory only). My guess is VS Code is simply putting those class files somewhere else that you can&#39;t see. For instance, if I just &quot;Run Java&quot; with no other configuration, it seems to put the class files somewhere in my `AppData/Roaming/Code` directory (on Windows). I don&#39;t use VS Code for Java development much, so I don&#39;t know how to configure it to put class files in the project directory (e.g., in a directory named `out` or something). I also tend to use a build tool like Maven or Gradle, anyway.","body":"If the code is running, then at least one class file was created (even if it&#39;s in memory only). My guess is VS Code is simply putting those class files somewhere else that you can&#39;t see. For instance, if I just &quot;Run Java&quot; with no other configuration, it seems to put the class files somewhere in my <code>AppData&#47;Roaming&#47;Code</code> directory (on Windows). I don&#39;t use VS Code for Java development much, so I don&#39;t know how to configure it to put class files in the project directory (e.g., in a directory named <code>out</code> or something). I also tend to use a build tool like Maven or Gradle, anyway."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1688620990,"post_id":76625681,"comment_id":135098567,"body_markdown":"And note, you should _not_ be creating class files &quot;manually&quot;.","body":"And note, you should <i>not</i> be creating class files &quot;manually&quot;."},{"owner":{"account_id":15396644,"reputation":25735,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1688621525,"post_id":76625681,"comment_id":135098624,"body_markdown":"the class file is not created when running the program. it&#39;s created when you compile the source into the class file with something like javac or whatever build tool you use that wraps around it.","body":"the class file is not created when running the program. it&#39;s created when you compile the source into the class file with something like javac or whatever build tool you use that wraps around it."}],"answers":[{"tags":[],"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688622636,"creation_date":1688622636,"answer_id":76625860,"question_id":76625681,"body_markdown":"Do you want to compile or decompile? I think you need to compile. Fix the question title if this is true.\r\n\r\nAs a experienced user in netbeans, eclipse, intellij and visual code, I recommend you to use eclipse for java development. Don&#39;t use visual code. That ide is perfect for c# and javascript.\r\n\r\nIf you choose eclipse, I can help you to configure your workspace.\r\n\r\n## Compile java with vs code \r\n\r\nAnyway if you want to use vs code, basically you will need to try plugins and configure them :/\r\n\r\n- https://stackoverflow.com/questions/49439522/how-to-compile-and-run-java-code-in-visual-studio-code\r\n- https://code.visualstudio.com/docs/languages/java\r\n\r\n## Compile with cli\r\n\r\nSince you are trying simple classes, you could use the shell to compile and run your java class. **This method is the ultra fast** way to do it, even faster than Eclipse\r\n\r\n- install java in your machine\r\n- validate with `java -version`\r\n- compile with `javac Please.java`\r\n- run with `java Please`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou could continue using vs code to develop and the shell to compile like a pro.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SfASp.png","title":"How to decompile Java Class file in VS Code","body":"<p>Do you want to compile or decompile? I think you need to compile. Fix the question title if this is true.</p>\n<p>As a experienced user in netbeans, eclipse, intellij and visual code, I recommend you to use eclipse for java development. Don't use visual code. That ide is perfect for c# and javascript.</p>\n<p>If you choose eclipse, I can help you to configure your workspace.</p>\n<h2>Compile java with vs code</h2>\n<p>Anyway if you want to use vs code, basically you will need to try plugins and configure them :/</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/49439522/how-to-compile-and-run-java-code-in-visual-studio-code\">How to compile and run Java code in Visual Studio Code</a></li>\n<li><a href=\"https://code.visualstudio.com/docs/languages/java\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/languages/java</a></li>\n</ul>\n<h2>Compile with cli</h2>\n<p>Since you are trying simple classes, you could use the shell to compile and run your java class. <strong>This method is the ultra fast</strong> way to do it, even faster than Eclipse</p>\n<ul>\n<li>install java in your machine</li>\n<li>validate with <code>java -version</code></li>\n<li>compile with <code>javac Please.java</code></li>\n<li>run with <code>java Please</code></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/SfASp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SfASp.png\" alt=\"enter image description here\" /></a></p>\n<p>You could continue using vs code to develop and the shell to compile like a pro.</p>\n"},{"tags":[],"owner":{"account_id":22149843,"reputation":53,"user_id":16398554,"display_name":"Pulkit Pareek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688622901,"creation_date":1688622901,"answer_id":76625882,"question_id":76625681,"body_markdown":"VS Code doesn&#39;t create Java class files automatically. If you want to create a class file just run  \r\n`&#39;javac Please.java&#39;`   \r\nthis will create a `Please.class` file  \r\nYou can now run this file by typing `&#39;java Please&#39;` in the terminal\r\n\r\nFor Ex:\r\nCreating a sample HelloWorld java file\r\n[![creating a sample hello world java file][1]][1]\r\n\r\n\r\nwhen I created this file and run it using the run button present in the top right corner, It just output **Hello World** and does not create any java .class file.\r\n\r\nBut if I want a java .class file, I can create It using javac.  \r\nFor that I just wrote in the terminal\r\n`&#39;javac HelloWorld.java&#39;`\r\n[![enter image description here][2]][2]\r\n\r\nAnd now the .java file is compiled into a .class file  \r\nWhen I click on Decompile Class File  \r\nIt just decompiles .class file into a Java source file  \r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nNxOt.png\r\n  [2]: https://i.stack.imgur.com/DncYW.png\r\n  [3]: https://i.stack.imgur.com/h5Ewf.png","title":"How to decompile Java Class file in VS Code","body":"<p>VS Code doesn't create Java class files automatically. If you want to create a class file just run<br />\n<code>'javac Please.java'</code><br />\nthis will create a <code>Please.class</code> file<br />\nYou can now run this file by typing <code>'java Please'</code> in the terminal</p>\n<p>For Ex:\nCreating a sample HelloWorld java file\n<a href=\"https://i.stack.imgur.com/nNxOt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nNxOt.png\" alt=\"creating a sample hello world java file\" /></a></p>\n<p>when I created this file and run it using the run button present in the top right corner, It just output <strong>Hello World</strong> and does not create any java .class file.</p>\n<p>But if I want a java .class file, I can create It using javac.<br />\nFor that I just wrote in the terminal\n<code>'javac HelloWorld.java'</code>\n<a href=\"https://i.stack.imgur.com/DncYW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DncYW.png\" alt=\"enter image description here\" /></a></p>\n<p>And now the .java file is compiled into a .class file<br />\nWhen I click on Decompile Class File<br />\nIt just decompiles .class file into a Java source file<br />\n<a href=\"https://i.stack.imgur.com/h5Ewf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h5Ewf.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":26463200,"reputation":23,"user_id":20104834,"display_name":"subcoldmay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2525,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76625882,"answer_count":2,"score":2,"last_activity_date":1688622901,"creation_date":1688620238,"question_id":76625681,"body_markdown":"[enter image description here](https://i.stack.imgur.com/6zGg0.png)\r\n\r\nSo I&#39;m a new java developer and VS code is currently the platform I use. To my understanding every time you create a new object in Java, a class file should be generated as well. As explained in this video \r\n{\r\nhttps://www.youtube.com/watch?v=dFuVh_Bzy9c&amp;list=PLsyeobzWxl7pe_IiTfNyr55kwJPWbgxB5&amp;index=50&amp;ab_channel=Telusko \r\nbeginning from min mark &quot;3:00&quot;\r\n}\r\nMy problem is that whenever I run my program it doesn&#39;t create a class file automatically even when creating a class file manually. When I try to manually create a class file I get this message, \r\n\r\n&quot;This file is not displayed in the text editor because it is a Java class file. Click here to decompile and open.&quot;\r\n\r\nAfter I decompile I get this message \r\n&quot;Error while getting decompiled source.&quot;\r\n\r\nI just really need some advice and help I&#39;ve been trying to figure this out for about a week now. I tried configuring the paths, installing/uninstalling extensions, reinstalling the JDK. I guess I really just don&#39;t know what I&#39;m doing can someone please help me.\r\n\r\nThe image provided is an example of what happens every time. This only pops up after trying to manually configure a Class file. It doesn&#39;t configure automatically.\r\n\r\n","title":"How to decompile Java Class file in VS Code","body":"<p><a href=\"https://i.stack.imgur.com/6zGg0.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>So I'm a new java developer and VS code is currently the platform I use. To my understanding every time you create a new object in Java, a class file should be generated as well. As explained in this video\n{\n<a href=\"https://www.youtube.com/watch?v=dFuVh_Bzy9c&amp;list=PLsyeobzWxl7pe_IiTfNyr55kwJPWbgxB5&amp;index=50&amp;ab_channel=Telusko\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=dFuVh_Bzy9c&amp;list=PLsyeobzWxl7pe_IiTfNyr55kwJPWbgxB5&amp;index=50&amp;ab_channel=Telusko</a>\nbeginning from min mark &quot;3:00&quot;\n}\nMy problem is that whenever I run my program it doesn't create a class file automatically even when creating a class file manually. When I try to manually create a class file I get this message,</p>\n<p>&quot;This file is not displayed in the text editor because it is a Java class file. Click here to decompile and open.&quot;</p>\n<p>After I decompile I get this message\n&quot;Error while getting decompiled source.&quot;</p>\n<p>I just really need some advice and help I've been trying to figure this out for about a week now. I tried configuring the paths, installing/uninstalling extensions, reinstalling the JDK. I guess I really just don't know what I'm doing can someone please help me.</p>\n<p>The image provided is an example of what happens every time. This only pops up after trying to manually configure a Class file. It doesn't configure automatically.</p>\n"},{"tags":["java","ssl","bazel","keytool"],"comments":[{"owner":{"account_id":2123179,"reputation":10922,"user_id":1886012,"display_name":"bowmore"},"score":0,"creation_date":1688607596,"post_id":76624722,"comment_id":135097488,"body_markdown":"Likely this is your answer : https://security.stackexchange.com/questions/162592/why-do-i-need-to-add-intermediate-ca-certificates-to-jvms-cacerts-file#162595","body":"Likely this is your answer : <a href=\"https://security.stackexchange.com/questions/162592/why-do-i-need-to-add-intermediate-ca-certificates-to-jvms-cacerts-file#162595\" title=\"why do i need to add intermediate ca certificates to jvms cacerts file%23162595\">security.stackexchange.com/questions/162592/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22195036,"reputation":333,"user_id":16436562,"display_name":"eve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688622862,"creation_date":1688622862,"answer_id":76625880,"question_id":76624722,"body_markdown":"I solved the problem with the following settings.&lt;br&gt;\r\nI create [~/.bazelrc] and add the following contents\r\n```\r\nstartup --host_jvm_args=-Djavax.net.ssl.trustStore=/usr/lib/jvm/openjdk-8u342-b07/jre/lib/security/cacerts \\\r\n        --host_jvm_args=-Djavax.net.ssl.trustStorePassword=changeit\r\n```\r\nAnd I add the following contents to [~/.bashrc] as well.\r\n```\r\nexport JAVA_HOME=/usr/lib/jvm/openjdk-8u342-b07\r\n```\r\nAnd it was solved after restarting my docker container.&lt;br&gt;\r\nOf course, I have already set the settings below.\r\n```\r\nkeytool -importcert -alias startssl -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -file my.crt\r\n```\r\n","title":"Error in download_and_extract: java.io.IOException: Error downloading [] PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilder","body":"<p>I solved the problem with the following settings.<br>\nI create [~/.bazelrc] and add the following contents</p>\n<pre><code>startup --host_jvm_args=-Djavax.net.ssl.trustStore=/usr/lib/jvm/openjdk-8u342-b07/jre/lib/security/cacerts \\\n        --host_jvm_args=-Djavax.net.ssl.trustStorePassword=changeit\n</code></pre>\n<p>And I add the following contents to [~/.bashrc] as well.</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/openjdk-8u342-b07\n</code></pre>\n<p>And it was solved after restarting my docker container.<br>\nOf course, I have already set the settings below.</p>\n<pre><code>keytool -importcert -alias startssl -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -file my.crt\n</code></pre>\n"}],"owner":{"account_id":22195036,"reputation":333,"user_id":16436562,"display_name":"eve"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76625880,"answer_count":1,"score":1,"last_activity_date":1688622862,"creation_date":1688601485,"question_id":76624722,"body_markdown":"I am getting this error.\r\n```\r\n(08:45:12) WARNING: Download from https://github.com/bazelbuild/rules_foreign_cc/archive/0.8.0.tar.gz failed: class javax.net.ssl.SSLHandshakeException PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n(08:45:12) ERROR: An error occurred during the fetch of repository &#39;rules_foreign_cc&#39;:\r\n   Traceback (most recent call last):\r\n\tFile &quot;/home/apollo_project/apollo/.cache/bazel/b52035c489e6fe2bd45e6bc6d0d71be2/external/bazel_tools/tools/build_defs/repo/http.bzl&quot;, line 132, column 45, in _http_archive_impl\r\n\t\tdownload_info = ctx.download_and_extract(\r\nError in download_and_extract: java.io.IOException: Error downloading [https://apollo-system.bj.bcebos.com/archive/6.0/rules_foreign_cc-0.8.0.tar.gz, \r\nhttps://github.com/bazelbuild/rules_foreign_cc/archive/0.8.0.tar.gz] to /home/apollo_project/apollo/.cache/bazel/b52035c489e6fe2bd45e6bc6d0d71be2/external/rules_foreign_cc/\r\ntemp5947386906325017422/rules_foreign_cc-0.8.0.tar.gz: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n```\r\nThis occurred when building to use open source called apollo. &lt;br&gt;\r\nIt seems that the part that downloads the file using Bazel is in the build script, but that error occurred.&lt;br&gt;\r\nI also set as below.&lt;br&gt;\r\n```\r\nkeytool -importcert -alias startsl -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -file my.crt\r\n```\r\nThe basic proxy setting of the docker container has been set. &lt;br&gt;\r\nThe part where download is attempted in the build script I also confirmed that download is successful with wget.&lt;br&gt;\r\n(wget https://apollo-system.bj.bcebos.com/archive/6.0/rules_foreign_cc-0.8.0.tar.gz, &lt;br&gt;\r\nwget https://github.com/bazelbuild/rules_foreign_cc/archive/0.8.0.tar.gz)&lt;br&gt;\r\nWhat more settings do I need?\r\n","title":"Error in download_and_extract: java.io.IOException: Error downloading [] PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilder","body":"<p>I am getting this error.</p>\n<pre><code>(08:45:12) WARNING: Download from https://github.com/bazelbuild/rules_foreign_cc/archive/0.8.0.tar.gz failed: class javax.net.ssl.SSLHandshakeException PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n(08:45:12) ERROR: An error occurred during the fetch of repository 'rules_foreign_cc':\n   Traceback (most recent call last):\n    File &quot;/home/apollo_project/apollo/.cache/bazel/b52035c489e6fe2bd45e6bc6d0d71be2/external/bazel_tools/tools/build_defs/repo/http.bzl&quot;, line 132, column 45, in _http_archive_impl\n        download_info = ctx.download_and_extract(\nError in download_and_extract: java.io.IOException: Error downloading [https://apollo-system.bj.bcebos.com/archive/6.0/rules_foreign_cc-0.8.0.tar.gz, \nhttps://github.com/bazelbuild/rules_foreign_cc/archive/0.8.0.tar.gz] to /home/apollo_project/apollo/.cache/bazel/b52035c489e6fe2bd45e6bc6d0d71be2/external/rules_foreign_cc/\ntemp5947386906325017422/rules_foreign_cc-0.8.0.tar.gz: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>This occurred when building to use open source called apollo. <br>\nIt seems that the part that downloads the file using Bazel is in the build script, but that error occurred.<br>\nI also set as below.<br></p>\n<pre><code>keytool -importcert -alias startsl -keystore $JAVA_HOME/jre/lib/security/cacerts -storepass changeit -file my.crt\n</code></pre>\n<p>The basic proxy setting of the docker container has been set. <br>\nThe part where download is attempted in the build script I also confirmed that download is successful with wget.<br>\n(wget <a href=\"https://apollo-system.bj.bcebos.com/archive/6.0/rules_foreign_cc-0.8.0.tar.gz\" rel=\"nofollow noreferrer\">https://apollo-system.bj.bcebos.com/archive/6.0/rules_foreign_cc-0.8.0.tar.gz</a>, <br>\nwget <a href=\"https://github.com/bazelbuild/rules_foreign_cc/archive/0.8.0.tar.gz\" rel=\"nofollow noreferrer\">https://github.com/bazelbuild/rules_foreign_cc/archive/0.8.0.tar.gz</a>)<br>\nWhat more settings do I need?</p>\n"},{"tags":["java","apache","pdf","apache-poi","converters"],"comments":[{"owner":{"account_id":2252907,"reputation":2755,"user_id":1984767,"accept_rate":50,"display_name":"Leviand"},"score":1,"creation_date":1532081875,"post_id":51440312,"comment_id":89850637,"body_markdown":"*is not working* : what do you mean? It throws exceptions? Can you add it to your question, please?","body":"<i>is not working</i> : what do you mean? It throws exceptions? Can you add it to your question, please?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1532082080,"post_id":51440312,"comment_id":89850766,"body_markdown":"See https://stackoverflow.com/questions/51330192/trying-to-make-simple-pdf-document-with-apache-poi/51337157#51337157 for complete examples which are tested and are working.","body":"See <a href=\"https://stackoverflow.com/questions/51330192/trying-to-make-simple-pdf-document-with-apache-poi/51337157#51337157\" title=\"trying to make simple pdf document with apache poi\">stackoverflow.com/questions/51330192/&hellip;</a> for complete examples which are tested and are working."}],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":30,"is_accepted":true,"score":30,"last_activity_date":1688622790,"creation_date":1532082938,"answer_id":51440649,"question_id":51440312,"body_markdown":"The main problem with this is that those `PdfOptions` and `PdfConverter` are not part of the `apache poi` project. They are developed by `opensagres` and first versions were badly named `org.apache.poi.xwpf.converter.pdf.PdfOptions` and `org.apache.poi.xwpf.converter.pdf.PdfConverter`. Those old classes were not updated since 2014 and needs version `3.9`  of  `apache poi` to be used.\r\n\r\nDo using the much more current  [fr.opensagres.poi.xwpf.converter.pdf](https://mvnrepository.com/artifact/fr.opensagres.xdocreport/fr.opensagres.poi.xwpf.converter.pdf/2.0.1), which works using the latest stable release `apache poi 3.17`.\r\n\r\nThen do \r\n\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.File;\r\n    \r\n    //needed jars: fr.opensagres.poi.xwpf.converter.core-2.0.1.jar, \r\n    //             fr.opensagres.poi.xwpf.converter.pdf-2.0.1.jar,\r\n    //             fr.opensagres.xdocreport.itext.extension-2.0.1.jar,\r\n    //             itext-2.1.7.jar                                  \r\n    import fr.opensagres.poi.xwpf.converter.pdf.PdfOptions;\r\n    import fr.opensagres.poi.xwpf.converter.pdf.PdfConverter;\r\n    \r\n    //needed jars: apache poi and it&#39;s dependencies\r\n    import org.apache.poi.xwpf.usermodel.XWPFDocument;\r\n    \r\n    public class DOCXToPDFConverterSampleMin {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      String docPath = &quot;./WordDocument.docx&quot;;\r\n      String pdfPath = &quot;./WordDocument.pdf&quot;;\r\n    \r\n      InputStream in = new FileInputStream(new File(docPath));\r\n      XWPFDocument document = new XWPFDocument(in);\r\n      PdfOptions options = PdfOptions.create();\r\n      OutputStream out = new FileOutputStream(new File(pdfPath));\r\n      PdfConverter.getInstance().convert(document, out, options);\r\n    \r\n      document.close();\r\n      out.close();\r\n    \r\n     }\r\n    }\r\n\r\n___________________________\r\nOctober 2018:\r\nThis code works using `apache poi 3.17`. It cannot work using `apache poi 4.0.0` due to changings in `apache poi` which were not taken in account in `fr.opensagres.poi.xwpf.converter` until now.\r\n____________________________\r\nFebruary 2019:\r\nWorks for me now using the newest `apache poi` version `4.0.1` and the newest version `2.0.2` of [fr.opensagres.poi.xwpf.converter.pdf](https://mvnrepository.com/artifact/fr.opensagres.xdocreport/fr.opensagres.poi.xwpf.converter.pdf/2.0.2) and consorts.\r\n\r\n__________________________\r\nJune 2021:\r\nWorks using `apache poi` version `4.1.2` and the newest version `2.0.2` of [fr.opensagres.poi.xwpf.converter.pdf](https://mvnrepository.com/artifact/fr.opensagres.xdocreport/fr.opensagres.poi.xwpf.converter.pdf/2.0.2) and consorts.\r\nCannot work using `apache poi` version `5.0.0` because `XDocReport` needs `ooxml-schemas` which `apache poi 5` does not support anymore.\r\n\r\n__________________________\r\nApril 2022:\r\nWorks using `apache poi` version `5.2.2` and the newest version `2.0.3` of [fr.opensagres.poi.xwpf.converter.pdf](https://mvnrepository.com/artifact/fr.opensagres.xdocreport/fr.opensagres.poi.xwpf.converter.pdf/2.0.3) and consorts.\r\n\r\n____________________________\r\nJuly 2023: \r\nWorks using `apache poi` version `5.2.3` and the newest version `2.0.4` of [fr.opensagres.poi.xwpf.converter.pdf](https://mvnrepository.com/artifact/fr.opensagres.xdocreport/fr.opensagres.poi.xwpf.converter.pdf/2.0.4) and consorts.","title":"Docx to Pdf Converter in java","body":"<p>The main problem with this is that those <code>PdfOptions</code> and <code>PdfConverter</code> are not part of the <code>apache poi</code> project. They are developed by <code>opensagres</code> and first versions were badly named <code>org.apache.poi.xwpf.converter.pdf.PdfOptions</code> and <code>org.apache.poi.xwpf.converter.pdf.PdfConverter</code>. Those old classes were not updated since 2014 and needs version <code>3.9</code>  of  <code>apache poi</code> to be used.</p>\n<p>Do using the much more current  <a href=\"https://mvnrepository.com/artifact/fr.opensagres.xdocreport/fr.opensagres.poi.xwpf.converter.pdf/2.0.1\" rel=\"nofollow noreferrer\">fr.opensagres.poi.xwpf.converter.pdf</a>, which works using the latest stable release <code>apache poi 3.17</code>.</p>\n<p>Then do</p>\n<pre><code>import java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.File;\n\n//needed jars: fr.opensagres.poi.xwpf.converter.core-2.0.1.jar, \n//             fr.opensagres.poi.xwpf.converter.pdf-2.0.1.jar,\n//             fr.opensagres.xdocreport.itext.extension-2.0.1.jar,\n//             itext-2.1.7.jar                                  \nimport fr.opensagres.poi.xwpf.converter.pdf.PdfOptions;\nimport fr.opensagres.poi.xwpf.converter.pdf.PdfConverter;\n\n//needed jars: apache poi and it's dependencies\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\n\npublic class DOCXToPDFConverterSampleMin {\n\n public static void main(String[] args) throws Exception {\n\n  String docPath = &quot;./WordDocument.docx&quot;;\n  String pdfPath = &quot;./WordDocument.pdf&quot;;\n\n  InputStream in = new FileInputStream(new File(docPath));\n  XWPFDocument document = new XWPFDocument(in);\n  PdfOptions options = PdfOptions.create();\n  OutputStream out = new FileOutputStream(new File(pdfPath));\n  PdfConverter.getInstance().convert(document, out, options);\n\n  document.close();\n  out.close();\n\n }\n}\n</code></pre>\n<hr />\n<p>October 2018:\nThis code works using <code>apache poi 3.17</code>. It cannot work using <code>apache poi 4.0.0</code> due to changings in <code>apache poi</code> which were not taken in account in <code>fr.opensagres.poi.xwpf.converter</code> until now.</p>\n<hr />\n<p>February 2019:\nWorks for me now using the newest <code>apache poi</code> version <code>4.0.1</code> and the newest version <code>2.0.2</code> of <a href=\"https://mvnrepository.com/artifact/fr.opensagres.xdocreport/fr.opensagres.poi.xwpf.converter.pdf/2.0.2\" rel=\"nofollow noreferrer\">fr.opensagres.poi.xwpf.converter.pdf</a> and consorts.</p>\n<hr />\n<p>June 2021:\nWorks using <code>apache poi</code> version <code>4.1.2</code> and the newest version <code>2.0.2</code> of <a href=\"https://mvnrepository.com/artifact/fr.opensagres.xdocreport/fr.opensagres.poi.xwpf.converter.pdf/2.0.2\" rel=\"nofollow noreferrer\">fr.opensagres.poi.xwpf.converter.pdf</a> and consorts.\nCannot work using <code>apache poi</code> version <code>5.0.0</code> because <code>XDocReport</code> needs <code>ooxml-schemas</code> which <code>apache poi 5</code> does not support anymore.</p>\n<hr />\n<p>April 2022:\nWorks using <code>apache poi</code> version <code>5.2.2</code> and the newest version <code>2.0.3</code> of <a href=\"https://mvnrepository.com/artifact/fr.opensagres.xdocreport/fr.opensagres.poi.xwpf.converter.pdf/2.0.3\" rel=\"nofollow noreferrer\">fr.opensagres.poi.xwpf.converter.pdf</a> and consorts.</p>\n<hr />\n<p>July 2023:\nWorks using <code>apache poi</code> version <code>5.2.3</code> and the newest version <code>2.0.4</code> of <a href=\"https://mvnrepository.com/artifact/fr.opensagres.xdocreport/fr.opensagres.poi.xwpf.converter.pdf/2.0.4\" rel=\"nofollow noreferrer\">fr.opensagres.poi.xwpf.converter.pdf</a> and consorts.</p>\n"},{"tags":[],"owner":{"account_id":17443403,"reputation":181,"user_id":12644903,"display_name":"avijitshaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1578033369,"creation_date":1578033369,"answer_id":59574186,"question_id":51440312,"body_markdown":"New version 2.0.2 of fr.opensagres.poi.xwpf.converter.core runs with apache poi 4.0.1 and itext 2.17. \r\nYou just need to add below dependency in Maven and then maven will auto download all dependent dependencies. (Updated your Maven project, so it downloaded all these libraries and all of its dependencies)\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n        &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Docx to Pdf Converter in java","body":"<p>New version 2.0.2 of fr.opensagres.poi.xwpf.converter.core runs with apache poi 4.0.1 and itext 2.17. \nYou just need to add below dependency in Maven and then maven will auto download all dependent dependencies. (Updated your Maven project, so it downloaded all these libraries and all of its dependencies)</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n    &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19560227,"reputation":29,"user_id":14313603,"display_name":"Sagar R G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600678374,"creation_date":1600677848,"answer_id":63988895,"question_id":51440312,"body_markdown":"Just addded in POX.xml\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n    &lt;version&gt;4.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\r\n    &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Docx to Pdf Converter in java","body":"<p>Just addded in POX.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;fr.opensagres.xdocreport&lt;/groupId&gt;\n    &lt;artifactId&gt;fr.opensagres.poi.xwpf.converter.pdf&lt;/artifactId&gt;\n    &lt;version&gt;2.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13709938,"reputation":21,"user_id":9892574,"display_name":"Daniel Neszew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633098556,"creation_date":1633098556,"answer_id":69407605,"question_id":51440312,"body_markdown":"&gt; June 2021: Works using apache poi version 4.1.2 and the newest version\r\n&gt; 2.0.2 of fr.opensagres.poi.xwpf.converter.core and consorts. Cannot work using apache poi version 5.0.0 because XDocReport needs\r\n&gt; ooxml-schemas which apache poi 5 does not support anymore.\r\n\r\n**ooxml-schemas** has been replaced with **poi-ooxml-full**.\r\n\r\nhttps://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-full/5.0.0\r\n\r\nbut it doesn&#39;t work with **fr.opensagres.poi.xwpf.converter.core 2.0.2**, because is not compatible with new version of CTStyle which is included in apache-poi 5.0.0.","title":"Docx to Pdf Converter in java","body":"<blockquote>\n<p>June 2021: Works using apache poi version 4.1.2 and the newest version\n2.0.2 of fr.opensagres.poi.xwpf.converter.core and consorts. Cannot work using apache poi version 5.0.0 because XDocReport needs\nooxml-schemas which apache poi 5 does not support anymore.</p>\n</blockquote>\n<p><strong>ooxml-schemas</strong> has been replaced with <strong>poi-ooxml-full</strong>.</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-full/5.0.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.poi/poi-ooxml-full/5.0.0</a></p>\n<p>but it doesn't work with <strong>fr.opensagres.poi.xwpf.converter.core 2.0.2</strong>, because is not compatible with new version of CTStyle which is included in apache-poi 5.0.0.</p>\n"}],"owner":{"account_id":10591420,"reputation":183,"user_id":7801853,"display_name":"Shelly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28903,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":51440649,"answer_count":4,"score":6,"last_activity_date":1688622790,"creation_date":1532081827,"question_id":51440312,"body_markdown":"The below code is not working with Apache poi 3.16.\r\nCan someone provide with the correct solution, in my project there are some dependency for using only \r\n\r\n    public void ConvertToPDF(String docPath, String pdfPath) {\r\n        try {\r\n            InputStream doc = new FileInputStream(new File(docPath));\r\n            XWPFDocument document = new XWPFDocument(doc);\r\n            PdfOptions options = PdfOptions.create();\r\n            OutputStream out = new FileOutputStream(new File(pdfPath));\r\n            PdfConverter.getInstance().convert(document, out, options);\r\n            System.out.println(&quot;Done&quot;);\r\n        } catch (FileNotFoundException ex) {\r\n            System.out.println(ex.getMessage());\r\n        } catch (IOException ex) {\r\n            System.out.println(ex.getMessage());\r\n        }\r\n    }\r\n\r\n\r\n\r\nException:\r\n\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.NoSuchMethodError: org.apache.poi.POIXMLDocumentPart.getPackageRelationship()Lorg/apache/poi/openxml4j/opc/PackageRelationship;\r\n\tat org.apache.poi.xwpf.converter.core.styles.XWPFStylesDocument.getFontsDocument(XWPFStylesDocument.java:1479)\r\n\tat org.apache.poi.xwpf.converter.core.styles.XWPFStylesDocument.&lt;init&gt;(XWPFStylesDocument.java:190)\r\n\tat org.apache.poi.xwpf.converter.core.styles.XWPFStylesDocument.&lt;init&gt;(XWPFStylesDocument.java:184)\r\n\tat org.apache.poi.xwpf.converter.core.XWPFDocumentVisitor.createStylesDocument(XWPFDocumentVisitor.java:166)\r\n\tat org.apache.poi.xwpf.converter.core.XWPFDocumentVisitor.&lt;init&gt;(XWPFDocumentVisitor.java:159)\r\n\tat org.apache.poi.xwpf.converter.pdf.internal.PdfMapper.&lt;init&gt;(PdfMapper.java:149)\r\n\tat org.apache.poi.xwpf.converter.pdf.PdfConverter.doConvert(PdfConverter.java:55)\r\n\tat org.apache.poi.xwpf.converter.pdf.PdfConverter.doConvert(PdfConverter.java:38)\r\n\tat org.apache.poi.xwpf.converter.core.AbstractXWPFConverter.convert(AbstractXWPFConverter.java:45)\r\n\tat recall.wordEditor.converter(recall_word.java:395)\r\n\tat recall.wordEditor.process(recall_word.java:379)\r\n\tat recall.wordEditor$5.actionPerformed(recall_word.java:194)\r\n\tat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\r\n\tat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\r\n\tat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\r\n\tat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\r\n\tat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\r\n\tat java.awt.Component.processMouseEvent(Unknown Source)\r\n\tat javax.swing.JComponent.processMouseEvent(Unknown Source)\r\n\tat java.awt.Component.processEvent(Unknown Source)\r\n\tat java.awt.Container.processEvent(Unknown Source)\r\n\tat java.awt.Component.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Component.dispatchEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\r\n\tat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\r\n\tat java.awt.Container.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Window.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.Component.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\r\n\tat java.awt.EventQueue.access$500(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.awt.EventQueue$3.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue$4.run(Unknown Source)\r\n\tat java.awt.EventQueue$4.run(Unknown Source)\r\n\tat java.security.AccessController.doPrivileged(Native Method)\r\n\tat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\r\n\tat java.awt.EventQueue.dispatchEvent(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\r\n\tat java.awt.EventDispatchThread.run(Unknown Source)","title":"Docx to Pdf Converter in java","body":"<p>The below code is not working with Apache poi 3.16.\nCan someone provide with the correct solution, in my project there are some dependency for using only </p>\n\n<pre><code>public void ConvertToPDF(String docPath, String pdfPath) {\n    try {\n        InputStream doc = new FileInputStream(new File(docPath));\n        XWPFDocument document = new XWPFDocument(doc);\n        PdfOptions options = PdfOptions.create();\n        OutputStream out = new FileOutputStream(new File(pdfPath));\n        PdfConverter.getInstance().convert(document, out, options);\n        System.out.println(\"Done\");\n    } catch (FileNotFoundException ex) {\n        System.out.println(ex.getMessage());\n    } catch (IOException ex) {\n        System.out.println(ex.getMessage());\n    }\n}\n</code></pre>\n\n<p>Exception:</p>\n\n<pre><code>Exception in thread \"AWT-EventQueue-0\" java.lang.NoSuchMethodError: org.apache.poi.POIXMLDocumentPart.getPackageRelationship()Lorg/apache/poi/openxml4j/opc/PackageRelationship;\nat org.apache.poi.xwpf.converter.core.styles.XWPFStylesDocument.getFontsDocument(XWPFStylesDocument.java:1479)\nat org.apache.poi.xwpf.converter.core.styles.XWPFStylesDocument.&lt;init&gt;(XWPFStylesDocument.java:190)\nat org.apache.poi.xwpf.converter.core.styles.XWPFStylesDocument.&lt;init&gt;(XWPFStylesDocument.java:184)\nat org.apache.poi.xwpf.converter.core.XWPFDocumentVisitor.createStylesDocument(XWPFDocumentVisitor.java:166)\nat org.apache.poi.xwpf.converter.core.XWPFDocumentVisitor.&lt;init&gt;(XWPFDocumentVisitor.java:159)\nat org.apache.poi.xwpf.converter.pdf.internal.PdfMapper.&lt;init&gt;(PdfMapper.java:149)\nat org.apache.poi.xwpf.converter.pdf.PdfConverter.doConvert(PdfConverter.java:55)\nat org.apache.poi.xwpf.converter.pdf.PdfConverter.doConvert(PdfConverter.java:38)\nat org.apache.poi.xwpf.converter.core.AbstractXWPFConverter.convert(AbstractXWPFConverter.java:45)\nat recall.wordEditor.converter(recall_word.java:395)\nat recall.wordEditor.process(recall_word.java:379)\nat recall.wordEditor$5.actionPerformed(recall_word.java:194)\nat javax.swing.AbstractButton.fireActionPerformed(Unknown Source)\nat javax.swing.AbstractButton$Handler.actionPerformed(Unknown Source)\nat javax.swing.DefaultButtonModel.fireActionPerformed(Unknown Source)\nat javax.swing.DefaultButtonModel.setPressed(Unknown Source)\nat javax.swing.plaf.basic.BasicButtonListener.mouseReleased(Unknown Source)\nat java.awt.Component.processMouseEvent(Unknown Source)\nat javax.swing.JComponent.processMouseEvent(Unknown Source)\nat java.awt.Component.processEvent(Unknown Source)\nat java.awt.Container.processEvent(Unknown Source)\nat java.awt.Component.dispatchEventImpl(Unknown Source)\nat java.awt.Container.dispatchEventImpl(Unknown Source)\nat java.awt.Component.dispatchEvent(Unknown Source)\nat java.awt.LightweightDispatcher.retargetMouseEvent(Unknown Source)\nat java.awt.LightweightDispatcher.processMouseEvent(Unknown Source)\nat java.awt.LightweightDispatcher.dispatchEvent(Unknown Source)\nat java.awt.Container.dispatchEventImpl(Unknown Source)\nat java.awt.Window.dispatchEventImpl(Unknown Source)\nat java.awt.Component.dispatchEvent(Unknown Source)\nat java.awt.EventQueue.dispatchEventImpl(Unknown Source)\nat java.awt.EventQueue.access$500(Unknown Source)\nat java.awt.EventQueue$3.run(Unknown Source)\nat java.awt.EventQueue$3.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\nat java.awt.EventQueue$4.run(Unknown Source)\nat java.awt.EventQueue$4.run(Unknown Source)\nat java.security.AccessController.doPrivileged(Native Method)\nat java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(Unknown Source)\nat java.awt.EventQueue.dispatchEvent(Unknown Source)\nat java.awt.EventDispatchThread.pumpOneEventForFilters(Unknown Source)\nat java.awt.EventDispatchThread.pumpEventsForFilter(Unknown Source)\nat java.awt.EventDispatchThread.pumpEventsForHierarchy(Unknown Source)\nat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\nat java.awt.EventDispatchThread.pumpEvents(Unknown Source)\nat java.awt.EventDispatchThread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","authentication","passwords","system"],"comments":[{"owner":{"account_id":146411,"reputation":9094,"user_id":356857,"accept_rate":80,"display_name":"WeMakeSoftware"},"score":0,"creation_date":1368903925,"post_id":16627910,"comment_id":23909776,"body_markdown":"is it a web application or a desktop one?","body":"is it a web application or a desktop one?"},{"owner":{"account_id":2676494,"reputation":7508,"user_id":2312796,"accept_rate":86,"display_name":"greedybuddha"},"score":2,"creation_date":1368903946,"post_id":16627910,"comment_id":23909784,"body_markdown":"So what have you tried with reading from a file?","body":"So what have you tried with reading from a file?"},{"owner":{"account_id":2786141,"reputation":101,"user_id":2397492,"display_name":"Jpixta"},"score":0,"creation_date":1368904134,"post_id":16627910,"comment_id":23909829,"body_markdown":"like I said, I am pretty bad at programming so I don&#39;t really know how to link this to a file at all, this is a desktop one, just using netbeans.","body":"like I said, I am pretty bad at programming so I don&#39;t really know how to link this to a file at all, this is a desktop one, just using netbeans."}],"answers":[{"tags":[],"owner":{"account_id":1032287,"reputation":322,"user_id":1040374,"accept_rate":87,"display_name":"Akina91"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1368904383,"creation_date":1368904383,"answer_id":16628027,"question_id":16627910,"body_markdown":"Hint:\r\n 1. [String.Contains][1]\r\n 2. [File Class][2]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/io/File.html","title":"How to code a very simple login system with java","body":"<p>Hint:\n 1. <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html\" rel=\"nofollow\">String.Contains</a>\n 2. <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/File.html\" rel=\"nofollow\">File Class</a></p>\n"},{"tags":[],"owner":{"account_id":2786204,"reputation":1,"user_id":2397536,"display_name":"Shovik Guha"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1368904792,"creation_date":1368904792,"answer_id":16628090,"question_id":16627910,"body_markdown":"One way you could do it is have a file with the username and pass directly under it. Then uses the Scanner class and when you create it, make the file the parameter for the Scanner. Then use the methods hasNext(); and nextLine to verify the username and password;\r\n\r\n   \r\n\r\n    String user;\r\n    String pass;\r\n    \r\n    Scanner scan = new Scanner(new File(&quot;File.txt&quot;));\r\n    \r\n    while(scan.hasNext){ //While the file still has more lines remaining\r\n         if(scan.nextLine() == user){\r\n              if(scan.nextLine == pass){\r\n                       lblDisplay.setText(&quot;Credentials Accepted.&quot;);\r\n              }\r\n              else{\r\n                   lblDisplay.setText(&quot;Please try again.&quot;);\r\n              }\r\n         }\r\n    }\r\n\r\n","title":"How to code a very simple login system with java","body":"<p>One way you could do it is have a file with the username and pass directly under it. Then uses the Scanner class and when you create it, make the file the parameter for the Scanner. Then use the methods hasNext(); and nextLine to verify the username and password;</p>\n\n<pre><code>String user;\nString pass;\n\nScanner scan = new Scanner(new File(\"File.txt\"));\n\nwhile(scan.hasNext){ //While the file still has more lines remaining\n     if(scan.nextLine() == user){\n          if(scan.nextLine == pass){\n                   lblDisplay.setText(\"Credentials Accepted.\");\n          }\n          else{\n               lblDisplay.setText(\"Please try again.\");\n          }\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1978308,"reputation":336,"user_id":1775561,"display_name":"Galen Nare"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1368905671,"creation_date":1368905671,"answer_id":16628218,"question_id":16627910,"body_markdown":"You will need to use `java.util.Scanner` for this issue.\r\n\r\nHere is a good login program for the console:\r\n\r\n    import java.util.Scanner; // I use scanner because it&#39;s command line.\r\n\r\n    public class Login {\r\n    public void run() {\r\n        Scanner scan = new Scanner (new File(&quot;the\\\\dir\\\\myFile.extension&quot;));\r\n        Scanner keyboard = new Scanner (System.in);\r\n        String user = scan.nextLine();\r\n        String pass = scan.nextLine(); // looks at selected file in scan\r\n\r\n        String inpUser = keyboard.nextLine();\r\n        String inpPass = keyboard.nextLine(); // gets input from user\r\n\r\n        if (inpUser.equals(user) &amp;&amp; inpPass.equals(pass)) {\r\n            System.out.print(&quot;your login message&quot;);\r\n        } else {\r\n            System.out.print(&quot;your error message&quot;);\r\n        }\r\n    }\r\n    } \r\n\r\nOf course, you will use `Scanner scanner = new Scanner (File toScan);` but not for user input. \r\n\r\nHappy coding!\r\n\r\nAs a last note, you are at least a decent programmer if you can make Swing components.\r\n    ","title":"How to code a very simple login system with java","body":"<p>You will need to use <code>java.util.Scanner</code> for this issue.</p>\n\n<p>Here is a good login program for the console:</p>\n\n<pre><code>import java.util.Scanner; // I use scanner because it's command line.\n\npublic class Login {\npublic void run() {\n    Scanner scan = new Scanner (new File(\"the\\\\dir\\\\myFile.extension\"));\n    Scanner keyboard = new Scanner (System.in);\n    String user = scan.nextLine();\n    String pass = scan.nextLine(); // looks at selected file in scan\n\n    String inpUser = keyboard.nextLine();\n    String inpPass = keyboard.nextLine(); // gets input from user\n\n    if (inpUser.equals(user) &amp;&amp; inpPass.equals(pass)) {\n        System.out.print(\"your login message\");\n    } else {\n        System.out.print(\"your error message\");\n    }\n}\n} \n</code></pre>\n\n<p>Of course, you will use <code>Scanner scanner = new Scanner (File toScan);</code> but not for user input. </p>\n\n<p>Happy coding!</p>\n\n<p>As a last note, you are at least a decent programmer if you can make Swing components.</p>\n"},{"tags":[],"owner":{"account_id":3936769,"reputation":1,"user_id":3252934,"display_name":"user3252934"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1391083498,"creation_date":1391081988,"answer_id":21455465,"question_id":16627910,"body_markdown":"    import java.&lt;span class=&quot;q39pbqr9&quot; id=&quot;q39pbqr9_9&quot;&gt;net&lt;/span&gt;.*;\r\n    import java.io.*;\r\n     \r\n    &lt;span class=&quot;q39pbqr9&quot; id=&quot;q39pbqr9_1&quot;&gt;public class&lt;/span&gt; A\r\n    {\r\n        static String user = &quot;user&quot;;\r\n        static String pass = &quot;pass&quot;;\r\n        static String param_user = &quot;username&quot;;\r\n        static String param_pass = &quot;password&quot;;\r\n        static String content = &quot;&quot;;\r\n        static String action = &quot;action_url&quot;;\r\n        static String urlName = &quot;url_name&quot;;\r\n        public static void main(String[] args)\r\n        {\r\n            try\r\n            {\r\n                user = URLEncoder.encode(user, &quot;UTF-8&quot;);\r\n                pass = URLEncoder.encode(pass, &quot;UTF-8&quot;);\r\n                content = &quot;action=&quot; + action +&quot;&amp;amp;&quot; + param_user +&quot;=&quot; + user + &quot;&amp;amp;&quot; + param_pass + &quot;=&quot; + pass;\r\n                URL url = new URL(urlName);\r\n                HttpURLConnection urlConnection = (HttpURLConnection)(url.openConnection());\r\n                urlConnection.setDoInput(true);\r\n                urlConnection.setDoOutput(true);\r\n                urlConnection.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n                urlConnection.setRequestMethod(&quot;POST&quot;);\r\n                DataOutputStream dataOutputStream = new DataOutputStream(urlConnection.getOutputStream());\r\n                dataOutputStream.writeBytes(content);\r\n                dataOutputStream.flush();\r\n                dataOutputStream.close();\r\n         \r\n                BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));\r\n                String responeLine;\r\n                StringBuilder response = new StringBuilder();\r\n                while ((responeLine = bufferedReader.readLine()) != null)\r\n                {\r\n                    response.append(responeLine);\r\n                }\r\n                System.out.println(response);\r\n            }catch(Exception ex){ex.printStackTrace();}\r\n        }\r\n\r\n","title":"How to code a very simple login system with java","body":"<pre><code>import java.&lt;span class=\"q39pbqr9\" id=\"q39pbqr9_9\"&gt;net&lt;/span&gt;.*;\nimport java.io.*;\n\n&lt;span class=\"q39pbqr9\" id=\"q39pbqr9_1\"&gt;public class&lt;/span&gt; A\n{\n    static String user = \"user\";\n    static String pass = \"pass\";\n    static String param_user = \"username\";\n    static String param_pass = \"password\";\n    static String content = \"\";\n    static String action = \"action_url\";\n    static String urlName = \"url_name\";\n    public static void main(String[] args)\n    {\n        try\n        {\n            user = URLEncoder.encode(user, \"UTF-8\");\n            pass = URLEncoder.encode(pass, \"UTF-8\");\n            content = \"action=\" + action +\"&amp;amp;\" + param_user +\"=\" + user + \"&amp;amp;\" + param_pass + \"=\" + pass;\n            URL url = new URL(urlName);\n            HttpURLConnection urlConnection = (HttpURLConnection)(url.openConnection());\n            urlConnection.setDoInput(true);\n            urlConnection.setDoOutput(true);\n            urlConnection.setRequestProperty(\"Content-Type\", \"application/x-www-form-urlencoded\");\n            urlConnection.setRequestMethod(\"POST\");\n            DataOutputStream dataOutputStream = new DataOutputStream(urlConnection.getOutputStream());\n            dataOutputStream.writeBytes(content);\n            dataOutputStream.flush();\n            dataOutputStream.close();\n\n            BufferedReader bufferedReader = new BufferedReader(new InputStreamReader(urlConnection.getInputStream()));\n            String responeLine;\n            StringBuilder response = new StringBuilder();\n            while ((responeLine = bufferedReader.readLine()) != null)\n            {\n                response.append(responeLine);\n            }\n            System.out.println(response);\n        }catch(Exception ex){ex.printStackTrace();}\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7054356,"reputation":19,"user_id":5402296,"display_name":"Hasnain Ali"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1443808676,"creation_date":1443806987,"answer_id":32912668,"question_id":16627910,"body_markdown":"this is my first code on this site try this\r\n\r\n    import java.util.Scanner;\r\n    public class BATM {\r\n    \r\n    public static void main(String[] args) {\r\n        Scanner input = new Scanner(System.in);\r\n    \r\n        String username;\r\n        String password;\r\n    \r\n        System.out.println(&quot;Log in:&quot;);\r\n        System.out.println(&quot;username: &quot;);\r\n        username = input.next();\r\n    \r\n        System.out.println(&quot;password: &quot;);\r\n        password = input.next();\r\n    \r\n        //users check = new users(username, password);\r\n    \r\n        if(username.equals(username) &amp;&amp; password.equals(password)) \r\n            System.out.println(&quot;You are logged in&quot;);\r\n    \r\n    \r\n    \r\n    }\r\n    \r\n    }\r\n\r\n","title":"How to code a very simple login system with java","body":"<p>this is my first code on this site try this</p>\n\n<pre><code>import java.util.Scanner;\npublic class BATM {\n\npublic static void main(String[] args) {\n    Scanner input = new Scanner(System.in);\n\n    String username;\n    String password;\n\n    System.out.println(\"Log in:\");\n    System.out.println(\"username: \");\n    username = input.next();\n\n    System.out.println(\"password: \");\n    password = input.next();\n\n    //users check = new users(username, password);\n\n    if(username.equals(username) &amp;&amp; password.equals(password)) \n        System.out.println(\"You are logged in\");\n\n\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9361844,"reputation":21,"user_id":6947948,"display_name":"Armando Lee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480397361,"creation_date":1480396290,"answer_id":40858252,"question_id":16627910,"body_markdown":"**Code**\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class LoginMain {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString Username;\r\n\t\tString Password;\r\n\r\n\t\tPassword = &quot;123&quot;;\r\n\t\tUsername = &quot;wisdom&quot;;\r\n\r\n\t\tScanner input1 = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter Username : &quot;);\r\n\t\tString username = input1.next();\r\n\r\n\t\tScanner input2 = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter Password : &quot;);\r\n\t\tString password = input2.next();\r\n\r\n\t\tif (username.equals(Username) &amp;&amp; password.equals(Password)) {\r\n\r\n\t\t\tSystem.out.println(&quot;Access Granted! Welcome!&quot;);\r\n\t\t}\r\n\r\n\t\telse if (username.equals(Username)) {\r\n\t\t\tSystem.out.println(&quot;Invalid Password!&quot;);\r\n\t\t} else if (password.equals(Password)) {\r\n\t\t\tSystem.out.println(&quot;Invalid Username!&quot;);\r\n\t\t} else {\r\n\t\t\tSystem.out.println(&quot;Invalid Username &amp; Password!&quot;);\r\n\t\t}\r\n\r\n\t}\r\n\r\n    }","title":"How to code a very simple login system with java","body":"<p><strong>Code</strong></p>\n\n<pre><code>import java.util.Scanner;\n\npublic class LoginMain {\n\npublic static void main(String[] args) {\n\n    String Username;\n    String Password;\n\n    Password = \"123\";\n    Username = \"wisdom\";\n\n    Scanner input1 = new Scanner(System.in);\n    System.out.println(\"Enter Username : \");\n    String username = input1.next();\n\n    Scanner input2 = new Scanner(System.in);\n    System.out.println(\"Enter Password : \");\n    String password = input2.next();\n\n    if (username.equals(Username) &amp;&amp; password.equals(Password)) {\n\n        System.out.println(\"Access Granted! Welcome!\");\n    }\n\n    else if (username.equals(Username)) {\n        System.out.println(\"Invalid Password!\");\n    } else if (password.equals(Password)) {\n        System.out.println(\"Invalid Username!\");\n    } else {\n        System.out.println(\"Invalid Username &amp; Password!\");\n    }\n\n}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user12499134"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578061841,"creation_date":1577931944,"answer_id":59557732,"question_id":16627910,"body_markdown":"Check this code :\r\n\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n\r\n\r\n    public static void main(String[] args) throws IllegalAccessException {\r\n\r\n        String username ;\r\n        String password;\r\n        String yes_0r_no;\r\n        String scann;\r\n        String passscan;\r\n\r\n        Scanner scan = new Scanner(System.in);\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        Scanner name = new Scanner(System.in);\r\n        System.out.println(&quot;Username:&quot;);\r\n        username = name.next().toLowerCase();\r\n\r\n        Scanner pass = new Scanner(System.in);\r\n        System.out.println(&quot;Password:&quot;);\r\n        password = pass.next().toLowerCase();\r\n\r\n\r\n        System.out.println(&quot;You are logged in&quot;);\r\n\r\n        Scanner ask = new Scanner(System.in);\r\n        System.out.println(&quot;Do you want to check this or not(yes or no) :&quot;);\r\n\r\n         yes_0r_no = ask.next().toLowerCase();\r\n\r\n\r\n\r\n        while (true){\r\n            if (yes_0r_no.equals(&quot;yes&quot;)){\r\n                System.out.println(&quot;Username:&quot;);\r\n              scann = scan.next().toLowerCase();\r\n              if (scann == username) {\r\n                  continue;\r\n              }\r\n            System.out.println(&quot;Password&quot;);\r\n            passscan = scanner.next().toLowerCase();\r\n            if (passscan.equals(password)) {\r\n                System.out.println(&quot;You are logged in&quot;);\r\n                break;\r\n\r\n            }if (!password.equals(passscan)) {\r\n                throw new IllegalAccessException();\r\n                }\r\n            }\r\n\r\n            if (yes_0r_no.equals(&quot;no&quot;))\r\n                break ;\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n    }\r\n}\r\n\r\n","title":"How to code a very simple login system with java","body":"<p>Check this code :</p>\n\n<p>import java.util.Scanner;</p>\n\n<p>public class Main {</p>\n\n<pre><code>public static void main(String[] args) throws IllegalAccessException {\n\n    String username ;\n    String password;\n    String yes_0r_no;\n    String scann;\n    String passscan;\n\n    Scanner scan = new Scanner(System.in);\n    Scanner scanner = new Scanner(System.in);\n\n    Scanner name = new Scanner(System.in);\n    System.out.println(\"Username:\");\n    username = name.next().toLowerCase();\n\n    Scanner pass = new Scanner(System.in);\n    System.out.println(\"Password:\");\n    password = pass.next().toLowerCase();\n\n\n    System.out.println(\"You are logged in\");\n\n    Scanner ask = new Scanner(System.in);\n    System.out.println(\"Do you want to check this or not(yes or no) :\");\n\n     yes_0r_no = ask.next().toLowerCase();\n\n\n\n    while (true){\n        if (yes_0r_no.equals(\"yes\")){\n            System.out.println(\"Username:\");\n          scann = scan.next().toLowerCase();\n          if (scann == username) {\n              continue;\n          }\n        System.out.println(\"Password\");\n        passscan = scanner.next().toLowerCase();\n        if (passscan.equals(password)) {\n            System.out.println(\"You are logged in\");\n            break;\n\n        }if (!password.equals(passscan)) {\n            throw new IllegalAccessException();\n            }\n        }\n\n        if (yes_0r_no.equals(\"no\"))\n            break ;\n\n\n\n    }\n\n\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":18368554,"reputation":1,"user_id":13379096,"display_name":"user13379096"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587546563,"creation_date":1587543461,"answer_id":61360358,"question_id":16627910,"body_markdown":"```java\r\nimport java.util.Scanner;\r\n\r\npublic class LoginMain {\r\n\r\npublic static void main(String[] args) {\r\n\r\n    String Username;\r\n    String Password;\r\n\r\n    Password = &quot;123&quot;;\r\n    Username = &quot;wisdom&quot;;\r\n\r\n    Scanner input1 = new Scanner(System.in);\r\n    System.out.println(&quot;Enter Username : &quot;);\r\n    String username = input1.next();\r\n\r\n    Scanner input2 = new Scanner(System.in);\r\n    System.out.println(&quot;Enter Password : &quot;);\r\n    String password = input2.next();\r\n\r\n    if (username.equals(Username) &amp;&amp; password.equals(Password)) {\r\n\r\n        System.out.println(&quot;Access Granted! Welcome!&quot;);\r\n    }\r\n\r\n    else if (username.equals(Username)) {\r\n        System.out.println(&quot;Invalid Password!&quot;);\r\n    } else if (password.equals(Password)) {\r\n        System.out.println(&quot;Invalid Username!&quot;);\r\n    } else {\r\n        System.out.println(&quot;Invalid Username &amp; Password!&quot;);\r\n    }\r\n```","title":"How to code a very simple login system with java","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class LoginMain {\n\npublic static void main(String[] args) {\n\n    String Username;\n    String Password;\n\n    Password = \"123\";\n    Username = \"wisdom\";\n\n    Scanner input1 = new Scanner(System.in);\n    System.out.println(\"Enter Username : \");\n    String username = input1.next();\n\n    Scanner input2 = new Scanner(System.in);\n    System.out.println(\"Enter Password : \");\n    String password = input2.next();\n\n    if (username.equals(Username) &amp;&amp; password.equals(Password)) {\n\n        System.out.println(\"Access Granted! Welcome!\");\n    }\n\n    else if (username.equals(Username)) {\n        System.out.println(\"Invalid Password!\");\n    } else if (password.equals(Password)) {\n        System.out.println(\"Invalid Username!\");\n    } else {\n        System.out.println(\"Invalid Username &amp; Password!\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19081586,"reputation":1,"user_id":13933659,"display_name":"lzrzi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594795807,"creation_date":1594795807,"answer_id":62909079,"question_id":16627910,"body_markdown":"    Map&lt;String, String&gt; d = new HashMap&lt;&gt;();\r\n    \r\n    void input(String u, String p, String e) {\r\n    \tread();\r\n    \tif (e.equals(&quot;login&quot;)) login(u, p);\r\n    \telse if (e.equals(&quot;register&quot;)) register(u, p);\r\n    \twrite();\r\n    }\r\n    \r\n    void read() {\r\n    \td = new HashMap&lt;&gt;();\r\n    \tString s = &quot;&quot;;\r\n    \ttry {\r\n    \t\ts = new String(Files.readAllBytes(Paths.get(&quot;data.txt&quot;)));\r\n    \t}catch(IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \tString [] pairs = s.split(&quot;\\n&quot;);\r\n    \tfor (int i = 0; i &lt; pairs.length; i++) {\r\n    \t\td.put(pairs[i].split(&quot;,&quot;)[0], pairs[i].split(&quot;,&quot;)[1]);\r\n    \t}\r\n    }\r\n    \r\n    void write() {\r\n    \ttry (FileWriter m = new FileWriter(&quot;data.txt&quot;)) {\r\n    \t\tfor (Map.Entry&lt;String, String&gt; entry : d.entrySet()) {\r\n    \t\t\tm.write(entry.getKey() + &quot;,&quot; + entry.getValue() + &quot;\\n&quot;);\t\r\n    \t\t}\r\n    \t\tm.close();\r\n        }catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    \r\n    boolean login(String u, String p) {\r\n    \treturn (d.get(u).equals(p)) ? true : false;\r\n    }\r\n    \r\n    boolean register(String u, String p) {\r\n    \tif (d.containsKey(u)) return false;\r\n    \td.put(u, p);\r\n    \treturn true;\r\n    }","title":"How to code a very simple login system with java","body":"<pre><code>Map&lt;String, String&gt; d = new HashMap&lt;&gt;();\n\nvoid input(String u, String p, String e) {\n    read();\n    if (e.equals(&quot;login&quot;)) login(u, p);\n    else if (e.equals(&quot;register&quot;)) register(u, p);\n    write();\n}\n\nvoid read() {\n    d = new HashMap&lt;&gt;();\n    String s = &quot;&quot;;\n    try {\n        s = new String(Files.readAllBytes(Paths.get(&quot;data.txt&quot;)));\n    }catch(IOException e) {\n        e.printStackTrace();\n    }\n    String [] pairs = s.split(&quot;\\n&quot;);\n    for (int i = 0; i &lt; pairs.length; i++) {\n        d.put(pairs[i].split(&quot;,&quot;)[0], pairs[i].split(&quot;,&quot;)[1]);\n    }\n}\n\nvoid write() {\n    try (FileWriter m = new FileWriter(&quot;data.txt&quot;)) {\n        for (Map.Entry&lt;String, String&gt; entry : d.entrySet()) {\n            m.write(entry.getKey() + &quot;,&quot; + entry.getValue() + &quot;\\n&quot;);    \n        }\n        m.close();\n    }catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\nboolean login(String u, String p) {\n    return (d.get(u).equals(p)) ? true : false;\n}\n\nboolean register(String u, String p) {\n    if (d.containsKey(u)) return false;\n    d.put(u, p);\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":2786141,"reputation":101,"user_id":2397492,"display_name":"Jpixta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":407780,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":16628218,"answer_count":9,"score":5,"last_activity_date":1688622152,"creation_date":1368903703,"question_id":16627910,"body_markdown":"I need to create a system that checks a file for the username and password and if it is correct, it says whether or not in a label. So far I have been able to simply make one username and password equal to the variable, but need to link it to a file somehow. I am a noob programmer so lots of help is appreciated. Here is what I have under my authenticate button.\r\n\r\n    String pass;\r\n    String user;\r\n    user = txtUser.getText();\r\n    pass = txtPass.getText();\r\n\r\n    if(pass.equals(&quot;blue&quot;) &amp;&amp; user.equals(&quot;bob&quot;) ){\r\n        lblDisplay.setText(&quot;Credentials Accepted.&quot;);\r\n    }\r\n    else{\r\n        lblDisplay.setText(&quot;Please try again.&quot;);\r\n    }     ","title":"How to code a very simple login system with java","body":"<p>I need to create a system that checks a file for the username and password and if it is correct, it says whether or not in a label. So far I have been able to simply make one username and password equal to the variable, but need to link it to a file somehow. I am a noob programmer so lots of help is appreciated. Here is what I have under my authenticate button.</p>\n\n<pre><code>String pass;\nString user;\nuser = txtUser.getText();\npass = txtPass.getText();\n\nif(pass.equals(\"blue\") &amp;&amp; user.equals(\"bob\") ){\n    lblDisplay.setText(\"Credentials Accepted.\");\n}\nelse{\n    lblDisplay.setText(\"Please try again.\");\n}     \n</code></pre>\n"},{"tags":["java","ssl","encryption","openssl","javax.crypto"],"comments":[{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1688621677,"post_id":76624363,"comment_id":135098640,"body_markdown":"@MaartenBodewes-onstrike: the PBKDF2 _spec_ and many old(er) implementations default to SHA1, but openssl enc (&gt;=1.1.1) defaults to SHA256. Java does support others, but others are wrong for this application.","body":"@MaartenBodewes-onstrike: the PBKDF2 <i>spec</i> and many old(er) implementations default to SHA1, but openssl enc (&gt;=1.1.1) defaults to SHA256. Java does support others, but others are wrong for this application."}],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688622086,"creation_date":1688621753,"answer_id":76625782,"question_id":76624363,"body_markdown":"You use `source` (which is the base64-encoded ciphertext-plus) where you should use the secret key. Here&#39;s a trimmed and minimally-corrected version of your code:\r\n```java\r\n//nopackage\r\nimport java.nio.charset.StandardCharsets;\r\n//--import java.security.MessageDigest;\r\n//--import java.security.SecureRandom;\r\nimport java.util.Arrays;\r\nimport java.util.Base64;\r\n\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.SecretKeyFactory;\r\nimport javax.crypto.spec.IvParameterSpec;\r\nimport javax.crypto.spec.PBEKeySpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\n\r\npublic class SO76624363encpbkdf2\r\n{\r\n\r\n  private static final String SECRET_KEY = &quot;secretKey&quot;;\r\n  private static final String SALT_KEY   = &quot;Salted__&quot;;\r\n  private static final int keylen = 32;\r\n  private static final int ivlen = 16;\r\n\r\n\r\n  public static void main(String[] args) throws Exception {\r\n      String example= &quot;U2FsdGVkX19hh2C4Gxe3ghDb/qY0x8rC4SZaZEMv5yg=&quot;;\r\n\r\n      String decryptedText = decryptPassword( example.toCharArray());\r\n      System.out.println(&quot;value -&gt; &quot;+decryptedText);\r\n  }\r\n\r\n  public static String decryptPassword(char[] source) throws Exception\r\n  {\r\n    return decrypt(source, SECRET_KEY);\r\n  }\r\n/*\r\n  public static String encryptPassword(char[] source) throws Exception\r\n  {\r\n\r\n    return encrypt(source, SECRET_KEY);\r\n  }\r\n*/\r\n  private static String decrypt(char[] source, String sk) throws Exception\r\n  {\r\n      final byte[] magic = SALT_KEY.getBytes(StandardCharsets.UTF_8);\r\n      final byte[] inBytes = Base64.getDecoder() .decode(String.valueOf(source));\r\n      checkMagic(magic, inBytes);\r\n      byte[] salt = Arrays.copyOfRange(inBytes, magic.length, magic.length + 8);\r\n\r\n      final Cipher cipher = getCipher(Cipher.DECRYPT_MODE, source, sk, salt);\r\n      final byte[] clear = cipher.doFinal(inBytes, 16, inBytes.length - 16);\r\n\r\n      return new String(clear, StandardCharsets.UTF_8);\r\n  }\r\n/*\r\n  private static String encrypt(char[] source, String sk) throws Exception\r\n  {\r\n      final byte[] magic = SALT_KEY.getBytes(StandardCharsets.UTF_8);\r\n      final byte[] inBytes = String.valueOf(source).getBytes(StandardCharsets.UTF_8);\r\n      byte[] salt = (new SecureRandom()).generateSeed(8);\r\n\r\n      final Cipher cipher = getCipher(Cipher.ENCRYPT_MODE, source, sk, salt);\r\n\r\n      byte[] data = cipher.doFinal(inBytes);\r\n      data = concat(concat(magic, salt), data);\r\n\r\n      return Base64.getEncoder().encodeToString(data);\r\n  }\r\n*/\r\n  private static Cipher getCipher(int cipherMode, char[] source, String sk, byte[] salt)\r\n      throws Exception\r\n  {\r\n    //--final byte[] secret = sk.getBytes(StandardCharsets.UTF_8);\r\n    //--final byte[] passAndSalt = concat(secret, salt);\r\n\r\n    //byte[] keyAndIv = getKeyAndIv(passAndSalt);\r\n    byte[] keyAndIv = getNewKeyAndIvThatSupportPBKDF(sk, salt);\r\n\r\n    final byte[] keyValue = Arrays.copyOfRange(keyAndIv, 0, 32);\r\n    final byte[] iv = Arrays.copyOfRange(keyAndIv, 32, 48);\r\n\r\n    final SecretKeySpec key = new SecretKeySpec(keyValue, &quot;AES&quot;);\r\n\r\n    final Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    cipher.init(cipherMode, key, new IvParameterSpec(iv));\r\n\r\n    //--Arrays.fill(passAndSalt, (byte) 0);\r\n    return cipher;\r\n  }\r\n/*\r\n  private static byte[] concat(final byte[] a, final byte[] b)\r\n  {\r\n    final byte[] c = new byte[a.length + b.length];\r\n    System.arraycopy(a, 0, c, 0, a.length);\r\n    System.arraycopy(b, 0, c, a.length, b.length);\r\n    return c;\r\n  }\r\n*/\r\n  private static void checkMagic(final byte[] magic, final byte[] inBytes) throws Exception\r\n  {\r\n    final byte[] shouldBeMagic = Arrays.copyOfRange(inBytes, 0,\r\n                                                    magic.length);\r\n    if (!Arrays.equals(shouldBeMagic, magic))\r\n    {\r\n      throw new Exception(&quot;Bad magic number&quot;);\r\n    }\r\n  }\r\n\r\n\r\n  private static byte[] getNewKeyAndIvThatSupportPBKDF(String secret,  byte[] salt) throws Exception\r\n  {\r\n      return SecretKeyFactory.getInstance(&quot;PBKDF2withHmacSHA256&quot;)\r\n          .generateSecret( new PBEKeySpec(secret.toCharArray(), salt, 10000, (keylen+ivlen)*8)\r\n          ).getEncoded();\r\n  }\r\n/*\r\n  private static byte[] getKeyAndIv(final byte[] passAndSalt) throws NoSuchAlgorithmException\r\n  {\r\n    byte[] hash = new byte[0];\r\n    byte[] keyAndIv = new byte[0];\r\n    for (int i = 0; i &lt; 3; i++)\r\n    {\r\n      final byte[] data = concat(hash, passAndSalt);\r\n      MessageDigest md;\r\n      md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n      hash = md.digest(data);\r\n      keyAndIv = concat(keyAndIv, hash);\r\n    }\r\n    return keyAndIv;\r\n  }\r\n*/\r\n}\r\n```","title":"Migrate java decryption from openssl (&gt;1.1.1 with -md sha256) to (&lt;1.1.1 with --pbkdf2) doesn&#39;t work","body":"<p>You use <code>source</code> (which is the base64-encoded ciphertext-plus) where you should use the secret key. Here's a trimmed and minimally-corrected version of your code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//nopackage\nimport java.nio.charset.StandardCharsets;\n//--import java.security.MessageDigest;\n//--import java.security.SecureRandom;\nimport java.util.Arrays;\nimport java.util.Base64;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\n\npublic class SO76624363encpbkdf2\n{\n\n  private static final String SECRET_KEY = &quot;secretKey&quot;;\n  private static final String SALT_KEY   = &quot;Salted__&quot;;\n  private static final int keylen = 32;\n  private static final int ivlen = 16;\n\n\n  public static void main(String[] args) throws Exception {\n      String example= &quot;U2FsdGVkX19hh2C4Gxe3ghDb/qY0x8rC4SZaZEMv5yg=&quot;;\n\n      String decryptedText = decryptPassword( example.toCharArray());\n      System.out.println(&quot;value -&gt; &quot;+decryptedText);\n  }\n\n  public static String decryptPassword(char[] source) throws Exception\n  {\n    return decrypt(source, SECRET_KEY);\n  }\n/*\n  public static String encryptPassword(char[] source) throws Exception\n  {\n\n    return encrypt(source, SECRET_KEY);\n  }\n*/\n  private static String decrypt(char[] source, String sk) throws Exception\n  {\n      final byte[] magic = SALT_KEY.getBytes(StandardCharsets.UTF_8);\n      final byte[] inBytes = Base64.getDecoder() .decode(String.valueOf(source));\n      checkMagic(magic, inBytes);\n      byte[] salt = Arrays.copyOfRange(inBytes, magic.length, magic.length + 8);\n\n      final Cipher cipher = getCipher(Cipher.DECRYPT_MODE, source, sk, salt);\n      final byte[] clear = cipher.doFinal(inBytes, 16, inBytes.length - 16);\n\n      return new String(clear, StandardCharsets.UTF_8);\n  }\n/*\n  private static String encrypt(char[] source, String sk) throws Exception\n  {\n      final byte[] magic = SALT_KEY.getBytes(StandardCharsets.UTF_8);\n      final byte[] inBytes = String.valueOf(source).getBytes(StandardCharsets.UTF_8);\n      byte[] salt = (new SecureRandom()).generateSeed(8);\n\n      final Cipher cipher = getCipher(Cipher.ENCRYPT_MODE, source, sk, salt);\n\n      byte[] data = cipher.doFinal(inBytes);\n      data = concat(concat(magic, salt), data);\n\n      return Base64.getEncoder().encodeToString(data);\n  }\n*/\n  private static Cipher getCipher(int cipherMode, char[] source, String sk, byte[] salt)\n      throws Exception\n  {\n    //--final byte[] secret = sk.getBytes(StandardCharsets.UTF_8);\n    //--final byte[] passAndSalt = concat(secret, salt);\n\n    //byte[] keyAndIv = getKeyAndIv(passAndSalt);\n    byte[] keyAndIv = getNewKeyAndIvThatSupportPBKDF(sk, salt);\n\n    final byte[] keyValue = Arrays.copyOfRange(keyAndIv, 0, 32);\n    final byte[] iv = Arrays.copyOfRange(keyAndIv, 32, 48);\n\n    final SecretKeySpec key = new SecretKeySpec(keyValue, &quot;AES&quot;);\n\n    final Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n    cipher.init(cipherMode, key, new IvParameterSpec(iv));\n\n    //--Arrays.fill(passAndSalt, (byte) 0);\n    return cipher;\n  }\n/*\n  private static byte[] concat(final byte[] a, final byte[] b)\n  {\n    final byte[] c = new byte[a.length + b.length];\n    System.arraycopy(a, 0, c, 0, a.length);\n    System.arraycopy(b, 0, c, a.length, b.length);\n    return c;\n  }\n*/\n  private static void checkMagic(final byte[] magic, final byte[] inBytes) throws Exception\n  {\n    final byte[] shouldBeMagic = Arrays.copyOfRange(inBytes, 0,\n                                                    magic.length);\n    if (!Arrays.equals(shouldBeMagic, magic))\n    {\n      throw new Exception(&quot;Bad magic number&quot;);\n    }\n  }\n\n\n  private static byte[] getNewKeyAndIvThatSupportPBKDF(String secret,  byte[] salt) throws Exception\n  {\n      return SecretKeyFactory.getInstance(&quot;PBKDF2withHmacSHA256&quot;)\n          .generateSecret( new PBEKeySpec(secret.toCharArray(), salt, 10000, (keylen+ivlen)*8)\n          ).getEncoded();\n  }\n/*\n  private static byte[] getKeyAndIv(final byte[] passAndSalt) throws NoSuchAlgorithmException\n  {\n    byte[] hash = new byte[0];\n    byte[] keyAndIv = new byte[0];\n    for (int i = 0; i &lt; 3; i++)\n    {\n      final byte[] data = concat(hash, passAndSalt);\n      MessageDigest md;\n      md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n      hash = md.digest(data);\n      keyAndIv = concat(keyAndIv, hash);\n    }\n    return keyAndIv;\n  }\n*/\n}\n</code></pre>\n"}],"owner":{"account_id":13266324,"reputation":169,"user_id":12893352,"display_name":"Illidan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76625782,"answer_count":1,"score":2,"last_activity_date":1688622086,"creation_date":1688595338,"question_id":76624363,"body_markdown":"I am migrating a java code that encrypts and decrypts messages just as openssl below 1.1.1 with this command : \r\n\r\n```bash\r\necho -n &quot;password&quot; | openssl enc -aes-256-cbc -a -k secretKey -md sha256\r\n```\r\n\r\nThis works fine and without problems, the problem comes when we want to use openssl 1.1.1 or higher, we get the famous message : \r\n\r\n```bash\r\n*** WARNING : deprecated key derivation used.\r\nUsing -iter or -pbkdf2 would be better.\r\n```\r\n\r\nReading , both options are based on -pbkdf2 , in one case we choose the number of iterations (-iter) and in the other case we leave the default iterations (-pbkdf2)so I have kept it this way. \r\n\r\n```bash\r\necho -n &quot;password&quot; | openssl enc -aes-256-cbc -a -k secretKey -pbkdf2\r\n```\r\nI have seen that the only method that uses the javax.crypto library and that makes reference to -pbkdf2 is `SecretKeyFactory.getInstance(&quot;PBKDF2withHmacSHA256&quot;)` as it says [here][1], I have tried to adapt it to my original code ( below with this line ) changing my keyandIV for this one but I can&#39;t make it work, I get this error : \r\n\r\n```log\r\nException in thread &quot;main&quot; modified.EncryptionDecryptionException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\nCaused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n```\r\n\r\nI have added the new method to generate the keyAndIV and left the old one, but I can&#39;t get it to work. Do you have any idea what could be wrong ? Thank you very much ! \r\n\r\n```java\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.InvalidAlgorithmParameterException;\r\nimport java.security.InvalidKeyException;\r\nimport java.security.MessageDigest;\r\nimport java.security.NoSuchAlgorithmException;\r\nimport java.security.SecureRandom;\r\nimport java.security.spec.InvalidKeySpecException;\r\nimport java.util.Arrays;\r\nimport java.util.Base64;\r\nimport java.util.Base64.Decoder;\r\n\r\nimport javax.crypto.BadPaddingException;\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.IllegalBlockSizeException;\r\nimport javax.crypto.NoSuchPaddingException;\r\nimport javax.crypto.SecretKeyFactory;\r\nimport javax.crypto.spec.IvParameterSpec;\r\nimport javax.crypto.spec.PBEKeySpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\n\r\npublic class modified\r\n{\r\n\r\n  private static final String SECRET_KEY = &quot;secretKey&quot;;\r\n  private static final String SALT_KEY   = &quot;Salted__&quot;;\r\n  private static final int keylen = 32;\r\n  private static final int ivlen = 16;\r\n\r\n\r\n  public static void main(String[] args) throws Exception {\r\n      String example= &quot;U2FsdGVkX19hh2C4Gxe3ghDb/qY0x8rC4SZaZEMv5yg=&quot;;\r\n\r\n      String decryptedText = modified.decryptPassword( example.toCharArray());\r\n      System.out.println(&quot;value -&gt; &quot;+decryptedText);\r\n  }\r\n\r\n  private modified()\r\n  {\r\n    throw new IllegalStateException(&quot;Utility class&quot;);\r\n  }\r\n\r\n  public static String decryptPassword(char[] source) throws EncryptionDecryptionException\r\n  {\r\n    return decrypt(source, SECRET_KEY);\r\n  }\r\n\r\n  public static String encryptPassword(char[] source) throws EncryptionDecryptionException\r\n  {\r\n\r\n    return encrypt(source, SECRET_KEY);\r\n  }\r\n\r\n  private static String decrypt(char[] source, String sk) throws EncryptionDecryptionException\r\n  {\r\n    try\r\n    {\r\n\r\n      final byte[] magic = SALT_KEY.getBytes(StandardCharsets.UTF_8);\r\n      final Decoder decoder = Base64.getDecoder();\r\n      final byte[] inBytes = decoder.decode(String.valueOf(source));\r\n\r\n      checkMagic(magic, inBytes);\r\n      byte[] salt = Arrays.copyOfRange(inBytes, magic.length, magic.length + 8);\r\n\r\n      final Cipher cipher = getCipher(Cipher.DECRYPT_MODE, source, sk, salt);\r\n      final byte[] clear = cipher.doFinal(inBytes, 16, inBytes.length - 16);\r\n\r\n      return new String(clear, StandardCharsets.UTF_8);\r\n    }\r\n    catch (NoSuchAlgorithmException | NoSuchPaddingException | InvalidKeyException\r\n        | InvalidAlgorithmParameterException | IllegalBlockSizeException | BadPaddingException e)\r\n    {\r\n      throw new EncryptionDecryptionException(e.getMessage(), e);\r\n    }\r\n  }\r\n\r\n  private static String encrypt(char[] source, String sk) throws EncryptionDecryptionException\r\n  {\r\n    try\r\n    {\r\n      final byte[] magic = SALT_KEY.getBytes(StandardCharsets.UTF_8);\r\n      final byte[] inBytes = String.valueOf(source).getBytes(StandardCharsets.UTF_8);\r\n      byte[] salt = (new SecureRandom()).generateSeed(8);\r\n\r\n      final Cipher cipher = getCipher(Cipher.ENCRYPT_MODE, source, sk, salt);\r\n\r\n      byte[] data = cipher.doFinal(inBytes);\r\n      data = concat(concat(magic, salt), data);\r\n\r\n      return Base64.getEncoder().encodeToString(data);\r\n    }\r\n    catch (NoSuchAlgorithmException | NoSuchPaddingException | InvalidKeyException\r\n        | InvalidAlgorithmParameterException | IllegalBlockSizeException | BadPaddingException e)\r\n    {\r\n      throw new EncryptionDecryptionException(e.getMessage(), e);\r\n    }\r\n  }\r\n\r\n  private static Cipher getCipher(int cipherMode, char[] source, String sk, byte[] salt)\r\n      throws NoSuchAlgorithmException,\r\n      NoSuchPaddingException, InvalidKeyException, InvalidAlgorithmParameterException\r\n  {\r\n    final byte[] secret = sk.getBytes(StandardCharsets.UTF_8);\r\n    final byte[] passAndSalt = concat(secret, salt);\r\n\r\n    //byte[] keyAndIv = getKeyAndIv(passAndSalt);\r\n    byte[] keyAndIv = getNewKeyAndIvThatSupportPBKDF(source, salt);\r\n\r\n    final byte[] keyValue = Arrays.copyOfRange(keyAndIv, 0, 32);\r\n    final byte[] iv = Arrays.copyOfRange(keyAndIv, 32, 48);\r\n\r\n    final SecretKeySpec key = new SecretKeySpec(keyValue, &quot;AES&quot;);\r\n\r\n    final Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n    cipher.init(cipherMode, key, new IvParameterSpec(iv));\r\n\r\n    Arrays.fill(passAndSalt, (byte) 0);\r\n    return cipher;\r\n  }\r\n\r\n  private static byte[] concat(final byte[] a, final byte[] b)\r\n  {\r\n    final byte[] c = new byte[a.length + b.length];\r\n    System.arraycopy(a, 0, c, 0, a.length);\r\n    System.arraycopy(b, 0, c, a.length, b.length);\r\n    return c;\r\n  }\r\n\r\n  private static void checkMagic(final byte[] magic, final byte[] inBytes)\r\n  {\r\n    final byte[] shouldBeMagic = Arrays.copyOfRange(inBytes, 0,\r\n                                                    magic.length);\r\n    if (!Arrays.equals(shouldBeMagic, magic))\r\n    {\r\n      throw new EncryptionDecryptionException(&quot;DecriptionException: Bad magic number&quot;);\r\n    }\r\n  }\r\n\r\n\r\n  private static byte[] getNewKeyAndIvThatSupportPBKDF(char[] source,  byte[] salt) throws EncryptionDecryptionException\r\n  {\r\n    try\r\n    {\r\n      return SecretKeyFactory.getInstance(&quot;PBKDF2withHmacSHA256&quot;)\r\n          .generateSecret( new PBEKeySpec(source, salt, 10000, (keylen+ivlen)*8)\r\n          ).getEncoded();\r\n    }\r\n    catch (InvalidKeySpecException | NoSuchAlgorithmException e)\r\n    {\r\n      throw new EncryptionDecryptionException(e.getMessage(), e);\r\n    }\r\n  }\r\n\r\n  private static byte[] getKeyAndIv(final byte[] passAndSalt) throws NoSuchAlgorithmException\r\n  {\r\n    byte[] hash = new byte[0];\r\n    byte[] keyAndIv = new byte[0];\r\n    for (int i = 0; i &lt; 3; i++)\r\n    {\r\n      final byte[] data = concat(hash, passAndSalt);\r\n      MessageDigest md;\r\n      md = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n      hash = md.digest(data);\r\n      keyAndIv = concat(keyAndIv, hash);\r\n    }\r\n    return keyAndIv;\r\n  }\r\n\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73458599/12893352\r\n","title":"Migrate java decryption from openssl (&gt;1.1.1 with -md sha256) to (&lt;1.1.1 with --pbkdf2) doesn&#39;t work","body":"<p>I am migrating a java code that encrypts and decrypts messages just as openssl below 1.1.1 with this command :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>echo -n &quot;password&quot; | openssl enc -aes-256-cbc -a -k secretKey -md sha256\n</code></pre>\n<p>This works fine and without problems, the problem comes when we want to use openssl 1.1.1 or higher, we get the famous message :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>*** WARNING : deprecated key derivation used.\nUsing -iter or -pbkdf2 would be better.\n</code></pre>\n<p>Reading , both options are based on -pbkdf2 , in one case we choose the number of iterations (-iter) and in the other case we leave the default iterations (-pbkdf2)so I have kept it this way.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>echo -n &quot;password&quot; | openssl enc -aes-256-cbc -a -k secretKey -pbkdf2\n</code></pre>\n<p>I have seen that the only method that uses the javax.crypto library and that makes reference to -pbkdf2 is <code>SecretKeyFactory.getInstance(&quot;PBKDF2withHmacSHA256&quot;)</code> as it says <a href=\"https://stackoverflow.com/a/73458599/12893352\">here</a>, I have tried to adapt it to my original code ( below with this line ) changing my keyandIV for this one but I can't make it work, I get this error :</p>\n<pre><code>Exception in thread &quot;main&quot; modified.EncryptionDecryptionException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\nCaused by: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n</code></pre>\n<p>I have added the new method to generate the keyAndIV and left the old one, but I can't get it to work. Do you have any idea what could be wrong ? Thank you very much !</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.nio.charset.StandardCharsets;\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.security.spec.InvalidKeySpecException;\nimport java.util.Arrays;\nimport java.util.Base64;\nimport java.util.Base64.Decoder;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\n\npublic class modified\n{\n\n  private static final String SECRET_KEY = &quot;secretKey&quot;;\n  private static final String SALT_KEY   = &quot;Salted__&quot;;\n  private static final int keylen = 32;\n  private static final int ivlen = 16;\n\n\n  public static void main(String[] args) throws Exception {\n      String example= &quot;U2FsdGVkX19hh2C4Gxe3ghDb/qY0x8rC4SZaZEMv5yg=&quot;;\n\n      String decryptedText = modified.decryptPassword( example.toCharArray());\n      System.out.println(&quot;value -&gt; &quot;+decryptedText);\n  }\n\n  private modified()\n  {\n    throw new IllegalStateException(&quot;Utility class&quot;);\n  }\n\n  public static String decryptPassword(char[] source) throws EncryptionDecryptionException\n  {\n    return decrypt(source, SECRET_KEY);\n  }\n\n  public static String encryptPassword(char[] source) throws EncryptionDecryptionException\n  {\n\n    return encrypt(source, SECRET_KEY);\n  }\n\n  private static String decrypt(char[] source, String sk) throws EncryptionDecryptionException\n  {\n    try\n    {\n\n      final byte[] magic = SALT_KEY.getBytes(StandardCharsets.UTF_8);\n      final Decoder decoder = Base64.getDecoder();\n      final byte[] inBytes = decoder.decode(String.valueOf(source));\n\n      checkMagic(magic, inBytes);\n      byte[] salt = Arrays.copyOfRange(inBytes, magic.length, magic.length + 8);\n\n      final Cipher cipher = getCipher(Cipher.DECRYPT_MODE, source, sk, salt);\n      final byte[] clear = cipher.doFinal(inBytes, 16, inBytes.length - 16);\n\n      return new String(clear, StandardCharsets.UTF_8);\n    }\n    catch (NoSuchAlgorithmException | NoSuchPaddingException | InvalidKeyException\n        | InvalidAlgorithmParameterException | IllegalBlockSizeException | BadPaddingException e)\n    {\n      throw new EncryptionDecryptionException(e.getMessage(), e);\n    }\n  }\n\n  private static String encrypt(char[] source, String sk) throws EncryptionDecryptionException\n  {\n    try\n    {\n      final byte[] magic = SALT_KEY.getBytes(StandardCharsets.UTF_8);\n      final byte[] inBytes = String.valueOf(source).getBytes(StandardCharsets.UTF_8);\n      byte[] salt = (new SecureRandom()).generateSeed(8);\n\n      final Cipher cipher = getCipher(Cipher.ENCRYPT_MODE, source, sk, salt);\n\n      byte[] data = cipher.doFinal(inBytes);\n      data = concat(concat(magic, salt), data);\n\n      return Base64.getEncoder().encodeToString(data);\n    }\n    catch (NoSuchAlgorithmException | NoSuchPaddingException | InvalidKeyException\n        | InvalidAlgorithmParameterException | IllegalBlockSizeException | BadPaddingException e)\n    {\n      throw new EncryptionDecryptionException(e.getMessage(), e);\n    }\n  }\n\n  private static Cipher getCipher(int cipherMode, char[] source, String sk, byte[] salt)\n      throws NoSuchAlgorithmException,\n      NoSuchPaddingException, InvalidKeyException, InvalidAlgorithmParameterException\n  {\n    final byte[] secret = sk.getBytes(StandardCharsets.UTF_8);\n    final byte[] passAndSalt = concat(secret, salt);\n\n    //byte[] keyAndIv = getKeyAndIv(passAndSalt);\n    byte[] keyAndIv = getNewKeyAndIvThatSupportPBKDF(source, salt);\n\n    final byte[] keyValue = Arrays.copyOfRange(keyAndIv, 0, 32);\n    final byte[] iv = Arrays.copyOfRange(keyAndIv, 32, 48);\n\n    final SecretKeySpec key = new SecretKeySpec(keyValue, &quot;AES&quot;);\n\n    final Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n    cipher.init(cipherMode, key, new IvParameterSpec(iv));\n\n    Arrays.fill(passAndSalt, (byte) 0);\n    return cipher;\n  }\n\n  private static byte[] concat(final byte[] a, final byte[] b)\n  {\n    final byte[] c = new byte[a.length + b.length];\n    System.arraycopy(a, 0, c, 0, a.length);\n    System.arraycopy(b, 0, c, a.length, b.length);\n    return c;\n  }\n\n  private static void checkMagic(final byte[] magic, final byte[] inBytes)\n  {\n    final byte[] shouldBeMagic = Arrays.copyOfRange(inBytes, 0,\n                                                    magic.length);\n    if (!Arrays.equals(shouldBeMagic, magic))\n    {\n      throw new EncryptionDecryptionException(&quot;DecriptionException: Bad magic number&quot;);\n    }\n  }\n\n\n  private static byte[] getNewKeyAndIvThatSupportPBKDF(char[] source,  byte[] salt) throws EncryptionDecryptionException\n  {\n    try\n    {\n      return SecretKeyFactory.getInstance(&quot;PBKDF2withHmacSHA256&quot;)\n          .generateSecret( new PBEKeySpec(source, salt, 10000, (keylen+ivlen)*8)\n          ).getEncoded();\n    }\n    catch (InvalidKeySpecException | NoSuchAlgorithmException e)\n    {\n      throw new EncryptionDecryptionException(e.getMessage(), e);\n    }\n  }\n\n  private static byte[] getKeyAndIv(final byte[] passAndSalt) throws NoSuchAlgorithmException\n  {\n    byte[] hash = new byte[0];\n    byte[] keyAndIv = new byte[0];\n    for (int i = 0; i &lt; 3; i++)\n    {\n      final byte[] data = concat(hash, passAndSalt);\n      MessageDigest md;\n      md = MessageDigest.getInstance(&quot;SHA-256&quot;);\n      hash = md.digest(data);\n      keyAndIv = concat(keyAndIv, hash);\n    }\n    return keyAndIv;\n  }\n\n}\n\n\n</code></pre>\n"},{"tags":["java","android","ssl","retrofit"],"comments":[{"owner":{"account_id":244329,"reputation":309,"user_id":517055,"accept_rate":42,"display_name":"Xianfeng.Cai"},"score":0,"creation_date":1406614193,"post_id":21047414,"comment_id":38887455,"body_markdown":"have you solved this problem ?","body":"have you solved this problem ?"},{"owner":{"account_id":3298172,"reputation":2140,"user_id":4261176,"display_name":"Paulo Avelar"},"score":0,"creation_date":1447345237,"post_id":21047414,"comment_id":55125436,"body_markdown":"If you haven&#39;t already solved that, please see: http://stackoverflow.com/a/31436459/4261176","body":"If you haven&#39;t already solved that, please see: <a href=\"http://stackoverflow.com/a/31436459/4261176\">stackoverflow.com/a/31436459/4261176</a>"}],"answers":[{"tags":[],"owner":{"account_id":368269,"reputation":93629,"user_id":714969,"accept_rate":86,"display_name":"Kevin Bowersox"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1389366307,"creation_date":1389365957,"answer_id":21047467,"question_id":21047414,"body_markdown":"The SSL is not properly configured.  Those trustAnchor errors usually mean that the trust store cannot be found.  Check your configuration and make sure you are actually pointing to the trust store and that it is in place.\r\n\r\nMake sure you have a `-Djavax.net.ssl.trustStore` system property set and then check that the path actually leads to the trust store.\r\n\r\nYou can also enable SSL debugging by setting this system property `-Djavax.net.debug=all`.  Within the debug output you will notice it states that it cannot find the trust store.\r\n","title":"javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>The SSL is not properly configured.  Those trustAnchor errors usually mean that the trust store cannot be found.  Check your configuration and make sure you are actually pointing to the trust store and that it is in place.</p>\n\n<p>Make sure you have a <code>-Djavax.net.ssl.trustStore</code> system property set and then check that the path actually leads to the trust store.</p>\n\n<p>You can also enable SSL debugging by setting this system property <code>-Djavax.net.debug=all</code>.  Within the debug output you will notice it states that it cannot find the trust store.</p>\n"},{"tags":[],"owner":{"account_id":1911351,"reputation":3367,"user_id":1725088,"accept_rate":57,"display_name":"kupsef"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1389366725,"creation_date":1389366725,"answer_id":21047768,"question_id":21047414,"body_markdown":"There are 4 ways that I know of:\r\n\r\n- import the certificate to your app and use it for the connection\r\n- disable certificate checking\r\n- add your certificate to the trusted system certificates in Android\r\n- buy a verified certificate that is accepted by Android\r\n\r\nI assume you don&#39;t want to pay for this, so I think the most elegant solution is the first one, what can be accomplished this way:\r\n\r\n[http://blog.crazybob.org/2010/02/android-trusting-ssl-certificates.html][1]\r\n\r\n\r\n  [1]: http://blog.crazybob.org/2010/02/android-trusting-ssl-certificates.html","title":"javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>There are 4 ways that I know of:</p>\n\n<ul>\n<li>import the certificate to your app and use it for the connection</li>\n<li>disable certificate checking</li>\n<li>add your certificate to the trusted system certificates in Android</li>\n<li>buy a verified certificate that is accepted by Android</li>\n</ul>\n\n<p>I assume you don't want to pay for this, so I think the most elegant solution is the first one, what can be accomplished this way:</p>\n\n<p><a href=\"http://blog.crazybob.org/2010/02/android-trusting-ssl-certificates.html\" rel=\"nofollow\">http://blog.crazybob.org/2010/02/android-trusting-ssl-certificates.html</a></p>\n"},{"tags":[],"owner":{"account_id":2817884,"reputation":5396,"user_id":2422453,"display_name":"Defuera"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1424976770,"creation_date":1424976770,"answer_id":28750470,"question_id":21047414,"body_markdown":"This can happen for several reasons, including:\r\n\r\n 1. The CA that issued the server certificate was unknown\r\n 2. The server certificate wasn&#39;t signed by a CA, but was self signed\r\n 3. The server configuration is missing an intermediate CA\r\n\r\nplease check out this link for solution:  https://developer.android.com/training/articles/security-ssl.html#CommonProblems","title":"javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>This can happen for several reasons, including:</p>\n\n<ol>\n<li>The CA that issued the server certificate was unknown</li>\n<li>The server certificate wasn't signed by a CA, but was self signed</li>\n<li>The server configuration is missing an intermediate CA</li>\n</ol>\n\n<p>please check out this link for solution:  <a href=\"https://developer.android.com/training/articles/security-ssl.html#CommonProblems\" rel=\"noreferrer\">https://developer.android.com/training/articles/security-ssl.html#CommonProblems</a></p>\n"},{"tags":[],"owner":{"account_id":339003,"reputation":723,"user_id":668203,"display_name":"Fernando. "},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1425151918,"creation_date":1425151918,"answer_id":28785936,"question_id":21047414,"body_markdown":"The reason this occur is the JVM/Dalvik haven&#39;t not confidence in the  CA certificates in the system or in the user  certificate stores.\r\n\r\nTo fix this with Retrofit, If you are used okhttp, with another client it&#39;s very  similar.  \r\nYou&#39;ve to do:\r\n\r\nA). Create a cert store contain public Key of CA. To do this you need to launch next script for *nix. \r\nYou need openssl install in your machine, and download from https://www.bouncycastle.org/ the jar bcprov-jdk16-1.46.jar. Download this version not \r\nother, the version 1.5x is not compatible with android 4.0.4.\r\n\r\n    #!/bin/bash\r\n    \r\n    if [ -z $1 ]; then\r\n      echo &quot;Usage: cert2Android&lt;CA cert PEM file&gt;&quot;\r\n      exit 1\r\n    fi\r\n    \r\n    CACERT=$1\r\n    BCJAR=bcprov-jdk16-1.46.jar\r\n    \r\n    TRUSTSTORE=mytruststore.bks\r\n    ALIAS=`openssl x509 -inform PEM -subject_hash -noout -in $CACERT`\r\n    \r\n    if [ -f $TRUSTSTORE ]; then\r\n        rm $TRUSTSTORE || exit 1\r\n    fi\r\n    \r\n    echo &quot;Adding certificate to $TRUSTSTORE...&quot;\r\n    keytool -import -v -trustcacerts -alias $ALIAS \\\r\n          -file $CACERT \\\r\n          -keystore $TRUSTSTORE -storetype BKS \\\r\n          -providerclass org.bouncycastle.jce.provider.BouncyCastleProvider \\\r\n          -providerpath $BCJAR \\\r\n          -storepass secret\r\n    \r\n    echo &quot;&quot; \r\n    echo &quot;Added &#39;$CACERT&#39; with alias &#39;$ALIAS&#39; to $TRUSTSTORE...&quot;\r\n\r\n\r\nB). Copy the file truststore mytruststore.bks  in res/raw of your project\r\n![truststore location][1]\r\n\r\nC). Setting SSLContext of the connection:\r\n    \r\n    .............\r\n    okHttpClient = new OkHttpClient();\r\n    try {\r\n        KeyStore ksTrust = KeyStore.getInstance(&quot;BKS&quot;);\r\n        InputStream instream = context.getResources().openRawResource(R.raw.mytruststore);\r\n        ksTrust.load(instream, &quot;secret&quot;.toCharArray());\r\n\r\n        // TrustManager decides which certificate authorities to use.\r\n        TrustManagerFactory tmf = TrustManagerFactory\r\n            .getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n        tmf.init(ksTrust);\r\n        SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n        sslContext.init(null, tmf.getTrustManagers(), null);\r\n\r\n        okHttpClient.setSslSocketFactory(sslContext.getSocketFactory());\r\n    } catch (KeyStoreException | IOException | NoSuchAlgorithmException | CertificateException | KeyManagementException e) {\r\n        e.printStackTrace();\r\n    }\r\n    .................\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/316Dq.png","title":"javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>The reason this occur is the JVM/Dalvik haven't not confidence in the  CA certificates in the system or in the user  certificate stores.</p>\n\n<p>To fix this with Retrofit, If you are used okhttp, with another client it's very  similar.<br>\nYou've to do:</p>\n\n<p>A). Create a cert store contain public Key of CA. To do this you need to launch next script for *nix. \nYou need openssl install in your machine, and download from <a href=\"https://www.bouncycastle.org/\" rel=\"noreferrer\">https://www.bouncycastle.org/</a> the jar bcprov-jdk16-1.46.jar. Download this version not \nother, the version 1.5x is not compatible with android 4.0.4.</p>\n\n<pre><code>#!/bin/bash\n\nif [ -z $1 ]; then\n  echo \"Usage: cert2Android&lt;CA cert PEM file&gt;\"\n  exit 1\nfi\n\nCACERT=$1\nBCJAR=bcprov-jdk16-1.46.jar\n\nTRUSTSTORE=mytruststore.bks\nALIAS=`openssl x509 -inform PEM -subject_hash -noout -in $CACERT`\n\nif [ -f $TRUSTSTORE ]; then\n    rm $TRUSTSTORE || exit 1\nfi\n\necho \"Adding certificate to $TRUSTSTORE...\"\nkeytool -import -v -trustcacerts -alias $ALIAS \\\n      -file $CACERT \\\n      -keystore $TRUSTSTORE -storetype BKS \\\n      -providerclass org.bouncycastle.jce.provider.BouncyCastleProvider \\\n      -providerpath $BCJAR \\\n      -storepass secret\n\necho \"\" \necho \"Added '$CACERT' with alias '$ALIAS' to $TRUSTSTORE...\"\n</code></pre>\n\n<p>B). Copy the file truststore mytruststore.bks  in res/raw of your project\n<img src=\"https://i.stack.imgur.com/316Dq.png\" alt=\"truststore location\"></p>\n\n<p>C). Setting SSLContext of the connection:</p>\n\n<pre><code>.............\nokHttpClient = new OkHttpClient();\ntry {\n    KeyStore ksTrust = KeyStore.getInstance(\"BKS\");\n    InputStream instream = context.getResources().openRawResource(R.raw.mytruststore);\n    ksTrust.load(instream, \"secret\".toCharArray());\n\n    // TrustManager decides which certificate authorities to use.\n    TrustManagerFactory tmf = TrustManagerFactory\n        .getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    tmf.init(ksTrust);\n    SSLContext sslContext = SSLContext.getInstance(\"TLS\");\n    sslContext.init(null, tmf.getTrustManagers(), null);\n\n    okHttpClient.setSslSocketFactory(sslContext.getSocketFactory());\n} catch (KeyStoreException | IOException | NoSuchAlgorithmException | CertificateException | KeyManagementException e) {\n    e.printStackTrace();\n}\n.................\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9283001,"reputation":3209,"user_id":6893709,"accept_rate":0,"display_name":"Ali Bagheri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581322693,"creation_date":1526219012,"answer_id":50316770,"question_id":21047414,"body_markdown":"I use this class and have no problem.\r\n```java\r\npublic class WCFs\r\n{\r\n    // https://192.168.30.8/myservice.svc?wsdl\r\n\tprivate static final String NAMESPACE = &quot;http://tempuri.org/&quot;;\r\n\tprivate static final String URL = &quot;192.168.30.8&quot;;\r\n\tprivate static final String SERVICE = &quot;/myservice.svc?wsdl&quot;;\r\n\tprivate static String SOAP_ACTION = &quot;http://tempuri.org/iWCFserviceMe/&quot;;\r\n\t\r\n\t\r\n\tpublic static Thread myMethod(Runnable rp)\r\n\t{\r\n\t\tString METHOD_NAME = &quot;myMethod&quot;;\r\n\t\t\r\n\t\tSoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);\r\n\t\t\r\n\t\trequest.addProperty(&quot;Message&quot;, &quot;Https WCF Running...&quot;);\r\n\t\treturn _call(rp,METHOD_NAME, request);\r\n\t}\r\n\t\r\n\tprotected static HandlerThread _call(final RunProcess rp,final String METHOD_NAME, SoapObject soapReq)\r\n\t{\r\n\t\tfinal SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\r\n\t\tint TimeOut = 5*1000;\r\n\t\t\r\n\t\tenvelope.dotNet = true;\r\n\t\tenvelope.bodyOut = soapReq;\r\n\t\tenvelope.setOutputSoapObject(soapReq);\r\n\t\t\r\n\t\tfinal HttpsTransportSE httpTransport_net = new HttpsTransportSE(URL, 443, SERVICE, TimeOut);\r\n\t\t\r\n\t\ttry\r\n\t\t{\r\n\t\t\tHttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() // use this section if crt file is handmake\r\n\t\t\t{\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic boolean verify(String hostname, SSLSession session)\r\n\t\t\t\t{\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\tKeyStore k = getFromRaw(R.raw.key, &quot;PKCS12&quot;, &quot;password&quot;);\r\n\t\t\t((HttpsServiceConnectionSE) httpTransport_net.getServiceConnection()).setSSLSocketFactory(getSSLSocketFactory(k, &quot;SSL&quot;));\r\n\t\t\t\r\n\t\t\r\n\t\t}\r\n\t\tcatch(Exception e){}\r\n\t\t\r\n\t\tHandlerThread thread = new HandlerThread(&quot;wcfTd&quot;+ Generator.getRandomNumber())\r\n\t\t{\r\n\t\t\t@Override\r\n\t\t\tpublic void run()\r\n\t\t\t{\r\n\t\t\t\tHandler h = new Handler(Looper.getMainLooper());\r\n\t\t\t\tObject response = null;\r\n\t\t\t\t\r\n\t\t\t\tfor(int i=0; i&lt;4; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tresponse = send(envelope, httpTransport_net , METHOD_NAME, null);\r\n\t\t\t\t\r\n\t\t\t\t\ttry\r\n\t\t\t\t\t{if(Thread.currentThread().isInterrupted()) return;}catch(Exception e){}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(response != null)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\r\n\t\t\t\t\tThreadHelper.threadSleep(250);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(response != null)\r\n\t\t\t\t{\r\n\t\t\t\t\tif(rp != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trp.setArguments(response.toString());\r\n\t\t\t\t\t\th.post(rp);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif(Thread.currentThread().isInterrupted())\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(rp != null)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\trp.setExceptionState(true);\r\n\t\t\t\t\t\th.post(rp);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tThreadHelper.stopThread(this);\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tthread.start();\r\n\t\t\r\n\t\treturn thread;\r\n\t}\r\n\t\r\n\t\r\n\tprivate static Object send(SoapSerializationEnvelope envelope, HttpTransportSE androidHttpTransport, String METHOD_NAME, List&lt;HeaderProperty&gt; headerList)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tif(headerList != null)\r\n\t\t\t\tandroidHttpTransport.call(SOAP_ACTION + METHOD_NAME, envelope, headerList);\r\n\t\t\telse\r\n\t\t\t\tandroidHttpTransport.call(SOAP_ACTION + METHOD_NAME, envelope);\r\n\t\t\t\r\n\t\t\tObject res = envelope.getResponse();\r\n\t\t\t\r\n\t\t\tif(res instanceof SoapPrimitive)\r\n\t\t\t\treturn (SoapPrimitive) envelope.getResponse();\r\n\t\t\telse if(res instanceof SoapObject)\r\n\t\t\t\treturn ((SoapObject) envelope.getResponse());\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{}\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tpublic static KeyStore getFromRaw(@RawRes int id, String algorithm, String filePassword)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tInputStream inputStream = ResourceMaster.openRaw(id);\r\n\t\t\tKeyStore keystore = KeyStore.getInstance(algorithm);\r\n\t\t\tkeystore.load(inputStream, filePassword.toCharArray());\r\n\t\t\tinputStream.close();\r\n\t\t\t\r\n\t\t\treturn keystore;\r\n\t\t}\r\n\t\tcatch(Exception e)\r\n\t\t{}\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tpublic static SSLSocketFactory getSSLSocketFactory(KeyStore trustKey, String SSLAlgorithm)\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tTrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n\t\t\ttmf.init(trustKey);\r\n\t\t\t\r\n\t\t\tSSLContext context = SSLContext.getInstance(SSLAlgorithm);//&quot;SSL&quot; &quot;TLS&quot;\r\n\t\t\tcontext.init(null, tmf.getTrustManagers(), null);\r\n\t\t\t\r\n\t\t\treturn context.getSocketFactory();\r\n\t\t}\r\n\t\tcatch(Exception e){}\r\n\t\t\r\n\t\treturn null;\r\n\t}\r\n}\r\n```","title":"javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>I use this class and have no problem.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class WCFs\n{\n    // https://192.168.30.8/myservice.svc?wsdl\n    private static final String NAMESPACE = \"http://tempuri.org/\";\n    private static final String URL = \"192.168.30.8\";\n    private static final String SERVICE = \"/myservice.svc?wsdl\";\n    private static String SOAP_ACTION = \"http://tempuri.org/iWCFserviceMe/\";\n\n\n    public static Thread myMethod(Runnable rp)\n    {\n        String METHOD_NAME = \"myMethod\";\n\n        SoapObject request = new SoapObject(NAMESPACE, METHOD_NAME);\n\n        request.addProperty(\"Message\", \"Https WCF Running...\");\n        return _call(rp,METHOD_NAME, request);\n    }\n\n    protected static HandlerThread _call(final RunProcess rp,final String METHOD_NAME, SoapObject soapReq)\n    {\n        final SoapSerializationEnvelope envelope = new SoapSerializationEnvelope(SoapEnvelope.VER11);\n        int TimeOut = 5*1000;\n\n        envelope.dotNet = true;\n        envelope.bodyOut = soapReq;\n        envelope.setOutputSoapObject(soapReq);\n\n        final HttpsTransportSE httpTransport_net = new HttpsTransportSE(URL, 443, SERVICE, TimeOut);\n\n        try\n        {\n            HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() // use this section if crt file is handmake\n            {\n                @Override\n                public boolean verify(String hostname, SSLSession session)\n                {\n                    return true;\n                }\n            });\n\n            KeyStore k = getFromRaw(R.raw.key, \"PKCS12\", \"password\");\n            ((HttpsServiceConnectionSE) httpTransport_net.getServiceConnection()).setSSLSocketFactory(getSSLSocketFactory(k, \"SSL\"));\n\n\n        }\n        catch(Exception e){}\n\n        HandlerThread thread = new HandlerThread(\"wcfTd\"+ Generator.getRandomNumber())\n        {\n            @Override\n            public void run()\n            {\n                Handler h = new Handler(Looper.getMainLooper());\n                Object response = null;\n\n                for(int i=0; i&lt;4; i++)\n                {\n                    response = send(envelope, httpTransport_net , METHOD_NAME, null);\n\n                    try\n                    {if(Thread.currentThread().isInterrupted()) return;}catch(Exception e){}\n\n                    if(response != null)\n                        break;\n\n                    ThreadHelper.threadSleep(250);\n                }\n\n                if(response != null)\n                {\n                    if(rp != null)\n                    {\n                        rp.setArguments(response.toString());\n                        h.post(rp);\n                    }\n                }\n                else\n                {\n                    if(Thread.currentThread().isInterrupted())\n                        return;\n\n                    if(rp != null)\n                    {\n                        rp.setExceptionState(true);\n                        h.post(rp);\n                    }\n                }\n\n                ThreadHelper.stopThread(this);\n            }\n        };\n\n        thread.start();\n\n        return thread;\n    }\n\n\n    private static Object send(SoapSerializationEnvelope envelope, HttpTransportSE androidHttpTransport, String METHOD_NAME, List&lt;HeaderProperty&gt; headerList)\n    {\n        try\n        {\n            if(headerList != null)\n                androidHttpTransport.call(SOAP_ACTION + METHOD_NAME, envelope, headerList);\n            else\n                androidHttpTransport.call(SOAP_ACTION + METHOD_NAME, envelope);\n\n            Object res = envelope.getResponse();\n\n            if(res instanceof SoapPrimitive)\n                return (SoapPrimitive) envelope.getResponse();\n            else if(res instanceof SoapObject)\n                return ((SoapObject) envelope.getResponse());\n        }\n        catch(Exception e)\n        {}\n\n        return null;\n    }\n\n    public static KeyStore getFromRaw(@RawRes int id, String algorithm, String filePassword)\n    {\n        try\n        {\n            InputStream inputStream = ResourceMaster.openRaw(id);\n            KeyStore keystore = KeyStore.getInstance(algorithm);\n            keystore.load(inputStream, filePassword.toCharArray());\n            inputStream.close();\n\n            return keystore;\n        }\n        catch(Exception e)\n        {}\n\n        return null;\n    }\n\n    public static SSLSocketFactory getSSLSocketFactory(KeyStore trustKey, String SSLAlgorithm)\n    {\n        try\n        {\n            TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n            tmf.init(trustKey);\n\n            SSLContext context = SSLContext.getInstance(SSLAlgorithm);//\"SSL\" \"TLS\"\n            context.init(null, tmf.getTrustManagers(), null);\n\n            return context.getSocketFactory();\n        }\n        catch(Exception e){}\n\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4926028,"reputation":1878,"user_id":3967255,"accept_rate":25,"display_name":"Irfan Anwar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583770317,"creation_date":1583770317,"answer_id":60604451,"question_id":21047414,"body_markdown":"My answer might not be solution to your question but it will surely help others looking for similar issue like this one:\r\njavax.net.ssl.SSLHandshakeException: Chain validation failed\r\n\r\nYou just need to check your Android Device&#39;s Date and Time, it should be fix the issue.\r\nThis resoled my problem.","title":"javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>My answer might not be solution to your question but it will surely help others looking for similar issue like this one:\njavax.net.ssl.SSLHandshakeException: Chain validation failed</p>\n\n<p>You just need to check your Android Device's Date and Time, it should be fix the issue.\nThis resoled my problem.</p>\n"},{"tags":[],"owner":{"account_id":1568342,"reputation":841,"user_id":1456631,"display_name":"vijay"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1586414386,"creation_date":1586414386,"answer_id":61115316,"question_id":21047414,"body_markdown":"**Fix for Android N &amp; above:**\r\nI had similar issue and mange to solve it by following steps described in https://developer.android.com/training/articles/security-config\r\n\r\nBut the config changes, without any complicated code logic, would only work on Android version 24 &amp; above.\r\n\r\n**Fix for all version, including version &lt; N:**\r\nSo for android lower then N (version 24) the solution is to via code changes as mentioned above. If you are using OkHttp, then follow the customTrust:\r\nhttps://github.com/square/okhttp/blob/master/samples/guide/src/main/java/okhttp3/recipes/CustomTrust.java","title":"javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p><strong>Fix for Android N &amp; above:</strong>\nI had similar issue and mange to solve it by following steps described in <a href=\"https://developer.android.com/training/articles/security-config\" rel=\"noreferrer\">https://developer.android.com/training/articles/security-config</a></p>\n\n<p>But the config changes, without any complicated code logic, would only work on Android version 24 &amp; above.</p>\n\n<p><strong>Fix for all version, including version &lt; N:</strong>\nSo for android lower then N (version 24) the solution is to via code changes as mentioned above. If you are using OkHttp, then follow the customTrust:\n<a href=\"https://github.com/square/okhttp/blob/master/samples/guide/src/main/java/okhttp3/recipes/CustomTrust.java\" rel=\"noreferrer\">https://github.com/square/okhttp/blob/master/samples/guide/src/main/java/okhttp3/recipes/CustomTrust.java</a></p>\n"},{"tags":[],"owner":{"account_id":3076617,"reputation":11,"user_id":2605775,"display_name":"prabha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600440362,"creation_date":1600436805,"answer_id":63957000,"question_id":21047414,"body_markdown":"This is a Server-Side issue.\r\n\r\nServer side have **.crt** file for HTTPS,  here we have to do combine\r\n\r\n    cat your_domain.**crt** your_domain.**ca-bundle** &gt;&gt; ssl_your_domain_.crt \r\n\r\n \r\n\r\nthen restart. \r\n\r\n    sudo service nginx restart\r\n\r\nFor me working fine. \r\n\r\n\r\n","title":"javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>This is a Server-Side issue.</p>\n<p>Server side have <strong>.crt</strong> file for HTTPS,  here we have to do combine</p>\n<pre><code>cat your_domain.**crt** your_domain.**ca-bundle** &gt;&gt; ssl_your_domain_.crt \n</code></pre>\n<p>then restart.</p>\n<pre><code>sudo service nginx restart\n</code></pre>\n<p>For me working fine.</p>\n"},{"tags":[],"owner":{"account_id":6245410,"reputation":544,"user_id":4857522,"display_name":"taranjeetsapra"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1606902975,"creation_date":1606902975,"answer_id":65105777,"question_id":21047414,"body_markdown":"You basically have four potential solutions to fix a &quot;javax.net.ssl.SSLHandshakeException: &quot; exception on Android\r\n\r\n 1. Trust all certificates. Don&#39;t do this, unless you really know what you&#39;re doing.\r\n 2. Create a custom SSLSocketFactory that trusts only your certificate. This works as long as you know exactly which servers you&#39;re going to connect to, but as soon as you need to connect to a new server with a different SSL certificate, you&#39;ll need to update your app. \r\n3. Create a Keystore file that contains Android&#39;s &quot;master list&quot; of certificates, then add your own. If any of those certs expire down the road, you are responsible for updating them in your app. I can&#39;t think of a reason to do this.\r\n4. Create a custom SSLSocketFactory that uses the built-in certificate KeyStore, but falls back on an alternate KeyStore for anything that fails to verify with the default.\r\nThis is well explained in [click here][1]\r\n\r\n  [1]: https://stackoverflow.com/questions/2642777/trusting-all-certificates-using-httpclient-over-https/6378872#6378872\r\n\r\nAlso, I want to elaborate more to point number 1.\r\nWe can selectively skip some domain using manifest network config as explain:\r\n\r\n1. Create a file &quot;network_security_config.xml&quot; in xml folder in res folder with following content.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n          &lt;network-security-config xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n            xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n                &lt;domain-config&gt;\r\n                 &lt;domain includeSubdomains=&quot;true&quot;&gt;191.1.1.0&lt;/domain&gt;\r\n                 &lt;domain includeSubdomains=&quot;true&quot;&gt;your_domain&lt;/domain&gt;\r\n                &lt;trust-anchors&gt;\r\n                    &lt;certificates src=&quot;system&quot; /&gt;\r\n                    &lt;certificates src=&quot;user&quot; /&gt;\r\n                &lt;/trust-anchors&gt;\r\n            &lt;/domain-config&gt;\r\n        &lt;/network-security-config&gt;\r\n\r\n2. Add &quot;network_security_config.xml&quot; to application tag in manifest as:\r\n  \r\n\r\n    `android:networkSecurityConfig=&quot;@xml/network_security_config&quot;`\r\n\r\nThats it..done!!. You successfully skipped the SSL certificate.","title":"javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>You basically have four potential solutions to fix a &quot;javax.net.ssl.SSLHandshakeException: &quot; exception on Android</p>\n<ol>\n<li>Trust all certificates. Don't do this, unless you really know what you're doing.</li>\n<li>Create a custom SSLSocketFactory that trusts only your certificate. This works as long as you know exactly which servers you're going to connect to, but as soon as you need to connect to a new server with a different SSL certificate, you'll need to update your app.</li>\n<li>Create a Keystore file that contains Android's &quot;master list&quot; of certificates, then add your own. If any of those certs expire down the road, you are responsible for updating them in your app. I can't think of a reason to do this.</li>\n<li>Create a custom SSLSocketFactory that uses the built-in certificate KeyStore, but falls back on an alternate KeyStore for anything that fails to verify with the default.\nThis is well explained in <a href=\"https://stackoverflow.com/questions/2642777/trusting-all-certificates-using-httpclient-over-https/6378872#6378872\">click here</a></li>\n</ol>\n<p>Also, I want to elaborate more to point number 1.\nWe can selectively skip some domain using manifest network config as explain:</p>\n<ol>\n<li><p>Create a file &quot;network_security_config.xml&quot; in xml folder in res folder with following content.</p>\n \n<pre><code>   &lt;network-security-config xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n     xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n         &lt;domain-config&gt;\n          &lt;domain includeSubdomains=&quot;true&quot;&gt;191.1.1.0&lt;/domain&gt;\n          &lt;domain includeSubdomains=&quot;true&quot;&gt;your_domain&lt;/domain&gt;\n         &lt;trust-anchors&gt;\n             &lt;certificates src=&quot;system&quot; /&gt;\n             &lt;certificates src=&quot;user&quot; /&gt;\n         &lt;/trust-anchors&gt;\n     &lt;/domain-config&gt;\n &lt;/network-security-config&gt;\n</code></pre>\n</li>\n<li><p>Add &quot;network_security_config.xml&quot; to application tag in manifest as:</p>\n<p><code>android:networkSecurityConfig=&quot;@xml/network_security_config&quot;</code></p>\n</li>\n</ol>\n<p>Thats it..done!!. You successfully skipped the SSL certificate.</p>\n"}],"owner":{"account_id":44661,"reputation":9356,"user_id":131194,"accept_rate":63,"display_name":"birdy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167219,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":9,"score":41,"last_activity_date":1688621195,"creation_date":1389365789,"question_id":21047414,"body_markdown":"I am using Retrofit to access my REST API. However, when I put my API behind ssl and access it by `http://myhost/myapi` then I get this error:\r\n\r\nDo I need to do something extra now that my API is behind SSL? \r\n\r\nHere is how I connect:\r\n\r\n    private final String API = &quot;https://myhost/myapi&quot;;\r\n    \r\n    private final RestAdapter REST_ADAPTER = new RestAdapter.Builder()\r\n            .setServer(API)\r\n            .setLogLevel(RestAdapter.LogLevel.FULL)\r\n            .build();\r\n\r\n    01-10 09:49:55.621    2076-2100/com.myapp.mobile D/Retrofit javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\r\n                at org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:401)\r\n                at libcore.net.http.HttpConnection.setupSecureSocket(HttpConnection.java:209)\r\n                at libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.makeSslConnection(HttpsURLConnectionImpl.java:478)\r\n                at libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.connect(HttpsURLConnectionImpl.java:433)\r\n                at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:290)\r\n                at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:240)\r\n                at libcore.net.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:282)\r\n                at libcore.net.http.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:497)\r\n                at libcore.net.http.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:134)\r\n                at retrofit.client.UrlConnectionClient.readResponse(UrlConnectionClient.java:90)\r\n                at retrofit.client.UrlConnectionClient.execute(UrlConnectionClient.java:48)\r\n                at retrofit.RestAdapter$RestHandler.invokeRequest(RestAdapter.java:287)\r\n                at retrofit.RestAdapter$RestHandler.invoke(RestAdapter.java:222)\r\n                at $Proxy12.signin(Native Method)\r\n                at com.myapp.loginactivity$3.doInBackground(LoginActivity.java:143)\r\n                at com.myapp.loginactivity$3.doInBackground(LoginActivity.java:136)\r\n                at android.os.AsyncTask$2.call(AsyncTask.java:287)\r\n                at java.util.concurrent.FutureTask.run(FutureTask.java:234)\r\n                at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)\r\n                at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\r\n                at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\r\n                at java.lang.Thread.run(Thread.java:841)\r\n         Caused by: java.security.cert.CertificateException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\r\n                at org.apache.harmony.xnet.provider.jsse.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:282)\r\n                at org.apache.harmony.xnet.provider.jsse.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:202)\r\n                at org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.verifyCertificateChain(OpenSSLSocketImpl.java:595)\r\n                at org.apache.harmony.xnet.provider.jsse.NativeCrypto.SSL_do_handshake(Native Method)\r\n                at org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:398)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at libcore.net.http.HttpConnection.setupSecureSocket(HttpConnection.java:209)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.makeSslConnection(HttpsURLConnectionImpl.java:478)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.connect(HttpsURLConnectionImpl.java:433)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:290)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:240)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at libcore.net.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:282)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at libcore.net.http.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:497)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at libcore.net.http.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:134)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at retrofit.client.UrlConnectionClient.readResponse(UrlConnectionClient.java:90)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at retrofit.client.UrlConnectionClient.execute(UrlConnectionClient.java:48)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at retrofit.RestAdapter$RestHandler.invokeRequest(RestAdapter.java:287)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at retrofit.RestAdapter$RestHandler.invoke(RestAdapter.java:222)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at $Proxy12.signin(Native Method)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.myapp.LoginActivity$3.doInBackground(LoginActivity.java:143)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at com.myapp.LoginActivity$3.doInBackground(LoginActivity.java:136)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.AsyncTask$2.call(AsyncTask.java:287)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.util.concurrent.FutureTask.run(FutureTask.java:234)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\r\n    &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;at java.lang.Thread.run(Thread.java:841)","title":"javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found","body":"<p>I am using Retrofit to access my REST API. However, when I put my API behind ssl and access it by <code>http://myhost/myapi</code> then I get this error:</p>\n\n<p>Do I need to do something extra now that my API is behind SSL? </p>\n\n<p>Here is how I connect:</p>\n\n<pre><code>private final String API = \"https://myhost/myapi\";\n\nprivate final RestAdapter REST_ADAPTER = new RestAdapter.Builder()\n        .setServer(API)\n        .setLogLevel(RestAdapter.LogLevel.FULL)\n        .build();\n\n01-10 09:49:55.621    2076-2100/com.myapp.mobile D/Retrofit javax.net.ssl.SSLHandshakeException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\n            at org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:401)\n            at libcore.net.http.HttpConnection.setupSecureSocket(HttpConnection.java:209)\n            at libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.makeSslConnection(HttpsURLConnectionImpl.java:478)\n            at libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.connect(HttpsURLConnectionImpl.java:433)\n            at libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:290)\n            at libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:240)\n            at libcore.net.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:282)\n            at libcore.net.http.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:497)\n            at libcore.net.http.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:134)\n            at retrofit.client.UrlConnectionClient.readResponse(UrlConnectionClient.java:90)\n            at retrofit.client.UrlConnectionClient.execute(UrlConnectionClient.java:48)\n            at retrofit.RestAdapter$RestHandler.invokeRequest(RestAdapter.java:287)\n            at retrofit.RestAdapter$RestHandler.invoke(RestAdapter.java:222)\n            at $Proxy12.signin(Native Method)\n            at com.myapp.loginactivity$3.doInBackground(LoginActivity.java:143)\n            at com.myapp.loginactivity$3.doInBackground(LoginActivity.java:136)\n            at android.os.AsyncTask$2.call(AsyncTask.java:287)\n            at java.util.concurrent.FutureTask.run(FutureTask.java:234)\n            at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\n            at java.lang.Thread.run(Thread.java:841)\n     Caused by: java.security.cert.CertificateException: java.security.cert.CertPathValidatorException: Trust anchor for certification path not found.\n            at org.apache.harmony.xnet.provider.jsse.TrustManagerImpl.checkTrusted(TrustManagerImpl.java:282)\n            at org.apache.harmony.xnet.provider.jsse.TrustManagerImpl.checkServerTrusted(TrustManagerImpl.java:202)\n            at org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.verifyCertificateChain(OpenSSLSocketImpl.java:595)\n            at org.apache.harmony.xnet.provider.jsse.NativeCrypto.SSL_do_handshake(Native Method)\n            at org.apache.harmony.xnet.provider.jsse.OpenSSLSocketImpl.startHandshake(OpenSSLSocketImpl.java:398)\nat libcore.net.http.HttpConnection.setupSecureSocket(HttpConnection.java:209)\nat libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.makeSslConnection(HttpsURLConnectionImpl.java:478)\nat libcore.net.http.HttpsURLConnectionImpl$HttpsEngine.connect(HttpsURLConnectionImpl.java:433)\nat libcore.net.http.HttpEngine.sendSocketRequest(HttpEngine.java:290)\nat libcore.net.http.HttpEngine.sendRequest(HttpEngine.java:240)\nat libcore.net.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:282)\nat libcore.net.http.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:497)\nat libcore.net.http.HttpsURLConnectionImpl.getResponseCode(HttpsURLConnectionImpl.java:134)\nat retrofit.client.UrlConnectionClient.readResponse(UrlConnectionClient.java:90)\nat retrofit.client.UrlConnectionClient.execute(UrlConnectionClient.java:48)\nat retrofit.RestAdapter$RestHandler.invokeRequest(RestAdapter.java:287)\nat retrofit.RestAdapter$RestHandler.invoke(RestAdapter.java:222)\nat $Proxy12.signin(Native Method)\nat com.myapp.LoginActivity$3.doInBackground(LoginActivity.java:143)\nat com.myapp.LoginActivity$3.doInBackground(LoginActivity.java:136)\nat android.os.AsyncTask$2.call(AsyncTask.java:287)\nat java.util.concurrent.FutureTask.run(FutureTask.java:234)\nat android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:230)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1080)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:573)\nat java.lang.Thread.run(Thread.java:841)\n</code></pre>\n"},{"tags":["java","maven","netbeans"],"comments":[{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1688584644,"post_id":76623392,"comment_id":135094837,"body_markdown":"I see that dependency in https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-dependency-plugin (but not in version 3.9.3 ) but i don&#39;t see it at all in https://repo.maven.apache.org/maven2 - maybe try with 3.6.0 ?","body":"I see that dependency in <a href=\"https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-dependency-plugin\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.apache.maven.plugins/&hellip;</a> (but not in version 3.9.3 ) but i don&#39;t see it at all in <a href=\"https://repo.maven.apache.org/maven2\" rel=\"nofollow noreferrer\">repo.maven.apache.org/maven2</a> - maybe try with 3.6.0 ?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1688584665,"post_id":76623392,"comment_id":135094840,"body_markdown":"All the plugin versions you have defined are wrong..please check here: https://maven.apache.org/plugins/","body":"All the plugin versions you have defined are wrong..please check here: <a href=\"https://maven.apache.org/plugins/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins</a>"},{"owner":{"account_id":19882033,"reputation":211,"user_id":14565845,"display_name":"Erika"},"score":0,"creation_date":1688584750,"post_id":76623392,"comment_id":135094854,"body_markdown":"yes, I kept modifying them after reading on stack overflow.","body":"yes, I kept modifying them after reading on stack overflow."},{"owner":{"account_id":19882033,"reputation":211,"user_id":14565845,"display_name":"Erika"},"score":0,"creation_date":1688585602,"post_id":76623392,"comment_id":135094987,"body_markdown":"I switch to 3.6.0 version on pom.xml then I I ran ```mvn clean install``` and I got same error but instead of maven 3.9.3 I got 3.6.0 :(( What to do ?","body":"I switch to 3.6.0 version on pom.xml then I I ran <code>mvn clean install</code> and I got same error but instead of maven 3.9.3 I got 3.6.0 :(( What to do ?"}],"answers":[{"tags":[],"owner":{"account_id":19882033,"reputation":211,"user_id":14565845,"display_name":"Erika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688620786,"creation_date":1688589545,"answer_id":76623897,"question_id":76623392,"body_markdown":"OMG. It finally worked. If somebody get this error in the future this is how pom.xml should look.\r\n\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  \r\n  &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n  &lt;artifactId&gt;w1&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n  &lt;name&gt;w1-1.0-SNAPSHOT&lt;/name&gt;\r\n  \r\n  &lt;properties&gt;\r\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n    &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    &lt;jakartaee&gt;10.0.0&lt;/jakartaee&gt;\r\n  &lt;/properties&gt;\r\n  \r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  \r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.6.0&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\r\n          &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\r\n          &lt;compilerArguments&gt;\r\n            &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n          &lt;/compilerArguments&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n              &lt;silent&gt;true&lt;/silent&gt;\r\n              &lt;artifactItems&gt;\r\n                &lt;artifactItem&gt;\r\n                  &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n                  &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n                  &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n                  &lt;type&gt;jar&lt;/type&gt;\r\n                &lt;/artifactItem&gt;\r\n              &lt;/artifactItems&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nNow I can go and eat in peace and happiness.","title":"Java 17, Maven 3.9.3 Error on running project","body":"<p>OMG. It finally worked. If somebody get this error in the future this is how pom.xml should look.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n  &lt;artifactId&gt;w1&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n  &lt;name&gt;w1-1.0-SNAPSHOT&lt;/name&gt;\n  \n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n    &lt;jakartaee&gt;10.0.0&lt;/jakartaee&gt;\n  &lt;/properties&gt;\n  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n      &lt;version&gt;${jakartaee}&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.6.0&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;${maven.compiler.source}&lt;/source&gt;\n          &lt;target&gt;${maven.compiler.target}&lt;/target&gt;\n          &lt;compilerArguments&gt;\n            &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n          &lt;/compilerArguments&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n              &lt;silent&gt;true&lt;/silent&gt;\n              &lt;artifactItems&gt;\n                &lt;artifactItem&gt;\n                  &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n                  &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n                  &lt;version&gt;${jakartaee}&lt;/version&gt;\n                  &lt;type&gt;jar&lt;/type&gt;\n                &lt;/artifactItem&gt;\n              &lt;/artifactItems&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Now I can go and eat in peace and happiness.</p>\n"}],"owner":{"account_id":19882033,"reputation":211,"user_id":14565845,"display_name":"Erika"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2448,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688620786,"creation_date":1688584198,"question_id":76623392,"body_markdown":"I use netbeans and I have Java 17 installed on my MacBook Pro M1 chip os Ventura. I installed maven with: \r\n```\r\nbrew install maven\r\n```\r\n\r\nI ran mvn --version and I get (I am not sure if java version 20.0.1 counts there):\r\n\r\n```\r\nMaven home: /opt/homebrew/Cellar/maven/3.9.3/libexec\r\nJava version: 20.0.1, vendor: Homebrew, runtime: /opt/homebrew/Cellar/openjdk/20\r\n```\r\n\r\nIf I check :\r\n```\r\nJava --version\r\n```\r\n\r\nI get :\r\n```\r\njava 17 2021-09-14 LTS\r\nJava(TM) SE Runtime Environment (build 17+35-LTS-2724)\r\n```\r\n\r\nI set HOME PATH to where brew installed maven:\r\n```\r\nnano ~/.zshrc\r\n```\r\nI see at the top this cause I set the path like this:\r\n```\r\n\r\nexport\r\nPATH=&quot;$PATH:/Users/MyName/flu/flutter/bin:/opt/homebrew/Cellar/maven/3.9$\r\n\r\n```\r\n\r\nI ran to redo all :\r\n```\r\nsource ~/.zshrc\r\n```\r\n\r\nI am creating a new web application with maven project on netbeans. I run the project and I get this error: \r\n```\r\nPlugin org.apache.maven.plugins:maven-dependency-plugin:3.9.3 or one of its dependencies could not be resolved: The following artifacts could not be resolved: org.apache.maven.plugins:maven-dependency-plugin:jar:3.9.3 (absent): org.apache.maven.plugins:maven-dependency-plugin:jar:3.9.3 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\r\n\r\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\r\nRe-run Maven using the -X switch to enable full debug logging.\r\n```\r\n\r\nI got this pom.xml file like this:\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;w1&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n    &lt;name&gt;w1-1.0-SNAPSHOT&lt;/name&gt;\r\n    \r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n        &lt;jakartaee&gt;10.0.0&lt;/jakartaee&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    \r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                    &lt;compilerArguments&gt;\r\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\r\n                    &lt;/compilerArguments&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9.3&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.9.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;validate&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\r\n                            &lt;silent&gt;true&lt;/silent&gt;\r\n                            &lt;artifactItems&gt;\r\n                                &lt;artifactItem&gt;\r\n                                    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n                                    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n                                    &lt;version&gt;${jakartaee}&lt;/version&gt;\r\n                                    &lt;type&gt;jar&lt;/type&gt;\r\n                                &lt;/artifactItem&gt;\r\n                            &lt;/artifactItems&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\nI tried to add all details here. What do you think it&#39;s causing this error ?\r\n\r\nI even tried in my project folder:\r\n```\r\nmvn clean install\r\n```","title":"Java 17, Maven 3.9.3 Error on running project","body":"<p>I use netbeans and I have Java 17 installed on my MacBook Pro M1 chip os Ventura. I installed maven with:</p>\n<pre><code>brew install maven\n</code></pre>\n<p>I ran mvn --version and I get (I am not sure if java version 20.0.1 counts there):</p>\n<pre><code>Maven home: /opt/homebrew/Cellar/maven/3.9.3/libexec\nJava version: 20.0.1, vendor: Homebrew, runtime: /opt/homebrew/Cellar/openjdk/20\n</code></pre>\n<p>If I check :</p>\n<pre><code>Java --version\n</code></pre>\n<p>I get :</p>\n<pre><code>java 17 2021-09-14 LTS\nJava(TM) SE Runtime Environment (build 17+35-LTS-2724)\n</code></pre>\n<p>I set HOME PATH to where brew installed maven:</p>\n<pre><code>nano ~/.zshrc\n</code></pre>\n<p>I see at the top this cause I set the path like this:</p>\n<pre><code>\nexport\nPATH=&quot;$PATH:/Users/MyName/flu/flutter/bin:/opt/homebrew/Cellar/maven/3.9$\n\n</code></pre>\n<p>I ran to redo all :</p>\n<pre><code>source ~/.zshrc\n</code></pre>\n<p>I am creating a new web application with maven project on netbeans. I run the project and I get this error:</p>\n<pre><code>Plugin org.apache.maven.plugins:maven-dependency-plugin:3.9.3 or one of its dependencies could not be resolved: The following artifacts could not be resolved: org.apache.maven.plugins:maven-dependency-plugin:jar:3.9.3 (absent): org.apache.maven.plugins:maven-dependency-plugin:jar:3.9.3 was not found in https://repo.maven.apache.org/maven2 during a previous attempt. This failure was cached in the local repository and resolution is not reattempted until the update interval of central has elapsed or updates are forced -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n</code></pre>\n<p>I got this pom.xml file like this:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;w1&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;w1-1.0-SNAPSHOT&lt;/name&gt;\n    \n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;endorsed.dir&gt;${project.build.directory}/endorsed&lt;/endorsed.dir&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n        &lt;jakartaee&gt;10.0.0&lt;/jakartaee&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n            &lt;version&gt;${jakartaee}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    \n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.9.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                    &lt;compilerArguments&gt;\n                        &lt;endorseddirs&gt;${endorsed.dir}&lt;/endorseddirs&gt;\n                    &lt;/compilerArguments&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.9.3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.9.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;validate&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${endorsed.dir}&lt;/outputDirectory&gt;\n                            &lt;silent&gt;true&lt;/silent&gt;\n                            &lt;artifactItems&gt;\n                                &lt;artifactItem&gt;\n                                    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n                                    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n                                    &lt;version&gt;${jakartaee}&lt;/version&gt;\n                                    &lt;type&gt;jar&lt;/type&gt;\n                                &lt;/artifactItem&gt;\n                            &lt;/artifactItems&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I tried to add all details here. What do you think it's causing this error ?</p>\n<p>I even tried in my project folder:</p>\n<pre><code>mvn clean install\n</code></pre>\n"},{"tags":["java","swing","look-and-feel"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1688621033,"post_id":76625704,"comment_id":135098570,"body_markdown":"[How to Set the Look and Feel](https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html#:~:text=%22Look%22%20refers%20to%20the%20appearance,and%20a%20corresponding%20ComponentUI%20subclass.)","body":"<a href=\"https://docs.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html#:~:text=%22Look%22%20refers%20to%20the%20appearance,and%20a%20corresponding%20ComponentUI%20subclass.\" rel=\"nofollow noreferrer\">How to Set the Look and Feel</a>"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1688621469,"post_id":76625704,"comment_id":135098618,"body_markdown":"How is the new theme created and packaged to be usable in any Java program? Maybe usability of the theme program away from the IDE (externally) is a factor.","body":"How is the new theme created and packaged to be usable in any Java program? Maybe usability of the theme program away from the IDE (externally) is a factor."},{"owner":{"account_id":15773678,"reputation":1,"user_id":11381970,"display_name":"lovely dovy"},"score":0,"creation_date":1688624682,"post_id":76625704,"comment_id":135099061,"body_markdown":"i&#39;ve added  the LaF jar to the project folder and its lib in the dist folder and i still get the same results","body":"i&#39;ve added  the LaF jar to the project folder and its lib in the dist folder and i still get the same results"}],"owner":{"account_id":15773678,"reputation":1,"user_id":11381970,"display_name":"lovely dovy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688620595,"creation_date":1688620595,"question_id":76625704,"body_markdown":"im trying to use a custom theme im my java app, when i run it in netbeans, the themes apply like so,\r\n\r\n[with theme applied](https://i.stack.imgur.com/MAa8U.png)\r\n\r\nhowever, when i build and compiled the app and run the executable jar file, this is what i get\r\n\r\n[executable jar file](https://i.stack.imgur.com/h62yh.png)\r\n\r\ni tried to modify the main function to recognize and use the custom theme\r\n\r\n\r\n```\r\npublic static void main(String args[]) throws UnsupportedLookAndFeelException {\r\n        IntelliJTheme.setup(LoginPage.class.getResourceAsStream(&quot;/carbon.theme.json&quot;));\r\n        java.awt.EventQueue.invokeLater(new Runnable() {\r\n            public void run() {\r\n                new LoginPage().setVisible(true);\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\n\r\ni want to apply the theme at the executable file to make it presentable","title":"Java Swing LaF doesnt apply the theme to executable Jar app","body":"<p>im trying to use a custom theme im my java app, when i run it in netbeans, the themes apply like so,</p>\n<p><a href=\"https://i.stack.imgur.com/MAa8U.png\" rel=\"nofollow noreferrer\">with theme applied</a></p>\n<p>however, when i build and compiled the app and run the executable jar file, this is what i get</p>\n<p><a href=\"https://i.stack.imgur.com/h62yh.png\" rel=\"nofollow noreferrer\">executable jar file</a></p>\n<p>i tried to modify the main function to recognize and use the custom theme</p>\n<pre><code>public static void main(String args[]) throws UnsupportedLookAndFeelException {\n        IntelliJTheme.setup(LoginPage.class.getResourceAsStream(&quot;/carbon.theme.json&quot;));\n        java.awt.EventQueue.invokeLater(new Runnable() {\n            public void run() {\n                new LoginPage().setVisible(true);\n            }\n        });\n    }\n</code></pre>\n<p>i want to apply the theme at the executable file to make it presentable</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"score":0,"creation_date":1688613461,"post_id":76625257,"comment_id":135097920,"body_markdown":"Welcome! But I think the problem comes at compilation time, isn&#39;t it? Can you provide some compilation logs, near when the trouble happens? And maybe: a bit of your _Maven_ `pom.xml`, if it&#39;s the tool you&#39;re using?","body":"Welcome! But I think the problem comes at compilation time, isn&#39;t it? Can you provide some compilation logs, near when the trouble happens? And maybe: a bit of your <i>Maven</i> <code>pom.xml</code>, if it&#39;s the tool you&#39;re using?"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1688620829,"post_id":76625257,"comment_id":135098555,"body_markdown":"Post text, not images. Images arent searchable.","body":"Post text, not images. Images arent searchable."}],"answers":[{"tags":[],"owner":{"account_id":28959660,"reputation":9,"user_id":22182416,"display_name":"orangezx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688613487,"creation_date":1688613487,"answer_id":76625266,"question_id":76625257,"body_markdown":"All the clues point in one direction: version changes. The old Spring documentation guide uses JavaX, which has quietly replaced Jakarta in the latest Spring, which is clearly a historical problem and the solution is simple. But it is not easy to spot this error. Thanks to Helen Scott.\r\nhttps://www.jetbrains.com/idea/guide/tutorials/migrating-javax-jakarta/\r\nWe just have to go to the navigation menu to use the migration function.\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rXshG.png","title":"When I read the guide Building REST services with Spring, I can&#39;t import javax packages for @entity table","body":"<p>All the clues point in one direction: version changes. The old Spring documentation guide uses JavaX, which has quietly replaced Jakarta in the latest Spring, which is clearly a historical problem and the solution is simple. But it is not easy to spot this error. Thanks to Helen Scott.\n<a href=\"https://www.jetbrains.com/idea/guide/tutorials/migrating-javax-jakarta/\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/idea/guide/tutorials/migrating-javax-jakarta/</a>\nWe just have to go to the navigation menu to use the migration function.\n<a href=\"https://i.stack.imgur.com/rXshG.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":[],"owner":{"account_id":10463559,"reputation":2118,"user_id":7713562,"display_name":"zawarudo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688620538,"creation_date":1688620538,"answer_id":76625699,"question_id":76625257,"body_markdown":"The imports that replaced `javax` in version 3 of Spring boot are\r\n\r\n    import jakarta.persistence.*;\r\ninstead of\r\n\r\n    import javax.persistence.*;\r\nThat means that any `javax` package from any dependency should be replaced with `jakarta` version.\r\n\r\njakarta packages are located in dependency\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\nAlso, make sure that your parent Spring version is one and only version, do not mix Spring boot 3 with Spring Boot 2.","title":"When I read the guide Building REST services with Spring, I can&#39;t import javax packages for @entity table","body":"<p>The imports that replaced <code>javax</code> in version 3 of Spring boot are</p>\n<pre><code>import jakarta.persistence.*;\n</code></pre>\n<p>instead of</p>\n<pre><code>import javax.persistence.*;\n</code></pre>\n<p>That means that any <code>javax</code> package from any dependency should be replaced with <code>jakarta</code> version.</p>\n<p>jakarta packages are located in dependency</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Also, make sure that your parent Spring version is one and only version, do not mix Spring boot 3 with Spring Boot 2.</p>\n"}],"owner":{"account_id":28959660,"reputation":9,"user_id":22182416,"display_name":"orangezx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1688620538,"creation_date":1688613252,"question_id":76625257,"body_markdown":"[enter image description here](https://i.stack.imgur.com/WFlnY.png)  \r\nI just use this and step by step with guides.\r\n\r\n[enter image description here](https://i.stack.imgur.com/VkaTe.png)  \r\nthe guide told me what i wanan go ahead  \r\nI was reading the REST server setup process in the Spring documentation, and by the time I got to the first step it was no longer running.  \r\nthis is the code of table\r\n\r\n```java\r\npackage payroll;\r\n\r\nimport java.util.Objects;\r\n\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.Id;\r\n\r\n@Entity\r\nclass Employee {\r\n\r\nprivate @Id @GeneratedValue Long id;\r\nprivate String name;\r\nprivate String role;\r\n\r\nEmployee() {}\r\n\r\nEmployee(String name, String role) {\r\n\r\n    this.name = name;\r\n    this.role = role;\r\n\r\n}\r\n\r\npublic Long getId() {\r\nreturn this.id;\r\n}\r\n\r\npublic String getName() {\r\nreturn this.name;\r\n}\r\n\r\npublic String getRole() {\r\nreturn this.role;\r\n}\r\n\r\npublic void setId(Long id) {\r\nthis.id = id;\r\n}\r\n\r\npublic void setName(String name) {\r\nthis.name = name;\r\n}\r\n\r\npublic void setRole(String role) {\r\nthis.role = role;\r\n}\r\n\r\n@Override\r\npublic boolean equals(Object o) {\r\n\r\n    if (this == o)\r\n      return true;\r\n    if (!(o instanceof Employee))\r\n      return false;\r\n    Employee employee = (Employee) o;\r\n    return Objects.equals(this.id, employee.id) &amp;&amp; Objects.equals(this.name, employee.name)\r\n        &amp;&amp; Objects.equals(this.role, employee.role);\r\n\r\n}\r\n\r\n@Override\r\npublic int hashCode() {\r\nreturn Objects.hash(this.id, this.name, this.role);\r\n}\r\n\r\n@Override\r\npublic String toString() {\r\nreturn &quot;Employee{&quot; + &quot;id=&quot; + this.id + &quot;, name=&#39;&quot; + this.name + &#39;&#39;&#39; + &quot;, role=&#39;&quot; + this.role + &#39;&#39;&#39; + &#39;}&#39;;\r\n}\r\n}```\r\n```","title":"When I read the guide Building REST services with Spring, I can&#39;t import javax packages for @entity table","body":"<p><a href=\"https://i.stack.imgur.com/WFlnY.png\" rel=\"nofollow noreferrer\">enter image description here</a><br />\nI just use this and step by step with guides.</p>\n<p><a href=\"https://i.stack.imgur.com/VkaTe.png\" rel=\"nofollow noreferrer\">enter image description here</a><br />\nthe guide told me what i wanan go ahead<br />\nI was reading the REST server setup process in the Spring documentation, and by the time I got to the first step it was no longer running.<br />\nthis is the code of table</p>\n<pre class=\"lang-java prettyprint-override\"><code>package payroll;\n\nimport java.util.Objects;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\nclass Employee {\n\nprivate @Id @GeneratedValue Long id;\nprivate String name;\nprivate String role;\n\nEmployee() {}\n\nEmployee(String name, String role) {\n\n    this.name = name;\n    this.role = role;\n\n}\n\npublic Long getId() {\nreturn this.id;\n}\n\npublic String getName() {\nreturn this.name;\n}\n\npublic String getRole() {\nreturn this.role;\n}\n\npublic void setId(Long id) {\nthis.id = id;\n}\n\npublic void setName(String name) {\nthis.name = name;\n}\n\npublic void setRole(String role) {\nthis.role = role;\n}\n\n@Override\npublic boolean equals(Object o) {\n\n    if (this == o)\n      return true;\n    if (!(o instanceof Employee))\n      return false;\n    Employee employee = (Employee) o;\n    return Objects.equals(this.id, employee.id) &amp;&amp; Objects.equals(this.name, employee.name)\n        &amp;&amp; Objects.equals(this.role, employee.role);\n\n}\n\n@Override\npublic int hashCode() {\nreturn Objects.hash(this.id, this.name, this.role);\n}\n\n@Override\npublic String toString() {\nreturn &quot;Employee{&quot; + &quot;id=&quot; + this.id + &quot;, name='&quot; + this.name + ''' + &quot;, role='&quot; + this.role + ''' + '}';\n}\n}```\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":28751477,"reputation":134,"user_id":22019464,"display_name":"Chander Parkash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688151646,"creation_date":1688151646,"answer_id":76591639,"question_id":76591604,"body_markdown":"To show that the query updates the database, use the @Modifying annotation.\r\nTo indicate that the query is a native SQL query, provide the nativeQuery = true argument.\r\nThe updated customer object is not required as a return value, hence the void return type is used. You can switch the return type to Customer and adjust the function implementation if you wish to get the updated customer object.\r\n\r\n    @Query(value = &quot;UPDATE CUSTOMER SET NAME = :name, PHONE = :phone WHERE CUSTOMER_ID = :customerId&quot;, nativeQuery = true)\r\n    @Modifying\r\n    void updateCustomerWithNameAndPhone(@Param(&quot;name&quot;) String name, @Param(&quot;phone&quot;) String phone, @Param(&quot;customerId&quot;) Long customerId);\r\n\r\n","title":"how to write a native query in jpa for update?","body":"<p>To show that the query updates the database, use the @Modifying annotation.\nTo indicate that the query is a native SQL query, provide the nativeQuery = true argument.\nThe updated customer object is not required as a return value, hence the void return type is used. You can switch the return type to Customer and adjust the function implementation if you wish to get the updated customer object.</p>\n<pre><code>@Query(value = &quot;UPDATE CUSTOMER SET NAME = :name, PHONE = :phone WHERE CUSTOMER_ID = :customerId&quot;, nativeQuery = true)\n@Modifying\nvoid updateCustomerWithNameAndPhone(@Param(&quot;name&quot;) String name, @Param(&quot;phone&quot;) String phone, @Param(&quot;customerId&quot;) Long customerId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688619975,"creation_date":1688555284,"answer_id":76619735,"question_id":76591604,"body_markdown":"Assuming your entity class CUSTOMER has NAME, PHONE &amp; CUSTOMERID fields, you can also use Java Persistence Query Language(JPQL) below to update columns which returns Integer 1 - when one row is successfully updated &amp; Integer 0 - when update fails and no row is updated\r\n\r\n    @Transactional\r\n    @Modifying\r\n    @Query(&quot;UPDATE CUSTOMER c SET c.NAME = :name, c.PHONE = :phone WHERE c.CUSTOMERID = :customerId&quot;)\r\n    int updateWithNameAndPhone(@Param(value = &quot;name&quot;) String name, @Param(value = &quot;phone&quot;) String phone, @Param(value = &quot;customerId&quot;) String customerId);\r\n\r\nor\r\n\r\n    @Transactional\r\n    @Modifying\r\n    @Query(&quot;UPDATE CUSTOMER c SET c.NAME = ?1, c.PHONE = ?2 WHERE c.CUSTOMERID = ?3&quot;)\r\n    int updateWithNameAndPhone(String name, String phone, String customerId);\r\n\r\n","title":"how to write a native query in jpa for update?","body":"<p>Assuming your entity class CUSTOMER has NAME, PHONE &amp; CUSTOMERID fields, you can also use Java Persistence Query Language(JPQL) below to update columns which returns Integer 1 - when one row is successfully updated &amp; Integer 0 - when update fails and no row is updated</p>\n<pre><code>@Transactional\n@Modifying\n@Query(&quot;UPDATE CUSTOMER c SET c.NAME = :name, c.PHONE = :phone WHERE c.CUSTOMERID = :customerId&quot;)\nint updateWithNameAndPhone(@Param(value = &quot;name&quot;) String name, @Param(value = &quot;phone&quot;) String phone, @Param(value = &quot;customerId&quot;) String customerId);\n</code></pre>\n<p>or</p>\n<pre><code>@Transactional\n@Modifying\n@Query(&quot;UPDATE CUSTOMER c SET c.NAME = ?1, c.PHONE = ?2 WHERE c.CUSTOMERID = ?3&quot;)\nint updateWithNameAndPhone(String name, String phone, String customerId);\n</code></pre>\n"}],"owner":{"account_id":23967054,"reputation":33,"user_id":17956390,"display_name":"Hemraj Malhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1000,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76591639,"answer_count":2,"score":2,"last_activity_date":1688619975,"creation_date":1688151302,"question_id":76591604,"body_markdown":"I write a query to update a customer record as native query in jpa but unable to get response. it giving me some irrelevant responses\r\n\r\n\r\n    @Query(value = &quot;UPDATE CUSTOMER SET NAME = :name, PHONE = :phone&quot;)\r\n    Customer updateWithNameAndPhone(@Param(&quot;name&quot;) String name, @Param(&quot;phone&quot;) String phone)","title":"how to write a native query in jpa for update?","body":"<p>I write a query to update a customer record as native query in jpa but unable to get response. it giving me some irrelevant responses</p>\n<pre><code>@Query(value = &quot;UPDATE CUSTOMER SET NAME = :name, PHONE = :phone&quot;)\nCustomer updateWithNameAndPhone(@Param(&quot;name&quot;) String name, @Param(&quot;phone&quot;) String phone)\n</code></pre>\n"},{"tags":["java","gradle","netflix-nebula-plugins"],"owner":{"account_id":10999814,"reputation":597,"user_id":8498513,"display_name":"donquih0te"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688619788,"creation_date":1688619788,"question_id":76625645,"body_markdown":"Is it possible to have multiple release git branches with the own release train? Suppose I have branches master, release/v1, release/v2. I&#39;m pushing to the branches independently and want to create the independent releases. &lt;br&gt;\r\nExample: &lt;br&gt;\r\nmaster - version 0.0.x &lt;br&gt;\r\nrelease/v1 - version 0.1.x &lt;br&gt;\r\nrelease/v2 - version 0.2.x &lt;br&gt;\r\n\r\nI&#39;m looking for nebula Gradle plugin, but don&#39;t know how to create independent releases in multiple brunches at the same time","title":"multiple release versions with nebula","body":"<p>Is it possible to have multiple release git branches with the own release train? Suppose I have branches master, release/v1, release/v2. I'm pushing to the branches independently and want to create the independent releases. <br>\nExample: <br>\nmaster - version 0.0.x <br>\nrelease/v1 - version 0.1.x <br>\nrelease/v2 - version 0.2.x <br></p>\n<p>I'm looking for nebula Gradle plugin, but don't know how to create independent releases in multiple brunches at the same time</p>\n"},{"tags":["java","spring-boot","maven","annotations","openapi-generator-maven-plugin"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1688620001,"post_id":76625642,"comment_id":135098481,"body_markdown":"If you cannot change the name of either type, then for one or both types use their fully qualified names instead of importing them.","body":"If you cannot change the name of either type, then for one or both types use their fully qualified names instead of importing them."}],"owner":{"account_id":28924244,"reputation":1,"user_id":22154480,"display_name":"Sameer Choudhary"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688619746,"creation_date":1688619746,"question_id":76625642,"body_markdown":"I have to use @ApiResponse by importing io.swagger.v3.oas.annotations.ApiResponse but then, I have a class which also has to be used named as ApiResponse and i cannot change this class name. Is there any way to resolve this?\r\n","title":"Using a Annotation with same name as imported Class in Maven project","body":"<p>I have to use @ApiResponse by importing io.swagger.v3.oas.annotations.ApiResponse but then, I have a class which also has to be used named as ApiResponse and i cannot change this class name. Is there any way to resolve this?</p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":0,"creation_date":1570292520,"post_id":58249892,"comment_id":102870693,"body_markdown":"What is the URL you are trying to hit?","body":"What is the URL you are trying to hit?"},{"owner":{"account_id":2586688,"reputation":927,"user_id":2242244,"display_name":"Nompumelelo"},"score":0,"creation_date":1570302411,"post_id":58249892,"comment_id":102873267,"body_markdown":"Did you inspect your code on the browser? can you include the screen shot of the browser inspection that shows the HTTP calls and responses","body":"Did you inspect your code on the browser? can you include the screen shot of the browser inspection that shows the HTTP calls and responses"},{"owner":{"account_id":16313695,"reputation":31,"user_id":11781498,"display_name":"Vidhi Agarwal"},"score":0,"creation_date":1570430463,"post_id":58249892,"comment_id":102896942,"body_markdown":"The problem is resolved now..There was some version mismatch in spring..Thanks for the response  @elolelo","body":"The problem is resolved now..There was some version mismatch in spring..Thanks for the response  @elolelo"}],"answers":[{"tags":[],"owner":{"account_id":28960156,"reputation":1,"user_id":22182805,"display_name":"rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688619523,"creation_date":1688619485,"answer_id":76625621,"question_id":58249892,"body_markdown":"try compiling javac --release yourfilename.java \r\nin compiler with the path of the file provided\r\n\r\n","title":"got The origin server did not find a current representation for the target resource or is not willing to disclose that one exists","body":"<p>try compiling javac --release yourfilename.java\nin compiler with the path of the file provided</p>\n"}],"owner":{"account_id":16313695,"reputation":31,"user_id":11781498,"display_name":"Vidhi Agarwal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":338,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688619523,"creation_date":1570290344,"question_id":58249892,"body_markdown":"I am a newbie to Spring mvc and trying to learn it.I just want to print a message &quot;Hi Welcome to Spring MVC&quot; but i am getting this error ---&gt;\r\n\r\nHTTP Status 404\r\n\r\nDescription The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\r\n\r\n\r\nAny help will be appreciated.\r\n\r\nI am using tomcat 9.0 version server\r\n\r\n**WEB*\r\n\r\n    &lt;display-name&gt;Spring MVC Application&lt;/display-name&gt;\r\n\r\n    &lt;servlet&gt;\r\n      &lt;servlet-name&gt;Hello&lt;/servlet-name&gt;\r\n      &lt;servlet-class&gt;\r\n         org.springframework.web.servlet.DispatcherServlet\r\n      &lt;/servlet-class&gt;\r\n      &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n\r\n    &lt;servlet-mapping&gt;\r\n      &lt;servlet-name&gt;Hello&lt;/servlet-name&gt;\r\n      &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n \r\n    &lt;/web-app&gt;\r\n\r\n\r\n**Hello-servlet**\r\n\r\n     &lt;beans schema\r\n   \r\n    &lt;context:component-scan base-package=&quot;com.helloworld&quot; /&gt;\r\n   \r\n    &lt;bean class \r\n    =&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n      &lt;property name=&quot;prefix&quot; value=&quot;/WEB-INF/jsps/&quot;&gt;&lt;/property&gt;\r\n      &lt;property name=&quot;suffix&quot; value=&quot;.jsp&quot;&gt;&lt;/property&gt;\r\n    &lt;/bean&gt;\r\n    &lt;/beans&gt;\r\n\r\n\r\n    \r\n\r\n**HelloController**\r\n\r\n        package com.helloworld;\r\n\r\n       import org.springframework.stereotype.Controller;\r\n     import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.servlet.ModelAndView;\r\n\r\n\r\n    @Controller\r\n    @RequestMapping(value=&quot;/&quot;)\r\n    public class HelloController {\r\n    @RequestMapping(method = RequestMethod.GET)\r\n\tpublic ModelAndView printHello()\r\n\t{\r\n\t   return new ModelAndView(&quot;hello&quot;,&quot;Hellomsg&quot;, &quot;Hi Welcome to Spring \r\n    MVC&quot;);\t\r\n\t   \r\n\t}\r\n\t\r\n    }\r\n\r\n\r\n\r\n\r\nI expect the output ---\r\nHi Welcome to Spring MVC","title":"got The origin server did not find a current representation for the target resource or is not willing to disclose that one exists","body":"<p>I am a newbie to Spring mvc and trying to learn it.I just want to print a message \"Hi Welcome to Spring MVC\" but i am getting this error ---></p>\n\n<p>HTTP Status 404</p>\n\n<p>Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.</p>\n\n<p>Any help will be appreciated.</p>\n\n<p>I am using tomcat 9.0 version server</p>\n\n<p>**WEB*</p>\n\n<pre><code>&lt;display-name&gt;Spring MVC Application&lt;/display-name&gt;\n\n&lt;servlet&gt;\n  &lt;servlet-name&gt;Hello&lt;/servlet-name&gt;\n  &lt;servlet-class&gt;\n     org.springframework.web.servlet.DispatcherServlet\n  &lt;/servlet-class&gt;\n  &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n  &lt;servlet-name&gt;Hello&lt;/servlet-name&gt;\n  &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p><strong>Hello-servlet</strong></p>\n\n<pre><code> &lt;beans schema\n\n&lt;context:component-scan base-package=\"com.helloworld\" /&gt;\n\n&lt;bean class \n=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n  &lt;property name=\"prefix\" value=\"/WEB-INF/jsps/\"&gt;&lt;/property&gt;\n  &lt;property name=\"suffix\" value=\".jsp\"&gt;&lt;/property&gt;\n&lt;/bean&gt;\n&lt;/beans&gt;\n</code></pre>\n\n<p><strong>HelloController</strong></p>\n\n<pre><code>    package com.helloworld;\n\n   import org.springframework.stereotype.Controller;\n import org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.servlet.ModelAndView;\n\n\n@Controller\n@RequestMapping(value=\"/\")\npublic class HelloController {\n@RequestMapping(method = RequestMethod.GET)\npublic ModelAndView printHello()\n{\n   return new ModelAndView(\"hello\",\"Hellomsg\", \"Hi Welcome to Spring \nMVC\");  \n\n}\n\n}\n</code></pre>\n\n<p>I expect the output ---\nHi Welcome to Spring MVC</p>\n"},{"tags":["java","updates","bouncycastle"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688558008,"post_id":76619987,"comment_id":135088635,"body_markdown":"Sounds like you have 2 different versions of the library in t eclass path","body":"Sounds like you have 2 different versions of the library in t eclass path"},{"owner":{"account_id":14593879,"reputation":17,"user_id":10540239,"display_name":"Wolverine"},"score":0,"creation_date":1688558338,"post_id":76619987,"comment_id":135088713,"body_markdown":"@Jens Can you please tell me little clear where exactly I need to check for that library. I am using Eclipse and Maven for my project","body":"@Jens Can you please tell me little clear where exactly I need to check for that library. I am using Eclipse and Maven for my project"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688560293,"post_id":76619987,"comment_id":135089177,"body_markdown":"use `mvn dependency:tree` and look if you find more than one version for the bouncy castle library","body":"use <code>mvn dependency:tree</code> and look if you find more than one version for the bouncy castle library"}],"answers":[{"tags":[],"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688619293,"creation_date":1688619293,"answer_id":76625604,"question_id":76619987,"body_markdown":"The return type of `getEncryptedDataObjects` has changed apparently. The line with the error should be changed to:\r\n\r\n    Iterator&lt;PGPEncryptedData&gt; it = enc.getEncryptedDataObjects();\r\n\r\n`PGPPublicKeyEncryptedData` is one type (i.e. subclass) of `PGPEncryptedData` but later versions of the API support also returning data of type `PGPSymmetricKeyEncryptedData` (with two further subtypes), so the iterator allows both types to be returned.\r\n\r\nIf you want to then process only the `PGPPublicKeyEncryptedData` entries from the iterator (to follow your old code&#39;s functionality), you can use `instanceof` e.g.:\r\n\r\n    Iterator&lt;PGPEncryptedData&gt; it = enc.getEncryptedDataObjects();\r\n    while (it.hasNext())\r\n    {\r\n        PGPEncryptedData encryptedData = it.next();\r\n        if (encryptedData instanceof PGPPublicKeyEncryptedData)\r\n        {\r\n            PGPPublicKeyEncryptedData pkEncryptedData = (PGPPublicKeyEncryptedData)encryptedData;\r\n    \r\n            // Process pkEncryptedData as needed.\r\n        }\r\n    }\r\n\r\n","title":"Bouncy Castle upgrade to 1.70 is not working","body":"<p>The return type of <code>getEncryptedDataObjects</code> has changed apparently. The line with the error should be changed to:</p>\n<pre><code>Iterator&lt;PGPEncryptedData&gt; it = enc.getEncryptedDataObjects();\n</code></pre>\n<p><code>PGPPublicKeyEncryptedData</code> is one type (i.e. subclass) of <code>PGPEncryptedData</code> but later versions of the API support also returning data of type <code>PGPSymmetricKeyEncryptedData</code> (with two further subtypes), so the iterator allows both types to be returned.</p>\n<p>If you want to then process only the <code>PGPPublicKeyEncryptedData</code> entries from the iterator (to follow your old code's functionality), you can use <code>instanceof</code> e.g.:</p>\n<pre><code>Iterator&lt;PGPEncryptedData&gt; it = enc.getEncryptedDataObjects();\nwhile (it.hasNext())\n{\n    PGPEncryptedData encryptedData = it.next();\n    if (encryptedData instanceof PGPPublicKeyEncryptedData)\n    {\n        PGPPublicKeyEncryptedData pkEncryptedData = (PGPPublicKeyEncryptedData)encryptedData;\n\n        // Process pkEncryptedData as needed.\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14593879,"reputation":17,"user_id":10540239,"display_name":"Wolverine"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76625604,"answer_count":1,"score":0,"last_activity_date":1688619293,"creation_date":1688557551,"question_id":76619987,"body_markdown":"I have an existing PGP v 1.60 code in project. now I need to update to 1.70 and it&#39;s throwing following error while compiling the code after update.\r\n\r\n***incompatible types: java.util.Iterator&lt;org.bouncycastle.openpgp.PGPEncryptedData&gt; cannot be converted to java.util.Iterator&lt;org.bouncycastle.openpgp.PGPPublicKeyEncryptedData&gt;***\r\n\r\nGetting the error exactly in this line -&gt; ` Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();`\r\n\r\n\r\nKindly find the code sample below\r\n\r\n    public static void decryptFile(Input in, Output out,Input keyIn, char[] password) {\r\n        Security.addProvider(new BouncyCastleProvider());\r\n        in = org.bouncycastle.openpgp.PGPUtil.getDecoderStream(in);\r\n        KeyFingerPrintCalculator calc = new JcaKeyFingerprintCalculator();\r\n        PGPObjectFactory pgpF = new PGPObjectFactory(in,calc);\r\n        PGPEncryptedDataList enc;\r\n\r\n        Object o = pgpF.nextObject();\r\n        if (o instanceof PGPEncryptedDataList) {\r\n            enc = (PGPEncryptedDataList) o;\r\n        } else {\r\n            enc = (PGPEncryptedDataList) pgpF.nextObject();\r\n        }\r\n\r\n        Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects(); //getting error here\r\n        PGPPrivateKey key1 = null;\r\n        PGPPublicKeyEncryptedData key2 = null;\r\n\t}\r\n\r\n\r\ncan someone help me here please. ","title":"Bouncy Castle upgrade to 1.70 is not working","body":"<p>I have an existing PGP v 1.60 code in project. now I need to update to 1.70 and it's throwing following error while compiling the code after update.</p>\n<p><em><strong>incompatible types: java.util.Iterator&lt;org.bouncycastle.openpgp.PGPEncryptedData&gt; cannot be converted to java.util.Iterator&lt;org.bouncycastle.openpgp.PGPPublicKeyEncryptedData&gt;</strong></em></p>\n<p>Getting the error exactly in this line -&gt; <code> Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects();</code></p>\n<p>Kindly find the code sample below</p>\n<pre><code>public static void decryptFile(Input in, Output out,Input keyIn, char[] password) {\n    Security.addProvider(new BouncyCastleProvider());\n    in = org.bouncycastle.openpgp.PGPUtil.getDecoderStream(in);\n    KeyFingerPrintCalculator calc = new JcaKeyFingerprintCalculator();\n    PGPObjectFactory pgpF = new PGPObjectFactory(in,calc);\n    PGPEncryptedDataList enc;\n\n    Object o = pgpF.nextObject();\n    if (o instanceof PGPEncryptedDataList) {\n        enc = (PGPEncryptedDataList) o;\n    } else {\n        enc = (PGPEncryptedDataList) pgpF.nextObject();\n    }\n\n    Iterator&lt;PGPPublicKeyEncryptedData&gt; it = enc.getEncryptedDataObjects(); //getting error here\n    PGPPrivateKey key1 = null;\n    PGPPublicKeyEncryptedData key2 = null;\n}\n</code></pre>\n<p>can someone help me here please.</p>\n"},{"tags":["java","java-8","java-11"],"comments":[{"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"score":0,"creation_date":1688625683,"post_id":76625147,"comment_id":135099230,"body_markdown":"Does this answer your question? [How to set java --version corresponding to JAVA\\_HOME on Mac OS 12.6](https://stackoverflow.com/questions/76512739/how-to-set-java-version-corresponding-to-java-home-on-mac-os-12-6)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76512739/how-to-set-java-version-corresponding-to-java-home-on-mac-os-12-6\">How to set java --version corresponding to JAVA_HOME on Mac OS 12.6</a>"}],"answers":[{"tags":[],"owner":{"account_id":117745,"reputation":5429,"user_id":308219,"display_name":"Michael Konietzka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688614711,"creation_date":1688614711,"answer_id":76625337,"question_id":76625147,"body_markdown":"I use \r\njenv\r\nto switch between different java versions on mac.\r\n\r\n    &gt;brew info jenv\r\n    ==&gt; jenv: stable 0.5.6 (bottled), HEAD\r\n    Manage your Java environment\r\n    https://www.jenv.be/\r\n    /opt/homebrew/Cellar/jenv/0.5.6 (86 files, 78KB) *\r\n      Poured from bottle on 2023-02-15 at 07:31:25\r\n    From: https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/jenv.rb\r\n    License: MIT\r\n    ==&gt; Options\r\n    --HEAD\r\n    \tInstall HEAD version\r\n    ==&gt; Caveats\r\n    To activate jenv, add the following to your shell profile e.g. ~/.profile\r\n    or ~/.zshrc:\r\n      export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;\r\n      eval &quot;$(jenv init -)&quot;\r\n\r\n\r\nWith \r\n\r\n    jenv local 11.0\r\n\r\nor\r\n\r\n    jenv local 17.0\r\n\r\nfor example,\r\nI can switch do different versions of installed java.","title":"Can&#39;t switch Java version in mac","body":"<p>I use\njenv\nto switch between different java versions on mac.</p>\n<pre><code>&gt;brew info jenv\n==&gt; jenv: stable 0.5.6 (bottled), HEAD\nManage your Java environment\nhttps://www.jenv.be/\n/opt/homebrew/Cellar/jenv/0.5.6 (86 files, 78KB) *\n  Poured from bottle on 2023-02-15 at 07:31:25\nFrom: https://github.com/Homebrew/homebrew-core/blob/HEAD/Formula/jenv.rb\nLicense: MIT\n==&gt; Options\n--HEAD\n    Install HEAD version\n==&gt; Caveats\nTo activate jenv, add the following to your shell profile e.g. ~/.profile\nor ~/.zshrc:\n  export PATH=&quot;$HOME/.jenv/bin:$PATH&quot;\n  eval &quot;$(jenv init -)&quot;\n</code></pre>\n<p>With</p>\n<pre><code>jenv local 11.0\n</code></pre>\n<p>or</p>\n<pre><code>jenv local 17.0\n</code></pre>\n<p>for example,\nI can switch do different versions of installed java.</p>\n"},{"tags":[],"owner":{"account_id":11398864,"reputation":532,"user_id":9516742,"display_name":"Dinithi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688619254,"creation_date":1688619254,"answer_id":76625602,"question_id":76625147,"body_markdown":"I use https://sdkman.io/ to manage different java versions on my mac(M1).\r\n\r\nI&#39;ve installed several java versions using sdkman and it is easy to switch in between those versions using sdkman with one command.","title":"Can&#39;t switch Java version in mac","body":"<p>I use <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">https://sdkman.io/</a> to manage different java versions on my mac(M1).</p>\n<p>I've installed several java versions using sdkman and it is easy to switch in between those versions using sdkman with one command.</p>\n"}],"owner":{"account_id":5206435,"reputation":579,"user_id":4164192,"accept_rate":20,"display_name":"lecarpetron dookmarion"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688619254,"creation_date":1688610757,"question_id":76625147,"body_markdown":"I did my due diligence and researched. I followed the following steps:\r\n\r\n1. `/usr/libexec/java_home -V`\r\n\r\nresult was:\r\n\r\n    Matching Java Virtual Machines (2):\r\n        11.0.13 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 11.0.13&quot; /Library/Java/JavaVirtualMachines/jdk-11.0.13.jdk/Contents/Home\r\n        1.8.0_372 (x86_64) &quot;Homebrew&quot; - &quot;OpenJDK 8&quot; /usr/local/Cellar/openjdk@8/1.8.0+372/libexec/openjdk.jdk/Contents/Home\r\n\r\n\r\n\r\n2. export JAVA_HOME=`/usr/libexec/java_home -v 1.8.0_372`\r\n\r\n3. echo $JAVA_HOME \r\n\r\nresult was:\r\n\r\n    /usr/local/Cellar/openjdk@8/1.8.0+372/libexec/openjdk.jdk/Contents/Home\r\n\r\n\r\n4. But when I do java -version, the following result shows up:\r\n\r\n    java version &quot;11.0.13&quot; 2021-10-19 LTS\r\n    Java(TM) SE Runtime Environment 18.9 (build 11.0.13+10-LTS-370)\r\n    Java HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.13+10-LTS-370, mixed mode)\r\n\r\n\r\n\r\nResult shows default java is still Java 11. I want to switch it to use Java 1.8\r\n\r\nCan anyone help me on this?\r\n\r\n","title":"Can&#39;t switch Java version in mac","body":"<p>I did my due diligence and researched. I followed the following steps:</p>\n<ol>\n<li><code>/usr/libexec/java_home -V</code></li>\n</ol>\n<p>result was:</p>\n<pre><code>Matching Java Virtual Machines (2):\n    11.0.13 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 11.0.13&quot; /Library/Java/JavaVirtualMachines/jdk-11.0.13.jdk/Contents/Home\n    1.8.0_372 (x86_64) &quot;Homebrew&quot; - &quot;OpenJDK 8&quot; /usr/local/Cellar/openjdk@8/1.8.0+372/libexec/openjdk.jdk/Contents/Home\n</code></pre>\n<ol start=\"2\">\n<li><p>export JAVA_HOME=<code>/usr/libexec/java_home -v 1.8.0_372</code></p>\n</li>\n<li><p>echo $JAVA_HOME</p>\n</li>\n</ol>\n<p>result was:</p>\n<pre><code>/usr/local/Cellar/openjdk@8/1.8.0+372/libexec/openjdk.jdk/Contents/Home\n</code></pre>\n<ol start=\"4\">\n<li><p>But when I do java -version, the following result shows up:</p>\n<p>java version &quot;11.0.13&quot; 2021-10-19 LTS\nJava(TM) SE Runtime Environment 18.9 (build 11.0.13+10-LTS-370)\nJava HotSpot(TM) 64-Bit Server VM 18.9 (build 11.0.13+10-LTS-370, mixed mode)</p>\n</li>\n</ol>\n<p>Result shows default java is still Java 11. I want to switch it to use Java 1.8</p>\n<p>Can anyone help me on this?</p>\n"},{"tags":["java","java-8","nullable","option-type"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":10,"creation_date":1413195109,"post_id":26327957,"comment_id":41337761,"body_markdown":"The question is whether the nullablitity is unavoidable. A component may have a property which is allowed to be null, but still, the programmer using that component might decide to strictly keep that property non-`null`. So the programmer shouldnt have to deal with `Optional` then. Or, in other words, does `null` really represent the absence of a value like with the result of a search (where `Optional` is appropriate) or is `null` just one member of the set of possible values.","body":"The question is whether the nullablitity is unavoidable. A component may have a property which is allowed to be null, but still, the programmer using that component might decide to strictly keep that property non-<code>null</code>. So the programmer shouldnt have to deal with <code>Optional</code> then. Or, in other words, does <code>null</code> really represent the absence of a value like with the result of a search (where <code>Optional</code> is appropriate) or is <code>null</code> just one member of the set of possible values."},{"owner":{"account_id":467725,"reputation":19389,"user_id":873282,"accept_rate":55,"display_name":"koppor"},"score":2,"creation_date":1500555500,"post_id":26327957,"comment_id":77396922,"body_markdown":"See also the discussion on `@NotNull` annotations: https://stackoverflow.com/q/4963300/873282","body":"See also the discussion on <code>@NotNull</code> annotations: <a href=\"https://stackoverflow.com/q/4963300/873282\">stackoverflow.com/q/4963300/873282</a>"}],"answers":[{"tags":[],"owner":{"account_id":1164311,"reputation":1961,"user_id":1143246,"accept_rate":43,"display_name":"Claas Wilke"},"down_vote_count":2,"up_vote_count":27,"is_accepted":false,"score":25,"last_activity_date":1413135816,"creation_date":1413135816,"answer_id":26328100,"question_id":26327957,"body_markdown":"I&#39;d say in general its a good idea to use the optional type for return values that can be nullable. However, w.r.t. to frameworks I assume that replacing classical getters with optional types will cause a lot of trouble when working with frameworks (e.g., Hibernate) that rely on coding conventions for getters and setters.","title":"Should Java 8 getters return optional type?","body":"<p>I'd say in general its a good idea to use the optional type for return values that can be nullable. However, w.r.t. to frameworks I assume that replacing classical getters with optional types will cause a lot of trouble when working with frameworks (e.g., Hibernate) that rely on coding conventions for getters and setters.</p>\n"},{"tags":[],"owner":{"account_id":2625531,"reputation":1988,"user_id":2272617,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":87,"is_accepted":false,"score":87,"last_activity_date":1536092428,"creation_date":1413137268,"answer_id":26328314,"question_id":26327957,"body_markdown":"After doing a bit of research of my own, I&#39;ve come across a number of things that might suggest when this is appropriate. The most authoritative being the following quote from an Oracle article:\r\n\r\n&gt;*&quot;It is important to note that the intention of the Optional class is **not to replace every single null reference**. Instead, its purpose is to help design **more-comprehensible APIs** so that by just reading the signature of a method, you can tell whether you can expect an optional value. This forces you to actively unwrap an Optional to deal with the absence of a value.&quot;* - [Tired of Null Pointer Exceptions? Consider Using Java SE 8&#39;s Optional!](http://www.oracle.com/technetwork/articles/java/java8-optional-2175753.html)\r\n\r\nI also found this excerpt from [Java 8 Optional: How to use it](https://dzone.com/articles/java-8-optional-how-use-it)\r\n\r\n&gt;*&quot;Optional is not meant to be used in these contexts, as it won&#39;t buy us anything:*\r\n\r\n&gt;- *in the domain model layer (not serializable)*\r\n- *in DTOs (same reason)*\r\n- *in input parameters of methods*\r\n- *in constructor parameters&quot;*\r\n\r\nWhich also seems to raise some valid points.\r\n\r\nI wasn&#39;t able to find any negative connotations or red flags to suggest that `Optional` should be avoided. I think the general idea is, if it&#39;s helpful or improves the usability of your API, use it.","title":"Should Java 8 getters return optional type?","body":"<p>After doing a bit of research of my own, I've come across a number of things that might suggest when this is appropriate. The most authoritative being the following quote from an Oracle article:</p>\n\n<blockquote>\n  <p><em>\"It is important to note that the intention of the Optional class is <strong>not to replace every single null reference</strong>. Instead, its purpose is to help design <strong>more-comprehensible APIs</strong> so that by just reading the signature of a method, you can tell whether you can expect an optional value. This forces you to actively unwrap an Optional to deal with the absence of a value.\"</em> - <a href=\"http://www.oracle.com/technetwork/articles/java/java8-optional-2175753.html\" rel=\"noreferrer\">Tired of Null Pointer Exceptions? Consider Using Java SE 8's Optional!</a></p>\n</blockquote>\n\n<p>I also found this excerpt from <a href=\"https://dzone.com/articles/java-8-optional-how-use-it\" rel=\"noreferrer\">Java 8 Optional: How to use it</a></p>\n\n<blockquote>\n  <p><em>\"Optional is not meant to be used in these contexts, as it won't buy us anything:</em></p>\n  \n  <ul>\n  <li><em>in the domain model layer (not serializable)</em></li>\n  <li><em>in DTOs (same reason)</em></li>\n  <li><em>in input parameters of methods</em></li>\n  <li><em>in constructor parameters\"</em></li>\n  </ul>\n</blockquote>\n\n<p>Which also seems to raise some valid points.</p>\n\n<p>I wasn't able to find any negative connotations or red flags to suggest that <code>Optional</code> should be avoided. I think the general idea is, if it's helpful or improves the usability of your API, use it.</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":9,"up_vote_count":696,"is_accepted":true,"score":687,"last_activity_date":1536755035,"creation_date":1413138974,"answer_id":26328555,"question_id":26327957,"body_markdown":"Of course, people will do what they want.  But we did have a clear intention when adding this feature, and it was *not* to be a general purpose Maybe type, as much as many people would have liked us to do so.  Our intention was to provide a limited mechanism for library method return types where there needed to be a clear way to represent &quot;no result&quot;, and using `null` for such was overwhelmingly likely to cause errors.  \r\n\r\nFor example, you probably should never use it for something that returns an array of results, or a list of results; instead return an empty array or list.  You should almost never use it as a field of something or a method parameter.\r\n\r\nI think routinely using it as a return value for getters would definitely be over-use.  \r\n\r\nThere&#39;s nothing *wrong* with Optional that it should be avoided, it&#39;s just not what many people wish it were, and accordingly we were fairly concerned about the risk of zealous over-use.\r\n\r\n(Public service announcement: *NEVER* call `Optional.get` unless you can prove it will never be null; instead use one of the safe methods like `orElse` or `ifPresent`.  In retrospect, we should have called `get` something like `getOrElseThrowNoSuchElementException` or something that made it far clearer that this was a highly dangerous method that undermined the whole purpose of `Optional` in the first place.  Lesson learned.  (UPDATE: Java 10 has `Optional.orElseThrow()`, which is semantically equivalent to `get()`, but whose name is more appropriate.))","title":"Should Java 8 getters return optional type?","body":"<p>Of course, people will do what they want.  But we did have a clear intention when adding this feature, and it was <em>not</em> to be a general purpose Maybe type, as much as many people would have liked us to do so.  Our intention was to provide a limited mechanism for library method return types where there needed to be a clear way to represent \"no result\", and using <code>null</code> for such was overwhelmingly likely to cause errors.  </p>\n\n<p>For example, you probably should never use it for something that returns an array of results, or a list of results; instead return an empty array or list.  You should almost never use it as a field of something or a method parameter.</p>\n\n<p>I think routinely using it as a return value for getters would definitely be over-use.  </p>\n\n<p>There's nothing <em>wrong</em> with Optional that it should be avoided, it's just not what many people wish it were, and accordingly we were fairly concerned about the risk of zealous over-use.</p>\n\n<p>(Public service announcement: <em>NEVER</em> call <code>Optional.get</code> unless you can prove it will never be null; instead use one of the safe methods like <code>orElse</code> or <code>ifPresent</code>.  In retrospect, we should have called <code>get</code> something like <code>getOrElseThrowNoSuchElementException</code> or something that made it far clearer that this was a highly dangerous method that undermined the whole purpose of <code>Optional</code> in the first place.  Lesson learned.  (UPDATE: Java 10 has <code>Optional.orElseThrow()</code>, which is semantically equivalent to <code>get()</code>, but whose name is more appropriate.))</p>\n"},{"tags":[],"owner":{"account_id":4382227,"reputation":2318,"user_id":3573553,"display_name":"Mark"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1501442432,"creation_date":1501442432,"answer_id":45403766,"question_id":26327957,"body_markdown":"*If* you are using modern serializers and other frameworks that understand `Optional` then I have found these *guidelines* work well when writing `Entity` beans and domain layers:\r\n\r\n 1. If the serialization layer (usually a DB) allows a `null` value for a cell in column `BAR` in table `FOO`, then the getter `Foo.getBar()` can return `Optional` indicating to the developer that this value may reasonably be expected to be null and they should handle this. If the DB guarantees the value will not be null then the getter should **not** wrap this in an `Optional`.\r\n 2. `Foo.bar` should be `private` and **not** be `Optional`. There&#39;s really no reason for it to be `Optional` if it is `private`.\r\n 3. The setter `Foo.setBar(String bar)` should take the type of `bar` and **not** `Optional`. If it&#39;s OK to use a `null` argument then state this in the JavaDoc comment. If it&#39;s not OK to use `null` an `IllegalArgumentException` or some appropriate business logic is, IMHO, more appropriate. \r\n 4. Constructors don&#39;t need `Optional` arguments (for reasons similar to point 3). Generally I only include arguments in the constructor that **must** be non-null in the serialization database.\r\n\r\nTo make the above more efficient, you might want to edit your IDE templates for generating getters and corresponding templates for `toString()`, `equals(Obj o)` etc. or use fields directly for those (most IDE generators already deal with nulls).","title":"Should Java 8 getters return optional type?","body":"<p><em>If</em> you are using modern serializers and other frameworks that understand <code>Optional</code> then I have found these <em>guidelines</em> work well when writing <code>Entity</code> beans and domain layers:</p>\n\n<ol>\n<li>If the serialization layer (usually a DB) allows a <code>null</code> value for a cell in column <code>BAR</code> in table <code>FOO</code>, then the getter <code>Foo.getBar()</code> can return <code>Optional</code> indicating to the developer that this value may reasonably be expected to be null and they should handle this. If the DB guarantees the value will not be null then the getter should <strong>not</strong> wrap this in an <code>Optional</code>.</li>\n<li><code>Foo.bar</code> should be <code>private</code> and <strong>not</strong> be <code>Optional</code>. There's really no reason for it to be <code>Optional</code> if it is <code>private</code>.</li>\n<li>The setter <code>Foo.setBar(String bar)</code> should take the type of <code>bar</code> and <strong>not</strong> <code>Optional</code>. If it's OK to use a <code>null</code> argument then state this in the JavaDoc comment. If it's not OK to use <code>null</code> an <code>IllegalArgumentException</code> or some appropriate business logic is, IMHO, more appropriate. </li>\n<li>Constructors don't need <code>Optional</code> arguments (for reasons similar to point 3). Generally I only include arguments in the constructor that <strong>must</strong> be non-null in the serialization database.</li>\n</ol>\n\n<p>To make the above more efficient, you might want to edit your IDE templates for generating getters and corresponding templates for <code>toString()</code>, <code>equals(Obj o)</code> etc. or use fields directly for those (most IDE generators already deal with nulls).</p>\n"},{"tags":[],"owner":{"account_id":2309641,"reputation":4648,"user_id":2028066,"accept_rate":52,"display_name":"MiguelMunoz"},"down_vote_count":2,"up_vote_count":29,"is_accepted":false,"score":27,"last_activity_date":1538796586,"creation_date":1531539103,"answer_id":51335001,"question_id":26327957,"body_markdown":"The reason `Optional` was added to Java is because this:\r\n\r\n    return Arrays.asList(enclosingInfo.getEnclosingClass().getDeclaredMethods())\r\n        .stream()\r\n        .filter(m -&gt; Objects.equals(m.getName(), enclosingInfo.getName())\r\n        .filter(m -&gt;  Arrays.equals(m.getParameterTypes(), parameterClasses))\r\n        .filter(m -&gt; Objects.equals(m.getReturnType(), returnType))\r\n        .findFirst()\r\n        .getOrThrow(() -&gt; new InternalError(...));\r\n\r\nis cleaner than this:\r\n\r\n    Method matching =\r\n        Arrays.asList(enclosingInfo.getEnclosingClass().getDeclaredMethods())\r\n        .stream()\r\n        .filter(m -&gt; Objects.equals(m.getName(), enclosingInfo.getName())\r\n        .filter(m -&gt;  Arrays.equals(m.getParameterTypes(), parameterClasses))\r\n        .filter(m -&gt; Objects.equals(m.getReturnType(), returnType))\r\n        .getFirst();\r\n    if (matching == null)\r\n      throw new InternalError(&quot;Enclosing method not found&quot;);\r\n    return matching;\r\n\r\nMy point is that *Optional was written to support functional programming*, which was added to Java at the same time. (The example comes courtesy of a [blog by Brian Goetz](http://mail.openjdk.java.net/pipermail/lambda-dev/2012-September/005952.html). A better example might use the `orElse()` method, since this code will throw an exception anyway, but you get the picture.)\r\n\r\nBut now, people are using Optional for a very different reason. They&#39;re using it to address a flaw in the language design. The flaw is this: There&#39;s no way to specify which of an API&#39;s parameters and return values are allowed to be null. It may be mentioned in the javadocs, but most developers don&#39;t even write javadocs for their code, and not many will check the javadocs as they write. So this leads to a lot of code that always checks for null values before using them, even though they often can&#39;t possibly be null because they were already validated repeatedly nine or ten times up the call stack.\r\n\r\nI think there was a real thirst to solve this flaw, because so many people who saw the new Optional class assumed its purpose was to add clarity to APIs. Which is why people ask questions like &quot;should getters return Optionals?&quot; No, they probably shouldn&#39;t, unless you expect the getter to be used in functional programming, which is very unlikely. In fact, if you look at where Optional is used in the Java API, it&#39;s mainly in the Stream classes, which are the core of functional programming. (I haven&#39;t checked very thoroughly, but the Stream classes might be the *only* place they&#39;re used.)\r\n\r\nIf you do plan to use a getter in a bit of functional code, it might be a good idea to have a standard getter and a second one that returns Optional.\r\n\r\nOh, and if you need your class to be serializable, you should absolutely not use Optional.\r\n\r\nOptionals are a very bad solution to the API flaw because a) they&#39;re very verbose, and b) They were never intended to solve that problem in the first place.\r\n\r\nA much better solution to the API flaw is the [Nullness Checker][1]. This is an annotation processor that lets you specify which parameters and return values are allowed to be null by annotating them with @Nullable. This way, the compiler can scan the code and figure out if a value that can actually be null is being passed to a value where null is not allowed. By default, it assumes nothing is allowed to be null unless it&#39;s annotated so. This way, you don&#39;t have to worry about null values. Passing a null value to a parameter will result in a compiler error. Testing an object for null that can&#39;t be null produces a compiler warning. The effect of this is to change NullPointerException from a runtime error to a compile-time error.\r\n\r\nThis changes everything.\r\n\r\nAs for your getters, don&#39;t use Optional. And try to design your classes so none of the members can possibly be null. And maybe try adding the Nullness Checker to your project and declaring your getters and setter parameters @Nullable if they need it. I&#39;ve only done this with new projects. It probably produces a lot of warnings in existing projects written with lots of superfluous tests for null, so it might be tough to retrofit. But it will also catch a lot of bugs. I love it. My code is much cleaner and more reliable because of it.\r\n\r\n(There is also a new language that addresses this. Kotlin, which compiles to Java byte code, allows you to specify if an object may be null when you declare it. It&#39;s a cleaner approach.)\r\n\r\n**Addendum to Original Post (version 2)**\r\n\r\nAfter giving it a lot of thought, I have reluctantly come to the conclusion that it&#39;s acceptable to return Optional on one condition: That the value retrieved might actually be null. I have seen a lot of code where people routinely return Optional from getters that can&#39;t possibly return null. I see this as a very bad coding practice that only adds complexity to the code, which makes bugs more likely. But when the returned value might actually be null, go ahead and wrap it inside an Optional.\r\n\r\nKeep in mind that methods that are designed for functional programming, and that require a function reference, will (and should) be written in two forms, one of which uses Optional. For example, `Optional.map()` and `Optional.flatMap()` both take function references. The first takes a reference to an ordinary getter, and the second takes one that returns Optional. So you&#39;re not doing anyone a favor by return an Optional where the value can&#39;t be null.\r\n\r\nHaving said all that, I still see the approach used by the [Nullness Checker][1] is the best way to deal with nulls, since they turn NullPointerExceptions from runtime bugs to compile time errors.\r\n\r\n  [1]: https://checkerframework.org/manual/#nullness-checker","title":"Should Java 8 getters return optional type?","body":"<p>The reason <code>Optional</code> was added to Java is because this:</p>\n\n<pre><code>return Arrays.asList(enclosingInfo.getEnclosingClass().getDeclaredMethods())\n    .stream()\n    .filter(m -&gt; Objects.equals(m.getName(), enclosingInfo.getName())\n    .filter(m -&gt;  Arrays.equals(m.getParameterTypes(), parameterClasses))\n    .filter(m -&gt; Objects.equals(m.getReturnType(), returnType))\n    .findFirst()\n    .getOrThrow(() -&gt; new InternalError(...));\n</code></pre>\n\n<p>is cleaner than this:</p>\n\n<pre><code>Method matching =\n    Arrays.asList(enclosingInfo.getEnclosingClass().getDeclaredMethods())\n    .stream()\n    .filter(m -&gt; Objects.equals(m.getName(), enclosingInfo.getName())\n    .filter(m -&gt;  Arrays.equals(m.getParameterTypes(), parameterClasses))\n    .filter(m -&gt; Objects.equals(m.getReturnType(), returnType))\n    .getFirst();\nif (matching == null)\n  throw new InternalError(\"Enclosing method not found\");\nreturn matching;\n</code></pre>\n\n<p>My point is that <em>Optional was written to support functional programming</em>, which was added to Java at the same time. (The example comes courtesy of a <a href=\"http://mail.openjdk.java.net/pipermail/lambda-dev/2012-September/005952.html\" rel=\"noreferrer\">blog by Brian Goetz</a>. A better example might use the <code>orElse()</code> method, since this code will throw an exception anyway, but you get the picture.)</p>\n\n<p>But now, people are using Optional for a very different reason. They're using it to address a flaw in the language design. The flaw is this: There's no way to specify which of an API's parameters and return values are allowed to be null. It may be mentioned in the javadocs, but most developers don't even write javadocs for their code, and not many will check the javadocs as they write. So this leads to a lot of code that always checks for null values before using them, even though they often can't possibly be null because they were already validated repeatedly nine or ten times up the call stack.</p>\n\n<p>I think there was a real thirst to solve this flaw, because so many people who saw the new Optional class assumed its purpose was to add clarity to APIs. Which is why people ask questions like \"should getters return Optionals?\" No, they probably shouldn't, unless you expect the getter to be used in functional programming, which is very unlikely. In fact, if you look at where Optional is used in the Java API, it's mainly in the Stream classes, which are the core of functional programming. (I haven't checked very thoroughly, but the Stream classes might be the <em>only</em> place they're used.)</p>\n\n<p>If you do plan to use a getter in a bit of functional code, it might be a good idea to have a standard getter and a second one that returns Optional.</p>\n\n<p>Oh, and if you need your class to be serializable, you should absolutely not use Optional.</p>\n\n<p>Optionals are a very bad solution to the API flaw because a) they're very verbose, and b) They were never intended to solve that problem in the first place.</p>\n\n<p>A much better solution to the API flaw is the <a href=\"https://checkerframework.org/manual/#nullness-checker\" rel=\"noreferrer\">Nullness Checker</a>. This is an annotation processor that lets you specify which parameters and return values are allowed to be null by annotating them with @Nullable. This way, the compiler can scan the code and figure out if a value that can actually be null is being passed to a value where null is not allowed. By default, it assumes nothing is allowed to be null unless it's annotated so. This way, you don't have to worry about null values. Passing a null value to a parameter will result in a compiler error. Testing an object for null that can't be null produces a compiler warning. The effect of this is to change NullPointerException from a runtime error to a compile-time error.</p>\n\n<p>This changes everything.</p>\n\n<p>As for your getters, don't use Optional. And try to design your classes so none of the members can possibly be null. And maybe try adding the Nullness Checker to your project and declaring your getters and setter parameters @Nullable if they need it. I've only done this with new projects. It probably produces a lot of warnings in existing projects written with lots of superfluous tests for null, so it might be tough to retrofit. But it will also catch a lot of bugs. I love it. My code is much cleaner and more reliable because of it.</p>\n\n<p>(There is also a new language that addresses this. Kotlin, which compiles to Java byte code, allows you to specify if an object may be null when you declare it. It's a cleaner approach.)</p>\n\n<p><strong>Addendum to Original Post (version 2)</strong></p>\n\n<p>After giving it a lot of thought, I have reluctantly come to the conclusion that it's acceptable to return Optional on one condition: That the value retrieved might actually be null. I have seen a lot of code where people routinely return Optional from getters that can't possibly return null. I see this as a very bad coding practice that only adds complexity to the code, which makes bugs more likely. But when the returned value might actually be null, go ahead and wrap it inside an Optional.</p>\n\n<p>Keep in mind that methods that are designed for functional programming, and that require a function reference, will (and should) be written in two forms, one of which uses Optional. For example, <code>Optional.map()</code> and <code>Optional.flatMap()</code> both take function references. The first takes a reference to an ordinary getter, and the second takes one that returns Optional. So you're not doing anyone a favor by return an Optional where the value can't be null.</p>\n\n<p>Having said all that, I still see the approach used by the <a href=\"https://checkerframework.org/manual/#nullness-checker\" rel=\"noreferrer\">Nullness Checker</a> is the best way to deal with nulls, since they turn NullPointerExceptions from runtime bugs to compile time errors.</p>\n"},{"tags":[],"owner":{"account_id":112963,"reputation":28051,"user_id":297776,"accept_rate":94,"display_name":"soc"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1645109592,"creation_date":1645102417,"answer_id":71158515,"question_id":26327957,"body_markdown":"**You have to keep in mind that the often-cited advice came from people who had little experience outside Java, with option types, or with functional programming.**\r\n\r\nSo take it with a grain of salt. Instead, let&#39;s look at it from the &quot;good practice&quot; perspective:\r\n\r\nGood practice not only means asking &quot;how do we write new code?&quot;, but also &quot;what happens to existing code?&quot;.\r\n\r\nIn the case of `Optional`, my environment found a good and easy to follow answer:\r\n\r\n&gt; **`Optional` is mandatory to indicate optional values in `records`:**\r\n&gt; \r\n&gt; ```java\r\n&gt; record Pet(String name, Optional&lt;Breed&gt; breed,\r\n&gt; Optional&lt;ZonedDateTime&gt; dateOfBirth)\r\n&gt; ```\r\n\r\nThis means that existing code is good as-is, but code that makes use of `record` (that is, &quot;new code&quot;) causes widespread adoption of `Optional` around it.\r\n\r\nThe result has been a complete success in terms of readability and reliability. Just stop using `null`.","title":"Should Java 8 getters return optional type?","body":"<p><strong>You have to keep in mind that the often-cited advice came from people who had little experience outside Java, with option types, or with functional programming.</strong></p>\n<p>So take it with a grain of salt. Instead, let's look at it from the &quot;good practice&quot; perspective:</p>\n<p>Good practice not only means asking &quot;how do we write new code?&quot;, but also &quot;what happens to existing code?&quot;.</p>\n<p>In the case of <code>Optional</code>, my environment found a good and easy to follow answer:</p>\n<blockquote>\n<p><strong><code>Optional</code> is mandatory to indicate optional values in <code>records</code>:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>record Pet(String name, Optional&lt;Breed&gt; breed,\nOptional&lt;ZonedDateTime&gt; dateOfBirth)\n</code></pre>\n</blockquote>\n<p>This means that existing code is good as-is, but code that makes use of <code>record</code> (that is, &quot;new code&quot;) causes widespread adoption of <code>Optional</code> around it.</p>\n<p>The result has been a complete success in terms of readability and reliability. Just stop using <code>null</code>.</p>\n"},{"tags":[],"owner":{"display_name":"user22182791"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688619227,"creation_date":1688619227,"answer_id":76625598,"question_id":26327957,"body_markdown":"TL;DR Yes, it should per need basis.\r\n\r\n`Optional` being a fluent interface design pattern implementation, or a fluid programming technique, the question could be a generic one. Is implementation of design patterns a good practice?\r\n\r\nFrom maintenance and extensibility perspectives it is a good practice, from a computer science perspective design patterns are less efficient. Java programming language being a high level programming language the efficiency is a concern for its running context (JVM implemented by JRE) that could change in time regardless of the design patterns implemented in applications it is used to write, thus the main concerns of Java applications by design are maintenance and extensibility.","title":"Should Java 8 getters return optional type?","body":"<p>TL;DR Yes, it should per need basis.</p>\n<p><code>Optional</code> being a fluent interface design pattern implementation, or a fluid programming technique, the question could be a generic one. Is implementation of design patterns a good practice?</p>\n<p>From maintenance and extensibility perspectives it is a good practice, from a computer science perspective design patterns are less efficient. Java programming language being a high level programming language the efficiency is a concern for its running context (JVM implemented by JRE) that could change in time regardless of the design patterns implemented in applications it is used to write, thus the main concerns of Java applications by design are maintenance and extensibility.</p>\n"}],"owner":{"account_id":908501,"reputation":4688,"user_id":942899,"accept_rate":86,"display_name":"leonprou"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99326,"favorite_count":0,"down_vote_count":3,"up_vote_count":369,"accepted_answer_id":26328555,"answer_count":7,"score":366,"last_activity_date":1688619227,"creation_date":1413135018,"question_id":26327957,"body_markdown":"`Optional` type introduced in Java 8 is a new thing for many developers.\r\n\r\nIs a getter method returning `Optional&lt;Foo&gt;` type in place of the classic `Foo` a good practice? Assume that the value can be `null`.","title":"Should Java 8 getters return optional type?","body":"<p><code>Optional</code> type introduced in Java 8 is a new thing for many developers.</p>\n\n<p>Is a getter method returning <code>Optional&lt;Foo&gt;</code> type in place of the classic <code>Foo</code> a good practice? Assume that the value can be <code>null</code>.</p>\n"},{"tags":["java","android","android-button","material-components-android"],"answers":[{"tags":[],"owner":{"account_id":17244156,"reputation":141,"user_id":12485825,"display_name":"Anh Tran"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688618646,"creation_date":1688618646,"answer_id":76625558,"question_id":76625303,"body_markdown":"The names that you see on the official site are just custom styleable attribute names which is used for that View. \r\n\r\nYou can learn more about it in this link: https://developer.android.com/develop/ui/views/layout/custom-views/create-view#customattr\r\n\r\nIn XML, you can just simply use `app:icon=&quot;@drawable/icon&quot;` instead of `app:MaterialButton_icon=&quot;@drawable/icon&quot;` for example.\r\n\r\nIf you cannot find those methods in the code, please check your project dependencies to make sure it has Google Material dependency. Or if you are using Kotlin, the method like `setIcon` or `getIcon` is simply `icon` property without any functions.\r\n\r\nHope this can resolve your problems","title":"What are these bunch of non-existence methods in material button google reference?","body":"<p>The names that you see on the official site are just custom styleable attribute names which is used for that View.</p>\n<p>You can learn more about it in this link: <a href=\"https://developer.android.com/develop/ui/views/layout/custom-views/create-view#customattr\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/layout/custom-views/create-view#customattr</a></p>\n<p>In XML, you can just simply use <code>app:icon=&quot;@drawable/icon&quot;</code> instead of <code>app:MaterialButton_icon=&quot;@drawable/icon&quot;</code> for example.</p>\n<p>If you cannot find those methods in the code, please check your project dependencies to make sure it has Google Material dependency. Or if you are using Kotlin, the method like <code>setIcon</code> or <code>getIcon</code> is simply <code>icon</code> property without any functions.</p>\n<p>Hope this can resolve your problems</p>\n"},{"tags":[],"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688618947,"creation_date":1688618947,"answer_id":76625576,"question_id":76625303,"body_markdown":"I don&#39;t know what is that highlighted `MaterialButtom_icon` attribute but it seems that you are using `Button` instead of `MaterialButton` in your java code. The correct declaration of material button is as:\r\n \r\n\r\n    MaterialButton button = findViewById(R.id.your_material_button_id);\r\n\r\nAnd **Not**\r\n\r\n    Button button = findViewById(R.id.your_material_button_id);\r\n\r\nBy the correct declaration then we have:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/enfcR.png","title":"What are these bunch of non-existence methods in material button google reference?","body":"<p>I don't know what is that highlighted <code>MaterialButtom_icon</code> attribute but it seems that you are using <code>Button</code> instead of <code>MaterialButton</code> in your java code. The correct declaration of material button is as:</p>\n<pre><code>MaterialButton button = findViewById(R.id.your_material_button_id);\n</code></pre>\n<p>And <strong>Not</strong></p>\n<pre><code>Button button = findViewById(R.id.your_material_button_id);\n</code></pre>\n<p>By the correct declaration then we have:</p>\n<p><a href=\"https://i.stack.imgur.com/enfcR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/enfcR.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27761018,"reputation":71,"user_id":21193451,"display_name":"user21193451"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76625576,"answer_count":2,"score":0,"last_activity_date":1688618947,"creation_date":1688613973,"question_id":76625303,"body_markdown":"I tried to change material button icon programmatically and for this, Stackoverflow posts suggest that there is a frangible method called `setCompoundDrawablesWithIntrinsicBounds`.\r\n\r\nI tried to find more methods on the official sites e.g. [developer.android.com](https://developer.android.com) and GitHub, But oddly I find methods and XML-attributes that do not exists at all.  For example [this page](https://developer.android.com/reference/com/google/android/material/button/MaterialButton#attr_MaterialButton_icon) suggests the following:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/iSqbF.png)](https://i.stack.imgur.com/iSqbF.png)\r\n\r\n\r\n\r\nAs I know, There is no `app:MaterialButton_icon` nor `android:MaterialButton_icon` attributes for XML. Also there is no `setIconResource(int)` method (in Java 8).\r\n\r\nWhat are these odd reference documents?","title":"What are these bunch of non-existence methods in material button google reference?","body":"<p>I tried to change material button icon programmatically and for this, Stackoverflow posts suggest that there is a frangible method called <code>setCompoundDrawablesWithIntrinsicBounds</code>.</p>\n<p>I tried to find more methods on the official sites e.g. <a href=\"https://developer.android.com\" rel=\"nofollow noreferrer\">developer.android.com</a> and GitHub, But oddly I find methods and XML-attributes that do not exists at all.  For example <a href=\"https://developer.android.com/reference/com/google/android/material/button/MaterialButton#attr_MaterialButton_icon\" rel=\"nofollow noreferrer\">this page</a> suggests the following:</p>\n<p><a href=\"https://i.stack.imgur.com/iSqbF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iSqbF.png\" alt=\"enter image description here\" /></a></p>\n<p>As I know, There is no <code>app:MaterialButton_icon</code> nor <code>android:MaterialButton_icon</code> attributes for XML. Also there is no <code>setIconResource(int)</code> method (in Java 8).</p>\n<p>What are these odd reference documents?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":1,"creation_date":1688387477,"post_id":76604695,"comment_id":135063226,"body_markdown":"You might want to use a tool like JMH (Java Microbenchmarking Harness) to benchmark code to measure performance","body":"You might want to use a tool like JMH (Java Microbenchmarking Harness) to benchmark code to measure performance"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1688387503,"post_id":76604695,"comment_id":135063231,"body_markdown":"`byteArray = Integer.toString(value).getBytes()` is more direct","body":"<code>byteArray = Integer.toString(value).getBytes()</code> is more direct"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1688387740,"post_id":76604695,"comment_id":135063278,"body_markdown":"@g00se What do you mean by &quot;more direct&quot;? Fewer LoC? It&#39;s inherently *indirect* because you&#39;re creating a String instance for a task that doesn&#39;t require one.","body":"@g00se What do you mean by &quot;more direct&quot;? Fewer LoC? It&#39;s inherently <i>indirect</i> because you&#39;re creating a String instance for a task that doesn&#39;t require one."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688387957,"post_id":76604695,"comment_id":135063323,"body_markdown":"@Michael I meant less verbose. The code is already creating a string. If any OP is minutely interested in optimizing this kind of thing, he/she *really* shouldn&#39;t be using Java in the first place ;)","body":"@Michael I meant less verbose. The code is already creating a string. If any OP is minutely interested in optimizing this kind of thing, he/she <i>really</i> shouldn&#39;t be using Java in the first place ;)"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1688388008,"post_id":76604695,"comment_id":135063335,"body_markdown":"@g00se And he acknowledges that it&#39;s bad. So yes, your solution is minorly less bad than something self-admittedly bad.","body":"@g00se And he acknowledges that it&#39;s bad. So yes, your solution is minorly less bad than something self-admittedly bad."},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":2,"creation_date":1688388684,"post_id":76604695,"comment_id":135063482,"body_markdown":"@g00se There&#39;s a trillion-dollar finance industry built mostly on Java. Just because you don&#39;t personally work on applications that have things like this on the hot path doesn&#39;t mean that nobody does.","body":"@g00se There&#39;s a trillion-dollar finance industry built mostly on Java. Just because you don&#39;t personally work on applications that have things like this on the hot path doesn&#39;t mean that nobody does."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688388499,"creation_date":1688388079,"answer_id":76604849,"question_id":76604695,"body_markdown":"The main problem here is extracting individual decimal digits from a number that is stored in binary. The easiest way is to convert it into a human-readable form (a String essentially), then iterating over the digits. But that is what you want to avoid\r\n\r\nYou can also handle each digit one by one by using the modulo operator, which spits out the last digit on each iteration. So you need to reverse the order of the output.\r\n\r\n\r\n```\r\npublic static byte[] digitsToAsciiArr(int value) {\r\n    Stack&lt;Byte&gt; stack = new Stack&lt;&gt;();\r\n    while(value != 0) {\r\n      //this gets the last digit:\r\n      int digit = value%10;\r\n      //the +48 shifts the digit to its ascii value\r\n      stack.push((byte) (digit+48));\r\n      value /= 10;\r\n    }\r\n    //since the loop above handles the digits from last to first,\r\n    // a stack is used to reverse the order for the output.\r\n    //From here, just convert the stack to a byte[]\r\n    //If you are fine returning Byte[] instead of byte[],\r\n    // this can be shortened to just\r\n    // return stack.toArray(Byte[]::new);\r\n    byte[] ret = new byte[stack.size()];\r\n    int index = 0;\r\n    while(!stack.isEmpty()) {\r\n      ret[index++] = stack.pop();\r\n    }\r\n    return ret;\r\n  }\r\n```","title":"Most efficient way to convert digits in an int to ASCII values?","body":"<p>The main problem here is extracting individual decimal digits from a number that is stored in binary. The easiest way is to convert it into a human-readable form (a String essentially), then iterating over the digits. But that is what you want to avoid</p>\n<p>You can also handle each digit one by one by using the modulo operator, which spits out the last digit on each iteration. So you need to reverse the order of the output.</p>\n<pre><code>public static byte[] digitsToAsciiArr(int value) {\n    Stack&lt;Byte&gt; stack = new Stack&lt;&gt;();\n    while(value != 0) {\n      //this gets the last digit:\n      int digit = value%10;\n      //the +48 shifts the digit to its ascii value\n      stack.push((byte) (digit+48));\n      value /= 10;\n    }\n    //since the loop above handles the digits from last to first,\n    // a stack is used to reverse the order for the output.\n    //From here, just convert the stack to a byte[]\n    //If you are fine returning Byte[] instead of byte[],\n    // this can be shortened to just\n    // return stack.toArray(Byte[]::new);\n    byte[] ret = new byte[stack.size()];\n    int index = 0;\n    while(!stack.isEmpty()) {\n      ret[index++] = stack.pop();\n    }\n    return ret;\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688391861,"creation_date":1688389217,"answer_id":76604979,"question_id":76604695,"body_markdown":"Assuming only digits, non-negative numbers of at most 8 digits:\r\n\r\n    byte[] digits(int n) {\r\n        byte[] b = new byte[8];\r\n        int i = b.length - 1;\r\n        while (n != 0) {\r\n            b[i] = (byte)(&#39;0&#39;| (n % 10));\r\n            --i;\r\n            n /= 10;\r\n        }\r\n        return b;\r\n    }\r\n\r\nThe special cases not dealt with:\r\n- negative numbers\r\n- 0 which should yield 48; here 0\r\n- more than 8 digits\r\n\r\nIt is optimal as the loop exits on the number of digits.","title":"Most efficient way to convert digits in an int to ASCII values?","body":"<p>Assuming only digits, non-negative numbers of at most 8 digits:</p>\n<pre><code>byte[] digits(int n) {\n    byte[] b = new byte[8];\n    int i = b.length - 1;\n    while (n != 0) {\n        b[i] = (byte)('0'| (n % 10));\n        --i;\n        n /= 10;\n    }\n    return b;\n}\n</code></pre>\n<p>The special cases not dealt with:</p>\n<ul>\n<li>negative numbers</li>\n<li>0 which should yield 48; here 0</li>\n<li>more than 8 digits</li>\n</ul>\n<p>It is optimal as the loop exits on the number of digits.</p>\n"},{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688393015,"creation_date":1688390153,"answer_id":76605130,"question_id":76604695,"body_markdown":"Here&#39;s a relatively simple implementation. It doesn&#39;t support negative numbers, for simplicity. A version that does is below. Comments are in-line in the code.\r\n\r\n    public static byte[] asciiDigits(int value) {\r\n        if (value &lt; 0) throw new IllegalArgumentException();\r\n\r\n        // Iterate through least-significant digits first\r\n        byte[] reverseOrder = new byte[10]; \r\n        int digits = 0;\r\n        for (; value &gt; 0; ++digits) {\r\n            int digit = value % 10;\r\n            reverseOrder[digits] = (byte) (&#39;0&#39; + digit);\r\n            value /= 10;\r\n        }\r\n\r\n        // Now size down the array to the right size and reverse it\r\n        byte[] bytes = new byte[digits];\r\n        for (int i = 0; i &lt; digits; ++i) {\r\n            bytes[i] = reverseOrder[digits - i - 1];\r\n        }\r\n        return bytes;\r\n    }\r\n\r\nAnd this one supports negatives. The basic idea is to convert it to a positive number, do all the same steps, and append the minus sign.\r\n\r\n    public static byte[] asciiDigits(int value) {\r\n        boolean isNegative = false;\r\n        if (value &lt; 0) {\r\n            // The only value where the absolute value is not representable, so just hardcode the array\r\n            if (value == Integer.MIN_VALUE) {\r\n                return new byte[] { 45, 50, 49, 52, 55, 52, 56, 51, 54, 52, 56 };\r\n            }\r\n            value = -value;\r\n            isNegative = true;\r\n        }\r\n\r\n        // Iterate through least-significant digits first.\r\n        // We don&#39;t yet know how many digits there may be, but 10 is the most digits an int could have\r\n        byte[] reverseOrderBytes = new byte[10];\r\n        int digits = 0;\r\n        for (; value &gt; 0; ++digits) {\r\n            int digit = value % 10;\r\n            reverseOrderBytes[digits] = (byte) (&#39;0&#39; + digit);\r\n            value /= 10;\r\n        }\r\n\r\n        // Now reduce the size of the array to the correct size and reverse it, possibly prepending a minus sign\r\n        int signAdjustment = isNegative ? 1 : 0;\r\n        byte[] bytes = new byte[digits + signAdjustment];\r\n        if (isNegative) {\r\n            bytes[0] = 45; // minus sign\r\n        }\r\n        for (int i = 0; i &lt; digits; ++i) {\r\n            bytes[i + signAdjustment] = reverseOrderBytes[digits - i - 1];\r\n        }\r\n        return bytes;\r\n    }\r\n\r\nThe temporary array seems like the most obvious candidate for removal, so I wrote a version that calculates the number of digits first (a couple of comparisons), then iterates through the least-significant digits first, but writes to the array back-to-front.\r\n\r\nThe `numDigits` method was from [this answer to another question](https://stackoverflow.com/a/1308407/1898563).\r\n\r\n    public static byte[] asciiDigits(int value) {\r\n        if (value == Integer.MIN_VALUE) {\r\n            return new byte[] { 45, 50, 49, 52, 55, 52, 56, 51, 54, 52, 56 };\r\n        }\r\n\r\n        int numDigits = numDigits(value);\r\n        boolean isNegative = value &lt; 0;\r\n        int signAdjustment = isNegative ? 1 : 0;\r\n        byte[] bytes = new byte[numDigits + signAdjustment];\r\n        if (isNegative) {\r\n            bytes[0] = 45; // minus sign\r\n            value = -value;\r\n        }\r\n\r\n        for (int i = 0; i &lt; numDigits; ++i) {\r\n            int digit = value % 10;\r\n            bytes[numDigits + signAdjustment - i - 1] = (byte) (&#39;0&#39; + digit);\r\n            value /= 10;\r\n        }\r\n        return bytes;\r\n    }\r\n\r\n    private static int numDigits(int n) {\r\n        if (n &lt; 0) {\r\n            n = -n;\r\n        }\r\n        if (n &lt; 100000) {\r\n            if (n &lt; 100) {\r\n                if (n &lt; 10) return 1;\r\n                return 2;\r\n            }\r\n            else {\r\n                if (n &lt; 1000) return 3;\r\n                if (n &lt; 10000) return 4;\r\n                return 5;\r\n            }\r\n        }\r\n        else {\r\n            if (n &lt; 10000000) {\r\n                if (n &lt; 1000000) return 6;\r\n                return 7;\r\n            }\r\n            else {\r\n                if (n &lt; 100000000) return 8;\r\n                if (n &lt; 1000000000) return 9;\r\n                return 10;\r\n            }\r\n        }\r\n    }\r\n\r\nI haven&#39;t benchmarked any of these. The third version intuitively seems the best, but it&#39;s often hard to predict.","title":"Most efficient way to convert digits in an int to ASCII values?","body":"<p>Here's a relatively simple implementation. It doesn't support negative numbers, for simplicity. A version that does is below. Comments are in-line in the code.</p>\n<pre><code>public static byte[] asciiDigits(int value) {\n    if (value &lt; 0) throw new IllegalArgumentException();\n\n    // Iterate through least-significant digits first\n    byte[] reverseOrder = new byte[10]; \n    int digits = 0;\n    for (; value &gt; 0; ++digits) {\n        int digit = value % 10;\n        reverseOrder[digits] = (byte) ('0' + digit);\n        value /= 10;\n    }\n\n    // Now size down the array to the right size and reverse it\n    byte[] bytes = new byte[digits];\n    for (int i = 0; i &lt; digits; ++i) {\n        bytes[i] = reverseOrder[digits - i - 1];\n    }\n    return bytes;\n}\n</code></pre>\n<p>And this one supports negatives. The basic idea is to convert it to a positive number, do all the same steps, and append the minus sign.</p>\n<pre><code>public static byte[] asciiDigits(int value) {\n    boolean isNegative = false;\n    if (value &lt; 0) {\n        // The only value where the absolute value is not representable, so just hardcode the array\n        if (value == Integer.MIN_VALUE) {\n            return new byte[] { 45, 50, 49, 52, 55, 52, 56, 51, 54, 52, 56 };\n        }\n        value = -value;\n        isNegative = true;\n    }\n\n    // Iterate through least-significant digits first.\n    // We don't yet know how many digits there may be, but 10 is the most digits an int could have\n    byte[] reverseOrderBytes = new byte[10];\n    int digits = 0;\n    for (; value &gt; 0; ++digits) {\n        int digit = value % 10;\n        reverseOrderBytes[digits] = (byte) ('0' + digit);\n        value /= 10;\n    }\n\n    // Now reduce the size of the array to the correct size and reverse it, possibly prepending a minus sign\n    int signAdjustment = isNegative ? 1 : 0;\n    byte[] bytes = new byte[digits + signAdjustment];\n    if (isNegative) {\n        bytes[0] = 45; // minus sign\n    }\n    for (int i = 0; i &lt; digits; ++i) {\n        bytes[i + signAdjustment] = reverseOrderBytes[digits - i - 1];\n    }\n    return bytes;\n}\n</code></pre>\n<p>The temporary array seems like the most obvious candidate for removal, so I wrote a version that calculates the number of digits first (a couple of comparisons), then iterates through the least-significant digits first, but writes to the array back-to-front.</p>\n<p>The <code>numDigits</code> method was from <a href=\"https://stackoverflow.com/a/1308407/1898563\">this answer to another question</a>.</p>\n<pre><code>public static byte[] asciiDigits(int value) {\n    if (value == Integer.MIN_VALUE) {\n        return new byte[] { 45, 50, 49, 52, 55, 52, 56, 51, 54, 52, 56 };\n    }\n\n    int numDigits = numDigits(value);\n    boolean isNegative = value &lt; 0;\n    int signAdjustment = isNegative ? 1 : 0;\n    byte[] bytes = new byte[numDigits + signAdjustment];\n    if (isNegative) {\n        bytes[0] = 45; // minus sign\n        value = -value;\n    }\n\n    for (int i = 0; i &lt; numDigits; ++i) {\n        int digit = value % 10;\n        bytes[numDigits + signAdjustment - i - 1] = (byte) ('0' + digit);\n        value /= 10;\n    }\n    return bytes;\n}\n\nprivate static int numDigits(int n) {\n    if (n &lt; 0) {\n        n = -n;\n    }\n    if (n &lt; 100000) {\n        if (n &lt; 100) {\n            if (n &lt; 10) return 1;\n            return 2;\n        }\n        else {\n            if (n &lt; 1000) return 3;\n            if (n &lt; 10000) return 4;\n            return 5;\n        }\n    }\n    else {\n        if (n &lt; 10000000) {\n            if (n &lt; 1000000) return 6;\n            return 7;\n        }\n        else {\n            if (n &lt; 100000000) return 8;\n            if (n &lt; 1000000000) return 9;\n            return 10;\n        }\n    }\n}\n</code></pre>\n<p>I haven't benchmarked any of these. The third version intuitively seems the best, but it's often hard to predict.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688401074,"creation_date":1688395595,"answer_id":76605842,"question_id":76604695,"body_markdown":"- First, return array of `&#39;0&#39;` if value is `0`.  Special case reduces required code later.\r\n- Then determine if value is negative.  If so, convert to positive and increase `ndigits` by by 1 to make room for minus sign.\r\n- then determine max digits by using the remainder function for change in the original value adjusting `nDigits` in the process. Max power would be `10_000_000` for eight digits. (found this was faster than using Math.log).\r\n- then allocate array size based on digits and sign if present.\r\n- assume negative and add minus sign in first position of array.\r\n- then get each digit using the remainder operator, convert to a byte and store in reverse order. Minus sign will be overwritten if positive number.\r\n```\r\npublic static byte[] DigitsToAsciiArr(int value) {\r\n    if (value == 0) {\r\n        return new byte[]{&#39;0&#39;};\r\n    }\r\n    int power = 10_000_000; // max power for max digits.\r\n    int nDigits = 8; // max digits.\r\n    \r\n    if (value &lt;= 0) {\r\n        value = -value;\r\n        nDigits++;\r\n    }\r\n    // adjust to allocate array size\r\n    while (value % power == value) {\r\n        power /= 10;\r\n        nDigits--;\r\n    }\r\n\r\n    byte[] bytes = new byte[nDigits];\r\n    bytes[0] = &#39;-&#39;; // may be overwritten.\r\n\r\n    while (value &gt; 0) {\r\n        bytes[--nDigits] = (byte) (value % 10 + &#39;0&#39;);\r\n        value /= 10;\r\n    }\r\n\r\n    return bytes;\r\n}\r\n```\r\nDemo\r\n```\r\nint[] testData = new int[] {0, -1, 1,185,-185, 12345678, -12345678};\r\nfor (int value : testData) {\r\n    byte[] bytes = DigitsToAsciiArr(value);\r\n    System.out.printf(&quot;%9d -&gt; %s%n&quot;, value, Arrays.toString(bytes));\r\n}\r\n```\r\nprints\r\n```\r\n        0 -&gt; [48]\r\n       -1 -&gt; [45, 49]\r\n        1 -&gt; [49]\r\n      185 -&gt; [49, 56, 53]\r\n     -185 -&gt; [45, 49, 56, 53]\r\n 12345678 -&gt; [49, 50, 51, 52, 53, 54, 55, 56]\r\n-12345678 -&gt; [45, 49, 50, 51, 52, 53, 54, 55, 56]\r\n\r\n\r\n","title":"Most efficient way to convert digits in an int to ASCII values?","body":"<ul>\n<li>First, return array of <code>'0'</code> if value is <code>0</code>.  Special case reduces required code later.</li>\n<li>Then determine if value is negative.  If so, convert to positive and increase <code>ndigits</code> by by 1 to make room for minus sign.</li>\n<li>then determine max digits by using the remainder function for change in the original value adjusting <code>nDigits</code> in the process. Max power would be <code>10_000_000</code> for eight digits. (found this was faster than using Math.log).</li>\n<li>then allocate array size based on digits and sign if present.</li>\n<li>assume negative and add minus sign in first position of array.</li>\n<li>then get each digit using the remainder operator, convert to a byte and store in reverse order. Minus sign will be overwritten if positive number.</li>\n</ul>\n<pre><code>public static byte[] DigitsToAsciiArr(int value) {\n    if (value == 0) {\n        return new byte[]{'0'};\n    }\n    int power = 10_000_000; // max power for max digits.\n    int nDigits = 8; // max digits.\n    \n    if (value &lt;= 0) {\n        value = -value;\n        nDigits++;\n    }\n    // adjust to allocate array size\n    while (value % power == value) {\n        power /= 10;\n        nDigits--;\n    }\n\n    byte[] bytes = new byte[nDigits];\n    bytes[0] = '-'; // may be overwritten.\n\n    while (value &gt; 0) {\n        bytes[--nDigits] = (byte) (value % 10 + '0');\n        value /= 10;\n    }\n\n    return bytes;\n}\n</code></pre>\n<p>Demo</p>\n<pre><code>int[] testData = new int[] {0, -1, 1,185,-185, 12345678, -12345678};\nfor (int value : testData) {\n    byte[] bytes = DigitsToAsciiArr(value);\n    System.out.printf(&quot;%9d -&gt; %s%n&quot;, value, Arrays.toString(bytes));\n}\n</code></pre>\n<p>prints</p>\n<pre><code>        0 -&gt; [48]\n       -1 -&gt; [45, 49]\n        1 -&gt; [49]\n      185 -&gt; [49, 56, 53]\n     -185 -&gt; [45, 49, 56, 53]\n 12345678 -&gt; [49, 50, 51, 52, 53, 54, 55, 56]\n-12345678 -&gt; [45, 49, 50, 51, 52, 53, 54, 55, 56]\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28941845,"reputation":1,"user_id":22168260,"display_name":"Rheema "},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1688618609,"creation_date":1688455289,"answer_id":76610203,"question_id":76604695,"body_markdown":"**By adding &quot;0&quot; to the integer in C/C++, we can convert ASCII.**\r\n\r\n\r\n   #include &lt;iostream&gt;\r\n\r\n    using namespace std;\r\n    int intToAscii(int number) {\r\n     return &#39;0&#39; + number;  \r\n    }\r\n       int main() \r\n    {\r\n       int number;\r\n\r\n       cout&lt;&lt;&quot;The ASCII of &quot; &lt;&lt; 5 &lt;&lt;&quot; is &quot; &lt;&lt;intToAscii(5)&lt;&lt;endl;\r\n\r\n       intToAscii(5);\r\n\r\n       cout&lt;&lt;&quot;The ASCII of &quot;&lt;&lt; 8 &lt;&lt;&quot; is &quot; &lt;&lt;intToAscii(8)&lt;&lt;endl;\r\n\r\n       intToAscii(8);\r\n\r\n    }\r\n\r\n\r\n \r\n","title":"Most efficient way to convert digits in an int to ASCII values?","body":"<p><strong>By adding &quot;0&quot; to the integer in C/C++, we can convert ASCII.</strong></p>\n<p>#include </p>\n<pre><code>using namespace std;\nint intToAscii(int number) {\n return '0' + number;  \n}\n   int main() \n{\n   int number;\n\n   cout&lt;&lt;&quot;The ASCII of &quot; &lt;&lt; 5 &lt;&lt;&quot; is &quot; &lt;&lt;intToAscii(5)&lt;&lt;endl;\n\n   intToAscii(5);\n\n   cout&lt;&lt;&quot;The ASCII of &quot;&lt;&lt; 8 &lt;&lt;&quot; is &quot; &lt;&lt;intToAscii(8)&lt;&lt;endl;\n\n   intToAscii(8);\n\n}\n</code></pre>\n"}],"owner":{"account_id":22364393,"reputation":43,"user_id":16580442,"display_name":"holvold"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76605130,"answer_count":5,"score":0,"last_activity_date":1688618609,"creation_date":1688386855,"question_id":76604695,"body_markdown":"I got a method which takes a positive or negative `int` of 1 - 8 digits as input and converts every digit into its corresponding ASCII value while preserving the order of the digits. I want it to be as *memory* and *time efficient* as possible, so I want to avoid unnecessary loops, temporary variables and reference data types.\r\n\r\nExample, see table below with ASCII values for each digit:  \r\ninput: `int value = 185`  \r\noutput: `byte[] byteArray = [49, 56, 53]`\r\n\r\n| Digit | ASCII-value |\r\n| --- | --- |\r\n| 1 | 49 |\r\n| 8 | 56 |\r\n| 5 | 53 |\r\n\r\nWhat I currently have is this naive method where I first have to convert it to a String, but is there a better solution?\r\n\r\n    public byte[] DigitsToAsciiArr(int value) {\r\n      String strValue = String.valueOf(value);\r\n      byte[] byteArray = new byte[strValue.length()];\r\n    \r\n      for (int i = 0; i &lt; strValue.length(); i++) {\r\n        byteArray[i] = (byte) strValue.charAt(i);\r\n      }\r\n      return byteArray;\r\n    }","title":"Most efficient way to convert digits in an int to ASCII values?","body":"<p>I got a method which takes a positive or negative <code>int</code> of 1 - 8 digits as input and converts every digit into its corresponding ASCII value while preserving the order of the digits. I want it to be as <em>memory</em> and <em>time efficient</em> as possible, so I want to avoid unnecessary loops, temporary variables and reference data types.</p>\n<p>Example, see table below with ASCII values for each digit:<br />\ninput: <code>int value = 185</code><br />\noutput: <code>byte[] byteArray = [49, 56, 53]</code></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Digit</th>\n<th>ASCII-value</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>49</td>\n</tr>\n<tr>\n<td>8</td>\n<td>56</td>\n</tr>\n<tr>\n<td>5</td>\n<td>53</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>What I currently have is this naive method where I first have to convert it to a String, but is there a better solution?</p>\n<pre><code>public byte[] DigitsToAsciiArr(int value) {\n  String strValue = String.valueOf(value);\n  byte[] byteArray = new byte[strValue.length()];\n\n  for (int i = 0; i &lt; strValue.length(); i++) {\n    byteArray[i] = (byte) strValue.charAt(i);\n  }\n  return byteArray;\n}\n</code></pre>\n"},{"tags":["java","arrays","swap"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688115733,"post_id":76587488,"comment_id":135033505,"body_markdown":"You don&#39;t start at the end of the array looking for non-zeroes to swap with","body":"You don&#39;t start at the end of the array looking for non-zeroes to swap with"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1688115842,"post_id":76587488,"comment_id":135033523,"body_markdown":"By the way, your problem specification doesn&#39;t say anything about the order of the non-zero elements. Both the expected and the actual output match the requirement you defined.","body":"By the way, your problem specification doesn&#39;t say anything about the order of the non-zero elements. Both the expected and the actual output match the requirement you defined."}],"answers":[{"tags":[],"owner":{"account_id":12419314,"reputation":535,"user_id":11968199,"display_name":"Maksym Kosenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688116911,"creation_date":1688116427,"answer_id":76587566,"question_id":76587488,"body_markdown":"Assuming there is no requirement with regard to the ordering, just to keep the original sequence with shifted zeros only you forgot to break the cycle once you have done a shift, so the corresponding method should look like the following:\r\n\r\n    class Solution {\r\n        public void moveZeroes(int[] nums) {\r\n           for (int i = 0; i &lt; nums.length;i++) {\r\n               if (nums[i]==0) {\r\n                   for(int j = i+1; j &lt; nums.length;j++) {\r\n                       if(nums[j]!=0) {\r\n                           int temp = nums[i];\r\n                           nums[i]=nums[j];\r\n                           nums[j]=temp;\r\n                           break;\r\n                       }\r\n                   }\r\n               }\r\n           } \r\n        }\r\n    }","title":"Move all zeroes to the end of an array with the order of the elements preserved","body":"<p>Assuming there is no requirement with regard to the ordering, just to keep the original sequence with shifted zeros only you forgot to break the cycle once you have done a shift, so the corresponding method should look like the following:</p>\n<pre><code>class Solution {\n    public void moveZeroes(int[] nums) {\n       for (int i = 0; i &lt; nums.length;i++) {\n           if (nums[i]==0) {\n               for(int j = i+1; j &lt; nums.length;j++) {\n                   if(nums[j]!=0) {\n                       int temp = nums[i];\n                       nums[i]=nums[j];\n                       nums[j]=temp;\n                       break;\n                   }\n               }\n           }\n       } \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688118116,"creation_date":1688117230,"answer_id":76587661,"question_id":76587488,"body_markdown":"Just to point out, there&#39;s no need to use swapping to do this, since one of the elements is known to be zero. You also don&#39;t need to have an inner loop to search for the next non-zero element to shift down:\r\n\r\n```\r\n// A &quot;source&quot; and &quot;destination&quot; pointer: you will read elements \r\n// from the &quot;source&quot;, write them to the &quot;destination&quot;.\r\nfor (int src = 0, dst = 0; src &lt; nums.length; ++src) {\r\n  if (nums[src] != 0) {\r\n    nums[dst++] = nums[src];\r\n    nums[src] = 0;\r\n  }\r\n}\r\n```\r\n\r\n[&lt;kbd&gt;Ideone demo&lt;/kbd&gt;](https://ideone.com/hXL13l)\r\n\r\nThink of it this way: when you find a non-zero element, you want to shift it to be next to the previous non-zero element you shifted.\r\n\r\nIf you know where you shifted the current non-zero element to (`dst`), you will shift the next non-zero element to `dst+1`. Just keep incrementing `dst` every time you shift an element, and it then points to the next place to shift to.","title":"Move all zeroes to the end of an array with the order of the elements preserved","body":"<p>Just to point out, there's no need to use swapping to do this, since one of the elements is known to be zero. You also don't need to have an inner loop to search for the next non-zero element to shift down:</p>\n<pre><code>// A &quot;source&quot; and &quot;destination&quot; pointer: you will read elements \n// from the &quot;source&quot;, write them to the &quot;destination&quot;.\nfor (int src = 0, dst = 0; src &lt; nums.length; ++src) {\n  if (nums[src] != 0) {\n    nums[dst++] = nums[src];\n    nums[src] = 0;\n  }\n}\n</code></pre>\n<p><a href=\"https://ideone.com/hXL13l\" rel=\"nofollow noreferrer\"><kbd>Ideone demo</kbd></a></p>\n<p>Think of it this way: when you find a non-zero element, you want to shift it to be next to the previous non-zero element you shifted.</p>\n<p>If you know where you shifted the current non-zero element to (<code>dst</code>), you will shift the next non-zero element to <code>dst+1</code>. Just keep incrementing <code>dst</code> every time you shift an element, and it then points to the next place to shift to.</p>\n"},{"tags":[],"owner":{"account_id":28912265,"reputation":23,"user_id":22145025,"display_name":"Roshni Salmawala "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688618071,"creation_date":1688117452,"answer_id":76587686,"question_id":76587488,"body_markdown":"    class PushZero\r\n    {\r\n        public static void main (String[] args)\r\n        {\r\n            int arr[] = {1, 9, 8, 4, 0, 0, 2, 7, 0, 6, 0, 9};\r\n            int n = arr.length;\r\n            pushZerosToEnd(arr, n);\r\n            for (int i=0; i&lt;n; i++)\r\n            System.out.print(arr[i]+&quot; &quot;);\r\n        }\r\n        static void pushZerosToEnd(int arr[], int n)\r\n        {\r\n            int count = 0;  \r\n            for (int i = 0; i &lt; n; i++)\r\n            if (arr[i] != 0)\r\n                arr[count++] = arr[i];\r\n            while (count &lt; n)\r\n                arr[count++] = 0;\r\n        }\r\n    }","title":"Move all zeroes to the end of an array with the order of the elements preserved","body":"<pre><code>class PushZero\n{\n    public static void main (String[] args)\n    {\n        int arr[] = {1, 9, 8, 4, 0, 0, 2, 7, 0, 6, 0, 9};\n        int n = arr.length;\n        pushZerosToEnd(arr, n);\n        for (int i=0; i&lt;n; i++)\n        System.out.print(arr[i]+&quot; &quot;);\n    }\n    static void pushZerosToEnd(int arr[], int n)\n    {\n        int count = 0;  \n        for (int i = 0; i &lt; n; i++)\n        if (arr[i] != 0)\n            arr[count++] = arr[i];\n        while (count &lt; n)\n            arr[count++] = 0;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27919622,"reputation":3,"user_id":21320087,"display_name":"yamuna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76587566,"answer_count":3,"score":0,"last_activity_date":1688618071,"creation_date":1688115672,"question_id":76587488,"body_markdown":"Can anyone tell me what have I done wrong in this code ? \r\n\r\nIn this approach, I traverse the array and, as soon as I find a 0 element, I traverse to the right of the 0, and swap it with the 1st non-0 element found.\r\n\r\n\r\n```\r\nclass Solution {\r\n    public void moveZeroes(int[] nums) {\r\n       for (int i = 0; i &lt; nums.length;i++) {\r\n           if (nums[i]==0) {\r\n               for(int j = i+1; j &lt; nums.length;j++) {\r\n                   if(nums[j]!=0) {\r\n                       int temp = nums[i];\r\n                       nums[i]=nums[j];\r\n                       nums[j]=temp;\r\n                   }\r\n               }\r\n           }\r\n       } \r\n       \r\n    }\r\n}\r\n```\r\n\r\n\r\nFor this following input, \r\n[0,1,0,3,12]\r\n\r\nThe expected output is \r\n[1,3,12,0,0]\r\n\r\nBut I am getting\r\n[12,3,1,0,0]","title":"Move all zeroes to the end of an array with the order of the elements preserved","body":"<p>Can anyone tell me what have I done wrong in this code ?</p>\n<p>In this approach, I traverse the array and, as soon as I find a 0 element, I traverse to the right of the 0, and swap it with the 1st non-0 element found.</p>\n<pre><code>class Solution {\n    public void moveZeroes(int[] nums) {\n       for (int i = 0; i &lt; nums.length;i++) {\n           if (nums[i]==0) {\n               for(int j = i+1; j &lt; nums.length;j++) {\n                   if(nums[j]!=0) {\n                       int temp = nums[i];\n                       nums[i]=nums[j];\n                       nums[j]=temp;\n                   }\n               }\n           }\n       } \n       \n    }\n}\n</code></pre>\n<p>For this following input,\n[0,1,0,3,12]</p>\n<p>The expected output is\n[1,3,12,0,0]</p>\n<p>But I am getting\n[12,3,1,0,0]</p>\n"},{"tags":["java","android-fragments","referenceerror","android-studio-flamingo"],"owner":{"account_id":28929765,"reputation":11,"user_id":22158774,"display_name":"R.Tech"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688617379,"creation_date":1688617379,"question_id":76625486,"body_markdown":"Note: I am using Android Studio Flamingo with JDK20 and am a beginner.\r\n\r\nI recently enabled safeargs in the build.gradle project ad module files, synced Gradle, and created an argument in my SecondFragment. However, when I type in `FirstFragmentDirections.ActionFirstFragmentToSecondFragment action = FirstFragmentDirections.actionFirstFragmentToSecondFragment(currentCount);`, Android studio says that it cannot resolve symbol `ActionFirstFragmentToSecondFragment`\r\nHere is the site of the error:\r\n\r\n```\r\n\r\npublic void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\r\nsuper.onViewCreated(view, savedInstanceState);\r\n\r\n        view.findViewById(R.id.random_button).setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                int currentCount = Integer.parseInt(showCountTextView.getText().toString());\r\n                FirstFragmentDirections.ActionFirstFragmentToSecondFragment action =                            FirstFragmentDirections.actionFirstFragmentToSecondFragment(currentCount);\r\n                NavHostFragment.findNavController(FirstFragment.this).navigate(action);\r\n            }\r\n        });\r\n```\r\n\r\nThe button is supposed to send information about the situation another button by sending information from a textview.\r\n\r\nHere is my build.gradle project file:\r\n\r\n```\r\n\r\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\r\nbuildscript {\r\ndependencies {\r\ndef nav_version = &quot;2.6.0-rc02&quot;\r\nclasspath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\r\n}\r\n}\r\nplugins {\r\nid &#39;com.android.application&#39; version &#39;8.0.2&#39; apply false\r\nid &#39;com.android.library&#39; version &#39;8.0.2&#39; apply false\r\n}\r\n```\r\n\r\nHere is my build.gradle module file:\r\n\r\n```\r\n\r\n        plugins {\r\n            id &#39;com.android.application&#39;\r\n        }\r\n    \r\n        apply plugin: &#39;androidx.navigation.safeargs&#39;\r\n\r\nandroid {\r\nnamespace &#39;com.example.myproject&#39;\r\ncompileSdk 34\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.myproject&quot;\r\n        minSdk 33\r\n        targetSdk 34\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n    \r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n    \r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n    buildFeatures {\r\n        viewBinding true\r\n    }\r\n\r\n}\r\n\r\ndependencies {\r\nconstraints{\r\nimplementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\r\nbecause(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\r\n}\r\n\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\r\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\r\n        }\r\n    }\r\n    \r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    implementation &#39;androidx.navigation:navigation-fragment:2.6.0&#39;\r\n    implementation &#39;androidx.navigation:navigation-ui:2.6.0&#39;\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4&#39;\r\n    implementation &#39;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n\r\n}\r\n```\r\n\r\nI tried changing the Gradle version, changing the android target SDK version, moving the `apply plugin: &#39;androidx.navigation.safeargs&#39;` line outside of the plugins scope(it was originally `id &#39;androidx.navigation.safeargs&#39;`), changing the beginning part of the line to apply plugin and rebuilding Gradle. Other than that, I tried to view another question post(&lt;https://stackoverflow.com/questions/69546786/cannot-resolve-symbol-actionfirstfragmenttosecondfragment&gt;) but, in response to the answer, I did put the argument in the right fragment. I thought that because android SDK 34 has not tested on Gradle 8.0.2 yet the problem might be related to the target SDK, but it was not.","title":"Why can&#39;t my Android Studio resolve symbol &#39;ActionFirstFragmentToSecondFragment?&#39;","body":"<p>Note: I am using Android Studio Flamingo with JDK20 and am a beginner.</p>\n<p>I recently enabled safeargs in the build.gradle project ad module files, synced Gradle, and created an argument in my SecondFragment. However, when I type in <code>FirstFragmentDirections.ActionFirstFragmentToSecondFragment action = FirstFragmentDirections.actionFirstFragmentToSecondFragment(currentCount);</code>, Android studio says that it cannot resolve symbol <code>ActionFirstFragmentToSecondFragment</code>\nHere is the site of the error:</p>\n<pre><code>\npublic void onViewCreated(@NonNull View view, Bundle savedInstanceState) {\nsuper.onViewCreated(view, savedInstanceState);\n\n        view.findViewById(R.id.random_button).setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                int currentCount = Integer.parseInt(showCountTextView.getText().toString());\n                FirstFragmentDirections.ActionFirstFragmentToSecondFragment action =                            FirstFragmentDirections.actionFirstFragmentToSecondFragment(currentCount);\n                NavHostFragment.findNavController(FirstFragment.this).navigate(action);\n            }\n        });\n</code></pre>\n<p>The button is supposed to send information about the situation another button by sending information from a textview.</p>\n<p>Here is my build.gradle project file:</p>\n<pre><code>\n// Top-level build file where you can add configuration options common to all sub-projects/modules.\nbuildscript {\ndependencies {\ndef nav_version = &quot;2.6.0-rc02&quot;\nclasspath &quot;androidx.navigation:navigation-safe-args-gradle-plugin:$nav_version&quot;\n}\n}\nplugins {\nid 'com.android.application' version '8.0.2' apply false\nid 'com.android.library' version '8.0.2' apply false\n}\n</code></pre>\n<p>Here is my build.gradle module file:</p>\n<pre><code>\n        plugins {\n            id 'com.android.application'\n        }\n    \n        apply plugin: 'androidx.navigation.safeargs'\n\nandroid {\nnamespace 'com.example.myproject'\ncompileSdk 34\n\n    defaultConfig {\n        applicationId &quot;com.example.myproject&quot;\n        minSdk 33\n        targetSdk 34\n        versionCode 1\n        versionName &quot;1.0&quot;\n    \n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n    \n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n    buildFeatures {\n        viewBinding true\n    }\n\n}\n\ndependencies {\nconstraints{\nimplementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk7:1.8.0&quot;) {\nbecause(&quot;kotlin-stdlib-jdk7 is now a part of kotlin-stdlib&quot;)\n}\n\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.8.0&quot;) {\n            because(&quot;kotlin-stdlib-jdk8 is now a part of kotlin-stdlib&quot;)\n        }\n    }\n    \n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    implementation 'androidx.navigation:navigation-fragment:2.6.0'\n    implementation 'androidx.navigation:navigation-ui:2.6.0'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.6.4'\n    implementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.6.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n}\n</code></pre>\n<p>I tried changing the Gradle version, changing the android target SDK version, moving the <code>apply plugin: 'androidx.navigation.safeargs'</code> line outside of the plugins scope(it was originally <code>id 'androidx.navigation.safeargs'</code>), changing the beginning part of the line to apply plugin and rebuilding Gradle. Other than that, I tried to view another question post(<a href=\"https://stackoverflow.com/questions/69546786/cannot-resolve-symbol-actionfirstfragmenttosecondfragment\">Cannot resolve symbol &#39;ActionFirstFragmentToSecondFragment&#39;</a>) but, in response to the answer, I did put the argument in the right fragment. I thought that because android SDK 34 has not tested on Gradle 8.0.2 yet the problem might be related to the target SDK, but it was not.</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1688611872,"post_id":76625139,"comment_id":135097809,"body_markdown":"The problem is not Spring Boot. It&#39;s a basic Java rule that method overloads need to have different input parameters.","body":"The problem is not Spring Boot. It&#39;s a basic Java rule that method overloads need to have different input parameters."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688613075,"post_id":76625139,"comment_id":135097896,"body_markdown":"Why do you care what the Java method name is?","body":"Why do you care what the Java method name is?"},{"owner":{"account_id":21024771,"reputation":29,"user_id":15450353,"display_name":"JCodeX"},"score":0,"creation_date":1688616199,"post_id":76625139,"comment_id":135098114,"body_markdown":"@shmosel Just realised this now, its a basic java rule for method overload","body":"@shmosel Just realised this now, its a basic java rule for method overload"}],"answers":[{"tags":[],"owner":{"account_id":21024771,"reputation":29,"user_id":15450353,"display_name":"JCodeX"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688616429,"creation_date":1688616429,"answer_id":76625426,"question_id":76625139,"body_markdown":"We can have same api path for multiple methods, methods with different signatures and clients will still talk with the same api endpoint.\r\nWe can accept different content-types in different methods having same or different logic but listening at the same api endpoint","title":"How to consume and produce different content-types but with same post mapping and parameters but different return types?","body":"<p>We can have same api path for multiple methods, methods with different signatures and clients will still talk with the same api endpoint.\nWe can accept different content-types in different methods having same or different logic but listening at the same api endpoint</p>\n"}],"owner":{"account_id":21024771,"reputation":29,"user_id":15450353,"display_name":"JCodeX"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688616429,"creation_date":1688610607,"question_id":76625139,"body_markdown":"I have two methods with same name, parameter and post mapping, only difference is the content type it consumes, produces and its return type.\r\n\r\nBut spring boot says method is already defined, so if I change the method name it works but not with the same method name.\r\n\r\nIs there any way to use the same method name without causing ambiguity? I want to use the same api in my application, so the client can request it with different content-type in the request header\r\n\r\nI am using JDK 17\r\n\r\n```\r\n@PostMapping(path = &quot;/updateprofile/{username}&quot;, consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE, produces = MediaType.TEXT_HTML_VALUE)\r\n    public String updateProfile(@PathVariable String username, @RequestBody Profile profile) {\r\n//        Profile updatedProfile = profileService.updateProfile(profile, username);\r\n        System.out.println(&quot;Testing  &quot; + profile);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n    @PostMapping(path = &quot;/updateprofile/{username}&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public Profile updateProfile(@PathVariable String username, @RequestBody Profile profile) {\r\n//        Profile updatedProfile = profileService.updateProfile(profile, username);\r\n        System.out.println(&quot;Testing  &quot; + profile);\r\n        return profile;\r\n    }\r\n```","title":"How to consume and produce different content-types but with same post mapping and parameters but different return types?","body":"<p>I have two methods with same name, parameter and post mapping, only difference is the content type it consumes, produces and its return type.</p>\n<p>But spring boot says method is already defined, so if I change the method name it works but not with the same method name.</p>\n<p>Is there any way to use the same method name without causing ambiguity? I want to use the same api in my application, so the client can request it with different content-type in the request header</p>\n<p>I am using JDK 17</p>\n<pre><code>@PostMapping(path = &quot;/updateprofile/{username}&quot;, consumes = MediaType.APPLICATION_FORM_URLENCODED_VALUE, produces = MediaType.TEXT_HTML_VALUE)\n    public String updateProfile(@PathVariable String username, @RequestBody Profile profile) {\n//        Profile updatedProfile = profileService.updateProfile(profile, username);\n        System.out.println(&quot;Testing  &quot; + profile);\n        return &quot;redirect:/&quot;;\n    }\n\n    @PostMapping(path = &quot;/updateprofile/{username}&quot;, consumes = MediaType.APPLICATION_JSON_VALUE, produces = MediaType.APPLICATION_JSON_VALUE)\n    public Profile updateProfile(@PathVariable String username, @RequestBody Profile profile) {\n//        Profile updatedProfile = profileService.updateProfile(profile, username);\n        System.out.println(&quot;Testing  &quot; + profile);\n        return profile;\n    }\n</code></pre>\n"},{"tags":["java","jasper-reports"],"owner":{"account_id":28039950,"reputation":1,"user_id":21417663,"display_name":"Vit Trn Mnh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688615110,"creation_date":1688615110,"question_id":76625364,"body_markdown":"I have this Java code snippet:\r\n\r\n```\r\nlong start = System.currentTimeMillis();\r\nJasperReport jasperReport = JasperCompileManager.compileReport(inputStream);\r\nlong compileTime = System.currentTimeMillis() - start;\r\nlogger.info(&quot;Compile template time : &quot; + compileTime);\r\n```\r\n\r\nI&#39;m measuring the time it takes to compile a Jasper report template using JasperCompileManager. I&#39;ve noticed that every time I pass in a new report template, the first compilation always takes longer than subsequent ones.\r\n\r\nCan someone explain to me why this happens? Is it because JasperCompileManager caches the compiled report template?\r\n\r\nI have tried to read the source code of JasperReports, but I don&#39;t understand it very well.","title":"Does JasperCompileManager.compileReport(...) cache templates?","body":"<p>I have this Java code snippet:</p>\n<pre><code>long start = System.currentTimeMillis();\nJasperReport jasperReport = JasperCompileManager.compileReport(inputStream);\nlong compileTime = System.currentTimeMillis() - start;\nlogger.info(&quot;Compile template time : &quot; + compileTime);\n</code></pre>\n<p>I'm measuring the time it takes to compile a Jasper report template using JasperCompileManager. I've noticed that every time I pass in a new report template, the first compilation always takes longer than subsequent ones.</p>\n<p>Can someone explain to me why this happens? Is it because JasperCompileManager caches the compiled report template?</p>\n<p>I have tried to read the source code of JasperReports, but I don't understand it very well.</p>\n"},{"tags":["java","unit-testing","mocking","mockito","powermockito"],"answers":[{"tags":[],"owner":{"account_id":14342927,"reputation":41,"user_id":10360596,"display_name":"Sparrow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664334096,"creation_date":1664334096,"answer_id":73875753,"question_id":73873061,"body_markdown":"Here is how I solved this. I do have to preface this that I need to use this with a peculiar combination of Junit4, PowerMockito, and Mockito 4.0.0.\r\n\r\nI was searching for various ways to configure the MockitoSettings to close the instances/threads created, but it turns out I can just configure them as I would configure other Mocks in the @BeforeClass setUp method.\r\n\r\n```\r\npublic ClassTest {\r\n\r\n    private static CloseableHttpClient httpClientMock;\r\n    private static MockedStatic&lt;HttpClients&gt; httpClientsMockedStatic;\r\n    \r\n    @BeforeClass\r\n    public static void setUp() throws IOException {\r\n        httpClientMock = mock(CloseableHttpClient.class);\r\n        httpClientsMockedStatic = Mockito.mockStatic(HttpClients.class, Mockito.RETURNS_DEEP_STUBS);\r\n        httpClientsMockedStatic.when( () -&gt; HttpClients.custom().setRetryHandler.build()).thenReturn(httpClientMock); \r\n        // You can also configure the behavior of above line in whatever test method you would like\r\n\r\n}\r\n```\r\n\r\nYou can also do a .close on the variable that is a static mock in an @After method, like for the above example it would be ``` httpClientsMockedStatic.close() ```\r\n","title":"Getting a Static mocking is already registered in the current thread Exception","body":"<p>Here is how I solved this. I do have to preface this that I need to use this with a peculiar combination of Junit4, PowerMockito, and Mockito 4.0.0.</p>\n<p>I was searching for various ways to configure the MockitoSettings to close the instances/threads created, but it turns out I can just configure them as I would configure other Mocks in the @BeforeClass setUp method.</p>\n<pre><code>public ClassTest {\n\n    private static CloseableHttpClient httpClientMock;\n    private static MockedStatic&lt;HttpClients&gt; httpClientsMockedStatic;\n    \n    @BeforeClass\n    public static void setUp() throws IOException {\n        httpClientMock = mock(CloseableHttpClient.class);\n        httpClientsMockedStatic = Mockito.mockStatic(HttpClients.class, Mockito.RETURNS_DEEP_STUBS);\n        httpClientsMockedStatic.when( () -&gt; HttpClients.custom().setRetryHandler.build()).thenReturn(httpClientMock); \n        // You can also configure the behavior of above line in whatever test method you would like\n\n}\n</code></pre>\n<p>You can also do a .close on the variable that is a static mock in an @After method, like for the above example it would be <code>httpClientsMockedStatic.close()</code></p>\n"},{"tags":[],"owner":{"account_id":418941,"reputation":814,"user_id":795827,"accept_rate":62,"display_name":"Xiaokun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687772460,"creation_date":1687772460,"answer_id":76555455,"question_id":73873061,"body_markdown":"You should also put ` MockedStatic&lt;HttpClients&gt; httpClientsMockedStatic = Mockito.mockStatic(Mockito.RETURNS_DEEP_STUBS);`\r\ninto `auto closable`.\r\n\r\n```\r\n@Test\r\npublic void test() throws IOException {\r\n    try (MockedStatic&lt;AWSStepFunctionsClientBuilder&gt; awsMock = Mockito.mockStatic(AWSStepFunctionsClientBuilder.class, Mockito.RETURNS_DEEP_STUBS);\r\n         MockedStatic&lt;HttpClients&gt; httpClientsMockedStatic = Mockito.mockStatic(Mockito.RETURNS_DEEP_STUBS)) {\r\n        AWSStepFunctions awsStepFunctionsMock = mock(AWSStepFunctions.class);\r\n        awsMock.when(() -&gt; AWSStepFunctionsClientBuilder.standard().withClientConfiguration(Mockito.any()).build()).thenReturn(awsStepFunctionsMock);\r\n\r\n        \r\n        httpClientsMockedStatic.when( () -&gt; HttpClients.custom().setRetryHandler.build()).thenReturn(httpClientMock);\r\n           \r\n    }\r\n}\r\n\r\n```\r\n","title":"Getting a Static mocking is already registered in the current thread Exception","body":"<p>You should also put <code> MockedStatic&lt;HttpClients&gt; httpClientsMockedStatic = Mockito.mockStatic(Mockito.RETURNS_DEEP_STUBS);</code>\ninto <code>auto closable</code>.</p>\n<pre><code>@Test\npublic void test() throws IOException {\n    try (MockedStatic&lt;AWSStepFunctionsClientBuilder&gt; awsMock = Mockito.mockStatic(AWSStepFunctionsClientBuilder.class, Mockito.RETURNS_DEEP_STUBS);\n         MockedStatic&lt;HttpClients&gt; httpClientsMockedStatic = Mockito.mockStatic(Mockito.RETURNS_DEEP_STUBS)) {\n        AWSStepFunctions awsStepFunctionsMock = mock(AWSStepFunctions.class);\n        awsMock.when(() -&gt; AWSStepFunctionsClientBuilder.standard().withClientConfiguration(Mockito.any()).build()).thenReturn(awsStepFunctionsMock);\n\n        \n        httpClientsMockedStatic.when( () -&gt; HttpClients.custom().setRetryHandler.build()).thenReturn(httpClientMock);\n           \n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11829005,"reputation":81,"user_id":8656239,"display_name":"dcnis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688614903,"creation_date":1688614903,"answer_id":76625350,"question_id":73873061,"body_markdown":"I had the same error but the reason was ***another test***, written by a colleague, used mockStatic() outside of a try-with-resources block, which caused the static mock not being closed.\r\n```\r\n@Test\r\npublic void test() throws IOException {\r\n\r\n    // this is wrong!\r\n    MockedStatic&lt;MyStaticUtil&gt; awsMock = Mockito.mockStatic(MyStaticUtil.class);\r\n    awsMock.when(() -&gt; MyStaticUtil.doSth()).thenReturn(&quot;mocked&quot;);\r\n   \r\n}\r\n```\r\nAfter I put it back into a try-with-resources, all tests ran successfully again.\r\n```\r\n@Test\r\npublic void test() throws IOException {\r\n\r\n    // this is correct\r\n    try (MockedStatic&lt;MyStaticUtil&gt; awsMock = Mockito.mockStatic(MyStaticUtil.class)){\r\n        awsMock.when(() -&gt; MyStaticUtil.doSth()).thenReturn(&quot;mocked&quot;);\r\n            \r\n        // your tests\r\n    }\r\n}\r\n\r\n```\r\nEven though you used a try-with-resources, maybe other people encounter the same problem.","title":"Getting a Static mocking is already registered in the current thread Exception","body":"<p>I had the same error but the reason was <em><strong>another test</strong></em>, written by a colleague, used mockStatic() outside of a try-with-resources block, which caused the static mock not being closed.</p>\n<pre><code>@Test\npublic void test() throws IOException {\n\n    // this is wrong!\n    MockedStatic&lt;MyStaticUtil&gt; awsMock = Mockito.mockStatic(MyStaticUtil.class);\n    awsMock.when(() -&gt; MyStaticUtil.doSth()).thenReturn(&quot;mocked&quot;);\n   \n}\n</code></pre>\n<p>After I put it back into a try-with-resources, all tests ran successfully again.</p>\n<pre><code>@Test\npublic void test() throws IOException {\n\n    // this is correct\n    try (MockedStatic&lt;MyStaticUtil&gt; awsMock = Mockito.mockStatic(MyStaticUtil.class)){\n        awsMock.when(() -&gt; MyStaticUtil.doSth()).thenReturn(&quot;mocked&quot;);\n            \n        // your tests\n    }\n}\n\n</code></pre>\n<p>Even though you used a try-with-resources, maybe other people encounter the same problem.</p>\n"}],"owner":{"account_id":14342927,"reputation":41,"user_id":10360596,"display_name":"Sparrow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6839,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73875753,"answer_count":3,"score":1,"last_activity_date":1688614903,"creation_date":1664307969,"question_id":73873061,"body_markdown":"I have this following test case \r\n\r\n```        \r\n@Test\r\npublic void test() throws IOException {\r\n    try (MockedStatic&lt;AWSStepFunctionsClientBuilder&gt; awsMock = Mockito.mockStatic(AWSStepFunctionsClientBuilder.class, Mockito.RETURNS_DEEP_STUBS)) {\r\n        AWSStepFunctions awsStepFunctionsMock = mock(AWSStepFunctions.class);\r\n        awsMock.when(() -&gt; AWSStepFunctionsClientBuilder.standard().withClientConfiguration(Mockito.any()).build()).thenReturn(awsStepFunctionsMock);\r\n\r\n        MockedStatic&lt;HttpClients&gt; httpClientsMockedStatic = Mockito.mockStatic(Mockito.RETURNS_DEEP_STUBS);\r\n        httpClientsMockedStatic.when( () -&gt; HttpClients.custom().setRetryHandler.build()).thenReturn(httpClientMock);\r\n           \r\n    }\r\n}\r\n```\r\n\r\nI a running multiple tests in this class with the same objects, individually then run fine, but when I run all of them at once, I get ``` org.mockito.exceptions.base.MockitoException: For org.apache.http.impl.client.HttpClients, static mocking is already registered in the current thread. To create a new mock, the existing static mocking must be deregistered.```\r\n\r\nI there another way I can configure the httpClientsMockedStatic, or is there a way to resolve this? I tried using different variable names for each of them but that doesn&#39;t work. Also tried close() on them after the test, and also using closeOnDemand, but that doesn&#39;t seem to work.\r\n\r\nI also have to use PowerMockito for new object creation, as there are many new objects created in the classes I test that I cannot modify. If there&#39;s a way to do this via Mockito, without a try-with-resources for multiple objects and their behavior, that would work for me as well.\r\n\r\nThanks in advance!","title":"Getting a Static mocking is already registered in the current thread Exception","body":"<p>I have this following test case</p>\n<pre><code>@Test\npublic void test() throws IOException {\n    try (MockedStatic&lt;AWSStepFunctionsClientBuilder&gt; awsMock = Mockito.mockStatic(AWSStepFunctionsClientBuilder.class, Mockito.RETURNS_DEEP_STUBS)) {\n        AWSStepFunctions awsStepFunctionsMock = mock(AWSStepFunctions.class);\n        awsMock.when(() -&gt; AWSStepFunctionsClientBuilder.standard().withClientConfiguration(Mockito.any()).build()).thenReturn(awsStepFunctionsMock);\n\n        MockedStatic&lt;HttpClients&gt; httpClientsMockedStatic = Mockito.mockStatic(Mockito.RETURNS_DEEP_STUBS);\n        httpClientsMockedStatic.when( () -&gt; HttpClients.custom().setRetryHandler.build()).thenReturn(httpClientMock);\n           \n    }\n}\n</code></pre>\n<p>I a running multiple tests in this class with the same objects, individually then run fine, but when I run all of them at once, I get <code> org.mockito.exceptions.base.MockitoException: For org.apache.http.impl.client.HttpClients, static mocking is already registered in the current thread. To create a new mock, the existing static mocking must be deregistered.</code></p>\n<p>I there another way I can configure the httpClientsMockedStatic, or is there a way to resolve this? I tried using different variable names for each of them but that doesn't work. Also tried close() on them after the test, and also using closeOnDemand, but that doesn't seem to work.</p>\n<p>I also have to use PowerMockito for new object creation, as there are many new objects created in the classes I test that I cannot modify. If there's a way to do this via Mockito, without a try-with-resources for multiple objects and their behavior, that would work for me as well.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":1,"creation_date":1688382787,"post_id":76602539,"comment_id":135062349,"body_markdown":"It can be done in several ways but its implementation depends on your code. So consider adding a [minimal reproducible code](https://stackoverflow.com/help/minimal-reproducible-example) so that we can suggest you the possible better solution based on your code.","body":"It can be done in several ways but its implementation depends on your code. So consider adding a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible code</a> so that we can suggest you the possible better solution based on your code."},{"owner":{"account_id":1139949,"reputation":1,"user_id":8006580,"display_name":"PETRER"},"score":0,"creation_date":1688537838,"post_id":76602539,"comment_id":135084662,"body_markdown":"Do you have any ideas?","body":"Do you have any ideas?"}],"answers":[{"tags":[],"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688551195,"creation_date":1688549387,"answer_id":76618979,"question_id":76602539,"body_markdown":"Here are several solutions to implement a logic to detect 10 secs time out in your `BtClientService.ConnectThread` for each connection apart. You can choose any of it as per your convenience.  \r\n\r\nFirst let&#39;s get started by defining a new message code called `MESSAGE_TIMEOUT` in your related class so that we can let the main thread know that a 10 secs time out has occured.\r\n&lt;!-- language-all lang-java --&gt;\r\n```\r\nclass Constants {\r\n    ...\r\n    public static final int MESSAGE_TIMEOUT = 5 ///&lt; Give it an appropriate value\r\n    ...\r\n}\r\n```\r\nAdd a new case statement to your handler in order to handle the time out.\r\n```\r\nprivate final Handler mHandler = new Handler() {\r\n    @Override\r\n    public void handleMessage(Message msg) {\r\n        switch (msg.what) {\r\n            case Constants.MESSAGE_READ:\r\n                byte[] readBuf = (byte[]) msg.obj;\r\n                // construct a string from the valid bytes in the buffer\r\n                String readMessage = new String(readBuf, 0, msg.arg1);\r\n                mConversationArrayAdapter.add(mConnectedDeviceName + &quot;:  &quot; + readMessage);\r\n                \r\n                isReceived = !TextUtils.isEmpty(readMessage.trim());\r\n                Log.d(TAG, &quot;mHandler - MESSAGE_READ - isReceived = &quot; + isReceived);\r\n                break;\r\n            case Constants.MESSAGE_DEVICE_NAME:\r\n                // save the connected device&#39;s name\r\n                mConnectedDeviceName = msg.getData().getString(Constants.DEVICE_NAME);\r\n                Toast.makeText(getApplicationContext(), &quot;Connected to &quot;\r\n                + mConnectedDeviceName, Toast.LENGTH_SHORT).show();\r\n                break;\r\n            case Constants.MESSAGE_TIMEOUT:\r\n                // Handle 10sec timeout here\r\n                break;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHere it comes to implementing the 10 secs time out logic in several different APIs.\r\n\r\n#### Solution 1\r\nUsing the [`sendMessageDelayed`](https://developer.android.com/reference/android/os/Handler#sendMessageDelayed(android.os.Message,%20long)) and [`removeMessages`](https://developer.android.com/reference/android/os/Handler#removeMessages(int)) pair to post a time out message after 10 secs if no data has received. If any data available within 10 seconds the posted message will be cancelled so it will not get executed.\r\n```\r\nprivate class ConnectedThread extends Thread {\r\n    ...\r\n    \r\n    public void run() {\r\n        Log.i(TAG, &quot;BEGIN mConnectedThread&quot;);\r\n        byte[] buffer = new byte[1024];\r\n        int bytes;\r\n        \r\n        // Keep listening to the InputStream while connected\r\n        while (mState == STATE_CONNECTED) {\r\n            try {\r\n                // Schedule to send the time out message after 10 secs\r\n                Message msg = mHandler.obtainMessage(Constants.MESSAGE_TIMEOUT);\r\n                mHandler.sendMessageDelayed(msg, 10000);\r\n                \r\n                // Read from the InputStream\r\n                bytes = mmInStream.read(buffer);\r\n                \r\n                // There is new data from remote, cancel the 10secs timeout msg\r\n                mHandler.removeMessages(Constants.MESSAGE_TIMEOUT);\r\n                \r\n                // Send the obtained bytes to the UI Activity\r\n                mHandler.obtainMessage(Constants.MESSAGE_READ, bytes, -1, buffer)\r\n                .sendToTarget();\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;disconnected ~ &quot; + e.toString());\r\n                connectionLost();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n#### Solution 2\r\nUsing the [`postDelayed`](https://developer.android.com/reference/android/os/Handler#postDelayed(java.lang.Runnable,%20long)) and [`removeCallbacks`](https://developer.android.com/reference/android/os/Handler#removeCallbacks(java.lang.Runnable)) pair.\r\n```\r\nprivate class ConnectedThread extends Thread {\r\n    ...\r\n    \r\n    public void run() {\r\n        Log.i(TAG, &quot;BEGIN mConnectedThread&quot;);\r\n        byte[] buffer = new byte[1024];\r\n        int bytes;\r\n        \r\n        // Keep listening to the InputStream while connected\r\n        while (mState == STATE_CONNECTED) {\r\n            try {\r\n                // Schedule to send the time out message after 10 secs\r\n                Runnable runnable = () -&gt; {\r\n                    mHandler.obtainMessage(Constants.MESSAGE_TIMEOUT).sendToTarget();\r\n                }\r\n                mHandler.postDelayed(runnable, 10000);\r\n                \r\n                // Read from the InputStream\r\n                bytes = mmInStream.read(buffer);\r\n                \r\n                // There is new data from remote, cancel the 10secs timeout msg\r\n                mHandler.removeCallbacks(runnable);\r\n                \r\n                // Send the obtained bytes to the UI Activity\r\n                mHandler.obtainMessage(Constants.MESSAGE_READ, bytes, -1, buffer)\r\n                .sendToTarget();\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;disconnected ~ &quot; + e.toString());\r\n                connectionLost();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n#### Solution 3\r\nUsing the [`ScheduledExecutorService`](https://developer.android.com/reference/java/util/concurrent/ScheduledExecutorService) and [`ScheduledFeature`](https://developer.android.com/reference/java/util/concurrent/ScheduledFuture).\r\n```\r\nprivate class ConnectedThread extends Thread {\r\n    ...\r\n    private final ScheduledExecutorService schexecutor = Executors.newSingleThreadScheduledExecutor();\r\n    \r\n    public void run() {\r\n        Log.i(TAG, &quot;BEGIN mConnectedThread&quot;);\r\n        byte[] buffer = new byte[1024];\r\n        int bytes;\r\n        \r\n        // Keep listening to the InputStream while connected\r\n        while (mState == STATE_CONNECTED) {\r\n            try {\r\n                // Schedule to send the time out message after 10 secs\r\n                Runnable runnable = () -&gt; {\r\n                    mHandler.obtainMessage(Constants.MESSAGE_TIMEOUT).sendToTarget();\r\n                }\r\n                ScheduledFeature&lt;?&gt; sf = schexecutor.schedule(runnable, 10, TimeUnit.SECONDS);\r\n                \r\n                // Read from the InputStream\r\n                bytes = mmInStream.read(buffer);\r\n                \r\n                // There is new data from remote, cancel the 10secs timeout msg\r\n                sf.cancel(/* mayInterruptIfRunning */ true); \r\n                \r\n                // Send the obtained bytes to the UI Activity\r\n                mHandler.obtainMessage(Constants.MESSAGE_READ, bytes, -1, buffer)\r\n                .sendToTarget();\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;disconnected ~ &quot; + e.toString());\r\n                connectionLost();\r\n                break;\r\n            }\r\n        }\r\n        // Shut down the scheduled executor service immediately upon exiting this thread\r\n        schexecutor.shutdownNow();\r\n    }\r\n}\r\n```\r\n\r\n#### Solution 4\r\nUsing the [`Timer`](https://developer.android.com/reference/java/util/Timer) and [`TimerTask`](https://developer.android.com/reference/java/util/TimerTask).\r\n```\r\nprivate class ConnectedThread extends Thread {\r\n    ...\r\n    private final Timer timer = new Timer(/* isDaemon */ true);\r\n    \r\n    public void run() {\r\n        Log.i(TAG, &quot;BEGIN mConnectedThread&quot;);\r\n        byte[] buffer = new byte[1024];\r\n        int bytes;\r\n        \r\n        // Keep listening to the InputStream while connected\r\n        while (mState == STATE_CONNECTED) {\r\n            try {\r\n                // Schedule to send the time out message after 10 secs\r\n                TimerTask timerTask = () -&gt; {\r\n                    mHandler.obtainMessage(Constants.MESSAGE_TIMEOUT).sendToTarget();\r\n                }\r\n                timer.schedule(timerTask, 10000);\r\n                \r\n                // Read from the InputStream\r\n                bytes = mmInStream.read(buffer);\r\n                \r\n                // There is new data from remote, cancel the 10secs timeout msg\r\n                timerTask.cancel(); \r\n                \r\n                // Send the obtained bytes to the UI Activity\r\n                mHandler.obtainMessage(Constants.MESSAGE_READ, bytes, -1, buffer)\r\n                .sendToTarget();\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;disconnected ~ &quot; + e.toString());\r\n                connectionLost();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOf course there are more approaches that can be applied for this case. But here, I&#39;ve provided the best approches for your case as far as I know. Just pick one of them as per your convenience since any of them will do the same job.  \r\n\r\nFinally regarding how to control vibration in Android, see [this](https://stackoverflow.com/q/13950338/12749998) good old and rich of information post to implement it in your application.","title":"How to implement if no bluetooth data is received within 10s, then vibrate the phone?","body":"<p>Here are several solutions to implement a logic to detect 10 secs time out in your <code>BtClientService.ConnectThread</code> for each connection apart. You can choose any of it as per your convenience.</p>\n<p>First let's get started by defining a new message code called <code>MESSAGE_TIMEOUT</code> in your related class so that we can let the main thread know that a 10 secs time out has occured.</p>\n\n<pre><code>class Constants {\n    ...\n    public static final int MESSAGE_TIMEOUT = 5 ///&lt; Give it an appropriate value\n    ...\n}\n</code></pre>\n<p>Add a new case statement to your handler in order to handle the time out.</p>\n<pre><code>private final Handler mHandler = new Handler() {\n    @Override\n    public void handleMessage(Message msg) {\n        switch (msg.what) {\n            case Constants.MESSAGE_READ:\n                byte[] readBuf = (byte[]) msg.obj;\n                // construct a string from the valid bytes in the buffer\n                String readMessage = new String(readBuf, 0, msg.arg1);\n                mConversationArrayAdapter.add(mConnectedDeviceName + &quot;:  &quot; + readMessage);\n                \n                isReceived = !TextUtils.isEmpty(readMessage.trim());\n                Log.d(TAG, &quot;mHandler - MESSAGE_READ - isReceived = &quot; + isReceived);\n                break;\n            case Constants.MESSAGE_DEVICE_NAME:\n                // save the connected device's name\n                mConnectedDeviceName = msg.getData().getString(Constants.DEVICE_NAME);\n                Toast.makeText(getApplicationContext(), &quot;Connected to &quot;\n                + mConnectedDeviceName, Toast.LENGTH_SHORT).show();\n                break;\n            case Constants.MESSAGE_TIMEOUT:\n                // Handle 10sec timeout here\n                break;\n        }\n    }\n}\n</code></pre>\n<p>Here it comes to implementing the 10 secs time out logic in several different APIs.</p>\n<h4>Solution 1</h4>\n<p>Using the <a href=\"https://developer.android.com/reference/android/os/Handler#sendMessageDelayed(android.os.Message,%20long)\" rel=\"nofollow noreferrer\"><code>sendMessageDelayed</code></a> and <a href=\"https://developer.android.com/reference/android/os/Handler#removeMessages(int)\" rel=\"nofollow noreferrer\"><code>removeMessages</code></a> pair to post a time out message after 10 secs if no data has received. If any data available within 10 seconds the posted message will be cancelled so it will not get executed.</p>\n<pre><code>private class ConnectedThread extends Thread {\n    ...\n    \n    public void run() {\n        Log.i(TAG, &quot;BEGIN mConnectedThread&quot;);\n        byte[] buffer = new byte[1024];\n        int bytes;\n        \n        // Keep listening to the InputStream while connected\n        while (mState == STATE_CONNECTED) {\n            try {\n                // Schedule to send the time out message after 10 secs\n                Message msg = mHandler.obtainMessage(Constants.MESSAGE_TIMEOUT);\n                mHandler.sendMessageDelayed(msg, 10000);\n                \n                // Read from the InputStream\n                bytes = mmInStream.read(buffer);\n                \n                // There is new data from remote, cancel the 10secs timeout msg\n                mHandler.removeMessages(Constants.MESSAGE_TIMEOUT);\n                \n                // Send the obtained bytes to the UI Activity\n                mHandler.obtainMessage(Constants.MESSAGE_READ, bytes, -1, buffer)\n                .sendToTarget();\n            } catch (IOException e) {\n                Log.e(TAG, &quot;disconnected ~ &quot; + e.toString());\n                connectionLost();\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<h4>Solution 2</h4>\n<p>Using the <a href=\"https://developer.android.com/reference/android/os/Handler#postDelayed(java.lang.Runnable,%20long)\" rel=\"nofollow noreferrer\"><code>postDelayed</code></a> and <a href=\"https://developer.android.com/reference/android/os/Handler#removeCallbacks(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>removeCallbacks</code></a> pair.</p>\n<pre><code>private class ConnectedThread extends Thread {\n    ...\n    \n    public void run() {\n        Log.i(TAG, &quot;BEGIN mConnectedThread&quot;);\n        byte[] buffer = new byte[1024];\n        int bytes;\n        \n        // Keep listening to the InputStream while connected\n        while (mState == STATE_CONNECTED) {\n            try {\n                // Schedule to send the time out message after 10 secs\n                Runnable runnable = () -&gt; {\n                    mHandler.obtainMessage(Constants.MESSAGE_TIMEOUT).sendToTarget();\n                }\n                mHandler.postDelayed(runnable, 10000);\n                \n                // Read from the InputStream\n                bytes = mmInStream.read(buffer);\n                \n                // There is new data from remote, cancel the 10secs timeout msg\n                mHandler.removeCallbacks(runnable);\n                \n                // Send the obtained bytes to the UI Activity\n                mHandler.obtainMessage(Constants.MESSAGE_READ, bytes, -1, buffer)\n                .sendToTarget();\n            } catch (IOException e) {\n                Log.e(TAG, &quot;disconnected ~ &quot; + e.toString());\n                connectionLost();\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<h4>Solution 3</h4>\n<p>Using the <a href=\"https://developer.android.com/reference/java/util/concurrent/ScheduledExecutorService\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService</code></a> and <a href=\"https://developer.android.com/reference/java/util/concurrent/ScheduledFuture\" rel=\"nofollow noreferrer\"><code>ScheduledFeature</code></a>.</p>\n<pre><code>private class ConnectedThread extends Thread {\n    ...\n    private final ScheduledExecutorService schexecutor = Executors.newSingleThreadScheduledExecutor();\n    \n    public void run() {\n        Log.i(TAG, &quot;BEGIN mConnectedThread&quot;);\n        byte[] buffer = new byte[1024];\n        int bytes;\n        \n        // Keep listening to the InputStream while connected\n        while (mState == STATE_CONNECTED) {\n            try {\n                // Schedule to send the time out message after 10 secs\n                Runnable runnable = () -&gt; {\n                    mHandler.obtainMessage(Constants.MESSAGE_TIMEOUT).sendToTarget();\n                }\n                ScheduledFeature&lt;?&gt; sf = schexecutor.schedule(runnable, 10, TimeUnit.SECONDS);\n                \n                // Read from the InputStream\n                bytes = mmInStream.read(buffer);\n                \n                // There is new data from remote, cancel the 10secs timeout msg\n                sf.cancel(/* mayInterruptIfRunning */ true); \n                \n                // Send the obtained bytes to the UI Activity\n                mHandler.obtainMessage(Constants.MESSAGE_READ, bytes, -1, buffer)\n                .sendToTarget();\n            } catch (IOException e) {\n                Log.e(TAG, &quot;disconnected ~ &quot; + e.toString());\n                connectionLost();\n                break;\n            }\n        }\n        // Shut down the scheduled executor service immediately upon exiting this thread\n        schexecutor.shutdownNow();\n    }\n}\n</code></pre>\n<h4>Solution 4</h4>\n<p>Using the <a href=\"https://developer.android.com/reference/java/util/Timer\" rel=\"nofollow noreferrer\"><code>Timer</code></a> and <a href=\"https://developer.android.com/reference/java/util/TimerTask\" rel=\"nofollow noreferrer\"><code>TimerTask</code></a>.</p>\n<pre><code>private class ConnectedThread extends Thread {\n    ...\n    private final Timer timer = new Timer(/* isDaemon */ true);\n    \n    public void run() {\n        Log.i(TAG, &quot;BEGIN mConnectedThread&quot;);\n        byte[] buffer = new byte[1024];\n        int bytes;\n        \n        // Keep listening to the InputStream while connected\n        while (mState == STATE_CONNECTED) {\n            try {\n                // Schedule to send the time out message after 10 secs\n                TimerTask timerTask = () -&gt; {\n                    mHandler.obtainMessage(Constants.MESSAGE_TIMEOUT).sendToTarget();\n                }\n                timer.schedule(timerTask, 10000);\n                \n                // Read from the InputStream\n                bytes = mmInStream.read(buffer);\n                \n                // There is new data from remote, cancel the 10secs timeout msg\n                timerTask.cancel(); \n                \n                // Send the obtained bytes to the UI Activity\n                mHandler.obtainMessage(Constants.MESSAGE_READ, bytes, -1, buffer)\n                .sendToTarget();\n            } catch (IOException e) {\n                Log.e(TAG, &quot;disconnected ~ &quot; + e.toString());\n                connectionLost();\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>Of course there are more approaches that can be applied for this case. But here, I've provided the best approches for your case as far as I know. Just pick one of them as per your convenience since any of them will do the same job.</p>\n<p>Finally regarding how to control vibration in Android, see <a href=\"https://stackoverflow.com/q/13950338/12749998\">this</a> good old and rich of information post to implement it in your application.</p>\n"}],"owner":{"account_id":1139949,"reputation":1,"user_id":8006580,"display_name":"PETRER"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688614887,"creation_date":1688367914,"question_id":76602539,"body_markdown":"android app implementation:\r\nMyActivity.java is the main interface, where mHandler receives messages from the peer Bluetooth,\r\nBtClientService.java defines the Bluetooth initialization, connection, read and write functions,\r\nMay I ask how to implement the function of vibrating to remind if no bluetooth data is received from the peer within 10s?\r\n\r\n\r\n1. Message receiving and processing in the MyActivity.mHandler, but this is not appropriate here, here is the processing of received messages;\r\n2. InputStream.available() is processed in BtClientService to determine whether the peer data has been received.\r\nBut the question here is, how to continuously monitor the data reception of the peer within 10s?\r\n\r\nAnother one, if the peer data is not received within 10s (in BtClientService.ConnectThread), how to let MyActivity know?\r\nhandler. sendMessage?\r\n\r\nin MyActivity.mHandler:\r\n\r\n    private final Handler mHandler = new Handler() {\r\n        @Override\r\n        public void handleMessage(Message msg) {\r\n            switch (msg.what) {\r\n                case Constants.MESSAGE_READ:\r\n                    byte[] readBuf = (byte[]) msg.obj;\r\n                    // construct a string from the valid bytes in the buffer\r\n                    String readMessage = new String(readBuf, 0, msg.arg1);\r\n                    mConversationArrayAdapter.add(mConnectedDeviceName + &quot;:  &quot; + readMessage);\r\n    \r\n                    isReceived = !TextUtils.isEmpty(readMessage.trim());\r\n                    Log.d(TAG, &quot;mHandler - MESSAGE_READ - isReceived = &quot; + isReceived);\r\n                    break;\r\n                case Constants.MESSAGE_DEVICE_NAME:\r\n                    // save the connected device&#39;s name\r\n                    mConnectedDeviceName = msg.getData().getString(Constants.DEVICE_NAME);\r\n                    Toast.makeText(getApplicationContext(), &quot;Connected to &quot;\r\n                            + mConnectedDeviceName, Toast.LENGTH_SHORT).show();\r\n                    break;\r\n\r\nin BtClientService.ConnectThread\r\n\r\n    private class ConnectedThread extends Thread {\r\n        private final BluetoothSocket mmSocket;\r\n        private final InputStream mmInStream;\r\n        private final OutputStream mmOutStream;\r\n    \r\n        public ConnectedThread(BluetoothSocket socket, String socketType) {\r\n            Log.d(TAG, &quot;create ConnectedThread: &quot; + socketType);\r\n            mmSocket = socket;\r\n            InputStream tmpIn = null;\r\n            OutputStream tmpOut = null;\r\n    \r\n            // Get the BluetoothSocket input and output streams\r\n            try {\r\n                tmpIn = socket.getInputStream();\r\n                tmpOut = socket.getOutputStream();\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;temp sockets not created ~ &quot; + e.toString());\r\n            }\r\n    \r\n            mmInStream = tmpIn;\r\n            mmOutStream = tmpOut;\r\n            mState = STATE_CONNECTED;\r\n        }\r\n    \r\n        public void run() {\r\n            Log.i(TAG, &quot;BEGIN mConnectedThread&quot;);\r\n            byte[] buffer = new byte[1024];\r\n            int bytes;\r\n    \r\n            // Keep listening to the InputStream while connected\r\n            while (mState == STATE_CONNECTED) {\r\n                try {\r\n                    // Read from the InputStream\r\n                    bytes = mmInStream.read(buffer);\r\n    \r\n                    // Send the obtained bytes to the UI Activity\r\n                    mHandler.obtainMessage(Constants.MESSAGE_READ, bytes, -1, buffer)\r\n                            .sendToTarget();\r\n                } catch (IOException e) {\r\n                    Log.e(TAG, &quot;disconnected ~ &quot; + e.toString());\r\n                    connectionLost();\r\n                    break;\r\n                }\r\n            }\r\n        }","title":"How to implement if no bluetooth data is received within 10s, then vibrate the phone?","body":"<p>android app implementation:\nMyActivity.java is the main interface, where mHandler receives messages from the peer Bluetooth,\nBtClientService.java defines the Bluetooth initialization, connection, read and write functions,\nMay I ask how to implement the function of vibrating to remind if no bluetooth data is received from the peer within 10s?</p>\n<ol>\n<li>Message receiving and processing in the MyActivity.mHandler, but this is not appropriate here, here is the processing of received messages;</li>\n<li>InputStream.available() is processed in BtClientService to determine whether the peer data has been received.\nBut the question here is, how to continuously monitor the data reception of the peer within 10s?</li>\n</ol>\n<p>Another one, if the peer data is not received within 10s (in BtClientService.ConnectThread), how to let MyActivity know?\nhandler. sendMessage?</p>\n<p>in MyActivity.mHandler:</p>\n<pre><code>private final Handler mHandler = new Handler() {\n    @Override\n    public void handleMessage(Message msg) {\n        switch (msg.what) {\n            case Constants.MESSAGE_READ:\n                byte[] readBuf = (byte[]) msg.obj;\n                // construct a string from the valid bytes in the buffer\n                String readMessage = new String(readBuf, 0, msg.arg1);\n                mConversationArrayAdapter.add(mConnectedDeviceName + &quot;:  &quot; + readMessage);\n\n                isReceived = !TextUtils.isEmpty(readMessage.trim());\n                Log.d(TAG, &quot;mHandler - MESSAGE_READ - isReceived = &quot; + isReceived);\n                break;\n            case Constants.MESSAGE_DEVICE_NAME:\n                // save the connected device's name\n                mConnectedDeviceName = msg.getData().getString(Constants.DEVICE_NAME);\n                Toast.makeText(getApplicationContext(), &quot;Connected to &quot;\n                        + mConnectedDeviceName, Toast.LENGTH_SHORT).show();\n                break;\n</code></pre>\n<p>in BtClientService.ConnectThread</p>\n<pre><code>private class ConnectedThread extends Thread {\n    private final BluetoothSocket mmSocket;\n    private final InputStream mmInStream;\n    private final OutputStream mmOutStream;\n\n    public ConnectedThread(BluetoothSocket socket, String socketType) {\n        Log.d(TAG, &quot;create ConnectedThread: &quot; + socketType);\n        mmSocket = socket;\n        InputStream tmpIn = null;\n        OutputStream tmpOut = null;\n\n        // Get the BluetoothSocket input and output streams\n        try {\n            tmpIn = socket.getInputStream();\n            tmpOut = socket.getOutputStream();\n        } catch (IOException e) {\n            Log.e(TAG, &quot;temp sockets not created ~ &quot; + e.toString());\n        }\n\n        mmInStream = tmpIn;\n        mmOutStream = tmpOut;\n        mState = STATE_CONNECTED;\n    }\n\n    public void run() {\n        Log.i(TAG, &quot;BEGIN mConnectedThread&quot;);\n        byte[] buffer = new byte[1024];\n        int bytes;\n\n        // Keep listening to the InputStream while connected\n        while (mState == STATE_CONNECTED) {\n            try {\n                // Read from the InputStream\n                bytes = mmInStream.read(buffer);\n\n                // Send the obtained bytes to the UI Activity\n                mHandler.obtainMessage(Constants.MESSAGE_READ, bytes, -1, buffer)\n                        .sendToTarget();\n            } catch (IOException e) {\n                Log.e(TAG, &quot;disconnected ~ &quot; + e.toString());\n                connectionLost();\n                break;\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea","spotbugs","find-sec-bugs"],"comments":[{"owner":{"account_id":11179248,"reputation":11890,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1688422416,"post_id":76595329,"comment_id":135069620,"body_markdown":"The issue looks rather like there are incompatible libraries in the classpath. Does deploy work from command line and fails only in IDE? Have you tried using different JDK version?","body":"The issue looks rather like there are incompatible libraries in the classpath. Does deploy work from command line and fails only in IDE? Have you tried using different JDK version?"},{"owner":{"account_id":28604951,"reputation":1,"user_id":22154358,"display_name":"Lewis Young"},"score":0,"creation_date":1688613781,"post_id":76595329,"comment_id":135097943,"body_markdown":"My system has JDK 8 and 11.  Whn I used Maven to run the test, and it was OK without an issue. When I use JDK 11, I get the following updated error in IntelliJ, which indicates an slf4j issue (IntelliJ uses an incompatible slf4j from Maven?):\n\norg.testng.TestNGException: \nAn error occurred while instantiating class com.h3xstream.findsecbugs.injection.http.HttpParameterPollutionDetectorTest: class org.slf4j.helpers.SubstituteLogger can not implement org.slf4j.Logger, because it is not an interface (org.slf4j.Logger is in unnamed module of loader &#39;app&#39;)","body":"My system has JDK 8 and 11.  Whn I used Maven to run the test, and it was OK without an issue. When I use JDK 11, I get the following updated error in IntelliJ, which indicates an slf4j issue (IntelliJ uses an incompatible slf4j from Maven?):  org.testng.TestNGException:  An error occurred while instantiating class com.h3xstream.findsecbugs.injection.http.HttpParameterPollut&zwnj;&#8203;ionDetectorTest: class org.slf4j.helpers.SubstituteLogger can not implement org.slf4j.Logger, because it is not an interface (org.slf4j.Logger is in unnamed module of loader &#39;app&#39;)"},{"owner":{"account_id":28604951,"reputation":1,"user_id":22154358,"display_name":"Lewis Young"},"score":0,"creation_date":1688614222,"post_id":76595329,"comment_id":135097988,"body_markdown":"I cannot put the entire output in comments, so I&#39;ve updated the original post with the new output.","body":"I cannot put the entire output in comments, so I&#39;ve updated the original post with the new output."},{"owner":{"account_id":28604951,"reputation":1,"user_id":22154358,"display_name":"Lewis Young"},"score":0,"creation_date":1688973829,"post_id":76595329,"comment_id":135141468,"body_markdown":"I couldn&#39;t find the exact cause, but fixed the issue by doing the following: I removed the JetBrain cache under ~/.cache/JetBrains and the .idea directory in the project and reimported the project. Afterward, I can debug it in IntelliJ.","body":"I couldn&#39;t find the exact cause, but fixed the issue by doing the following: I removed the JetBrain cache under ~/.cache/JetBrains and the .idea directory in the project and reimported the project. Afterward, I can debug it in IntelliJ."}],"owner":{"account_id":28604951,"reputation":1,"user_id":22154358,"display_name":"Lewis Young"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688614150,"creation_date":1688224823,"question_id":76595329,"body_markdown":"I&#39;m new to Find-Sec-Bugs (FSB) and want to trace through analysis steps by debugging the HttpParameterPollutionDetectorTest test in the IntelliJ IDE. I&#39;ve successfully run all tests with maven, but when I start to run/debug the HttpParameterPollutionDetectorTest.detectHttpParameterPollution method in IntelliJ, I get the following error. Can someone point me to a direction to fix it?\r\n\r\n```\r\n\r\n/usr/lib/jvm/java-1.11.0-openjdk-amd64/bin/java -ea -Didea.test.cyclic.buffer.size=41943040 -javaagent:/opt/idea-IU-222.3345.118/lib/idea_rt.jar=42285:/opt/idea-IU-222.3345.118/bin -Dfile.encoding=UTF-8 -classpath /opt/idea-IU-222.3345.118/lib/idea_rt.jar:/opt/idea-IU-222.3345.118/plugins/testng/lib/testng-rt.jar:/home/tester/work/find-sec-bugs-v1.12/out/test/test:/home/tester/work/find-sec-bugs-v1.12/out/production/test:/home/tester/work/find-sec-bugs-v1.12/findsecbugs-samples-java/target/test-classes:/home/tester/work/find-sec-bugs-v1.12/findsecbugs-samples-deps/target/classes:/home/tester/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/home/tester/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar:/home/tester/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/tester/.m2/repository/javax/jws/javax.jws-api/1.1/javax.jws-api-1.1.jar:/home/tester/work/find-sec-bugs-v1.12/out/production/main:/home/tester/.m2/repository/com/github/spotbugs/spotbugs/4.5.3/spotbugs-4.5.3.jar:/home/tester/.m2/repository/org/apache/bcel/bcel/6.5.0/bcel-6.5.0.jar:/home/tester/.m2/repository/com/github/spotbugs/spotbugs-annotations/4.5.3/spotbugs-annotations-4.5.3.jar:/home/tester/.m2/repository/org/ow2/asm/asm-tree/9.2/asm-tree-9.2.jar:/home/tester/work/find-sec-bugs-v1.12/findsecbugs-test-util/target/test-classes:/home/tester/.m2/repository/org/mockito/mockito-core/4.3.1/mockito-core-4.3.1.jar:/home/tester/.m2/repository/net/bytebuddy/byte-buddy/1.12.7/byte-buddy-1.12.7.jar:/home/tester/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.7/byte-buddy-agent-1.12.7.jar:/home/tester/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar:/home/tester/.m2/repository/org/hamcrest/hamcrest-core/2.2/hamcrest-core-2.2.jar:/home/tester/.m2/repository/org/hamcrest/hamcrest/2.2/hamcrest-2.2.jar:/home/tester/.m2/repository/org/testng/testng/7.4.0/testng-7.4.0.jar:/home/tester/.m2/repository/com/beust/jcommander/1.78/jcommander-1.78.jar:/home/tester/.m2/repository/org/webjars/jquery/3.5.1/jquery-3.5.1.jar:/home/tester/.m2/repository/org/slf4j/slf4j-api/1.7.26/slf4j-api-1.7.26.jar:/home/tester/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar:/home/tester/.m2/repository/org/ow2/asm/asm-analysis/9.2/asm-analysis-9.2.jar:/home/tester/.m2/repository/org/ow2/asm/asm-commons/9.2/asm-commons-9.2.jar:/home/tester/.m2/repository/org/ow2/asm/asm-util/9.2/asm-util-9.2.jar:/home/tester/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/home/tester/.m2/repository/org/dom4j/dom4j/2.1.3/dom4j-2.1.3.jar:/home/tester/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar:/home/tester/.m2/repository/org/apache/commons/commons-text/1.9/commons-text-1.9.jar:/home/tester/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/home/tester/.m2/repository/com/google/code/gson/gson/2.8.9/gson-2.8.9.jar:/home/tester/.m2/repository/jaxen/jaxen/1.2.0/jaxen-1.2.0.jar:/home/tester/.m2/repository/net/sf/saxon/Saxon-HE/10.6/Saxon-HE-10.6.jar com.intellij.rt.testng.RemoteTestNGStarter -usedefaultlisteners false -socket35251 @w@/var/tmp/idea_working_dirs_testng.tmp -temp /var/tmp/idea_testng.tmp\r\norg.testng.TestNGException: \r\nAn error occurred while instantiating class com.h3xstream.findsecbugs.injection.http.HttpParameterPollutionDetectorTest: class org.slf4j.helpers.SubstituteLogger can not implement org.slf4j.Logger, because it is not an interface (org.slf4j.Logger is in unnamed module of loader &#39;app&#39;)\r\n\tat org.testng.internal.InstanceCreator.createInstanceUsingObjectFactory(InstanceCreator.java:123)\r\n\tat org.testng.internal.InstanceCreator.createInstance(InstanceCreator.java:79)\r\n\tat org.testng.internal.objects.SimpleObjectDispenser.dispense(SimpleObjectDispenser.java:25)\r\n\tat org.testng.internal.objects.GuiceBasedObjectDispenser.dispense(GuiceBasedObjectDispenser.java:30)\r\n\tat org.testng.internal.ClassImpl.getDefaultInstance(ClassImpl.java:112)\r\n\tat org.testng.internal.ClassImpl.getInstances(ClassImpl.java:165)\r\n\tat org.testng.TestClass.getInstances(TestClass.java:122)\r\n\tat org.testng.TestClass.initTestClassesAndInstances(TestClass.java:102)\r\n\tat org.testng.TestClass.init(TestClass.java:94)\r\n\tat org.testng.TestClass.&lt;init&gt;(TestClass.java:59)\r\n\tat org.testng.TestRunner.initMethods(TestRunner.java:463)\r\n\tat org.testng.TestRunner.init(TestRunner.java:339)\r\n\tat org.testng.TestRunner.init(TestRunner.java:292)\r\n\tat org.testng.TestRunner.&lt;init&gt;(TestRunner.java:183)\r\n\tat org.testng.SuiteRunner$DefaultTestRunnerFactory.newTestRunner(SuiteRunner.java:596)\r\n\tat org.testng.SuiteRunner.init(SuiteRunner.java:173)\r\n\tat org.testng.SuiteRunner.&lt;init&gt;(SuiteRunner.java:107)\r\n\tat org.testng.TestNG.createSuiteRunner(TestNG.java:1300)\r\n\tat org.testng.TestNG.createSuiteRunners(TestNG.java:1276)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1125)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng.TestNG.run(TestNG.java:1031)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\nCaused by: java.lang.IncompatibleClassChangeError: class org.slf4j.helpers.SubstituteLogger can not implement org.slf4j.Logger, because it is not an interface (org.slf4j.Logger is in unnamed module of loader &#39;app&#39;)\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\tat org.slf4j.LoggerFactory.&lt;clinit&gt;(LoggerFactory.java:86)\r\n\tat com.h3xstream.findbugs.test.BaseDetectorTest.&lt;clinit&gt;(BaseDetectorTest.java:40)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.testng.internal.ObjectFactoryImpl.newInstance(ObjectFactoryImpl.java:23)\r\n\tat org.testng.internal.InstanceCreator.instantiateUsingDefaultConstructor(InstanceCreator.java:193)\r\n\tat org.testng.internal.InstanceCreator.createInstanceUsingObjectFactory(InstanceCreator.java:113)\r\n\t... 23 more\r\n\r\nProcess finished with exit code 255\r\n\r\n```","title":"How to debug a detector test in the IntelliJ idea?","body":"<p>I'm new to Find-Sec-Bugs (FSB) and want to trace through analysis steps by debugging the HttpParameterPollutionDetectorTest test in the IntelliJ IDE. I've successfully run all tests with maven, but when I start to run/debug the HttpParameterPollutionDetectorTest.detectHttpParameterPollution method in IntelliJ, I get the following error. Can someone point me to a direction to fix it?</p>\n<pre><code>\n/usr/lib/jvm/java-1.11.0-openjdk-amd64/bin/java -ea -Didea.test.cyclic.buffer.size=41943040 -javaagent:/opt/idea-IU-222.3345.118/lib/idea_rt.jar=42285:/opt/idea-IU-222.3345.118/bin -Dfile.encoding=UTF-8 -classpath /opt/idea-IU-222.3345.118/lib/idea_rt.jar:/opt/idea-IU-222.3345.118/plugins/testng/lib/testng-rt.jar:/home/tester/work/find-sec-bugs-v1.12/out/test/test:/home/tester/work/find-sec-bugs-v1.12/out/production/test:/home/tester/work/find-sec-bugs-v1.12/findsecbugs-samples-java/target/test-classes:/home/tester/work/find-sec-bugs-v1.12/findsecbugs-samples-deps/target/classes:/home/tester/.m2/repository/commons-codec/commons-codec/1.9/commons-codec-1.9.jar:/home/tester/.m2/repository/commons-io/commons-io/2.11.0/commons-io-2.11.0.jar:/home/tester/.m2/repository/javax/activation/activation/1.1.1/activation-1.1.1.jar:/home/tester/.m2/repository/javax/jws/javax.jws-api/1.1/javax.jws-api-1.1.jar:/home/tester/work/find-sec-bugs-v1.12/out/production/main:/home/tester/.m2/repository/com/github/spotbugs/spotbugs/4.5.3/spotbugs-4.5.3.jar:/home/tester/.m2/repository/org/apache/bcel/bcel/6.5.0/bcel-6.5.0.jar:/home/tester/.m2/repository/com/github/spotbugs/spotbugs-annotations/4.5.3/spotbugs-annotations-4.5.3.jar:/home/tester/.m2/repository/org/ow2/asm/asm-tree/9.2/asm-tree-9.2.jar:/home/tester/work/find-sec-bugs-v1.12/findsecbugs-test-util/target/test-classes:/home/tester/.m2/repository/org/mockito/mockito-core/4.3.1/mockito-core-4.3.1.jar:/home/tester/.m2/repository/net/bytebuddy/byte-buddy/1.12.7/byte-buddy-1.12.7.jar:/home/tester/.m2/repository/net/bytebuddy/byte-buddy-agent/1.12.7/byte-buddy-agent-1.12.7.jar:/home/tester/.m2/repository/org/objenesis/objenesis/3.2/objenesis-3.2.jar:/home/tester/.m2/repository/org/hamcrest/hamcrest-core/2.2/hamcrest-core-2.2.jar:/home/tester/.m2/repository/org/hamcrest/hamcrest/2.2/hamcrest-2.2.jar:/home/tester/.m2/repository/org/testng/testng/7.4.0/testng-7.4.0.jar:/home/tester/.m2/repository/com/beust/jcommander/1.78/jcommander-1.78.jar:/home/tester/.m2/repository/org/webjars/jquery/3.5.1/jquery-3.5.1.jar:/home/tester/.m2/repository/org/slf4j/slf4j-api/1.7.26/slf4j-api-1.7.26.jar:/home/tester/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar:/home/tester/.m2/repository/org/ow2/asm/asm-analysis/9.2/asm-analysis-9.2.jar:/home/tester/.m2/repository/org/ow2/asm/asm-commons/9.2/asm-commons-9.2.jar:/home/tester/.m2/repository/org/ow2/asm/asm-util/9.2/asm-util-9.2.jar:/home/tester/.m2/repository/net/jcip/jcip-annotations/1.0/jcip-annotations-1.0.jar:/home/tester/.m2/repository/org/dom4j/dom4j/2.1.3/dom4j-2.1.3.jar:/home/tester/.m2/repository/org/apache/commons/commons-lang3/3.12.0/commons-lang3-3.12.0.jar:/home/tester/.m2/repository/org/apache/commons/commons-text/1.9/commons-text-1.9.jar:/home/tester/.m2/repository/com/google/code/findbugs/jsr305/3.0.2/jsr305-3.0.2.jar:/home/tester/.m2/repository/com/google/code/gson/gson/2.8.9/gson-2.8.9.jar:/home/tester/.m2/repository/jaxen/jaxen/1.2.0/jaxen-1.2.0.jar:/home/tester/.m2/repository/net/sf/saxon/Saxon-HE/10.6/Saxon-HE-10.6.jar com.intellij.rt.testng.RemoteTestNGStarter -usedefaultlisteners false -socket35251 @w@/var/tmp/idea_working_dirs_testng.tmp -temp /var/tmp/idea_testng.tmp\norg.testng.TestNGException: \nAn error occurred while instantiating class com.h3xstream.findsecbugs.injection.http.HttpParameterPollutionDetectorTest: class org.slf4j.helpers.SubstituteLogger can not implement org.slf4j.Logger, because it is not an interface (org.slf4j.Logger is in unnamed module of loader 'app')\n    at org.testng.internal.InstanceCreator.createInstanceUsingObjectFactory(InstanceCreator.java:123)\n    at org.testng.internal.InstanceCreator.createInstance(InstanceCreator.java:79)\n    at org.testng.internal.objects.SimpleObjectDispenser.dispense(SimpleObjectDispenser.java:25)\n    at org.testng.internal.objects.GuiceBasedObjectDispenser.dispense(GuiceBasedObjectDispenser.java:30)\n    at org.testng.internal.ClassImpl.getDefaultInstance(ClassImpl.java:112)\n    at org.testng.internal.ClassImpl.getInstances(ClassImpl.java:165)\n    at org.testng.TestClass.getInstances(TestClass.java:122)\n    at org.testng.TestClass.initTestClassesAndInstances(TestClass.java:102)\n    at org.testng.TestClass.init(TestClass.java:94)\n    at org.testng.TestClass.&lt;init&gt;(TestClass.java:59)\n    at org.testng.TestRunner.initMethods(TestRunner.java:463)\n    at org.testng.TestRunner.init(TestRunner.java:339)\n    at org.testng.TestRunner.init(TestRunner.java:292)\n    at org.testng.TestRunner.&lt;init&gt;(TestRunner.java:183)\n    at org.testng.SuiteRunner$DefaultTestRunnerFactory.newTestRunner(SuiteRunner.java:596)\n    at org.testng.SuiteRunner.init(SuiteRunner.java:173)\n    at org.testng.SuiteRunner.&lt;init&gt;(SuiteRunner.java:107)\n    at org.testng.TestNG.createSuiteRunner(TestNG.java:1300)\n    at org.testng.TestNG.createSuiteRunners(TestNG.java:1276)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1125)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\nCaused by: java.lang.IncompatibleClassChangeError: class org.slf4j.helpers.SubstituteLogger can not implement org.slf4j.Logger, because it is not an interface (org.slf4j.Logger is in unnamed module of loader 'app')\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:174)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:800)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:698)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:621)\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:579)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    at org.slf4j.LoggerFactory.&lt;clinit&gt;(LoggerFactory.java:86)\n    at com.h3xstream.findbugs.test.BaseDetectorTest.&lt;clinit&gt;(BaseDetectorTest.java:40)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.testng.internal.ObjectFactoryImpl.newInstance(ObjectFactoryImpl.java:23)\n    at org.testng.internal.InstanceCreator.instantiateUsingDefaultConstructor(InstanceCreator.java:193)\n    at org.testng.internal.InstanceCreator.createInstanceUsingObjectFactory(InstanceCreator.java:113)\n    ... 23 more\n\nProcess finished with exit code 255\n\n</code></pre>\n"},{"tags":["java","algorithm","data-structures"],"answers":[{"tags":[],"owner":{"account_id":7236687,"reputation":1753,"user_id":5521670,"display_name":"imon Koc&#250;rek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688494879,"creation_date":1688494879,"answer_id":76615066,"question_id":76614958,"body_markdown":"It is **not**.\r\n\r\nIt&#39;s an iteration that is using **all** the results up to the start of the array, so the window of results &quot;does **not** slide&quot;.","title":"Why is this sliding window?","body":"<p>It is <strong>not</strong>.</p>\n<p>It's an iteration that is using <strong>all</strong> the results up to the start of the array, so the window of results &quot;does <strong>not</strong> slide&quot;.</p>\n"},{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688613682,"creation_date":1688496905,"answer_id":76615251,"question_id":76614958,"body_markdown":"&gt; part of the strategy is that map stores sums as keys, all with values of 1.\r\n\r\nYes, that would be true if the input numbers are all **positive** numbers. But realise that the input values may be negative. This scenario is not presented in the two examples that are given, so let me give you one:\r\n\r\n```\r\nInput: nums = [1, -1, 1, -1, 1, -1], k = 0\r\nOutput: 9\r\n```\r\n\r\nThe sub arrays that are counted, can be represented as follows:\r\n\r\n```\r\n[1, -1]                  // 1 that has its last element at index 1\r\n   [-1, 1]               // 1 that has its last element at index 2\r\n[1, -1, 1, -1]           // 2 that have their last elements at index 3\r\n       [1, -1] \r\n   [-1, 1, -1, 1]        // 2 that have their last elements at index 4\r\n          [-1, 1]\r\n[1, -1, 1, -1, 1, -1]    // 3 that have their last elements at index 5\r\n       [1, -1, 1, -1]\r\n              [1, -1]\r\n```\r\n\r\nAs there are many overlapping sub arrays that sum up to 0, the map becomes useful: for each value of the running sum, it has an entry that gives the number of sub arrays so far that have that same sum.\r\n\r\nWe can monitor the evolution of the map (and the sum and result) for this example:\r\n\r\n| i           | sum | sum - k | get from map | result | put in map | map\r\n| ----------- | --- | ------- | ------------ | -----  | ---------- | --\r\n| before loop | 0   | --      | --           | 0      | `put(0, 1)`| `{ 0: 1 }`\r\n| 0           | 1   | 1       | --           | 0      | `put(1, 1)`| `{ 0: 1, 1: 1 }`\r\n| 1           | 0   | 0       | `get(0)`  1 | 1      | `put(0, 2)`| `{ 0: 2, 1: 1 }`\r\n| 2           | 1   | 1       | `get(1)`  1 | 2      | `put(1, 2)`| `{ 0: 2, 1: 2 }`\r\n| 3           | 0   | 0       | `get(0)`  2 | 4      | `put(0, 3)`| `{ 0: 3, 1: 2 }`\r\n| 4           | 1   | 1       | `get(1)`  2 | 6      | `put(1, 3)`| `{ 0: 3, 1: 3 }`\r\n| 5           | 0   | 0       | `get(0)`  3 | 9      | `put(0, 4)`| `{ 0: 4, 1: 3 }`\r\n\r\nI wouldn&#39;t call this a *sliding window* algorithm though.","title":"Why is this sliding window?","body":"<blockquote>\n<p>part of the strategy is that map stores sums as keys, all with values of 1.</p>\n</blockquote>\n<p>Yes, that would be true if the input numbers are all <strong>positive</strong> numbers. But realise that the input values may be negative. This scenario is not presented in the two examples that are given, so let me give you one:</p>\n<pre><code>Input: nums = [1, -1, 1, -1, 1, -1], k = 0\nOutput: 9\n</code></pre>\n<p>The sub arrays that are counted, can be represented as follows:</p>\n<pre><code>[1, -1]                  // 1 that has its last element at index 1\n   [-1, 1]               // 1 that has its last element at index 2\n[1, -1, 1, -1]           // 2 that have their last elements at index 3\n       [1, -1] \n   [-1, 1, -1, 1]        // 2 that have their last elements at index 4\n          [-1, 1]\n[1, -1, 1, -1, 1, -1]    // 3 that have their last elements at index 5\n       [1, -1, 1, -1]\n              [1, -1]\n</code></pre>\n<p>As there are many overlapping sub arrays that sum up to 0, the map becomes useful: for each value of the running sum, it has an entry that gives the number of sub arrays so far that have that same sum.</p>\n<p>We can monitor the evolution of the map (and the sum and result) for this example:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>i</th>\n<th>sum</th>\n<th>sum - k</th>\n<th>get from map</th>\n<th>result</th>\n<th>put in map</th>\n<th>map</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>before loop</td>\n<td>0</td>\n<td>--</td>\n<td>--</td>\n<td>0</td>\n<td><code>put(0, 1)</code></td>\n<td><code>{ 0: 1 }</code></td>\n</tr>\n<tr>\n<td>0</td>\n<td>1</td>\n<td>1</td>\n<td>--</td>\n<td>0</td>\n<td><code>put(1, 1)</code></td>\n<td><code>{ 0: 1, 1: 1 }</code></td>\n</tr>\n<tr>\n<td>1</td>\n<td>0</td>\n<td>0</td>\n<td><code>get(0)</code>  1</td>\n<td>1</td>\n<td><code>put(0, 2)</code></td>\n<td><code>{ 0: 2, 1: 1 }</code></td>\n</tr>\n<tr>\n<td>2</td>\n<td>1</td>\n<td>1</td>\n<td><code>get(1)</code>  1</td>\n<td>2</td>\n<td><code>put(1, 2)</code></td>\n<td><code>{ 0: 2, 1: 2 }</code></td>\n</tr>\n<tr>\n<td>3</td>\n<td>0</td>\n<td>0</td>\n<td><code>get(0)</code>  2</td>\n<td>4</td>\n<td><code>put(0, 3)</code></td>\n<td><code>{ 0: 3, 1: 2 }</code></td>\n</tr>\n<tr>\n<td>4</td>\n<td>1</td>\n<td>1</td>\n<td><code>get(1)</code>  2</td>\n<td>6</td>\n<td><code>put(1, 3)</code></td>\n<td><code>{ 0: 3, 1: 3 }</code></td>\n</tr>\n<tr>\n<td>5</td>\n<td>0</td>\n<td>0</td>\n<td><code>get(0)</code>  3</td>\n<td>9</td>\n<td><code>put(0, 4)</code></td>\n<td><code>{ 0: 4, 1: 3 }</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I wouldn't call this a <em>sliding window</em> algorithm though.</p>\n"},{"tags":[],"owner":{"account_id":17386577,"reputation":3141,"user_id":12597781,"display_name":"Christopher Miller"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688496937,"creation_date":1688496937,"answer_id":76615253,"question_id":76614958,"body_markdown":"This is not a sliding window. This is to prefix sums - you store the prefix sums in a Map so that you can check if a certain subarray has the desired sum.","title":"Why is this sliding window?","body":"<p>This is not a sliding window. This is to prefix sums - you store the prefix sums in a Map so that you can check if a certain subarray has the desired sum.</p>\n"}],"owner":{"account_id":11020509,"reputation":354,"user_id":8094926,"display_name":"chocalaca"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76615251,"answer_count":3,"score":0,"last_activity_date":1688613682,"creation_date":1688493670,"question_id":76614958,"body_markdown":"https://leetcode.com/problems/subarray-sum-equals-k/solutions/3662440/easy-java-sliding-window-o-n/\r\n\r\nI don&#39;t understand the strategy here. The answer below is listed in the category of &#39;sliding window&#39;. I understand what that is, but how does this solution implement that? With sliding window, I&#39;d expect sum to be re-initialized to zero at some point, but it&#39;s not here. \r\n\r\nTo me, at least part of the strategy is that map stores sums as keys, all with values of 1. If a sum-k key is present, increment result with key&#39;s value. Be that true or not, i don&#39;t understand the condition with which result is incremented.\r\n\r\nCan someone please explain? \r\n\r\n    public int subarraySum(int[] nums, int k) {\r\n        int sum = 0, result = 0;\r\n        Map&lt;Integer, Integer&gt; preSum = new HashMap&lt;&gt;();\r\n        preSum.put(0, 1);\r\n        \r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            sum += nums[i];\r\n            if (preSum.containsKey(sum - k)) {\r\n                result += preSum.get(sum - k);\r\n            }\r\n            preSum.put(sum, preSum.getOrDefault(sum, 0) + 1);\r\n        }\r\n        return result;\r\n    }\r\n\r\n","title":"Why is this sliding window?","body":"<p><a href=\"https://leetcode.com/problems/subarray-sum-equals-k/solutions/3662440/easy-java-sliding-window-o-n/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/subarray-sum-equals-k/solutions/3662440/easy-java-sliding-window-o-n/</a></p>\n<p>I don't understand the strategy here. The answer below is listed in the category of 'sliding window'. I understand what that is, but how does this solution implement that? With sliding window, I'd expect sum to be re-initialized to zero at some point, but it's not here.</p>\n<p>To me, at least part of the strategy is that map stores sums as keys, all with values of 1. If a sum-k key is present, increment result with key's value. Be that true or not, i don't understand the condition with which result is incremented.</p>\n<p>Can someone please explain?</p>\n<pre><code>public int subarraySum(int[] nums, int k) {\n    int sum = 0, result = 0;\n    Map&lt;Integer, Integer&gt; preSum = new HashMap&lt;&gt;();\n    preSum.put(0, 1);\n    \n    for (int i = 0; i &lt; nums.length; i++) {\n        sum += nums[i];\n        if (preSum.containsKey(sum - k)) {\n            result += preSum.get(sum - k);\n        }\n        preSum.put(sum, preSum.getOrDefault(sum, 0) + 1);\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","swing","jtextfield","documentfilter"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688598735,"post_id":76624048,"comment_id":135096681,"body_markdown":"You should write a set of unit tests","body":"You should write a set of unit tests"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688614383,"post_id":76624048,"comment_id":135098001,"body_markdown":"*I may not have a complete grasp on what FilterBypass does or represents.* - me either. I would suggest you could just use `super.replace(...)` to update the Document. Then just use your `super.remove(...)` to remove excess digits. There would be no need to use the `insertString(...)` method.","body":"<i>I may not have a complete grasp on what FilterBypass does or represents.</i> - me either. I would suggest you could just use <code>super.replace(...)</code> to update the Document. Then just use your <code>super.remove(...)</code> to remove excess digits. There would be no need to use the <code>insertString(...)</code> method."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688613404,"creation_date":1688602529,"answer_id":76624772,"question_id":76624048,"body_markdown":"Check out: https://stackoverflow.com/a/44207361/131872 for an example that might get you started.\r\n\r\nThe code as posted will:\r\n\r\n1. only allow you to enter digits on the right\r\n2. allow you to enter unlimited number of digits.\r\n\r\nThe example uses a `StringBuffer` to build the text to insert into the `Document`.\r\n\r\nIt is not exactly what you want but I think you can use its concepts to implement your requirement.\r\n\r\nFirst test the code as is to understand how it works. You would use:\r\n\r\n    DecimalFormat format = new DecimalFormat(&quot;000&quot;);\r\n\r\nto provide default formatting with leading zeros.\r\n\r\nThen, to limit the digits entered, you can remove the excess digits in the StringBuffer in the `replace(...)` method:\r\n\r\n    sb.append(str);\r\n    \r\n    if (sb.length() &gt; 3)\r\n    \tsb.delete(0, sb.length() - 3);\r\n\r\nOther changes you will need to make:\r\n\r\n1. you don&#39;t need the &quot;decimal point&quot; logic\r\n2. you want the ability to insert characters at any point in the string. You will need to change the `sb.append(...)` logic.\r\n\r\nI haven&#39;t tested it but I assume you can just use:\r\n\r\n    sb.insert(offs, str);\r\n","title":"JTextField and DocumentFilter: how to limit document length by having extra characters drop off the end of the string","body":"<p>Check out: <a href=\"https://stackoverflow.com/a/44207361/131872\">https://stackoverflow.com/a/44207361/131872</a> for an example that might get you started.</p>\n<p>The code as posted will:</p>\n<ol>\n<li>only allow you to enter digits on the right</li>\n<li>allow you to enter unlimited number of digits.</li>\n</ol>\n<p>The example uses a <code>StringBuffer</code> to build the text to insert into the <code>Document</code>.</p>\n<p>It is not exactly what you want but I think you can use its concepts to implement your requirement.</p>\n<p>First test the code as is to understand how it works. You would use:</p>\n<pre><code>DecimalFormat format = new DecimalFormat(&quot;000&quot;);\n</code></pre>\n<p>to provide default formatting with leading zeros.</p>\n<p>Then, to limit the digits entered, you can remove the excess digits in the StringBuffer in the <code>replace(...)</code> method:</p>\n<pre><code>sb.append(str);\n\nif (sb.length() &gt; 3)\n    sb.delete(0, sb.length() - 3);\n</code></pre>\n<p>Other changes you will need to make:</p>\n<ol>\n<li>you don't need the &quot;decimal point&quot; logic</li>\n<li>you want the ability to insert characters at any point in the string. You will need to change the <code>sb.append(...)</code> logic.</li>\n</ol>\n<p>I haven't tested it but I assume you can just use:</p>\n<pre><code>sb.insert(offs, str);\n</code></pre>\n"}],"owner":{"account_id":15312943,"reputation":51,"user_id":11047692,"display_name":"R. K&#229;bis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688613404,"creation_date":1688591290,"question_id":76624048,"body_markdown":"I have been looking through a lot of DocumentFilter examples, and have realized that my needs are a bit unusual:\r\n\r\n* Three characters, maximum\r\n* Only digits, 0-9, nothing else\r\n* Automatically zero-filled to the left\r\n\r\nAnd its these three requirements _together_ that I am having problems with, particularly the maximum length issue.\r\n\r\nMost examples I have seen simply stop extra characters from being added, usually with a system beep. But I cannot _prevent_ characters from being added, because with the very first numerical character, the entire string will get zero-filled. So adding another two numbers would be a no-go if the objective of the code is to prevent additional characters from being entered once the string hits maximum length, because even with the first number there will be two zeros added in front of it.\r\n\r\nIn my case, that zero-filled content needs to drop off the left side of the string. And this can continue even if the user continues adding numbers - any character which is in the fourth (or more) position _from the right_ needs to be disposed of. The problem is, the numbers dropping off are (likely) the ones in the document, and _not_ the ones being added.\r\n\r\nFrom what I understand, the sequence of actions I need to complete is as follows:\r\n\r\n1. Grab the inserted/added content\r\n2. Filter out/replace non-numerical content (as desired)\r\n3. Call the original content (from the document)\r\n4. Insert the new content into the original content\r\n5. Hold this content temporarily (outside of the document)\r\n6. Trim or pad the temporary content appropriately, depending on length\r\n7. Wipe the document entirely\r\n8. Add the entire temporary content to the document\r\n\r\nBecause the trim/pad occurs on the _entire content_ and not just the newly-added content, we need to do this on the entire document. We cannot do this to only the characters that have been added or pasted into the document.\r\n\r\nRight now, my best attempt is as follows:\r\n\r\n    @Override\r\n    public void replace( FilterBypass fb\r\n            , int offset\r\n            , int length\r\n            , String text\r\n            , AttributeSet attributes ) throws BadLocationException {\r\n        int editedLength = fb.getDocument().getLength() + text.length();\r\n        int exceedsLength = editedLength - maxLength;\r\n        String content = sanitizeNumeric( text.trim() );\r\n\r\n        // Temporarily update the document\r\n        fb.replace( offset\r\n                , length\r\n                , content\r\n                , attributes );\r\n\r\n        // If the document exceeds the maximum allowable length, trim it.\r\n        if ( exceedsLength &gt; 0 ) {\r\n            String fullString = fb.getDocument().getText( 0, editedLength - 1 );\r\n            String trimmedString = trimSide( fullString, exceedsLength );\r\n\r\n            // Clear the original document - essentially, everything in the JTextField\r\n            super.remove( fb\r\n                    , 0\r\n                    , editedLength - 1 );\r\n\r\n            // Overwrite with the temporary padded/trimmed document\r\n            super.insertString( fb\r\n                    , 0\r\n                    , trimmedString\r\n                    , attributes);\r\n        }\r\n    }\r\n\r\nMy issue occurs in the lower half - when doing the `fb.replace`, is the `fb.getDocument().getText( 0, editedLength - 1 );` further down accessing this new, combined document, or is it accessing the old document that does not have the newly-entered characters?\r\n\r\nPlease note that this does not yet have the zero-fill padding, I am just trying to hash it out such that a fourth character entered anywhere in the document causes the left-hand-most character to drop off of the document. I am not trying to prevent a fourth character from being added, only that its addition bumps everything left to it over, and bumps the one furthest left clear off of the document.\r\n\r\nTL;DR: I may not have a complete grasp on what `FilterBypass` does or represents.","title":"JTextField and DocumentFilter: how to limit document length by having extra characters drop off the end of the string","body":"<p>I have been looking through a lot of DocumentFilter examples, and have realized that my needs are a bit unusual:</p>\n<ul>\n<li>Three characters, maximum</li>\n<li>Only digits, 0-9, nothing else</li>\n<li>Automatically zero-filled to the left</li>\n</ul>\n<p>And its these three requirements <em>together</em> that I am having problems with, particularly the maximum length issue.</p>\n<p>Most examples I have seen simply stop extra characters from being added, usually with a system beep. But I cannot <em>prevent</em> characters from being added, because with the very first numerical character, the entire string will get zero-filled. So adding another two numbers would be a no-go if the objective of the code is to prevent additional characters from being entered once the string hits maximum length, because even with the first number there will be two zeros added in front of it.</p>\n<p>In my case, that zero-filled content needs to drop off the left side of the string. And this can continue even if the user continues adding numbers - any character which is in the fourth (or more) position <em>from the right</em> needs to be disposed of. The problem is, the numbers dropping off are (likely) the ones in the document, and <em>not</em> the ones being added.</p>\n<p>From what I understand, the sequence of actions I need to complete is as follows:</p>\n<ol>\n<li>Grab the inserted/added content</li>\n<li>Filter out/replace non-numerical content (as desired)</li>\n<li>Call the original content (from the document)</li>\n<li>Insert the new content into the original content</li>\n<li>Hold this content temporarily (outside of the document)</li>\n<li>Trim or pad the temporary content appropriately, depending on length</li>\n<li>Wipe the document entirely</li>\n<li>Add the entire temporary content to the document</li>\n</ol>\n<p>Because the trim/pad occurs on the <em>entire content</em> and not just the newly-added content, we need to do this on the entire document. We cannot do this to only the characters that have been added or pasted into the document.</p>\n<p>Right now, my best attempt is as follows:</p>\n<pre><code>@Override\npublic void replace( FilterBypass fb\n        , int offset\n        , int length\n        , String text\n        , AttributeSet attributes ) throws BadLocationException {\n    int editedLength = fb.getDocument().getLength() + text.length();\n    int exceedsLength = editedLength - maxLength;\n    String content = sanitizeNumeric( text.trim() );\n\n    // Temporarily update the document\n    fb.replace( offset\n            , length\n            , content\n            , attributes );\n\n    // If the document exceeds the maximum allowable length, trim it.\n    if ( exceedsLength &gt; 0 ) {\n        String fullString = fb.getDocument().getText( 0, editedLength - 1 );\n        String trimmedString = trimSide( fullString, exceedsLength );\n\n        // Clear the original document - essentially, everything in the JTextField\n        super.remove( fb\n                , 0\n                , editedLength - 1 );\n\n        // Overwrite with the temporary padded/trimmed document\n        super.insertString( fb\n                , 0\n                , trimmedString\n                , attributes);\n    }\n}\n</code></pre>\n<p>My issue occurs in the lower half - when doing the <code>fb.replace</code>, is the <code>fb.getDocument().getText( 0, editedLength - 1 );</code> further down accessing this new, combined document, or is it accessing the old document that does not have the newly-entered characters?</p>\n<p>Please note that this does not yet have the zero-fill padding, I am just trying to hash it out such that a fourth character entered anywhere in the document causes the left-hand-most character to drop off of the document. I am not trying to prevent a fourth character from being added, only that its addition bumps everything left to it over, and bumps the one furthest left clear off of the document.</p>\n<p>TL;DR: I may not have a complete grasp on what <code>FilterBypass</code> does or represents.</p>\n"},{"tags":["java","bouncycastle","aes-gcm"],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1639476397,"creation_date":1639469223,"answer_id":70345598,"question_id":70345404,"body_markdown":"The length of the GCM tag used here is not 32, but 16 bytes.\r\n\r\nFurthermore, the BC provider expects ciphertext and tag in concatenated form (ciphertext|tag). \r\n\r\nAnd you have to hex decode key, IV, ciphertext and tag. Since you are running BouncyCastle, you can use `org.bouncycastle.util.encoders.Hex.decode(...)`. \r\n\r\nOverall:\r\n\r\n```java\r\nimport org.bouncycastle.util.encoders.Hex;\r\n...\r\npublic static final int GCM_TAG_LENGTH = 16;\r\n...\t\r\nSecretKeySpec secretKey = new SecretKeySpec(Hex.decode(key), &quot;AES&quot;);\r\nSystem.out.println(decrypt(Hex.decode(input + GCMTag), secretKey, Hex.decode(IV))); // 985\r\n```\r\n\r\n----------\r\n\r\nIt is not clear from your code whether you are using a static IV/nonce. If so, you should be aware that using a static IV/nonce for GCM is a serious problem, s. e.g. [here][1].&lt;br&gt;\r\nInstead, for each encryption, a random (non-secret) IV/nonce is generated, concatenated with the ciphertext (and tag), and sent together to the decrypting side, which can separate the IV/nonce based on the known IV/nonce size (12 bytes for GCM).\r\n\r\n---------\r\n\r\nAES/GCM is also supported by the SunJCE provider (at least as of Java 8, s. e.g. [here][3]), so you may not need BouncyCastle. For hex decoding you can then use a solution from [this post][2]. Starting with Java 17 there is a built-in support.\r\n\r\n[1]: https://crypto.stackexchange.com/q/26790\r\n[2]: https://stackoverflow.com/q/140131/9014097\r\n[3]: https://stackoverflow.com/q/37431211/9014097\r\n","title":"How can I decrypt using BouncyCastle, a string using a GCM Tag , IV string and Key string, all of them in HEX?","body":"<p>The length of the GCM tag used here is not 32, but 16 bytes.</p>\n<p>Furthermore, the BC provider expects ciphertext and tag in concatenated form (ciphertext|tag).</p>\n<p>And you have to hex decode key, IV, ciphertext and tag. Since you are running BouncyCastle, you can use <code>org.bouncycastle.util.encoders.Hex.decode(...)</code>.</p>\n<p>Overall:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.bouncycastle.util.encoders.Hex;\n...\npublic static final int GCM_TAG_LENGTH = 16;\n... \nSecretKeySpec secretKey = new SecretKeySpec(Hex.decode(key), &quot;AES&quot;);\nSystem.out.println(decrypt(Hex.decode(input + GCMTag), secretKey, Hex.decode(IV))); // 985\n</code></pre>\n<hr />\n<p>It is not clear from your code whether you are using a static IV/nonce. If so, you should be aware that using a static IV/nonce for GCM is a serious problem, s. e.g. <a href=\"https://crypto.stackexchange.com/q/26790\">here</a>.<br>\nInstead, for each encryption, a random (non-secret) IV/nonce is generated, concatenated with the ciphertext (and tag), and sent together to the decrypting side, which can separate the IV/nonce based on the known IV/nonce size (12 bytes for GCM).</p>\n<hr />\n<p>AES/GCM is also supported by the SunJCE provider (at least as of Java 8, s. e.g. <a href=\"https://stackoverflow.com/q/37431211/9014097\">here</a>), so you may not need BouncyCastle. For hex decoding you can then use a solution from <a href=\"https://stackoverflow.com/q/140131/9014097\">this post</a>. Starting with Java 17 there is a built-in support.</p>\n"},{"tags":[],"owner":{"account_id":4954246,"reputation":41,"user_id":3987327,"display_name":"Sumant Shanbag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688611798,"creation_date":1686136826,"answer_id":76422768,"question_id":70345404,"body_markdown":"While doing a little bit of research on CBC vs. GCM schemes of encrypting data, I stumbled upon this post and thought of doing the exercise myself. Hope it helps someone in the future.\r\n\r\nFrom what I read, GCM is a much better and FASTER encryption scheme especially when it comes to avoiding &#39;parallel stall&#39; problem with CBC scheme. GCM does not use any &#39;padding&#39; (one less confusion point in having to choose between PKCS1Padding/PKCS5Padding/PKCS7Padding commonly used as AES/CBC padding schemes)\r\n\r\n```\r\n    @Test\r\n    public void aesGcmNoPaddingTest() throws Exception {\r\n        // Used (https://mvnrepository.com/artifact/org.projectlombok/lombok) for logging to console\r\n        // https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api for this test to run\r\n\r\n        // Some constants (only the right thing to do)\r\n        int AES_KEY_LENGTH = 32 * 8; // 256 bits\r\n        int GCM_TAG_LENGTH = 16 * 8; // 128 bits\r\n        int PBKDF2_ITERATIONS = 1_000_000; // 1 Million\r\n        String KEY_GENERATION_ALGO = &quot;PBKDF2WithHmacSHA256&quot;;\r\n        String CIPHER_XFORMATION_SCHEME = &quot;AES/GCM/NoPadding&quot;;\r\n\r\n        // Generate AES-256 Bit key (https://mvnrepository.com/artifact/org.bouncycastle [bcpkix, bcprov])\r\n        byte[] rawPassword = generateRandom(32); // 32 byte password\r\n        byte[] rawSalt = generateRandom(16); // 16 byte salt (nounce)\r\n        byte[] rawIv = generateRandom(12); // 96 bit IV (a GCM scheme recommendation)\r\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(KEY_GENERATION_ALGO, BouncyCastleProvider.PROVIDER_NAME);\r\n        KeySpec spec = new PBEKeySpec(new String(rawPassword).toCharArray(), rawSalt, PBKDF2_ITERATIONS, AES_KEY_LENGTH);\r\n        SecretKey secret = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\r\n\r\n        // Generate large arbitrary data (https://mvnrepository.com/artifact/net.datafaker/datafaker)\r\n        StringBuilder dataBuilder = new StringBuilder();\r\n        IntStream.rangeClosed(1, 1000).forEach(i -&gt; {\r\n            dataBuilder.append(faker.ancient().titan()).append(&quot; &quot;);\r\n        });\r\n        String clearText = dataBuilder.toString();\r\n\r\n        // Init Encryption Cipher and encrypt data\r\n        Cipher encCipher = Cipher.getInstance(CIPHER_XFORMATION_SCHEME, BouncyCastleProvider.PROVIDER_NAME);\r\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH, rawIv);\r\n        encCipher.init(Cipher.ENCRYPT_MODE, secret, gcmParameterSpec);\r\n        byte[] cipherBytes = encCipher.doFinal(clearText.getBytes());\r\n        log.info(&quot;GCM encrypted: {}&quot;, Hex.toHexString(cipherBytes));\r\n\r\n        // Init Decryption Cipher and decrypt data\r\n        Cipher decCipher = Cipher.getInstance(CIPHER_XFORMATION_SCHEME, BouncyCastleProvider.PROVIDER_NAME);\r\n        GCMParameterSpec gcmParameterSpec1 = new GCMParameterSpec(GCM_TAG_LENGTH, rawIv);\r\n        decCipher.init(Cipher.DECRYPT_MODE, secret, gcmParameterSpec1);\r\n        byte[] decryptedCipherBytes = decCipher.doFinal(cipherBytes);\r\n        log.info(&quot;GCM decrypted: {}&quot;, new String(decryptedCipherBytes));\r\n    }\r\n\r\n    private byte[] generateRandom(int byteCount) {\r\n        SecureRandom randomNumberGenerator = new SecureRandom();\r\n        byte bytes[] = new byte[byteCount];\r\n        randomNumberGenerator.nextBytes(bytes);\r\n        return bytes;\r\n    }    \r\n```\r\n","title":"How can I decrypt using BouncyCastle, a string using a GCM Tag , IV string and Key string, all of them in HEX?","body":"<p>While doing a little bit of research on CBC vs. GCM schemes of encrypting data, I stumbled upon this post and thought of doing the exercise myself. Hope it helps someone in the future.</p>\n<p>From what I read, GCM is a much better and FASTER encryption scheme especially when it comes to avoiding 'parallel stall' problem with CBC scheme. GCM does not use any 'padding' (one less confusion point in having to choose between PKCS1Padding/PKCS5Padding/PKCS7Padding commonly used as AES/CBC padding schemes)</p>\n<pre><code>    @Test\n    public void aesGcmNoPaddingTest() throws Exception {\n        // Used (https://mvnrepository.com/artifact/org.projectlombok/lombok) for logging to console\n        // https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-api for this test to run\n\n        // Some constants (only the right thing to do)\n        int AES_KEY_LENGTH = 32 * 8; // 256 bits\n        int GCM_TAG_LENGTH = 16 * 8; // 128 bits\n        int PBKDF2_ITERATIONS = 1_000_000; // 1 Million\n        String KEY_GENERATION_ALGO = &quot;PBKDF2WithHmacSHA256&quot;;\n        String CIPHER_XFORMATION_SCHEME = &quot;AES/GCM/NoPadding&quot;;\n\n        // Generate AES-256 Bit key (https://mvnrepository.com/artifact/org.bouncycastle [bcpkix, bcprov])\n        byte[] rawPassword = generateRandom(32); // 32 byte password\n        byte[] rawSalt = generateRandom(16); // 16 byte salt (nounce)\n        byte[] rawIv = generateRandom(12); // 96 bit IV (a GCM scheme recommendation)\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(KEY_GENERATION_ALGO, BouncyCastleProvider.PROVIDER_NAME);\n        KeySpec spec = new PBEKeySpec(new String(rawPassword).toCharArray(), rawSalt, PBKDF2_ITERATIONS, AES_KEY_LENGTH);\n        SecretKey secret = new SecretKeySpec(factory.generateSecret(spec).getEncoded(), &quot;AES&quot;);\n\n        // Generate large arbitrary data (https://mvnrepository.com/artifact/net.datafaker/datafaker)\n        StringBuilder dataBuilder = new StringBuilder();\n        IntStream.rangeClosed(1, 1000).forEach(i -&gt; {\n            dataBuilder.append(faker.ancient().titan()).append(&quot; &quot;);\n        });\n        String clearText = dataBuilder.toString();\n\n        // Init Encryption Cipher and encrypt data\n        Cipher encCipher = Cipher.getInstance(CIPHER_XFORMATION_SCHEME, BouncyCastleProvider.PROVIDER_NAME);\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH, rawIv);\n        encCipher.init(Cipher.ENCRYPT_MODE, secret, gcmParameterSpec);\n        byte[] cipherBytes = encCipher.doFinal(clearText.getBytes());\n        log.info(&quot;GCM encrypted: {}&quot;, Hex.toHexString(cipherBytes));\n\n        // Init Decryption Cipher and decrypt data\n        Cipher decCipher = Cipher.getInstance(CIPHER_XFORMATION_SCHEME, BouncyCastleProvider.PROVIDER_NAME);\n        GCMParameterSpec gcmParameterSpec1 = new GCMParameterSpec(GCM_TAG_LENGTH, rawIv);\n        decCipher.init(Cipher.DECRYPT_MODE, secret, gcmParameterSpec1);\n        byte[] decryptedCipherBytes = decCipher.doFinal(cipherBytes);\n        log.info(&quot;GCM decrypted: {}&quot;, new String(decryptedCipherBytes));\n    }\n\n    private byte[] generateRandom(int byteCount) {\n        SecureRandom randomNumberGenerator = new SecureRandom();\n        byte bytes[] = new byte[byteCount];\n        randomNumberGenerator.nextBytes(bytes);\n        return bytes;\n    }    \n</code></pre>\n"}],"owner":{"account_id":14481253,"reputation":55,"user_id":10460426,"display_name":"Codreanu George"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1927,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":70345598,"answer_count":2,"score":3,"last_activity_date":1688611798,"creation_date":1639468267,"question_id":70345404,"body_markdown":"I amn trying to replicate the AES-Decrypt function from CyberChef, using GCM mode and HEX input.\r\nScreenshot of the operation:\r\n\r\n[![CyberChefAesDecrypt][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Oum9L.png\r\n\r\nSo far, I&#39;ve written the following code:\r\n````\r\npackage decryption;\r\n\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.spec.GCMParameterSpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\nimport java.nio.charset.StandardCharsets;\r\nimport java.security.Security;\r\n\r\npublic class Main {\r\n    public static final int GCM_TAG_LENGTH = 32;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String IV = &quot;9092d522e11120919fce8492&quot;;\r\n        String input = &quot;90fab0&quot;;\r\n        String GCMTag = &quot;02883e111ad6f79cd53674b5f833abab&quot;;\r\n        String key = &quot;8cda92dcb3283da821daa275359642c7a05d60a4badb5769618193a930c1cdec&quot;;\r\n\r\n        SecretKeySpec secretKey = new SecretKeySpec(key.getBytes(StandardCharsets.UTF_8), 0, key.getBytes(StandardCharsets.UTF_8).length, &quot;AES&quot;);\r\n        System.out.println(decrypt(input.getBytes(StandardCharsets.UTF_8), secretKey, IV.getBytes(StandardCharsets.UTF_8)));\r\n    }\r\n\r\n    public static String decrypt(byte[] cipherText, SecretKeySpec key, byte[] IV) throws Exception {\r\n        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\r\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;, &quot;BC&quot;);\r\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV);\r\n        cipher.init(Cipher.DECRYPT_MODE, key, gcmParameterSpec);\r\n        byte[] decryptedText = cipher.doFinal(cipherText);\r\n        return new String(decryptedText);\r\n    }\r\n}\r\n\r\n````\r\n\r\nFor the above code I am getting:\r\n\r\n````\r\nException in thread &quot;main&quot; org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$InvalidKeyOrParametersException: Invalid value for MAC size: 256\r\n\tat org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineInit(Unknown Source)\r\n\tat java.base/javax.crypto.Cipher.init(Cipher.java:1442)\r\n\tat java.base/javax.crypto.Cipher.init(Cipher.java:1375)\r\n\tat decryption.Main.decrypt(Main.java:29)\r\n\tat decryption.Main.main(Main.java:19)\r\n````\r\n\r\n\r\nFairly certain I am way off, but I did not find any articles/tutorials on how the GCM Tag can be used as input.\r\n\r\n","title":"How can I decrypt using BouncyCastle, a string using a GCM Tag , IV string and Key string, all of them in HEX?","body":"<p>I amn trying to replicate the AES-Decrypt function from CyberChef, using GCM mode and HEX input.\nScreenshot of the operation:</p>\n<p><a href=\"https://i.stack.imgur.com/Oum9L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Oum9L.png\" alt=\"CyberChefAesDecrypt\" /></a></p>\n<p>So far, I've written the following code:</p>\n<pre><code>package decryption;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.nio.charset.StandardCharsets;\nimport java.security.Security;\n\npublic class Main {\n    public static final int GCM_TAG_LENGTH = 32;\n\n    public static void main(String[] args) throws Exception {\n        String IV = &quot;9092d522e11120919fce8492&quot;;\n        String input = &quot;90fab0&quot;;\n        String GCMTag = &quot;02883e111ad6f79cd53674b5f833abab&quot;;\n        String key = &quot;8cda92dcb3283da821daa275359642c7a05d60a4badb5769618193a930c1cdec&quot;;\n\n        SecretKeySpec secretKey = new SecretKeySpec(key.getBytes(StandardCharsets.UTF_8), 0, key.getBytes(StandardCharsets.UTF_8).length, &quot;AES&quot;);\n        System.out.println(decrypt(input.getBytes(StandardCharsets.UTF_8), secretKey, IV.getBytes(StandardCharsets.UTF_8)));\n    }\n\n    public static String decrypt(byte[] cipherText, SecretKeySpec key, byte[] IV) throws Exception {\n        Security.addProvider(new org.bouncycastle.jce.provider.BouncyCastleProvider());\n        Cipher cipher = Cipher.getInstance(&quot;AES/GCM/NoPadding&quot;, &quot;BC&quot;);\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(GCM_TAG_LENGTH * 8, IV);\n        cipher.init(Cipher.DECRYPT_MODE, key, gcmParameterSpec);\n        byte[] decryptedText = cipher.doFinal(cipherText);\n        return new String(decryptedText);\n    }\n}\n\n</code></pre>\n<p>For the above code I am getting:</p>\n<pre><code>Exception in thread &quot;main&quot; org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher$InvalidKeyOrParametersException: Invalid value for MAC size: 256\n    at org.bouncycastle.jcajce.provider.symmetric.util.BaseBlockCipher.engineInit(Unknown Source)\n    at java.base/javax.crypto.Cipher.init(Cipher.java:1442)\n    at java.base/javax.crypto.Cipher.init(Cipher.java:1375)\n    at decryption.Main.decrypt(Main.java:29)\n    at decryption.Main.main(Main.java:19)\n</code></pre>\n<p>Fairly certain I am way off, but I did not find any articles/tutorials on how the GCM Tag can be used as input.</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"owner":{"account_id":21024771,"reputation":29,"user_id":15450353,"display_name":"JCodeX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688548532,"answer_count":0,"score":0,"last_activity_date":1688611525,"creation_date":1688537582,"question_id":76617517,"body_markdown":"I have created a simple application with Spring boot and Thymeleaf, it reads data from mongo db and renders it on the HTML form which can be edited and submitted back to the server to save in db.\r\nThe problem is that the POJO contains nested objects which when reading from the server is fine but when sending it back creates the problem as it is not able to map the nested object properly.\r\n\r\nThe problem is nested object is part of the attribute which means it does not needs to added by addAttribute at controller, because as shown in following code I can easily access nested objects at the view level. \r\nBut when sending the object back to controller it is not able to map nested object properly to the Object.\r\n\r\n*Controller class*\r\n```\r\npublic class ProfileController extends Controller {\r\n\r\n//    @Autowired\r\n    private final ProfileService profileService;\r\n\r\n    @GetMapping(&quot;/getprofile/{username}&quot;)\r\n    public String getProfile(@PathVariable String username, Model model){\r\n        Profile profile = profileService.getProfile(username);\r\n        model.addAttribute(&quot;profile&quot;,profile);\r\n        return &quot;user.html&quot;;\r\n    }\r\n\r\n    @PostMapping(path=&quot;/updateprofile/{username}&quot;, consumes = { MediaType.APPLICATION_FORM_URLENCODED_VALUE })\r\n    public String updateProfile(@PathVariable String username, @RequestBody Profile profile) {\r\n        Profile updatedProfile = profileService.updateProfile(profile, username);\r\n//        System.out.println(&quot;Testing  &quot;+profile);\r\n            return &quot;redirect:/&quot;;\r\n    }\r\n\r\n} \r\n```\r\n\r\n*POJO class*\r\nFollowing code shows the model class for the Object which we send to view layer and back to the controller\r\n```\r\n@Data\r\n@Document\r\n@NoArgsConstructor\r\npublic class Profile {\r\n\r\n    @Id\r\n    @JsonIgnore\r\n    private String id;\r\n    @Indexed(unique = true)\r\n    private String username;\r\n\r\n    private String profileImage;\r\n    private String firstName;\r\n    private String middleName;\r\n    private String lastName;\r\n    private String role;\r\n    private String quote;\r\n\r\n    private Social socialLinks;\r\n\r\n    private About about;\r\n    private List&lt;Project&gt; projects;\r\n\r\n    public Profile(String username,\r\n                   String profileImage,\r\n                   String firstName,\r\n                   String middleName,\r\n                   String lastName,\r\n                   String role,\r\n                   String quote,\r\n                   Social socialLinks,\r\n                   About about,\r\n                   List&lt;Project&gt; projects) {\r\n        this.username = username;\r\n        this.profileImage = profileImage;\r\n        this.firstName = firstName;\r\n        this.middleName = middleName;\r\n        this.lastName = lastName;\r\n        this.role = role;\r\n        this.quote = quote;\r\n        this.socialLinks = socialLinks;\r\n        this.about = about;\r\n        this.projects = projects;\r\n    }\r\n}\r\n\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Social {\r\n    private String linkedin;\r\n    private String github;\r\n    private String twitter;\r\n    private String discord;\r\n    private String stackoverflow;\r\n    private String instagram;\r\n    private String facebook;\r\n}\r\n@Data\r\n@AllArgsConstructor\r\npublic class About {\r\n\r\n    private String intro;\r\n    private List&lt;String&gt; skills;\r\n    private String aboutImage;\r\n    private String cv;\r\n}\r\n```\r\n\r\nSince html forms sends data as url enconded format, a converter config logic is created to parse application/x-www-form-urlencoded format send by HTML forms to map it with the model class. This converter class is registered using WebMVCConfigurer interface\r\n\r\n*Converter class*\r\n```\r\npublic class ProfileConverter extends AbstractHttpMessageConverter&lt;Profile&gt; {\r\n\r\n    private static FormHttpMessageConverter converter = new FormHttpMessageConverter();\r\n    private static ObjectMapper mapper = new ObjectMapper();\r\n\r\n    @Override\r\n    protected boolean supports(Class&lt;?&gt; clazz) {\r\n        return (Profile.class == clazz);\r\n    }\r\n\r\n    @Override\r\n    protected Profile readInternal(Class&lt;? extends Profile&gt; clazz, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException {\r\n        Map&lt;String, String&gt; vals = converter.read(null, inputMessage).toSingleValueMap();\r\n\r\n        return mapper.convertValue(vals, Profile.class);\r\n    }\r\n\r\n    @Override\r\n    protected void writeInternal(Profile profile, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException {\r\n\r\n    }\r\n}\r\n```\r\n\r\n*HTML form*\r\nIn the following HTML, clearly we can see that accessing nested object is not an issue and on clicking submit button it is able send the form data as application/x-www-form-urlencoded format to the controller\r\n```\r\n&lt;form th:action=&quot;@{/v1/updateprofile/{username}(username=${profile.username})}&quot; th:object=&quot;${profile}&quot; th:method=&quot;post&quot;&gt;\r\n                            &lt;label&gt;Username&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{username}&quot;&gt;\r\n                            &lt;label&gt;First Name&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{firstName}&quot;&gt;\r\n                            &lt;label&gt;Middle Name&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{middleName}&quot;&gt;\r\n                            &lt;label&gt;Last Name&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{lastName}&quot;&gt;\r\n                            &lt;label&gt;Role&lt;/label&gt;\r\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{role}&quot;&gt;\r\n                        &lt;label&gt;Quote&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{quote}&quot;&gt;\r\n                    &lt;label&gt;Social Links&lt;/label&gt;\r\n                                &lt;label&gt;LinkedIn&lt;/label&gt;\r\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.linkedin}&quot;&gt;\r\n                                &lt;label&gt;Github&lt;/label&gt;\r\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.github}&quot;&gt;\r\n                                &lt;label&gt;Twitter&lt;/label&gt;\r\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.twitter}&quot;&gt;\r\n                                &lt;label&gt;Discord&lt;/label&gt;\r\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.discord}&quot;&gt;\r\n                                &lt;label&gt;Stackoverflow&lt;/label&gt;\r\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.stackoverflow}&quot;&gt;\r\n                                &lt;label&gt;Instagram&lt;/label&gt;\r\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.instagram}&quot;&gt;\r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-block mt-3&quot;&gt;Save Project&lt;/button&gt;\r\n            &lt;/form&gt;\r\n```\r\n\r\nError I am getting on sending the form data to the server.\r\nFrom this I can understand the problem is with mapping the nested object which spring boot is not able identify within the model class, rest all other fields are being recognised by it, as shown in the following error log.\r\n```\r\nThere was an unexpected error (type=Internal Server Error, status=500).\r\nUnrecognized field &quot;socialLinks.linkedin&quot; (class dev.jcodex.api.portfolio.model.Profile), not marked as ignorable (10 known properties: &quot;middleName&quot;, &quot;lastName&quot;, &quot;profileImage&quot;, &quot;username&quot;, &quot;projects&quot;, &quot;firstName&quot;, &quot;quote&quot;, &quot;about&quot;, &quot;role&quot;, &quot;socialLinks&quot;]) at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: dev.jcodex.api.portfolio.model.Profile[&quot;socialLinks.linkedin&quot;])\r\njava.lang.IllegalArgumentException: Unrecognized field &quot;socialLinks.linkedin&quot; (class dev.jcodex.api.portfolio.model.Profile), not marked as ignorable (10 known properties: &quot;middleName&quot;, &quot;lastName&quot;, &quot;profileImage&quot;, &quot;username&quot;, &quot;projects&quot;, &quot;firstName&quot;, &quot;quote&quot;, &quot;about&quot;, &quot;role&quot;, &quot;socialLinks&quot;])\r\n at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: dev.jcodex.api.portfolio.model.Profile[&quot;socialLinks.linkedin&quot;])\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4544)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:4475)\r\n\tat dev.jcodex.api.portfolio.service.ProfileConverter.readInternal(ProfileConverter.java:29)\r\n\tat dev.jcodex.api.portfolio.service.ProfileConverter.readInternal(ProfileConverter.java:15)\r\n```","title":"How to read nested objects from object in Thymeleaf to map it with POJO?","body":"<p>I have created a simple application with Spring boot and Thymeleaf, it reads data from mongo db and renders it on the HTML form which can be edited and submitted back to the server to save in db.\nThe problem is that the POJO contains nested objects which when reading from the server is fine but when sending it back creates the problem as it is not able to map the nested object properly.</p>\n<p>The problem is nested object is part of the attribute which means it does not needs to added by addAttribute at controller, because as shown in following code I can easily access nested objects at the view level.\nBut when sending the object back to controller it is not able to map nested object properly to the Object.</p>\n<p><em>Controller class</em></p>\n<pre><code>public class ProfileController extends Controller {\n\n//    @Autowired\n    private final ProfileService profileService;\n\n    @GetMapping(&quot;/getprofile/{username}&quot;)\n    public String getProfile(@PathVariable String username, Model model){\n        Profile profile = profileService.getProfile(username);\n        model.addAttribute(&quot;profile&quot;,profile);\n        return &quot;user.html&quot;;\n    }\n\n    @PostMapping(path=&quot;/updateprofile/{username}&quot;, consumes = { MediaType.APPLICATION_FORM_URLENCODED_VALUE })\n    public String updateProfile(@PathVariable String username, @RequestBody Profile profile) {\n        Profile updatedProfile = profileService.updateProfile(profile, username);\n//        System.out.println(&quot;Testing  &quot;+profile);\n            return &quot;redirect:/&quot;;\n    }\n\n} \n</code></pre>\n<p><em>POJO class</em>\nFollowing code shows the model class for the Object which we send to view layer and back to the controller</p>\n<pre><code>@Data\n@Document\n@NoArgsConstructor\npublic class Profile {\n\n    @Id\n    @JsonIgnore\n    private String id;\n    @Indexed(unique = true)\n    private String username;\n\n    private String profileImage;\n    private String firstName;\n    private String middleName;\n    private String lastName;\n    private String role;\n    private String quote;\n\n    private Social socialLinks;\n\n    private About about;\n    private List&lt;Project&gt; projects;\n\n    public Profile(String username,\n                   String profileImage,\n                   String firstName,\n                   String middleName,\n                   String lastName,\n                   String role,\n                   String quote,\n                   Social socialLinks,\n                   About about,\n                   List&lt;Project&gt; projects) {\n        this.username = username;\n        this.profileImage = profileImage;\n        this.firstName = firstName;\n        this.middleName = middleName;\n        this.lastName = lastName;\n        this.role = role;\n        this.quote = quote;\n        this.socialLinks = socialLinks;\n        this.about = about;\n        this.projects = projects;\n    }\n}\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Social {\n    private String linkedin;\n    private String github;\n    private String twitter;\n    private String discord;\n    private String stackoverflow;\n    private String instagram;\n    private String facebook;\n}\n@Data\n@AllArgsConstructor\npublic class About {\n\n    private String intro;\n    private List&lt;String&gt; skills;\n    private String aboutImage;\n    private String cv;\n}\n</code></pre>\n<p>Since html forms sends data as url enconded format, a converter config logic is created to parse application/x-www-form-urlencoded format send by HTML forms to map it with the model class. This converter class is registered using WebMVCConfigurer interface</p>\n<p><em>Converter class</em></p>\n<pre><code>public class ProfileConverter extends AbstractHttpMessageConverter&lt;Profile&gt; {\n\n    private static FormHttpMessageConverter converter = new FormHttpMessageConverter();\n    private static ObjectMapper mapper = new ObjectMapper();\n\n    @Override\n    protected boolean supports(Class&lt;?&gt; clazz) {\n        return (Profile.class == clazz);\n    }\n\n    @Override\n    protected Profile readInternal(Class&lt;? extends Profile&gt; clazz, HttpInputMessage inputMessage) throws IOException, HttpMessageNotReadableException {\n        Map&lt;String, String&gt; vals = converter.read(null, inputMessage).toSingleValueMap();\n\n        return mapper.convertValue(vals, Profile.class);\n    }\n\n    @Override\n    protected void writeInternal(Profile profile, HttpOutputMessage outputMessage) throws IOException, HttpMessageNotWritableException {\n\n    }\n}\n</code></pre>\n<p><em>HTML form</em>\nIn the following HTML, clearly we can see that accessing nested object is not an issue and on clicking submit button it is able send the form data as application/x-www-form-urlencoded format to the controller</p>\n<pre><code>&lt;form th:action=&quot;@{/v1/updateprofile/{username}(username=${profile.username})}&quot; th:object=&quot;${profile}&quot; th:method=&quot;post&quot;&gt;\n                            &lt;label&gt;Username&lt;/label&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{username}&quot;&gt;\n                            &lt;label&gt;First Name&lt;/label&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{firstName}&quot;&gt;\n                            &lt;label&gt;Middle Name&lt;/label&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{middleName}&quot;&gt;\n                            &lt;label&gt;Last Name&lt;/label&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{lastName}&quot;&gt;\n                            &lt;label&gt;Role&lt;/label&gt;\n                            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{role}&quot;&gt;\n                        &lt;label&gt;Quote&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{quote}&quot;&gt;\n                    &lt;label&gt;Social Links&lt;/label&gt;\n                                &lt;label&gt;LinkedIn&lt;/label&gt;\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.linkedin}&quot;&gt;\n                                &lt;label&gt;Github&lt;/label&gt;\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.github}&quot;&gt;\n                                &lt;label&gt;Twitter&lt;/label&gt;\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.twitter}&quot;&gt;\n                                &lt;label&gt;Discord&lt;/label&gt;\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.discord}&quot;&gt;\n                                &lt;label&gt;Stackoverflow&lt;/label&gt;\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.stackoverflow}&quot;&gt;\n                                &lt;label&gt;Instagram&lt;/label&gt;\n                                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot; th:field=&quot;*{socialLinks.instagram}&quot;&gt;\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-block mt-3&quot;&gt;Save Project&lt;/button&gt;\n            &lt;/form&gt;\n</code></pre>\n<p>Error I am getting on sending the form data to the server.\nFrom this I can understand the problem is with mapping the nested object which spring boot is not able identify within the model class, rest all other fields are being recognised by it, as shown in the following error log.</p>\n<pre><code>There was an unexpected error (type=Internal Server Error, status=500).\nUnrecognized field &quot;socialLinks.linkedin&quot; (class dev.jcodex.api.portfolio.model.Profile), not marked as ignorable (10 known properties: &quot;middleName&quot;, &quot;lastName&quot;, &quot;profileImage&quot;, &quot;username&quot;, &quot;projects&quot;, &quot;firstName&quot;, &quot;quote&quot;, &quot;about&quot;, &quot;role&quot;, &quot;socialLinks&quot;]) at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: dev.jcodex.api.portfolio.model.Profile[&quot;socialLinks.linkedin&quot;])\njava.lang.IllegalArgumentException: Unrecognized field &quot;socialLinks.linkedin&quot; (class dev.jcodex.api.portfolio.model.Profile), not marked as ignorable (10 known properties: &quot;middleName&quot;, &quot;lastName&quot;, &quot;profileImage&quot;, &quot;username&quot;, &quot;projects&quot;, &quot;firstName&quot;, &quot;quote&quot;, &quot;about&quot;, &quot;role&quot;, &quot;socialLinks&quot;])\n at [Source: UNKNOWN; byte offset: #UNKNOWN] (through reference chain: dev.jcodex.api.portfolio.model.Profile[&quot;socialLinks.linkedin&quot;])\n    at com.fasterxml.jackson.databind.ObjectMapper._convert(ObjectMapper.java:4544)\n    at com.fasterxml.jackson.databind.ObjectMapper.convertValue(ObjectMapper.java:4475)\n    at dev.jcodex.api.portfolio.service.ProfileConverter.readInternal(ProfileConverter.java:29)\n    at dev.jcodex.api.portfolio.service.ProfileConverter.readInternal(ProfileConverter.java:15)\n</code></pre>\n"},{"tags":["java","redis","priority-queue"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1688522705,"post_id":76616684,"comment_id":135083440,"body_markdown":"Please review the [ask] link to see how to best ask questions on the site. One take-away is to never post code as an image since it is extremely hard for anyone to copy/paste/compile and run code in this form. Please post your code as code-formatted text, and please add additional text that fully explains it.","body":"Please review the <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> link to see how to best ask questions on the site. One take-away is to never post code as an image since it is extremely hard for anyone to copy/paste/compile and run code in this form. Please post your code as code-formatted text, and please add additional text that fully explains it."}],"answers":[{"tags":[],"owner":{"account_id":7027398,"reputation":21375,"user_id":5384363,"accept_rate":64,"display_name":"for_stack"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688610146,"creation_date":1688524401,"answer_id":76616776,"question_id":76616684,"body_markdown":"You solution is not thread-safe. You can try the following Lua script to implement the push part:\r\n\r\n```\r\n-- push.lua\r\n\r\nredis.replicate_commands()\r\n\r\nlocal key = KEYS[1]\r\nlocal task_id = ARGV[1]\r\nlocal priority = ARGV[2]\r\n\r\nlocal t = redis.call(&quot;time&quot;)\r\nlocal time_s = t[1]\r\n\r\n-- original wrong answer: local score = priority * 10000000000 + time_s\r\nlocal score = priority * 10000000000 + (10000000000 - time_s)\r\n\r\nredis.call(&quot;zadd&quot;, key, score, task_id)\r\n```\r\n\r\nPush some items into the priority queue:\r\n\r\n```\r\nredis-cli --eval push.lua queue , task-id priority\r\n```\r\n\r\nPop an item:\r\n\r\n```\r\nredis-cli zpopmax queue\r\n```","title":"How to implement priority queue with redis","body":"<p>You solution is not thread-safe. You can try the following Lua script to implement the push part:</p>\n<pre><code>-- push.lua\n\nredis.replicate_commands()\n\nlocal key = KEYS[1]\nlocal task_id = ARGV[1]\nlocal priority = ARGV[2]\n\nlocal t = redis.call(&quot;time&quot;)\nlocal time_s = t[1]\n\n-- original wrong answer: local score = priority * 10000000000 + time_s\nlocal score = priority * 10000000000 + (10000000000 - time_s)\n\nredis.call(&quot;zadd&quot;, key, score, task_id)\n</code></pre>\n<p>Push some items into the priority queue:</p>\n<pre><code>redis-cli --eval push.lua queue , task-id priority\n</code></pre>\n<p>Pop an item:</p>\n<pre><code>redis-cli zpopmax queue\n</code></pre>\n"}],"owner":{"account_id":28952043,"reputation":1,"user_id":22176386,"display_name":"Jack Yer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688610146,"creation_date":1688522316,"question_id":76616684,"body_markdown":"Now I have such a requirement, publish tasks to the task queue, and then take tasks from the task queue one by one and execute them. When the tasks are taken from the queue, they are taken according to the priority size, and the tasks with the larger priority are taken out first. If the priorities are the same, the ones that join the queue earlier are taken out first compared with the time they join the queue. \r\nThis can be done in java through priorityQueue:\r\n\r\n```\r\nPriorityQueue: new PriorityQueue&lt;&gt;((t1, t2) -&gt;! t1.getPriority().equals(t2.getPriority()) ?  t2.getPriority() - t1.getPriority() :(t1.getTime() - t2.getTme())); \r\n```\r\nBut I want you to implement it in redis\r\n\r\nThis is the way I do it now, but it&#39;s a little crude and not very accurate\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jQrI5.png","title":"How to implement priority queue with redis","body":"<p>Now I have such a requirement, publish tasks to the task queue, and then take tasks from the task queue one by one and execute them. When the tasks are taken from the queue, they are taken according to the priority size, and the tasks with the larger priority are taken out first. If the priorities are the same, the ones that join the queue earlier are taken out first compared with the time they join the queue.\nThis can be done in java through priorityQueue:</p>\n<pre><code>PriorityQueue: new PriorityQueue&lt;&gt;((t1, t2) -&gt;! t1.getPriority().equals(t2.getPriority()) ?  t2.getPriority() - t1.getPriority() :(t1.getTime() - t2.getTme())); \n</code></pre>\n<p>But I want you to implement it in redis</p>\n<p>This is the way I do it now, but it's a little crude and not very accurate\n<a href=\"https://i.stack.imgur.com/jQrI5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":5782764,"reputation":1081,"user_id":4562902,"accept_rate":54,"display_name":"dhyanandra singh"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1499081049,"creation_date":1498199140,"answer_id":44714439,"question_id":44713849,"body_markdown":"I think you have misplaced @JsonManagedReference and @JsonBackReference.\r\n\r\n@JsonManagedReference : its forward part of reference so it will apply on collection type.\r\n\r\n@JsonBackReference: its back part of reference.\r\n\r\nso your code must be like\r\n\r\n \r\n\r\n      @JsonManagedReference \r\n         private List&lt;ForumAnswerReplay&gt; forumAnswerReplayList;\r\n    \r\n     @JsonBackReference\r\n        private ForumAnswer forumAnswer;\r\n\r\n\r\nyou can also use `@JsonIdentityInfo` you have to apply \r\n\r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, \r\n    \t\t\t\t  property  = &quot;forumAnswerId&quot;, \r\n    \t\t\t\t  scope     = Long.class)\r\n    public class ForumAnswer {\r\n    }\r\n    \r\n    @JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, \r\n    \t\t\t\t  property  = &quot;replyId&quot;, \r\n    \t\t\t\t  scope     = Long.class)\r\n    public class ForumAnswerReplay {\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Can not handle managed/back reference &#39;defaultReference&#39;: back reference type (java.util.List) not compatible with managed type (ForumAnswerReplay)","body":"<p>I think you have misplaced @JsonManagedReference and @JsonBackReference.</p>\n\n<p>@JsonManagedReference : its forward part of reference so it will apply on collection type.</p>\n\n<p>@JsonBackReference: its back part of reference.</p>\n\n<p>so your code must be like</p>\n\n<pre><code>  @JsonManagedReference \n     private List&lt;ForumAnswerReplay&gt; forumAnswerReplayList;\n\n @JsonBackReference\n    private ForumAnswer forumAnswer;\n</code></pre>\n\n<p>you can also use <code>@JsonIdentityInfo</code> you have to apply </p>\n\n<pre><code>@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, \n                  property  = \"forumAnswerId\", \n                  scope     = Long.class)\npublic class ForumAnswer {\n}\n\n@JsonIdentityInfo(generator = ObjectIdGenerators.PropertyGenerator.class, \n                  property  = \"replyId\", \n                  scope     = Long.class)\npublic class ForumAnswerReplay {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10296742,"reputation":107,"user_id":7596653,"accept_rate":44,"display_name":"sweety"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1514983162,"creation_date":1498210614,"answer_id":44718070,"question_id":44713849,"body_markdown":"Remove  @JsonManagedReference in ForumAnswer class.\r\n\r\nForumAnswer class:\r\n\r\n    @Fetch(value = FetchMode.SELECT)\r\n    \t@OneToMany(cascade = CascadeType.ALL,fetch=FetchType.EAGER)\r\n    \t@JoinColumn(name = &quot;forumAnswerId&quot;)\r\n    \tprivate List&lt;ForumAnswerReplay&gt; forumAnswerReplayList;\r\n\r\nIn **ForumAnswerReplay:**\r\n\r\n\t@JsonBackReference\r\n\tpublic ForumAnswer getForumAnswer() {\r\n\t\treturn forumAnswer;\r\n\t}","title":"Can not handle managed/back reference &#39;defaultReference&#39;: back reference type (java.util.List) not compatible with managed type (ForumAnswerReplay)","body":"<p>Remove  @JsonManagedReference in ForumAnswer class.</p>\n\n<p>ForumAnswer class:</p>\n\n<pre><code>@Fetch(value = FetchMode.SELECT)\n    @OneToMany(cascade = CascadeType.ALL,fetch=FetchType.EAGER)\n    @JoinColumn(name = \"forumAnswerId\")\n    private List&lt;ForumAnswerReplay&gt; forumAnswerReplayList;\n</code></pre>\n\n<p>In <strong>ForumAnswerReplay:</strong></p>\n\n<pre><code>@JsonBackReference\npublic ForumAnswer getForumAnswer() {\n    return forumAnswer;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125061,"reputation":166,"user_id":1112561,"display_name":"shawon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1514984226,"creation_date":1514984226,"answer_id":48077882,"question_id":44713849,"body_markdown":"Use @JsonBackReference for @OneToMany and @JsonManagedReference for @ManyToOne relation to allow Jackson to better handle the relation.","title":"Can not handle managed/back reference &#39;defaultReference&#39;: back reference type (java.util.List) not compatible with managed type (ForumAnswerReplay)","body":"<p>Use @JsonBackReference for @OneToMany and @JsonManagedReference for @ManyToOne relation to allow Jackson to better handle the relation.</p>\n"},{"tags":[],"owner":{"account_id":4177110,"reputation":925,"user_id":7192983,"display_name":"Kingston Fortune"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688607924,"creation_date":1688607924,"answer_id":76625005,"question_id":44713849,"body_markdown":"I had a similar issue recently, I tried to debug the code, I searched all around the internet and what helped finally was this:\r\n\r\nMake sure you set your ***@JsonBackReference*** and ***@JsonManagedReference*** to have a unique ***value***, for instance in my **Department class** I have:\r\n\r\n```\r\n    @JsonManagedReference(value = &quot;faculty-department&quot;)\r\n    @OneToMany(mappedBy = &quot;department&quot;)\r\n    private List&lt;Faculty&gt; faculties;\r\n```\r\n\r\nand in my **Faculty class**, I have:\r\n```\r\n    @JsonBackReference(value = &quot;faculty-department&quot;)\r\n    @ManyToOne\r\n    private Department department;\r\n```\r\n\r\nWhen working on a project with just two entities, I noticed that the code was OK, but when the code base grew to more than 5 entities. This error tends to occur if you have multiple relationships with more than one ***@JsonBackReference*** in the same entity/class. \r\n\r\nIf the code builds successfully you may still get a 415 media unsupported error even if you select application/json as your content type while posting, so you will have to set the value as a unique key shared across related entities.\r\n\r\n\r\nUsing SpringBoot 3.1.1 at the time of this answer.","title":"Can not handle managed/back reference &#39;defaultReference&#39;: back reference type (java.util.List) not compatible with managed type (ForumAnswerReplay)","body":"<p>I had a similar issue recently, I tried to debug the code, I searched all around the internet and what helped finally was this:</p>\n<p>Make sure you set your <em><strong>@JsonBackReference</strong></em> and <em><strong>@JsonManagedReference</strong></em> to have a unique <em><strong>value</strong></em>, for instance in my <strong>Department class</strong> I have:</p>\n<pre><code>    @JsonManagedReference(value = &quot;faculty-department&quot;)\n    @OneToMany(mappedBy = &quot;department&quot;)\n    private List&lt;Faculty&gt; faculties;\n</code></pre>\n<p>and in my <strong>Faculty class</strong>, I have:</p>\n<pre><code>    @JsonBackReference(value = &quot;faculty-department&quot;)\n    @ManyToOne\n    private Department department;\n</code></pre>\n<p>When working on a project with just two entities, I noticed that the code was OK, but when the code base grew to more than 5 entities. This error tends to occur if you have multiple relationships with more than one <em><strong>@JsonBackReference</strong></em> in the same entity/class.</p>\n<p>If the code builds successfully you may still get a 415 media unsupported error even if you select application/json as your content type while posting, so you will have to set the value as a unique key shared across related entities.</p>\n<p>Using SpringBoot 3.1.1 at the time of this answer.</p>\n"}],"owner":{"account_id":9122647,"reputation":558,"user_id":6787574,"accept_rate":71,"display_name":"Umapathi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29051,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":44714439,"answer_count":4,"score":14,"last_activity_date":1688607924,"creation_date":1498196537,"question_id":44713849,"body_markdown":"Forum Answer saving time facing issue.before i saved successfully using @JsonIgnore but now i removed @JsonIgnore annonation.and added  @JsonBackReference and  @JsonManagedReference.\r\n\r\n**Stack Trace**\r\n\r\n    java.lang.IllegalArgumentException: Can not handle managed/back reference &#39;defaultReference&#39;: back reference type (java.util.List) not compatible with managed type (com.tta.abcd.model.ForumAnswerReplay)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase._resolveManagedReferenceProperty(BeanDeserializerBase.java:790)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.resolve(BeanDeserializerBase.java:516)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:296)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\r\n\tat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.findContextualValueDeserializer(DeserializationContext.java:443)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:196)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:26)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleSecondaryContextualization(DeserializationContext.java:681)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.findContextualValueDeserializer(DeserializationContext.java:445)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdDeserializer.findDeserializer(StdDeserializer.java:967)\r\n\r\n\r\n**Forum.java**\r\n\r\n        @Entity\r\n        @Table(name=&quot;Forum&quot;)\r\n        public class Forum {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \t@Column(name=&quot;forumId&quot;)\r\n    \tprivate Long forumId;\r\n    \t\t\t\r\n    \t@Column(name=&quot;question&quot;)\r\n    \tprivate String question;\r\n    \t\r\n    \t@Column(columnDefinition=&quot;varchar(1000)&quot;,name=&quot;discription&quot;)\r\n    \tprivate String discription;\r\n    \t\r\n    \t@Column(name=&quot;postedDate&quot;)\r\n    \tprivate Date postedDate;\r\n    \r\n    \t@Fetch(value = FetchMode.SELECT)\r\n    \t@OneToMany(cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;forumId&quot;)\r\n    \t@JsonIgnore\r\n    \tprivate List&lt;ForumAnswer&gt; forumList;\r\n        }\r\n\r\n**ForumAnswer.java**\r\n\r\n        @Entity\r\n        @Table(name=&quot;ForumAnswer&quot;)\r\n        public class ForumAnswer {\r\n    \t\r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \t@Column(name=&quot;forumAnswerId&quot;)\r\n    \tprivate Long forumAnswerId;\r\n    \t\r\n    \t@ManyToOne\r\n            @JoinColumn(name = &quot;forumId&quot;,insertable=true, updatable=true,nullable=true)\r\n    \tprivate Forum forum;\r\n    \t\r\n    \t@Column(name=&quot;answer&quot;)\r\n    \tprivate String answer;\r\n    \t\r\n    \t@Column(name=&quot;answerDate&quot;)\r\n    \tprivate Date answerDate;\r\n    \t\r\n    \t@Fetch(value = FetchMode.SELECT)\r\n    \t@OneToMany(cascade = CascadeType.ALL)\r\n    \t@JoinColumn(name = &quot;forumAnswerId&quot;)\r\n        @JsonBackReference\r\n    \tprivate List&lt;ForumAnswerReplay&gt; forumAnswerReplayList;\r\n    \t\r\n    \t@Transient\r\n    \tprivate List&lt;ForumAnswerReplay&gt; faqReplayList;\r\n    }\r\n\r\n**ForumAnswerReplay.java**\r\n\r\n    @Entity\r\n    @Table(name=&quot;ForumAnswerReplay&quot;)\r\n    public class ForumAnswerReplay {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \t@Column(name=&quot;replayId&quot;)\r\n    \tprivate Long replayId;\r\n    \t\r\n    \t@Column(name=&quot;replayToAnswer&quot;)\r\n    \tprivate String replayToAnswer;\r\n    \t\r\n    \t@Column(name=&quot;replayToAnswerDate&quot;)\r\n    \tprivate Date replayToAnswerDate;\r\n    \t\r\n    \r\n    \t@ManyToOne(fetch=FetchType.EAGER)\r\n    \t@JoinColumn(name=&quot;forumAnswerId&quot;,insertable=true,updatable=true,nullable=true)\r\n        \t@JsonManagedReference\r\n    \tprivate ForumAnswer forumAnswer;\r\n    \r\n    \t@Transient\r\n    \tprivate String message;\r\n    }\r\n\r\n**Controller Code:**\r\n\r\n    public ForumAnswer saveForumAns(@RequestBody ForumAnswer forumAns, BindingResult bindingResult, HttpSession session,\r\n\t\t\tHttpServletRequest request, HttpServletResponse response) {\r\n\t\tForumAnswer forumDetails = forumService.saveForumAns(forumAns, bindingResult, session);\r\n\t\tif (forumDetails != null) {\r\n\t\t\tforumDetails.setMessage(&quot;success&quot;);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tforumDetails.setMessage(&quot;failed&quot;);\r\n\t\t}\r\n\t\treturn forumDetails;\r\n\t}\r\n\r\n**DAO:**\r\n\r\n    public ForumAnswer saveForumAns(ForumAnswer forumAns, BindingResult bindingResult) {\r\n\r\n\t\tfinal Session session = getSession();\r\n\t\ttry {\r\n\t\t\tsession.beginTransaction();\r\n\t\t\tQuery query = session.createQuery(&quot;UPDATE ForumAnswer set answer =:answer,&quot;\r\n\t\t\t\t\t+ &quot;forumAnswerId =:forumAnswerId,farmerUuid =:farmerUuid, answerDate =:answerDate&quot;);\r\n\t\t\tquery.setParameter(&quot;answer&quot;, forumAns.getAnswer());\r\n\t\t\tquery.setParameter(&quot;forumAnswerId&quot;, forumAns.getForumAnswerId());\r\n\t\t\tquery.setParameter(&quot;farmerUuid&quot;, forumAns.getFarmer());\r\n\t\t\tquery.setParameter(&quot;answerDate&quot;, forumAns.getAnswerDate());\r\n\t\t\tsession.merge(forumAns);\r\n\t\t\tsession.getTransaction().commit();\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tSystem.out.println(&quot;error while saving forum details&quot; + e);\r\n\t\t} finally {\r\n\t\t\tsession.close();\r\n\t\t}\r\n\r\n\t\treturn forumAns;\r\n\t}","title":"Can not handle managed/back reference &#39;defaultReference&#39;: back reference type (java.util.List) not compatible with managed type (ForumAnswerReplay)","body":"<p>Forum Answer saving time facing issue.before i saved successfully using @JsonIgnore but now i removed @JsonIgnore annonation.and added  @JsonBackReference and  @JsonManagedReference.</p>\n\n<p><strong>Stack Trace</strong></p>\n\n<pre><code>java.lang.IllegalArgumentException: Can not handle managed/back reference 'defaultReference': back reference type (java.util.List) not compatible with managed type (com.tta.abcd.model.ForumAnswerReplay)\nat com.fasterxml.jackson.databind.deser.BeanDeserializerBase._resolveManagedReferenceProperty(BeanDeserializerBase.java:790)\nat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.resolve(BeanDeserializerBase.java:516)\nat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCache2(DeserializerCache.java:296)\nat com.fasterxml.jackson.databind.deser.DeserializerCache._createAndCacheValueDeserializer(DeserializerCache.java:244)\nat com.fasterxml.jackson.databind.deser.DeserializerCache.findValueDeserializer(DeserializerCache.java:142)\nat com.fasterxml.jackson.databind.DeserializationContext.findContextualValueDeserializer(DeserializationContext.java:443)\nat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:196)\nat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.createContextual(CollectionDeserializer.java:26)\nat com.fasterxml.jackson.databind.DeserializationContext.handleSecondaryContextualization(DeserializationContext.java:681)\nat com.fasterxml.jackson.databind.DeserializationContext.findContextualValueDeserializer(DeserializationContext.java:445)\nat com.fasterxml.jackson.databind.deser.std.StdDeserializer.findDeserializer(StdDeserializer.java:967)\n</code></pre>\n\n<p><strong>Forum.java</strong></p>\n\n<pre><code>    @Entity\n    @Table(name=\"Forum\")\n    public class Forum {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    @Column(name=\"forumId\")\n    private Long forumId;\n\n    @Column(name=\"question\")\n    private String question;\n\n    @Column(columnDefinition=\"varchar(1000)\",name=\"discription\")\n    private String discription;\n\n    @Column(name=\"postedDate\")\n    private Date postedDate;\n\n    @Fetch(value = FetchMode.SELECT)\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = \"forumId\")\n    @JsonIgnore\n    private List&lt;ForumAnswer&gt; forumList;\n    }\n</code></pre>\n\n<p><strong>ForumAnswer.java</strong></p>\n\n<pre><code>    @Entity\n    @Table(name=\"ForumAnswer\")\n    public class ForumAnswer {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    @Column(name=\"forumAnswerId\")\n    private Long forumAnswerId;\n\n    @ManyToOne\n        @JoinColumn(name = \"forumId\",insertable=true, updatable=true,nullable=true)\n    private Forum forum;\n\n    @Column(name=\"answer\")\n    private String answer;\n\n    @Column(name=\"answerDate\")\n    private Date answerDate;\n\n    @Fetch(value = FetchMode.SELECT)\n    @OneToMany(cascade = CascadeType.ALL)\n    @JoinColumn(name = \"forumAnswerId\")\n    @JsonBackReference\n    private List&lt;ForumAnswerReplay&gt; forumAnswerReplayList;\n\n    @Transient\n    private List&lt;ForumAnswerReplay&gt; faqReplayList;\n}\n</code></pre>\n\n<p><strong>ForumAnswerReplay.java</strong></p>\n\n<pre><code>@Entity\n@Table(name=\"ForumAnswerReplay\")\npublic class ForumAnswerReplay {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    @Column(name=\"replayId\")\n    private Long replayId;\n\n    @Column(name=\"replayToAnswer\")\n    private String replayToAnswer;\n\n    @Column(name=\"replayToAnswerDate\")\n    private Date replayToAnswerDate;\n\n\n    @ManyToOne(fetch=FetchType.EAGER)\n    @JoinColumn(name=\"forumAnswerId\",insertable=true,updatable=true,nullable=true)\n        @JsonManagedReference\n    private ForumAnswer forumAnswer;\n\n    @Transient\n    private String message;\n}\n</code></pre>\n\n<p><strong>Controller Code:</strong></p>\n\n<pre><code>public ForumAnswer saveForumAns(@RequestBody ForumAnswer forumAns, BindingResult bindingResult, HttpSession session,\n        HttpServletRequest request, HttpServletResponse response) {\n    ForumAnswer forumDetails = forumService.saveForumAns(forumAns, bindingResult, session);\n    if (forumDetails != null) {\n        forumDetails.setMessage(\"success\");\n    }\n    else {\n        forumDetails.setMessage(\"failed\");\n    }\n    return forumDetails;\n}\n</code></pre>\n\n<p><strong>DAO:</strong></p>\n\n<pre><code>public ForumAnswer saveForumAns(ForumAnswer forumAns, BindingResult bindingResult) {\n\n    final Session session = getSession();\n    try {\n        session.beginTransaction();\n        Query query = session.createQuery(\"UPDATE ForumAnswer set answer =:answer,\"\n                + \"forumAnswerId =:forumAnswerId,farmerUuid =:farmerUuid, answerDate =:answerDate\");\n        query.setParameter(\"answer\", forumAns.getAnswer());\n        query.setParameter(\"forumAnswerId\", forumAns.getForumAnswerId());\n        query.setParameter(\"farmerUuid\", forumAns.getFarmer());\n        query.setParameter(\"answerDate\", forumAns.getAnswerDate());\n        session.merge(forumAns);\n        session.getTransaction().commit();\n    } catch (Exception e) {\n        e.printStackTrace();\n        System.out.println(\"error while saving forum details\" + e);\n    } finally {\n        session.close();\n    }\n\n    return forumAns;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":28959339,"reputation":1,"user_id":22182166,"display_name":"china-duanpeng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688607476,"creation_date":1688607476,"question_id":76624990,"body_markdown":"org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerAdapter&#39; defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method &#39;requestMappingHandlerAdapter&#39; threw exception; nested exception is java.lang.IllegalStateException: @Bean method EnableWebMvcConfiguration.mvcContentNegotiationManager called as a bean reference for type [org.springframework.web.accept.ContentNegotiationManager] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy256]. Overriding bean of same name declared in: class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1176)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1071)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756)\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\r\n\tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1082)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1071)\r\n\tat com.lenovo.m2.couponV2.service.launcher.Launcher.main(Launcher.java:42)\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method &#39;requestMappingHandlerAdapter&#39; threw exception; nested exception is java.lang.IllegalStateException: @Bean method EnableWebMvcConfiguration.mvcContentNegotiationManager called as a bean reference for type [org.springframework.web.accept.ContentNegotiationManager] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy256]. Overriding bean of same name declared in: class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\r\n\t... 18 more\r\nCaused by: java.lang.IllegalStateException: @Bean method EnableWebMvcConfiguration.mvcContentNegotiationManager called as a bean reference for type [org.springframework.web.accept.ContentNegotiationManager] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy256]. Overriding bean of same name declared in: class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.obtainBeanInstanceFromFactory(ConfigurationClassEnhancer.java:402)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\r\n\tat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac.mvcContentNegotiationManager(&lt;generated&gt;)\r\n\tat org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter(WebMvcConfigurationSupport.java:531)\r\n\tat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration.requestMappingHandlerAdapter(WebMvcAutoConfiguration.java:365)\r\n\tat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac.CGLIB$requestMappingHandlerAdapter$7(&lt;generated&gt;)\r\n\tat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac$$FastClassBySpringCGLIB$$fb780f0c.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n\tat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358)\r\n\tat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac.requestMappingHandlerAdapter(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\r\n\t... 19 more\r\n\r\nhelp me to handle this problem","title":"spring  springboot Error creating bean with name &#39;requestMappingHandlerAdapter&#39;","body":"<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerAdapter' defined in class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method 'requestMappingHandlerAdapter' threw exception; nested exception is java.lang.IllegalStateException: @Bean method EnableWebMvcConfiguration.mvcContentNegotiationManager called as a bean reference for type [org.springframework.web.accept.ContentNegotiationManager] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy256]. Overriding bean of same name declared in: class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:599)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1176)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1071)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:511)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:481)\nat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:312)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:308)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:756)\nat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:867)\nat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)\nat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:123)\nat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:666)\nat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:353)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:300)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1082)\nat org.springframework.boot.SpringApplication.run(SpringApplication.java:1071)\nat com.lenovo.m2.couponV2.service.launcher.Launcher.main(Launcher.java:42)\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]: Factory method 'requestMappingHandlerAdapter' threw exception; nested exception is java.lang.IllegalStateException: @Bean method EnableWebMvcConfiguration.mvcContentNegotiationManager called as a bean reference for type [org.springframework.web.accept.ContentNegotiationManager] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy256]. Overriding bean of same name declared in: class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:189)\nat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:588)\n... 18 more\nCaused by: java.lang.IllegalStateException: @Bean method EnableWebMvcConfiguration.mvcContentNegotiationManager called as a bean reference for type [org.springframework.web.accept.ContentNegotiationManager] but overridden by non-compatible bean instance of type [com.sun.proxy.$Proxy256]. Overriding bean of same name declared in: class path resource [org/springframework/boot/autoconfigure/web/WebMvcAutoConfiguration$EnableWebMvcConfiguration.class]\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.obtainBeanInstanceFromFactory(ConfigurationClassEnhancer.java:402)\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:361)\nat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac.mvcContentNegotiationManager()\nat org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerAdapter(WebMvcConfigurationSupport.java:531)\nat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration.requestMappingHandlerAdapter(WebMvcAutoConfiguration.java:365)\nat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac.CGLIB$requestMappingHandlerAdapter$7()\nat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac$$FastClassBySpringCGLIB$$fb780f0c.invoke()\nat org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\nat org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:358)\nat org.springframework.boot.autoconfigure.web.WebMvcAutoConfiguration$EnableWebMvcConfiguration$$EnhancerBySpringCGLIB$$4ee9a1ac.requestMappingHandlerAdapter()\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:162)\n... 19 more</p>\n<p>help me to handle this problem</p>\n"},{"tags":["java","maven","build-automation","build-dependencies"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1343296646,"post_id":11666701,"comment_id":15462629,"body_markdown":"It&#39;s easy to do with a version control system like Subversion or Git.  I don&#39;t see how or why you&#39;d want to feed that info into Maven.  Why wouldn&#39;t you just want to rebuild every time?","body":"It&#39;s easy to do with a version control system like Subversion or Git.  I don&#39;t see how or why you&#39;d want to feed that info into Maven.  Why wouldn&#39;t you just want to rebuild every time?"},{"owner":{"account_id":42687,"reputation":6393,"user_id":124426,"accept_rate":77,"display_name":"Ed ."},"score":0,"creation_date":1343296969,"post_id":11666701,"comment_id":15462800,"body_markdown":"Yeah, so I know that there are text diff tools that I could be using but I&#39;m more interested in a library that reports the differences listed above which can then be called upon to ascertain what to build. As to why I want to know this, my reasoning would take a while to explain and I guess hopefully it won&#39;t affect answers. Thanks.","body":"Yeah, so I know that there are text diff tools that I could be using but I&#39;m more interested in a library that reports the differences listed above which can then be called upon to ascertain what to build. As to why I want to know this, my reasoning would take a while to explain and I guess hopefully it won&#39;t affect answers. Thanks."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1343297102,"post_id":11666701,"comment_id":15462858,"body_markdown":"Don&#39;t know of one.  Still can&#39;t see any good reason to do it.  Shaving a few seconds off an automated build would seem like a waste of time to me.","body":"Don&#39;t know of one.  Still can&#39;t see any good reason to do it.  Shaving a few seconds off an automated build would seem like a waste of time to me."},{"owner":{"account_id":261773,"reputation":2966,"user_id":546188,"display_name":"Walter Laan"},"score":1,"creation_date":1343297420,"post_id":11666701,"comment_id":15462988,"body_markdown":"http://stackoverflow.com/questions/1664823/detecting-api-changes-evolution","body":"<a href=\"http://stackoverflow.com/questions/1664823/detecting-api-changes-evolution\" title=\"detecting api changes evolution\">stackoverflow.com/questions/1664823/&hellip;</a>"},{"owner":{"account_id":42687,"reputation":6393,"user_id":124426,"accept_rate":77,"display_name":"Ed ."},"score":0,"creation_date":1343297655,"post_id":11666701,"comment_id":15463092,"body_markdown":"That&#39;s what I&#39;m looking for! Thanks, if you want to post as an answer I&#39;d accept.","body":"That&#39;s what I&#39;m looking for! Thanks, if you want to post as an answer I&#39;d accept."},{"owner":{"account_id":195691,"reputation":28439,"user_id":438742,"accept_rate":73,"display_name":"kan"},"score":0,"creation_date":1343303563,"post_id":11666701,"comment_id":15465476,"body_markdown":"@Ed. Not surprisingly all such tools were abandoned &gt;5 years ago. You should do it with test cases and don&#39;t rely on some magic tools which should figure out something. E.g., the &quot;implementation changed&quot; is nearly impossible to detect. A method body could be unchanged, but, say, 3rd party library version was updated and it could cause failures in the method. So, just write test cases.","body":"@Ed. Not surprisingly all such tools were abandoned &gt;5 years ago. You should do it with test cases and don&#39;t rely on some magic tools which should figure out something. E.g., the &quot;implementation changed&quot; is nearly impossible to detect. A method body could be unchanged, but, say, 3rd party library version was updated and it could cause failures in the method. So, just write test cases."},{"owner":{"account_id":42687,"reputation":6393,"user_id":124426,"accept_rate":77,"display_name":"Ed ."},"score":0,"creation_date":1343304620,"post_id":11666701,"comment_id":15466004,"body_markdown":"@kan Yeah, fair point - I guess implementation changes were a bit ambitious!","body":"@kan Yeah, fair point - I guess implementation changes were a bit ambitious!"}],"answers":[{"tags":[],"owner":{"account_id":24269,"reputation":63221,"user_id":61624,"accept_rate":60,"display_name":"Daniel Kaplan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1355877959,"creation_date":1355877959,"answer_id":13943883,"question_id":11666701,"body_markdown":"You said above that [Clirr][1] is what you&#39;re looking for.  \r\n\r\nBut for others with slightly differet needs, I&#39;d like to recommend [JDiff][2].  Both have pros and cons, but for my needs I ended up using JDiff.  I don&#39;t think it&#39;ll satisfy your last bullet point and it&#39;s difficult to call programmatically.  What it does do is generate a useful report for API differences.\r\n\r\n\r\n  [1]: http://clirr.sourceforge.net/\r\n  [2]: http://javadiff.sourceforge.net/","title":"Java code change analysis tool - e.g tell me if a method signature has changed, method implementation","body":"<p>You said above that <a href=\"http://clirr.sourceforge.net/\" rel=\"nofollow\">Clirr</a> is what you're looking for.  </p>\n\n<p>But for others with slightly differet needs, I'd like to recommend <a href=\"http://javadiff.sourceforge.net/\" rel=\"nofollow\">JDiff</a>.  Both have pros and cons, but for my needs I ended up using JDiff.  I don't think it'll satisfy your last bullet point and it's difficult to call programmatically.  What it does do is generate a useful report for API differences.</p>\n"}],"owner":{"account_id":42687,"reputation":6393,"user_id":124426,"accept_rate":77,"display_name":"Ed ."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":849,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13943883,"answer_count":1,"score":2,"last_activity_date":1688606841,"creation_date":1343296179,"question_id":11666701,"body_markdown":"Is there any __diff__ tool specifically for Java that doesn&#39;t just highlight differences in a file, but is more complex?\r\n\r\nBy more complex I mean it&#39;d take 2 input files, the same class file of different versions, and tell me things like:\r\n\r\n- Field names changed\r\n- New methods added\r\n- Deleted methods\r\n- Methods whose signatures have changed\r\n- Methods whose implementations have changed (not interested in any more detail than that)\r\n\r\nDone some Googling and can&#39;t find anything like this...I figure it could be useful in determining whether or not changes to dependencies would require a rebuild of a particular module.\r\n\r\nThanks in advance\r\n\r\n__Edit:__\r\n\r\nI suppose I should clarify:\r\n\r\nI&#39;m not bothered about a GUI for the tool, it&#39;d be something I&#39;m interested in _calling programmatically_.\r\n\r\nAnd as for my reasoning:\r\n\r\n- To workout if I need to rebuild certain modules/components if their dependencies have changed (which could save us around 1 hour per component)... More detailed explanation but I don&#39;t really see it as important.\r\n- To be used to analyse changes made to certain components that we are trying to lock down and rely on as being more stable, we are attempting to ensure that only very rarely should method signatures change in a particular component.\r\n\r\n","title":"Java code change analysis tool - e.g tell me if a method signature has changed, method implementation","body":"<p>Is there any <strong>diff</strong> tool specifically for Java that doesn't just highlight differences in a file, but is more complex?</p>\n\n<p>By more complex I mean it'd take 2 input files, the same class file of different versions, and tell me things like:</p>\n\n<ul>\n<li>Field names changed</li>\n<li>New methods added</li>\n<li>Deleted methods</li>\n<li>Methods whose signatures have changed</li>\n<li>Methods whose implementations have changed (not interested in any more detail than that)</li>\n</ul>\n\n<p>Done some Googling and can't find anything like this...I figure it could be useful in determining whether or not changes to dependencies would require a rebuild of a particular module.</p>\n\n<p>Thanks in advance</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I suppose I should clarify:</p>\n\n<p>I'm not bothered about a GUI for the tool, it'd be something I'm interested in <em>calling programmatically</em>.</p>\n\n<p>And as for my reasoning:</p>\n\n<ul>\n<li>To workout if I need to rebuild certain modules/components if their dependencies have changed (which could save us around 1 hour per component)... More detailed explanation but I don't really see it as important.</li>\n<li>To be used to analyse changes made to certain components that we are trying to lock down and rely on as being more stable, we are attempting to ensure that only very rarely should method signatures change in a particular component.</li>\n</ul>\n"},{"tags":["java","bigdecimal"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":5,"creation_date":1688569102,"post_id":76621497,"comment_id":135091519,"body_markdown":"What result do you want it to give you, for example, when you divide 1 by 3? Please give more details about what you are asking, e.g. by giving examples of expected vs. actual behaviour.","body":"What result do you want it to give you, for example, when you divide 1 by 3? Please give more details about what you are asking, e.g. by giving examples of expected vs. actual behaviour."}],"answers":[{"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688575257,"creation_date":1688575257,"answer_id":76622384,"question_id":76621497,"body_markdown":"I&#39;m not sure exactly what you&#39;re asking, but you can use [BigDecimal.divide(BigDecimal divisor, int scale, RoundingMode roundingMode)][1] and specify a large enough scale argument to keep a sufficient number of decimal places:\r\n\r\n    BigDecimal.ONE.divide(BigDecimal.valueOf(3), 10, RoundingMode.HALF_EVEN)\r\n    -&gt; 0.3333333333\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#divide(java.math.BigDecimal,int,java.math.RoundingMode)","title":"How to judge whether the BigDecimal division operation is indivisible in Java?","body":"<p>I'm not sure exactly what you're asking, but you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigDecimal.html#divide(java.math.BigDecimal,int,java.math.RoundingMode)\" rel=\"nofollow noreferrer\">BigDecimal.divide(BigDecimal divisor, int scale, RoundingMode roundingMode)</a> and specify a large enough scale argument to keep a sufficient number of decimal places:</p>\n<pre><code>BigDecimal.ONE.divide(BigDecimal.valueOf(3), 10, RoundingMode.HALF_EVEN)\n-&gt; 0.3333333333\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688606608,"creation_date":1688606608,"answer_id":76624944,"question_id":76621497,"body_markdown":"Well, &quot;keeping&quot; the decimal is in terms of the value&#39;s representation.\r\n\r\nSo, if it&#39;s _0.3_ repeating, then you would typically denote this using a line over the _3_, or sometimes an ellipsis, _&quot;0.3 ...&quot;_.\r\n\r\n&gt; _&quot;... At present, BigDecimal either chooses to directly divide and may have abnormalities ...&quot;_\r\n\r\nThis I am unaware of, it typically returns exact values for me; I&#39;ve never seen it deviate.\r\n\r\nThe _[BigDecimal#divide](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html#divide(java.math.BigDecimal))_ method, it will throw an error if the result is _non-terminating_.\r\n\r\nFor example, this will produce an error.\r\n\r\n```java\r\nBigDecimal value = BigDecimal.ONE;\r\nvalue = value.divide(new BigDecimal(&quot;3&quot;));\r\n```\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.ArithmeticException: Non-terminating decimal expansion; no exact representable decimal result.\r\n\tat java.base/java.math.BigDecimal.divide(BigDecimal.java:1769)\r\n\tat Example.main(Example.java:8)\r\n```\r\n\r\nHere is the excerpt from the JavaDoc, for _BigDecimal#divide_.\r\n\r\n&gt; _&quot;**Throws:**_  \r\n&gt; _ArithmeticException - if the exact quotient does not have a terminating decimal expansion, including dividing by zero&quot;_\r\n\r\nWhat you could do is apply a _scale_ and _[RoundingMode](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/RoundingMode.html)_ to the division.  \r\nThe _scale_ here is the amount of digits after the decimal point.\r\n\r\nI typically use the _[RoundingMode#HALF_UP](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/RoundingMode.html#HALF_UP)_ mode.\r\n\r\n```java\r\nBigDecimal value = BigDecimal.ONE;\r\nBigDecimal three = new BigDecimal(&quot;3&quot;);\r\nvalue = value.divide(three, 5, RoundingMode.HALF_UP);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n0.33333\r\n```","title":"How to judge whether the BigDecimal division operation is indivisible in Java?","body":"<p>Well, &quot;keeping&quot; the decimal is in terms of the value's representation.</p>\n<p>So, if it's <em>0.3</em> repeating, then you would typically denote this using a line over the <em>3</em>, or sometimes an ellipsis, <em>&quot;0.3 ...&quot;</em>.</p>\n<blockquote>\n<p><em>&quot;... At present, BigDecimal either chooses to directly divide and may have abnormalities ...&quot;</em></p>\n</blockquote>\n<p>This I am unaware of, it typically returns exact values for me; I've never seen it deviate.</p>\n<p>The <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html#divide(java.math.BigDecimal)\" rel=\"nofollow noreferrer\">BigDecimal#divide</a></em> method, it will throw an error if the result is <em>non-terminating</em>.</p>\n<p>For example, this will produce an error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal value = BigDecimal.ONE;\nvalue = value.divide(new BigDecimal(&quot;3&quot;));\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.ArithmeticException: Non-terminating decimal expansion; no exact representable decimal result.\n    at java.base/java.math.BigDecimal.divide(BigDecimal.java:1769)\n    at Example.main(Example.java:8)\n</code></pre>\n<p>Here is the excerpt from the JavaDoc, for <em>BigDecimal#divide</em>.</p>\n<blockquote>\n<p><em>&quot;<strong>Throws:</strong></em><br />\n<em>ArithmeticException - if the exact quotient does not have a terminating decimal expansion, including dividing by zero&quot;</em></p>\n</blockquote>\n<p>What you could do is apply a <em>scale</em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/RoundingMode.html\" rel=\"nofollow noreferrer\">RoundingMode</a></em> to the division.<br />\nThe <em>scale</em> here is the amount of digits after the decimal point.</p>\n<p>I typically use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/RoundingMode.html#HALF_UP\" rel=\"nofollow noreferrer\">RoundingMode#HALF_UP</a></em> mode.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal value = BigDecimal.ONE;\nBigDecimal three = new BigDecimal(&quot;3&quot;);\nvalue = value.divide(three, 5, RoundingMode.HALF_UP);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>0.33333\n</code></pre>\n"}],"owner":{"account_id":15796924,"reputation":21,"user_id":11398484,"display_name":"feilong gao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688606608,"creation_date":1688568237,"question_id":76621497,"body_markdown":"When we do arithmetic, we often keep the whole decimal if we can divide it completely, and we have to keep a few decimal places if we can&#39;t divide it completely.At present, BigDecimal either chooses to directly divide and may have abnormalities, or keeps all decimals.\r\n\r\nHow to keep the decimals only when the decimals are endless? Lose as little information as possible\r\n\r\nExpected effect:\r\n1/4=0.25\r\n1/3=0.3333","title":"How to judge whether the BigDecimal division operation is indivisible in Java?","body":"<p>When we do arithmetic, we often keep the whole decimal if we can divide it completely, and we have to keep a few decimal places if we can't divide it completely.At present, BigDecimal either chooses to directly divide and may have abnormalities, or keeps all decimals.</p>\n<p>How to keep the decimals only when the decimals are endless? Lose as little information as possible</p>\n<p>Expected effect:\n1/4=0.25\n1/3=0.3333</p>\n"},{"tags":["java","spring-boot","janusgraph","tinkerpop3","gremlin-server"],"comments":[{"owner":{"account_id":7259207,"reputation":92,"user_id":5536648,"display_name":"A R K"},"score":0,"creation_date":1688631099,"post_id":76624943,"comment_id":135100306,"body_markdown":"May be this post could help https://stackoverflow.com/questions/37370621/how-to-ensure-there-single-edge-in-a-graph-for-a-given-order-id","body":"May be this post could help <a href=\"https://stackoverflow.com/questions/37370621/how-to-ensure-there-single-edge-in-a-graph-for-a-given-order-id\" title=\"how to ensure there single edge in a graph for a given order id\">stackoverflow.com/questions/37370621/&hellip;</a>"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688606603,"creation_date":1688606603,"question_id":76624943,"body_markdown":"How to add unique constraints to edge property in janusgraph Globally?\r\n\r\nUnique constraints are applied to only vertex?","title":"How to add unique constraints to edge property in janusgraph?","body":"<p>How to add unique constraints to edge property in janusgraph Globally?</p>\n<p>Unique constraints are applied to only vertex?</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1688599543,"post_id":76624544,"comment_id":135096765,"body_markdown":"Doing what you describe is ill advised.  What happens if the key count is identical to another key count?  Why not reverse roles of  key and value?   If the `failedIds` is unique, why not sum the successes  (value) for each failedIds (key)? It would help if you would provide an example of how you expect the map will evolve over time.","body":"Doing what you describe is ill advised.  What happens if the key count is identical to another key count?  Why not reverse roles of  key and value?   If the <code>failedIds</code> is unique, why not sum the successes  (value) for each failedIds (key)? It would help if you would provide an example of how you expect the map will evolve over time."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688605394,"creation_date":1688600050,"answer_id":76624651,"question_id":76624544,"body_markdown":"Why not do something like this. This will increment the successes for each `failedId`.  Of course failedId and successes seems a bit confusing. So instead of summing successes you would be summing failures. Note that `merge` will either initalize the value to `1` for key if it is not present, or increment the value by `1` if it is.\r\n```\r\nMap&lt;String, Integer&gt; responseMap = new HashMap&lt;&gt;();\r\nif (response.getStatusCode().is2xxSuccessful()) {\r\n      responseMap.merge(failedIds, 1, Integer::sum);\r\n}\r\n```\r\nOr create a map of maps.  The inner map will hold the `successes and failures` for each `Id`.\r\n\r\nHere is how that might look using `Random` to generate possible values for `id`, and `status`.\r\n``` \r\nMap&lt;String, Map&lt;String, Integer&gt;&gt; responseMap = new HashMap&lt;&gt;();\r\nString status;\r\nString id;\r\nRandom r = new Random();\r\nfor (int i = 0; i &lt; 30; i++) {\r\n    id = &quot;ID&quot; + (r.nextInt(3) + 1); // id from 1 to 3\r\n    status = r.nextBoolean() ? &quot;SUCCESSES&quot; : &quot;FAILURES&quot;;  \r\n    responseMap.computeIfAbsent(id, v -&gt; new HashMap&lt;&gt;()).merge(status,\r\n            1, Integer::sum);\r\n}\r\n\r\nresponseMap.entrySet().forEach(e1-&gt;{\r\n     System.out.println(e1.getKey());\r\n     e1.getValue().entrySet().forEach(e2-&gt; {\r\n         System.out.println(&quot;   &quot; + e2);\r\n     });\r\n}); \r\n```\r\nprints something like\r\n```\r\nID2\r\n   FAILURES=7\r\n   SUCCESSES=6\r\nID1\r\n   FAILURES=6\r\n   SUCCESSES=2\r\nID3\r\n   FAILURES=6\r\n   SUCCESSES=3\r\n\r\n```\r\nFirst the inner map is created if it doesn&#39;t exist for the given id.  In any event `computeIfAbsent` returns the value which will be a `Map&lt;String, Integer&gt;`.  Then `merge` is like before where the counts are incremented for the status of the call, use `Random.nextBoolean()` to assign whether th current status is a success (true) or failure (false);\r\n```","title":"How to auto increment Map&#39;s key","body":"<p>Why not do something like this. This will increment the successes for each <code>failedId</code>.  Of course failedId and successes seems a bit confusing. So instead of summing successes you would be summing failures. Note that <code>merge</code> will either initalize the value to <code>1</code> for key if it is not present, or increment the value by <code>1</code> if it is.</p>\n<pre><code>Map&lt;String, Integer&gt; responseMap = new HashMap&lt;&gt;();\nif (response.getStatusCode().is2xxSuccessful()) {\n      responseMap.merge(failedIds, 1, Integer::sum);\n}\n</code></pre>\n<p>Or create a map of maps.  The inner map will hold the <code>successes and failures</code> for each <code>Id</code>.</p>\n<p>Here is how that might look using <code>Random</code> to generate possible values for <code>id</code>, and <code>status</code>.</p>\n<pre><code>Map&lt;String, Map&lt;String, Integer&gt;&gt; responseMap = new HashMap&lt;&gt;();\nString status;\nString id;\nRandom r = new Random();\nfor (int i = 0; i &lt; 30; i++) {\n    id = &quot;ID&quot; + (r.nextInt(3) + 1); // id from 1 to 3\n    status = r.nextBoolean() ? &quot;SUCCESSES&quot; : &quot;FAILURES&quot;;  \n    responseMap.computeIfAbsent(id, v -&gt; new HashMap&lt;&gt;()).merge(status,\n            1, Integer::sum);\n}\n\nresponseMap.entrySet().forEach(e1-&gt;{\n     System.out.println(e1.getKey());\n     e1.getValue().entrySet().forEach(e2-&gt; {\n         System.out.println(&quot;   &quot; + e2);\n     });\n}); \n</code></pre>\n<p>prints something like</p>\n<pre><code>ID2\n   FAILURES=7\n   SUCCESSES=6\nID1\n   FAILURES=6\n   SUCCESSES=2\nID3\n   FAILURES=6\n   SUCCESSES=3\n\n</code></pre>\n<p>First the inner map is created if it doesn't exist for the given id.  In any event <code>computeIfAbsent</code> returns the value which will be a <code>Map&lt;String, Integer&gt;</code>.  Then <code>merge</code> is like before where the counts are incremented for the status of the call, use <code>Random.nextBoolean()</code> to assign whether th current status is a success (true) or failure (false);</p>\n<pre><code></code></pre>\n"}],"owner":{"account_id":4859726,"reputation":283,"user_id":3919727,"display_name":"user3919727"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76624651,"answer_count":1,"score":0,"last_activity_date":1688605394,"creation_date":1688598036,"question_id":76624544,"body_markdown":"I have a Map which I am using to add successCount as key and List&lt;String&gt; as value to capture failed ones.\r\nSay if I call processRequest() 5 times then requestCount will be 5 and successCount will be sum of all the success ones.\r\n\r\nI see successCount will always be 1 when I tried. Please advice how can I achieve this, thanks\r\n\r\n      public updateCust() {\r\n        HashMap&lt;Integer, List&lt;String&gt;&gt; responseMap = new HashMap&lt;&gt;();\r\n\r\n        int requestCount = 0;\r\n        int successCount = 0;\r\n        for (Map.Entry&lt;String, List&lt;Tuple&gt;&gt; entry : custsGb.entrySet()) {\r\n            processRequest(responseMap, failedIds);\r\n            requestCount++;\r\n        }\r\n\r\n\t    if (requestCount == responseMap.keySet().stream().findFirst().get().intValue()) {\r\n             // all success - 200\r\n\t    } \r\n     }\r\n\r\n\r\n    public HashMap&lt;Integer, List&lt;String&gt;&gt; processRequest(HashMap&lt;Integer, List&lt;String&gt;&gt; responseMap, List&lt;String&gt; failedIds) {\r\n        int successCount = 0;\r\n        if (response.getStatusCode().is2xxSuccessful()) {\r\n             responseMap.put(successCount++, failedIds);\r\n        } else {\r\n             failedIds.add(id);\r\n\t     responseMap.put(successCount, failedIds);\r\n        }\r\n        return responseMap;\r\n    }\r\n ","title":"How to auto increment Map&#39;s key","body":"<p>I have a Map which I am using to add successCount as key and List as value to capture failed ones.\nSay if I call processRequest() 5 times then requestCount will be 5 and successCount will be sum of all the success ones.</p>\n<p>I see successCount will always be 1 when I tried. Please advice how can I achieve this, thanks</p>\n<pre><code>  public updateCust() {\n    HashMap&lt;Integer, List&lt;String&gt;&gt; responseMap = new HashMap&lt;&gt;();\n\n    int requestCount = 0;\n    int successCount = 0;\n    for (Map.Entry&lt;String, List&lt;Tuple&gt;&gt; entry : custsGb.entrySet()) {\n        processRequest(responseMap, failedIds);\n        requestCount++;\n    }\n\n    if (requestCount == responseMap.keySet().stream().findFirst().get().intValue()) {\n         // all success - 200\n    } \n }\n\n\npublic HashMap&lt;Integer, List&lt;String&gt;&gt; processRequest(HashMap&lt;Integer, List&lt;String&gt;&gt; responseMap, List&lt;String&gt; failedIds) {\n    int successCount = 0;\n    if (response.getStatusCode().is2xxSuccessful()) {\n         responseMap.put(successCount++, failedIds);\n    } else {\n         failedIds.add(id);\n     responseMap.put(successCount, failedIds);\n    }\n    return responseMap;\n}\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1507204563,"post_id":46584294,"comment_id":80122799,"body_markdown":"Feel  free to create feature request on YouTrack: http://youtrack.jetbrains.com/issues/IDEA.","body":"Feel  free to create feature request on YouTrack: <a href=\"http://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a>."},{"owner":{"account_id":11175092,"reputation":45706,"user_id":8200937,"display_name":"glytching"},"score":0,"creation_date":1507204934,"post_id":46584294,"comment_id":80123039,"body_markdown":"I don&#39;t _think_ IntelliJ has a &quot;single exit point&quot; refactor.","body":"I don&#39;t <i>think</i> IntelliJ has a &quot;single exit point&quot; refactor."},{"owner":{"account_id":1424961,"reputation":30720,"user_id":1348743,"display_name":"Javaru"},"score":0,"creation_date":1507215930,"post_id":46584294,"comment_id":80131086,"body_markdown":"There is not. If there were, it would (likely) be offered as a quick fix for the _Java &gt; Method Metrics &gt; Method with multiple return points_ inspection. Opening a feature request is likely your best bet.","body":"There is not. If there were, it would (likely) be offered as a quick fix for the <i>Java &gt; Method Metrics &gt; Method with multiple return points</i> inspection. Opening a feature request is likely your best bet."},{"owner":{"account_id":872516,"reputation":5591,"user_id":923041,"accept_rate":75,"display_name":"eekboom"},"score":2,"creation_date":1507295942,"post_id":46584294,"comment_id":80165191,"body_markdown":"There really is no such refactoring in IntelliJ. (In this specific case you could use the Intention &quot;Replace &#39;if-else&#39; with &#39;?:&#39; &quot; (press alt-enter on the &quot;if&quot;). That does not help with the general case, of course. Also most of the times I prefer the &quot;early return&quot; to the &quot;single return&quot; style. I used to be a strong proponent of the &quot;single return&quot; style. Over the years and with lots of experience, however, I changed my opinion. Strictly enforcing &quot;single return&quot; often leads to worse readability due to unnecessary nesting and superfluous local variables.","body":"There really is no such refactoring in IntelliJ. (In this specific case you could use the Intention &quot;Replace &#39;if-else&#39; with &#39;?:&#39; &quot; (press alt-enter on the &quot;if&quot;). That does not help with the general case, of course. Also most of the times I prefer the &quot;early return&quot; to the &quot;single return&quot; style. I used to be a strong proponent of the &quot;single return&quot; style. Over the years and with lots of experience, however, I changed my opinion. Strictly enforcing &quot;single return&quot; often leads to worse readability due to unnecessary nesting and superfluous local variables."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1688605155,"post_id":46584294,"comment_id":135097252,"body_markdown":"Perhaps a single exit point made sense in the days of manual memory management and no try/finally (i.e. never in Java), but now it&#39;s an anti-pattern.","body":"Perhaps a single exit point made sense in the days of manual memory management and no try/finally (i.e. never in Java), but now it&#39;s an anti-pattern."}],"answers":[{"tags":[],"owner":{"account_id":1497191,"reputation":9670,"user_id":1402846,"accept_rate":90,"display_name":"Pang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688604381,"creation_date":1688604381,"answer_id":76624850,"question_id":46584294,"body_markdown":"Put the caret at the method name, press &lt;kbd&gt;Alt+Enter&lt;/kbd&gt;, then choose &quot;Transform body to single exit-point form&quot;. It will convert the method to a single `return` form.\r\n\r\nThe setting can be found in `Settings | Editor | Intentions`, then `Java | Control flow | Transform body to single exit-point form`. It should be enabled by default.","title":"Hotkey in IntelliJ IDEA to extract all return statements in method","body":"<p>Put the caret at the method name, press <kbd>Alt+Enter</kbd>, then choose &quot;Transform body to single exit-point form&quot;. It will convert the method to a single <code>return</code> form.</p>\n<p>The setting can be found in <code>Settings | Editor | Intentions</code>, then <code>Java | Control flow | Transform body to single exit-point form</code>. It should be enabled by default.</p>\n"}],"owner":{"account_id":1788781,"reputation":467,"user_id":1629626,"accept_rate":89,"display_name":"SoulCub"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1688604478,"creation_date":1507202137,"question_id":46584294,"body_markdown":"For example, if we have method:\r\n\r\n    private A getA(A a1, A a2) {\r\n        if (a1 != null) {\r\n            return a1;\r\n        } else {\r\n            return a2;\r\n        }\r\n    }\r\n\r\nDoes IDEA have some hotkey (like &lt;kbd&gt;Ctrl+Alt+V&lt;/kbd&gt; for extracting variable) to make from this code something like this:\r\n\r\n    private A selectA(A a1, A a2) {\r\n        A result;\r\n        if (a1 != null) {\r\n            result = a1;\r\n        } else {\r\n            result = a2;\r\n        }\r\n        return result;\r\n    }\r\n\r\n","title":"Hotkey in IntelliJ IDEA to extract all return statements in method","body":"<p>For example, if we have method:</p>\n<pre><code>private A getA(A a1, A a2) {\n    if (a1 != null) {\n        return a1;\n    } else {\n        return a2;\n    }\n}\n</code></pre>\n<p>Does IDEA have some hotkey (like <kbd>Ctrl+Alt+V</kbd> for extracting variable) to make from this code something like this:</p>\n<pre><code>private A selectA(A a1, A a2) {\n    A result;\n    if (a1 != null) {\n        result = a1;\n    } else {\n        result = a2;\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","authentication","totp"],"comments":[{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1672664285,"post_id":74982217,"comment_id":132322074,"body_markdown":"Can you also paste if you are facing any errors ? if so, which ones? Have you tried debugging ? at what statement does it go wrong sort of ? Also consider adding few log statements for your own reference","body":"Can you also paste if you are facing any errors ? if so, which ones? Have you tried debugging ? at what statement does it go wrong sort of ? Also consider adding few log statements for your own reference"},{"owner":{"account_id":13956967,"reputation":97,"user_id":10079056,"display_name":"S H"},"score":0,"creation_date":1672665162,"post_id":74982217,"comment_id":132322334,"body_markdown":"im getting in request response &quot;unable to auth&quot;, but in app console there is no error, i would like to try to debug verifyTotp from token manager, but the implementation is in a decompiled class file","body":"im getting in request response &quot;unable to auth&quot;, but in app console there is no error, i would like to try to debug verifyTotp from token manager, but the implementation is in a decompiled class file"}],"answers":[{"tags":[],"owner":{"account_id":13956967,"reputation":97,"user_id":10079056,"display_name":"S H"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1672680955,"creation_date":1672670093,"answer_id":74983660,"question_id":74982217,"body_markdown":"Finally found the problem, on my phone the time was delayed by 2 minutes, I&#39;ve set it to be the same as on my computer and worked. The problem is that when validating the token the app uses an interval of 30 seconds for each token generation, and if the delay on the phone or other device is bigger than 30 sec in future or past the timestamp doesnt match the one used for verification.\r\n\r\nHere is the documentation for the library i used, make sure to read it carefully before using it. \r\nhttps://github.com/samdjstevens/java-totp\r\n\r\nHere is the article which i followed in my project:\r\nhttps://www.javadevjournal.com/spring-security/two-factor-authentication-with-spring-security/\r\n\r\nUseful reading before starting a project using TOTP:\r\nhttps://www.freecodecamp.org/news/how-time-based-one-time-passwords-work-and-why-you-should-use-them-in-your-app-fdd2b9ed43c3/\r\n\r\nA youtube video about 2FA:\r\nhttps://www.youtube.com/watch?v=ZXFYT-BG2So","title":"spring boot mfa totp code verification on login not working","body":"<p>Finally found the problem, on my phone the time was delayed by 2 minutes, I've set it to be the same as on my computer and worked. The problem is that when validating the token the app uses an interval of 30 seconds for each token generation, and if the delay on the phone or other device is bigger than 30 sec in future or past the timestamp doesnt match the one used for verification.</p>\n<p>Here is the documentation for the library i used, make sure to read it carefully before using it.\n<a href=\"https://github.com/samdjstevens/java-totp\" rel=\"nofollow noreferrer\">https://github.com/samdjstevens/java-totp</a></p>\n<p>Here is the article which i followed in my project:\n<a href=\"https://www.javadevjournal.com/spring-security/two-factor-authentication-with-spring-security/\" rel=\"nofollow noreferrer\">https://www.javadevjournal.com/spring-security/two-factor-authentication-with-spring-security/</a></p>\n<p>Useful reading before starting a project using TOTP:\n<a href=\"https://www.freecodecamp.org/news/how-time-based-one-time-passwords-work-and-why-you-should-use-them-in-your-app-fdd2b9ed43c3/\" rel=\"nofollow noreferrer\">https://www.freecodecamp.org/news/how-time-based-one-time-passwords-work-and-why-you-should-use-them-in-your-app-fdd2b9ed43c3/</a></p>\n<p>A youtube video about 2FA:\n<a href=\"https://www.youtube.com/watch?v=ZXFYT-BG2So\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=ZXFYT-BG2So</a></p>\n"},{"tags":[],"owner":{"account_id":4954246,"reputation":41,"user_id":3987327,"display_name":"Sumant Shanbag"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688603582,"creation_date":1688603582,"answer_id":76624817,"question_id":74982217,"body_markdown":"I stumbled upon this thread while trying to learn TOTP concepts and after 2/3 hours of working through the issues I think I have the solution going.\r\n\r\n1. POM dependencies:\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;dev.samstevens.totp&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;totp-spring-boot-starter&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.7.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;commons-net&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;commons-net&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.9.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n2. TOTPConstants.java\r\n\r\n```\r\npackage com.spsllc.config;\r\n\r\nimport dev.samstevens.totp.code.HashingAlgorithm;\r\n\r\npublic interface TOTPConstants {\r\n\r\n    int DIGITS = 6;\r\n    int SECRET_CHARACTER_LENGTH = 32;\r\n    int CODE_VALIDITY_IN_SECONDS = 30;\r\n    int TIME_PERIOD_DISCREPANCY = 1;\r\n    HashingAlgorithm HASHING_ALGO = HashingAlgorithm.SHA1;\r\n}\r\n```\r\n\r\n3. TOTPConfig.java\r\n```\r\npackage com.spsllc.config;\r\n\r\nimport static com.spsllc.config.TOTPConstants.CODE_VALIDITY_IN_SECONDS;\r\nimport static com.spsllc.config.TOTPConstants.DIGITS;\r\nimport static com.spsllc.config.TOTPConstants.HASHING_ALGO;\r\nimport static com.spsllc.config.TOTPConstants.SECRET_CHARACTER_LENGTH;\r\nimport static com.spsllc.config.TOTPConstants.TIME_PERIOD_DISCREPANCY;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport dev.samstevens.totp.code.CodeGenerator;\r\nimport dev.samstevens.totp.code.CodeVerifier;\r\nimport dev.samstevens.totp.code.DefaultCodeGenerator;\r\nimport dev.samstevens.totp.code.DefaultCodeVerifier;\r\nimport dev.samstevens.totp.qr.QrGenerator;\r\nimport dev.samstevens.totp.qr.ZxingPngQrGenerator;\r\nimport dev.samstevens.totp.secret.DefaultSecretGenerator;\r\nimport dev.samstevens.totp.secret.SecretGenerator;\r\nimport dev.samstevens.totp.time.NtpTimeProvider;\r\nimport dev.samstevens.totp.time.TimeProvider;\r\n\r\n@Configuration\r\npublic class TOTPConfig {\r\n\r\n    @Bean\r\n    public TimeProvider timeProvider() throws Exception {\r\n        return new NtpTimeProvider(&quot;pool.ntp.org&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public SecretGenerator secretGenerator() {\r\n        return new DefaultSecretGenerator(SECRET_CHARACTER_LENGTH);\r\n    }\r\n\r\n    @Bean\r\n    public QrGenerator qrGenerator() {\r\n        return new ZxingPngQrGenerator();\r\n    }\r\n\r\n    @Bean\r\n    public CodeGenerator codeGenerator() {\r\n        return new DefaultCodeGenerator(HASHING_ALGO, DIGITS);\r\n    }\r\n\r\n    @Bean\r\n    public CodeVerifier codeVerifier() throws Exception {\r\n        DefaultCodeVerifier verifier = new DefaultCodeVerifier(codeGenerator(), timeProvider());\r\n        verifier.setTimePeriod(CODE_VALIDITY_IN_SECONDS);\r\n        verifier.setAllowedTimePeriodDiscrepancy(TIME_PERIOD_DISCREPANCY);\r\n        return verifier;\r\n    }\r\n}\r\n```\r\n\r\n4. TOTPController.java\r\n```\r\npackage com.spsllc.controller;\r\n\r\nimport static com.spsllc.config.TOTPConstants.CODE_VALIDITY_IN_SECONDS;\r\nimport static com.spsllc.config.TOTPConstants.DIGITS;\r\nimport static com.spsllc.config.TOTPConstants.HASHING_ALGO;\r\nimport static dev.samstevens.totp.util.Utils.getDataUriForImage;\r\n\r\nimport java.time.Instant;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\nimport org.springframework.web.servlet.ModelAndView;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\n\r\nimport dev.samstevens.totp.code.CodeGenerator;\r\nimport dev.samstevens.totp.code.CodeVerifier;\r\nimport dev.samstevens.totp.exceptions.QrGenerationException;\r\nimport dev.samstevens.totp.qr.QrData;\r\nimport dev.samstevens.totp.qr.QrGenerator;\r\nimport dev.samstevens.totp.secret.SecretGenerator;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Controller\r\n@Slf4j\r\npublic class TOTPController {\r\n\r\n    @Autowired\r\n    private SecretGenerator secretGenerator;\r\n\r\n    @Autowired\r\n    private CodeGenerator codeGenerator;\r\n\r\n    @Autowired\r\n    private QrGenerator qrGenerator;\r\n\r\n    @Autowired\r\n    private CodeVerifier verifier;\r\n\r\n    @GetMapping(&quot;/totp/setup&quot;)\r\n    public ModelAndView setupDevice(ModelAndView modelAndView) throws QrGenerationException {\r\n        // Use this to generate unique secret per user/device and store it against the user profile in DB\r\n        // String secret = secretGenerator.generate();\r\n        // Use this to generate unique secret per user/device and store it against the user profile in DB\r\n        String secret = &quot;XFRUQ2SSFFXLYGOS7RDIGFQ7RHQUFJC3&quot;;\r\n        QrData data = new QrData.Builder()\r\n                .label(&quot;john.doe@example.com&quot;)\r\n                .secret(secret)\r\n                .issuer(&quot;Imaginary Inc.,&quot;)\r\n                .digits(DIGITS)\r\n                .period(CODE_VALIDITY_IN_SECONDS)\r\n                .algorithm(HASHING_ALGO)\r\n                .build();\r\n\r\n        String qrCodeImage = getDataUriForImage(\r\n                qrGenerator.generate(data),\r\n                qrGenerator.getImageMimeType());\r\n\r\n        modelAndView.setViewName(&quot;content/totp-setup.html&quot;);\r\n        modelAndView.addObject(&quot;qrCodeImageData&quot;, qrCodeImage);\r\n        return modelAndView;\r\n    }\r\n\r\n    @GetMapping(value= &quot;/totp/verify/{totpCode}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;TOTPCode&gt; verify(@PathVariable(name = &quot;totpCode&quot;) String code) {\r\n        TOTPCode totpCode = new TOTPCode();\r\n        totpCode.setCode(code);\r\n        totpCode.setVerificationStatus(&quot;INCORRECT CODE&quot;);\r\n        if (verifier.isValidCode(&quot;XFRUQ2SSFFXLYGOS7RDIGFQ7RHQUFJC3&quot;, code)) {\r\n            totpCode.setVerificationStatus(&quot;CORRECT CODE&quot;);\r\n        }\r\n        return new ResponseEntity&lt;TOTPCode&gt;(totpCode, HttpStatus.OK);\r\n    }\r\n\r\n    @GetMapping(value = &quot;/totp/code&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;TOTPCode&gt; generateCode() throws Exception {\r\n        TOTPCode totpCode = new TOTPCode();\r\n        totpCode.setCode(codeGenerator.generate(&quot;XFRUQ2SSFFXLYGOS7RDIGFQ7RHQUFJC3&quot;, Instant.now().getEpochSecond() / CODE_VALIDITY_IN_SECONDS));\r\n        return new ResponseEntity&lt;TOTPCode&gt;(totpCode, HttpStatus.OK);\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    public static class TOTPCode {\r\n        String code;\r\n        String verificationStatus;\r\n    }\r\n}\r\n\r\n```\r\n\r\n5. src\\main\\resources\\templates\\content\\totp-setup.html\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n\r\n&lt;head&gt;\r\n    &lt;script th:src=&quot;@{/webjars/bootstrap/5.3.0/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;link th:rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/5.3.0/css/bootstrap.min.css}&quot; /&gt;\r\n    &lt;script th:src=&quot;@{/webjars/jquery/3.6.4/jquery.min.js}&quot;&gt;&lt;/script&gt;\r\n    &lt;script th:src=&quot;@{/webjars/popper.js/2.9.3/umd/popper.min.js}&quot;&gt;&lt;/script&gt;\r\n\r\n    &lt;link th:rel=&quot;apple-touch-icon&quot; sizes=&quot;180x180&quot; th:href=&quot;@{/apple-touch-icon.png}&quot; /&gt;\r\n    &lt;link th:rel=&quot;icon&quot; type=&quot;image/png&quot; sizes=&quot;32x32&quot; th:href=&quot;@{/favicon-32x32.png}&quot; /&gt;\r\n    &lt;link th:rel=&quot;icon&quot; type=&quot;image/png&quot; sizes=&quot;16x16&quot; th:href=&quot;@{/favicon-16x16.png}&quot; /&gt;\r\n    &lt;link rel=&quot;icon&quot; href=&quot;data:,&quot;&gt;\r\n    &lt;link th:rel=&quot;manifest&quot; th:href=&quot;@{/site.webmanifest}&quot; /&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n    &lt;div class=&quot;container mt-2&quot;&gt;\r\n        &lt;div class=&quot;alert alert-info&quot; role=&quot;alert&quot;&gt;\r\n            &lt;h3&gt;Scan this QR code in your authenticator app...&lt;/h3&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n            &lt;img th:src=&quot;${qrCodeImageData}&quot; style=&quot;height: 100px; width:100px;&quot; class=&quot;rounded float-start&quot; alt=&quot;TOTP QR Code&quot;/&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n6. Screenshots:\r\n[![Setup/onboard the user using QR Code][1]][1]\r\n[![get the code][2]][2]\r\n[![verify the code][3]][3]\r\n\r\n7. Additional thoughts\r\n\r\nI have tested this against following authenticator apps. I have also tested the solution with 8-digit-code with a validity of 60 seconds. It worked fine.\r\n\r\nI could not get it to work with SHA256/SHA512 hashing algorithms (only Google authenticator worked, but not Secureauth Authenticate). So for now, I am sticking with SHA1.\r\n\r\n```\r\na) Microsoft authenticator\r\nb) Google authenticator\r\nc) SecureAuth Authenticator\r\nd) Symantec VIP Access app\r\ne) 2FA Authy\r\nf) Authy\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xhfx6.png\r\n  [2]: https://i.stack.imgur.com/NBeGe.png\r\n  [3]: https://i.stack.imgur.com/bazy6.png","title":"spring boot mfa totp code verification on login not working","body":"<p>I stumbled upon this thread while trying to learn TOTP concepts and after 2/3 hours of working through the issues I think I have the solution going.</p>\n<ol>\n<li>POM dependencies:</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;dev.samstevens.totp&lt;/groupId&gt;\n    &lt;artifactId&gt;totp-spring-boot-starter&lt;/artifactId&gt;\n    &lt;version&gt;1.7.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;commons-net&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-net&lt;/artifactId&gt;\n    &lt;version&gt;3.9.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ol start=\"2\">\n<li>TOTPConstants.java</li>\n</ol>\n<pre><code>package com.spsllc.config;\n\nimport dev.samstevens.totp.code.HashingAlgorithm;\n\npublic interface TOTPConstants {\n\n    int DIGITS = 6;\n    int SECRET_CHARACTER_LENGTH = 32;\n    int CODE_VALIDITY_IN_SECONDS = 30;\n    int TIME_PERIOD_DISCREPANCY = 1;\n    HashingAlgorithm HASHING_ALGO = HashingAlgorithm.SHA1;\n}\n</code></pre>\n<ol start=\"3\">\n<li>TOTPConfig.java</li>\n</ol>\n<pre><code>package com.spsllc.config;\n\nimport static com.spsllc.config.TOTPConstants.CODE_VALIDITY_IN_SECONDS;\nimport static com.spsllc.config.TOTPConstants.DIGITS;\nimport static com.spsllc.config.TOTPConstants.HASHING_ALGO;\nimport static com.spsllc.config.TOTPConstants.SECRET_CHARACTER_LENGTH;\nimport static com.spsllc.config.TOTPConstants.TIME_PERIOD_DISCREPANCY;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport dev.samstevens.totp.code.CodeGenerator;\nimport dev.samstevens.totp.code.CodeVerifier;\nimport dev.samstevens.totp.code.DefaultCodeGenerator;\nimport dev.samstevens.totp.code.DefaultCodeVerifier;\nimport dev.samstevens.totp.qr.QrGenerator;\nimport dev.samstevens.totp.qr.ZxingPngQrGenerator;\nimport dev.samstevens.totp.secret.DefaultSecretGenerator;\nimport dev.samstevens.totp.secret.SecretGenerator;\nimport dev.samstevens.totp.time.NtpTimeProvider;\nimport dev.samstevens.totp.time.TimeProvider;\n\n@Configuration\npublic class TOTPConfig {\n\n    @Bean\n    public TimeProvider timeProvider() throws Exception {\n        return new NtpTimeProvider(&quot;pool.ntp.org&quot;);\n    }\n\n    @Bean\n    public SecretGenerator secretGenerator() {\n        return new DefaultSecretGenerator(SECRET_CHARACTER_LENGTH);\n    }\n\n    @Bean\n    public QrGenerator qrGenerator() {\n        return new ZxingPngQrGenerator();\n    }\n\n    @Bean\n    public CodeGenerator codeGenerator() {\n        return new DefaultCodeGenerator(HASHING_ALGO, DIGITS);\n    }\n\n    @Bean\n    public CodeVerifier codeVerifier() throws Exception {\n        DefaultCodeVerifier verifier = new DefaultCodeVerifier(codeGenerator(), timeProvider());\n        verifier.setTimePeriod(CODE_VALIDITY_IN_SECONDS);\n        verifier.setAllowedTimePeriodDiscrepancy(TIME_PERIOD_DISCREPANCY);\n        return verifier;\n    }\n}\n</code></pre>\n<ol start=\"4\">\n<li>TOTPController.java</li>\n</ol>\n<pre><code>package com.spsllc.controller;\n\nimport static com.spsllc.config.TOTPConstants.CODE_VALIDITY_IN_SECONDS;\nimport static com.spsllc.config.TOTPConstants.DIGITS;\nimport static com.spsllc.config.TOTPConstants.HASHING_ALGO;\nimport static dev.samstevens.totp.util.Utils.getDataUriForImage;\n\nimport java.time.Instant;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.servlet.ModelAndView;\n\nimport com.fasterxml.jackson.annotation.JsonInclude;\n\nimport dev.samstevens.totp.code.CodeGenerator;\nimport dev.samstevens.totp.code.CodeVerifier;\nimport dev.samstevens.totp.exceptions.QrGenerationException;\nimport dev.samstevens.totp.qr.QrData;\nimport dev.samstevens.totp.qr.QrGenerator;\nimport dev.samstevens.totp.secret.SecretGenerator;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.extern.slf4j.Slf4j;\n\n@Controller\n@Slf4j\npublic class TOTPController {\n\n    @Autowired\n    private SecretGenerator secretGenerator;\n\n    @Autowired\n    private CodeGenerator codeGenerator;\n\n    @Autowired\n    private QrGenerator qrGenerator;\n\n    @Autowired\n    private CodeVerifier verifier;\n\n    @GetMapping(&quot;/totp/setup&quot;)\n    public ModelAndView setupDevice(ModelAndView modelAndView) throws QrGenerationException {\n        // Use this to generate unique secret per user/device and store it against the user profile in DB\n        // String secret = secretGenerator.generate();\n        // Use this to generate unique secret per user/device and store it against the user profile in DB\n        String secret = &quot;XFRUQ2SSFFXLYGOS7RDIGFQ7RHQUFJC3&quot;;\n        QrData data = new QrData.Builder()\n                .label(&quot;john.doe@example.com&quot;)\n                .secret(secret)\n                .issuer(&quot;Imaginary Inc.,&quot;)\n                .digits(DIGITS)\n                .period(CODE_VALIDITY_IN_SECONDS)\n                .algorithm(HASHING_ALGO)\n                .build();\n\n        String qrCodeImage = getDataUriForImage(\n                qrGenerator.generate(data),\n                qrGenerator.getImageMimeType());\n\n        modelAndView.setViewName(&quot;content/totp-setup.html&quot;);\n        modelAndView.addObject(&quot;qrCodeImageData&quot;, qrCodeImage);\n        return modelAndView;\n    }\n\n    @GetMapping(value= &quot;/totp/verify/{totpCode}&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody\n    public ResponseEntity&lt;TOTPCode&gt; verify(@PathVariable(name = &quot;totpCode&quot;) String code) {\n        TOTPCode totpCode = new TOTPCode();\n        totpCode.setCode(code);\n        totpCode.setVerificationStatus(&quot;INCORRECT CODE&quot;);\n        if (verifier.isValidCode(&quot;XFRUQ2SSFFXLYGOS7RDIGFQ7RHQUFJC3&quot;, code)) {\n            totpCode.setVerificationStatus(&quot;CORRECT CODE&quot;);\n        }\n        return new ResponseEntity&lt;TOTPCode&gt;(totpCode, HttpStatus.OK);\n    }\n\n    @GetMapping(value = &quot;/totp/code&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n    @ResponseBody\n    public ResponseEntity&lt;TOTPCode&gt; generateCode() throws Exception {\n        TOTPCode totpCode = new TOTPCode();\n        totpCode.setCode(codeGenerator.generate(&quot;XFRUQ2SSFFXLYGOS7RDIGFQ7RHQUFJC3&quot;, Instant.now().getEpochSecond() / CODE_VALIDITY_IN_SECONDS));\n        return new ResponseEntity&lt;TOTPCode&gt;(totpCode, HttpStatus.OK);\n    }\n\n    @Getter\n    @Setter\n    @JsonInclude(JsonInclude.Include.NON_NULL)\n    public static class TOTPCode {\n        String code;\n        String verificationStatus;\n    }\n}\n\n</code></pre>\n<ol start=\"5\">\n<li>src\\main\\resources\\templates\\content\\totp-setup.html</li>\n</ol>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n\n&lt;head&gt;\n    &lt;script th:src=&quot;@{/webjars/bootstrap/5.3.0/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;link th:rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/5.3.0/css/bootstrap.min.css}&quot; /&gt;\n    &lt;script th:src=&quot;@{/webjars/jquery/3.6.4/jquery.min.js}&quot;&gt;&lt;/script&gt;\n    &lt;script th:src=&quot;@{/webjars/popper.js/2.9.3/umd/popper.min.js}&quot;&gt;&lt;/script&gt;\n\n    &lt;link th:rel=&quot;apple-touch-icon&quot; sizes=&quot;180x180&quot; th:href=&quot;@{/apple-touch-icon.png}&quot; /&gt;\n    &lt;link th:rel=&quot;icon&quot; type=&quot;image/png&quot; sizes=&quot;32x32&quot; th:href=&quot;@{/favicon-32x32.png}&quot; /&gt;\n    &lt;link th:rel=&quot;icon&quot; type=&quot;image/png&quot; sizes=&quot;16x16&quot; th:href=&quot;@{/favicon-16x16.png}&quot; /&gt;\n    &lt;link rel=&quot;icon&quot; href=&quot;data:,&quot;&gt;\n    &lt;link th:rel=&quot;manifest&quot; th:href=&quot;@{/site.webmanifest}&quot; /&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;div class=&quot;container mt-2&quot;&gt;\n        &lt;div class=&quot;alert alert-info&quot; role=&quot;alert&quot;&gt;\n            &lt;h3&gt;Scan this QR code in your authenticator app...&lt;/h3&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;img th:src=&quot;${qrCodeImageData}&quot; style=&quot;height: 100px; width:100px;&quot; class=&quot;rounded float-start&quot; alt=&quot;TOTP QR Code&quot;/&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<ol start=\"6\">\n<li><p>Screenshots:\n<a href=\"https://i.stack.imgur.com/Xhfx6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xhfx6.png\" alt=\"Setup/onboard the user using QR Code\" /></a>\n<a href=\"https://i.stack.imgur.com/NBeGe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NBeGe.png\" alt=\"get the code\" /></a>\n<a href=\"https://i.stack.imgur.com/bazy6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bazy6.png\" alt=\"verify the code\" /></a></p>\n</li>\n<li><p>Additional thoughts</p>\n</li>\n</ol>\n<p>I have tested this against following authenticator apps. I have also tested the solution with 8-digit-code with a validity of 60 seconds. It worked fine.</p>\n<p>I could not get it to work with SHA256/SHA512 hashing algorithms (only Google authenticator worked, but not Secureauth Authenticate). So for now, I am sticking with SHA1.</p>\n<pre><code>a) Microsoft authenticator\nb) Google authenticator\nc) SecureAuth Authenticator\nd) Symantec VIP Access app\ne) 2FA Authy\nf) Authy\n</code></pre>\n"}],"owner":{"account_id":13956967,"reputation":97,"user_id":10079056,"display_name":"S H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74983660,"answer_count":2,"score":0,"last_activity_date":1688603582,"creation_date":1672661050,"question_id":74982217,"body_markdown":"I am trying to implement mfa authentication in my app using totp. Bellow is the library i use. All is going well for registering the user, i receive the qr code, scan it and get every 30 secs the code in google authenticator. When i am trying to login to verify the code, the code verification doesnt work (in auth service, method Verify). I&#39;ve spent several hours but cant figure it out, tried different users, logs but without success.\r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;dev.samstevens.totp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;totp&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nthis is my code\r\n\r\nAuthContoller.java\r\n\r\n```\r\n\r\nimport com.example.jsonfaker.model.dto.LoginRequest;\r\nimport com.example.jsonfaker.model.dto.SignupRequest;\r\nimport com.example.jsonfaker.model.dto.VerifyRequest;\r\nimport com.example.jsonfaker.service.Exporter;\r\nimport com.example.jsonfaker.service.UserAuthService;\r\nimport org.springframework.http.HttpHeaders;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.validation.Valid;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/auth&quot;)\r\n@CrossOrigin\r\npublic class AuthController {\r\n    private final Exporter exporter;\r\n\r\n    private final UserAuthService userAuthService;\r\n\r\n    public AuthController(Exporter exporter, UserAuthService userAuthService) {\r\n        this.exporter = exporter;\r\n        this.userAuthService = userAuthService;\r\n    }\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;String&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\r\n        String response = userAuthService.login(loginRequest);\r\n        return ResponseEntity\r\n                .ok()\r\n                .body(response);\r\n    }\r\n\r\n    @PostMapping(&quot;/register2FA&quot;)\r\n    public ResponseEntity&lt;byte[]&gt; registerUser2FA(@Valid @RequestBody SignupRequest signupRequest) throws Exception {\r\n\r\n        userAuthService.register2FA(signupRequest);\r\n        byte[] qrCodeBytes = userAuthService.mfaAccountSetup(signupRequest.getUsername());\r\n\r\n        return ResponseEntity\r\n                .ok()\r\n                .contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline;filename=\\&quot;&quot;+exporter.exportFileNameQR() + &quot;.png\\&quot;&quot;)\r\n                .body(qrCodeBytes);\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignupRequest signupRequest) throws Exception {\r\n        userAuthService.simpleRegister(signupRequest);\r\n        return ResponseEntity.ok(HttpStatus.CREATED);\r\n    }\r\n\r\n    @PostMapping(&quot;/verify&quot;)\r\n    public ResponseEntity&lt;String&gt; authenticateUser2FA(@Valid @RequestBody VerifyRequest verifyRequest) throws Exception {\r\n        String response = userAuthService.verify(verifyRequest.getUsername(), verifyRequest.getCode());\r\n        return ResponseEntity\r\n                .ok()\r\n                .body(response);\r\n    }\r\n\r\n\r\n}\r\n\r\n```\r\n\r\nthis is my token manager\r\n\r\n```\r\nimport dev.samstevens.totp.code.*;\r\nimport dev.samstevens.totp.exceptions.QrGenerationException;\r\nimport dev.samstevens.totp.qr.QrData;\r\nimport dev.samstevens.totp.qr.QrGenerator;\r\nimport dev.samstevens.totp.secret.SecretGenerator;\r\nimport dev.samstevens.totp.time.SystemTimeProvider;\r\nimport dev.samstevens.totp.time.TimeProvider;\r\nimport dev.samstevens.totp.util.Utils;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service(&quot;mfaTokenManager&quot;)\r\npublic class DefaultMFATokenManager implements MFATokenManager {\r\n\r\n\r\n    private final SecretGenerator secretGenerator;\r\n\r\n\r\n    private final QrGenerator qrGenerator;\r\n\r\n\r\n    private final CodeVerifier codeVerifier;\r\n\r\n    public DefaultMFATokenManager(SecretGenerator secretGenerator, QrGenerator qrGenerator, CodeVerifier codeVerifier) {\r\n        this.secretGenerator = secretGenerator;\r\n        this.qrGenerator = qrGenerator;\r\n        this.codeVerifier = codeVerifier;\r\n    }\r\n\r\n    @Override\r\n    public String generateSecretKey() {\r\n        return secretGenerator.generate();\r\n    }\r\n\r\n    @Override\r\n    public String getQRCode(String secret) throws QrGenerationException {\r\n        QrData data = new QrData.Builder().label(&quot;MFA&quot;)\r\n                .secret(secret)\r\n                .issuer(&quot;Daniel token&quot;)\r\n                .algorithm(HashingAlgorithm.SHA1)\r\n                .digits(6)\r\n                .period(30)\r\n                .build();\r\n        return Utils.getDataUriForImage(\r\n                qrGenerator.generate(data),\r\n                qrGenerator.getImageMimeType()\r\n        );\r\n    }\r\n\r\n    @Override\r\n    public boolean verifyTotp(String code, String secret) {\r\n        TimeProvider timeProvider = new SystemTimeProvider();\r\n        CodeGenerator codeGenerator = new DefaultCodeGenerator();\r\n        CodeVerifier verifier = new DefaultCodeVerifier(codeGenerator, timeProvider);\r\n        System.out.println(timeProvider.getTime());\r\n        System.out.println(codeGenerator);\r\n\r\n        return verifier.isValidCode(secret, code);\r\n    }\r\n}\r\n```\r\n\r\nthis is my auth service\r\n\r\n```\r\n\r\nimport com.example.jsonfaker.model.Roles;\r\nimport com.example.jsonfaker.model.SystemUser;\r\nimport com.example.jsonfaker.model.dto.LoginRequest;\r\nimport com.example.jsonfaker.model.dto.SignupRequest;\r\nimport com.example.jsonfaker.model.dto.TokenResponse;\r\nimport com.example.jsonfaker.repository.RolesRepository;\r\nimport com.example.jsonfaker.repository.SystemUserRepository;\r\nimport com.example.jsonfaker.security.AuthoritiesConstants;\r\nimport com.example.jsonfaker.security.jwt.JwtUtils;\r\nimport com.example.jsonfaker.twoFA.MFATokenManager;\r\nimport com.example.jsonfaker.twoFA.MfaTokenData;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.util.stream.Collectors;\r\n\r\nimport static java.util.Objects.nonNull;\r\n\r\n@Service\r\npublic class UserAuthService {\r\n    private final SystemUserRepository systemUserRepository;\r\n    private final RolesRepository rolesRepository;\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    private final MFATokenManager mfaTokenManager;\r\n    private final AuthenticationManager authenticationManager;\r\n    private final LoginUserService loginUserService;\r\n    private final JwtUtils jwtUtils;\r\n\r\n    public UserAuthService(SystemUserRepository systemUserRepository, RolesRepository rolesRepository, BCryptPasswordEncoder bCryptPasswordEncoder, MFATokenManager mfaTokenManager, AuthenticationManager authenticationManager, LoginUserService loginUserService, JwtUtils jwtUtils) {\r\n        this.systemUserRepository = systemUserRepository;\r\n        this.rolesRepository = rolesRepository;\r\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n        this.mfaTokenManager = mfaTokenManager;\r\n        this.authenticationManager = authenticationManager;\r\n        this.loginUserService = loginUserService;\r\n        this.jwtUtils = jwtUtils;\r\n    }\r\n\r\n    public void simpleRegister(SignupRequest signupRequest) throws Exception {\r\n        if(systemUserRepository.findByUsername(signupRequest.getUsername()).isPresent()){\r\n            throw new Exception(&quot;User with this username exists&quot;);\r\n        }\r\n\r\n        Roles simpleUserRole = new Roles();\r\n        simpleUserRole.setName(AuthoritiesConstants.USER);\r\n\r\n        SystemUser user = new SystemUser();\r\n        user.setPassword(bCryptPasswordEncoder.encode(signupRequest.getPassword()));\r\n        user.setUsername(signupRequest.getUsername());\r\n        user.setAuthorities(rolesRepository.findAllByName(&quot;ROLE_USER&quot;).stream().collect(Collectors.toSet()));\r\n        user.setSecret(mfaTokenManager.generateSecretKey());\r\n        systemUserRepository.save(user);\r\n\r\n    }\r\n\r\n    public void register2FA(SignupRequest signupRequest) throws Exception {\r\n        if(systemUserRepository.findByUsername(signupRequest.getUsername()).isPresent()){\r\n            throw new Exception(&quot;User with this username exists&quot;);\r\n        }\r\n        Roles simpleUserRole = new Roles();\r\n        simpleUserRole.setName(AuthoritiesConstants.USER);\r\n\r\n        SystemUser user = new SystemUser();\r\n        user.setPassword(bCryptPasswordEncoder.encode(signupRequest.getPassword()));\r\n        user.setUsername(signupRequest.getUsername());\r\n        user.setAuthorities(rolesRepository.findAllByName(&quot;ROLE_USER&quot;).stream().collect(Collectors.toSet()));\r\n        user.setTwoFAisEnabled(Boolean.TRUE);\r\n        user.setSecret(mfaTokenManager.generateSecretKey());\r\n        systemUserRepository.save(user);\r\n    }\r\n\r\n    public byte[] mfaAccountSetup(String username) throws Exception {\r\n        SystemUser user = systemUserRepository.findByUsername(username).get();\r\n        if (!nonNull(user)){\r\n            throw new Exception(&quot;Unable to find user with this username&quot;);\r\n        }\r\n        if(!user.isTwoFAisEnabled()){\r\n            throw new Exception(&quot;2FA is not enabled for this account&quot;);\r\n        }\r\n        MfaTokenData token =  new MfaTokenData(mfaTokenManager.getQRCode(user.getSecret()), user.getSecret());\r\n        System.out.println(&quot;Mfa code :&quot; +token.getMfaCode());\r\n\r\n        String base64Image = token.getQrCode().split(&quot;,&quot;)[1];\r\n        byte[] imageBytes = javax.xml.bind.DatatypeConverter.parseBase64Binary(base64Image);\r\n        return imageBytes;\r\n    }\r\n\r\n    public String login(LoginRequest loginRequest){\r\n        Authentication authentication = authenticationManager.authenticate(\r\n                new UsernamePasswordAuthenticationToken(\r\n                        loginRequest.getUsername(),\r\n                        loginRequest.getPassword()\r\n                )\r\n        );\r\n        SecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n        if(systemUserRepository.findByUsername(loginRequest.getUsername()).get().isTwoFAisEnabled()){\r\n            return &quot;verify code now&quot;;\r\n        }\r\n\r\n        SystemUser userDetails = (SystemUser) authentication.getPrincipal();\r\n\r\n        String jwt = jwtUtils.generateJwtToken(userDetails);\r\n\r\n        return new TokenResponse(jwt).toString();\r\n\r\n    }\r\n\r\n    public String verify(String username, String code) throws Exception {\r\n\r\n        SystemUser user = systemUserRepository.findByUsername(username).get();\r\n        if (!nonNull(user)){\r\n            throw new Exception(&quot;Unable to find user with this username&quot;);\r\n        }\r\n\r\n        if (!mfaTokenManager.verifyTotp(code, user.getSecret())){\r\n            return &quot;unable to auth&quot;;\r\n        }\r\n        return &quot;token here&quot;;\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"spring boot mfa totp code verification on login not working","body":"<p>I am trying to implement mfa authentication in my app using totp. Bellow is the library i use. All is going well for registering the user, i receive the qr code, scan it and get every 30 secs the code in google authenticator. When i am trying to login to verify the code, the code verification doesnt work (in auth service, method Verify). I've spent several hours but cant figure it out, tried different users, logs but without success.</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;dev.samstevens.totp&lt;/groupId&gt;\n            &lt;artifactId&gt;totp&lt;/artifactId&gt;\n            &lt;version&gt;1.7.1&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>this is my code</p>\n<p>AuthContoller.java</p>\n<pre><code>\nimport com.example.jsonfaker.model.dto.LoginRequest;\nimport com.example.jsonfaker.model.dto.SignupRequest;\nimport com.example.jsonfaker.model.dto.VerifyRequest;\nimport com.example.jsonfaker.service.Exporter;\nimport com.example.jsonfaker.service.UserAuthService;\nimport org.springframework.http.HttpHeaders;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\n\n@RestController\n@RequestMapping(&quot;/auth&quot;)\n@CrossOrigin\npublic class AuthController {\n    private final Exporter exporter;\n\n    private final UserAuthService userAuthService;\n\n    public AuthController(Exporter exporter, UserAuthService userAuthService) {\n        this.exporter = exporter;\n        this.userAuthService = userAuthService;\n    }\n\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;String&gt; authenticateUser(@Valid @RequestBody LoginRequest loginRequest) {\n        String response = userAuthService.login(loginRequest);\n        return ResponseEntity\n                .ok()\n                .body(response);\n    }\n\n    @PostMapping(&quot;/register2FA&quot;)\n    public ResponseEntity&lt;byte[]&gt; registerUser2FA(@Valid @RequestBody SignupRequest signupRequest) throws Exception {\n\n        userAuthService.register2FA(signupRequest);\n        byte[] qrCodeBytes = userAuthService.mfaAccountSetup(signupRequest.getUsername());\n\n        return ResponseEntity\n                .ok()\n                .contentType(MediaType.APPLICATION_OCTET_STREAM)\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;inline;filename=\\&quot;&quot;+exporter.exportFileNameQR() + &quot;.png\\&quot;&quot;)\n                .body(qrCodeBytes);\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;?&gt; registerUser(@Valid @RequestBody SignupRequest signupRequest) throws Exception {\n        userAuthService.simpleRegister(signupRequest);\n        return ResponseEntity.ok(HttpStatus.CREATED);\n    }\n\n    @PostMapping(&quot;/verify&quot;)\n    public ResponseEntity&lt;String&gt; authenticateUser2FA(@Valid @RequestBody VerifyRequest verifyRequest) throws Exception {\n        String response = userAuthService.verify(verifyRequest.getUsername(), verifyRequest.getCode());\n        return ResponseEntity\n                .ok()\n                .body(response);\n    }\n\n\n}\n\n</code></pre>\n<p>this is my token manager</p>\n<pre><code>import dev.samstevens.totp.code.*;\nimport dev.samstevens.totp.exceptions.QrGenerationException;\nimport dev.samstevens.totp.qr.QrData;\nimport dev.samstevens.totp.qr.QrGenerator;\nimport dev.samstevens.totp.secret.SecretGenerator;\nimport dev.samstevens.totp.time.SystemTimeProvider;\nimport dev.samstevens.totp.time.TimeProvider;\nimport dev.samstevens.totp.util.Utils;\nimport org.springframework.stereotype.Service;\n\n@Service(&quot;mfaTokenManager&quot;)\npublic class DefaultMFATokenManager implements MFATokenManager {\n\n\n    private final SecretGenerator secretGenerator;\n\n\n    private final QrGenerator qrGenerator;\n\n\n    private final CodeVerifier codeVerifier;\n\n    public DefaultMFATokenManager(SecretGenerator secretGenerator, QrGenerator qrGenerator, CodeVerifier codeVerifier) {\n        this.secretGenerator = secretGenerator;\n        this.qrGenerator = qrGenerator;\n        this.codeVerifier = codeVerifier;\n    }\n\n    @Override\n    public String generateSecretKey() {\n        return secretGenerator.generate();\n    }\n\n    @Override\n    public String getQRCode(String secret) throws QrGenerationException {\n        QrData data = new QrData.Builder().label(&quot;MFA&quot;)\n                .secret(secret)\n                .issuer(&quot;Daniel token&quot;)\n                .algorithm(HashingAlgorithm.SHA1)\n                .digits(6)\n                .period(30)\n                .build();\n        return Utils.getDataUriForImage(\n                qrGenerator.generate(data),\n                qrGenerator.getImageMimeType()\n        );\n    }\n\n    @Override\n    public boolean verifyTotp(String code, String secret) {\n        TimeProvider timeProvider = new SystemTimeProvider();\n        CodeGenerator codeGenerator = new DefaultCodeGenerator();\n        CodeVerifier verifier = new DefaultCodeVerifier(codeGenerator, timeProvider);\n        System.out.println(timeProvider.getTime());\n        System.out.println(codeGenerator);\n\n        return verifier.isValidCode(secret, code);\n    }\n}\n</code></pre>\n<p>this is my auth service</p>\n<pre><code>\nimport com.example.jsonfaker.model.Roles;\nimport com.example.jsonfaker.model.SystemUser;\nimport com.example.jsonfaker.model.dto.LoginRequest;\nimport com.example.jsonfaker.model.dto.SignupRequest;\nimport com.example.jsonfaker.model.dto.TokenResponse;\nimport com.example.jsonfaker.repository.RolesRepository;\nimport com.example.jsonfaker.repository.SystemUserRepository;\nimport com.example.jsonfaker.security.AuthoritiesConstants;\nimport com.example.jsonfaker.security.jwt.JwtUtils;\nimport com.example.jsonfaker.twoFA.MFATokenManager;\nimport com.example.jsonfaker.twoFA.MfaTokenData;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport java.util.stream.Collectors;\n\nimport static java.util.Objects.nonNull;\n\n@Service\npublic class UserAuthService {\n    private final SystemUserRepository systemUserRepository;\n    private final RolesRepository rolesRepository;\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n    private final MFATokenManager mfaTokenManager;\n    private final AuthenticationManager authenticationManager;\n    private final LoginUserService loginUserService;\n    private final JwtUtils jwtUtils;\n\n    public UserAuthService(SystemUserRepository systemUserRepository, RolesRepository rolesRepository, BCryptPasswordEncoder bCryptPasswordEncoder, MFATokenManager mfaTokenManager, AuthenticationManager authenticationManager, LoginUserService loginUserService, JwtUtils jwtUtils) {\n        this.systemUserRepository = systemUserRepository;\n        this.rolesRepository = rolesRepository;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n        this.mfaTokenManager = mfaTokenManager;\n        this.authenticationManager = authenticationManager;\n        this.loginUserService = loginUserService;\n        this.jwtUtils = jwtUtils;\n    }\n\n    public void simpleRegister(SignupRequest signupRequest) throws Exception {\n        if(systemUserRepository.findByUsername(signupRequest.getUsername()).isPresent()){\n            throw new Exception(&quot;User with this username exists&quot;);\n        }\n\n        Roles simpleUserRole = new Roles();\n        simpleUserRole.setName(AuthoritiesConstants.USER);\n\n        SystemUser user = new SystemUser();\n        user.setPassword(bCryptPasswordEncoder.encode(signupRequest.getPassword()));\n        user.setUsername(signupRequest.getUsername());\n        user.setAuthorities(rolesRepository.findAllByName(&quot;ROLE_USER&quot;).stream().collect(Collectors.toSet()));\n        user.setSecret(mfaTokenManager.generateSecretKey());\n        systemUserRepository.save(user);\n\n    }\n\n    public void register2FA(SignupRequest signupRequest) throws Exception {\n        if(systemUserRepository.findByUsername(signupRequest.getUsername()).isPresent()){\n            throw new Exception(&quot;User with this username exists&quot;);\n        }\n        Roles simpleUserRole = new Roles();\n        simpleUserRole.setName(AuthoritiesConstants.USER);\n\n        SystemUser user = new SystemUser();\n        user.setPassword(bCryptPasswordEncoder.encode(signupRequest.getPassword()));\n        user.setUsername(signupRequest.getUsername());\n        user.setAuthorities(rolesRepository.findAllByName(&quot;ROLE_USER&quot;).stream().collect(Collectors.toSet()));\n        user.setTwoFAisEnabled(Boolean.TRUE);\n        user.setSecret(mfaTokenManager.generateSecretKey());\n        systemUserRepository.save(user);\n    }\n\n    public byte[] mfaAccountSetup(String username) throws Exception {\n        SystemUser user = systemUserRepository.findByUsername(username).get();\n        if (!nonNull(user)){\n            throw new Exception(&quot;Unable to find user with this username&quot;);\n        }\n        if(!user.isTwoFAisEnabled()){\n            throw new Exception(&quot;2FA is not enabled for this account&quot;);\n        }\n        MfaTokenData token =  new MfaTokenData(mfaTokenManager.getQRCode(user.getSecret()), user.getSecret());\n        System.out.println(&quot;Mfa code :&quot; +token.getMfaCode());\n\n        String base64Image = token.getQrCode().split(&quot;,&quot;)[1];\n        byte[] imageBytes = javax.xml.bind.DatatypeConverter.parseBase64Binary(base64Image);\n        return imageBytes;\n    }\n\n    public String login(LoginRequest loginRequest){\n        Authentication authentication = authenticationManager.authenticate(\n                new UsernamePasswordAuthenticationToken(\n                        loginRequest.getUsername(),\n                        loginRequest.getPassword()\n                )\n        );\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        if(systemUserRepository.findByUsername(loginRequest.getUsername()).get().isTwoFAisEnabled()){\n            return &quot;verify code now&quot;;\n        }\n\n        SystemUser userDetails = (SystemUser) authentication.getPrincipal();\n\n        String jwt = jwtUtils.generateJwtToken(userDetails);\n\n        return new TokenResponse(jwt).toString();\n\n    }\n\n    public String verify(String username, String code) throws Exception {\n\n        SystemUser user = systemUserRepository.findByUsername(username).get();\n        if (!nonNull(user)){\n            throw new Exception(&quot;Unable to find user with this username&quot;);\n        }\n\n        if (!mfaTokenManager.verifyTotp(code, user.getSecret())){\n            return &quot;unable to auth&quot;;\n        }\n        return &quot;token here&quot;;\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","mysql","database","intellij-idea","jdbc"],"answers":[{"tags":[],"owner":{"account_id":2579581,"reputation":761,"user_id":2236549,"accept_rate":29,"display_name":"Subha Chandra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619421129,"creation_date":1619412445,"answer_id":67260974,"question_id":67260915,"body_markdown":"Just add the MySQL dependency in pom.xml files\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.24&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"How can I obtain MySQL Connector Java Maven Dependency","body":"<p>Just add the MySQL dependency in pom.xml files</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.24&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1688602442,"creation_date":1619413014,"answer_id":67261050,"question_id":67260915,"body_markdown":"To connect to a MySQL database server from a Java app, you need a [JDBC driver][1]. The *MySQL Connector/J* product is one such JDBC driver.\r\n\r\nYou can obtain *MySQL Connector/J* via Maven. Look at a Maven repository for the `&lt;dependency&gt;` XML fragment. Copy-paste that within the `&lt;dependencies&gt;` tag of your POM file.\r\n\r\nFor example, look at [MvnRepository.com][2].\r\n\r\nAs of 8.0.29:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.29&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBefore version 8.0.29:\r\n\r\n```xml\r\n&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.24&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nA [POM][3] file is the place to configure a project whose build is driven by [*Apache Maven*][4]. Maven is one of the most popular build tools. Another is [*Apache Gradle*][5], which provides dependency management via the same Maven repositories. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/JDBC_driver\r\n  [2]: https://mvnrepository.com/artifact/mysql/mysql-connector-java\r\n  [3]: https://en.m.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\r\n  [4]: https://en.m.wikipedia.org/wiki/Apache_Maven\r\n  [5]: https://en.m.wikipedia.org/wiki/Gradle","title":"How can I obtain MySQL Connector Java Maven Dependency","body":"<p>To connect to a MySQL database server from a Java app, you need a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a>. The <em>MySQL Connector/J</em> product is one such JDBC driver.</p>\n<p>You can obtain <em>MySQL Connector/J</em> via Maven. Look at a Maven repository for the <code>&lt;dependency&gt;</code> XML fragment. Copy-paste that within the <code>&lt;dependencies&gt;</code> tag of your POM file.</p>\n<p>For example, look at <a href=\"https://mvnrepository.com/artifact/mysql/mysql-connector-java\" rel=\"nofollow noreferrer\">MvnRepository.com</a>.</p>\n<p>As of 8.0.29:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;version&gt;8.0.29&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Before version 8.0.29:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.24&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>A <a href=\"https://en.m.wikipedia.org/wiki/Apache_Maven#Project_Object_Model\" rel=\"nofollow noreferrer\">POM</a> file is the place to configure a project whose build is driven by <a href=\"https://en.m.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\"><em>Apache Maven</em></a>. Maven is one of the most popular build tools. Another is <a href=\"https://en.m.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\"><em>Apache Gradle</em></a>, which provides dependency management via the same Maven repositories.</p>\n"}],"owner":{"account_id":19675233,"reputation":41,"user_id":14403560,"display_name":"Najwa K. Semdina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28283,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1688602442,"creation_date":1619411982,"question_id":67260915,"body_markdown":"I have downloaded MySQL Workbench for my database, and IntelliJ for the JDBC. However, while watching a tutorial, it was mentioned that I need the MySQL dependency in a pom.xml file. Any idea on how to obtain that?","title":"How can I obtain MySQL Connector Java Maven Dependency","body":"<p>I have downloaded MySQL Workbench for my database, and IntelliJ for the JDBC. However, while watching a tutorial, it was mentioned that I need the MySQL dependency in a pom.xml file. Any idea on how to obtain that?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":3,"creation_date":1688601756,"post_id":76624665,"comment_id":135096962,"body_markdown":"Your first two lines are a mistake. Once you convert the `String` to a `double` you&#39;ve lost precision. `BigDecimal depositAmountSafe = new BigDecimal(etDepositAmount.getText().toString());`","body":"Your first two lines are a mistake. Once you convert the <code>String</code> to a <code>double</code> you&#39;ve lost precision. <code>BigDecimal depositAmountSafe = new BigDecimal(etDepositAmount.getText().toString());</code>"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688602392,"creation_date":1688602392,"answer_id":76624762,"question_id":76624665,"body_markdown":"You should be using the _[BigDecimal](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(java.lang.String))_ constructor, instead of the _valueOf_ method.\r\n\r\nAdditionally, you should be parsing the amount directly from the _String_ value, as opposed to using a _Double#parseDouble_ call.&amp;nbsp; It will preserve the precision.\r\n\r\n```java\r\nBigDecimal depositAmountSafe = new BigDecimal(etDepositAmount.getText().toString());\r\nBigDecimal userBalance = new BigDecimal(user.getBalance());\r\n\r\nint comparisonResult = depositAmountSafe.compareTo(userBalance);\r\n\r\nif (comparisonResult &gt; 0) {\r\n    Toast.makeText(contex, R.string.INSUFFICIENT_BALANCE, Toast.LENGTH_SHORT).show();\r\n    return;\r\n}\r\nDeposit deposit = createDeposit();\r\n```\r\n\r\nThis will cause your _if-conditional_ check of _comparisonResult_ to match.\r\n\r\nConsider the following example.\r\n\r\n```java\r\nBigDecimal depositAmountSafe = new BigDecimal(&quot;62921.0000000000000001&quot;);\r\nBigDecimal userBalance = new BigDecimal(&quot;62921.0&quot;);\r\n\r\nint comparisonResult = depositAmountSafe.compareTo(userBalance);\r\n\r\nif (comparisonResult &gt; 0) {\r\n    System.out.println(&quot;insufficient balance&quot;);\r\n    return;\r\n}\r\nSystem.out.println(&quot;create deposit&quot;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\ninsufficient balance\r\n```\r\n\r\nIn regard to setting the decimal places, here is a relevant question and answer.  \r\n_[StackOverflow &amp;ndash; Limit Decimal Places in Android EditText](https://stackoverflow.com/a/5368816/17758716)_.","title":"How do I set the number of decimals in BigDecimal class in Java?","body":"<p>You should be using the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(java.lang.String)\" rel=\"nofollow noreferrer\">BigDecimal</a></em> constructor, instead of the <em>valueOf</em> method.</p>\n<p>Additionally, you should be parsing the amount directly from the <em>String</em> value, as opposed to using a <em>Double#parseDouble</em> call. It will preserve the precision.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal depositAmountSafe = new BigDecimal(etDepositAmount.getText().toString());\nBigDecimal userBalance = new BigDecimal(user.getBalance());\n\nint comparisonResult = depositAmountSafe.compareTo(userBalance);\n\nif (comparisonResult &gt; 0) {\n    Toast.makeText(contex, R.string.INSUFFICIENT_BALANCE, Toast.LENGTH_SHORT).show();\n    return;\n}\nDeposit deposit = createDeposit();\n</code></pre>\n<p>This will cause your <em>if-conditional</em> check of <em>comparisonResult</em> to match.</p>\n<p>Consider the following example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>BigDecimal depositAmountSafe = new BigDecimal(&quot;62921.0000000000000001&quot;);\nBigDecimal userBalance = new BigDecimal(&quot;62921.0&quot;);\n\nint comparisonResult = depositAmountSafe.compareTo(userBalance);\n\nif (comparisonResult &gt; 0) {\n    System.out.println(&quot;insufficient balance&quot;);\n    return;\n}\nSystem.out.println(&quot;create deposit&quot;);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>insufficient balance\n</code></pre>\n<p>In regard to setting the decimal places, here is a relevant question and answer.<br />\n<em><a href=\"https://stackoverflow.com/a/5368816/17758716\">StackOverflow  Limit Decimal Places in Android EditText</a></em>.</p>\n"}],"owner":{"account_id":22775670,"reputation":39,"user_id":16932373,"display_name":"bko00"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76624762,"answer_count":1,"score":0,"last_activity_date":1688602392,"creation_date":1688600283,"question_id":76624665,"body_markdown":"    double depositAmount = Double.parseDouble(etDepositAmount.getText().toString());\r\n                        BigDecimal depositAmountSafe = BigDecimal.valueOf(depositAmount);\r\n                        BigDecimal userBalance = BigDecimal.valueOf(user.getBalance());\r\n    \r\n                        int comparisonResult = depositAmountSafe.compareTo(userBalance);\r\n    \r\n                        if (comparisonResult &gt; 0) {\r\n                            Toast.makeText(contex, R.string.INSUFFICIENT_BALANCE, Toast.LENGTH_SHORT).show();\r\n                            return;\r\n                        }\r\n                        Deposit deposit = createDeposit();\r\n\r\nIn the above piece of code, I should be able to create a deposit if only the entered sum for the amount is less or equal to the user&#39;s balance.\r\nBut for example if the user&#39;s balance is 62921.0, I am able to enter 62921.0000000000000001 and get the deposit created. How do I set the number of decimals?\r\nAnd if not, how can I enforce that the user can only enter a maximum number of digits as decimals. For example a maximum of 3 digits to the right of a a decimal point(eg. x.123 and not x.1234) for an EditText.","title":"How do I set the number of decimals in BigDecimal class in Java?","body":"<pre><code>double depositAmount = Double.parseDouble(etDepositAmount.getText().toString());\n                    BigDecimal depositAmountSafe = BigDecimal.valueOf(depositAmount);\n                    BigDecimal userBalance = BigDecimal.valueOf(user.getBalance());\n\n                    int comparisonResult = depositAmountSafe.compareTo(userBalance);\n\n                    if (comparisonResult &gt; 0) {\n                        Toast.makeText(contex, R.string.INSUFFICIENT_BALANCE, Toast.LENGTH_SHORT).show();\n                        return;\n                    }\n                    Deposit deposit = createDeposit();\n</code></pre>\n<p>In the above piece of code, I should be able to create a deposit if only the entered sum for the amount is less or equal to the user's balance.\nBut for example if the user's balance is 62921.0, I am able to enter 62921.0000000000000001 and get the deposit created. How do I set the number of decimals?\nAnd if not, how can I enforce that the user can only enter a maximum number of digits as decimals. For example a maximum of 3 digits to the right of a a decimal point(eg. x.123 and not x.1234) for an EditText.</p>\n"},{"tags":["java","azure","minio"],"owner":{"account_id":14110462,"reputation":61,"user_id":10193456,"display_name":"Santhoo Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688601129,"creation_date":1675267805,"question_id":75313049,"body_markdown":"I&#39;m trying to upload jpg files to s3 bucket using minio API.\r\nunder bucket I have multiple folders, for a specific project I need to upload images to one of the folders.\r\neg:- testbacket-&gt;\r\n                 test1\r\n                 test2\r\n                 .....\r\n                 .....  \r\nI have tried the below code which gives me a parse Error.\r\n\r\n```minioClient.putObject(PutObjectArgs.builder().bucket(bucket).object(&quot;test2&quot;+&quot;/&quot;+fileName).stream(bais, bais.available(), -1).build());```\r\n\r\n\r\n**test1/63abcd4baa4fed7232fc41b9.jpg\r\nio.minio.errors.XmlParserException: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,3]\r\nMessage: The markup in the document preceding the root element must be well-formed.**\r\n\r\n\r\ncan you help me to understand where exactly it&#39;s failing?\r\n\r\n**I&#39;m using java 17, minio8.5.1**\r\n\r\n\r\nThanks,\r\nP V Srinivas Rao\r\n","title":"AWS s3 bucket subfolder upload images using minio","body":"<p>I'm trying to upload jpg files to s3 bucket using minio API.\nunder bucket I have multiple folders, for a specific project I need to upload images to one of the folders.\neg:- testbacket-&gt;\ntest1\ntest2\n.....\n.....<br />\nI have tried the below code which gives me a parse Error.</p>\n<p><code>minioClient.putObject(PutObjectArgs.builder().bucket(bucket).object(&quot;test2&quot;+&quot;/&quot;+fileName).stream(bais, bais.available(), -1).build());</code></p>\n<p><strong>test1/63abcd4baa4fed7232fc41b9.jpg\nio.minio.errors.XmlParserException: javax.xml.stream.XMLStreamException: ParseError at [row,col]:[1,3]\nMessage: The markup in the document preceding the root element must be well-formed.</strong></p>\n<p>can you help me to understand where exactly it's failing?</p>\n<p><strong>I'm using java 17, minio8.5.1</strong></p>\n<p>Thanks,\nP V Srinivas Rao</p>\n"},{"tags":["java","enums","indexoutofboundsexception"],"comments":[{"owner":{"account_id":2900596,"reputation":1882,"user_id":2487403,"accept_rate":76,"display_name":"Everv0id"},"score":1,"creation_date":1425269843,"post_id":28802605,"comment_id":45878885,"body_markdown":"Your problem is not connected with enums. See at exception, it says: *Array Index Out Of Bounds*, it means that you use negative or too big number as array index. Check it out with debugger.","body":"Your problem is not connected with enums. See at exception, it says: <i>Array Index Out Of Bounds</i>, it means that you use negative or too big number as array index. Check it out with debugger."},{"owner":{"account_id":3860846,"reputation":3,"user_id":3198626,"display_name":"user3198626"},"score":0,"creation_date":1425270243,"post_id":28802605,"comment_id":45878967,"body_markdown":"Unfortunatly not the new code is in the enum and map. The main program was running fine up untill I added the enum in","body":"Unfortunatly not the new code is in the enum and map. The main program was running fine up untill I added the enum in"},{"owner":{"account_id":2900596,"reputation":1882,"user_id":2487403,"accept_rate":76,"display_name":"Everv0id"},"score":0,"creation_date":1425270332,"post_id":28802605,"comment_id":45878987,"body_markdown":"So, what about debugger? Which line causes exception?","body":"So, what about debugger? Which line causes exception?"},{"owner":{"account_id":3860846,"reputation":3,"user_id":3198626,"display_name":"user3198626"},"score":1,"creation_date":1425270892,"post_id":28802605,"comment_id":45879124,"body_markdown":"As soon as you said it Weiest, I knew you were right. Tried, tested and worked. Thank you very much.","body":"As soon as you said it Weiest, I knew you were right. Tried, tested and worked. Thank you very much."}],"answers":[{"tags":[],"owner":{"account_id":5743607,"reputation":58,"user_id":4535472,"display_name":"Weiest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1425270969,"creation_date":1425270633,"answer_id":28802737,"question_id":28802605,"body_markdown":"It is due to your terrain is initialized as TerrainType[0][0] in the constructor which results in a empty array and wasn&#39;t reinitialized later during run() after the user input their desired values hence it stays as an empty array.\r\n\r\n    height = 0;\r\n    width = 0;\r\n    terrain = new TerrainType[width][height];\r\n\r\nYou can move it to your run() method on your Map.java instead so that i would generate a array with the size specified by the user.\r\n\r\n\tpublic void run() {\r\n\t\tterrain = new TerrainType[width][height];\r\n\t\t...\r\n\t}","title":"Out of bounds exception when started using enums","body":"<p>It is due to your terrain is initialized as TerrainType[0][0] in the constructor which results in a empty array and wasn't reinitialized later during run() after the user input their desired values hence it stays as an empty array.</p>\n\n<pre><code>height = 0;\nwidth = 0;\nterrain = new TerrainType[width][height];\n</code></pre>\n\n<p>You can move it to your run() method on your Map.java instead so that i would generate a array with the size specified by the user.</p>\n\n<pre><code>public void run() {\n    terrain = new TerrainType[width][height];\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688600613,"creation_date":1688600613,"answer_id":76624679,"question_id":28802605,"body_markdown":"*Following answer is not related to OP&#39;s case. \\\r\nBut related to the question title.* \r\n\r\n\r\n- this may happen if you have **an `enum` that is Empty**. \r\n\r\n---\r\n\r\nmisc\r\n\r\n&lt;sub&gt;\r\n&lt;sup&gt;\r\n\r\n- (Which throws this exception: )\r\n  ```\r\n     java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\r\n      at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromOrdinal(EnumJavaTypeDescriptor.java:76)\r\n  ```\r\n\r\n- (Another post that is in a more *general* case -- simply due to *more enum value* (in ordinal, not string) than the database schema expected: ) \\\r\n  https://stackoverflow.com/questions/56602802/how-to-fix-nested-exception-is-java-lang-arrayindexoutofboundsexception-index\r\n\r\n&lt;/sup&gt;\r\n&lt;/sub&gt;","title":"Out of bounds exception when started using enums","body":"<p><em>Following answer is not related to OP's case. <br />\nBut related to the question title.</em></p>\n<ul>\n<li>this may happen if you have <strong>an <code>enum</code> that is Empty</strong>.</li>\n</ul>\n<hr />\n<p>misc</p>\n<sub>\n<sup>\n<ul>\n<li><p>(Which throws this exception: )</p>\n<pre><code>   java.lang.ArrayIndexOutOfBoundsException: Index 0 out of bounds for length 0\n    at org.hibernate.type.descriptor.java.EnumJavaTypeDescriptor.fromOrdinal(EnumJavaTypeDescriptor.java:76)\n</code></pre>\n</li>\n<li><p>(Another post that is in a more <em>general</em> case -- simply due to <em>more enum value</em> (in ordinal, not string) than the database schema expected: ) <br />\n<a href=\"https://stackoverflow.com/questions/56602802/how-to-fix-nested-exception-is-java-lang-arrayindexoutofboundsexception-index\">How to fix &quot;nested exception is java.lang.ArrayIndexOutOfBoundsException: Index 2 out of bounds for length 2&quot; in a Spring Boot - postgresql Project</a></p>\n</li>\n</ul>\n</sup>\n</sub>\n"}],"owner":{"account_id":3860846,"reputation":3,"user_id":3198626,"display_name":"user3198626"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1718,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":28802737,"answer_count":2,"score":0,"last_activity_date":1688600613,"creation_date":1425269564,"question_id":28802605,"body_markdown":"I&#39;m trying to have a program that maps terrain in java. Just now it&#39;s flagging an error in the main program: \r\n&gt;Exception in thread &quot;main&quot; \r\njava.lang.ArrayIndexOutOfBoundsException: 0\r\n\tat Map.run(Map.java:35)\r\n\tat Terrain.run(Terrain.java:31)\r\n\tat Terrain.main(Terrain.java:10)\r\n\r\nI&#39;ve just started using enum and it&#39;s only started t flag up when I implemented some into my code. Here is the main class:\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Terrain {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tTerrain t = new Terrain();\r\n    \t\t\r\n    \t\tt.init();\r\n    \t\tt.run();//Flags here\r\n    \t}\r\n    \tprivate Map map;\r\n    \t\r\n    \tpublic void init()\r\n    \t{\r\n    \t\tmap = new Map();\r\n    \t\tScanner in = new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;Please enter a height&quot;);\r\n    \t\tmap.setHeight(in.nextInt());\r\n    \t\tSystem.out.println(&quot;Please enter a width&quot;);\r\n    \t\tmap.setWidth(in.nextInt());\r\n    \t\tSystem.out.println(&quot;Please enter a hedge size&quot;);\r\n    \t\tmap.setHedgeSize(in.nextInt());\r\n    \t\tSystem.out.println(&quot;Please enter an entrance size&quot;);\r\n    \t\tmap.setEntranceSize((in.nextInt()/2));\r\n    \t\tin.close();\r\n    \t}\r\n    \t\r\n    \tpublic void run()\r\n    \t{\r\n    \t\tmap.run();//And flags here\r\n    \t}\r\n    }\r\n\r\nAnd heres the map class:\r\n\r\n    public class Map {\r\n    \t\r\n    \tprivate int height;\r\n    \tprivate int width;\r\n    \tprivate int area;\r\n    \tprivate int passCount;\r\n    \tprivate int hedgeSize;\r\n    \tprivate int entranceSize;\r\n    \tprivate int percentageOfPassable;\r\n    \tTerrainType [][] terrain;\r\n    \tTerrainType tile;\r\n    \t\r\n    \tpublic Map()\r\n    \t{\r\n    \theight=0;\r\n    \twidth=0;\r\n    \tarea=0;\r\n    \tpassCount=0;\r\n    \thedgeSize=0;\r\n    \tentranceSize=0;\r\n    \tpercentageOfPassable=0;\r\n    \tterrain = new TerrainType[width][height];\r\n    \t\r\n    \t}\r\n    \tpublic void run()\r\n    \t{\r\n    \t\tfor (int y=0; y&lt;height; y++)\r\n    \t\t{\r\n    \t\t\tString mapDisplay = new String();\r\n    \t\t\tfor (int x=0; x&lt;width; x++)\r\n    \t\t\t{\r\n    \t\t\t\tarea++;\t\r\n    \t\t\t\tterrain[x][y]=TerrainType.GRASS;\r\n    \t\t\t\tif (x&lt;hedgeSize||x&gt;((width-1)-hedgeSize))\r\n    \t\t\t\t{\r\n    \t\t\t\t\tterrain[x][y]=TerrainType.HEDGE;\r\n    \t\t\t\t}\r\n    \t\t\t\tif (y&lt;hedgeSize||y&gt;((height-1)-hedgeSize))\r\n    \t\t\t\t{\r\n    \t\t\t\t\tterrain[x][y]=TerrainType.HEDGE;\r\n    \t\t\t\t}//Sets border with regard to hedge size\r\n    \t\t\t\tif (y&gt;((height-1)-hedgeSize))\r\n    \t\t\t\t{\r\n    \t\t\t\t\tif (x&gt;=((width/2)-entranceSize)&amp;&amp;x&lt;((width/2)+entranceSize))\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t\tterrain[x][y]=TerrainType.GRASS;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}//Entrance size+position with regard to hedge size\r\n    \t\t\t\t\r\n    \t\t\t\tif(terrain[x][y].getTerrainPassable())\r\n    \t\t\t\t{\r\n    \t\t\t\t\tpassCount++;\r\n    \t\t\t\t\tterrain[x][y]=TerrainType.GRASS;\r\n    \t\t\t\t}\r\n    \t\t\t\tmapDisplay+=terrain[x][y].getChar();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(mapDisplay);\r\n    \t\t}//End nested for loop to set initial values\r\n    \t\tpercentageOfPassable=passCount*100/area;\r\n    \t\tSystem.out.println(percentageOfPassable+&quot;%&quot;);\r\n    \t}\r\n    \t\r\n    \tpublic void setHeight(int height)\r\n    \t{\r\n    \t\tthis.height=height;\r\n    \t}\r\n    \tpublic void setWidth(int width)\r\n    \t{\r\n    \t\tthis.width=width;\r\n    \t}\r\n    \tpublic void setEntranceSize(int entranceSize)\r\n    \t{\r\n    \t\tthis.entranceSize=entranceSize;\r\n    \t}\r\n    \tpublic void setHedgeSize(int hedgeSize)\r\n    \t{\r\n    \t\tthis.hedgeSize=hedgeSize;\r\n    \t}\r\n    }\r\n\r\nAnd finally my enum:\r\n\r\n    import java.awt.Color;\r\n    \r\n    public enum TerrainType\r\n    {\r\n    \tGRASS(&#39;,&#39;, true, Color.GREEN), ROCK(&#39;#&#39;, false, Color.GRAY),\r\n    \tHEDGE(&#39;H&#39;, false, Color.YELLOW), WATER(&#39;W&#39;, false, Color.BLUE);\r\n    \t private char terrainChar;\r\n    \t private boolean terrainPassable;\r\n    \t private Color colour;\r\n    \t \r\n    \t private TerrainType(char terrainChar, boolean terrainPassable, Color colour) {\r\n    \t        this.terrainChar = terrainChar;\r\n    \t        this.terrainPassable = terrainPassable;\r\n    \t        this.colour = colour;\r\n    \t    }\r\n    \r\n    \t    public char getChar() {\r\n    \t        return terrainChar;\r\n    \t    }\r\n    \t    public boolean getTerrainPassable() {\r\n    \t    \treturn terrainPassable;\r\n    \t    }\r\n    \t    public Color getColour() {\r\n    \t    \treturn colour;\r\n    \t    }\r\n    }\r\n\r\n\r\n","title":"Out of bounds exception when started using enums","body":"<p>I'm trying to have a program that maps terrain in java. Just now it's flagging an error in the main program: </p>\n\n<blockquote>\n  <p>Exception in thread \"main\" \n  java.lang.ArrayIndexOutOfBoundsException: 0\n      at Map.run(Map.java:35)\n      at Terrain.run(Terrain.java:31)\n      at Terrain.main(Terrain.java:10)</p>\n</blockquote>\n\n<p>I've just started using enum and it's only started t flag up when I implemented some into my code. Here is the main class:</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Terrain {\n\n    public static void main(String[] args) {\n\n        Terrain t = new Terrain();\n\n        t.init();\n        t.run();//Flags here\n    }\n    private Map map;\n\n    public void init()\n    {\n        map = new Map();\n        Scanner in = new Scanner(System.in);\n        System.out.println(\"Please enter a height\");\n        map.setHeight(in.nextInt());\n        System.out.println(\"Please enter a width\");\n        map.setWidth(in.nextInt());\n        System.out.println(\"Please enter a hedge size\");\n        map.setHedgeSize(in.nextInt());\n        System.out.println(\"Please enter an entrance size\");\n        map.setEntranceSize((in.nextInt()/2));\n        in.close();\n    }\n\n    public void run()\n    {\n        map.run();//And flags here\n    }\n}\n</code></pre>\n\n<p>And heres the map class:</p>\n\n<pre><code>public class Map {\n\n    private int height;\n    private int width;\n    private int area;\n    private int passCount;\n    private int hedgeSize;\n    private int entranceSize;\n    private int percentageOfPassable;\n    TerrainType [][] terrain;\n    TerrainType tile;\n\n    public Map()\n    {\n    height=0;\n    width=0;\n    area=0;\n    passCount=0;\n    hedgeSize=0;\n    entranceSize=0;\n    percentageOfPassable=0;\n    terrain = new TerrainType[width][height];\n\n    }\n    public void run()\n    {\n        for (int y=0; y&lt;height; y++)\n        {\n            String mapDisplay = new String();\n            for (int x=0; x&lt;width; x++)\n            {\n                area++; \n                terrain[x][y]=TerrainType.GRASS;\n                if (x&lt;hedgeSize||x&gt;((width-1)-hedgeSize))\n                {\n                    terrain[x][y]=TerrainType.HEDGE;\n                }\n                if (y&lt;hedgeSize||y&gt;((height-1)-hedgeSize))\n                {\n                    terrain[x][y]=TerrainType.HEDGE;\n                }//Sets border with regard to hedge size\n                if (y&gt;((height-1)-hedgeSize))\n                {\n                    if (x&gt;=((width/2)-entranceSize)&amp;&amp;x&lt;((width/2)+entranceSize))\n                    {\n                        terrain[x][y]=TerrainType.GRASS;\n                    }\n                }//Entrance size+position with regard to hedge size\n\n                if(terrain[x][y].getTerrainPassable())\n                {\n                    passCount++;\n                    terrain[x][y]=TerrainType.GRASS;\n                }\n                mapDisplay+=terrain[x][y].getChar();\n            }\n            System.out.println(mapDisplay);\n        }//End nested for loop to set initial values\n        percentageOfPassable=passCount*100/area;\n        System.out.println(percentageOfPassable+\"%\");\n    }\n\n    public void setHeight(int height)\n    {\n        this.height=height;\n    }\n    public void setWidth(int width)\n    {\n        this.width=width;\n    }\n    public void setEntranceSize(int entranceSize)\n    {\n        this.entranceSize=entranceSize;\n    }\n    public void setHedgeSize(int hedgeSize)\n    {\n        this.hedgeSize=hedgeSize;\n    }\n}\n</code></pre>\n\n<p>And finally my enum:</p>\n\n<pre><code>import java.awt.Color;\n\npublic enum TerrainType\n{\n    GRASS(',', true, Color.GREEN), ROCK('#', false, Color.GRAY),\n    HEDGE('H', false, Color.YELLOW), WATER('W', false, Color.BLUE);\n     private char terrainChar;\n     private boolean terrainPassable;\n     private Color colour;\n\n     private TerrainType(char terrainChar, boolean terrainPassable, Color colour) {\n            this.terrainChar = terrainChar;\n            this.terrainPassable = terrainPassable;\n            this.colour = colour;\n        }\n\n        public char getChar() {\n            return terrainChar;\n        }\n        public boolean getTerrainPassable() {\n            return terrainPassable;\n        }\n        public Color getColour() {\n            return colour;\n        }\n}\n</code></pre>\n"},{"tags":["java","try-catch","method-reference","checked-exceptions"],"comments":[{"owner":{"account_id":391098,"reputation":5803,"user_id":751579,"accept_rate":79,"display_name":"davidbak"},"score":0,"creation_date":1688600785,"post_id":76624677,"comment_id":135096880,"body_markdown":"Just figured out the answer: Declare my own `@FunctionalInterface` where the `apply` method declares `throws Exception`.  Now, question for community: Is this question sufficiently useful that it should be answered for future inquirers, or should I just delete it?","body":"Just figured out the answer: Declare my own <code>@FunctionalInterface</code> where the <code>apply</code> method declares <code>throws Exception</code>.  Now, question for community: Is this question sufficiently useful that it should be answered for future inquirers, or should I just delete it?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1688603074,"post_id":76624677,"comment_id":135097084,"body_markdown":"This question has been asked before in many forms, so it may not provide much value to the site. Based on that alone, I would delete it. But you also worded your question in a relatively unique way, from what I can tell. Taking that into account, I would actually leave the question up so that others who word the question similarly are directed to the duplicate.","body":"This question has been asked before in many forms, so it may not provide much value to the site. Based on that alone, I would delete it. But you also worded your question in a relatively unique way, from what I can tell. Taking that into account, I would actually leave the question up so that others who word the question similarly are directed to the duplicate."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1688603286,"post_id":76624677,"comment_id":135097103,"body_markdown":"Note there are libraries like https://github.com/pivovarit/throwing-function out there.","body":"Note there are libraries like <a href=\"https://github.com/pivovarit/throwing-function\" rel=\"nofollow noreferrer\">github.com/pivovarit/throwing-function</a> out there."}],"owner":{"account_id":391098,"reputation":5803,"user_id":751579,"accept_rate":79,"display_name":"davidbak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688602703,"answer_count":0,"score":0,"last_activity_date":1688600538,"creation_date":1688600538,"question_id":76624677,"body_markdown":"I have a bunch of methods, with similar signatures, compatible with `Function`, they each declare `throws InterruptedException`, and I put them in a list and select one by its index and call its `apply()`.\r\n\r\nExcept that I get a compiler error where the method is _named_ to put in the list:\r\n\r\n```\r\n        final List&lt;Function&lt;Set&lt;BookIdentifier&gt;, Set&lt;Status&gt;&gt;&gt;\r\n                submitters = List.of(\r\n                        this::submitIndividuallySynchronously, // these are the method references\r\n                        this::submitInBulkSynchronously,       // all 4 of them have an error message\r\n                        this::submitIndividuallyAsynchronously,\r\n                        this::submitInBulkAsynchronously);\r\n        final var submitter =\r\n                submitters.get((isIndividual() ? 0 : 1) + (isSynchronous() ? 0 : 2));\r\n```\r\n\r\nand writing a `try/catch` later \r\n\r\n```\r\n       try {\r\n            result = submitter.apply(work.todo);\r\n        } catch (final InterruptedException ex) {\r\n            // do something here\r\n        }\r\n```\r\n\r\nwhere the method reference is _used_ (called) doesn&#39;t help.\r\n\r\nThe error from `javac` (SDK 17.0.5) is\r\n```\r\nerror: incompatible thrown types InterruptedException in functional expression\r\n```\r\n\r\n(IntelliJ gives different errors: Each method reference has an error `Unhandled exception: java.lang.InterruptedException` and the later `catch` block has an error `Exception &#39;java.lang.InterruptedException&#39; is never thrown in the corresponding try block`.)\r\n\r\nSo how can I name these method references in one place and _call_ them in another?\r\n  \r\n- Besides the obvious which is to surround the naming of them with a useless `try/catch`?\r\n- That it&#39;s an `InterruptedException` is not the issue, just needs to be any checked exception","title":"Method reference of method throwing checked exception triggers compilation error at point method reference is named","body":"<p>I have a bunch of methods, with similar signatures, compatible with <code>Function</code>, they each declare <code>throws InterruptedException</code>, and I put them in a list and select one by its index and call its <code>apply()</code>.</p>\n<p>Except that I get a compiler error where the method is <em>named</em> to put in the list:</p>\n<pre><code>        final List&lt;Function&lt;Set&lt;BookIdentifier&gt;, Set&lt;Status&gt;&gt;&gt;\n                submitters = List.of(\n                        this::submitIndividuallySynchronously, // these are the method references\n                        this::submitInBulkSynchronously,       // all 4 of them have an error message\n                        this::submitIndividuallyAsynchronously,\n                        this::submitInBulkAsynchronously);\n        final var submitter =\n                submitters.get((isIndividual() ? 0 : 1) + (isSynchronous() ? 0 : 2));\n</code></pre>\n<p>and writing a <code>try/catch</code> later</p>\n<pre><code>       try {\n            result = submitter.apply(work.todo);\n        } catch (final InterruptedException ex) {\n            // do something here\n        }\n</code></pre>\n<p>where the method reference is <em>used</em> (called) doesn't help.</p>\n<p>The error from <code>javac</code> (SDK 17.0.5) is</p>\n<pre><code>error: incompatible thrown types InterruptedException in functional expression\n</code></pre>\n<p>(IntelliJ gives different errors: Each method reference has an error <code>Unhandled exception: java.lang.InterruptedException</code> and the later <code>catch</code> block has an error <code>Exception 'java.lang.InterruptedException' is never thrown in the corresponding try block</code>.)</p>\n<p>So how can I name these method references in one place and <em>call</em> them in another?</p>\n<ul>\n<li>Besides the obvious which is to surround the naming of them with a useless <code>try/catch</code>?</li>\n<li>That it's an <code>InterruptedException</code> is not the issue, just needs to be any checked exception</li>\n</ul>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1688587519,"post_id":76623556,"comment_id":135095262,"body_markdown":"For something really basic check out: https://stackoverflow.com/a/33907282/131872. For something more complicated check out the [Marquee Panel](https://tips4java.wordpress.com/2011/04/24/marquee-panel/)","body":"For something really basic check out: <a href=\"https://stackoverflow.com/a/33907282/131872\">stackoverflow.com/a/33907282/131872</a>. For something more complicated check out the <a href=\"https://tips4java.wordpress.com/2011/04/24/marquee-panel/\" rel=\"nofollow noreferrer\">Marquee Panel</a>"}],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688589541,"creation_date":1688589541,"answer_id":76623896,"question_id":76623556,"body_markdown":"Start by sharing exact code or at least framework or classes you are using.\r\n\r\nClick into them, what methods they have.\r\n\r\nIs it Swing, SWT or Android?\r\n\r\nThere is no universal answer.\r\n\r\n\r\nBTW, you can also can change text of you text label, removing left char every nnn miliseconds.\r\n\r\nGood luck","title":"Sliding text inside a label","body":"<p>Start by sharing exact code or at least framework or classes you are using.</p>\n<p>Click into them, what methods they have.</p>\n<p>Is it Swing, SWT or Android?</p>\n<p>There is no universal answer.</p>\n<p>BTW, you can also can change text of you text label, removing left char every nnn miliseconds.</p>\n<p>Good luck</p>\n"},{"tags":[],"owner":{"account_id":26988173,"reputation":21,"user_id":20551491,"display_name":"Iagothz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688598812,"creation_date":1688598812,"answer_id":76624588,"question_id":76623556,"body_markdown":"Thanks to &quot;camickr&quot;, answered in comments.\r\n\r\nI&#39;ve used a funcion mentioned in one of these links, following:\r\n\r\n&gt;     String horaCorrenteSistema = &quot;&quot;;\r\n&gt;     SimpleDateFormat horaFormatada = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n&gt;     Date horaAtual = new Date();\r\n&gt;     horaCorrenteSistema = horaFormatada.format(horaAtual);\r\n&gt;     ActionListener action = new ActionListener() {  \r\n&gt;         public void actionPerformed(ActionEvent e) {  \r\n&gt;             String oldText = lblNoticia.getText();\r\n&gt;     \r\n&gt;             // Scroll right to left\r\n&gt;             String newText = oldText.substring(1) + oldText.substring(0, 1);\r\n&gt;     \r\n&gt;             // Scroll left to right\r\n&gt;             //int length = oldText.length();\r\n&gt;             //String newText = oldText.substring(length-1, length) + oldText.substring(0, length-1);\r\n&gt;     \r\n&gt;             lblNoticia.setText( newText );\r\n&gt;         }  \r\n&gt;     };\r\n&gt;     Timer timer = new Timer(500, action);\r\n&gt;     timer.start();","title":"Sliding text inside a label","body":"<p>Thanks to &quot;camickr&quot;, answered in comments.</p>\n<p>I've used a funcion mentioned in one of these links, following:</p>\n<blockquote>\n<pre><code>String horaCorrenteSistema = &quot;&quot;;\nSimpleDateFormat horaFormatada = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\nDate horaAtual = new Date();\nhoraCorrenteSistema = horaFormatada.format(horaAtual);\nActionListener action = new ActionListener() {  \n    public void actionPerformed(ActionEvent e) {  \n        String oldText = lblNoticia.getText();\n\n        // Scroll right to left\n        String newText = oldText.substring(1) + oldText.substring(0, 1);\n\n        // Scroll left to right\n        //int length = oldText.length();\n        //String newText = oldText.substring(length-1, length) + oldText.substring(0, length-1);\n\n        lblNoticia.setText( newText );\n    }  \n};\nTimer timer = new Timer(500, action);\ntimer.start();\n</code></pre>\n</blockquote>\n"}],"owner":{"account_id":26988173,"reputation":21,"user_id":20551491,"display_name":"Iagothz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76624588,"answer_count":2,"score":0,"last_activity_date":1688599532,"creation_date":1688585853,"question_id":76623556,"body_markdown":"How do I can &quot;slide&quot; the text in a label to the left side? I want to place a &quot;News text&quot; in one line , with short sentences, almost like in news channels in the bottom of screen.\r\n\r\n![I want the text runs to the left side, like in  this img](https://i.stack.imgur.com/E63L2.png)\r\n\r\nHaven&#39;t tried anything, I really don&#39;t know where start to try it.","title":"Sliding text inside a label","body":"<p>How do I can &quot;slide&quot; the text in a label to the left side? I want to place a &quot;News text&quot; in one line , with short sentences, almost like in news channels in the bottom of screen.</p>\n<p><img src=\"https://i.stack.imgur.com/E63L2.png\" alt=\"I want the text runs to the left side, like in  this img\" /></p>\n<p>Haven't tried anything, I really don't know where start to try it.</p>\n"},{"tags":["java","windows","java-17"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1688600670,"post_id":76624625,"comment_id":135096872,"body_markdown":"There is nothing else.  `PATH` should be all you need to make `java -version` work.  So check that your update to `PATH` is correct.  What happens when you run `C:\\Program Files\\Java\\jdk-17\\bin\\java -version` ?","body":"There is nothing else.  <code>PATH</code> should be all you need to make <code>java -version</code> work.  So check that your update to <code>PATH</code> is correct.  What happens when you run <code>C:\\Program Files\\Java\\jdk-17\\bin\\java -version</code> ?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1688602077,"post_id":76624625,"comment_id":135096993,"body_markdown":"Did you close and reopen your terminal after the installation? Also, many tools rely on `JAVA_HOME` being set, but that&#39;s not needed here. And to be somewhat pedantic, Java doesn&#39;t require _any_ environment variables to be set. Setting the `PATH` is a convenience, and it&#39;s _other tools_ that may rely on `JAVA_HOME`. Some APIs in Java may use certain environment variables _if they are set_ (using default values if they aren&#39;t), but that will be documented for each individual API.","body":"Did you close and reopen your terminal after the installation? Also, many tools rely on <code>JAVA_HOME</code> being set, but that&#39;s not needed here. And to be somewhat pedantic, Java doesn&#39;t require <i>any</i> environment variables to be set. Setting the <code>PATH</code> is a convenience, and it&#39;s <i>other tools</i> that may rely on <code>JAVA_HOME</code>. Some APIs in Java may use certain environment variables <i>if they are set</i> (using default values if they aren&#39;t), but that will be documented for each individual API."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1688602142,"post_id":76624625,"comment_id":135097000,"body_markdown":"You seem to confuse environment variables needed for Java to execute with environments variables needed for your command line to find the Java executable. It seems that you want the later but the subject points to the former.","body":"You seem to confuse environment variables needed for Java to execute with environments variables needed for your command line to find the Java executable. It seems that you want the later but the subject points to the former."}],"owner":{"account_id":20901152,"reputation":17,"user_id":15354242,"display_name":"UnknYell0"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":993,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688599489,"creation_date":1688599489,"question_id":76624625,"body_markdown":"I am trying to install java to my Windows 11 machine but when I try run \r\n```java -version``` in the command prompt, I get ```&#39;java&#39; is not recognized as an internal or external command```.\r\n\r\nIn my computer&#39;s System variables I have a ```PATH``` variable with a link to ```C:\\Program Files\\Java\\jdk-17\\bin```. I have looked at Oracle&#39;s installation instructions [here](https://docs.oracle.com/en/java/javase/17/install/installation-jdk-microsoft-windows-platforms.html#GUID-371F38CC-248F-49EC-BB9C-C37FC89E52A0) but it seems like it should be plug and play so to speak. \r\n\r\nAre there additional environmental variables that I am missing or possibly I am pointing the path variable to the wrong location?","title":"Required environment variables for JDK 17","body":"<p>I am trying to install java to my Windows 11 machine but when I try run\n<code>java -version</code> in the command prompt, I get <code>'java' is not recognized as an internal or external command</code>.</p>\n<p>In my computer's System variables I have a <code>PATH</code> variable with a link to <code>C:\\Program Files\\Java\\jdk-17\\bin</code>. I have looked at Oracle's installation instructions <a href=\"https://docs.oracle.com/en/java/javase/17/install/installation-jdk-microsoft-windows-platforms.html#GUID-371F38CC-248F-49EC-BB9C-C37FC89E52A0\" rel=\"nofollow noreferrer\">here</a> but it seems like it should be plug and play so to speak.</p>\n<p>Are there additional environmental variables that I am missing or possibly I am pointing the path variable to the wrong location?</p>\n"},{"tags":["java","deeplearning4j"],"answers":[{"tags":[],"owner":{"account_id":223484,"reputation":61166,"user_id":482717,"accept_rate":66,"display_name":"Paul Verest"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688588785,"creation_date":1688588785,"answer_id":76623826,"question_id":76623742,"body_markdown":"Most likely you read CSV values wrong,\r\n\r\ntaking 30,448.4 as 30.\r\n\r\nSo trace last value from CSV into log.\r\n\r\nAdditionally, I would be sure about anything, when using `1.0.0-beta7` version.\r\n\r\nHave you checked for the latest version\r\ne.g. https://mvnrepository.com/artifact/org.deeplearning4j/deeplearning4j-core ?\r\n\r\nAt my glance, it looks not promising.","title":"Deeplearning4J Java code to predict price of Bitcoin is giving strange values","body":"<p>Most likely you read CSV values wrong,</p>\n<p>taking 30,448.4 as 30.</p>\n<p>So trace last value from CSV into log.</p>\n<p>Additionally, I would be sure about anything, when using <code>1.0.0-beta7</code> version.</p>\n<p>Have you checked for the latest version\ne.g. <a href=\"https://mvnrepository.com/artifact/org.deeplearning4j/deeplearning4j-core\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.deeplearning4j/deeplearning4j-core</a> ?</p>\n<p>At my glance, it looks not promising.</p>\n"},{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688599469,"creation_date":1688599469,"answer_id":76624624,"question_id":76623742,"body_markdown":"Maintainer here. As Paul mentioned, stick to the latest version when possible.  Make sure to normalize your values as well as your labels. \r\n\r\nPaul could be right you&#39;re reading your values in wrong. You normally use the CSVSequenceRecordReader for that.\r\n\r\nBeyond that, you probably need to scale your data. Have you looked at doing that?","title":"Deeplearning4J Java code to predict price of Bitcoin is giving strange values","body":"<p>Maintainer here. As Paul mentioned, stick to the latest version when possible.  Make sure to normalize your values as well as your labels.</p>\n<p>Paul could be right you're reading your values in wrong. You normally use the CSVSequenceRecordReader for that.</p>\n<p>Beyond that, you probably need to scale your data. Have you looked at doing that?</p>\n"}],"owner":{"account_id":2119667,"reputation":7639,"user_id":1883212,"accept_rate":14,"display_name":"user1883212"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688599469,"creation_date":1688587969,"question_id":76623742,"body_markdown":"I put together some code that given an array containing the full time series of the daily Bitcoin close price in dollars, should produce a prediction for the price of Tomorrow. \r\nI would expect the result not to be too dissimilar from the current price, but I get values that are smaller than 20 dollars.\r\n\r\nHere&#39;s my code:\r\n\r\n  \tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t// Time series array\r\n\t\tdouble[] data = readCsv();\r\n\r\n\t\t// Hyperparameters\r\n\t\tint sequenceLength = 100; // The length of your sequences\r\n\t\tint numHiddenNodes = 256; // The number of hidden nodes\r\n\t\tint numEpochs = 10; // The number of epochs\r\n\r\n\t\t// Create input and output arrays\r\n\t\tINDArray input = Nd4j.create(1, 1, data.length - sequenceLength);\r\n\t\tINDArray output = Nd4j.create(1, 1, data.length - sequenceLength);\r\n\t\tfor (int i = 0; i &lt; data.length - sequenceLength; i++) {\r\n\t\t\tinput.putScalar(new int[]{0, i % sequenceLength, 0}, data[i]);\r\n\t\t\toutput.putScalar(new int[]{0, 0, i % sequenceLength}, data[i + sequenceLength]);\r\n\t\t}\r\n\r\n\t\t// Configure network\r\n\t\tMultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\r\n\t\t    .weightInit(WeightInit.XAVIER)\r\n\t\t    .updater(new Nadam())\r\n\t\t    .list()\r\n\t\t    .layer(0, new LSTM.Builder().nIn(1).nOut(numHiddenNodes)\r\n\t\t        .activation(Activation.TANH).build())\r\n\t\t    .layer(1, new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\r\n\t\t        .activation(Activation.IDENTITY).nIn(numHiddenNodes).nOut(1).build())\r\n\t\t    .build();\r\n\r\n\t\tMultiLayerNetwork net = new MultiLayerNetwork(conf);\r\n\t\tnet.init();\r\n\t\tnet.setListeners(new ScoreIterationListener(100));\r\n\t\t\r\n\t\t// Train the network\r\n\t\tfor (int epoch = 0; epoch &lt; numEpochs; epoch++) {\r\n\t\t    net.fit(input, output);\r\n\t\t}\r\n\r\n\t\t// Initialize the input for next prediction with the last sequenceLength number of values from the input INDArray\r\n\t\tINDArray nextInput = Nd4j.create(new double[] {data[data.length - sequenceLength]}, new int[]{1, 1, 1});\r\n\r\n\t\t// Use trained model to predict the next value\r\n\t\tINDArray predicted = net.rnnTimeStep(nextInput);\r\n\r\n\t\t// Print out predicted value\r\n\t\tSystem.out.println(&quot;Predicted: &quot; + predicted.getDouble(0));\r\n\t}\r\n\r\nHere are my pom dependencies:\r\n\r\n\t &lt;dependency&gt;\r\n\t       &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\r\n\t       &lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\r\n\t       &lt;version&gt;1.0.0-M2.1&lt;/version&gt;\r\n\t   &lt;/dependency&gt;\r\n\t   &lt;dependency&gt;\r\n\t       &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\r\n\t       &lt;artifactId&gt;nd4j-native-platform&lt;/artifactId&gt;\r\n\t       &lt;version&gt;1.0.0-M2.1&lt;/version&gt;\r\n\t   &lt;/dependency&gt;\r\n\t   &lt;dependency&gt;\r\n           &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n           &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\r\n           &lt;version&gt;1.8&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n           &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n           &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n           &lt;version&gt;1.2.3&lt;/version&gt;\r\n\t   &lt;/dependency&gt;\r\n\r\nWhat can be wrong? Why doesn&#39;t it give meaningful results?\r\n\r\nEDIT\r\n\r\nSome more information. Here&#39;s where to downloaded the time series from: https://uk.investing.com/crypto/bitcoin/historical-data\r\n\r\nAnd here&#39;s how I read the csv:\r\n\r\n\tprivate static double[] readCsv() {\r\n\t\tString csvFile = &quot;/BTCDaily.csv&quot;; // File in the resources folder\r\n        List&lt;Double&gt; priceList = new ArrayList&lt;&gt;();\r\n\r\n        try {\r\n            URL url = App.class.getResource(csvFile);\r\n            Reader in = new FileReader(url.toURI().getPath());\r\n            Iterable&lt;CSVRecord&gt; records = CSVFormat.DEFAULT.withFirstRecordAsHeader().parse(in);\r\n            for (CSVRecord record : records) {\r\n                String price = record.get(&quot;Price&quot;);\r\n                price = price.replace(&quot;,&quot;, &quot;&quot;);  // remove commas\r\n                priceList.add(Double.parseDouble(price));\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return reverse(priceList.stream().mapToDouble(Double::doubleValue).toArray());\r\n\t}\r\n\t\r\n\tpublic static double[] reverse(double[] array) {\r\n\t    int length = array.length;\r\n\t    double[] reversed = new double[length];\r\n\t    for (int i = 0; i &lt; length; i++) {\r\n\t        reversed[i] = array[length - i - 1];\r\n\t    }\r\n\t    return reversed;\r\n\t}\r\n\r\n\r\n","title":"Deeplearning4J Java code to predict price of Bitcoin is giving strange values","body":"<p>I put together some code that given an array containing the full time series of the daily Bitcoin close price in dollars, should produce a prediction for the price of Tomorrow.\nI would expect the result not to be too dissimilar from the current price, but I get values that are smaller than 20 dollars.</p>\n<p>Here's my code:</p>\n<pre><code>public static void main(String[] args) {\n    \n    // Time series array\n    double[] data = readCsv();\n\n    // Hyperparameters\n    int sequenceLength = 100; // The length of your sequences\n    int numHiddenNodes = 256; // The number of hidden nodes\n    int numEpochs = 10; // The number of epochs\n\n    // Create input and output arrays\n    INDArray input = Nd4j.create(1, 1, data.length - sequenceLength);\n    INDArray output = Nd4j.create(1, 1, data.length - sequenceLength);\n    for (int i = 0; i &lt; data.length - sequenceLength; i++) {\n        input.putScalar(new int[]{0, i % sequenceLength, 0}, data[i]);\n        output.putScalar(new int[]{0, 0, i % sequenceLength}, data[i + sequenceLength]);\n    }\n\n    // Configure network\n    MultiLayerConfiguration conf = new NeuralNetConfiguration.Builder()\n        .weightInit(WeightInit.XAVIER)\n        .updater(new Nadam())\n        .list()\n        .layer(0, new LSTM.Builder().nIn(1).nOut(numHiddenNodes)\n            .activation(Activation.TANH).build())\n        .layer(1, new RnnOutputLayer.Builder(LossFunctions.LossFunction.MSE)\n            .activation(Activation.IDENTITY).nIn(numHiddenNodes).nOut(1).build())\n        .build();\n\n    MultiLayerNetwork net = new MultiLayerNetwork(conf);\n    net.init();\n    net.setListeners(new ScoreIterationListener(100));\n    \n    // Train the network\n    for (int epoch = 0; epoch &lt; numEpochs; epoch++) {\n        net.fit(input, output);\n    }\n\n    // Initialize the input for next prediction with the last sequenceLength number of values from the input INDArray\n    INDArray nextInput = Nd4j.create(new double[] {data[data.length - sequenceLength]}, new int[]{1, 1, 1});\n\n    // Use trained model to predict the next value\n    INDArray predicted = net.rnnTimeStep(nextInput);\n\n    // Print out predicted value\n    System.out.println(&quot;Predicted: &quot; + predicted.getDouble(0));\n}\n</code></pre>\n<p>Here are my pom dependencies:</p>\n<pre><code> &lt;dependency&gt;\n       &lt;groupId&gt;org.deeplearning4j&lt;/groupId&gt;\n       &lt;artifactId&gt;deeplearning4j-core&lt;/artifactId&gt;\n       &lt;version&gt;1.0.0-M2.1&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n       &lt;groupId&gt;org.nd4j&lt;/groupId&gt;\n       &lt;artifactId&gt;nd4j-native-platform&lt;/artifactId&gt;\n       &lt;version&gt;1.0.0-M2.1&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n       &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n       &lt;artifactId&gt;commons-csv&lt;/artifactId&gt;\n       &lt;version&gt;1.8&lt;/version&gt;\n   &lt;/dependency&gt;\n   &lt;dependency&gt;\n       &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n       &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n       &lt;version&gt;1.2.3&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n<p>What can be wrong? Why doesn't it give meaningful results?</p>\n<p>EDIT</p>\n<p>Some more information. Here's where to downloaded the time series from: <a href=\"https://uk.investing.com/crypto/bitcoin/historical-data\" rel=\"nofollow noreferrer\">https://uk.investing.com/crypto/bitcoin/historical-data</a></p>\n<p>And here's how I read the csv:</p>\n<pre><code>private static double[] readCsv() {\n    String csvFile = &quot;/BTCDaily.csv&quot;; // File in the resources folder\n    List&lt;Double&gt; priceList = new ArrayList&lt;&gt;();\n\n    try {\n        URL url = App.class.getResource(csvFile);\n        Reader in = new FileReader(url.toURI().getPath());\n        Iterable&lt;CSVRecord&gt; records = CSVFormat.DEFAULT.withFirstRecordAsHeader().parse(in);\n        for (CSVRecord record : records) {\n            String price = record.get(&quot;Price&quot;);\n            price = price.replace(&quot;,&quot;, &quot;&quot;);  // remove commas\n            priceList.add(Double.parseDouble(price));\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    return reverse(priceList.stream().mapToDouble(Double::doubleValue).toArray());\n}\n\npublic static double[] reverse(double[] array) {\n    int length = array.length;\n    double[] reversed = new double[length];\n    for (int i = 0; i &lt; length; i++) {\n        reversed[i] = array[length - i - 1];\n    }\n    return reversed;\n}\n</code></pre>\n"},{"tags":["java","apache-flink","flink-streaming"],"comments":[{"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1688599353,"post_id":76616664,"comment_id":135096744,"body_markdown":"The code you&#39;ve shared looks fine, and will only print results if the windows are, in fact, being triggered. Since the windows are firing, are you sure there&#39;s a problem?","body":"The code you&#39;ve shared looks fine, and will only print results if the windows are, in fact, being triggered. Since the windows are firing, are you sure there&#39;s a problem?"}],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688599333,"creation_date":1688521895,"question_id":76616664,"body_markdown":"As I know, `EventTimeTrigger` has 4 results, `CONTINUE`, `FIRE_AND_PURGE`, `FIRE`, `PURGE`, when I debug my code, I want to figure out how `EventTimeTrigger` works. So I wrote this code(flink 1.10)\r\n```\r\n    public static void main(String[] args) throws Exception {\r\n        StreamExecutionEnvironment env =   StreamExecutionEnvironment.getExecutionEnvironment();\r\n        env.setParallelism(1);\r\n        env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\r\n        DataStreamSource&lt;Stock&gt; stockDataStreamSource = env.addSource(new StockSource());\r\n        SingleOutputStreamOperator&lt;Stock&gt; price = stockDataStreamSource.assignTimestampsAndWatermarks(\r\n                new BoundedOutOfOrdernessTimestampExtractor&lt;Stock&gt;(Time.seconds(1)) {\r\n                    @Override\r\n                    public long extractTimestamp(Stock element) {\r\n                        return element.ts;\r\n                    }\r\n                }\r\n        )\r\n                .keyBy(Stock::getSymbol).timeWindow(Time.seconds(2))\r\n                .min(&quot;price&quot;);\r\n        price.print(&quot;===p&quot;);\r\n}\r\npublic class Stock {\r\n    public String symbol;\r\n    public long ts;\r\n    public double price;\r\n    public int volume;\r\n...\r\n}\r\n\r\npublic class StockSource implements SourceFunction&lt;Stock&gt; {\r\n\r\n    @Override\r\n    public void run(SourceContext&lt;Stock&gt; ctx) throws Exception {\r\n        try(BufferedReader bf = new BufferedReader(new FileReader(&quot; &quot; ))) {\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd HHmmss&quot;);\r\n\r\n            String line;\r\n            while ((line = bf.readLine())!=null) {\r\n                String[] split = line.split(&quot;,&quot;);\r\n                LocalDateTime dateTime = LocalDateTime.parse(split[1] + &quot; &quot; + split[2], formatter);\r\n                long eventTs = Timestamp.valueOf(dateTime).getTime();\r\n                Stock  stock = Stock.of(split[0], eventTs,Double.parseDouble(split[3]), Integer.parseInt(split[4]));\r\n                ctx.collect(stock);\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void cancel() {\r\n\r\n    }\r\n}\r\n```\r\nand the in put data is \r\n```\r\nUS2.AAPL,20200108,093003,297.310000000,100\r\nUS2.AAPL,20200108,094001,297.260000000,100\r\nUS2.AAPL,20200109,095002,297.270000000,100\r\n```\r\nand the output of is \r\n\r\n```\r\n===p&gt; Stock{symbol=&#39;US2.AAPL&#39;, ts=1578447003000, price=297.31, volume=100}\r\n===p&gt; Stock{symbol=&#39;US2.AAPL&#39;, ts=1578447601000, price=297.26, volume=100}\r\n===p&gt; Stock{symbol=&#39;US2.AAPL&#39;, ts=1578534602000, price=297.27, volume=100}\r\n```\r\n\r\nWhen I debug the code, and has a breakpoint in `org.apache.flink.streaming.runtime.operators.windowing.WindowOperator`, `processElement()` method, `TriggerResult triggerResult = triggerContext.onElement(element);` will return a triggerResult, but the triggerResult is always `CONTINUE`, and I step into, in `org.apache.flink.streaming.api.windowing.triggers.EventTimeTrigger`, `onElement` method, `ctx.getCurrentWatermark()` always return a negative number, and then return `TriggerResult.CONTINUE`\r\n[![enter image description here](https://i.stack.imgur.com/wjCPL.png)](https://i.stack.imgur.com/wjCPL.png)\r\n\r\nIn my opinion,when the windows are closed it will return `FIRE_AND_PURGE` rather than `CONTINUE`.\r\nDid I make a mistake in understanding `EventTimeTrigger` or did I make a mistake in writing my program? \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nPlease help me. Thanks a lot.","title":"Confused about Flink EventTimeTrigger","body":"<p>As I know, <code>EventTimeTrigger</code> has 4 results, <code>CONTINUE</code>, <code>FIRE_AND_PURGE</code>, <code>FIRE</code>, <code>PURGE</code>, when I debug my code, I want to figure out how <code>EventTimeTrigger</code> works. So I wrote this code(flink 1.10)</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n        StreamExecutionEnvironment env =   StreamExecutionEnvironment.getExecutionEnvironment();\n        env.setParallelism(1);\n        env.setStreamTimeCharacteristic(TimeCharacteristic.EventTime);\n        DataStreamSource&lt;Stock&gt; stockDataStreamSource = env.addSource(new StockSource());\n        SingleOutputStreamOperator&lt;Stock&gt; price = stockDataStreamSource.assignTimestampsAndWatermarks(\n                new BoundedOutOfOrdernessTimestampExtractor&lt;Stock&gt;(Time.seconds(1)) {\n                    @Override\n                    public long extractTimestamp(Stock element) {\n                        return element.ts;\n                    }\n                }\n        )\n                .keyBy(Stock::getSymbol).timeWindow(Time.seconds(2))\n                .min(&quot;price&quot;);\n        price.print(&quot;===p&quot;);\n}\npublic class Stock {\n    public String symbol;\n    public long ts;\n    public double price;\n    public int volume;\n...\n}\n\npublic class StockSource implements SourceFunction&lt;Stock&gt; {\n\n    @Override\n    public void run(SourceContext&lt;Stock&gt; ctx) throws Exception {\n        try(BufferedReader bf = new BufferedReader(new FileReader(&quot; &quot; ))) {\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyyMMdd HHmmss&quot;);\n\n            String line;\n            while ((line = bf.readLine())!=null) {\n                String[] split = line.split(&quot;,&quot;);\n                LocalDateTime dateTime = LocalDateTime.parse(split[1] + &quot; &quot; + split[2], formatter);\n                long eventTs = Timestamp.valueOf(dateTime).getTime();\n                Stock  stock = Stock.of(split[0], eventTs,Double.parseDouble(split[3]), Integer.parseInt(split[4]));\n                ctx.collect(stock);\n            }\n        }\n    }\n\n    @Override\n    public void cancel() {\n\n    }\n}\n</code></pre>\n<p>and the in put data is</p>\n<pre><code>US2.AAPL,20200108,093003,297.310000000,100\nUS2.AAPL,20200108,094001,297.260000000,100\nUS2.AAPL,20200109,095002,297.270000000,100\n</code></pre>\n<p>and the output of is</p>\n<pre><code>===p&gt; Stock{symbol='US2.AAPL', ts=1578447003000, price=297.31, volume=100}\n===p&gt; Stock{symbol='US2.AAPL', ts=1578447601000, price=297.26, volume=100}\n===p&gt; Stock{symbol='US2.AAPL', ts=1578534602000, price=297.27, volume=100}\n</code></pre>\n<p>When I debug the code, and has a breakpoint in <code>org.apache.flink.streaming.runtime.operators.windowing.WindowOperator</code>, <code>processElement()</code> method, <code>TriggerResult triggerResult = triggerContext.onElement(element);</code> will return a triggerResult, but the triggerResult is always <code>CONTINUE</code>, and I step into, in <code>org.apache.flink.streaming.api.windowing.triggers.EventTimeTrigger</code>, <code>onElement</code> method, <code>ctx.getCurrentWatermark()</code> always return a negative number, and then return <code>TriggerResult.CONTINUE</code>\n<a href=\"https://i.stack.imgur.com/wjCPL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wjCPL.png\" alt=\"enter image description here\" /></a></p>\n<p>In my opinion,when the windows are closed it will return <code>FIRE_AND_PURGE</code> rather than <code>CONTINUE</code>.\nDid I make a mistake in understanding <code>EventTimeTrigger</code> or did I make a mistake in writing my program?</p>\n<p>Please help me. Thanks a lot.</p>\n"},{"tags":["java","jdbc","vertica"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688595447,"post_id":76624256,"comment_id":135096391,"body_markdown":"Two separate problems: column size and encoding. How is that table defined?","body":"Two separate problems: column size and encoding. How is that table defined?"},{"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":0,"creation_date":1688597243,"post_id":76624256,"comment_id":135096552,"body_markdown":"No column size problem because `vsql` works with same statement. Event more `insert` create from real DB and schemas for 2 DBs re the same. About table definition - nothing special. just create table. Question updated.","body":"No column size problem because <code>vsql</code> works with same statement. Event more <code>insert</code> create from real DB and schemas for 2 DBs re the same. About table definition - nothing special. just create table. Question updated."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688629045,"post_id":76624256,"comment_id":135099859,"body_markdown":"*..but when I run:* and what are the contents of that my_table.sql file?","body":"<i>..but when I run:</i> and what are the contents of that my_table.sql file?"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688597221,"creation_date":1688593889,"question_id":76624256,"body_markdown":"There is a file (my_table.sql) and insert statement in it:\r\n\r\n    Insert into my_table (id, my_string) \r\n    Values (1, &#39;some string with non ASCII symbols like this &#39;);\r\n\r\nWhere I run this via jdbc it fails with `ERROR: String of N octets is too long for type Varchar(X) for column my_string`. And it looks like column is too short but when I run:\r\n\r\n    vsql -v AUTOCOMMIT=on  -h localhost -U dbadmin -d my_db &lt; my_table.sql\r\n\r\nIt completes well. Why error happens? How to fix it? I have tried to add `?useUnicode=true&amp;amp;characterEncoding=UTF-8` to jdbc connection string but this did not help.\r\n\r\nUPDATED\r\n\r\nTable definiton:\r\n\r\n    create table my_table\r\n    (\r\n        id                      int,\r\n        my_string               varchar(255)\r\n    );\r\n    \r\n    comment on table my_table is &#39;copmment&#39;;","title":"How fix `octets is too long for type Varchar for column` in vetica via jdbc","body":"<p>There is a file (my_table.sql) and insert statement in it:</p>\n<pre><code>Insert into my_table (id, my_string) \nValues (1, 'some string with non ASCII symbols like this ');\n</code></pre>\n<p>Where I run this via jdbc it fails with <code>ERROR: String of N octets is too long for type Varchar(X) for column my_string</code>. And it looks like column is too short but when I run:</p>\n<pre><code>vsql -v AUTOCOMMIT=on  -h localhost -U dbadmin -d my_db &lt; my_table.sql\n</code></pre>\n<p>It completes well. Why error happens? How to fix it? I have tried to add <code>?useUnicode=true&amp;amp;characterEncoding=UTF-8</code> to jdbc connection string but this did not help.</p>\n<p>UPDATED</p>\n<p>Table definiton:</p>\n<pre><code>create table my_table\n(\n    id                      int,\n    my_string               varchar(255)\n);\n\ncomment on table my_table is 'copmment';\n</code></pre>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":1,"creation_date":1688569357,"post_id":76619039,"comment_id":135091588,"body_markdown":"This has nothing to do with Spring, or filtering; you have broker connectivity problems. It&#39;s better to use a more meaningful title on questions; you also need to provide much more information - for example, can you connect to the broker using command line tools? If you are using docker, you need to provide the config.","body":"This has nothing to do with Spring, or filtering; you have broker connectivity problems. It&#39;s better to use a more meaningful title on questions; you also need to provide much more information - for example, can you connect to the broker using command line tools? If you are using docker, you need to provide the config."},{"owner":{"account_id":15042992,"reputation":1,"user_id":10856979,"display_name":"Sayan Saha"},"score":1,"creation_date":1688581143,"post_id":76619039,"comment_id":135094188,"body_markdown":"I was able to filter kafka messages based on header by referring to the below example:\nhttps://prateek-ashtikar512.medium.com/kafka-message-filter-c8ae1dca53f3","body":"I was able to filter kafka messages based on header by referring to the below example: <a href=\"https://prateek-ashtikar512.medium.com/kafka-message-filter-c8ae1dca53f3\" rel=\"nofollow noreferrer\">prateek-ashtikar512.medium.com/&hellip;</a>"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1688596640,"post_id":76619039,"comment_id":135096504,"body_markdown":"Feel free to provide a full example below as an answer rather than comment with link to external site","body":"Feel free to provide a full example below as an answer rather than comment with link to external site"}],"owner":{"account_id":15042992,"reputation":1,"user_id":10856979,"display_name":"Sayan Saha"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688596602,"creation_date":1688549825,"question_id":76619039,"body_markdown":"I want to filter Kafka messages at listener level based on Kafka Header Values.\r\n\r\n\r\n\r\n\r\nI have tried to use a custom KafkaConsumerConfig.java. Please look into the below file\r\n```\r\npackage com.example.test.consumer;\r\n\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.common.header.Header;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\nimport org.springframework.kafka.core.ConsumerFactory;\r\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n@Configuration\r\npublic class KafkaConsumerConfig {\r\n\r\n\t@Value(&quot;${spring.kafka.consumer.group-id}&quot;)\r\n\tprivate String group_id;\r\n\t\r\n\t@Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n\tprivate String bootstrap_server;\r\n\r\n\t@Bean\r\n\tConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n\t\tMap&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n\t\tconfig.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrap_server);\r\n\t\tconfig.put(ConsumerConfig.GROUP_ID_CONFIG, group_id);\r\n\t\tconfig.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tconfig.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(config);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n\t\tConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\t\tfactory.setConsumerFactory(consumerFactory());\r\n\t\tfactory.setRecordFilterStrategy(consumerRecord -&gt; {\r\n\t\t\tif (consumerRecord.headers().lastHeader(&quot;CUSTOM_HEADER&quot;).key().equals(&quot;VALID&quot;)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\treturn factory;\r\n\t}\r\n}\r\n```\r\nBut the application is failing to start with the below reason..\r\n&gt;Cancelled in-flight API_VERSIONS request with correlation id 20 due to node -1 being disconnected","title":"How to filter messages in Kafka consumer based on header value at listener level in Springboot?","body":"<p>I want to filter Kafka messages at listener level based on Kafka Header Values.</p>\n<p>I have tried to use a custom KafkaConsumerConfig.java. Please look into the below file</p>\n<pre><code>package com.example.test.consumer;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.header.Header;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n@Configuration\npublic class KafkaConsumerConfig {\n\n    @Value(&quot;${spring.kafka.consumer.group-id}&quot;)\n    private String group_id;\n    \n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrap_server;\n\n    @Bean\n    ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrap_server);\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, group_id);\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config);\n    }\n\n    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n        factory.setRecordFilterStrategy(consumerRecord -&gt; {\n            if (consumerRecord.headers().lastHeader(&quot;CUSTOM_HEADER&quot;).key().equals(&quot;VALID&quot;)) {\n                return false;\n            }\n            return true;\n        });\n        return factory;\n    }\n}\n</code></pre>\n<p>But the application is failing to start with the below reason..</p>\n<blockquote>\n<p>Cancelled in-flight API_VERSIONS request with correlation id 20 due to node -1 being disconnected</p>\n</blockquote>\n"},{"tags":["java","debugging","gradle","jvm"],"comments":[{"owner":{"account_id":7799965,"reputation":2027,"user_id":5899776,"accept_rate":83,"display_name":"vandench"},"score":0,"creation_date":1542396225,"post_id":53344114,"comment_id":93567235,"body_markdown":"Cant you just use integrated tools to launch in debug mode with Gradle? I know IntelliJ just lets me start a gradle process and I can still debug the code.","body":"Cant you just use integrated tools to launch in debug mode with Gradle? I know IntelliJ just lets me start a gradle process and I can still debug the code."},{"owner":{"account_id":2837108,"reputation":27339,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":0,"creation_date":1542396360,"post_id":53344114,"comment_id":93567298,"body_markdown":"Short answer: *no*. Long answer: No, because I&#39;m using a script that is running many different things ending up with a gradle call.","body":"Short answer: <i>no</i>. Long answer: No, because I&#39;m using a script that is running many different things ending up with a gradle call."}],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43950,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1542396694,"creation_date":1542396694,"answer_id":53344247,"question_id":53344114,"body_markdown":"You could modify `GRADLE_OPTS` environment variable and add standard Java debugger syntax e.g. to use port 8888:\r\n\r\n    -Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8888","title":"gradle: change default port from 5005","body":"<p>You could modify <code>GRADLE_OPTS</code> environment variable and add standard Java debugger syntax e.g. to use port 8888:</p>\n\n<pre><code>-Xdebug -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8888\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6235075,"reputation":7453,"user_id":4850646,"accept_rate":83,"display_name":"Lucas Basquerotto"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1597060971,"creation_date":1545918500,"answer_id":53946140,"question_id":53344114,"body_markdown":"In my case I wanted to debug a specific file, so I included the following code in `build.gradle`:\r\n\r\n&lt;!-- language: lang-gradle --&gt;\r\n\r\n    task execFile(type: JavaExec) {\r\n    \tmain = mainClass\r\n    \r\n        classpath = sourceSets.main.runtimeClasspath\r\n    \t\r\n        if (System.getProperty(&#39;debug&#39;, &#39;false&#39;) == &#39;true&#39;) {\r\n    \t\tjvmArgs &quot;-Xdebug&quot;, &quot;-agentlib:jdwp=transport=dt_socket,address=8787,server=y,suspend=y&quot;\r\n        }\r\n    \r\n        systemProperties System.getProperties()\r\n    }\r\n\r\nand I can run with:\r\n\r\n    gradle execFile -PmainClass=com.MyClass -Dmyprop=somevalue -Ddebug=true\r\n\r\nThe custom `execFile` task receives:\r\n\r\n- `-PmainClass=com.MyClass`: the class with the main method I want to execute (in the script, `main = mainClass`)\r\n- `-Dmyprop=somevalue`: a property whose value be retrieved in the application calling `System.getProperty(&quot;myprop&quot;)` (in the script, `systemProperties System.getProperties()` was needed for that)\r\n- `-Ddebug=true`: a flag to enable debugging on port 8787 (in the script, see the `if` condition, and also `address=8787`, but the port could be changed, and this flag name also could be changed). Using `suspend=y` the execution is suspended until the debugger is attached to the port (if you don&#39;t want this behaviour, you could use `suspend=n`)\r\n\r\nFor your use case, you could try to apply the logic behind the line `jvmArgs ...` to your specific task (or use `tasks.withType(JavaExec) { ... }` to apply to all tasks of this type).\r\n\r\nUsing this solution, don&#39;t use the `--debug-jvm` option because you may receive an error about the property `jdwp` being defined twice.\r\n\r\n**Update (2020-08-10)**\r\n\r\nTo make sure that the code runs only when I execute the task `execFile` explicitly (so as to not run when I just build gradle, for example), I changed the code to:\r\n\r\n&lt;!-- language: lang-gradle --&gt;\r\n\r\n    task execFile {\r\n        dependsOn &#39;build&#39;\r\n    \r\n        doLast {\r\n            tasks.create(&#39;execFileJavaExec&#39;, JavaExec) {\r\n                main = mainClass\r\n                classpath = sourceSets.main.runtimeClasspath\r\n    \r\n                if (System.getProperty(&#39;debug&#39;, &#39;false&#39;) == &#39;true&#39;) {\r\n                    jvmArgs &quot;-Xdebug&quot;, &quot;-agentlib:jdwp=transport=dt_socket,address=*:8787,server=y,suspend=y&quot;\r\n                }\r\n    \r\n                systemProperties System.getProperties()\r\n            }.exec()\r\n        }\r\n    }\r\n\r\nSee more at: https://stackoverflow.com/questions/54347157/run-gradle-task-only-when-called-specifically","title":"gradle: change default port from 5005","body":"<p>In my case I wanted to debug a specific file, so I included the following code in <code>build.gradle</code>:</p>\n<pre class=\"lang-gradle prettyprint-override\"><code>task execFile(type: JavaExec) {\n    main = mainClass\n\n    classpath = sourceSets.main.runtimeClasspath\n    \n    if (System.getProperty('debug', 'false') == 'true') {\n        jvmArgs &quot;-Xdebug&quot;, &quot;-agentlib:jdwp=transport=dt_socket,address=8787,server=y,suspend=y&quot;\n    }\n\n    systemProperties System.getProperties()\n}\n</code></pre>\n<p>and I can run with:</p>\n<pre><code>gradle execFile -PmainClass=com.MyClass -Dmyprop=somevalue -Ddebug=true\n</code></pre>\n<p>The custom <code>execFile</code> task receives:</p>\n<ul>\n<li><code>-PmainClass=com.MyClass</code>: the class with the main method I want to execute (in the script, <code>main = mainClass</code>)</li>\n<li><code>-Dmyprop=somevalue</code>: a property whose value be retrieved in the application calling <code>System.getProperty(&quot;myprop&quot;)</code> (in the script, <code>systemProperties System.getProperties()</code> was needed for that)</li>\n<li><code>-Ddebug=true</code>: a flag to enable debugging on port 8787 (in the script, see the <code>if</code> condition, and also <code>address=8787</code>, but the port could be changed, and this flag name also could be changed). Using <code>suspend=y</code> the execution is suspended until the debugger is attached to the port (if you don't want this behaviour, you could use <code>suspend=n</code>)</li>\n</ul>\n<p>For your use case, you could try to apply the logic behind the line <code>jvmArgs ...</code> to your specific task (or use <code>tasks.withType(JavaExec) { ... }</code> to apply to all tasks of this type).</p>\n<p>Using this solution, don't use the <code>--debug-jvm</code> option because you may receive an error about the property <code>jdwp</code> being defined twice.</p>\n<p><strong>Update (2020-08-10)</strong></p>\n<p>To make sure that the code runs only when I execute the task <code>execFile</code> explicitly (so as to not run when I just build gradle, for example), I changed the code to:</p>\n<pre class=\"lang-gradle prettyprint-override\"><code>task execFile {\n    dependsOn 'build'\n\n    doLast {\n        tasks.create('execFileJavaExec', JavaExec) {\n            main = mainClass\n            classpath = sourceSets.main.runtimeClasspath\n\n            if (System.getProperty('debug', 'false') == 'true') {\n                jvmArgs &quot;-Xdebug&quot;, &quot;-agentlib:jdwp=transport=dt_socket,address=*:8787,server=y,suspend=y&quot;\n            }\n\n            systemProperties System.getProperties()\n        }.exec()\n    }\n}\n</code></pre>\n<p>See more at: <a href=\"https://stackoverflow.com/questions/54347157/run-gradle-task-only-when-called-specifically\">Run gradle task only when called specifically</a></p>\n"},{"tags":[],"owner":{"account_id":20133401,"reputation":1086,"user_id":14765128,"display_name":"thehale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616541976,"creation_date":1616541976,"answer_id":66772686,"question_id":53344114,"body_markdown":"### Option 1 - Directly pass the JVM arguments that start up the debugger\r\n```\r\ntask exampleProgram(type: JavaExec) {\r\n  classpath = sourceSets.main.runtimeClasspath\r\n  description = &quot;Your Description&quot;\r\n  main = &#39;Example.java&#39;  // &lt;package&gt;.&lt;path&gt;.&lt;to&gt;.&lt;YourMainClass&gt;.java\r\n\r\n  // Change `1805` to whatever port you want.\r\n  jvmArgs=[&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=1805&quot;]  \r\n}\r\n```\r\n**If it doesn&#39;t work right away, try stopping all existing Daemons with `gradle --stop`** so Gradle isn&#39;t influenced by any past settings when building/running your project.\r\n\r\n### Option 2 - Use Gradle&#39;s `debugOptions` object\r\nAlternatively, according to [Gradle&#39;s documentation][1], the following should also do the trick; however, [it didn&#39;t work for me][2]. I&#39;m including it for completeness and in the hope that it works in the future.  \r\n```\r\ntask runApp(type: JavaExec) {\r\n    ...\r\n\r\n    debugOptions {\r\n        enabled = true\r\n        port = 5566\r\n        server = true\r\n        suspend = false\r\n    }\r\n }\r\n```\r\n*References:* \r\n - JVM Debugger Args: https://docs.oracle.com/cd/E19146-01/821-1828/gdabx/index.html\r\n - Similar question: https://stackoverflow.com/q/39490624/14765128\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/JavaExec.html#reset:~:text=Also%2C%20debug%20configuration%20can%20be%20explicitly%20set%20in%20debugOptions(Action)%3A\r\n  [2]: https://github.com/gradle/gradle/issues/16622","title":"gradle: change default port from 5005","body":"<h3>Option 1 - Directly pass the JVM arguments that start up the debugger</h3>\n<pre><code>task exampleProgram(type: JavaExec) {\n  classpath = sourceSets.main.runtimeClasspath\n  description = &quot;Your Description&quot;\n  main = 'Example.java'  // &lt;package&gt;.&lt;path&gt;.&lt;to&gt;.&lt;YourMainClass&gt;.java\n\n  // Change `1805` to whatever port you want.\n  jvmArgs=[&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=1805&quot;]  \n}\n</code></pre>\n<p><strong>If it doesn't work right away, try stopping all existing Daemons with <code>gradle --stop</code></strong> so Gradle isn't influenced by any past settings when building/running your project.</p>\n<h3>Option 2 - Use Gradle's <code>debugOptions</code> object</h3>\n<p>Alternatively, according to <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/tasks/JavaExec.html#reset:%7E:text=Also%2C%20debug%20configuration%20can%20be%20explicitly%20set%20in%20debugOptions(Action)%3A\" rel=\"nofollow noreferrer\">Gradle's documentation</a>, the following should also do the trick; however, <a href=\"https://github.com/gradle/gradle/issues/16622\" rel=\"nofollow noreferrer\">it didn't work for me</a>. I'm including it for completeness and in the hope that it works in the future.</p>\n<pre><code>task runApp(type: JavaExec) {\n    ...\n\n    debugOptions {\n        enabled = true\n        port = 5566\n        server = true\n        suspend = false\n    }\n }\n</code></pre>\n<p><em>References:</em></p>\n<ul>\n<li>JVM Debugger Args: <a href=\"https://docs.oracle.com/cd/E19146-01/821-1828/gdabx/index.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E19146-01/821-1828/gdabx/index.html</a></li>\n<li>Similar question: <a href=\"https://stackoverflow.com/q/39490624/14765128\">how to debug spring application with gradle</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20828682,"reputation":1,"user_id":15298519,"display_name":"Green Ant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688595817,"creation_date":1688595759,"answer_id":76624401,"question_id":53344114,"body_markdown":"**Option 2 - Use Gradle&#39;s debugOptions object**\r\n\r\nFor Grails5 in build.gradle i put debugOptions into bootRun section:\r\n\r\n    bootRun {\r\n      ...\r\n      jvmArgs(\r\n        // whatever extras you need...\r\n      )\r\n      debugOptions {\r\n        //enabled = true\r\n        port = 5566\r\n        server = true\r\n        suspend = false\r\n      }\r\n      ...\r\n    }\r\nThen run grails with or without --debug-jvm switch at the end of arguments list to turn it on/off. \r\n\r\nYou may also uncomment &quot;enabled=true&quot; to always run in debug mode without passing --debug-jvm.","title":"gradle: change default port from 5005","body":"<p><strong>Option 2 - Use Gradle's debugOptions object</strong></p>\n<p>For Grails5 in build.gradle i put debugOptions into bootRun section:</p>\n<pre><code>bootRun {\n  ...\n  jvmArgs(\n    // whatever extras you need...\n  )\n  debugOptions {\n    //enabled = true\n    port = 5566\n    server = true\n    suspend = false\n  }\n  ...\n}\n</code></pre>\n<p>Then run grails with or without --debug-jvm switch at the end of arguments list to turn it on/off.</p>\n<p>You may also uncomment &quot;enabled=true&quot; to always run in debug mode without passing --debug-jvm.</p>\n"}],"owner":{"account_id":2837108,"reputation":27339,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6823,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1688595817,"creation_date":1542396005,"question_id":53344114,"body_markdown":"I want to debug some JVM instances that are running at the same time. I know that I can run gradle using `--debug-jvm` so that the JVM will wait until I start the IDE debugger so that it connects to the JVM but it uses port 5005 by default. That&#39;s fine for debugging one instance of JVM... but if I want to debug more than one instance, I&#39;ll need to define a different port from 5005. How can I achieve this with gradle?","title":"gradle: change default port from 5005","body":"<p>I want to debug some JVM instances that are running at the same time. I know that I can run gradle using <code>--debug-jvm</code> so that the JVM will wait until I start the IDE debugger so that it connects to the JVM but it uses port 5005 by default. That's fine for debugging one instance of JVM... but if I want to debug more than one instance, I'll need to define a different port from 5005. How can I achieve this with gradle?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1688595783,"post_id":76624341,"comment_id":135096420,"body_markdown":"You&#39;re missing Swing layout managers.  Null layouts lead to nothing but trouble.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.","body":"You&#39;re missing Swing layout managers.  Null layouts lead to nothing but trouble.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1688596424,"post_id":76624341,"comment_id":135096482,"body_markdown":"Construct and manipulate Swing GUI objects _only_ on the [event dispatch thread](https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html).","body":"Construct and manipulate Swing GUI objects <i>only</i> on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\">event dispatch thread</a>."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1688599567,"post_id":76624341,"comment_id":135096766,"body_markdown":"`frame.setLayout(null);` isn&#39;t helping you, but the &quot;delay&quot; isn&#39;t really something you can get rid of, it&#39;s a side effect of the underlying system spinning up","body":"<code>frame.setLayout(null);</code> isn&#39;t helping you, but the &quot;delay&quot; isn&#39;t really something you can get rid of, it&#39;s a side effect of the underlying system spinning up"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1688600104,"post_id":76624341,"comment_id":135096823,"body_markdown":"Using null layouts is a recipe for disaster. It may seem to a newbie the easier way to create a GUI, but it leads to creation of rigid, hard to debug, enhance and change GUI&#39;s and it fights against the way that the Swing library is built to be used. For your benefit and ours, best to learn about the layout managers and then use them. Note that you can (and should) nest JPanels, each that use its own layout manager.","body":"Using null layouts is a recipe for disaster. It may seem to a newbie the easier way to create a GUI, but it leads to creation of rigid, hard to debug, enhance and change GUI&#39;s and it fights against the way that the Swing library is built to be used. For your benefit and ours, best to learn about the layout managers and then use them. Note that you can (and should) nest JPanels, each that use its own layout manager."}],"owner":{"account_id":28958719,"reputation":1,"user_id":22181693,"display_name":"gfr08"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688594984,"creation_date":1688594984,"question_id":76624341,"body_markdown":"I am trying to learn Java Swing, and I&#39;ve been reading and watching tutorials. Something that keeps happening to me is that I will play my program, and the JFrame will be blank for a few seconds then my buttons, labels, panels, etc. will be added. Sometimes, it is instant. I don&#39;t know why it&#39;s happening. It seems like it is related to the layout. For instance, this code makes my components appear instantly:\r\n\r\n```\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Buttons {\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLayout(null);\r\n        frame.setSize(500, 500);\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setBackground(Color.PINK);\r\n        panel.setBounds(0, 0, 250, 250);\r\n\r\n        JButton button = new JButton(&quot;Bruno&quot;);\r\n        button.addActionListener(e -&gt; System.out.println(&quot;Bruno&quot;));\r\n        \r\n        panel.add(button);\r\n        frame.add(panel);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nHowever, when I change the layout of the panel in the following code, my components do not show up for a few seconds:\r\n\r\n```\r\nimport java.awt.Color;\r\n\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Buttons {\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setLayout(null);\r\n        frame.setSize(500, 500);\r\n\r\n        JPanel panel = new JPanel();\r\n        panel.setBackground(Color.PINK);\r\n        panel.setBounds(0, 0, 250, 250);\r\n        panel.setLayout(null);\r\n\r\n        JButton button = new JButton(&quot;Bruno&quot;);\r\n        button.setBounds(75, 75, 100, 100);\r\n        button.addActionListener(e -&gt; System.out.println(&quot;Bruno&quot;));\r\n        \r\n        panel.add(button);\r\n        frame.add(panel);\r\n        frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nAny help with why this is happening would be appreciated.\r\n\r\nWhen I switch my layouts of the panel or even the frame, it changes. Sometimes my components appear as I want them, but sometimes it takes a few seconds for them to appear (after a blank JFrame appears). I&#39;m very new to Java Swing, so is there something that I&#39;m missing when it comes to displaying the JFrame?","title":"JFrame appears blank then JComponents appear after a few seconds. How do I stop this?","body":"<p>I am trying to learn Java Swing, and I've been reading and watching tutorials. Something that keeps happening to me is that I will play my program, and the JFrame will be blank for a few seconds then my buttons, labels, panels, etc. will be added. Sometimes, it is instant. I don't know why it's happening. It seems like it is related to the layout. For instance, this code makes my components appear instantly:</p>\n<pre><code>import java.awt.Color;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Buttons {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLayout(null);\n        frame.setSize(500, 500);\n\n        JPanel panel = new JPanel();\n        panel.setBackground(Color.PINK);\n        panel.setBounds(0, 0, 250, 250);\n\n        JButton button = new JButton(&quot;Bruno&quot;);\n        button.addActionListener(e -&gt; System.out.println(&quot;Bruno&quot;));\n        \n        panel.add(button);\n        frame.add(panel);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>However, when I change the layout of the panel in the following code, my components do not show up for a few seconds:</p>\n<pre><code>import java.awt.Color;\n\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Buttons {\n    public static void main(String[] args) {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setLayout(null);\n        frame.setSize(500, 500);\n\n        JPanel panel = new JPanel();\n        panel.setBackground(Color.PINK);\n        panel.setBounds(0, 0, 250, 250);\n        panel.setLayout(null);\n\n        JButton button = new JButton(&quot;Bruno&quot;);\n        button.setBounds(75, 75, 100, 100);\n        button.addActionListener(e -&gt; System.out.println(&quot;Bruno&quot;));\n        \n        panel.add(button);\n        frame.add(panel);\n        frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>Any help with why this is happening would be appreciated.</p>\n<p>When I switch my layouts of the panel or even the frame, it changes. Sometimes my components appear as I want them, but sometimes it takes a few seconds for them to appear (after a blank JFrame appears). I'm very new to Java Swing, so is there something that I'm missing when it comes to displaying the JFrame?</p>\n"},{"tags":["java","android","firebase","3d","stl-format"],"answers":[{"tags":[],"owner":{"account_id":10158709,"reputation":943,"user_id":7502914,"display_name":"Timmy Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688594480,"creation_date":1688594480,"answer_id":76624302,"question_id":76623212,"body_markdown":"You are binding the array to the vertexAttribPointer the wrong way. Here is your code.\r\n\r\n```\r\nGLES20.glEnableVertexAttribArray(positionHandle);\r\nGLES20.glVertexAttribPointer(positionHandle, 3, GLES20.GL_FLOAT, false, 0, --&gt; vertexBuffer &lt;--);\r\n```\r\n\r\nThe vertexBuffer should be bound using `glBindBuffer(GL_ARRAY_BUFFER, vertexBuffer)`\r\n\r\nAnd the last parameter in `glVertexAttribPointer` is actually meant for `offset`.\r\n\r\n---\r\n\r\nFix:\r\n---\r\nAssuming offset = 0. Fixed version would be:\r\n```\r\nGLES20.glBindBuffer(GL_ARRAY_BUFFER, vertexBuffer)\r\nGLES20.glEnableVertexAttribArray(positionHandle);\r\nGLES20.glVertexAttribPointer(positionHandle, 3, GLES20.GL_FLOAT, false, 0, 0);\r\n```\r\n\r\nNow the call to `GLES20.glDrawArrays` in your `OnDrawFrame()` should be able to access the buffer.","title":"Android Studio (java) OpenGL ES 3D Model in STL Format","body":"<p>You are binding the array to the vertexAttribPointer the wrong way. Here is your code.</p>\n<pre><code>GLES20.glEnableVertexAttribArray(positionHandle);\nGLES20.glVertexAttribPointer(positionHandle, 3, GLES20.GL_FLOAT, false, 0, --&gt; vertexBuffer &lt;--);\n</code></pre>\n<p>The vertexBuffer should be bound using <code>glBindBuffer(GL_ARRAY_BUFFER, vertexBuffer)</code></p>\n<p>And the last parameter in <code>glVertexAttribPointer</code> is actually meant for <code>offset</code>.</p>\n<hr />\n<h2>Fix:</h2>\n<p>Assuming offset = 0. Fixed version would be:</p>\n<pre><code>GLES20.glBindBuffer(GL_ARRAY_BUFFER, vertexBuffer)\nGLES20.glEnableVertexAttribArray(positionHandle);\nGLES20.glVertexAttribPointer(positionHandle, 3, GLES20.GL_FLOAT, false, 0, 0);\n</code></pre>\n<p>Now the call to <code>GLES20.glDrawArrays</code> in your <code>OnDrawFrame()</code> should be able to access the buffer.</p>\n"}],"owner":{"account_id":28821573,"reputation":1,"user_id":22073989,"display_name":"ALVIN "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688594480,"creation_date":1688582590,"question_id":76623212,"body_markdown":"I&#39;m having difficulties in displaying the 3D mesh model using the STL (binary) file I have in my Android Studio project. The below is my current code for the 3D model visualization activity.\r\n\r\n\r\n```\r\npackage com.example.structurefrommotion;\r\n\r\nimport android.app.ActivityManager;\r\nimport android.content.Context;\r\nimport android.content.pm.ConfigurationInfo;\r\nimport android.opengl.GLES20;\r\nimport android.opengl.GLSurfaceView;\r\nimport android.os.Bundle;\r\nimport android.util.Base64;\r\nimport android.util.Log;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.firestore.DocumentSnapshot;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.nio.ByteBuffer;\r\nimport java.nio.ByteOrder;\r\nimport java.nio.FloatBuffer;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport javax.microedition.khronos.egl.EGLConfig;\r\nimport javax.microedition.khronos.opengles.GL10;\r\n\r\npublic class MeshVisualizationActivity extends AppCompatActivity {\r\n\r\n    private GLSurfaceView glSurfaceView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        if (!isSupportedOpenGLES2()) {\r\n            // Log the result\r\n            Log.e(&quot;OpenGLCheck&quot;, &quot;OpenGL ES 2.0 is not supported on this device&quot;);\r\n            // Optionally, display a message to the user or handle this case in another way.\r\n            return;\r\n        }\r\n\r\n        glSurfaceView = new GLSurfaceView(this);\r\n        glSurfaceView.setEGLContextClientVersion(2); // Using OpenGL ES 2.0\r\n        glSurfaceView.setRenderer(new MeshRenderer());\r\n        glSurfaceView.setRenderMode(GLSurfaceView.RENDERMODE_CONTINUOUSLY); // Set render mode\r\n        setContentView(glSurfaceView);\r\n    }\r\n\r\n    private boolean isSupportedOpenGLES2() {\r\n        ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\r\n        ConfigurationInfo configurationInfo = activityManager.getDeviceConfigurationInfo();\r\n        return configurationInfo.reqGlEsVersion &gt;= 0x20000;\r\n    }\r\n\r\n\r\n    private class MeshRenderer implements GLSurfaceView.Renderer {\r\n\r\n        private void checkGlError(String op) {\r\n            int error;\r\n            while ((error = GLES20.glGetError()) != GLES20.GL_NO_ERROR) {\r\n                Log.e(&quot;MeshVisualization&quot;, op + &quot;: glError &quot; + error);\r\n                throw new RuntimeException(op + &quot;: glError &quot; + error);\r\n            }\r\n        }\r\n        private final String vertexShaderCode =\r\n                &quot;attribute vec4 vPosition;&quot; +\r\n                        &quot;void main() {&quot; +\r\n                        &quot;  gl_Position = vPosition;&quot; +\r\n                        &quot;}&quot;;\r\n\r\n        private final String fragmentShaderCode =\r\n                &quot;precision mediump float;&quot; +\r\n                        &quot;uniform vec4 vColor;&quot; +\r\n                        &quot;void main() {&quot; +\r\n                        &quot;  gl_FragColor = vColor;&quot; +\r\n                        &quot;}&quot;;\r\n\r\n        private int program;\r\n        private int numberOfVertices;\r\n\r\n        @Override\r\n        public void onSurfaceCreated(GL10 gl, EGLConfig config) {\r\n            GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\r\n            GLES20.glEnable(GLES20.GL_DEPTH_TEST);\r\n            checkGlError(&quot;glEnable depth test&quot;);\r\n\r\n            // Create OpenGL program\r\n            program = createProgram(vertexShaderCode, fragmentShaderCode);\r\n            checkGlError(&quot;create program&quot;);\r\n            GLES20.glUseProgram(program);\r\n            checkGlError(&quot;use program&quot;);\r\n\r\n            // Retrieve the model data from Firestore\r\n            String projectName = getIntent().getStringExtra(&quot;projectName&quot;);\r\n            FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n            db.collection(&quot;meshes&quot;).document(projectName)\r\n                    .get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\r\n                        @Override\r\n                        public void onSuccess(DocumentSnapshot documentSnapshot) {\r\n                            final String meshDataB64 = documentSnapshot.getString(&quot;mesh_data&quot;);\r\n\r\n                            // Log the retrieved base64 string to console\r\n                            Log.d(&quot;MeshVisualization&quot;, &quot;Retrieved mesh data (base64): &quot; + meshDataB64);\r\n\r\n                            // Decoding and OpenGL calls should be done on the GLSurfaceView&#39;s thread\r\n                            glSurfaceView.queueEvent(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    byte[] meshDataBinary = android.util.Base64.decode(meshDataB64, android.util.Base64.DEFAULT);\r\n\r\n                                    // Log the size of the decoded binary data\r\n                                    Log.d(&quot;MeshVisualization&quot;, &quot;Size of decoded binary data: &quot; + meshDataBinary.length + &quot; bytes&quot;);\r\n\r\n                                    List&lt;Float&gt; vertices = parseStlBinary(meshDataBinary);\r\n                                    numberOfVertices = vertices.size() / 3;\r\n\r\n                                    // Log the number of vertices parsed\r\n                                    Log.d(&quot;MeshVisualization&quot;, &quot;Number of vertices parsed: &quot; + numberOfVertices);\r\n\r\n                                    // Load vertices into a buffer\r\n                                    FloatBuffer vertexBuffer = ByteBuffer.allocateDirect(vertices.size() * 4)\r\n                                            .order(ByteOrder.nativeOrder())\r\n                                            .asFloatBuffer();\r\n                                    for (float vertex : vertices) {\r\n                                        vertexBuffer.put(vertex);\r\n                                    }\r\n                                    vertexBuffer.position(0);\r\n\r\n                                    // Pass the buffer to OpenGL\r\n                                    int positionHandle = GLES20.glGetAttribLocation(program, &quot;vPosition&quot;);\r\n                                    // Check if the attribute location is -1\r\n                                    if (positionHandle == -1) {\r\n                                        Log.e(&quot;MeshVisualization&quot;, &quot;Attribute &#39;vPosition&#39; not found in the shader code or is not being used.&quot;);\r\n                                        return; // You can also handle this case differently if you like\r\n                                    }\r\n                                    GLES20.glEnableVertexAttribArray(positionHandle);\r\n                                    GLES20.glVertexAttribPointer(positionHandle, 3, GLES20.GL_FLOAT, false, 0, vertexBuffer);\r\n\r\n                                    // Set color for drawing the triangle\r\n                                    int colorHandle = GLES20.glGetUniformLocation(program, &quot;vColor&quot;);\r\n                                    if (colorHandle == -1) {\r\n                                        Log.e(&quot;MeshVisualization&quot;, &quot;Uniform &#39;vColor&#39; not found in the shader code or is not being used.&quot;);\r\n                                        return; // You can also handle this case differently if you like\r\n                                    }\r\n                                    GLES20.glUniform4fv(colorHandle, 1, new float[]{0.63671875f, 0.76953125f, 0.22265625f, 1.0f}, 0);\r\n                                }\r\n                            });\r\n                        }\r\n                    });\r\n        }\r\n\r\n\r\n        @Override\r\n        public void onDrawFrame(GL10 gl) {\r\n            GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT | GLES20.GL_DEPTH_BUFFER_BIT);\r\n            checkGlError(&quot;glClear&quot;);\r\n\r\n            // Draw the triangles\r\n            GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, numberOfVertices);\r\n            checkGlError(&quot;glDrawArrays&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onSurfaceChanged(GL10 gl, int width, int height) {\r\n            GLES20.glViewport(0, 0, width, height);\r\n        }\r\n\r\n        private int loadShader(int type, String shaderCode) {\r\n            int shader = GLES20.glCreateShader(type);\r\n            GLES20.glShaderSource(shader, shaderCode);\r\n            GLES20.glCompileShader(shader);\r\n\r\n            // Check shader compilation status\r\n            int[] compiled = new int[1];\r\n            GLES20.glGetShaderiv(shader, GLES20.GL_COMPILE_STATUS, compiled, 0);\r\n            if (compiled[0] == 0) {\r\n                String error = GLES20.glGetShaderInfoLog(shader);\r\n                GLES20.glDeleteShader(shader);\r\n                throw new RuntimeException(&quot;Shader not compiled: &quot; + error);\r\n            }\r\n\r\n            return shader;\r\n        }\r\n\r\n        private int createProgram(String vertexSource, String fragmentSource) {\r\n            int vertexShader = loadShader(GLES20.GL_VERTEX_SHADER, vertexSource);\r\n            int fragmentShader = loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentSource);\r\n            int program = GLES20.glCreateProgram();\r\n            GLES20.glAttachShader(program, vertexShader);\r\n            GLES20.glAttachShader(program, fragmentShader);\r\n            GLES20.glLinkProgram(program);\r\n\r\n            // Check program linking status\r\n            int[] linked = new int[1];\r\n            GLES20.glGetProgramiv(program, GLES20.GL_LINK_STATUS, linked, 0);\r\n            if (linked[0] == 0) {\r\n                String error = GLES20.glGetProgramInfoLog(program);\r\n                GLES20.glDeleteProgram(program);\r\n                throw new RuntimeException(&quot;Program not linked: &quot; + error);\r\n            }\r\n\r\n            return program;\r\n        }\r\n\r\n        private List&lt;Float&gt; parseStlBinary(byte[] meshDataBinary) {\r\n            List&lt;Float&gt; vertices = new ArrayList&lt;&gt;();\r\n            ByteBuffer buffer = ByteBuffer.wrap(meshDataBinary);\r\n            buffer.order(ByteOrder.LITTLE_ENDIAN);\r\n            buffer.position(84); // Skip 80-byte header and number of triangles (4 bytes)\r\n\r\n            while (buffer.remaining() &gt; 0) {\r\n                // Skip normal (3 floats)\r\n                buffer.getFloat();\r\n                buffer.getFloat();\r\n                buffer.getFloat();\r\n\r\n                // Get vertices (3 floats per vertex, 3 vertices per triangle)\r\n                for (int i = 0; i &lt; 9; i++) {\r\n                    vertices.add(buffer.getFloat());\r\n                }\r\n\r\n                // Skip attribute byte count (2 bytes)\r\n                buffer.getShort();\r\n            }\r\n            return vertices;\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nAfter running the application and get to the activity file above, all I see is a black screen without the 3D mesh model displayed, they were no errors for this activity file as well. I have checked the data retrieved as well and it is all there and the vertices were parsed with no issue. Anyone knows what is preventing the 3D mesh model to be displayed?","title":"Android Studio (java) OpenGL ES 3D Model in STL Format","body":"<p>I'm having difficulties in displaying the 3D mesh model using the STL (binary) file I have in my Android Studio project. The below is my current code for the 3D model visualization activity.</p>\n<pre><code>package com.example.structurefrommotion;\n\nimport android.app.ActivityManager;\nimport android.content.Context;\nimport android.content.pm.ConfigurationInfo;\nimport android.opengl.GLES20;\nimport android.opengl.GLSurfaceView;\nimport android.os.Bundle;\nimport android.util.Base64;\nimport android.util.Log;\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.firebase.firestore.DocumentSnapshot;\nimport com.google.firebase.firestore.FirebaseFirestore;\n\nimport java.nio.ByteBuffer;\nimport java.nio.ByteOrder;\nimport java.nio.FloatBuffer;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport javax.microedition.khronos.egl.EGLConfig;\nimport javax.microedition.khronos.opengles.GL10;\n\npublic class MeshVisualizationActivity extends AppCompatActivity {\n\n    private GLSurfaceView glSurfaceView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        if (!isSupportedOpenGLES2()) {\n            // Log the result\n            Log.e(&quot;OpenGLCheck&quot;, &quot;OpenGL ES 2.0 is not supported on this device&quot;);\n            // Optionally, display a message to the user or handle this case in another way.\n            return;\n        }\n\n        glSurfaceView = new GLSurfaceView(this);\n        glSurfaceView.setEGLContextClientVersion(2); // Using OpenGL ES 2.0\n        glSurfaceView.setRenderer(new MeshRenderer());\n        glSurfaceView.setRenderMode(GLSurfaceView.RENDERMODE_CONTINUOUSLY); // Set render mode\n        setContentView(glSurfaceView);\n    }\n\n    private boolean isSupportedOpenGLES2() {\n        ActivityManager activityManager = (ActivityManager) getSystemService(Context.ACTIVITY_SERVICE);\n        ConfigurationInfo configurationInfo = activityManager.getDeviceConfigurationInfo();\n        return configurationInfo.reqGlEsVersion &gt;= 0x20000;\n    }\n\n\n    private class MeshRenderer implements GLSurfaceView.Renderer {\n\n        private void checkGlError(String op) {\n            int error;\n            while ((error = GLES20.glGetError()) != GLES20.GL_NO_ERROR) {\n                Log.e(&quot;MeshVisualization&quot;, op + &quot;: glError &quot; + error);\n                throw new RuntimeException(op + &quot;: glError &quot; + error);\n            }\n        }\n        private final String vertexShaderCode =\n                &quot;attribute vec4 vPosition;&quot; +\n                        &quot;void main() {&quot; +\n                        &quot;  gl_Position = vPosition;&quot; +\n                        &quot;}&quot;;\n\n        private final String fragmentShaderCode =\n                &quot;precision mediump float;&quot; +\n                        &quot;uniform vec4 vColor;&quot; +\n                        &quot;void main() {&quot; +\n                        &quot;  gl_FragColor = vColor;&quot; +\n                        &quot;}&quot;;\n\n        private int program;\n        private int numberOfVertices;\n\n        @Override\n        public void onSurfaceCreated(GL10 gl, EGLConfig config) {\n            GLES20.glClearColor(0.0f, 0.0f, 0.0f, 1.0f);\n            GLES20.glEnable(GLES20.GL_DEPTH_TEST);\n            checkGlError(&quot;glEnable depth test&quot;);\n\n            // Create OpenGL program\n            program = createProgram(vertexShaderCode, fragmentShaderCode);\n            checkGlError(&quot;create program&quot;);\n            GLES20.glUseProgram(program);\n            checkGlError(&quot;use program&quot;);\n\n            // Retrieve the model data from Firestore\n            String projectName = getIntent().getStringExtra(&quot;projectName&quot;);\n            FirebaseFirestore db = FirebaseFirestore.getInstance();\n            db.collection(&quot;meshes&quot;).document(projectName)\n                    .get().addOnSuccessListener(new OnSuccessListener&lt;DocumentSnapshot&gt;() {\n                        @Override\n                        public void onSuccess(DocumentSnapshot documentSnapshot) {\n                            final String meshDataB64 = documentSnapshot.getString(&quot;mesh_data&quot;);\n\n                            // Log the retrieved base64 string to console\n                            Log.d(&quot;MeshVisualization&quot;, &quot;Retrieved mesh data (base64): &quot; + meshDataB64);\n\n                            // Decoding and OpenGL calls should be done on the GLSurfaceView's thread\n                            glSurfaceView.queueEvent(new Runnable() {\n                                @Override\n                                public void run() {\n                                    byte[] meshDataBinary = android.util.Base64.decode(meshDataB64, android.util.Base64.DEFAULT);\n\n                                    // Log the size of the decoded binary data\n                                    Log.d(&quot;MeshVisualization&quot;, &quot;Size of decoded binary data: &quot; + meshDataBinary.length + &quot; bytes&quot;);\n\n                                    List&lt;Float&gt; vertices = parseStlBinary(meshDataBinary);\n                                    numberOfVertices = vertices.size() / 3;\n\n                                    // Log the number of vertices parsed\n                                    Log.d(&quot;MeshVisualization&quot;, &quot;Number of vertices parsed: &quot; + numberOfVertices);\n\n                                    // Load vertices into a buffer\n                                    FloatBuffer vertexBuffer = ByteBuffer.allocateDirect(vertices.size() * 4)\n                                            .order(ByteOrder.nativeOrder())\n                                            .asFloatBuffer();\n                                    for (float vertex : vertices) {\n                                        vertexBuffer.put(vertex);\n                                    }\n                                    vertexBuffer.position(0);\n\n                                    // Pass the buffer to OpenGL\n                                    int positionHandle = GLES20.glGetAttribLocation(program, &quot;vPosition&quot;);\n                                    // Check if the attribute location is -1\n                                    if (positionHandle == -1) {\n                                        Log.e(&quot;MeshVisualization&quot;, &quot;Attribute 'vPosition' not found in the shader code or is not being used.&quot;);\n                                        return; // You can also handle this case differently if you like\n                                    }\n                                    GLES20.glEnableVertexAttribArray(positionHandle);\n                                    GLES20.glVertexAttribPointer(positionHandle, 3, GLES20.GL_FLOAT, false, 0, vertexBuffer);\n\n                                    // Set color for drawing the triangle\n                                    int colorHandle = GLES20.glGetUniformLocation(program, &quot;vColor&quot;);\n                                    if (colorHandle == -1) {\n                                        Log.e(&quot;MeshVisualization&quot;, &quot;Uniform 'vColor' not found in the shader code or is not being used.&quot;);\n                                        return; // You can also handle this case differently if you like\n                                    }\n                                    GLES20.glUniform4fv(colorHandle, 1, new float[]{0.63671875f, 0.76953125f, 0.22265625f, 1.0f}, 0);\n                                }\n                            });\n                        }\n                    });\n        }\n\n\n        @Override\n        public void onDrawFrame(GL10 gl) {\n            GLES20.glClear(GLES20.GL_COLOR_BUFFER_BIT | GLES20.GL_DEPTH_BUFFER_BIT);\n            checkGlError(&quot;glClear&quot;);\n\n            // Draw the triangles\n            GLES20.glDrawArrays(GLES20.GL_TRIANGLES, 0, numberOfVertices);\n            checkGlError(&quot;glDrawArrays&quot;);\n        }\n\n        @Override\n        public void onSurfaceChanged(GL10 gl, int width, int height) {\n            GLES20.glViewport(0, 0, width, height);\n        }\n\n        private int loadShader(int type, String shaderCode) {\n            int shader = GLES20.glCreateShader(type);\n            GLES20.glShaderSource(shader, shaderCode);\n            GLES20.glCompileShader(shader);\n\n            // Check shader compilation status\n            int[] compiled = new int[1];\n            GLES20.glGetShaderiv(shader, GLES20.GL_COMPILE_STATUS, compiled, 0);\n            if (compiled[0] == 0) {\n                String error = GLES20.glGetShaderInfoLog(shader);\n                GLES20.glDeleteShader(shader);\n                throw new RuntimeException(&quot;Shader not compiled: &quot; + error);\n            }\n\n            return shader;\n        }\n\n        private int createProgram(String vertexSource, String fragmentSource) {\n            int vertexShader = loadShader(GLES20.GL_VERTEX_SHADER, vertexSource);\n            int fragmentShader = loadShader(GLES20.GL_FRAGMENT_SHADER, fragmentSource);\n            int program = GLES20.glCreateProgram();\n            GLES20.glAttachShader(program, vertexShader);\n            GLES20.glAttachShader(program, fragmentShader);\n            GLES20.glLinkProgram(program);\n\n            // Check program linking status\n            int[] linked = new int[1];\n            GLES20.glGetProgramiv(program, GLES20.GL_LINK_STATUS, linked, 0);\n            if (linked[0] == 0) {\n                String error = GLES20.glGetProgramInfoLog(program);\n                GLES20.glDeleteProgram(program);\n                throw new RuntimeException(&quot;Program not linked: &quot; + error);\n            }\n\n            return program;\n        }\n\n        private List&lt;Float&gt; parseStlBinary(byte[] meshDataBinary) {\n            List&lt;Float&gt; vertices = new ArrayList&lt;&gt;();\n            ByteBuffer buffer = ByteBuffer.wrap(meshDataBinary);\n            buffer.order(ByteOrder.LITTLE_ENDIAN);\n            buffer.position(84); // Skip 80-byte header and number of triangles (4 bytes)\n\n            while (buffer.remaining() &gt; 0) {\n                // Skip normal (3 floats)\n                buffer.getFloat();\n                buffer.getFloat();\n                buffer.getFloat();\n\n                // Get vertices (3 floats per vertex, 3 vertices per triangle)\n                for (int i = 0; i &lt; 9; i++) {\n                    vertices.add(buffer.getFloat());\n                }\n\n                // Skip attribute byte count (2 bytes)\n                buffer.getShort();\n            }\n            return vertices;\n        }\n    }\n}\n\n</code></pre>\n<p>After running the application and get to the activity file above, all I see is a black screen without the 3D mesh model displayed, they were no errors for this activity file as well. I have checked the data retrieved as well and it is all there and the vertices were parsed with no issue. Anyone knows what is preventing the 3D mesh model to be displayed?</p>\n"},{"tags":["java","arrays","jackson","deserialization","fasterxml"],"answers":[{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640085926,"creation_date":1640085926,"answer_id":70434675,"question_id":70428354,"body_markdown":"The problem here is the presence of the `&lt;StorageParameters Key=&quot;x&quot; Value=&quot;***&quot;/&gt;` tag: the jackson library expects in a list to deserialize only the presence of *n* `&lt;Parameter/&gt;` equal tags but instead finds a different tag and consequently decides to interpret the list as distinct properties, so the last ` &lt;Parameter Key=&quot;d&quot; Value=&quot;4&quot;/&gt;` overwrites the previous values of the `Parameter` property and then the strange behaviour (the other `StorageParameters` is ignored cause the `JsonIgnoreProperties(ignoreUnknown = true)` annotation in the `Operator` class).\r\n\r\nTo avoid this behaviour you can delete the undesired `StorageParameters` and deserialize your xml parsing the old xml and creating a new one without the undesired tag like below :\r\n\r\n~~~\r\nDocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\r\nDocumentBuilder db = dbf.newDocumentBuilder();\r\nDocument doc = db.parse(new FileInputStream(xml));\r\nNode node = doc.getElementsByTagName(&quot;StorageParameters&quot;).item(0);\r\nnode.getParentNode().removeChild(node);\r\nTransformerFactory tf = TransformerFactory.newInstance();\r\nTransformer t = tf.newTransformer();\r\nStringWriter writer = new StringWriter();\r\nt.transform(new DOMSource(doc), new StreamResult(writer));\r\nString result = writer.getBuffer().toString();\r\nOperator value = mapper.readValue(result, Operator.class);\r\n~~~\r\n\r\nYou have to use the `JacksonXmlProperty(isAttribute = true)` annotation in your `Parameter` to indicate that values are attributes:\r\n\r\n~~~\r\n@Data\r\npublic class Parameter {\r\n\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private String Key;\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private String Value;\r\n}\r\n\r\n@Data\r\npublic class Operator {\r\n\r\n    @JacksonXmlProperty(localName = &quot;Parameter&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    private List&lt;Parameter&gt; parameters;\r\n}\r\n~~~\r\n\r\n","title":"Jackson xml deserializing inline array that is not contiguous","body":"<p>The problem here is the presence of the <code>&lt;StorageParameters Key=&quot;x&quot; Value=&quot;***&quot;/&gt;</code> tag: the jackson library expects in a list to deserialize only the presence of <em>n</em> <code>&lt;Parameter/&gt;</code> equal tags but instead finds a different tag and consequently decides to interpret the list as distinct properties, so the last <code> &lt;Parameter Key=&quot;d&quot; Value=&quot;4&quot;/&gt;</code> overwrites the previous values of the <code>Parameter</code> property and then the strange behaviour (the other <code>StorageParameters</code> is ignored cause the <code>JsonIgnoreProperties(ignoreUnknown = true)</code> annotation in the <code>Operator</code> class).</p>\n<p>To avoid this behaviour you can delete the undesired <code>StorageParameters</code> and deserialize your xml parsing the old xml and creating a new one without the undesired tag like below :</p>\n<pre><code>DocumentBuilderFactory dbf = DocumentBuilderFactory.newInstance();\nDocumentBuilder db = dbf.newDocumentBuilder();\nDocument doc = db.parse(new FileInputStream(xml));\nNode node = doc.getElementsByTagName(&quot;StorageParameters&quot;).item(0);\nnode.getParentNode().removeChild(node);\nTransformerFactory tf = TransformerFactory.newInstance();\nTransformer t = tf.newTransformer();\nStringWriter writer = new StringWriter();\nt.transform(new DOMSource(doc), new StreamResult(writer));\nString result = writer.getBuffer().toString();\nOperator value = mapper.readValue(result, Operator.class);\n</code></pre>\n<p>You have to use the <code>JacksonXmlProperty(isAttribute = true)</code> annotation in your <code>Parameter</code> to indicate that values are attributes:</p>\n<pre><code>@Data\npublic class Parameter {\n\n    @JacksonXmlProperty(isAttribute = true)\n    private String Key;\n    @JacksonXmlProperty(isAttribute = true)\n    private String Value;\n}\n\n@Data\npublic class Operator {\n\n    @JacksonXmlProperty(localName = &quot;Parameter&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;Parameter&gt; parameters;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18100395,"reputation":21,"user_id":13158298,"display_name":"Neil Villamizar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688594266,"creation_date":1688594266,"answer_id":76624290,"question_id":70428354,"body_markdown":"You could use `@JsonMerge` as used here: https://stackoverflow.com/questions/57251726/how-to-deserealize-multiple-nested-elements-in-jackson\r\n\r\nIn your case:\r\n```java\r\n@Data\r\npublic class Parameter {\r\n\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private String Key;\r\n    @JacksonXmlProperty(isAttribute = true)\r\n    private String Value;\r\n}\r\n\r\n@Data\r\npublic class Operator {\r\n\r\n    @JacksonXmlProperty(localName = &quot;Parameter&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    @JsonMerge                                     // this should solve your problem\r\n    private List&lt;Parameter&gt; parameters;\r\n}\r\n```\r\n","title":"Jackson xml deserializing inline array that is not contiguous","body":"<p>You could use <code>@JsonMerge</code> as used here: <a href=\"https://stackoverflow.com/questions/57251726/how-to-deserealize-multiple-nested-elements-in-jackson\">How to deserealize multiple nested elements in Jackson?</a></p>\n<p>In your case:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Parameter {\n\n    @JacksonXmlProperty(isAttribute = true)\n    private String Key;\n    @JacksonXmlProperty(isAttribute = true)\n    private String Value;\n}\n\n@Data\npublic class Operator {\n\n    @JacksonXmlProperty(localName = &quot;Parameter&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    @JsonMerge                                     // this should solve your problem\n    private List&lt;Parameter&gt; parameters;\n}\n</code></pre>\n"}],"owner":{"account_id":4567547,"reputation":1327,"user_id":3708175,"accept_rate":80,"display_name":"sramalingam24"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70434675,"answer_count":2,"score":0,"last_activity_date":1688594266,"creation_date":1640036352,"question_id":70428354,"body_markdown":"I have some strange xml I am trying deserialize to java objects\r\n\r\n```\r\n&lt;Operator&gt;\r\n    &lt;Parameter Key=&quot;a&quot; Value=&quot;1&quot;/&gt;\r\n    &lt;Parameter Key=&quot;b&quot; Value=&quot;2&quot;/&gt;\r\n    &lt;Parameter Key=&quot;c&quot; Value=&quot;3&quot;/&gt;\r\n    &lt;StorageParameters Key=&quot;x&quot; Value=&quot;***&quot;/&gt;\r\n    &lt;Parameter Key=&quot;d&quot; Value=&quot;4&quot;/&gt;\r\n&lt;/Operator&gt;\r\n```\r\n\r\nI need to collect only the Parameter nodes as a list.\r\nI have written my java classes as follows\r\n\r\n```\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class Operator {\r\n  \r\n    @JacksonXmlProperty(localName=&quot;Parameter&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    private List&lt;Parameter&gt; parameters;\r\n\r\n   public Operator() {\r\n       this.parameters = List.of();\r\n   }\r\n\r\n   public List&lt;Parameter&gt; getParameters() {\r\n        return parameters;\r\n    }\r\n\r\n    public void setParameters(List&lt;Parameter&gt; parameters) {\r\n        this.parameters = parameters;\r\n    }\r\n}\r\n\r\n\r\npublic class Parameter {\r\n    private String Key;\r\n    private String Value;\r\n\r\n    public Parameter() {\r\n        Key = &quot;&quot;;\r\n        Value = &quot; &quot;;\r\n    }\r\n\r\n    public String getKey() {\r\n        return  Key;\r\n    }\r\n\r\n    public void setKey(String key) {\r\n        Key = key;\r\n    }\r\n\r\n    public String getValue() { return Value; }\r\n\r\n    public void setValue(String value) {\r\n        Value = value;\r\n    }\r\n}\r\n\r\n// Driver\r\n\r\nJacksonXmlModule module = new JacksonXmlModule();\r\nXmlMapper mapper = new XmlMapper(module);\r\n\r\nOperator bean = mapper.readValue(xmlText, classOf[Operator])\r\n```\r\n\r\nWhen I run this the only value returned by the parameters list is the last Parameter entry with Key=&quot;d&quot; and Value=&quot;4&quot;.\r\n\r\nIs this expected behavior? Is there any annotation I can use to get all the Parameter Key/Value pairs?\r\n\r\nThanks!","title":"Jackson xml deserializing inline array that is not contiguous","body":"<p>I have some strange xml I am trying deserialize to java objects</p>\n<pre><code>&lt;Operator&gt;\n    &lt;Parameter Key=&quot;a&quot; Value=&quot;1&quot;/&gt;\n    &lt;Parameter Key=&quot;b&quot; Value=&quot;2&quot;/&gt;\n    &lt;Parameter Key=&quot;c&quot; Value=&quot;3&quot;/&gt;\n    &lt;StorageParameters Key=&quot;x&quot; Value=&quot;***&quot;/&gt;\n    &lt;Parameter Key=&quot;d&quot; Value=&quot;4&quot;/&gt;\n&lt;/Operator&gt;\n</code></pre>\n<p>I need to collect only the Parameter nodes as a list.\nI have written my java classes as follows</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class Operator {\n  \n    @JacksonXmlProperty(localName=&quot;Parameter&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;Parameter&gt; parameters;\n\n   public Operator() {\n       this.parameters = List.of();\n   }\n\n   public List&lt;Parameter&gt; getParameters() {\n        return parameters;\n    }\n\n    public void setParameters(List&lt;Parameter&gt; parameters) {\n        this.parameters = parameters;\n    }\n}\n\n\npublic class Parameter {\n    private String Key;\n    private String Value;\n\n    public Parameter() {\n        Key = &quot;&quot;;\n        Value = &quot; &quot;;\n    }\n\n    public String getKey() {\n        return  Key;\n    }\n\n    public void setKey(String key) {\n        Key = key;\n    }\n\n    public String getValue() { return Value; }\n\n    public void setValue(String value) {\n        Value = value;\n    }\n}\n\n// Driver\n\nJacksonXmlModule module = new JacksonXmlModule();\nXmlMapper mapper = new XmlMapper(module);\n\nOperator bean = mapper.readValue(xmlText, classOf[Operator])\n</code></pre>\n<p>When I run this the only value returned by the parameters list is the last Parameter entry with Key=&quot;d&quot; and Value=&quot;4&quot;.</p>\n<p>Is this expected behavior? Is there any annotation I can use to get all the Parameter Key/Value pairs?</p>\n<p>Thanks!</p>\n"},{"tags":["java","compare"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1688577317,"post_id":76622400,"comment_id":135093451,"body_markdown":"What do you mean by &quot;next&quot;?","body":"What do you mean by &quot;next&quot;?"}],"answers":[{"tags":[],"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688593789,"creation_date":1688593789,"answer_id":76624248,"question_id":76622400,"body_markdown":"I would solve it like this:\r\n\r\n    @Override\r\n    public int compareTo(Node node) {\r\n        if (this.nextId == null &amp;&amp; node.nextId == null) {\r\n            return 0; // when both elements have null as nextId\r\n        } else if (this.nextId == null || this.id.equals(node.nextId)) {\r\n            return 1; // when this one has null as nextId or is like the nextId of the other\r\n        } else if (node.nextId == null || this.nextId.equals(node.id)) {\r\n            return -1; // if the other one has null as nextId or the other one is the nextId\r\n        }\r\n        return this.id.compareTo(node.id); // otherwise compare the id attribute\r\n    }\r\n\r\nIf the `nextId` of the other one is null or it&#39;s `id` matches the `nextId` of the current object it will come after the current one.\r\nThe other way around the current object goes after when its own `nextId` is null or its `id` equals the `nextId` of the other one.\r\n\r\nIf none of the above applies I put a fallback strategy below which compares the `id`s of both objects, you can change that according to your requirements","title":"Sorting objects in compareTo","body":"<p>I would solve it like this:</p>\n<pre><code>@Override\npublic int compareTo(Node node) {\n    if (this.nextId == null &amp;&amp; node.nextId == null) {\n        return 0; // when both elements have null as nextId\n    } else if (this.nextId == null || this.id.equals(node.nextId)) {\n        return 1; // when this one has null as nextId or is like the nextId of the other\n    } else if (node.nextId == null || this.nextId.equals(node.id)) {\n        return -1; // if the other one has null as nextId or the other one is the nextId\n    }\n    return this.id.compareTo(node.id); // otherwise compare the id attribute\n}\n</code></pre>\n<p>If the <code>nextId</code> of the other one is null or it's <code>id</code> matches the <code>nextId</code> of the current object it will come after the current one.\nThe other way around the current object goes after when its own <code>nextId</code> is null or its <code>id</code> equals the <code>nextId</code> of the other one.</p>\n<p>If none of the above applies I put a fallback strategy below which compares the <code>id</code>s of both objects, you can change that according to your requirements</p>\n"}],"owner":{"account_id":28745118,"reputation":11,"user_id":22014464,"display_name":"Gleb"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688593789,"creation_date":1688575422,"question_id":76622400,"body_markdown":"There is a model of child parent relationships in the form of a tree structure.\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Node implements Comparable&lt;Node&gt; {\r\n\r\n    private UUID id;\r\n    private String name;\r\n    private UUID nextId;\r\n\r\n    private Node parent;\r\n    private SortedSet&lt;Node&gt; children = new TreeSet&lt;&gt;();\r\n\r\n    @Override\r\n    public int compareTo(Node node) {\r\n         ////?????\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe nextId field points to the object that should be next. If the nextId field is NULL, then this object must be the last one in the list.\r\nIt turns out that it is necessary to read the nextId field for each object, find this object and display it after the existing one. After all, this field can change, so sorting in ascending order will not work and other tricks.\r\n\r\nIs it possible to sort it at each level of the tree with such a condition in compareTo?","title":"Sorting objects in compareTo","body":"<p>There is a model of child parent relationships in the form of a tree structure.</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Node implements Comparable&lt;Node&gt; {\n\n    private UUID id;\n    private String name;\n    private UUID nextId;\n\n    private Node parent;\n    private SortedSet&lt;Node&gt; children = new TreeSet&lt;&gt;();\n\n    @Override\n    public int compareTo(Node node) {\n         ////?????\n    }\n\n}\n</code></pre>\n<p>The nextId field points to the object that should be next. If the nextId field is NULL, then this object must be the last one in the list.\nIt turns out that it is necessary to read the nextId field for each object, find this object and display it after the existing one. After all, this field can change, so sorting in ascending order will not work and other tricks.</p>\n<p>Is it possible to sort it at each level of the tree with such a condition in compareTo?</p>\n"},{"tags":["java","hibernate","annotations","annotation-processing"],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688593089,"creation_date":1688593089,"question_id":76624194,"body_markdown":"Due to a bug in `liquibase-hibernate` Java Bean Validation constraint annotations (e.g `@NotNull`, `@Size`) on Java Entity classes are not being mapped to any generated Liquibase changelogs:\r\n\r\nhttps://github.com/liquibase/liquibase-hibernate/issues/301\r\n\r\nI&#39;m wondering is it possible to generate a custom composite annotation during the compilation process?\r\n\r\nThe idea is that a new annotation named `@CustomColumnId` would be generated automatically based on the presence of the `@MyCustomAnnotation` annotation on the `ItemDTO` class, the same being done for all fields in the class.\r\n\r\n```java\r\nimport javax.validation.constraints.NotNull;\r\n\r\n@MyCustomAnnotation\r\npublic class ItemDTO {\r\n\r\n    @NotNull\r\n    public Long id;\r\n}\r\n```\r\n\r\nThe generated annotation would also contain the JPA `@Column` annotation and automatically set the `nullable` attribute based on the presence of `javax.validation.constraints.NotNull` on `id` and the `name` attribute to the field name.\r\n\r\nSomething generated like:\r\n\r\n```java\r\n@Generated\r\nclass Item_Constraints {\r\n    \r\n    @jakarta.validation.constraints.NotNull()\r\n    @jakarta.persistence.Column(name = &quot;id&quot;, nullable = false)\r\n    @Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\r\n    @Retention(RUNTIME)\r\n    @Documented\r\n    @jakarta.validation.Constraint(validatedBy = {})\r\n    public @interface CustomColumnId {\r\n        String message() default &quot;{my.package.Item_Constraints.message}&quot;;\r\n        Class&lt;?&gt;[] groups() default { };\r\n        Class&lt;? extends jakarta.validation.Payload&gt;[] payload() default { };\r\n    }\r\n\r\n}\r\n```\r\n\r\nThen the developer can update their Java Entity to be:\r\n\r\n```java\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\npublic class ItemEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @CustomColumnId\r\n    private Long id;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```\r\n\r\nEssentially preventing developers from having to duplicate their constraint information across both DTO and Java Entity.\r\n\r\nOriginal Java Entity:\r\n\r\n```java\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\npublic class ItemEntity {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    public Long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n}\r\n```","title":"Possible to automatically generate a custom composite annotation for use on a Java Entity field containing a populated @Column annotation","body":"<p>Due to a bug in <code>liquibase-hibernate</code> Java Bean Validation constraint annotations (e.g <code>@NotNull</code>, <code>@Size</code>) on Java Entity classes are not being mapped to any generated Liquibase changelogs:</p>\n<p><a href=\"https://github.com/liquibase/liquibase-hibernate/issues/301\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase-hibernate/issues/301</a></p>\n<p>I'm wondering is it possible to generate a custom composite annotation during the compilation process?</p>\n<p>The idea is that a new annotation named <code>@CustomColumnId</code> would be generated automatically based on the presence of the <code>@MyCustomAnnotation</code> annotation on the <code>ItemDTO</code> class, the same being done for all fields in the class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.validation.constraints.NotNull;\n\n@MyCustomAnnotation\npublic class ItemDTO {\n\n    @NotNull\n    public Long id;\n}\n</code></pre>\n<p>The generated annotation would also contain the JPA <code>@Column</code> annotation and automatically set the <code>nullable</code> attribute based on the presence of <code>javax.validation.constraints.NotNull</code> on <code>id</code> and the <code>name</code> attribute to the field name.</p>\n<p>Something generated like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Generated\nclass Item_Constraints {\n    \n    @jakarta.validation.constraints.NotNull()\n    @jakarta.persistence.Column(name = &quot;id&quot;, nullable = false)\n    @Target({METHOD, FIELD, ANNOTATION_TYPE, CONSTRUCTOR, PARAMETER })\n    @Retention(RUNTIME)\n    @Documented\n    @jakarta.validation.Constraint(validatedBy = {})\n    public @interface CustomColumnId {\n        String message() default &quot;{my.package.Item_Constraints.message}&quot;;\n        Class&lt;?&gt;[] groups() default { };\n        Class&lt;? extends jakarta.validation.Payload&gt;[] payload() default { };\n    }\n\n}\n</code></pre>\n<p>Then the developer can update their Java Entity to be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.*;\n\n@Entity\npublic class ItemEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @CustomColumnId\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n<p>Essentially preventing developers from having to duplicate their constraint information across both DTO and Java Entity.</p>\n<p>Original Java Entity:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.persistence.*;\n\n@Entity\npublic class ItemEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","mapstruct","mapper"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688591963,"creation_date":1688591963,"answer_id":76624108,"question_id":76623723,"body_markdown":"`@Mapping` is not directly applicable to methods for mapping collections. Instead, you should define a mapping method for individual objects.\r\n```java\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface UserEntityMapper {\r\n\r\n  @Mapping(source = &quot;userAddressEntity&quot;, target = &quot;userAddressDto&quot;)\r\n  TargetDTO fromEntityToDto(UserEntity userEntityList);\r\n\r\n  List&lt;TargetDTO&gt; fromEntitiesToDtos(List&lt;UserEntity&gt; userEntityList);\r\n}\r\n```\r\nMapStruct will invoke the `fromEntityToDto` method for each element when performing collection mapping.","title":"MapStruct Can Not Build Implementation Code For @Mapping Definition","body":"<p><code>@Mapping</code> is not directly applicable to methods for mapping collections. Instead, you should define a mapping method for individual objects.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserEntityMapper {\n\n  @Mapping(source = &quot;userAddressEntity&quot;, target = &quot;userAddressDto&quot;)\n  TargetDTO fromEntityToDto(UserEntity userEntityList);\n\n  List&lt;TargetDTO&gt; fromEntitiesToDtos(List&lt;UserEntity&gt; userEntityList);\n}\n</code></pre>\n<p>MapStruct will invoke the <code>fromEntityToDto</code> method for each element when performing collection mapping.</p>\n"}],"owner":{"account_id":7557855,"reputation":2578,"user_id":5736731,"display_name":"Ali"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76624108,"answer_count":1,"score":0,"last_activity_date":1688591963,"creation_date":1688587769,"question_id":76623723,"body_markdown":"Mapstruct works fine in project but there is a problem with @Mapping annotation.\r\n\r\n\r\nWorking Spring Boot version 2.2.0.RELEASE\r\n\r\nHere is dependency details :\r\n\r\n    implementation &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    implementation &#39;org.mapstruct:mapstruct&#39;\r\n    annotationProcessor &#39;org.mapstruct:mapstruct-processor&#39;\r\n    implementation &#39;org.projectlombok:lombok-mapstruct-binding:0.2.0&#39;\r\n    annotationProcessor &quot;org.projectlombok:lombok-mapstruct-binding:0.2.0&quot;\r\n\r\nHere is example about the problem.\r\n\r\n\r\nUserEntity.java\r\n\r\n    public class UserEntity {\r\n    \r\n        private String username;\r\n        private Integer userAge;\r\n        private UserAddressEntity userAddressEntity;\r\n    }\r\n\r\nUserAddressEntity.java\r\n\r\n    public class UserAddressEntity {\r\n        private String userAddress;\r\n        private Integer userPhone;\r\n    }\r\n\r\n\r\nUserAddressDTO\r\n\r\n    public class UserAddressDTO {\r\n        private String userAddress;\r\n        private Integer userPhone;\r\n    }\r\n\r\n\r\nTargetDTO (I want to convert UserEntity to this DTO)\r\n\r\n    public class TargetDTO {\r\n    \r\n        private String username;\r\n        private Integer userAge;\r\n        private UserAddressDTO userAddressDto; \r\n    }\r\n\r\nHere is mapper class :\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface UserEntityMapper  {\r\n    \r\n\r\n        @Mapping(source = &quot;userAddressEntity&quot;, target = &quot;userAddressDto&quot;)\r\n        List&lt;TargetDTO&gt; fromEntityToDto(List&lt;UserEntity&gt; userEntityList);\r\n    }\r\n\r\nIn this interface, Mapstruct can not create implementation for @Mapping. I changed implemenetation like this:\r\n\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface UserEntityMapper  {\r\n    \r\n\r\n        @Mapping(source = &quot;userAddressEntity.userAddress&quot;, target = &quot;userAddressDto.userAddress&quot;)\r\n        @Mapping(source = &quot;userAddressEntity.userPhone&quot;, target = &quot;userAddressDto.userPhone&quot;)\r\n        List&lt;TargetDTO&gt; fromEntityToDto(List&lt;UserEntity&gt; userEntityList);\r\n    }\r\n\r\nIt is still not working.\r\n\r\nAll other fields are mapping successfully only the definition in @Mapping is not working.\r\n\r\nBut, when I removed @Mapping and I changed TargetDto like this, it works :\r\n\r\n    public class TargetDTO {\r\n      \r\n        private String username;\r\n        private Integer userAge;\r\n        private UserAddressDTO userAddressEntity; // I just updated property naming\r\n    }\r\n\r\nBut why is it not working with @Mapping. **This is the problem.** \r\n\r\nAlso I tried &quot;uses&quot; definition and seperated problematic mapper but it also could not map UserAddressEntity to UserAddressDTO :\r\n\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, **uses = UserAddressMapper.class**)\r\n    public interface UserEntityMapper  {\r\n    \r\n\r\n        @Mapping(source = &quot;userAddressEntity&quot;, target = &quot;userAddressDto&quot;)\r\n        List&lt;TargetDTO&gt; fromEntityToDto(List&lt;UserEntity&gt; userEntityList);\r\n    }\r\n\r\n**What is the problem with @Mapping usage?** When code is compiling Mapstruct can create Implementation class and build implementation code  for all other fields but it can not create implementation code for @Mapping in the Implementation class. I tried many ways and it does not work in anyway.","title":"MapStruct Can Not Build Implementation Code For @Mapping Definition","body":"<p>Mapstruct works fine in project but there is a problem with @Mapping annotation.</p>\n<p>Working Spring Boot version 2.2.0.RELEASE</p>\n<p>Here is dependency details :</p>\n<pre><code>implementation 'org.projectlombok:lombok'\nannotationProcessor 'org.projectlombok:lombok'\nimplementation 'org.mapstruct:mapstruct'\nannotationProcessor 'org.mapstruct:mapstruct-processor'\nimplementation 'org.projectlombok:lombok-mapstruct-binding:0.2.0'\nannotationProcessor &quot;org.projectlombok:lombok-mapstruct-binding:0.2.0&quot;\n</code></pre>\n<p>Here is example about the problem.</p>\n<p>UserEntity.java</p>\n<pre><code>public class UserEntity {\n\n    private String username;\n    private Integer userAge;\n    private UserAddressEntity userAddressEntity;\n}\n</code></pre>\n<p>UserAddressEntity.java</p>\n<pre><code>public class UserAddressEntity {\n    private String userAddress;\n    private Integer userPhone;\n}\n</code></pre>\n<p>UserAddressDTO</p>\n<pre><code>public class UserAddressDTO {\n    private String userAddress;\n    private Integer userPhone;\n}\n</code></pre>\n<p>TargetDTO (I want to convert UserEntity to this DTO)</p>\n<pre><code>public class TargetDTO {\n\n    private String username;\n    private Integer userAge;\n    private UserAddressDTO userAddressDto; \n}\n</code></pre>\n<p>Here is mapper class :</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserEntityMapper  {\n\n\n    @Mapping(source = &quot;userAddressEntity&quot;, target = &quot;userAddressDto&quot;)\n    List&lt;TargetDTO&gt; fromEntityToDto(List&lt;UserEntity&gt; userEntityList);\n}\n</code></pre>\n<p>In this interface, Mapstruct can not create implementation for @Mapping. I changed implemenetation like this:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserEntityMapper  {\n\n\n    @Mapping(source = &quot;userAddressEntity.userAddress&quot;, target = &quot;userAddressDto.userAddress&quot;)\n    @Mapping(source = &quot;userAddressEntity.userPhone&quot;, target = &quot;userAddressDto.userPhone&quot;)\n    List&lt;TargetDTO&gt; fromEntityToDto(List&lt;UserEntity&gt; userEntityList);\n}\n</code></pre>\n<p>It is still not working.</p>\n<p>All other fields are mapping successfully only the definition in @Mapping is not working.</p>\n<p>But, when I removed @Mapping and I changed TargetDto like this, it works :</p>\n<pre><code>public class TargetDTO {\n  \n    private String username;\n    private Integer userAge;\n    private UserAddressDTO userAddressEntity; // I just updated property naming\n}\n</code></pre>\n<p>But why is it not working with @Mapping. <strong>This is the problem.</strong></p>\n<p>Also I tried &quot;uses&quot; definition and seperated problematic mapper but it also could not map UserAddressEntity to UserAddressDTO :</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, **uses = UserAddressMapper.class**)\npublic interface UserEntityMapper  {\n\n\n    @Mapping(source = &quot;userAddressEntity&quot;, target = &quot;userAddressDto&quot;)\n    List&lt;TargetDTO&gt; fromEntityToDto(List&lt;UserEntity&gt; userEntityList);\n}\n</code></pre>\n<p><strong>What is the problem with @Mapping usage?</strong> When code is compiling Mapstruct can create Implementation class and build implementation code  for all other fields but it can not create implementation code for @Mapping in the Implementation class. I tried many ways and it does not work in anyway.</p>\n"},{"tags":["java","spring","annotations","aspectj"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":1,"creation_date":1652412952,"post_id":72213693,"comment_id":127605154,"body_markdown":"1. Please read through SO Q&amp;A : [Is there something like Annotation Inheritance in java?](https://stackoverflow.com/questions/7761513/is-there-something-like-annotation-inheritance-in-java) to get a grip on why this code is not working as you expect 2. If the requirement is to log along with monitor we can also call a helper method to log from both aspects . Another way is to have the same aspect class for both pointcuts and a single `log()` method gets called from both advises. 3. `MergedAnnotations.from(.. )` could be used instead of `AnnotationUtils.findAnnotation(..)`","body":"1. Please read through SO Q&amp;A : <a href=\"https://stackoverflow.com/questions/7761513/is-there-something-like-annotation-inheritance-in-java\">Is there something like Annotation Inheritance in java?</a> to get a grip on why this code is not working as you expect 2. If the requirement is to log along with monitor we can also call a helper method to log from both aspects . Another way is to have the same aspect class for both pointcuts and a single <code>log()</code> method gets called from both advises. 3. <code>MergedAnnotations.from(.. )</code> could be used instead of <code>AnnotationUtils.findAnnotation(..)</code>"},{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":1,"creation_date":1652413065,"post_id":72213693,"comment_id":127605170,"body_markdown":"`MethodSignature ms = (MethodSignature)pjp.getSignature(); MergedAnnotations annotations = MergedAnnotations.from(ms.getMethod());` could be used within an aspect advise to introspect the annotations for the method and perform the logic required","body":"<code>MethodSignature ms = (MethodSignature)pjp.getSignature(); MergedAnnotations annotations = MergedAnnotations.from(ms.getMethod());</code> could be used within an aspect advise to introspect the annotations for the method and perform the logic required"}],"answers":[{"tags":[],"owner":{"account_id":4138433,"reputation":300,"user_id":3394495,"display_name":"cheshire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688591877,"creation_date":1688591877,"answer_id":76624101,"question_id":72213693,"body_markdown":"Using the syntax from https://stackoverflow.com/a/38209801/3394495, this should work for your case:\r\n\r\n```\r\nclass LoggingAOPConfig {\r\n   \r\n    @Pointcut(&quot;@annotation(LoggedMethodInvocation)&quot;)\r\n    public void servicePointcut() {\r\n    }\r\n\r\n    @Pointcut(&quot;execution(@(@LoggedMethodInvocation *) * *(..))&quot;)\r\n    public void metaServicePointcut() {\r\n    }\r\n\r\n    @Around(&quot;servicePointcut() || metaServicePointcut()&quot;)\r\n    public Object logMethodInvocation(ProceedingJoinPoint pjp) throws Throwable {\r\n        // log the method invocation...\r\n    }\r\n}","title":"AOP and annotation &#39;inheritance&#39;","body":"<p>Using the syntax from <a href=\"https://stackoverflow.com/a/38209801/3394495\">https://stackoverflow.com/a/38209801/3394495</a>, this should work for your case:</p>\n<pre><code>class LoggingAOPConfig {\n   \n    @Pointcut(&quot;@annotation(LoggedMethodInvocation)&quot;)\n    public void servicePointcut() {\n    }\n\n    @Pointcut(&quot;execution(@(@LoggedMethodInvocation *) * *(..))&quot;)\n    public void metaServicePointcut() {\n    }\n\n    @Around(&quot;servicePointcut() || metaServicePointcut()&quot;)\n    public Object logMethodInvocation(ProceedingJoinPoint pjp) throws Throwable {\n        // log the method invocation...\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":7113761,"reputation":131,"user_id":5440774,"display_name":"miro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1688621593,"answer_count":1,"score":1,"last_activity_date":1688591877,"creation_date":1652350141,"question_id":72213693,"body_markdown":"let&#39;s consider the following situation.\r\n\r\n```\r\n@interface LoggedMethodInvocation{}\r\n\r\n@LoggedMethodInvocation\r\n@interface MonitoredMethodInvocation{}\r\n```\r\n\r\nI would like the `@MonitoredMethodInvocation` annotation implying the `@LoggedMethodInvocation` annotation.\r\n\r\n```\r\nclass LoggingAOPConfig {\r\n   \r\n    @Pointcut(&quot;@annotation(LoggedMethodInvocation)&quot;)\r\n    public void servicePointcut() {\r\n    }\r\n\r\n    @Around(&quot;servicePointcut()&quot;)\r\n    public Object logMethodInvocation(ProceedingJoinPoint pjp) throws Throwable {\r\n        // log the method invocation...\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass MonitoringAOPConfig {\r\n\r\n    @Pointcut(&quot;@annotation(MonitoredMethodInvocation)&quot;)\r\n    public void servicePointcut() {\r\n    }\r\n\r\n    @Around(&quot;servicePointcut()&quot;)\r\n    public Object monitorResponseTime(ProceedingJoinPoint pjp) throws Throwable {\r\n        // add some meters to the method invocation\r\n    }\r\n}\r\n```\r\n\r\nNow I would like to introduce some method, which shall be both monitored and logged. And I would like to annotate the method only with one annotation, namely `@MonitoredMethodInvocation`. \r\n\r\n```\r\nclass SomeService {\r\n   \r\n    @MonitoredMethodInvocation\r\n    Object someMethod(Object requestPayload) {\r\n        // ...\r\n        return responsePayload;\r\n    }\r\n}\r\n```\r\n\r\nHowever it doesn&#39;t play, the logging aspect is not taken into the account.\r\n\r\nThere is spring&#39;s `AnnotationUtils.findAnnotation` which offers the needed functionality (of recognizing, whether the `@LoggedMethodInvocation` shall be considered). However, I don&#39;t know how to put this into the pointcut configuration.\r\n\r\nHow shall I modify the logging AOP config so it will recognize the logging annotation even if it is hidden behind the `@MonitoredMethodInvocation`?","title":"AOP and annotation &#39;inheritance&#39;","body":"<p>let's consider the following situation.</p>\n<pre><code>@interface LoggedMethodInvocation{}\n\n@LoggedMethodInvocation\n@interface MonitoredMethodInvocation{}\n</code></pre>\n<p>I would like the <code>@MonitoredMethodInvocation</code> annotation implying the <code>@LoggedMethodInvocation</code> annotation.</p>\n<pre><code>class LoggingAOPConfig {\n   \n    @Pointcut(&quot;@annotation(LoggedMethodInvocation)&quot;)\n    public void servicePointcut() {\n    }\n\n    @Around(&quot;servicePointcut()&quot;)\n    public Object logMethodInvocation(ProceedingJoinPoint pjp) throws Throwable {\n        // log the method invocation...\n    }\n}\n</code></pre>\n<pre><code>class MonitoringAOPConfig {\n\n    @Pointcut(&quot;@annotation(MonitoredMethodInvocation)&quot;)\n    public void servicePointcut() {\n    }\n\n    @Around(&quot;servicePointcut()&quot;)\n    public Object monitorResponseTime(ProceedingJoinPoint pjp) throws Throwable {\n        // add some meters to the method invocation\n    }\n}\n</code></pre>\n<p>Now I would like to introduce some method, which shall be both monitored and logged. And I would like to annotate the method only with one annotation, namely <code>@MonitoredMethodInvocation</code>.</p>\n<pre><code>class SomeService {\n   \n    @MonitoredMethodInvocation\n    Object someMethod(Object requestPayload) {\n        // ...\n        return responsePayload;\n    }\n}\n</code></pre>\n<p>However it doesn't play, the logging aspect is not taken into the account.</p>\n<p>There is spring's <code>AnnotationUtils.findAnnotation</code> which offers the needed functionality (of recognizing, whether the <code>@LoggedMethodInvocation</code> shall be considered). However, I don't know how to put this into the pointcut configuration.</p>\n<p>How shall I modify the logging AOP config so it will recognize the logging annotation even if it is hidden behind the <code>@MonitoredMethodInvocation</code>?</p>\n"},{"tags":["java","spring-boot","automation","build.gradle"],"comments":[{"owner":{"account_id":2640358,"reputation":331,"user_id":2284150,"display_name":"Mihail"},"score":0,"creation_date":1613850151,"post_id":66295499,"comment_id":117205608,"body_markdown":"Try to comment/remove line 15, since this artifact is deployed on Maven Central no additional setup needed to find it.","body":"Try to comment/remove line 15, since this artifact is deployed on Maven Central no additional setup needed to find it."},{"owner":{"account_id":19576949,"reputation":105,"user_id":14326842,"display_name":"programmer"},"score":0,"creation_date":1613974750,"post_id":66295499,"comment_id":117231672,"body_markdown":"It does not help","body":"It does not help"}],"answers":[{"tags":[],"owner":{"account_id":9507769,"reputation":2015,"user_id":7066681,"accept_rate":65,"display_name":"Frederic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1628724594,"creation_date":1628724594,"answer_id":68750000,"question_id":66295499,"body_markdown":"Adding the spring URL in the repositories section fixed it for me:\r\n\r\n     repositories {\r\n            maven {\r\n                url &quot;https://repo.spring.io/plugins-release&quot;\r\n                mavenCentral()\r\n            }\r\n        }","title":"Could not find io.spring.gradle:propdeps-plugin:0.0.9.RELEASE","body":"<p>Adding the spring URL in the repositories section fixed it for me:</p>\n<pre><code> repositories {\n        maven {\n            url &quot;https://repo.spring.io/plugins-release&quot;\n            mavenCentral()\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2991923,"reputation":919,"user_id":2539334,"display_name":"Do Tat Hoan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1665847130,"creation_date":1665847130,"answer_id":74080683,"question_id":66295499,"body_markdown":"Just change from\r\n\r\n    maven { url &quot;http://repo.spring.io/plugins-release&quot; }\r\nto\r\n\r\n        maven {\r\n            url &quot;https://repo.spring.io/plugins-release&quot;\r\n            mavenCentral()\r\n        }","title":"Could not find io.spring.gradle:propdeps-plugin:0.0.9.RELEASE","body":"<p>Just change from</p>\n<pre><code>maven { url &quot;http://repo.spring.io/plugins-release&quot; }\n</code></pre>\n<p>to</p>\n<pre><code>    maven {\n        url &quot;https://repo.spring.io/plugins-release&quot;\n        mavenCentral()\n    }\n</code></pre>\n"}],"owner":{"account_id":19576949,"reputation":105,"user_id":14326842,"display_name":"programmer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688590709,"creation_date":1613848059,"question_id":66295499,"body_markdown":"I&#39;m getting some errors :\r\n\r\n\r\n\r\n```\r\n\r\n    Could not resolve all artifacts for configuration \r\n&#39;:gisett-backend:classpath&#39;. \r\nCould not find io.spring.gradle:propdeps-plugin:0.0.9.RELEASE. Searched in the following locations: - \r\nhttps://jcenter.bintray.com/io/spring/gradle/propdeps-plugin/0.0.9.RELEASE/propdeps-plugin-0.0.9.RELEASE.pom - https://repo.maven.apache.org/maven2/io/spring/gradle/propdeps-plugin/0.0.9.RELEASE/propdeps-plugin-0.0.9.RELEASE.pom\r\n - https://plugins.gradle.org/m2/io/spring/gradle/propdeps-plugin/0.0.9.RELEASE/propdeps-plugin-0.0.9.RELEASE.pom \r\n\r\n```\r\n\r\nHere the build.gradle :\r\n github.com/EstherSD/gis/blob/main/build.gradle\r\n\r\nHow can I fix it? \r\n\r\nThanks\r\n","title":"Could not find io.spring.gradle:propdeps-plugin:0.0.9.RELEASE","body":"<p>I'm getting some errors :</p>\n<pre><code>\n    Could not resolve all artifacts for configuration \n':gisett-backend:classpath'. \nCould not find io.spring.gradle:propdeps-plugin:0.0.9.RELEASE. Searched in the following locations: - \nhttps://jcenter.bintray.com/io/spring/gradle/propdeps-plugin/0.0.9.RELEASE/propdeps-plugin-0.0.9.RELEASE.pom - https://repo.maven.apache.org/maven2/io/spring/gradle/propdeps-plugin/0.0.9.RELEASE/propdeps-plugin-0.0.9.RELEASE.pom\n - https://plugins.gradle.org/m2/io/spring/gradle/propdeps-plugin/0.0.9.RELEASE/propdeps-plugin-0.0.9.RELEASE.pom \n\n</code></pre>\n<p>Here the build.gradle :\ngithub.com/EstherSD/gis/blob/main/build.gradle</p>\n<p>How can I fix it?</p>\n<p>Thanks</p>\n"},{"tags":["java","android","xml","kotlin"],"answers":[{"tags":[],"owner":{"account_id":8836903,"reputation":29,"user_id":6600813,"display_name":"Tanishk Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688589950,"creation_date":1688589950,"answer_id":76623931,"question_id":76622705,"body_markdown":"**Solution:** This happens due to the property `singleLine=&quot;true&quot;` &amp;&amp; `inputType=&quot;text&quot;`. Better way is to use `maxLines = &quot;1&quot;` and set input type to text programatically","title":"How to manipulate the colors of the auto-expanding selection in edit-text","body":"<p><strong>Solution:</strong> This happens due to the property <code>singleLine=&quot;true&quot;</code> &amp;&amp; <code>inputType=&quot;text&quot;</code>. Better way is to use <code>maxLines = &quot;1&quot;</code> and set input type to text programatically</p>\n"}],"owner":{"account_id":8836903,"reputation":29,"user_id":6600813,"display_name":"Tanishk Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76623931,"answer_count":1,"score":0,"last_activity_date":1688589950,"creation_date":1688577960,"question_id":76622705,"body_markdown":"[![enter image description here](https://i.stack.imgur.com/3OXPG.gif)](https://i.stack.imgur.com/3OXPG.gif)\r\n\r\nIn the gif you can see on double tap, the automatic expansion for the string which happens in a different color (light blue?), I have not defined this color anywhere, which looks odd. How do we manipulate this property?\r\n\r\nI have tried many highlight properties like colorControlActivated, Normal, Highlight etc but it does not affect this at all!\r\n\r\nI am expecting to be able to manipulate the auto-expansion animation color.","title":"How to manipulate the colors of the auto-expanding selection in edit-text","body":"<p><a href=\"https://i.stack.imgur.com/3OXPG.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3OXPG.gif\" alt=\"enter image description here\" /></a></p>\n<p>In the gif you can see on double tap, the automatic expansion for the string which happens in a different color (light blue?), I have not defined this color anywhere, which looks odd. How do we manipulate this property?</p>\n<p>I have tried many highlight properties like colorControlActivated, Normal, Highlight etc but it does not affect this at all!</p>\n<p>I am expecting to be able to manipulate the auto-expansion animation color.</p>\n"},{"tags":["java","arraylist","methods"],"comments":[{"owner":{"account_id":7019748,"reputation":1984,"user_id":5379668,"accept_rate":59,"display_name":"Davide"},"score":0,"creation_date":1687795831,"post_id":76558408,"comment_id":134983442,"body_markdown":"It&#39;s all about the overloaded remove method. When providing just &quot;1&quot;, it&#39;s treated as primitive, thus it invokes the remove(int index) method","body":"It&#39;s all about the overloaded remove method. When providing just &quot;1&quot;, it&#39;s treated as primitive, thus it invokes the remove(int index) method"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1687796112,"post_id":76558408,"comment_id":134983512,"body_markdown":"Rather than asking folks to imagine things, remember to show real code. Because `ArrayList al ={1,2,3,4,5};` isn&#39;t valid java, _nor_ does it tell folks what you&#39;re actually doing (are you relying on auto-boxing? Are you building `Integer` objects explicitly?). As for how the JVM knows: it doesn&#39;t, but the compiler does. Java is a strongly typed language, and when you write `remove(1)` the compiler resolves that to the `remove(int)` method.","body":"Rather than asking folks to imagine things, remember to show real code. Because <code>ArrayList al ={1,2,3,4,5};</code> isn&#39;t valid java, <i>nor</i> does it tell folks what you&#39;re actually doing (are you relying on auto-boxing? Are you building <code>Integer</code> objects explicitly?). As for how the JVM knows: it doesn&#39;t, but the compiler does. Java is a strongly typed language, and when you write <code>remove(1)</code> the compiler resolves that to the <code>remove(int)</code> method."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1687799475,"post_id":76558408,"comment_id":134984197,"body_markdown":"related: [How to remove integer from list?](https://stackoverflow.com/questions/17037583/how-to-remove-integer-from-list) or  [Properly removing an Integer from a List&lt;Integer&gt;](https://stackoverflow.com/questions/4534146/properly-removing-an-integer-from-a-listinteger) and [*some* more](https://stackoverflow.com/search?q=%5Bjava%5D+%5Barraylist%5D+remove+integer) || you should have completed the [tour]: &quot;***Don&#39;t ask about...** Questions you haven&#39;t tried to find an answer for*&quot;","body":"related: <a href=\"https://stackoverflow.com/questions/17037583/how-to-remove-integer-from-list\">How to remove integer from list?</a> or  <a href=\"https://stackoverflow.com/questions/4534146/properly-removing-an-integer-from-a-listinteger\">Properly removing an Integer from a List&lt;Integer&gt;</a> and <a href=\"https://stackoverflow.com/search?q=%5Bjava%5D+%5Barraylist%5D+remove+integer\"><i>some</i> more</a> || you should have completed the <a href=\"https://stackoverflow.com/tour\">tour</a>: &quot;<b><i>Don&#39;t ask about...</b> Questions you haven&#39;t tried to find an answer for</i>&quot;"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687797907,"creation_date":1687797907,"answer_id":76558699,"question_id":76558408,"body_markdown":"&gt; _&quot;... How JVM understand whether I want to remove 1st index or value=1?? I want to remove by index and by value also.&quot;_\r\n\r\nYou&#39;ll need to specify the argument as an _Integer_ object.\r\n\r\n```java\r\nal.remove(Integer.valueOf(1));\r\n```\r\n\r\nOtherwise, you&#39;re right, the _int_ value of _1_ will be interpreted as an index value.\r\n\r\n```java\r\nList&lt;Integer&gt; al = new ArrayList&lt;&gt;(List.of(1, 2, 3, 4, 5));\r\nal.remove(Integer.valueOf(1));\r\n\r\nSystem.out.println(al);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[2, 3, 4, 5]\r\n```","title":"If Arraylist of integer type is present. And I want to remove 1st index from it. How it differ by 1st index and value 1","body":"<blockquote>\n<p><em>&quot;... How JVM understand whether I want to remove 1st index or value=1?? I want to remove by index and by value also.&quot;</em></p>\n</blockquote>\n<p>You'll need to specify the argument as an <em>Integer</em> object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>al.remove(Integer.valueOf(1));\n</code></pre>\n<p>Otherwise, you're right, the <em>int</em> value of <em>1</em> will be interpreted as an index value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; al = new ArrayList&lt;&gt;(List.of(1, 2, 3, 4, 5));\nal.remove(Integer.valueOf(1));\n\nSystem.out.println(al);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[2, 3, 4, 5]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1687807899,"creation_date":1687804898,"answer_id":76559422,"question_id":76558408,"body_markdown":"From the JavaDoc for the **List** interface.  Note that `remove()` is an optional method.\r\n\r\n**E remove(int index)**\r\n\r\n&gt; Removes the element at the specified position in this list (optional operation). Shifts any subsequent elements to the left (subtracts one from their indices). Returns the element that was removed from the list.  Returns the element at the specified position.\r\n\r\n**boolean remove(Object o)**\r\n\r\n\r\n&gt;Removes the first occurrence of the specified element from this list, if it is present (optional operation). If this list does not contain the element, it is unchanged. More formally, removes the element with the lowest index i such that Objects.equals(o, get(i)) (if such an element exists). Returns true if this list contained the specified element (or equivalently, if this list changed as a result of the call).  Returns true if the object existed, false otherwise.\r\n\r\nAs the methods are presently defined, the method with the argument that best matches the type of parameter is chosen.\r\n\r\nNote that if there was only `remove(int index)` and no `remove(Object o)` then calling `remove(int index)` would work whether you specified an `int` or an `Integer`.  In the latter case, `Integer` would be unboxed to an `int`.\r\n\r\nBTW, if you are removing one or more consecutive items, starting at index 0, you may as well just assign a sub list to the list since it will be more efficient, especially for large lists.  Say you want to remove the first 10 items.  You can do it like so.\r\n```\r\nlist = list.subList(10,list.size());\r\n```\r\nIf you keep the original list, then changing anything in the original list or sub list will be reflected in the other since `subList` returns a view of the specified section of the original list.","title":"If Arraylist of integer type is present. And I want to remove 1st index from it. How it differ by 1st index and value 1","body":"<p>From the JavaDoc for the <strong>List</strong> interface.  Note that <code>remove()</code> is an optional method.</p>\n<p><strong>E remove(int index)</strong></p>\n<blockquote>\n<p>Removes the element at the specified position in this list (optional operation). Shifts any subsequent elements to the left (subtracts one from their indices). Returns the element that was removed from the list.  Returns the element at the specified position.</p>\n</blockquote>\n<p><strong>boolean remove(Object o)</strong></p>\n<blockquote>\n<p>Removes the first occurrence of the specified element from this list, if it is present (optional operation). If this list does not contain the element, it is unchanged. More formally, removes the element with the lowest index i such that Objects.equals(o, get(i)) (if such an element exists). Returns true if this list contained the specified element (or equivalently, if this list changed as a result of the call).  Returns true if the object existed, false otherwise.</p>\n</blockquote>\n<p>As the methods are presently defined, the method with the argument that best matches the type of parameter is chosen.</p>\n<p>Note that if there was only <code>remove(int index)</code> and no <code>remove(Object o)</code> then calling <code>remove(int index)</code> would work whether you specified an <code>int</code> or an <code>Integer</code>.  In the latter case, <code>Integer</code> would be unboxed to an <code>int</code>.</p>\n<p>BTW, if you are removing one or more consecutive items, starting at index 0, you may as well just assign a sub list to the list since it will be more efficient, especially for large lists.  Say you want to remove the first 10 items.  You can do it like so.</p>\n<pre><code>list = list.subList(10,list.size());\n</code></pre>\n<p>If you keep the original list, then changing anything in the original list or sub list will be reflected in the other since <code>subList</code> returns a view of the specified section of the original list.</p>\n"}],"owner":{"account_id":28898911,"reputation":13,"user_id":22134330,"display_name":"MCA22 Adarsh Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76559422,"answer_count":2,"score":0,"last_activity_date":1688589744,"creation_date":1687795500,"question_id":76558408,"body_markdown":"Imagine i have\r\nArrayList al ={1,2,3,4,5};\r\nI want to remove 1st index i will use \r\nal.remove(1).\r\nI want to remove by value which is 1 i will use \r\nal.remove(1).\r\nHow JVM understand whether I want to remove 1st index or value=1??\r\nI want to remove by index and by value also.","title":"If Arraylist of integer type is present. And I want to remove 1st index from it. How it differ by 1st index and value 1","body":"<p>Imagine i have\nArrayList al ={1,2,3,4,5};\nI want to remove 1st index i will use\nal.remove(1).\nI want to remove by value which is 1 i will use\nal.remove(1).\nHow JVM understand whether I want to remove 1st index or value=1??\nI want to remove by index and by value also.</p>\n"},{"tags":["java","hibernate","serialization","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":16027245,"reputation":41,"user_id":11567183,"display_name":"Chiamaka Etchie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688588983,"creation_date":1688588983,"answer_id":76623845,"question_id":76623619,"body_markdown":"When you change the value of the serialVersionUID field in the Employee class, it can cause problems when serializing and deserializing objects.\r\n\r\nThe serialVersionUID is used as an identifier for the serialized version of an object. It ensures that the serialized object matches the class definition when it is being deserialized.\r\n\r\nIf you change the serialVersionUID to a different value, it means the serialized object is different from what is expected during deserialization. This can result in errors when trying to deserialize the object.\r\n\r\nAdditionally, if you have previously serialized instances of the Employee class with the old serialVersionUID, trying to deserialize them with the updated serialVersionUID may fail. The serialized data is checked against the serialVersionUID for compatibility, and a mismatch can lead to deserialization errors.\r\n\r\nTo avoid these issues, it&#39;s important to manage the serialVersionUID carefully when making changes to serialized classes. If you make incompatible changes to the class structure, consider incrementing the serialVersionUID to indicate the incompatibility and handle deserialization failures gracefully.\r\n\r\nKeeping backward compatibility in mind when serializing and deserializing objects helps prevent unexpected issues during deployment and application updates.","title":"What would happen if i change the UUID serial version of the entity class?","body":"<p>When you change the value of the serialVersionUID field in the Employee class, it can cause problems when serializing and deserializing objects.</p>\n<p>The serialVersionUID is used as an identifier for the serialized version of an object. It ensures that the serialized object matches the class definition when it is being deserialized.</p>\n<p>If you change the serialVersionUID to a different value, it means the serialized object is different from what is expected during deserialization. This can result in errors when trying to deserialize the object.</p>\n<p>Additionally, if you have previously serialized instances of the Employee class with the old serialVersionUID, trying to deserialize them with the updated serialVersionUID may fail. The serialized data is checked against the serialVersionUID for compatibility, and a mismatch can lead to deserialization errors.</p>\n<p>To avoid these issues, it's important to manage the serialVersionUID carefully when making changes to serialized classes. If you make incompatible changes to the class structure, consider incrementing the serialVersionUID to indicate the incompatibility and handle deserialization failures gracefully.</p>\n<p>Keeping backward compatibility in mind when serializing and deserializing objects helps prevent unexpected issues during deployment and application updates.</p>\n"}],"owner":{"account_id":28958157,"reputation":1,"user_id":22181272,"display_name":"Shreyajit Saha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688588983,"creation_date":1688586589,"question_id":76623619,"body_markdown":"Say entity class Employee is like this:\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;employee&quot;)    \r\nclass Employee implements Serializable{    \r\nprivate static final long serialVersionUID=1L;    \r\nint id;    \r\nString name;    \r\npublic Student(int id, String name) {    \r\nthis.id = id;    \r\nthis.name = name;    \r\n}\r\n\r\n```\r\n\r\nNow during next deployment i change\r\n\r\n```\r\nprivate static final long serialVersionUID=1L; \r\n\r\n```\r\nto\r\n\r\n\r\n\r\n\r\n```\r\nprivate static final long serialVersionUID=123L; \r\n\r\n```\r\nWhat will be the consequences?\r\n\r\n\r\n\r\nYet to try this out in real world applications. Any headsup on this or if anyone has tried it?`your text`","title":"What would happen if i change the UUID serial version of the entity class?","body":"<p>Say entity class Employee is like this:</p>\n<pre><code>@Entity\n@Table(name=&quot;employee&quot;)    \nclass Employee implements Serializable{    \nprivate static final long serialVersionUID=1L;    \nint id;    \nString name;    \npublic Student(int id, String name) {    \nthis.id = id;    \nthis.name = name;    \n}\n\n</code></pre>\n<p>Now during next deployment i change</p>\n<pre><code>private static final long serialVersionUID=1L; \n\n</code></pre>\n<p>to</p>\n<pre><code>private static final long serialVersionUID=123L; \n\n</code></pre>\n<p>What will be the consequences?</p>\n<p>Yet to try this out in real world applications. Any headsup on this or if anyone has tried it?<code>your text</code></p>\n"},{"tags":["java","json","request","http-post","java-http-client"],"comments":[{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1688586207,"post_id":76623406,"comment_id":135095063,"body_markdown":"Does this answer your question? [How to including variables within strings?](https://stackoverflow.com/questions/9643610/how-to-including-variables-within-strings)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/9643610/how-to-including-variables-within-strings\">How to including variables within strings?</a>"}],"answers":[{"tags":[],"owner":{"account_id":16027245,"reputation":41,"user_id":11567183,"display_name":"Chiamaka Etchie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688587877,"creation_date":1688586053,"answer_id":76623575,"question_id":76623406,"body_markdown":"One approach is to concatenate in the json like this.\r\n\r\n   \r\n\r\n    public ResponseEntity test()  {\r\n        String doubleAsInput = String.valueOf(2.0);\r\n        String intAsInput = String.valueOf(3);\r\n        String stringWithSlash = &quot;\\failed&quot;;\r\n        String valueWithComma = &quot;comma,&quot;;\r\n    String messageValue = &quot;Weekend UI Validation email will be shared shortly&quot;;\r\n    String statusValue = &quot;Success&quot;;\r\n\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    ObjectNode bodyNode = objectMapper.createObjectNode();\r\n\r\n    ObjectNode contextNode = bodyNode.putObject(&quot;@context&quot;);\r\n    contextNode.put(&quot;@type&quot;, &quot;MessageCard&quot;);\r\n\r\n    bodyNode.put(&quot;@type&quot;, &quot;MessageCard&quot;);\r\n    bodyNode.put(&quot;themeColor&quot;, &quot;#00FF00&quot;);\r\n    bodyNode.put(&quot;summary&quot;, &quot;Weekend UI Validation Success&quot;);\r\n\r\n    ArrayNode sectionsArrayNode = bodyNode.putArray(&quot;sections&quot;);\r\n    ObjectNode sectionNode = sectionsArrayNode.addObject();\r\n    sectionNode.put(&quot;activityTitle&quot;, &quot;Weekend UI Validation Succesful!!&quot;);\r\n    sectionNode.put(&quot;activitySubtitle&quot;, &quot;Build Results&quot;);\r\n    sectionNode.put(&quot;activityImage&quot;, &quot;https://ac-buckets-dev-acpublicmedia-2cxkd4j0deg1.s3.amazonaws.com/icons/GreenThumbUP.png&quot;);\r\n    sectionNode.put(&quot;markdown&quot;, true);\r\n\r\n    ArrayNode factsArrayNode = sectionNode.putArray(&quot;facts&quot;);\r\n    factsArrayNode.add(createFactNode(&quot;Message&quot;, messageValue, objectMapper));\r\n    factsArrayNode.add(createFactNode(&quot;Status&quot;, statusValue, objectMapper));\r\n    factsArrayNode.add(createFactNode(&quot;Total Tests:&quot;, doubleAsInput, objectMapper));\r\n    factsArrayNode.add(createFactNode(&quot;Passed:&quot;, intAsInput, objectMapper));\r\n    factsArrayNode.add(createFactNode(&quot;Failed:&quot;, stringWithSlash, objectMapper));\r\n    factsArrayNode.add(createFactNode(&quot;Skipped&quot;, valueWithComma, objectMapper));\r\n\r\n\r\n    String requestBody = null;\r\n    try {\r\n        requestBody = objectMapper.writeValueAsString(bodyNode);\r\n    } catch (JsonProcessingException e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\n    return ResponseEntity.ok(requestBody);\r\n\r\n\r\n}\r\n\r\n\r\n","title":"How to pass a variable in JSON request body string for http POST","body":"<p>One approach is to concatenate in the json like this.</p>\n<pre><code>public ResponseEntity test()  {\n    String doubleAsInput = String.valueOf(2.0);\n    String intAsInput = String.valueOf(3);\n    String stringWithSlash = &quot;\\failed&quot;;\n    String valueWithComma = &quot;comma,&quot;;\nString messageValue = &quot;Weekend UI Validation email will be shared shortly&quot;;\nString statusValue = &quot;Success&quot;;\n\n\nObjectMapper objectMapper = new ObjectMapper();\nObjectNode bodyNode = objectMapper.createObjectNode();\n\nObjectNode contextNode = bodyNode.putObject(&quot;@context&quot;);\ncontextNode.put(&quot;@type&quot;, &quot;MessageCard&quot;);\n\nbodyNode.put(&quot;@type&quot;, &quot;MessageCard&quot;);\nbodyNode.put(&quot;themeColor&quot;, &quot;#00FF00&quot;);\nbodyNode.put(&quot;summary&quot;, &quot;Weekend UI Validation Success&quot;);\n\nArrayNode sectionsArrayNode = bodyNode.putArray(&quot;sections&quot;);\nObjectNode sectionNode = sectionsArrayNode.addObject();\nsectionNode.put(&quot;activityTitle&quot;, &quot;Weekend UI Validation Succesful!!&quot;);\nsectionNode.put(&quot;activitySubtitle&quot;, &quot;Build Results&quot;);\nsectionNode.put(&quot;activityImage&quot;, &quot;https://ac-buckets-dev-acpublicmedia-2cxkd4j0deg1.s3.amazonaws.com/icons/GreenThumbUP.png&quot;);\nsectionNode.put(&quot;markdown&quot;, true);\n\nArrayNode factsArrayNode = sectionNode.putArray(&quot;facts&quot;);\nfactsArrayNode.add(createFactNode(&quot;Message&quot;, messageValue, objectMapper));\nfactsArrayNode.add(createFactNode(&quot;Status&quot;, statusValue, objectMapper));\nfactsArrayNode.add(createFactNode(&quot;Total Tests:&quot;, doubleAsInput, objectMapper));\nfactsArrayNode.add(createFactNode(&quot;Passed:&quot;, intAsInput, objectMapper));\nfactsArrayNode.add(createFactNode(&quot;Failed:&quot;, stringWithSlash, objectMapper));\nfactsArrayNode.add(createFactNode(&quot;Skipped&quot;, valueWithComma, objectMapper));\n\n\nString requestBody = null;\ntry {\n    requestBody = objectMapper.writeValueAsString(bodyNode);\n} catch (JsonProcessingException e) {\n    e.printStackTrace();\n}\n\nreturn ResponseEntity.ok(requestBody);\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":28508256,"reputation":19,"user_id":21818599,"display_name":"Jacob Batista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688588944,"creation_date":1688588944,"answer_id":76623840,"question_id":76623406,"body_markdown":"I highly recommend taking a look at a JSON serialization library, such as [Jackson Databind][1]. Based on your comment to Chiamaka Etchie&#39;s answer, it seems like you are trying to convert your data types to strings, which is MUCH easier when you use an existing serialization library.\r\n\r\n\r\n  [1]: https://github.com/FasterXML/jackson-databind","title":"How to pass a variable in JSON request body string for http POST","body":"<p>I highly recommend taking a look at a JSON serialization library, such as <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\">Jackson Databind</a>. Based on your comment to Chiamaka Etchie's answer, it seems like you are trying to convert your data types to strings, which is MUCH easier when you use an existing serialization library.</p>\n"}],"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1688588944,"creation_date":1688584270,"question_id":76623406,"body_markdown":"I currently have a JSON request body as a string that I am also passing as a string in the BodyPublishers.ofString() method when using the java httpclient to send a POST request.  I also want to be able to include the variables below in my values under **facts** as seen below:\r\n\r\n```\r\nString totalString = String.valueOf(total);\r\nString successString = String.valueOf(success);\r\nString failedString = String.valueOf(failed);\r\nString skippedString = String.valueOf(skipped);\r\nString body = &quot;{\\n&quot; +\r\n\t\t&quot;  \\&quot;@type\\&quot;: \\&quot;MessageCard\\&quot;,\\n&quot; +\r\n\t\t&quot;  \\&quot;@context\\&quot;: \\&quot;http://schema.org/extensions\\&quot;,\\n&quot; +\r\n\t\t&quot;  \\&quot;themeColor\\&quot;: \\&quot;#00FF00\\&quot;,\\n&quot; +\r\n\t\t&quot;  \\&quot;summary\\&quot;: \\&quot;Weekend UI Validation Success\\&quot;,\\n&quot; +\r\n\t\t&quot;  \\&quot;sections\\&quot;: [\\n&quot; +\r\n\t\t&quot;    {\\n&quot; +\r\n\t\t&quot;      \\&quot;activityTitle\\&quot;: \\&quot;Weekend UI Validation Succesful!!\\&quot;,\\n&quot; +\r\n\t\t&quot;      \\&quot;activitySubtitle\\&quot;: \\&quot;Build Results\\&quot;,\\n&quot; +\r\n\t\t&quot;      \\&quot;activityImage\\&quot;: \\&quot;https://ac-buckets-dev-acpublicmedia-2cxkd4j0deg1.s3.amazonaws.com/icons/GreenThumbUP.png\\&quot;,\\n&quot; +\r\n\t\t&quot;      \\&quot;facts\\&quot;: [\\n&quot; +\r\n\t\t&quot;        {\\n&quot; +\r\n\t\t&quot;          \\&quot;name\\&quot;: \\&quot;Message\\&quot;,\\n&quot; +\r\n\t\t&quot;          \\&quot;value\\&quot;: \\&quot; Weekend UI Validation email will be shared shortly\\&quot;\\n&quot; +\r\n\t\t&quot;        },\\n&quot; +\r\n\t\t&quot;        {\\n&quot; +\r\n\t\t&quot;          \\&quot;name\\&quot;: \\&quot;Status\\&quot;,\\n&quot; +\r\n\t\t&quot;          \\&quot;value\\&quot;: \\&quot;Success\\&quot;\\n&quot; +\r\n\t\t&quot;        },\\n&quot; +\r\n\t\t&quot;        {\\n&quot; +\r\n\t\t&quot;          \\&quot;name\\&quot;: \\&quot;Total Tests: \\&quot;,\\n&quot; +\r\n\t\t&quot;          \\&quot;value\\&quot;: \\&quot;Needs to be totalString\\&quot;\\n&quot; +\r\n\t\t&quot;        },\\n&quot; +\r\n\t\t&quot;        {\\n&quot; +\r\n\t\t&quot;          \\&quot;name\\&quot;: \\&quot;Passed: \\&quot;,\\n&quot; +\r\n\t\t&quot;          \\&quot;value\\&quot;: \\&quot;Needs to be totalString\\&quot;\\n&quot; +\r\n\t\t&quot;        },\\n&quot; +\r\n\t\t&quot;        {\\n&quot; +\r\n\t\t&quot;          \\&quot;name\\&quot;: \\&quot;Failed: \\&quot;,\\n&quot; +\r\n\t\t&quot;          \\&quot;value\\&quot;: \\&quot;Needs to be failedString\\&quot;\\n&quot; +\r\n\t\t&quot;        },\\n&quot; +\r\n\t\t&quot;        {\\n&quot; +\r\n\t\t&quot;          \\&quot;name\\&quot;: \\&quot;Skipped\\&quot;,\\n&quot; +\r\n\t\t&quot;          \\&quot;value\\&quot;: \\&quot;Needs to be skippedString\\&quot;\\n&quot; +\r\n\t\t&quot;        }\\n&quot; +\r\n\t\t&quot;      ],\\n&quot; +\r\n\t\t&quot;      \\&quot;markdown\\&quot;: true\\n&quot; +\r\n\t\t&quot;    }\\n&quot; +\r\n\t\t&quot;  ]\\n&quot; +\r\n\t\t&quot;}&quot;;\r\n```\r\n\r\nUsing the java net http client, I have the below method, where the request body is passed as String in the POST method which accepts the request body string:\r\n\r\n```\r\npublic HttpResponse sendTeamsPostSummary(String url, String reqBody) throws IOException, InterruptedException {\r\n\tHttpClient client = HttpClient.newBuilder()\r\n\t\t\t.followRedirects(HttpClient.Redirect.NORMAL)\r\n\t\t\t.build();\r\n\r\n\tHttpRequest request = HttpRequest.newBuilder()\r\n\t\t\t.uri(URI.create(url))\r\n\t\t\t.POST(BodyPublishers.ofString(reqBody))\r\n\t\t\t.setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t\t\t.build();\r\n\r\n\tHttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\tSystem.out.println(response);\r\n\treturn response;\r\n}\r\n```\r\n\r\nHow can I do this in such a way where the value of **value** within the **facts** json object can be passed with the variable instead of a hardcoded string?\r\n","title":"How to pass a variable in JSON request body string for http POST","body":"<p>I currently have a JSON request body as a string that I am also passing as a string in the BodyPublishers.ofString() method when using the java httpclient to send a POST request.  I also want to be able to include the variables below in my values under <strong>facts</strong> as seen below:</p>\n<pre><code>String totalString = String.valueOf(total);\nString successString = String.valueOf(success);\nString failedString = String.valueOf(failed);\nString skippedString = String.valueOf(skipped);\nString body = &quot;{\\n&quot; +\n        &quot;  \\&quot;@type\\&quot;: \\&quot;MessageCard\\&quot;,\\n&quot; +\n        &quot;  \\&quot;@context\\&quot;: \\&quot;http://schema.org/extensions\\&quot;,\\n&quot; +\n        &quot;  \\&quot;themeColor\\&quot;: \\&quot;#00FF00\\&quot;,\\n&quot; +\n        &quot;  \\&quot;summary\\&quot;: \\&quot;Weekend UI Validation Success\\&quot;,\\n&quot; +\n        &quot;  \\&quot;sections\\&quot;: [\\n&quot; +\n        &quot;    {\\n&quot; +\n        &quot;      \\&quot;activityTitle\\&quot;: \\&quot;Weekend UI Validation Succesful!!\\&quot;,\\n&quot; +\n        &quot;      \\&quot;activitySubtitle\\&quot;: \\&quot;Build Results\\&quot;,\\n&quot; +\n        &quot;      \\&quot;activityImage\\&quot;: \\&quot;https://ac-buckets-dev-acpublicmedia-2cxkd4j0deg1.s3.amazonaws.com/icons/GreenThumbUP.png\\&quot;,\\n&quot; +\n        &quot;      \\&quot;facts\\&quot;: [\\n&quot; +\n        &quot;        {\\n&quot; +\n        &quot;          \\&quot;name\\&quot;: \\&quot;Message\\&quot;,\\n&quot; +\n        &quot;          \\&quot;value\\&quot;: \\&quot; Weekend UI Validation email will be shared shortly\\&quot;\\n&quot; +\n        &quot;        },\\n&quot; +\n        &quot;        {\\n&quot; +\n        &quot;          \\&quot;name\\&quot;: \\&quot;Status\\&quot;,\\n&quot; +\n        &quot;          \\&quot;value\\&quot;: \\&quot;Success\\&quot;\\n&quot; +\n        &quot;        },\\n&quot; +\n        &quot;        {\\n&quot; +\n        &quot;          \\&quot;name\\&quot;: \\&quot;Total Tests: \\&quot;,\\n&quot; +\n        &quot;          \\&quot;value\\&quot;: \\&quot;Needs to be totalString\\&quot;\\n&quot; +\n        &quot;        },\\n&quot; +\n        &quot;        {\\n&quot; +\n        &quot;          \\&quot;name\\&quot;: \\&quot;Passed: \\&quot;,\\n&quot; +\n        &quot;          \\&quot;value\\&quot;: \\&quot;Needs to be totalString\\&quot;\\n&quot; +\n        &quot;        },\\n&quot; +\n        &quot;        {\\n&quot; +\n        &quot;          \\&quot;name\\&quot;: \\&quot;Failed: \\&quot;,\\n&quot; +\n        &quot;          \\&quot;value\\&quot;: \\&quot;Needs to be failedString\\&quot;\\n&quot; +\n        &quot;        },\\n&quot; +\n        &quot;        {\\n&quot; +\n        &quot;          \\&quot;name\\&quot;: \\&quot;Skipped\\&quot;,\\n&quot; +\n        &quot;          \\&quot;value\\&quot;: \\&quot;Needs to be skippedString\\&quot;\\n&quot; +\n        &quot;        }\\n&quot; +\n        &quot;      ],\\n&quot; +\n        &quot;      \\&quot;markdown\\&quot;: true\\n&quot; +\n        &quot;    }\\n&quot; +\n        &quot;  ]\\n&quot; +\n        &quot;}&quot;;\n</code></pre>\n<p>Using the java net http client, I have the below method, where the request body is passed as String in the POST method which accepts the request body string:</p>\n<pre><code>public HttpResponse sendTeamsPostSummary(String url, String reqBody) throws IOException, InterruptedException {\n    HttpClient client = HttpClient.newBuilder()\n            .followRedirects(HttpClient.Redirect.NORMAL)\n            .build();\n\n    HttpRequest request = HttpRequest.newBuilder()\n            .uri(URI.create(url))\n            .POST(BodyPublishers.ofString(reqBody))\n            .setHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n            .build();\n\n    HttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n    System.out.println(response);\n    return response;\n}\n</code></pre>\n<p>How can I do this in such a way where the value of <strong>value</strong> within the <strong>facts</strong> json object can be passed with the variable instead of a hardcoded string?</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1648996081,"post_id":71725924,"comment_id":126758894,"body_markdown":"Did I understand the problem correctly: in the first instance of `GraduallyDecreasingCarouselRun` the values of `array` should be decreased by 1 each run, in the second instance they should be decreased by 2 etc...?","body":"Did I understand the problem correctly: in the first instance of <code>GraduallyDecreasingCarouselRun</code> the values of <code>array</code> should be decreased by 1 each run, in the second instance they should be decreased by 2 etc...?"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1648996382,"post_id":71725924,"comment_id":126758981,"body_markdown":"Also what I don&#39;t understand: you give a *capacity* to the carousel, but in your test you don&#39;t fill it completely. From other collections I would expect that they never give back more values than added, independently of their capacity. Why do you add only 3 items in your test, but then call `run.next()` 19 times? This is not an expectable behaviour.\nI don&#39;t even understand the implementation and expected behaviour of `DecrementingCarousel` and its `CarouselRun` class.","body":"Also what I don&#39;t understand: you give a <i>capacity</i> to the carousel, but in your test you don&#39;t fill it completely. From other collections I would expect that they never give back more values than added, independently of their capacity. Why do you add only 3 items in your test, but then call <code>run.next()</code> 19 times? This is not an expectable behaviour. I don&#39;t even understand the implementation and expected behaviour of <code>DecrementingCarousel</code> and its <code>CarouselRun</code> class."},{"owner":{"account_id":20543371,"reputation":43,"user_id":15077823,"display_name":"Yaroslav"},"score":0,"creation_date":1648998733,"post_id":71725924,"comment_id":126759548,"body_markdown":"@cyberbrain yeah you got it rigth. it doesnt matter how much elements was added if its &lt; 1 it will be ignored. `DecrementingCarouse` works basiclly the same as but its always decrementing by 1","body":"@cyberbrain yeah you got it rigth. it doesnt matter how much elements was added if its &lt; 1 it will be ignored. <code>DecrementingCarouse</code> works basiclly the same as but its always decrementing by 1"},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1649009659,"post_id":71725924,"comment_id":126762169,"body_markdown":"Was the initial implementation (of `DecrementingCarousel` and `CarouselRun` also written by you? I still would need the answers to my second comment (&quot;Also what I don&#39;t understand...&quot;) because the whole parent implementation doesn&#39;t fit to your description for me.","body":"Was the initial implementation (of <code>DecrementingCarousel</code> and <code>CarouselRun</code> also written by you? I still would need the answers to my second comment (&quot;Also what I don&#39;t understand...&quot;) because the whole parent implementation doesn&#39;t fit to your description for me."},{"owner":{"account_id":20543371,"reputation":43,"user_id":15077823,"display_name":"Yaroslav"},"score":0,"creation_date":1649011123,"post_id":71725924,"comment_id":126762461,"body_markdown":"@cyberbrain yes. I edited the description maybe it will be more clear.","body":"@cyberbrain yes. I edited the description maybe it will be more clear."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1649014277,"post_id":71725924,"comment_id":126763118,"body_markdown":"OK, I think after an hour of debugging I understood the requirements and the code. So far it looks correct, also if I modify your main method into a junit test, everything runs OK. So what exactly do you mean with &quot;it works fine in main but wont pass the tests&quot;? I don&#39;t find any error, all the values you printed to be expected are returned.","body":"OK, I think after an hour of debugging I understood the requirements and the code. So far it looks correct, also if I modify your main method into a junit test, everything runs OK. So what exactly do you mean with &quot;it works fine in main but wont pass the tests&quot;? I don&#39;t find any error, all the values you printed to be expected are returned."},{"owner":{"account_id":20543371,"reputation":43,"user_id":15077823,"display_name":"Yaroslav"},"score":0,"creation_date":1649015162,"post_id":71725924,"comment_id":126763296,"body_markdown":"@cyberbrain [tests](https://www.codepile.net/pile/9j6K6mE8) majority of tests wont pass","body":"@cyberbrain <a href=\"https://www.codepile.net/pile/9j6K6mE8\" rel=\"nofollow noreferrer\">tests</a> majority of tests wont pass"},{"owner":{"account_id":20543371,"reputation":43,"user_id":15077823,"display_name":"Yaroslav"},"score":0,"creation_date":1649015658,"post_id":71725924,"comment_id":126763403,"body_markdown":"and these [tests](https://www.codepile.net/pile/EnxYM8Rx)","body":"and these <a href=\"https://www.codepile.net/pile/EnxYM8Rx\" rel=\"nofollow noreferrer\">tests</a>"}],"answers":[{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1649019808,"creation_date":1649019808,"answer_id":71729833,"question_id":71725924,"body_markdown":"Wow. Needed a really long time to fully understand the problem.\r\nThe problem occurs when you fill the capacity of your array completely.\r\n\r\nIn that case your check for incrementing the value of `decrease` inside the while loop can fail, because the modulo assignment will &quot;reset&quot; the position to 0 without going inside the loop and therefore skipping the increment of `decrease`.\r\n\r\nThe solution to make the code understandable easier would be to decouple the modulo assignment from the while condition. This is slower and uses more code, but makes it easier to understand and also handles `position` as the &quot;next&quot; position like stated in the specification. Optimizations are possible, but I just post the unoptimized code here:\r\n\r\n```lang-java\r\npublic int next() {\r\n    int beforeDecreasing;\r\n    if (isFinished())\r\n        return -1;\r\n    else {\r\n        beforeDecreasing = array[position];\r\n        array[position] -= decrement;\r\n        do {\r\n            position++;\r\n            if (position == array.length) {\r\n                decrement++;\r\n                position = 0;\r\n            }\r\n        } while ((array[position] &lt;= 0) &amp;&amp; !isFinished());\r\n    }\r\n    return beforeDecreasing;\r\n}\r\n\r\n```\r\n","title":"I can&#39;t think of a condition to increase the decrement in Gradually Decreasing Carousel app","body":"<p>Wow. Needed a really long time to fully understand the problem.\nThe problem occurs when you fill the capacity of your array completely.</p>\n<p>In that case your check for incrementing the value of <code>decrease</code> inside the while loop can fail, because the modulo assignment will &quot;reset&quot; the position to 0 without going inside the loop and therefore skipping the increment of <code>decrease</code>.</p>\n<p>The solution to make the code understandable easier would be to decouple the modulo assignment from the while condition. This is slower and uses more code, but makes it easier to understand and also handles <code>position</code> as the &quot;next&quot; position like stated in the specification. Optimizations are possible, but I just post the unoptimized code here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int next() {\n    int beforeDecreasing;\n    if (isFinished())\n        return -1;\n    else {\n        beforeDecreasing = array[position];\n        array[position] -= decrement;\n        do {\n            position++;\n            if (position == array.length) {\n                decrement++;\n                position = 0;\n            }\n        } while ((array[position] &lt;= 0) &amp;&amp; !isFinished());\n    }\n    return beforeDecreasing;\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649019883,"creation_date":1649019883,"answer_id":71729846,"question_id":71725924,"body_markdown":"For a &quot;quick win&quot; I would suggest another solution: change the place and check for the increment of `decrease`: (only snippet from inside the `else` branch)\r\n\r\n```lang-java\r\nint oldPosition = position;\r\nwhile (array[position %= array.length] &lt;= 0) {\r\n    position++;\r\n}\r\nif (oldPosition &gt; position) {\r\n    decrement++;\r\n}\r\n```","title":"I can&#39;t think of a condition to increase the decrement in Gradually Decreasing Carousel app","body":"<p>For a &quot;quick win&quot; I would suggest another solution: change the place and check for the increment of <code>decrease</code>: (only snippet from inside the <code>else</code> branch)</p>\n<pre class=\"lang-java prettyprint-override\"><code>int oldPosition = position;\nwhile (array[position %= array.length] &lt;= 0) {\n    position++;\n}\nif (oldPosition &gt; position) {\n    decrement++;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9153514,"reputation":425,"user_id":6807182,"display_name":"JacobTheKnitter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652137807,"creation_date":1652137807,"answer_id":72179089,"question_id":71725924,"body_markdown":"The most complicated question, in this exercise is how to track the index of the carousel. I recommend decoupling index tracking from next() method. Such feature should be based on storing the values of both &quot;old decrement position&quot; and &quot;new decrement position&quot;. This way, you can control better, when to decrease &quot;decrement&quot; variable from -1 to -2 (and program knows what to do in case the next value in the array is equal to 0). In the presented solution, index tracking feature is introduced by calculateNewIndexDecrementPosition() method. I also show next() and isFinished() methods to make the whole CarouselRun class implementation clearer. \r\n\r\n        private int calculateNewIndexDecrementPosition(int currentIndexDecrementPostion) {\r\n            int newIndexDecrementPosition;\r\n    \r\n    //If no more elements to decrease are present. Meaning the situation where there are only zeroes in the array.\r\n            if (elementsToDecreaseWhileRunning == 0) {\r\n    //Basically get out. Could be any other value in return statement.\r\n                return 0;\r\n            }\r\n    //If you reached end of the array, go back to the beginning (0 index). THIS IS THE PLACE WHERE YOU DECREASE THE VALUE FROM -1 TO -2, -2 T0 -3 AND SO ON...\r\n            if (karuzel.size() - 1 == currentIndexDecrementPostion) {\r\n                newIndexDecrementPosition = 0;\r\n                this.amountToDecrease -= 1;\r\n            } else {\r\n    //otherwise go through the elements in the increasing order\r\n                newIndexDecrementPosition = currentIndexDecrementPostion + 1;\r\n            }\r\n    //If the value of the next element in the array also equals zero, call the function again to recalculate (increment) the index.\r\n            if (karuzel.get(newIndexDecrementPosition) == 0) {\r\n                newIndexDecrementPosition = calculateNewIndexDecrementPosition(newIndexDecrementPosition);\r\n            }\r\n            return newIndexDecrementPosition;\r\n        }\r\n    \r\n\r\n\r\n           public int next() {\r\n    //The value of elementsToDecreaseWhileRunning comes from the addElement(int element) method, which was defined in CarouselRun Class in the following way. Every time the new element has been added to the carousel the method increases ElementsToDecrease while running by one: carouselRun.setElementsToDecreaseWhileRunning(carouselRun.getElementsToDecreaseWhileRunning() + 1).\r\n    //The variable &quot;elementsToDecreaseWhileRunning&quot; stores the information about how many positive numbers are still in the array. The total amount of positive numbers in the array, allows to control when to stop the whole process of decrementing.\r\n    //If ElementsToDecreaseWhileRunning equals zero, it means that all the elements in the array were brought to value zero.\r\n            if (karuzel.isEmpty() || elementsToDecreaseWhileRunning == 0) {\r\n                return -1;\r\n            }\r\n    \r\n            int oldValue = karuzel.get(currentIndexDecrementPostion);\r\n    \r\n    //&quot;newValue&quot; initialization;\r\n            int newValue = 0;\r\n    \r\n            if (typeOfCarousel.equals(&quot;decrementing&quot;)) {\r\n                newValue = karuzel.get(currentIndexDecrementPostion) - 1;\r\n            } else if (typeOfCarousel.equals(&quot;gradually&quot;)) {\r\n                newValue = karuzel.get(currentIndexDecrementPostion) + this.amountToDecrease;\r\n    \r\n    //Protects against undesired, negative values in the carousel\r\n                if (newValue &lt; 0) {\r\n                    newValue = 0;\r\n                }\r\n            }\r\n            karuzel.set(currentIndexDecrementPostion, newValue);\r\n    \r\n    //The value of elementsToDecreaseWhileRunning comes from the addElement(int element) method, which was defined in CarouselRun Class in the following way. Every time the new element has been added to the carousel, counter ElementsToDecrese increases: carouselRun.setElementsToDecreaseWhileRunning(carouselRun.getElementsToDecreaseWhileRunning() + 1);\r\n    //If new value equals zero, the value of &quot;iteration until the end&quot; (elementsToDecreaseWhileRunning) is decreased by one. It means that, there&#39;s one less positive element in the array. The total amount of positive numbers in the array, allows to control when to stop the whole process of decrementing.\r\n            if (newValue == 0) {\r\n                elementsToDecreaseWhileRunning--;\r\n            }\r\n     //Index tracking feature\r\n            this.currentIndexDecrementPostion = calculateNewIndexDecrementPosition(this.currentIndexDecrementPostion);\r\n    \r\n    //next() based on the instructions should return value of the current element\r\n            return oldValue;\r\n        }\r\n          public boolean isFinished() {\r\n                return this.elementsToDecreaseWhileRunning &lt;= 0;\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n \r\nI added  comments to almost each line of code, because I&#39;m aware that the exercise comes from the Java Training Program, which accepts also beginning programmers. I hope that this way the solution might be understood by everyone. \r\n\r\n\r\n   ","title":"I can&#39;t think of a condition to increase the decrement in Gradually Decreasing Carousel app","body":"<p>The most complicated question, in this exercise is how to track the index of the carousel. I recommend decoupling index tracking from next() method. Such feature should be based on storing the values of both &quot;old decrement position&quot; and &quot;new decrement position&quot;. This way, you can control better, when to decrease &quot;decrement&quot; variable from -1 to -2 (and program knows what to do in case the next value in the array is equal to 0). In the presented solution, index tracking feature is introduced by calculateNewIndexDecrementPosition() method. I also show next() and isFinished() methods to make the whole CarouselRun class implementation clearer.</p>\n<pre><code>    private int calculateNewIndexDecrementPosition(int currentIndexDecrementPostion) {\n        int newIndexDecrementPosition;\n\n//If no more elements to decrease are present. Meaning the situation where there are only zeroes in the array.\n        if (elementsToDecreaseWhileRunning == 0) {\n//Basically get out. Could be any other value in return statement.\n            return 0;\n        }\n//If you reached end of the array, go back to the beginning (0 index). THIS IS THE PLACE WHERE YOU DECREASE THE VALUE FROM -1 TO -2, -2 T0 -3 AND SO ON...\n        if (karuzel.size() - 1 == currentIndexDecrementPostion) {\n            newIndexDecrementPosition = 0;\n            this.amountToDecrease -= 1;\n        } else {\n//otherwise go through the elements in the increasing order\n            newIndexDecrementPosition = currentIndexDecrementPostion + 1;\n        }\n//If the value of the next element in the array also equals zero, call the function again to recalculate (increment) the index.\n        if (karuzel.get(newIndexDecrementPosition) == 0) {\n            newIndexDecrementPosition = calculateNewIndexDecrementPosition(newIndexDecrementPosition);\n        }\n        return newIndexDecrementPosition;\n    }\n\n\n\n       public int next() {\n//The value of elementsToDecreaseWhileRunning comes from the addElement(int element) method, which was defined in CarouselRun Class in the following way. Every time the new element has been added to the carousel the method increases ElementsToDecrease while running by one: carouselRun.setElementsToDecreaseWhileRunning(carouselRun.getElementsToDecreaseWhileRunning() + 1).\n//The variable &quot;elementsToDecreaseWhileRunning&quot; stores the information about how many positive numbers are still in the array. The total amount of positive numbers in the array, allows to control when to stop the whole process of decrementing.\n//If ElementsToDecreaseWhileRunning equals zero, it means that all the elements in the array were brought to value zero.\n        if (karuzel.isEmpty() || elementsToDecreaseWhileRunning == 0) {\n            return -1;\n        }\n\n        int oldValue = karuzel.get(currentIndexDecrementPostion);\n\n//&quot;newValue&quot; initialization;\n        int newValue = 0;\n\n        if (typeOfCarousel.equals(&quot;decrementing&quot;)) {\n            newValue = karuzel.get(currentIndexDecrementPostion) - 1;\n        } else if (typeOfCarousel.equals(&quot;gradually&quot;)) {\n            newValue = karuzel.get(currentIndexDecrementPostion) + this.amountToDecrease;\n\n//Protects against undesired, negative values in the carousel\n            if (newValue &lt; 0) {\n                newValue = 0;\n            }\n        }\n        karuzel.set(currentIndexDecrementPostion, newValue);\n\n//The value of elementsToDecreaseWhileRunning comes from the addElement(int element) method, which was defined in CarouselRun Class in the following way. Every time the new element has been added to the carousel, counter ElementsToDecrese increases: carouselRun.setElementsToDecreaseWhileRunning(carouselRun.getElementsToDecreaseWhileRunning() + 1);\n//If new value equals zero, the value of &quot;iteration until the end&quot; (elementsToDecreaseWhileRunning) is decreased by one. It means that, there's one less positive element in the array. The total amount of positive numbers in the array, allows to control when to stop the whole process of decrementing.\n        if (newValue == 0) {\n            elementsToDecreaseWhileRunning--;\n        }\n //Index tracking feature\n        this.currentIndexDecrementPostion = calculateNewIndexDecrementPosition(this.currentIndexDecrementPostion);\n\n//next() based on the instructions should return value of the current element\n        return oldValue;\n    }\n      public boolean isFinished() {\n            return this.elementsToDecreaseWhileRunning &lt;= 0;\n        }\n</code></pre>\n<p>I added  comments to almost each line of code, because I'm aware that the exercise comes from the Java Training Program, which accepts also beginning programmers. I hope that this way the solution might be understood by everyone.</p>\n"},{"tags":[],"owner":{"account_id":28958367,"reputation":11,"user_id":22181433,"display_name":"Andrii"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688588811,"creation_date":1688588811,"answer_id":76623830,"question_id":71725924,"body_markdown":"/** Hello! I provide fully working code for this exercise. I write all classes here in one file for ease of reading, but in reality I have everything separated from each other. Therefore, in order to pass all the tests correctly, I advise you to take each class separately */\r\n\r\n    public class CarouselRun  {\r\n    public int [] carousel = DecrementingCarousel.carousel;\r\n    public int capacity;\r\n    int index;\r\n\r\n    public CarouselRun() {\r\n\r\n    }\r\n    public int next() {\r\n        if (isFinished())\r\n            return -1;\r\n        else {\r\n            while (!isFinished() &amp;&amp; carousel[index %= carousel.length] &lt;= 0) {\r\n                index++;\r\n            }\r\n        }\r\n        return carousel[index++]--;\r\n    }\r\n\r\n    public boolean isFinished() {\r\n        for (int el : carousel)\r\n            if (el &gt; 0)\r\n                return false;\r\n        return true;\r\n    }\r\n}\r\n\r\n\r\n    public class DecrementingCarousel extends CarouselRun {\r\n    public static int[] carousel;\r\n    static int countElement;\r\n    boolean isRun;\r\n\r\n    public DecrementingCarousel(final int capacity) {\r\n        this.capacity = capacity;\r\n        carousel = new int[capacity];\r\n\r\n    }\r\n\r\n    public DecrementingCarousel() {\r\n    }\r\n\r\n    public CarouselRun run() {\r\n        if (!isRun) {\r\n            isRun = true;\r\n            return new DecrementingCarousel();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public boolean addElement(int element) {\r\n        if (element &gt; 0 &amp;&amp; index &lt; carousel.length &amp;&amp; !isRun) {\r\n            carousel[index++] = element;\r\n            countElement++;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n}`\r\n\r\n\r\n\r\n\r\n    public class GraduallyDecreasingCarousel extends DecrementingCarousel {\r\n\r\n    int decrement = 1;\r\n\r\n    public GraduallyDecreasingCarousel(final int capacity) {\r\n        super(capacity);\r\n    }\r\n\r\n    public GraduallyDecreasingCarousel() {\r\n\r\n    }\r\n\r\n    @Override\r\n    public CarouselRun run() {\r\n        if (!isRun) {\r\n            isRun = true;\r\n            return new GraduallyDecreasingCarousel();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public int next() {\r\n        if (isFinished()) {\r\n            return -1;\r\n        } else {\r\n\r\n            while (carousel[index %= carousel.length] &lt;= 0) {\r\n                index++;\r\n                if (index == carousel.length) {\r\n                    decrement++;\r\n                }\r\n            }\r\n        }\r\n\r\n        int value = carousel[index];\r\n        carousel[index++] -= decrement;\r\n\r\n        if (index == carousel.length) {\r\n            decrement++;\r\n        }\r\n\r\n        return value;\r\n    }\r\n\r\n    @Override\r\n    public boolean isFinished() {\r\n        return super.isFinished();\r\n    }\r\n}","title":"I can&#39;t think of a condition to increase the decrement in Gradually Decreasing Carousel app","body":"<p>/** Hello! I provide fully working code for this exercise. I write all classes here in one file for ease of reading, but in reality I have everything separated from each other. Therefore, in order to pass all the tests correctly, I advise you to take each class separately */</p>\n<pre><code>public class CarouselRun  {\npublic int [] carousel = DecrementingCarousel.carousel;\npublic int capacity;\nint index;\n\npublic CarouselRun() {\n\n}\npublic int next() {\n    if (isFinished())\n        return -1;\n    else {\n        while (!isFinished() &amp;&amp; carousel[index %= carousel.length] &lt;= 0) {\n            index++;\n        }\n    }\n    return carousel[index++]--;\n}\n\npublic boolean isFinished() {\n    for (int el : carousel)\n        if (el &gt; 0)\n            return false;\n    return true;\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class DecrementingCarousel extends CarouselRun {\npublic static int[] carousel;\nstatic int countElement;\nboolean isRun;\n\npublic DecrementingCarousel(final int capacity) {\n    this.capacity = capacity;\n    carousel = new int[capacity];\n\n}\n\npublic DecrementingCarousel() {\n}\n\npublic CarouselRun run() {\n    if (!isRun) {\n        isRun = true;\n        return new DecrementingCarousel();\n    }\n    return null;\n}\n\npublic boolean addElement(int element) {\n    if (element &gt; 0 &amp;&amp; index &lt; carousel.length &amp;&amp; !isRun) {\n        carousel[index++] = element;\n        countElement++;\n        return true;\n    }\n    return false;\n}\n</code></pre>\n<p>}`</p>\n<pre><code>public class GraduallyDecreasingCarousel extends DecrementingCarousel {\n\nint decrement = 1;\n\npublic GraduallyDecreasingCarousel(final int capacity) {\n    super(capacity);\n}\n\npublic GraduallyDecreasingCarousel() {\n\n}\n\n@Override\npublic CarouselRun run() {\n    if (!isRun) {\n        isRun = true;\n        return new GraduallyDecreasingCarousel();\n    }\n    return null;\n}\n\n@Override\npublic int next() {\n    if (isFinished()) {\n        return -1;\n    } else {\n\n        while (carousel[index %= carousel.length] &lt;= 0) {\n            index++;\n            if (index == carousel.length) {\n                decrement++;\n            }\n        }\n    }\n\n    int value = carousel[index];\n    carousel[index++] -= decrement;\n\n    if (index == carousel.length) {\n        decrement++;\n    }\n\n    return value;\n}\n\n@Override\npublic boolean isFinished() {\n    return super.isFinished();\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":20543371,"reputation":43,"user_id":15077823,"display_name":"Yaroslav"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2736,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71729833,"answer_count":4,"score":4,"last_activity_date":1688588811,"creation_date":1648989106,"question_id":71725924,"body_markdown":"`Decrementing Carousel` is a container, accepting int elements. `DecrementingCarousel` has a maximum capacity, specified via the constructor. When created, DecrementingCarousel is in accumulating state: you may add elements via the `addElement` method and can produce a `CarouselRun` object via the `run` method. Once the `run` method is called, `DecrementingCarousel` is in running state: it refuses adding more elements.\r\n\r\nThe `CarouselRun` allows to iterate over elements of the carousel decrementing them one by one with the `next` method. The `next` returns the value of the current element.\r\n\r\nThe `CarouselRun` iterates over elements in the order of their insertion.\r\nWhen an element is decreased to zero, the `CarouselRun` will skip it in further iterations. When there are no more elements available for decrementing, the `CarouselRun` returns -1.\r\n\r\nThe `CarouselRun` also has the `isFinished` method, which indicates, if the carousel has run out of the lements to decrement.\r\n\r\n***Specification Details***\r\n\r\n`boolean addElement(int element)` - adds an element. If element is negative or zero, do not add the element. If container is full, do not add the element. If the run method was called to create a `CarouselRun`, do not add the element. If element is added successfully, return `true`. Return `false` otherwise.\r\n`CarouselRun run()` - returns a CarouselRun to iterate over the elements. If the run method has already been called earlier, it must return `null`: `DecrementingCarousel` may generate only one `CarouselRun` object.\r\n\r\n*`CarouselRun` has two public methods:*\r\n\r\n`int next()` - returns the current value of the current element, then decreases the current element by one and switches to the next element in insertion order. Skips zero elements. When there is no more elements to decrease, returns -1.\r\n`boolean isFinished()` - when there is no more elements to decrease, returns `true`. Otherwise, returns `false`.\r\n**The code:**\r\n\r\n```\r\npublic class DecrementingCarousel {\r\n    private final int capacity;\r\n    static int[] carousel;\r\n    int index;\r\n    boolean isRun;\r\n\r\n    {\r\n        index = 0;\r\n        isRun = false;\r\n    }\r\n\r\n    public DecrementingCarousel(int capacity) {\r\n        this.capacity = capacity;\r\n        carousel = new int[capacity];\r\n    }\r\n\r\n    public boolean addElement(int element){\r\n        if (element &gt; 0 &amp;&amp; index &lt; capacity &amp;&amp; !isRun) {\r\n            carousel[index++] = element;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public CarouselRun run() {\r\n        if (!isRun) {\r\n            isRun = true;\r\n            return new CarouselRun();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nMethods in CarouselRun:\r\n\r\n```\r\npublic class CarouselRun {\r\n    protected final int[] array = DecrementingCarousel.carousel.clone();\r\n    protected int position = 0;\r\n\r\n    public int next() {\r\n        if (isFinished())\r\n            return -1;\r\n        else {\r\n            while (array[position %= array.length] &lt;= 0) {\r\n                position++;\r\n            }\r\n        }\r\n        return array[position++]--;\r\n    }\r\n\r\n    public boolean isFinished() {\r\n        for (int el : array)\r\n            if (el &gt; 0)\r\n                return false;\r\n        return true;\r\n    }\r\n}\r\n```\r\n\r\nSo this subclass must decrement elements by gradually increasing decrement. When you need to decrement an element for the first time, decrease it by 1. Next time you need to decrement the same element, decrease it by 2. Next time decrease by 3, then by 4 and so on.\r\n\r\n```\r\npublic class GraduallyDecreasingCarousel extends DecrementingCarousel{\r\n    public GraduallyDecreasingCarousel(final int capacity) {\r\n        super(capacity);\r\n    }\r\n\r\n    @Override\r\n    public CarouselRun run() {\r\n        if (!isRun) {\r\n            isRun = true;\r\n            return new GraduallyDecreasingCarouselRun();\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npublic class GraduallyDecreasingCarouselRun extends CarouselRun {\r\n    int decrement = 1;\r\n\r\n    @Override\r\n    public int next() {\r\n        int beforeDecreasing;\r\n        if (isFinished())\r\n            return -1;\r\n        else {\r\n            while (array[position %= array.length] &lt;= 0) {\r\n                position++;\r\n                if (position == array.length) {\r\n                    decrement++;\r\n                }\r\n            }\r\n        }\r\n        beforeDecreasing = array[position];\r\n        array[position++] -= decrement;\r\n        return beforeDecreasing;\r\n    }\r\n```\r\n\r\nThe main method:\r\n\r\n```\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        DecrementingCarousel carousel = new GraduallyDecreasingCarousel(7);\r\n\r\n        carousel.addElement(20);\r\n        carousel.addElement(30);\r\n        carousel.addElement(10);\r\n\r\n        CarouselRun run = carousel.run();\r\n\r\n        System.out.println(run.isFinished()); //false\r\n\r\n        System.out.println(run.next()); //20\r\n        System.out.println(run.next()); //30\r\n        System.out.println(run.next()); //10\r\n\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n        System.out.println(run.next()); //19\r\n        System.out.println(run.next()); //29\r\n        System.out.println(run.next()); //9\r\n\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n        System.out.println(run.next()); //17\r\n        System.out.println(run.next()); //27\r\n        System.out.println(run.next()); //7\r\n\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n        System.out.println(run.next()); //14\r\n        System.out.println(run.next()); //24\r\n        System.out.println(run.next()); //4\r\n\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n        System.out.println(run.next()); //10\r\n        System.out.println(run.next()); //20\r\n\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n        System.out.println(run.next()); //5\r\n        System.out.println(run.next()); //15\r\n\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n        System.out.println(run.next()); //9\r\n\r\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\r\n\r\n        System.out.println(run.next()); //2\r\n\r\n        System.out.println(run.isFinished()); //true\r\n        System.out.println(run.next()); //-1\r\n    }\r\n}\r\n```\r\n\r\nit works fine in main but wont pass the tests\r\nIDK how to change next method in GraduallyDecreasingCarouselRun\r\n\r\ntried counting next calls and reset the counter when its greater than amount of elements to decrease but when theres one element left its wasnt working correctly","title":"I can&#39;t think of a condition to increase the decrement in Gradually Decreasing Carousel app","body":"<p><code>Decrementing Carousel</code> is a container, accepting int elements. <code>DecrementingCarousel</code> has a maximum capacity, specified via the constructor. When created, DecrementingCarousel is in accumulating state: you may add elements via the <code>addElement</code> method and can produce a <code>CarouselRun</code> object via the <code>run</code> method. Once the <code>run</code> method is called, <code>DecrementingCarousel</code> is in running state: it refuses adding more elements.</p>\n<p>The <code>CarouselRun</code> allows to iterate over elements of the carousel decrementing them one by one with the <code>next</code> method. The <code>next</code> returns the value of the current element.</p>\n<p>The <code>CarouselRun</code> iterates over elements in the order of their insertion.\nWhen an element is decreased to zero, the <code>CarouselRun</code> will skip it in further iterations. When there are no more elements available for decrementing, the <code>CarouselRun</code> returns -1.</p>\n<p>The <code>CarouselRun</code> also has the <code>isFinished</code> method, which indicates, if the carousel has run out of the lements to decrement.</p>\n<p><em><strong>Specification Details</strong></em></p>\n<p><code>boolean addElement(int element)</code> - adds an element. If element is negative or zero, do not add the element. If container is full, do not add the element. If the run method was called to create a <code>CarouselRun</code>, do not add the element. If element is added successfully, return <code>true</code>. Return <code>false</code> otherwise.\n<code>CarouselRun run()</code> - returns a CarouselRun to iterate over the elements. If the run method has already been called earlier, it must return <code>null</code>: <code>DecrementingCarousel</code> may generate only one <code>CarouselRun</code> object.</p>\n<p><em><code>CarouselRun</code> has two public methods:</em></p>\n<p><code>int next()</code> - returns the current value of the current element, then decreases the current element by one and switches to the next element in insertion order. Skips zero elements. When there is no more elements to decrease, returns -1.\n<code>boolean isFinished()</code> - when there is no more elements to decrease, returns <code>true</code>. Otherwise, returns <code>false</code>.\n<strong>The code:</strong></p>\n<pre><code>public class DecrementingCarousel {\n    private final int capacity;\n    static int[] carousel;\n    int index;\n    boolean isRun;\n\n    {\n        index = 0;\n        isRun = false;\n    }\n\n    public DecrementingCarousel(int capacity) {\n        this.capacity = capacity;\n        carousel = new int[capacity];\n    }\n\n    public boolean addElement(int element){\n        if (element &gt; 0 &amp;&amp; index &lt; capacity &amp;&amp; !isRun) {\n            carousel[index++] = element;\n            return true;\n        }\n        return false;\n    }\n\n    public CarouselRun run() {\n        if (!isRun) {\n            isRun = true;\n            return new CarouselRun();\n        }\n        return null;\n    }\n}\n</code></pre>\n<p>Methods in CarouselRun:</p>\n<pre><code>public class CarouselRun {\n    protected final int[] array = DecrementingCarousel.carousel.clone();\n    protected int position = 0;\n\n    public int next() {\n        if (isFinished())\n            return -1;\n        else {\n            while (array[position %= array.length] &lt;= 0) {\n                position++;\n            }\n        }\n        return array[position++]--;\n    }\n\n    public boolean isFinished() {\n        for (int el : array)\n            if (el &gt; 0)\n                return false;\n        return true;\n    }\n}\n</code></pre>\n<p>So this subclass must decrement elements by gradually increasing decrement. When you need to decrement an element for the first time, decrease it by 1. Next time you need to decrement the same element, decrease it by 2. Next time decrease by 3, then by 4 and so on.</p>\n<pre><code>public class GraduallyDecreasingCarousel extends DecrementingCarousel{\n    public GraduallyDecreasingCarousel(final int capacity) {\n        super(capacity);\n    }\n\n    @Override\n    public CarouselRun run() {\n        if (!isRun) {\n            isRun = true;\n            return new GraduallyDecreasingCarouselRun();\n        }\n        return null;\n    }\n}\n\n</code></pre>\n<pre><code>public class GraduallyDecreasingCarouselRun extends CarouselRun {\n    int decrement = 1;\n\n    @Override\n    public int next() {\n        int beforeDecreasing;\n        if (isFinished())\n            return -1;\n        else {\n            while (array[position %= array.length] &lt;= 0) {\n                position++;\n                if (position == array.length) {\n                    decrement++;\n                }\n            }\n        }\n        beforeDecreasing = array[position];\n        array[position++] -= decrement;\n        return beforeDecreasing;\n    }\n</code></pre>\n<p>The main method:</p>\n<pre><code>public class Main {\n    public static void main(String[] args) {\n        DecrementingCarousel carousel = new GraduallyDecreasingCarousel(7);\n\n        carousel.addElement(20);\n        carousel.addElement(30);\n        carousel.addElement(10);\n\n        CarouselRun run = carousel.run();\n\n        System.out.println(run.isFinished()); //false\n\n        System.out.println(run.next()); //20\n        System.out.println(run.next()); //30\n        System.out.println(run.next()); //10\n\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n        System.out.println(run.next()); //19\n        System.out.println(run.next()); //29\n        System.out.println(run.next()); //9\n\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n        System.out.println(run.next()); //17\n        System.out.println(run.next()); //27\n        System.out.println(run.next()); //7\n\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n        System.out.println(run.next()); //14\n        System.out.println(run.next()); //24\n        System.out.println(run.next()); //4\n\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n        System.out.println(run.next()); //10\n        System.out.println(run.next()); //20\n\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n        System.out.println(run.next()); //5\n        System.out.println(run.next()); //15\n\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n        System.out.println(run.next()); //9\n\n        System.out.println(&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;);\n\n        System.out.println(run.next()); //2\n\n        System.out.println(run.isFinished()); //true\n        System.out.println(run.next()); //-1\n    }\n}\n</code></pre>\n<p>it works fine in main but wont pass the tests\nIDK how to change next method in GraduallyDecreasingCarouselRun</p>\n<p>tried counting next calls and reset the counter when its greater than amount of elements to decrease but when theres one element left its wasnt working correctly</p>\n"},{"tags":["java","jdatechooser","jcalendar"],"comments":[{"owner":{"account_id":11653484,"reputation":12724,"user_id":8534008,"display_name":"GBlodgett"},"score":0,"creation_date":1546274188,"post_id":53989542,"comment_id":94816694,"body_markdown":"Could you please post the code?","body":"Could you please post the code?"},{"owner":{"account_id":14985206,"reputation":1,"user_id":10817964,"display_name":"Net Monster"},"score":0,"creation_date":1546275806,"post_id":53989542,"comment_id":94817144,"body_markdown":"i just tried JDateChooser jdc = new JDateChooser(); which gives the error of not being resolved as a type","body":"i just tried JDateChooser jdc = new JDateChooser(); which gives the error of not being resolved as a type"},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":2,"creation_date":1546277985,"post_id":53989542,"comment_id":94817639,"body_markdown":"No, [edit] your question, and add the code, including the imports. You can remove all the irrelevant parts. Leave only a minimal piece of code which should compile but doesn&#39;t. Also make sure the applicable jars are in the build path.","body":"No, <a href=\"https://stackoverflow.com/posts/53989542/edit\">edit</a> your question, and add the code, including the imports. You can remove all the irrelevant parts. Leave only a minimal piece of code which should compile but doesn&#39;t. Also make sure the applicable jars are in the build path."},{"owner":{"account_id":11864138,"reputation":1365,"user_id":8682068,"display_name":"RubenDG"},"score":0,"creation_date":1546281770,"post_id":53989542,"comment_id":94818579,"body_markdown":"There is no JDateChooser class in [JDK11](https://docs.oracle.com/en/java/javase/11/docs/api/allclasses.html), so you have to import an external jar (maybe [this](https://github.com/vadimig/jdatechooser)) in order to use it. Please edit your question pasting your code and be sure to paste the `import` too.","body":"There is no JDateChooser class in <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/allclasses.html\" rel=\"nofollow noreferrer\">JDK11</a>, so you have to import an external jar (maybe <a href=\"https://github.com/vadimig/jdatechooser\" rel=\"nofollow noreferrer\">this</a>) in order to use it. Please edit your question pasting your code and be sure to paste the <code>import</code> too."}],"answers":[{"tags":[],"owner":{"account_id":20196113,"reputation":21,"user_id":14813025,"display_name":"Rakhi jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639086058,"creation_date":1639064902,"answer_id":70292777,"question_id":53989542,"body_markdown":"You can use the `toString()` method to store the `jDateChooser` value into a string variable.\r\n\r\nFor example:\r\n```\r\nString dob = jDateChooser1.getDate().toString();\r\n```","title":"JDateChooser cannot be resolved to a type","body":"<p>You can use the <code>toString()</code> method to store the <code>jDateChooser</code> value into a string variable.</p>\n<p>For example:</p>\n<pre><code>String dob = jDateChooser1.getDate().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28958261,"reputation":1,"user_id":22181347,"display_name":"Pratik Morge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688587287,"creation_date":1688587287,"answer_id":76623679,"question_id":53989542,"body_markdown":"This error occurs because the JDateChooser class is not recognized by the compiler. It means that the required library or dependency for JDateChooser is missing or not properly imported.\r\n\r\nTo fix this error, you need to make sure that you have the necessary library or dependency for JDateChooser added to your project. This can be done by either downloading the JDateChooser library and adding it to your projects classpath, or by using a build tool like Maven or Gradle to manage your dependencies.\r\n\r\nDownload the JDateChooser library and add it to your projects classpath.\r\nImport the JDateChooser class in your code:\r\nimport com.toedter.calendar.JDateChooser;\r\nNow you should be able to use the JDateChooser class in your code without any errors.","title":"JDateChooser cannot be resolved to a type","body":"<p>This error occurs because the JDateChooser class is not recognized by the compiler. It means that the required library or dependency for JDateChooser is missing or not properly imported.</p>\n<p>To fix this error, you need to make sure that you have the necessary library or dependency for JDateChooser added to your project. This can be done by either downloading the JDateChooser library and adding it to your projects classpath, or by using a build tool like Maven or Gradle to manage your dependencies.</p>\n<p>Download the JDateChooser library and add it to your projects classpath.\nImport the JDateChooser class in your code:\nimport com.toedter.calendar.JDateChooser;\nNow you should be able to use the JDateChooser class in your code without any errors.</p>\n"}],"owner":{"account_id":14985206,"reputation":1,"user_id":10817964,"display_name":"Net Monster"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688587287,"creation_date":1546274146,"question_id":53989542,"body_markdown":"I&#39;m using eclipse photon with jdk 11, i tried the declaration of a JDateChooser but it couldn&#39;t be resolved to a type althought i imported everything in need\r\n\r\n\r\nany idea on how i can make it work\r\n\r\n","title":"JDateChooser cannot be resolved to a type","body":"<p>I'm using eclipse photon with jdk 11, i tried the declaration of a JDateChooser but it couldn't be resolved to a type althought i imported everything in need</p>\n\n<p>any idea on how i can make it work</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9666,"page":326,"page_size":100}
