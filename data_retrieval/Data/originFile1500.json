{"items":[{"tags":["java","scala","jodatime"],"comments":[{"owner":{"account_id":166529,"reputation":20225,"user_id":390708,"accept_rate":89,"display_name":"Brian"},"score":0,"creation_date":1374034869,"post_id":17690739,"comment_id":25775923,"body_markdown":"See this: http://www.scala-lang.org/node/6982. Are you entering this line by line in the REPL? I can&#39;t reproduce this with scala 2.10.0 and Joda Time 1.6 when I compile with `scalac` or when I load a file with the code in `scala`.","body":"See this: <a href=\"http://www.scala-lang.org/node/6982\" rel=\"nofollow noreferrer\">scala-lang.org/node/6982</a>. Are you entering this line by line in the REPL? I can&#39;t reproduce this with scala 2.10.0 and Joda Time 1.6 when I compile with <code>scalac</code> or when I load a file with the code in <code>scala</code>."},{"owner":{"account_id":3036799,"reputation":171,"user_id":2574695,"display_name":"Loooit"},"score":0,"creation_date":1374036869,"post_id":17690739,"comment_id":25776513,"body_markdown":"Hi Brian, I saw that thread before, although I&#39;m not sure what to make of it, apart from some other people having the same issue. I am running Joda Time 1.6, but Scala 2.9.2. trying your setup on a different system now. I have tried scala 2.10.2 previously, although I dont think the problem lies there.","body":"Hi Brian, I saw that thread before, although I&#39;m not sure what to make of it, apart from some other people having the same issue. I am running Joda Time 1.6, but Scala 2.9.2. trying your setup on a different system now. I have tried scala 2.10.2 previously, although I dont think the problem lies there."},{"owner":{"account_id":166529,"reputation":20225,"user_id":390708,"accept_rate":89,"display_name":"Brian"},"score":1,"creation_date":1374037013,"post_id":17690739,"comment_id":25776546,"body_markdown":"The problem can be reduced to this snippet `val dt = new DateTime(2013,7,16)` as noted in that thread which gives the same error `java.lang.IllegalArgumentException: No instant converter found for type: scala.Tuple3`","body":"The problem can be reduced to this snippet <code>val dt = new DateTime(2013,7,16)</code> as noted in that thread which gives the same error <code>java.lang.IllegalArgumentException: No instant converter found for type: scala.Tuple3</code>"},{"owner":{"account_id":3036799,"reputation":171,"user_id":2574695,"display_name":"Loooit"},"score":1,"creation_date":1374041470,"post_id":17690739,"comment_id":25778186,"body_markdown":"I fixed the issue, I think it came down to not giving enough info to the DateTime() thing. ie it needed milliseconds, eg DateTime(2000, 06, 30,0,0,0,0). also a similar story for Period. This meant that the Compiler didn&#39;t know what to do with it. Ill put up the full code when I can.","body":"I fixed the issue, I think it came down to not giving enough info to the DateTime() thing. ie it needed milliseconds, eg DateTime(2000, 06, 30,0,0,0,0). also a similar story for Period. This meant that the Compiler didn&#39;t know what to do with it. Ill put up the full code when I can."},{"owner":{"account_id":5645,"reputation":168050,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"score":0,"creation_date":1374042327,"post_id":17690739,"comment_id":25778560,"body_markdown":"And by the way, why are you using Joda Time 1.6 when the current version is 2.2?","body":"And by the way, why are you using Joda Time 1.6 when the current version is 2.2?"},{"owner":{"account_id":166529,"reputation":20225,"user_id":390708,"accept_rate":89,"display_name":"Brian"},"score":0,"creation_date":1374042586,"post_id":17690739,"comment_id":25778670,"body_markdown":"1.6 was the first one I found in my .m2 directory. :) What&#39;s your excuse @Loooit?","body":"1.6 was the first one I found in my .m2 directory. :) What&#39;s your excuse @Loooit?"},{"owner":{"account_id":3036799,"reputation":171,"user_id":2574695,"display_name":"Loooit"},"score":0,"creation_date":1374102257,"post_id":17690739,"comment_id":25813874,"body_markdown":"I was running 2.2, but changed to see if it made a difference.","body":"I was running 2.2, but changed to see if it made a difference."}],"answers":[{"tags":[],"owner":{"account_id":166529,"reputation":20225,"user_id":390708,"accept_rate":89,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1512098384,"creation_date":1374036629,"answer_id":17691356,"question_id":17690739,"body_markdown":"A work around is to define the dates like this:\r\n\r\n    val date = new DateTime().withYear(2013).withMonthOfYear(7).withDayOfMonth(16)\r\n\r\nThe entire sequence in the REPL then becomes this:\r\n\r\n    scala&gt; import org.joda.time.{DateTime, Period}\r\n    import org.joda.time.{DateTime, Period}\r\n    \r\n    scala&gt; def dateRange(from: DateTime, to: DateTime, step: Period): Iterator[DateTime]      =Iterator.iterate(from)(_.plus(step)).takeWhile(!_.isAfter(to))\r\n    dateRange: (from: org.joda.time.DateTime, to: org.joda.time.DateTime, step: org.joda.time.Period)Iterator[org.joda.time.DateTime]\r\n    \r\n    scala&gt; val from = new DateTime().withYear(2012).withMonthOfYear(6).withDayOfMonth(30).minusYears(5)\r\n    from: org.joda.time.DateTime = 2007-06-30T21:46:05.536-07:00\r\n    \r\n    scala&gt; val to = new DateTime().withYear(2000).withMonthOfYear(6).withDayOfMonth(30)\r\n    to: org.joda.time.DateTime = 2000-06-30T21:46:26.186-07:00\r\n    \r\n    scala&gt; val range = dateRange(from, to, new Period().withMonths(6))\r\n    range: Iterator[org.joda.time.DateTime] = non-empty iterator\r\n    \r\n    scala&gt; range.toList\r\n    res4: List[org.joda.time.DateTime] = List(\r\n    2000-06-30T21:46:26.186-07:00,\r\n    2000-12-30T21:46:26.186-08:00,\r\n    2001-06-30T21:46:26.186-07:00,\r\n    2001-12-30T21:46:26.186-08:00,\r\n    2002-06-30T21:46:26.186-07:00,\r\n    2002-12-30T21:46:26.186-08:00,\r\n    2003-06-30T21:46:26.186-07:00,\r\n    2003-12-30T21:46:26.186-08:00,\r\n    2004-06-30T21:46:26.186-07:00,\r\n    2004-12-30T21:46:26.186-08:00,\r\n    2005-06-30T21:46:26.186-07:00,\r\n    2005-12-30T21:46:26.186-08:00,\r\n    2006-06-30T21:46:26.186-07:00,\r\n    2006-12-30T21:46:26.186-08:00)\r\n\r\nAlso, I wasn&#39;t able to reproduce this as noted in my comment. Seems the behavior is different in the REPL and the compiler.\r\n\r\n","title":"Creating a dateRange Scala, Joda, Java","body":"<p>A work around is to define the dates like this:</p>\n\n<pre><code>val date = new DateTime().withYear(2013).withMonthOfYear(7).withDayOfMonth(16)\n</code></pre>\n\n<p>The entire sequence in the REPL then becomes this:</p>\n\n<pre><code>scala&gt; import org.joda.time.{DateTime, Period}\nimport org.joda.time.{DateTime, Period}\n\nscala&gt; def dateRange(from: DateTime, to: DateTime, step: Period): Iterator[DateTime]      =Iterator.iterate(from)(_.plus(step)).takeWhile(!_.isAfter(to))\ndateRange: (from: org.joda.time.DateTime, to: org.joda.time.DateTime, step: org.joda.time.Period)Iterator[org.joda.time.DateTime]\n\nscala&gt; val from = new DateTime().withYear(2012).withMonthOfYear(6).withDayOfMonth(30).minusYears(5)\nfrom: org.joda.time.DateTime = 2007-06-30T21:46:05.536-07:00\n\nscala&gt; val to = new DateTime().withYear(2000).withMonthOfYear(6).withDayOfMonth(30)\nto: org.joda.time.DateTime = 2000-06-30T21:46:26.186-07:00\n\nscala&gt; val range = dateRange(from, to, new Period().withMonths(6))\nrange: Iterator[org.joda.time.DateTime] = non-empty iterator\n\nscala&gt; range.toList\nres4: List[org.joda.time.DateTime] = List(\n2000-06-30T21:46:26.186-07:00,\n2000-12-30T21:46:26.186-08:00,\n2001-06-30T21:46:26.186-07:00,\n2001-12-30T21:46:26.186-08:00,\n2002-06-30T21:46:26.186-07:00,\n2002-12-30T21:46:26.186-08:00,\n2003-06-30T21:46:26.186-07:00,\n2003-12-30T21:46:26.186-08:00,\n2004-06-30T21:46:26.186-07:00,\n2004-12-30T21:46:26.186-08:00,\n2005-06-30T21:46:26.186-07:00,\n2005-12-30T21:46:26.186-08:00,\n2006-06-30T21:46:26.186-07:00,\n2006-12-30T21:46:26.186-08:00)\n</code></pre>\n\n<p>Also, I wasn't able to reproduce this as noted in my comment. Seems the behavior is different in the REPL and the compiler.</p>\n"},{"tags":[],"owner":{"account_id":5645,"reputation":168050,"user_id":9204,"accept_rate":82,"display_name":"Alexey Romanov"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1374042258,"creation_date":1374041628,"answer_id":17692400,"question_id":17690739,"body_markdown":"`DateTime` [doesn&#39;t have][1] a constructor taking three `int` arguments, so `new DateTime(2012, 06, 30)` calls `DateTime(Object)` constructor with the tuple `(2012, 06, 30)` as the argument. The documentation says:\n\n&gt; Constructs an instance from an `Object` that represents a datetime.\n&gt;\n&gt; If the object implies a chronology (such as `GregorianCalendar` does), then that chronology will be used. Otherwise, ISO default is used. Thus if a `GregorianCalendar` is passed in, the chronology used will be GJ, but if a Date is passed in the chronology will be ISO.\n&gt;\n&gt; The recognised object types are defined in `ConverterManager` and include `ReadableInstant`, `String`, `Calendar` and `Date`. The `String` formats are described by `ISODateTimeFormat.dateTimeParser()`.\n\nUnsurprisingly, `ConverterManager` doesn&#39;t know what to do with a Scala tuple, which results in the exception.\n\n&gt; If someone can give me a different solution, that would also be great. I want a list of dates from 2000 to 2012, every 6 months.\n\nIf you actually want dates, the better type to use is [`LocalDate`][2] (which does have the constructor you want, by the way). If you want `DateTime` at the start of these dates, then you need to think about what time zone to use.\n\n\n  [1]: http://joda-time.sourceforge.net/api-release/org/joda/time/DateTime.html\n  [2]: http://joda-time.sourceforge.net/api-release/org/joda/time/LocalDate.html","title":"Creating a dateRange Scala, Joda, Java","body":"<p><code>DateTime</code> <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/DateTime.html\" rel=\"nofollow noreferrer\">doesn't have</a> a constructor taking three <code>int</code> arguments, so <code>new DateTime(2012, 06, 30)</code> calls <code>DateTime(Object)</code> constructor with the tuple <code>(2012, 06, 30)</code> as the argument. The documentation says:</p>\n<blockquote>\n<p>Constructs an instance from an <code>Object</code> that represents a datetime.</p>\n<p>If the object implies a chronology (such as <code>GregorianCalendar</code> does), then that chronology will be used. Otherwise, ISO default is used. Thus if a <code>GregorianCalendar</code> is passed in, the chronology used will be GJ, but if a Date is passed in the chronology will be ISO.</p>\n<p>The recognised object types are defined in <code>ConverterManager</code> and include <code>ReadableInstant</code>, <code>String</code>, <code>Calendar</code> and <code>Date</code>. The <code>String</code> formats are described by <code>ISODateTimeFormat.dateTimeParser()</code>.</p>\n</blockquote>\n<p>Unsurprisingly, <code>ConverterManager</code> doesn't know what to do with a Scala tuple, which results in the exception.</p>\n<blockquote>\n<p>If someone can give me a different solution, that would also be great. I want a list of dates from 2000 to 2012, every 6 months.</p>\n</blockquote>\n<p>If you actually want dates, the better type to use is <a href=\"http://joda-time.sourceforge.net/api-release/org/joda/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> (which does have the constructor you want, by the way). If you want <code>DateTime</code> at the start of these dates, then you need to think about what time zone to use.</p>\n"},{"tags":[],"owner":{"account_id":3036799,"reputation":171,"user_id":2574695,"display_name":"Loooit"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1444744222,"creation_date":1374102468,"answer_id":17711812,"question_id":17690739,"body_markdown":"Ok, Here is the complete working code.\r\n\r\n    import org.joda.time.{Period, DateTime}\r\n\r\n    object runme {\r\n\r\n      def main(args:Array[String]) {\r\n\r\n      def dateRange(from: DateTime, to: DateTime, step: Period): Iterator[DateTime]\r\n      =Iterator.iterate(from)(_.plus(step)).takeWhile(!_.isAfter(to))\r\n\r\n      val range = { dateRange(new DateTime(2000, 06, 30,0,0,0,0).minusYears(5) ,new DateTime(2013, 06, 30,0,0,0,0),new Period(0,6,0,0,0,0,0,0))}\r\n\r\n      range.foreach(u =&gt; { \r\n        print(u.getYear)\r\n        print(u.getMonthOfYear)\r\n        println(u.getDayOfMonth)\r\n      })\r\n\r\n     }\r\n    }\r\n\r\nI think my main problem was not having enough numbers after the `DateTime()` functions (ie the milliseconds etc.) this meant the compiler wasn&#39;t receiving all the parameters that it wanted. As mentioned by Alexey Romanov\r\n\r\nThis then prints the dates for a desired range, and can be used as an iterator.\r\n\r\nHope that helps others.\r\n\r\nThanks @Brian and others for the Help\r\n","title":"Creating a dateRange Scala, Joda, Java","body":"<p>Ok, Here is the complete working code.</p>\n\n<pre><code>import org.joda.time.{Period, DateTime}\n\nobject runme {\n\n  def main(args:Array[String]) {\n\n  def dateRange(from: DateTime, to: DateTime, step: Period): Iterator[DateTime]\n  =Iterator.iterate(from)(_.plus(step)).takeWhile(!_.isAfter(to))\n\n  val range = { dateRange(new DateTime(2000, 06, 30,0,0,0,0).minusYears(5) ,new DateTime(2013, 06, 30,0,0,0,0),new Period(0,6,0,0,0,0,0,0))}\n\n  range.foreach(u =&gt; { \n    print(u.getYear)\n    print(u.getMonthOfYear)\n    println(u.getDayOfMonth)\n  })\n\n }\n}\n</code></pre>\n\n<p>I think my main problem was not having enough numbers after the <code>DateTime()</code> functions (ie the milliseconds etc.) this meant the compiler wasn't receiving all the parameters that it wanted. As mentioned by Alexey Romanov</p>\n\n<p>This then prints the dates for a desired range, and can be used as an iterator.</p>\n\n<p>Hope that helps others.</p>\n\n<p>Thanks @Brian and others for the Help</p>\n"},{"tags":[],"owner":{"account_id":1623182,"reputation":603,"user_id":1499332,"display_name":"Brandon Kearby"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1426520874,"creation_date":1426520874,"answer_id":29081108,"question_id":17690739,"body_markdown":"I was needing something similar. Here&#39;s what I came up with:\r\n\r\n    import org.joda.time.{Period, DateTime}\r\n\r\n    class DateRange(val start: DateTime, val end: DateTime, val step: Period, inclusive: Boolean) extends Iterable[DateTime] {\r\n        override def iterator: Iterator[DateTime] = new DateRangeIterator\r\n\r\n        class DateRangeIterator extends Iterator[DateTime] {\r\n            var current = start\r\n\r\n            override def hasNext: Boolean = current.isBefore(end) || (inclusive &amp;&amp; current == end)\r\n\r\n            override def next(): DateTime = {\r\n                val returnVal = current\r\n                current = current.withPeriodAdded(step, 1)\r\n                returnVal\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nExample Usage:\r\n\r\n    val startOfDay: DateTime = new DateTime().withTimeAtStartOfDay()\r\n    val endOfDay: DateTime = startOfDay.plusDays(1)\r\n    val dateRange = new DateRange(startOfDay, endOfDay, Period.hours(1), false)\r\n    for (d &lt;- dateRange) println(d)\r\n\r\n\r\nOutput:\r\n\r\n    2015-03-16T00:00:00.000-05:00\r\n    2015-03-16T01:00:00.000-05:00\r\n    2015-03-16T02:00:00.000-05:00\r\n    2015-03-16T03:00:00.000-05:00\r\n    2015-03-16T04:00:00.000-05:00\r\n    2015-03-16T05:00:00.000-05:00\r\n    2015-03-16T06:00:00.000-05:00\r\n    2015-03-16T07:00:00.000-05:00\r\n    2015-03-16T08:00:00.000-05:00\r\n    2015-03-16T09:00:00.000-05:00\r\n    2015-03-16T10:00:00.000-05:00\r\n    2015-03-16T11:00:00.000-05:00\r\n    2015-03-16T12:00:00.000-05:00\r\n    2015-03-16T13:00:00.000-05:00\r\n    2015-03-16T14:00:00.000-05:00\r\n    2015-03-16T15:00:00.000-05:00\r\n    2015-03-16T16:00:00.000-05:00\r\n    2015-03-16T17:00:00.000-05:00\r\n    2015-03-16T18:00:00.000-05:00\r\n    2015-03-16T19:00:00.000-05:00\r\n    2015-03-16T20:00:00.000-05:00\r\n    2015-03-16T21:00:00.000-05:00\r\n    2015-03-16T22:00:00.000-05:00\r\n    2015-03-16T23:00:00.000-05:00\r\n\r\n","title":"Creating a dateRange Scala, Joda, Java","body":"<p>I was needing something similar. Here's what I came up with:</p>\n\n<pre><code>import org.joda.time.{Period, DateTime}\n\nclass DateRange(val start: DateTime, val end: DateTime, val step: Period, inclusive: Boolean) extends Iterable[DateTime] {\n    override def iterator: Iterator[DateTime] = new DateRangeIterator\n\n    class DateRangeIterator extends Iterator[DateTime] {\n        var current = start\n\n        override def hasNext: Boolean = current.isBefore(end) || (inclusive &amp;&amp; current == end)\n\n        override def next(): DateTime = {\n            val returnVal = current\n            current = current.withPeriodAdded(step, 1)\n            returnVal\n        }\n    }\n}\n</code></pre>\n\n<p>Example Usage:</p>\n\n<pre><code>val startOfDay: DateTime = new DateTime().withTimeAtStartOfDay()\nval endOfDay: DateTime = startOfDay.plusDays(1)\nval dateRange = new DateRange(startOfDay, endOfDay, Period.hours(1), false)\nfor (d &lt;- dateRange) println(d)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>2015-03-16T00:00:00.000-05:00\n2015-03-16T01:00:00.000-05:00\n2015-03-16T02:00:00.000-05:00\n2015-03-16T03:00:00.000-05:00\n2015-03-16T04:00:00.000-05:00\n2015-03-16T05:00:00.000-05:00\n2015-03-16T06:00:00.000-05:00\n2015-03-16T07:00:00.000-05:00\n2015-03-16T08:00:00.000-05:00\n2015-03-16T09:00:00.000-05:00\n2015-03-16T10:00:00.000-05:00\n2015-03-16T11:00:00.000-05:00\n2015-03-16T12:00:00.000-05:00\n2015-03-16T13:00:00.000-05:00\n2015-03-16T14:00:00.000-05:00\n2015-03-16T15:00:00.000-05:00\n2015-03-16T16:00:00.000-05:00\n2015-03-16T17:00:00.000-05:00\n2015-03-16T18:00:00.000-05:00\n2015-03-16T19:00:00.000-05:00\n2015-03-16T20:00:00.000-05:00\n2015-03-16T21:00:00.000-05:00\n2015-03-16T22:00:00.000-05:00\n2015-03-16T23:00:00.000-05:00\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12404214,"reputation":81,"user_id":9039958,"display_name":"hucko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647862521,"creation_date":1590698402,"answer_id":62074120,"question_id":17690739,"body_markdown":"I came up with this simple solution:\r\n\r\n```scala\r\ndef generateDateRange(from: LocalDate, to: LocalDate): List[Date] = {\r\n    if(from.compareTo(to) &gt; 0) Nil\r\n    from :: generateDateRange(from.plusDays(1), to)\r\n}\r\n```\r\n\r\nWe recursively build a list of dates by prepending the start of the range to the new range which starts a day later.","title":"Creating a dateRange Scala, Joda, Java","body":"<p>I came up with this simple solution:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>def generateDateRange(from: LocalDate, to: LocalDate): List[Date] = {\n    if(from.compareTo(to) &gt; 0) Nil\n    from :: generateDateRange(from.plusDays(1), to)\n}\n</code></pre>\n<p>We recursively build a list of dates by prepending the start of the range to the new range which starts a day later.</p>\n"},{"tags":[],"owner":{"account_id":8339747,"reputation":51,"user_id":6265413,"display_name":"Hans Adriaans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1613747729,"creation_date":1613747729,"answer_id":66280178,"question_id":17690739,"body_markdown":"I had some small changes to the code of hucko\r\n\r\n    private def generateDateRange(from: LocalDate, to: LocalDate): List[LocalDate] = {\r\n        if (from.compareTo(to) &gt; 0) Nil\r\n        else from :: generateDateRange(from.plusDays(1), to)\r\n    }","title":"Creating a dateRange Scala, Joda, Java","body":"<p>I had some small changes to the code of hucko</p>\n<pre><code>private def generateDateRange(from: LocalDate, to: LocalDate): List[LocalDate] = {\n    if (from.compareTo(to) &gt; 0) Nil\n    else from :: generateDateRange(from.plusDays(1), to)\n}\n</code></pre>\n"}],"owner":{"account_id":3036799,"reputation":171,"user_id":2574695,"display_name":"Loooit"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15435,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":17691356,"answer_count":6,"score":10,"last_activity_date":1647862521,"creation_date":1374032825,"question_id":17690739,"body_markdown":"I have spent hours trying to make this next piece of code work.\r\n\r\n&lt;!-- language: scala --&gt;\r\n\r\n    import org.joda.time.{DateTime, Period}\r\n    \r\n\r\n    def dateRange(from: DateTime, to: DateTime, step: Period): Iterator[DateTime]      =Iterator.iterate(from)(_.plus(step)).takeWhile(!_.isAfter(to))\r\n\r\n    val range = {\r\n    dateRange(new DateTime(2012, 06, 30).minusYears(5), new DateTime(2000, 06, 30),new Period.months(6))\r\n    }\r\n\r\nI&#39;m trying to set up a date range array that steps through from 2000 to 2012 in 6 month increments. The problem that I am facing is the following error.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: No instant converter found for type: scala.Tuple3\r\n\tat    org.joda.time.convert.ConverterManager.getInstantConverter(ConverterManager.java:165)\r\n\tat org.joda.time.base.BaseDateTime.&lt;init&gt;(BaseDateTime.java:169)\r\n\tat org.joda.time.DateTime.&lt;init&gt;(DateTime.java:241)\r\n\tat tester.MomentumAlgo$class.$init$(MomentumAlgo.scala:154)\r\n\tat tester.RunMomentumAlgo$$anon$1.&lt;init&gt;(RunMomentumAlgo.scala:86)\r\n\tat tester.RunMomentumAlgo$.main(RunMomentumAlgo.scala:86)\r\n\tat tester.RunMomentumAlgo.main(RunMomentumAlgo.scala)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:601)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\r\n\r\n\r\nI seems to be something to do with the last Period.months() part, however I have no idea how to fix it. The Tuple3 error I have no idea about.\r\n\r\nIf someone can give me a different solution, that would also be great. I want a list of dates from 2000 to 2012, every 6 months.\r\n\r\nAny questions welcome. I thought this would be a common piece of code, but there isn&#39;t much on the net about it.\r\n\r\nThanks in advance.\r\n\r\n","title":"Creating a dateRange Scala, Joda, Java","body":"<p>I have spent hours trying to make this next piece of code work.</p>\n\n<pre class=\"lang-scala prettyprint-override\"><code>import org.joda.time.{DateTime, Period}\n\n\ndef dateRange(from: DateTime, to: DateTime, step: Period): Iterator[DateTime]      =Iterator.iterate(from)(_.plus(step)).takeWhile(!_.isAfter(to))\n\nval range = {\ndateRange(new DateTime(2012, 06, 30).minusYears(5), new DateTime(2000, 06, 30),new Period.months(6))\n}\n</code></pre>\n\n<p>I'm trying to set up a date range array that steps through from 2000 to 2012 in 6 month increments. The problem that I am facing is the following error.</p>\n\n<pre><code>Exception in thread \"main\" java.lang.IllegalArgumentException: No instant converter found for type: scala.Tuple3\nat    org.joda.time.convert.ConverterManager.getInstantConverter(ConverterManager.java:165)\nat org.joda.time.base.BaseDateTime.&lt;init&gt;(BaseDateTime.java:169)\nat org.joda.time.DateTime.&lt;init&gt;(DateTime.java:241)\nat tester.MomentumAlgo$class.$init$(MomentumAlgo.scala:154)\nat tester.RunMomentumAlgo$$anon$1.&lt;init&gt;(RunMomentumAlgo.scala:86)\nat tester.RunMomentumAlgo$.main(RunMomentumAlgo.scala:86)\nat tester.RunMomentumAlgo.main(RunMomentumAlgo.scala)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:601)\nat com.intellij.rt.execution.application.AppMain.main(AppMain.java:120)\n</code></pre>\n\n<p>I seems to be something to do with the last Period.months() part, however I have no idea how to fix it. The Tuple3 error I have no idea about.</p>\n\n<p>If someone can give me a different solution, that would also be great. I want a list of dates from 2000 to 2012, every 6 months.</p>\n\n<p>Any questions welcome. I thought this would be a common piece of code, but there isn't much on the net about it.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":3252196,"reputation":136,"user_id":2742162,"display_name":"Tunca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647862208,"creation_date":1647862208,"answer_id":71556887,"question_id":71555785,"body_markdown":"The connection is successful but it can&#39;t be find a table in db. I think you need to separate package of models by each db and the configuration class should be know the package name for each db. For example for JPA:\r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(\r\n            basePackages = &quot;com.project.modelpackage&quot;\r\n    )\r\n    public class ClassName { ... }","title":"Spring MVC with multiple database connections","body":"<p>The connection is successful but it can't be find a table in db. I think you need to separate package of models by each db and the configuration class should be know the package name for each db. For example for JPA:</p>\n<pre><code>@Configuration\n@EnableJpaRepositories(\n        basePackages = &quot;com.project.modelpackage&quot;\n)\npublic class ClassName { ... }\n</code></pre>\n"}],"owner":{"account_id":24132797,"reputation":29,"user_id":18100193,"display_name":"JohnNewman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":774,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647862208,"creation_date":1647857116,"question_id":71555785,"body_markdown":"Hello I am building my first Spring MVC and Thymeleaf web app and I do not know how to connect to two different Oracle databases. I managed to connect to just one.\r\n\r\nHere is the code:\r\n\r\nRepository code: \r\n\r\n        package com.example.demo;\r\n    \r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.util.ArrayList;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    import javax.sql.DataSource;\r\n     \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.beans.factory.annotation.Qualifier;\r\n    import org.springframework.dao.DataAccessException;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    import org.springframework.jdbc.core.RowMapper;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    /**\r\n     *\r\n     * @author 40723\r\n     */\r\n    @Repository\r\n    public class TelefonMailRepositoryImpl implements TelefonMailRepository {\r\n        \r\n        \r\n     private final DataSource dataSourceMail;\r\n     private final DataSource inregIvg;   \r\n     \r\n     public TelefonMailRepositoryImpl(DataSource dataSourceMail, @Qualifier(&quot;inregIvg&quot;) DataSource inregIvg) {\r\n            this.dataSourceMail = dataSourceMail;\r\n            this.inregIvg = inregIvg;\r\n    \r\n        }\r\n        \r\n    \r\n     \r\n     \r\n      public Map&lt;String, Object&gt; findByNumber(String telefon) {\r\n          \r\n            Map&lt;String, Object&gt; toateTel;\r\n          \r\n            String query = &quot;select cnp, nume, prenume from utilizatori where telefon=?&quot;;\r\n           JdbcTemplate jdbcTemplate = new JdbcTemplate(this.dataSourceMail);\r\n            jdbcTemplate.queryForMap(query,telefon);\r\n            Map&lt;String, Object&gt; info1 = jdbcTemplate.queryForMap(query,telefon);\r\n           // return info1;\r\n          \r\n           String query2 = &quot;select cif, den_client from b101_conturi where telefon=?&quot;;\r\n           JdbcTemplate jdbcTemplate2 = new JdbcTemplate(this.inregIvg);\r\n           Map&lt;String, Object&gt; info2 = jdbcTemplate.queryForMap(query2,telefon);\r\n           \r\n          if(info2.isEmpty()) {\r\n              return info1;\r\n          } else {\r\n              return info2;\r\n          }\r\n           \r\n        \r\n           }\r\n        \r\n        \r\n        public Map&lt;String, Object&gt; findByEmail(String email) {\r\n            \r\n            \r\n            \r\n            String query = &quot;select cnp, nume, prenume from utilizatori where upper(email)=upper(?)&quot;;\r\n            JdbcTemplate jdbcTemplate = new JdbcTemplate(this.dataSourceMail);\r\n            Map&lt;String, Object&gt; info1 = jdbcTemplate.queryForMap(query, email);\r\n            \r\n            String query2 = &quot;select cif, den_client from b101_conturi where upper(email)=upper(?)&quot;;\r\n            JdbcTemplate jdbcTemplate2 = new JdbcTemplate(this.inregIvg);\r\n            Map&lt;String, Object&gt; info2 = jdbcTemplate2.queryForMap(query2,email);\r\n            \r\n            if(info2.isEmpty()) {\r\n                return info1;\r\n            } else {\r\n                return info1;\r\n            }\r\n    \r\n    \r\n        }\r\n        \r\n        \r\n        public DataSource getDataSourceMail() {\r\n            return dataSourceMail;\r\n        }\r\n        \r\n        \r\n        \r\n    }\r\n\r\nThis is the DbConfig file:\r\n\r\n        package com.example.demo;\r\n    \r\n    import com.zaxxer.hikari.HikariDataSource;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\r\n    import org.springframework.boot.context.properties.ConfigurationProperties;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.Primary;\r\n    \r\n    /**\r\n     *\r\n     * @author 40723\r\n     */\r\n    @Configuration\r\n    public class DbConfig {\r\n    \r\n       @Bean\r\n        @Primary\r\n        @ConfigurationProperties(&quot;app.datasource.dsmail&quot;)\r\n        public DataSourceProperties dsmailDataSourceProperties() {\r\n            return new DataSourceProperties();\r\n        }\r\n    \r\n        @Bean(name=&quot;DSMail&quot;)\r\n        @Primary\r\n        @ConfigurationProperties(&quot;app.datasource.dsmail.configuration&quot;)\r\n        public HikariDataSource dataSourceMail() {\r\n            return dsmailDataSourceProperties().initializeDataSourceBuilder().type(HikariDataSource.class).build();\r\n        }\r\n    \r\n        @Bean\r\n        @ConfigurationProperties(&quot;app.datasource.inregivg&quot;)\r\n        public DataSourceProperties inregIvgDataSourceProperties() {\r\n            return new DataSourceProperties();\r\n        }\r\n    \r\n        @Bean(name = &quot;inregIvg&quot;)\r\n        @ConfigurationProperties(&quot;app.datasource.inregivg.configuration&quot;)\r\n        public HikariDataSource dataSourceInregIvg() {\r\n            return inregIvgDataSourceProperties().initializeDataSourceBuilder().type(HikariDataSource.class).build();\r\n        }\r\n        \r\n    \r\n    }\r\n\r\nAnd here are the application properties:\r\n\r\n    app.datasource.dsmail.username=xxx\r\n    app.datasource.dsmail.password=xxx\r\n    app.datasource.dsmail.url=dburl:123\r\n    app.datasource.dsmail.driver-class-name=oracle.jdbc.OracleDriver\r\n    app.datasource.dsmail.configuration.pool-name=DSMailPool\r\n    app.datasource.dsmail.configuration.auto-commit=false\r\n    \r\n    app.datasource.inregivg.username=yyy\r\n    app.datasource.inregivg.password=yyy\r\n    app.datasource.inregivg.url=dburl2:321\r\n    app.datasource.inregivg.driver-class-name=oracle.jdbc.OracleDriver\r\n    app.datasource.inregivg.configuration.pool-name=DSInregivgPool\r\n    app.datasource.inregivg.configuration.auto-commit=false\r\n\r\nI have changed the user, pass, and url of application props because of security reasons.\r\n\r\nCan you tell me what I am doing wrong ? \r\n\r\nThe error that I get is:\r\n\r\n        This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    \r\n    Mon Mar 21 12:00:20 EET 2022\r\n    There was an unexpected error (type=Internal Server Error, status=500).\r\n    PreparedStatementCallback; bad SQL grammar [select cif, den_client from b101_conturi where telefon=?]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist\r\n    org.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [select cif, den_client from b101_conturi where telefon=?]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist\r\n    \r\n    \tat org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\r\n    \tat org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:879)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.queryForMap(JdbcTemplate.java:916)\r\n    \tat com.example.demo.TelefonMailRepositoryImpl.findByNumber(TelefonMailRepositoryImpl.java:56)\r\n    \tat com.example.demo.TelefonMailRepositoryImpl$$FastClassBySpringCGLIB$$ecef6002.invoke(&lt;generated&gt;)\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n    \tat com.example.demo.TelefonMailRepositoryImpl$$EnhancerBySpringCGLIB$$637cc014.findByNumber(&lt;generated&gt;)\r\n    \tat com.example.demo.TelefonMailService.getRaspuns(TelefonMailService.java:25)\r\n    \tat com.example.demo.TelefonMailController.postDbRequest(TelefonMailController.java:36)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist\r\n    \r\n    \tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:630)\r\n    \tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:564)\r\n    \tat oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1151)\r\n    \tat oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:771)\r\n    \tat oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:299)\r\n    \tat oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:498)\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:152)\r\n    \tat oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:937)\r\n    \tat oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1172)\r\n    \tat oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1101)\r\n    \tat oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1426)\r\n    \tat oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1309)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3746)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3855)\r\n    \tat oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1098)\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:722)\r\n    \tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\r\n    \t... 71 more\r\n    Caused by: Error : 942, Position : 28, Sql = select cif, den_client from b101_conturi where telefon=:1 , OriginalSql = select cif, den_client from b101_conturi where telefon=?, Error Msg = ORA-00942: table or view does not exist\r\n    \r\n    \tat oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:637)\r\n    \t... 89 more\r\n\r\n\r\nJust as a reminder with one connection it works it retrieves the desired info but with two datasources it does not work. I made the select that spits the error in Toad and it works so the tabvle exists. Thanks in advance. Have a nice day !\r\n","title":"Spring MVC with multiple database connections","body":"<p>Hello I am building my first Spring MVC and Thymeleaf web app and I do not know how to connect to two different Oracle databases. I managed to connect to just one.</p>\n<p>Here is the code:</p>\n<p>Repository code:</p>\n<pre><code>    package com.example.demo;\n\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport javax.sql.DataSource;\n \nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.beans.factory.annotation.Qualifier;\nimport org.springframework.dao.DataAccessException;\nimport org.springframework.jdbc.core.JdbcTemplate;\nimport org.springframework.jdbc.core.RowMapper;\nimport org.springframework.stereotype.Repository;\n\n/**\n *\n * @author 40723\n */\n@Repository\npublic class TelefonMailRepositoryImpl implements TelefonMailRepository {\n    \n    \n private final DataSource dataSourceMail;\n private final DataSource inregIvg;   \n \n public TelefonMailRepositoryImpl(DataSource dataSourceMail, @Qualifier(&quot;inregIvg&quot;) DataSource inregIvg) {\n        this.dataSourceMail = dataSourceMail;\n        this.inregIvg = inregIvg;\n\n    }\n    \n\n \n \n  public Map&lt;String, Object&gt; findByNumber(String telefon) {\n      \n        Map&lt;String, Object&gt; toateTel;\n      \n        String query = &quot;select cnp, nume, prenume from utilizatori where telefon=?&quot;;\n       JdbcTemplate jdbcTemplate = new JdbcTemplate(this.dataSourceMail);\n        jdbcTemplate.queryForMap(query,telefon);\n        Map&lt;String, Object&gt; info1 = jdbcTemplate.queryForMap(query,telefon);\n       // return info1;\n      \n       String query2 = &quot;select cif, den_client from b101_conturi where telefon=?&quot;;\n       JdbcTemplate jdbcTemplate2 = new JdbcTemplate(this.inregIvg);\n       Map&lt;String, Object&gt; info2 = jdbcTemplate.queryForMap(query2,telefon);\n       \n      if(info2.isEmpty()) {\n          return info1;\n      } else {\n          return info2;\n      }\n       \n    \n       }\n    \n    \n    public Map&lt;String, Object&gt; findByEmail(String email) {\n        \n        \n        \n        String query = &quot;select cnp, nume, prenume from utilizatori where upper(email)=upper(?)&quot;;\n        JdbcTemplate jdbcTemplate = new JdbcTemplate(this.dataSourceMail);\n        Map&lt;String, Object&gt; info1 = jdbcTemplate.queryForMap(query, email);\n        \n        String query2 = &quot;select cif, den_client from b101_conturi where upper(email)=upper(?)&quot;;\n        JdbcTemplate jdbcTemplate2 = new JdbcTemplate(this.inregIvg);\n        Map&lt;String, Object&gt; info2 = jdbcTemplate2.queryForMap(query2,email);\n        \n        if(info2.isEmpty()) {\n            return info1;\n        } else {\n            return info1;\n        }\n\n\n    }\n    \n    \n    public DataSource getDataSourceMail() {\n        return dataSourceMail;\n    }\n    \n    \n    \n}\n</code></pre>\n<p>This is the DbConfig file:</p>\n<pre><code>    package com.example.demo;\n\nimport com.zaxxer.hikari.HikariDataSource;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceProperties;\nimport org.springframework.boot.context.properties.ConfigurationProperties;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Primary;\n\n/**\n *\n * @author 40723\n */\n@Configuration\npublic class DbConfig {\n\n   @Bean\n    @Primary\n    @ConfigurationProperties(&quot;app.datasource.dsmail&quot;)\n    public DataSourceProperties dsmailDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean(name=&quot;DSMail&quot;)\n    @Primary\n    @ConfigurationProperties(&quot;app.datasource.dsmail.configuration&quot;)\n    public HikariDataSource dataSourceMail() {\n        return dsmailDataSourceProperties().initializeDataSourceBuilder().type(HikariDataSource.class).build();\n    }\n\n    @Bean\n    @ConfigurationProperties(&quot;app.datasource.inregivg&quot;)\n    public DataSourceProperties inregIvgDataSourceProperties() {\n        return new DataSourceProperties();\n    }\n\n    @Bean(name = &quot;inregIvg&quot;)\n    @ConfigurationProperties(&quot;app.datasource.inregivg.configuration&quot;)\n    public HikariDataSource dataSourceInregIvg() {\n        return inregIvgDataSourceProperties().initializeDataSourceBuilder().type(HikariDataSource.class).build();\n    }\n    \n\n}\n</code></pre>\n<p>And here are the application properties:</p>\n<pre><code>app.datasource.dsmail.username=xxx\napp.datasource.dsmail.password=xxx\napp.datasource.dsmail.url=dburl:123\napp.datasource.dsmail.driver-class-name=oracle.jdbc.OracleDriver\napp.datasource.dsmail.configuration.pool-name=DSMailPool\napp.datasource.dsmail.configuration.auto-commit=false\n\napp.datasource.inregivg.username=yyy\napp.datasource.inregivg.password=yyy\napp.datasource.inregivg.url=dburl2:321\napp.datasource.inregivg.driver-class-name=oracle.jdbc.OracleDriver\napp.datasource.inregivg.configuration.pool-name=DSInregivgPool\napp.datasource.inregivg.configuration.auto-commit=false\n</code></pre>\n<p>I have changed the user, pass, and url of application props because of security reasons.</p>\n<p>Can you tell me what I am doing wrong ?</p>\n<p>The error that I get is:</p>\n<pre><code>    This application has no explicit mapping for /error, so you are seeing this as a fallback.\n\nMon Mar 21 12:00:20 EET 2022\nThere was an unexpected error (type=Internal Server Error, status=500).\nPreparedStatementCallback; bad SQL grammar [select cif, den_client from b101_conturi where telefon=?]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist\norg.springframework.jdbc.BadSqlGrammarException: PreparedStatementCallback; bad SQL grammar [select cif, den_client from b101_conturi where telefon=?]; nested exception is java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist\n\n    at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:239)\n    at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:70)\n    at org.springframework.jdbc.core.JdbcTemplate.translateException(JdbcTemplate.java:1541)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:667)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:713)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:744)\n    at org.springframework.jdbc.core.JdbcTemplate.query(JdbcTemplate.java:757)\n    at org.springframework.jdbc.core.JdbcTemplate.queryForObject(JdbcTemplate.java:879)\n    at org.springframework.jdbc.core.JdbcTemplate.queryForMap(JdbcTemplate.java:916)\n    at com.example.demo.TelefonMailRepositoryImpl.findByNumber(TelefonMailRepositoryImpl.java:56)\n    at com.example.demo.TelefonMailRepositoryImpl$$FastClassBySpringCGLIB$$ecef6002.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n    at com.example.demo.TelefonMailRepositoryImpl$$EnhancerBySpringCGLIB$$637cc014.findByNumber(&lt;generated&gt;)\n    at com.example.demo.TelefonMailService.getRaspuns(TelefonMailService.java:25)\n    at com.example.demo.TelefonMailController.postDbRequest(TelefonMailController.java:36)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:67)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:359)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.sql.SQLSyntaxErrorException: ORA-00942: table or view does not exist\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:630)\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:564)\n    at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1151)\n    at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:771)\n    at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:299)\n    at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:498)\n    at oracle.jdbc.driver.T4CPreparedStatement.doOall8(T4CPreparedStatement.java:152)\n    at oracle.jdbc.driver.T4CPreparedStatement.executeForDescribe(T4CPreparedStatement.java:937)\n    at oracle.jdbc.driver.OracleStatement.prepareDefineBufferAndExecute(OracleStatement.java:1172)\n    at oracle.jdbc.driver.OracleStatement.executeMaybeDescribe(OracleStatement.java:1101)\n    at oracle.jdbc.driver.OracleStatement.executeSQLSelect(OracleStatement.java:1426)\n    at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1309)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3746)\n    at oracle.jdbc.driver.OraclePreparedStatement.executeQuery(OraclePreparedStatement.java:3855)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.executeQuery(OraclePreparedStatementWrapper.java:1098)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeQuery(ProxyPreparedStatement.java:52)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeQuery(HikariProxyPreparedStatement.java)\n    at org.springframework.jdbc.core.JdbcTemplate$1.doInPreparedStatement(JdbcTemplate.java:722)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:651)\n    ... 71 more\nCaused by: Error : 942, Position : 28, Sql = select cif, den_client from b101_conturi where telefon=:1 , OriginalSql = select cif, den_client from b101_conturi where telefon=?, Error Msg = ORA-00942: table or view does not exist\n\n    at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:637)\n    ... 89 more\n</code></pre>\n<p>Just as a reminder with one connection it works it retrieves the desired info but with two datasources it does not work. I made the select that spits the error in Toad and it works so the tabvle exists. Thanks in advance. Have a nice day !</p>\n"},{"tags":["java","maven","keycloak","noclassdeffounderror","jackson-databind"],"comments":[{"owner":{"account_id":10470529,"reputation":365,"user_id":7718524,"display_name":"Ketan Suthar"},"score":0,"creation_date":1647852265,"post_id":71554631,"comment_id":126466025,"body_markdown":"can please add you pom file details. what version you are using for fasterxml databind?","body":"can please add you pom file details. what version you are using for fasterxml databind?"},{"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"score":0,"creation_date":1647857637,"post_id":71554631,"comment_id":126467879,"body_markdown":"so it&#39;s the conflict between all these different version causing the problem?","body":"so it&#39;s the conflict between all these different version causing the problem?"},{"owner":{"account_id":10470529,"reputation":365,"user_id":7718524,"display_name":"Ketan Suthar"},"score":1,"creation_date":1647870679,"post_id":71554631,"comment_id":126472899,"body_markdown":"Yes, [here](https://fasterxml.github.io/jackson-databind/javadoc/2.10/com/fasterxml/jackson/databind/jsontype/PolymorphicTypeValidator.html) they have mentioned that PolymorphicTypeValidator is available from 2.10 but you are using 2.9.8","body":"Yes, <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.10/com/fasterxml/jackson/databind/jsontype/PolymorphicTypeValidator.html\" rel=\"nofollow noreferrer\">here</a> they have mentioned that PolymorphicTypeValidator is available from 2.10 but you are using 2.9.8"}],"owner":{"account_id":277724,"reputation":3090,"user_id":571875,"accept_rate":93,"display_name":"mal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647862145,"creation_date":1647851074,"question_id":71554631,"body_markdown":"EDIT: Just realised it&#39;s caused by a `ClassNotFoundException`, would still like some help.\r\n\r\nI&#39;m trying to update keycloak from version `12.0.3 ` to version `13.0.0`, however when I make that change I get the following error:  \r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/jsontype/PolymorphicTypeValidator\r\n    \tat java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)\r\n    \tat java.lang.Class.getConstructors(Class.java:1651)\r\n    \tat org.jboss.resteasy.util.PickConstructor.pickSingletonConstructor(PickConstructor.java:30)\r\n    \tat org.jboss.resteasy.spi.ResteasyProviderFactory.createConstructorInjector(ResteasyProviderFactory.java:2821)\r\n    \tat org.jboss.resteasy.spi.ResteasyProviderFactory.createProviderInstance(ResteasyProviderFactory.java:2813)\r\n    \tat org.jboss.resteasy.spi.ResteasyProviderFactory.addMessageBodyReader(ResteasyProviderFactory.java:1048)\r\n    \tat org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1821)\r\n    \tat org.jboss.resteasy.spi.ResteasyProviderFactory.register(ResteasyProviderFactory.java:3026)\r\n    \tat org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder.register(ResteasyClientBuilder.java:559)\r\n    \tat org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder.register(ResteasyClientBuilder.java:48)\r\n    \tat org.keycloak.admin.client.Keycloak.newRestEasyClient(Keycloak.java:71)\r\n    \tat org.keycloak.admin.client.Keycloak.&lt;init&gt;(Keycloak.java:53)\r\n    \tat org.keycloak.admin.client.KeycloakBuilder.build(KeycloakBuilder.java:147)\r\n    \tat socsan.myapp.v1.mymodule.keycloak.KeycloakUserManager.createKeycloakInstance(KeycloakUserManager.java:187)\r\n    \tat socsan.myapp.v1.mymodule.keycloak.KeycloakUserManager.&lt;init&gt;(KeycloakUserManager.java:36)\r\n    \tat socsan.myapp.v1.mymodule.mymodule.startServices(mymodule.java:51)\r\n    \tat socsan.myapp.common.lifecycle.ProcessStarter.runStartupTasks(ProcessStarter.java:61)\r\n    \tat socsan.myapp.common.lifecycle.ProcessStarter.start(ProcessStarter.java:48)\r\n    \tat socsan.myapp.v1.mymodule.mymodule.main(mymodule.java:34)\r\n    Caused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.jsontype.PolymorphicTypeValidator\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:418)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:351)\r\n    \t... 20 more\r\n\r\nI tried updating the fasterxml databind package too, but it didn&#39;t make any difference.   \r\n\r\nI noticed that the path to the correct jar in the maven repository is different to the path in the error. \r\nIn the maven repository there are stored at `com/fasterxml/jackson/core/databind`. \r\nDoes that have any baring on the issue?   \r\nHow can I fix this?    \r\n\r\nEDIT 2: \r\nIn the parent pom we have this:  \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\r\n        &lt;version&gt;2.9.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThe only change made to the module pom was to increase the version as stated above.  \r\n\r\nlooking at the dependency analyser for `jackson-databind` it does look a bit of a mess, I should also point out that we&#39;re using the maven shade plugin: \r\n[![dependency analyser for jackson-databind package][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0T3Q6.png","title":"How do I fix NoClassDefFoundError, the class path in the error is incorrect, but it&#39;s not in code I&#39;ve written","body":"<p>EDIT: Just realised it's caused by a <code>ClassNotFoundException</code>, would still like some help.</p>\n<p>I'm trying to update keycloak from version <code>12.0.3 </code> to version <code>13.0.0</code>, however when I make that change I get the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/fasterxml/jackson/databind/jsontype/PolymorphicTypeValidator\n    at java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.lang.Class.privateGetDeclaredConstructors(Class.java:2671)\n    at java.lang.Class.getConstructors(Class.java:1651)\n    at org.jboss.resteasy.util.PickConstructor.pickSingletonConstructor(PickConstructor.java:30)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.createConstructorInjector(ResteasyProviderFactory.java:2821)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.createProviderInstance(ResteasyProviderFactory.java:2813)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.addMessageBodyReader(ResteasyProviderFactory.java:1048)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1821)\n    at org.jboss.resteasy.spi.ResteasyProviderFactory.register(ResteasyProviderFactory.java:3026)\n    at org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder.register(ResteasyClientBuilder.java:559)\n    at org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder.register(ResteasyClientBuilder.java:48)\n    at org.keycloak.admin.client.Keycloak.newRestEasyClient(Keycloak.java:71)\n    at org.keycloak.admin.client.Keycloak.&lt;init&gt;(Keycloak.java:53)\n    at org.keycloak.admin.client.KeycloakBuilder.build(KeycloakBuilder.java:147)\n    at socsan.myapp.v1.mymodule.keycloak.KeycloakUserManager.createKeycloakInstance(KeycloakUserManager.java:187)\n    at socsan.myapp.v1.mymodule.keycloak.KeycloakUserManager.&lt;init&gt;(KeycloakUserManager.java:36)\n    at socsan.myapp.v1.mymodule.mymodule.startServices(mymodule.java:51)\n    at socsan.myapp.common.lifecycle.ProcessStarter.runStartupTasks(ProcessStarter.java:61)\n    at socsan.myapp.common.lifecycle.ProcessStarter.start(ProcessStarter.java:48)\n    at socsan.myapp.v1.mymodule.mymodule.main(mymodule.java:34)\nCaused by: java.lang.ClassNotFoundException: com.fasterxml.jackson.databind.jsontype.PolymorphicTypeValidator\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:418)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:351)\n    ... 20 more\n</code></pre>\n<p>I tried updating the fasterxml databind package too, but it didn't make any difference.</p>\n<p>I noticed that the path to the correct jar in the maven repository is different to the path in the error.\nIn the maven repository there are stored at <code>com/fasterxml/jackson/core/databind</code>.\nDoes that have any baring on the issue?<br />\nHow can I fix this?</p>\n<p>EDIT 2:\nIn the parent pom we have this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt;\n    &lt;version&gt;2.9.8&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The only change made to the module pom was to increase the version as stated above.</p>\n<p>looking at the dependency analyser for <code>jackson-databind</code> it does look a bit of a mess, I should also point out that we're using the maven shade plugin:\n<a href=\"https://i.stack.imgur.com/0T3Q6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0T3Q6.png\" alt=\"dependency analyser for jackson-databind package\" /></a></p>\n"},{"tags":["java","python","python-2.7","apache-spark","pyspark"],"comments":[{"owner":{"account_id":2838125,"reputation":2368,"user_id":3968028,"accept_rate":67,"display_name":"Dat Tran"},"score":0,"creation_date":1494316338,"post_id":43863569,"comment_id":74763397,"body_markdown":"How are your `spark_envs`defined like `SPARK_HOME`?","body":"How are your <code>spark_envs</code>defined like <code>SPARK_HOME</code>?"},{"owner":{"account_id":5299244,"reputation":343,"user_id":4229455,"accept_rate":71,"display_name":"Rahul Poddar"},"score":0,"creation_date":1494318416,"post_id":43863569,"comment_id":74764713,"body_markdown":"Added @DatTran, any unlikely bugs here?","body":"Added @DatTran, any unlikely bugs here?"},{"owner":{"account_id":2838125,"reputation":2368,"user_id":3968028,"accept_rate":67,"display_name":"Dat Tran"},"score":0,"creation_date":1494319175,"post_id":43863569,"comment_id":74765222,"body_markdown":"It doesn&#39;t help anything if you post code that is from Spark itself like `java_gateway.py` and `load-spark.env`... There are no bugs. The error is most likely due to your settings. What I mean is how did you set your `export SPARK_HOME=.../apache-spark/2.x.x./libexec` and what java version are you using...","body":"It doesn&#39;t help anything if you post code that is from Spark itself like <code>java_gateway.py</code> and <code>load-spark.env</code>... There are no bugs. The error is most likely due to your settings. What I mean is how did you set your <code>export SPARK_HOME=...&#47;apache-spark&#47;2.x.x.&#47;libexec</code> and what java version are you using..."},{"owner":{"account_id":5299244,"reputation":343,"user_id":4229455,"accept_rate":71,"display_name":"Rahul Poddar"},"score":0,"creation_date":1494319931,"post_id":43863569,"comment_id":74765718,"body_markdown":"I am using Standard Edition Runtime Environment Version 7 of Java. Also, updated my question with the SPARK_HOME settings that I have used in my python IDE","body":"I am using Standard Edition Runtime Environment Version 7 of Java. Also, updated my question with the SPARK_HOME settings that I have used in my python IDE"}],"answers":[{"tags":[],"owner":{"account_id":2838125,"reputation":2368,"user_id":3968028,"accept_rate":67,"display_name":"Dat Tran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494355563,"creation_date":1494355563,"answer_id":43877640,"question_id":43863569,"body_markdown":"From my &quot;guess&quot; this is a problem with your java version. Maybe you have two different java version installed. Also it looks like you are using code that you copy and paste from somewhere for setting the `SPARK_HOME`etc.. There are many simple examples how to set up Spark. Also it looks like that you are using Windows. I would suggest to take a *NIX environment to test things as this is much easier e.g. you could use `brew` to install Spark. Windows is not really made for this...","title":"Exception: Java gateway process exited before sending the driver its port number while creating a Spark Session in Python","body":"<p>From my \"guess\" this is a problem with your java version. Maybe you have two different java version installed. Also it looks like you are using code that you copy and paste from somewhere for setting the <code>SPARK_HOME</code>etc.. There are many simple examples how to set up Spark. Also it looks like that you are using Windows. I would suggest to take a *NIX environment to test things as this is much easier e.g. you could use <code>brew</code> to install Spark. Windows is not really made for this...</p>\n"},{"tags":[],"owner":{"account_id":11412895,"reputation":11,"user_id":8366508,"display_name":"Juan Mora"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1501022614,"creation_date":1501022614,"answer_id":45314670,"question_id":43863569,"body_markdown":"I had the exact same issue after playing around with my JAVA_HOME system environmental variables on Windows 10 using python 2.7: I tried to run the same configuration script for Pyspark (Based on the V2-Maestros Udemy course) with the same error message &quot;Java gateway process exited before sending the driver its port number&quot;.\r\n\r\nAfter several attempts to fix the problem, the only solution that ended up working was to uninstall all versions of java (had three of them) from my machine, and deleting the JAVA_HOME system variable as well as the record from the PATH system variable related to JAVA_HOME; after that I performed a clean installation of Java jre V1.8.0_141, reconfigured both the JAVA_HOME and PATH entries in the system environment for Windows and restarted my machine and finally got the script to work.\r\n\r\nHope this helps. ","title":"Exception: Java gateway process exited before sending the driver its port number while creating a Spark Session in Python","body":"<p>I had the exact same issue after playing around with my JAVA_HOME system environmental variables on Windows 10 using python 2.7: I tried to run the same configuration script for Pyspark (Based on the V2-Maestros Udemy course) with the same error message \"Java gateway process exited before sending the driver its port number\".</p>\n\n<p>After several attempts to fix the problem, the only solution that ended up working was to uninstall all versions of java (had three of them) from my machine, and deleting the JAVA_HOME system variable as well as the record from the PATH system variable related to JAVA_HOME; after that I performed a clean installation of Java jre V1.8.0_141, reconfigured both the JAVA_HOME and PATH entries in the system environment for Windows and restarted my machine and finally got the script to work.</p>\n\n<p>Hope this helps. </p>\n"},{"tags":[],"owner":{"account_id":1305173,"reputation":609,"user_id":1254285,"accept_rate":67,"display_name":"Rustam Aliyev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1504448627,"creation_date":1504448627,"answer_id":46024377,"question_id":43863569,"body_markdown":"After reading many posts I finally made Spark work on my Windows laptop. I use Anaconda Python, but I am sure this will work with standard distibution too.\r\n\r\nSo, you need to make sure you can run Spark independently. My assumptions are that you have valid python path and Java installed. For Java I had &quot;C:\\ProgramData\\Oracle\\Java\\javapath&quot; defined in my Path which redirects to my Java8 bin folder.\r\n\r\n 1. Download pre-built Hadoop version of Spark from https://spark.apache.org/downloads.html and extract it, e.g. to C:\\spark-2.2.0-bin-hadoop2.7\r\n 2. Create Environmental variable SPARK_HOME which you will need later for pyspark to pick up your local Spark installation.\r\n 3. Go to %SPARK_HOME%\\bin and try to run pyspark which is Python Spark shell. If your environment is like mine you will see exeption about inability to find winutils and hadoop. Second exception will be about missing Hive:\r\n\r\n    pyspark.sql.utils.IllegalArgumentException: u&quot;Error while instantiating &#39;org.apache.spark.sql.hive.HiveSessionStateBuilder&#39;:&quot;\r\n\r\n 4. I then found and simply followed https://jaceklaskowski.gitbooks.io/mastering-apache-spark/spark-tips-and-tricks-running-spark-windows.html \r\nSpecifically:\r\n 5. Download winutils, put it to c:\\hadoop\\bin . Create HADOOP_HOME env and add %HADOOP_HOME%\\bin to PATH.\r\n 6. Create directory for Hive, e.g. c:\\tmp\\hive and run `winutils.exe chmod -R 777 C:\\tmp\\hive` in cmd in admin mode.\r\n 7. Then go to %SPARK_HOME%\\bin and make sure when you run pyspark you see a nice following Spark logo in ASCII:[![enter image description here][1]][1]\r\nNote that sc spark context variable needs to be defined already.\r\n 8. Well, my main purpose was to have pyspark with auto completion in my IDE, and that&#39;s when SPARK_HOME (Step 2) comes into play. If everything is setup correctly, you should see the following lines working:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nHope that helps and you can enjoy running Spark code locally.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0HbOK.png\r\n  [2]: https://i.stack.imgur.com/mXmNE.png","title":"Exception: Java gateway process exited before sending the driver its port number while creating a Spark Session in Python","body":"<p>After reading many posts I finally made Spark work on my Windows laptop. I use Anaconda Python, but I am sure this will work with standard distibution too.</p>\n\n<p>So, you need to make sure you can run Spark independently. My assumptions are that you have valid python path and Java installed. For Java I had \"C:\\ProgramData\\Oracle\\Java\\javapath\" defined in my Path which redirects to my Java8 bin folder.</p>\n\n<ol>\n<li>Download pre-built Hadoop version of Spark from <a href=\"https://spark.apache.org/downloads.html\" rel=\"noreferrer\">https://spark.apache.org/downloads.html</a> and extract it, e.g. to C:\\spark-2.2.0-bin-hadoop2.7</li>\n<li>Create Environmental variable SPARK_HOME which you will need later for pyspark to pick up your local Spark installation.</li>\n<li><p>Go to %SPARK_HOME%\\bin and try to run pyspark which is Python Spark shell. If your environment is like mine you will see exeption about inability to find winutils and hadoop. Second exception will be about missing Hive:</p>\n\n<p>pyspark.sql.utils.IllegalArgumentException: u\"Error while instantiating 'org.apache.spark.sql.hive.HiveSessionStateBuilder':\"</p></li>\n<li><p>I then found and simply followed <a href=\"https://jaceklaskowski.gitbooks.io/mastering-apache-spark/spark-tips-and-tricks-running-spark-windows.html\" rel=\"noreferrer\">https://jaceklaskowski.gitbooks.io/mastering-apache-spark/spark-tips-and-tricks-running-spark-windows.html</a> \nSpecifically:</p></li>\n<li>Download winutils, put it to c:\\hadoop\\bin . Create HADOOP_HOME env and add %HADOOP_HOME%\\bin to PATH.</li>\n<li>Create directory for Hive, e.g. c:\\tmp\\hive and run <code>winutils.exe chmod -R 777 C:\\tmp\\hive</code> in cmd in admin mode.</li>\n<li>Then go to %SPARK_HOME%\\bin and make sure when you run pyspark you see a nice following Spark logo in ASCII:<a href=\"https://i.stack.imgur.com/0HbOK.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/0HbOK.png\" alt=\"enter image description here\"></a>\nNote that sc spark context variable needs to be defined already.</li>\n<li>Well, my main purpose was to have pyspark with auto completion in my IDE, and that's when SPARK_HOME (Step 2) comes into play. If everything is setup correctly, you should see the following lines working:</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/mXmNE.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mXmNE.png\" alt=\"enter image description here\"></a></p>\n\n<p>Hope that helps and you can enjoy running Spark code locally.</p>\n"},{"tags":[],"owner":{"account_id":8788015,"reputation":125,"user_id":6569138,"display_name":"QiuYi"},"down_vote_count":3,"up_vote_count":5,"is_accepted":false,"score":2,"last_activity_date":1520563030,"creation_date":1520563030,"answer_id":49185768,"question_id":43863569,"body_markdown":"I have the same problem.  \r\nLuckily I found the reason.\r\n\r\n    from pyspark.sql import SparkSession\r\n    # spark = SparkSession.builder.appName(&#39;Check Pyspark&#39;).master(&quot;local&quot;).getOrCreate()\r\n    spark = SparkSession.builder.appName(&#39;CheckPyspark&#39;).master(&quot;local&quot;).getOrCreate()\r\n    print spark.sparkContext.parallelize(range(6), 3).collect()\r\nNotice the difference between the second line and the third line.  \r\nIf the parameter after the AppName like this &#39;Check Pyspark&#39;,you will get error(Exception: Java gateway process...).  \r\nThe parameter after the AppName can not has blank space. Should chagne &#39;Check Pyspark&#39; to &#39;CheckPyspark&#39;.","title":"Exception: Java gateway process exited before sending the driver its port number while creating a Spark Session in Python","body":"<p>I have the same problem.<br>\nLuckily I found the reason.</p>\n\n<pre><code>from pyspark.sql import SparkSession\n# spark = SparkSession.builder.appName('Check Pyspark').master(\"local\").getOrCreate()\nspark = SparkSession.builder.appName('CheckPyspark').master(\"local\").getOrCreate()\nprint spark.sparkContext.parallelize(range(6), 3).collect()\n</code></pre>\n\n<p>Notice the difference between the second line and the third line.<br>\nIf the parameter after the AppName like this 'Check Pyspark',you will get error(Exception: Java gateway process...).<br>\nThe parameter after the AppName can not has blank space. Should chagne 'Check Pyspark' to 'CheckPyspark'.</p>\n"},{"tags":[],"owner":{"account_id":9085512,"reputation":541,"user_id":6763678,"display_name":"bhargav3vedi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647862081,"creation_date":1647862081,"answer_id":71556866,"question_id":43863569,"body_markdown":"Spark will not work fine with java version greater than 11, downgrade java to version 8 or 11 and set JAVA_HOME.","title":"Exception: Java gateway process exited before sending the driver its port number while creating a Spark Session in Python","body":"<p>Spark will not work fine with java version greater than 11, downgrade java to version 8 or 11 and set JAVA_HOME.</p>\n"}],"owner":{"account_id":5299244,"reputation":343,"user_id":4229455,"accept_rate":71,"display_name":"Rahul Poddar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37664,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":5,"score":8,"last_activity_date":1647862081,"creation_date":1494314417,"question_id":43863569,"body_markdown":"So, I am trying to create a Spark session in Python 2.7 using the following:\r\n\r\n    #Initialize SparkSession and SparkContext\r\n    from pyspark.sql import SparkSession  \r\n    from pyspark import SparkContext\r\n    \r\n    #Create a Spark Session\r\n    SpSession = SparkSession \\\r\n        .builder \\\r\n        .master(&quot;local[2]&quot;) \\\r\n        .appName(&quot;V2 Maestros&quot;) \\\r\n        .config(&quot;spark.executor.memory&quot;, &quot;1g&quot;) \\\r\n        .config(&quot;spark.cores.max&quot;,&quot;2&quot;) \\\r\n        .config(&quot;spark.sql.warehouse.dir&quot;, &quot;file:///c:/temp/spark-warehouse&quot;)\\\r\n        .getOrCreate()\r\n        \r\n    #Get the Spark Context from Spark Session    \r\n    SpContext = SpSession.sparkContext\r\n\r\nI get the following error pointing to the `python\\lib\\pyspark.zip\\pyspark\\java_gateway.py `path`\r\n\r\n    Exception: Java gateway process exited before sending the driver its port number\r\n\r\nTried to look into the java_gateway.py file, with the following contents:\r\n\r\n    import atexit\r\n    import os\r\n    import sys\r\n    import select\r\n    import signal\r\n    import shlex\r\n    import socket\r\n    import platform\r\n    from subprocess import Popen, PIPE\r\n    \r\n    if sys.version &gt;= &#39;3&#39;:\r\n        xrange = range\r\n    \r\n    from py4j.java_gateway import java_import, JavaGateway, GatewayClient\r\n    from py4j.java_collections import ListConverter\r\n    \r\n    from pyspark.serializers import read_int\r\n    \r\n    \r\n    # patching ListConverter, or it will convert bytearray into Java ArrayList\r\n    def can_convert_list(self, obj):\r\n        return isinstance(obj, (list, tuple, xrange))\r\n    \r\n    ListConverter.can_convert = can_convert_list\r\n    \r\n    \r\n    def launch_gateway():\r\n        if &quot;PYSPARK_GATEWAY_PORT&quot; in os.environ:\r\n            gateway_port = int(os.environ[&quot;PYSPARK_GATEWAY_PORT&quot;])\r\n        else:\r\n            SPARK_HOME = os.environ[&quot;SPARK_HOME&quot;]\r\n            # Launch the Py4j gateway using Spark&#39;s run command so that we pick up the\r\n            # proper classpath and settings from spark-env.sh\r\n            on_windows = platform.system() == &quot;Windows&quot;\r\n            script = &quot;./bin/spark-submit.cmd&quot; if on_windows else &quot;./bin/spark-submit&quot;\r\n            submit_args = os.environ.get(&quot;PYSPARK_SUBMIT_ARGS&quot;, &quot;pyspark-shell&quot;)\r\n            if os.environ.get(&quot;SPARK_TESTING&quot;):\r\n                submit_args = &#39; &#39;.join([\r\n                    &quot;--conf spark.ui.enabled=false&quot;,\r\n                    submit_args\r\n                ])\r\n            command = [os.path.join(SPARK_HOME, script)] + shlex.split(submit_args)\r\n    \r\n            # Start a socket that will be used by PythonGatewayServer to communicate its port to us\r\n            callback_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\r\n            callback_socket.bind((&#39;127.0.0.1&#39;, 0))\r\n            callback_socket.listen(1)\r\n            callback_host, callback_port = callback_socket.getsockname()\r\n            env = dict(os.environ)\r\n            env[&#39;_PYSPARK_DRIVER_CALLBACK_HOST&#39;] = callback_host\r\n            env[&#39;_PYSPARK_DRIVER_CALLBACK_PORT&#39;] = str(callback_port)\r\n    \r\n            # Launch the Java gateway.\r\n            # We open a pipe to stdin so that the Java gateway can die when the pipe is broken\r\n            if not on_windows:\r\n                # Don&#39;t send ctrl-c / SIGINT to the Java gateway:\r\n                def preexec_func():\r\n                    signal.signal(signal.SIGINT, signal.SIG_IGN)\r\n                proc = Popen(command, stdin=PIPE, preexec_fn=preexec_func, env=env)\r\n            else:\r\n                # preexec_fn not supported on Windows\r\n                proc = Popen(command, stdin=PIPE, env=env)\r\n    \r\n            gateway_port = None\r\n            # We use select() here in order to avoid blocking indefinitely if the subprocess dies\r\n            # before connecting\r\n            while gateway_port is None and proc.poll() is None:\r\n                timeout = 1  # (seconds)\r\n                readable, _, _ = select.select([callback_socket], [], [], timeout)\r\n                if callback_socket in readable:\r\n                    gateway_connection = callback_socket.accept()[0]\r\n                    # Determine which ephemeral port the server started on:\r\n                    gateway_port = read_int(gateway_connection.makefile(mode=&quot;rb&quot;))\r\n                    gateway_connection.close()\r\n                    callback_socket.close()\r\n            if gateway_port is None:\r\n                raise Exception(&quot;Java gateway process exited before sending the driver its port number&quot;)\r\n    \r\n            # In Windows, ensure the Java child processes do not linger after Python has exited.\r\n            # In UNIX-based systems, the child process can kill itself on broken pipe (i.e. when\r\n            # the parent process&#39; stdin sends an EOF). In Windows, however, this is not possible\r\n            # because java.lang.Process reads directly from the parent process&#39; stdin, contending\r\n            # with any opportunity to read an EOF from the parent. Note that this is only best\r\n            # effort and will not take effect if the python process is violently terminated.\r\n            if on_windows:\r\n                # In Windows, the child process here is &quot;spark-submit.cmd&quot;, not the JVM itself\r\n                # (because the UNIX &quot;exec&quot; command is not available). This means we cannot simply\r\n                # call proc.kill(), which kills only the &quot;spark-submit.cmd&quot; process but not the\r\n                # JVMs. Instead, we use &quot;taskkill&quot; with the tree-kill option &quot;/t&quot; to terminate all\r\n                # child processes in the tree (http://technet.microsoft.com/en-us/library/bb491009.aspx)\r\n                def killChild():\r\n                    Popen([&quot;cmd&quot;, &quot;/c&quot;, &quot;taskkill&quot;, &quot;/f&quot;, &quot;/t&quot;, &quot;/pid&quot;, str(proc.pid)])\r\n                atexit.register(killChild)\r\n    \r\n        # Connect to the gateway\r\n        gateway = JavaGateway(GatewayClient(port=gateway_port), auto_convert=True)\r\n    \r\n        # Import the classes used by PySpark\r\n        java_import(gateway.jvm, &quot;org.apache.spark.SparkConf&quot;)\r\n        java_import(gateway.jvm, &quot;org.apache.spark.api.java.*&quot;)\r\n        java_import(gateway.jvm, &quot;org.apache.spark.api.python.*&quot;)\r\n        java_import(gateway.jvm, &quot;org.apache.spark.ml.python.*&quot;)\r\n        java_import(gateway.jvm, &quot;org.apache.spark.mllib.api.python.*&quot;)\r\n        # TODO(davies): move into sql\r\n        java_import(gateway.jvm, &quot;org.apache.spark.sql.*&quot;)\r\n        java_import(gateway.jvm, &quot;org.apache.spark.sql.hive.*&quot;)\r\n        java_import(gateway.jvm, &quot;scala.Tuple2&quot;)\r\n    \r\n        return gateway\r\nI am pretty new to Spark and Pyspark, hence unable to debug the issue here. I also tried to look at some other suggestions:\r\nhttps://stackoverflow.com/questions/31825911/spark-python-java-gateway-process-exited-before-sending-the-driver-its-port\r\nand\r\nhttps://stackoverflow.com/questions/31841509/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-po\r\n\r\nbut unable to resolve this so far. Please help!\r\n\r\nHere is how the spark environment looks like:\r\n\r\n    # This script loads spark-env.sh if it exists, and ensures it is only loaded once.\r\n    # spark-env.sh is loaded from SPARK_CONF_DIR if set, or within the current directory&#39;s\r\n    # conf/ subdirectory.\r\n    \r\n    # Figure out where Spark is installed\r\n    if [ -z &quot;${SPARK_HOME}&quot; ]; then\r\n      export SPARK_HOME=&quot;$(cd &quot;`dirname &quot;$0&quot;`&quot;/..; pwd)&quot;\r\n    fi\r\n    \r\n    if [ -z &quot;$SPARK_ENV_LOADED&quot; ]; then\r\n      export SPARK_ENV_LOADED=1\r\n    \r\n      # Returns the parent of the directory this script lives in.\r\n      parent_dir=&quot;${SPARK_HOME}&quot;\r\n    \r\n      user_conf_dir=&quot;${SPARK_CONF_DIR:-&quot;$parent_dir&quot;/conf}&quot;\r\n    \r\n      if [ -f &quot;${user_conf_dir}/spark-env.sh&quot; ]; then\r\n        # Promote all variable declarations to environment (exported) variables\r\n        set -a\r\n        . &quot;${user_conf_dir}/spark-env.sh&quot;\r\n        set +a\r\n      fi\r\n    fi\r\n    \r\n    # Setting SPARK_SCALA_VERSION if not already set.\r\n    \r\n    if [ -z &quot;$SPARK_SCALA_VERSION&quot; ]; then\r\n    \r\n      ASSEMBLY_DIR2=&quot;${SPARK_HOME}/assembly/target/scala-2.11&quot;\r\n      ASSEMBLY_DIR1=&quot;${SPARK_HOME}/assembly/target/scala-2.10&quot;\r\n    \r\n      if [[ -d &quot;$ASSEMBLY_DIR2&quot; &amp;&amp; -d &quot;$ASSEMBLY_DIR1&quot; ]]; then\r\n        echo -e &quot;Presence of build for both scala versions(SCALA 2.10 and SCALA 2.11) detected.&quot; 1&gt;&amp;2\r\n        echo -e &#39;Either clean one of them or, export SPARK_SCALA_VERSION=2.11 in spark-env.sh.&#39; 1&gt;&amp;2\r\n        exit 1\r\n      fi\r\n    \r\n      if [ -d &quot;$ASSEMBLY_DIR2&quot; ]; then\r\n        export SPARK_SCALA_VERSION=&quot;2.11&quot;\r\n      else\r\n        export SPARK_SCALA_VERSION=&quot;2.10&quot;\r\n      fi\r\n    fi\r\n\r\nHere is how my Spark environment is set up in Python:\r\n\r\n    import os\r\n    import sys\r\n    \r\n    # NOTE: Please change the folder paths to your current setup.\r\n    #Windows\r\n    if sys.platform.startswith(&#39;win&#39;):\r\n        #Where you downloaded the resource bundle\r\n        os.chdir(&quot;E:/Udemy - Spark/SparkPythonDoBigDataAnalytics-Resources&quot;)\r\n        #Where you installed spark.    \r\n        os.environ[&#39;SPARK_HOME&#39;] = &#39;E:/Udemy - Spark/Apache Spark/spark-2.0.0-bin-hadoop2.7&#39;\r\n    #other platforms - linux/mac\r\n    else:\r\n        os.chdir(&quot;/Users/kponnambalam/Dropbox/V2Maestros/Modules/Apache Spark/Python&quot;)\r\n        os.environ[&#39;SPARK_HOME&#39;] = &#39;/users/kponnambalam/products/spark-2.0.0-bin-hadoop2.7&#39;\r\n    \r\n    os.curdir\r\n    \r\n    # Create a variable for our root path\r\n    SPARK_HOME = os.environ[&#39;SPARK_HOME&#39;]\r\n    # Create a variable for our root path\r\n    SPARK_HOME = os.environ[&#39;SPARK_HOME&#39;]\r\n    \r\n    #Add the following paths to the system path. Please check your installation\r\n    #to make sure that these zip files actually exist. The names might change\r\n    #as versions change.\r\n    sys.path.insert(0,os.path.join(SPARK_HOME,&quot;python&quot;))\r\n    sys.path.insert(0,os.path.join(SPARK_HOME,&quot;python&quot;,&quot;lib&quot;))\r\n    sys.path.insert(0,os.path.join(SPARK_HOME,&quot;python&quot;,&quot;lib&quot;,&quot;pyspark.zip&quot;))\r\n    sys.path.insert(0,os.path.join(SPARK_HOME,&quot;python&quot;,&quot;lib&quot;,&quot;py4j-0.10.1-src.zip&quot;))\r\n    \r\n    #Initialize SparkSession and SparkContext\r\n    from pyspark.sql import SparkSession  \r\n    from pyspark import SparkContext","title":"Exception: Java gateway process exited before sending the driver its port number while creating a Spark Session in Python","body":"<p>So, I am trying to create a Spark session in Python 2.7 using the following:</p>\n\n<pre><code>#Initialize SparkSession and SparkContext\nfrom pyspark.sql import SparkSession  \nfrom pyspark import SparkContext\n\n#Create a Spark Session\nSpSession = SparkSession \\\n    .builder \\\n    .master(\"local[2]\") \\\n    .appName(\"V2 Maestros\") \\\n    .config(\"spark.executor.memory\", \"1g\") \\\n    .config(\"spark.cores.max\",\"2\") \\\n    .config(\"spark.sql.warehouse.dir\", \"file:///c:/temp/spark-warehouse\")\\\n    .getOrCreate()\n\n#Get the Spark Context from Spark Session    \nSpContext = SpSession.sparkContext\n</code></pre>\n\n<p>I get the following error pointing to the <code>python\\lib\\pyspark.zip\\pyspark\\java_gateway.py</code>path`</p>\n\n<pre><code>Exception: Java gateway process exited before sending the driver its port number\n</code></pre>\n\n<p>Tried to look into the java_gateway.py file, with the following contents:</p>\n\n<pre><code>import atexit\nimport os\nimport sys\nimport select\nimport signal\nimport shlex\nimport socket\nimport platform\nfrom subprocess import Popen, PIPE\n\nif sys.version &gt;= '3':\n    xrange = range\n\nfrom py4j.java_gateway import java_import, JavaGateway, GatewayClient\nfrom py4j.java_collections import ListConverter\n\nfrom pyspark.serializers import read_int\n\n\n# patching ListConverter, or it will convert bytearray into Java ArrayList\ndef can_convert_list(self, obj):\n    return isinstance(obj, (list, tuple, xrange))\n\nListConverter.can_convert = can_convert_list\n\n\ndef launch_gateway():\n    if \"PYSPARK_GATEWAY_PORT\" in os.environ:\n        gateway_port = int(os.environ[\"PYSPARK_GATEWAY_PORT\"])\n    else:\n        SPARK_HOME = os.environ[\"SPARK_HOME\"]\n        # Launch the Py4j gateway using Spark's run command so that we pick up the\n        # proper classpath and settings from spark-env.sh\n        on_windows = platform.system() == \"Windows\"\n        script = \"./bin/spark-submit.cmd\" if on_windows else \"./bin/spark-submit\"\n        submit_args = os.environ.get(\"PYSPARK_SUBMIT_ARGS\", \"pyspark-shell\")\n        if os.environ.get(\"SPARK_TESTING\"):\n            submit_args = ' '.join([\n                \"--conf spark.ui.enabled=false\",\n                submit_args\n            ])\n        command = [os.path.join(SPARK_HOME, script)] + shlex.split(submit_args)\n\n        # Start a socket that will be used by PythonGatewayServer to communicate its port to us\n        callback_socket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)\n        callback_socket.bind(('127.0.0.1', 0))\n        callback_socket.listen(1)\n        callback_host, callback_port = callback_socket.getsockname()\n        env = dict(os.environ)\n        env['_PYSPARK_DRIVER_CALLBACK_HOST'] = callback_host\n        env['_PYSPARK_DRIVER_CALLBACK_PORT'] = str(callback_port)\n\n        # Launch the Java gateway.\n        # We open a pipe to stdin so that the Java gateway can die when the pipe is broken\n        if not on_windows:\n            # Don't send ctrl-c / SIGINT to the Java gateway:\n            def preexec_func():\n                signal.signal(signal.SIGINT, signal.SIG_IGN)\n            proc = Popen(command, stdin=PIPE, preexec_fn=preexec_func, env=env)\n        else:\n            # preexec_fn not supported on Windows\n            proc = Popen(command, stdin=PIPE, env=env)\n\n        gateway_port = None\n        # We use select() here in order to avoid blocking indefinitely if the subprocess dies\n        # before connecting\n        while gateway_port is None and proc.poll() is None:\n            timeout = 1  # (seconds)\n            readable, _, _ = select.select([callback_socket], [], [], timeout)\n            if callback_socket in readable:\n                gateway_connection = callback_socket.accept()[0]\n                # Determine which ephemeral port the server started on:\n                gateway_port = read_int(gateway_connection.makefile(mode=\"rb\"))\n                gateway_connection.close()\n                callback_socket.close()\n        if gateway_port is None:\n            raise Exception(\"Java gateway process exited before sending the driver its port number\")\n\n        # In Windows, ensure the Java child processes do not linger after Python has exited.\n        # In UNIX-based systems, the child process can kill itself on broken pipe (i.e. when\n        # the parent process' stdin sends an EOF). In Windows, however, this is not possible\n        # because java.lang.Process reads directly from the parent process' stdin, contending\n        # with any opportunity to read an EOF from the parent. Note that this is only best\n        # effort and will not take effect if the python process is violently terminated.\n        if on_windows:\n            # In Windows, the child process here is \"spark-submit.cmd\", not the JVM itself\n            # (because the UNIX \"exec\" command is not available). This means we cannot simply\n            # call proc.kill(), which kills only the \"spark-submit.cmd\" process but not the\n            # JVMs. Instead, we use \"taskkill\" with the tree-kill option \"/t\" to terminate all\n            # child processes in the tree (http://technet.microsoft.com/en-us/library/bb491009.aspx)\n            def killChild():\n                Popen([\"cmd\", \"/c\", \"taskkill\", \"/f\", \"/t\", \"/pid\", str(proc.pid)])\n            atexit.register(killChild)\n\n    # Connect to the gateway\n    gateway = JavaGateway(GatewayClient(port=gateway_port), auto_convert=True)\n\n    # Import the classes used by PySpark\n    java_import(gateway.jvm, \"org.apache.spark.SparkConf\")\n    java_import(gateway.jvm, \"org.apache.spark.api.java.*\")\n    java_import(gateway.jvm, \"org.apache.spark.api.python.*\")\n    java_import(gateway.jvm, \"org.apache.spark.ml.python.*\")\n    java_import(gateway.jvm, \"org.apache.spark.mllib.api.python.*\")\n    # TODO(davies): move into sql\n    java_import(gateway.jvm, \"org.apache.spark.sql.*\")\n    java_import(gateway.jvm, \"org.apache.spark.sql.hive.*\")\n    java_import(gateway.jvm, \"scala.Tuple2\")\n\n    return gateway\n</code></pre>\n\n<p>I am pretty new to Spark and Pyspark, hence unable to debug the issue here. I also tried to look at some other suggestions:\n<a href=\"https://stackoverflow.com/questions/31825911/spark-python-java-gateway-process-exited-before-sending-the-driver-its-port\">Spark + Python - Java gateway process exited before sending the driver its port number?</a>\nand\n<a href=\"https://stackoverflow.com/questions/31841509/pyspark-exception-java-gateway-process-exited-before-sending-the-driver-its-po\">Pyspark: Exception: Java gateway process exited before sending the driver its port number</a></p>\n\n<p>but unable to resolve this so far. Please help!</p>\n\n<p>Here is how the spark environment looks like:</p>\n\n<pre><code># This script loads spark-env.sh if it exists, and ensures it is only loaded once.\n# spark-env.sh is loaded from SPARK_CONF_DIR if set, or within the current directory's\n# conf/ subdirectory.\n\n# Figure out where Spark is installed\nif [ -z \"${SPARK_HOME}\" ]; then\n  export SPARK_HOME=\"$(cd \"`dirname \"$0\"`\"/..; pwd)\"\nfi\n\nif [ -z \"$SPARK_ENV_LOADED\" ]; then\n  export SPARK_ENV_LOADED=1\n\n  # Returns the parent of the directory this script lives in.\n  parent_dir=\"${SPARK_HOME}\"\n\n  user_conf_dir=\"${SPARK_CONF_DIR:-\"$parent_dir\"/conf}\"\n\n  if [ -f \"${user_conf_dir}/spark-env.sh\" ]; then\n    # Promote all variable declarations to environment (exported) variables\n    set -a\n    . \"${user_conf_dir}/spark-env.sh\"\n    set +a\n  fi\nfi\n\n# Setting SPARK_SCALA_VERSION if not already set.\n\nif [ -z \"$SPARK_SCALA_VERSION\" ]; then\n\n  ASSEMBLY_DIR2=\"${SPARK_HOME}/assembly/target/scala-2.11\"\n  ASSEMBLY_DIR1=\"${SPARK_HOME}/assembly/target/scala-2.10\"\n\n  if [[ -d \"$ASSEMBLY_DIR2\" &amp;&amp; -d \"$ASSEMBLY_DIR1\" ]]; then\n    echo -e \"Presence of build for both scala versions(SCALA 2.10 and SCALA 2.11) detected.\" 1&gt;&amp;2\n    echo -e 'Either clean one of them or, export SPARK_SCALA_VERSION=2.11 in spark-env.sh.' 1&gt;&amp;2\n    exit 1\n  fi\n\n  if [ -d \"$ASSEMBLY_DIR2\" ]; then\n    export SPARK_SCALA_VERSION=\"2.11\"\n  else\n    export SPARK_SCALA_VERSION=\"2.10\"\n  fi\nfi\n</code></pre>\n\n<p>Here is how my Spark environment is set up in Python:</p>\n\n<pre><code>import os\nimport sys\n\n# NOTE: Please change the folder paths to your current setup.\n#Windows\nif sys.platform.startswith('win'):\n    #Where you downloaded the resource bundle\n    os.chdir(\"E:/Udemy - Spark/SparkPythonDoBigDataAnalytics-Resources\")\n    #Where you installed spark.    \n    os.environ['SPARK_HOME'] = 'E:/Udemy - Spark/Apache Spark/spark-2.0.0-bin-hadoop2.7'\n#other platforms - linux/mac\nelse:\n    os.chdir(\"/Users/kponnambalam/Dropbox/V2Maestros/Modules/Apache Spark/Python\")\n    os.environ['SPARK_HOME'] = '/users/kponnambalam/products/spark-2.0.0-bin-hadoop2.7'\n\nos.curdir\n\n# Create a variable for our root path\nSPARK_HOME = os.environ['SPARK_HOME']\n# Create a variable for our root path\nSPARK_HOME = os.environ['SPARK_HOME']\n\n#Add the following paths to the system path. Please check your installation\n#to make sure that these zip files actually exist. The names might change\n#as versions change.\nsys.path.insert(0,os.path.join(SPARK_HOME,\"python\"))\nsys.path.insert(0,os.path.join(SPARK_HOME,\"python\",\"lib\"))\nsys.path.insert(0,os.path.join(SPARK_HOME,\"python\",\"lib\",\"pyspark.zip\"))\nsys.path.insert(0,os.path.join(SPARK_HOME,\"python\",\"lib\",\"py4j-0.10.1-src.zip\"))\n\n#Initialize SparkSession and SparkContext\nfrom pyspark.sql import SparkSession  \nfrom pyspark import SparkContext\n</code></pre>\n"},{"tags":["java","itext"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1647857104,"post_id":71555699,"comment_id":126467684,"body_markdown":"Well, what is the problem? Please describe what is not working in detail.","body":"Well, what is the problem? Please describe what is not working in detail."},{"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"score":0,"creation_date":1647857473,"post_id":71555699,"comment_id":126467815,"body_markdown":"@JustanotherJavaprogrammer add information","body":"@JustanotherJavaprogrammer add information"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1647860362,"post_id":71555699,"comment_id":126468899,"body_markdown":"Have you tried using the css page size `A4 landscape` instead of `A4`?","body":"Have you tried using the css page size <code>A4 landscape</code> instead of <code>A4</code>?"},{"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"score":0,"creation_date":1647869844,"post_id":71555699,"comment_id":126472505,"body_markdown":"@mkl yes, same result","body":"@mkl yes, same result"}],"answers":[{"tags":[],"owner":{"account_id":345916,"reputation":461,"user_id":679116,"display_name":"S_G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647861487,"creation_date":1647861487,"answer_id":71556747,"question_id":71555699,"body_markdown":"Can you please try the following code. baseUri is basically a path to the directory that contain resources files like images/CSS.\r\n\r\n    /**\r\n     * Creates the PDF file.\r\n     *\r\n     * @param baseUri the base URI\r\n     * @param src     the path to the source HTML file\r\n     * @param dest    the path to the resulting PDF\r\n     * @throws IOException signals that an I/O exception has occurred.\r\n     */\r\n    public void createPdf(String baseUri, String src, String dest) throws IOException {\r\n        PdfWriter writer = new PdfWriter(dest);\r\n        PdfDocument pdf = new PdfDocument(writer);\r\n        PageSize pageSize = PageSize.A4.rotate();\r\n        pdf.setDefaultPageSize(pageSize);\r\n        ConverterProperties properties = new ConverterProperties();\r\n        properties.setBaseUri(baseUri);\r\n\r\n        HtmlConverter.convertToPdf(new FileInputStream(src), pdf, properties);\r\n    }","title":"How to set page orientation in itextpdf HtmlConverter","body":"<p>Can you please try the following code. baseUri is basically a path to the directory that contain resources files like images/CSS.</p>\n<pre><code>/**\n * Creates the PDF file.\n *\n * @param baseUri the base URI\n * @param src     the path to the source HTML file\n * @param dest    the path to the resulting PDF\n * @throws IOException signals that an I/O exception has occurred.\n */\npublic void createPdf(String baseUri, String src, String dest) throws IOException {\n    PdfWriter writer = new PdfWriter(dest);\n    PdfDocument pdf = new PdfDocument(writer);\n    PageSize pageSize = PageSize.A4.rotate();\n    pdf.setDefaultPageSize(pageSize);\n    ConverterProperties properties = new ConverterProperties();\n    properties.setBaseUri(baseUri);\n\n    HtmlConverter.convertToPdf(new FileInputStream(src), pdf, properties);\n}\n</code></pre>\n"}],"owner":{"account_id":17276817,"reputation":249,"user_id":12511275,"display_name":"Khilarian"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71556747,"answer_count":1,"score":0,"last_activity_date":1647861487,"creation_date":1647856736,"question_id":71555699,"body_markdown":"In database I store different html templates for pdf.\r\nToday client ask to add landscape oriented template.\r\nWell, now convertation works incorrect:\r\ntemplate is landscape and part of text out of page, because page is vertical oriented.\r\n\r\nI used itextpdf and convertation from html to pdf looks like:\r\n\r\n    public static byte[] convertString(String htmlContent, boolean useDefaultStyles) throws IOException {\r\n    \t\tlog.debug(&quot;html {}&quot;, htmlContent == null? 0: htmlContent.length());\r\n    \t\tbyte[] bytes = new byte[0];\r\n    \t\tif(Strings.isNullOrEmpty(htmlContent)){\r\n    \t\t\treturn bytes;\r\n    \t\t}\r\n    \t\ttry{\r\n    \t\t\tif(useDefaultStyles){\r\n    \t\t\t\thtmlContent = htmlContent.replace(\r\n    \t\t\t\t\t\t&quot;&lt;head&gt;&quot;,\r\n    \t\t\t\t\t\t&quot;&lt;head&gt;\\n&lt;style type=\\&quot;text/css\\&quot;&gt;@page {\\tsize: A4; margin: 0; }&lt;/style&gt;&quot;\r\n    \t\t\t\t);\r\n    \t\t\t}\r\n    \t\t\tByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n    \t\t\tHtmlConverter.convertToPdf(htmlContent, baos);\r\n    \t\t\tbytes = baos.toByteArray();\r\n    \t\t} catch(Exception e){\r\n    \t\t\tlog.error(&quot;Error converting html to pdf&quot;, e);\r\n    \t\t}\r\n    \t\tlog.debug(&quot;html2pdf {}&quot;, bytes.length);\r\n    \t\treturn bytes;\r\n    \t}\r\n\r\nWhat I need to add to fix this problem?\r\nThanks in advance.","title":"How to set page orientation in itextpdf HtmlConverter","body":"<p>In database I store different html templates for pdf.\nToday client ask to add landscape oriented template.\nWell, now convertation works incorrect:\ntemplate is landscape and part of text out of page, because page is vertical oriented.</p>\n<p>I used itextpdf and convertation from html to pdf looks like:</p>\n<pre><code>public static byte[] convertString(String htmlContent, boolean useDefaultStyles) throws IOException {\n        log.debug(&quot;html {}&quot;, htmlContent == null? 0: htmlContent.length());\n        byte[] bytes = new byte[0];\n        if(Strings.isNullOrEmpty(htmlContent)){\n            return bytes;\n        }\n        try{\n            if(useDefaultStyles){\n                htmlContent = htmlContent.replace(\n                        &quot;&lt;head&gt;&quot;,\n                        &quot;&lt;head&gt;\\n&lt;style type=\\&quot;text/css\\&quot;&gt;@page {\\tsize: A4; margin: 0; }&lt;/style&gt;&quot;\n                );\n            }\n            ByteArrayOutputStream baos = new ByteArrayOutputStream();\n            HtmlConverter.convertToPdf(htmlContent, baos);\n            bytes = baos.toByteArray();\n        } catch(Exception e){\n            log.error(&quot;Error converting html to pdf&quot;, e);\n        }\n        log.debug(&quot;html2pdf {}&quot;, bytes.length);\n        return bytes;\n    }\n</code></pre>\n<p>What I need to add to fix this problem?\nThanks in advance.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":22072474,"reputation":1193,"user_id":16333281,"display_name":"Jhanzaib Humayun"},"score":0,"creation_date":1647860291,"post_id":71556412,"comment_id":126468871,"body_markdown":"What does the variable named s1 look like? And which line gives you that error?","body":"What does the variable named s1 look like? And which line gives you that error?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1647861535,"post_id":71556412,"comment_id":126469328,"body_markdown":"You are trying to insert a character at position 2 in the original array (`val`) into position 2 of array `charset`, while `charset` has length 2 (valid positions are 0 and 1). You need to properly offset the position when inserting into the target array. Or better yet, use the `Arrays.copyOfRange`","body":"You are trying to insert a character at position 2 in the original array (<code>val</code>) into position 2 of array <code>charset</code>, while <code>charset</code> has length 2 (valid positions are 0 and 1). You need to properly offset the position when inserting into the target array. Or better yet, use the <code>Arrays.copyOfRange</code>"}],"owner":{"account_id":21179371,"reputation":11,"user_id":15574054,"display_name":"SpicyVanilla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":136,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1647860473,"answer_count":0,"score":0,"last_activity_date":1647861470,"creation_date":1647860101,"question_id":71556412,"body_markdown":"```java\r\npublic MyString1 substring(int begin, int end)\r\n{\r\n    char[] charset = new char[end - begin];\r\n    \r\n    while( begin &lt; end)\r\n    {\r\n    \tcharset[begin] = val[begin];\r\n    \tbegin++;\r\n    }\r\n    return new MyString1(charset);\r\n}\r\n```\r\nWhen I try to test out this method in the main method it gives me &quot;Index 2 out of bounds for length 2&quot; error.\r\nThe size of the array is 5 so how is it that 2 is out of bound?\r\n\r\nI used this line to test it\r\n```java\r\nchar[] test1 = {&#39;T&#39;, &#39;e&#39;, &#39;S&#39;, &#39;t&#39;, &#39;1&#39;};\r\nMyString1 s1 = new MyString1(test1);\r\nSystem.out.println(s1.substring(1, 3));\r\n```","title":"Index 2 out of bounds for length 2 char array substring","body":"<pre class=\"lang-java prettyprint-override\"><code>public MyString1 substring(int begin, int end)\n{\n    char[] charset = new char[end - begin];\n    \n    while( begin &lt; end)\n    {\n        charset[begin] = val[begin];\n        begin++;\n    }\n    return new MyString1(charset);\n}\n</code></pre>\n<p>When I try to test out this method in the main method it gives me &quot;Index 2 out of bounds for length 2&quot; error.\nThe size of the array is 5 so how is it that 2 is out of bound?</p>\n<p>I used this line to test it</p>\n<pre class=\"lang-java prettyprint-override\"><code>char[] test1 = {'T', 'e', 'S', 't', '1'};\nMyString1 s1 = new MyString1(test1);\nSystem.out.println(s1.substring(1, 3));\n</code></pre>\n"},{"tags":["java","fxml"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1647908980,"post_id":71556287,"comment_id":126485061,"body_markdown":"Enable all compiler warnings, and pay attention to them.  Those warnings will tell you that you are using a [raw type](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it).  You need to change `TableColumn` to `TableColumn&lt;Tabellmodell, String&gt;`.","body":"Enable all compiler warnings, and pay attention to them.  Those warnings will tell you that you are using a <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">raw type</a>.  You need to change <code>TableColumn</code> to <code>TableColumn&lt;Tabellmodell, String&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":24601344,"reputation":119,"user_id":18504189,"display_name":"Johnys"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1647859795,"creation_date":1647859795,"answer_id":71556336,"question_id":71556287,"body_markdown":"You are trying to set attribute of **null** object. I think that may be the case. Test it out and reach out to me if it doesn&#39;t work.","title":"Cannot resolve method &#39;setCellValueFactory&#39; in &#39;TableColumn&#39;","body":"<p>You are trying to set attribute of <strong>null</strong> object. I think that may be the case. Test it out and reach out to me if it doesn't work.</p>\n"}],"owner":{"account_id":11645607,"reputation":3,"user_id":8528595,"display_name":"revl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647861417,"creation_date":1647859608,"question_id":71556287,"body_markdown":"I have no idea why I get this error message: \r\n\r\n&gt; Cannot resolve method &#39;setCellValueFactory&#39; in &#39;TableColumn&#39;\r\n\r\nBut when I change to this code in initialize with a test variable, the error message get away:\r\n\r\n    @Override                                                                                 \r\n    public void initialize(URL url, ResourceBundle resourceBundle) {                          \r\n        javafx.scene.control.TableColumn kol2 = null;                                         \r\n        kol2.setCellValueFactory(new PropertyValueFactory&lt;Tabellmodell,String&gt;(&quot;name&quot;));        \r\n    }                                                                                         \r\n\r\n  Does anyone know what the problem is with my original code?\r\n\r\n    package com.example.oppgave;\r\n    \r\n    import javax.swing.table.TableColumn;\r\n    \r\n    import com.example.oppgave.Modell.Ansatt;\r\n    import com.example.oppgave.Modell.Tabellmodell;\r\n    import javafx.collections.FXCollections;\r\n    import javafx.collections.ObservableList;\r\n    import javafx.fxml.FXML;\r\n    import javafx.fxml.Initializable;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TableView;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.control.cell.PropertyValueFactory;\r\n    \r\n    import java.net.URL;\r\n    import java.sql.*;\r\n    import java.util.ResourceBundle;\r\n    \r\n    public class AnsattController implements Initializable {\r\n        @FXML\r\n        private Label tilbakemelding;\r\n        @FXML\r\n        private TextField innputNavn;\r\n        @FXML\r\n        private TextField innputId;\r\n        @FXML\r\n        private TableView&lt;Tabellmodell&gt; ansattTabell;\r\n        @FXML\r\n        private TableColumn kolname;\r\n        @FXML\r\n        private TableColumn kolid;\r\n    \r\n    \tObservableList&lt;Tabellmodell&gt; oblist= FXCollections.observableArrayList();\r\n    \r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n             kolname.setCellValueFactory(new PropertyValueFactory&lt;Tabellmodell,String&gt;(&quot;name&quot;));\r\n        }\r\n    \r\n        private void listAnsatteTabell(){\r\n            int c;\r\n            try{\r\n                Db nyDb= new Db();\r\n                Connection tilkobling=nyDb.dbnyTilkobling();\r\n                Statement stmt=tilkobling.createStatement();\r\n                System.out.println(&quot;Connected to the database&quot;);\r\n                String sql = &quot;SELECT id, navn from ansatt;&quot;;\r\n    \r\n                ResultSet rs = stmt.executeQuery(sql);\r\n    \r\n                while(rs.next()){\r\n                    oblist.add(new Tabellmodell(rs.getString(&quot;id&quot;),rs.getString(&quot;navn&quot;)));\r\n                }\r\n\r\n    ansattTabell.setItems(oblist); \r\n                } catch (SQLException throwables) {\r\n                    throwables.printStackTrace();\r\n                }\r\n            }\r\n    }\r\n\r\nFXML:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.control.TableColumn?&gt;\r\n    &lt;?import javafx.scene.control.TableView?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.Pane?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;Pane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.oppgave.AnsattController&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;TextField fx:id=&quot;innputNavn&quot; layoutX=&quot;61.0&quot; layoutY=&quot;110.0&quot; /&gt;\r\n          &lt;TextField fx:id=&quot;innputId&quot; layoutX=&quot;61.0&quot; layoutY=&quot;156.0&quot; /&gt;\r\n          &lt;Label layoutX=&quot;26.0&quot; layoutY=&quot;114.0&quot; text=&quot;Navn&quot; /&gt;\r\n          &lt;Label layoutX=&quot;26.0&quot; layoutY=&quot;160.0&quot; text=&quot;Id&quot; /&gt;\r\n          &lt;Button fx:id=&quot;regAnsatt&quot; layoutX=&quot;61.0&quot; layoutY=&quot;200.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#regNyAnsatt&quot; text=&quot;Registrer&quot; /&gt;\r\n          &lt;TableView fx:id=&quot;ansattTabell&quot; editable=&quot;true&quot; layoutX=&quot;306.0&quot; layoutY=&quot;89.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;273.0&quot;&gt;\r\n            &lt;columns&gt;\r\n              &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;ID&quot; fx:id=&quot;kolid&quot;/&gt;\r\n              &lt;TableColumn prefWidth=&quot;191.0&quot; text=&quot;Navn&quot; fx:id=&quot;kolname&quot;/&gt;\r\n            &lt;/columns&gt;\r\n          &lt;/TableView&gt;\r\n          &lt;Label fx:id=&quot;tilbakemelding&quot; layoutX=&quot;26.0&quot; layoutY=&quot;72.0&quot; /&gt;\r\n          &lt;Label layoutX=&quot;212.0&quot; layoutY=&quot;39.0&quot; text=&quot;Ansatt&quot;&gt;\r\n             &lt;font&gt;\r\n                &lt;Font size=&quot;27.0&quot; /&gt;\r\n             &lt;/font&gt;\r\n          &lt;/Label&gt;\r\n       &lt;/children&gt;\r\n    &lt;/Pane&gt;\r\n\r\nI also seem to get a error message when the @FXML variable and the x:id in the fxml is the same","title":"Cannot resolve method &#39;setCellValueFactory&#39; in &#39;TableColumn&#39;","body":"<p>I have no idea why I get this error message:</p>\n<blockquote>\n<p>Cannot resolve method 'setCellValueFactory' in 'TableColumn'</p>\n</blockquote>\n<p>But when I change to this code in initialize with a test variable, the error message get away:</p>\n<pre><code>@Override                                                                                 \npublic void initialize(URL url, ResourceBundle resourceBundle) {                          \n    javafx.scene.control.TableColumn kol2 = null;                                         \n    kol2.setCellValueFactory(new PropertyValueFactory&lt;Tabellmodell,String&gt;(&quot;name&quot;));        \n}                                                                                         \n</code></pre>\n<p>Does anyone know what the problem is with my original code?</p>\n<pre><code>package com.example.oppgave;\n\nimport javax.swing.table.TableColumn;\n\nimport com.example.oppgave.Modell.Ansatt;\nimport com.example.oppgave.Modell.Tabellmodell;\nimport javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXML;\nimport javafx.fxml.Initializable;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TableView;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.cell.PropertyValueFactory;\n\nimport java.net.URL;\nimport java.sql.*;\nimport java.util.ResourceBundle;\n\npublic class AnsattController implements Initializable {\n    @FXML\n    private Label tilbakemelding;\n    @FXML\n    private TextField innputNavn;\n    @FXML\n    private TextField innputId;\n    @FXML\n    private TableView&lt;Tabellmodell&gt; ansattTabell;\n    @FXML\n    private TableColumn kolname;\n    @FXML\n    private TableColumn kolid;\n\n    ObservableList&lt;Tabellmodell&gt; oblist= FXCollections.observableArrayList();\n\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n         kolname.setCellValueFactory(new PropertyValueFactory&lt;Tabellmodell,String&gt;(&quot;name&quot;));\n    }\n\n    private void listAnsatteTabell(){\n        int c;\n        try{\n            Db nyDb= new Db();\n            Connection tilkobling=nyDb.dbnyTilkobling();\n            Statement stmt=tilkobling.createStatement();\n            System.out.println(&quot;Connected to the database&quot;);\n            String sql = &quot;SELECT id, navn from ansatt;&quot;;\n\n            ResultSet rs = stmt.executeQuery(sql);\n\n            while(rs.next()){\n                oblist.add(new Tabellmodell(rs.getString(&quot;id&quot;),rs.getString(&quot;navn&quot;)));\n            }\n\nansattTabell.setItems(oblist); \n            } catch (SQLException throwables) {\n                throwables.printStackTrace();\n            }\n        }\n}\n</code></pre>\n<p>FXML:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.TableColumn?&gt;\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;Pane maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;-Infinity&quot; minWidth=&quot;-Infinity&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/17&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.oppgave.AnsattController&quot;&gt;\n   &lt;children&gt;\n      &lt;TextField fx:id=&quot;innputNavn&quot; layoutX=&quot;61.0&quot; layoutY=&quot;110.0&quot; /&gt;\n      &lt;TextField fx:id=&quot;innputId&quot; layoutX=&quot;61.0&quot; layoutY=&quot;156.0&quot; /&gt;\n      &lt;Label layoutX=&quot;26.0&quot; layoutY=&quot;114.0&quot; text=&quot;Navn&quot; /&gt;\n      &lt;Label layoutX=&quot;26.0&quot; layoutY=&quot;160.0&quot; text=&quot;Id&quot; /&gt;\n      &lt;Button fx:id=&quot;regAnsatt&quot; layoutX=&quot;61.0&quot; layoutY=&quot;200.0&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#regNyAnsatt&quot; text=&quot;Registrer&quot; /&gt;\n      &lt;TableView fx:id=&quot;ansattTabell&quot; editable=&quot;true&quot; layoutX=&quot;306.0&quot; layoutY=&quot;89.0&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;273.0&quot;&gt;\n        &lt;columns&gt;\n          &lt;TableColumn prefWidth=&quot;75.0&quot; text=&quot;ID&quot; fx:id=&quot;kolid&quot;/&gt;\n          &lt;TableColumn prefWidth=&quot;191.0&quot; text=&quot;Navn&quot; fx:id=&quot;kolname&quot;/&gt;\n        &lt;/columns&gt;\n      &lt;/TableView&gt;\n      &lt;Label fx:id=&quot;tilbakemelding&quot; layoutX=&quot;26.0&quot; layoutY=&quot;72.0&quot; /&gt;\n      &lt;Label layoutX=&quot;212.0&quot; layoutY=&quot;39.0&quot; text=&quot;Ansatt&quot;&gt;\n         &lt;font&gt;\n            &lt;Font size=&quot;27.0&quot; /&gt;\n         &lt;/font&gt;\n      &lt;/Label&gt;\n   &lt;/children&gt;\n&lt;/Pane&gt;\n</code></pre>\n<p>I also seem to get a error message when the @FXML variable and the x:id in the fxml is the same</p>\n"},{"tags":["python","java","spring-boot","heroku"],"answers":[{"tags":[],"owner":{"account_id":1006212,"reputation":571,"user_id":1019927,"accept_rate":38,"display_name":"Kanghu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647855945,"creation_date":1647855945,"answer_id":71555539,"question_id":71555431,"body_markdown":"First, make sure that your application is actually being packaged into a `jar`, i.e. the file `target/Destadeals.0.0.1-SNAPSHOT.jar` actually exists in your project folder after building with `mvn clean install`.\r\n\r\nIt would be helpful if you could also provide a log tail of your Heroku dyno. There could be plenty of reasons for your app crashing. To get a log tail, you  may call `heroku logs --tail -a &lt;app-name&gt;`. A thing to look out for is your database: I see it being configured as a local instance (`localhost:3306`) but this will of course not work on your Heroku dyno.","title":"error code=H10: Unable to deploy springboot app to heroku","body":"<p>First, make sure that your application is actually being packaged into a <code>jar</code>, i.e. the file <code>target/Destadeals.0.0.1-SNAPSHOT.jar</code> actually exists in your project folder after building with <code>mvn clean install</code>.</p>\n<p>It would be helpful if you could also provide a log tail of your Heroku dyno. There could be plenty of reasons for your app crashing. To get a log tail, you  may call <code>heroku logs --tail -a &lt;app-name&gt;</code>. A thing to look out for is your database: I see it being configured as a local instance (<code>localhost:3306</code>) but this will of course not work on your Heroku dyno.</p>\n"}],"owner":{"account_id":17261853,"reputation":606,"user_id":12499550,"display_name":"Teshie Ethiopia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647861334,"creation_date":1647855349,"question_id":71555431,"body_markdown":"I am really new to springboot and I buld my first rest API and wanted to deploy it to heroku. But unfortunately the heroku returned `at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot;` error. Here is my procfile\r\n\r\n    web: java -jar target/Destadeals.0.0.1-SNAPSHOT.jar\r\n\r\nHere is pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.2&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;groupId&gt;Destadeals&lt;/groupId&gt;\r\n        &lt;artifactId&gt;Destadeals&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;Destadeals&lt;/name&gt;\r\n        &lt;description&gt;Desta deals project for Spring Boot&lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n            &lt;spring-cloud.version&gt;2021.0.0&lt;/spring-cloud.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n    \r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n                &lt;version&gt;0.9.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springdoc-openapi-common&lt;/artifactId&gt;\r\n                &lt;version&gt;1.5.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;version&gt;1.18.22&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sebastian-daschner&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxrs-analyzer&lt;/artifactId&gt;\r\n                &lt;version&gt;0.17&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n    \r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                                &lt;destFileName&gt;webapp-runner.jar&lt;/destFileName&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\napplication.properties\r\n\r\n    spring.datasource.url= jdbc:mysql://localhost:3306/desta_deals?allowPublicKeyRetrieval=true&amp;useSSL=false\r\n    spring.datasource.username= root\r\n    spring.datasource.password= password\r\n    \r\n    spring.jpa.properties.hibernate.dialect= org.hibernate.dialect.MySQL5InnoDBDialect\r\n    spring.jpa.hibernate.ddl-auto= update\r\n    server.forward-headers-strategy=framework\r\n    # App Properties\r\n    bezkoder.app.jwtSecret= loginaccepted\r\n    bezkoder.app.jwtExpirationMs= 86400000\r\n    server.port=${PORT:8080}\r\n    spring.datasource.initialization-mode=always\r\n    spring.mvc.pathmatch.matching-strategy=ant_path_matcher\r\n    springdoc.api-docs.path=/api-docs\r\n    springdoc.swagger-ui.path=/swagger-ui-custom.html\r\n\r\nI have tried the following procfile \r\n\r\n    web: java $JAVA_OPTS -Dserver.port=$PORT -jar target/Destadeals.0.0.1-SNAPSHOT.war\r\n\r\n    web: java -Dserver.port=$PORT $JAVA_OPTS -jar build/libs/Destadeals.0.0.1-SNAPSHOT.jar\r\n\r\n    web: java -jar target/java-getting-started-1.0.jar\r\n\r\nBut none of the above procfile codes worked for me.\r\n\r\nHere is log file after running `heroku logs --tail -a desta-deals-backend`\r\n\r\n    2022-03-21T08:35:05.982432+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/login&quot; host=desta-deals-backend.herokuapp.com request_id=d2b8c3a0-977d-4b5b-bfc3-33019714901c fwd=&quot;196.190.152.203&quot; dyno= connect= service= status=503 bytes= protocol=https\r\n    2022-03-21T08:35:06.652854+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/favicon.ico&quot; host=desta-deals-backend.herokuapp.com request_id=5ecb9bde-d9df-4763-997f-b25d82f76614 fwd=&quot;196.190.152.203&quot; dyno= connect= service= status=503 bytes= protocol=https\r\n\r\nWhat can I change to deploy my springboot application to heroku?\r\n\r\nThanks\r\n","title":"error code=H10: Unable to deploy springboot app to heroku","body":"<p>I am really new to springboot and I buld my first rest API and wanted to deploy it to heroku. But unfortunately the heroku returned <code>at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/&quot;</code> error. Here is my procfile</p>\n<pre><code>web: java -jar target/Destadeals.0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>Here is pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;Destadeals&lt;/groupId&gt;\n    &lt;artifactId&gt;Destadeals&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Destadeals&lt;/name&gt;\n    &lt;description&gt;Desta deals project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;spring-cloud.version&gt;2021.0.0&lt;/spring-cloud.version&gt;\n    &lt;/properties&gt;\n\n\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;0.9.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-common&lt;/artifactId&gt;\n            &lt;version&gt;1.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.22&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sebastian-daschner&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxrs-analyzer&lt;/artifactId&gt;\n            &lt;version&gt;0.17&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                            &lt;destFileName&gt;webapp-runner.jar&lt;/destFileName&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url= jdbc:mysql://localhost:3306/desta_deals?allowPublicKeyRetrieval=true&amp;useSSL=false\nspring.datasource.username= root\nspring.datasource.password= password\n\nspring.jpa.properties.hibernate.dialect= org.hibernate.dialect.MySQL5InnoDBDialect\nspring.jpa.hibernate.ddl-auto= update\nserver.forward-headers-strategy=framework\n# App Properties\nbezkoder.app.jwtSecret= loginaccepted\nbezkoder.app.jwtExpirationMs= 86400000\nserver.port=${PORT:8080}\nspring.datasource.initialization-mode=always\nspring.mvc.pathmatch.matching-strategy=ant_path_matcher\nspringdoc.api-docs.path=/api-docs\nspringdoc.swagger-ui.path=/swagger-ui-custom.html\n</code></pre>\n<p>I have tried the following procfile</p>\n<pre><code>web: java $JAVA_OPTS -Dserver.port=$PORT -jar target/Destadeals.0.0.1-SNAPSHOT.war\n\nweb: java -Dserver.port=$PORT $JAVA_OPTS -jar build/libs/Destadeals.0.0.1-SNAPSHOT.jar\n\nweb: java -jar target/java-getting-started-1.0.jar\n</code></pre>\n<p>But none of the above procfile codes worked for me.</p>\n<p>Here is log file after running <code>heroku logs --tail -a desta-deals-backend</code></p>\n<pre><code>2022-03-21T08:35:05.982432+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/login&quot; host=desta-deals-backend.herokuapp.com request_id=d2b8c3a0-977d-4b5b-bfc3-33019714901c fwd=&quot;196.190.152.203&quot; dyno= connect= service= status=503 bytes= protocol=https\n2022-03-21T08:35:06.652854+00:00 heroku[router]: at=error code=H10 desc=&quot;App crashed&quot; method=GET path=&quot;/favicon.ico&quot; host=desta-deals-backend.herokuapp.com request_id=5ecb9bde-d9df-4763-997f-b25d82f76614 fwd=&quot;196.190.152.203&quot; dyno= connect= service= status=503 bytes= protocol=https\n</code></pre>\n<p>What can I change to deploy my springboot application to heroku?</p>\n<p>Thanks</p>\n"},{"tags":["java","weblogic","jax-rpc"],"comments":[{"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"score":0,"creation_date":1647813234,"post_id":71546724,"comment_id":126459458,"body_markdown":"trying specifying the scope of your wls-api dependecy as `provided`","body":"trying specifying the scope of your wls-api dependecy as <code>provided</code>"},{"owner":{"account_id":11315,"reputation":41450,"user_id":21755,"accept_rate":85,"display_name":"The Archetypal Paul"},"score":0,"creation_date":1647861078,"post_id":71546724,"comment_id":126469152,"body_markdown":"@httPants thanks but that didn&#39;t make any difference.","body":"@httPants thanks but that didn&#39;t make any difference."}],"owner":{"account_id":11315,"reputation":41450,"user_id":21755,"accept_rate":85,"display_name":"The Archetypal Paul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647861296,"creation_date":1647779165,"question_id":71546724,"body_markdown":"I have a Webservice implemented with jwsc for Weblogic 12c. It&#39;s a WAR file. The classes for the various beans used for the parameters and returns are added with the standard maven plugin, and everything _looks_ OK.\r\n\r\nIt compiles and packages OK. But any attempt to deploy it gets &quot;Unable to invoke Annotation processoror&quot; (yes, spelt wrong) from the Admin console.\r\n\r\nThe stacktrace is below, but really doesn&#39;t provide much of a hint. I&#39;ve searched for other questions/answers but have come up blank.\r\n\r\nThe supporting classes were originally generated with xjc and so had many annotations. I removed those in case that was the issue, but no change. So the only annotations are in the WS implementation class:\r\n\r\n    @WebService(name = &quot;MyServicePortType&quot;, serviceName = &quot;MyService&quot;, targetNamespace = &quot;http://test/wsdl/getInfo/v1&quot;)\r\n    \r\n    @WLHttpTransport(contextPath = &quot;my-nbi&quot;, serviceUri = &quot;/MyService&quot;)\r\n    @SOAPBinding(style = SOAPBinding.Style.DOCUMENT, use = SOAPBinding.Use.LITERAL)\r\n    public class MyServiceImpl implements OPLService {\r\n\r\nThere&#39;s just a single dependency in the POM:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;wls-api&lt;/artifactId&gt;\r\n            &lt;version&gt;12.2.1&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n          &lt;/dependency&gt;\r\n\r\nPossibly connected is that if I try to generate as a JAXWS web service (`type=&quot;JAXWS&quot;` rather than `type=&quot;JAXRPC&quot;` in the args to jwsc) that fails with: \r\n\r\n`error: Annotation processor &#39;com.sun.tools.ws.processor.modeler.annotation.WebServiceAp&#39; not found`\r\n\r\nI&#39;ve tried adding jars with that class (there are several supplied with weblogic) to the JWSC classpath but with no success (nothing seemed to change at all).\r\n\r\nAny ideas on what to try next?\r\n\r\nEDIT: One thing I missed was that WL seems to like its SOAP web services as an EAR (containing the WAR). I tried that but still got the error.\r\n\r\nI then did what should have done earlier and started with the sample from the documentation (which uses ANT rather than maven, but builds an EAR). That worked, and I&#39;ve slowly modified that towards the web service I actually need. When I&#39;ve done, I&#39;ll try to work out what the differences are.\r\n\r\n    &lt;Mar 20, 2022 11:55:57,636 AM UTC&gt; &lt;Error&gt; &lt;J2EE&gt; &lt;BEA-160228&gt; &lt;AppMerge failed to merge your application. If you are running AppMerge on the command-line, merge again with the -verbose option for more details. See the error message(s) below.&gt; \r\n    weblogic.utils.compiler.ToolFailureException: Unable to invoke Annotation processoror\r\n    \tat weblogic.application.compiler.FlowDriver.handleStateChangeException(FlowDriver.java:55)\r\n    \tat weblogic.application.compiler.FlowDriver.nextState(FlowDriver.java:38)\r\n    \tat weblogic.application.compiler.AppMerge.runBody(AppMerge.java:168)\r\n    \tat weblogic.utils.compiler.Tool.run(Tool.java:159)\r\n    \tat weblogic.utils.compiler.Tool.run(Tool.java:116)\r\n    \tat weblogic.application.compiler.AppMerge.merge(AppMerge.java:198)\r\n    \tat weblogic.deploy.api.internal.utils.AppMerger.merge(AppMerger.java:94)\r\n    \tat weblogic.deploy.api.internal.utils.AppMerger.getMergedApp(AppMerger.java:58)\r\n    \tat weblogic.deploy.api.model.internal.WebLogicDeployableObjectFactoryImpl.createDeployableObject(WebLogicDeployableObjectFactoryImpl.java:186)\r\n    \tat weblogic.deploy.api.model.internal.WebLogicDeployableObjectFactoryImpl.createLazyDeployableObject(WebLogicDeployableObjectFactoryImpl.java:160)\r\n    \tat weblogic.deploy.api.tools.SessionHelper.inspect(SessionHelper.java:781)\r\n    \tat com.bea.console.actions.app.install.Flow$2.execute(Flow.java:541)\r\n    \tat com.bea.console.utils.DeploymentUtils.runDeploymentAction(DeploymentUtils.java:5787)\r\n        [Lots of console related entries removed]\r\n    Caused by: java.lang.AssertionError: Unable to invoke Annotation processoror\r\n    \tat weblogic.j2ee.wsee.compiler.WSEEModuleHelper.processAnnotations(WSEEModuleHelper.java:287)\r\n    \tat weblogic.j2ee.wsee.compiler.WSEEModuleHelper.processAnnotationsWithServiceLinks(WSEEModuleHelper.java:245)\r\n    \tat weblogic.j2ee.wsee.compiler.WSEEModuleHelper.processAnnotations(WSEEModuleHelper.java:178)\r\n    \tat weblogic.wsee.tools.WSEEWebAppToolsModuleExtension.processAnnotations(WSEEWebAppToolsModuleExtension.java:216)\r\n    \tat weblogic.wsee.tools.WSEEWebAppToolsModuleExtension.merge(WSEEWebAppToolsModuleExtension.java:109)\r\n    \tat weblogic.application.compiler.flow.SingleModuleMergeFlow.proecessModule(SingleModuleMergeFlow.java:33)\r\n    \tat weblogic.application.compiler.flow.SingleModuleFlow.compile(SingleModuleFlow.java:64)\r\n    \tat weblogic.application.compiler.FlowDriver$FlowStateChange.next(FlowDriver.java:70)\r\n    \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\n    \tat weblogic.application.compiler.FlowDriver.nextState(FlowDriver.java:37)\r\n    \tat weblogic.application.compiler.BaseMerger.merge(BaseMerger.java:20)\r\n    \tat weblogic.application.compiler.flow.AppMergerFlow.mergeInput(AppMergerFlow.java:75)\r\n    \tat weblogic.application.compiler.flow.AppMergerFlow.compile(AppMergerFlow.java:40)\r\n    \tat weblogic.application.compiler.FlowDriver$FlowStateChange.next(FlowDriver.java:70)\r\n    \tat weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\r\n    \tat weblogic.application.compiler.FlowDriver.nextState(FlowDriver.java:37)\r\n    \t... 116 more\r\n\r\n","title":"&quot; Error Unable to invoke Annotation processoror&quot; wben deploying web service in Weblogic 12c","body":"<p>I have a Webservice implemented with jwsc for Weblogic 12c. It's a WAR file. The classes for the various beans used for the parameters and returns are added with the standard maven plugin, and everything <em>looks</em> OK.</p>\n<p>It compiles and packages OK. But any attempt to deploy it gets &quot;Unable to invoke Annotation processoror&quot; (yes, spelt wrong) from the Admin console.</p>\n<p>The stacktrace is below, but really doesn't provide much of a hint. I've searched for other questions/answers but have come up blank.</p>\n<p>The supporting classes were originally generated with xjc and so had many annotations. I removed those in case that was the issue, but no change. So the only annotations are in the WS implementation class:</p>\n<pre><code>@WebService(name = &quot;MyServicePortType&quot;, serviceName = &quot;MyService&quot;, targetNamespace = &quot;http://test/wsdl/getInfo/v1&quot;)\n\n@WLHttpTransport(contextPath = &quot;my-nbi&quot;, serviceUri = &quot;/MyService&quot;)\n@SOAPBinding(style = SOAPBinding.Style.DOCUMENT, use = SOAPBinding.Use.LITERAL)\npublic class MyServiceImpl implements OPLService {\n</code></pre>\n<p>There's just a single dependency in the POM:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n        &lt;artifactId&gt;wls-api&lt;/artifactId&gt;\n        &lt;version&gt;12.2.1&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n      &lt;/dependency&gt;\n</code></pre>\n<p>Possibly connected is that if I try to generate as a JAXWS web service (<code>type=&quot;JAXWS&quot;</code> rather than <code>type=&quot;JAXRPC&quot;</code> in the args to jwsc) that fails with:</p>\n<p><code>error: Annotation processor 'com.sun.tools.ws.processor.modeler.annotation.WebServiceAp' not found</code></p>\n<p>I've tried adding jars with that class (there are several supplied with weblogic) to the JWSC classpath but with no success (nothing seemed to change at all).</p>\n<p>Any ideas on what to try next?</p>\n<p>EDIT: One thing I missed was that WL seems to like its SOAP web services as an EAR (containing the WAR). I tried that but still got the error.</p>\n<p>I then did what should have done earlier and started with the sample from the documentation (which uses ANT rather than maven, but builds an EAR). That worked, and I've slowly modified that towards the web service I actually need. When I've done, I'll try to work out what the differences are.</p>\n<pre><code>&lt;Mar 20, 2022 11:55:57,636 AM UTC&gt; &lt;Error&gt; &lt;J2EE&gt; &lt;BEA-160228&gt; &lt;AppMerge failed to merge your application. If you are running AppMerge on the command-line, merge again with the -verbose option for more details. See the error message(s) below.&gt; \nweblogic.utils.compiler.ToolFailureException: Unable to invoke Annotation processoror\n    at weblogic.application.compiler.FlowDriver.handleStateChangeException(FlowDriver.java:55)\n    at weblogic.application.compiler.FlowDriver.nextState(FlowDriver.java:38)\n    at weblogic.application.compiler.AppMerge.runBody(AppMerge.java:168)\n    at weblogic.utils.compiler.Tool.run(Tool.java:159)\n    at weblogic.utils.compiler.Tool.run(Tool.java:116)\n    at weblogic.application.compiler.AppMerge.merge(AppMerge.java:198)\n    at weblogic.deploy.api.internal.utils.AppMerger.merge(AppMerger.java:94)\n    at weblogic.deploy.api.internal.utils.AppMerger.getMergedApp(AppMerger.java:58)\n    at weblogic.deploy.api.model.internal.WebLogicDeployableObjectFactoryImpl.createDeployableObject(WebLogicDeployableObjectFactoryImpl.java:186)\n    at weblogic.deploy.api.model.internal.WebLogicDeployableObjectFactoryImpl.createLazyDeployableObject(WebLogicDeployableObjectFactoryImpl.java:160)\n    at weblogic.deploy.api.tools.SessionHelper.inspect(SessionHelper.java:781)\n    at com.bea.console.actions.app.install.Flow$2.execute(Flow.java:541)\n    at com.bea.console.utils.DeploymentUtils.runDeploymentAction(DeploymentUtils.java:5787)\n    [Lots of console related entries removed]\nCaused by: java.lang.AssertionError: Unable to invoke Annotation processoror\n    at weblogic.j2ee.wsee.compiler.WSEEModuleHelper.processAnnotations(WSEEModuleHelper.java:287)\n    at weblogic.j2ee.wsee.compiler.WSEEModuleHelper.processAnnotationsWithServiceLinks(WSEEModuleHelper.java:245)\n    at weblogic.j2ee.wsee.compiler.WSEEModuleHelper.processAnnotations(WSEEModuleHelper.java:178)\n    at weblogic.wsee.tools.WSEEWebAppToolsModuleExtension.processAnnotations(WSEEWebAppToolsModuleExtension.java:216)\n    at weblogic.wsee.tools.WSEEWebAppToolsModuleExtension.merge(WSEEWebAppToolsModuleExtension.java:109)\n    at weblogic.application.compiler.flow.SingleModuleMergeFlow.proecessModule(SingleModuleMergeFlow.java:33)\n    at weblogic.application.compiler.flow.SingleModuleFlow.compile(SingleModuleFlow.java:64)\n    at weblogic.application.compiler.FlowDriver$FlowStateChange.next(FlowDriver.java:70)\n    at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\n    at weblogic.application.compiler.FlowDriver.nextState(FlowDriver.java:37)\n    at weblogic.application.compiler.BaseMerger.merge(BaseMerger.java:20)\n    at weblogic.application.compiler.flow.AppMergerFlow.mergeInput(AppMergerFlow.java:75)\n    at weblogic.application.compiler.flow.AppMergerFlow.compile(AppMergerFlow.java:40)\n    at weblogic.application.compiler.FlowDriver$FlowStateChange.next(FlowDriver.java:70)\n    at weblogic.application.utils.StateMachineDriver.nextState(StateMachineDriver.java:45)\n    at weblogic.application.compiler.FlowDriver.nextState(FlowDriver.java:37)\n    ... 116 more\n</code></pre>\n"},{"tags":["java","spring-boot","aop"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1647861986,"post_id":71556694,"comment_id":126469484,"body_markdown":"Just curious...Are you trying to implement your own tracing mechanism?  You know there is Jaeger which is used for distributed tracing (example REST).  Tutorial https://reflectoring.io/spring-boot-tracing/\n\nYou dont have to change your APIs or create any AOP..","body":"Just curious...Are you trying to implement your own tracing mechanism?  You know there is Jaeger which is used for distributed tracing (example REST).  Tutorial <a href=\"https://reflectoring.io/spring-boot-tracing/\" rel=\"nofollow noreferrer\">reflectoring.io/spring-boot-tracing</a>  You dont have to change your APIs or create any AOP.."},{"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"score":0,"creation_date":1647864743,"post_id":71556694,"comment_id":126470524,"body_markdown":"So the implementation doesn&#39;t really matter. The main thing is that the effort is very low. But would it be possible to determine the times of the requests across all services with AOP? I&#39;ll have a look at Jaeger right away.","body":"So the implementation doesn&#39;t really matter. The main thing is that the effort is very low. But would it be possible to determine the times of the requests across all services with AOP? I&#39;ll have a look at Jaeger right away."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1647865818,"post_id":71556694,"comment_id":126470928,"body_markdown":"I have not tried doing it using AOP.  Generally for distributed across multiple services, it is best to use a tracing solution, and Jaeger is a good way.  You can also search google for Springboot Open Tracing and see what other solutions might be available.","body":"I have not tried doing it using AOP.  Generally for distributed across multiple services, it is best to use a tracing solution, and Jaeger is a good way.  You can also search google for Springboot Open Tracing and see what other solutions might be available."},{"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"score":0,"creation_date":1647940708,"post_id":71556694,"comment_id":126491527,"body_markdown":"Thanks again for your advice. Have now installed Jaeger and it works great. Thanks :)","body":"Thanks again for your advice. Have now installed Jaeger and it works great. Thanks :)"},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1647941160,"post_id":71556694,"comment_id":126491701,"body_markdown":"Glad to have helped","body":"Glad to have helped"}],"owner":{"account_id":17186111,"reputation":359,"user_id":12440701,"display_name":"Doncarlito87"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647861283,"creation_date":1647861283,"question_id":71556694,"body_markdown":"I would like to invite you to talk with me about AOP and logging in Spring Boot applications. My goal is to log the speeds of each request. This should also work when a service calls another service. Preferably the runtime, the name of the method and an individual ID for each request should be output. \r\n\r\nNow the question: Is it possible to realize this with AOP? \r\n\r\nI started with the following Youtube tutorial: https://www.youtube.com/watch?v=RVvKPP5HyaA&amp;ab_channel=JavaTechie\r\n\r\nAnd here is a first AOP:\r\n\r\n```\r\npackage abc.advise;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.Pointcut;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\nimport org.springframework.stereotype.Component;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\n@Aspect\r\n@Component\r\npublic class LoggingAdvice {\r\n\r\n  Logger log = LoggerFactory.getLogger(LoggingAdvice.class);\r\n\r\n  @Pointcut(\r\n      value = &quot;execution(* abc.api.*Controller.*(..))&quot;)\r\n  public void pointCut() {\r\n\r\n  }\r\n\r\n  @Around(&quot;pointCut()&quot;)\r\n  public Object applicationLogger(ProceedingJoinPoint pjp) throws Throwable {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    String methodName = pjp.getSignature().getName();\r\n    String className = pjp.getTarget().getClass().toString();\r\n    Object[] array = pjp.getArgs();\r\n    log.info(&quot;method invoked &quot; + className + &quot; : &quot; + methodName + &quot;()&quot; + &quot;arguments : &quot;\r\n        + mapper.writeValueAsString(array));\r\n\r\n    Object object = pjp.proceed();\r\n    log.info(&quot;method invoked &quot; + className + &quot; : &quot; + methodName + &quot;()&quot; + &quot;Response : &quot;\r\n        + mapper.writeValueAsString(array));\r\n\r\n    return object;\r\n  }\r\n\r\n}\r\n\r\n```\r\n\r\nSo this AOP looks into the package API and applies the AOP to classes with controller as suffix. (I decided to use AOP because I thought that I would not have to change my single rest methods).\r\n\r\nTo come back to the question. Can I use AOP to measure request times across services?\r\n\r\nThe questions that naturally play a role here are: \r\n\r\nWhere should the ID be stored so that other services working with the same request can continue to use the ID?\r\n\r\nHow should I use the endpoints with AOP so that I get a log entry that shows the runtime of the complete request? \r\n\r\nI am open for suggestions.\r\n\r\nThanks in advance.\r\n","title":"How to use AOP correctly to measure the runtime of requests across services? (Spring Boot)","body":"<p>I would like to invite you to talk with me about AOP and logging in Spring Boot applications. My goal is to log the speeds of each request. This should also work when a service calls another service. Preferably the runtime, the name of the method and an individual ID for each request should be output.</p>\n<p>Now the question: Is it possible to realize this with AOP?</p>\n<p>I started with the following Youtube tutorial: <a href=\"https://www.youtube.com/watch?v=RVvKPP5HyaA&amp;ab_channel=JavaTechie\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=RVvKPP5HyaA&amp;ab_channel=JavaTechie</a></p>\n<p>And here is a first AOP:</p>\n<pre><code>package abc.advise;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.Pointcut;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.stereotype.Component;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Aspect\n@Component\npublic class LoggingAdvice {\n\n  Logger log = LoggerFactory.getLogger(LoggingAdvice.class);\n\n  @Pointcut(\n      value = &quot;execution(* abc.api.*Controller.*(..))&quot;)\n  public void pointCut() {\n\n  }\n\n  @Around(&quot;pointCut()&quot;)\n  public Object applicationLogger(ProceedingJoinPoint pjp) throws Throwable {\n    ObjectMapper mapper = new ObjectMapper();\n    String methodName = pjp.getSignature().getName();\n    String className = pjp.getTarget().getClass().toString();\n    Object[] array = pjp.getArgs();\n    log.info(&quot;method invoked &quot; + className + &quot; : &quot; + methodName + &quot;()&quot; + &quot;arguments : &quot;\n        + mapper.writeValueAsString(array));\n\n    Object object = pjp.proceed();\n    log.info(&quot;method invoked &quot; + className + &quot; : &quot; + methodName + &quot;()&quot; + &quot;Response : &quot;\n        + mapper.writeValueAsString(array));\n\n    return object;\n  }\n\n}\n\n</code></pre>\n<p>So this AOP looks into the package API and applies the AOP to classes with controller as suffix. (I decided to use AOP because I thought that I would not have to change my single rest methods).</p>\n<p>To come back to the question. Can I use AOP to measure request times across services?</p>\n<p>The questions that naturally play a role here are:</p>\n<p>Where should the ID be stored so that other services working with the same request can continue to use the ID?</p>\n<p>How should I use the endpoints with AOP so that I get a log entry that shows the runtime of the complete request?</p>\n<p>I am open for suggestions.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","http","chunked-encoding","chunked","http-chunked"],"comments":[{"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"score":0,"creation_date":1446028579,"post_id":33373334,"comment_id":54569389,"body_markdown":"Why do you need a chunked response? TCP does it already","body":"Why do you need a chunked response? TCP does it already"},{"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"score":0,"creation_date":1446028712,"post_id":33373334,"comment_id":54569469,"body_markdown":"I&#39;m creating a JSON response which can be quite large &gt; 4K.  Some browsers like IE will tolerate larger packets.  I want to ensure the solution works for all by keeping the maximum packet size to 768 bytes per chunk.","body":"I&#39;m creating a JSON response which can be quite large &gt; 4K.  Some browsers like IE will tolerate larger packets.  I want to ensure the solution works for all by keeping the maximum packet size to 768 bytes per chunk."},{"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"score":0,"creation_date":1446029041,"post_id":33373334,"comment_id":54569677,"body_markdown":"I am pretty sure you won&#39;t have problems there in any popular browser, there is a limit on GET url length, but on response? Are you sure you have an issue?","body":"I am pretty sure you won&#39;t have problems there in any popular browser, there is a limit on GET url length, but on response? Are you sure you have an issue?"},{"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"score":0,"creation_date":1446029195,"post_id":33373334,"comment_id":54569763,"body_markdown":"The request method is not relevant, GET or POST, its the response data that needs to be chunked because there is a limit in TCP on the size of a packet and HTTP restricts it further.","body":"The request method is not relevant, GET or POST, its the response data that needs to be chunked because there is a limit in TCP on the size of a packet and HTTP restricts it further."},{"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"score":0,"creation_date":1446029650,"post_id":33373334,"comment_id":54570075,"body_markdown":"In my response handler routine, I am seeing a response which tells me that the chunks are being reassembled, however the data is prefixed with the chunk size...not sure why, but it invalidates the data.","body":"In my response handler routine, I am seeing a response which tells me that the chunks are being reassembled, however the data is prefixed with the chunk size...not sure why, but it invalidates the data."},{"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"score":0,"creation_date":1446029912,"post_id":33373334,"comment_id":54570230,"body_markdown":"Looking at the response, the data actually contains everything, all the chunks including the chunk sizes and the terminating 0 with CRLF, not sure why...could it be down to the headers?","body":"Looking at the response, the data actually contains everything, all the chunks including the chunk sizes and the terminating 0 with CRLF, not sure why...could it be down to the headers?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1446109773,"post_id":33373334,"comment_id":54610370,"body_markdown":"Don&#39;t use `Thread.sleep().` Use a `Selector` to tell you when there is something to accept.","body":"Don&#39;t use <code>Thread.sleep().</code> Use a <code>Selector</code> to tell you when there is something to accept."}],"answers":[{"tags":[],"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1446034427,"creation_date":1446034427,"answer_id":33390781,"question_id":33373334,"body_markdown":"Solved, not sure why, but removing the header:\r\n\r\n      Transfer-Encoding: chunked\r\n\r\nAnd also the chunk lengths at the beginning of each chunk resolved the issue, I still write the data in 768 byte chunks.  This works reliably and very well.\r\n\r\nNot sure why I had to do this.\r\n\r\nFinal method to produce chunks from data string:\r\n\r\n        public static String[] arystrChunkData(String strData) {\r\n        \t\tint intChunks = (strData.length() / CHUNK_THRESHOLD_BYTESIZE) + 1;\r\n        \t\tString[] arystrChunks = new String[intChunks];\r\n        \t\tint intLength = strData.length(), intPos = 0;\r\n\t\t\r\n        \t\tfor( int c=0; c&lt;arystrChunks.length; c++ ) {\t\t\t\r\n        \t\t\tif ( intPos &lt; intLength ) {\r\n        //Extract a chunk from the data\t\t\t\r\n        \t\t\t\tint intEnd = Math.min(intLength, intPos + CHUNK_THRESHOLD_BYTESIZE);\r\n        \t\t\t\tarystrChunks[c] = strData.substring(intPos, intEnd);\r\n        \t\t\t\tintPos = intEnd;\r\n        \t\t\t}\r\n        \t\t}\t\t\r\n        \t\treturn arystrChunks;\r\n        \t}\r\n\r\nLoop to write chunks, no lengths at the beginning and no 0 byte at the end of the chunks required:\r\n\r\n        String[] arystrChunks = arystrChunkData(strResponse);\r\n        for( String strChunk : arystrChunks ) {\r\n                if ( strChunk != null ) {\r\n                        out.write(strChunk.getBytes());\r\n                }\t\t\t\t\t\t\t\r\n        }\r\n","title":"Java HTTP server sending chunked response","body":"<p>Solved, not sure why, but removing the header:</p>\n\n<pre><code>  Transfer-Encoding: chunked\n</code></pre>\n\n<p>And also the chunk lengths at the beginning of each chunk resolved the issue, I still write the data in 768 byte chunks.  This works reliably and very well.</p>\n\n<p>Not sure why I had to do this.</p>\n\n<p>Final method to produce chunks from data string:</p>\n\n<pre><code>    public static String[] arystrChunkData(String strData) {\n            int intChunks = (strData.length() / CHUNK_THRESHOLD_BYTESIZE) + 1;\n            String[] arystrChunks = new String[intChunks];\n            int intLength = strData.length(), intPos = 0;\n\n            for( int c=0; c&lt;arystrChunks.length; c++ ) {            \n                if ( intPos &lt; intLength ) {\n    //Extract a chunk from the data         \n                    int intEnd = Math.min(intLength, intPos + CHUNK_THRESHOLD_BYTESIZE);\n                    arystrChunks[c] = strData.substring(intPos, intEnd);\n                    intPos = intEnd;\n                }\n            }       \n            return arystrChunks;\n        }\n</code></pre>\n\n<p>Loop to write chunks, no lengths at the beginning and no 0 byte at the end of the chunks required:</p>\n\n<pre><code>    String[] arystrChunks = arystrChunkData(strResponse);\n    for( String strChunk : arystrChunks ) {\n            if ( strChunk != null ) {\n                    out.write(strChunk.getBytes());\n            }                           \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3997984,"reputation":4081,"user_id":3294902,"display_name":"Kostas Kryptos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1446107547,"creation_date":1446107547,"answer_id":33409312,"question_id":33373334,"body_markdown":"As I commented already, there is NOT an official limit on HTTP response size. TCP does this work for you. However, you can always configure your web server to implement such a policy by setting Content-Length :: 32 bit Integer max size or 64 bit for modern browsers (see [here][1]).\r\n\r\nTechnically, you can have unlimited responses using Chunked Transfer as you state on your post. In theory, this is used to bypass the max Content-Length.\r\n\r\nMost commonly and if there is such a requirement for a huge JSON file (at least some MBs in size), you can use some sort of pagination logic via sequential AJAX requests. In your case, you could split your big JSON data to chunks programmatically and send each one via another AJAX request. Then, let Javascript perform the merging task.\r\n\r\nTypically, a JSON response of some MB in size will load successfully on any browser. I suggest you take a look on [this][2] article; it is 3-years old, but I guess things are even better nowadays.\r\n\r\nIn short, the above benchmark states that JSON of size less than 35 MB will probably load successfully on any modern desktop browser. This, however, may not be the case for mobile browsers. For instance, there are some [reports][3] for mobile safari limitations on &gt;10MB Json files.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/8811824/http-content-length-and-chunked-transfer-encoding-is-there-a-2gb-limit\r\n  [2]: http://josh.zeigler.us/technology/web-development/how-big-is-too-big-for-json/\r\n  [3]: https://stackoverflow.com/questions/8937516/maximum-json-size-for-response-to-the-browser#comments-8937620","title":"Java HTTP server sending chunked response","body":"<p>As I commented already, there is NOT an official limit on HTTP response size. TCP does this work for you. However, you can always configure your web server to implement such a policy by setting Content-Length :: 32 bit Integer max size or 64 bit for modern browsers (see <a href=\"https://stackoverflow.com/questions/8811824/http-content-length-and-chunked-transfer-encoding-is-there-a-2gb-limit\">here</a>).</p>\n\n<p>Technically, you can have unlimited responses using Chunked Transfer as you state on your post. In theory, this is used to bypass the max Content-Length.</p>\n\n<p>Most commonly and if there is such a requirement for a huge JSON file (at least some MBs in size), you can use some sort of pagination logic via sequential AJAX requests. In your case, you could split your big JSON data to chunks programmatically and send each one via another AJAX request. Then, let Javascript perform the merging task.</p>\n\n<p>Typically, a JSON response of some MB in size will load successfully on any browser. I suggest you take a look on <a href=\"http://josh.zeigler.us/technology/web-development/how-big-is-too-big-for-json/\" rel=\"nofollow noreferrer\">this</a> article; it is 3-years old, but I guess things are even better nowadays.</p>\n\n<p>In short, the above benchmark states that JSON of size less than 35 MB will probably load successfully on any modern desktop browser. This, however, may not be the case for mobile browsers. For instance, there are some <a href=\"https://stackoverflow.com/questions/8937516/maximum-json-size-for-response-to-the-browser#comments-8937620\">reports</a> for mobile safari limitations on >10MB Json files.</p>\n"},{"tags":[],"owner":{"account_id":2005653,"reputation":439,"user_id":1795639,"display_name":"Christopher Broderick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647861256,"creation_date":1647861256,"answer_id":71556687,"question_id":33373334,"body_markdown":"If you transfer user Transfer-Encoding=chunked then each chunk of data must be preceded by the size of the chunk.\r\n\r\nSee here for a good explanation:\r\nhttps://en.wikipedia.org/wiki/Chunked_transfer_encoding","title":"Java HTTP server sending chunked response","body":"<p>If you transfer user Transfer-Encoding=chunked then each chunk of data must be preceded by the size of the chunk.</p>\n<p>See here for a good explanation:\n<a href=\"https://en.wikipedia.org/wiki/Chunked_transfer_encoding\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Chunked_transfer_encoding</a></p>\n"}],"owner":{"account_id":4552562,"reputation":5388,"user_id":3697264,"accept_rate":92,"display_name":"SPlatten"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16531,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":33390781,"answer_count":3,"score":7,"last_activity_date":1647861256,"creation_date":1445963167,"question_id":33373334,"body_markdown":"I am working on a Java application which has a built in HTTP server, at the moment the server is implemented using ServerSocketChannel, it listens on port 1694 for requests:\r\n\r\n        \tmsvrCh = ServerSocketChannel.open();\r\n\t\t\tmsvrCh.socket().bind(new InetSocketAddress(mintPort));\r\n\t\t\tmsvrCh.configureBlocking(false);\r\n\r\nA thread is installed to manage requests and responses:\r\n\r\n\t\t\tThread thrd = new Thread(msgReceiver);\r\n\t\t\tthrd.setUncaughtExceptionHandler(exceptionHandler);\r\n\t\t\tthrd.start();\r\n\r\nThe thread is quite simple:\r\n\r\n\t\t\tRunnable msgReceiver = new Runnable() {\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void run() {\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\twhile( !Thread.interrupted() ) {\r\n        //Sleep a short period between checks for new requests\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\t\tThread.sleep(DELAY_BETWEEN_ACCEPTS);\r\n\t\t\t\t\t\t\t} catch(Exception ex) {\r\n\t\t\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tSocketChannel cliCh = msvrCh.accept();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif ( blnExit() == true ) {\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif ( cliCh == null ) {\r\n\t\t\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tprocessRequest(cliCh.socket());\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t} finally {\t\t\t\t\t\t\r\n\t\t\t\t\t\tlogMsg(TERMINATING_THREAD + \r\n\t\t\t\t\t\t\t\t&quot;for accepting cluster connections&quot;, true);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( msvrCh != null ) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tmsvrCh.close();\r\n\t\t\t\t\t\t\t} catch (IOException ex) {\r\n\t\t\t\t\t\t\t\tex.printStackTrace();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmsvrCh = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\nThe main bulk of the code for dealing with the response is in the function processRequest:\r\n\r\n    private void processRequest(Socket sck) {\r\n        try {\r\n        //AJAX Parameters\r\n        \tfinal String AJAX_ID\t\t\t= &quot;ajmid&quot;;\r\n        //The &#39;Handler Key&#39; used to decode response        \t\r\n        \tfinal String HANDLER_KEY\t\t= &quot;hkey&quot;;\r\n        //Message payload        \t\r\n        \tfinal String PAYLOAD\t\t\t= &quot;payload&quot;;\r\n        //Post input buffer size        \t\r\n        \tfinal int REQUEST_BUFFER_SIZE\t= 4096;\r\n        //Double carriage return marks the end of the headers        \t\r\n        \tfinal String CRLF\t\t\t\t= &quot;\\r\\n&quot;;\r\n        \t\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(sck.getInputStream()));\r\n        \tString strAMID = null, strHKey = null, strRequest;\r\n        \tchar[] chrBuffer = new char[REQUEST_BUFFER_SIZE];\r\n        \tStringBuffer sbRequest = new StringBuffer();\r\n            eMsgTypes eType = eMsgTypes.UNKNOWN;\r\n            clsHTTPparameters objParams = null;\r\n            int intPos, intCount;            \t\r\n        //Extract the entire request, including headers        \t\r\n            if ( (intCount = in.read(chrBuffer)) == 0 ) {\r\n            \tthrow new Exception(&quot;Cannot read request!&quot;);\r\n            }\r\n        \tsbRequest.append(chrBuffer, 0, intCount);        \t\r\n    \t\tstrRequest = sbRequest.toString();\r\n        //What method is being used by this request?\r\n            if ( strRequest.startsWith(HTTP_GET) ) {\r\n        //The request should end with a HTTP marker, remove this before trying to interpret the data\r\n                if ( strRequest.indexOf(HTTP_MARKER) != -1 ) {\r\n                \tstrRequest = strRequest.substring(0, strRequest.indexOf(HTTP_MARKER)).trim();\r\n                }            \r\n        //Look for a data marker\r\n            \tif ( (intPos = strRequest.indexOf(HTTP_DATA_START)) &gt;= 0 ) {\r\n        //Data is present in the query, skip to the start of the data\r\n            \t\tstrRequest = strRequest.substring(intPos + 1);\r\n            \t} else {\r\n        //Remove the method indicator\r\n                \tstrRequest = strRequest.substring(HTTP_GET.length());            \t\t\r\n            \t}\r\n            } else if ( strRequest.startsWith(HTTP_POST) ) {\r\n        //Discard the headers and jump to the data\r\n            \tif ( (intPos = strRequest.lastIndexOf(CRLF)) &gt;= 0 ) {\r\n            \t\tstrRequest = strRequest.substring(intPos + CRLF.length());\t\r\n            \t}\r\n            }\r\n    \t\tif ( strRequest.length() &gt; 1 ) {\r\n        //Extract the parameters            \t\t\r\n    \t\t\tobjParams = new clsHTTPparameters(strRequest);\r\n    \t\t}            \r\n            if ( strRequest.startsWith(&quot;/&quot;) == true ) {\r\n        //Look for the document reference\r\n\t\t\t\tstrRequest = strRequest.substring(1);\t\t\t\t\r\n\t\t\t\teType = eMsgTypes.SEND_DOC;\t\t\t\t\r\n\t\t\t}\r\n            if ( objParams != null ) {\r\n        //Transfer the payload to the request\r\n            \tString strPayload = objParams.getValue(PAYLOAD);\r\n            \t\r\n            \tif ( strPayload != null ) {\r\n            \t\tbyte[] arybytPayload = Base64.decodeBase64(strPayload.getBytes()); \r\n            \t\tstrRequest = new String(arybytPayload);\r\n            \t\tstrAMID = objParams.getValue(AJAX_ID);\r\n            \t\tstrHKey = objParams.getValue(HANDLER_KEY);\r\n            \t}\r\n            } \r\n            if ( eType == eMsgTypes.UNKNOWN \r\n              &amp;&amp; strRequest.startsWith(&quot;{&quot;) &amp;&amp; strRequest.endsWith(&quot;}&quot;) ) {\r\n        //The payload is JSON, is there a type parameter?\r\n            \tString strType = strGetJSONItem(strRequest, JSON_LBL_TYPE);\r\n            \t\r\n\t\t\t\tif ( strType != null &amp;&amp; strType.length() &gt; 0 ) {\r\n        //Decode the type\t\t\t\t\t\r\n\t\t\t\t\teType = eMsgTypes.valueOf(strType.toUpperCase().trim());\r\n        //What system is the message from?\r\n\t\t\t\t\tString strIP = strGetJSONItem(strRequest, JSON_LBL_IP)\r\n\t\t\t\t\t\t  ,strMAC = strGetJSONItem(strRequest, JSON_LBL_MAC);\t\t\t\t\t\r\n\t\t\t\t\tif ( strIP != null &amp;&amp; strIP.length() &gt; 0\r\n\t\t\t\t\t &amp;&amp; strMAC != null &amp;&amp; strMAC.length() &gt; 0 ) {\r\n        //Is this system known in the cluster?\r\n\t\t\t\t\t\tclsIPmon objSystem = objAddSysToCluster(strIP, strMAC);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( objSystem != null ) {\r\n        //Update the date/time stamp of the remote system\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tobjSystem.touch();\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n        //This is an internal cluster message, no response required\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n        \t}            \r\n\t\t\tString strContentType = null, strRespPayload = null;\r\n\t\t\tOutputStream out = sck.getOutputStream();\r\n            byte[] arybytResponse = null;\r\n            boolean blnShutdown = false;\r\n            out.write(&quot;HTTP/1.0 200\\n&quot;.getBytes());\r\n            \r\n\t\t\tswitch( eType ) {\r\n\t\t\tcase SEND_DOC:\r\n\t\t\t\tif ( strRequest.length() &lt;= 1 ) {\r\n\t\t\t\t\tstrRequest = HTML_ROOT + DEFAULT_DOC;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstrRequest = HTML_ROOT + strRequest;\r\n\t\t\t\t}\r\n\t\t\t\tlogMsg(&quot;HTTP Request for: &quot; + strRequest, true);\r\n\t\t\t\t\r\n\t\t\t\tif ( strRequest.toLowerCase().endsWith(&quot;.css&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_CSS;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.gif&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_GIF;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.jpg&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_JPG;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.js&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_JS;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.png&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_PNG;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.html&quot;) == true \r\n\t\t\t\t\t\t || strRequest.toLowerCase().endsWith(&quot;.htm&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_HTML;\r\n\t\t\t\t}\r\n\t\t\t\tFile objFile = new File(strRequest);\r\n\t\t\t\t\r\n\t\t\t\tif ( objFile.exists() == true ) {\r\n\t\t\t\t\tFileInputStream objFIS = new FileInputStream(objFile);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( objFIS != null ) {\r\n\t\t\t\t\t\tarybytResponse = new byte[(int)objFile.length()];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( objFIS.read(arybytResponse) == 0 ) {\r\n\t\t\t\t\t\t\tarybytResponse = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tobjFIS.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase CHANNEL_STS:\r\n\t\t\t\tstrRespPayload = strChannelStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase CLUSTER_STS:\r\n\t\t\t\tstrRespPayload = strClusterStatus();\r\n\t\t\t\tstrContentType = MIME_JSON; \r\n\t\t\t\tbreak;\r\n\t\t\tcase MODULE_STS:\r\n\t\t\t\tstrRespPayload = strModuleStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase NETWORK_INF:\r\n\t\t\t\tstrRespPayload = strNetworkInfo(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase NODE_STS:\r\n\t\t\t\tstrRespPayload = strNodeStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase POLL_STS:\r\n\t\t\t\tstrRespPayload = strPollStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase SYS_STS:\r\n        //Issue system status\t\t\t\t\r\n\t\t\t\tstrRespPayload = strAppStatus();\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\t\t\t\r\n\t\t\tcase SHUTDOWN:\r\n        //Issue instruction to restart system\r\n\t\t\t\tstrRespPayload = &quot;Shutdown in progress!&quot;;\r\n\t\t\t\tstrContentType = MIME_PLAIN;\r\n        //Flag that shutdown has been requested\t\t\t\t\r\n\t\t\t\tblnShutdown = true;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t}\r\n\t\t\tif ( strRespPayload != null ) {\r\n        //Convert response string to byte array\t\t\t\t\r\n\t\t\t\tarybytResponse = strRespPayload.getBytes();\r\n        System.out.println(&quot;[ &quot; + strRespPayload.length() + &quot; ]: &quot; + strRespPayload);\t        //HACK\t\t\t\r\n\t\t\t}\t\t\t\r\n\t\t\tif ( arybytResponse != null &amp;&amp; arybytResponse.length &gt; 0 ) {\r\n\t\t\t\tif ( strContentType == MIME_JSON ) {\r\n\t\t\t\t\tString strResponse = &quot;{&quot;;\r\n\t\t\t\t\r\n\t\t\t\t\tif ( strAMID != null ) {\r\n        //Include the request AJAX Message ID in the response\r\n\t\t\t\t\t\tif ( strResponse.length() &gt; 1 ) {\r\n\t\t\t\t\t\t\tstrResponse += &quot;,&quot;;\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\tstrResponse += &quot;\\&quot;&quot; + AJAX_ID + &quot;\\&quot;:&quot; + strAMID;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( strHKey != null ) {\r\n\t\t\t\t\t\tif ( strResponse.length() &gt; 1 ) {\r\n\t\t\t\t\t\t\tstrResponse += &quot;,&quot;;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstrResponse += &quot;\\&quot;&quot; + HANDLER_KEY + &quot;\\&quot;:\\&quot;&quot; + strHKey + &quot;\\&quot;&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( strResponse.length() &gt; 1 ) {\r\n\t\t\t\t\t\tstrResponse += &quot;,&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstrResponse += &quot;\\&quot;payload\\&quot;:&quot; + new String(arybytResponse) \r\n                \t\t\t\t + &quot;}&quot;;\t\t\t\t\t\r\n\t\t\t\t\tarybytResponse = strResponse.getBytes();\r\n\t\t\t\t}\r\n\t\t\t\tString strHeaders = &quot;&quot;;\r\n\r\n\t\t\t\tif ( strContentType != null ) {\r\n\t\t\t\t\tstrHeaders += &quot;Content-type: &quot; + strContentType + &quot;\\n&quot;;\t\t\t\t\t\r\n\t\t\t\t}\r\n            \tstrHeaders += &quot;Content-length: &quot; + arybytResponse.length + &quot;\\n&quot; \r\n            \t\t\t\t+ &quot;Access-Control-Allow-Origin: *\\n&quot;\r\n            \t\t\t    + &quot;Access-Control-Allow-Methods: POST, GET, OPTIONS, DELETE, PUT\\n&quot;\r\n            \t\t\t\t+ &quot;Access-Control-Allow-Credentials: true\\n&quot;\r\n            \t\t\t\t+ &quot;Keep-Alive: timeout=2, max=100\\n&quot;\r\n            \t\t\t\t+ &quot;Cache-Control: no-cache\\n&quot; \r\n            \t\t\t\t+ &quot;Pragma: no-cache\\n\\n&quot;;\r\n\t\t\t\tout.write(strHeaders.getBytes());\r\n\t\t\t\tout.write(arybytResponse);\r\n\t\t\t\tout.flush();\t\t\t\t\r\n\t\t\t}\r\n\t\t\tout.close();\r\n            sck.close();\r\n\r\n            if ( blnShutdown == true ) {\r\n            \tString strSystem =  mobjLocalIP.strGetIP();\r\n            \t \r\n            \tif ( strSystem.compareTo(mobjLocalIP.strGetIP()) != 0 ) {\r\n        //Specified system is not the local system, issue message to remote system.\r\n            \t\tbroadcastMessage(&quot;{\\&quot;&quot; + JSON_LBL_TYPE  + &quot;\\&quot;:\\&quot;&quot; + \r\n                                                       eMsgTypes.SHUTDOWN + &quot;\\&quot;&quot;\r\n            \t\t\t\t\t   + &quot;,\\&quot;&quot; + JSON_LBL_TIME  + &quot;\\&quot;:\\&quot;&quot; + \r\n                                               clsTimeMan.lngTimeNow() + &quot;\\&quot;}&quot;);    \t            \t\t\r\n            \t} else {\r\n        //Shutdown addressed to local system            \t\t\r\n    \t\t\t\tif ( getOS().indexOf(&quot;linux&quot;) &gt;= 0 ) {\r\n        //TO DO!!!\t\t\t\t\t\r\n    \t\t\t\t} else if ( getOS().indexOf(&quot;win&quot;) &gt;= 0 ) {\r\n    \t\t\t\t\tRuntime runtime = Runtime.getRuntime();\r\n    \t\t\t\t\truntime.exec(&quot;shutdown /r /c \\&quot;Shutdown request\\&quot; /t 0 /f&quot;);\r\n    \t\t\t\t\tSystem.exit(EXITCODE_REQUESTED_SHUTDOWN);\r\n    \t\t\t\t}            \t\r\n            \t}\r\n\t\t\t}\r\n        } catch (Exception ex) {        \t\r\n\t\t} finally {\r\n            if (sck != null) {\r\n                try {\r\n                \tsck.close();\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI would like to implemented a chunked response, at present chunked responses are not supported by the code above.  \r\n\r\n[Edit] I&#39;ve tried to implement a chunked response by adding the method:\r\n\r\n        /**\r\n         * @param strData - The data to split into chunks\r\n         * @return A string array containing the chunks\r\n         */\r\n\t public static String[] arystrChunkData(String strData) {\r\n\t\tint intChunks = (strData.length() / CHUNK_THRESHOLD_BYTESIZE) + 1;\r\n\t\tString[] arystrChunks = new String[intChunks];\r\n\t\tint intLength = strData.length(), intPos = 0;\r\n\t\t\r\n\t\tfor( int c=0; c&lt;arystrChunks.length; c++ ) {\t\t\t\r\n\t\t\tif ( intPos &lt; intLength ) {\r\n        //Extract a chunk from the data\t\t\t\r\n\t\t\t\tint intEnd = Math.min(intLength - 1, intPos + CHUNK_THRESHOLD_BYTESIZE);\r\n\t\t\t\tarystrChunks[c] = strData.substring(intPos, intEnd);\r\n\t\t\t}\r\n        //Advance data position to next chunk\t\t\t\r\n\t\t\tintPos += CHUNK_THRESHOLD_BYTESIZE;\r\n\t\t}\t\t\r\n\t\treturn arystrChunks;\r\n\t}\r\n\r\n\r\nThe modified processRequest now looks like this:\r\n\r\n            private void processRequest(Socket sck) {\r\n        try {\r\n            //AJAX Parameters\r\n        \tfinal String AJAX_ID\t\t\t= &quot;ajmid&quot;;\r\n            //The &#39;Handler Key&#39; used to decode response        \t\r\n        \tfinal String HANDLER_KEY\t\t= &quot;hkey&quot;;\r\n            //Message payload        \t\r\n        \tfinal String PAYLOAD\t\t\t= &quot;payload&quot;;\r\n            //Post input buffer size        \t\r\n        \tfinal int REQUEST_BUFFER_SIZE\t= 4096;\r\n            //Double carriage return marks the end of the headers        \t\r\n        \tfinal String CRLF\t\t\t\t= &quot;\\r\\n&quot;;\r\n        \t\r\n            BufferedReader in = new BufferedReader(new InputStreamReader(sck.getInputStream()));\r\n        \tString strAMID = null, strHKey = null, strRequest;\r\n        \tchar[] chrBuffer = new char[REQUEST_BUFFER_SIZE];\r\n        \tStringBuffer sbRequest = new StringBuffer();\r\n            eMsgTypes eType = eMsgTypes.UNKNOWN;\r\n            clsHTTPparameters objParams = null;\r\n            int intPos, intCount;            \t\r\n            //Extract the entire request, including headers        \t\r\n            if ( (intCount = in.read(chrBuffer)) == 0 ) {\r\n            \tthrow new Exception(&quot;Cannot read request!&quot;);\r\n            }\r\n        \tsbRequest.append(chrBuffer, 0, intCount);        \t\r\n    \t\tstrRequest = sbRequest.toString();\r\n            //What method is being used by this request?\r\n            if ( strRequest.startsWith(HTTP_GET) ) {\r\n            //The request should end with a HTTP marker, remove this before trying to interpret the data\r\n                if ( strRequest.indexOf(HTTP_MARKER) != -1 ) {\r\n                \tstrRequest = strRequest.substring(0, strRequest.indexOf(HTTP_MARKER)).trim();\r\n                }            \r\n            //Look for a data marker\r\n            \tif ( (intPos = strRequest.indexOf(HTTP_DATA_START)) &gt;= 0 ) {\r\n            //Data is present in the query, skip to the start of the data\r\n            \t\tstrRequest = strRequest.substring(intPos + 1);\r\n            \t} else {\r\n            //Remove the method indicator\r\n                \tstrRequest = strRequest.substring(HTTP_GET.length());            \t\t\r\n            \t}\r\n            } else if ( strRequest.startsWith(HTTP_POST) ) {\r\n            //Discard the headers and jump to the data\r\n            \tif ( (intPos = strRequest.lastIndexOf(CRLF)) &gt;= 0 ) {\r\n            \t\tstrRequest = strRequest.substring(intPos + CRLF.length());\t\r\n            \t}\r\n            }\r\n    \t\tif ( strRequest.length() &gt; 1 ) {\r\n            //Extract the parameters            \t\t\r\n    \t\t\tobjParams = new clsHTTPparameters(strRequest);\r\n    \t\t}            \r\n            if ( strRequest.startsWith(&quot;/&quot;) == true ) {\r\n            //Look for the document reference\r\n\t\t\t\tstrRequest = strRequest.substring(1);\t\t\t\t\r\n\t\t\t\teType = eMsgTypes.SEND_DOC;\t\t\t\t\r\n\t\t\t}\r\n            if ( objParams != null ) {\r\n            //Transfer the payload to the request\r\n            \tString strPayload = objParams.getValue(PAYLOAD);\r\n            \t\r\n            \tif ( strPayload != null ) {\r\n            \t\tbyte[] arybytPayload = Base64.decodeBase64(strPayload.getBytes()); \r\n            \t\tstrRequest = new String(arybytPayload);\r\n            \t\tstrAMID = objParams.getValue(AJAX_ID);\r\n            \t\tstrHKey = objParams.getValue(HANDLER_KEY);\r\n            \t}\r\n            } \r\n            if ( eType == eMsgTypes.UNKNOWN \r\n              &amp;&amp; strRequest.startsWith(&quot;{&quot;) &amp;&amp; strRequest.endsWith(&quot;}&quot;) ) {\r\n            //The payload is JSON, is there a type parameter?\r\n            \tString strType = strGetJSONItem(strRequest, JSON_LBL_TYPE);\r\n            \t\r\n\t\t\t\t  if ( strType != null &amp;&amp; strType.length() &gt; 0 ) {\r\n            //Decode the type\t\t\t\t\t\r\n\t\t\t\t\teType = eMsgTypes.valueOf(strType.toUpperCase().trim());\r\n            //What system is the message from?\r\n\t\t\t\t\tString strIP = strGetJSONItem(strRequest, JSON_LBL_IP)\r\n\t\t\t\t\t\t  ,strMAC = strGetJSONItem(strRequest, JSON_LBL_MAC);\t\t\t\t\t\r\n\t\t\t\t\tif ( strIP != null &amp;&amp; strIP.length() &gt; 0\r\n\t\t\t\t\t &amp;&amp; strMAC != null &amp;&amp; strMAC.length() &gt; 0 ) {\r\n            //Is this system known in the cluster?\r\n\t\t\t\t\t\tclsIPmon objSystem = objAddSysToCluster(strIP, strMAC);\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( objSystem != null ) {\r\n            //Update the date/time stamp of the remote system\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tobjSystem.touch();\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n            //This is an internal cluster message, no response required\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\t\t\t\t\t\r\n\t\t\t\t}\r\n        \t}            \r\n\t\t\tString strContentType = null, strRespPayload = null;\t\t\t\r\n\t\t\tOutputStream out = sck.getOutputStream();\r\n            byte[] arybytResponse = null;\r\n            boolean blnShutdown = false;\r\n            //Start the writing the headers\r\n            String strHeaders = &quot;HTTP/1.0 200\\n&quot;\r\n            \t\t\t  \t  + &quot;Date: &quot; + (new Date()).toString() + &quot;\\n&quot;\r\n            \t\t          + &quot;Access-Control-Allow-Origin: *\\n&quot;\r\n            \t\t\t\t  + &quot;Access-Control-Allow-Methods: POST, GET, OPTIONS, DELETE, PUT\\n&quot;\r\n            \t\t\t\t  + &quot;Access-Control-Allow-Credentials: true\\n&quot;\r\n            \t\t\t\t  + &quot;Keep-Alive: timeout=2, max=100\\n&quot;\r\n            \t\t\t\t  + &quot;Cache-Control: no-cache\\n&quot; \r\n            \t\t\t\t  + &quot;Pragma: no-cache\\n&quot;;            \r\n            out.write(strHeaders.getBytes());\r\n            strHeaders = &quot;&quot;;\r\n            \r\n\t\t\tswitch( eType ) {\r\n\t\t\tcase SEND_DOC:\r\n\t\t\t\tif ( strRequest.length() &lt;= 1 ) {\r\n\t\t\t\t\tstrRequest = HTML_ROOT + DEFAULT_DOC;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstrRequest = HTML_ROOT + strRequest;\r\n\t\t\t\t}\r\n\t\t\t\tlogMsg(&quot;HTTP Request for: &quot; + strRequest, true);\r\n\t\t\t\t\r\n\t\t\t\tif ( strRequest.toLowerCase().endsWith(&quot;.css&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_CSS;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.gif&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_GIF;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.jpg&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_JPG;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.js&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_JS;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.png&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_PNG;\r\n\t\t\t\t} else if ( strRequest.toLowerCase().endsWith(&quot;.html&quot;) == true \r\n\t\t\t\t\t\t || strRequest.toLowerCase().endsWith(&quot;.htm&quot;) == true ) {\r\n\t\t\t\t\tstrContentType = MIME_HTML;\r\n\t\t\t\t}\r\n\t\t\t\tFile objFile = new File(strRequest);\r\n\t\t\t\t\r\n\t\t\t\tif ( objFile.exists() == true ) {\r\n\t\t\t\t\tFileInputStream objFIS = new FileInputStream(objFile);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif ( objFIS != null ) {\r\n\t\t\t\t\t\tarybytResponse = new byte[(int)objFile.length()];\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif ( objFIS.read(arybytResponse) == 0 ) {\r\n\t\t\t\t\t\t\tarybytResponse = null;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tobjFIS.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase CHANNEL_STS:\r\n\t\t\t\tstrRespPayload = strChannelStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase CLUSTER_STS:\r\n\t\t\t\tstrRespPayload = strClusterStatus();\r\n\t\t\t\tstrContentType = MIME_JSON; \r\n\t\t\t\tbreak;\r\n\t\t\tcase MODULE_STS:\r\n\t\t\t\tstrRespPayload = strModuleStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase NETWORK_INF:\r\n\t\t\t\tstrRespPayload = strNetworkInfo(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase NODE_STS:\r\n\t\t\t\tstrRespPayload = strNodeStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase POLL_STS:\r\n\t\t\t\tstrRespPayload = strPollStatus(strRequest);\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\r\n\t\t\tcase SYS_STS:\r\n            //Issue system status\t\t\t\t\r\n\t\t\t\tstrRespPayload = strAppStatus();\r\n\t\t\t\tstrContentType = MIME_JSON;\r\n\t\t\t\tbreak;\t\t\t\r\n\t\t\tcase SHUTDOWN:\r\n            //Issue instruction to restart system\r\n\t\t\t\tstrRespPayload = &quot;Shutdown in progress!&quot;;\r\n\t\t\t\tstrContentType = MIME_PLAIN;\r\n            //Flag that shutdown has been requested\t\t\t\t\r\n\t\t\t\tblnShutdown = true;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t}\r\n\t\t\tif ( strRespPayload != null ) {\r\n            //Convert response string to byte array\t\t\t\t\r\n\t\t\t\tarybytResponse = strRespPayload.getBytes();\r\n\t\t\t}\t\t\t\r\n\t\t\tif ( arybytResponse != null &amp;&amp; arybytResponse.length &gt; 0 ) {\r\n\t\t\t\tboolean blnChunked = false;\r\n\t\t\t\t\r\n\t\t\t\tif ( strContentType != null ) {\r\n\t\t\t\t\tstrHeaders += &quot;Content-type: &quot; + strContentType + &quot;\\n&quot;;\t\t\t\t\t\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t\tif ( strContentType == MIME_JSON ) {\r\n\t\t\t\t\tString strResponse = &quot;{&quot;;\r\n\t\t\t\t\r\n\t\t\t\t\tif ( strAMID != null ) {\r\n            //Include the request AJAX Message ID in the response\r\n\t\t\t\t\t\tif ( strResponse.length() &gt; 1 ) {\r\n\t\t\t\t\t\t\tstrResponse += &quot;,&quot;;\r\n\t\t\t\t\t\t}\t\r\n\t\t\t\t\t\tstrResponse += &quot;\\&quot;&quot; + AJAX_ID + &quot;\\&quot;:&quot; + strAMID;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( strHKey != null ) {\r\n\t\t\t\t\t\tif ( strResponse.length() &gt; 1 ) {\r\n\t\t\t\t\t\t\tstrResponse += &quot;,&quot;;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tstrResponse += &quot;\\&quot;&quot; + HANDLER_KEY + &quot;\\&quot;:\\&quot;&quot; + strHKey + &quot;\\&quot;&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ( strResponse.length() &gt; 1 ) {\r\n\t\t\t\t\t\tstrResponse += &quot;,&quot;;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstrResponse += &quot;\\&quot;payload\\&quot;:&quot; + new String(arybytResponse) \r\n                \t\t\t\t + &quot;}&quot;;\r\n            //How big is the response?\r\n        if ( strResponse.length() &gt; CHUNK_THRESHOLD_BYTESIZE ) {\r\n\t\t\t\t\t\tblnChunked = true;\r\n        \t\t\t\tstrHeaders += &quot;Transfer-Encoding: chunked\\n\\n&quot;;\r\n\t\t\t\t\t\tout.write(strHeaders.getBytes());\r\n            //Slice up the string into chunks\r\n        \t\t\t\t\t\tString[] arystrChunks = arystrChunkData(strResponse);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tfor( int c=0; c&lt;arystrChunks.length; c++ ) {\r\n\t\t\t\t\t\t\tString strChunk = arystrChunks[c];\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif ( strChunk != null ) {\r\n\t\t\t\t\t\t\t\tString strLength = Integer.toHexString(strChunk.length()) + &quot;\\r\\n&quot;;\r\n\t\t\t\t\t\t\t\tstrChunk += &quot;\\r\\n&quot;;\r\n\t\t\t\t\t\t\t\tout.write(strLength.getBytes());\r\n\t\t\t\t\t\t\t\tout.write(strChunk.getBytes());\r\n\t\t\t\t\t\t\t}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n            //Last chunk is always 0 bytes \t\t\t\t\t\t\r\n\t\t\t\t\t\tout.write(&quot;0\\r\\n\\r\\n&quot;.getBytes());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tarybytResponse = strResponse.getBytes();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif ( blnChunked == false ) {\t\r\n\t            \tstrHeaders += &quot;Content-length: &quot; + arybytResponse.length + &quot;\\n\\n&quot;;\t            \t\t\t\r\n\t\t\t\t\tout.write(strHeaders.getBytes());\r\n\t\t\t\t\tout.write(arybytResponse);\r\n\t\t\t\t}\r\n\t\t\t\tout.flush();\t\t\t\t\r\n\t\t\t}\r\n\t\t\tout.close();\r\n            sck.close();\r\n\r\n            if ( blnShutdown == true ) {\r\n            \tString strSystem =  mobjLocalIP.strGetIP();\r\n            \t \r\n            \tif ( strSystem.compareTo(mobjLocalIP.strGetIP()) != 0 ) {\r\n            //Specified system is not the local system, issue message to remote system.\r\n            \t\tbroadcastMessage(&quot;{\\&quot;&quot; + JSON_LBL_TYPE  + &quot;\\&quot;:\\&quot;&quot; + \r\n                                                       eMsgTypes.SHUTDOWN + &quot;\\&quot;&quot;\r\n            \t\t\t\t\t   + &quot;,\\&quot;&quot; + JSON_LBL_TIME  + &quot;\\&quot;:\\&quot;&quot; + \r\n                                               clsTimeMan.lngTimeNow() + &quot;\\&quot;}&quot;);    \t            \t\t\r\n            \t} else {\r\n        //Shutdown addressed to local system            \t\t\r\n    \t\t\t\tif ( getOS().indexOf(&quot;linux&quot;) &gt;= 0 ) {\r\n            //TO DO!!!\t\t\t\t\t\r\n    \t\t\t\t} else if ( getOS().indexOf(&quot;win&quot;) &gt;= 0 ) {\r\n    \t\t\t\t\tRuntime runtime = Runtime.getRuntime();\r\n    \t\t\t\t\truntime.exec(&quot;shutdown /r /c \\&quot;Shutdown request\\&quot; /t 0 /f&quot;);\r\n    \t\t\t\t\tSystem.exit(EXITCODE_REQUESTED_SHUTDOWN);\r\n    \t\t\t\t}            \t\r\n            \t}\r\n\t\t\t}\r\n        } catch (Exception ex) {        \t\r\n\t\t} finally {\r\n            if (sck != null) {\r\n                try {\r\n                \tsck.close();\r\n                } catch (IOException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nI&#39;ve read several specifications for Chunked responses and as far as I can tell I am sending data in the correct format, however I don&#39;t receive anything in the browser.\r\n\r\nI may have wrongly assume that the browser would correctly piece together the chunks into one, but I could be wrong.  The client side handler looks like this:\r\n\r\n          this.responseHandler = function() {\r\n    try {    \r\n      if ( mobjHTTP == null\r\n      || !(mobjHTTP.readyState == 4 &amp;&amp; mobjHTTP.status == 200)\r\n      || !(mstrResponseText = mobjHTTP.responseText)\r\n      || mstrResponseText.length == 0 ) {\r\n        //Not ready or no response to decode      \r\n        return;\r\n      }\r\n        //Do something with the response\r\n        } catch( ex ) {\r\n      T.error(&quot;responseHandler:&quot;, ex);\r\n    }\r\n  };\r\n\r\nThis handler is set-up elsewhere in the object:\r\n\r\n        mobjHTTP.onreadystatechange = this.responseHandler;\r\n\r\n","title":"Java HTTP server sending chunked response","body":"<p>I am working on a Java application which has a built in HTTP server, at the moment the server is implemented using ServerSocketChannel, it listens on port 1694 for requests:</p>\n\n<pre><code>        msvrCh = ServerSocketChannel.open();\n        msvrCh.socket().bind(new InetSocketAddress(mintPort));\n        msvrCh.configureBlocking(false);\n</code></pre>\n\n<p>A thread is installed to manage requests and responses:</p>\n\n<pre><code>        Thread thrd = new Thread(msgReceiver);\n        thrd.setUncaughtExceptionHandler(exceptionHandler);\n        thrd.start();\n</code></pre>\n\n<p>The thread is quite simple:</p>\n\n<pre><code>        Runnable msgReceiver = new Runnable() {\n            @Override\n            public void run() {\n                try{\n                    while( !Thread.interrupted() ) {\n    //Sleep a short period between checks for new requests                          \n                        try{\n                            Thread.sleep(DELAY_BETWEEN_ACCEPTS);\n                        } catch(Exception ex) {\n                            ex.printStackTrace();\n                        }                           \n                        SocketChannel cliCh = msvrCh.accept();\n\n                        if ( blnExit() == true ) {\n                            break;\n                        }                           \n                        if ( cliCh == null ) {\n                            continue;\n                        }\n                        processRequest(cliCh.socket());\n                    }                       \n                } catch (IOException ex) {\n                    ex.printStackTrace();\n                } finally {                     \n                    logMsg(TERMINATING_THREAD + \n                            \"for accepting cluster connections\", true);\n\n                    if ( msvrCh != null ) {\n                        try {\n                            msvrCh.close();\n                        } catch (IOException ex) {\n                            ex.printStackTrace();\n                        }\n                        msvrCh = null;\n                    }\n                }               \n            }\n        };\n</code></pre>\n\n<p>The main bulk of the code for dealing with the response is in the function processRequest:</p>\n\n<pre><code>private void processRequest(Socket sck) {\n    try {\n    //AJAX Parameters\n        final String AJAX_ID            = \"ajmid\";\n    //The 'Handler Key' used to decode response         \n        final String HANDLER_KEY        = \"hkey\";\n    //Message payload           \n        final String PAYLOAD            = \"payload\";\n    //Post input buffer size            \n        final int REQUEST_BUFFER_SIZE   = 4096;\n    //Double carriage return marks the end of the headers           \n        final String CRLF               = \"\\r\\n\";\n\n        BufferedReader in = new BufferedReader(new InputStreamReader(sck.getInputStream()));\n        String strAMID = null, strHKey = null, strRequest;\n        char[] chrBuffer = new char[REQUEST_BUFFER_SIZE];\n        StringBuffer sbRequest = new StringBuffer();\n        eMsgTypes eType = eMsgTypes.UNKNOWN;\n        clsHTTPparameters objParams = null;\n        int intPos, intCount;               \n    //Extract the entire request, including headers         \n        if ( (intCount = in.read(chrBuffer)) == 0 ) {\n            throw new Exception(\"Cannot read request!\");\n        }\n        sbRequest.append(chrBuffer, 0, intCount);           \n        strRequest = sbRequest.toString();\n    //What method is being used by this request?\n        if ( strRequest.startsWith(HTTP_GET) ) {\n    //The request should end with a HTTP marker, remove this before trying to interpret the data\n            if ( strRequest.indexOf(HTTP_MARKER) != -1 ) {\n                strRequest = strRequest.substring(0, strRequest.indexOf(HTTP_MARKER)).trim();\n            }            \n    //Look for a data marker\n            if ( (intPos = strRequest.indexOf(HTTP_DATA_START)) &gt;= 0 ) {\n    //Data is present in the query, skip to the start of the data\n                strRequest = strRequest.substring(intPos + 1);\n            } else {\n    //Remove the method indicator\n                strRequest = strRequest.substring(HTTP_GET.length());                   \n            }\n        } else if ( strRequest.startsWith(HTTP_POST) ) {\n    //Discard the headers and jump to the data\n            if ( (intPos = strRequest.lastIndexOf(CRLF)) &gt;= 0 ) {\n                strRequest = strRequest.substring(intPos + CRLF.length());  \n            }\n        }\n        if ( strRequest.length() &gt; 1 ) {\n    //Extract the parameters                    \n            objParams = new clsHTTPparameters(strRequest);\n        }            \n        if ( strRequest.startsWith(\"/\") == true ) {\n    //Look for the document reference\n            strRequest = strRequest.substring(1);               \n            eType = eMsgTypes.SEND_DOC;             \n        }\n        if ( objParams != null ) {\n    //Transfer the payload to the request\n            String strPayload = objParams.getValue(PAYLOAD);\n\n            if ( strPayload != null ) {\n                byte[] arybytPayload = Base64.decodeBase64(strPayload.getBytes()); \n                strRequest = new String(arybytPayload);\n                strAMID = objParams.getValue(AJAX_ID);\n                strHKey = objParams.getValue(HANDLER_KEY);\n            }\n        } \n        if ( eType == eMsgTypes.UNKNOWN \n          &amp;&amp; strRequest.startsWith(\"{\") &amp;&amp; strRequest.endsWith(\"}\") ) {\n    //The payload is JSON, is there a type parameter?\n            String strType = strGetJSONItem(strRequest, JSON_LBL_TYPE);\n\n            if ( strType != null &amp;&amp; strType.length() &gt; 0 ) {\n    //Decode the type                   \n                eType = eMsgTypes.valueOf(strType.toUpperCase().trim());\n    //What system is the message from?\n                String strIP = strGetJSONItem(strRequest, JSON_LBL_IP)\n                      ,strMAC = strGetJSONItem(strRequest, JSON_LBL_MAC);                   \n                if ( strIP != null &amp;&amp; strIP.length() &gt; 0\n                 &amp;&amp; strMAC != null &amp;&amp; strMAC.length() &gt; 0 ) {\n    //Is this system known in the cluster?\n                    clsIPmon objSystem = objAddSysToCluster(strIP, strMAC);\n\n                    if ( objSystem != null ) {\n    //Update the date/time stamp of the remote system                           \n                        objSystem.touch();                          \n                    }\n    //This is an internal cluster message, no response required\n                    return;\n                }                   \n            }\n        }            \n        String strContentType = null, strRespPayload = null;\n        OutputStream out = sck.getOutputStream();\n        byte[] arybytResponse = null;\n        boolean blnShutdown = false;\n        out.write(\"HTTP/1.0 200\\n\".getBytes());\n\n        switch( eType ) {\n        case SEND_DOC:\n            if ( strRequest.length() &lt;= 1 ) {\n                strRequest = HTML_ROOT + DEFAULT_DOC;\n            } else {\n                strRequest = HTML_ROOT + strRequest;\n            }\n            logMsg(\"HTTP Request for: \" + strRequest, true);\n\n            if ( strRequest.toLowerCase().endsWith(\".css\") == true ) {\n                strContentType = MIME_CSS;\n            } else if ( strRequest.toLowerCase().endsWith(\".gif\") == true ) {\n                strContentType = MIME_GIF;\n            } else if ( strRequest.toLowerCase().endsWith(\".jpg\") == true ) {\n                strContentType = MIME_JPG;\n            } else if ( strRequest.toLowerCase().endsWith(\".js\") == true ) {\n                strContentType = MIME_JS;\n            } else if ( strRequest.toLowerCase().endsWith(\".png\") == true ) {\n                strContentType = MIME_PNG;\n            } else if ( strRequest.toLowerCase().endsWith(\".html\") == true \n                     || strRequest.toLowerCase().endsWith(\".htm\") == true ) {\n                strContentType = MIME_HTML;\n            }\n            File objFile = new File(strRequest);\n\n            if ( objFile.exists() == true ) {\n                FileInputStream objFIS = new FileInputStream(objFile);\n\n                if ( objFIS != null ) {\n                    arybytResponse = new byte[(int)objFile.length()];\n\n                    if ( objFIS.read(arybytResponse) == 0 ) {\n                        arybytResponse = null;\n                    }\n                    objFIS.close();\n                }\n            }\n            break;\n        case CHANNEL_STS:\n            strRespPayload = strChannelStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case CLUSTER_STS:\n            strRespPayload = strClusterStatus();\n            strContentType = MIME_JSON; \n            break;\n        case MODULE_STS:\n            strRespPayload = strModuleStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case NETWORK_INF:\n            strRespPayload = strNetworkInfo(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case NODE_STS:\n            strRespPayload = strNodeStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case POLL_STS:\n            strRespPayload = strPollStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case SYS_STS:\n    //Issue system status               \n            strRespPayload = strAppStatus();\n            strContentType = MIME_JSON;\n            break;          \n        case SHUTDOWN:\n    //Issue instruction to restart system\n            strRespPayload = \"Shutdown in progress!\";\n            strContentType = MIME_PLAIN;\n    //Flag that shutdown has been requested             \n            blnShutdown = true;\n            break;\n        default:\n        }\n        if ( strRespPayload != null ) {\n    //Convert response string to byte array             \n            arybytResponse = strRespPayload.getBytes();\n    System.out.println(\"[ \" + strRespPayload.length() + \" ]: \" + strRespPayload);           //HACK          \n        }           \n        if ( arybytResponse != null &amp;&amp; arybytResponse.length &gt; 0 ) {\n            if ( strContentType == MIME_JSON ) {\n                String strResponse = \"{\";\n\n                if ( strAMID != null ) {\n    //Include the request AJAX Message ID in the response\n                    if ( strResponse.length() &gt; 1 ) {\n                        strResponse += \",\";\n                    }   \n                    strResponse += \"\\\"\" + AJAX_ID + \"\\\":\" + strAMID;\n                }\n                if ( strHKey != null ) {\n                    if ( strResponse.length() &gt; 1 ) {\n                        strResponse += \",\";\n                    }\n                    strResponse += \"\\\"\" + HANDLER_KEY + \"\\\":\\\"\" + strHKey + \"\\\"\";\n                }\n                if ( strResponse.length() &gt; 1 ) {\n                    strResponse += \",\";\n                }\n                strResponse += \"\\\"payload\\\":\" + new String(arybytResponse) \n                             + \"}\";                 \n                arybytResponse = strResponse.getBytes();\n            }\n            String strHeaders = \"\";\n\n            if ( strContentType != null ) {\n                strHeaders += \"Content-type: \" + strContentType + \"\\n\";                 \n            }\n            strHeaders += \"Content-length: \" + arybytResponse.length + \"\\n\" \n                        + \"Access-Control-Allow-Origin: *\\n\"\n                        + \"Access-Control-Allow-Methods: POST, GET, OPTIONS, DELETE, PUT\\n\"\n                        + \"Access-Control-Allow-Credentials: true\\n\"\n                        + \"Keep-Alive: timeout=2, max=100\\n\"\n                        + \"Cache-Control: no-cache\\n\" \n                        + \"Pragma: no-cache\\n\\n\";\n            out.write(strHeaders.getBytes());\n            out.write(arybytResponse);\n            out.flush();                \n        }\n        out.close();\n        sck.close();\n\n        if ( blnShutdown == true ) {\n            String strSystem =  mobjLocalIP.strGetIP();\n\n            if ( strSystem.compareTo(mobjLocalIP.strGetIP()) != 0 ) {\n    //Specified system is not the local system, issue message to remote system.\n                broadcastMessage(\"{\\\"\" + JSON_LBL_TYPE  + \"\\\":\\\"\" + \n                                                   eMsgTypes.SHUTDOWN + \"\\\"\"\n                               + \",\\\"\" + JSON_LBL_TIME  + \"\\\":\\\"\" + \n                                           clsTimeMan.lngTimeNow() + \"\\\"}\");                            \n            } else {\n    //Shutdown addressed to local system                    \n                if ( getOS().indexOf(\"linux\") &gt;= 0 ) {\n    //TO DO!!!                  \n                } else if ( getOS().indexOf(\"win\") &gt;= 0 ) {\n                    Runtime runtime = Runtime.getRuntime();\n                    runtime.exec(\"shutdown /r /c \\\"Shutdown request\\\" /t 0 /f\");\n                    System.exit(EXITCODE_REQUESTED_SHUTDOWN);\n                }               \n            }\n        }\n    } catch (Exception ex) {            \n    } finally {\n        if (sck != null) {\n            try {\n                sck.close();\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I would like to implemented a chunked response, at present chunked responses are not supported by the code above.  </p>\n\n<p>[Edit] I've tried to implement a chunked response by adding the method:</p>\n\n<pre><code>    /**\n     * @param strData - The data to split into chunks\n     * @return A string array containing the chunks\n     */\n public static String[] arystrChunkData(String strData) {\n    int intChunks = (strData.length() / CHUNK_THRESHOLD_BYTESIZE) + 1;\n    String[] arystrChunks = new String[intChunks];\n    int intLength = strData.length(), intPos = 0;\n\n    for( int c=0; c&lt;arystrChunks.length; c++ ) {            \n        if ( intPos &lt; intLength ) {\n    //Extract a chunk from the data         \n            int intEnd = Math.min(intLength - 1, intPos + CHUNK_THRESHOLD_BYTESIZE);\n            arystrChunks[c] = strData.substring(intPos, intEnd);\n        }\n    //Advance data position to next chunk           \n        intPos += CHUNK_THRESHOLD_BYTESIZE;\n    }       \n    return arystrChunks;\n}\n</code></pre>\n\n<p>The modified processRequest now looks like this:</p>\n\n<pre><code>        private void processRequest(Socket sck) {\n    try {\n        //AJAX Parameters\n        final String AJAX_ID            = \"ajmid\";\n        //The 'Handler Key' used to decode response         \n        final String HANDLER_KEY        = \"hkey\";\n        //Message payload           \n        final String PAYLOAD            = \"payload\";\n        //Post input buffer size            \n        final int REQUEST_BUFFER_SIZE   = 4096;\n        //Double carriage return marks the end of the headers           \n        final String CRLF               = \"\\r\\n\";\n\n        BufferedReader in = new BufferedReader(new InputStreamReader(sck.getInputStream()));\n        String strAMID = null, strHKey = null, strRequest;\n        char[] chrBuffer = new char[REQUEST_BUFFER_SIZE];\n        StringBuffer sbRequest = new StringBuffer();\n        eMsgTypes eType = eMsgTypes.UNKNOWN;\n        clsHTTPparameters objParams = null;\n        int intPos, intCount;               \n        //Extract the entire request, including headers         \n        if ( (intCount = in.read(chrBuffer)) == 0 ) {\n            throw new Exception(\"Cannot read request!\");\n        }\n        sbRequest.append(chrBuffer, 0, intCount);           \n        strRequest = sbRequest.toString();\n        //What method is being used by this request?\n        if ( strRequest.startsWith(HTTP_GET) ) {\n        //The request should end with a HTTP marker, remove this before trying to interpret the data\n            if ( strRequest.indexOf(HTTP_MARKER) != -1 ) {\n                strRequest = strRequest.substring(0, strRequest.indexOf(HTTP_MARKER)).trim();\n            }            \n        //Look for a data marker\n            if ( (intPos = strRequest.indexOf(HTTP_DATA_START)) &gt;= 0 ) {\n        //Data is present in the query, skip to the start of the data\n                strRequest = strRequest.substring(intPos + 1);\n            } else {\n        //Remove the method indicator\n                strRequest = strRequest.substring(HTTP_GET.length());                   \n            }\n        } else if ( strRequest.startsWith(HTTP_POST) ) {\n        //Discard the headers and jump to the data\n            if ( (intPos = strRequest.lastIndexOf(CRLF)) &gt;= 0 ) {\n                strRequest = strRequest.substring(intPos + CRLF.length());  \n            }\n        }\n        if ( strRequest.length() &gt; 1 ) {\n        //Extract the parameters                    \n            objParams = new clsHTTPparameters(strRequest);\n        }            \n        if ( strRequest.startsWith(\"/\") == true ) {\n        //Look for the document reference\n            strRequest = strRequest.substring(1);               \n            eType = eMsgTypes.SEND_DOC;             \n        }\n        if ( objParams != null ) {\n        //Transfer the payload to the request\n            String strPayload = objParams.getValue(PAYLOAD);\n\n            if ( strPayload != null ) {\n                byte[] arybytPayload = Base64.decodeBase64(strPayload.getBytes()); \n                strRequest = new String(arybytPayload);\n                strAMID = objParams.getValue(AJAX_ID);\n                strHKey = objParams.getValue(HANDLER_KEY);\n            }\n        } \n        if ( eType == eMsgTypes.UNKNOWN \n          &amp;&amp; strRequest.startsWith(\"{\") &amp;&amp; strRequest.endsWith(\"}\") ) {\n        //The payload is JSON, is there a type parameter?\n            String strType = strGetJSONItem(strRequest, JSON_LBL_TYPE);\n\n              if ( strType != null &amp;&amp; strType.length() &gt; 0 ) {\n        //Decode the type                   \n                eType = eMsgTypes.valueOf(strType.toUpperCase().trim());\n        //What system is the message from?\n                String strIP = strGetJSONItem(strRequest, JSON_LBL_IP)\n                      ,strMAC = strGetJSONItem(strRequest, JSON_LBL_MAC);                   \n                if ( strIP != null &amp;&amp; strIP.length() &gt; 0\n                 &amp;&amp; strMAC != null &amp;&amp; strMAC.length() &gt; 0 ) {\n        //Is this system known in the cluster?\n                    clsIPmon objSystem = objAddSysToCluster(strIP, strMAC);\n\n                    if ( objSystem != null ) {\n        //Update the date/time stamp of the remote system                           \n                        objSystem.touch();                          \n                    }\n        //This is an internal cluster message, no response required\n                    return;\n                }                   \n            }\n        }            \n        String strContentType = null, strRespPayload = null;            \n        OutputStream out = sck.getOutputStream();\n        byte[] arybytResponse = null;\n        boolean blnShutdown = false;\n        //Start the writing the headers\n        String strHeaders = \"HTTP/1.0 200\\n\"\n                          + \"Date: \" + (new Date()).toString() + \"\\n\"\n                          + \"Access-Control-Allow-Origin: *\\n\"\n                          + \"Access-Control-Allow-Methods: POST, GET, OPTIONS, DELETE, PUT\\n\"\n                          + \"Access-Control-Allow-Credentials: true\\n\"\n                          + \"Keep-Alive: timeout=2, max=100\\n\"\n                          + \"Cache-Control: no-cache\\n\" \n                          + \"Pragma: no-cache\\n\";            \n        out.write(strHeaders.getBytes());\n        strHeaders = \"\";\n\n        switch( eType ) {\n        case SEND_DOC:\n            if ( strRequest.length() &lt;= 1 ) {\n                strRequest = HTML_ROOT + DEFAULT_DOC;\n            } else {\n                strRequest = HTML_ROOT + strRequest;\n            }\n            logMsg(\"HTTP Request for: \" + strRequest, true);\n\n            if ( strRequest.toLowerCase().endsWith(\".css\") == true ) {\n                strContentType = MIME_CSS;\n            } else if ( strRequest.toLowerCase().endsWith(\".gif\") == true ) {\n                strContentType = MIME_GIF;\n            } else if ( strRequest.toLowerCase().endsWith(\".jpg\") == true ) {\n                strContentType = MIME_JPG;\n            } else if ( strRequest.toLowerCase().endsWith(\".js\") == true ) {\n                strContentType = MIME_JS;\n            } else if ( strRequest.toLowerCase().endsWith(\".png\") == true ) {\n                strContentType = MIME_PNG;\n            } else if ( strRequest.toLowerCase().endsWith(\".html\") == true \n                     || strRequest.toLowerCase().endsWith(\".htm\") == true ) {\n                strContentType = MIME_HTML;\n            }\n            File objFile = new File(strRequest);\n\n            if ( objFile.exists() == true ) {\n                FileInputStream objFIS = new FileInputStream(objFile);\n\n                if ( objFIS != null ) {\n                    arybytResponse = new byte[(int)objFile.length()];\n\n                    if ( objFIS.read(arybytResponse) == 0 ) {\n                        arybytResponse = null;\n                    }\n                    objFIS.close();\n                }\n            }\n            break;\n        case CHANNEL_STS:\n            strRespPayload = strChannelStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case CLUSTER_STS:\n            strRespPayload = strClusterStatus();\n            strContentType = MIME_JSON; \n            break;\n        case MODULE_STS:\n            strRespPayload = strModuleStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case NETWORK_INF:\n            strRespPayload = strNetworkInfo(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case NODE_STS:\n            strRespPayload = strNodeStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case POLL_STS:\n            strRespPayload = strPollStatus(strRequest);\n            strContentType = MIME_JSON;\n            break;\n        case SYS_STS:\n        //Issue system status               \n            strRespPayload = strAppStatus();\n            strContentType = MIME_JSON;\n            break;          \n        case SHUTDOWN:\n        //Issue instruction to restart system\n            strRespPayload = \"Shutdown in progress!\";\n            strContentType = MIME_PLAIN;\n        //Flag that shutdown has been requested             \n            blnShutdown = true;\n            break;\n        default:\n        }\n        if ( strRespPayload != null ) {\n        //Convert response string to byte array             \n            arybytResponse = strRespPayload.getBytes();\n        }           \n        if ( arybytResponse != null &amp;&amp; arybytResponse.length &gt; 0 ) {\n            boolean blnChunked = false;\n\n            if ( strContentType != null ) {\n                strHeaders += \"Content-type: \" + strContentType + \"\\n\";                 \n            }               \n            if ( strContentType == MIME_JSON ) {\n                String strResponse = \"{\";\n\n                if ( strAMID != null ) {\n        //Include the request AJAX Message ID in the response\n                    if ( strResponse.length() &gt; 1 ) {\n                        strResponse += \",\";\n                    }   \n                    strResponse += \"\\\"\" + AJAX_ID + \"\\\":\" + strAMID;\n                }\n                if ( strHKey != null ) {\n                    if ( strResponse.length() &gt; 1 ) {\n                        strResponse += \",\";\n                    }\n                    strResponse += \"\\\"\" + HANDLER_KEY + \"\\\":\\\"\" + strHKey + \"\\\"\";\n                }\n                if ( strResponse.length() &gt; 1 ) {\n                    strResponse += \",\";\n                }\n                strResponse += \"\\\"payload\\\":\" + new String(arybytResponse) \n                             + \"}\";\n        //How big is the response?\n    if ( strResponse.length() &gt; CHUNK_THRESHOLD_BYTESIZE ) {\n                    blnChunked = true;\n                    strHeaders += \"Transfer-Encoding: chunked\\n\\n\";\n                    out.write(strHeaders.getBytes());\n        //Slice up the string into chunks\n                            String[] arystrChunks = arystrChunkData(strResponse);\n\n                    for( int c=0; c&lt;arystrChunks.length; c++ ) {\n                        String strChunk = arystrChunks[c];\n\n                        if ( strChunk != null ) {\n                            String strLength = Integer.toHexString(strChunk.length()) + \"\\r\\n\";\n                            strChunk += \"\\r\\n\";\n                            out.write(strLength.getBytes());\n                            out.write(strChunk.getBytes());\n                        }                           \n                    }\n        //Last chunk is always 0 bytes                      \n                    out.write(\"0\\r\\n\\r\\n\".getBytes());\n                } else {\n                    arybytResponse = strResponse.getBytes();\n                }\n            }\n            if ( blnChunked == false ) {    \n                strHeaders += \"Content-length: \" + arybytResponse.length + \"\\n\\n\";                          \n                out.write(strHeaders.getBytes());\n                out.write(arybytResponse);\n            }\n            out.flush();                \n        }\n        out.close();\n        sck.close();\n\n        if ( blnShutdown == true ) {\n            String strSystem =  mobjLocalIP.strGetIP();\n\n            if ( strSystem.compareTo(mobjLocalIP.strGetIP()) != 0 ) {\n        //Specified system is not the local system, issue message to remote system.\n                broadcastMessage(\"{\\\"\" + JSON_LBL_TYPE  + \"\\\":\\\"\" + \n                                                   eMsgTypes.SHUTDOWN + \"\\\"\"\n                               + \",\\\"\" + JSON_LBL_TIME  + \"\\\":\\\"\" + \n                                           clsTimeMan.lngTimeNow() + \"\\\"}\");                            \n            } else {\n    //Shutdown addressed to local system                    \n                if ( getOS().indexOf(\"linux\") &gt;= 0 ) {\n        //TO DO!!!                  \n                } else if ( getOS().indexOf(\"win\") &gt;= 0 ) {\n                    Runtime runtime = Runtime.getRuntime();\n                    runtime.exec(\"shutdown /r /c \\\"Shutdown request\\\" /t 0 /f\");\n                    System.exit(EXITCODE_REQUESTED_SHUTDOWN);\n                }               \n            }\n        }\n    } catch (Exception ex) {            \n    } finally {\n        if (sck != null) {\n            try {\n                sck.close();\n            } catch (IOException ex) {\n                ex.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>I've read several specifications for Chunked responses and as far as I can tell I am sending data in the correct format, however I don't receive anything in the browser.</p>\n\n<p>I may have wrongly assume that the browser would correctly piece together the chunks into one, but I could be wrong.  The client side handler looks like this:</p>\n\n<pre><code>      this.responseHandler = function() {\ntry {    \n  if ( mobjHTTP == null\n  || !(mobjHTTP.readyState == 4 &amp;&amp; mobjHTTP.status == 200)\n  || !(mstrResponseText = mobjHTTP.responseText)\n  || mstrResponseText.length == 0 ) {\n    //Not ready or no response to decode      \n    return;\n  }\n    //Do something with the response\n    } catch( ex ) {\n  T.error(\"responseHandler:\", ex);\n}\n</code></pre>\n\n<p>};</p>\n\n<p>This handler is set-up elsewhere in the object:</p>\n\n<pre><code>    mobjHTTP.onreadystatechange = this.responseHandler;\n</code></pre>\n"},{"tags":["java","html","base64","png","signature"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647861231,"post_id":71556559,"comment_id":126469211,"body_markdown":"&#39;Asetronics&#39; looks well encoded to me. Could be that Microsoft have broken the standard (wouldn&#39;t be the first time)","body":"&#39;Asetronics&#39; looks well encoded to me. Could be that Microsoft have broken the standard (wouldn&#39;t be the first time)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647862236,"post_id":71556559,"comment_id":126469579,"body_markdown":"https://support.microsoft.com/de-de/topic/ea15bbf7-9c46-6edc-569e-65e373317670","body":"<a href=\"https://support.microsoft.com/de-de/topic/ea15bbf7-9c46-6edc-569e-65e373317670\" rel=\"nofollow noreferrer\">support.microsoft.com/de-de/topic/&hellip;</a>"},{"owner":{"account_id":24628909,"reputation":21,"user_id":18528353,"display_name":"dbuergi"},"score":0,"creation_date":1647866339,"post_id":71556559,"comment_id":126471091,"body_markdown":"Deleting the Key BlockHTTPimage sadly doesn&#39;t resolve the issue.","body":"Deleting the Key BlockHTTPimage sadly doesn&#39;t resolve the issue."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647866391,"post_id":71556559,"comment_id":126471123,"body_markdown":"Did you reboot?","body":"Did you reboot?"},{"owner":{"account_id":24628909,"reputation":21,"user_id":18528353,"display_name":"dbuergi"},"score":0,"creation_date":1647867243,"post_id":71556559,"comment_id":126471468,"body_markdown":"To be precise there, wasn&#39;t even a key named BlockHTTPimage under: HKEY_CURRENT_USER\\Software\\Microsoft\\Office\\x.0\\Common","body":"To be precise there, wasn&#39;t even a key named BlockHTTPimage under: HKEY_CURRENT_USER\\Software\\Microsoft\\Office\\x.0\\Common"}],"owner":{"account_id":24628909,"reputation":21,"user_id":18528353,"display_name":"dbuergi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":172,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647860749,"creation_date":1647860749,"question_id":71556559,"body_markdown":"I&#39;m having trouble embedding a base64 encoded png file into outlook signature via java/html. It recently stopped working the way it used to and I think some Windows update is the reason as to why it stopped working properly.\r\n\r\nThe picture&#39;s not properly embedded like shown [here.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wNcYA.png\r\n\r\nThis method is writing the html content:\r\n\r\n        private void changeHTMLContent(String HTMLFileName) throws FileNotFoundException, IOException, SQLException {\r\n        getHTMLContent(HTMLFileName);\r\n        String fileLang = HTMLFileName.substring(11, 13).toUpperCase();\r\n        langCfg = cfgReader.getLanguageConfig(fileLang);\r\n\r\n        htmlString = htmlString.replace(&quot;[NAME]&quot;, uDataSet.getPersonalName());\r\n        htmlString = htmlString.replace(&quot;[VORNAME]&quot;, uDataSet.getPersonalFirstName());\r\n        htmlString = htmlString.replace(&quot;[FUNKTION]&quot;, uDataSet.getPersonalFunction());\r\n        htmlString = htmlString.replace(&quot;[TELEFON]&quot;, langCfg.get(&quot;tel&quot;) + &quot; &quot; + uDataSet.getTelefonNumber());\r\n        if (uDataSet.getTelefonMobil().length() != 0) {\r\n            htmlString = htmlString.replace(&quot;[MOBILTELEFON]&quot;, langCfg.get(&quot;mobile&quot;) + &quot; &quot; + uDataSet.getTelefonMobil());\r\n        } else {\r\n            htmlString = htmlString.replace(&quot;[MOBILTELEFON]&lt;br&gt;&quot;, &quot;\\r&quot;);\r\n        }\r\n        if (uDataSet.getTelefonFax().length() != 0) {\r\n            htmlString = htmlString.replace(&quot;[FAX]&quot;, langCfg.get(&quot;fax&quot;) + &quot; &quot; + uDataSet.getTelefonFax());\r\n        } else {\r\n            htmlString = htmlString.replace(&quot;[FAX]&lt;br&gt;&quot;, &quot;\\r&quot;);\r\n        }\r\n        htmlString = htmlString.replace(&quot;[EMAILT]&quot;, langCfg.get(&quot;email&quot;) + &quot; &quot;);\r\n        htmlString = htmlString.replace(&quot;[EMAIL]&quot;, uDataSet.getPersonalEmail());\r\n        htmlString = htmlString.replace(&quot;[EMAIL1]&quot;, uDataSet.getPersonalEmail());\r\n        htmlString = htmlString.replace(&quot;[LOGO]&quot;, &quot;&lt;img border=0 width=180 height=70 src=&quot; + &quot;\\&quot;data:image/png;base64, &quot; + imgLogoStr + &quot;\\&quot;&gt;&quot;);\r\n        if (arguments.get(&quot;name&quot;) != null) {\r\n            String logoFile = System.getenv(cfgOutFilePath.get(&quot;userProfile&quot;)) + cfgOutFilePath.get(&quot;logofilepath&quot;) + arguments.get(&quot;name&quot;) + &quot;.jpg&quot;;\r\n            BufferedImage image = ImageIO.read(new File(logoFile));\r\n            int height = image.getHeight();\r\n            int width = image.getWidth();\r\n            String imageString = encodeToString(image, &quot;jpg&quot;);\r\n            String HTMLLogoElement = &quot;&lt;tr&gt;\\n&quot;\r\n                    + &quot;\t&lt;td width=&quot; + width + &quot; valign=top style=&#39;width:&quot; + width + &quot;pt;padding:0.5cm 5.4pt 0cm 5.4pt; border:none;&#39;&gt;\\n&quot;\r\n                    + &quot;\t\t&lt;p class=MsoNormal style=&#39;text-autospace:none&#39;&gt;&lt;b&gt;&lt;i&gt;&lt;span style=&#39;font-size:\\n&quot;\r\n                    + &quot;\t\t  10.0pt;font-family:Arial&#39;&gt;&lt;img border=0 width=&quot; + width + &quot; height=&quot; + height + &quot;\\n&quot;\r\n                    + &quot;\t\t  src=\\&quot;data:image/png;base64,&quot; + imageString + &quot;\\&quot;&gt;&lt;/span&gt;&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\\n&quot;\r\n                    + &quot;\t&lt;/td&gt;\\n&quot;\r\n                    + &quot; &lt;/tr&gt;&quot;;\r\n            htmlString = htmlString.replace(&quot;[ADDITIONALLOGO]&quot;, HTMLLogoElement);\r\n        } else {\r\n            htmlString = htmlString.replace(&quot;[ADDITIONALLOGO]&quot;, &quot;\\r&quot;);\r\n        }\r\n\r\n    }\r\n\r\nHere&#39;s the html content:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n      &lt;td width=318 valign=top style=&#39;width:238.65pt;border:none;border-top:solid windowtext 1.0pt;\r\n      padding:0cm 5.4pt 0cm 5.4pt&#39;&gt;&lt;br&gt;\r\n      &lt;p class=MsoNormal style=&#39;text-autospace:none&#39;&gt;&lt;b&gt;&lt;i&gt;&lt;span style=&#39;font-size:\r\n      10.0pt;font-family:Arial&#39;&gt;&lt;img border=0 width=180 height=70 src=&quot;data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAALQAAABGCAYAAABll74gAAAKXklEQVR42u1dbZaqMAx1P/50LW7BdbCNboG18Lfr4U3RYEjz1YKO40vO8YwjUEJ7e5smaTnNISFfJKeogpAAdEhIADokJAAdEhKADglAh4QEoENCAtAhIQHokJAAdEgAOiQkAB3yCzLlab6cL/fP9edzusxpTAHogMYfBfQ4zafTafO5DbcA9P/2wN/CYoWhK0BfA9Cn/wXEZWiGhv+WZwqG/g8BTRv9WwDNmhzB0AHov87SBdjF/IgJYQA6JAAdgA75IkBPGX167D5Sxq7r3wzoZXjPk+hxKEM/mABHeDCOKusoPfG1n2zemK17G39Owp+B/B3tm9zKBIZcg8szleTuq9yf8wBIn/WaIbHH8O900lW8ClrZUsOXcth7CXoXHVxeDmFSaOkpdVRJV+sZT9eJx8xR//+UfxM65MkEElco811iXA6A3k5RyvTcu/zF9+c8ACagGYD8cJLoFiuROU/5HMg4gHEdaqMLaUBvYMVbDxwwsauz5VqrrY44nnIjQy+sOjhupoByZWaH0lyPk67b6Aa/D9M+hnZcA0xpsZYFRosxLV3BBLA6T6uevaMcvfYVAKbfUytDc4XgoYkDKmVpDbScspaZopoipHxwZ0lDLLUjPQ0IgGk1XSqwCOcUoBfdJCC2MrRWBse+mGm5EUi7lh2VvUDVgC0cS2MjQ3OFVAxBzqG9hiqPAZ8MwHIP7+l0vZNCDdAl+aeAECZGlo1r3ZNjaMquZqfIeqSQex5LT3xcK5sjCtaG1kDqHfm5Yz02tMWgk8WQs359MiaHXC9VzSLhnL2A9ti/dFJlMRjH0NQsscqwIoUePZsAbXS4j/dyWOy3TtiEYYA7jis05f0MvbHRh+MZmp3QXR2Avl6aGZpOrExAZ93k8OipXa+aM3k2Ro8JuWc7vs+O31sBnR6Gd5lNpnGq7GPOA0GHgdqQJww9bCeereZE8tjZOwDNzfxZ5mtk10MA3cPQYz9DF5v6Ofo6TY49H9VE6XTbmfROhvubZENvGHRiAyatNvw7GJrz/7oYugPQFdjO7TY01tejZzmn6AJ/sQ6mey7fgT3nuWb+YZLt4cGwlZ2ejuZJIecTLkNJgr8MO7IMzSjkiVFZNvzGDh9eY0N3M/S13YY+hKGHNhtaDYYJnhZPlNDtkut15fW47TRgSUMBdxM5EDLZ9231c+9h6OGNDH3db7ZYfmjPPXrSBjxpqitD94DaCezmwIoGRummt9EZ7TN6mdqRjKHpVxg6f4gNfSBDW6Auo5B4zXVqZtwm//TQ67Zr9B+6ASpMFLuGrRe67V7F0B6To8eGbvVy7Ab16fJ3kpNY2zf7I3UtuSGmqdIQSfoLNvQRnhLTy3GAyeHJ6yi/c6bgbbzPs/Dfo367MV43FdCcD9njh745KkwCpofR77Nr5IPcfBe8JX/Ey3G4H3o4jqGtHJQqAjm+/tNkckxM0IOyKGcbJycDSIlPFpsfNVz+th/6LV6Ogxm6JVfFNefa+bfJbcdH+ZjQd+WHbgCaAdievOtdgP4wL0eXH/qamhh69SM//rrND8akEhPXWvOdnd9TbmDolOteQQuwIoVLGT8VjBNK1Cjf0O6Hvhll/JqX4/oBXo4doW/OnMH6WcerIMp4gG/a4VFTAD1VvahmaD3bLmUrW29WfchNkcJXTQq9DD0eHyl8SS6HM/TNlW1dO+HU0wEmb88J4tHf+yaFg+zhsLwcVp7Fcg8SEsXTOk9yUnpxth3L0G9y2/1Gtp2XodnO8CHrDG0bWpjwpVzbQpvkI4Oh12y7Ucm2M9NH5/fncjjMhZ586MP90DvSR1mGzhZDd9rQnfZ0U+h7mvllT5ZJsMmHzrp9W3k6BqfbrnHiuGfRKcc6XGNTX2zPipVD/NA4CZ85jqN71vNq7M+vv7SDaEfkcKxYaw19y8a4HKdXE/zROVyPpB0mCfeBHFmOBdh1ic51gl6GtsLBnlXVr/JDYy+HpCdswct2uuy4VnjG5pSJnd8PWVNIbWorjL1ngW1TPofip5YawAVowS5sWVXORtLe4OXYq2fLAlvXqu/xGCD3p49m2we4Z+W2ZwsEyZPB/a/6TZUtBwAEnBmg7eYpLcB17ZPR4YHwrMrm7ufRU0o0sshAGsXewdDdCf7Yk5CYiR0siSnHJrHxsdvFjsfzetRlpNbdf9DOP3QHoOKGLI2Dj3lCxaXMAiS8m75kqmCQUT2qoIeiKwa1V1+qJyT1m5LvHXB5SwC6VvNqpPzMn5/I94SWViWyzMp7voa12Ogt5KskAB0SgA4JCUCHhHwKoFs2E/mkMKhXX22b3CNCvOBBOVpvzWMBm03ulVe25RE52s2Axr5Mz82/CdDULQWusp69lY9+/wnocfcATOs2Zfj4nPfdAzr0q6TUydsBXXIKSqOWni81Cri7NoDO/MruiWyomIbaBQTnLK6m4SaWIx7LdxfcJO3PjPagkAAtsSpmwWqL21z/LzXYUmdDEnW3SMFiYGkbM6ncxfVH9Fk7MDwDalNoY1VntKKIOy7VO5tyIGClHdCPiuF6Kx6ScWQLdvasQqLnZ0SKCxdT0OByuV19uGshaMG9xg1ASqNwHJPBs2k+5SqxndlOC/zJdFPzRYfzNqgCenleQWcxJ9aNe26tDXH74cBPeTZaBkQ98e9wXxxA4u690XGsdazq5eqoF3VIeCgrmRO0waFyJsTW1TAodA58rpQMgyuJM3OkckFHCsCKgQSWxpG4DYDPTz3XhkUroSmIOdAvIEF2r9d8s/Zplr4vAHkESTSzirsW6gN04uobtw83yuH6lr5T7GlYaQI03rMY3i2tVRRthOXhzqeNLV4Nrz/nQiVgswU/HL5WY038zutleH2YSkUH7v7eiQlEEeH513A5avxyDDcwsBk9D7OllDK6dBxrBf2jvoBNqclAOxOuEww6je0oYCnBceSCy7wtdaYTF96i2JoAu+rFehiJBaQJA8fi0ODc7pYQRtV6K2U4+d0ll7VMCNdC+ZR5LEDfbXDbtqbAwH/h+ureeTsc49GoXIOHVpGJHCYH1pfWydIW2SgnMwx93gKaywPhOjWHD24E07wtm3rJjQwNcXuWtdFO9lziNwV01dMFswH3XG5yQod5albcz7uwo4DWAbnKgcqzWAu/HwWejTIZNZmk8qRXSvS4vGDSKD03NsPEedNcMzQ2qTggSqOUytDc/GyU6wVyZpoA7Zn9Q4VjZr0DemInYvQ3uA5PRiyTY52sjYlt9HVomp9DGa5AWomW2w5MCTw0cvY9/Ablcs+LzQr67JUHBcqRGu5h+qwJVQ+vyYb9Mv8cWF+4Pz4Guld1PfBEVECO63udV1xthqbYwe0NIzpXv2KuuuR71vYug8qhE6fpYadxqy+0JPe7SwbZo+XeWfbjLvb86SLmG2MPCTVP8FAP8wLLV7qaW2f5bVHYhUafl+qPn51jH2uBATzjmj13rTP9tPxm+gybV9cN9avrFsA+OrS1CTwuG+ZHku+5RUdvvUToO+SrJAAdEoAOCQlAh4QEoENCAtAhAeiQkAB0SEgAOiTklfIPyzXXIYqQ110AAAAASUVORK5CYII=&quot;&gt;&lt;/span&gt;&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\r\n      &lt;/td&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAny help fixing this would be appreciated.","title":"Having trouble embedding base64 encoded png file into outlook signature via html","body":"<p>I'm having trouble embedding a base64 encoded png file into outlook signature via java/html. It recently stopped working the way it used to and I think some Windows update is the reason as to why it stopped working properly.</p>\n<p>The picture's not properly embedded like shown <a href=\"https://i.stack.imgur.com/wNcYA.png\" rel=\"nofollow noreferrer\">here.</a></p>\n<p>This method is writing the html content:</p>\n<pre><code>    private void changeHTMLContent(String HTMLFileName) throws FileNotFoundException, IOException, SQLException {\n    getHTMLContent(HTMLFileName);\n    String fileLang = HTMLFileName.substring(11, 13).toUpperCase();\n    langCfg = cfgReader.getLanguageConfig(fileLang);\n\n    htmlString = htmlString.replace(&quot;[NAME]&quot;, uDataSet.getPersonalName());\n    htmlString = htmlString.replace(&quot;[VORNAME]&quot;, uDataSet.getPersonalFirstName());\n    htmlString = htmlString.replace(&quot;[FUNKTION]&quot;, uDataSet.getPersonalFunction());\n    htmlString = htmlString.replace(&quot;[TELEFON]&quot;, langCfg.get(&quot;tel&quot;) + &quot; &quot; + uDataSet.getTelefonNumber());\n    if (uDataSet.getTelefonMobil().length() != 0) {\n        htmlString = htmlString.replace(&quot;[MOBILTELEFON]&quot;, langCfg.get(&quot;mobile&quot;) + &quot; &quot; + uDataSet.getTelefonMobil());\n    } else {\n        htmlString = htmlString.replace(&quot;[MOBILTELEFON]&lt;br&gt;&quot;, &quot;\\r&quot;);\n    }\n    if (uDataSet.getTelefonFax().length() != 0) {\n        htmlString = htmlString.replace(&quot;[FAX]&quot;, langCfg.get(&quot;fax&quot;) + &quot; &quot; + uDataSet.getTelefonFax());\n    } else {\n        htmlString = htmlString.replace(&quot;[FAX]&lt;br&gt;&quot;, &quot;\\r&quot;);\n    }\n    htmlString = htmlString.replace(&quot;[EMAILT]&quot;, langCfg.get(&quot;email&quot;) + &quot; &quot;);\n    htmlString = htmlString.replace(&quot;[EMAIL]&quot;, uDataSet.getPersonalEmail());\n    htmlString = htmlString.replace(&quot;[EMAIL1]&quot;, uDataSet.getPersonalEmail());\n    htmlString = htmlString.replace(&quot;[LOGO]&quot;, &quot;&lt;img border=0 width=180 height=70 src=&quot; + &quot;\\&quot;data:image/png;base64, &quot; + imgLogoStr + &quot;\\&quot;&gt;&quot;);\n    if (arguments.get(&quot;name&quot;) != null) {\n        String logoFile = System.getenv(cfgOutFilePath.get(&quot;userProfile&quot;)) + cfgOutFilePath.get(&quot;logofilepath&quot;) + arguments.get(&quot;name&quot;) + &quot;.jpg&quot;;\n        BufferedImage image = ImageIO.read(new File(logoFile));\n        int height = image.getHeight();\n        int width = image.getWidth();\n        String imageString = encodeToString(image, &quot;jpg&quot;);\n        String HTMLLogoElement = &quot;&lt;tr&gt;\\n&quot;\n                + &quot; &lt;td width=&quot; + width + &quot; valign=top style='width:&quot; + width + &quot;pt;padding:0.5cm 5.4pt 0cm 5.4pt; border:none;'&gt;\\n&quot;\n                + &quot;     &lt;p class=MsoNormal style='text-autospace:none'&gt;&lt;b&gt;&lt;i&gt;&lt;span style='font-size:\\n&quot;\n                + &quot;       10.0pt;font-family:Arial'&gt;&lt;img border=0 width=&quot; + width + &quot; height=&quot; + height + &quot;\\n&quot;\n                + &quot;       src=\\&quot;data:image/png;base64,&quot; + imageString + &quot;\\&quot;&gt;&lt;/span&gt;&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\\n&quot;\n                + &quot; &lt;/td&gt;\\n&quot;\n                + &quot; &lt;/tr&gt;&quot;;\n        htmlString = htmlString.replace(&quot;[ADDITIONALLOGO]&quot;, HTMLLogoElement);\n    } else {\n        htmlString = htmlString.replace(&quot;[ADDITIONALLOGO]&quot;, &quot;\\r&quot;);\n    }\n\n}\n</code></pre>\n<p>Here's the html content:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  &lt;td width=318 valign=top style='width:238.65pt;border:none;border-top:solid windowtext 1.0pt;\n  padding:0cm 5.4pt 0cm 5.4pt'&gt;&lt;br&gt;\n  &lt;p class=MsoNormal style='text-autospace:none'&gt;&lt;b&gt;&lt;i&gt;&lt;span style='font-size:\n  10.0pt;font-family:Arial'&gt;&lt;img border=0 width=180 height=70 src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAALQAAABGCAYAAABll74gAAAKXklEQVR42u1dbZaqMAx1P/50LW7BdbCNboG18Lfr4U3RYEjz1YKO40vO8YwjUEJ7e5smaTnNISFfJKeogpAAdEhIADokJAAdEhKADglAh4QEoENCAtAhIQHokJAAdEgAOiQkAB3yCzLlab6cL/fP9edzusxpTAHogMYfBfQ4zafTafO5DbcA9P/2wN/CYoWhK0BfA9Cn/wXEZWiGhv+WZwqG/g8BTRv9WwDNmhzB0AHov87SBdjF/IgJYQA6JAAdgA75IkBPGX167D5Sxq7r3wzoZXjPk+hxKEM/mABHeDCOKusoPfG1n2zemK17G39Owp+B/B3tm9zKBIZcg8szleTuq9yf8wBIn/WaIbHH8O900lW8ClrZUsOXcth7CXoXHVxeDmFSaOkpdVRJV+sZT9eJx8xR//+UfxM65MkEElco811iXA6A3k5RyvTcu/zF9+c8ACagGYD8cJLoFiuROU/5HMg4gHEdaqMLaUBvYMVbDxwwsauz5VqrrY44nnIjQy+sOjhupoByZWaH0lyPk67b6Aa/D9M+hnZcA0xpsZYFRosxLV3BBLA6T6uevaMcvfYVAKbfUytDc4XgoYkDKmVpDbScspaZopoipHxwZ0lDLLUjPQ0IgGk1XSqwCOcUoBfdJCC2MrRWBse+mGm5EUi7lh2VvUDVgC0cS2MjQ3OFVAxBzqG9hiqPAZ8MwHIP7+l0vZNCDdAl+aeAECZGlo1r3ZNjaMquZqfIeqSQex5LT3xcK5sjCtaG1kDqHfm5Yz02tMWgk8WQs359MiaHXC9VzSLhnL2A9ti/dFJlMRjH0NQsscqwIoUePZsAbXS4j/dyWOy3TtiEYYA7jis05f0MvbHRh+MZmp3QXR2Avl6aGZpOrExAZ93k8OipXa+aM3k2Ro8JuWc7vs+O31sBnR6Gd5lNpnGq7GPOA0GHgdqQJww9bCeereZE8tjZOwDNzfxZ5mtk10MA3cPQYz9DF5v6Ofo6TY49H9VE6XTbmfROhvubZENvGHRiAyatNvw7GJrz/7oYugPQFdjO7TY01tejZzmn6AJ/sQ6mey7fgT3nuWb+YZLt4cGwlZ2ejuZJIecTLkNJgr8MO7IMzSjkiVFZNvzGDh9eY0N3M/S13YY+hKGHNhtaDYYJnhZPlNDtkut15fW47TRgSUMBdxM5EDLZ9231c+9h6OGNDH3db7ZYfmjPPXrSBjxpqitD94DaCezmwIoGRummt9EZ7TN6mdqRjKHpVxg6f4gNfSBDW6Auo5B4zXVqZtwm//TQ67Zr9B+6ASpMFLuGrRe67V7F0B6To8eGbvVy7Ab16fJ3kpNY2zf7I3UtuSGmqdIQSfoLNvQRnhLTy3GAyeHJ6yi/c6bgbbzPs/Dfo367MV43FdCcD9njh745KkwCpofR77Nr5IPcfBe8JX/Ey3G4H3o4jqGtHJQqAjm+/tNkckxM0IOyKGcbJycDSIlPFpsfNVz+th/6LV6Ogxm6JVfFNefa+bfJbcdH+ZjQd+WHbgCaAdievOtdgP4wL0eXH/qamhh69SM//rrND8akEhPXWvOdnd9TbmDolOteQQuwIoVLGT8VjBNK1Cjf0O6Hvhll/JqX4/oBXo4doW/OnMH6WcerIMp4gG/a4VFTAD1VvahmaD3bLmUrW29WfchNkcJXTQq9DD0eHyl8SS6HM/TNlW1dO+HU0wEmb88J4tHf+yaFg+zhsLwcVp7Fcg8SEsXTOk9yUnpxth3L0G9y2/1Gtp2XodnO8CHrDG0bWpjwpVzbQpvkI4Oh12y7Ucm2M9NH5/fncjjMhZ586MP90DvSR1mGzhZDd9rQnfZ0U+h7mvllT5ZJsMmHzrp9W3k6BqfbrnHiuGfRKcc6XGNTX2zPipVD/NA4CZ85jqN71vNq7M+vv7SDaEfkcKxYaw19y8a4HKdXE/zROVyPpB0mCfeBHFmOBdh1ic51gl6GtsLBnlXVr/JDYy+HpCdswct2uuy4VnjG5pSJnd8PWVNIbWorjL1ngW1TPofip5YawAVowS5sWVXORtLe4OXYq2fLAlvXqu/xGCD3p49m2we4Z+W2ZwsEyZPB/a/6TZUtBwAEnBmg7eYpLcB17ZPR4YHwrMrm7ufRU0o0sshAGsXewdDdCf7Yk5CYiR0siSnHJrHxsdvFjsfzetRlpNbdf9DOP3QHoOKGLI2Dj3lCxaXMAiS8m75kqmCQUT2qoIeiKwa1V1+qJyT1m5LvHXB5SwC6VvNqpPzMn5/I94SWViWyzMp7voa12Ogt5KskAB0SgA4JCUCHhHwKoFs2E/mkMKhXX22b3CNCvOBBOVpvzWMBm03ulVe25RE52s2Axr5Mz82/CdDULQWusp69lY9+/wnocfcATOs2Zfj4nPfdAzr0q6TUydsBXXIKSqOWni81Cri7NoDO/MruiWyomIbaBQTnLK6m4SaWIx7LdxfcJO3PjPagkAAtsSpmwWqL21z/LzXYUmdDEnW3SMFiYGkbM6ncxfVH9Fk7MDwDalNoY1VntKKIOy7VO5tyIGClHdCPiuF6Kx6ScWQLdvasQqLnZ0SKCxdT0OByuV19uGshaMG9xg1ASqNwHJPBs2k+5SqxndlOC/zJdFPzRYfzNqgCenleQWcxJ9aNe26tDXH74cBPeTZaBkQ98e9wXxxA4u690XGsdazq5eqoF3VIeCgrmRO0waFyJsTW1TAodA58rpQMgyuJM3OkckFHCsCKgQSWxpG4DYDPTz3XhkUroSmIOdAvIEF2r9d8s/Zplr4vAHkESTSzirsW6gN04uobtw83yuH6lr5T7GlYaQI03rMY3i2tVRRthOXhzqeNLV4Nrz/nQiVgswU/HL5WY038zutleH2YSkUH7v7eiQlEEeH513A5avxyDDcwsBk9D7OllDK6dBxrBf2jvoBNqclAOxOuEww6je0oYCnBceSCy7wtdaYTF96i2JoAu+rFehiJBaQJA8fi0ODc7pYQRtV6K2U4+d0ll7VMCNdC+ZR5LEDfbXDbtqbAwH/h+ureeTsc49GoXIOHVpGJHCYH1pfWydIW2SgnMwx93gKaywPhOjWHD24E07wtm3rJjQwNcXuWtdFO9lziNwV01dMFswH3XG5yQod5albcz7uwo4DWAbnKgcqzWAu/HwWejTIZNZmk8qRXSvS4vGDSKD03NsPEedNcMzQ2qTggSqOUytDc/GyU6wVyZpoA7Zn9Q4VjZr0DemInYvQ3uA5PRiyTY52sjYlt9HVomp9DGa5AWomW2w5MCTw0cvY9/Ablcs+LzQr67JUHBcqRGu5h+qwJVQ+vyYb9Mv8cWF+4Pz4Guld1PfBEVECO63udV1xthqbYwe0NIzpXv2KuuuR71vYug8qhE6fpYadxqy+0JPe7SwbZo+XeWfbjLvb86SLmG2MPCTVP8FAP8wLLV7qaW2f5bVHYhUafl+qPn51jH2uBATzjmj13rTP9tPxm+gybV9cN9avrFsA+OrS1CTwuG+ZHku+5RUdvvUToO+SrJAAdEoAOCQlAh4QEoENCAtAhAeiQkAB0SEgAOiTklfIPyzXXIYqQ110AAAAASUVORK5CYII=\"&gt;&lt;/span&gt;&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\n  &lt;/td&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Any help fixing this would be appreciated.</p>\n"},{"tags":["java","android","android-intent","android-activity","android-listview"],"comments":[{"owner":{"account_id":5028906,"reputation":923,"user_id":4039784,"display_name":"Hayssam Soussi"},"score":0,"creation_date":1647731448,"post_id":71542573,"comment_id":126445572,"body_markdown":"Thats happening because you&#39;re recreating the mainactivity so the arrays are recreated with the old values","body":"Thats happening because you&#39;re recreating the mainactivity so the arrays are recreated with the old values"},{"owner":{"account_id":24615170,"reputation":1,"user_id":18516275,"display_name":"altair"},"score":0,"creation_date":1647755766,"post_id":71542573,"comment_id":126448160,"body_markdown":"Any way to not have that happen?","body":"Any way to not have that happen?"}],"answers":[{"tags":[],"owner":{"account_id":21850307,"reputation":29,"user_id":16142468,"display_name":"Tanvir Islam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647755929,"creation_date":1647755929,"answer_id":71544430,"question_id":71542573,"body_markdown":"I think you can use `SharedPreferences` to store edited values and pass the value of the preference.","title":"ListView being restored when returning to MainActivity - Android Java Activities","body":"<p>I think you can use <code>SharedPreferences</code> to store edited values and pass the value of the preference.</p>\n"},{"tags":[],"owner":{"account_id":402229,"reputation":93994,"user_id":769265,"display_name":"David Wasser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647860687,"creation_date":1647860687,"answer_id":71556545,"question_id":71542573,"body_markdown":"`MainActivity` should launch `SecondActivity` using `startActivityForResult()`. `SecondActivity` will do whatever and when it is time to return to `MainActivity`, `SecondActivity` should return an `Intent` with some &quot;extras&quot; that `MainActivity` can use to determine what `View` or `Layout` to show/hide. To return the result, `SecondActivity` should call `setResult()`, not `startActivity()`.\r\n\r\nIn `MainActivity`, implement `onActivityResult()`. This method will be called when `SecondActivity` finishes, and it will be called with the `Intent` that `SecondActivity` passed to `setResult()`. In `onActivityResult()` you can check the returned `Intent` for the &quot;extras&quot; and you can update the data in `MainActivity` accordingly. \r\n\r\nIn this way, the data in `MainActivity` can be sent to `SecondActivity` again to edit another item, etc. ","title":"ListView being restored when returning to MainActivity - Android Java Activities","body":"<p><code>MainActivity</code> should launch <code>SecondActivity</code> using <code>startActivityForResult()</code>. <code>SecondActivity</code> will do whatever and when it is time to return to <code>MainActivity</code>, <code>SecondActivity</code> should return an <code>Intent</code> with some &quot;extras&quot; that <code>MainActivity</code> can use to determine what <code>View</code> or <code>Layout</code> to show/hide. To return the result, <code>SecondActivity</code> should call <code>setResult()</code>, not <code>startActivity()</code>.</p>\n<p>In <code>MainActivity</code>, implement <code>onActivityResult()</code>. This method will be called when <code>SecondActivity</code> finishes, and it will be called with the <code>Intent</code> that <code>SecondActivity</code> passed to <code>setResult()</code>. In <code>onActivityResult()</code> you can check the returned <code>Intent</code> for the &quot;extras&quot; and you can update the data in <code>MainActivity</code> accordingly.</p>\n<p>In this way, the data in <code>MainActivity</code> can be sent to <code>SecondActivity</code> again to edit another item, etc.</p>\n"}],"owner":{"account_id":24615170,"reputation":1,"user_id":18516275,"display_name":"altair"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647860687,"creation_date":1647728707,"question_id":71542573,"body_markdown":"I&#39;m building an app where I allow the user to make edits to the listview, fill it with content in a second activity, and send the results back to the first activity using intents, and display the results as such. This works fine when specifically editing ONE item. If I try to edit another item, the rest of them get restored to the initial value. \r\n[secondactivity throw][1]\r\n\r\n\r\n\r\n[mainactivity catch][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Vniom.png\r\n  [2]: https://i.stack.imgur.com/sPRDs.png","title":"ListView being restored when returning to MainActivity - Android Java Activities","body":"<p>I'm building an app where I allow the user to make edits to the listview, fill it with content in a second activity, and send the results back to the first activity using intents, and display the results as such. This works fine when specifically editing ONE item. If I try to edit another item, the rest of them get restored to the initial value.\n<a href=\"https://i.stack.imgur.com/Vniom.png\" rel=\"nofollow noreferrer\">secondactivity throw</a></p>\n<p><a href=\"https://i.stack.imgur.com/sPRDs.png\" rel=\"nofollow noreferrer\">mainactivity catch</a></p>\n"},{"tags":["java","android","debugging","junit","connection-timeout"],"answers":[{"tags":[],"owner":{"account_id":2679033,"reputation":27742,"user_id":2314737,"accept_rate":82,"display_name":"user2314737"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1545784709,"creation_date":1392912273,"answer_id":21913173,"question_id":21912348,"body_markdown":"Try adding this rule in  the class containing your tests:\r\n\r\n    @Rule\r\n        public Timeout globalTimeout = new Timeout(10000); // 10 seconds max per method tested\r\n\r\nSource: https://github.com/junit-team/junit/wiki/Timeout-for-tests\r\n\r\nNote : Put debug point on respective test case also to enable Junit in debug mode","title":"Getting debug session timeout trying to debug Android junit tests","body":"<p>Try adding this rule in  the class containing your tests:</p>\n\n<pre><code>@Rule\n    public Timeout globalTimeout = new Timeout(10000); // 10 seconds max per method tested\n</code></pre>\n\n<p>Source: <a href=\"https://github.com/junit-team/junit/wiki/Timeout-for-tests\" rel=\"nofollow noreferrer\">https://github.com/junit-team/junit/wiki/Timeout-for-tests</a></p>\n\n<p>Note : Put debug point on respective test case also to enable Junit in debug mode</p>\n"},{"tags":[],"owner":{"account_id":7404272,"reputation":23,"user_id":5633630,"display_name":"Shubhendu Jain"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545786953,"creation_date":1545756924,"answer_id":53924128,"question_id":21912348,"body_markdown":"Add following syntax to the test case:\r\n\r\n    @Rule\r\n    public TestRule timeout = new DisableOnDebug(new Timeout(20));\r\n\r\nReference:  \r\nhttps://junit.org/junit4/javadoc/4.12/org/junit/rules/DisableOnDebug.html\r\n","title":"Getting debug session timeout trying to debug Android junit tests","body":"<p>Add following syntax to the test case:</p>\n\n<pre><code>@Rule\npublic TestRule timeout = new DisableOnDebug(new Timeout(20));\n</code></pre>\n\n<p>Reference:<br>\n<a href=\"https://junit.org/junit4/javadoc/4.12/org/junit/rules/DisableOnDebug.html\" rel=\"nofollow noreferrer\">https://junit.org/junit4/javadoc/4.12/org/junit/rules/DisableOnDebug.html</a></p>\n"}],"owner":{"account_id":2119559,"reputation":1,"user_id":1883121,"display_name":"user1883121"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1661,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647860436,"creation_date":1392910404,"question_id":21912348,"body_markdown":"I&#39;m trying to debug Android junit tests. I can set break points in a test or in the code under test and they get hit. However, there is a one minute timeout that ends the debug session. I&#39;ve looked at using @LargeTest instead of @SmallTest since it is suppose to have a 5 minute timeout, but I see no difference. My colleague has the same problem, so it&#39;s not just my machine. How can I disable the junit 1 minute timeout?","title":"Getting debug session timeout trying to debug Android junit tests","body":"<p>I'm trying to debug Android junit tests. I can set break points in a test or in the code under test and they get hit. However, there is a one minute timeout that ends the debug session. I've looked at using @LargeTest instead of @SmallTest since it is suppose to have a 5 minute timeout, but I see no difference. My colleague has the same problem, so it's not just my machine. How can I disable the junit 1 minute timeout?</p>\n"},{"tags":["java","maven","option-type","java-17","immutables-library"],"owner":{"account_id":24628436,"reputation":21,"user_id":18527929,"display_name":"Jaroslaw Pasiak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647860305,"creation_date":1647860305,"question_id":71556462,"body_markdown":"I have problems getting my code to compile with maven.\r\n\r\nI&#39;m using these dependencies:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.immutables&lt;/groupId&gt;\r\n            &lt;artifactId&gt;value&lt;/artifactId&gt;\r\n            &lt;version&gt;2.9.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;annotationProcessorPaths&gt;\r\n                        &lt;path&gt;\r\n                            &lt;groupId&gt;org.immutables&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;value&lt;/artifactId&gt;\r\n                            &lt;version&gt;2.9.0&lt;/version&gt;\r\n                        &lt;/path&gt;\r\n                    &lt;/annotationProcessorPaths&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n   \r\n&lt;/project&gt;\r\nOne class looks like this:\r\n\r\n    @Value.Immutable\r\n    public interface Foo {\r\n        Optional&lt;List&lt;@NotNull @Valid Bar&gt;&gt; getBar();\r\n    }\r\n\r\nAnd the other like this:\r\n\r\n    @Value.Immutable\r\n    public interface Bar {\r\n    }\r\n\r\nAnd when I try to build the maven project with mvn clean install I get this error:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project Testing: Compilation failure\r\n    [ERROR] org.immutables.value.internal.$processor$.$Processor threw org.immutables.value.internal.$guava$.base.$VerifyException: [E] =/&gt; [@javax.validation.constraints.NotNull, @javax.validation.Validcom.exam\r\n    ple.Bar]\r\n    [ERROR]         at org.immutables.value.internal.$guava$.base.$Verify.verify($Verify.java:125)\r\n    [ERROR]         at org.immutables.value.internal.$generator$.$TypeHierarchyCollector$TypevarContext.&lt;init&gt;($TypeHierarchyCollector.java:59)\r\n    [ERROR]         at org.immutables.value.internal.$generator$.$TypeHierarchyCollector.collectHierarchyMirrors($TypeHierarchyCollector.java:106)\r\n    [ERROR]         at org.immutables.value.internal.$generator$.$TypeHierarchyCollector.collectFrom($TypeHierarchyCollector.java:69)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$TypeIntrospectionBase.collectTypeHierarchy($TypeIntrospectionBase.java:155)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$TypeIntrospectionBase.introspectTypeMirror($TypeIntrospectionBase.java:147)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueAttribute.introspectType($ValueAttribute.java:881)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$TypeIntrospectionBase.ensureTypeIntrospected($TypeIntrospectionBase.java:81)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueAttribute.initTypeKind($ValueAttribute.java:1441)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueAttribute.initAndValidate($ValueAttribute.java:1210)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$AccessorAttributesCollector.collect($AccessorAttributesCollector.java:95)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueTypeComposer.compose($ValueTypeComposer.java:67)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$Round.composeValue($Round.java:181)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.meta.$Round.collectValues($Round.java:95)\r\n    [ERROR]         at org.immutables.value.internal.$processor$.$Processor.process($Processor.java:79)\r\n    [ERROR]         at org.immutables.value.internal.$generator$.$AbstractGenerator.process($AbstractGenerator.java:93)\r\n    [ERROR]         at org.immutables.processor.ProxyProcessor.process(ProxyProcessor.java:72)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:1023)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:939)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1267)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1382)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1234)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:916)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.invocationHelper(JavacTaskImpl.java:152)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\r\n    [ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\r\n    [ERROR]         at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess(JavaxToolsCompiler.java:126)\r\n    [ERROR]         at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile(JavacCompiler.java:174)\r\n    [ERROR]         at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:1134)\r\n    [ERROR]         at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:187)\r\n    [ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\r\n    [ERROR]         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\r\n    [ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\r\n    [ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\r\n    [ERROR]         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\r\n    [ERROR]         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:972)\r\n    [ERROR]         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\r\n    [ERROR]         at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\r\n    [ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    [ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    [ERROR]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    [ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n    [ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\r\n    [ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\r\n    [ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\r\n    [ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\r\n    [ERROR]\r\n    [ERROR]\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n    \r\nThis error seem to only appear when I annotate the Optional&lt;List&lt;Bar&gt;&gt; with both @NotNull and @Valid at the same time. This doesn&#39;t happen when I only use one annotation. Also this error is not present when the List isn&#39;t Optional.\r\n    \r\nThis code compiles and builds as intended on Java 8.\r\nThis error appeared when I started upgrading my project from java 8 to java 17 (also tested with java11, and I get the same error).\r\n\r\nAny ideas on how I can fix this problem?\r\n\r\nHave made a table to show what I tested and when it fails.\r\n\r\n[Table of successful and failed builds][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/T11nq.png","title":"immutables.value.internal.$guava$.base.$VerifyException with java 17","body":"<p>I have problems getting my code to compile with maven.</p>\n<p>I'm using these dependencies:</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.immutables&lt;/groupId&gt;\n        &lt;artifactId&gt;value&lt;/artifactId&gt;\n        &lt;version&gt;2.9.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n        &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;annotationProcessorPaths&gt;\n                    &lt;path&gt;\n                        &lt;groupId&gt;org.immutables&lt;/groupId&gt;\n                        &lt;artifactId&gt;value&lt;/artifactId&gt;\n                        &lt;version&gt;2.9.0&lt;/version&gt;\n                    &lt;/path&gt;\n                &lt;/annotationProcessorPaths&gt;\n                &lt;source&gt;17&lt;/source&gt;\n                &lt;target&gt;17&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\nOne class looks like this:\n<pre><code>@Value.Immutable\npublic interface Foo {\n    Optional&lt;List&lt;@NotNull @Valid Bar&gt;&gt; getBar();\n}\n</code></pre>\n<p>And the other like this:</p>\n<pre><code>@Value.Immutable\npublic interface Bar {\n}\n</code></pre>\n<p>And when I try to build the maven project with mvn clean install I get this error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project Testing: Compilation failure\n[ERROR] org.immutables.value.internal.$processor$.$Processor threw org.immutables.value.internal.$guava$.base.$VerifyException: [E] =/&gt; [@javax.validation.constraints.NotNull, @javax.validation.Validcom.exam\nple.Bar]\n[ERROR]         at org.immutables.value.internal.$guava$.base.$Verify.verify($Verify.java:125)\n[ERROR]         at org.immutables.value.internal.$generator$.$TypeHierarchyCollector$TypevarContext.&lt;init&gt;($TypeHierarchyCollector.java:59)\n[ERROR]         at org.immutables.value.internal.$generator$.$TypeHierarchyCollector.collectHierarchyMirrors($TypeHierarchyCollector.java:106)\n[ERROR]         at org.immutables.value.internal.$generator$.$TypeHierarchyCollector.collectFrom($TypeHierarchyCollector.java:69)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$TypeIntrospectionBase.collectTypeHierarchy($TypeIntrospectionBase.java:155)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$TypeIntrospectionBase.introspectTypeMirror($TypeIntrospectionBase.java:147)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueAttribute.introspectType($ValueAttribute.java:881)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$TypeIntrospectionBase.ensureTypeIntrospected($TypeIntrospectionBase.java:81)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueAttribute.initTypeKind($ValueAttribute.java:1441)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueAttribute.initAndValidate($ValueAttribute.java:1210)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$AccessorAttributesCollector.collect($AccessorAttributesCollector.java:95)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$ValueTypeComposer.compose($ValueTypeComposer.java:67)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$Round.composeValue($Round.java:181)\n[ERROR]         at org.immutables.value.internal.$processor$.meta.$Round.collectValues($Round.java:95)\n[ERROR]         at org.immutables.value.internal.$processor$.$Processor.process($Processor.java:79)\n[ERROR]         at org.immutables.value.internal.$generator$.$AbstractGenerator.process($AbstractGenerator.java:93)\n[ERROR]         at org.immutables.processor.ProxyProcessor.process(ProxyProcessor.java:72)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor(JavacProcessingEnvironment.java:1023)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.discoverAndRunProcs(JavacProcessingEnvironment.java:939)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment$Round.run(JavacProcessingEnvironment.java:1267)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing(JavacProcessingEnvironment.java:1382)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.processAnnotations(JavaCompiler.java:1234)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.main.JavaCompiler.compile(JavaCompiler.java:916)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.lambda$doCall$0(JavacTaskImpl.java:104)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.invocationHelper(JavacTaskImpl.java:152)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.doCall(JavacTaskImpl.java:100)\n[ERROR]         at jdk.compiler/com.sun.tools.javac.api.JavacTaskImpl.call(JavacTaskImpl.java:94)\n[ERROR]         at org.codehaus.plexus.compiler.javac.JavaxToolsCompiler.compileInProcess(JavaxToolsCompiler.java:126)\n[ERROR]         at org.codehaus.plexus.compiler.javac.JavacCompiler.performCompile(JavacCompiler.java:174)\n[ERROR]         at org.apache.maven.plugin.compiler.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:1134)\n[ERROR]         at org.apache.maven.plugin.compiler.CompilerMojo.execute(CompilerMojo.java:187)\n[ERROR]         at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:210)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:156)\n[ERROR]         at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:148)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:117)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:81)\n[ERROR]         at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:56)\n[ERROR]         at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:305)\n[ERROR]         at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:192)\n[ERROR]         at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:105)\n[ERROR]         at org.apache.maven.cli.MavenCli.execute(MavenCli.java:972)\n[ERROR]         at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:293)\n[ERROR]         at org.apache.maven.cli.MavenCli.main(MavenCli.java:196)\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n[ERROR]         at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n[ERROR]         at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:282)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:225)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:406)\n[ERROR]         at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:347)\n[ERROR]\n[ERROR]\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>This error seem to only appear when I annotate the Optional&lt;List&gt; with both @NotNull and @Valid at the same time. This doesn't happen when I only use one annotation. Also this error is not present when the List isn't Optional.</p>\n<p>This code compiles and builds as intended on Java 8.\nThis error appeared when I started upgrading my project from java 8 to java 17 (also tested with java11, and I get the same error).</p>\n<p>Any ideas on how I can fix this problem?</p>\n<p>Have made a table to show what I tested and when it fails.</p>\n<p><a href=\"https://i.stack.imgur.com/T11nq.png\" rel=\"nofollow noreferrer\">Table of successful and failed builds</a></p>\n"},{"tags":["java","mongodb"],"answers":[{"tags":[],"owner":{"account_id":5807463,"reputation":315,"user_id":4579668,"accept_rate":33,"display_name":"Ankit Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1515482349,"creation_date":1515482349,"answer_id":48163106,"question_id":48162917,"body_markdown":"I can think of two options. Although I haven&#39;t tried them.\r\n\r\n 1. Use the getUsedDatabases method of MongoClient to get the database (ref: http://api.mongodb.com/java/2.10.1/com/mongodb/Mongo.html)\r\n 2. Create an instance of MongoClientURI (ref: http://api.mongodb.com/java/current/com/mongodb/MongoClientURI.html) using the uri and then use the method getDatabase() on this object.","title":"How to get the Mongo database specified in connection string from MongoClient, Java","body":"<p>I can think of two options. Although I haven't tried them.</p>\n\n<ol>\n<li>Use the getUsedDatabases method of MongoClient to get the database (ref: <a href=\"http://api.mongodb.com/java/2.10.1/com/mongodb/Mongo.html\" rel=\"nofollow noreferrer\">http://api.mongodb.com/java/2.10.1/com/mongodb/Mongo.html</a>)</li>\n<li>Create an instance of MongoClientURI (ref: <a href=\"http://api.mongodb.com/java/current/com/mongodb/MongoClientURI.html\" rel=\"nofollow noreferrer\">http://api.mongodb.com/java/current/com/mongodb/MongoClientURI.html</a>) using the uri and then use the method getDatabase() on this object.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647860135,"creation_date":1647857686,"answer_id":71555913,"question_id":48162917,"body_markdown":"With the [modern API](https://mongodb.github.io/mongo-java-driver/4.5/apidocs/mongodb-driver-sync/index.html), you can use:\r\n\r\n```\r\nString uri = &quot;mongodb+srv://...&quot;;\r\nString databaseName = new ConnectionString(uri).getDatabase();\r\nDatabase database = mongoClient.getDatabase(databaseName);\r\n```","title":"How to get the Mongo database specified in connection string from MongoClient, Java","body":"<p>With the <a href=\"https://mongodb.github.io/mongo-java-driver/4.5/apidocs/mongodb-driver-sync/index.html\" rel=\"nofollow noreferrer\">modern API</a>, you can use:</p>\n<pre><code>String uri = &quot;mongodb+srv://...&quot;;\nString databaseName = new ConnectionString(uri).getDatabase();\nDatabase database = mongoClient.getDatabase(databaseName);\n</code></pre>\n"}],"owner":{"account_id":2386817,"reputation":15505,"user_id":2087628,"accept_rate":42,"display_name":"JaskeyLam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":48163106,"answer_count":2,"score":5,"last_activity_date":1647860135,"creation_date":1515481521,"question_id":48162917,"body_markdown":"I have already specified the database to connect in the connection string, so I hope I can get the database instance without hard coded . \r\n\r\nBut the method mongoDbClient.getDatabase needs the database name as the parameter. Is there any easy way to do that?\r\n\r\n\r\n    MongoClient mongoClient = new MongoClientURI(DispatcherConfigHolder.config.getMongoUrl());//I will put the uri in a config file so that I can change the db easily\r\n    MongoDatabase db = ...//need a MongoDataBase here\r\n    MongoCollection collection = db.getCollection(&quot;device&quot;);//so that I can access the collection from it","title":"How to get the Mongo database specified in connection string from MongoClient, Java","body":"<p>I have already specified the database to connect in the connection string, so I hope I can get the database instance without hard coded .</p>\n<p>But the method mongoDbClient.getDatabase needs the database name as the parameter. Is there any easy way to do that?</p>\n<pre><code>MongoClient mongoClient = new MongoClientURI(DispatcherConfigHolder.config.getMongoUrl());//I will put the uri in a config file so that I can change the db easily\nMongoDatabase db = ...//need a MongoDataBase here\nMongoCollection collection = db.getCollection(&quot;device&quot;);//so that I can access the collection from it\n</code></pre>\n"},{"tags":["java","android","google-play","location"],"comments":[{"owner":{"account_id":8726421,"reputation":821,"user_id":15119028,"display_name":"Junaid Khalid"},"score":0,"creation_date":1647860705,"post_id":71556409,"comment_id":126469017,"body_markdown":"What is current problem","body":"What is current problem"},{"owner":{"account_id":16944327,"reputation":49,"user_id":12255416,"display_name":"Hafiz Al Asad"},"score":0,"creation_date":1647860995,"post_id":71556409,"comment_id":126469119,"body_markdown":"There are new safety policies from google. You need to fill up a console form &amp; maybe have to do some other stuff . You should check it.","body":"There are new safety policies from google. You need to fill up a console form &amp; maybe have to do some other stuff . You should check it."}],"owner":{"account_id":16944327,"reputation":49,"user_id":12255416,"display_name":"Hafiz Al Asad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1647860087,"creation_date":1647860087,"question_id":71556409,"body_markdown":"Our app uses the user&#39;s location data &amp; device camera. Is there anything to do like- any changes to the code apart from filling up the console form provided by Google?\r\nFor reference, I am providing some links below -\r\n[Documentation from google][1] &amp; \r\n[Android Developers Blog][2]\r\n\r\n\r\n  [1]: https://support.google.com/googleplay/android-developer/answer/10787469?hl=en#:~:text=By%20July%2020%2C%202022%2C%20all,through%20security%20practices%20like%20encryption.\r\n\r\n[2]: https://android-developers.googleblog.com/2021/10/launching-data-safety-in-play-console.html","title":"What changes do I need to bring to my existing apps on the play store so that they can match Google&#39;s new data safety policy?","body":"<p>Our app uses the user's location data &amp; device camera. Is there anything to do like- any changes to the code apart from filling up the console form provided by Google?\nFor reference, I am providing some links below -\n<a href=\"https://support.google.com/googleplay/android-developer/answer/10787469?hl=en#:%7E:text=By%20July%2020%2C%202022%2C%20all,through%20security%20practices%20like%20encryption.\" rel=\"nofollow noreferrer\">Documentation from google</a> &amp;\n<a href=\"https://android-developers.googleblog.com/2021/10/launching-data-safety-in-play-console.html\" rel=\"nofollow noreferrer\">Android Developers Blog</a></p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":24441553,"reputation":13,"user_id":18365181,"display_name":"sunmiao"},"score":0,"creation_date":1647855855,"post_id":71555513,"comment_id":126467227,"body_markdown":"Could someone give me a light?","body":"Could someone give me a light?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1647857245,"post_id":71555513,"comment_id":126467734,"body_markdown":"an Object array `new Object[5]` is not an valid String array `GenericTest&lt;String&gt; gt = new GenericTest&lt;&gt;();`","body":"an Object array <code>new Object[5]</code> is not an valid String array <code>GenericTest&lt;String&gt; gt = new GenericTest&lt;&gt;();</code>"}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647859512,"creation_date":1647859512,"answer_id":71556267,"question_id":71555513,"body_markdown":"Well, they may look similar, but they are not.\r\n\r\nThe thing is that with `func()`, the compiler knows nothing about the actual generic type of `GenericTest`, except that is is eventually an `Object`. Retrieving `arr.length` will just work fine.\r\n\r\nBut then look at `void func(GenericTest&lt;String&gt; gt)`. The argument mandates that a `GenericTest&lt;String&gt;` is passed in. So the compiler inserts a type cast for `arr` to a `String[]`:\r\n\r\n```java\r\n((String[]) gt.arr).length\r\n```\r\n\r\nAnd guess what – `gt.arr` is *actually* an `Object[]`, which can, of course, not be converted to a `String[]`.","title":"[Ljava.lang.Object; cannot be cast to [Ljava.lang.String; when I use generic","body":"<p>Well, they may look similar, but they are not.</p>\n<p>The thing is that with <code>func()</code>, the compiler knows nothing about the actual generic type of <code>GenericTest</code>, except that is is eventually an <code>Object</code>. Retrieving <code>arr.length</code> will just work fine.</p>\n<p>But then look at <code>void func(GenericTest&lt;String&gt; gt)</code>. The argument mandates that a <code>GenericTest&lt;String&gt;</code> is passed in. So the compiler inserts a type cast for <code>arr</code> to a <code>String[]</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>((String[]) gt.arr).length\n</code></pre>\n<p>And guess what – <code>gt.arr</code> is <em>actually</em> an <code>Object[]</code>, which can, of course, not be converted to a <code>String[]</code>.</p>\n"}],"owner":{"account_id":24441553,"reputation":13,"user_id":18365181,"display_name":"sunmiao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":678,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647859512,"creation_date":1647855813,"question_id":71555513,"body_markdown":"When I run code below:\r\n```java\r\npublic class GenericTest&lt;T&gt; {\r\n\r\n    private T[] arr = (T[]) new Object[5];//泛型不能直接创建，但是可以这样转型\r\n\r\n    public static void func(GenericTest&lt;String&gt; gt){\r\n        for(int i = 0; i &lt; gt.arr.length; i++){\r\n            if(gt.arr[i] == null)\r\n                System.out.print(i);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        GenericTest&lt;String&gt; gt = new GenericTest&lt;&gt;();\r\n        //gt.func();\r\n        func(gt);\r\n    }\r\n}\r\n```\r\nI got a error:\r\n\r\n&gt; [Ljava.lang.Object; cannot be cast to [Ljava.lang.String; [duplicate]\r\n\r\nBut when I run code like this (though they like very similar)：\r\n\r\n```java\r\npublic class GenericTest&lt;T&gt; {\r\n\r\n    private T[] arr = (T[]) new Object[5];//泛型不能直接创建，但是可以这样转型\r\n\r\n    public void func(){\r\n        for(int i = 0; i &lt; arr.length; i++){\r\n            if(arr[i] == null)\r\n                System.out.print(i);\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        GenericTest&lt;String&gt; gt = new GenericTest&lt;&gt;();\r\n        gt.func();\r\n        //func(gt);\r\n    }\r\n}\r\n```\r\n\r\nI can get what I want to see:\r\n```none\r\n01234\r\nProcess finished with exit code 0\r\n```","title":"[Ljava.lang.Object; cannot be cast to [Ljava.lang.String; when I use generic","body":"<p>When I run code below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericTest&lt;T&gt; {\n\n    private T[] arr = (T[]) new Object[5];//泛型不能直接创建，但是可以这样转型\n\n    public static void func(GenericTest&lt;String&gt; gt){\n        for(int i = 0; i &lt; gt.arr.length; i++){\n            if(gt.arr[i] == null)\n                System.out.print(i);\n        }\n    }\n\n    public static void main(String[] args){\n        GenericTest&lt;String&gt; gt = new GenericTest&lt;&gt;();\n        //gt.func();\n        func(gt);\n    }\n}\n</code></pre>\n<p>I got a error:</p>\n<blockquote>\n<p>[Ljava.lang.Object; cannot be cast to [Ljava.lang.String; [duplicate]</p>\n</blockquote>\n<p>But when I run code like this (though they like very similar)：</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericTest&lt;T&gt; {\n\n    private T[] arr = (T[]) new Object[5];//泛型不能直接创建，但是可以这样转型\n\n    public void func(){\n        for(int i = 0; i &lt; arr.length; i++){\n            if(arr[i] == null)\n                System.out.print(i);\n        }\n    }\n\n    public static void main(String[] args){\n        GenericTest&lt;String&gt; gt = new GenericTest&lt;&gt;();\n        gt.func();\n        //func(gt);\n    }\n}\n</code></pre>\n<p>I can get what I want to see:</p>\n<pre class=\"lang-none prettyprint-override\"><code>01234\nProcess finished with exit code 0\n</code></pre>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1647861701,"post_id":71556076,"comment_id":126469380,"body_markdown":"It seems to crash when calling the native [`libglib` library of GTK](https://docs.gtk.org/glib/). Which GTK version do you have and is this something that can be reproduced in the current Eclipse and GTK versions or only in your outdated Eclipse which is 4 releases behind?","body":"It seems to crash when calling the native <a href=\"https://docs.gtk.org/glib/\" rel=\"nofollow noreferrer\"><code>libglib</code> library of GTK</a>. Which GTK version do you have and is this something that can be reproduced in the current Eclipse and GTK versions or only in your outdated Eclipse which is 4 releases behind?"},{"owner":{"account_id":6887930,"reputation":181,"user_id":10311582,"display_name":"TheAkashKamble"},"score":0,"creation_date":1647868566,"post_id":71556076,"comment_id":126472001,"body_markdown":"I tried with latest version of eclipse as well. Facing the same issue. How do I confirm which libglib I am using ?","body":"I tried with latest version of eclipse as well. Facing the same issue. How do I confirm which libglib I am using ?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1647870517,"post_id":71556076,"comment_id":126472824,"body_markdown":"The question still says Eclipse 2021-03 which is 4 releases behind. See [here how to find out the GTK version you have](https://stackoverflow.com/q/126141/6505250).","body":"The question still says Eclipse 2021-03 which is 4 releases behind. See <a href=\"https://stackoverflow.com/q/126141/6505250\">here how to find out the GTK version you have</a>."}],"owner":{"account_id":6887930,"reputation":181,"user_id":10311582,"display_name":"TheAkashKamble"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647858564,"creation_date":1647858564,"question_id":71556076,"body_markdown":"I am using Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)\r\n\r\nVersion: 2021-03 (4.19.0)\r\nBuild id: 20210312-0638\r\n\r\nwhich keeps on crashing for some reason. This crashing usually happens when I try to navigate between classes using references ( Ctrl + Mouse click ). Also when I try to syncronize with SVN repository it crashes. These are few instances which creates error log file having following content. \r\n\r\n    #\r\n    # A fatal error has been detected by the Java Runtime Environment:\r\n    #\r\n    #  SIGSEGV (0xb) at pc=0x00007fb6ae09b660, pid=29515, tid=29587\r\n    #\r\n    # JRE version: OpenJDK Runtime Environment (15.0.2+7) (build 15.0.2+7-27)\r\n    # Java VM: OpenJDK 64-Bit Server VM (15.0.2+7-27, mixed mode, tiered, compressed oops, g1 gc, linux-amd64)\r\n    # Problematic frame:\r\n    # C  [libglib-2.0.so.0+0x3b660]  g_str_hash+0x0\r\n    #\r\n    # Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport %p %s %c %d %P %E&quot; (or dumping to /home/etp/Desktop/133backup/eclipse/core.29515)\r\n    #\r\n    # If you would like to submit a bug report, please visit:\r\n    #   https://bugreport.java.com/bugreport/crash.jsp\r\n    # The crash happened outside the Java Virtual Machine in native code.\r\n    # See problematic frame for where to report the bug.\r\n    #\r\n\r\n[Here][1] is the link of the entire log file. \r\n\r\n\r\n  [1]: https://github.com/iamakashk/eclipse-crash-log/blob/main/eclipseError.log\r\n\r\nHere is my System Configuration: \r\nUbuntu 18.04.6\r\nRAM 15.6 GiB\r\nProcessor Intel&#174; Core™ i5-9400F CPU @ 2.90GHz &#215; 6 \r\nGraphics llvmpipe (LLVM 10.0.0, 256 bits)\r\nSSD 512 GB\r\n\r\nMy Eclipse configuration file :\r\n\r\n    -startup\r\n    plugins/org.eclipse.equinox.launcher_1.6.100.v20201223-0822.jar\r\n    --launcher.library\r\n    plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.2.100.v20210209-1541\r\n    -product\r\n    org.eclipse.epp.package.jee.product\r\n    -showsplash\r\n    org.eclipse.epp.package.common\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.defaultAction\r\n    openFile\r\n    --launcher.appendVmargs\r\n    -vm\r\n    plugins/org.eclipse.justj.openjdk.hotspot.jre.full.linux.x86_64_15.0.2.v20210201-0955/jre/bin\r\n    -vmargs\r\n    -Dosgi.requiredJavaVersion=8\r\n    -Dosgi.instance.area.default=@user.home/eclipse-workspace\r\n    -Dsun.java.command=Eclipse\r\n    -XX:+UseG1GC\r\n    -XX:+UseStringDeduplication\r\n    --add-modules=ALL-SYSTEM\r\n    -Dosgi.requiredJavaVersion=8\r\n    -Dosgi.dataAreaRequiresExplicitInit=true\r\n    -Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\r\n    -Xms2048m\r\n    -Xmx8000m\r\n    --add-modules=ALL-SYSTEM\r\n\r\n","title":"Eclipse crashes with Problematic frame: C [libglib-2.0.so.0+0x3b660] g_str_hash+0x0","body":"<p>I am using Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)</p>\n<p>Version: 2021-03 (4.19.0)\nBuild id: 20210312-0638</p>\n<p>which keeps on crashing for some reason. This crashing usually happens when I try to navigate between classes using references ( Ctrl + Mouse click ). Also when I try to syncronize with SVN repository it crashes. These are few instances which creates error log file having following content.</p>\n<pre><code>#\n# A fatal error has been detected by the Java Runtime Environment:\n#\n#  SIGSEGV (0xb) at pc=0x00007fb6ae09b660, pid=29515, tid=29587\n#\n# JRE version: OpenJDK Runtime Environment (15.0.2+7) (build 15.0.2+7-27)\n# Java VM: OpenJDK 64-Bit Server VM (15.0.2+7-27, mixed mode, tiered, compressed oops, g1 gc, linux-amd64)\n# Problematic frame:\n# C  [libglib-2.0.so.0+0x3b660]  g_str_hash+0x0\n#\n# Core dump will be written. Default location: Core dumps may be processed with &quot;/usr/share/apport/apport %p %s %c %d %P %E&quot; (or dumping to /home/etp/Desktop/133backup/eclipse/core.29515)\n#\n# If you would like to submit a bug report, please visit:\n#   https://bugreport.java.com/bugreport/crash.jsp\n# The crash happened outside the Java Virtual Machine in native code.\n# See problematic frame for where to report the bug.\n#\n</code></pre>\n<p><a href=\"https://github.com/iamakashk/eclipse-crash-log/blob/main/eclipseError.log\" rel=\"nofollow noreferrer\">Here</a> is the link of the entire log file.</p>\n<p>Here is my System Configuration:\nUbuntu 18.04.6\nRAM 15.6 GiB\nProcessor Intel® Core™ i5-9400F CPU @ 2.90GHz × 6\nGraphics llvmpipe (LLVM 10.0.0, 256 bits)\nSSD 512 GB</p>\n<p>My Eclipse configuration file :</p>\n<pre><code>-startup\nplugins/org.eclipse.equinox.launcher_1.6.100.v20201223-0822.jar\n--launcher.library\nplugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.2.100.v20210209-1541\n-product\norg.eclipse.epp.package.jee.product\n-showsplash\norg.eclipse.epp.package.common\n--launcher.defaultAction\nopenFile\n--launcher.defaultAction\nopenFile\n--launcher.appendVmargs\n-vm\nplugins/org.eclipse.justj.openjdk.hotspot.jre.full.linux.x86_64_15.0.2.v20210201-0955/jre/bin\n-vmargs\n-Dosgi.requiredJavaVersion=8\n-Dosgi.instance.area.default=@user.home/eclipse-workspace\n-Dsun.java.command=Eclipse\n-XX:+UseG1GC\n-XX:+UseStringDeduplication\n--add-modules=ALL-SYSTEM\n-Dosgi.requiredJavaVersion=8\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Dorg.eclipse.swt.graphics.Resource.reportNonDisposed=true\n-Xms2048m\n-Xmx8000m\n--add-modules=ALL-SYSTEM\n</code></pre>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1647425884,"post_id":71495098,"comment_id":126365875,"body_markdown":"You&#39;re logging the exception with the cause first, so the exception you need to throw in your test is a `org.springframework.dao.DataIntegrityViolationException` with the cause set to a `org.hibernate.exception.ConstraintViolationException`.","body":"You&#39;re logging the exception with the cause first, so the exception you need to throw in your test is a <code>org.springframework.dao.DataIntegrityViolationException</code> with the cause set to a <code>org.hibernate.exception.ConstraintViolationException</code>."},{"owner":{"account_id":7819576,"reputation":133,"user_id":5913107,"display_name":"Dans Merino"},"score":0,"creation_date":1647427173,"post_id":71495098,"comment_id":126366391,"body_markdown":"I&#39;ve tried to put in the try-catch clause both`org.hibernate.exception.ConstraintViolationException` and `org.springframework.dao.DataIntegrityViolationException`, both work in the unit test, but fail to catch the exception when I actually try running the program.","body":"I&#39;ve tried to put in the try-catch clause both<code>org.hibernate.exception.ConstraintViolationException</code> and <code>org.springframework.dao.DataIntegrityViolationException</code>, both work in the unit test, but fail to catch the exception when I actually try running the program."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647427632,"post_id":71495098,"comment_id":126366596,"body_markdown":"The exception happens on commit, which is done by an aspect on `getDocument`, looking at the stack trace.","body":"The exception happens on commit, which is done by an aspect on <code>getDocument</code>, looking at the stack trace."},{"owner":{"account_id":7819576,"reputation":133,"user_id":5913107,"display_name":"Dans Merino"},"score":0,"creation_date":1647427839,"post_id":71495098,"comment_id":126366695,"body_markdown":"Could it be caused by a @Transactional?\nLet me add some more code then","body":"Could it be caused by a @Transactional? Let me add some more code then"}],"answers":[{"tags":[],"owner":{"account_id":2513532,"reputation":51,"user_id":2185443,"display_name":"mithildobarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647440222,"creation_date":1647440222,"answer_id":71498672,"question_id":71495098,"body_markdown":"You may find [this thread][1] useful, it is similar to the issue you are facing about catching the SQLIntegrityConstraintViolationException.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/18816761/how-to-catch-java-sql-sqlintegrityconstraintviolationexception","title":"repository.save() throwing the wrong exception","body":"<p>You may find <a href=\"https://stackoverflow.com/questions/18816761/how-to-catch-java-sql-sqlintegrityconstraintviolationexception\">this thread</a> useful, it is similar to the issue you are facing about catching the SQLIntegrityConstraintViolationException.</p>\n"},{"tags":[],"owner":{"account_id":7819576,"reputation":133,"user_id":5913107,"display_name":"Dans Merino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647858454,"creation_date":1647858454,"answer_id":71556060,"question_id":71495098,"body_markdown":"The issue was that the annotation @Transactional was &quot;hijacking&quot; the exception. We end up removing the annotation as we realized we didn&#39;t needed it for that part of the code.\r\n\r\nThe other alternative we came up to solve it was to capture `Exception` and check for `instanceOf` but we didn&#39;t like this.","title":"repository.save() throwing the wrong exception","body":"<p>The issue was that the annotation @Transactional was &quot;hijacking&quot; the exception. We end up removing the annotation as we realized we didn't needed it for that part of the code.</p>\n<p>The other alternative we came up to solve it was to capture <code>Exception</code> and check for <code>instanceOf</code> but we didn't like this.</p>\n"}],"owner":{"account_id":7819576,"reputation":133,"user_id":5913107,"display_name":"Dans Merino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1684,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71556060,"answer_count":2,"score":0,"last_activity_date":1647858454,"creation_date":1647425193,"question_id":71495098,"body_markdown":"I am using a jpa repository that extends from `CrudRepository` to save an object into a DB. \r\n\r\nThe object has a unique index on one of the columns and if I try to save the same value twice it throws an `java.sql.SQLIntegrityConstraintViolationException` .\r\n\r\nWhen I tried to create a test that recreates this behaviour:\r\n\r\n    when(docsRepository.save(doc)).thenThrow(SQLIntegrityConstraintViolationException.class);\r\n    classThatCallsToSave(doc)\r\n\r\nI got a \r\n\r\n    org.mockito.exceptions.base.MockitoException: \r\n    Checked exception is invalid for this method!\r\n    Invalid: java.sql.SQLIntegrityConstraintViolationException\r\n\r\nI also get an error if I try to use the `SQLIntegrityConstraintViolationException` in the catch expression of the try-catch. \r\n\r\nThis is because `CrudRepository.save` is not supposed to throw that kind of exception. Based on this answer https://stackoverflow.com/a/28650987/5913107, the repository should throw a `NonTransientDataAccessException` in particular: `DataIntegrityViolationException`. But the exception seems to be wrapped by the `SQLIntegrityConstraintViolationException`. If I try to catch `DataIntegrityViolationException` the exception is not catch.\r\n\r\nI don&#39;t know what to do because I have an exception being thrown that because it is not supposed to be thrown, I cannot catch. \r\n\r\nThe code:\r\n\r\n    @Transactional\r\n    public getDocument(String docName){\r\n        var hash = hash(docName);\r\n        createDoc(docName, hash)\r\n    }\r\n\r\n    private String createDoc(String name, String hash) {\r\n        var doc = new Doc(\r\n            name,\r\n            hash);\r\n\r\n        try {\r\n            docsRepository.save(doc);\r\n        } catch (ConstraintViolationException e) {\r\n            token = tokensRepository.findByHash(hash).get();\r\n        }\r\n\r\n        return token.getValue();\r\n\r\nThe entity:\r\n\r\n    @Entity\r\n    @Table(name = &quot;docs&quot;,\r\n        indexes = {\r\n            @Index(name = &quot;HASH_IDX&quot;, columnList = &quot;hash&quot;, unique = true)\r\n        })\r\n    public class Doc {\r\n        public String getValue() {\r\n            return value;\r\n        }\r\n        @Id\r\n        @NotNull\r\n        private String value;\r\n    \r\n        @NotNull\r\n        private String hash;\r\n    }\r\n\r\nThe repository:\r\n\r\n    @Repository\r\n    public interface DocsRepository extends CrudRepository&lt;Doc, String&gt; {\r\n        Collection&lt;Doc&gt; findAll();\r\n    \r\n        Optional&lt;Doc&gt; findByHash(String hash);\r\n    \r\n        void deleteAll();\r\n    }\r\n\r\nThis is the relevant part of the trace:\r\n\r\n    &quot;stack_trace&quot;:&quot;java.sql.SQLIntegrityConstraintViolationException: Duplicate entry &#39;efb12e37f6b898b576dd051cf1fcbd78be6bbea19316e591b03ac98e3f922f18&#39; for key &#39;docss.HASH_IDX&#39;\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\r\n    \tat com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)\r\n    \tat com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)\r\n    \tat com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\r\n    \tat com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\r\n    \t... 102 common frames omitted\r\n    Wrapped by: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\r\n    \tat org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n    \tat org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\r\n    \tat org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3298)\r\n    \tat org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3825)\r\n    \tat org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n    \tat org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n    \tat java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n    \tat org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n    \tat org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\r\n    \tat org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n    \tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)\r\n    \tat org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)\r\n    \tat org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:453)\r\n    \tat org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3212)\r\n    \tat org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2380)\r\n    \tat org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n    \tat org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n    \tat org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\r\n    \t... 82 common frames omitted\r\n    Wrapped by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [docs.HASH_IDX]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\r\n    \tat org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\r\n    \tat org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\r\n    \tat org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\r\n    \tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\r\n    \tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n    \tat com.foo.bar.Document.domain.DocumentService$$EnhancerBySpringCGLIB$$1801847c.getDocument(&lt;generated&gt;)\r\n    \tat com.foo.bar.Document.rest.GetDocumentResource.getDocument(GetDocumentResource.java:21)\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java)\r\n    \tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n    \tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:568)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\r\n \r\n\r\n","title":"repository.save() throwing the wrong exception","body":"<p>I am using a jpa repository that extends from <code>CrudRepository</code> to save an object into a DB.</p>\n<p>The object has a unique index on one of the columns and if I try to save the same value twice it throws an <code>java.sql.SQLIntegrityConstraintViolationException</code> .</p>\n<p>When I tried to create a test that recreates this behaviour:</p>\n<pre><code>when(docsRepository.save(doc)).thenThrow(SQLIntegrityConstraintViolationException.class);\nclassThatCallsToSave(doc)\n</code></pre>\n<p>I got a</p>\n<pre><code>org.mockito.exceptions.base.MockitoException: \nChecked exception is invalid for this method!\nInvalid: java.sql.SQLIntegrityConstraintViolationException\n</code></pre>\n<p>I also get an error if I try to use the <code>SQLIntegrityConstraintViolationException</code> in the catch expression of the try-catch.</p>\n<p>This is because <code>CrudRepository.save</code> is not supposed to throw that kind of exception. Based on this answer <a href=\"https://stackoverflow.com/a/28650987/5913107\">https://stackoverflow.com/a/28650987/5913107</a>, the repository should throw a <code>NonTransientDataAccessException</code> in particular: <code>DataIntegrityViolationException</code>. But the exception seems to be wrapped by the <code>SQLIntegrityConstraintViolationException</code>. If I try to catch <code>DataIntegrityViolationException</code> the exception is not catch.</p>\n<p>I don't know what to do because I have an exception being thrown that because it is not supposed to be thrown, I cannot catch.</p>\n<p>The code:</p>\n<pre><code>@Transactional\npublic getDocument(String docName){\n    var hash = hash(docName);\n    createDoc(docName, hash)\n}\n\nprivate String createDoc(String name, String hash) {\n    var doc = new Doc(\n        name,\n        hash);\n\n    try {\n        docsRepository.save(doc);\n    } catch (ConstraintViolationException e) {\n        token = tokensRepository.findByHash(hash).get();\n    }\n\n    return token.getValue();\n</code></pre>\n<p>The entity:</p>\n<pre><code>@Entity\n@Table(name = &quot;docs&quot;,\n    indexes = {\n        @Index(name = &quot;HASH_IDX&quot;, columnList = &quot;hash&quot;, unique = true)\n    })\npublic class Doc {\n    public String getValue() {\n        return value;\n    }\n    @Id\n    @NotNull\n    private String value;\n\n    @NotNull\n    private String hash;\n}\n</code></pre>\n<p>The repository:</p>\n<pre><code>@Repository\npublic interface DocsRepository extends CrudRepository&lt;Doc, String&gt; {\n    Collection&lt;Doc&gt; findAll();\n\n    Optional&lt;Doc&gt; findByHash(String hash);\n\n    void deleteAll();\n}\n</code></pre>\n<p>This is the relevant part of the trace:</p>\n<pre><code>&quot;stack_trace&quot;:&quot;java.sql.SQLIntegrityConstraintViolationException: Duplicate entry 'efb12e37f6b898b576dd051cf1fcbd78be6bbea19316e591b03ac98e3f922f18' for key 'docss.HASH_IDX'\n    at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:117)\n    at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeInternal(ClientPreparedStatement.java:953)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1098)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdateInternal(ClientPreparedStatement.java:1046)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeLargeUpdate(ClientPreparedStatement.java:1371)\n    at com.mysql.cj.jdbc.ClientPreparedStatement.executeUpdate(ClientPreparedStatement.java:1031)\n    at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)\n    at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)\n    ... 102 common frames omitted\nWrapped by: org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)\n    at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n    at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)\n    at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3298)\n    at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3825)\n    at org.hibernate.action.internal.EntityInsertAction.execute(EntityInsertAction.java:107)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n    at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n    at java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n    at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n    at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\n    at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:99)\n    at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1362)\n    at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:453)\n    at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3212)\n    at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2380)\n    at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:448)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n    at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n    at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:562)\n    ... 82 common frames omitted\nWrapped by: org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint [docs.HASH_IDX]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)\n    at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)\n    at org.springframework.orm.jpa.JpaTransactionManager.doCommit(JpaTransactionManager.java:566)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.processCommit(AbstractPlatformTransactionManager.java:743)\n    at org.springframework.transaction.support.AbstractPlatformTransactionManager.commit(AbstractPlatformTransactionManager.java:711)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.commitTransactionAfterReturning(TransactionAspectSupport.java:654)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:407)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n    at com.foo.bar.Document.domain.DocumentService$$EnhancerBySpringCGLIB$$1801847c.getDocument(&lt;generated&gt;)\n    at com.foo.bar.Document.rest.GetDocumentResource.getDocument(GetDocumentResource.java:21)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(NativeMethodAccessorImpl.java)\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:568)\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n</code></pre>\n"},{"tags":["java","spring-boot","google-cloud-platform"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1647719506,"post_id":71537996,"comment_id":126443289,"body_markdown":"Do you have an error? What&#39;s your credentials?","body":"Do you have an error? What&#39;s your credentials?"},{"owner":{"account_id":3328451,"reputation":135,"user_id":2797877,"accept_rate":100,"display_name":"user2797877"},"score":0,"creation_date":1647738942,"post_id":71537996,"comment_id":126446514,"body_markdown":"I don&#39;t have the secretmanager.versions.access permission, Is this the issue? I am using service account for service deployment. whom need this permission, Is this project level or default appengine service account","body":"I don&#39;t have the secretmanager.versions.access permission, Is this the issue? I am using service account for service deployment. whom need this permission, Is this project level or default appengine service account"},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1647779000,"post_id":71537996,"comment_id":126451975,"body_markdown":"Where is running your app? How did you set up the credentials in the environment?","body":"Where is running your app? How did you set up the credentials in the environment?"},{"owner":{"account_id":3328451,"reputation":135,"user_id":2797877,"accept_rate":100,"display_name":"user2797877"},"score":0,"creation_date":1647793027,"post_id":71537996,"comment_id":126455056,"body_markdown":"I have deployed app to App Engine. (How did you set up the credentials in the environment?)  Which credentials you are talking about?","body":"I have deployed app to App Engine. (How did you set up the credentials in the environment?)  Which credentials you are talking about?"},{"owner":{"account_id":3328451,"reputation":135,"user_id":2797877,"accept_rate":100,"display_name":"user2797877"},"score":0,"creation_date":1647793258,"post_id":71537996,"comment_id":126455109,"body_markdown":"In local machine I did the the credentials setup by:  GOOGLE_APPLICATION_CREDENTIALS=&quot;C:\\Users\\username\\Downloads\\service-account-file.json&quot;","body":"In local machine I did the the credentials setup by:  GOOGLE_APPLICATION_CREDENTIALS=&quot;C:\\Users\\username\\Downloads\\&zwnj;&#8203;service-account-file&zwnj;&#8203;.json&quot;"},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1647802081,"post_id":71537996,"comment_id":126457166,"body_markdown":"Did you check if your App Engine default service account (if you use the default in your deployment) has the secret accessor role granted on it? In adition, can you tell me what&#39;s the content of your secret? I fear that&#39;s a services account key file (based on the name).","body":"Did you check if your App Engine default service account (if you use the default in your deployment) has the secret accessor role granted on it? In adition, can you tell me what&#39;s the content of your secret? I fear that&#39;s a services account key file (based on the name)."},{"owner":{"account_id":3328451,"reputation":135,"user_id":2797877,"accept_rate":100,"display_name":"user2797877"},"score":0,"creation_date":1647827625,"post_id":71537996,"comment_id":126461530,"body_markdown":"Yes, I have stored service account key in secret manager. I am not using Default App Engine  service account for deployment. I am using another service account for deployment. So Which service account need permission, Default AppEngine SA or Another service account.","body":"Yes, I have stored service account key in secret manager. I am not using Default App Engine  service account for deployment. I am using another service account for deployment. So Which service account need permission, Default AppEngine SA or Another service account."},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1647851667,"post_id":71537996,"comment_id":126465826,"body_markdown":"Why do you need another service account? It does not make sense!","body":"Why do you need another service account? It does not make sense!"},{"owner":{"account_id":3328451,"reputation":135,"user_id":2797877,"accept_rate":100,"display_name":"user2797877"},"score":0,"creation_date":1647851828,"post_id":71537996,"comment_id":126465880,"body_markdown":"There are multiple user/developer and every developer having separate service account for deployment only, no one use default appEngine?   So Which service account need permission?","body":"There are multiple user/developer and every developer having separate service account for deployment only, no one use default appEngine?   So Which service account need permission?"}],"answers":[{"tags":[],"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647858410,"creation_date":1647858410,"answer_id":71556052,"question_id":71537996,"body_markdown":"Deployment and runtime are 2 different things. At deployment, user must have the permission to deploy a new service. You have 3 roles that you can find in [the documentation][1]\r\n\r\nAt runtime, by default, the App Engine default service account is used. And, as you fill it, it&#39;s not a good practice because:\r\n* The default role is Editor, that grant the service account too much permissions\r\n* If you have 2 different services, both have the same permissions because they use the same identity (service account)\r\n\r\nThat&#39;s why, they have finally release a great feature: [user managed service account][2]\r\n\r\nYou simply have to set the service account email in the `app.yaml` file, and that&#39;s all. You have a dedicated service account for your App Engine service.\r\n\r\n----\r\n\r\nNow you have the identity that you want at runtime. At runtime, you want to get a secret. So, you must grant the runtime identity to be able to access the secret.\r\n\r\n**HOWEVER**, because you already have a specific and dedicated identity for your App Engine service, loading a service account key file from secret manager makes no sense! Use directly the runtime identity!\r\n\r\n  [1]: https://cloud.google.com/appengine/docs/standard/python/roles\r\n  [2]: https://cloud.google.com/appengine/docs/standard/go/user-managed-service-accounts","title":"Google Secret Manager: unable get value from secret manager with Spring Boot","body":"<p>Deployment and runtime are 2 different things. At deployment, user must have the permission to deploy a new service. You have 3 roles that you can find in <a href=\"https://cloud.google.com/appengine/docs/standard/python/roles\" rel=\"nofollow noreferrer\">the documentation</a></p>\n<p>At runtime, by default, the App Engine default service account is used. And, as you fill it, it's not a good practice because:</p>\n<ul>\n<li>The default role is Editor, that grant the service account too much permissions</li>\n<li>If you have 2 different services, both have the same permissions because they use the same identity (service account)</li>\n</ul>\n<p>That's why, they have finally release a great feature: <a href=\"https://cloud.google.com/appengine/docs/standard/go/user-managed-service-accounts\" rel=\"nofollow noreferrer\">user managed service account</a></p>\n<p>You simply have to set the service account email in the <code>app.yaml</code> file, and that's all. You have a dedicated service account for your App Engine service.</p>\n<hr />\n<p>Now you have the identity that you want at runtime. At runtime, you want to get a secret. So, you must grant the runtime identity to be able to access the secret.</p>\n<p><strong>HOWEVER</strong>, because you already have a specific and dedicated identity for your App Engine service, loading a service account key file from secret manager makes no sense! Use directly the runtime identity!</p>\n"}],"owner":{"account_id":3328451,"reputation":135,"user_id":2797877,"accept_rate":100,"display_name":"user2797877"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1509,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71556052,"answer_count":1,"score":0,"last_activity_date":1647858410,"creation_date":1647691588,"question_id":71537996,"body_markdown":"I am unable to get value from secret manager.\r\n    \r\n    **Application.property:**\r\n    spring.secret.key=${sm://projects/154281748/secrets/serviceaccount/versions/1}\r\n    \r\n    **bootstrap.property:**\r\n    spring.cloud.gcp.secretmanager.enabled=true\r\n    spring.cloud.gcp.secretmanager.secret-name-prefix=sm://\r\n    \r\n    **pom.xml:**\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;             \r\n    &lt;/dependency&gt;\r\n    \r\n    **Java Code**\r\n    @Value(&quot;${spring.secret.key}&quot;)\r\n    private String key;\r\n    \r\nI am getting &quot;//projects/154281748/secrets/serviceaccount/versions/1&quot; value of Key.","title":"Google Secret Manager: unable get value from secret manager with Spring Boot","body":"<p>I am unable to get value from secret manager.</p>\n<pre><code>**Application.property:**\nspring.secret.key=${sm://projects/154281748/secrets/serviceaccount/versions/1}\n\n**bootstrap.property:**\nspring.cloud.gcp.secretmanager.enabled=true\nspring.cloud.gcp.secretmanager.secret-name-prefix=sm://\n\n**pom.xml:**\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n&lt;artifactId&gt;spring-cloud-gcp-starter-secretmanager&lt;/artifactId&gt;             \n&lt;/dependency&gt;\n\n**Java Code**\n@Value(&quot;${spring.secret.key}&quot;)\nprivate String key;\n</code></pre>\n<p>I am getting &quot;//projects/154281748/secrets/serviceaccount/versions/1&quot; value of Key.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1647849401,"post_id":71554336,"comment_id":126465178,"body_markdown":"what have you tried? you are just showing String representations, just apply a different formatter","body":"what have you tried? you are just showing String representations, just apply a different formatter"}],"answers":[{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647858222,"creation_date":1647850735,"answer_id":71554574,"question_id":71554336,"body_markdown":"Here&#39;s an example using `java.time`:\r\n\r\n```lang-java\r\npublic static void main(String[] args) {\r\n\t// input dates / days\r\n\tString fromDate = &quot;04-10-2021&quot;;\r\n\tString toDate = &quot;06-10-2021&quot;;\r\n\t// prepare the times of day\r\n\tLocalTime startOfDay = LocalTime.MIN; // 00:00:00.000\r\n\tLocalTime endOfDay = LocalTime.of(23, 59, 59); // 23:59:59.000\r\n\t// create an object that takes care of parsing the expected format\r\n\tDateTimeFormatter customDateParser = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;);\r\n\t// then parse the dates using the formatter / parser\r\n\tLocalDate fromDay = LocalDate.parse(fromDate, customDateParser);\r\n\tLocalDate toDay = LocalDate.parse(toDate, customDateParser);\r\n\t// then concatenate the parsed dates with the prepared times of day\r\n\tLocalDateTime fromTime = LocalDateTime.of(fromDay, startOfDay);\r\n\tLocalDateTime toTime = LocalDateTime.of(toDay, endOfDay);\r\n\t// finally define a formatter for the String output of the LocalDateTimes\r\n\tDateTimeFormatter customFormatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;);\r\n    // and print their toString() methods\r\n\tSystem.out.println(&quot;from &quot; + fromTime.format(customFormatter) \r\n\t\t\t\t\t + &quot; to &quot; + toTime.format(customFormatter));\r\n}\r\n```\r\n\r\n```lang-none\r\nfrom 2021-10-04T00:00:00.000 to 2021-10-06T23:59:59.000\r\n```","title":"How to convert from string format of date (dd/mm/yyyy) to string format of date (yyyy-mm-dd&#39;T&#39;HH:mm:ss.SSS)","body":"<p>Here's an example using <code>java.time</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    // input dates / days\n    String fromDate = &quot;04-10-2021&quot;;\n    String toDate = &quot;06-10-2021&quot;;\n    // prepare the times of day\n    LocalTime startOfDay = LocalTime.MIN; // 00:00:00.000\n    LocalTime endOfDay = LocalTime.of(23, 59, 59); // 23:59:59.000\n    // create an object that takes care of parsing the expected format\n    DateTimeFormatter customDateParser = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;);\n    // then parse the dates using the formatter / parser\n    LocalDate fromDay = LocalDate.parse(fromDate, customDateParser);\n    LocalDate toDay = LocalDate.parse(toDate, customDateParser);\n    // then concatenate the parsed dates with the prepared times of day\n    LocalDateTime fromTime = LocalDateTime.of(fromDay, startOfDay);\n    LocalDateTime toTime = LocalDateTime.of(toDay, endOfDay);\n    // finally define a formatter for the String output of the LocalDateTimes\n    DateTimeFormatter customFormatter = DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd'T'HH:mm:ss.SSS&quot;);\n    // and print their toString() methods\n    System.out.println(&quot;from &quot; + fromTime.format(customFormatter) \n                     + &quot; to &quot; + toTime.format(customFormatter));\n}\n</code></pre>\n<pre class=\"lang-none prettyprint-override\"><code>from 2021-10-04T00:00:00.000 to 2021-10-06T23:59:59.000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647851714,"creation_date":1647851381,"answer_id":71554685,"question_id":71554336,"body_markdown":"Generally speaking, you really want to avoid representing date/time as `String` where ever possible.\r\n\r\nDisplaying date/time values to the user should be done in styles that respect their localisation and transmitting date/time values using JSON or XML should use common/standardised formats.  This reduces a LOT of issues (don&#39;t even get me started)\r\n\r\nFor example, had I the choice, I would prefer to use `ISO_LOCAL_DATE` (`uuuu-MM-dd`) and `ISO_LOCAL_DATE_TIME` (`uuuu-MM-dd&#39;T&#39;HH:mm:ss`).  I&#39;m already worried about the lack of time zone information &#128561;\r\n\r\nA &quot;simple&quot; approach might be to do something like...\r\n\r\n    DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;);\r\n    DateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu.SSS&quot;);\r\n\r\n    LocalDateTime locatDateTime = LocalDate\r\n            .parse(&quot;04-10-2021&quot;, dateFormatter)\r\n            .atTime(0, 0, 0, 0);\r\n\r\n    String dateAndTime = locatDateTime.format(timeFormatter);\r\n    System.out.println(dateAndTime);\r\n\r\n    locatDateTime = LocalDate\r\n            .parse(&quot;04-10-2021&quot;, dateFormatter)\r\n            .atTime(23, 59, 59, 0);\r\n\r\n    dateAndTime = locatDateTime.format(timeFormatter);\r\n    System.out.println(dateAndTime);\r\n\r\nBasically...\r\n\r\n* Parse the date value through a `DateTimeFormatter` using a matching format patten\r\n* Convert the `LocalDate` to a `LocalDateTime` by passing in the values we want to use\r\n* Format the `LocalDateTime` through a `DateTimeFormatter` to the desired format\r\n\r\nwhich prints...\r\n\r\n    04-10-2021T00:00:00.000\r\n    06-10-2021T23:59:59.000\r\n\r\nSee:\r\n\r\n* [The date/time trail](https://docs.oracle.com/javase/tutorial/datetime/index.html)\r\n* [Introduction to the Java 8 Date/Time API](https://www.baeldung.com/java-8-date-time-intro)\r\n\r\nfor more details\r\n\r\nNow, if all you really want to do, is make it &quot;start of&quot; and &quot;end of&quot; day, you might be able to use...\r\n\r\n    LocalDateTime startOfDay = LocalDate\r\n            .parse(&quot;04-10-2021&quot;, dateFormatter)\r\n            .atStartOfDay();\r\n\r\n    LocalDateTime endOfDay = LocalDate\r\n            .parse(&quot;06-10-2021&quot;, dateFormatter)\r\n            .plusDays(1)\r\n            .atStartOfDay()\r\n            .minusSeconds(1);\r\n\r\nRight about now, I&#39;d be starting a utility class of some kind which had a method which could take a date `String` (and possibly an optional format) and generate a `LocalDate` and then another method which could take `LocalDate` which could convert it to a `LocalDateTime` at either the `startOfDay` or `endOfDay`","title":"How to convert from string format of date (dd/mm/yyyy) to string format of date (yyyy-mm-dd&#39;T&#39;HH:mm:ss.SSS)","body":"<p>Generally speaking, you really want to avoid representing date/time as <code>String</code> where ever possible.</p>\n<p>Displaying date/time values to the user should be done in styles that respect their localisation and transmitting date/time values using JSON or XML should use common/standardised formats.  This reduces a LOT of issues (don't even get me started)</p>\n<p>For example, had I the choice, I would prefer to use <code>ISO_LOCAL_DATE</code> (<code>uuuu-MM-dd</code>) and <code>ISO_LOCAL_DATE_TIME</code> (<code>uuuu-MM-dd'T'HH:mm:ss</code>).  I'm already worried about the lack of time zone information 😱</p>\n<p>A &quot;simple&quot; approach might be to do something like...</p>\n<pre><code>DateTimeFormatter dateFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu&quot;);\nDateTimeFormatter timeFormatter = DateTimeFormatter.ofPattern(&quot;dd-MM-uuuu.SSS&quot;);\n\nLocalDateTime locatDateTime = LocalDate\n        .parse(&quot;04-10-2021&quot;, dateFormatter)\n        .atTime(0, 0, 0, 0);\n\nString dateAndTime = locatDateTime.format(timeFormatter);\nSystem.out.println(dateAndTime);\n\nlocatDateTime = LocalDate\n        .parse(&quot;04-10-2021&quot;, dateFormatter)\n        .atTime(23, 59, 59, 0);\n\ndateAndTime = locatDateTime.format(timeFormatter);\nSystem.out.println(dateAndTime);\n</code></pre>\n<p>Basically...</p>\n<ul>\n<li>Parse the date value through a <code>DateTimeFormatter</code> using a matching format patten</li>\n<li>Convert the <code>LocalDate</code> to a <code>LocalDateTime</code> by passing in the values we want to use</li>\n<li>Format the <code>LocalDateTime</code> through a <code>DateTimeFormatter</code> to the desired format</li>\n</ul>\n<p>which prints...</p>\n<pre><code>04-10-2021T00:00:00.000\n06-10-2021T23:59:59.000\n</code></pre>\n<p>See:</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">The date/time trail</a></li>\n<li><a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">Introduction to the Java 8 Date/Time API</a></li>\n</ul>\n<p>for more details</p>\n<p>Now, if all you really want to do, is make it &quot;start of&quot; and &quot;end of&quot; day, you might be able to use...</p>\n<pre><code>LocalDateTime startOfDay = LocalDate\n        .parse(&quot;04-10-2021&quot;, dateFormatter)\n        .atStartOfDay();\n\nLocalDateTime endOfDay = LocalDate\n        .parse(&quot;06-10-2021&quot;, dateFormatter)\n        .plusDays(1)\n        .atStartOfDay()\n        .minusSeconds(1);\n</code></pre>\n<p>Right about now, I'd be starting a utility class of some kind which had a method which could take a date <code>String</code> (and possibly an optional format) and generate a <code>LocalDate</code> and then another method which could take <code>LocalDate</code> which could convert it to a <code>LocalDateTime</code> at either the <code>startOfDay</code> or <code>endOfDay</code></p>\n"},{"tags":[],"owner":{"account_id":2975918,"reputation":755,"user_id":2526969,"display_name":"frascu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647852685,"creation_date":1647851534,"answer_id":71554716,"question_id":71554336,"body_markdown":"You have to do these steps:\r\n 1. create a [DateTimeFormatter][1] for `dd-MM-yyyy`\r\n 2. parse the date with `LocalDate.parse` with `atTime`\r\n 3. create a [DateTimeFormatter][1] for `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS`\r\n 4. format the date in order to have the final result\r\n\r\n```java\r\npublic String changeFormatDate(String date, int hour, int minute, int second, int nanoOfSecond) {\r\n    DateTimeFormatter formatterFrom = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;); // 1\r\n    LocalDateTime localDateTimeFrom = LocalDate.parse(date, formatterFrom).atTime(hour, minute, second, nanoOfSecond); // 2\r\n\r\n    DateTimeFormatter formatterTo = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&quot;); // 3\r\n    return localDateTimeFrom.format(formatterTo); //4\r\n}\r\n```\r\nCall example:\r\n```java\r\nString fromTime = changeFormatDate(&quot;04-10-2021&quot;, 0, 0, 0, 0);\r\nString toTime = changeFormatDate(&quot;06-10-2021&quot;, 23, 59, 59, 999999999);\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html","title":"How to convert from string format of date (dd/mm/yyyy) to string format of date (yyyy-mm-dd&#39;T&#39;HH:mm:ss.SSS)","body":"<p>You have to do these steps:</p>\n<ol>\n<li>create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> for <code>dd-MM-yyyy</code></li>\n<li>parse the date with <code>LocalDate.parse</code> with <code>atTime</code></li>\n<li>create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\">DateTimeFormatter</a> for <code>yyyy-MM-dd'T'HH:mm:ss.SSS</code></li>\n<li>format the date in order to have the final result</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public String changeFormatDate(String date, int hour, int minute, int second, int nanoOfSecond) {\n    DateTimeFormatter formatterFrom = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;); // 1\n    LocalDateTime localDateTimeFrom = LocalDate.parse(date, formatterFrom).atTime(hour, minute, second, nanoOfSecond); // 2\n\n    DateTimeFormatter formatterTo = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd'T'HH:mm:ss.SSS&quot;); // 3\n    return localDateTimeFrom.format(formatterTo); //4\n}\n</code></pre>\n<p>Call example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String fromTime = changeFormatDate(&quot;04-10-2021&quot;, 0, 0, 0, 0);\nString toTime = changeFormatDate(&quot;06-10-2021&quot;, 23, 59, 59, 999999999);\n</code></pre>\n"}],"owner":{"account_id":22978259,"reputation":13,"user_id":17105599,"display_name":"madhu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":3,"score":-3,"last_activity_date":1647858222,"creation_date":1647849268,"question_id":71554336,"body_markdown":"I have to convert \r\n\r\n```lang-json\r\n&quot;fromTime&quot; : &quot;04-10-2021&quot;`\r\n```\r\nto \r\n```lang-json\r\n&quot;fromTime&quot; : &quot;2021-10-04T00:00:00.000&quot;\r\n```\r\nand\r\n```lang-json\r\n&quot;toTime&quot; : &quot;06-10-2021&quot;\r\n```\r\nto\r\n```lang-json\r\n&quot;toTime&quot; : &quot;2021-10-06T23:59:59.000&quot;\r\n```\r\nin java . Help please!","title":"How to convert from string format of date (dd/mm/yyyy) to string format of date (yyyy-mm-dd&#39;T&#39;HH:mm:ss.SSS)","body":"<p>I have to convert</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;fromTime&quot; : &quot;04-10-2021&quot;`\n</code></pre>\n<p>to</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;fromTime&quot; : &quot;2021-10-04T00:00:00.000&quot;\n</code></pre>\n<p>and</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;toTime&quot; : &quot;06-10-2021&quot;\n</code></pre>\n<p>to</p>\n<pre class=\"lang-json prettyprint-override\"><code>&quot;toTime&quot; : &quot;2021-10-06T23:59:59.000&quot;\n</code></pre>\n<p>in java . Help please!</p>\n"},{"tags":["java","h2","embedded-database"],"comments":[{"owner":{"account_id":10759610,"reputation":12628,"user_id":7916438,"display_name":"tevemadar"},"score":0,"creation_date":1647706796,"post_id":71538840,"comment_id":126440586,"body_markdown":"https://h2database.com/html/features.html#trace_options ?","body":"<a href=\"https://h2database.com/html/features.html#trace_options\" rel=\"nofollow noreferrer\">h2database.com/html/features.html#trace_options</a> ?"},{"owner":{"account_id":3815856,"reputation":11,"user_id":18513066,"display_name":"Retardo"},"score":0,"creation_date":1647721343,"post_id":71538840,"comment_id":126443705,"body_markdown":"Not exactly what I needed, but you put in the right direction (see my answer). Thx","body":"Not exactly what I needed, but you put in the right direction (see my answer). Thx"}],"answers":[{"tags":[],"owner":{"account_id":3815856,"reputation":11,"user_id":18513066,"display_name":"Retardo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647858071,"creation_date":1647721276,"answer_id":71541753,"question_id":71538840,"body_markdown":"It seem like the getConnection method from the EmbeddedDatabase and from the DriverManager create a different log strategie for the connection. The default config fits for my problem. So the code would look like this:\r\n\r\n    new EmbeddedDatabaseBuilder()\r\n                .setName(&quot;test&quot;)\r\n                .setType(EmbeddedDatabaseType.H2)\r\n                .build();\r\n    ...\r\n    Connection connection = DriverManager\r\n           .getConnection(&quot;jdbc:h2:mem:test&quot;, &quot;sa&quot;, &quot;&quot;);\r\n    ... or\r\n    Connection connection = DriverManager\r\n           .getConnection(&quot;jdbc:h2:mem:test;TRACE_LEVEL_SYSTEM_OUT=3&quot;, &quot;sa&quot;, &quot;&quot;);\r\nMore options:\r\nhttps://h2database.com/html/features.html#trace_options","title":"Java EmbeddedDatabase (H2) logging","body":"<p>It seem like the getConnection method from the EmbeddedDatabase and from the DriverManager create a different log strategie for the connection. The default config fits for my problem. So the code would look like this:</p>\n<pre><code>new EmbeddedDatabaseBuilder()\n            .setName(&quot;test&quot;)\n            .setType(EmbeddedDatabaseType.H2)\n            .build();\n...\nConnection connection = DriverManager\n       .getConnection(&quot;jdbc:h2:mem:test&quot;, &quot;sa&quot;, &quot;&quot;);\n... or\nConnection connection = DriverManager\n       .getConnection(&quot;jdbc:h2:mem:test;TRACE_LEVEL_SYSTEM_OUT=3&quot;, &quot;sa&quot;, &quot;&quot;);\n</code></pre>\n<p>More options:\n<a href=\"https://h2database.com/html/features.html#trace_options\" rel=\"nofollow noreferrer\">https://h2database.com/html/features.html#trace_options</a></p>\n"}],"owner":{"account_id":3815856,"reputation":11,"user_id":18513066,"display_name":"Retardo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":432,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647858071,"creation_date":1647698937,"question_id":71538840,"body_markdown":"I would like to change the logging of my EmbeddedDatabase. Atm every time I open a connection it logs &quot;... Creating new JDBC Driver Connection to ...&quot;. In my test suite, I open for every request a new connection, and now there are way too many of these messages.\r\n\r\n    EmbeddedDatabase embeddedDatabase = new EmbeddedDatabaseBuilder()\r\n                .generateUniqueName(true)\r\n                .setType(EmbeddedDatabaseType.H2)\r\n                .build();\r\n    ...\r\n    Connection connection = embeddedDatabase.getConnection();\r\n\r\nI didn&#39;t find any kind of log level. I just can set the PrintWriter. But I wanna see the error msgs.\r\nI run this outside of spring as a regular unit test.\r\n\r\nAny ideas?","title":"Java EmbeddedDatabase (H2) logging","body":"<p>I would like to change the logging of my EmbeddedDatabase. Atm every time I open a connection it logs &quot;... Creating new JDBC Driver Connection to ...&quot;. In my test suite, I open for every request a new connection, and now there are way too many of these messages.</p>\n<pre><code>EmbeddedDatabase embeddedDatabase = new EmbeddedDatabaseBuilder()\n            .generateUniqueName(true)\n            .setType(EmbeddedDatabaseType.H2)\n            .build();\n...\nConnection connection = embeddedDatabase.getConnection();\n</code></pre>\n<p>I didn't find any kind of log level. I just can set the PrintWriter. But I wanna see the error msgs.\nI run this outside of spring as a regular unit test.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","graalvm","graalvm-native-image","spring-native","graaljs"],"comments":[{"owner":{"account_id":2537956,"reputation":55,"user_id":2204531,"display_name":"Orazio Contarino"},"score":0,"creation_date":1649259635,"post_id":71527356,"comment_id":126832037,"body_markdown":"As reported in:\nhttps://github.com/spring-projects-experimental/spring-native/issues/1510\nIt&#39;s a bug in GraalVm side","body":"As reported in: <a href=\"https://github.com/spring-projects-experimental/spring-native/issues/1510\" rel=\"nofollow noreferrer\">github.com/spring-projects-experimental/spring-native/issues&zwnj;&#8203;/&hellip;</a> It&#39;s a bug in GraalVm side"}],"owner":{"account_id":2537956,"reputation":55,"user_id":2204531,"display_name":"Orazio Contarino"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1190,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647857753,"creation_date":1647608168,"question_id":71527356,"body_markdown":"i&#39;ve configured a spring native app which should use graalvm js interpreter to run js code.\r\nThe app works fine if i build/run it with nashorn interpreter (no native, standard build).\r\nIf i build it using native profile and GraalVM js interpreter it fails at runtime (build completed with success and some warnings).\r\n\r\nIf i remove tomcat dependency (native build, graalvm interpreter, no tomcat) it works fine. My question is: is there a way to run graalvm native image (graalvm js interpreter) and tomcat in the same app? What should i modify?\r\n\r\nGraalvm version:22.0.0.2\r\n\r\nPOM (maven project):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;TestSpringNativeExe&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.4&lt;/version&gt;\r\n            &lt;relativePath/&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.11&lt;/java.version&gt;\r\n            &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n            &lt;graalvm.version&gt;21.2.0&lt;/graalvm.version&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;spring-release&lt;/id&gt;\r\n                &lt;name&gt;Spring release&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;pluginRepositories&gt;\r\n            &lt;pluginRepository&gt;\r\n                &lt;id&gt;spring-release&lt;/id&gt;\r\n                &lt;name&gt;Spring release&lt;/name&gt;\r\n                &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\r\n            &lt;/pluginRepository&gt;\r\n        &lt;/pluginRepositories&gt;\r\n    \r\n        &lt;dependencies&gt;\r\n            &lt;!-- ... --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\r\n                &lt;version&gt;0.11.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Spring web --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.tomcat.experimental&lt;/groupId&gt;\r\n                &lt;artifactId&gt;tomcat-embed-programmatic&lt;/artifactId&gt;\r\n                &lt;version&gt;${tomcat.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Logback --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\r\n                &lt;artifactId&gt;janino&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.6&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- others --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n                &lt;artifactId&gt;js&lt;/artifactId&gt;\r\n                &lt;version&gt;${graalvm.version}&lt;/version&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\r\n                &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\r\n                &lt;version&gt;${graalvm.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.graalvm.truffle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;truffle-api&lt;/artifactId&gt;\r\n                &lt;version&gt;${graalvm.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;!-- ... --&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;0.11.3&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;generate&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;test-generate&lt;/id&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;test-generate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;removeXmlSupport&gt;false&lt;/removeXmlSupport&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n        &lt;profiles&gt;\r\n            &lt;profile&gt;\r\n                &lt;id&gt;native&lt;/id&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;!-- Required with Maven Surefire 2.x --&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\r\n                        &lt;scope&gt;test&lt;/scope&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;build&gt;\r\n                    &lt;plugins&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;version&gt;0.9.10&lt;/version&gt;\r\n                            &lt;extensions&gt;true&lt;/extensions&gt;\r\n                            &lt;executions&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;build-native&lt;/id&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;build&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;phase&gt;package&lt;/phase&gt;\r\n                                &lt;/execution&gt;\r\n                                &lt;execution&gt;\r\n                                    &lt;id&gt;test-native&lt;/id&gt;\r\n                                    &lt;goals&gt;\r\n                                        &lt;goal&gt;test&lt;/goal&gt;\r\n                                    &lt;/goals&gt;\r\n                                    &lt;phase&gt;test&lt;/phase&gt;\r\n                                &lt;/execution&gt;\r\n                            &lt;/executions&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;!-- ... --&gt;\r\n                                &lt;buildArgs&gt;--language:js&lt;/buildArgs&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                        &lt;!-- Avoid a clash between Spring Boot repackaging and native-maven-plugin --&gt;\r\n                        &lt;plugin&gt;\r\n                            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;classifier&gt;exec&lt;/classifier&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/plugin&gt;\r\n                    &lt;/plugins&gt;\r\n                &lt;/build&gt;\r\n            &lt;/profile&gt;\r\n        &lt;/profiles&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nWarnings at build time (native build):\r\n\r\n    [1/7] Initializing...                                                                                    (6,7s @ 0,25GB)\r\n    Warning: Could not register org.springframework.boot.autoconfigure.jdbc.HikariDriverConfigurationFailureAnalyzer: allDeclaredConstructors for reflection. Reason: java.lang.NoClassDefFoundError: org/springframework/jdbc/CannotGetJdbcConnectionExcept\r\n    ion.\r\n    Warning: Could not register org.springframework.boot.diagnostics.analyzer.ValidationExceptionFailureAnalyzer: allDeclaredConstructors for reflection. Reason: java.lang.NoClassDefFoundError: javax/validation/ValidationException.\r\n    Warning: Could not register org.springframework.boot.liquibase.LiquibaseChangelogMissingFailureAnalyzer: allDeclaredConstructors for reflection. Reason: java.lang.NoClassDefFoundError: liquibase/exception/ChangeLogParseException.\r\n     Version info: &#39;GraalVM 22.0.0.1 Java 11 EE&#39;\r\n    The bundle named: org.apache.tomcat.util.threads.res.LocalStrings, has not been found. If the bundle is part of a module, verify the bundle name is a fully qualified class name. Otherwise verify the bundle path is accessible in the classpath.\r\n    [2/7] Performing analysis...  [*********]                                                               (93,1s @ 3,89GB)\r\n    Warning: Could not register complete reflection metadata for org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator. Reason(s): java.lang.NoClassDefFoundError: org/aspectj/util/PartialOrder$PartialComparable\r\n    Warning: Could not register complete reflection metadata for org.springframework.validation.beanvalidation.SpringValidatorAdapter$ViolationFieldError. Reason(s): java.lang.NoClassDefFoundError: javax/validation/Validator, java.lang.NoClassDefFoundE\r\n    rror: javax/validation/ConstraintViolation\r\n    Warning: Could not register complete reflection metadata for org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator. Reason(s): java.lang.NoClassDefFoundError: org/aspectj/util/PartialOrder$PartialComparable\r\n    Warning: Could not register complete reflection metadata for org.springframework.boot.diagnostics.analyzer.ValidationExceptionFailureAnalyzer. Reason(s): java.lang.NoClassDefFoundError: javax/validation/ValidationException\r\n    Warning: Could not register complete reflection metadata for org.springframework.boot.liquibase.LiquibaseChangelogMissingFailureAnalyzer. Reason(s): java.lang.NoClassDefFoundError: liquibase/exception/ChangeLogParseException\r\n    Warning: Could not register complete reflection metadata for org.springframework.boot.autoconfigure.jdbc.HikariDriverConfigurationFailureAnalyzer. Reason(s): java.lang.NoClassDefFoundError: org/springframework/jdbc/CannotGetJdbcConnectionException\r\n     \r\nError at runtime (native image run):\r\n\r\n    13:29:27.327 [main] ERROR o.s.boot.SpringApplication - Application run failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;requestMappingHandlerMapping&#39;: Unexpected exception during bean creation; nested exception is java.lang.ExceptionInInitializerError\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:555)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n            at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n            at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n            at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\r\n            at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n            at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n            at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\r\n            at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\r\n            at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\r\n            at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\r\n            at com.example.SpringNativeApp.main(SpringNativeApp.java:24)\r\n    Caused by: java.lang.ExceptionInInitializerError: null\r\n            at java.lang.Class.ensureInitialized(DynamicHub.java:510)\r\n            at java.lang.Class.ensureInitialized(DynamicHub.java:510)\r\n            at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.createRequestMappingHandlerMapping(WebMvcConfigurationSupport.java:351)\r\n            at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.createRequestMappingHandlerMapping(WebMvcAutoConfiguration.java:543)\r\n            at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerMapping(WebMvcConfigurationSupport.java:311)\r\n            at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.requestMappingHandlerMapping(WebMvcAutoConfiguration.java:445)\r\n            at org.springframework.aot.ContextBootstrapInitializer.lambda$initialize$23(ContextBootstrapInitializer.java:168)\r\n            at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$ThrowableFunction.apply(BeanDefinitionRegistrar.java:294)\r\n            at org.springframework.aot.beans.factory.InjectedElementResolver.create(InjectedElementResolver.java:67)\r\n            at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$BeanInstanceContext.create(BeanDefinitionRegistrar.java:211)\r\n            at org.springframework.aot.ContextBootstrapInitializer.lambda$initialize$24(ContextBootstrapInitializer.java:168)\r\n            at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$ThrowableFunction.apply(BeanDefinitionRegistrar.java:294)\r\n            at org.springframework.aot.beans.factory.BeanDefinitionRegistrar.lambda$instanceSupplier$0(BeanDefinitionRegistrar.java:115)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1249)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\r\n            at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\r\n            ... 14 common frames omitted\r\n    Caused by: java.lang.IllegalStateException: Expected method not found: java.lang.NoSuchMethodException: org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$EmptyHandler.handle()\r\n            at org.springframework.util.ClassUtils.getMethod(ClassUtils.java:1141)\r\n            at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.&lt;clinit&gt;(AbstractHandlerMethodMapping.java:84)\r\n            ... 31 common frames omitted\r\n\r\n","title":"Spring Native fails to start native app after add language:js - Error creating bean with name &#39;requestMappingHandlerMapping&#39;","body":"<p>i've configured a spring native app which should use graalvm js interpreter to run js code.\nThe app works fine if i build/run it with nashorn interpreter (no native, standard build).\nIf i build it using native profile and GraalVM js interpreter it fails at runtime (build completed with success and some warnings).</p>\n<p>If i remove tomcat dependency (native build, graalvm interpreter, no tomcat) it works fine. My question is: is there a way to run graalvm native image (graalvm js interpreter) and tomcat in the same app? What should i modify?</p>\n<p>Graalvm version:22.0.0.2</p>\n<p>POM (maven project):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;TestSpringNativeExe&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.4&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n        &lt;graalvm.version&gt;21.2.0&lt;/graalvm.version&gt;\n    &lt;/properties&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spring-release&lt;/id&gt;\n            &lt;name&gt;Spring release&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;spring-release&lt;/id&gt;\n            &lt;name&gt;Spring release&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/release&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- ... --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-native&lt;/artifactId&gt;\n            &lt;version&gt;0.11.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-embed-core&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.tomcat.embed&lt;/groupId&gt;\n                    &lt;artifactId&gt;tomcat-embed-websocket&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.tomcat.experimental&lt;/groupId&gt;\n            &lt;artifactId&gt;tomcat-embed-programmatic&lt;/artifactId&gt;\n            &lt;version&gt;${tomcat.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Logback --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.codehaus.janino&lt;/groupId&gt;\n            &lt;artifactId&gt;janino&lt;/artifactId&gt;\n            &lt;version&gt;3.1.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- others --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n            &lt;artifactId&gt;js&lt;/artifactId&gt;\n            &lt;version&gt;${graalvm.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.js&lt;/groupId&gt;\n            &lt;artifactId&gt;js-scriptengine&lt;/artifactId&gt;\n            &lt;version&gt;${graalvm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.graalvm.truffle&lt;/groupId&gt;\n            &lt;artifactId&gt;truffle-api&lt;/artifactId&gt;\n            &lt;version&gt;${graalvm.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;!-- ... --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.experimental&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-aot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.11.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;test-generate&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;test-generate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;removeXmlSupport&gt;false&lt;/removeXmlSupport&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;native&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;!-- Required with Maven Surefire 2.x --&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-platform-launcher&lt;/artifactId&gt;\n                    &lt;scope&gt;test&lt;/scope&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n            &lt;build&gt;\n                &lt;plugins&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.graalvm.buildtools&lt;/groupId&gt;\n                        &lt;artifactId&gt;native-maven-plugin&lt;/artifactId&gt;\n                        &lt;version&gt;0.9.10&lt;/version&gt;\n                        &lt;extensions&gt;true&lt;/extensions&gt;\n                        &lt;executions&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;build-native&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;build&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;package&lt;/phase&gt;\n                            &lt;/execution&gt;\n                            &lt;execution&gt;\n                                &lt;id&gt;test-native&lt;/id&gt;\n                                &lt;goals&gt;\n                                    &lt;goal&gt;test&lt;/goal&gt;\n                                &lt;/goals&gt;\n                                &lt;phase&gt;test&lt;/phase&gt;\n                            &lt;/execution&gt;\n                        &lt;/executions&gt;\n                        &lt;configuration&gt;\n                            &lt;!-- ... --&gt;\n                            &lt;buildArgs&gt;--language:js&lt;/buildArgs&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                    &lt;!-- Avoid a clash between Spring Boot repackaging and native-maven-plugin --&gt;\n                    &lt;plugin&gt;\n                        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                        &lt;configuration&gt;\n                            &lt;classifier&gt;exec&lt;/classifier&gt;\n                        &lt;/configuration&gt;\n                    &lt;/plugin&gt;\n                &lt;/plugins&gt;\n            &lt;/build&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Warnings at build time (native build):</p>\n<pre><code>[1/7] Initializing...                                                                                    (6,7s @ 0,25GB)\nWarning: Could not register org.springframework.boot.autoconfigure.jdbc.HikariDriverConfigurationFailureAnalyzer: allDeclaredConstructors for reflection. Reason: java.lang.NoClassDefFoundError: org/springframework/jdbc/CannotGetJdbcConnectionExcept\nion.\nWarning: Could not register org.springframework.boot.diagnostics.analyzer.ValidationExceptionFailureAnalyzer: allDeclaredConstructors for reflection. Reason: java.lang.NoClassDefFoundError: javax/validation/ValidationException.\nWarning: Could not register org.springframework.boot.liquibase.LiquibaseChangelogMissingFailureAnalyzer: allDeclaredConstructors for reflection. Reason: java.lang.NoClassDefFoundError: liquibase/exception/ChangeLogParseException.\n Version info: 'GraalVM 22.0.0.1 Java 11 EE'\nThe bundle named: org.apache.tomcat.util.threads.res.LocalStrings, has not been found. If the bundle is part of a module, verify the bundle name is a fully qualified class name. Otherwise verify the bundle path is accessible in the classpath.\n[2/7] Performing analysis...  [*********]                                                               (93,1s @ 3,89GB)\nWarning: Could not register complete reflection metadata for org.springframework.aop.aspectj.autoproxy.AspectJAwareAdvisorAutoProxyCreator. Reason(s): java.lang.NoClassDefFoundError: org/aspectj/util/PartialOrder$PartialComparable\nWarning: Could not register complete reflection metadata for org.springframework.validation.beanvalidation.SpringValidatorAdapter$ViolationFieldError. Reason(s): java.lang.NoClassDefFoundError: javax/validation/Validator, java.lang.NoClassDefFoundE\nrror: javax/validation/ConstraintViolation\nWarning: Could not register complete reflection metadata for org.springframework.aop.aspectj.annotation.AnnotationAwareAspectJAutoProxyCreator. Reason(s): java.lang.NoClassDefFoundError: org/aspectj/util/PartialOrder$PartialComparable\nWarning: Could not register complete reflection metadata for org.springframework.boot.diagnostics.analyzer.ValidationExceptionFailureAnalyzer. Reason(s): java.lang.NoClassDefFoundError: javax/validation/ValidationException\nWarning: Could not register complete reflection metadata for org.springframework.boot.liquibase.LiquibaseChangelogMissingFailureAnalyzer. Reason(s): java.lang.NoClassDefFoundError: liquibase/exception/ChangeLogParseException\nWarning: Could not register complete reflection metadata for org.springframework.boot.autoconfigure.jdbc.HikariDriverConfigurationFailureAnalyzer. Reason(s): java.lang.NoClassDefFoundError: org/springframework/jdbc/CannotGetJdbcConnectionException\n \n</code></pre>\n<p>Error at runtime (native image run):</p>\n<pre><code>13:29:27.327 [main] ERROR o.s.boot.SpringApplication - Application run failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'requestMappingHandlerMapping': Unexpected exception during bean creation; nested exception is java.lang.ExceptionInInitializerError\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:555)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145)\n        at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:740)\n        at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:415)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:303)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1312)\n        at org.springframework.boot.SpringApplication.run(SpringApplication.java:1301)\n        at com.example.SpringNativeApp.main(SpringNativeApp.java:24)\nCaused by: java.lang.ExceptionInInitializerError: null\n        at java.lang.Class.ensureInitialized(DynamicHub.java:510)\n        at java.lang.Class.ensureInitialized(DynamicHub.java:510)\n        at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.createRequestMappingHandlerMapping(WebMvcConfigurationSupport.java:351)\n        at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.createRequestMappingHandlerMapping(WebMvcAutoConfiguration.java:543)\n        at org.springframework.web.servlet.config.annotation.WebMvcConfigurationSupport.requestMappingHandlerMapping(WebMvcConfigurationSupport.java:311)\n        at org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration$EnableWebMvcConfiguration.requestMappingHandlerMapping(WebMvcAutoConfiguration.java:445)\n        at org.springframework.aot.ContextBootstrapInitializer.lambda$initialize$23(ContextBootstrapInitializer.java:168)\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$ThrowableFunction.apply(BeanDefinitionRegistrar.java:294)\n        at org.springframework.aot.beans.factory.InjectedElementResolver.create(InjectedElementResolver.java:67)\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$BeanInstanceContext.create(BeanDefinitionRegistrar.java:211)\n        at org.springframework.aot.ContextBootstrapInitializer.lambda$initialize$24(ContextBootstrapInitializer.java:168)\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar$ThrowableFunction.apply(BeanDefinitionRegistrar.java:294)\n        at org.springframework.aot.beans.factory.BeanDefinitionRegistrar.lambda$instanceSupplier$0(BeanDefinitionRegistrar.java:115)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1249)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1191)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)\n        ... 14 common frames omitted\nCaused by: java.lang.IllegalStateException: Expected method not found: java.lang.NoSuchMethodException: org.springframework.web.servlet.handler.AbstractHandlerMethodMapping$EmptyHandler.handle()\n        at org.springframework.util.ClassUtils.getMethod(ClassUtils.java:1141)\n        at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.&lt;clinit&gt;(AbstractHandlerMethodMapping.java:84)\n        ... 31 common frames omitted\n</code></pre>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647857556,"creation_date":1647857556,"answer_id":71555889,"question_id":71555750,"body_markdown":"I might not use a single regex pattern, but would instead use multiple checks.  For example:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String password = &quot;ABC123@&quot;;\r\n    int numChars = password.replaceAll(&quot;(?i)[^A-Z]+&quot;, &quot;&quot;).length();\r\n    int numDigits = password.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;).length();\r\n    int numSpecial = password.replaceAll(&quot;[^!@#$%^&amp;*()_+.-]&quot;, &quot;&quot;).length();\r\n\r\n    if (numChars &gt;=1 &amp;&amp; numChars &lt;= 6 &amp;&amp; numDigits &gt;= 1 &amp;&amp; numDigits &lt;= 10 &amp;&amp;\r\n        numSpecial &lt;= 1) {\r\n        System.out.println(&quot;password is valid&quot;);\r\n    }\r\n    else {\r\n        System.out.println(&quot;password is invalid&quot;);\r\n    }","title":"Password validation in Java using RegEx","body":"<p>I might not use a single regex pattern, but would instead use multiple checks.  For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String password = &quot;ABC123@&quot;;\nint numChars = password.replaceAll(&quot;(?i)[^A-Z]+&quot;, &quot;&quot;).length();\nint numDigits = password.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;).length();\nint numSpecial = password.replaceAll(&quot;[^!@#$%^&amp;*()_+.-]&quot;, &quot;&quot;).length();\n\nif (numChars &gt;=1 &amp;&amp; numChars &lt;= 6 &amp;&amp; numDigits &gt;= 1 &amp;&amp; numDigits &lt;= 10 &amp;&amp;\n    numSpecial &lt;= 1) {\n    System.out.println(&quot;password is valid&quot;);\n}\nelse {\n    System.out.println(&quot;password is invalid&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":20283367,"reputation":121,"user_id":14876572,"display_name":"George Cosmin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71555889,"answer_count":1,"score":1,"last_activity_date":1647857556,"creation_date":1647856917,"question_id":71555750,"body_markdown":"I need a regular expression to check that if a password contains:\r\n\r\n - [1,6] uppercase/lowercase characters\r\n - [1,10] digits\r\n - [0,1] special characters\r\n\r\nI tried multiple approach, but without success. I don&#39;t know if I can do this verify with regex. The most accurate pattern is : `^(?=(.*[a-zA-Z]){1,6})(?=(.*[0-9]){1,10})(?=(.*[!@#$%^&amp;*()\\-__+.]){0,1})`\r\n\r\nBut it don&#39;t work good when I have more than 6 char, 10 digits or 1 special character.\r\n\r\nCould anyone help me?","title":"Password validation in Java using RegEx","body":"<p>I need a regular expression to check that if a password contains:</p>\n<ul>\n<li>[1,6] uppercase/lowercase characters</li>\n<li>[1,10] digits</li>\n<li>[0,1] special characters</li>\n</ul>\n<p>I tried multiple approach, but without success. I don't know if I can do this verify with regex. The most accurate pattern is : <code>^(?=(.*[a-zA-Z]){1,6})(?=(.*[0-9]){1,10})(?=(.*[!@#$%^&amp;*()\\-__+.]){0,1})</code></p>\n<p>But it don't work good when I have more than 6 char, 10 digits or 1 special character.</p>\n<p>Could anyone help me?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647857407,"creation_date":1647857407,"answer_id":71555854,"question_id":71553233,"body_markdown":"You need to two different classes. The first one would be, for example, `ViewOrderModel` class, which will hold the fields as `address`, `currentTime`, `documentID`, and so on.\r\n\r\nAnd the second one called `Product`:\r\n\r\n```\r\nclass Product {\r\n    String documentID, productName;\r\n    int productPrice, totalPrice, totalQuantity;\r\n}\r\n```\r\n\r\nWhich will hold the properties corresponding to the object that exists in the `itemList`. So your `ViewOrderModel` class should look like this:\r\n\r\n```\r\npublic class ViewOrderModel implements Serializable {\r\n    String userName,phoneNumber,currentTime,address,documentID,productName;\r\n    List&lt;Product&gt; itemList;\r\n            &#128070;\r\n}\r\n```","title":"android - how to display the array of object from Cloud FireStore in the RecyclerView","body":"<p>You need to two different classes. The first one would be, for example, <code>ViewOrderModel</code> class, which will hold the fields as <code>address</code>, <code>currentTime</code>, <code>documentID</code>, and so on.</p>\n<p>And the second one called <code>Product</code>:</p>\n<pre><code>class Product {\n    String documentID, productName;\n    int productPrice, totalPrice, totalQuantity;\n}\n</code></pre>\n<p>Which will hold the properties corresponding to the object that exists in the <code>itemList</code>. So your <code>ViewOrderModel</code> class should look like this:</p>\n<pre><code>public class ViewOrderModel implements Serializable {\n    String userName,phoneNumber,currentTime,address,documentID,productName;\n    List&lt;Product&gt; itemList;\n            👆\n}\n</code></pre>\n"}],"owner":{"account_id":22744963,"reputation":35,"user_id":16905868,"display_name":"James gonzales"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71555854,"answer_count":1,"score":0,"last_activity_date":1647857538,"creation_date":1647841385,"question_id":71553233,"body_markdown":"I&#39;m trying to display the data that I stored in the Cloud Firestore to a RecyclerView but when I run the application it displays all except the ```itemList``` only the ```map``` is being displayed\r\n\r\nI don&#39;t receive any error so it leads me to a bottleneck\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n**the code for my adapter**\r\n\r\n```\r\n\r\n    Context context;\r\n    List&lt;ViewOrderModel&gt; viewOrderModelList;\r\n\r\n    public ViewOrderAdapter(Context context, List&lt;ViewOrderModel&gt; viewOrderModelList) {\r\n        this.context = context;\r\n        this.viewOrderModelList = viewOrderModelList;\r\n    }\r\n\r\n   @Override\r\n    public void onBindViewHolder(@NonNull ViewOrderAdapter.ViewHolder holder, int position) {\r\n\r\n        holder.userName.setText(viewOrderModelList.get(position).getUserName());\r\n        holder.date.setText(viewOrderModelList.get(position).getCurrentTime());\r\n        holder.totalPrice.setText(String.valueOf(viewOrderModelList.get(position).getTotalPrice()));\r\n        holder.address.setText(viewOrderModelList.get(position).getAddress());\r\n        holder.phone.setText(viewOrderModelList.get(position).getPhoneNumber());\r\n\r\n        ViewOrderModel viewOrderModel = viewOrderModelList.get(position);\r\n        holder.productName.setText(viewOrderModel.getProductName());\r\n        holder.quantity.setText(String.valueOf(viewOrderModel.getTotalQuantity()));\r\n\r\n    }\r\n```\r\n\r\n**Model Class**\r\n\r\n```\r\npublic class ViewOrderModel implements Serializable {\r\n\r\n    String userName,phoneNumber,currentTime,address,documentID,productName;\r\n    long totalPrice;\r\n    List&lt;ViewOrderModel&gt; itemList;\r\n    int totalQuantity;\r\n```\r\n**Main Activity**\r\n```\r\n\r\n        order_rec = findViewById(R.id.admin_view_order_rec);\r\n        order_rec.setLayoutManager(new LinearLayoutManager(this,RecyclerView.VERTICAL,false));\r\n        viewOrderModelList = new ArrayList&lt;&gt;();\r\n        viewOrderAdapter = new ViewOrderAdapter(this,viewOrderModelList);\r\n        order_rec.setAdapter(viewOrderAdapter);\r\n        firestore.collection(&quot;UserOrder&quot;)\r\n                .get()\r\n                .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\r\n                        if (!queryDocumentSnapshots.isEmpty()){\r\n                            List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\r\n                            for (DocumentSnapshot docSnap : list) {\r\n                                ViewOrderModel orderModel = docSnap.toObject(ViewOrderModel.class);\r\n                                viewOrderModelList.add(orderModel);\r\n                            }\r\n                            viewOrderAdapter.notifyDataSetChanged();\r\n                        }\r\n                    }\r\n                });\r\n```\r\n\r\nIs there a way to display the data or any other way different for what I&#39;m doing in my codes\r\n\r\n  [1]: https://i.stack.imgur.com/5y6O2.jpg\r\n  [2]: https://i.stack.imgur.com/LZBJD.jpg","title":"android - how to display the array of object from Cloud FireStore in the RecyclerView","body":"<p>I'm trying to display the data that I stored in the Cloud Firestore to a RecyclerView but when I run the application it displays all except the <code>itemList</code> only the <code>map</code> is being displayed</p>\n<p>I don't receive any error so it leads me to a bottleneck</p>\n<p><a href=\"https://i.stack.imgur.com/5y6O2.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5y6O2.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/LZBJD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LZBJD.jpg\" alt=\"enter image description here\" /></a></p>\n<p><strong>the code for my adapter</strong></p>\n<pre><code>\n    Context context;\n    List&lt;ViewOrderModel&gt; viewOrderModelList;\n\n    public ViewOrderAdapter(Context context, List&lt;ViewOrderModel&gt; viewOrderModelList) {\n        this.context = context;\n        this.viewOrderModelList = viewOrderModelList;\n    }\n\n   @Override\n    public void onBindViewHolder(@NonNull ViewOrderAdapter.ViewHolder holder, int position) {\n\n        holder.userName.setText(viewOrderModelList.get(position).getUserName());\n        holder.date.setText(viewOrderModelList.get(position).getCurrentTime());\n        holder.totalPrice.setText(String.valueOf(viewOrderModelList.get(position).getTotalPrice()));\n        holder.address.setText(viewOrderModelList.get(position).getAddress());\n        holder.phone.setText(viewOrderModelList.get(position).getPhoneNumber());\n\n        ViewOrderModel viewOrderModel = viewOrderModelList.get(position);\n        holder.productName.setText(viewOrderModel.getProductName());\n        holder.quantity.setText(String.valueOf(viewOrderModel.getTotalQuantity()));\n\n    }\n</code></pre>\n<p><strong>Model Class</strong></p>\n<pre><code>public class ViewOrderModel implements Serializable {\n\n    String userName,phoneNumber,currentTime,address,documentID,productName;\n    long totalPrice;\n    List&lt;ViewOrderModel&gt; itemList;\n    int totalQuantity;\n</code></pre>\n<p><strong>Main Activity</strong></p>\n<pre><code>\n        order_rec = findViewById(R.id.admin_view_order_rec);\n        order_rec.setLayoutManager(new LinearLayoutManager(this,RecyclerView.VERTICAL,false));\n        viewOrderModelList = new ArrayList&lt;&gt;();\n        viewOrderAdapter = new ViewOrderAdapter(this,viewOrderModelList);\n        order_rec.setAdapter(viewOrderAdapter);\n        firestore.collection(&quot;UserOrder&quot;)\n                .get()\n                .addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n                    @Override\n                    public void onSuccess(QuerySnapshot queryDocumentSnapshots) {\n                        if (!queryDocumentSnapshots.isEmpty()){\n                            List&lt;DocumentSnapshot&gt; list = queryDocumentSnapshots.getDocuments();\n                            for (DocumentSnapshot docSnap : list) {\n                                ViewOrderModel orderModel = docSnap.toObject(ViewOrderModel.class);\n                                viewOrderModelList.add(orderModel);\n                            }\n                            viewOrderAdapter.notifyDataSetChanged();\n                        }\n                    }\n                });\n</code></pre>\n<p>Is there a way to display the data or any other way different for what I'm doing in my codes</p>\n"},{"tags":["java","android","android-studio","android-displaymanager"],"comments":[{"owner":{"account_id":6197875,"reputation":2180,"user_id":4828650,"display_name":"Dinkar Kumar"},"score":0,"creation_date":1620109689,"post_id":67239537,"comment_id":119096335,"body_markdown":"do you want explanation for the accepted solution of the question you are referring to?","body":"do you want explanation for the accepted solution of the question you are referring to?"},{"owner":{"account_id":15965301,"reputation":1088,"user_id":11521157,"display_name":"CodingChap"},"score":0,"creation_date":1620141094,"post_id":67239537,"comment_id":119110007,"body_markdown":"Hi, my question is this: How are DisplayMetrics and Display different? In the docs, it describes them as both tools that provide the size of a Display. Or is DisplayMetrics used as a parameter for Display? Thanks!","body":"Hi, my question is this: How are DisplayMetrics and Display different? In the docs, it describes them as both tools that provide the size of a Display. Or is DisplayMetrics used as a parameter for Display? Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":17317295,"reputation":160,"user_id":12543430,"display_name":"D_K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619245095,"creation_date":1619242635,"answer_id":67239641,"question_id":67239537,"body_markdown":"This is how you can display height and width of the screen\r\n\r\n    try{\r\n        DisplayMetrics displayMetrics = new DisplayMetrics();\r\n                getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\r\n                int height = displayMetrics.heightPixels;\r\n                int width = displayMetrics.widthPixels;\r\n    \r\n        Log.e(&quot;test&quot;,&quot;Height : &quot; + height + &quot; width : &quot; + width);\r\n    }\r\n    catch(Exception e){\r\n    Log.e(&quot;test&quot;,&quot;exception : &quot; + e.toString());\r\n    }","title":"How can you display screen size in Android Studio(simple way)?","body":"<p>This is how you can display height and width of the screen</p>\n<pre><code>try{\n    DisplayMetrics displayMetrics = new DisplayMetrics();\n            getWindowManager().getDefaultDisplay().getMetrics(displayMetrics);\n            int height = displayMetrics.heightPixels;\n            int width = displayMetrics.widthPixels;\n\n    Log.e(&quot;test&quot;,&quot;Height : &quot; + height + &quot; width : &quot; + width);\n}\ncatch(Exception e){\nLog.e(&quot;test&quot;,&quot;exception : &quot; + e.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9071690,"reputation":1810,"user_id":10355640,"display_name":"Muhammed naseef Koppilakkal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647857446,"creation_date":1647857446,"answer_id":71555861,"question_id":67239537,"body_markdown":"    val windowMetrics = requireActivity().windowManager.currentWindowMetrics\r\n    val displayMetrics = resources.displayMetrics\r\n\r\n    val pxHeight = windowMetrics.bounds.height()\r\n    val pxWidth  = windowMetrics.bounds.width()\r\n\r\n    val density  = displayMetrics.density\r\n\r\n    val dpHeight = pxHeight/density\r\n    val dpWidth  = pxWidth/density","title":"How can you display screen size in Android Studio(simple way)?","body":"<pre><code>val windowMetrics = requireActivity().windowManager.currentWindowMetrics\nval displayMetrics = resources.displayMetrics\n\nval pxHeight = windowMetrics.bounds.height()\nval pxWidth  = windowMetrics.bounds.width()\n\nval density  = displayMetrics.density\n\nval dpHeight = pxHeight/density\nval dpWidth  = pxWidth/density\n</code></pre>\n"}],"owner":{"account_id":15965301,"reputation":1088,"user_id":11521157,"display_name":"CodingChap"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":325,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647857446,"creation_date":1619241395,"question_id":67239537,"body_markdown":"I&#39;m trying to display the screen width and height to logcat. \r\n\r\nI have seen this stack overflow post: https://stackoverflow.com/questions/63407883/getting-screen-width-on-api-level-30-android-11-getdefaultdisplay-and-getme\r\n\r\nBut the accepted solution is confusing and complicated for someone like me new to `DisplayMetrics` and `Display` in Android Studio.\r\n\r\nCurrently, I know how to do it this way: \r\n\r\n    public class ScreenUtility {\r\n        private Activity activity;\r\n        private Float dpHeight, dpWidth;\r\n    \r\n        public ScreenUtility(Activity activity) {\r\n            this.activity = activity;\r\n    \r\n            Display display = activity.getWindowManager().getDefaultDisplay();\r\n            DisplayMetrics displayMetrics = new DisplayMetrics();\r\n    \r\n            display.getMetrics(displayMetrics);\r\n            float density = activity.getResources().getDisplayMetrics().density;\r\n    \r\n            dpHeight = displayMetrics.heightPixels / density;\r\n            dpHeight = displayMetrics.widthPixels / density;\r\n    \r\n        }\r\n    \r\n    \r\n        public Float getDpHeight() {\r\n            return dpHeight;\r\n        }\r\n    \r\n        public Float getDpWidth() {\r\n            return dpWidth;\r\n        }\r\n    }\r\n\r\nHowever, `.getMetrics` is deprecated. As a result, the code returns the width and heigh as `null`.\r\n\r\n1) (I am watching an older video on these concepts)**Is there any way I can change this code and adjust my knowledge to the modern methods of `Display` and `DisplayMetrics`?**\r\n\r\n2) **How are `DisplayMetrics` and `Display` different? In the docs, it describes them as both tools that provide the size of a Display. Or is `DisplayMetrics` used as a parameter for `Display`?**\r\n\r\nThanks!!","title":"How can you display screen size in Android Studio(simple way)?","body":"<p>I'm trying to display the screen width and height to logcat.</p>\n<p>I have seen this stack overflow post: <a href=\"https://stackoverflow.com/questions/63407883/getting-screen-width-on-api-level-30-android-11-getdefaultdisplay-and-getme\">Getting screen width on API Level 30 (Android 11): getDefaultDisplay() and getMetrics() are now deprecated. What should we use instead?</a></p>\n<p>But the accepted solution is confusing and complicated for someone like me new to <code>DisplayMetrics</code> and <code>Display</code> in Android Studio.</p>\n<p>Currently, I know how to do it this way:</p>\n<pre><code>public class ScreenUtility {\n    private Activity activity;\n    private Float dpHeight, dpWidth;\n\n    public ScreenUtility(Activity activity) {\n        this.activity = activity;\n\n        Display display = activity.getWindowManager().getDefaultDisplay();\n        DisplayMetrics displayMetrics = new DisplayMetrics();\n\n        display.getMetrics(displayMetrics);\n        float density = activity.getResources().getDisplayMetrics().density;\n\n        dpHeight = displayMetrics.heightPixels / density;\n        dpHeight = displayMetrics.widthPixels / density;\n\n    }\n\n\n    public Float getDpHeight() {\n        return dpHeight;\n    }\n\n    public Float getDpWidth() {\n        return dpWidth;\n    }\n}\n</code></pre>\n<p>However, <code>.getMetrics</code> is deprecated. As a result, the code returns the width and heigh as <code>null</code>.</p>\n<ol>\n<li><p>(I am watching an older video on these concepts)<strong>Is there any way I can change this code and adjust my knowledge to the modern methods of <code>Display</code> and <code>DisplayMetrics</code>?</strong></p>\n</li>\n<li><p><strong>How are <code>DisplayMetrics</code> and <code>Display</code> different? In the docs, it describes them as both tools that provide the size of a Display. Or is <code>DisplayMetrics</code> used as a parameter for <code>Display</code>?</strong></p>\n</li>\n</ol>\n<p>Thanks!!</p>\n"},{"tags":["java","multithreading","concurrency"],"comments":[{"owner":{"account_id":19833949,"reputation":1,"user_id":14527951,"display_name":"Aris"},"score":0,"creation_date":1647857236,"post_id":71555765,"comment_id":126467729,"body_markdown":"Yes, but this is not the point. I want the log print different thread name.","body":"Yes, but this is not the point. I want the log print different thread name."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1647857260,"post_id":71555765,"comment_id":126467741,"body_markdown":"It does. It prints several different producer threads&#39; names. If you&#39;re expecting a certain sequence or amount, then you have the wrong expectations.","body":"It does. It prints several different producer threads&#39; names. If you&#39;re expecting a certain sequence or amount, then you have the wrong expectations."},{"owner":{"account_id":19833949,"reputation":1,"user_id":14527951,"display_name":"Aris"},"score":0,"creation_date":1647857288,"post_id":71555765,"comment_id":126467755,"body_markdown":"Is there something wrong in my code?","body":"Is there something wrong in my code?"},{"owner":{"account_id":19833949,"reputation":1,"user_id":14527951,"display_name":"Aris"},"score":0,"creation_date":1647857352,"post_id":71555765,"comment_id":126467784,"body_markdown":"I don&#39;t understand why producer-2 is missing?","body":"I don&#39;t understand why producer-2 is missing?"},{"owner":{"account_id":19833949,"reputation":1,"user_id":14527951,"display_name":"Aris"},"score":0,"creation_date":1647857414,"post_id":71555765,"comment_id":126467800,"body_markdown":"This is the project name. The thread name is behind it.","body":"This is the project name. The thread name is behind it."},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1647857561,"post_id":71555765,"comment_id":126467846,"body_markdown":"@Kayaman he&#39;s not expecting a sequence. It&#39;s a basic for loop that launches and names threads so he is not expecting any duplicates in naming nor any missing producers like producer-2.","body":"@Kayaman he&#39;s not expecting a sequence. It&#39;s a basic for loop that launches and names threads so he is not expecting any duplicates in naming nor any missing producers like producer-2."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":3,"creation_date":1647858040,"post_id":71555765,"comment_id":126468008,"body_markdown":"A producer thread only logs something if it was the thread that added the 10th item to the list. There is no guarantee that every thread will have the chance to add the 10th item into the list - maybe everytime `producer-2` runs it will add the first item to an empty list.","body":"A producer thread only logs something if it was the thread that added the 10th item to the list. There is no guarantee that every thread will have the chance to add the 10th item into the list - maybe everytime <code>producer-2</code> runs it will add the first item to an empty list."},{"owner":{"account_id":19833949,"reputation":1,"user_id":14527951,"display_name":"Aris"},"score":0,"creation_date":1647858198,"post_id":71555765,"comment_id":126468070,"body_markdown":"But the total thread is always 20. Why some thread execute more than one time?","body":"But the total thread is always 20. Why some thread execute more than one time?"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1647858435,"post_id":71555765,"comment_id":126468165,"body_markdown":"You seem to assume that scheduling is always perfectly fair and without variance. That&#39;s not the case. Some of your threads could just happen to be scheduled for more activity than others, for reasons that are various and at your point in learning should probably just be summarized as &quot;OS and CPU magic&quot;. By executing stuff in multiple threads you give up the total control over who does what exactly when. If you need that, then write single-threaded code (or learn **a lot more** about multithreading).","body":"You seem to assume that scheduling is always perfectly fair and without variance. That&#39;s not the case. Some of your threads could just happen to be scheduled for more activity than others, for reasons that are various and at your point in learning should probably just be summarized as &quot;OS and CPU magic&quot;. By executing stuff in multiple threads you give up the total control over who does what exactly when. If you need that, then write single-threaded code (or learn <b>a lot more</b> about multithreading)."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1647858491,"post_id":71555765,"comment_id":126468184,"body_markdown":"documentation of `notifyAll()`: *&quot;Wakes up all threads that are waiting ... The awakened threads will compete in the usual manner with any other threads that might be actively competing to synchronize on this object; for example, the awakened threads enjoy no reliable privilege or disadvantage in being the next thread to lock this object.&quot;*","body":"documentation of <code>notifyAll()</code>: <i>&quot;Wakes up all threads that are waiting ... The awakened threads will compete in the usual manner with any other threads that might be actively competing to synchronize on this object; for example, the awakened threads enjoy no reliable privilege or disadvantage in being the next thread to lock this object.&quot;</i>"},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1647861166,"post_id":71555765,"comment_id":126469186,"body_markdown":"It would be perfectly valid to schedule those threads in round-robin fashion: `producer-0` adds the first element, `producer-1` adds the second element, ... `producer-9` adds the 10th element and logs the values, followed by the consumer consuming everything. Then repeat this sequence 9 times, followed by a similar sequence with `producer-10` to `producer-19`. In such a case you would only see `producer-9` and `producer-19` in the log.","body":"It would be perfectly valid to schedule those threads in round-robin fashion: <code>producer-0</code> adds the first element, <code>producer-1</code> adds the second element, ... <code>producer-9</code> adds the 10th element and logs the values, followed by the consumer consuming everything. Then repeat this sequence 9 times, followed by a similar sequence with <code>producer-10</code> to <code>producer-19</code>. In such a case you would only see <code>producer-9</code> and <code>producer-19</code> in the log."},{"owner":{"account_id":19833949,"reputation":1,"user_id":14527951,"display_name":"Aris"},"score":0,"creation_date":1647914192,"post_id":71555765,"comment_id":126485887,"body_markdown":"But you still not explain my question yet...","body":"But you still not explain my question yet..."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1647949611,"post_id":71555765,"comment_id":126494737,"body_markdown":"They did explain. Now it’s your turn to read and understand. Besides that, there’s no sense in an expression like `Arrays.toString(list.toArray(new Integer[0]))`. It produces exactly the same output as a straight-forward `list.toString()`.","body":"They did explain. Now it’s your turn to read and understand. Besides that, there’s no sense in an expression like <code>Arrays.toString(list.toArray(new Integer[0]))</code>. It produces exactly the same output as a straight-forward <code>list.toString()</code>."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":1,"creation_date":1647955895,"post_id":71555765,"comment_id":126497194,"body_markdown":"_What&#39;s wrong in my code?_ From the log you cannot conclude whether a specific thread did run or not because you only log the thread name when the list reaches 10 elements and there is no guarantee that all threads will reach that mark (a thread could always be scheduled when the list is empty so that every time that thread executes `producer()` the size of the list is 1 when `list.size() == 10` is tested)","body":"<i>What&#39;s wrong in my code?</i> From the log you cannot conclude whether a specific thread did run or not because you only log the thread name when the list reaches 10 elements and there is no guarantee that all threads will reach that mark (a thread could always be scheduled when the list is empty so that every time that thread executes <code>producer()</code> the size of the list is 1 when <code>list.size() == 10</code> is tested)"}],"owner":{"account_id":19833949,"reputation":1,"user_id":14527951,"display_name":"Aris"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647857179,"creation_date":1647857006,"question_id":71555765,"body_markdown":"I&#39;m learning java concurrency. There is a strange question of my code. My code simply implement a producer and a consumer. When I setting a different thread name in the loop, but the log always print some same thread name. What&#39;s the reason about it? \r\n\r\n    package org.example.ch5._1_1;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.Random;\r\n    \r\n    import lombok.SneakyThrows;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    @Slf4j\r\n    public class WaitAndNotify {\r\n    \r\n    \tprivate final Object lock = new Object();\r\n    \r\n    \tprivate final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n    \tprivate final Random random = new Random();\r\n    \r\n    \tpublic void producer() throws InterruptedException {\r\n    \t\tsynchronized (lock) {\r\n    \t\t\twhile (list.size() == 10) {\r\n    \t\t\t\tlock.wait();\r\n    \t\t\t}\r\n    \t\t\tlist.add(random.nextInt(100));\r\n    \t\t\tif (list.size() == 10) {\r\n    \t\t\t\tlog.info(&quot;thread-{},{}&quot;, Thread.currentThread().getName(),\r\n    \t\t\t\t\t\tArrays.toString(list.toArray(new Integer[0])));\r\n    \t\t\t}\r\n    \t\t\tlock.notifyAll();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void consumer() throws InterruptedException {\r\n    \t\tsynchronized (lock) {\r\n    \t\t\twhile (list.size() &lt; 10) {\r\n    \t\t\t\tlock.wait();\r\n    \t\t\t}\r\n    \t\t\tlist.clear();\r\n    \t\t\tlock.notifyAll();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic class MyProducer implements Runnable {\r\n    \r\n    \t\tprivate final WaitAndNotify waitAndNotify;\r\n    \r\n    \t\tpublic MyProducer(WaitAndNotify waitAndNotify) {\r\n    \t\t\tthis.waitAndNotify = waitAndNotify;\r\n    \t\t}\r\n    \r\n    \t\t@SneakyThrows\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\tint i = 10;\r\n    \t\t\twhile (i &gt; 0) {\r\n    \t\t\t\twaitAndNotify.producer();\r\n    \t\t\t\ti--;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic class MyConsumer implements Runnable {\r\n    \r\n    \t\tprivate final WaitAndNotify waitAndNotify;\r\n    \r\n    \t\tpublic MyConsumer(WaitAndNotify waitAndNotify) {\r\n    \t\t\tthis.waitAndNotify = waitAndNotify;\r\n    \t\t}\r\n    \r\n    \t\t@SneakyThrows\r\n    \t\t@Override\r\n    \t\tpublic void run() {\r\n    \t\t\twhile (true) {\r\n    \t\t\t\twaitAndNotify.consumer();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tWaitAndNotify waitAndNotify = new WaitAndNotify();\r\n    \t\tRunnable runnable = new MyProducer(waitAndNotify);\r\n    \t\tfor (int i = 0; i &lt; 20; i++) {\r\n    \t\t\tThread producer = new Thread(runnable, &quot;producer-&quot; + i);\r\n    \t\t\tproducer.start();\r\n    \t\t}\r\n    \t\tThread consumer = new Thread(new MyConsumer(waitAndNotify), &quot;consumer&quot;);\r\n    \t\tconsumer.start();\r\n    \t}\r\n    }\r\n\r\n\r\nHere is my log. producer-17 appears 3 times and producer-11 appears 3 times. There is no producer-2 or producer-5 in the log. What&#39;s wrong in my code?\r\n\r\n    2022-03-21 17:32:42,014 INFO  [learning-concurrency][producer-0] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-0,[49, 96, 0, 43, 23, 6, 79, 44, 28, 21]\r\n    2022-03-21 17:32:42,019 INFO  [learning-concurrency][producer-17] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-17,[92, 56, 9, 43, 77, 24, 53, 74, 44, 85]\r\n    2022-03-21 17:32:42,019 INFO  [learning-concurrency][producer-1] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-1,[86, 11, 10, 58, 5, 86, 3, 68, 73, 24]\r\n    2022-03-21 17:32:42,020 INFO  [learning-concurrency][producer-17] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-17,[10, 9, 97, 41, 81, 35, 84, 0, 86, 12]\r\n    2022-03-21 17:32:42,020 INFO  [learning-concurrency][producer-3] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-3,[13, 90, 30, 45, 1, 8, 43, 68, 49, 26]\r\n    2022-03-21 17:32:42,020 INFO  [learning-concurrency][producer-17] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-17,[81, 19, 34, 58, 89, 66, 74, 76, 20, 5]\r\n    2022-03-21 17:32:42,021 INFO  [learning-concurrency][producer-4] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-4,[48, 60, 0, 36, 97, 9, 42, 44, 67, 81]\r\n    2022-03-21 17:32:42,021 INFO  [learning-concurrency][producer-16] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-16,[77, 38, 17, 63, 71, 7, 80, 64, 61, 19]\r\n    2022-03-21 17:32:42,021 INFO  [learning-concurrency][producer-6] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-6,[47, 56, 50, 7, 89, 45, 32, 91, 97, 66]\r\n    2022-03-21 17:32:42,022 INFO  [learning-concurrency][producer-16] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-16,[27, 96, 24, 85, 3, 28, 23, 21, 93, 72]\r\n    2022-03-21 17:32:42,022 INFO  [learning-concurrency][producer-7] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-7,[4, 95, 19, 95, 42, 9, 49, 5, 54, 8]\r\n    2022-03-21 17:32:42,022 INFO  [learning-concurrency][producer-13] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-13,[43, 81, 97, 19, 40, 65, 48, 32, 61, 77]\r\n    2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-14] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-14,[67, 81, 84, 11, 73, 71, 65, 26, 78, 45]\r\n    2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-12] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-12,[54, 48, 67, 88, 0, 78, 99, 12, 49, 84]\r\n    2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-7] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-7,[58, 66, 53, 39, 14, 64, 2, 57, 27, 91]\r\n    2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-11] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-11,[91, 79, 70, 36, 34, 28, 63, 67, 17, 77]\r\n    2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-10] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-10,[2, 76, 42, 92, 91, 87, 64, 20, 25, 3]\r\n    2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-9] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-9,[46, 57, 98, 0, 28, 68, 63, 71, 97, 54]\r\n    2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-11] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-11,[26, 66, 10, 77, 69, 41, 77, 80, 21, 55]\r\n    2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-11] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-11,[94, 97, 84, 87, 85, 53, 77, 88, 79, 84]","title":"Why java thread has the same thread name?","body":"<p>I'm learning java concurrency. There is a strange question of my code. My code simply implement a producer and a consumer. When I setting a different thread name in the loop, but the log always print some same thread name. What's the reason about it?</p>\n<pre><code>package org.example.ch5._1_1;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.Random;\n\nimport lombok.SneakyThrows;\nimport lombok.extern.slf4j.Slf4j;\n\n@Slf4j\npublic class WaitAndNotify {\n\n    private final Object lock = new Object();\n\n    private final List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n\n    private final Random random = new Random();\n\n    public void producer() throws InterruptedException {\n        synchronized (lock) {\n            while (list.size() == 10) {\n                lock.wait();\n            }\n            list.add(random.nextInt(100));\n            if (list.size() == 10) {\n                log.info(&quot;thread-{},{}&quot;, Thread.currentThread().getName(),\n                        Arrays.toString(list.toArray(new Integer[0])));\n            }\n            lock.notifyAll();\n        }\n    }\n\n    public void consumer() throws InterruptedException {\n        synchronized (lock) {\n            while (list.size() &lt; 10) {\n                lock.wait();\n            }\n            list.clear();\n            lock.notifyAll();\n        }\n    }\n\n    static class MyProducer implements Runnable {\n\n        private final WaitAndNotify waitAndNotify;\n\n        public MyProducer(WaitAndNotify waitAndNotify) {\n            this.waitAndNotify = waitAndNotify;\n        }\n\n        @SneakyThrows\n        @Override\n        public void run() {\n            int i = 10;\n            while (i &gt; 0) {\n                waitAndNotify.producer();\n                i--;\n            }\n        }\n    }\n\n    static class MyConsumer implements Runnable {\n\n        private final WaitAndNotify waitAndNotify;\n\n        public MyConsumer(WaitAndNotify waitAndNotify) {\n            this.waitAndNotify = waitAndNotify;\n        }\n\n        @SneakyThrows\n        @Override\n        public void run() {\n            while (true) {\n                waitAndNotify.consumer();\n            }\n        }\n    }\n\n    public static void main(String[] args) {\n        WaitAndNotify waitAndNotify = new WaitAndNotify();\n        Runnable runnable = new MyProducer(waitAndNotify);\n        for (int i = 0; i &lt; 20; i++) {\n            Thread producer = new Thread(runnable, &quot;producer-&quot; + i);\n            producer.start();\n        }\n        Thread consumer = new Thread(new MyConsumer(waitAndNotify), &quot;consumer&quot;);\n        consumer.start();\n    }\n}\n</code></pre>\n<p>Here is my log. producer-17 appears 3 times and producer-11 appears 3 times. There is no producer-2 or producer-5 in the log. What's wrong in my code?</p>\n<pre><code>2022-03-21 17:32:42,014 INFO  [learning-concurrency][producer-0] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-0,[49, 96, 0, 43, 23, 6, 79, 44, 28, 21]\n2022-03-21 17:32:42,019 INFO  [learning-concurrency][producer-17] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-17,[92, 56, 9, 43, 77, 24, 53, 74, 44, 85]\n2022-03-21 17:32:42,019 INFO  [learning-concurrency][producer-1] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-1,[86, 11, 10, 58, 5, 86, 3, 68, 73, 24]\n2022-03-21 17:32:42,020 INFO  [learning-concurrency][producer-17] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-17,[10, 9, 97, 41, 81, 35, 84, 0, 86, 12]\n2022-03-21 17:32:42,020 INFO  [learning-concurrency][producer-3] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-3,[13, 90, 30, 45, 1, 8, 43, 68, 49, 26]\n2022-03-21 17:32:42,020 INFO  [learning-concurrency][producer-17] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-17,[81, 19, 34, 58, 89, 66, 74, 76, 20, 5]\n2022-03-21 17:32:42,021 INFO  [learning-concurrency][producer-4] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-4,[48, 60, 0, 36, 97, 9, 42, 44, 67, 81]\n2022-03-21 17:32:42,021 INFO  [learning-concurrency][producer-16] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-16,[77, 38, 17, 63, 71, 7, 80, 64, 61, 19]\n2022-03-21 17:32:42,021 INFO  [learning-concurrency][producer-6] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-6,[47, 56, 50, 7, 89, 45, 32, 91, 97, 66]\n2022-03-21 17:32:42,022 INFO  [learning-concurrency][producer-16] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-16,[27, 96, 24, 85, 3, 28, 23, 21, 93, 72]\n2022-03-21 17:32:42,022 INFO  [learning-concurrency][producer-7] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-7,[4, 95, 19, 95, 42, 9, 49, 5, 54, 8]\n2022-03-21 17:32:42,022 INFO  [learning-concurrency][producer-13] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-13,[43, 81, 97, 19, 40, 65, 48, 32, 61, 77]\n2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-14] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-14,[67, 81, 84, 11, 73, 71, 65, 26, 78, 45]\n2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-12] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-12,[54, 48, 67, 88, 0, 78, 99, 12, 49, 84]\n2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-7] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-7,[58, 66, 53, 39, 14, 64, 2, 57, 27, 91]\n2022-03-21 17:32:42,023 INFO  [learning-concurrency][producer-11] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-11,[91, 79, 70, 36, 34, 28, 63, 67, 17, 77]\n2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-10] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-10,[2, 76, 42, 92, 91, 87, 64, 20, 25, 3]\n2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-9] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-9,[46, 57, 98, 0, 28, 68, 63, 71, 97, 54]\n2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-11] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-11,[26, 66, 10, 77, 69, 41, 77, 80, 21, 55]\n2022-03-21 17:32:42,024 INFO  [learning-concurrency][producer-11] org.example.ch5._1_1.WaitAndNotify producer(33): thread-producer-11,[94, 97, 84, 87, 85, 53, 77, 88, 79, 84]\n</code></pre>\n"},{"tags":["java","spring","sql-server-2008","stored-procedures","jdbc"],"answers":[{"tags":[],"owner":{"account_id":2237265,"reputation":26976,"user_id":1973271,"accept_rate":100,"display_name":"flup"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1363289308,"creation_date":1363247024,"answer_id":15403701,"question_id":15403504,"body_markdown":"I was most ignorant, it does in fact work! You can specify both resultsets, with each its own mapper.\r\nIn code it looks like this:\r\n\r\n    SimpleJdbcCall call = new SimpleJdbcCall(this.jdbc)\r\n               .withProcedureName(&quot;get_users3&quot;)\r\n               .returningResultSet(&quot;rs1&quot;, new ParameterizedRowMapper&lt;Object[]&gt;()\r\n               {\r\n                  @Override\r\n                  public Object[] mapRow(ResultSet rs, int rowNum) throws SQLException\r\n                  {\r\n                     return new Object[] { rowNum, rs.getInt(1), rs.getString(2) };\r\n                  }\r\n               })\r\n               .returningResultSet(&quot;rs2&quot;, new ParameterizedRowMapper&lt;Object[]&gt;()\r\n               {\r\n                  @Override\r\n                  public Object[] mapRow(ResultSet rs, int rowNum) throws SQLException\r\n                  {\r\n                     return new Object[] { rowNum, rs.getInt(1), rs.getString(2) };\r\n                  }\r\n               });\r\n\r\n      Map&lt;String, Object&gt; res = call.execute();\r\n      assertNotNull(res.get(&quot;rs1&quot;));\r\n      assertNotNull(res.get(&quot;rs2&quot;));\r\n      List&lt;Object[]&gt; l1 = (List&lt;Object[]&gt;)res.get(&quot;rs1&quot;);\r\n      List&lt;Object[]&gt; l2 = (List&lt;Object[]&gt;)res.get(&quot;rs2&quot;);\r\n","title":"How to get multi table results of an stored procedure using SimpleJDBCCall in spring?","body":"<p>I was most ignorant, it does in fact work! You can specify both resultsets, with each its own mapper.\nIn code it looks like this:</p>\n\n<pre><code>SimpleJdbcCall call = new SimpleJdbcCall(this.jdbc)\n           .withProcedureName(\"get_users3\")\n           .returningResultSet(\"rs1\", new ParameterizedRowMapper&lt;Object[]&gt;()\n           {\n              @Override\n              public Object[] mapRow(ResultSet rs, int rowNum) throws SQLException\n              {\n                 return new Object[] { rowNum, rs.getInt(1), rs.getString(2) };\n              }\n           })\n           .returningResultSet(\"rs2\", new ParameterizedRowMapper&lt;Object[]&gt;()\n           {\n              @Override\n              public Object[] mapRow(ResultSet rs, int rowNum) throws SQLException\n              {\n                 return new Object[] { rowNum, rs.getInt(1), rs.getString(2) };\n              }\n           });\n\n  Map&lt;String, Object&gt; res = call.execute();\n  assertNotNull(res.get(\"rs1\"));\n  assertNotNull(res.get(\"rs2\"));\n  List&lt;Object[]&gt; l1 = (List&lt;Object[]&gt;)res.get(\"rs1\");\n  List&lt;Object[]&gt; l2 = (List&lt;Object[]&gt;)res.get(\"rs2\");\n</code></pre>\n"}],"owner":{"account_id":2247170,"reputation":21,"user_id":1980260,"display_name":"user1980260"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9503,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647857015,"creation_date":1363246182,"question_id":15403504,"body_markdown":"I&#39;m implementing a `Spring`+ `MSSQL Server 2008` application.\r\nI use `SimpleJDBCCall` API to execute stored procedures and retrieve results.\r\n\r\nFor stored procedures with mono table results, it works fine, but I don&#39;t know how to \r\nuse it for procedures with multi table results.\r\n\r\nSample procedure body:\r\n\r\nmulti table results\r\n\r\n        SELECT * FROM TABLE1\r\n        SELECT * FROM TABLE2","title":"How to get multi table results of an stored procedure using SimpleJDBCCall in spring?","body":"<p>I'm implementing a <code>Spring</code>+ <code>MSSQL Server 2008</code> application.\nI use <code>SimpleJDBCCall</code> API to execute stored procedures and retrieve results.</p>\n\n<p>For stored procedures with mono table results, it works fine, but I don't know how to \nuse it for procedures with multi table results.</p>\n\n<p>Sample procedure body:</p>\n\n<p>multi table results</p>\n\n<pre><code>    SELECT * FROM TABLE1\n    SELECT * FROM TABLE2\n</code></pre>\n"},{"tags":["java","algorithm","recursion","collections","java.util.scanner"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647856649,"creation_date":1646763384,"answer_id":71399740,"question_id":71399330,"body_markdown":"First of all, quick recap on **recursion**.\r\n\r\nEvery recursive method consists of **two parts**:\r\n\r\n* **Base case** - that represents a simple edge-case (condition when recursion terminates) for which the outcome is known in advance. \r\n* **Recursive case** - a part of a solution where *recursive calls* are made and where the main *logic* resides.\r\n\r\nYou can extract the code responsible for reading the **user input** into a separate method and substitute the `while` loop with the recursive call.\r\n\r\nThe **base case** is represented by two situations: `sc.hasNext()` yields `false` and user input is equal to `&quot;r&quot;`. Otherwise, the line will be added to queue and a new recursive call will be made.\r\n\r\nAnd printing the content from the queue could be done recursively as well. The **base case** for this method is when `reverse.hasNext()` returns `false`. In the **recursive case** the next element will be printed, and a subsequent recursive call will be made.\r\n\r\nSo in order to be able to use `Scanner` and `Queue` you can either pass them as parameters or make them accessible globally.\r\n\r\nBecause of the requirements for this task, `Scanner` and `Queue` are declared locally inside the method `readAndPrint()` and as parameters of the method `readInput()`.\r\n```\r\npublic class Main {\r\n\r\n    public void readAndPrint() {\r\n        Scanner sc = new Scanner(System.in);\r\n        Deque&lt;String&gt; deque = new LinkedList&lt;&gt;();\r\n        System.out.println(&quot;Enter your words (type R to reverse):&quot;);\r\n        readInput(sc, deque); // recursive helper-method that read from the console\r\n\r\n        System.out.println(&quot;\\n===== Reversed Lines =====\\n&quot;);\r\n        print(deque.descendingIterator()); // recursive helper-method that prints to the console\r\n    }\r\n\r\n    public static void print(Iterator&lt;String&gt; reverse) {\r\n        if (!reverse.hasNext()) { // base case\r\n            return;\r\n        }\r\n\r\n        System.out.println(reverse.next());\r\n        print(reverse); // recursive call\r\n    }\r\n\r\n    public void readInput(Scanner sc, Deque&lt;String&gt; deque) {\r\n        if (!sc.hasNext() &amp;&amp; sc.hasNextLine()) { // no more input on this line, but there&#39;s at least one more line\r\n            sc.nextLine(); // advance to the next line\r\n        }\r\n        if (!sc.hasNext()) { // base case\r\n            return;\r\n        }\r\n        String line = sc.next();\r\n        if (line.equalsIgnoreCase(&quot;r&quot;)) { // base case\r\n            return;\r\n        }\r\n        deque.add(line);\r\n        readInput(sc, deque); // recursive call\r\n    }\r\n    \r\n    public static void main(String[] args) {\r\n        ri.readAndPrint();\r\n    }\r\n}\r\n```\r\n**Output**\r\n```\r\nHumpty Dumpty    // multyline input\r\nsat on a wall R\r\n\r\n===== Reversed Lines =====\r\n\r\nwall\r\na\r\non\r\nsat\r\nDumpty\r\nHumpty\r\n```","title":"How to do the the same thing recursively and still using Scanner and a Collection?","body":"<p>First of all, quick recap on <strong>recursion</strong>.</p>\n<p>Every recursive method consists of <strong>two parts</strong>:</p>\n<ul>\n<li><strong>Base case</strong> - that represents a simple edge-case (condition when recursion terminates) for which the outcome is known in advance.</li>\n<li><strong>Recursive case</strong> - a part of a solution where <em>recursive calls</em> are made and where the main <em>logic</em> resides.</li>\n</ul>\n<p>You can extract the code responsible for reading the <strong>user input</strong> into a separate method and substitute the <code>while</code> loop with the recursive call.</p>\n<p>The <strong>base case</strong> is represented by two situations: <code>sc.hasNext()</code> yields <code>false</code> and user input is equal to <code>&quot;r&quot;</code>. Otherwise, the line will be added to queue and a new recursive call will be made.</p>\n<p>And printing the content from the queue could be done recursively as well. The <strong>base case</strong> for this method is when <code>reverse.hasNext()</code> returns <code>false</code>. In the <strong>recursive case</strong> the next element will be printed, and a subsequent recursive call will be made.</p>\n<p>So in order to be able to use <code>Scanner</code> and <code>Queue</code> you can either pass them as parameters or make them accessible globally.</p>\n<p>Because of the requirements for this task, <code>Scanner</code> and <code>Queue</code> are declared locally inside the method <code>readAndPrint()</code> and as parameters of the method <code>readInput()</code>.</p>\n<pre><code>public class Main {\n\n    public void readAndPrint() {\n        Scanner sc = new Scanner(System.in);\n        Deque&lt;String&gt; deque = new LinkedList&lt;&gt;();\n        System.out.println(&quot;Enter your words (type R to reverse):&quot;);\n        readInput(sc, deque); // recursive helper-method that read from the console\n\n        System.out.println(&quot;\\n===== Reversed Lines =====\\n&quot;);\n        print(deque.descendingIterator()); // recursive helper-method that prints to the console\n    }\n\n    public static void print(Iterator&lt;String&gt; reverse) {\n        if (!reverse.hasNext()) { // base case\n            return;\n        }\n\n        System.out.println(reverse.next());\n        print(reverse); // recursive call\n    }\n\n    public void readInput(Scanner sc, Deque&lt;String&gt; deque) {\n        if (!sc.hasNext() &amp;&amp; sc.hasNextLine()) { // no more input on this line, but there's at least one more line\n            sc.nextLine(); // advance to the next line\n        }\n        if (!sc.hasNext()) { // base case\n            return;\n        }\n        String line = sc.next();\n        if (line.equalsIgnoreCase(&quot;r&quot;)) { // base case\n            return;\n        }\n        deque.add(line);\n        readInput(sc, deque); // recursive call\n    }\n    \n    public static void main(String[] args) {\n        ri.readAndPrint();\n    }\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>Humpty Dumpty    // multyline input\nsat on a wall R\n\n===== Reversed Lines =====\n\nwall\na\non\nsat\nDumpty\nHumpty\n</code></pre>\n"}],"owner":{"account_id":20880904,"reputation":23,"user_id":15338650,"display_name":"rotibakar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71399740,"answer_count":1,"score":0,"last_activity_date":1647856649,"creation_date":1646761308,"question_id":71399330,"body_markdown":"Here&#39;s the code I have created using the collection and the scanner parameters. I&#39;ve been so confused to combine it into recursive, I used iteration. \r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        Deque deque = new LinkedList&lt;&gt;();\r\n    \r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.println(&quot;Enter your words (type R to reverse):&quot;);\r\n    \r\n        while(sc.hasNext()) {\r\n          String line = sc.next();\r\n          if(line.toLowerCase().equals(&quot;r&quot;)) {\r\n            break;\r\n          }\r\n          deque.add(line);\r\n        }\r\n    \r\n        System.out.println(&quot;\\n===== Reversed Lines =====\\n&quot;);        \r\n    \r\n        Iterator reverse = deque.descendingIterator();\r\n        while (reverse.hasNext()) {\r\n          System.out.println(reverse.next());\r\n        }\r\n      }\r\n    }","title":"How to do the the same thing recursively and still using Scanner and a Collection?","body":"<p>Here's the code I have created using the collection and the scanner parameters. I've been so confused to combine it into recursive, I used iteration.</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    Deque deque = new LinkedList&lt;&gt;();\n\n    Scanner sc = new Scanner(System.in);\n    System.out.println(&quot;Enter your words (type R to reverse):&quot;);\n\n    while(sc.hasNext()) {\n      String line = sc.next();\n      if(line.toLowerCase().equals(&quot;r&quot;)) {\n        break;\n      }\n      deque.add(line);\n    }\n\n    System.out.println(&quot;\\n===== Reversed Lines =====\\n&quot;);        \n\n    Iterator reverse = deque.descendingIterator();\n    while (reverse.hasNext()) {\n      System.out.println(reverse.next());\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","heroku"],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521059998,"creation_date":1521059998,"answer_id":49287256,"question_id":49287187,"body_markdown":"It&#39;s just a property file named `system`. It has no special meaning unless something reads that file and does something based on the contents (like in this case Heroku).\r\n\r\nSo it&#39;s a standard in the sense that property files contain key-value pairs like that, but `system.properties` is not a &quot;Java wide&quot; standard.","title":"is system.properties only a Heroku thing?","body":"<p>It's just a property file named <code>system</code>. It has no special meaning unless something reads that file and does something based on the contents (like in this case Heroku).</p>\n\n<p>So it's a standard in the sense that property files contain key-value pairs like that, but <code>system.properties</code> is not a \"Java wide\" standard.</p>\n"},{"tags":[],"owner":{"account_id":2818342,"reputation":299856,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521060142,"creation_date":1521060142,"answer_id":49287282,"question_id":49287187,"body_markdown":"`system.properties` is part of the Heroku configuration. Among other things, it allows you to specify the Java version you&#39;d be using (i.e., which java binary will run your code), so it cannot be part of Java itself.","title":"is system.properties only a Heroku thing?","body":"<p><code>system.properties</code> is part of the Heroku configuration. Among other things, it allows you to specify the Java version you'd be using (i.e., which java binary will run your code), so it cannot be part of Java itself.</p>\n"}],"owner":{"account_id":411088,"reputation":8630,"user_id":783314,"accept_rate":67,"display_name":"Stephen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1647856438,"creation_date":1521059702,"question_id":49287187,"body_markdown":"This is super hard to Google for because it removes the &quot;.&quot;. I&#39;m new to Java and setting up a Java app in Heroku. There is a file `system.properties` that lets us specify the Java version we want to use.\r\n\r\nThe contents are like:\r\n\r\n    java.runtime.version=1.8\r\n\r\nI&#39;m just wondering, who created the &quot;standard&quot; for having a system.properties file? Is that only used by Heroku? Or does that standard come from somewhere else in the Java world?","title":"is system.properties only a Heroku thing?","body":"<p>This is super hard to Google for because it removes the &quot;.&quot;. I'm new to Java and setting up a Java app in Heroku. There is a file <code>system.properties</code> that lets us specify the Java version we want to use.</p>\n<p>The contents are like:</p>\n<pre><code>java.runtime.version=1.8\n</code></pre>\n<p>I'm just wondering, who created the &quot;standard&quot; for having a system.properties file? Is that only used by Heroku? Or does that standard come from somewhere else in the Java world?</p>\n"},{"tags":["java","assertj"],"answers":[{"tags":[],"owner":{"account_id":1407336,"reputation":6523,"user_id":1348834,"display_name":"Joel Costigliola"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647856110,"creation_date":1647856110,"answer_id":71555573,"question_id":71539898,"body_markdown":"It is not possible at the moment because the error message built for `containsExactlyInAnyOrder` is not aware of the root cause of the assertion failure, in our case it does not know the comparison differences, it only knows that the assertion failed and build a generic error message.\r\n\r\nWe already have thought of supporting this use case but it is not straightforward to implement with the current way errors are designed.","title":"AssertJ Core, is it possible to get error message with actual field/property difference when checking iterables/arrays content?","body":"<p>It is not possible at the moment because the error message built for <code>containsExactlyInAnyOrder</code> is not aware of the root cause of the assertion failure, in our case it does not know the comparison differences, it only knows that the assertion failed and build a generic error message.</p>\n<p>We already have thought of supporting this use case but it is not straightforward to implement with the current way errors are designed.</p>\n"}],"owner":{"account_id":5353919,"reputation":37,"user_id":4267218,"display_name":"BruceB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1639,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71555573,"answer_count":1,"score":2,"last_activity_date":1647856110,"creation_date":1647706737,"question_id":71539898,"body_markdown":"In Assertj Core you can compare ojects field by field recursively.\r\n\r\nIn this test **address.countryCode** differ in the two objects:\r\n\r\n    @Test\r\n    public void shouldBeEqual() {\r\n        Person person1 = createPerson();\r\n        Person person2 = createPerson2();\r\n        assertThat(person1)\r\n                .usingRecursiveComparison()\r\n                .isEqualTo(person2);\r\n    }\r\n\r\nI get error gessage:\r\n\r\n    java.lang.AssertionError: \r\n    Expecting actual:\r\n      Person@4b44655e\r\n    to be equal to: \r\n      Person@290d210d\r\n    when recursively comparing field by field, but found the following difference:\r\n    \r\n    field/property &#39;address.countryCode&#39; differ:\r\n    - actual value  : &quot;US&quot;\r\n    - expected value: &quot;CA&quot;\r\n    \r\n    The recursive comparison was performed with this configuration:\r\n    - no overridden equals methods were used in the comparison (except for java types)\r\n    - these types were compared with the following comparators:\r\n      - java.lang.Double -&gt; DoubleComparator[precision=1.0E-15]\r\n      - java.lang.Float -&gt; FloatComparator[precision=1.0E-6]\r\n      - java.nio.file.Path -&gt; lexicographic comparator (Path natural order)\r\n    - actual and expected objects and their fields were compared field by field recursively even if they were not of the same type, this allows for example to compare a Person to a PersonDto (call strictTypeChecking(true) to change that behavior).\r\n\r\n\r\n\r\n\r\n\r\nWhen you get the actual field difference in the error message like above it is very helpful, but if I have a list and want to verify the content of the list:\r\n\r\n    @Test\r\n    public void shouldBeEqual2() {\r\n        List&lt;Person&gt; personList = List.of(createPerson(), createPerson2());\r\n\r\n        assertThat(personList)\r\n                .hasSize(2)\r\n                .usingRecursiveFieldByFieldElementComparator()\r\n                .containsExactlyInAnyOrder(createPerson(), createPerson());\r\n    }\r\n\r\nI get error message:\r\n\r\n    java.lang.AssertionError: \r\n    Expecting actual:\r\n      [Person@4fe767f3, Person@18ce0030]\r\n    to contain exactly in any order:\r\n      [Person@2805c96b, Person@4445629]\r\n    elements not found:\r\n      [Person@4445629]\r\n    and elements not expected:\r\n      [Person@18ce0030]\r\n    when comparing values using recursive field/property by field/property comparator on all fields/properties using the following configuration:\r\n    - no overridden equals methods were used in the comparison (except for java types)\r\n    - these types were compared with the following comparators:\r\n      - java.lang.Double -&gt; DoubleComparator[precision=1.0E-15]\r\n      - java.lang.Float -&gt; FloatComparator[precision=1.0E-6]\r\n      - java.nio.file.Path -&gt; lexicographic comparator (Path natural order)\r\n    - actual and expected objects and their fields were compared field by field recursively even if they were not of the same type, this allows for example to compare a Person to a PersonDto (call strictTypeChecking(true) to change that behavior).\r\n\r\nIs it not possible to get the actual field difference here like in the first example? \r\n\r\n\r\n","title":"AssertJ Core, is it possible to get error message with actual field/property difference when checking iterables/arrays content?","body":"<p>In Assertj Core you can compare ojects field by field recursively.</p>\n<p>In this test <strong>address.countryCode</strong> differ in the two objects:</p>\n<pre><code>@Test\npublic void shouldBeEqual() {\n    Person person1 = createPerson();\n    Person person2 = createPerson2();\n    assertThat(person1)\n            .usingRecursiveComparison()\n            .isEqualTo(person2);\n}\n</code></pre>\n<p>I get error gessage:</p>\n<pre><code>java.lang.AssertionError: \nExpecting actual:\n  Person@4b44655e\nto be equal to: \n  Person@290d210d\nwhen recursively comparing field by field, but found the following difference:\n\nfield/property 'address.countryCode' differ:\n- actual value  : &quot;US&quot;\n- expected value: &quot;CA&quot;\n\nThe recursive comparison was performed with this configuration:\n- no overridden equals methods were used in the comparison (except for java types)\n- these types were compared with the following comparators:\n  - java.lang.Double -&gt; DoubleComparator[precision=1.0E-15]\n  - java.lang.Float -&gt; FloatComparator[precision=1.0E-6]\n  - java.nio.file.Path -&gt; lexicographic comparator (Path natural order)\n- actual and expected objects and their fields were compared field by field recursively even if they were not of the same type, this allows for example to compare a Person to a PersonDto (call strictTypeChecking(true) to change that behavior).\n</code></pre>\n<p>When you get the actual field difference in the error message like above it is very helpful, but if I have a list and want to verify the content of the list:</p>\n<pre><code>@Test\npublic void shouldBeEqual2() {\n    List&lt;Person&gt; personList = List.of(createPerson(), createPerson2());\n\n    assertThat(personList)\n            .hasSize(2)\n            .usingRecursiveFieldByFieldElementComparator()\n            .containsExactlyInAnyOrder(createPerson(), createPerson());\n}\n</code></pre>\n<p>I get error message:</p>\n<pre><code>java.lang.AssertionError: \nExpecting actual:\n  [Person@4fe767f3, Person@18ce0030]\nto contain exactly in any order:\n  [Person@2805c96b, Person@4445629]\nelements not found:\n  [Person@4445629]\nand elements not expected:\n  [Person@18ce0030]\nwhen comparing values using recursive field/property by field/property comparator on all fields/properties using the following configuration:\n- no overridden equals methods were used in the comparison (except for java types)\n- these types were compared with the following comparators:\n  - java.lang.Double -&gt; DoubleComparator[precision=1.0E-15]\n  - java.lang.Float -&gt; FloatComparator[precision=1.0E-6]\n  - java.nio.file.Path -&gt; lexicographic comparator (Path natural order)\n- actual and expected objects and their fields were compared field by field recursively even if they were not of the same type, this allows for example to compare a Person to a PersonDto (call strictTypeChecking(true) to change that behavior).\n</code></pre>\n<p>Is it not possible to get the actual field difference here like in the first example?</p>\n"},{"tags":["java","swing","user-interface"],"answers":[{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647854323,"creation_date":1647854323,"answer_id":71555232,"question_id":71554849,"body_markdown":"The problem is that the `Timer` method runs on a separate thread, different from your main thread.\r\n\r\nThe way I see it there are two possible solutions:\r\n- call your `startGame()` method inside `startCountdown()`, not inside `init()`;\r\n- the second solution would be to pause your main thread and wait for `startCountdown()` to finish, something like this should work:\r\n```\r\npublic void init() {\r\n    countdown.startCountdown();\r\n    countdown.getTimer().start();\r\n    // pause main thread until timer is notified\r\n    synchronized(timer){\r\n        timer.wait()\r\n        startGame();\r\n    }\r\n}\r\n\r\npublic void startCountdown() {\r\n    timer = new Timer(1000, new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            try {\r\n                if (sec == 0) {\r\n                    countdownIcons.get(0).setVisible(false);\r\n                    timer.stop();\r\n                    // notify your current thread that it can resume execution\r\n                    synchronized(timer){\r\n                         timer.notify();\r\n                    }\r\n                }\r\n                countdownIcons.get(sec - 1).setVisible(true);\r\n                countdownIcons.get(sec).setVisible(false);\r\n            // try not to catch this runtime exception and fix what causes IndexOutOfBoundsException \r\n            } catch (IndexOutOfBoundsException exception) {\r\n                if (sec == 0) {\r\n                    timer.stop();\r\n                }\r\n            }\r\n            sec--;\r\n            System.out.println(sec);\r\n        }\r\n    });\r\n}\r\n```","title":"How to get method to run after timer ends?","body":"<p>The problem is that the <code>Timer</code> method runs on a separate thread, different from your main thread.</p>\n<p>The way I see it there are two possible solutions:</p>\n<ul>\n<li>call your <code>startGame()</code> method inside <code>startCountdown()</code>, not inside <code>init()</code>;</li>\n<li>the second solution would be to pause your main thread and wait for <code>startCountdown()</code> to finish, something like this should work:</li>\n</ul>\n<pre><code>public void init() {\n    countdown.startCountdown();\n    countdown.getTimer().start();\n    // pause main thread until timer is notified\n    synchronized(timer){\n        timer.wait()\n        startGame();\n    }\n}\n\npublic void startCountdown() {\n    timer = new Timer(1000, new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            try {\n                if (sec == 0) {\n                    countdownIcons.get(0).setVisible(false);\n                    timer.stop();\n                    // notify your current thread that it can resume execution\n                    synchronized(timer){\n                         timer.notify();\n                    }\n                }\n                countdownIcons.get(sec - 1).setVisible(true);\n                countdownIcons.get(sec).setVisible(false);\n            // try not to catch this runtime exception and fix what causes IndexOutOfBoundsException \n            } catch (IndexOutOfBoundsException exception) {\n                if (sec == 0) {\n                    timer.stop();\n                }\n            }\n            sec--;\n            System.out.println(sec);\n        }\n    });\n}\n</code></pre>\n"}],"owner":{"account_id":23795568,"reputation":23,"user_id":17806452,"display_name":"Allan T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647855960,"creation_date":1647852405,"question_id":71554849,"body_markdown":"(V1) I have a countdown object that deals with displaying a countdown on the JFrame by using a timer. Once the countdown goes to 0, I want the timer to stop and the game to start. However, I realized that even when my countdown isn&#39;t finished, my `startGame()` method is being run, and I cannot find a solution to make it so that the `startGame()` method only runs after the timer is stopped. So, my question is: is there anyway to make sure the `startGame()` only runs AFTER the countdown hits zero?\r\n\r\n(V2) I tried using `countdown.getTimer.isRunning()`in the `init()` method to check whether or not the timer is running (if not then call `startGame()`) but that didn&#39;t seem to work. I&#39;m guessing this is because at the time the if block is called, the timer is still running, so that&#39;s why `startGame()` isn&#39;t called... Is this why?\r\n\r\nA little explanation of the code: the `startCountdown()` method tries to display the next image while hiding the last, so I have the catch for the first case where it tries to hide a non-existant image at an index that is out of bounds. Each time the timer ticks, I decrement sec by 1 until it is 0, and then the timer stops. \r\n\r\n\r\nV1\r\n   \r\n    public void init() {\r\n        countdown.startCountdown();\r\n        countdown.getTimer().start();\r\n        startGame();\r\n    }\r\n\r\n    public void startCountdown() {\r\n        timer = new Timer(1000, new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                try {\r\n                    if (sec == 0) {\r\n                        countdownIcons.get(0).setVisible(false);\r\n                        timer.stop();\r\n                    }\r\n                    countdownIcons.get(sec - 1).setVisible(true);\r\n                    countdownIcons.get(sec).setVisible(false);\r\n                } catch (IndexOutOfBoundsException exception) {\r\n                    if (sec == 0) {\r\n                        timer.stop();\r\n                    }\r\n                }\r\n                sec--;\r\n                System.out.println(sec);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nV2\r\n\r\n    public void init() {\r\n        countdown.startCountdown();\r\n        countdown.getTimer().start();\r\n        if (!countdown.getTimer().isRunning()) {\r\n            startGame();\r\n        }\r\n    }","title":"How to get method to run after timer ends?","body":"<p>(V1) I have a countdown object that deals with displaying a countdown on the JFrame by using a timer. Once the countdown goes to 0, I want the timer to stop and the game to start. However, I realized that even when my countdown isn't finished, my <code>startGame()</code> method is being run, and I cannot find a solution to make it so that the <code>startGame()</code> method only runs after the timer is stopped. So, my question is: is there anyway to make sure the <code>startGame()</code> only runs AFTER the countdown hits zero?</p>\n<p>(V2) I tried using <code>countdown.getTimer.isRunning()</code>in the <code>init()</code> method to check whether or not the timer is running (if not then call <code>startGame()</code>) but that didn't seem to work. I'm guessing this is because at the time the if block is called, the timer is still running, so that's why <code>startGame()</code> isn't called... Is this why?</p>\n<p>A little explanation of the code: the <code>startCountdown()</code> method tries to display the next image while hiding the last, so I have the catch for the first case where it tries to hide a non-existant image at an index that is out of bounds. Each time the timer ticks, I decrement sec by 1 until it is 0, and then the timer stops.</p>\n<p>V1</p>\n<pre><code>public void init() {\n    countdown.startCountdown();\n    countdown.getTimer().start();\n    startGame();\n}\n\npublic void startCountdown() {\n    timer = new Timer(1000, new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            try {\n                if (sec == 0) {\n                    countdownIcons.get(0).setVisible(false);\n                    timer.stop();\n                }\n                countdownIcons.get(sec - 1).setVisible(true);\n                countdownIcons.get(sec).setVisible(false);\n            } catch (IndexOutOfBoundsException exception) {\n                if (sec == 0) {\n                    timer.stop();\n                }\n            }\n            sec--;\n            System.out.println(sec);\n        }\n    });\n}\n</code></pre>\n<p>V2</p>\n<pre><code>public void init() {\n    countdown.startCountdown();\n    countdown.getTimer().start();\n    if (!countdown.getTimer().isRunning()) {\n        startGame();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate"],"comments":[{"owner":{"account_id":5745825,"reputation":11543,"user_id":4537090,"accept_rate":79,"display_name":"WesternGun"},"score":0,"creation_date":1647854177,"post_id":71554708,"comment_id":126466626,"body_markdown":"So, do you know how these metamodel classes are used? I used them once in CriteriaQuery. `FIRST_NAME` and so are used to refer to fields/columns in CriteriaQuery. And the meta model classes are generated by adding the dependency of hibernate model-gen in the pom. I guess these classes are meant to be used, and not studied(you can still investigate, but they are impl. details, I mean)","body":"So, do you know how these metamodel classes are used? I used them once in CriteriaQuery. <code>FIRST_NAME</code> and so are used to refer to fields/columns in CriteriaQuery. And the meta model classes are generated by adding the dependency of hibernate model-gen in the pom. I guess these classes are meant to be used, and not studied(you can still investigate, but they are impl. details, I mean)"},{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1647858243,"post_id":71554708,"comment_id":126468092,"body_markdown":"Does this answer your question? [Why JPA Hibernate Metamodel classes are used in Java app?](https://stackoverflow.com/questions/69912260/why-jpa-hibernate-metamodel-classes-are-used-in-java-app)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69912260/why-jpa-hibernate-metamodel-classes-are-used-in-java-app\">Why JPA Hibernate Metamodel classes are used in Java app?</a>"}],"owner":{"account_id":23516184,"reputation":337,"user_id":17564051,"display_name":"Oxana Grey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647855686,"creation_date":1647851490,"question_id":71554708,"body_markdown":"I&#39;m trying to understand how meta classes works. Here is one example\r\n\r\n        @Entity\r\n        @Table(name = &quot;students&quot;)\r\n        public class Student {\r\n            \r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.AUTO)\r\n            private int id;\r\n        \r\n            @Column(name = &quot;first_name&quot;)\r\n            private String firstName;\r\n        \r\n        }\r\n    \r\n    \r\n    @Generated(value = &quot;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&quot;)\r\n    @StaticMetamodel(Student.class)\r\n    public abstract class Student_ {\r\n    \r\n        public static volatile SingularAttribute&lt;Student, String&gt; firstName;\r\n        public static volatile SingularAttribute&lt;Student, Integer&gt; id;\r\n    \r\n        public static final String FIRST_NAME = &quot;firstName&quot;;\r\n        public static final String ID = &quot;id&quot;;\r\n    \r\n    }\r\n\r\nwant to know in generated meta class `Student_` for `Student`, what&#39;s a purpose of having 2 attributes for single ?\r\n\r\nFor example, lets say for firstName, there are two forms in meta class\r\n\r\n    public static volatile SingularAttribute&lt;Student, String&gt; firstName;\r\n    public static final String FIRST_NAME = &quot;firstName&quot;;\r\n\r\nIn what sense its required in generated class and how its being used internally ? What&#39;s a diff between `firstName` and `FIRST_NAME` ? which one to use when ?\r\n\r\n\r\nSecondly, Just writing `@Column(name = &quot;first_name&quot;)` wont work and not creating meta class like above ? because even am using `firstName` attribute at so many places, wouldn&#39;t be a good idea to just change in `col` name in annotation in case if change of col name happens in future ? Will it fulfill the essence of what generated `meta classes` are doing ? ","title":"How JPA Metamodel Classes works?","body":"<p>I'm trying to understand how meta classes works. Here is one example</p>\n<pre><code>    @Entity\n    @Table(name = &quot;students&quot;)\n    public class Student {\n        \n        @Id\n        @GeneratedValue(strategy = GenerationType.AUTO)\n        private int id;\n    \n        @Column(name = &quot;first_name&quot;)\n        private String firstName;\n    \n    }\n\n\n@Generated(value = &quot;org.hibernate.jpamodelgen.JPAMetaModelEntityProcessor&quot;)\n@StaticMetamodel(Student.class)\npublic abstract class Student_ {\n\n    public static volatile SingularAttribute&lt;Student, String&gt; firstName;\n    public static volatile SingularAttribute&lt;Student, Integer&gt; id;\n\n    public static final String FIRST_NAME = &quot;firstName&quot;;\n    public static final String ID = &quot;id&quot;;\n\n}\n</code></pre>\n<p>want to know in generated meta class <code>Student_</code> for <code>Student</code>, what's a purpose of having 2 attributes for single ?</p>\n<p>For example, lets say for firstName, there are two forms in meta class</p>\n<pre><code>public static volatile SingularAttribute&lt;Student, String&gt; firstName;\npublic static final String FIRST_NAME = &quot;firstName&quot;;\n</code></pre>\n<p>In what sense its required in generated class and how its being used internally ? What's a diff between <code>firstName</code> and <code>FIRST_NAME</code> ? which one to use when ?</p>\n<p>Secondly, Just writing <code>@Column(name = &quot;first_name&quot;)</code> wont work and not creating meta class like above ? because even am using <code>firstName</code> attribute at so many places, wouldn't be a good idea to just change in <code>col</code> name in annotation in case if change of col name happens in future ? Will it fulfill the essence of what generated <code>meta classes</code> are doing ?</p>\n"},{"tags":["java","unit-testing","junit","mockito","spy"],"answers":[{"tags":[],"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1646386598,"creation_date":1646386598,"answer_id":71349352,"question_id":71349090,"body_markdown":"You must always use your spy class when calling `method()`.\r\n\r\n \r\n\r\n       @Test\r\n        public void test_method(){\r\n            ActualClass spyActualClass = Mockito.spy(actualClassMock);\r\n    \r\n            doNothing().when(spyActualClass).validate(Mockito.any(), Mockito.any());\r\n            spyActualClass.method();\r\n        }\r\n\r\nIn practice, instead of \r\n\r\n    actualClassMock.method();\r\n\r\nyou must use\r\n\r\n    spyActualClass.method();","title":"Skipping a method execution using Mockito","body":"<p>You must always use your spy class when calling <code>method()</code>.</p>\n<pre><code>   @Test\n    public void test_method(){\n        ActualClass spyActualClass = Mockito.spy(actualClassMock);\n\n        doNothing().when(spyActualClass).validate(Mockito.any(), Mockito.any());\n        spyActualClass.method();\n    }\n</code></pre>\n<p>In practice, instead of</p>\n<pre><code>actualClassMock.method();\n</code></pre>\n<p>you must use</p>\n<pre><code>spyActualClass.method();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7308666,"reputation":63,"user_id":5737827,"display_name":"Keerthana Natarajan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647855673,"creation_date":1646663702,"answer_id":71382671,"question_id":71349090,"body_markdown":"In case of any external dependencies the following two annotations can be used at once. \r\n  @InjectMocks\r\n  @Spy\r\nThis will actually spy the original method.\r\nIf the method you want to skip exists in some other file, annotate the object of the class with @Spy in which the method to be skipped exists.\r\n  ","title":"Skipping a method execution using Mockito","body":"<p>In case of any external dependencies the following two annotations can be used at once.\n@InjectMocks\n@Spy\nThis will actually spy the original method.\nIf the method you want to skip exists in some other file, annotate the object of the class with @Spy in which the method to be skipped exists.</p>\n"}],"owner":{"account_id":7308666,"reputation":63,"user_id":5737827,"display_name":"Keerthana Natarajan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5562,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":71349352,"answer_count":2,"score":4,"last_activity_date":1647855673,"creation_date":1646385322,"question_id":71349090,"body_markdown":"I’m using Mockito for unit testing and I want to skip the execution of a method.\r\n\r\nI referred to this ticket https://stackoverflow.com/questions/55542010/skip-execution-of-a-line-using-mockito. Here, I assume doSomeTask() and createLink() methods are in different classes. But in my case, both the methods are in the same class (ActualClass.java).\r\n\r\n\t//Actual Class\r\n\t\r\n\tpublic class ActualClass{\r\n\t\t\r\n\t\t//The method being tested\r\n\t\tpublic void method(){\r\n\t\t\t//some business logic\r\n\t\t\tvalidate(param1, param2);\r\n\r\n\t\t\t//some business logic\r\n\t\t}\r\n\r\n\t\tpublic void validate(arg1, arg2){\r\n\t\t\t//do something\r\n\t\t}\r\n\t}\r\n\r\n\t//Test class\r\n\t\r\n\tpublic class ActualClassTest{\r\n\r\n\t\t@InjectMocks\r\n\t\tprivate ActualClass actualClassMock;\r\n\r\n\t\t@Test\r\n\t\tpublic void test_method(){\r\n\r\n\t\t\tActualClass actualClass = new ActualClass();\r\n\t\t\tActualClass spyActualClass = Mockito.spy(actualClass);\r\n\r\n\t\t\t// validate method creates a null pointer exception, due to some real time data fetch from elastic\r\n\t\r\n\t\t\tdoNothing().when(spyActualClass).validate(Mockito.any(), Mockito.any());\r\n\t\t\tactualClassMock.method();\r\n\t\t}\r\n\t}\r\n\r\nSince there arises a null pointer exception when the validate method is executed, I’m trying to skip the method call by spying the ActualClass object as stated in the ticket I mentioned above. Still, the issue is not resolve. The validate method gets executed and creates a null pointer exception due to which the actual test method cannot be covered. \r\n\r\nSo, how do I skip the execution of the validate() method that is within the same class.","title":"Skipping a method execution using Mockito","body":"<p>I’m using Mockito for unit testing and I want to skip the execution of a method.</p>\n<p>I referred to this ticket <a href=\"https://stackoverflow.com/questions/55542010/skip-execution-of-a-line-using-mockito\">Skip execution of a line using Mockito</a>. Here, I assume doSomeTask() and createLink() methods are in different classes. But in my case, both the methods are in the same class (ActualClass.java).</p>\n<pre><code>//Actual Class\n\npublic class ActualClass{\n    \n    //The method being tested\n    public void method(){\n        //some business logic\n        validate(param1, param2);\n\n        //some business logic\n    }\n\n    public void validate(arg1, arg2){\n        //do something\n    }\n}\n\n//Test class\n\npublic class ActualClassTest{\n\n    @InjectMocks\n    private ActualClass actualClassMock;\n\n    @Test\n    public void test_method(){\n\n        ActualClass actualClass = new ActualClass();\n        ActualClass spyActualClass = Mockito.spy(actualClass);\n\n        // validate method creates a null pointer exception, due to some real time data fetch from elastic\n\n        doNothing().when(spyActualClass).validate(Mockito.any(), Mockito.any());\n        actualClassMock.method();\n    }\n}\n</code></pre>\n<p>Since there arises a null pointer exception when the validate method is executed, I’m trying to skip the method call by spying the ActualClass object as stated in the ticket I mentioned above. Still, the issue is not resolve. The validate method gets executed and creates a null pointer exception due to which the actual test method cannot be covered.</p>\n<p>So, how do I skip the execution of the validate() method that is within the same class.</p>\n"},{"tags":["java","spring","spring-boot","spring-hateoas"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1647855202,"creation_date":1646782492,"answer_id":71402700,"question_id":71374318,"body_markdown":"The compiler is reporting that the type parameter `D` is not within its bound in your definition:\r\n\r\n```java\r\npublic class BaseAssembler&lt;T extends BaseTransaction, D extends BaseResource&gt;\r\n        implements RepresentationModelAssembler&lt;T, D&gt; {\r\n        .........\r\n}\r\n```\r\n\r\nIn other words, it means that you cannot use `D extends BaseResource` to implement `RepresentationModelAssembler&lt;T, D&gt;` (note the type parameter `D` here) because that type _should extend &#39;org.springframework.hateoas.RepresentationModel&lt;?&gt;&#39;_.\r\n\r\n[`RepresentationModelAssembler`](https://docs.spring.io/spring-hateoas/docs/1.2.11/api/org/springframework/hateoas/server/RepresentationModelAssembler.html) gives you the ability to convert between domain types, your entities, to [`RepresentationModel`](https://docs.spring.io/spring-hateoas/docs/1.2.11/api/org/springframework/hateoas/RepresentationModel.html)s, a based class conceived to enrich your DTOs to collect links.\r\n\r\nIt is defined as follows:\r\n\r\n```java\r\npublic interface RepresentationModelAssembler&lt;T, D extends RepresentationModel&lt;?&gt;&gt;\r\n```\r\n\r\nNote again the definition of the type parameter `D`.\r\n\r\nIn your code you need to use something like:\r\n\r\n```java\r\npublic class BaseAssembler&lt;T extends BaseTransaction, D extends RepresentationModel&lt;?&gt;&gt;\r\n        implements RepresentationModelAssembler&lt;T, D&gt; {\r\n        .........\r\n}\r\n```\r\n\r\nPlease, consider read for instance some [this](https://grapeup.com/blog/how-to-build-hypermedia-api-with-spring-hateoas/) or [this other](https://howtodoinjava.com/spring5/hateoas/spring-hateoas-tutorial/) article, they provide a great variety of examples and uses cases about showcasing how you can implement the desired behavior. \r\n\r\nFor example, given the following entity, extracted from one of the cited articles:\r\n\r\n```java\r\n@Entity\r\npublic class Director {\r\n   @Id\r\n   @GeneratedValue\r\n   @Getter\r\n   private Long id;\r\n   @Getter\r\n   private String firstname;\r\n   @Getter\r\n   private String lastname;\r\n   @Getter\r\n   private int year;\r\n   @OneToMany(mappedBy = &quot;director&quot;)\r\n   private Set&lt;Movie&gt; movies;\r\n}\r\n```\r\n\r\nAnd the following DTO:\r\n\r\n```java\r\n@Builder\r\n@Getter\r\n@EqualsAndHashCode(callSuper = false)\r\n@Relation(itemRelation = &quot;director&quot;, collectionRelation = &quot;directors&quot;)\r\npublic class DirectorRepresentation extends RepresentationModel&lt;DirectorRepresentation&gt; {\r\n   private final String id;\r\n   private final String firstname;\r\n   private final String lastname;\r\n   private final int year;\r\n}\r\n```\r\n\r\nYour `RepresentationModelAssembler` will look like:\r\n\r\n```java\r\n@Component\r\npublic class DirectorRepresentationAssembler implements RepresentationModelAssembler&lt;Director, DirectorRepresentation&gt; {\r\n    @Override\r\n    public DirectorRepresentation toModel(Director entity) {\r\n        DirectorRepresentation directorRepresentation = DirectorRepresentation.builder()\r\n                .id(entity.getId())\r\n                .firstname(entity.getFirstname())\r\n                .lastname(entity.getLastname())\r\n                .year(entity.getYear())\r\n                .build();\r\n \r\n        directorRepresentation.add(linkTo(methodOn(DirectorController.class).getDirectorById(directorRepresentation.getId())).withSelfRel());\r\n        directorRepresentation.add(linkTo(methodOn(DirectorController.class).getDirectorMovies(directorRepresentation.getId())).withRel(&quot;directorMovies&quot;));\r\n \r\n        return directorRepresentation;\r\n    }\r\n \r\n    @Override\r\n    public CollectionModel&lt;DirectorRepresentation&gt; toCollectionModel(Iterable&lt;? extends Director&gt; entities) {\r\n        CollectionModel&lt;DirectorRepresentation&gt; directorRepresentations = RepresentationModelAssembler.super.toCollectionModel(entities);\r\n \r\n        directorRepresentations.add(linkTo(methodOn(DirectorController.class).getAllDirectors()).withSelfRel());\r\n \r\n        return directorRepresentations;\r\n    }\r\n}\r\n```\r\n\r\nIn terms of your interfaces and object model:\r\n\r\n```java\r\n@Entity\r\npublic class Director extends BaseTransaction{\r\n   @Id\r\n   @GeneratedValue\r\n   @Getter\r\n   private Long id;\r\n   @Getter\r\n   private String firstname;\r\n   @Getter\r\n   private String lastname;\r\n   @Getter\r\n   private int year;\r\n   @OneToMany(mappedBy = &quot;director&quot;)\r\n   private Set&lt;Movie&gt; movies;\r\n}\r\n```\r\n\r\n```java\r\npublic class DirectorRepresentationAssembler\r\n  extends BaseAssembler&lt;Director, DirectorRepresentation&gt;\r\n  implements RepresentationModelAssembler&lt;Director, DirectorRepresentation&gt; {\r\n  //... the above code\r\n}\r\n```\r\n\r\n`DirectorRepresentation` is the same as presented above.\r\n\r\nThe [Spring HATEOAS reference guide itself](https://docs.spring.io/spring-hateoas/docs/current/reference/html/#migrate-to-1.0) provides some guidance as well about the changes performed in Spring HATEOAS 1.0 and about how to migrate from the previous version. It even includes a [script](https://github.com/spring-projects/spring-hateoas/tree/main/etc) that may be of help.\r\n\r\nIn any case, as indicated above, in your use case you only need to modify the `BaseAssembler` interface to be defined in terms of the type `D extends RepresentationModel&lt;?&gt;`; then try relating in some way `BaseResource` to `RepresentationModel` or get rid of `BaseResource`s and use `RepresentationModel`s instead.\r\n\r\nFor example, you couild try defining `BaseResource` as follows:\r\n\r\n```java\r\npublic class BaseResource extends RepresentationModel&lt;BaseResource&gt;{\r\n  // your implementation\r\n}\r\n```\r\n\r\nThen, the bound will be right:\r\n\r\n```java\r\npublic class BaseAssembler&lt;T extends BaseTransaction, D extends BaseResource&gt;\r\n    implements RepresentationModelAssembler&lt;T, D&gt; {\r\n  // your implementation\r\n}\r\n```\r\n\r\nWith these changes, `DirectorRepresentation` will extend `BaseResource`:\r\n\r\n```java\r\npublic class DirectorRepresentation extends BaseResource {\r\n\r\n}\r\n```\r\n\r\nAnd you can extend `BaseAssembler` like this:\r\n\r\n```java\r\npublic class DirectorRepresentationAssembler\r\n    extends BaseAssembler&lt;Director, DirectorRepresentation&gt;\r\n    implements RepresentationModelAssembler&lt;Director, DirectorRepresentation&gt; {\r\n  // your implementation\r\n}\r\n```\r\n\r\nIn my opinion, the code you published in your repository is mostly fine. I think the only problem is in [this line of code](https://github.com/rcbandit111/hateos_poc/blob/5def44d3689d73e89f4874c92beed354f49ab528/src/main/java/com/hateos/test/entity/web/rest/resource/BaseResource.java#L10), as I mentioned before, I think you need to provide the type parameter when defining your `BaseResource` class. For instance:\r\n\r\n```java\r\npackage com.hateos.test.entity.web.rest.resource;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport io.swagger.annotations.ApiModelProperty;\r\nimport org.joda.time.DateTime;\r\nimport org.springframework.hateoas.RepresentationModel;\r\n\r\nimport java.util.UUID;\r\n\r\npublic class BaseResource extends RepresentationModel&lt;BaseResource&gt; {\r\n\r\n  @JsonProperty\r\n  @ApiModelProperty(position = 1, required = true)\r\n  public UUID id;\r\n\r\n  @JsonProperty\r\n  public DateTime creationTime;\r\n\r\n  @JsonProperty\r\n  public DateTime lastUpdatedTime;\r\n\r\n}\r\n```\r\n\r\nPlease, note the inclusion of the code fragment `RepresentationModel&lt;BaseResource&gt;` after the `extends` keyword.\r\n\r\nI am not sure if it will work but at least with this change every compiles fine and it seems to work properly.","title":"Migrate Spring hateos ResourceAssembler to RepresentationModelAssembler","body":"<p>The compiler is reporting that the type parameter <code>D</code> is not within its bound in your definition:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BaseAssembler&lt;T extends BaseTransaction, D extends BaseResource&gt;\n        implements RepresentationModelAssembler&lt;T, D&gt; {\n        .........\n}\n</code></pre>\n<p>In other words, it means that you cannot use <code>D extends BaseResource</code> to implement <code>RepresentationModelAssembler&lt;T, D&gt;</code> (note the type parameter <code>D</code> here) because that type <em>should extend 'org.springframework.hateoas.RepresentationModel&lt;?&gt;'</em>.</p>\n<p><a href=\"https://docs.spring.io/spring-hateoas/docs/1.2.11/api/org/springframework/hateoas/server/RepresentationModelAssembler.html\" rel=\"nofollow noreferrer\"><code>RepresentationModelAssembler</code></a> gives you the ability to convert between domain types, your entities, to <a href=\"https://docs.spring.io/spring-hateoas/docs/1.2.11/api/org/springframework/hateoas/RepresentationModel.html\" rel=\"nofollow noreferrer\"><code>RepresentationModel</code></a>s, a based class conceived to enrich your DTOs to collect links.</p>\n<p>It is defined as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface RepresentationModelAssembler&lt;T, D extends RepresentationModel&lt;?&gt;&gt;\n</code></pre>\n<p>Note again the definition of the type parameter <code>D</code>.</p>\n<p>In your code you need to use something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BaseAssembler&lt;T extends BaseTransaction, D extends RepresentationModel&lt;?&gt;&gt;\n        implements RepresentationModelAssembler&lt;T, D&gt; {\n        .........\n}\n</code></pre>\n<p>Please, consider read for instance some <a href=\"https://grapeup.com/blog/how-to-build-hypermedia-api-with-spring-hateoas/\" rel=\"nofollow noreferrer\">this</a> or <a href=\"https://howtodoinjava.com/spring5/hateoas/spring-hateoas-tutorial/\" rel=\"nofollow noreferrer\">this other</a> article, they provide a great variety of examples and uses cases about showcasing how you can implement the desired behavior.</p>\n<p>For example, given the following entity, extracted from one of the cited articles:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Director {\n   @Id\n   @GeneratedValue\n   @Getter\n   private Long id;\n   @Getter\n   private String firstname;\n   @Getter\n   private String lastname;\n   @Getter\n   private int year;\n   @OneToMany(mappedBy = &quot;director&quot;)\n   private Set&lt;Movie&gt; movies;\n}\n</code></pre>\n<p>And the following DTO:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Builder\n@Getter\n@EqualsAndHashCode(callSuper = false)\n@Relation(itemRelation = &quot;director&quot;, collectionRelation = &quot;directors&quot;)\npublic class DirectorRepresentation extends RepresentationModel&lt;DirectorRepresentation&gt; {\n   private final String id;\n   private final String firstname;\n   private final String lastname;\n   private final int year;\n}\n</code></pre>\n<p>Your <code>RepresentationModelAssembler</code> will look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class DirectorRepresentationAssembler implements RepresentationModelAssembler&lt;Director, DirectorRepresentation&gt; {\n    @Override\n    public DirectorRepresentation toModel(Director entity) {\n        DirectorRepresentation directorRepresentation = DirectorRepresentation.builder()\n                .id(entity.getId())\n                .firstname(entity.getFirstname())\n                .lastname(entity.getLastname())\n                .year(entity.getYear())\n                .build();\n \n        directorRepresentation.add(linkTo(methodOn(DirectorController.class).getDirectorById(directorRepresentation.getId())).withSelfRel());\n        directorRepresentation.add(linkTo(methodOn(DirectorController.class).getDirectorMovies(directorRepresentation.getId())).withRel(&quot;directorMovies&quot;));\n \n        return directorRepresentation;\n    }\n \n    @Override\n    public CollectionModel&lt;DirectorRepresentation&gt; toCollectionModel(Iterable&lt;? extends Director&gt; entities) {\n        CollectionModel&lt;DirectorRepresentation&gt; directorRepresentations = RepresentationModelAssembler.super.toCollectionModel(entities);\n \n        directorRepresentations.add(linkTo(methodOn(DirectorController.class).getAllDirectors()).withSelfRel());\n \n        return directorRepresentations;\n    }\n}\n</code></pre>\n<p>In terms of your interfaces and object model:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Director extends BaseTransaction{\n   @Id\n   @GeneratedValue\n   @Getter\n   private Long id;\n   @Getter\n   private String firstname;\n   @Getter\n   private String lastname;\n   @Getter\n   private int year;\n   @OneToMany(mappedBy = &quot;director&quot;)\n   private Set&lt;Movie&gt; movies;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class DirectorRepresentationAssembler\n  extends BaseAssembler&lt;Director, DirectorRepresentation&gt;\n  implements RepresentationModelAssembler&lt;Director, DirectorRepresentation&gt; {\n  //... the above code\n}\n</code></pre>\n<p><code>DirectorRepresentation</code> is the same as presented above.</p>\n<p>The <a href=\"https://docs.spring.io/spring-hateoas/docs/current/reference/html/#migrate-to-1.0\" rel=\"nofollow noreferrer\">Spring HATEOAS reference guide itself</a> provides some guidance as well about the changes performed in Spring HATEOAS 1.0 and about how to migrate from the previous version. It even includes a <a href=\"https://github.com/spring-projects/spring-hateoas/tree/main/etc\" rel=\"nofollow noreferrer\">script</a> that may be of help.</p>\n<p>In any case, as indicated above, in your use case you only need to modify the <code>BaseAssembler</code> interface to be defined in terms of the type <code>D extends RepresentationModel&lt;?&gt;</code>; then try relating in some way <code>BaseResource</code> to <code>RepresentationModel</code> or get rid of <code>BaseResource</code>s and use <code>RepresentationModel</code>s instead.</p>\n<p>For example, you couild try defining <code>BaseResource</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BaseResource extends RepresentationModel&lt;BaseResource&gt;{\n  // your implementation\n}\n</code></pre>\n<p>Then, the bound will be right:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class BaseAssembler&lt;T extends BaseTransaction, D extends BaseResource&gt;\n    implements RepresentationModelAssembler&lt;T, D&gt; {\n  // your implementation\n}\n</code></pre>\n<p>With these changes, <code>DirectorRepresentation</code> will extend <code>BaseResource</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DirectorRepresentation extends BaseResource {\n\n}\n</code></pre>\n<p>And you can extend <code>BaseAssembler</code> like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DirectorRepresentationAssembler\n    extends BaseAssembler&lt;Director, DirectorRepresentation&gt;\n    implements RepresentationModelAssembler&lt;Director, DirectorRepresentation&gt; {\n  // your implementation\n}\n</code></pre>\n<p>In my opinion, the code you published in your repository is mostly fine. I think the only problem is in <a href=\"https://github.com/rcbandit111/hateos_poc/blob/5def44d3689d73e89f4874c92beed354f49ab528/src/main/java/com/hateos/test/entity/web/rest/resource/BaseResource.java#L10\" rel=\"nofollow noreferrer\">this line of code</a>, as I mentioned before, I think you need to provide the type parameter when defining your <code>BaseResource</code> class. For instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.hateos.test.entity.web.rest.resource;\n\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport io.swagger.annotations.ApiModelProperty;\nimport org.joda.time.DateTime;\nimport org.springframework.hateoas.RepresentationModel;\n\nimport java.util.UUID;\n\npublic class BaseResource extends RepresentationModel&lt;BaseResource&gt; {\n\n  @JsonProperty\n  @ApiModelProperty(position = 1, required = true)\n  public UUID id;\n\n  @JsonProperty\n  public DateTime creationTime;\n\n  @JsonProperty\n  public DateTime lastUpdatedTime;\n\n}\n</code></pre>\n<p>Please, note the inclusion of the code fragment <code>RepresentationModel&lt;BaseResource&gt;</code> after the <code>extends</code> keyword.</p>\n<p>I am not sure if it will work but at least with this change every compiles fine and it seems to work properly.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1057,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71402700,"answer_count":1,"score":1,"last_activity_date":1647855202,"creation_date":1646601851,"question_id":71374318,"body_markdown":"According to this [post][1] `ResourceAssembler` is changed to `RepresentationModelAssembler`\r\n\r\nI have this code which is using Spring HATEOAS 1.0:\r\n\r\n    import org.springframework.hateoas.ResourceAssembler;\r\n    \r\n    public class BaseAssembler&lt;T extends BaseTransaction, D extends BaseResource&gt;\r\n            implements ResourceAssembler&lt;T, D&gt; {\r\n            ...\r\n    }\r\n\r\nAfter migration to `implementation &#39;org.springframework.boot:spring-boot-starter-hateoas:2.6.4&#39;`\r\nI changed it to:\r\n\r\n    public class BaseAssembler&lt;T extends BaseTransaction, D extends BaseResource&gt;\r\n            implements RepresentationModelAssembler&lt;T, D&gt; {\r\n            .........\r\n    }\r\n\r\nBut I get error:\r\n\r\n    Type parameter &#39;D&#39; is not within its bound; should extend &#39;org.springframework.hateoas.RepresentationModel&lt;?&gt;&#39;\r\n\r\nDo you know how I can fix this issue?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/25352764/hateoas-methods-not-found\r\n","title":"Migrate Spring hateos ResourceAssembler to RepresentationModelAssembler","body":"<p>According to this <a href=\"https://stackoverflow.com/questions/25352764/hateoas-methods-not-found\">post</a> <code>ResourceAssembler</code> is changed to <code>RepresentationModelAssembler</code></p>\n<p>I have this code which is using Spring HATEOAS 1.0:</p>\n<pre><code>import org.springframework.hateoas.ResourceAssembler;\n\npublic class BaseAssembler&lt;T extends BaseTransaction, D extends BaseResource&gt;\n        implements ResourceAssembler&lt;T, D&gt; {\n        ...\n}\n</code></pre>\n<p>After migration to <code>implementation 'org.springframework.boot:spring-boot-starter-hateoas:2.6.4'</code>\nI changed it to:</p>\n<pre><code>public class BaseAssembler&lt;T extends BaseTransaction, D extends BaseResource&gt;\n        implements RepresentationModelAssembler&lt;T, D&gt; {\n        .........\n}\n</code></pre>\n<p>But I get error:</p>\n<pre><code>Type parameter 'D' is not within its bound; should extend 'org.springframework.hateoas.RepresentationModel&lt;?&gt;'\n</code></pre>\n<p>Do you know how I can fix this issue?</p>\n"},{"tags":["java","spring-boot","maven","liquibase","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647854657,"creation_date":1647854657,"answer_id":71555305,"question_id":71552585,"body_markdown":"Your Maven configuration is useful in your development and build environments, where you depend on a live database and database connection for:\r\n\r\n- jOOQ code generation\r\n- Building\r\n- Integration testing (I suspect?)\r\n\r\nBut that&#39;s different from your production database usage, where you&#39;re probably better off running Liquibase programmatically, embedded in your application. That&#39;s not the only option to run production migrations, but the one I&#39;d recommend. Here&#39;s an official resource on the topic by Liquibase to help you make an informed decision:\r\nhttps://www.liquibase.com/blog/3-ways-to-run-liquibase\r\n\r\nAnd here&#39;s another resource showing how to use jOOQ&#39;s code generation along with testcontainers, instead of a live database, which might help better separate build and production concerns:\r\nhttps://blog.jooq.org/using-testcontainers-to-generate-jooq-code/","title":"How to make jooq auto generator and liquibase migration sequence correct?","body":"<p>Your Maven configuration is useful in your development and build environments, where you depend on a live database and database connection for:</p>\n<ul>\n<li>jOOQ code generation</li>\n<li>Building</li>\n<li>Integration testing (I suspect?)</li>\n</ul>\n<p>But that's different from your production database usage, where you're probably better off running Liquibase programmatically, embedded in your application. That's not the only option to run production migrations, but the one I'd recommend. Here's an official resource on the topic by Liquibase to help you make an informed decision:\n<a href=\"https://www.liquibase.com/blog/3-ways-to-run-liquibase\" rel=\"nofollow noreferrer\">https://www.liquibase.com/blog/3-ways-to-run-liquibase</a></p>\n<p>And here's another resource showing how to use jOOQ's code generation along with testcontainers, instead of a live database, which might help better separate build and production concerns:\n<a href=\"https://blog.jooq.org/using-testcontainers-to-generate-jooq-code/\" rel=\"nofollow noreferrer\">https://blog.jooq.org/using-testcontainers-to-generate-jooq-code/</a></p>\n"}],"owner":{"account_id":24617626,"reputation":63,"user_id":18518406,"display_name":"Divyanshi Mangal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":831,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71555305,"answer_count":1,"score":1,"last_activity_date":1647854657,"creation_date":1647834195,"question_id":71552585,"body_markdown":"How to make jooq auto generator to run using liquibase script and then liquibase migration on spring boot startup instead of mvn clean compile?\r\n\r\nI want jooq auto generator to run on basis of liquibase schema and then I want liquibase migration to run on spring boot startup but currently it runs on running mvn clean compile.\r\nI want the logs like &quot;Acquired Change Lock&quot; to appear after Application startup and not on mvn clean compile.\r\n\r\nThis is the pom.xml excerpt:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n    &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.4.1&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n                &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\r\n                &lt;changeLogFile&gt;src/main/resources/liquibase-outputChangeLog.xml&lt;/changeLogFile&gt;\r\n                &lt;driver&gt;org.postgresql.Driver&lt;/driver&gt;\r\n            &lt;/configuration&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;update&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jooq&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\r\n    &lt;version&gt;3.13.4&lt;/version&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;phase&gt;process-resources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.2.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;configuration xmlns=&quot;http://www.jooq.org/xsd/jooq-codegen-3.16.3.xsd&quot;&gt;\r\n        &lt;jdbc&gt;\r\n            &lt;driver&gt;org.postgresql.Driver&lt;/driver&gt;\r\n            &lt;url&gt;${spring.datasource.url}&lt;/url&gt;\r\n            &lt;user&gt;${spring.datasource.username}&lt;/user&gt;\r\n            &lt;password&gt;${spring.datasource.password}&lt;/password&gt;\r\n        &lt;/jdbc&gt;\r\n        &lt;generator&gt;\r\n            &lt;database&gt;\r\n                &lt;name&gt;org.jooq.meta.postgres.PostgresDatabase&lt;/name&gt;\r\n                &lt;includes&gt;.*&lt;/includes&gt;\r\n                &lt;excludes&gt;&lt;/excludes&gt;\r\n                &lt;inputSchema&gt;public&lt;/inputSchema&gt;\r\n            &lt;/database&gt;\r\n            &lt;target&gt;\r\n                &lt;packageName&gt;com.slb.pps.azure.jooqGenerated&lt;/packageName&gt;\r\n                &lt;directory&gt;target/generated-sources/jooq&lt;/directory&gt;\r\n            &lt;/target&gt;\r\n        &lt;/generator&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nPlease help me debug this. Let me know if any other information is needed.","title":"How to make jooq auto generator and liquibase migration sequence correct?","body":"<p>How to make jooq auto generator to run using liquibase script and then liquibase migration on spring boot startup instead of mvn clean compile?</p>\n<p>I want jooq auto generator to run on basis of liquibase schema and then I want liquibase migration to run on spring boot startup but currently it runs on running mvn clean compile.\nI want the logs like &quot;Acquired Change Lock&quot; to appear after Application startup and not on mvn clean compile.</p>\n<p>This is the pom.xml excerpt:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n    &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.4.1&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;generate-resources&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;propertyFile&gt;src/main/resources/liquibase.properties&lt;/propertyFile&gt;\n                &lt;changeLogFile&gt;src/main/resources/liquibase-outputChangeLog.xml&lt;/changeLogFile&gt;\n                &lt;driver&gt;org.postgresql.Driver&lt;/driver&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;update&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n&lt;plugin&gt;\n    &lt;groupId&gt;org.jooq&lt;/groupId&gt;\n    &lt;artifactId&gt;jooq-codegen-maven&lt;/artifactId&gt;\n    &lt;version&gt;3.13.4&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;phase&gt;process-resources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.12&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;configuration xmlns=&quot;http://www.jooq.org/xsd/jooq-codegen-3.16.3.xsd&quot;&gt;\n        &lt;jdbc&gt;\n            &lt;driver&gt;org.postgresql.Driver&lt;/driver&gt;\n            &lt;url&gt;${spring.datasource.url}&lt;/url&gt;\n            &lt;user&gt;${spring.datasource.username}&lt;/user&gt;\n            &lt;password&gt;${spring.datasource.password}&lt;/password&gt;\n        &lt;/jdbc&gt;\n        &lt;generator&gt;\n            &lt;database&gt;\n                &lt;name&gt;org.jooq.meta.postgres.PostgresDatabase&lt;/name&gt;\n                &lt;includes&gt;.*&lt;/includes&gt;\n                &lt;excludes&gt;&lt;/excludes&gt;\n                &lt;inputSchema&gt;public&lt;/inputSchema&gt;\n            &lt;/database&gt;\n            &lt;target&gt;\n                &lt;packageName&gt;com.slb.pps.azure.jooqGenerated&lt;/packageName&gt;\n                &lt;directory&gt;target/generated-sources/jooq&lt;/directory&gt;\n            &lt;/target&gt;\n        &lt;/generator&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Please help me debug this. Let me know if any other information is needed.</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database","google-cloud-platform"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647607235,"creation_date":1647607235,"answer_id":71527162,"question_id":71527071,"body_markdown":"&gt; which causes a crash in the Profile.class because it&#39;s trying to display it as a String\r\n\r\nWhy not change the type of the field in the class to be a number rather than a string. When you want to increment a field with a numeric value, the type of the field should always be a number. There&#39;s no method in the String class that allows you to increment a char sequence.\r\n\r\nBesides that, when it comes to incrementing values in the Realtime Database, most likely you should use `ServerValue.increment(1)` as explained in my answer from the following post:\r\n\r\n* https://stackoverflow.com/questions/48307610/how-to-save-users-score-in-firebase-and-retrieve-it-in-real-time-in-android-stud\r\n\r\nSo in code that would be:\r\n\r\n    rootRef.child(&quot;Users&quot;).child(uid).child(&quot;present&quot;).setValue(ServerValue.increment(1));","title":"Firebase: How to change child node value type from int to String?","body":"<blockquote>\n<p>which causes a crash in the Profile.class because it's trying to display it as a String</p>\n</blockquote>\n<p>Why not change the type of the field in the class to be a number rather than a string. When you want to increment a field with a numeric value, the type of the field should always be a number. There's no method in the String class that allows you to increment a char sequence.</p>\n<p>Besides that, when it comes to incrementing values in the Realtime Database, most likely you should use <code>ServerValue.increment(1)</code> as explained in my answer from the following post:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48307610/how-to-save-users-score-in-firebase-and-retrieve-it-in-real-time-in-android-stud\">How to save users score in firebase and retrieve it in real-time in Android studio</a></li>\n</ul>\n<p>So in code that would be:</p>\n<pre><code>rootRef.child(&quot;Users&quot;).child(uid).child(&quot;present&quot;).setValue(ServerValue.increment(1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24600777,"reputation":1,"user_id":18503672,"display_name":"Chinwonder2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647854364,"creation_date":1647854364,"answer_id":71555237,"question_id":71527071,"body_markdown":"Ok so I managed to figure this out for my specific project. It’s a bit basic and probably not very well optimised but it works lol.\r\n\r\nI’ll leave it here for anyone who may have a similar issue. Thanks for all your guidance!\r\n\r\n```\r\n\r\nString present = userProfile.present;\r\n\r\nint presentValue = Integer.parseInt(present);\r\n\r\npresentValue = presentValue+1;\r\n\r\nString finalPresentValue = Integer.toString(presentValue);\r\n\r\n……\r\n\r\n// Button OnclickListener\r\n\r\n\r\nDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\r\n\r\nString uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n\r\nrootRef.child(“Users”).child(uid).child(“present”).setValue(finalPresentValue);\r\n\r\n```","title":"Firebase: How to change child node value type from int to String?","body":"<p>Ok so I managed to figure this out for my specific project. It’s a bit basic and probably not very well optimised but it works lol.</p>\n<p>I’ll leave it here for anyone who may have a similar issue. Thanks for all your guidance!</p>\n<pre><code>\nString present = userProfile.present;\n\nint presentValue = Integer.parseInt(present);\n\npresentValue = presentValue+1;\n\nString finalPresentValue = Integer.toString(presentValue);\n\n……\n\n// Button OnclickListener\n\n\nDatabaseReference rootRef = FirebaseDatabase.getInstance().getReference();\n\nString uid = FirebaseAuth.getInstance().getCurrentUser().getUid();\n\nrootRef.child(“Users”).child(uid).child(“present”).setValue(finalPresentValue);\n\n</code></pre>\n"}],"owner":{"account_id":24600777,"reputation":1,"user_id":18503672,"display_name":"Chinwonder2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647854364,"creation_date":1647606761,"question_id":71527071,"body_markdown":"A very basic backstory here, I am creating an attendance monitoring app for my final year project. This class opens when a student scans a generated QR Code. When they hit yes, I want it to add +1 to their Present value. However, I&#39;m having some issues with this, since this code I&#39;m using here:\r\n\r\n    rootRef.child(&quot;Users&quot;).child(uid).child(&quot;present&quot;).setValue(+1);\r\n\r\nIt changes the child node Present in the Database to an Integer type, which causes a crash in the Profile.class because it&#39;s trying to display it as a String, that is what I want.\r\n\r\nHow do I convert this value back to a string once it&#39;s been updated to reflect the student&#39;s attendance?\r\n\r\n-Edit--------\r\n\r\nThanks for the quick response, how would I then go about changing everything to make it an int. This is my User.java which creates the variable fields for the Database:\r\n\r\n~~~\r\n\r\npackage com.example.finalyearproject;\r\n\r\npublic class User {\r\n\r\n    //Initializing all of the variable names and values for the Database to upload to and pull from.\r\n\r\n    public String name, email, year, course, role, absences, present;\r\n\r\n    public User() {\r\n\r\n    }\r\n\r\n    public User(String name, String email, String year, String course, String role, String absences, String present) {\r\n\r\n        //These will be used to upload and pull data to and from the database, mainly for the Profile.class\r\n\r\n        this.name = name;\r\n        this.email = email;\r\n        this.year = year;\r\n        this.course = course;\r\n        this.role = role;\r\n        this.absences = absences;\r\n        this.present = present;\r\n\r\n    }\r\n}\r\n~~~\r\n\r\n","title":"Firebase: How to change child node value type from int to String?","body":"<p>A very basic backstory here, I am creating an attendance monitoring app for my final year project. This class opens when a student scans a generated QR Code. When they hit yes, I want it to add +1 to their Present value. However, I'm having some issues with this, since this code I'm using here:</p>\n<pre><code>rootRef.child(&quot;Users&quot;).child(uid).child(&quot;present&quot;).setValue(+1);\n</code></pre>\n<p>It changes the child node Present in the Database to an Integer type, which causes a crash in the Profile.class because it's trying to display it as a String, that is what I want.</p>\n<p>How do I convert this value back to a string once it's been updated to reflect the student's attendance?</p>\n<p>-Edit--------</p>\n<p>Thanks for the quick response, how would I then go about changing everything to make it an int. This is my User.java which creates the variable fields for the Database:</p>\n<pre><code>\npackage com.example.finalyearproject;\n\npublic class User {\n\n    //Initializing all of the variable names and values for the Database to upload to and pull from.\n\n    public String name, email, year, course, role, absences, present;\n\n    public User() {\n\n    }\n\n    public User(String name, String email, String year, String course, String role, String absences, String present) {\n\n        //These will be used to upload and pull data to and from the database, mainly for the Profile.class\n\n        this.name = name;\n        this.email = email;\n        this.year = year;\n        this.course = course;\n        this.role = role;\n        this.absences = absences;\n        this.present = present;\n\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":1,"creation_date":1647855231,"post_id":71555181,"comment_id":126467044,"body_markdown":"setText set the text once. It doesn&#39;t bind the label to the value and it won&#39;t auto-update when the value changes","body":"setText set the text once. It doesn&#39;t bind the label to the value and it won&#39;t auto-update when the value changes"},{"owner":{"account_id":22174337,"reputation":21,"user_id":16419156,"display_name":"J62"},"score":0,"creation_date":1647855488,"post_id":71555181,"comment_id":126467125,"body_markdown":"@jhamon Aha, I see. Thanks so much for your comment! What should I do to fix this issue then?","body":"@jhamon Aha, I see. Thanks so much for your comment! What should I do to fix this issue then?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1647876489,"post_id":71555181,"comment_id":126475480,"body_markdown":"Invoke setText() when the value changes.","body":"Invoke setText() when the value changes."}],"owner":{"account_id":22174337,"reputation":21,"user_id":16419156,"display_name":"J62"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647854074,"creation_date":1647854074,"question_id":71555181,"body_markdown":"I&#39;m a complete newbie to java, so this question may sound really dumb. My apologies for not being able to find an answer myself... I tried, but couldn&#39;t figure out what the issue is. :&#39;(\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    public class ViewIncomePanel extends JPanel implements ActionListener {\r\n\r\n    private HeadQuarter headQuarter;\r\n    private JPanel viewIncomePanel;\r\n    public static final String NAME = &quot;ViewIncomePanel&quot;;\r\n    private JLabel amountMessage;\r\n    private JLabel totalAmountMessage = new JLabel();\r\n    private LoadCompletePanel loadCompletePanel;\r\n    private MonthlyIncome monthlyIncome;\r\n    private JButton backButton;\r\n    private NumberFormat format = NumberFormat.getCurrencyInstance();\r\n\r\n    public ViewIncomePanel(HeadQuarter userControl) {\r\n        this.headQuarter = userControl;\r\n        monthlyIncome = userControl.getMonthlyIncome();\r\n        this.viewIncomePanel = this;\r\n\r\n        JPanel incomePanel = new JPanel(new GridLayout(0, 1, 10, 10));\r\n\r\n        double value = headQuarter.getTotalIncome();\r\n        String s = Double.toString(value);\r\n        amountMessage = new JLabel(&quot;Total amount is: &quot;);\r\n        amountMessage.setAlignmentX(CENTER_ALIGNMENT);\r\n        amountMessage.setAlignmentY(TOP_ALIGNMENT);\r\n\r\n        totalAmountMessage.setText(s);\r\n        totalAmountMessage.setAlignmentX(CENTER_ALIGNMENT);\r\n        totalAmountMessage.setAlignmentY(TOP_ALIGNMENT);\r\n\r\n\r\n        backButton = new JButton(&quot;Back&quot;);\r\n        incomePanel.add(backButton);\r\n        incomePanel.add(amountMessage);\r\n        incomePanel.add(totalAmountMessage);\r\n\r\n        backButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                goBack();\r\n            }\r\n        });\r\n\r\n        viewIncomePanel.add(incomePanel);\r\n        incomePanel.setVisible(true);\r\n\r\n    }\r\n\r\n    private void goBack() {\r\n        headQuarter.getScreen(loadCompletePanel.NAME);\r\n    }\r\n\r\n\r\nHere is my code. The issue is with totalAmountMessage; so for my code, every time I input an income the total amount of income should sum up. But my code always returns 0 when I run it. Funny thing is, when I tried printing out headQuarter.getTotalIncome() it worked fine. So the issue lies on getting the value printed with JLabel. \r\n\r\nHere is my MonthlyIncome class:\r\n\r\n    public class MonthlyIncome {\r\n\r\n    private List&lt;CurrentIncome&gt; allIncome; // list of monthly income\r\n    double total; // monthly total income\r\n    double incomeDay;  // income for specified day\r\n\r\n    public MonthlyIncome() {\r\n        allIncome = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n    public void addIncome(CurrentIncome i) {\r\n        allIncome.add(i);\r\n    }\r\n\r\n    public void findIncomeDate(int date) {\r\n        incomeDay = 0;\r\n\r\n        for (CurrentIncome i : allIncome) {\r\n            if (i.getDate() == date) {\r\n                incomeDay += i.getIncome();\r\n            }\r\n        }\r\n    }\r\n\r\n    public double getIncomeForDate() {\r\n        return incomeDay;\r\n    }\r\n\r\n\r\n    public double totalIncome() {\r\n        total = 0;\r\n\r\n        for (CurrentIncome d : allIncome) {\r\n            total += d.getIncome();\r\n        }\r\n        return total;\r\n    }\r\n\r\n    public double getTotal() {\r\n        return total;\r\n    }\r\n\r\n\r\nAnd here is my HeadQuarter class:\r\n\r\n    private MainGuiPanel mainGui;\r\n    private double incomeAmount;\r\n    private int incomeDate;\r\n    private double expenditureAmount;\r\n    private int expenditureDate;\r\n    private ExpenditureType type;\r\n    private CurrentExpenditure currentExpenditure;\r\n    private MonthlyIncome monthlyIncome;\r\n    private CurrentIncome currentIncome;\r\n\r\n\r\n    public HeadQuarter(MainGuiPanel mainGui) {\r\n        this.mainGui = mainGui;\r\n        monthlyIncome = new MonthlyIncome();\r\n    }\r\n\r\n    public void getScreen(String name) {\r\n        mainGui.getCardLayout().show(mainGui.getHolderPanel(), name);\r\n    }\r\n\r\n    public void addExpenditure(Double amount) {\r\n        this.expenditureAmount = amount;\r\n        currentExpenditure.setAmount(amount);\r\n    }\r\n\r\n    public MonthlyIncome getMonthlyIncome() {\r\n        return monthlyIncome;\r\n    }\r\n\r\n\r\n    public void recordExpenditureDate(int date) {\r\n        this.expenditureDate = date;\r\n        currentExpenditure.setDate(date);\r\n    }\r\n\r\n    public void makeCurrentIncome(int date, double amount) {\r\n        incomeAmount = amount;\r\n        incomeDate = date;\r\n        currentIncome = new CurrentIncome(incomeDate, incomeAmount);\r\n        monthlyIncome.addIncome(currentIncome);\r\n    }\r\n\r\n    public void makeCurrentExpenditure(int date, double amount) {\r\n        incomeAmount = amount;\r\n        incomeDate = date;\r\n        currentIncome = new CurrentIncome(incomeDate, incomeAmount);\r\n        monthlyIncome.addIncome(currentIncome);\r\n    }\r\n\r\n    public double getTotalIncome() {\r\n        return monthlyIncome.totalIncome();\r\n    }\r\n\r\n\r\nAny helps will be appreciated! Sorry again for asking such a stupid question. But I&#39;ll be really grateful if anyone can help me out! \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zQtxA.png","title":"JLabel not updating with SetText","body":"<p>I'm a complete newbie to java, so this question may sound really dumb. My apologies for not being able to find an answer myself... I tried, but couldn't figure out what the issue is. :'(</p>\n<p><a href=\"https://i.stack.imgur.com/zQtxA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zQtxA.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>public class ViewIncomePanel extends JPanel implements ActionListener {\n\nprivate HeadQuarter headQuarter;\nprivate JPanel viewIncomePanel;\npublic static final String NAME = &quot;ViewIncomePanel&quot;;\nprivate JLabel amountMessage;\nprivate JLabel totalAmountMessage = new JLabel();\nprivate LoadCompletePanel loadCompletePanel;\nprivate MonthlyIncome monthlyIncome;\nprivate JButton backButton;\nprivate NumberFormat format = NumberFormat.getCurrencyInstance();\n\npublic ViewIncomePanel(HeadQuarter userControl) {\n    this.headQuarter = userControl;\n    monthlyIncome = userControl.getMonthlyIncome();\n    this.viewIncomePanel = this;\n\n    JPanel incomePanel = new JPanel(new GridLayout(0, 1, 10, 10));\n\n    double value = headQuarter.getTotalIncome();\n    String s = Double.toString(value);\n    amountMessage = new JLabel(&quot;Total amount is: &quot;);\n    amountMessage.setAlignmentX(CENTER_ALIGNMENT);\n    amountMessage.setAlignmentY(TOP_ALIGNMENT);\n\n    totalAmountMessage.setText(s);\n    totalAmountMessage.setAlignmentX(CENTER_ALIGNMENT);\n    totalAmountMessage.setAlignmentY(TOP_ALIGNMENT);\n\n\n    backButton = new JButton(&quot;Back&quot;);\n    incomePanel.add(backButton);\n    incomePanel.add(amountMessage);\n    incomePanel.add(totalAmountMessage);\n\n    backButton.addActionListener(new ActionListener() {\n        @Override\n        public void actionPerformed(ActionEvent e) {\n            goBack();\n        }\n    });\n\n    viewIncomePanel.add(incomePanel);\n    incomePanel.setVisible(true);\n\n}\n\nprivate void goBack() {\n    headQuarter.getScreen(loadCompletePanel.NAME);\n}\n</code></pre>\n<p>Here is my code. The issue is with totalAmountMessage; so for my code, every time I input an income the total amount of income should sum up. But my code always returns 0 when I run it. Funny thing is, when I tried printing out headQuarter.getTotalIncome() it worked fine. So the issue lies on getting the value printed with JLabel.</p>\n<p>Here is my MonthlyIncome class:</p>\n<pre><code>public class MonthlyIncome {\n\nprivate List&lt;CurrentIncome&gt; allIncome; // list of monthly income\ndouble total; // monthly total income\ndouble incomeDay;  // income for specified day\n\npublic MonthlyIncome() {\n    allIncome = new ArrayList&lt;&gt;();\n}\n\npublic void addIncome(CurrentIncome i) {\n    allIncome.add(i);\n}\n\npublic void findIncomeDate(int date) {\n    incomeDay = 0;\n\n    for (CurrentIncome i : allIncome) {\n        if (i.getDate() == date) {\n            incomeDay += i.getIncome();\n        }\n    }\n}\n\npublic double getIncomeForDate() {\n    return incomeDay;\n}\n\n\npublic double totalIncome() {\n    total = 0;\n\n    for (CurrentIncome d : allIncome) {\n        total += d.getIncome();\n    }\n    return total;\n}\n\npublic double getTotal() {\n    return total;\n}\n</code></pre>\n<p>And here is my HeadQuarter class:</p>\n<pre><code>private MainGuiPanel mainGui;\nprivate double incomeAmount;\nprivate int incomeDate;\nprivate double expenditureAmount;\nprivate int expenditureDate;\nprivate ExpenditureType type;\nprivate CurrentExpenditure currentExpenditure;\nprivate MonthlyIncome monthlyIncome;\nprivate CurrentIncome currentIncome;\n\n\npublic HeadQuarter(MainGuiPanel mainGui) {\n    this.mainGui = mainGui;\n    monthlyIncome = new MonthlyIncome();\n}\n\npublic void getScreen(String name) {\n    mainGui.getCardLayout().show(mainGui.getHolderPanel(), name);\n}\n\npublic void addExpenditure(Double amount) {\n    this.expenditureAmount = amount;\n    currentExpenditure.setAmount(amount);\n}\n\npublic MonthlyIncome getMonthlyIncome() {\n    return monthlyIncome;\n}\n\n\npublic void recordExpenditureDate(int date) {\n    this.expenditureDate = date;\n    currentExpenditure.setDate(date);\n}\n\npublic void makeCurrentIncome(int date, double amount) {\n    incomeAmount = amount;\n    incomeDate = date;\n    currentIncome = new CurrentIncome(incomeDate, incomeAmount);\n    monthlyIncome.addIncome(currentIncome);\n}\n\npublic void makeCurrentExpenditure(int date, double amount) {\n    incomeAmount = amount;\n    incomeDate = date;\n    currentIncome = new CurrentIncome(incomeDate, incomeAmount);\n    monthlyIncome.addIncome(currentIncome);\n}\n\npublic double getTotalIncome() {\n    return monthlyIncome.totalIncome();\n}\n</code></pre>\n<p>Any helps will be appreciated! Sorry again for asking such a stupid question. But I'll be really grateful if anyone can help me out!</p>\n"},{"tags":["java","spring-boot","hibernate"],"owner":{"account_id":24531518,"reputation":79,"user_id":18443203,"display_name":"asdasdas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647853879,"creation_date":1647089673,"question_id":71449865,"body_markdown":"I am trying to retrieve data from database using an SQL native query but I am getting only values instead of keys and values in JSON response. How can i retrieve data with key and value in Json response?\r\n\r\nEntity:\r\n```\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Table(name = &quot;Products&quot;)\r\n    public class ProductModel {\r\n    \r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Id\r\n        private Long id;\r\n    \r\n        @Column(name = &quot;Category&quot;)\r\n        private String category;\r\n    \r\n        @Column(name = &quot;ProductName&quot;)\r\n        @Lob\r\n        private String productName;\r\n    \r\n        @Column(name = &quot;Price&quot;)\r\n        private int price;\r\n    \r\n        @Column(name = &quot;Slider&quot;)\r\n        private Boolean slider;\r\n    \r\n        @Column(name = &quot;SpecialOffer&quot;)\r\n        private Boolean specialOffer;\r\n    \r\n        @Column(name = &quot;NewPrice&quot;)\r\n        private int newPrice;\r\n    \r\n        @Column(name = &quot;FullDescription&quot;)\r\n        @Lob\r\n        private String fullDescription;\r\n    \r\n        @Column(name = &quot;Image&quot;)\r\n        @Lob\r\n        private String image;\r\n    }\r\n```\r\n\r\nRepository:\r\n```    \r\n    @Repository\r\n    public interface ProductRepository extends JpaRepository&lt;ProductModel, Long&gt; {  \r\n\r\n        @Query(value = &quot;select id,image,product_name,price,new_price from products where slider is true&quot;, nativeQuery = true)\r\n        List&lt;String&gt; getSliderContent();\r\n    }\r\n```\r\n\r\nService \r\n```\r\n    @Service\r\n    public class ProductService {\r\n \r\n        @Autowired\r\n        private ProductRepository productRepository;\r\n    \r\n        public List&lt;String&gt; getSliderContent(){\r\n            List&lt;String&gt; lstMovie = new ArrayList&lt;&gt;();\r\n            lstMovie = productRepository.getSliderContent();\r\n            return lstMovie;\r\n        }\r\n    }\r\n```\r\n\r\nController:\r\n```\r\n    @CrossOrigin(&quot;*&quot;)\r\n    @RestController\r\n    @RequestMapping(&quot;/products&quot;)\r\n    public class ProductController {\r\n        @Autowired\r\n        private ProductService productService;\r\n    \r\n        @GetMapping(&quot;/sl&quot;)\r\n        public List&lt;String&gt; getSliderContent(){\r\n            List&lt;String&gt; ls = productService.getSliderContent();\r\n            return ls;\r\n        }\r\n    }\r\n```\r\n\r\nI got data as json\r\n```\r\n[&quot;1, https://cdn.x-kom.pl/i/setup/images/prod/big/product-new-big, , 2021/10/pr_2021_10_8_14_22_27_699_08.jpg, Acer Swift 3 i5-1135G7/16GB/512/W11 Srebrny Intel Evo, 4800, 4500&quot;]\r\n```\r\n\r\nExpected data in this format:\r\n```\r\n[&quot;id: 1, image: &#39;https://cdn.x-kom.pl/i/setup/images/prod/big/product-new-big, ,2021/10/pr_2021_10_8_14_22_27_699_08.jpg&#39;, product name: &#39;Acer Swift 3 i5-1135G7/16GB/512/W11 Srebrny Intel Evo&#39;, price: 4800, new_price: 4500&quot;]\r\n```\r\n\r\nCan someone explain how to do it? I return data as `String` that&#39;s a problem, but how can i return `Json` object with native query?\r\n\r\n","title":"Why getting only values instead of keys and values in JSON response","body":"<p>I am trying to retrieve data from database using an SQL native query but I am getting only values instead of keys and values in JSON response. How can i retrieve data with key and value in Json response?</p>\n<p>Entity:</p>\n<pre><code>    @Entity\n    @Getter\n    @Setter\n    @NoArgsConstructor\n    @AllArgsConstructor\n    @Table(name = &quot;Products&quot;)\n    public class ProductModel {\n    \n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        @Id\n        private Long id;\n    \n        @Column(name = &quot;Category&quot;)\n        private String category;\n    \n        @Column(name = &quot;ProductName&quot;)\n        @Lob\n        private String productName;\n    \n        @Column(name = &quot;Price&quot;)\n        private int price;\n    \n        @Column(name = &quot;Slider&quot;)\n        private Boolean slider;\n    \n        @Column(name = &quot;SpecialOffer&quot;)\n        private Boolean specialOffer;\n    \n        @Column(name = &quot;NewPrice&quot;)\n        private int newPrice;\n    \n        @Column(name = &quot;FullDescription&quot;)\n        @Lob\n        private String fullDescription;\n    \n        @Column(name = &quot;Image&quot;)\n        @Lob\n        private String image;\n    }\n</code></pre>\n<p>Repository:</p>\n<pre><code>    @Repository\n    public interface ProductRepository extends JpaRepository&lt;ProductModel, Long&gt; {  \n\n        @Query(value = &quot;select id,image,product_name,price,new_price from products where slider is true&quot;, nativeQuery = true)\n        List&lt;String&gt; getSliderContent();\n    }\n</code></pre>\n<p>Service</p>\n<pre><code>    @Service\n    public class ProductService {\n \n        @Autowired\n        private ProductRepository productRepository;\n    \n        public List&lt;String&gt; getSliderContent(){\n            List&lt;String&gt; lstMovie = new ArrayList&lt;&gt;();\n            lstMovie = productRepository.getSliderContent();\n            return lstMovie;\n        }\n    }\n</code></pre>\n<p>Controller:</p>\n<pre><code>    @CrossOrigin(&quot;*&quot;)\n    @RestController\n    @RequestMapping(&quot;/products&quot;)\n    public class ProductController {\n        @Autowired\n        private ProductService productService;\n    \n        @GetMapping(&quot;/sl&quot;)\n        public List&lt;String&gt; getSliderContent(){\n            List&lt;String&gt; ls = productService.getSliderContent();\n            return ls;\n        }\n    }\n</code></pre>\n<p>I got data as json</p>\n<pre><code>[&quot;1, https://cdn.x-kom.pl/i/setup/images/prod/big/product-new-big, , 2021/10/pr_2021_10_8_14_22_27_699_08.jpg, Acer Swift 3 i5-1135G7/16GB/512/W11 Srebrny Intel Evo, 4800, 4500&quot;]\n</code></pre>\n<p>Expected data in this format:</p>\n<pre><code>[&quot;id: 1, image: 'https://cdn.x-kom.pl/i/setup/images/prod/big/product-new-big, ,2021/10/pr_2021_10_8_14_22_27_699_08.jpg', product name: 'Acer Swift 3 i5-1135G7/16GB/512/W11 Srebrny Intel Evo', price: 4800, new_price: 4500&quot;]\n</code></pre>\n<p>Can someone explain how to do it? I return data as <code>String</code> that's a problem, but how can i return <code>Json</code> object with native query?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":1661461,"reputation":33827,"user_id":1529673,"accept_rate":90,"display_name":"Strawberry"},"score":0,"creation_date":1480116241,"post_id":40813266,"comment_id":68846911,"body_markdown":"At the very least, store it in yyyymm format.","body":"At the very least, store it in yyyymm format."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1480125988,"post_id":40813266,"comment_id":68848731,"body_markdown":"@Strawberry Actually, [YYYY-MM](https://en.wikipedia.org/wiki/ISO_8601#Calendar_dates) is [the standard format](https://en.wikipedia.org/wiki/ISO_8601).","body":"@Strawberry Actually, <a href=\"https://en.wikipedia.org/wiki/ISO_8601#Calendar_dates\" rel=\"nofollow noreferrer\">YYYY-MM</a> is <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">the standard format</a>."}],"answers":[{"tags":[],"owner":{"account_id":4963389,"reputation":72151,"user_id":3993662,"accept_rate":93,"display_name":"baao"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647853865,"creation_date":1480115667,"answer_id":40813299,"question_id":40813266,"body_markdown":"You shouldn&#39;t do that, and there&#39;s no native way to do so. Just save it as a normal `DATE` in MySQL and, when you query the database `SELECT MONTH(datefield), YEAR(datefield)` or parse the date with Java.\r\n\r\nThe MySQL date and datetime types consist of a date including a day (or including a time). In order to be able to query for a *range* and other date related stuff, you should stick to the intended way of storing dates. MySQL has excellent datetime functions, you shouldn&#39;t do something that takes them away from you. ","title":"Creating only month and year column in MySQL database","body":"<p>You shouldn't do that, and there's no native way to do so. Just save it as a normal <code>DATE</code> in MySQL and, when you query the database <code>SELECT MONTH(datefield), YEAR(datefield)</code> or parse the date with Java.</p>\n<p>The MySQL date and datetime types consist of a date including a day (or including a time). In order to be able to query for a <em>range</em> and other date related stuff, you should stick to the intended way of storing dates. MySQL has excellent datetime functions, you shouldn't do something that takes them away from you.</p>\n"},{"tags":[],"owner":{"account_id":2420596,"reputation":214,"user_id":2113635,"accept_rate":78,"display_name":"P. Ekouaghe"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1480115859,"creation_date":1480115859,"answer_id":40813327,"question_id":40813266,"body_markdown":"Instead of storing it in this format, maybe the best approach is to store it as a normal date with the day always set to the first day of the month. \r\nAnd then at retrieval time you format the date, with something like a SimpleDateFormat, to only get the month and year and return it to your UI.","title":"Creating only month and year column in MySQL database","body":"<p>Instead of storing it in this format, maybe the best approach is to store it as a normal date with the day always set to the first day of the month. \nAnd then at retrieval time you format the date, with something like a SimpleDateFormat, to only get the month and year and return it to your UI.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1480127040,"creation_date":1480118023,"answer_id":40813600,"question_id":40813266,"body_markdown":"# ISO 8601\r\n\r\nThe [ISO 8601][1] standard defines many formats for strings representing date-time values. One of them is for a year and a month without any date, without a time zone, and without a time-of-day: `YYYY-MM`. Example: `2016-02` for February 2016.\r\n\r\n# Database storage\r\n\r\nSave these standard strings in a textual column in your database. Note that sorting alphabetically also means chronological ordering.\r\n\r\n# Java\r\n\r\nThe java.time classes use ISO 8601 standard formats by default when parsing/generating strings that represent date-time values.\r\n\r\nThe [`YearMonth`][2] class represents a year-and-month values without a date. Within your app, use these objects rather than mere strings or numbers. Doing so provides type-safety, ensures valid values, and makes your code more self-documenting.\r\n\r\n    YearMonth ym = YearMonth.of( 2016 , 2 );\r\n    String output = ym.toString();  // 2016-02\r\n\r\nAnd going the other direction, parsing a standard string.\r\n\r\n    YearMonth ym = YearMonth.parse( &quot;2016-02&quot; );\r\n\r\n# Queries\r\n\r\nYou can perform textual queries as the standard formats are chronological when sorted alphabetically. The people on that ISO committee are so clever.\r\n\r\nFor example, to query for values in the first quarter of the year 2016:\r\n\r\n&lt;!-- language: lang-sql --&gt;\r\n\r\n    WHERE expiration &gt;= &#39;2016-01&#39; \r\n    AND expiration &lt;= &#39;2016-03&#39;\r\n\r\nAlso, in date-time work we usually use *Half-Open* approach to spans of time where the beginning is *inclusive* while the ending is *exclusive*.\r\n\r\n    WHERE expiration &gt;= &#39;2016-01&#39; \r\n    AND expiration &lt; &#39;2016-04&#39;  // Up to, but not including, the month at end of this span.\r\n\r\nOf course, you really should be using `PreparedStatement` rather than raw SQL query.\r\n\r\n    YearMonth q2016_ymStart = YearMonth.of( 2016 , 1 );  // 2016-01\r\n    YearMonth q2016_ymStop = q2016_ymStart.plusMonths( 3 );  // 2016-04 for half-open quarter.\r\n    …\r\n    myPreparedStatement.setString( … , q2016_ymStart.toString() );\r\n    myPreparedStatement.setString( … , q2016_ymStop.toString() );\r\n\r\nAnd speaking of quarters, see the [*ThreeTen-Extra*][3] project for [`YearQuarter`][4] and [`Quarter`][5] classes.\r\n\r\n# `LocalDate`\r\n\r\nTo transform a `YearMonth` to a date, use the [`LocalDate`][6] class.\r\n\r\n    LocalDate firstOfMonth = ym.atDay( 1 );\r\n    LocalDate endOfMonth = ym.atEndOfMonth();\r\n\r\n# `ZonedDateTime`\r\n\r\nTo transform a `YearMonth` into a moment on the timeline, specify a time zone for the context intended by your business scenario. Let java.time determine the first moment of the day, as the first moment is *not* always `00:00:00`.\r\n\r\n    ZoneId z = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = ym.atDay( 1 ).atStartOfDay( z );\r\n\r\n# Database access\r\n\r\nFor database access, your JDBC 4.2 compliant driver may be able to handle these java.time types directly by calling the `PreparedStatement::setObject` and `ResultSet::getObject` methods.\r\n\r\nIf not, fall back to converting the java.time types to the old java.sql types using new methods added to those old classes. Search Stack Overflow for much more info.\r\n\r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to java.time.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8) and [**SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [*ThreeTenABP*](https://github.com/JakeWharton/ThreeTenABP) project adapts ***ThreeTen-Backport*** (mentioned above) for Android specifically.\r\n  - See [*How to use…*](https://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\r\n  [3]: http://www.threeten.org/threeten-extra/\r\n  [4]: http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\r\n  [5]: http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Quarter.html\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html","title":"Creating only month and year column in MySQL database","body":"<h1>ISO 8601</h1>\n\n<p>The <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> standard defines many formats for strings representing date-time values. One of them is for a year and a month without any date, without a time zone, and without a time-of-day: <code>YYYY-MM</code>. Example: <code>2016-02</code> for February 2016.</p>\n\n<h1>Database storage</h1>\n\n<p>Save these standard strings in a textual column in your database. Note that sorting alphabetically also means chronological ordering.</p>\n\n<h1>Java</h1>\n\n<p>The java.time classes use ISO 8601 standard formats by default when parsing/generating strings that represent date-time values.</p>\n\n<p>The <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/YearMonth.html\" rel=\"nofollow noreferrer\"><code>YearMonth</code></a> class represents a year-and-month values without a date. Within your app, use these objects rather than mere strings or numbers. Doing so provides type-safety, ensures valid values, and makes your code more self-documenting.</p>\n\n<pre><code>YearMonth ym = YearMonth.of( 2016 , 2 );\nString output = ym.toString();  // 2016-02\n</code></pre>\n\n<p>And going the other direction, parsing a standard string.</p>\n\n<pre><code>YearMonth ym = YearMonth.parse( \"2016-02\" );\n</code></pre>\n\n<h1>Queries</h1>\n\n<p>You can perform textual queries as the standard formats are chronological when sorted alphabetically. The people on that ISO committee are so clever.</p>\n\n<p>For example, to query for values in the first quarter of the year 2016:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>WHERE expiration &gt;= '2016-01' \nAND expiration &lt;= '2016-03'\n</code></pre>\n\n<p>Also, in date-time work we usually use <em>Half-Open</em> approach to spans of time where the beginning is <em>inclusive</em> while the ending is <em>exclusive</em>.</p>\n\n<pre><code>WHERE expiration &gt;= '2016-01' \nAND expiration &lt; '2016-04'  // Up to, but not including, the month at end of this span.\n</code></pre>\n\n<p>Of course, you really should be using <code>PreparedStatement</code> rather than raw SQL query.</p>\n\n<pre><code>YearMonth q2016_ymStart = YearMonth.of( 2016 , 1 );  // 2016-01\nYearMonth q2016_ymStop = q2016_ymStart.plusMonths( 3 );  // 2016-04 for half-open quarter.\n…\nmyPreparedStatement.setString( … , q2016_ymStart.toString() );\nmyPreparedStatement.setString( … , q2016_ymStop.toString() );\n</code></pre>\n\n<p>And speaking of quarters, see the <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\"><em>ThreeTen-Extra</em></a> project for <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a> and <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Quarter.html\" rel=\"nofollow noreferrer\"><code>Quarter</code></a> classes.</p>\n\n<h1><code>LocalDate</code></h1>\n\n<p>To transform a <code>YearMonth</code> to a date, use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class.</p>\n\n<pre><code>LocalDate firstOfMonth = ym.atDay( 1 );\nLocalDate endOfMonth = ym.atEndOfMonth();\n</code></pre>\n\n<h1><code>ZonedDateTime</code></h1>\n\n<p>To transform a <code>YearMonth</code> into a moment on the timeline, specify a time zone for the context intended by your business scenario. Let java.time determine the first moment of the day, as the first moment is <em>not</em> always <code>00:00:00</code>.</p>\n\n<pre><code>ZoneId z = ZoneId.of( \"America/Montreal\" );\nZonedDateTime zdt = ym.atDay( 1 ).atStartOfDay( z );\n</code></pre>\n\n<h1>Database access</h1>\n\n<p>For database access, your JDBC 4.2 compliant driver may be able to handle these java.time types directly by calling the <code>PreparedStatement::setObject</code> and <code>ResultSet::getObject</code> methods.</p>\n\n<p>If not, fall back to converting the java.time types to the old java.sql types using new methods added to those old classes. Search Stack Overflow for much more info.</p>\n\n<hr>\n\n<h1>About java.time</h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to java.time.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>SE 9</strong></a> and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em>ThreeTenABP</em></a> project adapts <strong><em>ThreeTen-Backport</em></strong> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}],"owner":{"display_name":"user7197002"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3845,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":40813327,"answer_count":3,"score":5,"last_activity_date":1647853865,"creation_date":1480115344,"question_id":40813266,"body_markdown":"I&#39;m creating a little program with Java. In the date field which is a `ComboBox` for selecting only month and date as `02/2016`.\r\n\r\nIs there a way to record this date format in MySQL in a `mm/yy` field only?","title":"Creating only month and year column in MySQL database","body":"<p>I'm creating a little program with Java. In the date field which is a <code>ComboBox</code> for selecting only month and date as <code>02/2016</code>.</p>\n<p>Is there a way to record this date format in MySQL in a <code>mm/yy</code> field only?</p>\n"},{"tags":["java","multithreading","program-entry-point","void"],"comments":[{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":7,"creation_date":1461162592,"post_id":36746993,"comment_id":61074944,"body_markdown":"because that&#180;s what `Thread#toString` does print.","body":"because that&#180;s what <code>Thread#toString</code> does print."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1461162620,"post_id":36746993,"comment_id":61074969,"body_markdown":"The code is trying to get a String representation of the object. That is done by calling the ``toString()`` method of the ``Thread`` class. Take a look at that implementation to find out more.","body":"The code is trying to get a String representation of the object. That is done by calling the <code>toString()</code> method of the <code>Thread</code> class. Take a look at that implementation to find out more."},{"owner":{"account_id":2011141,"reputation":7317,"user_id":1799530,"accept_rate":47,"display_name":"SomeJavaGuy"},"score":1,"creation_date":1461162735,"post_id":36746993,"comment_id":61075063,"body_markdown":"@DeepShah [here&#180;s an SO question for this](http://stackoverflow.com/questions/1269807/what-is-the-value-for-main-thread-priority)","body":"@DeepShah <a href=\"http://stackoverflow.com/questions/1269807/what-is-the-value-for-main-thread-priority\">here&#180;s an SO question for this</a>"}],"answers":[{"tags":[],"owner":{"account_id":2779715,"reputation":774,"user_id":2392469,"display_name":"gmaslowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1461162632,"creation_date":1461162632,"answer_id":36747033,"question_id":36746993,"body_markdown":"Because of:\r\n\r\n    /**\r\n     * Returns a string representation of this thread, including the\r\n     * thread&#39;s name, priority, and thread group.\r\n     *\r\n     * @return  a string representation of this thread.\r\n     */\r\n    public String toString() {\r\n        ThreadGroup group = getThreadGroup();\r\n        if (group != null) {\r\n            return &quot;Thread[&quot; + getName() + &quot;,&quot; + getPriority() + &quot;,&quot; +\r\n                           group.getName() + &quot;]&quot;;\r\n        } else {\r\n            return &quot;Thread[&quot; + getName() + &quot;,&quot; + getPriority() + &quot;,&quot; +\r\n                            &quot;&quot; + &quot;]&quot;;\r\n        }\r\n    }","title":"Why the out put of below code is Thread[main,5,main]","body":"<p>Because of:</p>\n\n<pre><code>/**\n * Returns a string representation of this thread, including the\n * thread's name, priority, and thread group.\n *\n * @return  a string representation of this thread.\n */\npublic String toString() {\n    ThreadGroup group = getThreadGroup();\n    if (group != null) {\n        return \"Thread[\" + getName() + \",\" + getPriority() + \",\" +\n                       group.getName() + \"]\";\n    } else {\n        return \"Thread[\" + getName() + \",\" + getPriority() + \",\" +\n                        \"\" + \"]\";\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":108457,"reputation":1980,"user_id":287857,"accept_rate":61,"display_name":"AdrianS"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1461162635,"creation_date":1461162635,"answer_id":36747035,"question_id":36746993,"body_markdown":"&gt; Returns a string representation of this thread, including the thread&#39;s\r\n&gt; name, priority, and thread group.\r\n\r\nSource: https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#toString()","title":"Why the out put of below code is Thread[main,5,main]","body":"<blockquote>\n  <p>Returns a string representation of this thread, including the thread's\n  name, priority, and thread group.</p>\n</blockquote>\n\n<p>Source: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#toString()\" rel=\"noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#toString()</a></p>\n"},{"tags":[],"owner":{"account_id":6554205,"reputation":8514,"user_id":5067493,"accept_rate":81,"display_name":"Shree Krishna"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1461162744,"creation_date":1461162744,"answer_id":36747094,"question_id":36746993,"body_markdown":"Because [`thread.toString()`][1] returns a string representation of this thread, including the thread&#39;s name, priority, and thread group.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html","title":"Why the out put of below code is Thread[main,5,main]","body":"<p>Because <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html\" rel=\"noreferrer\"><code>thread.toString()</code></a> returns a string representation of this thread, including the thread's name, priority, and thread group.</p>\n"},{"tags":[],"owner":{"account_id":6598561,"reputation":4268,"user_id":5097539,"accept_rate":17,"display_name":"Francis Bacon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647853833,"creation_date":1647853833,"answer_id":71555131,"question_id":36746993,"body_markdown":"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#toString()\r\n\r\n```\r\npublic String toString()\r\nReturns a string representation of this thread, including the thread&#39;s name, priority, and thread group.\r\n```\r\n\r\nHere is how we can find the definition:\r\n\r\n```\r\n    @FastNative\r\n    public static native Thread currentThread();\r\n    \r\n```\r\n\r\nThere is no need to check the native method, just notice that the return type is Thread, so check the Thread.toString definition in Thread.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAndroid SDK has the source code.\r\n```\r\n    /**\r\n     * Returns a string representation of this thread, including the\r\n     * thread&#39;s name, priority, and thread group.\r\n     *\r\n     * @return  a string representation of this thread.\r\n     */\r\n    public String toString() {\r\n        ThreadGroup group = getThreadGroup();\r\n        if (group != null) {\r\n            return &quot;Thread[&quot; + getName() + &quot;,&quot; + getPriority() + &quot;,&quot; +\r\n                           group.getName() + &quot;]&quot;;\r\n        } else {\r\n            return &quot;Thread[&quot; + getName() + &quot;,&quot; + getPriority() + &quot;,&quot; +\r\n                            &quot;&quot; + &quot;]&quot;;\r\n        }\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7StSq.png","title":"Why the out put of below code is Thread[main,5,main]","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#toString()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#toString()</a></p>\n<pre><code>public String toString()\nReturns a string representation of this thread, including the thread's name, priority, and thread group.\n</code></pre>\n<p>Here is how we can find the definition:</p>\n<pre><code>    @FastNative\n    public static native Thread currentThread();\n    \n</code></pre>\n<p>There is no need to check the native method, just notice that the return type is Thread, so check the Thread.toString definition in Thread.</p>\n<p><a href=\"https://i.stack.imgur.com/7StSq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7StSq.png\" alt=\"enter image description here\" /></a></p>\n<p>Android SDK has the source code.</p>\n<pre><code>    /**\n     * Returns a string representation of this thread, including the\n     * thread's name, priority, and thread group.\n     *\n     * @return  a string representation of this thread.\n     */\n    public String toString() {\n        ThreadGroup group = getThreadGroup();\n        if (group != null) {\n            return &quot;Thread[&quot; + getName() + &quot;,&quot; + getPriority() + &quot;,&quot; +\n                           group.getName() + &quot;]&quot;;\n        } else {\n            return &quot;Thread[&quot; + getName() + &quot;,&quot; + getPriority() + &quot;,&quot; +\n                            &quot;&quot; + &quot;]&quot;;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":6833706,"reputation":198,"user_id":5256578,"display_name":"Deep Shah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4334,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"accepted_answer_id":36747094,"answer_count":4,"score":0,"last_activity_date":1647853833,"creation_date":1461162529,"question_id":36746993,"body_markdown":"    public class test1 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tThread t = Thread.currentThread();\r\n    \t\tSystem.out.println(t);\r\n    \t}\r\n    }\r\n\r\nWhy the output of above code is - Thread[main,5,main] ?\r\nPlease Explain\r\n","title":"Why the out put of below code is Thread[main,5,main]","body":"<pre><code>public class test1 {\n    public static void main(String[] args) {\n        // TODO Auto-generated method stub\n        Thread t = Thread.currentThread();\n        System.out.println(t);\n    }\n}\n</code></pre>\n\n<p>Why the output of above code is - Thread[main,5,main] ?\nPlease Explain</p>\n"},{"tags":["java","jooq","micronaut","micrometer"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647853671,"creation_date":1647853671,"answer_id":71555100,"question_id":71534291,"body_markdown":"A `DSLContext` just wraps a `Configuration`. It doesn&#39;t have its own lifecycle. So, if you&#39;re modifying the `Configuration.data()` map through `DSLContext`, you&#39;re modifying a globally shared object. In other words, you must not modify `Configuration.data()` except for when you initialise your configuration for the first time. [See this section of the manual for more details][1].\r\n\r\nA better way to do what you intend to do is:\r\n\r\n```java\r\n// Create a &quot;derived&quot; configuration, which is a new, \r\n// independent Configuration instance\r\nDSLContext context = DSL.using(jooqConfiguration.derive());\r\ncontext.data(&quot;queryName&quot;, &quot;query1&quot;);\r\nreturn context.select(1).from(&quot;dual&quot;).fetch();\r\n```\r\n\r\nAnd then, in your `ExecuteListener`:\r\n\r\n```java\r\n@Override\r\npublic void fetchEnd(ExecuteContext ctx) {\r\n    // Reading the Configuration.data() is still fine:\r\n    Tags prometheusTag = Tags.of(&quot;queryName&quot;, \r\n        ctx.configuration().data(&quot;queryName&quot;).toString());\r\n    meterRegistry.timer(&quot;sql.query.timer&quot;, prometheusTag)\r\n        .record(watch.split(), TimeUnit.NANOSECONDS);\r\n}\r\n\r\n@Override\r\npublic void end(ExecuteContext ctx) {\r\n    // But you shouldn&#39;t modify it\r\n    ctx.configuration().data().remove(&quot;queryName&quot;);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/\r\n","title":"JOOQ listeners: context data is not cleaned between two queries","body":"<p>A <code>DSLContext</code> just wraps a <code>Configuration</code>. It doesn't have its own lifecycle. So, if you're modifying the <code>Configuration.data()</code> map through <code>DSLContext</code>, you're modifying a globally shared object. In other words, you must not modify <code>Configuration.data()</code> except for when you initialise your configuration for the first time. <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dsl-context/\" rel=\"nofollow noreferrer\">See this section of the manual for more details</a>.</p>\n<p>A better way to do what you intend to do is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Create a &quot;derived&quot; configuration, which is a new, \n// independent Configuration instance\nDSLContext context = DSL.using(jooqConfiguration.derive());\ncontext.data(&quot;queryName&quot;, &quot;query1&quot;);\nreturn context.select(1).from(&quot;dual&quot;).fetch();\n</code></pre>\n<p>And then, in your <code>ExecuteListener</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void fetchEnd(ExecuteContext ctx) {\n    // Reading the Configuration.data() is still fine:\n    Tags prometheusTag = Tags.of(&quot;queryName&quot;, \n        ctx.configuration().data(&quot;queryName&quot;).toString());\n    meterRegistry.timer(&quot;sql.query.timer&quot;, prometheusTag)\n        .record(watch.split(), TimeUnit.NANOSECONDS);\n}\n\n@Override\npublic void end(ExecuteContext ctx) {\n    // But you shouldn't modify it\n    ctx.configuration().data().remove(&quot;queryName&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":24144051,"reputation":13,"user_id":18109927,"display_name":"loiczz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71555100,"answer_count":1,"score":1,"last_activity_date":1647853671,"creation_date":1647647468,"question_id":71534291,"body_markdown":"In my current project, I use java 11/JOOQ 3.15/Micronaut/Micrometer. In order to have relevant SQL metrics, I would like to put a name on my JOOQ queries.\r\n\r\nTo do that, I have tried to use the `ctx.data()` field combined with a custom ExecuteListener.\r\n\r\nLet&#39;s take a really simplified listener:\r\n\r\n```java \r\n@Singleton\r\npublic class JooqListener extends DefaultExecuteListener {\r\n\r\n    transient StopWatch watch;\r\n    private final MeterRegistry meterRegistry;\r\n\r\n    public JooqListener(MeterRegistry meterRegistry) {\r\n        this.meterRegistry = meterRegistry;\r\n    }\r\n    \r\n    @Override\r\n    public void executeStart(ExecuteContext ctx) {\r\n        watch = new StopWatch();\r\n    }\r\n\r\n    @Override\r\n    public void fetchEnd(ExecuteContext ctx) {\r\n        Tags prometheusTag = Tags.of(&quot;queryName&quot;, ctx.configuration().data(&quot;queryName&quot;).toString());\r\n        meterRegistry.timer(&quot;sql.query.timer&quot;, prometheusTag)\r\n            .record(watch.split(), TimeUnit.NANOSECONDS);\r\n    }\r\n    // I have tried to remove the data manually, but not working\r\n    @Override\r\n    public void end(ExecuteContext ctx) {\r\n        ctx.configuration().data().remove(&quot;queryName&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIf I send 2 different queries from two different repositories, like for example:\r\n``` java\r\nDSLContext context = DSL.using(jooqConfiguration);\r\ncontext.data(&quot;queryName&quot;, &quot;query1&quot;);\r\nreturn context.select(1).from(&quot;dual&quot;).fetch();\r\n```\r\nAnd just after, let say I&#39;m not attentive and I forgot to name my query:\r\n```java\r\nDSLContext context = DSL.using(jooqConfiguration);\r\nreturn context.select(2).from(&quot;dual&quot;).fetch();\r\n```\r\n\r\n`ctx.configuration().data(&quot;queryName&quot;)` in my listener will always contain &quot;query1&quot;, which I didn&#39;t expect because ExecuteListeners are listening query by query, and furthermore, I have created two different DSLContexts. It looks like the `ctx.data()` cannot be cleaned but just overwritten.\r\n\r\nIs it an expected behaviour? Is there an other object/method I should use which can be limited to the query scope? (I searched a lot on google but &quot;data&quot; keyword is a little bit annoying...)\r\n\r\nThank you","title":"JOOQ listeners: context data is not cleaned between two queries","body":"<p>In my current project, I use java 11/JOOQ 3.15/Micronaut/Micrometer. In order to have relevant SQL metrics, I would like to put a name on my JOOQ queries.</p>\n<p>To do that, I have tried to use the <code>ctx.data()</code> field combined with a custom ExecuteListener.</p>\n<p>Let's take a really simplified listener:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Singleton\npublic class JooqListener extends DefaultExecuteListener {\n\n    transient StopWatch watch;\n    private final MeterRegistry meterRegistry;\n\n    public JooqListener(MeterRegistry meterRegistry) {\n        this.meterRegistry = meterRegistry;\n    }\n    \n    @Override\n    public void executeStart(ExecuteContext ctx) {\n        watch = new StopWatch();\n    }\n\n    @Override\n    public void fetchEnd(ExecuteContext ctx) {\n        Tags prometheusTag = Tags.of(&quot;queryName&quot;, ctx.configuration().data(&quot;queryName&quot;).toString());\n        meterRegistry.timer(&quot;sql.query.timer&quot;, prometheusTag)\n            .record(watch.split(), TimeUnit.NANOSECONDS);\n    }\n    // I have tried to remove the data manually, but not working\n    @Override\n    public void end(ExecuteContext ctx) {\n        ctx.configuration().data().remove(&quot;queryName&quot;);\n    }\n}\n</code></pre>\n<p>If I send 2 different queries from two different repositories, like for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DSLContext context = DSL.using(jooqConfiguration);\ncontext.data(&quot;queryName&quot;, &quot;query1&quot;);\nreturn context.select(1).from(&quot;dual&quot;).fetch();\n</code></pre>\n<p>And just after, let say I'm not attentive and I forgot to name my query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DSLContext context = DSL.using(jooqConfiguration);\nreturn context.select(2).from(&quot;dual&quot;).fetch();\n</code></pre>\n<p><code>ctx.configuration().data(&quot;queryName&quot;)</code> in my listener will always contain &quot;query1&quot;, which I didn't expect because ExecuteListeners are listening query by query, and furthermore, I have created two different DSLContexts. It looks like the <code>ctx.data()</code> cannot be cleaned but just overwritten.</p>\n<p>Is it an expected behaviour? Is there an other object/method I should use which can be limited to the query scope? (I searched a lot on google but &quot;data&quot; keyword is a little bit annoying...)</p>\n<p>Thank you</p>\n"},{"tags":["java","maven","testing","automation","pom.xml"],"comments":[{"owner":{"account_id":3837785,"reputation":277,"user_id":3181718,"display_name":"jr593"},"score":1,"creation_date":1647853568,"post_id":71555012,"comment_id":126466425,"body_markdown":"So it seems there is an issue with SLF4J trying to start up. My guess is that the library is available in the class path where the tests work, but not on your home machine.","body":"So it seems there is an issue with SLF4J trying to start up. My guess is that the library is available in the class path where the tests work, but not on your home machine."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1647853664,"post_id":71555012,"comment_id":126466457,"body_markdown":"That SLF4J error just means nothing is being logged. This isn&#39;t the cause for test failures.","body":"That SLF4J error just means nothing is being logged. This isn&#39;t the cause for test failures."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1647853694,"post_id":71555012,"comment_id":126466467,"body_markdown":"Maven usually prints which individual tests failed, somewhere above the `There are test failures.` You need to include this information in the question.","body":"Maven usually prints which individual tests failed, somewhere above the <code>There are test failures.</code> You need to include this information in the question."}],"owner":{"account_id":24627723,"reputation":1,"user_id":18527265,"display_name":"Volodymyr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647853257,"creation_date":1647853257,"question_id":71555012,"body_markdown":"I&#39;m just getting started in automated testing. I can&#39;t run the project at home and I don&#39;t understand what&#39;s wrong. Please help me.\r\n\r\nI have the following pom.xml:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;???&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;???&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;aspectj.version&gt;1.9.5&lt;/aspectj.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.iban4j&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;iban4j&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.2.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;4.12&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.5.0-b01&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;42.2.18&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.17.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.141.59&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.3&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.6&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.appium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;java-client&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;7.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;selenium-ie-driver&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.141.59&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;allure-junit4&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.13.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\r\n    \t\t&lt;testSourceDirectory&gt;src&lt;/testSourceDirectory&gt;\r\n    \r\n    \t\t&lt;testResources&gt;\r\n    \t\t\t&lt;testResource&gt;\r\n    \t\t\t\t&lt;directory&gt;src&lt;/directory&gt;\r\n    \t\t\t&lt;/testResource&gt;\r\n    \t\t&lt;/testResources&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;11&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;11&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.22.2&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;forkCount&gt;2&lt;/forkCount&gt;\r\n    \t\t\t\t\t&lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n    \t\t\t\t\t&lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\r\n    \t\t\t\t\t&lt;rerunFailingTestsCount&gt;2&lt;/rerunFailingTestsCount&gt;\r\n    \t\t\t\t\t&lt;argLine&gt;\r\n    \t\t\t\t\t\t-javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\r\n    \t\t\t\t\t&lt;/argLine&gt;\r\n    \t\t\t\t\t&lt;properties&gt;\r\n    \t\t\t\t\t\t&lt;property&gt;\r\n    \t\t\t\t\t\t\t&lt;name&gt;listener&lt;/name&gt;\r\n    \t\t\t\t\t\t\t&lt;value&gt;io.qameta.allure.junit4.AllureJunit4&lt;/value&gt;\r\n    \t\t\t\t\t\t&lt;/property&gt;\r\n    \t\t\t\t\t&lt;/properties&gt;\r\n    \t\t\t\t\t&lt;includes&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/account/**&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/objectsMainFlow/**&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/dksu/**&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/registration/**&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/roles/**&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/salary/**&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/settings/**&lt;/include&gt;\r\n    \t\t\t\t\t\t&lt;include&gt;**/reports/**&lt;/include&gt;\r\n    \t\t\t\t\t&lt;/includes&gt;\r\n    \t\t\t\t\t&lt;systemProperties&gt;\r\n    \t\t\t\t\t\t&lt;property&gt;\r\n    \t\t\t\t\t\t\t&lt;name&gt;allure.results.directory&lt;/name&gt;\r\n    \t\t\t\t\t\t\t&lt;value&gt;${project.build.directory}/allure-results&lt;/value&gt;\r\n    \t\t\t\t\t\t&lt;/property&gt;\r\n    \t\t\t\t\t&lt;/systemProperties&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;dependencies&gt;\r\n    \t\t\t\t\t&lt;dependency&gt;\r\n    \t\t\t\t\t\t&lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n    \t\t\t\t\t\t&lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n    \t\t\t\t\t&lt;/dependency&gt;\r\n    \t\t\t\t&lt;/dependencies&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.10.0&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;reportVersion&gt;2.13.0&lt;/reportVersion&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nMy goal is to run autotests.\r\n\r\nThere are test failures.\r\n\r\nPlease refer to F:\\test2\\??????????\\surefire-reports for the individual test results.\r\nPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n\r\n[WARNING] Using platform encoding (windows-1251 actually) to copy filtered resources, i.e. build is platform dependent!\r\n\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.","title":"I can&#39;t run autotests on my home computer. (Maven)","body":"<p>I'm just getting started in automated testing. I can't run the project at home and I don't understand what's wrong. Please help me.</p>\n<p>I have the following pom.xml:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;???&lt;/groupId&gt;\n    &lt;artifactId&gt;???&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n\n\n    &lt;properties&gt;\n        &lt;aspectj.version&gt;1.9.5&lt;/aspectj.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.iban4j&lt;/groupId&gt;\n            &lt;artifactId&gt;iban4j&lt;/artifactId&gt;\n            &lt;version&gt;3.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;version&gt;4.12&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\n            &lt;version&gt;1.5.0-b01&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.2.18&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n            &lt;version&gt;3.17.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hamcrest&lt;/groupId&gt;\n            &lt;artifactId&gt;hamcrest-all&lt;/artifactId&gt;\n            &lt;version&gt;1.3&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n            &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n            &lt;version&gt;5.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.appium&lt;/groupId&gt;\n            &lt;artifactId&gt;java-client&lt;/artifactId&gt;\n            &lt;version&gt;7.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-ie-driver&lt;/artifactId&gt;\n            &lt;version&gt;3.141.59&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n            &lt;artifactId&gt;allure-junit4&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src&lt;/sourceDirectory&gt;\n        &lt;testSourceDirectory&gt;src&lt;/testSourceDirectory&gt;\n\n        &lt;testResources&gt;\n            &lt;testResource&gt;\n                &lt;directory&gt;src&lt;/directory&gt;\n            &lt;/testResource&gt;\n        &lt;/testResources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;11&lt;/source&gt;\n                    &lt;target&gt;11&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;forkCount&gt;2&lt;/forkCount&gt;\n                    &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n                    &lt;testFailureIgnore&gt;false&lt;/testFailureIgnore&gt;\n                    &lt;rerunFailingTestsCount&gt;2&lt;/rerunFailingTestsCount&gt;\n                    &lt;argLine&gt;\n                        -javaagent:&quot;${settings.localRepository}/org/aspectj/aspectjweaver/${aspectj.version}/aspectjweaver-${aspectj.version}.jar&quot;\n                    &lt;/argLine&gt;\n                    &lt;properties&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;listener&lt;/name&gt;\n                            &lt;value&gt;io.qameta.allure.junit4.AllureJunit4&lt;/value&gt;\n                        &lt;/property&gt;\n                    &lt;/properties&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/account/**&lt;/include&gt;\n                        &lt;include&gt;**/objectsMainFlow/**&lt;/include&gt;\n                        &lt;include&gt;**/dksu/**&lt;/include&gt;\n                        &lt;include&gt;**/registration/**&lt;/include&gt;\n                        &lt;include&gt;**/roles/**&lt;/include&gt;\n                        &lt;include&gt;**/salary/**&lt;/include&gt;\n                        &lt;include&gt;**/settings/**&lt;/include&gt;\n                        &lt;include&gt;**/reports/**&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;systemProperties&gt;\n                        &lt;property&gt;\n                            &lt;name&gt;allure.results.directory&lt;/name&gt;\n                            &lt;value&gt;${project.build.directory}/allure-results&lt;/value&gt;\n                        &lt;/property&gt;\n                    &lt;/systemProperties&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;io.qameta.allure&lt;/groupId&gt;\n                &lt;artifactId&gt;allure-maven&lt;/artifactId&gt;\n                &lt;version&gt;2.10.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;reportVersion&gt;2.13.0&lt;/reportVersion&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My goal is to run autotests.</p>\n<p>There are test failures.</p>\n<p>Please refer to F:\\test2??????????\\surefire-reports for the individual test results.\nPlease refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.</p>\n<p>[WARNING] Using platform encoding (windows-1251 actually) to copy filtered resources, i.e. build is platform dependent!</p>\n<p>SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#StaticLoggerBinder</a> for further details.\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See <a href=\"http://www.slf4j.org/codes.html#StaticLoggerBinder\" rel=\"nofollow noreferrer\">http://www.slf4j.org/codes.html#StaticLoggerBinder</a> for further details.</p>\n"},{"tags":["java","jsp","servlets"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":3,"creation_date":1372577478,"post_id":17388175,"comment_id":25242882,"body_markdown":"That should be specified in your web.xml file.","body":"That should be specified in your web.xml file."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1372577520,"post_id":17388175,"comment_id":25242894,"body_markdown":"The IDE doesn&#39;t have anything to do with the JSP and Servlet version of your application. That&#39;s declared in the web.xml.","body":"The IDE doesn&#39;t have anything to do with the JSP and Servlet version of your application. That&#39;s declared in the web.xml."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":1,"creation_date":1372577545,"post_id":17388175,"comment_id":25242896,"body_markdown":"Check the declarations in your xml files. Also, if you can, check the jars in the classpath of your project.","body":"Check the declarations in your xml files. Also, if you can, check the jars in the classpath of your project."},{"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"score":3,"creation_date":1372577574,"post_id":17388175,"comment_id":25242902,"body_markdown":"http://stackoverflow.com/tags/servlets/info","body":"<a href=\"http://stackoverflow.com/tags/servlets/info\">stackoverflow.com/tags/servlets/info</a>"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1372577744,"post_id":17388175,"comment_id":25242922,"body_markdown":"@acdcjunior the jars are not the best reference here, since a web application server could handle more than one version of servlets thus accepting wars that use old servlet versions.","body":"@acdcjunior the jars are not the best reference here, since a web application server could handle more than one version of servlets thus accepting wars that use old servlet versions."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1372578661,"post_id":17388175,"comment_id":25243104,"body_markdown":"@LuiggiMendoza Are you sure? I thought the servlet spec didnt allow that. Anyway, the jars would tell more what is the version the Netbeans project is targeting.","body":"@LuiggiMendoza Are you sure? I thought the servlet spec didnt allow that. Anyway, the jars would tell more what is the version the Netbeans project is targeting."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1372578748,"post_id":17388175,"comment_id":25243117,"body_markdown":"@acdcjunior the jars will vary depending on the web application server target (that&#39;s why you choose it when creating the project).","body":"@acdcjunior the jars will vary depending on the web application server target (that&#39;s why you choose it when creating the project)."},{"owner":{"account_id":2077773,"reputation":133288,"user_id":1850609,"display_name":"acdcjunior"},"score":0,"creation_date":1372579040,"post_id":17388175,"comment_id":25243179,"body_markdown":"@LuiggiMendoza I agree, that&#39;s why I thought they could help (if he had chosen servlet 2.5 while creating the project, the corresponding jars should be at the project&#39;s classpath). The &quot;are you sure&quot; part was about the server handling more than one version of the servlet-api.","body":"@LuiggiMendoza I agree, that&#39;s why I thought they could help (if he had chosen servlet 2.5 while creating the project, the corresponding jars should be at the project&#39;s classpath). The &quot;are you sure&quot; part was about the server handling more than one version of the servlet-api."},{"owner":{"account_id":430960,"reputation":16088,"user_id":814702,"accept_rate":100,"display_name":"informatik01"},"score":0,"creation_date":1372589877,"post_id":17388175,"comment_id":25245438,"body_markdown":"As an additional information, in case you are using Tomcat: [The mapping between the Servlet/JSP specifications and the respective Apache Tomcat versions](http://tomcat.apache.org/whichversion.html)","body":"As an additional information, in case you are using Tomcat: <a href=\"http://tomcat.apache.org/whichversion.html\" rel=\"nofollow noreferrer\">The mapping between the Servlet/JSP specifications and the respective Apache Tomcat versions</a>"}],"answers":[{"tags":[],"owner":{"account_id":1717188,"reputation":935,"user_id":1574012,"accept_rate":67,"display_name":"cljk"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1580411851,"creation_date":1372577534,"answer_id":17388189,"question_id":17388175,"body_markdown":"The version is declared in the `web.xml` file using the attribute `version`.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot;\r\n         version=&quot;2.5&quot;&gt;\r\n    ...\r\n    &lt;/web-app&gt;\r\n\r\n[Read more](http://wiki.metawerx.net/wiki/Web.xml)","title":"How to know which servlet and JSP version am I using?","body":"<p>The version is declared in the <code>web.xml</code> file using the attribute <code>version</code>.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"ISO-8859-1\"?&gt;\n&lt;web-app xmlns=\"http://java.sun.com/xml/ns/j2ee\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\"\n     version=\"2.5\"&gt;\n...\n&lt;/web-app&gt;\n</code></pre>\n\n<p><a href=\"http://wiki.metawerx.net/wiki/Web.xml\" rel=\"noreferrer\">Read more</a></p>\n"},{"tags":[],"owner":{"account_id":1666974,"reputation":3176,"user_id":1534183,"accept_rate":85,"display_name":"Vikas V"},"down_vote_count":2,"up_vote_count":24,"is_accepted":true,"score":22,"last_activity_date":1647852905,"creation_date":1372577982,"answer_id":17388235,"question_id":17388175,"body_markdown":"You can get the details programatically using [`ServletContext`][1] `#getMajorVersion()` and `#getMinorVersion()`.\r\n\r\nFor knowing the JSP version corresponding to the Servlet, you can get details from this [Tomcat page][2].\r\n\r\nBelow is a brief summary (check Tomcat&#39;s corresponding version at the link above):\r\n\r\n* Servlet 4.0 uses JSP 2.3\r\n* Servlet 3.1 uses JSP 2.3\r\n* Servlet 2.5 uses JSP 2.1 \r\n* Servlet 2.4 uses JSP 2.0 \r\n* Servlet 2.3 uses JSP 1.2 \r\n* Servlet 2.2 uses JSP 1.1 \r\n* Servlet 2.1 uses JSP 1.0\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html\r\n  [2]: https://cwiki.apache.org/confluence/display/TOMCAT/Tomcat+Versions\r\n","title":"How to know which servlet and JSP version am I using?","body":"<p>You can get the details programatically using <a href=\"http://docs.oracle.com/javaee/6/api/javax/servlet/ServletContext.html\" rel=\"nofollow noreferrer\"><code>ServletContext</code></a> <code>#getMajorVersion()</code> and <code>#getMinorVersion()</code>.</p>\n<p>For knowing the JSP version corresponding to the Servlet, you can get details from this <a href=\"https://cwiki.apache.org/confluence/display/TOMCAT/Tomcat+Versions\" rel=\"nofollow noreferrer\">Tomcat page</a>.</p>\n<p>Below is a brief summary (check Tomcat's corresponding version at the link above):</p>\n<ul>\n<li>Servlet 4.0 uses JSP 2.3</li>\n<li>Servlet 3.1 uses JSP 2.3</li>\n<li>Servlet 2.5 uses JSP 2.1</li>\n<li>Servlet 2.4 uses JSP 2.0</li>\n<li>Servlet 2.3 uses JSP 1.2</li>\n<li>Servlet 2.2 uses JSP 1.1</li>\n<li>Servlet 2.1 uses JSP 1.0</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":3318484,"reputation":1119,"user_id":2790207,"accept_rate":33,"display_name":"Kannan Arumugam"},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1500591774,"creation_date":1385524620,"answer_id":20233593,"question_id":17388175,"body_markdown":"You can easily check the JSP,SERVER and SERVLET version. Add the following code in your jsp page after that run using any IDE Tools.\r\n\r\n    Server Version: &lt;%= application.getServerInfo() %&gt;&lt;br&gt;\r\n    Servlet Version: &lt;%= application.getMajorVersion() %&gt;.&lt;%= application.getMinorVersion() %&gt;\r\n    JSP Version: &lt;%= JspFactory.getDefaultFactory().getEngineInfo().getSpecificationVersion() %&gt; &lt;br&gt;\r\n\r\n ","title":"How to know which servlet and JSP version am I using?","body":"<p>You can easily check the JSP,SERVER and SERVLET version. Add the following code in your jsp page after that run using any IDE Tools.</p>\n\n<pre><code>Server Version: &lt;%= application.getServerInfo() %&gt;&lt;br&gt;\nServlet Version: &lt;%= application.getMajorVersion() %&gt;.&lt;%= application.getMinorVersion() %&gt;\nJSP Version: &lt;%= JspFactory.getDefaultFactory().getEngineInfo().getSpecificationVersion() %&gt; &lt;br&gt;\n</code></pre>\n"}],"owner":{"account_id":2972699,"reputation":1644,"user_id":2524447,"accept_rate":43,"display_name":"Sabapathy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66745,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":17388235,"answer_count":3,"score":38,"last_activity_date":1647852905,"creation_date":1372577360,"question_id":17388175,"body_markdown":"Can you tell me how to know which servlet and JSP **version** am I using ? \r\nI use **NetBeans IDE** 7.1.2 for creating Servlets and JSP. ","title":"How to know which servlet and JSP version am I using?","body":"<p>Can you tell me how to know which servlet and JSP <strong>version</strong> am I using ? \nI use <strong>NetBeans IDE</strong> 7.1.2 for creating Servlets and JSP. </p>\n"},{"tags":["java","spring","spring-webflux","openfeign"],"answers":[{"tags":[],"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647852727,"creation_date":1647852727,"answer_id":71554901,"question_id":71554046,"body_markdown":"You can sort of tell that it is a blocking call since it returns a concrete class and not a `Future` (`Mono` or `Flux`). To be able to return a concrete class, the thread needs to wait until we have the response to return it.\r\n\r\nSo yes it is most likely a blocking call.\r\n\r\nReactor [recommends][1] that you use the `subscribeOn` operator when doing blocking calls, this will place that entire chain of operators on its own thread pool.\r\n\r\nYou have chosen to use the `publishOn` and it is worth pointing out the following from the [docs][2]: \r\n\r\n&gt; affects where the subsequent operators execute\r\n\r\nThis in practice means that up until the `publishOn` operator all actions will be executed using any available anonymous thread.\r\n\r\nBut all calls **after** will be executed on the defined thread pool.\r\n\r\n```\r\nprivate Mono&lt;Data&gt; getData() {\r\n    return Mono.fromCallable(() -&gt; RemoteRestClient.getData()\r\n                                .publishOn(Schedulers.boundedElastic());\r\n}\r\n```\r\nYou have chosen to place it **after** so the thread pool switch will be done **after** the call to `getData`.\r\n\r\n`publishOn`s placing in the chain matters while `subscribeOn` affects the entire chain of operator which means it&#39;s placing does not matter.\r\n\r\nSo to answer your question again, yes it is most likely a blocking call (i can&#39;t confirm by 100% since i have not looked into the source code) and how you wish to solve it with either `publishOn` on `subscribeOn` is up to you.\r\n\r\nOr look into if there is an reactive [alternative][3] library to use.\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\r\n  [2]: https://projectreactor.io/docs/core/release/reference/#_the_publishon_method\r\n  [3]: https://github.com/Playtika/feign-reactive","title":"Multiple blocking calls wrapped in fromCallable in WebFlux","body":"<p>You can sort of tell that it is a blocking call since it returns a concrete class and not a <code>Future</code> (<code>Mono</code> or <code>Flux</code>). To be able to return a concrete class, the thread needs to wait until we have the response to return it.</p>\n<p>So yes it is most likely a blocking call.</p>\n<p>Reactor <a href=\"https://projectreactor.io/docs/core/release/reference/#faq.wrap-blocking\" rel=\"nofollow noreferrer\">recommends</a> that you use the <code>subscribeOn</code> operator when doing blocking calls, this will place that entire chain of operators on its own thread pool.</p>\n<p>You have chosen to use the <code>publishOn</code> and it is worth pointing out the following from the <a href=\"https://projectreactor.io/docs/core/release/reference/#_the_publishon_method\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>affects where the subsequent operators execute</p>\n</blockquote>\n<p>This in practice means that up until the <code>publishOn</code> operator all actions will be executed using any available anonymous thread.</p>\n<p>But all calls <strong>after</strong> will be executed on the defined thread pool.</p>\n<pre><code>private Mono&lt;Data&gt; getData() {\n    return Mono.fromCallable(() -&gt; RemoteRestClient.getData()\n                                .publishOn(Schedulers.boundedElastic());\n}\n</code></pre>\n<p>You have chosen to place it <strong>after</strong> so the thread pool switch will be done <strong>after</strong> the call to <code>getData</code>.</p>\n<p><code>publishOn</code>s placing in the chain matters while <code>subscribeOn</code> affects the entire chain of operator which means it's placing does not matter.</p>\n<p>So to answer your question again, yes it is most likely a blocking call (i can't confirm by 100% since i have not looked into the source code) and how you wish to solve it with either <code>publishOn</code> on <code>subscribeOn</code> is up to you.</p>\n<p>Or look into if there is an reactive <a href=\"https://github.com/Playtika/feign-reactive\" rel=\"nofollow noreferrer\">alternative</a> library to use.</p>\n"}],"owner":{"account_id":5160779,"reputation":154,"user_id":4132541,"display_name":"Lior Derei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1626,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647852727,"creation_date":1647847349,"question_id":71554046,"body_markdown":"I&#39;m using Feign Client in Reactive Java. The Feign client has an interceptor that sends a blocking request to get auth token and adds it as a header to the feign request.\r\n\r\nthe feign request is wrapped in `Mono.FromCallable` with `Schedulers.boundedElastic()`.\r\n\r\nmy question is: does the inner call to get the auth token considered as a blocking call?\r\n\r\nI get that both calls will be on a different thread from `Schedulers.boundedElastic()` but not sure is ok to execute them on the same thread or I should change it so they&#39;ll run on different threads.\r\n\r\nFeign client:\r\n```\r\n@FeignClient(name = &quot;remoteRestClient&quot;, url = &quot;${remote.url}&quot;,\r\n        configuration = AuthConfiguration.class, decode404 = true)\r\n@Profile({ &quot;!test&quot; })\r\npublic interface RemoteRestClient {\r\n    @GetMapping(value = &quot;/getSomeData&quot; )\r\n    Data getData();\r\n}\r\n```\r\n\r\ninterceptor:\r\n```\r\npublic class ClientRequestInterceptor implements RequestInterceptor {\r\n\r\n    private IAPRequestBuilder iapRequestBuilder;\r\n    private String clientName;\r\n\r\n    public ClientRequestInterceptor(String clientName, String serviceAccount, String jwtClientId) {\r\n        this.iapRequestBuilder = new IAPRequestBuilder(serviceAccount, jwtClientId);\r\n        this.clientName = clientName;\r\n    }\r\n\r\n    @Override\r\n    public void apply(RequestTemplate template) {\r\n        try {\r\n            HttpRequest httpRequest = iapRequestBuilder.buildIapRequest();   &lt;---- blocking call\r\n            template.header(HttpHeaders.AUTHORIZATION, httpRequest.getHeaders().getAuthorization());\r\n        } catch (IOException e) {\r\n            log.error(&quot;Building an IAP request has failed: {}&quot;, e.getMessage(), e);\r\n            throw new InterceptorException(String.format(&quot;failed to build IAP request for %s&quot;, clientName), e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nfeign configuration:\r\n\r\n```\r\npublic class AuthConfiguration {\r\n    @Value(&quot;${serviceAccount}&quot;)\r\n    private String serviceAccount;\r\n\r\n    @Value(&quot;${jwtClientId}&quot;)\r\n    private String jwtClientId;\r\n\r\n    @Bean\r\n    public ClientRequestInterceptor getClientRequestInterceptor() {\r\n        return new ClientRequestInterceptor(&quot;Entitlement&quot;, serviceAccount, jwtClientId);\r\n    }\r\n}\r\n```\r\nand feign client call:\r\n\r\n```\r\n  private Mono&lt;Data&gt; getData() {\r\nreturn Mono.fromCallable(() -&gt; RemoteRestClient.getData()\r\n                                .publishOn(Schedulers.boundedElastic());\r\n    }\r\n```","title":"Multiple blocking calls wrapped in fromCallable in WebFlux","body":"<p>I'm using Feign Client in Reactive Java. The Feign client has an interceptor that sends a blocking request to get auth token and adds it as a header to the feign request.</p>\n<p>the feign request is wrapped in <code>Mono.FromCallable</code> with <code>Schedulers.boundedElastic()</code>.</p>\n<p>my question is: does the inner call to get the auth token considered as a blocking call?</p>\n<p>I get that both calls will be on a different thread from <code>Schedulers.boundedElastic()</code> but not sure is ok to execute them on the same thread or I should change it so they'll run on different threads.</p>\n<p>Feign client:</p>\n<pre><code>@FeignClient(name = &quot;remoteRestClient&quot;, url = &quot;${remote.url}&quot;,\n        configuration = AuthConfiguration.class, decode404 = true)\n@Profile({ &quot;!test&quot; })\npublic interface RemoteRestClient {\n    @GetMapping(value = &quot;/getSomeData&quot; )\n    Data getData();\n}\n</code></pre>\n<p>interceptor:</p>\n<pre><code>public class ClientRequestInterceptor implements RequestInterceptor {\n\n    private IAPRequestBuilder iapRequestBuilder;\n    private String clientName;\n\n    public ClientRequestInterceptor(String clientName, String serviceAccount, String jwtClientId) {\n        this.iapRequestBuilder = new IAPRequestBuilder(serviceAccount, jwtClientId);\n        this.clientName = clientName;\n    }\n\n    @Override\n    public void apply(RequestTemplate template) {\n        try {\n            HttpRequest httpRequest = iapRequestBuilder.buildIapRequest();   &lt;---- blocking call\n            template.header(HttpHeaders.AUTHORIZATION, httpRequest.getHeaders().getAuthorization());\n        } catch (IOException e) {\n            log.error(&quot;Building an IAP request has failed: {}&quot;, e.getMessage(), e);\n            throw new InterceptorException(String.format(&quot;failed to build IAP request for %s&quot;, clientName), e);\n        }\n    }\n}\n</code></pre>\n<p>feign configuration:</p>\n<pre><code>public class AuthConfiguration {\n    @Value(&quot;${serviceAccount}&quot;)\n    private String serviceAccount;\n\n    @Value(&quot;${jwtClientId}&quot;)\n    private String jwtClientId;\n\n    @Bean\n    public ClientRequestInterceptor getClientRequestInterceptor() {\n        return new ClientRequestInterceptor(&quot;Entitlement&quot;, serviceAccount, jwtClientId);\n    }\n}\n</code></pre>\n<p>and feign client call:</p>\n<pre><code>  private Mono&lt;Data&gt; getData() {\nreturn Mono.fromCallable(() -&gt; RemoteRestClient.getData()\n                                .publishOn(Schedulers.boundedElastic());\n    }\n</code></pre>\n"},{"tags":["java","algorithm","genetic-algorithm"],"comments":[{"owner":{"account_id":12931984,"reputation":7896,"user_id":9350720,"display_name":"Abhinav Mathur"},"score":0,"creation_date":1647837725,"post_id":71552839,"comment_id":126462984,"body_markdown":"&quot;less numeric characters due to random algorithm&quot;. How many numeric characters do you want?","body":"&quot;less numeric characters due to random algorithm&quot;. How many numeric characters do you want?"},{"owner":{"account_id":21977389,"reputation":11,"user_id":16253005,"display_name":"delia"},"score":0,"creation_date":1647839825,"post_id":71552839,"comment_id":126463258,"body_markdown":"The quantity is entered by the user himself. When I test my code, I found that the amount of each character is not balanced in 8-bit passwords, such as ENmOhCR9, including 5 uppercase letters ，2 lowercase letters, 1 number, no special symbols.","body":"The quantity is entered by the user himself. When I test my code, I found that the amount of each character is not balanced in 8-bit passwords, such as ENmOhCR9, including 5 uppercase letters ，2 lowercase letters, 1 number, no special symbols."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1647843466,"post_id":71552839,"comment_id":126463800,"body_markdown":"&#39;When I generate a password without repeated characters, I discard the repeated characters&#39;: this is a self-contradiction. Please clarify.","body":"&#39;When I generate a password without repeated characters, I discard the repeated characters&#39;: this is a self-contradiction. Please clarify."},{"owner":{"account_id":21977389,"reputation":11,"user_id":16253005,"display_name":"delia"},"score":0,"creation_date":1647852527,"post_id":71552839,"comment_id":126466098,"body_markdown":"I corrected the description. It&#39;s &quot;I discard the password containing repeated characters&quot;.","body":"I corrected the description. It&#39;s &quot;I discard the password containing repeated characters&quot;."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1647852938,"post_id":71552839,"comment_id":126466233,"body_markdown":"`I hope to generate a password without repeated characters.` that is actually a bad idea. One of the design flaws of the German Enigma machine in WW2 was: it never encrypted a char with itself. That REDUCED the range of possible encryptions, and in turn that helped defeating it. So: true randomness OF COURSE allows for the same char to show up more than once. Your restriction thus makes your passwords LESS secure. The only thing you should really worry about: the different ranges of chars you want to use, and the probability you want each of those to have.","body":"<code>I hope to generate a password without repeated characters.</code> that is actually a bad idea. One of the design flaws of the German Enigma machine in WW2 was: it never encrypted a char with itself. That REDUCED the range of possible encryptions, and in turn that helped defeating it. So: true randomness OF COURSE allows for the same char to show up more than once. Your restriction thus makes your passwords LESS secure. The only thing you should really worry about: the different ranges of chars you want to use, and the probability you want each of those to have."},{"owner":{"account_id":21977389,"reputation":11,"user_id":16253005,"display_name":"delia"},"score":0,"creation_date":1647854735,"post_id":71552839,"comment_id":126466843,"body_markdown":"If an 8-bit password has repeated characters, I think, it&#39;s too simple and insecure. Of course, while a password contains 64 bits even long, it naturally requires repeated characters.","body":"If an 8-bit password has repeated characters, I think, it&#39;s too simple and insecure. Of course, while a password contains 64 bits even long, it naturally requires repeated characters."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1647870883,"post_id":71552839,"comment_id":126472985,"body_markdown":"An 8 **char** password is mostly regarded &quot;not secure&quot; enough anyway. When doing brute force really doesn&#39;t care whether there is a repeated char or not. You only make your algorithm more complex, and thus easier to get wrong. And again: you make your end result **less random**. That means that (at least theoretically) an attacker could exploit this deficiency in your algorithm.","body":"An 8 <b>char</b> password is mostly regarded &quot;not secure&quot; enough anyway. When doing brute force really doesn&#39;t care whether there is a repeated char or not. You only make your algorithm more complex, and thus easier to get wrong. And again: you make your end result <b>less random</b>. That means that (at least theoretically) an attacker could exploit this deficiency in your algorithm."}],"answers":[{"tags":[],"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647839197,"creation_date":1647839197,"answer_id":71553045,"question_id":71552839,"body_markdown":"If you have a requirement for certain categories of characters to appear a certain number of times in your password (keeping in mind that this will make your password _less_ random), then there is a good approach:\r\n\r\n1. make a `List&lt;Character&gt;` and put the required number of characters from each category in the `List`. (picked at random from each category)\r\n2. Call `Collections.shuffle` with that `List`\r\n3. Concatenate the characters from the `List` that are now randomly shuffled, into a String (using a `StringBuilder`)\r\n\r\nFor `Collections.shuffle`, but also for picking random characters from each category, you need a `SecureRandom` instance, not an ordinary `Random`, as an ordinary `Random` is too predictable. (that&#39;s a very short summary of the problem)\r\n\r\n---\r\n\r\nIf you merely want a higher chance of having numbers special characters without a guarantee that they&#39;ll appear in your password, then you can take your code and repeat/duplicate the portions of `passwordString` that you want to give a higher chance of appearing in your passwords.\r\n\r\nYour existing code also needs to use a `SecureRandom`, though.","title":"The algorithm of generating password is defective，how to improve it？","body":"<p>If you have a requirement for certain categories of characters to appear a certain number of times in your password (keeping in mind that this will make your password <em>less</em> random), then there is a good approach:</p>\n<ol>\n<li>make a <code>List&lt;Character&gt;</code> and put the required number of characters from each category in the <code>List</code>. (picked at random from each category)</li>\n<li>Call <code>Collections.shuffle</code> with that <code>List</code></li>\n<li>Concatenate the characters from the <code>List</code> that are now randomly shuffled, into a String (using a <code>StringBuilder</code>)</li>\n</ol>\n<p>For <code>Collections.shuffle</code>, but also for picking random characters from each category, you need a <code>SecureRandom</code> instance, not an ordinary <code>Random</code>, as an ordinary <code>Random</code> is too predictable. (that's a very short summary of the problem)</p>\n<hr />\n<p>If you merely want a higher chance of having numbers special characters without a guarantee that they'll appear in your password, then you can take your code and repeat/duplicate the portions of <code>passwordString</code> that you want to give a higher chance of appearing in your passwords.</p>\n<p>Your existing code also needs to use a <code>SecureRandom</code>, though.</p>\n"}],"owner":{"account_id":21977389,"reputation":11,"user_id":16253005,"display_name":"delia"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647852422,"creation_date":1647837106,"question_id":71552839,"body_markdown":"Is there any algorithm that can help me control the complexity of my password? \r\nI use nextInt of java random to select characters for splicing, from a string composed of all kinds of characters. But the effect is not very good.\r\nWhen generating an 8-bit password, there are too many alphabetic characters and less numeric characters due to random algorithm; Sometimes special symbol characters are missing; etc. \r\n\r\nI hope to generate a password without repeated characters. When the generated password contains repeated characters, I discard the password and cycle until a password that meets the standards appears. I expect to find a smarter way.\r\n\r\nGenerated password:\r\n66ijf7Gd\r\n\r\nVi3BOXVp\r\n\r\nPnS~sMDs\r\n\r\nENmOhCR9\r\n\r\nLs$oB9N7\r\n\r\n password.java\r\n\r\n```\r\nimport java.util.Random;\r\n\r\npublic class Password  {\r\n    private static final String passwordString = &quot;0123456789qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM~!@#$%^&amp;*?&quot;;\r\n    public Password(){\r\n    }\r\n    public String generateString(String passwordchain, int passwordlength, int range) {\r\n        String passwordstr= &quot;&quot;;\r\n        Random random = new Random();\r\n        for (int i = 0; i &lt; passwordlength; i++) {\r\n            int a = random.nextInt(range);\r\n            passwordstr = passwordstr + passwordchain.substring(a, a+1);\r\n        }\r\n        return passwordstr;\r\n    }\r\n\r\n    public String generate(int number, int lowercase, int uppercase, int specialsymbol, int length) {\r\n        if (number &gt; 0) {\r\n            if (number &gt; 0 &amp;&amp; lowercase &gt; 0 &amp;&amp; uppercase &gt; 0&amp;&amp;specialsymbol&gt;0)//閫変腑4绉嶇被鍨嬪瘑鐮?\r\n            {\r\n                return generateString(passwordString.substring(0, 72), length, 72);\r\n            }\r\n\r\n            if (number &gt; 0 &amp;&amp; lowercase &gt; 0)//閫変腑鏁板瓧鍜屽皬鍐欏瓧姣嶇殑瀵嗙爜\r\n            {\r\n                return generateString(passwordString.substring(0, 36), length, 36);\r\n            }\r\n            if (number &gt; 0 &amp;&amp; uppercase &gt; 0)//閫変腑鏁板瓧鍜屽ぇ鍐欏瓧姣嶇殑瀵嗙爜\r\n            {\r\n                return generateString(passwordString.substring(0, 10) + passwordString.substring(36, 62), length, 36);\r\n            }\r\n            if (number &gt; 0 &amp;&amp; specialsymbol &gt; 0)//閫変腑鏁板瓧鍜岀壒娈婄鍙风殑瀵嗙爜\r\n            {\r\n                return generateString(passwordString.substring(0, 10) + passwordString.substring(62, 72), length, 21);\r\n            }\r\n            //鍙?変腑鏁板瓧鐨勫瘑鐮?\r\n            return generateString(passwordString.substring(0, 10), length, 10);\r\n        }\r\n        if (lowercase &gt; 0) {\r\n            if(lowercase &gt; 0 &amp;&amp; uppercase &gt; 0&amp;&amp;specialsymbol &gt; 0){//閫変腑灏忓啓瀛楁瘝鍜屽ぇ鍐欏瓧姣嶅拰鐗规畩绗﹀彿鐨勫瘑鐮?\r\n                return generateString(passwordString.substring(10, 72), length, 62);\r\n            }\r\n            if (lowercase &gt; 0 &amp;&amp; uppercase &gt; 0) {//閫変腑灏忓啓瀛楁瘝鍜屽ぇ鍐欏瓧姣嶇殑瀵嗙爜\r\n                return generateString(passwordString.substring(10, 62), length, 52);\r\n            }\r\n            if (lowercase &gt; 0 &amp;&amp;specialsymbol &gt; 0) {//閫変腑灏忓啓瀛楁瘝鍜岀壒娈婄鍙风殑瀵嗙爜\r\n                return generateString(passwordString.substring(10, 36)+passwordString.substring(62,72),length,36);\r\n            }\r\n            //鍙?変腑灏忓啓瀛楁瘝鐨勫瘑鐮?\r\n            return generateString(passwordString.substring(10, 36), length, 25);\r\n        }\r\n        if (uppercase &gt; 0) {\r\n            if(uppercase &gt; 0&amp;&amp;specialsymbol &gt; 0){//鍙惈鏈夊ぇ鍐欏瓧姣嶅拰鐗规畩绗﹀彿鐨勫瘑鐮?\r\n                return generateString(passwordString.substring(36, 72), length, 36);\r\n            }\r\n            //鍙惈鏈夊ぇ鍐欏瓧姣嶇殑瀵嗙爜\r\n            return generateString(passwordString.substring(36, 62), length, 26);\r\n        }\r\n        if(specialsymbol&gt;0){//鍙惈鏈夌壒娈婄鍙风殑瀵嗙爜\r\n            return generateString(passwordString.substring(62, 72), length, 10);\r\n        }\r\n        return &quot; &quot;;\r\n    }\r\n}\r\n```\r\n\r\nUniquePassword.java\r\n\r\n```\r\npackage passwordgenerator;\r\n\r\npublic class UniquePassword extends Password implements Unique{\r\n    private String str;\r\n\r\n    public UniquePassword() {\r\n        super();\r\n        str=super.generate(1,0,0,0,8);\r\n    }\r\n    public static boolean containRepeatChar(String str){\r\n        if(str==null||str.isEmpty()){\r\n            return false;\r\n        }\r\n        char[] elements=str.toCharArray();\r\n        for(char e:elements){\r\n            if(str.indexOf(e)!=str.lastIndexOf(e)){\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    public String uniquegenerate(int number, int lowercase, int uppercase, int specialsymbol, int length) {\r\n        while(containRepeatChar(str)){\r\n            str=super.generate(number,lowercase,uppercase,specialsymbol,length);\r\n            if(!containRepeatChar(str)){\r\n                break;\r\n            }\r\n        }\r\n        return str;\r\n    }\r\n}\r\n```\r\n\r\n\r\n","title":"The algorithm of generating password is defective，how to improve it？","body":"<p>Is there any algorithm that can help me control the complexity of my password?\nI use nextInt of java random to select characters for splicing, from a string composed of all kinds of characters. But the effect is not very good.\nWhen generating an 8-bit password, there are too many alphabetic characters and less numeric characters due to random algorithm; Sometimes special symbol characters are missing; etc.</p>\n<p>I hope to generate a password without repeated characters. When the generated password contains repeated characters, I discard the password and cycle until a password that meets the standards appears. I expect to find a smarter way.</p>\n<p>Generated password:\n66ijf7Gd</p>\n<p>Vi3BOXVp</p>\n<p>PnS~sMDs</p>\n<p>ENmOhCR9</p>\n<p>Ls$oB9N7</p>\n<p>password.java</p>\n<pre><code>import java.util.Random;\n\npublic class Password  {\n    private static final String passwordString = &quot;0123456789qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM~!@#$%^&amp;*?&quot;;\n    public Password(){\n    }\n    public String generateString(String passwordchain, int passwordlength, int range) {\n        String passwordstr= &quot;&quot;;\n        Random random = new Random();\n        for (int i = 0; i &lt; passwordlength; i++) {\n            int a = random.nextInt(range);\n            passwordstr = passwordstr + passwordchain.substring(a, a+1);\n        }\n        return passwordstr;\n    }\n\n    public String generate(int number, int lowercase, int uppercase, int specialsymbol, int length) {\n        if (number &gt; 0) {\n            if (number &gt; 0 &amp;&amp; lowercase &gt; 0 &amp;&amp; uppercase &gt; 0&amp;&amp;specialsymbol&gt;0)//閫変腑4绉嶇被鍨嬪瘑鐮?\n            {\n                return generateString(passwordString.substring(0, 72), length, 72);\n            }\n\n            if (number &gt; 0 &amp;&amp; lowercase &gt; 0)//閫変腑鏁板瓧鍜屽皬鍐欏瓧姣嶇殑瀵嗙爜\n            {\n                return generateString(passwordString.substring(0, 36), length, 36);\n            }\n            if (number &gt; 0 &amp;&amp; uppercase &gt; 0)//閫変腑鏁板瓧鍜屽ぇ鍐欏瓧姣嶇殑瀵嗙爜\n            {\n                return generateString(passwordString.substring(0, 10) + passwordString.substring(36, 62), length, 36);\n            }\n            if (number &gt; 0 &amp;&amp; specialsymbol &gt; 0)//閫変腑鏁板瓧鍜岀壒娈婄鍙风殑瀵嗙爜\n            {\n                return generateString(passwordString.substring(0, 10) + passwordString.substring(62, 72), length, 21);\n            }\n            //鍙?変腑鏁板瓧鐨勫瘑鐮?\n            return generateString(passwordString.substring(0, 10), length, 10);\n        }\n        if (lowercase &gt; 0) {\n            if(lowercase &gt; 0 &amp;&amp; uppercase &gt; 0&amp;&amp;specialsymbol &gt; 0){//閫変腑灏忓啓瀛楁瘝鍜屽ぇ鍐欏瓧姣嶅拰鐗规畩绗﹀彿鐨勫瘑鐮?\n                return generateString(passwordString.substring(10, 72), length, 62);\n            }\n            if (lowercase &gt; 0 &amp;&amp; uppercase &gt; 0) {//閫変腑灏忓啓瀛楁瘝鍜屽ぇ鍐欏瓧姣嶇殑瀵嗙爜\n                return generateString(passwordString.substring(10, 62), length, 52);\n            }\n            if (lowercase &gt; 0 &amp;&amp;specialsymbol &gt; 0) {//閫変腑灏忓啓瀛楁瘝鍜岀壒娈婄鍙风殑瀵嗙爜\n                return generateString(passwordString.substring(10, 36)+passwordString.substring(62,72),length,36);\n            }\n            //鍙?変腑灏忓啓瀛楁瘝鐨勫瘑鐮?\n            return generateString(passwordString.substring(10, 36), length, 25);\n        }\n        if (uppercase &gt; 0) {\n            if(uppercase &gt; 0&amp;&amp;specialsymbol &gt; 0){//鍙惈鏈夊ぇ鍐欏瓧姣嶅拰鐗规畩绗﹀彿鐨勫瘑鐮?\n                return generateString(passwordString.substring(36, 72), length, 36);\n            }\n            //鍙惈鏈夊ぇ鍐欏瓧姣嶇殑瀵嗙爜\n            return generateString(passwordString.substring(36, 62), length, 26);\n        }\n        if(specialsymbol&gt;0){//鍙惈鏈夌壒娈婄鍙风殑瀵嗙爜\n            return generateString(passwordString.substring(62, 72), length, 10);\n        }\n        return &quot; &quot;;\n    }\n}\n</code></pre>\n<p>UniquePassword.java</p>\n<pre><code>package passwordgenerator;\n\npublic class UniquePassword extends Password implements Unique{\n    private String str;\n\n    public UniquePassword() {\n        super();\n        str=super.generate(1,0,0,0,8);\n    }\n    public static boolean containRepeatChar(String str){\n        if(str==null||str.isEmpty()){\n            return false;\n        }\n        char[] elements=str.toCharArray();\n        for(char e:elements){\n            if(str.indexOf(e)!=str.lastIndexOf(e)){\n                return true;\n            }\n        }\n        return false;\n    }\n    public String uniquegenerate(int number, int lowercase, int uppercase, int specialsymbol, int length) {\n        while(containRepeatChar(str)){\n            str=super.generate(number,lowercase,uppercase,specialsymbol,length);\n            if(!containRepeatChar(str)){\n                break;\n            }\n        }\n        return str;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","junit","android-instrumentation"],"answers":[{"tags":[],"owner":{"account_id":7910446,"reputation":2755,"user_id":5974659,"display_name":"Anas Mehar"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1566391438,"creation_date":1566390849,"answer_id":57591749,"question_id":57591428,"body_markdown":"Removing `@RunWith(AndroidJUnit4.class)` annotations from the test classes fixed the issue, although I can&#39;t really say why or how it fixed it.\r\n\r\nEdit: Allright I did some more testing. I migrated my app to Kotlin, and suddenly I noticed the tests began to work with the `@RunWith` annotation, too. Here&#39;s what I found out:\r\n\r\n    import org.junit.BeforeClass;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n\r\n    import androidx.test.ext.junit.runners.AndroidJUnit4;\r\n\r\n    @RunWith(AndroidJUnit4.class) // &lt;-- @RunWith + @BeforeClass = Error\r\n    public class AndroidXJunitTestJava {\r\n\r\n        @BeforeClass\r\n        public static void setup() {\r\n            // Setting up once before all tests\r\n        }\r\n\r\n        @Test\r\n        public void testing() {\r\n            // Testing....\r\n        }\r\n    }\r\nThis java test fails with the `Delegate runner for AndroidJunit4 could not be loaded` error. But If I remove the `@RunWith` annotation, it works. Also, if I replace the `@BeforeClass` setup with just a `@Before`, like this:\r\n\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n\r\n    import androidx.test.ext.junit.runners.AndroidJUnit4;\r\n\r\n    @RunWith(AndroidJUnit4.class) // &lt;-- @RunWith + @Before = works?\r\n    public class AndroidXJunitTestJava {\r\n\r\n        @Before\r\n        public void setup() {\r\n            // Setting up before every test\r\n        }\r\n\r\n        @Test\r\n        public void testing() {\r\n            // Testing....\r\n        }\r\n    }\r\nThe tests will run without errors. I needed to use the `@BeforeClass` annotation, so I just removed `@RunWith`.\r\n\r\nBut now that I am using Kotlin, the following (which should be equal to the first java example) works:\r\n\r\n    import androidx.test.ext.junit.runners.AndroidJUnit4\r\n    import org.junit.BeforeClass\r\n    import org.junit.Test\r\n    import org.junit.runner.RunWith\r\n\r\n    @RunWith(AndroidJUnit4::class)\r\n    class AndroidXJunitTest {\r\n\r\n        companion object {\r\n            @BeforeClass fun setup() {\r\n                // Setting up\r\n            }\r\n        }\r\n\r\n        @Test\r\n        fun testing() {\r\n            // Testing...\r\n        }\r\n\r\n    }\r\nAlso, as [Alessandro Biessek][1] said in an answer and @Ioane Sharvadze in the comments, the same error can happen with the `@Rule` annotation. If I add a line\r\n\r\n     @Rule val instantTaskExecutorRule = InstantTaskExecutorRule()\r\n\r\nTo the Kotlin example, the same delegate runner error happens. This must be replaced with\r\n\r\n    @get:Rule val instantTaskExecutorRule = InstantTaskExecutorRule()\r\n\r\nExplanation [here][2]. This is how i fixed my issue\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52934007/10518087\r\n  [2]: https://stackoverflow.com/questions/29945087/kotlin-and-new-activitytestrule-the-rule-must-be-public#32827600","title":"RuntimeException: Delegate runnerfor AndroidJUnit4 could not be loaded","body":"<p>Removing <code>@RunWith(AndroidJUnit4.class)</code> annotations from the test classes fixed the issue, although I can't really say why or how it fixed it.</p>\n\n<p>Edit: Allright I did some more testing. I migrated my app to Kotlin, and suddenly I noticed the tests began to work with the <code>@RunWith</code> annotation, too. Here's what I found out:</p>\n\n<pre><code>import org.junit.BeforeClass;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\n\nimport androidx.test.ext.junit.runners.AndroidJUnit4;\n\n@RunWith(AndroidJUnit4.class) // &lt;-- @RunWith + @BeforeClass = Error\npublic class AndroidXJunitTestJava {\n\n    @BeforeClass\n    public static void setup() {\n        // Setting up once before all tests\n    }\n\n    @Test\n    public void testing() {\n        // Testing....\n    }\n}\n</code></pre>\n\n<p>This java test fails with the <code>Delegate runner for AndroidJunit4 could not be loaded</code> error. But If I remove the <code>@RunWith</code> annotation, it works. Also, if I replace the <code>@BeforeClass</code> setup with just a <code>@Before</code>, like this:</p>\n\n<pre><code>import org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\n\nimport androidx.test.ext.junit.runners.AndroidJUnit4;\n\n@RunWith(AndroidJUnit4.class) // &lt;-- @RunWith + @Before = works?\npublic class AndroidXJunitTestJava {\n\n    @Before\n    public void setup() {\n        // Setting up before every test\n    }\n\n    @Test\n    public void testing() {\n        // Testing....\n    }\n}\n</code></pre>\n\n<p>The tests will run without errors. I needed to use the <code>@BeforeClass</code> annotation, so I just removed <code>@RunWith</code>.</p>\n\n<p>But now that I am using Kotlin, the following (which should be equal to the first java example) works:</p>\n\n<pre><code>import androidx.test.ext.junit.runners.AndroidJUnit4\nimport org.junit.BeforeClass\nimport org.junit.Test\nimport org.junit.runner.RunWith\n\n@RunWith(AndroidJUnit4::class)\nclass AndroidXJunitTest {\n\n    companion object {\n        @BeforeClass fun setup() {\n            // Setting up\n        }\n    }\n\n    @Test\n    fun testing() {\n        // Testing...\n    }\n\n}\n</code></pre>\n\n<p>Also, as <a href=\"https://stackoverflow.com/a/52934007/10518087\">Alessandro Biessek</a> said in an answer and @Ioane Sharvadze in the comments, the same error can happen with the <code>@Rule</code> annotation. If I add a line</p>\n\n<pre><code> @Rule val instantTaskExecutorRule = InstantTaskExecutorRule()\n</code></pre>\n\n<p>To the Kotlin example, the same delegate runner error happens. This must be replaced with</p>\n\n<pre><code>@get:Rule val instantTaskExecutorRule = InstantTaskExecutorRule()\n</code></pre>\n\n<p>Explanation <a href=\"https://stackoverflow.com/questions/29945087/kotlin-and-new-activitytestrule-the-rule-must-be-public#32827600\">here</a>. This is how i fixed my issue</p>\n"},{"tags":[],"owner":{"account_id":18689,"reputation":3050,"user_id":43051,"accept_rate":33,"display_name":"J&#233;r&#233;my Reynaud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586800233,"creation_date":1586800233,"answer_id":61193638,"question_id":57591428,"body_markdown":"Just in case, I&#39;ve got the exact same error because a bad copy/paste: I had a `@Test` annotation on a method with some parameters.\r\nThe test crashes without any explicit information.\r\n\r\n      @Test\r\n      public void myCrashTest(String value) {\r\n        Log.i(&quot;TEST&quot;, &quot;TEST&quot;);\r\n      }","title":"RuntimeException: Delegate runnerfor AndroidJUnit4 could not be loaded","body":"<p>Just in case, I've got the exact same error because a bad copy/paste: I had a <code>@Test</code> annotation on a method with some parameters.\nThe test crashes without any explicit information.</p>\n\n<pre><code>  @Test\n  public void myCrashTest(String value) {\n    Log.i(\"TEST\", \"TEST\");\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4418599,"reputation":1151,"user_id":3599375,"display_name":"VadzimV"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1592904491,"creation_date":1592904491,"answer_id":62531533,"question_id":57591428,"body_markdown":"One more possible reason for this error is that you could accidentally miss that method with `@Before` annotation isn&#39;t **void** *(Unit)*. It&#39;s super easy when you use Kotlin:\r\n```kotlin\r\n@Before\r\nfun setupSearch() = runBlocking {\r\n    dao.saveSearchResults(listOf(testResult1, testRestult2), testSearchId))\r\n}\r\n```\r\nIf the last line in `runBlocking` block returns something, `setupSearch` won&#39;t be **void**.\r\nTo fix that specify generic parameter explicitly\r\n```kolin\r\n@Before\r\nfun setupSearch() = runBlocking&lt;Unit&gt; {\r\n    dao.saveSearchResults(listOf(testResult1, testRestult2), testSearchId))\r\n}\r\n```\r\n\r\n*I know that it doesn&#39;t directly answer Hadi&#39;s question, this answer is for people who googled `java.lang.RuntimeException: Delegate runner &#39;androidx.test.internal.runner.junit4.AndroidJUnit4ClassRunner&#39; for AndroidJUnit4 could not be loaded.` and found this question, hope it will be useful for somebody.*","title":"RuntimeException: Delegate runnerfor AndroidJUnit4 could not be loaded","body":"<p>One more possible reason for this error is that you could accidentally miss that method with <code>@Before</code> annotation isn't <strong>void</strong> <em>(Unit)</em>. It's super easy when you use Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@Before\nfun setupSearch() = runBlocking {\n    dao.saveSearchResults(listOf(testResult1, testRestult2), testSearchId))\n}\n</code></pre>\n<p>If the last line in <code>runBlocking</code> block returns something, <code>setupSearch</code> won't be <strong>void</strong>.\nTo fix that specify generic parameter explicitly</p>\n<pre><code>@Before\nfun setupSearch() = runBlocking&lt;Unit&gt; {\n    dao.saveSearchResults(listOf(testResult1, testRestult2), testSearchId))\n}\n</code></pre>\n<p><em>I know that it doesn't directly answer Hadi's question, this answer is for people who googled <code>java.lang.RuntimeException: Delegate runner 'androidx.test.internal.runner.junit4.AndroidJUnit4ClassRunner' for AndroidJUnit4 could not be loaded.</code> and found this question, hope it will be useful for somebody.</em></p>\n"},{"tags":[],"owner":{"account_id":21853273,"reputation":43,"user_id":16145044,"display_name":"ifffyy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647852027,"creation_date":1647852027,"answer_id":71554791,"question_id":57591428,"body_markdown":"Had the same error, I forgot to add @Test annotation to my test function. ","title":"RuntimeException: Delegate runnerfor AndroidJUnit4 could not be loaded","body":"<p>Had the same error, I forgot to add @Test annotation to my test function.</p>\n"}],"owner":{"account_id":9350518,"reputation":544,"user_id":6940373,"accept_rate":40,"display_name":"Hadi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4645,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1647852027,"creation_date":1566389733,"question_id":57591428,"body_markdown":"I am trying to do an instrumentation test using Android Studio for my  `MainActivity.java` class using Junit4. I don&#39;t know if my code is correct or not but this is my test class code:\r\n\r\n\r\n    import android.widget.EditText;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.test.espresso.Espresso;\r\n    import androidx.test.ext.junit.runners.AndroidJUnit4;\r\n    import androidx.test.rule.ActivityTestRule;\r\n    \r\n    import static org.junit.Assert.*;\r\n    \r\n    import org.junit.Before;\r\n    import org.junit.Rule;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(AndroidJUnit4.class)\r\n    public class MainActivityTest{\r\n    \r\n        private EditText edt;\r\n        private TextView txt;\r\n    \r\n        @Rule\r\n        ActivityTestRule&lt;MainActivity&gt; activityTestRule = new ActivityTestRule&lt;&gt;(MainActivity.class);\r\n    \r\n        @Before\r\n        public void setup(){\r\n            edt = activityTestRule.getActivity().findViewById(R.id.edt);\r\n            txt = activityTestRule.getActivity().findViewById(R.id.txt);\r\n        }\r\n    \r\n        @Test\r\n        public void edt_text_change() {\r\n            //i want this test to be passed\r\n            assertEquals(&quot;147&quot;, &quot;147&quot;);\r\n        }\r\n    }\r\n\r\n**Build.gradle**\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 29\r\n        buildToolsVersion &quot;29.0.1&quot;\r\n        defaultConfig {\r\n            applicationId &quot;package&quot;\r\n            minSdkVersion 15\r\n            targetSdkVersion 29\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;androidx.appcompat:appcompat:1.0.2&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:1.1.3&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;androidx.test:runner:1.2.0&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.2.0&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.1&#39;\r\n        androidTestImplementation &#39;com.android.support.test:rules:1.0.2&#39;\r\n    }\r\n\r\nBut when i run that class, Android Studio shows me this error:\r\n\r\n    java.lang.RuntimeException: Delegate runner &#39;androidx.test.internal.runner.junit4.AndroidJUnit4ClassRunner&#39; for AndroidJUnit4 could not be loaded.\r\n    at androidx.test.ext.junit.runners.AndroidJUnit4.throwInitializationError(AndroidJUnit4.java:92)\r\n    at androidx.test.ext.junit.runners.AndroidJUnit4.loadRunner(AndroidJUnit4.java:82)\r\n    at androidx.test.ext.junit.runners.AndroidJUnit4.loadRunner(AndroidJUnit4.java:51)\r\n    at androidx.test.ext.junit.runners.AndroidJUnit4.&lt;init&gt;(AndroidJUnit4.java:46)\r\n    at java.lang.reflect.Constructor.newInstance(Native Method)\r\n    at org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\r\n    at org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\r\n    at androidx.test.internal.runner.junit4.AndroidAnnotatedBuilder.runnerForClass(AndroidAnnotatedBuilder.java:63)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    at org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\r\n    at androidx.test.internal.runner.AndroidRunnerBuilder.runnerForClass(AndroidRunnerBuilder.java:153)\r\n    at org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\r\n    at androidx.test.internal.runner.TestLoader.doCreateRunner(TestLoader.java:73)\r\n    at androidx.test.internal.runner.TestLoader.getRunnersFor(TestLoader.java:104)\r\n    at androidx.test.internal.runner.TestRequestBuilder.build(TestRequestBuilder.java:793)\r\n    at androidx.test.runner.AndroidJUnitRunner.buildRequest(AndroidJUnitRunner.java:547)\r\n    at androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:390)\r\n    at android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:1890)\r\n","title":"RuntimeException: Delegate runnerfor AndroidJUnit4 could not be loaded","body":"<p>I am trying to do an instrumentation test using Android Studio for my  <code>MainActivity.java</code> class using Junit4. I don't know if my code is correct or not but this is my test class code:</p>\n\n<pre><code>import android.widget.EditText;\nimport android.widget.TextView;\n\nimport androidx.test.espresso.Espresso;\nimport androidx.test.ext.junit.runners.AndroidJUnit4;\nimport androidx.test.rule.ActivityTestRule;\n\nimport static org.junit.Assert.*;\n\nimport org.junit.Before;\nimport org.junit.Rule;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\n\n@RunWith(AndroidJUnit4.class)\npublic class MainActivityTest{\n\n    private EditText edt;\n    private TextView txt;\n\n    @Rule\n    ActivityTestRule&lt;MainActivity&gt; activityTestRule = new ActivityTestRule&lt;&gt;(MainActivity.class);\n\n    @Before\n    public void setup(){\n        edt = activityTestRule.getActivity().findViewById(R.id.edt);\n        txt = activityTestRule.getActivity().findViewById(R.id.txt);\n    }\n\n    @Test\n    public void edt_text_change() {\n        //i want this test to be passed\n        assertEquals(\"147\", \"147\");\n    }\n}\n</code></pre>\n\n<p><strong>Build.gradle</strong></p>\n\n<pre><code>apply plugin: 'com.android.application'\n\nandroid {\n    compileSdkVersion 29\n    buildToolsVersion \"29.0.1\"\n    defaultConfig {\n        applicationId \"package\"\n        minSdkVersion 15\n        targetSdkVersion 29\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"androidx.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'androidx.appcompat:appcompat:1.0.2'\n    implementation 'androidx.constraintlayout:constraintlayout:1.1.3'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'androidx.test:runner:1.2.0'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.2.0'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.1'\n    androidTestImplementation 'com.android.support.test:rules:1.0.2'\n}\n</code></pre>\n\n<p>But when i run that class, Android Studio shows me this error:</p>\n\n<pre><code>java.lang.RuntimeException: Delegate runner 'androidx.test.internal.runner.junit4.AndroidJUnit4ClassRunner' for AndroidJUnit4 could not be loaded.\nat androidx.test.ext.junit.runners.AndroidJUnit4.throwInitializationError(AndroidJUnit4.java:92)\nat androidx.test.ext.junit.runners.AndroidJUnit4.loadRunner(AndroidJUnit4.java:82)\nat androidx.test.ext.junit.runners.AndroidJUnit4.loadRunner(AndroidJUnit4.java:51)\nat androidx.test.ext.junit.runners.AndroidJUnit4.&lt;init&gt;(AndroidJUnit4.java:46)\nat java.lang.reflect.Constructor.newInstance(Native Method)\nat org.junit.internal.builders.AnnotatedBuilder.buildRunner(AnnotatedBuilder.java:104)\nat org.junit.internal.builders.AnnotatedBuilder.runnerForClass(AnnotatedBuilder.java:86)\nat androidx.test.internal.runner.junit4.AndroidAnnotatedBuilder.runnerForClass(AndroidAnnotatedBuilder.java:63)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\nat org.junit.internal.builders.AllDefaultPossibilitiesBuilder.runnerForClass(AllDefaultPossibilitiesBuilder.java:26)\nat androidx.test.internal.runner.AndroidRunnerBuilder.runnerForClass(AndroidRunnerBuilder.java:153)\nat org.junit.runners.model.RunnerBuilder.safeRunnerForClass(RunnerBuilder.java:59)\nat androidx.test.internal.runner.TestLoader.doCreateRunner(TestLoader.java:73)\nat androidx.test.internal.runner.TestLoader.getRunnersFor(TestLoader.java:104)\nat androidx.test.internal.runner.TestRequestBuilder.build(TestRequestBuilder.java:793)\nat androidx.test.runner.AndroidJUnitRunner.buildRequest(AndroidJUnitRunner.java:547)\nat androidx.test.runner.AndroidJUnitRunner.onStart(AndroidJUnitRunner.java:390)\nat android.app.Instrumentation$InstrumentationThread.run(Instrumentation.java:1890)\n</code></pre>\n"},{"tags":["java","concurrency","jvm","synchronized"],"comments":[{"owner":{"account_id":261142,"reputation":47118,"user_id":545127,"accept_rate":69,"display_name":"Raedwald"},"score":1,"creation_date":1381867391,"post_id":19389985,"comment_id":28738346,"body_markdown":"2 phase commit is what you need to look into.","body":"2 phase commit is what you need to look into."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":9,"creation_date":1381867395,"post_id":19389985,"comment_id":28738347,"body_markdown":"It will be better to use a flag in a database field instead of trying to solve the problem at application level.","body":"It will be better to use a flag in a database field instead of trying to solve the problem at application level."},{"owner":{"display_name":"user2511414"},"score":0,"creation_date":1381867541,"post_id":19389985,"comment_id":28738419,"body_markdown":"so may need a single-threaded application which listens on a specific port and each app call this port instead of calling a method, so you would take care about the whole requests.","body":"so may need a single-threaded application which listens on a specific port and each app call this port instead of calling a method, so you would take care about the whole requests."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1381867583,"post_id":19389985,"comment_id":28738438,"body_markdown":"+1 to the database. Make sure it&#39;s transactional (i.e., not MyISAM).","body":"+1 to the database. Make sure it&#39;s transactional (i.e., not MyISAM)."},{"owner":{"display_name":"user177800"},"score":4,"creation_date":1381868152,"post_id":19389985,"comment_id":28738732,"body_markdown":"a database, really, I mean that is so 1990&#39;s. A database is the absolutely slowest and worst way to implementing a distributed lock! What a terrible suggestion and lazy uninspired solution. What you want is a [distributed lock manager](http://en.wikipedia.org/wiki/Distributed_lock_manager). *too bad you can&#39;t down vote comments!*","body":"a database, really, I mean that is so 1990&#39;s. A database is the absolutely slowest and worst way to implementing a distributed lock! What a terrible suggestion and lazy uninspired solution. What you want is a <a href=\"http://en.wikipedia.org/wiki/Distributed_lock_manager\" rel=\"nofollow noreferrer\">distributed lock manager</a>. <i>too bad you can&#39;t down vote comments!</i>"},{"owner":{"account_id":19296,"reputation":17862,"user_id":45112,"accept_rate":71,"display_name":"armandino"},"score":0,"creation_date":1381870392,"post_id":19389985,"comment_id":28739860,"body_markdown":"@JarrodRoberson Just because a technology is old doesn&#39;t mean it&#39;s terrible.","body":"@JarrodRoberson Just because a technology is old doesn&#39;t mean it&#39;s terrible."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1381871471,"post_id":19389985,"comment_id":28740394,"body_markdown":"You mis-interpret my reason of mentioning time, using a DB for distributed lock management is naive, lazy and a complete **anti-pattern**, the time reference is to **how long it has been a bad idea!**","body":"You mis-interpret my reason of mentioning time, using a DB for distributed lock management is naive, lazy and a complete <b>anti-pattern</b>, the time reference is to <b>how long it has been a bad idea!</b>"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1381875481,"post_id":19389985,"comment_id":28742052,"body_markdown":"possible duplicate of [Distributed Lock Service](http://stackoverflow.com/questions/1059580/distributed-lock-service)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1059580/distributed-lock-service\">Distributed Lock Service</a>"}],"answers":[{"tags":[],"owner":{"account_id":1408589,"reputation":3066,"user_id":1335661,"display_name":"Barak"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1647851808,"creation_date":1381871784,"answer_id":19391247,"question_id":19389985,"body_markdown":"You asked about synchronizing methods across JVMs. That requires a library that handles distributed processes. There are many options, here are just a few:\r\n\r\n 1. [Terracotta][1] - Supports configuring certain fields as &#39;shared&#39; across JVMs, so you can use standard JVM locking, like the synchronized keyword, and it will work on multiple JVMs.\r\n 2. [JGroups][2] - Jgroups is a toolkit for distributed applications. Locking is one of the features it offers. Here is an example from their [documentation][3]\r\n\r\n\r\nSetting up distributed locking is never easy, regardless of what library you use. If you need it, fine, but for your example this seems like overkill. Other options:\r\n\r\n - Add a uniqueness constraint in the Database and let it enforce uniqueness. This can have a performance impact on the database, so it really depends how much traffic you expect to get.\r\n - Have the load balancer use the username (or a hash of it) as the key that it uses to assign requests to a web server. This will guarantee that requests from the same username will arrive at the same web server every time - no need for a distributed lock, just use a regular one.\r\n\r\n  [1]: http://www.terracotta.org/\r\n  [2]: http://jgroups.org/\r\n  [3]: http://www.jgroups.org/manual/html/user-building-blocks.html#LockService\r\n\r\n","title":"Synchronizing a Method Across JVM&#39;s","body":"<p>You asked about synchronizing methods across JVMs. That requires a library that handles distributed processes. There are many options, here are just a few:</p>\n<ol>\n<li><a href=\"http://www.terracotta.org/\" rel=\"nofollow noreferrer\">Terracotta</a> - Supports configuring certain fields as 'shared' across JVMs, so you can use standard JVM locking, like the synchronized keyword, and it will work on multiple JVMs.</li>\n<li><a href=\"http://jgroups.org/\" rel=\"nofollow noreferrer\">JGroups</a> - Jgroups is a toolkit for distributed applications. Locking is one of the features it offers. Here is an example from their <a href=\"http://www.jgroups.org/manual/html/user-building-blocks.html#LockService\" rel=\"nofollow noreferrer\">documentation</a></li>\n</ol>\n<p>Setting up distributed locking is never easy, regardless of what library you use. If you need it, fine, but for your example this seems like overkill. Other options:</p>\n<ul>\n<li>Add a uniqueness constraint in the Database and let it enforce uniqueness. This can have a performance impact on the database, so it really depends how much traffic you expect to get.</li>\n<li>Have the load balancer use the username (or a hash of it) as the key that it uses to assign requests to a web server. This will guarantee that requests from the same username will arrive at the same web server every time - no need for a distributed lock, just use a regular one.</li>\n</ul>\n"}],"owner":{"account_id":180831,"reputation":9406,"user_id":414408,"accept_rate":87,"display_name":"bluedevil2k"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10522,"favorite_count":0,"down_vote_count":2,"up_vote_count":18,"accepted_answer_id":19391247,"answer_count":1,"score":16,"last_activity_date":1647851808,"creation_date":1381867325,"question_id":19389985,"body_markdown":"How does one go about synchronizing a method across JVM&#39;s?\r\n\r\nMy example is a web application that restricts a user name from being logged in more than once (in other words, the first user can log on, but if another user signs on with the same user name, he gets rejected).\r\n\r\nThe web application is deployed across multiple servers, so there are multiple JVM&#39;s, and users can be attempting to sign on using different servers, depending on the load balancer.\r\n\r\nHere&#39;s how the method looks\r\n\r\n    public synchronized static SessionData logonSync(String userName, String password) throws Exception \r\n    {\r\n    \tint count = DB.count(&quot;sessions&quot;, &quot;WHERE user_name=?&quot;, userName);\r\n    \tif (count &gt; 0)\r\n    \t{\r\n           throw new Exception(&quot;logon.error.loginAlreadyUsed&quot;);\r\n        }    \t\t\t\t\r\n\t    \r\n        return logon(userName, password);\r\n    }\r\n\r\nIt works correctly on 1 app server because of the synchronized method, but across multiple JVM&#39;s?  Two users could be attempting to log in on different web apps at the same time.  How would I prevent this?\r\n\r\n*** EDIT ***\r\nThe app uses Memcached too, if your solution wants to take advantage of some transactional cache methods.","title":"Synchronizing a Method Across JVM&#39;s","body":"<p>How does one go about synchronizing a method across JVM's?</p>\n\n<p>My example is a web application that restricts a user name from being logged in more than once (in other words, the first user can log on, but if another user signs on with the same user name, he gets rejected).</p>\n\n<p>The web application is deployed across multiple servers, so there are multiple JVM's, and users can be attempting to sign on using different servers, depending on the load balancer.</p>\n\n<p>Here's how the method looks</p>\n\n<pre><code>public synchronized static SessionData logonSync(String userName, String password) throws Exception \n{\n    int count = DB.count(\"sessions\", \"WHERE user_name=?\", userName);\n    if (count &gt; 0)\n    {\n       throw new Exception(\"logon.error.loginAlreadyUsed\");\n    }                   \n\n    return logon(userName, password);\n}\n</code></pre>\n\n<p>It works correctly on 1 app server because of the synchronized method, but across multiple JVM's?  Two users could be attempting to log in on different web apps at the same time.  How would I prevent this?</p>\n\n<p><strong>* EDIT *</strong>\nThe app uses Memcached too, if your solution wants to take advantage of some transactional cache methods.</p>\n"},{"tags":["java","intellij-idea","freemarker","file-type"],"comments":[{"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1365577856,"post_id":15915202,"comment_id":22675035,"body_markdown":"possible duplicate of [Pycharm utils.py not getting syntax highlight](http://stackoverflow.com/questions/13374533/pycharm-utils-py-not-getting-syntax-highlight)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/13374533/pycharm-utils-py-not-getting-syntax-highlight\">Pycharm utils.py not getting syntax highlight</a>"},{"owner":{"account_id":1333465,"reputation":4589,"user_id":1276785,"accept_rate":77,"display_name":"ktamlyn"},"score":2,"creation_date":1365603845,"post_id":15915202,"comment_id":22690680,"body_markdown":"It does appear to be a duplicate but someone like myself would NEVER have found it because its not properly tagged to be found in this manner. I was not aware that Pycharm was a JetBrains product. How do you think these two questions should be linked symantically? There is a problem with how Jetbrains brands their products separately so that, for example, PHPStorm sounds like something completely different than Pycharm. I appreciate your help though!!!","body":"It does appear to be a duplicate but someone like myself would NEVER have found it because its not properly tagged to be found in this manner. I was not aware that Pycharm was a JetBrains product. How do you think these two questions should be linked symantically? There is a problem with how Jetbrains brands their products separately so that, for example, PHPStorm sounds like something completely different than Pycharm. I appreciate your help though!!!"},{"owner":{"account_id":1333465,"reputation":4589,"user_id":1276785,"accept_rate":77,"display_name":"ktamlyn"},"score":1,"creation_date":1365604292,"post_id":15915202,"comment_id":22690965,"body_markdown":"In other words, this question / answer stands on its own. From the perspective of people seeking this answer for IntelliJ this question / answer is unique.","body":"In other words, this question / answer stands on its own. From the perspective of people seeking this answer for IntelliJ this question / answer is unique."}],"answers":[{"tags":[],"owner":{"account_id":282742,"reputation":21634,"user_id":579828,"accept_rate":83,"display_name":"Vic"},"down_vote_count":0,"up_vote_count":370,"is_accepted":true,"score":370,"last_activity_date":1636030049,"creation_date":1365575021,"answer_id":15918460,"question_id":15915202,"body_markdown":"Please ensure that this file (or a pattern that represents it) is not listed under \r\n\r\n&lt;kbd&gt;Settings&lt;/kbd&gt; &amp;rarr; &lt;kbd&gt;Editor&lt;/kbd&gt; &amp;rarr; &lt;kbd&gt;File Types&lt;/kbd&gt;&amp;rarr; &lt;kbd&gt;Text&lt;/kbd&gt;\r\n\r\nFor OS X\r\n\r\n&lt;kbd&gt;Preferences&lt;/kbd&gt; &amp;rarr; &lt;kbd&gt;Editor&lt;/kbd&gt; &amp;rarr; &lt;kbd&gt;File Types&lt;/kbd&gt;&amp;rarr; &lt;kbd&gt;Text&lt;/kbd&gt;\r\n\r\nSometimes the file or pattern are stuck under `File type auto-detected by file content` instead of `Text`.","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p>Please ensure that this file (or a pattern that represents it) is not listed under</p>\n<p><kbd>Settings</kbd> → <kbd>Editor</kbd> → <kbd>File Types</kbd>→ <kbd>Text</kbd></p>\n<p>For OS X</p>\n<p><kbd>Preferences</kbd> → <kbd>Editor</kbd> → <kbd>File Types</kbd>→ <kbd>Text</kbd></p>\n<p>Sometimes the file or pattern are stuck under <code>File type auto-detected by file content</code> instead of <code>Text</code>.</p>\n"},{"tags":[],"owner":{"account_id":172565,"reputation":795,"user_id":400677,"display_name":"EvilInside"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1615377764,"creation_date":1416938839,"answer_id":27133700,"question_id":15915202,"body_markdown":"Step 1: Click &quot;File&quot; ==&gt; &quot;Settings&quot; for Windows or &quot;InterlliJ IDEA&quot; ==&gt; &quot;Preferences&quot; for Mac \r\n\r\nStep 2: Expand &quot;Editor&quot; &amp; Click &quot;File Types&quot;\r\n\r\nStep 3: You will see all file types on Right. Navigate to the &quot;Text&quot; entry and click it\r\n\r\nStep 4: You should able to see your file name on the bottom of &quot;Registered Patterns&quot; (lower box)\r\n\r\n\r\nStep 5: Remove your file from the &quot;Registered Patterns&quot;. The problem should be solved and let you rename with `fileName.java`\r\n\r\n\r\nStep 6: If not, delete the file from the project and create it again with name fileName\r\n\r\n[Source][1]\r\n\r\n\r\n  [1]: http://www.gisremotesensing.com/2014/11/solution-intellij-not-recognizing.html","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p>Step 1: Click &quot;File&quot; ==&gt; &quot;Settings&quot; for Windows or &quot;InterlliJ IDEA&quot; ==&gt; &quot;Preferences&quot; for Mac</p>\n<p>Step 2: Expand &quot;Editor&quot; &amp; Click &quot;File Types&quot;</p>\n<p>Step 3: You will see all file types on Right. Navigate to the &quot;Text&quot; entry and click it</p>\n<p>Step 4: You should able to see your file name on the bottom of &quot;Registered Patterns&quot; (lower box)</p>\n<p>Step 5: Remove your file from the &quot;Registered Patterns&quot;. The problem should be solved and let you rename with <code>fileName.java</code></p>\n<p>Step 6: If not, delete the file from the project and create it again with name fileName</p>\n<p><a href=\"http://www.gisremotesensing.com/2014/11/solution-intellij-not-recognizing.html\" rel=\"nofollow noreferrer\">Source</a></p>\n"},{"tags":[],"owner":{"account_id":102988,"reputation":24922,"user_id":276093,"accept_rate":60,"display_name":"matt burns"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1610393976,"creation_date":1427291392,"answer_id":29257602,"question_id":15915202,"body_markdown":"**OSX:**\r\n\r\n    Preferences &gt; Editor &gt; File Types &gt; Text\r\n\r\n**Windows:**\r\n\r\n    Settings &gt; Editor &gt; File Types &gt; Text Files","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p><strong>OSX:</strong></p>\n<pre><code>Preferences &gt; Editor &gt; File Types &gt; Text\n</code></pre>\n<p><strong>Windows:</strong></p>\n<pre><code>Settings &gt; Editor &gt; File Types &gt; Text Files\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1225120,"reputation":3832,"user_id":1190830,"accept_rate":55,"display_name":"isaac.hazan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1431869917,"creation_date":1431430991,"answer_id":30189868,"question_id":15915202,"body_markdown":"I had the same problem and none of the above solution solved it.\r\nThe thing that at the end solved it was by selecting the module and going to the module settings(press F4 on the module name)\r\n\r\nThen in the Sources tab, select the &quot;java&quot; folder and press on the Sources button. \r\nThat tells IntelliJ that the folder in question is a source code folder. \r\n\r\nThen select the Test folder and press Tests. \r\n\r\nThat&#39;s it. Then it will recognize correctly the files and show errors as needed.\r\n\r\nSee below the screenshot.\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/k20IW.png","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p>I had the same problem and none of the above solution solved it.\nThe thing that at the end solved it was by selecting the module and going to the module settings(press F4 on the module name)</p>\n\n<p>Then in the Sources tab, select the \"java\" folder and press on the Sources button. \nThat tells IntelliJ that the folder in question is a source code folder. </p>\n\n<p>Then select the Test folder and press Tests. </p>\n\n<p>That's it. Then it will recognize correctly the files and show errors as needed.</p>\n\n<p>See below the screenshot.</p>\n\n<p><img src=\"https://i.stack.imgur.com/k20IW.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":6764751,"reputation":11,"user_id":6606561,"display_name":"Gurusharan Gupta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1468907234,"creation_date":1468904845,"answer_id":38449959,"question_id":15915202,"body_markdown":"You might have by accident edited the template in File and Code Template.\r\nPress **`Ctrl+Alt+S`**\r\n\r\nUnder \r\n\r\n     Settings -&gt; Editor -&gt; File and Code Templates\r\n\r\nFor me I changed the `FileHeader.java` file in includes tab.\r\n\r\nRecall which type of template you might have changed earlier and revert it back to default.\r\n\r\nHope it works :)","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p>You might have by accident edited the template in File and Code Template.\nPress <strong><code>Ctrl+Alt+S</code></strong></p>\n\n<p>Under </p>\n\n<pre><code> Settings -&gt; Editor -&gt; File and Code Templates\n</code></pre>\n\n<p>For me I changed the <code>FileHeader.java</code> file in includes tab.</p>\n\n<p>Recall which type of template you might have changed earlier and revert it back to default.</p>\n\n<p>Hope it works :)</p>\n"},{"tags":[],"owner":{"account_id":8973789,"reputation":1,"user_id":8272411,"display_name":"Alex Leporoni"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1499451659,"creation_date":1499451659,"answer_id":44977372,"question_id":15915202,"body_markdown":"I had the same problem to creat a new class java, the issue was on Header.java that can be access with the command crt+alt+s and go to Editor/FileAndCodeTemplates/Includes and this may be on this format: \r\n\r\n/**\r\n * Created by Alex Leporoni on ${DATE}.\r\n */\r\n\r\nThis is solved my issue, now I can create classes again :) \r\nI hope that this article can help others that have the same problems to creat classes on IntelliJIdea... hugs to all. ","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p>I had the same problem to creat a new class java, the issue was on Header.java that can be access with the command crt+alt+s and go to Editor/FileAndCodeTemplates/Includes and this may be on this format: </p>\n\n<p>/**\n * Created by Alex Leporoni on ${DATE}.\n */</p>\n\n<p>This is solved my issue, now I can create classes again :) \nI hope that this article can help others that have the same problems to creat classes on IntelliJIdea... hugs to all. </p>\n"},{"tags":[],"owner":{"account_id":2095395,"reputation":305,"user_id":1864284,"accept_rate":64,"display_name":"CoffeeTime"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1577490527,"creation_date":1529487479,"answer_id":50944972,"question_id":15915202,"body_markdown":"**Workaround:** Rename the file without changing the file extension.\r\n\r\n```\r\nFileName.java\r\n```\r\n\r\n```\r\nNewDifferentFileName.java\r\n```\r\n","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p><strong>Workaround:</strong> Rename the file without changing the file extension.</p>\n\n<pre><code>FileName.java\n</code></pre>\n\n<pre><code>NewDifferentFileName.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1005756,"reputation":4408,"user_id":1019588,"accept_rate":81,"display_name":"kmoney12"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1609454339,"creation_date":1609454339,"answer_id":65526046,"question_id":15915202,"body_markdown":"In 2020 none of the posted answers worked, here&#39;s what did:\r\n\r\n 1. Left click the file \r\n 2. On the top toolbar, select File -&gt; File Properties -&gt; Associate with File Type\r\n\r\n","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p>In 2020 none of the posted answers worked, here's what did:</p>\n<ol>\n<li>Left click the file</li>\n<li>On the top toolbar, select File -&gt; File Properties -&gt; Associate with File Type</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10328382,"reputation":71,"user_id":7619165,"display_name":"YDZOGODOQ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614770840,"creation_date":1614770840,"answer_id":66456108,"question_id":15915202,"body_markdown":"My specific java filename was not listed in &#39;Text files&#39; (IntelliJ 2019.3).\r\n\r\nAfter shutting down IntelliJ, then grepping for the filename in .Intellij2019.3,\r\nI found a match here: .Intellij2019.3\\config\\options\\filetypes.xml.\r\n\r\nAfter removing the name, IntelliJ sees the file as Java file again.","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p>My specific java filename was not listed in 'Text files' (IntelliJ 2019.3).</p>\n<p>After shutting down IntelliJ, then grepping for the filename in .Intellij2019.3,\nI found a match here: .Intellij2019.3\\config\\options\\filetypes.xml.</p>\n<p>After removing the name, IntelliJ sees the file as Java file again.</p>\n"},{"tags":[],"owner":{"account_id":2841815,"reputation":1495,"user_id":2441277,"display_name":"IamVickyAV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620386736,"creation_date":1620386736,"answer_id":67434095,"question_id":15915202,"body_markdown":"This is what worked for me\r\n\r\nGo to\r\n\r\n    File -&gt; Settings -&gt; Editor -&gt; File Types\r\n\r\nRemoved my file from **File name patterns** under **Auto-detect file type by content** option","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p>This is what worked for me</p>\n<p>Go to</p>\n<pre><code>File -&gt; Settings -&gt; Editor -&gt; File Types\n</code></pre>\n<p>Removed my file from <strong>File name patterns</strong> under <strong>Auto-detect file type by content</strong> option</p>\n"},{"tags":[],"owner":{"account_id":14507765,"reputation":1,"user_id":10479088,"display_name":"Ravi Shewale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620819203,"creation_date":1620735975,"answer_id":67486746,"question_id":15915202,"body_markdown":"I got this error when I created a new interface `BenefitService.java` it take as a simple text  file. The  error looks like this: \r\n```\r\nUnable to parse template “Interface”\r\n Error message: Selected class file name ‘BenefitService.java’ mapped to not java file type ‘Auto-detect file type by content`\r\n```\r\n\r\nSo just go IntellJ  File -&gt; Settings -&gt; Editor -&gt; File Types-&gt;Auto detect file type content and remove your file name eg in my case  BenefitService.java it will work ","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p>I got this error when I created a new interface <code>BenefitService.java</code> it take as a simple text  file. The  error looks like this:</p>\n<pre><code>Unable to parse template “Interface”\n Error message: Selected class file name ‘BenefitService.java’ mapped to not java file type ‘Auto-detect file type by content`\n</code></pre>\n<p>So just go IntellJ  File -&gt; Settings -&gt; Editor -&gt; File Types-&gt;Auto detect file type content and remove your file name eg in my case  BenefitService.java it will work</p>\n"},{"tags":[],"owner":{"account_id":3983526,"reputation":116,"user_id":3284851,"display_name":"Node Noodler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1630231560,"creation_date":1621442661,"answer_id":67607460,"question_id":15915202,"body_markdown":"There&#39;s another reason for a file not being coloured in. I&#39;ve found RubyMine can get stuck analyzing a file, and then it doesn&#39;t colour it in. For me this happens on .html.slim files when RubyMine gets confused translating/fetching keys from yml files, for example when implying yml files in both views and controller on a single view file.\r\n\r\nRenaming the file appears to fix it, but that&#39;s because it no longer gets stuck resolving the yml files, but you think it&#39;s the file association problem.\r\n\r\nAnother way to test it is to comment everything out, using / in the case of slim. Then close file and re-open. It is then coloured for being commented. Remove the comments and it works because Rubymine doesn&#39;t try to resolve yml data after the file is opened. But closing then re-open and it gets stuck again as it gets confused. \r\n","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p>There's another reason for a file not being coloured in. I've found RubyMine can get stuck analyzing a file, and then it doesn't colour it in. For me this happens on .html.slim files when RubyMine gets confused translating/fetching keys from yml files, for example when implying yml files in both views and controller on a single view file.</p>\n<p>Renaming the file appears to fix it, but that's because it no longer gets stuck resolving the yml files, but you think it's the file association problem.</p>\n<p>Another way to test it is to comment everything out, using / in the case of slim. Then close file and re-open. It is then coloured for being commented. Remove the comments and it works because Rubymine doesn't try to resolve yml data after the file is opened. But closing then re-open and it gets stuck again as it gets confused.</p>\n"},{"tags":[],"owner":{"account_id":183226,"reputation":81,"user_id":418477,"display_name":"Hernan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1633000418,"creation_date":1633000418,"answer_id":69391217,"question_id":15915202,"body_markdown":"I solved the same issue by\r\n\r\n    Right-click on the file -&gt;  &quot;Override File Type&quot; -&gt; Select the extension type the file has.","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p>I solved the same issue by</p>\n<pre><code>Right-click on the file -&gt;  &quot;Override File Type&quot; -&gt; Select the extension type the file has.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16237670,"reputation":1180,"user_id":11724795,"display_name":"ToddEmon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647851640,"creation_date":1647851640,"answer_id":71554728,"question_id":15915202,"body_markdown":"I had this problem with a single SQL file. \r\n[Thanks to kmoney12&#39;s answer][1], I was able to solve it following these steps (I&#39;m using *IntelliJ IDEA 2021.3.2 Ultimate Edition*, so the steps are not exactly the same) :\r\n\r\n 1. Right-click on the file\r\n 2. In the contextual menu, find and choose `Override File Type` \r\n 3. Select the correct file type in the list\r\n\r\n  [1]: https://stackoverflow.com/a/65526046/11724795","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p>I had this problem with a single SQL file.\n<a href=\"https://stackoverflow.com/a/65526046/11724795\">Thanks to kmoney12's answer</a>, I was able to solve it following these steps (I'm using <em>IntelliJ IDEA 2021.3.2 Ultimate Edition</em>, so the steps are not exactly the same) :</p>\n<ol>\n<li>Right-click on the file</li>\n<li>In the contextual menu, find and choose <code>Override File Type</code></li>\n<li>Select the correct file type in the list</li>\n</ol>\n"}],"owner":{"account_id":1333465,"reputation":4589,"user_id":1276785,"accept_rate":77,"display_name":"ktamlyn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84616,"favorite_count":0,"down_vote_count":0,"up_vote_count":128,"accepted_answer_id":15918460,"answer_count":14,"score":128,"last_activity_date":1647851640,"creation_date":1365555663,"question_id":15915202,"body_markdown":"There is a freemarker file (ftl) in my IntelliJ project that is incorrectly recognized as a text file. There are many of the same type that are correct.\r\n\r\nI am aware of the &quot;Mark as text&quot; option. This may be the original reason this file was marked as text but I am not provided with a &quot;mark as ftl file&quot; option to turn it back, if indeed this is the problem. If I mark other ftl files as txt, I am able to turn them back into ftl files as expected.","title":"IntelliJ not recognizing a particular file correctly, instead it&#39;s stuck as a text file","body":"<p>There is a freemarker file (ftl) in my IntelliJ project that is incorrectly recognized as a text file. There are many of the same type that are correct.</p>\n<p>I am aware of the &quot;Mark as text&quot; option. This may be the original reason this file was marked as text but I am not provided with a &quot;mark as ftl file&quot; option to turn it back, if indeed this is the problem. If I mark other ftl files as txt, I am able to turn them back into ftl files as expected.</p>\n"},{"tags":["java","postgresql","spring-webflux","project-reactor","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":7178839,"reputation":166,"user_id":5483654,"display_name":"Ivan Costa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647394031,"creation_date":1647394031,"answer_id":71490830,"question_id":71487177,"body_markdown":"Perhaps it would possibly be the case of using a converter? Please take a look to this link:\r\n\r\n[Spring RD2DBC mapping][1]\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-data-r2dbc/blob/main/src/main/asciidoc/reference/mapping.adoc","title":"support for varchar[] array type in R2DBC Postgres Criteria","body":"<p>Perhaps it would possibly be the case of using a converter? Please take a look to this link:</p>\n<p><a href=\"https://github.com/spring-projects/spring-data-r2dbc/blob/main/src/main/asciidoc/reference/mapping.adoc\" rel=\"nofollow noreferrer\">Spring RD2DBC mapping</a></p>\n"},{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647851330,"creation_date":1647851330,"answer_id":71554676,"question_id":71487177,"body_markdown":"From your question, I&#39;m not sure if a specific stack requirement is present, or if third party libraries are an option. If they are, you could use [jOOQ&#39;s R2DBC support][1] to handle the data type binding for you, a bit more transparently. With jOOQ, you&#39;d write:\r\n\r\n```java\r\nFlux&lt;TableNameRecord&gt; flux =\r\nFlux.from(\r\n    ctx.selectFrom(TABLE_NAME)\r\n       .where(&quot;{0} &amp;&amp; {1}&quot;), \r\n           DSL.val(new String[] { &quot;value1&quot;, &quot;value2&quot; }),\r\n           TABLE_NAME.COLUMN_NAME\r\n));\r\n```\r\n\r\nThe above approach is using [plain SQL templating][2] to use the `&amp;&amp;` operator. The `DSL.val()` call creates an array bind variable, which produces a `$1::varchar[]` expression for you, behind the scenes, and correctly binds the array to the R2DBC driver.\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/reactive-fetching/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/","title":"support for varchar[] array type in R2DBC Postgres Criteria","body":"<p>From your question, I'm not sure if a specific stack requirement is present, or if third party libraries are an option. If they are, you could use <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/reactive-fetching/\" rel=\"nofollow noreferrer\">jOOQ's R2DBC support</a> to handle the data type binding for you, a bit more transparently. With jOOQ, you'd write:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;TableNameRecord&gt; flux =\nFlux.from(\n    ctx.selectFrom(TABLE_NAME)\n       .where(&quot;{0} &amp;&amp; {1}&quot;), \n           DSL.val(new String[] { &quot;value1&quot;, &quot;value2&quot; }),\n           TABLE_NAME.COLUMN_NAME\n));\n</code></pre>\n<p>The above approach is using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">plain SQL templating</a> to use the <code>&amp;&amp;</code> operator. The <code>DSL.val()</code> call creates an array bind variable, which produces a <code>$1::varchar[]</code> expression for you, behind the scenes, and correctly binds the array to the R2DBC driver.</p>\n"}],"owner":{"account_id":3762461,"reputation":326,"user_id":3126982,"display_name":"user108"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1647851330,"creation_date":1647368366,"question_id":71487177,"body_markdown":"I am trying to build a query similar to the below query using **criteria** query having varchar[] column in Postgres.\r\n\r\n```sql\r\nSELECT * \r\nFROM table_name \r\nWHERE (arrays[&#39;value1&#39;,&#39;value2&#39;]::varchar[] &amp;&amp; column_name) \r\n```\r\n\r\nBut it appears that there is no out of the box support for **varchar[]** in R2dbcEntityTemplate. \r\nIs there any way to achieve this?\r\n\r\n","title":"support for varchar[] array type in R2DBC Postgres Criteria","body":"<p>I am trying to build a query similar to the below query using <strong>criteria</strong> query having varchar[] column in Postgres.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT * \nFROM table_name \nWHERE (arrays['value1','value2']::varchar[] &amp;&amp; column_name) \n</code></pre>\n<p>But it appears that there is no out of the box support for <strong>varchar[]</strong> in R2dbcEntityTemplate.\nIs there any way to achieve this?</p>\n"},{"tags":["java","circuit-breaker","resilience4j"],"comments":[{"owner":{"account_id":6079705,"reputation":338,"user_id":4745869,"accept_rate":60,"display_name":"Zeon"},"score":0,"creation_date":1664452623,"post_id":71554643,"comment_id":130477974,"body_markdown":"Did you find a solution to this?","body":"Did you find a solution to this?"},{"owner":{"account_id":7499941,"reputation":35,"user_id":9204737,"display_name":"Kamil Święch"},"score":0,"creation_date":1665131394,"post_id":71554643,"comment_id":130632271,"body_markdown":"In a way yeah. I have noticed that CB doesn&#39;t work with CXF. You can easily omit the problem adding public method with @CircuitBreaker annotation and within the method using private method with calling to the SOAP Service. You can call it wrapper method ;)","body":"In a way yeah. I have noticed that CB doesn&#39;t work with CXF. You can easily omit the problem adding public method with @CircuitBreaker annotation and within the method using private method with calling to the SOAP Service. You can call it wrapper method ;)"}],"owner":{"account_id":7499941,"reputation":35,"user_id":9204737,"display_name":"Kamil Święch"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1049,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647851144,"creation_date":1647851144,"question_id":71554643,"body_markdown":"I am using Java 17, Spring boot 2.6.3, CXF 3.4.5 and REDIS.\r\n\r\nWhen I was using CircuitBreaker annotation, requests was not intercepted upon Soap service was unavailable. So I needed to decorate requests.\r\n```\r\ntry {\r\n  Function&lt;GetDetailsRequest, GetDetailsResponse&gt; decorated = CircuitBreaker\r\n   .decorateFunction(cb, service::getDetails);\r\n  decorated.apply(request);\r\n} catch (CallNotPermittedException e) {\r\n  redisLockService.unlock(request);\r\n  throw CallNotPermittedException.createCallNotPermittedException(cb);\r\n} catch (Exception e) {\r\n  redisLockService.unlock(request);\r\n  throw new ExternalTechnicalException(&quot;Problem with connection to service - getDetails&quot;);\r\n}\r\n```\r\n\r\nThis works fine, however, details in /actuator/health/circuitBreakers are not updated when CallNotPermittedException is thrown. \r\n```\r\n{\r\n  &quot;status&quot;: &quot;UP&quot;,\r\n  &quot;details&quot;: {\r\n    &quot;service&quot;: {\r\n      &quot;status&quot;: &quot;UP&quot;,\r\n      &quot;details&quot;: {\r\n        &quot;failureRate&quot;: &quot;-1.0%&quot;,\r\n        &quot;failureRateThreshold&quot;: &quot;50.0%&quot;,\r\n        &quot;slowCallRate&quot;: &quot;-1.0%&quot;,\r\n        &quot;slowCallRateThreshold&quot;: &quot;100.0%&quot;,\r\n        &quot;bufferedCalls&quot;: 0,\r\n        &quot;slowCalls&quot;: 0,\r\n        &quot;slowFailedCalls&quot;: 0,\r\n        &quot;failedCalls&quot;: 0,\r\n        &quot;notPermittedCalls&quot;: 0,\r\n        &quot;state&quot;: &quot;CLOSED&quot;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nI added configuration like in examples from the following link, but this didnt resolve the problem. https://resilience4j.readme.io/docs/micrometer#circuitbreaker-metrics\r\n\r\nDo I need some additional configuration which I dont know? Thanks in advance.\r\n","title":"SpringBoot + Resilience4j Circuit Breaker - Actuator details are not updated","body":"<p>I am using Java 17, Spring boot 2.6.3, CXF 3.4.5 and REDIS.</p>\n<p>When I was using CircuitBreaker annotation, requests was not intercepted upon Soap service was unavailable. So I needed to decorate requests.</p>\n<pre><code>try {\n  Function&lt;GetDetailsRequest, GetDetailsResponse&gt; decorated = CircuitBreaker\n   .decorateFunction(cb, service::getDetails);\n  decorated.apply(request);\n} catch (CallNotPermittedException e) {\n  redisLockService.unlock(request);\n  throw CallNotPermittedException.createCallNotPermittedException(cb);\n} catch (Exception e) {\n  redisLockService.unlock(request);\n  throw new ExternalTechnicalException(&quot;Problem with connection to service - getDetails&quot;);\n}\n</code></pre>\n<p>This works fine, however, details in /actuator/health/circuitBreakers are not updated when CallNotPermittedException is thrown.</p>\n<pre><code>{\n  &quot;status&quot;: &quot;UP&quot;,\n  &quot;details&quot;: {\n    &quot;service&quot;: {\n      &quot;status&quot;: &quot;UP&quot;,\n      &quot;details&quot;: {\n        &quot;failureRate&quot;: &quot;-1.0%&quot;,\n        &quot;failureRateThreshold&quot;: &quot;50.0%&quot;,\n        &quot;slowCallRate&quot;: &quot;-1.0%&quot;,\n        &quot;slowCallRateThreshold&quot;: &quot;100.0%&quot;,\n        &quot;bufferedCalls&quot;: 0,\n        &quot;slowCalls&quot;: 0,\n        &quot;slowFailedCalls&quot;: 0,\n        &quot;failedCalls&quot;: 0,\n        &quot;notPermittedCalls&quot;: 0,\n        &quot;state&quot;: &quot;CLOSED&quot;\n      }\n    }\n  }\n}\n</code></pre>\n<p>I added configuration like in examples from the following link, but this didnt resolve the problem. <a href=\"https://resilience4j.readme.io/docs/micrometer#circuitbreaker-metrics\" rel=\"nofollow noreferrer\">https://resilience4j.readme.io/docs/micrometer#circuitbreaker-metrics</a></p>\n<p>Do I need some additional configuration which I dont know? Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1647849152,"post_id":71554279,"comment_id":126465106,"body_markdown":"Use the `Random` `nextInt` method to get values between 1 and 999 and multiply the result by 0.01.","body":"Use the <code>Random</code> <code>nextInt</code> method to get values between 1 and 999 and multiply the result by 0.01."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1647849222,"post_id":71554279,"comment_id":126465132,"body_markdown":"Double itself has nothing to do with that, it doesnt even have a concept of decimal places itself. It is rather the process of converting the double to a String (when you print it), where this stuff gets introduced. You have to use a formatter at this point to tell it that you want Strings with two places instead.","body":"Double itself has nothing to do with that, it doesnt even have a concept of decimal places itself. It is rather the process of converting the double to a String (when you print it), where this stuff gets introduced. You have to use a formatter at this point to tell it that you want Strings with two places instead."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1647849261,"post_id":71554279,"comment_id":126465149,"body_markdown":"@GilbertLeBlanc That can still give you stuff like `5.1200000000000000000001`. There isnt really a way around using formatters.","body":"@GilbertLeBlanc That can still give you stuff like <code>5.1200000000000000000001</code>. There isnt really a way around using formatters."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1647849523,"post_id":71554279,"comment_id":126465207,"body_markdown":"@Zabuzard: Yes, you have to use a formatter.  I was addressing the random distribution problem created by just formatting the random result.","body":"@Zabuzard: Yes, you have to use a formatter.  I was addressing the random distribution problem created by just formatting the random result."}],"owner":{"account_id":24627197,"reputation":1,"user_id":18526802,"display_name":"Yathu Suthakaran"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647849151,"answer_count":0,"score":0,"last_activity_date":1647851044,"creation_date":1647848843,"question_id":71554279,"body_markdown":"I&#39;m trying to set random values to an array using Math.Random(), but it is printing values with 15 decimal places when I only want 2. How do I fix this? \r\n\r\nThis is what I have so far it works and gives me values like:\r\n\r\n[9.410800457889598, 7.816378845915057, 7.4315520333161995, 7.4844070010512285, 7.6640924183174945]. \r\n```\r\npublic static void populateArray(double[] judge){\r\n    for(int n=0;n&lt;=4;n++){\r\n        double score =(Math.random()*(3)+7);\r\n        judge[n] = score;\r\n    }\r\n}\r\n```","title":"How do I make a randomly generated number using Math.Random() to be only two decimal places","body":"<p>I'm trying to set random values to an array using Math.Random(), but it is printing values with 15 decimal places when I only want 2. How do I fix this?</p>\n<p>This is what I have so far it works and gives me values like:</p>\n<p>[9.410800457889598, 7.816378845915057, 7.4315520333161995, 7.4844070010512285, 7.6640924183174945].</p>\n<pre><code>public static void populateArray(double[] judge){\n    for(int n=0;n&lt;=4;n++){\n        double score =(Math.random()*(3)+7);\n        judge[n] = score;\n    }\n}\n</code></pre>\n"},{"tags":["java","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":26,"is_accepted":true,"score":26,"last_activity_date":1647850788,"creation_date":1455804699,"answer_id":35483773,"question_id":35477640,"body_markdown":"There is [`DSL.noCondition()`][1] starting with jOOQ 3.11, which can act as an identity for both `AND` and `OR` operators, and doesn&#39;t produce any output unless strictly required (e.g. when projecting it in `SELECT`), in case of which it acts like [`DSL.trueCondition()`][2]\r\n\r\nFor more details, see:\r\n\r\n- https://github.com/jOOQ/jOOQ/issues/6817\r\n- https://blog.jooq.org/create-empty-optional-sql-clauses-with-jooq/\r\n\r\n\r\n  [1]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#noCondition()\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#trueCondition()\r\n  [3]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#falseCondition()","title":"JOOQ empty condition","body":"<p>There is <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#noCondition()\" rel=\"noreferrer\"><code>DSL.noCondition()</code></a> starting with jOOQ 3.11, which can act as an identity for both <code>AND</code> and <code>OR</code> operators, and doesn't produce any output unless strictly required (e.g. when projecting it in <code>SELECT</code>), in case of which it acts like <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DSL.html#trueCondition()\" rel=\"noreferrer\"><code>DSL.trueCondition()</code></a></p>\n<p>For more details, see:</p>\n<ul>\n<li><a href=\"https://github.com/jOOQ/jOOQ/issues/6817\" rel=\"noreferrer\">https://github.com/jOOQ/jOOQ/issues/6817</a></li>\n<li><a href=\"https://blog.jooq.org/create-empty-optional-sql-clauses-with-jooq/\" rel=\"noreferrer\">https://blog.jooq.org/create-empty-optional-sql-clauses-with-jooq/</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16726694,"reputation":41,"user_id":12090134,"display_name":"Muhammed Saed"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1621953043,"creation_date":1621953043,"answer_id":67690088,"question_id":35477640,"body_markdown":"Maybe a bit too late for this but on 3.14 version, there is a static method you can use.\r\n\r\n    Condition result = trueCondition();\r\n\r\nrefer: [jooq documentation][1]\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/dynamic-sql/","title":"JOOQ empty condition","body":"<p>Maybe a bit too late for this but on 3.14 version, there is a static method you can use.</p>\n<pre><code>Condition result = trueCondition();\n</code></pre>\n<p>refer: <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/dynamic-sql/\" rel=\"nofollow noreferrer\">jooq documentation</a></p>\n"}],"owner":{"display_name":"user3278460"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9348,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":35483773,"answer_count":2,"score":14,"last_activity_date":1647850788,"creation_date":1455788106,"question_id":35477640,"body_markdown":"Is there way to define empty condition which produces nothing in output sql query? Now, for default condition I use `trueCondition()`\r\n\r\n\r\n\r\n    private static Condition limitCondition(Integer offset, Integer count) {\r\n        Condition limitCondition = trueCondition();\r\n        if (count != null &amp;&amp; offset != null) {\r\n            limitCondition = rowNum.between(offset, count + offset);\r\n        } else if (count == null &amp;&amp; offset != null) {\r\n            limitCondition = rowNum.greaterOrEqual(offset);\r\n        } else if (count != null &amp;&amp; offset == null) {\r\n            limitCondition = rowNum.lessOrEqual(count);\r\n        }\r\n        return limitCondition;\r\n    }","title":"JOOQ empty condition","body":"<p>Is there way to define empty condition which produces nothing in output sql query? Now, for default condition I use <code>trueCondition()</code></p>\n\n<pre><code>private static Condition limitCondition(Integer offset, Integer count) {\n    Condition limitCondition = trueCondition();\n    if (count != null &amp;&amp; offset != null) {\n        limitCondition = rowNum.between(offset, count + offset);\n    } else if (count == null &amp;&amp; offset != null) {\n        limitCondition = rowNum.greaterOrEqual(offset);\n    } else if (count != null &amp;&amp; offset == null) {\n        limitCondition = rowNum.lessOrEqual(count);\n    }\n    return limitCondition;\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":24337076,"reputation":65,"user_id":18274972,"display_name":"Sagar Balyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647850598,"creation_date":1647850598,"answer_id":71554561,"question_id":71553980,"body_markdown":"I understood the problem, so basically what was happening is that a new thread was being called everytime the `startTimer` method was being called. Now `multiple threads` were trying to decrease the value of `timeCheck`, and hence time was passing way fast than it should have. For this to resolve, i changed the `global` variable to `local` variable and it solved the problem for me.","title":"Handler PostDelayed method runs faster than 1 second when given a delay of 1 second","body":"<p>I understood the problem, so basically what was happening is that a new thread was being called everytime the <code>startTimer</code> method was being called. Now <code>multiple threads</code> were trying to decrease the value of <code>timeCheck</code>, and hence time was passing way fast than it should have. For this to resolve, i changed the <code>global</code> variable to <code>local</code> variable and it solved the problem for me.</p>\n"}],"owner":{"account_id":24337076,"reputation":65,"user_id":18274972,"display_name":"Sagar Balyan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647850598,"creation_date":1647846911,"question_id":71553980,"body_markdown":"I have a `Handler` `postDelayed` method, i have passed 1 second of delay and calling it again and again. I am also printing the seconds passed every second, but what i am observing is that it prints faster than 1 second. So in a second, its printing 2-3 seconds.\r\n\r\nThis is the code:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    runOnUiThread(new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        Handler h = new Handler();\r\n        h.postDelayed(new Runnable() {\r\n          @Override\r\n          public void run() {\r\n            Log.d(TAG, &quot;Timer running...&quot;);\r\n            if (startCounter) {\r\n              timeCheck -= 1000;\r\n              //check if device is connected every second\r\n              //if it is connected then reset timer\r\n              Log.d(TAG, &quot;Time: &quot; + timeCheck / 1000 + &quot; sec&quot;);\r\n              if (Constants.IS_CONNECTED) {\r\n                timeCheck = 180000;\r\n                updateFlutter(1);\r\n                Log.d(TAG, &quot;Device is connected&quot;);\r\n              } else {\r\n                Log.d(TAG, &quot;Disconnected but might be in sleep mode&quot;);\r\n                if (timeCheck &lt;= 0) {\r\n                  //                            not connecting\r\n                  //                            device has been disconnected\r\n                  Log.d(TAG, &quot;Fully Disconnected&quot;);\r\n                  updateFlutter(0);\r\n                  startCounter = false;\r\n                  mHandler.post(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                      Toast.makeText(getApplicationContext(), &quot;Device DISCONNECTED&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                  });\r\n                }\r\n              }\r\n            }\r\n            h.postDelayed(this, 1000);\r\n          }\r\n        }, 0);\r\n      }\r\n    });\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Handler PostDelayed method runs faster than 1 second when given a delay of 1 second","body":"<p>I have a <code>Handler</code> <code>postDelayed</code> method, i have passed 1 second of delay and calling it again and again. I am also printing the seconds passed every second, but what i am observing is that it prints faster than 1 second. So in a second, its printing 2-3 seconds.</p>\n<p>This is the code:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>runOnUiThread(new Runnable() {\n  @Override\n  public void run() {\n    Handler h = new Handler();\n    h.postDelayed(new Runnable() {\n      @Override\n      public void run() {\n        Log.d(TAG, \"Timer running...\");\n        if (startCounter) {\n          timeCheck -= 1000;\n          //check if device is connected every second\n          //if it is connected then reset timer\n          Log.d(TAG, \"Time: \" + timeCheck / 1000 + \" sec\");\n          if (Constants.IS_CONNECTED) {\n            timeCheck = 180000;\n            updateFlutter(1);\n            Log.d(TAG, \"Device is connected\");\n          } else {\n            Log.d(TAG, \"Disconnected but might be in sleep mode\");\n            if (timeCheck &lt;= 0) {\n              //                            not connecting\n              //                            device has been disconnected\n              Log.d(TAG, \"Fully Disconnected\");\n              updateFlutter(0);\n              startCounter = false;\n              mHandler.post(new Runnable() {\n                @Override\n                public void run() {\n                  Toast.makeText(getApplicationContext(), \"Device DISCONNECTED\", Toast.LENGTH_SHORT).show();\n                }\n              });\n            }\n          }\n        }\n        h.postDelayed(this, 1000);\n      }\n    }, 0);\n  }\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":["java","mongodb","spring-boot"],"comments":[{"owner":{"account_id":24610857,"reputation":21,"user_id":18512463,"display_name":"Tarun Pansotra"},"score":0,"creation_date":1647856326,"post_id":71554239,"comment_id":126467381,"body_markdown":"just want to create query only in repository for count if you know how to create query for limit count in repository then please let me know my requirement is only to write query for count just like this : @Query() inside this i want to write count limit","body":"just want to create query only in repository for count if you know how to create query for limit count in repository then please let me know my requirement is only to write query for count just like this : @Query() inside this i want to write count limit"},{"owner":{"account_id":8794729,"reputation":15297,"user_id":6572971,"display_name":"Alien"},"score":0,"creation_date":1647956854,"post_id":71554239,"comment_id":126497608,"body_markdown":"Use pageable ..","body":"Use pageable .."}],"answers":[{"tags":[],"owner":{"account_id":4472160,"reputation":9650,"user_id":10415047,"display_name":"R2D2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647850545,"creation_date":1647850545,"answer_id":71554554,"question_id":71554239,"body_markdown":"Here are your two options:\r\n\r\n      db.collection.find({}).limit(5000)\r\n\r\n      db.collection.aggregate([ {},{},{$limit:5000}])","title":"Create count limit query in spring boot java to fetch no of elements","body":"<p>Here are your two options:</p>\n<pre><code>  db.collection.find({}).limit(5000)\n\n  db.collection.aggregate([ {},{},{$limit:5000}])\n</code></pre>\n"}],"owner":{"account_id":24610857,"reputation":21,"user_id":18512463,"display_name":"Tarun Pansotra"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71554554,"answer_count":1,"score":1,"last_activity_date":1647850545,"creation_date":1647848573,"question_id":71554239,"body_markdown":"I want to fetch 5000 elements from 79K elements from mongodb can any one please tell how to write query for count limit in repository.","title":"Create count limit query in spring boot java to fetch no of elements","body":"<p>I want to fetch 5000 elements from 79K elements from mongodb can any one please tell how to write query for count limit in repository.</p>\n"},{"tags":["javascript","java","groovy","jjs"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1647846784,"post_id":71553924,"comment_id":126464478,"body_markdown":"In order to get help, you need to provide some code that shows what you have tried.","body":"In order to get help, you need to provide some code that shows what you have tried."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1647847459,"post_id":71553924,"comment_id":126464645,"body_markdown":"Is the boolean part of the standard output from the js script? Or is it some success/failure state that&#39;s given in some other way? If yes, how is it given?","body":"Is the boolean part of the standard output from the js script? Or is it some success/failure state that&#39;s given in some other way? If yes, how is it given?"},{"owner":{"account_id":22050094,"reputation":21,"user_id":16314529,"display_name":"Sadanand Kolhe"},"score":0,"creation_date":1647850295,"post_id":71553924,"comment_id":126465425,"body_markdown":"when I use \nvar a=5; var b=6; print(a+b);\nI am getting a output 11. \nBut I want to execute a script like \nvar a=5; \nif(a&gt;0) \n\treturn true; \nelse \n\treturn false;\nI get errorStream like \nInvalid return statement \nExpected eof but found }\n}\n^","body":"when I use  var a=5; var b=6; print(a+b); I am getting a output 11.  But I want to execute a script like  var a=5;  if(a&gt;0)  \treturn true;  else  \treturn false; I get errorStream like  Invalid return statement  Expected eof but found } } ^"},{"owner":{"account_id":22050094,"reputation":21,"user_id":16314529,"display_name":"Sadanand Kolhe"},"score":0,"creation_date":1647850731,"post_id":71553924,"comment_id":126465550,"body_markdown":"Hello Federico, I&#39;m not quite understanding your question. I&#39;ve updated the description with an example please have a look at it.","body":"Hello Federico, I&#39;m not quite understanding your question. I&#39;ve updated the description with an example please have a look at it."},{"owner":{"account_id":4358,"reputation":168410,"user_id":6509,"display_name":"tim_yates"},"score":0,"creation_date":1647885085,"post_id":71553924,"comment_id":126478845,"body_markdown":"Please show exactly what you have, in a way we can run.  We need to see the ProcessBuilder, the full js file, the expected output and the actual output. Plus full errors when they happen","body":"Please show exactly what you have, in a way we can run.  We need to see the ProcessBuilder, the full js file, the expected output and the actual output. Plus full errors when they happen"}],"answers":[{"tags":[],"owner":{"account_id":61118,"reputation":11403,"user_id":182289,"accept_rate":73,"display_name":"stepanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647847393,"creation_date":1647847393,"answer_id":71554050,"question_id":71553924,"body_markdown":"The [getInputStream][1] method of the [ProcessBuilder][2] class gives you a stream from which you can read bytes. You have to convert the bytes to String and then parse to boolean.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html#getInputStream()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html","title":"Want to run JavaScript code snippet which returns Boolean with the help of java","body":"<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html#getInputStream()\" rel=\"nofollow noreferrer\">getInputStream</a> method of the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a> class gives you a stream from which you can read bytes. You have to convert the bytes to String and then parse to boolean.</p>\n"}],"owner":{"account_id":22050094,"reputation":21,"user_id":16314529,"display_name":"Sadanand Kolhe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647850424,"creation_date":1647846539,"question_id":71553924,"body_markdown":"I want to run a JavaScript code snippet which returns boolean, from java.\r\n\r\nCurrently I am using `ProcessBuilder` to run the JavaScript program with the command `jjs filename`.\r\n\r\nI am able to perform the operations and getting the output from `getOutputStream` properly.\r\n\r\nBut my requirement is to return boolean from the script, when I make the similar changes in the script it gives compile time error invalid return statement, which is obvious.\r\n\r\nwhen I use \r\n\r\n    var a=5; var b=6; print(a+b);\r\n\r\nI am getting a output 11. \r\nBut I want to execute a script like \r\n\r\n    var a=5; \r\n    if(a&gt;0) \r\n    \treturn true; \r\n    else \r\n    \treturn false;\r\n\r\nI get errorStream like \r\nInvalid return statement \r\nExpected eof but found }\r\n}\r\n^\r\n\r\n","title":"Want to run JavaScript code snippet which returns Boolean with the help of java","body":"<p>I want to run a JavaScript code snippet which returns boolean, from java.</p>\n<p>Currently I am using <code>ProcessBuilder</code> to run the JavaScript program with the command <code>jjs filename</code>.</p>\n<p>I am able to perform the operations and getting the output from <code>getOutputStream</code> properly.</p>\n<p>But my requirement is to return boolean from the script, when I make the similar changes in the script it gives compile time error invalid return statement, which is obvious.</p>\n<p>when I use</p>\n<pre><code>var a=5; var b=6; print(a+b);\n</code></pre>\n<p>I am getting a output 11.\nBut I want to execute a script like</p>\n<pre><code>var a=5; \nif(a&gt;0) \n    return true; \nelse \n    return false;\n</code></pre>\n<p>I get errorStream like\nInvalid return statement\nExpected eof but found }\n}\n^</p>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":3023214,"reputation":20362,"user_id":2563754,"display_name":"Seelenvirtuose"},"score":3,"creation_date":1646750993,"post_id":71396898,"comment_id":126197885,"body_markdown":"Might be a subsequent problem because of the missing space between `static` and `void`.","body":"Might be a subsequent problem because of the missing space between <code>static</code> and <code>void</code>."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1646751828,"post_id":71396898,"comment_id":126198192,"body_markdown":"I suggest learning java separately from Android to start","body":"I suggest learning java separately from Android to start"},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1646752329,"post_id":71396898,"comment_id":126198410,"body_markdown":"I&#39;d strongly recommend using copy/paste to copy the code from your IDE into Stack Overflow - the code in your question doesn&#39;t have the same problem as the code in your screenshot. This would have been clearer if you hadn&#39;t also skipped the first error shown in your IDE (&quot;Cannot resolve symbol staticvoid&quot;).","body":"I&#39;d strongly recommend using copy/paste to copy the code from your IDE into Stack Overflow - the code in your question doesn&#39;t have the same problem as the code in your screenshot. This would have been clearer if you hadn&#39;t also skipped the first error shown in your IDE (&quot;Cannot resolve symbol staticvoid&quot;)."}],"answers":[{"tags":[],"owner":{"display_name":"user17801714"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1646751241,"creation_date":1646751241,"answer_id":71397003,"question_id":71396898,"body_markdown":"Try to add the missing space between `static` and `void`.","title":"Cannot resolve symbol error in Java class Android studio","body":"<p>Try to add the missing space between <code>static</code> and <code>void</code>.</p>\n"}],"owner":{"account_id":24492301,"reputation":11,"user_id":18409192,"display_name":"Xen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":553,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1646765714,"answer_count":1,"score":1,"last_activity_date":1647849822,"creation_date":1646750794,"question_id":71396898,"body_markdown":" Whenever I type in class to test my java code some red curly lines appear in toolbox and android studio code and it gives symbol error for every word typed in. \r\n\r\nI have tried uninstalling and reinstalling, invalidate caches , rebuild e.t.c but none of them worked.\r\n\r\n**code**  \r\n```java\r\npackage com.example.lib;\r\n\r\npublic class MyClass {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello world!&quot;);\r\n    }\r\n}\r\n```\r\n\r\n**Error code**\r\n\r\n```\r\nCannot resolve symbol &#39;String&#39;\r\nCannot resolve symbol &#39;System&#39;\r\n```\r\n\r\n**Image**\r\n\r\n[Click here to see the image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3NuSj.jpg","title":"Cannot resolve symbol error in Java class Android studio","body":"<p>Whenever I type in class to test my java code some red curly lines appear in toolbox and android studio code and it gives symbol error for every word typed in.</p>\n<p>I have tried uninstalling and reinstalling, invalidate caches , rebuild e.t.c but none of them worked.</p>\n<p><strong>code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.lib;\n\npublic class MyClass {\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello world!&quot;);\n    }\n}\n</code></pre>\n<p><strong>Error code</strong></p>\n<pre><code>Cannot resolve symbol 'String'\nCannot resolve symbol 'System'\n</code></pre>\n<p><strong>Image</strong></p>\n<p><a href=\"https://i.stack.imgur.com/3NuSj.jpg\" rel=\"nofollow noreferrer\">Click here to see the image</a></p>\n"},{"tags":["java","websphere-liberty","open-liberty"],"answers":[{"tags":[],"owner":{"account_id":8468354,"reputation":739,"user_id":6351865,"display_name":"M. Broz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647825457,"creation_date":1647799318,"answer_id":71549321,"question_id":71544719,"body_markdown":"There are lots of ways to accomplish this, but the one I would recommend would be to leverage [MicroProfile Config][1], as it exists to do exactly what you want with a simple annotation, which would look something like:\r\n\r\n    @Inject\r\n    @ConfigProperty(name=&quot;downstream_service.url&quot;, \r\n                   defaultValue=&quot;setIfApplicable&quot;)\r\n    private String serviceUrl;\r\n\r\nDon&#39;t forget to include the [mpConfig-2.0 feature][2] in your server.xml (or [mpConfig-3.0 or newer][3] if you&#39;re already using the jakarta namespace).  You would then just need to choose one of the many ways to set the `downstream_service.url` property, which could be as easy as creating a file named `downstream_service.url` in `${server.config.dir}/variables` and setting its contents to `https:\\\\abc_service.com`. Reference the [Server Configuration][4] doc for more information.\r\n\r\nFor more guidance on using mpConfig, take a look at [Separating configuration from code in microservices][5] and/or [Configuring microservices][6] guides.\r\n\r\n\r\n  [1]: https://github.com/eclipse/microprofile-config\r\n  [2]: https://openliberty.io/docs/latest/reference/feature/mpConfig-2.0.html\r\n  [3]: https://openliberty.io/docs/latest/reference/feature/mpConfig.html\r\n  [4]: https://openliberty.io/docs/latest/reference/config/server-configuration-overview.html\r\n  [5]: https://openliberty.io/guides/microprofile-config-intro.html\r\n  [6]: https://openliberty.io/guides/microprofile-config.html","title":"How to read Open-Liberty server config property file value in java class?","body":"<p>There are lots of ways to accomplish this, but the one I would recommend would be to leverage <a href=\"https://github.com/eclipse/microprofile-config\" rel=\"nofollow noreferrer\">MicroProfile Config</a>, as it exists to do exactly what you want with a simple annotation, which would look something like:</p>\n<pre><code>@Inject\n@ConfigProperty(name=&quot;downstream_service.url&quot;, \n               defaultValue=&quot;setIfApplicable&quot;)\nprivate String serviceUrl;\n</code></pre>\n<p>Don't forget to include the <a href=\"https://openliberty.io/docs/latest/reference/feature/mpConfig-2.0.html\" rel=\"nofollow noreferrer\">mpConfig-2.0 feature</a> in your server.xml (or <a href=\"https://openliberty.io/docs/latest/reference/feature/mpConfig.html\" rel=\"nofollow noreferrer\">mpConfig-3.0 or newer</a> if you're already using the jakarta namespace).  You would then just need to choose one of the many ways to set the <code>downstream_service.url</code> property, which could be as easy as creating a file named <code>downstream_service.url</code> in <code>${server.config.dir}/variables</code> and setting its contents to <code>https:\\\\abc_service.com</code>. Reference the <a href=\"https://openliberty.io/docs/latest/reference/config/server-configuration-overview.html\" rel=\"nofollow noreferrer\">Server Configuration</a> doc for more information.</p>\n<p>For more guidance on using mpConfig, take a look at <a href=\"https://openliberty.io/guides/microprofile-config-intro.html\" rel=\"nofollow noreferrer\">Separating configuration from code in microservices</a> and/or <a href=\"https://openliberty.io/guides/microprofile-config.html\" rel=\"nofollow noreferrer\">Configuring microservices</a> guides.</p>\n"},{"tags":[],"owner":{"account_id":3558774,"reputation":1756,"user_id":2971774,"accept_rate":57,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647849734,"creation_date":1647849734,"answer_id":71554424,"question_id":71544719,"body_markdown":"I found my solution by tweaking some code.\r\nI kept the path of properties file in `jvm.options` like `-Djava.test.properties=C:/Users/abc/openliberty-21.0.0.11/wlp/usr/servers/TestServer/config/test.properties` Then I was able to get this file path and I loaded this file using bellow code:\r\n\r\n    Properties props = new Properties();\r\n\t\ttry {\r\n\t\t\tprops.load(new FileInputStream(System.getProperty(&quot;java.test.properties&quot;)));\r\n\t\t\tSystem.out.println(props.getProperty(&quot;serviceurl&quot;));\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}","title":"How to read Open-Liberty server config property file value in java class?","body":"<p>I found my solution by tweaking some code.\nI kept the path of properties file in <code>jvm.options</code> like <code>-Djava.test.properties=C:/Users/abc/openliberty-21.0.0.11/wlp/usr/servers/TestServer/config/test.properties</code> Then I was able to get this file path and I loaded this file using bellow code:</p>\n<pre><code>Properties props = new Properties();\n    try {\n        props.load(new FileInputStream(System.getProperty(&quot;java.test.properties&quot;)));\n        System.out.println(props.getProperty(&quot;serviceurl&quot;));\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n"}],"owner":{"account_id":3558774,"reputation":1756,"user_id":2971774,"accept_rate":57,"display_name":"Anonymous"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":864,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647849734,"creation_date":1647759619,"question_id":71544719,"body_markdown":"I have a scenario where I need to read an url from my property file I have created in a server config directory of my created server i.e. `C:\\&lt;path to liberty installation&gt;\\openliberty-21.0.0.11\\wlp\\usr\\servers\\TestServer\\config\\test.properties` . I have the property file content something like File :**test.properties** \r\n\r\n    downstream_service.url=https:\\\\abc_service.com\r\n\r\nI need to read this url in my crated application&#39;s java class somehow and do some operation.This application  I am going to deploy in the above server .\r\n\r\ne.g.\r\n\r\n  \r\n\r\n      public void myMethod(){\r\n          String serviceUrl=&lt;some logic to get &gt;;\r\n        }\r\n\r\n\r\nAny suggestion would be appreciable to  read this value in property file.\r\n","title":"How to read Open-Liberty server config property file value in java class?","body":"<p>I have a scenario where I need to read an url from my property file I have created in a server config directory of my created server i.e. <code>C:\\&lt;path to liberty installation&gt;\\openliberty-21.0.0.11\\wlp\\usr\\servers\\TestServer\\config\\test.properties</code> . I have the property file content something like File :<strong>test.properties</strong></p>\n<pre><code>downstream_service.url=https:\\\\abc_service.com\n</code></pre>\n<p>I need to read this url in my crated application's java class somehow and do some operation.This application  I am going to deploy in the above server .</p>\n<p>e.g.</p>\n<pre><code>  public void myMethod(){\n      String serviceUrl=&lt;some logic to get &gt;;\n    }\n</code></pre>\n<p>Any suggestion would be appreciable to  read this value in property file.</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1471226605,"post_id":38948298,"comment_id":65251828,"body_markdown":"You&#39;re supposed to pass a custom Object of a class with a `tablename` property. Otherwise, how would you pass multiple values, e.g. `firstName`, `LastName`, etc to an `INSERT` or `UPDATE` statement?","body":"You&#39;re supposed to pass a custom Object of a class with a <code>tablename</code> property. Otherwise, how would you pass multiple values, e.g. <code>firstName</code>, <code>LastName</code>, etc to an <code>INSERT</code> or <code>UPDATE</code> statement?"},{"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"score":0,"creation_date":1471263805,"post_id":38948298,"comment_id":65263735,"body_markdown":"@Andreas Thank you, I tried your method, and it worked. But I&#39;m wondering if there&#39;s a way to just pass a String instance instead of an Object with a `tablename` property.","body":"@Andreas Thank you, I tried your method, and it worked. But I&#39;m wondering if there&#39;s a way to just pass a String instance instead of an Object with a <code>tablename</code> property."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1471297229,"post_id":38948298,"comment_id":65281751,"body_markdown":"Don&#39;t know. You&#39;d have to read the MyBatis documentation to see if it can do that.","body":"Don&#39;t know. You&#39;d have to read the MyBatis documentation to see if it can do that."},{"owner":{"account_id":14327781,"reputation":129,"user_id":10349378,"display_name":"Simran Dhingra"},"score":0,"creation_date":1647848872,"post_id":38948298,"comment_id":126465015,"body_markdown":"For just passing string, follow whatever you have done above and add @Params(&quot;tableName&quot;) in the call. also always preferrable to us # instead of $","body":"For just passing string, follow whatever you have done above and add @Params(&quot;tableName&quot;) in the call. also always preferrable to us # instead of $"}],"answers":[{"tags":[],"owner":{"account_id":7546281,"reputation":1,"user_id":5729199,"display_name":"W.Q.Lin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1472575693,"creation_date":1472575693,"answer_id":39233012,"question_id":38948298,"body_markdown":"    &lt;mapper namespace=&quot;com.company.mapper.BasicMapper&quot;&gt;\r\n    &lt;update id=&quot;dropTable&quot; parameterType=&quot;string&quot;&gt;\r\n        DROP TABLE ${tablename}\r\n    &lt;/update&gt;\r\n&lt;/mapper&gt;\r\nuse &quot;string&quot; not &quot;String&quot;\r\nhttp://www.mybatis.org/mybatis-3/configuration.html#typeAliases \r\njavatype &quot;String&quot; alias as &quot;string&quot; in mybatis.","title":"There is no getter for property named &#39;tablename&#39; in &#39;class java.lang.String&#39;","body":"<pre><code>&lt;mapper namespace=\"com.company.mapper.BasicMapper\"&gt;\n&lt;update id=\"dropTable\" parameterType=\"string\"&gt;\n    DROP TABLE ${tablename}\n&lt;/update&gt;\n</code></pre>\n\n<p>\nuse \"string\" not \"String\"\n<a href=\"http://www.mybatis.org/mybatis-3/configuration.html#typeAliases\" rel=\"nofollow\">http://www.mybatis.org/mybatis-3/configuration.html#typeAliases</a> \njavatype \"String\" alias as \"string\" in mybatis.</p>\n"},{"tags":[],"owner":{"account_id":9857089,"reputation":21,"user_id":7301267,"display_name":"hewei"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1481796117,"creation_date":1481794684,"answer_id":41160843,"question_id":38948298,"body_markdown":"use `${_parameter}` instead of `${tablename}`","title":"There is no getter for property named &#39;tablename&#39; in &#39;class java.lang.String&#39;","body":"<p>use <code>${_parameter}</code> instead of <code>${tablename}</code></p>\n"},{"tags":[],"owner":{"account_id":5209355,"reputation":741,"user_id":4166279,"display_name":"Linyun Liu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1481850535,"creation_date":1481850535,"answer_id":41175825,"question_id":38948298,"body_markdown":"If you want to only pass a String object and use that name of the passed parameter as in the mapping function you need to use #{} instead of ${}, and it only works with function having one parameter.\r\n\r\nSuch as:\r\n\r\n    List&lt;ItemMeta&gt; getItemMetaByName(String itemName);\r\n\r\nwith mapping as:\r\n\r\n    &lt;select id=&quot;getItemMetaByName&quot; parameterType=&quot;String&quot; resultMap=&quot;itemMapper&quot;&gt;\r\n    \t\tselect * from ItemMeta where name like #{itemName}\r\n    &lt;/select&gt;\r\n\r\nThe following mapping will throw the exception metioned:\r\n\r\n    &lt;select id=&quot;getItemByName&quot; parameterType=&quot;String&quot; resultMap=&quot;itemMapper&quot;&gt;\r\n        \t\tselect * from ItemMeta where name like ${itemName}\r\n    &lt;/select&gt;\r\n\r\n    org.apache.ibatis.reflection.ReflectionException: There is no getter for property named &#39;itemName&#39; in &#39;class java.lang.String&#39;\r\n    \tat org.apache.ibatis.reflection.Reflector.getGetInvoker(Reflector.java:377)\r\n    \tat org.apache.ibatis.reflection.MetaClass.getGetInvoker(MetaClass.java:167)\r\n    \tat org.apache.ibatis.reflection.wrapper.BeanWrapper.getBeanProperty(BeanWrapper.java:149)","title":"There is no getter for property named &#39;tablename&#39; in &#39;class java.lang.String&#39;","body":"<p>If you want to only pass a String object and use that name of the passed parameter as in the mapping function you need to use #{} instead of ${}, and it only works with function having one parameter.</p>\n\n<p>Such as:</p>\n\n<pre><code>List&lt;ItemMeta&gt; getItemMetaByName(String itemName);\n</code></pre>\n\n<p>with mapping as:</p>\n\n<pre><code>&lt;select id=\"getItemMetaByName\" parameterType=\"String\" resultMap=\"itemMapper\"&gt;\n        select * from ItemMeta where name like #{itemName}\n&lt;/select&gt;\n</code></pre>\n\n<p>The following mapping will throw the exception metioned:</p>\n\n<pre><code>&lt;select id=\"getItemByName\" parameterType=\"String\" resultMap=\"itemMapper\"&gt;\n            select * from ItemMeta where name like ${itemName}\n&lt;/select&gt;\n\norg.apache.ibatis.reflection.ReflectionException: There is no getter for property named 'itemName' in 'class java.lang.String'\n    at org.apache.ibatis.reflection.Reflector.getGetInvoker(Reflector.java:377)\n    at org.apache.ibatis.reflection.MetaClass.getGetInvoker(MetaClass.java:167)\n    at org.apache.ibatis.reflection.wrapper.BeanWrapper.getBeanProperty(BeanWrapper.java:149)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16192956,"reputation":1,"user_id":11691245,"display_name":"zht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561372174,"creation_date":1561366146,"answer_id":56732954,"question_id":38948298,"body_markdown":"when your parameterType is &quot;string&quot;, use ```${value}``` instead of ```${tablename}```.","title":"There is no getter for property named &#39;tablename&#39; in &#39;class java.lang.String&#39;","body":"<p>when your parameterType is \"string\", use <code>${value}</code> instead of <code>${tablename}</code>.</p>\n"},{"tags":[],"owner":{"account_id":121787,"reputation":11660,"user_id":315129,"accept_rate":93,"display_name":"vbezhenar"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1563817690,"creation_date":1563817690,"answer_id":57151268,"question_id":38948298,"body_markdown":"Use the following annotation for parameter:\r\n\r\n    public interface BasicMapper {\r\n        void dropTable(@Param(&quot;tablename&quot;) String tablename);\r\n    }\r\n","title":"There is no getter for property named &#39;tablename&#39; in &#39;class java.lang.String&#39;","body":"<p>Use the following annotation for parameter:</p>\n\n<pre><code>public interface BasicMapper {\n    void dropTable(@Param(\"tablename\") String tablename);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14327781,"reputation":129,"user_id":10349378,"display_name":"Simran Dhingra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647849140,"creation_date":1647849140,"answer_id":71554321,"question_id":38948298,"body_markdown":"I was facing the same issue and tried all the solutions given here. Only thing that worked for me was:\r\n\r\n - Using @Param(&quot;tableName&quot;) in the interface. \r\n - Using a object class to pass parameter but that works when you have multiple arguments to pass. if you only want to pass one single string, the above works.","title":"There is no getter for property named &#39;tablename&#39; in &#39;class java.lang.String&#39;","body":"<p>I was facing the same issue and tried all the solutions given here. Only thing that worked for me was:</p>\n<ul>\n<li>Using @Param(&quot;tableName&quot;) in the interface.</li>\n<li>Using a object class to pass parameter but that works when you have multiple arguments to pass. if you only want to pass one single string, the above works.</li>\n</ul>\n"}],"owner":{"account_id":1021562,"reputation":26350,"user_id":1031769,"accept_rate":78,"display_name":"Searene"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30666,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":6,"score":4,"last_activity_date":1647849140,"creation_date":1471225822,"question_id":38948298,"body_markdown":"I got the error `There is no getter for property named &#39;tablename&#39; in &#39;class java.lang.String&#39;` when I&#39;m using mybatis.\r\n\r\nMy mapper xml is like this:\r\n\r\n    &lt;mapper namespace=&quot;com.company.mapper.BasicMapper&quot;&gt;\r\n        &lt;update id=&quot;dropTable&quot; parameterType=&quot;String&quot;&gt;\r\n            DROP TABLE ${tablename}\r\n        &lt;/update&gt;\r\n    &lt;/mapper&gt;\r\n\r\nThe interface is like this:\r\n\r\n    public interface BasicMapper {\r\n        void dropTable(String tablename);\r\n    }\r\n\r\nI use it in this way:\r\n\r\n    public void dropTable(String tablename) {\r\n        basicMapper.dropTable(tablename);\r\n    }\r\n\r\nI tried to replace `${tablename}` with `#{tablename}`, but it didn&#39;t help. How can I make it work?","title":"There is no getter for property named &#39;tablename&#39; in &#39;class java.lang.String&#39;","body":"<p>I got the error <code>There is no getter for property named 'tablename' in 'class java.lang.String'</code> when I'm using mybatis.</p>\n\n<p>My mapper xml is like this:</p>\n\n<pre><code>&lt;mapper namespace=\"com.company.mapper.BasicMapper\"&gt;\n    &lt;update id=\"dropTable\" parameterType=\"String\"&gt;\n        DROP TABLE ${tablename}\n    &lt;/update&gt;\n&lt;/mapper&gt;\n</code></pre>\n\n<p>The interface is like this:</p>\n\n<pre><code>public interface BasicMapper {\n    void dropTable(String tablename);\n}\n</code></pre>\n\n<p>I use it in this way:</p>\n\n<pre><code>public void dropTable(String tablename) {\n    basicMapper.dropTable(tablename);\n}\n</code></pre>\n\n<p>I tried to replace <code>${tablename}</code> with <code>#{tablename}</code>, but it didn't help. How can I make it work?</p>\n"},{"tags":["java","interface","singleton"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1471854610,"post_id":39074628,"comment_id":65497125,"body_markdown":"You got a `NullPointerException` from that? Where is the stack trace?","body":"You got a <code>NullPointerException</code> from that? Where is the stack trace?"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1471854781,"post_id":39074628,"comment_id":65497223,"body_markdown":"You should use a dependency-injection tool like Spring or Guice.","body":"You should use a dependency-injection tool like Spring or Guice."},{"owner":{"account_id":4034639,"reputation":985,"user_id":3319557,"accept_rate":100,"display_name":"mlecz"},"score":3,"creation_date":1471854807,"post_id":39074628,"comment_id":65497235,"body_markdown":"If &quot;BusinessSericeImpl&quot; is singleton, you cannot call &quot;new BuisinessServiceImpl()&quot;. You should do BuisinessServiceImpl.getInstance(); Which you cannot, because the getInstance method is not static. You cannot define static methods in interfaces. Are you sure you want singleton? It looks more like a factory pattern","body":"If &quot;BusinessSericeImpl&quot; is singleton, you cannot call &quot;new BuisinessServiceImpl()&quot;. You should do BuisinessServiceImpl.getInstance(); Which you cannot, because the getInstance method is not static. You cannot define static methods in interfaces. Are you sure you want singleton? It looks more like a factory pattern"},{"owner":{"account_id":392890,"reputation":187,"user_id":754440,"display_name":"zstring"},"score":0,"creation_date":1471854809,"post_id":39074628,"comment_id":65497237,"body_markdown":"Make your `getInstance()` method static. and try to get the \n`BusinessService service = BusinessServiceImpl.getInstance()`","body":"Make your <code>getInstance()</code> method static. and try to get the  <code>BusinessService service = BusinessServiceImpl.getInstance()</code>"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1471854843,"post_id":39074628,"comment_id":65497257,"body_markdown":"The getInstance() method must be static, and must thus not be part of the interface. Otherwise, you need to construct a new instance to get the unique instance, which makes no sense at all. Why do you want to use the singleton anti-pattern in the first place?","body":"The getInstance() method must be static, and must thus not be part of the interface. Otherwise, you need to construct a new instance to get the unique instance, which makes no sense at all. Why do you want to use the singleton anti-pattern in the first place?"}],"answers":[{"tags":[],"owner":{"account_id":1852482,"reputation":7664,"user_id":1678729,"accept_rate":75,"display_name":"Danail Alexiev"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1471855610,"creation_date":1471855610,"answer_id":39074977,"question_id":39074628,"body_markdown":"The code you have provided is a bit mixed - up.\r\n\r\nThe whole point of controlling the instantiation of your singleton class means that you have to hide your constructor, so clients can&#39;t access it and create new instance at will.\r\n\r\nYour factory method (a method, that creates the instance of your class) `getInstance()` is an instance method. You have to create a new instance of `BusinessService` in order to create an instance of `BusinessService` - it&#39;s pretty obvious that won&#39;t work properly.\r\n\r\nYou have a few options to deal with your situation:\r\n\r\n 1. Remove the `getInstance()` method from your interface and expose it in your implementation class as a static method. You should also limit the visibility of the constructor to `private`.\r\n\r\n        public class BusinessServiceImpl implements BusinessService {\r\n        \r\n            public static BusinessServiceImpl getInstance() {\r\n                // instantiation logic\r\n            }\r\n        \r\n            private BusinessServiceImpl() {\r\n                // constructor logic\r\n            }\r\n        }\r\n\r\n 2. Use a factory class to instantiate your service and control the number of instances. This includes removing the `getInstance()` method all together and limiting the visibility of your `BusinessServiceImpl` class to `package`.\r\n\r\n        class BusinessServiceImpl implements BusinessService {\r\n            \r\n            BusinessServiceImpl() {\r\n                // constructor logic\r\n            }\r\n        }\r\n\r\n        // should be in the same package as BusinessServiceImpl\r\n        public final class BusinessServiceFactory {\r\n             \r\n            private BusinessServiceImpl instance;\r\n\r\n            public BusinessService getInstance() {\r\n                // instance creation logic, same as singleton creation logic\r\n            }\r\n\r\n        }\r\n\r\n 3. Use an enum to deal with the singleton logic. Remove the `getInstance()` method from your interface.\r\n\r\n        public enum BusinessServiceImpl implements BusinessService {\r\n            \r\n            INSTANCE;\r\n\r\n            // implement the methods from your interface\r\n        }","title":"Using Singleton with Interfaces Java","body":"<p>The code you have provided is a bit mixed - up.</p>\n\n<p>The whole point of controlling the instantiation of your singleton class means that you have to hide your constructor, so clients can't access it and create new instance at will.</p>\n\n<p>Your factory method (a method, that creates the instance of your class) <code>getInstance()</code> is an instance method. You have to create a new instance of <code>BusinessService</code> in order to create an instance of <code>BusinessService</code> - it's pretty obvious that won't work properly.</p>\n\n<p>You have a few options to deal with your situation:</p>\n\n<ol>\n<li><p>Remove the <code>getInstance()</code> method from your interface and expose it in your implementation class as a static method. You should also limit the visibility of the constructor to <code>private</code>.</p>\n\n<pre><code>public class BusinessServiceImpl implements BusinessService {\n\n    public static BusinessServiceImpl getInstance() {\n        // instantiation logic\n    }\n\n    private BusinessServiceImpl() {\n        // constructor logic\n    }\n}\n</code></pre></li>\n<li><p>Use a factory class to instantiate your service and control the number of instances. This includes removing the <code>getInstance()</code> method all together and limiting the visibility of your <code>BusinessServiceImpl</code> class to <code>package</code>.</p>\n\n<pre><code>class BusinessServiceImpl implements BusinessService {\n\n    BusinessServiceImpl() {\n        // constructor logic\n    }\n}\n\n// should be in the same package as BusinessServiceImpl\npublic final class BusinessServiceFactory {\n\n    private BusinessServiceImpl instance;\n\n    public BusinessService getInstance() {\n        // instance creation logic, same as singleton creation logic\n    }\n\n}\n</code></pre></li>\n<li><p>Use an enum to deal with the singleton logic. Remove the <code>getInstance()</code> method from your interface.</p>\n\n<pre><code>public enum BusinessServiceImpl implements BusinessService {\n\n    INSTANCE;\n\n    // implement the methods from your interface\n}\n</code></pre></li>\n</ol>\n"}],"owner":{"account_id":5067061,"reputation":1405,"user_id":4066914,"accept_rate":56,"display_name":"Mira Mira"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24406,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":39074977,"answer_count":1,"score":5,"last_activity_date":1647849048,"creation_date":1471854493,"question_id":39074628,"body_markdown":"I want to know, how to use the singleton pattern with interfaces? I have created an interface:\r\n \r\n\r\n    public interface BusinessService {\r\n    \r\n       BusinessService getInstance();\r\n\r\n    }\r\n\r\n\r\nI make this implementation:\r\n\r\n\r\n    public class BusinessServiceImpl implements BusinessService {\r\n\r\n      private static BusinessServiceImpl instance = null;\r\n    \r\n      private BusinessServiceImpl(){ }\r\n\r\n      @Override\r\n      public BusinessServiceImpl getInstance() {\r\n        if (instance == null) {\r\n            BusinessServiceImpl.instance = new BusinessServiceImpl();\r\n        }\r\n        return BusinessServiceImpl.instance;\r\n      }\r\n    }\r\n\r\n\r\nHow can I get access to getInstance from my main-class?\r\nI tried something like \r\n     \r\n\r\n    private BusinessService service = new BusinessServiceImpl();\r\n(does not work - Constructor from BusinessServiceImpl() is private)\r\n\r\nBut what else? Can you help me out?\r\n\r\n**Edit**: I&#39;m using Java Spring! I don&#39;t want to use Java Springs - Dependency Injection! \r\n\r\n\r\nGreets, Mira","title":"Using Singleton with Interfaces Java","body":"<p>I want to know, how to use the singleton pattern with interfaces? I have created an interface:</p>\n<pre><code>public interface BusinessService {\n\n   BusinessService getInstance();\n\n}\n</code></pre>\n<p>I make this implementation:</p>\n<pre><code>public class BusinessServiceImpl implements BusinessService {\n\n  private static BusinessServiceImpl instance = null;\n\n  private BusinessServiceImpl(){ }\n\n  @Override\n  public BusinessServiceImpl getInstance() {\n    if (instance == null) {\n        BusinessServiceImpl.instance = new BusinessServiceImpl();\n    }\n    return BusinessServiceImpl.instance;\n  }\n}\n</code></pre>\n<p>How can I get access to getInstance from my main-class?\nI tried something like</p>\n<pre><code>private BusinessService service = new BusinessServiceImpl();\n</code></pre>\n<p>(does not work - Constructor from BusinessServiceImpl() is private)</p>\n<p>But what else? Can you help me out?</p>\n<p><strong>Edit</strong>: I'm using Java Spring! I don't want to use Java Springs - Dependency Injection!</p>\n<p>Greets, Mira</p>\n"},{"tags":["java","android","bitmap","camera","google-mlkit"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1645455483,"post_id":71205159,"comment_id":125869658,"body_markdown":"`It is giving wrong x and width values with the below code` Please tell which values you expected and which values you got.","body":"<code>It is giving wrong x and width values with the below code</code> Please tell which values you expected and which values you got."},{"owner":{"account_id":6671387,"reputation":5099,"user_id":5147435,"accept_rate":50,"display_name":"Vishnuvardhan"},"score":0,"creation_date":1645462535,"post_id":71205159,"comment_id":125872534,"body_markdown":"Hi @blackapps, cropped bitmap is leaving some space at left side(x) and right side(width). Top and Height are fine. I am expecting It should crop the image with the exact dimensions given.","body":"Hi @blackapps, cropped bitmap is leaving some space at left side(x) and right side(width). Top and Height are fine. I am expecting It should crop the image with the exact dimensions given."}],"answers":[{"tags":[],"owner":{"account_id":405358,"reputation":21,"user_id":774186,"display_name":"manish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647848765,"creation_date":1647848402,"answer_id":71554204,"question_id":71205159,"body_markdown":"I was facing similar issue and found that taking rotation into account before calculating scale factor resolved the problem\r\n\r\n```\r\nvar imageBitmap = ImageUtils.convertYuv420888ImageToBitmap(img)\r\n            \r\nvar rotatedBitmap = ImageUtils.rotate(imageBitmap,imageProxy.imageInfo.rotationDegrees)\r\n\r\nscaleXNew =  rotatedBitmap.width.toFloat() / previewViewWidth\r\nscaleYNew =  rotatedBitmap.height.toFloat() / previewViewHeight\r\n\r\nval boxRect = Rect()\r\noverlay.getHitRect(boxRect)\r\n\r\nval cropRect = adjustBoundingRectNew(boxRect).toRect()\r\nvar croppedImageBitmap = ImageUtils.rotateAndCrop(rotatedBitmap, 0, cropRect)\r\n\r\nval inputImage = InputImage.fromBitmap(croppedImageBitmap, 0)\r\n```\r\nThis calculation is only for portrait mode and need to be changed for landscape (as width and height changes)","title":"Android Camera PreviewView cropping","body":"<p>I was facing similar issue and found that taking rotation into account before calculating scale factor resolved the problem</p>\n<pre><code>var imageBitmap = ImageUtils.convertYuv420888ImageToBitmap(img)\n            \nvar rotatedBitmap = ImageUtils.rotate(imageBitmap,imageProxy.imageInfo.rotationDegrees)\n\nscaleXNew =  rotatedBitmap.width.toFloat() / previewViewWidth\nscaleYNew =  rotatedBitmap.height.toFloat() / previewViewHeight\n\nval boxRect = Rect()\noverlay.getHitRect(boxRect)\n\nval cropRect = adjustBoundingRectNew(boxRect).toRect()\nvar croppedImageBitmap = ImageUtils.rotateAndCrop(rotatedBitmap, 0, cropRect)\n\nval inputImage = InputImage.fromBitmap(croppedImageBitmap, 0)\n</code></pre>\n<p>This calculation is only for portrait mode and need to be changed for landscape (as width and height changes)</p>\n"}],"owner":{"account_id":6671387,"reputation":5099,"user_id":5147435,"accept_rate":50,"display_name":"Vishnuvardhan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":687,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647848765,"creation_date":1645441259,"question_id":71205159,"body_markdown":"By using an Android MLKit barcode scanner, I wanted a barcode scan to be performed only in a certain rectangle area. Trying below code to crop the bitmap and after that passing to the Barcode Analyser.  \r\n\r\nBut Bitmap cropping is not working as expected. It is giving wrong x and width values with the below code. y and height is working as expected.\r\n\r\nAny help on this issue much appreciated. Thanks in Advance. \r\n\r\n    public void analyze(ImageProxy imageProxy) {\r\n    \r\n    Bitmap bitmapImage = BitmapUtils.getBitmap(imageProxy);\r\n    \r\n    //camWidth and camHeight are the PreviewView width and height\r\n    \r\n    float wr = bitmapImage.getWidth() / (float) camWidth;\r\n    float hr = bitmapImage.getHeight() / (float) camHeight;\r\n    \r\n    // left, top, width, height are the crop rectangle dimensions \r\n    \r\n    float x1 = this.left * wr;\r\n    float w1 = this.width * wr;\r\n    \r\n    float y1 = this.top * hr;\r\n    float h1 = this.height * hr;\r\n    \r\n    Bitmap croppedBmp = Bitmap.createBitmap(bitmapImage, (int) x1, (int) y1, (int) w1, (int) h1)\r\n    \r\n    InputImage image = InputImage.fromBitmap(croppedBmp, imageProxy.getImageInfo().getRotationDegrees());\r\n    \r\n    scanner.process(image).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Barcode&gt;&gt;() {\r\n        @Override\r\n        public void onSuccess(List&lt;Barcode&gt; barcodes) {\r\n    \r\n        }\r\n    });\r\n    \r\n    \r\n    }","title":"Android Camera PreviewView cropping","body":"<p>By using an Android MLKit barcode scanner, I wanted a barcode scan to be performed only in a certain rectangle area. Trying below code to crop the bitmap and after that passing to the Barcode Analyser.</p>\n<p>But Bitmap cropping is not working as expected. It is giving wrong x and width values with the below code. y and height is working as expected.</p>\n<p>Any help on this issue much appreciated. Thanks in Advance.</p>\n<pre><code>public void analyze(ImageProxy imageProxy) {\n\nBitmap bitmapImage = BitmapUtils.getBitmap(imageProxy);\n\n//camWidth and camHeight are the PreviewView width and height\n\nfloat wr = bitmapImage.getWidth() / (float) camWidth;\nfloat hr = bitmapImage.getHeight() / (float) camHeight;\n\n// left, top, width, height are the crop rectangle dimensions \n\nfloat x1 = this.left * wr;\nfloat w1 = this.width * wr;\n\nfloat y1 = this.top * hr;\nfloat h1 = this.height * hr;\n\nBitmap croppedBmp = Bitmap.createBitmap(bitmapImage, (int) x1, (int) y1, (int) w1, (int) h1)\n\nInputImage image = InputImage.fromBitmap(croppedBmp, imageProxy.getImageInfo().getRotationDegrees());\n\nscanner.process(image).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Barcode&gt;&gt;() {\n    @Override\n    public void onSuccess(List&lt;Barcode&gt; barcodes) {\n\n    }\n});\n\n\n}\n</code></pre>\n"},{"tags":["java","algorithm","swap"],"comments":[{"owner":{"account_id":15106724,"reputation":508,"user_id":16163044,"display_name":"Sandro J"},"score":3,"creation_date":1647785667,"post_id":71547491,"comment_id":126453408,"body_markdown":"You should specify constraints on those parameters, or what time/space complexity you are targeting, because this problem is not very trivial at all.","body":"You should specify constraints on those parameters, or what time/space complexity you are targeting, because this problem is not very trivial at all."},{"owner":{"account_id":15250648,"reputation":51,"user_id":11004124,"display_name":"Kungyu Lee"},"score":0,"creation_date":1647785909,"post_id":71547491,"comment_id":126453463,"body_markdown":"@SandroJ Ok i dont&#39; have an idea as to have to solve the problem so i can&#39;t really say what time/space complexity is suffice. The only constraint I can remember is that the length of the input array is `1 &lt;= n &lt;= 8`","body":"@SandroJ Ok i dont&#39; have an idea as to have to solve the problem so i can&#39;t really say what time/space complexity is suffice. The only constraint I can remember is that the length of the input array is <code>1 &lt;= n &lt;= 8</code>"},{"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"score":0,"creation_date":1647786041,"post_id":71547491,"comment_id":126453491,"body_markdown":"Are swaps adjacent only? Also, there’s around 40,000 permutations of 8 elements, so even brute force would rapidly solve that.","body":"Are swaps adjacent only? Also, there’s around 40,000 permutations of 8 elements, so even brute force would rapidly solve that."},{"owner":{"account_id":15250648,"reputation":51,"user_id":11004124,"display_name":"Kungyu Lee"},"score":0,"creation_date":1647786519,"post_id":71547491,"comment_id":126453590,"body_markdown":"@kcsquared No the swaps doesn&#39;t have to be adjacent. As with the brute force method, I did think about using it but couldn&#39;t quite get to the end of it. So after getting all 40,000 some permutations (for 8 elements), should I pick out the ones that satisfy the condition, check how many swaps have been made for each of them and get the minimum swap?","body":"@kcsquared No the swaps doesn&#39;t have to be adjacent. As with the brute force method, I did think about using it but couldn&#39;t quite get to the end of it. So after getting all 40,000 some permutations (for 8 elements), should I pick out the ones that satisfy the condition, check how many swaps have been made for each of them and get the minimum swap?"},{"owner":{"account_id":17476274,"reputation":25037,"user_id":12671057,"display_name":"Kelly Bundy"},"score":0,"creation_date":1647813835,"post_id":71547491,"comment_id":126459562,"body_markdown":"`n &lt;= 8` is a huge hint, indicating you&#39;re intended to more or less  brute force this. Should be mentioned in the question.","body":"<code>n &lt;= 8</code> is a huge hint, indicating you&#39;re intended to more or less  brute force this. Should be mentioned in the question."}],"answers":[{"tags":[],"owner":{"account_id":24401797,"reputation":1794,"user_id":18330436,"display_name":"Tomer Geva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647848339,"creation_date":1647790823,"answer_id":71548185,"question_id":71547491,"body_markdown":"I would tackle this as a graph searching problem.\r\n\r\n## Problem definition ##\r\nTo tackle this as a graph search problem, we first need to define the states of our system. In out case, the states will be the sequence of the numbers.\r\n\r\n## Solution proposal ##\r\nAfter defining the states, every graph search problem can do the job, but since you want the least amount of swaps, we will use BFS.\r\n\r\nThe following was implemented in python for convenience but can be done in java as well.\r\n\r\nFirst we will write a help function which given a sequence of numbers, returns all the possible 1-swaps of that sequence:\r\n```\r\ndef get_swaps(sequence):\r\n    swapps = collections.deque([])\r\n    ii = 0\r\n    jj = 1\r\n    done = False\r\n    while not done:\r\n        temp_seq = sequence.copy()\r\n        temp     = sequence[jj]\r\n        temp_seq[jj] = sequence[ii]\r\n        temp_seq[ii] = temp\r\n        swapps.append(temp_seq)\r\n        if jj &lt; len(sequence)-1:\r\n            jj += 1\r\n        elif ii &lt; len(sequence)-2:\r\n            ii += 1\r\n            jj = ii + 1\r\n        else:\r\n            done = True\r\n    return swapps\r\n```\r\nPlease note that this is not written optimally but it does the trick.\r\n\r\nNow we can implement a BFS algorithm as follows (read more on BFS and DFS [here][1])\r\n```\r\ndef findSwap(sequence, k):\r\n    state_queue = collections.deque([]) # Pending states which have not been explored yet\r\n    visited     = set()\r\n    state    = (sequence, 0)  # Starting state, starting sequence and 0 swapps\r\n    min_diff = max([abs(sequence[1:][ii] - sequence[:-1][ii]) for ii in range(len(sequence)-1)])\r\n    found    = True\r\n    while min_diff &gt; k:\r\n        curr_seq   = state[0]\r\n        curr_count = state[1]\r\n        # Getting all swaps possible\r\n        swaps = get_swaps(curr_seq)\r\n        # Adding to the queue and to visited set all the unvisited states\r\n        for next_state in swaps:\r\n            None if tuple(next_state) in visited else state_queue.append((next_state, curr_count+1)), visited.add(tuple(next_state))\r\n        # popping next state from the queue\r\n        try:\r\n            state = state_queue.popleft()\r\n            curr_seq = state[0]\r\n            min_diff = max([abs(curr_seq[1:][ii] - curr_seq[:-1][ii]) for ii in range(len(curr_seq) - 1)])\r\n        except IndexError:\r\n            found = False\r\n            break\r\n    if found:\r\n        return state[1]\r\n    else:\r\n        return -1\r\n```\r\n## Explanation ## \r\nIn each states we:\r\n1. Generate the possible next states which are the 1-swap permutations.\r\n2. For each next-state candidate, we check if we already visited that state and if we did not visit the state, we add the next state to the state queue. \r\n\r\nAfter finishing the check for all possible next states, we pop the next state from the queue and check the max difference. If the max diff is lees then k we are done. If the queue is empty, we searched through all the state space and did not find a solution, and in this case we will return `-1`.\r\n\r\nNote that in addition to the states we carry the number of swaps done from the original state to this state in the tuple.\r\n\r\nWhen setting your test array we get:\r\n```\r\na = [3,7,2,8,6,4,5,1]\r\nprint(findSwap(a, 3))  # 2, as expected\r\n\r\n```\r\n\r\n\r\n  [1]: https://www.guru99.com/difference-between-bfs-and-dfs.html","title":"Minimum swaps required to organize all elements within K","body":"<p>I would tackle this as a graph searching problem.</p>\n<h2>Problem definition</h2>\n<p>To tackle this as a graph search problem, we first need to define the states of our system. In out case, the states will be the sequence of the numbers.</p>\n<h2>Solution proposal</h2>\n<p>After defining the states, every graph search problem can do the job, but since you want the least amount of swaps, we will use BFS.</p>\n<p>The following was implemented in python for convenience but can be done in java as well.</p>\n<p>First we will write a help function which given a sequence of numbers, returns all the possible 1-swaps of that sequence:</p>\n<pre><code>def get_swaps(sequence):\n    swapps = collections.deque([])\n    ii = 0\n    jj = 1\n    done = False\n    while not done:\n        temp_seq = sequence.copy()\n        temp     = sequence[jj]\n        temp_seq[jj] = sequence[ii]\n        temp_seq[ii] = temp\n        swapps.append(temp_seq)\n        if jj &lt; len(sequence)-1:\n            jj += 1\n        elif ii &lt; len(sequence)-2:\n            ii += 1\n            jj = ii + 1\n        else:\n            done = True\n    return swapps\n</code></pre>\n<p>Please note that this is not written optimally but it does the trick.</p>\n<p>Now we can implement a BFS algorithm as follows (read more on BFS and DFS <a href=\"https://www.guru99.com/difference-between-bfs-and-dfs.html\" rel=\"nofollow noreferrer\">here</a>)</p>\n<pre><code>def findSwap(sequence, k):\n    state_queue = collections.deque([]) # Pending states which have not been explored yet\n    visited     = set()\n    state    = (sequence, 0)  # Starting state, starting sequence and 0 swapps\n    min_diff = max([abs(sequence[1:][ii] - sequence[:-1][ii]) for ii in range(len(sequence)-1)])\n    found    = True\n    while min_diff &gt; k:\n        curr_seq   = state[0]\n        curr_count = state[1]\n        # Getting all swaps possible\n        swaps = get_swaps(curr_seq)\n        # Adding to the queue and to visited set all the unvisited states\n        for next_state in swaps:\n            None if tuple(next_state) in visited else state_queue.append((next_state, curr_count+1)), visited.add(tuple(next_state))\n        # popping next state from the queue\n        try:\n            state = state_queue.popleft()\n            curr_seq = state[0]\n            min_diff = max([abs(curr_seq[1:][ii] - curr_seq[:-1][ii]) for ii in range(len(curr_seq) - 1)])\n        except IndexError:\n            found = False\n            break\n    if found:\n        return state[1]\n    else:\n        return -1\n</code></pre>\n<h2>Explanation</h2>\n<p>In each states we:</p>\n<ol>\n<li>Generate the possible next states which are the 1-swap permutations.</li>\n<li>For each next-state candidate, we check if we already visited that state and if we did not visit the state, we add the next state to the state queue.</li>\n</ol>\n<p>After finishing the check for all possible next states, we pop the next state from the queue and check the max difference. If the max diff is lees then k we are done. If the queue is empty, we searched through all the state space and did not find a solution, and in this case we will return <code>-1</code>.</p>\n<p>Note that in addition to the states we carry the number of swaps done from the original state to this state in the tuple.</p>\n<p>When setting your test array we get:</p>\n<pre><code>a = [3,7,2,8,6,4,5,1]\nprint(findSwap(a, 3))  # 2, as expected\n\n</code></pre>\n"}],"owner":{"account_id":15250648,"reputation":51,"user_id":11004124,"display_name":"Kungyu Lee"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":833,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1647848339,"creation_date":1647785172,"question_id":71547491,"body_markdown":"I recently came across this coding interview question, and can&#39;t seem to find an answer to it. Here&#39;s the question.\r\n\r\nGiven an integer array, write a function that returns the minimum swaps required to organize the array so that adjacent elements all have an absolute difference less than or equal to K. Swaps can be of any two array elements, not necessarily adjacent.\r\n\r\nFor example,\r\n```Java\r\npublic static void main(String[] argv) {\r\n    int[] arr1 = new int[]{10, 40, 30, 20};\r\n    int K = 20;\r\n    getMinimumSwap(arr1, K); // should return 1\r\n}\r\n```\r\n\r\nThe reason why it should return 1 is because by swapping 40 and 30, the array would satisfy the given statement that all adjacent elements should be within 20 of one another.\r\n\r\nI did try to google for answers, and I thought I found some answer in other algorithm-helper sites, but was unable to get the answers for my questions. The failed test case had an array of `3, 7, 2, 8, 6, 4, 5, 1` and `K = 3` which should return `2`.\r\n\r\nThe only constraint I can remember is that the length of the input array is `1 &lt;= n &lt;= 8`.","title":"Minimum swaps required to organize all elements within K","body":"<p>I recently came across this coding interview question, and can't seem to find an answer to it. Here's the question.</p>\n<p>Given an integer array, write a function that returns the minimum swaps required to organize the array so that adjacent elements all have an absolute difference less than or equal to K. Swaps can be of any two array elements, not necessarily adjacent.</p>\n<p>For example,</p>\n<pre><code>public static void main(String[] argv) {\n    int[] arr1 = new int[]{10, 40, 30, 20};\n    int K = 20;\n    getMinimumSwap(arr1, K); // should return 1\n}\n</code></pre>\n<p>The reason why it should return 1 is because by swapping 40 and 30, the array would satisfy the given statement that all adjacent elements should be within 20 of one another.</p>\n<p>I did try to google for answers, and I thought I found some answer in other algorithm-helper sites, but was unable to get the answers for my questions. The failed test case had an array of <code>3, 7, 2, 8, 6, 4, 5, 1</code> and <code>K = 3</code> which should return <code>2</code>.</p>\n<p>The only constraint I can remember is that the length of the input array is <code>1 &lt;= n &lt;= 8</code>.</p>\n"},{"tags":["java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647847920,"creation_date":1647847920,"answer_id":71554133,"question_id":71553700,"body_markdown":"You do\r\n```lang-java\r\nut.addSource(document.getPage(0).getContents())\r\n```\r\nThis is wrong, `PDFMergerUtility` expects PDF documents as sources but `PDPage.getContents()` only returns the content stream of some page.\r\n\r\nInstead save `document` to some `ByteArrayOutputStream` and add the contents of that stream as source to `ut`.","title":"Error: Header doesn&#39;t contain versioninfo","body":"<p>You do</p>\n<pre class=\"lang-java prettyprint-override\"><code>ut.addSource(document.getPage(0).getContents())\n</code></pre>\n<p>This is wrong, <code>PDFMergerUtility</code> expects PDF documents as sources but <code>PDPage.getContents()</code> only returns the content stream of some page.</p>\n<p>Instead save <code>document</code> to some <code>ByteArrayOutputStream</code> and add the contents of that stream as source to <code>ut</code>.</p>\n"}],"owner":{"account_id":24626666,"reputation":3,"user_id":18526317,"display_name":"Sidhi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3749,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71554133,"answer_count":1,"score":0,"last_activity_date":1647847920,"creation_date":1647845143,"question_id":71553700,"body_markdown":"I&#39;m trying to create some pdf pages on the fly and merging them using PDFBox PDFMergerUtility. Basically I&#39;ve set of documents to be merged and now I want to add a cover page at the top with some dynamic text and image.\r\n\r\n```\r\nPDFMergerUtility ut = new PDFMergerUtility();\r\n\r\n\t\t// Creating PDF document object\r\n\t\tPDDocument document = new PDDocument();\r\n\r\n\t\tPDPage blankPage = new PDPage();\r\n\t\t// Adding the blank page to the document\r\n\t\tdocument.addPage(blankPage);\r\n\r\n\t\t// Start a new content stream which will &quot;hold&quot; the to be created content\r\n\t\tPDPageContentStream contentStream = new PDPageContentStream(document, blankPage);\r\n\r\n\t\t// Define a text content stream using the selected font, moving the cursor and\r\n\t\t// drawing the text &quot;Hello World&quot;\r\n\t\tcontentStream.beginText();\r\n\t\t// Setting the font to the Content stream\r\n\t\tcontentStream.setFont(PDType1Font.TIMES_ROMAN, 12);\r\n\r\n\t\t// Setting the position for the line\r\n\t\tcontentStream.newLineAtOffset(25, 500);\r\n\r\n\t\tString text = &quot;This is the sample document and we are adding content to it.&quot;;\r\n\r\n\t\t// Adding text in the form of string\r\n\t\tcontentStream.showText(text);\r\n\t\tcontentStream.endText();\r\n\r\n\t\t// Make sure that the content stream is closed:\r\n\t\tcontentStream.close();\r\n\r\n\t\tut.addSource(document.getPage(0).getContents());\r\n\r\n\t\r\n\t\t// Save the merged pdf to outputstream\r\n\t\tByteArrayOutputStream destStream = new ByteArrayOutputStream();\r\n\t\tut.setDestinationStream(destStream);\r\n\t\tut.mergeDocuments(MemoryUsageSetting.setupTempFileOnly());\r\n```\r\n\r\nBut I&#39;m getting following error:\r\n```\r\njava.io.IOException: Error: Header doesn&#39;t contain versioninfo\r\n        at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:175)\r\n        at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:154)\r\n        at org.apache.pdfbox.Loader.loadPDF(Loader.java:456)\r\n        at org.apache.pdfbox.Loader.loadPDF(Loader.java:377)\r\n        at org.apache.pdfbox.multipdf.PDFMergerUtility.legacyMergeDocuments(PDFMergerUtility.java:457)\r\n        at org.apache.pdfbox.multipdf.PDFMergerUtility.mergeDocuments(PDFMergerUtility.java:355)\r\n        at org.apache.pdfbox.multipdf.PDFMergerUtility.mergeDocuments(PDFMergerUtility.java:339)\r\n        at com.iof.services.AuditDocumentService.mergeAttachments(AuditDocumentService.java:210)\r\n        at com.iof.services.AuditDocumentService.downloadAuditDocument(AuditDocumentService.java:118)\r\n        at com.iof.services.AuditDocumentService.lambda$0(AuditDocumentService.java:95)\r\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n        at com.iof.services.AuditDocumentService.downloadAuditDocument(AuditDocumentService.java:85)\r\n        at com.iof.schedulers.AuditDocumentScheduler.downloadAuditDocument(AuditDocumentScheduler.java:17)\r\n        at jdk.internal.reflect.GeneratedMethodAccessor73.invoke(Unknown Source)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\r\n        at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\r\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n        at java.base/java.lang.Thread.run(Thread.java:833)\r\n```\r\n\r\nCan someone help me with what I&#39;m doing wrong?\r\n","title":"Error: Header doesn&#39;t contain versioninfo","body":"<p>I'm trying to create some pdf pages on the fly and merging them using PDFBox PDFMergerUtility. Basically I've set of documents to be merged and now I want to add a cover page at the top with some dynamic text and image.</p>\n<pre><code>PDFMergerUtility ut = new PDFMergerUtility();\n\n        // Creating PDF document object\n        PDDocument document = new PDDocument();\n\n        PDPage blankPage = new PDPage();\n        // Adding the blank page to the document\n        document.addPage(blankPage);\n\n        // Start a new content stream which will &quot;hold&quot; the to be created content\n        PDPageContentStream contentStream = new PDPageContentStream(document, blankPage);\n\n        // Define a text content stream using the selected font, moving the cursor and\n        // drawing the text &quot;Hello World&quot;\n        contentStream.beginText();\n        // Setting the font to the Content stream\n        contentStream.setFont(PDType1Font.TIMES_ROMAN, 12);\n\n        // Setting the position for the line\n        contentStream.newLineAtOffset(25, 500);\n\n        String text = &quot;This is the sample document and we are adding content to it.&quot;;\n\n        // Adding text in the form of string\n        contentStream.showText(text);\n        contentStream.endText();\n\n        // Make sure that the content stream is closed:\n        contentStream.close();\n\n        ut.addSource(document.getPage(0).getContents());\n\n    \n        // Save the merged pdf to outputstream\n        ByteArrayOutputStream destStream = new ByteArrayOutputStream();\n        ut.setDestinationStream(destStream);\n        ut.mergeDocuments(MemoryUsageSetting.setupTempFileOnly());\n</code></pre>\n<p>But I'm getting following error:</p>\n<pre><code>java.io.IOException: Error: Header doesn't contain versioninfo\n        at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:175)\n        at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:154)\n        at org.apache.pdfbox.Loader.loadPDF(Loader.java:456)\n        at org.apache.pdfbox.Loader.loadPDF(Loader.java:377)\n        at org.apache.pdfbox.multipdf.PDFMergerUtility.legacyMergeDocuments(PDFMergerUtility.java:457)\n        at org.apache.pdfbox.multipdf.PDFMergerUtility.mergeDocuments(PDFMergerUtility.java:355)\n        at org.apache.pdfbox.multipdf.PDFMergerUtility.mergeDocuments(PDFMergerUtility.java:339)\n        at com.iof.services.AuditDocumentService.mergeAttachments(AuditDocumentService.java:210)\n        at com.iof.services.AuditDocumentService.downloadAuditDocument(AuditDocumentService.java:118)\n        at com.iof.services.AuditDocumentService.lambda$0(AuditDocumentService.java:95)\n        at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n        at com.iof.services.AuditDocumentService.downloadAuditDocument(AuditDocumentService.java:85)\n        at com.iof.schedulers.AuditDocumentScheduler.downloadAuditDocument(AuditDocumentScheduler.java:17)\n        at jdk.internal.reflect.GeneratedMethodAccessor73.invoke(Unknown Source)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)\n        at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n        at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:305)\n        at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n        at java.base/java.lang.Thread.run(Thread.java:833)\n</code></pre>\n<p>Can someone help me with what I'm doing wrong?</p>\n"},{"tags":["java","macos","bazel"],"answers":[{"tags":[],"owner":{"account_id":102617,"reputation":2303,"user_id":275347,"display_name":"Gunnar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636578498,"creation_date":1634215152,"answer_id":69570874,"question_id":69570243,"body_markdown":"As embarrassing as it is, restarting the Mac followed by an `sudo rm -rf /private/var/tmp/_bazel_me` (just to be sure) fixed it.","title":"How to fix Bazel &#39;still trying to connect to local Bazel server&#39; on Mac OS?","body":"<p>As embarrassing as it is, restarting the Mac followed by an <code>sudo rm -rf /private/var/tmp/_bazel_me</code> (just to be sure) fixed it.</p>\n"},{"tags":[],"owner":{"account_id":2329672,"reputation":177,"user_id":3310346,"display_name":"Pedro A. Aranda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647847917,"creation_date":1647847917,"answer_id":71554132,"question_id":69570243,"body_markdown":"In my case (Ubuntu 20.04, bazel as the base for the ONOS SDN framework), it took bazel 90 seconds to recover from the hick-up but then it started working. Patience was the remedy ;-)","title":"How to fix Bazel &#39;still trying to connect to local Bazel server&#39; on Mac OS?","body":"<p>In my case (Ubuntu 20.04, bazel as the base for the ONOS SDN framework), it took bazel 90 seconds to recover from the hick-up but then it started working. Patience was the remedy ;-)</p>\n"}],"owner":{"account_id":102617,"reputation":2303,"user_id":275347,"display_name":"Gunnar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1678,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69570874,"answer_count":2,"score":1,"last_activity_date":1647847917,"creation_date":1634212510,"question_id":69570243,"body_markdown":"I am experiencing an issue on my local system, which I cannot figure out to solve. I am using Bazel and it looks like the Bazel server process is being blocked by some Mac OS security setting from opening ports.\r\n\r\n```\r\n&gt; bazel --version\r\nbazel 4.2.1\r\n\r\n&gt; bazel info\r\nStarting local Bazel server and connecting to it...\r\n... still trying to connect to local Bazel server after 20 seconds ...\r\n... still trying to connect to local Bazel server after 40 seconds ...\r\n... still trying to connect to local Bazel server after 60 seconds ...\r\n... still trying to connect to local Bazel server after 80 seconds ...\r\n... still trying to connect to local Bazel server after 100 seconds ...\r\nFATAL: couldn&#39;t connect to server (212) after 120 seconds.\r\n```\r\n\r\n```\r\n&gt; bazel --batch info\r\nbazel-bin: /private/var/tmp/_bazel_me/hash/execroot/jdt_java_toolchain_ws/bazel-out/darwin-fastbuild/bin\r\nbazel-genfiles: /private/var/tmp/_bazel_me/hash/execroot/jdt_java_toolchain_ws/bazel-out/darwin-fastbuild/bin\r\nbazel-testlogs: /private/var/tmp/_bazel_me/hash/execroot/jdt_java_toolchain_ws/bazel-out/darwin-fastbuild/testlogs\r\ncharacter-encoding: file.encoding = ISO-8859-1, defaultCharset = ISO-8859-1\r\ncommand_log: /private/var/tmp/_bazel_me/hash/command.log\r\ncommitted-heap-size: 2147MB\r\nexecution_root: /private/var/tmp/_bazel_me/hash/execroot/jdt_java_toolchain_ws\r\ngc-count: 2\r\ngc-time: 9ms\r\ninstall_base: /var/tmp/_bazel_me/install/anotherhash\r\njava-home: /private/var/tmp/_bazel_me/install/anotherhash/embedded_tools/jdk\r\njava-runtime: OpenJDK Runtime Environment (build 11.0.6+10-LTS) by Azul Systems, Inc.\r\njava-vm: OpenJDK 64-Bit Server VM (build 11.0.6+10-LTS, mixed mode) by Azul Systems, Inc.\r\nmax-heap-size: 32178MB\r\noutput_base: /private/var/tmp/_bazel_me/hash\r\noutput_path: /private/var/tmp/_bazel_me/hash/execroot/jdt_java_toolchain_ws/bazel-out\r\npackage_path: %workspace%\r\nrelease: release 4.2.1\r\nrepository_cache: /var/tmp/_bazel_me/cache/repos/v1\r\nserver_log: /private/var/tmp/_bazel_me/hash/java.log.gwagenk-wsm44cr.me.log.java.20211014-133941.786\r\nserver_pid: 786\r\nused-heap-size: 68MB\r\nworkspace: /Users/me/dev/bazel/jdt-java-toolchain\r\n```\r\n\r\nI can see the server process being there:\r\n```\r\n&gt; ps aux | grep bazel\r\nme       212   ... bazel(jdt-java-toolchain) \r\n  -XX:+HeapDumpOnOutOfMemoryError \r\n  -XX:HeapDumpPath=/private/var/tmp/_bazel_me/hash \r\n  --add-opens=java.base/java.nio=ALL-UNNAMED \r\n  --add-opens=java.base/java.lang=ALL-UNNAMED \r\n  -Xverify:none \r\n  -Djava.util.logging.config.file=/private/var/tmp/_bazel_me/hash/javalog.properties \r\n  -Dcom.google.devtools.build.lib.util.LogHandlerQuerier.class=com.google.devtools.build.lib.util.SimpleLogHandler$HandlerQuerier \r\n  -XX:-MaxFDLimit \r\n  -Djava.library.path=/var/tmp/_bazel_me/install/anotherhash/embedded_tools/jdk/lib/jli:/var/tmp/_bazel_me/install/anotherhash/embedded_tools/jdk/lib:/var/tmp/_bazel_me/install/anotherhash/embedded_tools/jdk/lib/server:/var/tmp/_bazel_me/install/anotherhash/embedded_tools/tools/objc:/var/tmp/_bazel_me/install/anotherhash/ \r\n  -Dfile.encoding=ISO-8859-1 \r\n  -jar /var/tmp/_bazel_me/install/anotherhash/A-server.jar \r\n  --max_idle_secs=10800 \r\n  --noshutdown_on_low_sys_mem \r\n  --connect_timeout_secs=30 \r\n  --output_user_root=/var/tmp/_bazel_me \r\n  --install_base=/var/tmp/_bazel_me/install/anotherhash \r\n  --install_md5=anotherhash \r\n  --output_base=/private/var/tmp/_bazel_me/hash \r\n  --workspace_directory=/Users/me/dev/bazel/jdt-java-toolchain \r\n  --default_system_javabase=/Library/Java/JavaVirtualMachines/openjdk_11.0......jdk/Contents/Home \r\n  --failure_detail_out=/private/var/tmp/_bazel_me/hash/failure_detail.rawproto \r\n  --expand_configs_in_place \r\n  --idle_server_tasks \r\n  --write_command_log \r\n  --nowatchfs \r\n  --nofatal_event_bus_exceptions \r\n  --nowindows_enable_symlinks \r\n  --client_debug=false \r\n  --product_name=Bazel \r\n  --noincompatible_enable_execution_transition \r\n  --option_sources=\r\n```\r\n\r\nIt does look like the port cannot be reached:\r\n```\r\n&gt; cat /private/var/tmp/_bazel_me/hash/server/command_port \r\n[::1]:59769⏎                                                                                                                                                                                                \r\n\r\n&gt; nc -vz ::1 59769\r\nnc: connectx to ::1 port 59769 (tcp) failed: Operation timed out\r\n\r\n```\r\n\r\nThis used to work. There have been a couple security updates in the last weeks and I am not sure when it and what broke.\r\n\r\nThe firewall is turned on and I&#39;m unable to turn it off.\r\n[![Mac OS Firewall Settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fN38S.png","title":"How to fix Bazel &#39;still trying to connect to local Bazel server&#39; on Mac OS?","body":"<p>I am experiencing an issue on my local system, which I cannot figure out to solve. I am using Bazel and it looks like the Bazel server process is being blocked by some Mac OS security setting from opening ports.</p>\n<pre><code>&gt; bazel --version\nbazel 4.2.1\n\n&gt; bazel info\nStarting local Bazel server and connecting to it...\n... still trying to connect to local Bazel server after 20 seconds ...\n... still trying to connect to local Bazel server after 40 seconds ...\n... still trying to connect to local Bazel server after 60 seconds ...\n... still trying to connect to local Bazel server after 80 seconds ...\n... still trying to connect to local Bazel server after 100 seconds ...\nFATAL: couldn't connect to server (212) after 120 seconds.\n</code></pre>\n<pre><code>&gt; bazel --batch info\nbazel-bin: /private/var/tmp/_bazel_me/hash/execroot/jdt_java_toolchain_ws/bazel-out/darwin-fastbuild/bin\nbazel-genfiles: /private/var/tmp/_bazel_me/hash/execroot/jdt_java_toolchain_ws/bazel-out/darwin-fastbuild/bin\nbazel-testlogs: /private/var/tmp/_bazel_me/hash/execroot/jdt_java_toolchain_ws/bazel-out/darwin-fastbuild/testlogs\ncharacter-encoding: file.encoding = ISO-8859-1, defaultCharset = ISO-8859-1\ncommand_log: /private/var/tmp/_bazel_me/hash/command.log\ncommitted-heap-size: 2147MB\nexecution_root: /private/var/tmp/_bazel_me/hash/execroot/jdt_java_toolchain_ws\ngc-count: 2\ngc-time: 9ms\ninstall_base: /var/tmp/_bazel_me/install/anotherhash\njava-home: /private/var/tmp/_bazel_me/install/anotherhash/embedded_tools/jdk\njava-runtime: OpenJDK Runtime Environment (build 11.0.6+10-LTS) by Azul Systems, Inc.\njava-vm: OpenJDK 64-Bit Server VM (build 11.0.6+10-LTS, mixed mode) by Azul Systems, Inc.\nmax-heap-size: 32178MB\noutput_base: /private/var/tmp/_bazel_me/hash\noutput_path: /private/var/tmp/_bazel_me/hash/execroot/jdt_java_toolchain_ws/bazel-out\npackage_path: %workspace%\nrelease: release 4.2.1\nrepository_cache: /var/tmp/_bazel_me/cache/repos/v1\nserver_log: /private/var/tmp/_bazel_me/hash/java.log.gwagenk-wsm44cr.me.log.java.20211014-133941.786\nserver_pid: 786\nused-heap-size: 68MB\nworkspace: /Users/me/dev/bazel/jdt-java-toolchain\n</code></pre>\n<p>I can see the server process being there:</p>\n<pre><code>&gt; ps aux | grep bazel\nme       212   ... bazel(jdt-java-toolchain) \n  -XX:+HeapDumpOnOutOfMemoryError \n  -XX:HeapDumpPath=/private/var/tmp/_bazel_me/hash \n  --add-opens=java.base/java.nio=ALL-UNNAMED \n  --add-opens=java.base/java.lang=ALL-UNNAMED \n  -Xverify:none \n  -Djava.util.logging.config.file=/private/var/tmp/_bazel_me/hash/javalog.properties \n  -Dcom.google.devtools.build.lib.util.LogHandlerQuerier.class=com.google.devtools.build.lib.util.SimpleLogHandler$HandlerQuerier \n  -XX:-MaxFDLimit \n  -Djava.library.path=/var/tmp/_bazel_me/install/anotherhash/embedded_tools/jdk/lib/jli:/var/tmp/_bazel_me/install/anotherhash/embedded_tools/jdk/lib:/var/tmp/_bazel_me/install/anotherhash/embedded_tools/jdk/lib/server:/var/tmp/_bazel_me/install/anotherhash/embedded_tools/tools/objc:/var/tmp/_bazel_me/install/anotherhash/ \n  -Dfile.encoding=ISO-8859-1 \n  -jar /var/tmp/_bazel_me/install/anotherhash/A-server.jar \n  --max_idle_secs=10800 \n  --noshutdown_on_low_sys_mem \n  --connect_timeout_secs=30 \n  --output_user_root=/var/tmp/_bazel_me \n  --install_base=/var/tmp/_bazel_me/install/anotherhash \n  --install_md5=anotherhash \n  --output_base=/private/var/tmp/_bazel_me/hash \n  --workspace_directory=/Users/me/dev/bazel/jdt-java-toolchain \n  --default_system_javabase=/Library/Java/JavaVirtualMachines/openjdk_11.0......jdk/Contents/Home \n  --failure_detail_out=/private/var/tmp/_bazel_me/hash/failure_detail.rawproto \n  --expand_configs_in_place \n  --idle_server_tasks \n  --write_command_log \n  --nowatchfs \n  --nofatal_event_bus_exceptions \n  --nowindows_enable_symlinks \n  --client_debug=false \n  --product_name=Bazel \n  --noincompatible_enable_execution_transition \n  --option_sources=\n</code></pre>\n<p>It does look like the port cannot be reached:</p>\n<pre><code>&gt; cat /private/var/tmp/_bazel_me/hash/server/command_port \n[::1]:59769⏎                                                                                                                                                                                                \n\n&gt; nc -vz ::1 59769\nnc: connectx to ::1 port 59769 (tcp) failed: Operation timed out\n\n</code></pre>\n<p>This used to work. There have been a couple security updates in the last weeks and I am not sure when it and what broke.</p>\n<p>The firewall is turned on and I'm unable to turn it off.\n<a href=\"https://i.stack.imgur.com/fN38S.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fN38S.png\" alt=\"Mac OS Firewall Settings\" /></a></p>\n"},{"tags":["javascript","java","axios","graaljs"],"comments":[{"owner":{"account_id":2268219,"reputation":1637,"user_id":1996296,"accept_rate":69,"display_name":"igreenfield"},"score":0,"creation_date":1647849745,"post_id":71553306,"comment_id":126465276,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":61118,"reputation":11403,"user_id":182289,"accept_rate":73,"display_name":"stepanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647846883,"creation_date":1647846883,"answer_id":71553975,"question_id":71553306,"body_markdown":"You can create a node.js application that uses the axios library to accomplish what you need and call it from Java with code similar to this:\r\n\r\n    Runtime run  = Runtime.getRuntime();\r\n    run.exec(command);\r\n\r\nThat said, Java has excellent libraries for networking to probably fit your requirement.","title":"How to call javascript function making a axios api call from java","body":"<p>You can create a node.js application that uses the axios library to accomplish what you need and call it from Java with code similar to this:</p>\n<pre><code>Runtime run  = Runtime.getRuntime();\nrun.exec(command);\n</code></pre>\n<p>That said, Java has excellent libraries for networking to probably fit your requirement.</p>\n"}],"owner":{"account_id":24626250,"reputation":1,"user_id":18525933,"display_name":"Rahul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647846883,"creation_date":1647842038,"question_id":71553306,"body_markdown":"I have a javascript function which make a network call using the axios library. \r\nThe function supports for GET and POST.\r\nMy requirement is to call the same javascript function from Java, which internally will make a network call using axios. \r\n","title":"How to call javascript function making a axios api call from java","body":"<p>I have a javascript function which make a network call using the axios library.\nThe function supports for GET and POST.\nMy requirement is to call the same javascript function from Java, which internally will make a network call using axios.</p>\n"},{"tags":["java","maven","websocket"],"owner":{"account_id":3543312,"reputation":1760,"user_id":2959880,"accept_rate":93,"display_name":"Babyburger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647846554,"creation_date":1647844425,"question_id":71553610,"body_markdown":"I&#39;m using Springboot with Java 8 and I have some integration tests to test my websocket endpoints + callback.  The integration tests work on my Windows machine through both IntelliJ and Maven build (`verify` phase) without any issues and on my Ubuntu IntelliJ, but fails on my Ubuntu Maven build.\r\n\r\nMy integration test looks like this:\r\n\r\n    @Test\r\n    void loggedInUserSendsMessageToNewUser_newUserAddedAndReceivesMessage() throws Exception {\r\n        StompSession loggedInUserSession = getUserSession(LOGGED_IN_USER_EMAIL);\r\n        StompSession interlocutor1Session = getUserSession(INTERLOCUTOR_EMAIL);\r\n        StompSession interlocutor2Session = getUserSession(INTERLOCUTOR_2_EMAIL);\r\n\r\n        BlockingQueue&lt;MessageDTO&gt; loggedInUserQueue = new ArrayBlockingQueue&lt;&gt;(1);\r\n        loggedInUserSession.subscribe(USER_QUEUE_MESSAGE, createStompFrameHandler(loggedInUserQueue));\r\n        BlockingQueue&lt;MessageDTO&gt; interlocutor1Queue = new ArrayBlockingQueue&lt;&gt;(1);\r\n        interlocutor1Session.subscribe(USER_QUEUE_MESSAGE, createStompFrameHandler(interlocutor1Queue));\r\n        BlockingQueue&lt;MessageDTO&gt; interlocutor2Queue = new ArrayBlockingQueue&lt;&gt;(1);\r\n        interlocutor2Session.subscribe(USER_QUEUE_MESSAGE, createStompFrameHandler(interlocutor2Queue));\r\n\r\n        String newMessage = &quot;new message&quot;;\r\n        String payload = objectMapper.writeValueAsString(new NewMessageDTO(newMessage, &quot;verification id&quot;));\r\n        loggedInUserSession.send(String.format(&quot;/app/message/%s&quot;, INTERLOCUTOR_2_EMAIL), payload);\r\n\r\n        assertThat(loggedInUserQueue.poll(POLLING_TIMEOUT_IN_SECONDS, SECONDS))\r\n                .isNotNull(); // --&gt; On my Ubuntu Maven build this is null\r\n        ...\r\n    }\r\n\r\n    private StompSession getUserSession(String username) throws Exception {\r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.setBasicAuth(username, PASSWORD);\r\n        WebSocketHttpHeaders webSocketHttpHeaders = new WebSocketHttpHeaders(headers);\r\n        return webSocketStompClient\r\n                .connect(String.format(&quot;ws://localhost:%d/socket/chat&quot;, serverPort), webSocketHttpHeaders, new StompSessionHandlerAdapter() {\r\n                })\r\n                .get(POLLING_TIMEOUT_IN_SECONDS, SECONDS);\r\n    }\r\n\r\n    private StompFrameHandler createStompFrameHandler(BlockingQueue&lt;MessageDTO&gt; userQueue) {\r\n        return new StompFrameHandler() {\r\n            @NotNull\r\n            @Override\r\n            public Type getPayloadType(@NotNull StompHeaders headers) {\r\n                return LinkedHashMap.class;\r\n            }\r\n\r\n            @Override\r\n            public void handleFrame(@NotNull StompHeaders headers, Object payload) {\r\n                MessageDTO messageDTO = objectMapper.convertValue(payload, MessageDTO.class);\r\n                userQueue.add(messageDTO);\r\n            }\r\n        };\r\n    }\r\n\r\nProduction code that sends the response:\r\n\r\n    private final SimpMessagingTemplate messagingTemplate;\r\n\r\n    private void sendMessageToWebsocket(){\r\n        MessageDTO outgoingMessageDTO = messageMapper.mapTo(...);\r\n        messagingTemplate.convertAndSendToUser(destination, &quot;/queue/message&quot;, outgoingMessageDTO);\r\n    }\r\n\r\nSo I test that I can send a message to my websocket endpoints in the backend and I expect a response through websocket as well, on my user queue.  Each user session has a blocking queue that stores incoming messages for me to poll and validate in my test.  \r\n\r\nThis test has been running reliably every single time on Windows IntelliJ, Windows Maven and Ubuntu Intellij, and fails reliably on Ubuntu Maven.  Since it&#39;s only during Maven that the tests fail, it is hard to debug as I can only get so far with printing console messages.  What I can verify is that the backend does receive the websocket message, processes it without fail and reaches the code that is supposed to sent the response back.  But the `StompFrameHandler` is never triggered.  It is supposed to call the `getPayloadType()` method before `handleFrame()` but even `getPayloadType()` is not being called.   \r\n\r\nThese are the things I&#39;ve thought of and tried:\r\n\r\n - Java version: They are all running on Java 8, but I tried switching to Java 11 in all scenarios and they continue to work for Windows and Ubuntu IntelliJ, but fail on Ubuntu Maven\r\n - Maven version: I am using 3.8.1 on both Windows and Ubuntu\r\n - race condition: The subscription happens before I call the send, but just in case I added a sleep of 5 seconds before calling `loggedInUserSession.send()`, with the same result.  It should typically be done in milliseconds, and I tried adding generous timers of 5 seconds and 60 seconds to `POLLING_TIMEOUT_IN_SECONDS` with no change in result.  This is also the only test that tests the websocket endpoints. (I disabled the other ones to exclude interference between tests, just to be sure.)\r\n - thread count: The call is asynchronous, so this might be the source of it?  I rather expect the backend endpoint not to be triggered then if this was the issue. I verified that both the backend is being called and processing and that the polling is happening, so I doubt this is it.\r\n\r\nMaybe I am looking at it the wrong way.  I tried to debug with print statements, but I get stuck between the sending of the response from the backend (which is being called) and the `StompFrameHandler` not picking up the response.  Everything in between is handled by spring-messaging framework.  I think it&#39;s likely an environment issue, but I am not seeing it.\r\n\r\n**Update**: I still had my suspicions that the threadpool had something to do with it after debugging a bit more with IntelliJ (I saw that another thread is being spawned by the `messagingTemplate`). So I tried to run the integration test by itself: `mvn -D it.test=mypackage.WebsocketIntegrationTest verify` and now it works...  \r\n\r\nIt appears it does have something to do with the threads running out, but I don&#39;t understand why it fails so consistently and why the other threads aren&#39;t released when they&#39;re done.  If I set a blocking wait of 60 seconds that should be enough time for a thread to become available again I&#39;d think.","title":"StompFrameHandler.handleFrame not called in integration tests in Maven only","body":"<p>I'm using Springboot with Java 8 and I have some integration tests to test my websocket endpoints + callback.  The integration tests work on my Windows machine through both IntelliJ and Maven build (<code>verify</code> phase) without any issues and on my Ubuntu IntelliJ, but fails on my Ubuntu Maven build.</p>\n<p>My integration test looks like this:</p>\n<pre><code>@Test\nvoid loggedInUserSendsMessageToNewUser_newUserAddedAndReceivesMessage() throws Exception {\n    StompSession loggedInUserSession = getUserSession(LOGGED_IN_USER_EMAIL);\n    StompSession interlocutor1Session = getUserSession(INTERLOCUTOR_EMAIL);\n    StompSession interlocutor2Session = getUserSession(INTERLOCUTOR_2_EMAIL);\n\n    BlockingQueue&lt;MessageDTO&gt; loggedInUserQueue = new ArrayBlockingQueue&lt;&gt;(1);\n    loggedInUserSession.subscribe(USER_QUEUE_MESSAGE, createStompFrameHandler(loggedInUserQueue));\n    BlockingQueue&lt;MessageDTO&gt; interlocutor1Queue = new ArrayBlockingQueue&lt;&gt;(1);\n    interlocutor1Session.subscribe(USER_QUEUE_MESSAGE, createStompFrameHandler(interlocutor1Queue));\n    BlockingQueue&lt;MessageDTO&gt; interlocutor2Queue = new ArrayBlockingQueue&lt;&gt;(1);\n    interlocutor2Session.subscribe(USER_QUEUE_MESSAGE, createStompFrameHandler(interlocutor2Queue));\n\n    String newMessage = &quot;new message&quot;;\n    String payload = objectMapper.writeValueAsString(new NewMessageDTO(newMessage, &quot;verification id&quot;));\n    loggedInUserSession.send(String.format(&quot;/app/message/%s&quot;, INTERLOCUTOR_2_EMAIL), payload);\n\n    assertThat(loggedInUserQueue.poll(POLLING_TIMEOUT_IN_SECONDS, SECONDS))\n            .isNotNull(); // --&gt; On my Ubuntu Maven build this is null\n    ...\n}\n\nprivate StompSession getUserSession(String username) throws Exception {\n    HttpHeaders headers = new HttpHeaders();\n    headers.setBasicAuth(username, PASSWORD);\n    WebSocketHttpHeaders webSocketHttpHeaders = new WebSocketHttpHeaders(headers);\n    return webSocketStompClient\n            .connect(String.format(&quot;ws://localhost:%d/socket/chat&quot;, serverPort), webSocketHttpHeaders, new StompSessionHandlerAdapter() {\n            })\n            .get(POLLING_TIMEOUT_IN_SECONDS, SECONDS);\n}\n\nprivate StompFrameHandler createStompFrameHandler(BlockingQueue&lt;MessageDTO&gt; userQueue) {\n    return new StompFrameHandler() {\n        @NotNull\n        @Override\n        public Type getPayloadType(@NotNull StompHeaders headers) {\n            return LinkedHashMap.class;\n        }\n\n        @Override\n        public void handleFrame(@NotNull StompHeaders headers, Object payload) {\n            MessageDTO messageDTO = objectMapper.convertValue(payload, MessageDTO.class);\n            userQueue.add(messageDTO);\n        }\n    };\n}\n</code></pre>\n<p>Production code that sends the response:</p>\n<pre><code>private final SimpMessagingTemplate messagingTemplate;\n\nprivate void sendMessageToWebsocket(){\n    MessageDTO outgoingMessageDTO = messageMapper.mapTo(...);\n    messagingTemplate.convertAndSendToUser(destination, &quot;/queue/message&quot;, outgoingMessageDTO);\n}\n</code></pre>\n<p>So I test that I can send a message to my websocket endpoints in the backend and I expect a response through websocket as well, on my user queue.  Each user session has a blocking queue that stores incoming messages for me to poll and validate in my test.</p>\n<p>This test has been running reliably every single time on Windows IntelliJ, Windows Maven and Ubuntu Intellij, and fails reliably on Ubuntu Maven.  Since it's only during Maven that the tests fail, it is hard to debug as I can only get so far with printing console messages.  What I can verify is that the backend does receive the websocket message, processes it without fail and reaches the code that is supposed to sent the response back.  But the <code>StompFrameHandler</code> is never triggered.  It is supposed to call the <code>getPayloadType()</code> method before <code>handleFrame()</code> but even <code>getPayloadType()</code> is not being called.</p>\n<p>These are the things I've thought of and tried:</p>\n<ul>\n<li>Java version: They are all running on Java 8, but I tried switching to Java 11 in all scenarios and they continue to work for Windows and Ubuntu IntelliJ, but fail on Ubuntu Maven</li>\n<li>Maven version: I am using 3.8.1 on both Windows and Ubuntu</li>\n<li>race condition: The subscription happens before I call the send, but just in case I added a sleep of 5 seconds before calling <code>loggedInUserSession.send()</code>, with the same result.  It should typically be done in milliseconds, and I tried adding generous timers of 5 seconds and 60 seconds to <code>POLLING_TIMEOUT_IN_SECONDS</code> with no change in result.  This is also the only test that tests the websocket endpoints. (I disabled the other ones to exclude interference between tests, just to be sure.)</li>\n<li>thread count: The call is asynchronous, so this might be the source of it?  I rather expect the backend endpoint not to be triggered then if this was the issue. I verified that both the backend is being called and processing and that the polling is happening, so I doubt this is it.</li>\n</ul>\n<p>Maybe I am looking at it the wrong way.  I tried to debug with print statements, but I get stuck between the sending of the response from the backend (which is being called) and the <code>StompFrameHandler</code> not picking up the response.  Everything in between is handled by spring-messaging framework.  I think it's likely an environment issue, but I am not seeing it.</p>\n<p><strong>Update</strong>: I still had my suspicions that the threadpool had something to do with it after debugging a bit more with IntelliJ (I saw that another thread is being spawned by the <code>messagingTemplate</code>). So I tried to run the integration test by itself: <code>mvn -D it.test=mypackage.WebsocketIntegrationTest verify</code> and now it works...</p>\n<p>It appears it does have something to do with the threads running out, but I don't understand why it fails so consistently and why the other threads aren't released when they're done.  If I set a blocking wait of 60 seconds that should be enough time for a thread to become available again I'd think.</p>\n"},{"tags":["java","visual-studio-code","javafx","jar"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1647751362,"post_id":71543809,"comment_id":126447780,"body_markdown":"The &quot;JavaFX runtime components are missing&quot; error is not related to preview features. The error means the JavaFX classes cannot be found on the class-path/module-path at run-time. Check out [this blog](https://edencoding.com/runtime-components-error) for more information. Also, note that if you&#39;re using preview features then `--enable-preview` needs to be used at *both* compile-time and run-time.","body":"The &quot;JavaFX runtime components are missing&quot; error is not related to preview features. The error means the JavaFX classes cannot be found on the class-path/module-path at run-time. Check out <a href=\"https://edencoding.com/runtime-components-error\" rel=\"nofollow noreferrer\">this blog</a> for more information. Also, note that if you&#39;re using preview features then <code>--enable-preview</code> needs to be used at <i>both</i> compile-time and run-time."},{"owner":{"account_id":14085363,"reputation":21,"user_id":10175254,"display_name":"Jazz"},"score":0,"creation_date":1647756807,"post_id":71543809,"comment_id":126448297,"body_markdown":"@Slaw\nIf my understanding of this blog is right. I set the VM args for javafx to my project configs (`&quot;vmArgs&quot;: &quot;--module-path /path/to/javafx-sdk-17.0.1/lib --add-modules javafx.controls,javafx.fxml&quot;` - I had this config set already) and I need to call those args when I try to run the jar. So would this be the proper command to input in cmd `java -jar --enable-preview MyProgram.jar --module-path /path/to/javafx-sdk-17.0.1/lib --add-modules javafx.controls,javafx.fxml`\n\nWhen I run the command I still get the `JavaFX runtime components are missing`. Or did I mess up the ordering of the tags.","body":"@Slaw If my understanding of this blog is right. I set the VM args for javafx to my project configs (<code>&quot;vmArgs&quot;: &quot;--module-path &#47;path&#47;to&#47;javafx-sdk-17.0.1&#47;lib --add-modules javafx.controls,javafx.fxml&quot;</code> - I had this config set already) and I need to call those args when I try to run the jar. So would this be the proper command to input in cmd <code>java -jar --enable-preview MyProgram.jar --module-path &#47;path&#47;to&#47;javafx-sdk-17.0.1&#47;lib --add-modules javafx.controls,javafx.fxml</code>  When I run the command I still get the <code>JavaFX runtime components are missing</code>. Or did I mess up the ordering of the tags."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1647762089,"post_id":71543809,"comment_id":126448982,"body_markdown":"The `-jar &lt;file&gt;` should be last. Anything after is parsed as application arguments (what&#39;s passed to `main(String[])`).","body":"The <code>-jar &lt;file&gt;</code> should be last. Anything after is parsed as application arguments (what&#39;s passed to <code>main(String[])</code>)."},{"owner":{"account_id":24435058,"reputation":6292,"user_id":18359438,"display_name":"MingJie-MSFT"},"score":0,"creation_date":1647843165,"post_id":71543809,"comment_id":126463755,"body_markdown":"This article can help you：https://github.com/javafxports/openjdk-jfx/issues/236#issuecomment-426583174","body":"This article can help you：<a href=\"https://github.com/javafxports/openjdk-jfx/issues/236#issuecomment-426583174\" rel=\"nofollow noreferrer\">github.com/javafxports/openjdk-jfx/issues/&hellip;</a>"},{"owner":{"account_id":14085363,"reputation":21,"user_id":10175254,"display_name":"Jazz"},"score":0,"creation_date":1647847046,"post_id":71543809,"comment_id":126464544,"body_markdown":"Thank you @Slaw I can run my jar without issue now. The blog was a big help.","body":"Thank you @Slaw I can run my jar without issue now. The blog was a big help."},{"owner":{"account_id":14085363,"reputation":21,"user_id":10175254,"display_name":"Jazz"},"score":0,"creation_date":1647847236,"post_id":71543809,"comment_id":126464583,"body_markdown":"@MingJie thank you for the link. I&#39;ll definitely look into making my project modular for a more long term fix.","body":"@MingJie thank you for the link. I&#39;ll definitely look into making my project modular for a more long term fix."}],"answers":[{"tags":[],"owner":{"account_id":14085363,"reputation":21,"user_id":10175254,"display_name":"Jazz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647846496,"creation_date":1647846496,"answer_id":71553912,"question_id":71543809,"body_markdown":"Thanks to help in the comments &amp; this [blog][1], adding the following to your VM arguments:\r\n\r\n```--module-path path/to/your-version-of-javafx/lib&quot; --add-modules javafx.controls,javafx.fxml```\r\n\r\nand running the following command in cmd/terminal\r\n\r\n```java --enable-preview --module-path path/to/your-version-of-javafx/lib&quot; --add-modules javafx.controls,javafx.fxml -jar MyProgram.jar ```\r\n\r\nAllows the jar run without errors.\r\n\r\nThe blog also has other solutions/methods to dealing with this problem as well. \r\n\r\n\r\n  [1]: https://edencoding.com/runtime-components-error","title":"How to run a jar that uses JavaFx with the --enable-preview tag in cmd/terminal?","body":"<p>Thanks to help in the comments &amp; this <a href=\"https://edencoding.com/runtime-components-error\" rel=\"nofollow noreferrer\">blog</a>, adding the following to your VM arguments:</p>\n<p><code>--module-path path/to/your-version-of-javafx/lib&quot; --add-modules javafx.controls,javafx.fxml</code></p>\n<p>and running the following command in cmd/terminal</p>\n<p><code>java --enable-preview --module-path path/to/your-version-of-javafx/lib&quot; --add-modules javafx.controls,javafx.fxml -jar MyProgram.jar </code></p>\n<p>Allows the jar run without errors.</p>\n<p>The blog also has other solutions/methods to dealing with this problem as well.</p>\n"}],"owner":{"account_id":14085363,"reputation":21,"user_id":10175254,"display_name":"Jazz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":440,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71553912,"answer_count":1,"score":0,"last_activity_date":1647846496,"creation_date":1647746824,"question_id":71543809,"body_markdown":"**Edit:** Updated my question to better reflect what my problem was. Original Question: Is there a way to prevent Jar files exported in VScode from compiling using --enable-preview?\r\n\r\n\r\nI&#39;m working on a java project in VScode that uses JavaFX. Whenever I export a jar of the project using the [Export Jar button][1] and try to run the jar in cmd, I keep getting this error:\r\n\r\n```\r\nError: LinkageError occurred while loading main class MyProgram\r\n        java.lang.UnsupportedClassVersionError: Preview features are not enabled\r\n        for MyProgram (class file version 61.65535). Try running with &#39;--enable-preview&#39; \r\n```\r\nWhenever I try to use the --enable-preview tag I get the following:\r\n\r\n`Error: JavaFX runtime components are missing, and are required to run this application`\r\n\r\nThis is my JDK I use and I have JavaFX version 17.0.1.\r\n```\r\nopenjdk version &quot;17.0.1&quot; 2021-10-19 LTS\r\nOpenJDK Runtime Environment Microsoft-28056 (build 17.0.1+12-LTS)\r\nOpenJDK 64-Bit Server VM Microsoft-28056 (build 17.0.1+12-LTS, mixed mode, sharing)\r\n```\r\n\r\nOther solutions to similar problems seem to be issues with having multiple JDKs but I&#39;ve only have this JDK downloaded on my device and I&#39;ve only ever had this version downloaded. JavaFX is properly configured to my project and my JAVA_HOME path is to the JDK folder &amp; Path&#39;s path is to the JDK bin.\r\n\r\nThe program runs fine when I run it in VScode, its when I export the jar and try to run it in cmd or terminal that this error pops up.\r\n\r\nI tested it with a basic print hello world jar (not using JavaFX) and I get the same error too but no error appears when I run with the --enable-preview tag.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wUzPz.png","title":"How to run a jar that uses JavaFx with the --enable-preview tag in cmd/terminal?","body":"<p><strong>Edit:</strong> Updated my question to better reflect what my problem was. Original Question: Is there a way to prevent Jar files exported in VScode from compiling using --enable-preview?</p>\n<p>I'm working on a java project in VScode that uses JavaFX. Whenever I export a jar of the project using the <a href=\"https://i.stack.imgur.com/wUzPz.png\" rel=\"nofollow noreferrer\">Export Jar button</a> and try to run the jar in cmd, I keep getting this error:</p>\n<pre><code>Error: LinkageError occurred while loading main class MyProgram\n        java.lang.UnsupportedClassVersionError: Preview features are not enabled\n        for MyProgram (class file version 61.65535). Try running with '--enable-preview' \n</code></pre>\n<p>Whenever I try to use the --enable-preview tag I get the following:</p>\n<p><code>Error: JavaFX runtime components are missing, and are required to run this application</code></p>\n<p>This is my JDK I use and I have JavaFX version 17.0.1.</p>\n<pre><code>openjdk version &quot;17.0.1&quot; 2021-10-19 LTS\nOpenJDK Runtime Environment Microsoft-28056 (build 17.0.1+12-LTS)\nOpenJDK 64-Bit Server VM Microsoft-28056 (build 17.0.1+12-LTS, mixed mode, sharing)\n</code></pre>\n<p>Other solutions to similar problems seem to be issues with having multiple JDKs but I've only have this JDK downloaded on my device and I've only ever had this version downloaded. JavaFX is properly configured to my project and my JAVA_HOME path is to the JDK folder &amp; Path's path is to the JDK bin.</p>\n<p>The program runs fine when I run it in VScode, its when I export the jar and try to run it in cmd or terminal that this error pops up.</p>\n<p>I tested it with a basic print hello world jar (not using JavaFX) and I get the same error too but no error appears when I run with the --enable-preview tag.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1526410645,"post_id":50357387,"comment_id":87731287,"body_markdown":"Are you mandatory to change one coin ? what is result, what is r ? In your code you never change a code, and 11 is a pair so return 1 is ok","body":"Are you mandatory to change one coin ? what is result, what is r ? In your code you never change a code, and 11 is a pair so return 1 is ok"},{"owner":{"account_id":4015930,"reputation":15925,"user_id":3308055,"display_name":"juvian"},"score":0,"creation_date":1526410788,"post_id":50357387,"comment_id":87731355,"body_markdown":"why 11 gives 0? with 10 you have one 1 in a row.","body":"why 11 gives 0? with 10 you have one 1 in a row."},{"owner":{"account_id":12732184,"reputation":11,"user_id":9248410,"display_name":"code ninja"},"score":0,"creation_date":1526410887,"post_id":50357387,"comment_id":87731401,"body_markdown":"azro Yes it is mandatory, result is a count of pairs. juvian because 1 1 after reverse one you get 1 0 and this is not a pair(pair is 0, 0 or 1, 1)","body":"azro Yes it is mandatory, result is a count of pairs. juvian because 1 1 after reverse one you get 1 0 and this is not a pair(pair is 0, 0 or 1, 1)"},{"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"score":0,"creation_date":1526410946,"post_id":50357387,"comment_id":87731432,"body_markdown":"But you code never change a coin","body":"But you code never change a coin"},{"owner":{"account_id":4015930,"reputation":15925,"user_id":3308055,"display_name":"juvian"},"score":0,"creation_date":1526410960,"post_id":50357387,"comment_id":87731442,"body_markdown":"If that is the only wrong case, just return 0 when your result is 1 as there can never be a pair with 1","body":"If that is the only wrong case, just return 0 when your result is 1 as there can never be a pair with 1"},{"owner":{"account_id":12732184,"reputation":11,"user_id":9248410,"display_name":"code ninja"},"score":0,"creation_date":1526411003,"post_id":50357387,"comment_id":87731469,"body_markdown":"azro I never change a code? what do you mean?","body":"azro I never change a code? what do you mean?"},{"owner":{"account_id":12732184,"reputation":11,"user_id":9248410,"display_name":"code ninja"},"score":0,"creation_date":1526411023,"post_id":50357387,"comment_id":87731480,"body_markdown":"azro Oh, that&#39;s true. Where should i do?","body":"azro Oh, that&#39;s true. Where should i do?"},{"owner":{"account_id":3128302,"reputation":820,"user_id":2646772,"display_name":"John"},"score":0,"creation_date":1596766962,"post_id":50357387,"comment_id":111923185,"body_markdown":"Where in the question does it say you want to return a count of pairs?  It says you want to return the max possible adjacency after flipping one coin, which you are correctly calculating now. your code does these 2 things: - start with the number of pairs adjacent to each other, which will be 1 less than the longest chain. - adjust based on a simulated flip.  If you want to then return the number of pairs, you need to clarify what that means.  1,1,1,1 = 2 pairs? 3 pairs? 4!/2! pairs?","body":"Where in the question does it say you want to return a count of pairs?  It says you want to return the max possible adjacency after flipping one coin, which you are correctly calculating now. your code does these 2 things: - start with the number of pairs adjacent to each other, which will be 1 less than the longest chain. - adjust based on a simulated flip.  If you want to then return the number of pairs, you need to clarify what that means.  1,1,1,1 = 2 pairs? 3 pairs? 4!/2! pairs?"}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526411571,"creation_date":1526411571,"answer_id":50357632,"question_id":50357387,"body_markdown":"You can achieve this by splitting the work : \r\n\r\n- Iterate over the array, and change one by one a coin\r\n- for each change, compute how many pairs you can make (method `nbPair`)\r\n\r\n\r\n\r\n-----\r\n\r\n    public static void main(String[] args) {\r\n        int[] A = {1, 1, 0, 1, 0, 0};\r\n        \r\n        int nbPairMax = 0;\r\n        for (int i = 0; i &lt; A.length; i++) {\r\n            int[] copy = Arrays.copyOf(A, A.length);\r\n            copy[i] = (copy[i] + 1) % 2; // 0-&gt;1, 1-&gt;0\r\n            nbPairMax = Math.max(nbPairMax, nbPair(copy));\r\n        }\r\n        System.out.println(nbPairMax);\r\n\r\n    }\r\n\r\n    private static int nbPair(int[] array) {\r\n        int result = 0;\r\n        for (int i = 0; i &lt; array.length - 1; i++) {\r\n            if (array[i] == array[i + 1]) {\r\n                result = result + 1;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n-------\r\n\r\nExample, with `{1, 1, 0, 1, 0, 0}`, the loop will call the method `nbPair()` with the 6 different possible changes, and compute the number of pair you can make : \r\n\r\n\r\n    [0, 1, 0, 1, 0, 0] &gt;&gt; 1\r\n    [1, 0, 0, 1, 0, 0] &gt;&gt; 2\r\n    [1, 1, 1, 1, 0, 0] &gt;&gt; 4\r\n    [1, 1, 0, 0, 0, 0] &gt;&gt; 4\r\n    [1, 1, 0, 1, 1, 0] &gt;&gt; 2\r\n    [1, 1, 0, 1, 0, 1] &gt;&gt; 1\r\n\r\n","title":"Wrong answer in task - mistake in algorithm","body":"<p>You can achieve this by splitting the work : </p>\n\n<ul>\n<li>Iterate over the array, and change one by one a coin</li>\n<li>for each change, compute how many pairs you can make (method <code>nbPair</code>)</li>\n</ul>\n\n<hr>\n\n<pre><code>public static void main(String[] args) {\n    int[] A = {1, 1, 0, 1, 0, 0};\n\n    int nbPairMax = 0;\n    for (int i = 0; i &lt; A.length; i++) {\n        int[] copy = Arrays.copyOf(A, A.length);\n        copy[i] = (copy[i] + 1) % 2; // 0-&gt;1, 1-&gt;0\n        nbPairMax = Math.max(nbPairMax, nbPair(copy));\n    }\n    System.out.println(nbPairMax);\n\n}\n\nprivate static int nbPair(int[] array) {\n    int result = 0;\n    for (int i = 0; i &lt; array.length - 1; i++) {\n        if (array[i] == array[i + 1]) {\n            result = result + 1;\n        }\n    }\n    return result;\n}\n</code></pre>\n\n<hr>\n\n<p>Example, with <code>{1, 1, 0, 1, 0, 0}</code>, the loop will call the method <code>nbPair()</code> with the 6 different possible changes, and compute the number of pair you can make : </p>\n\n<pre><code>[0, 1, 0, 1, 0, 0] &gt;&gt; 1\n[1, 0, 0, 1, 0, 0] &gt;&gt; 2\n[1, 1, 1, 1, 0, 0] &gt;&gt; 4\n[1, 1, 0, 0, 0, 0] &gt;&gt; 4\n[1, 1, 0, 1, 1, 0] &gt;&gt; 2\n[1, 1, 0, 1, 0, 1] &gt;&gt; 1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8215723,"reputation":41,"user_id":6182166,"display_name":"gb_123"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1543285513,"creation_date":1543262179,"answer_id":53488114,"question_id":50357387,"body_markdown":"please pay attention to the **&quot;one of the coins must be reversed&quot;**\r\n\r\nit means that you MUST flip and only ONE coin!!!\r\n\r\nLet&#39;s analize:\r\n \r\n1. the test case A = {1,1} or A ={0,0},  \r\nthen result =1, so after &quot;reversing ONE coin&quot; the result shall be changed to 0. \r\n\r\n2. the test case A = {1,1,1} or A ={0,0,0} (all coins are facing up OR down),  \r\nthen result would be 2, so after &quot;reversing ONE coin&quot; the result shall be changed to 1 (taken max).\r\n3. Etc..\r\n\r\nThus **if (result == n-1)   return result-1;**  must be placed in your program.\r\nWithout such statement, your program is defective.  \r\n\r\n    public static int solution(int[] A) \r\n    {\r\n    \t        int n = A.length;\r\n    \t        int result = 0; \r\n    \t        \r\n    \t        for (int i = 0; i &lt; n - 1; ) \r\n    \t        {\r\n    \t            if (A[i] == A[i + 1]) \r\n    \t                result = result + 1;\r\n    \t            i = i+1;\r\n    \t        }      \r\n    \t        if (result == n-1)   return result-1;   // to cover {1,1}, {1,1,1}\r\n    \t        \t       \r\n    \t        int max = 0;\r\n    \t        for (int i = 0; i &lt;n; i++) \r\n    \t        {\r\n    \t            int count = 0;\r\n    \t            if (i &gt; 0)   // starting up from 1 and  covering the last\r\n    \t            {\r\n    \t                if (A[i-1] != A[i])\r\n    \t                    count = count + 1;    \r\n    \t                else\r\n    \t                   count = count - 1;\r\n    \t            }\r\n    \t            if (i &lt; n - 1) \r\n    \t            {\r\n    \t                if (A[i] != A[i + 1])   // starting with 0\r\n    \t                    count = count + 1;\r\n    \t                else\r\n    \t                    count = count - 1;\r\n    \t            }         \t\t\r\n    \t            max = Math.max(max,count);\t            \r\n    \t        }     \r\n    \t        return result + max; // \r\n    \t    }\r\n    \r\n    \r\n     \r\n        ","title":"Wrong answer in task - mistake in algorithm","body":"<p>please pay attention to the <strong>\"one of the coins must be reversed\"</strong></p>\n\n<p>it means that you MUST flip and only ONE coin!!!</p>\n\n<p>Let's analize:</p>\n\n<ol>\n<li><p>the test case A = {1,1} or A ={0,0},<br>\nthen result =1, so after \"reversing ONE coin\" the result shall be changed to 0. </p></li>\n<li><p>the test case A = {1,1,1} or A ={0,0,0} (all coins are facing up OR down),<br>\nthen result would be 2, so after \"reversing ONE coin\" the result shall be changed to 1 (taken max).</p></li>\n<li>Etc..</li>\n</ol>\n\n<p>Thus <strong>if (result == n-1)   return result-1;</strong>  must be placed in your program.\nWithout such statement, your program is defective.  </p>\n\n<pre><code>public static int solution(int[] A) \n{\n            int n = A.length;\n            int result = 0; \n\n            for (int i = 0; i &lt; n - 1; ) \n            {\n                if (A[i] == A[i + 1]) \n                    result = result + 1;\n                i = i+1;\n            }      \n            if (result == n-1)   return result-1;   // to cover {1,1}, {1,1,1}\n\n            int max = 0;\n            for (int i = 0; i &lt;n; i++) \n            {\n                int count = 0;\n                if (i &gt; 0)   // starting up from 1 and  covering the last\n                {\n                    if (A[i-1] != A[i])\n                        count = count + 1;    \n                    else\n                       count = count - 1;\n                }\n                if (i &lt; n - 1) \n                {\n                    if (A[i] != A[i + 1])   // starting with 0\n                        count = count + 1;\n                    else\n                        count = count - 1;\n                }               \n                max = Math.max(max,count);              \n            }     \n            return result + max; // \n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6111242,"reputation":19,"user_id":4886675,"display_name":"user4886675"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582795794,"creation_date":1582795794,"answer_id":60430006,"question_id":50357387,"body_markdown":"    public static int coinReversal(int a[]){\r\n            int cost1 = 1, cost2 = 0;\r\n            int b[] = a.clone();\r\n            b[0] = 0;\r\n            if(b[0] == 0){\r\n                for(int i = 0 ; i &lt; b.length-1 ; i++ ){\r\n                    if(b[i] == b[i+1] ){\r\n                        cost1+=1;\r\n                        if(b[i+1] == 1){\r\n                            b[i+1] = 0;\r\n                        }else{\r\n                            b[i+1] = 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if(a[0] == 1){\r\n                for(int i = 0 ; i &lt; a.length-1 ; i++ ){\r\n                    if(a[i] == a[i+1] ){\r\n                        cost2+=1;\r\n                        if(a[i+1] == 1){\r\n                            a[i+1] = 0;\r\n                        }else{\r\n                            a[i+1] = 1;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            \r\n            return  cost2 &gt; cost1 ? cost1 : cost2;\r\n        }","title":"Wrong answer in task - mistake in algorithm","body":"<pre><code>public static int coinReversal(int a[]){\n        int cost1 = 1, cost2 = 0;\n        int b[] = a.clone();\n        b[0] = 0;\n        if(b[0] == 0){\n            for(int i = 0 ; i &lt; b.length-1 ; i++ ){\n                if(b[i] == b[i+1] ){\n                    cost1+=1;\n                    if(b[i+1] == 1){\n                        b[i+1] = 0;\n                    }else{\n                        b[i+1] = 1;\n                    }\n                }\n            }\n        }\n        if(a[0] == 1){\n            for(int i = 0 ; i &lt; a.length-1 ; i++ ){\n                if(a[i] == a[i+1] ){\n                    cost2+=1;\n                    if(a[i+1] == 1){\n                        a[i+1] = 0;\n                    }else{\n                        a[i+1] = 1;\n                    }\n                }\n            }\n        }\n\n        return  cost2 &gt; cost1 ? cost1 : cost2;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8119319,"reputation":31,"user_id":6116616,"display_name":"Aldi Zainafif"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603887400,"creation_date":1596764743,"answer_id":63294050,"question_id":50357387,"body_markdown":"I agree with one of the answers here saying that you have to pay attention to the rule: **&quot;one of the coins must be reversed&quot;**\r\nwhich means that you **must** flip **one** coin.\r\n\r\nAnd there&#39;s also a rule saying that you are not allowed to add or remove lines of code, and that you can only modify at most **three** lines of code, right?\r\n\r\nThe problem is when the coins are initially all on the same face. Let&#39;s say we have this test case:\r\n\r\n    0 0 0 0 0 0\r\n\r\nthe initial state is **5** pairs, but after flipping exactly one coin, the highest possible number of pairs should be **4** (while the original code returns **5**).\r\n\r\nSo, my decision for this problem is to change the initial value of the variable `max` to -1.\r\n\r\nHere is the resulting code where we just need to modify **exactly one line** of code:\r\n\r\n    public static void main(String[] args) {\r\n        int[] A = {1, 1};\r\n    \r\n        int n = A.length;\r\n        int result = 0;\r\n        for (int i = 0; i &lt; n - 1; i++) {\r\n            if (A[i] == A[i + 1])\r\n                result = result + 1;\r\n        }\r\n        int r = -1;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int count = 0;\r\n            if (i &gt; 0) {\r\n                if (A[i - 1] != A[i])\r\n                    count = count + 1;\r\n                else\r\n                    count = count - 1;\r\n            }\r\n            if (i &lt; n - 1) {\r\n                if (A[i + 1] != A[i])\r\n                    count = count + 1;\r\n                else\r\n                    count = count - 1;\r\n            }\r\n            r = Math.max(r, count);\r\n        }\r\n        System.out.println(result + r);\r\n    }","title":"Wrong answer in task - mistake in algorithm","body":"<p>I agree with one of the answers here saying that you have to pay attention to the rule: <strong>&quot;one of the coins must be reversed&quot;</strong>\nwhich means that you <strong>must</strong> flip <strong>one</strong> coin.</p>\n<p>And there's also a rule saying that you are not allowed to add or remove lines of code, and that you can only modify at most <strong>three</strong> lines of code, right?</p>\n<p>The problem is when the coins are initially all on the same face. Let's say we have this test case:</p>\n<pre><code>0 0 0 0 0 0\n</code></pre>\n<p>the initial state is <strong>5</strong> pairs, but after flipping exactly one coin, the highest possible number of pairs should be <strong>4</strong> (while the original code returns <strong>5</strong>).</p>\n<p>So, my decision for this problem is to change the initial value of the variable <code>max</code> to -1.</p>\n<p>Here is the resulting code where we just need to modify <strong>exactly one line</strong> of code:</p>\n<pre><code>public static void main(String[] args) {\n    int[] A = {1, 1};\n\n    int n = A.length;\n    int result = 0;\n    for (int i = 0; i &lt; n - 1; i++) {\n        if (A[i] == A[i + 1])\n            result = result + 1;\n    }\n    int r = -1;\n    for (int i = 0; i &lt; n; i++) {\n        int count = 0;\n        if (i &gt; 0) {\n            if (A[i - 1] != A[i])\n                count = count + 1;\n            else\n                count = count - 1;\n        }\n        if (i &lt; n - 1) {\n            if (A[i + 1] != A[i])\n                count = count + 1;\n            else\n                count = count - 1;\n        }\n        r = Math.max(r, count);\n    }\n    System.out.println(result + r);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12870851,"reputation":21,"user_id":9309364,"display_name":"talhasagdan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612692471,"creation_date":1612692471,"answer_id":66086643,"question_id":50357387,"body_markdown":"There are 2 mistakes that I found;\r\nThe first one related if all elements in the array are the same.\r\n\r\n ```[1,1,1,1,1]```\r\n\r\nThe second one if our array have exactly one element.\r\n\r\n```[1]```\r\n\r\nCode:\r\n\r\n```\r\npublic static int solution(int[] A) \r\n{\r\n            int n = A.length;\r\n            int result = 0; \r\n\r\n            for (int i = 0; i &lt; n - 1; ) \r\n            {\r\n                if (A[i] == A[i + 1]) \r\n                    result = result + 1;\r\n                i = i+1;\r\n            }\r\n            // Add these 2 lines below\r\n\r\n            if (A.length == 1 )  return 0; \r\n            if (result == n-1)   return result-1;\r\n\r\n            int max = 0;\r\n            for (int i = 0; i &lt;n; i++) \r\n            {\r\n                int count = 0;\r\n                if (i &gt; 0)   \r\n                {\r\n                    if (A[i-1] != A[i])\r\n                        count = count + 1;    \r\n                    else\r\n                       count = count - 1;\r\n                }\r\n                if (i &lt; n - 1) \r\n                {\r\n                    if (A[i] != A[i + 1])   // starting with 0\r\n                        count = count + 1;\r\n                    else\r\n                        count = count - 1;\r\n                }               \r\n                max = Math.max(max,count);              \r\n            }     \r\n            return result + max; // \r\n        }\r\n\r\n```","title":"Wrong answer in task - mistake in algorithm","body":"<p>There are 2 mistakes that I found;\nThe first one related if all elements in the array are the same.</p>\n<p><code>[1,1,1,1,1]</code></p>\n<p>The second one if our array have exactly one element.</p>\n<p><code>[1]</code></p>\n<p>Code:</p>\n<pre><code>public static int solution(int[] A) \n{\n            int n = A.length;\n            int result = 0; \n\n            for (int i = 0; i &lt; n - 1; ) \n            {\n                if (A[i] == A[i + 1]) \n                    result = result + 1;\n                i = i+1;\n            }\n            // Add these 2 lines below\n\n            if (A.length == 1 )  return 0; \n            if (result == n-1)   return result-1;\n\n            int max = 0;\n            for (int i = 0; i &lt;n; i++) \n            {\n                int count = 0;\n                if (i &gt; 0)   \n                {\n                    if (A[i-1] != A[i])\n                        count = count + 1;    \n                    else\n                       count = count - 1;\n                }\n                if (i &lt; n - 1) \n                {\n                    if (A[i] != A[i + 1])   // starting with 0\n                        count = count + 1;\n                    else\n                        count = count - 1;\n                }               \n                max = Math.max(max,count);              \n            }     \n            return result + max; // \n        }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17652074,"reputation":131,"user_id":12812363,"display_name":"Zain ul abideen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1615739204,"creation_date":1615739204,"answer_id":66626854,"question_id":50357387,"body_markdown":"In this solution I did it in linear way\r\n```\r\npublic static void main(String[] args) {\r\n    int[] A = { 1, 1, 0, 1, 0, 0};\r\n\r\n    int sum1 = 0, sum2 = 0;\r\n    for (int i = 0; i &lt; A.length; i++) {\r\n        if (i % 2 === 0) {\r\n            if (0 !== A[i]) {\r\n                sum1++;\r\n            }\r\n            if (1 !== A[i]) {\r\n                sum2++;\r\n            }\r\n        } else {\r\n            if (1 !== A[i]) {\r\n                sum1++;\r\n            }\r\n            if (0 !== A[i]) {\r\n                sum2++;\r\n            }\r\n        }\r\n    }\r\n    if (sum1 &gt; sum2) {\r\n        System.out.println(sum2);\r\n    }\r\n    else {\r\n        System.out.println(sum1);\r\n    }\r\n}\r\n\r\n```","title":"Wrong answer in task - mistake in algorithm","body":"<p>In this solution I did it in linear way</p>\n<pre><code>public static void main(String[] args) {\n    int[] A = { 1, 1, 0, 1, 0, 0};\n\n    int sum1 = 0, sum2 = 0;\n    for (int i = 0; i &lt; A.length; i++) {\n        if (i % 2 === 0) {\n            if (0 !== A[i]) {\n                sum1++;\n            }\n            if (1 !== A[i]) {\n                sum2++;\n            }\n        } else {\n            if (1 !== A[i]) {\n                sum1++;\n            }\n            if (0 !== A[i]) {\n                sum2++;\n            }\n        }\n    }\n    if (sum1 &gt; sum2) {\n        System.out.println(sum2);\n    }\n    else {\n        System.out.println(sum1);\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10221834,"reputation":19,"user_id":7545793,"display_name":"Zaheer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1647846463,"creation_date":1647846463,"answer_id":71553907,"question_id":50357387,"body_markdown":"I solved this question of coins reversal to get alternative heads and tails in python.\r\nHere is the solution for question with proper passed test cases.\r\n\r\n```python\r\ndef coins_reversal(A):\r\n&quot;&quot;&quot;\r\nReverse the coins to get alternative heads and tails.\r\n\r\n:param list A: list of heads and tails of coins\r\n:return: number of coins to reverse to get alternative heads and tails\r\n&quot;&quot;&quot;\r\n   result = 0\r\n   NEW_A = A.copy()\r\n   for i in range(0, len(A) - 1):\r\n       if NEW_A[i] == 0 and NEW_A[i+1] == 0:\r\n           result += 1\r\n           if NEW_A[i - 1] == 0:\r\n               NEW_A[i] = 1\r\n           else:\r\n               NEW_A[i + 1] = 1\r\n       elif NEW_A[i] == 1 and NEW_A[i+1] == 1:\r\n           result += 1\r\n           if NEW_A[i - 1] == 1:\r\n               NEW_A[i] = 0\r\n           else:\r\n               NEW_A[i + 1] = 0\r\n   return result\r\n```","title":"Wrong answer in task - mistake in algorithm","body":"<p>I solved this question of coins reversal to get alternative heads and tails in python.\nHere is the solution for question with proper passed test cases.</p>\n<pre class=\"lang-py prettyprint-override\"><code>def coins_reversal(A):\n&quot;&quot;&quot;\nReverse the coins to get alternative heads and tails.\n\n:param list A: list of heads and tails of coins\n:return: number of coins to reverse to get alternative heads and tails\n&quot;&quot;&quot;\n   result = 0\n   NEW_A = A.copy()\n   for i in range(0, len(A) - 1):\n       if NEW_A[i] == 0 and NEW_A[i+1] == 0:\n           result += 1\n           if NEW_A[i - 1] == 0:\n               NEW_A[i] = 1\n           else:\n               NEW_A[i + 1] = 1\n       elif NEW_A[i] == 1 and NEW_A[i+1] == 1:\n           result += 1\n           if NEW_A[i - 1] == 1:\n               NEW_A[i] = 0\n           else:\n               NEW_A[i + 1] = 0\n   return result\n</code></pre>\n"}],"owner":{"account_id":12732184,"reputation":11,"user_id":9248410,"display_name":"code ninja"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23193,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":7,"score":1,"last_activity_date":1647846463,"creation_date":1526410540,"question_id":50357387,"body_markdown":"I doing my homework (first sorry for english). \r\n\r\nConsider N coins aligned in a row. Each coin is showing either heads or tails. The adjacency of these coins is the number of pairs of adjacent coinst showing the same face.Return the maximum possible adjacency that can be obtained by reversing one coin, one of the coinst must be reversed\r\n\r\nfor example i have\r\n\r\n    1 1 0 1 0 0 \r\n\r\nand after change `third` we get `1 1 1 1 0 0` so we have 4 pairs.\r\n\r\nBut my code doesn&#39;t work for example\r\n\r\n    1 1 \r\n\r\nI should get `0` but get `1`\r\n\r\n      public static void main(String[] args) {\r\n        int[] A = {1, 1};\r\n\r\n        int n = A.length;\r\n        int result = 0;\r\n        for (int i = 0; i &lt; n - 1; i++) {\r\n            if (A[i] == A[i + 1])\r\n                result = result + 1;\r\n        }\r\n        int r = 0;\r\n        for (int i = 0; i &lt; n; i++) {\r\n            int count = 0;\r\n            if (i &gt; 0) {\r\n                if (A[i - 1] != A[i])\r\n                    count = count + 1;\r\n                else\r\n                    count = count - 1;\r\n            }\r\n            if (i &lt; n - 1) {\r\n                if (A[i + 1] != A[i])\r\n                    count = count + 1;\r\n                else\r\n                    count = count - 1;\r\n            }\r\n            r = Math.max(r, count);\r\n        }\r\n        System.out.println(result + r);\r\n    }\r\n\r\n\r\nwhere I made mistake?","title":"Wrong answer in task - mistake in algorithm","body":"<p>I doing my homework (first sorry for english). </p>\n\n<p>Consider N coins aligned in a row. Each coin is showing either heads or tails. The adjacency of these coins is the number of pairs of adjacent coinst showing the same face.Return the maximum possible adjacency that can be obtained by reversing one coin, one of the coinst must be reversed</p>\n\n<p>for example i have</p>\n\n<pre><code>1 1 0 1 0 0 \n</code></pre>\n\n<p>and after change <code>third</code> we get <code>1 1 1 1 0 0</code> so we have 4 pairs.</p>\n\n<p>But my code doesn't work for example</p>\n\n<pre><code>1 1 \n</code></pre>\n\n<p>I should get <code>0</code> but get <code>1</code></p>\n\n<pre><code>  public static void main(String[] args) {\n    int[] A = {1, 1};\n\n    int n = A.length;\n    int result = 0;\n    for (int i = 0; i &lt; n - 1; i++) {\n        if (A[i] == A[i + 1])\n            result = result + 1;\n    }\n    int r = 0;\n    for (int i = 0; i &lt; n; i++) {\n        int count = 0;\n        if (i &gt; 0) {\n            if (A[i - 1] != A[i])\n                count = count + 1;\n            else\n                count = count - 1;\n        }\n        if (i &lt; n - 1) {\n            if (A[i + 1] != A[i])\n                count = count + 1;\n            else\n                count = count - 1;\n        }\n        r = Math.max(r, count);\n    }\n    System.out.println(result + r);\n}\n</code></pre>\n\n<p>where I made mistake?</p>\n"},{"tags":["java","android","kotlin","realm","realm-mobile-platform"],"comments":[{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1647884705,"post_id":71553882,"comment_id":126478725,"body_markdown":"Are you saying you were unable to locate the [Getting Started Guide](https://docs.mongodb.com/realm/tutorial/java-sdk/) which includes a section about [User Authentication](https://docs.mongodb.com/realm/tutorial/java-sdk/#enable-authentication)?","body":"Are you saying you were unable to locate the <a href=\"https://docs.mongodb.com/realm/tutorial/java-sdk/\" rel=\"nofollow noreferrer\">Getting Started Guide</a> which includes a section about <a href=\"https://docs.mongodb.com/realm/tutorial/java-sdk/#enable-authentication\" rel=\"nofollow noreferrer\">User Authentication</a>?"},{"owner":{"account_id":7288438,"reputation":265,"user_id":5555768,"display_name":"Jyoti "},"score":0,"creation_date":1648192868,"post_id":71553882,"comment_id":126566931,"body_markdown":"@Jay Thanks for your answer but in the above implementation realm is syncing with server , but in my app we are not doing the same.","body":"@Jay Thanks for your answer but in the above implementation realm is syncing with server , but in my app we are not doing the same."},{"owner":{"account_id":3399229,"reputation":34668,"user_id":2851937,"accept_rate":67,"display_name":"Jay"},"score":0,"creation_date":1648229211,"post_id":71553882,"comment_id":126579883,"body_markdown":"Perhaps you over looked the link **If your application only requires local Realm Database functionality, you should follow the** [Quick Start - Java SDK](https://www.mongodb.com/docs/realm/sdk/java/quick-start-local/#std-label-java-client-quick-start-local) which says *This Guide Does Not Use Realm Sync*","body":"Perhaps you over looked the link <b>If your application only requires local Realm Database functionality, you should follow the</b> <a href=\"https://www.mongodb.com/docs/realm/sdk/java/quick-start-local/#std-label-java-client-quick-start-local\" rel=\"nofollow noreferrer\">Quick Start - Java SDK</a> which says <i>This Guide Does Not Use Realm Sync</i>"}],"owner":{"account_id":7288438,"reputation":265,"user_id":5555768,"display_name":"Jyoti "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647846302,"creation_date":1647846302,"question_id":71553882,"body_markdown":"I am using Realm in my Android project and the app requirements is to allow data of multiple users to co-exist. I am not able to implement the same as I didn’t get any tutorial on web.\r\nAny help would be highly appreciated.","title":"Realm Android Multi User Login","body":"<p>I am using Realm in my Android project and the app requirements is to allow data of multiple users to co-exist. I am not able to implement the same as I didn’t get any tutorial on web.\nAny help would be highly appreciated.</p>\n"},{"tags":["java","import"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1647845752,"post_id":71553769,"comment_id":126464255,"body_markdown":"Can&#39;t say I&#39;ve ever seen a package of `java.util.awt` - what are you expecting to be there? Have you tried just removing the import?","body":"Can&#39;t say I&#39;ve ever seen a package of <code>java.util.awt</code> - what are you expecting to be there? Have you tried just removing the import?"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1647848695,"post_id":71553769,"comment_id":126464958,"body_markdown":"You are not using `Vector` anywhere (which is, by the way, an old class you should not be using), so remove the `import java.util.Vector;` statement. Also, there is no package `java.util.awt`. You probably meant `import java.util.*;`","body":"You are not using <code>Vector</code> anywhere (which is, by the way, an old class you should not be using), so remove the <code>import java.util.Vector;</code> statement. Also, there is no package <code>java.util.awt</code>. You probably meant <code>import java.util.*;</code>"}],"answers":[{"tags":[],"owner":{"account_id":61118,"reputation":11403,"user_id":182289,"accept_rate":73,"display_name":"stepanian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647846108,"creation_date":1647846108,"answer_id":71553857,"question_id":71553769,"body_markdown":"There is no `java.util.awt` package. You are probably trying to import `java.awt.*`","title":"Unable to initialize main class Ejemplo1","body":"<p>There is no <code>java.util.awt</code> package. You are probably trying to import <code>java.awt.*</code></p>\n"}],"owner":{"account_id":20158861,"reputation":1,"user_id":18526365,"display_name":"MrFelix28715"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647846108,"creation_date":1647845588,"question_id":71553769,"body_markdown":"It is a program assigned by a teacher who only said to implement the code and gives me the title error, in some IDEs it tells me that the second import does not exist.\r\n\r\nI have searched for the error everywhere but I can&#39;t find the solution.    \r\n\r\n    import java.util.Vector;\r\n        import java.util.awt.*;\r\n        \r\n        public class Ejemplo1 {\r\n            public static void main(String[] arg) throws InterruptedExcecption\r\n            {\r\n            \r\n                System.out.println(&quot;Comienza main()...&quot;);\r\n                Circulo c = new Circulo(2.0, 2.0, 4.0);\r\n                System.out.println(&quot;Radio = &quot; + c.r + &quot; unidades.&quot;);\r\n                System.out.println(&quot;Centro = (&quot; + c.x + &quot;,&quot; + c.y + &quot;) unidades.&quot;);\r\n                Circulo c1 = new Circulo(1.0, 1.0, 2.0);\r\n                Circulo c2 = new Circulo(0.0, 0.0, 3.0);\r\n                c = c1.elMayor(c2);\r\n                System.out.println(&quot;El mayor radio es &quot; + c.r + &quot;.&quot;);\r\n                c = new Circulo(); // c.r = 0.0;\r\n                c = Circulo.elMayor(c1, c2);\r\n                System.out.println(&quot;El mayor radio es &quot; + c.r + &quot;.&quot;);\r\n        \r\n                VentanaCerrable ventana =\r\n                    new VentanaCerrable(&quot;Ventana abierta al mundo...&quot;);\r\n                ArrayList v = new ArrayList();\r\n        \r\n                CirculoGrafico cg1 = new CirculoGrafico(200, 200, 100, Color.red);\r\n                CirculoGrafico cg2 = new CirculoGrafico(300, 200, 100, Color.blue);\r\n                RectanguloGrafico rg = new\r\n                    RectanguloGrafico(50, 50, 450, 350, Color.green);\r\n        \r\n                    v.add(cg1);\r\n                    v.add(cg2);\r\n                    v.add(rg);\r\n        \r\n                    PanelDibujo mipanel = new PanelDibujo(v);\r\n                    ventana.add(mipanel);\r\n                    ventana.setSize(500, 400);\r\n                    System.out.println(&quot;Termina main()...&quot;);\r\n        \r\n            }// fin de main()\r\n        }// fin de class Ejemplo1","title":"Unable to initialize main class Ejemplo1","body":"<p>It is a program assigned by a teacher who only said to implement the code and gives me the title error, in some IDEs it tells me that the second import does not exist.</p>\n<p>I have searched for the error everywhere but I can't find the solution.</p>\n<pre><code>import java.util.Vector;\n    import java.util.awt.*;\n    \n    public class Ejemplo1 {\n        public static void main(String[] arg) throws InterruptedExcecption\n        {\n        \n            System.out.println(&quot;Comienza main()...&quot;);\n            Circulo c = new Circulo(2.0, 2.0, 4.0);\n            System.out.println(&quot;Radio = &quot; + c.r + &quot; unidades.&quot;);\n            System.out.println(&quot;Centro = (&quot; + c.x + &quot;,&quot; + c.y + &quot;) unidades.&quot;);\n            Circulo c1 = new Circulo(1.0, 1.0, 2.0);\n            Circulo c2 = new Circulo(0.0, 0.0, 3.0);\n            c = c1.elMayor(c2);\n            System.out.println(&quot;El mayor radio es &quot; + c.r + &quot;.&quot;);\n            c = new Circulo(); // c.r = 0.0;\n            c = Circulo.elMayor(c1, c2);\n            System.out.println(&quot;El mayor radio es &quot; + c.r + &quot;.&quot;);\n    \n            VentanaCerrable ventana =\n                new VentanaCerrable(&quot;Ventana abierta al mundo...&quot;);\n            ArrayList v = new ArrayList();\n    \n            CirculoGrafico cg1 = new CirculoGrafico(200, 200, 100, Color.red);\n            CirculoGrafico cg2 = new CirculoGrafico(300, 200, 100, Color.blue);\n            RectanguloGrafico rg = new\n                RectanguloGrafico(50, 50, 450, 350, Color.green);\n    \n                v.add(cg1);\n                v.add(cg2);\n                v.add(rg);\n    \n                PanelDibujo mipanel = new PanelDibujo(v);\n                ventana.add(mipanel);\n                ventana.setSize(500, 400);\n                System.out.println(&quot;Termina main()...&quot;);\n    \n        }// fin de main()\n    }// fin de class Ejemplo1\n</code></pre>\n"},{"tags":["java","arrays","function","ellipsis"],"comments":[{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1647844322,"post_id":71553538,"comment_id":126463928,"body_markdown":"because the variable after `...` is already implicified as array?","body":"because the variable after <code>...</code> is already implicified as array?"}],"answers":[{"tags":[],"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647844571,"creation_date":1647844571,"answer_id":71553625,"question_id":71553538,"body_markdown":"In Java, its true that you can declare the array in 2 forms like\r\n\r\n    int[] arr;\r\n\r\nor \r\n\r\n    int arr[];\r\n\r\nThe second one is usually not preferred as the brackets identify the array type and should appear with the type designation. In simple words, you can follow the convention of \r\n\r\n    type variable; \r\n\r\nform along all of your code with the first model of array usage. \r\n\r\nNow coming to the question, this is exactly the reason the usage of `varargs` in the form of `int... arr[]` is not supported. The `varargs` specify the arbitrary count nature of the specific type. \r\n\r\nSo with type spec `int...` it means arbitrary count of integer values, and `int[]...` means arbitrary number of integer arrays. `varargs` supports a variable to be used as its a type and not array. So `int... arr[]` is an error. \r\n","title":"In Java why is this syntax valid and this isn&#39;t?","body":"<p>In Java, its true that you can declare the array in 2 forms like</p>\n<pre><code>int[] arr;\n</code></pre>\n<p>or</p>\n<pre><code>int arr[];\n</code></pre>\n<p>The second one is usually not preferred as the brackets identify the array type and should appear with the type designation. In simple words, you can follow the convention of</p>\n<pre><code>type variable; \n</code></pre>\n<p>form along all of your code with the first model of array usage.</p>\n<p>Now coming to the question, this is exactly the reason the usage of <code>varargs</code> in the form of <code>int... arr[]</code> is not supported. The <code>varargs</code> specify the arbitrary count nature of the specific type.</p>\n<p>So with type spec <code>int...</code> it means arbitrary count of integer values, and <code>int[]...</code> means arbitrary number of integer arrays. <code>varargs</code> supports a variable to be used as its a type and not array. So <code>int... arr[]</code> is an error.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1647845921,"creation_date":1647844808,"answer_id":71553661,"question_id":71553538,"body_markdown":"Let&#39;s start with `int bar[]` versus `int[] bar`.  The former is some syntactic sugar included in the original Java 1.0 for programmers transitioning from C or C++.  It is a bit of a &quot;wart&quot; on the Java syntax ... and most people now think it was a mistake to support it in the first place.  And you are discouraged from using it by the spec itself, tutorials, books and ... Java style checkers.\r\n\r\nSo later in the evolution of Java (in Java 5) they added the `...` syntax to support &quot;varargs&quot; functionality in method calls.  Nice.  But they didn&#39;t include support for the syntactic wart.\r\n\r\nWhy?\r\n\r\n  - We weren&#39;t in the room when the decisions were made ... so we don&#39;t really know why.\r\n  - Because the original wart was a bad idea\r\n  - Because C / C++ don&#39;t support varargs that way, so it wouldn&#39;t help the transitioners.\r\n  - Because `int... bar[]` is visually ambiguous&lt;sup&gt;1&lt;/sup&gt;.  Is it a &quot;varags of arrays of int&quot; or an &quot;array of varargs of int&quot;?  Even C and C++ will not allow you to write `int[] bar[]`, which is roughly what this maps to.\r\n  - Because (frankly) `void foo(int... bar[])` looks *nasty*.\r\n\r\n--------------------\r\n\r\n&lt;sup&gt;1 - Maybe not actually ambiguous, since the &quot;array of varargs of int&quot; interpretation doesn&#39;t make sense.  However, that is not going to avoid the confusion that the hypothetical syntax would cause.  Best to avoid the problem ... like they did.&lt;/sup&gt;","title":"In Java why is this syntax valid and this isn&#39;t?","body":"<p>Let's start with <code>int bar[]</code> versus <code>int[] bar</code>.  The former is some syntactic sugar included in the original Java 1.0 for programmers transitioning from C or C++.  It is a bit of a &quot;wart&quot; on the Java syntax ... and most people now think it was a mistake to support it in the first place.  And you are discouraged from using it by the spec itself, tutorials, books and ... Java style checkers.</p>\n<p>So later in the evolution of Java (in Java 5) they added the <code>...</code> syntax to support &quot;varargs&quot; functionality in method calls.  Nice.  But they didn't include support for the syntactic wart.</p>\n<p>Why?</p>\n<ul>\n<li>We weren't in the room when the decisions were made ... so we don't really know why.</li>\n<li>Because the original wart was a bad idea</li>\n<li>Because C / C++ don't support varargs that way, so it wouldn't help the transitioners.</li>\n<li>Because <code>int... bar[]</code> is visually ambiguous<sup>1</sup>.  Is it a &quot;varags of arrays of int&quot; or an &quot;array of varargs of int&quot;?  Even C and C++ will not allow you to write <code>int[] bar[]</code>, which is roughly what this maps to.</li>\n<li>Because (frankly) <code>void foo(int... bar[])</code> looks <em>nasty</em>.</li>\n</ul>\n<hr />\n<p><sup>1 - Maybe not actually ambiguous, since the &quot;array of varargs of int&quot; interpretation doesn't make sense.  However, that is not going to avoid the confusion that the hypothetical syntax would cause.  Best to avoid the problem ... like they did.</sup></p>\n"}],"owner":{"account_id":10732579,"reputation":666,"user_id":7898202,"display_name":"MorganS42"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71553661,"answer_count":2,"score":-2,"last_activity_date":1647845921,"creation_date":1647843934,"question_id":71553538,"body_markdown":"I understand that both of these are valid and mean the exact same thing:\r\n\r\nPreferred:\r\n\r\n    void foo(int[] bar){\r\n\t\t// do something \r\n\t}\r\n\r\nNot preferred:\r\n\r\n    void foo(int bar[]){\r\n\t\t// do something\r\n\t}\r\n\r\nWhat I don&#39;t understand is, following the same logic as above, why is this not valid?\r\n\r\n    void foo(int... bar[]){\r\n\t\t// do something \r\n\t}\r\nBut this is:\r\n\r\n    void foo(int[]... bar){\r\n\t\t// do something \r\n\t}","title":"In Java why is this syntax valid and this isn&#39;t?","body":"<p>I understand that both of these are valid and mean the exact same thing:</p>\n<p>Preferred:</p>\n<pre><code>void foo(int[] bar){\n    // do something \n}\n</code></pre>\n<p>Not preferred:</p>\n<pre><code>void foo(int bar[]){\n    // do something\n}\n</code></pre>\n<p>What I don't understand is, following the same logic as above, why is this not valid?</p>\n<pre><code>void foo(int... bar[]){\n    // do something \n}\n</code></pre>\n<p>But this is:</p>\n<pre><code>void foo(int[]... bar){\n    // do something \n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647619258,"post_id":71523099,"comment_id":126423923,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":9334402,"reputation":1,"user_id":12869421,"display_name":"Manu"},"score":0,"creation_date":1647931276,"post_id":71523099,"comment_id":126488757,"body_markdown":"I have updated the description, hope it makes more sense now","body":"I have updated the description, hope it makes more sense now"}],"owner":{"account_id":9334402,"reputation":1,"user_id":12869421,"display_name":"Manu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":450,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647845465,"creation_date":1647584052,"question_id":71523099,"body_markdown":"I am trying to upgrade to selenium 4 to make the tests work in Edge in IE mode. These are Java tests using testNG. The tests work fine when using selenium 3 but fail to launch the browser when using selenium 4. Below is the command used to run the test:\r\n```\r\n$ java -classpath &quot;.\\out\\production\\baseFramework;.\\lib\\*;.\\bin\\*&quot; org.testng.TestNG /LoginToHomePage.xml\r\n````\r\n\r\nBelow is my code to launch the browser:\r\n````\r\nInternetExplorerOptions ieOptions = new InternetExplorerOptions();\r\nieOptions.attachToEdgeChrome();\r\nieOptions.withEdgeExecutablePath(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\r\nieOptions.setCapability(InternetExplorerDriver.REQUIRE_WINDOW_FOCUS, true);\r\nieOptions.setCapability(InternetExplorerDriver.ENABLE_PERSISTENT_HOVERING, true);\r\nieOptions.setCapability(InternetExplorerDriver.ENABLE_ELEMENT_CACHE_CLEANUP, true);\r\nieOptions.setCapability(InternetExplorerDriver.IE_ENSURE_CLEAN_SESSION, true);\r\nieOptions.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, true);\r\nWebDriver driver = new InternetExplorerDriver(ieOptions);\r\ndriver.get(url);\r\n````\r\n\r\nI have tried with no options and with a combination of all above options but none of them seem to work. There is no other error displayed other than one below line in stack trace making it difficult to debug.\r\n````\r\n*org.openqa.selenium.ie.InternetExplorerDriver.&lt;init&gt;(Lorg/openqa/selenium/ie/InternetExplorerOptions;)V*\r\n````\r\n\r\nJava : 1.8,\r\ntestNG : 6.14,\r\nselenium : 4.1.2,\r\nEdge : 99, also tried 97\r\n\r\nWorks fine from IDE and also works from command line when using selenium 3, but doesn&#39;t work from command line if selenium 4 is used. Weirdly, if i expand the command to mention each jar individually under lib, then Edge launches fine but has a problem when i use the wild card lib\\*. There are more than 80 jars, so running the command with expanded version is not what i prefer. I have tried to turn on debugging in IE driver options but no other logs are printed. I am not sure if its a Java issue or Selenium issue or something else. \r\n\r\nAll I want to do it to launch Edge browser and cant seem to make it work. Any idea what more I can try would be appreciated. Thanks\r\n\r\n","title":"Edge in IE mode selenium 4 with testNG and Java","body":"<p>I am trying to upgrade to selenium 4 to make the tests work in Edge in IE mode. These are Java tests using testNG. The tests work fine when using selenium 3 but fail to launch the browser when using selenium 4. Below is the command used to run the test:</p>\n<pre><code>$ java -classpath &quot;.\\out\\production\\baseFramework;.\\lib\\*;.\\bin\\*&quot; org.testng.TestNG /LoginToHomePage.xml\n</code></pre>\n<p>Below is my code to launch the browser:</p>\n<pre><code>InternetExplorerOptions ieOptions = new InternetExplorerOptions();\nieOptions.attachToEdgeChrome();\nieOptions.withEdgeExecutablePath(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;);\nieOptions.setCapability(InternetExplorerDriver.REQUIRE_WINDOW_FOCUS, true);\nieOptions.setCapability(InternetExplorerDriver.ENABLE_PERSISTENT_HOVERING, true);\nieOptions.setCapability(InternetExplorerDriver.ENABLE_ELEMENT_CACHE_CLEANUP, true);\nieOptions.setCapability(InternetExplorerDriver.IE_ENSURE_CLEAN_SESSION, true);\nieOptions.setCapability(InternetExplorerDriver.FORCE_CREATE_PROCESS, true);\nWebDriver driver = new InternetExplorerDriver(ieOptions);\ndriver.get(url);\n</code></pre>\n<p>I have tried with no options and with a combination of all above options but none of them seem to work. There is no other error displayed other than one below line in stack trace making it difficult to debug.</p>\n<pre><code>*org.openqa.selenium.ie.InternetExplorerDriver.&lt;init&gt;(Lorg/openqa/selenium/ie/InternetExplorerOptions;)V*\n</code></pre>\n<p>Java : 1.8,\ntestNG : 6.14,\nselenium : 4.1.2,\nEdge : 99, also tried 97</p>\n<p>Works fine from IDE and also works from command line when using selenium 3, but doesn't work from command line if selenium 4 is used. Weirdly, if i expand the command to mention each jar individually under lib, then Edge launches fine but has a problem when i use the wild card lib*. There are more than 80 jars, so running the command with expanded version is not what i prefer. I have tried to turn on debugging in IE driver options but no other logs are printed. I am not sure if its a Java issue or Selenium issue or something else.</p>\n<p>All I want to do it to launch Edge browser and cant seem to make it work. Any idea what more I can try would be appreciated. Thanks</p>\n"},{"tags":["java","certificate","keystore"],"answers":[{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1521029445,"creation_date":1282093280,"answer_id":3508175,"question_id":3508050,"body_markdown":"There&#39;s an example that shows how to get a Set of the root certificates and iterate through them called [Listing the Most-Trusted Certificate Authorities (CA) in a Key Store][1].  Here&#39;s a slightly modified version that prints out each certificate (tested on Windows Vista).\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.KeyStore;\r\n    import java.security.KeyStoreException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.cert.CertificateException;\r\n    import java.security.cert.PKIXParameters;\r\n    import java.security.cert.TrustAnchor;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.Iterator;\r\n    \r\n    \r\n    public class Main {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                // Load the JDK&#39;s cacerts keystore file\r\n                String filename = System.getProperty(&quot;java.home&quot;) + &quot;/lib/security/cacerts&quot;.replace(&#39;/&#39;, File.separatorChar);\r\n                FileInputStream is = new FileInputStream(filename);\r\n                KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\r\n                String password = &quot;changeit&quot;;\r\n                keystore.load(is, password.toCharArray());\r\n            \r\n                // This class retrieves the most-trusted CAs from the keystore\r\n                PKIXParameters params = new PKIXParameters(keystore);\r\n            \r\n                // Get the set of trust anchors, which contain the most-trusted CA certificates\r\n                Iterator it = params.getTrustAnchors().iterator();\r\n                while( it.hasNext() ) {\r\n                    TrustAnchor ta = (TrustAnchor)it.next();\r\n                    // Get certificate\r\n                    X509Certificate cert = ta.getTrustedCert();\r\n                    System.out.println(cert);\r\n                }\r\n            } catch (CertificateException e) {\r\n            } catch (KeyStoreException e) {\r\n            } catch (NoSuchAlgorithmException e) {\r\n            } catch (InvalidAlgorithmParameterException e) {\r\n            } catch (IOException e) {\r\n            } \r\n        }\r\n    }\r\n\r\n\r\n  [1]:http://www.java2s.com/Tutorial/Java/0490__Security/ListingtheMostTrustedCertificateAuthoritiesCAinaKeyStore.htm","title":"How can I get a list of trusted root certificates in Java?","body":"<p>There's an example that shows how to get a Set of the root certificates and iterate through them called <a href=\"http://www.java2s.com/Tutorial/Java/0490__Security/ListingtheMostTrustedCertificateAuthoritiesCAinaKeyStore.htm\" rel=\"noreferrer\">Listing the Most-Trusted Certificate Authorities (CA) in a Key Store</a>.  Here's a slightly modified version that prints out each certificate (tested on Windows Vista).</p>\n\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.security.InvalidAlgorithmParameterException;\nimport java.security.KeyStore;\nimport java.security.KeyStoreException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.cert.CertificateException;\nimport java.security.cert.PKIXParameters;\nimport java.security.cert.TrustAnchor;\nimport java.security.cert.X509Certificate;\nimport java.util.Iterator;\n\n\npublic class Main {\n\n    public static void main(String[] args) {\n        try {\n            // Load the JDK's cacerts keystore file\n            String filename = System.getProperty(\"java.home\") + \"/lib/security/cacerts\".replace('/', File.separatorChar);\n            FileInputStream is = new FileInputStream(filename);\n            KeyStore keystore = KeyStore.getInstance(KeyStore.getDefaultType());\n            String password = \"changeit\";\n            keystore.load(is, password.toCharArray());\n\n            // This class retrieves the most-trusted CAs from the keystore\n            PKIXParameters params = new PKIXParameters(keystore);\n\n            // Get the set of trust anchors, which contain the most-trusted CA certificates\n            Iterator it = params.getTrustAnchors().iterator();\n            while( it.hasNext() ) {\n                TrustAnchor ta = (TrustAnchor)it.next();\n                // Get certificate\n                X509Certificate cert = ta.getTrustedCert();\n                System.out.println(cert);\n            }\n        } catch (CertificateException e) {\n        } catch (KeyStoreException e) {\n        } catch (NoSuchAlgorithmException e) {\n        } catch (InvalidAlgorithmParameterException e) {\n        } catch (IOException e) {\n        } \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1476974851,"creation_date":1476974851,"answer_id":40157719,"question_id":3508050,"body_markdown":"This should be more flexible using the default trust store in the system to get all certificates:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    TrustManagerFactory trustManagerFactory =\r\n       TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    List&lt;Certificate&gt; x509Certificates = new ArrayList&lt;&gt;();\r\n    trustManagerFactory.init((KeyStore)null);                 \r\n    Arrays.asList(trustManagerFactory.getTrustManagers()).stream().forEach(t -&gt; {\r\n                        x509Certificates.addAll(Arrays.asList(((X509TrustManager)t).getAcceptedIssuers()));\r\n                    });\r\n```","title":"How can I get a list of trusted root certificates in Java?","body":"<p>This should be more flexible using the default trust store in the system to get all certificates:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>TrustManagerFactory trustManagerFactory =\n   TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\nList&lt;Certificate&gt; x509Certificates = new ArrayList&lt;&gt;();\ntrustManagerFactory.init((KeyStore)null);                 \nArrays.asList(trustManagerFactory.getTrustManagers()).stream().forEach(t -&gt; {\n                    x509Certificates.addAll(Arrays.asList(((X509TrustManager)t).getAcceptedIssuers()));\n                });\n</code></pre>\n\n<p>```</p>\n"},{"tags":[],"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647845324,"creation_date":1647845324,"answer_id":71553730,"question_id":3508050,"body_markdown":"A working example, combining concept from Bill the Lizard and k_o_ answer:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    import java.security.KeyStore;\r\n    import java.security.cert.X509Certificate;\r\n    \r\n    import javax.net.ssl.TrustManager;\r\n    import javax.net.ssl.TrustManagerFactory;\r\n    import javax.net.ssl.X509TrustManager;\r\n    \r\n    public class JDKTrustStoreCertListing {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception{\r\n    \t\t\r\n    \t\tString javaHome=System.getProperty(&quot;java.home&quot;);\r\n    \t\tPath jdkCACertPath=Paths.get(javaHome, &quot;lib&quot;, &quot;security&quot;, &quot;cacerts&quot;);\r\n    \t\t\r\n    \t\tTrustManagerFactory trustManagerFactory=TrustManagerFactory\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t.getInstance(TrustManagerFactory\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.getDefaultAlgorithm());\r\n    \t\t\r\n    \t\tFileInputStream fis=new FileInputStream(jdkCACertPath.toFile());\r\n    \t\tString keystorePassword=&quot;changeit&quot;;\r\n    \t\t\r\n    \t\tKeyStore keyStore=KeyStore.getInstance(KeyStore.getDefaultType());\r\n    \t\tkeyStore.load(fis, keystorePassword.toCharArray());\r\n    \r\n    \t\tfis.close();\r\n    \t\t\r\n    \t\ttrustManagerFactory.init(keyStore);\r\n    \t\t\r\n    \t\tTrustManager[] truestManagers=trustManagerFactory.getTrustManagers();\r\n    \t\tfor(TrustManager t:truestManagers)\r\n    \t\t\tfor(X509Certificate c:((X509TrustManager)t).getAcceptedIssuers())\r\n    \t\t\t\t\tSystem.out.println(c.getIssuerX500Principal());\r\n    \t\r\n    \t}//main closing\r\n    \r\n    }//class closing\r\n\r\n","title":"How can I get a list of trusted root certificates in Java?","body":"<p>A working example, combining concept from Bill the Lizard and k_o_ answer:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.security.KeyStore;\nimport java.security.cert.X509Certificate;\n\nimport javax.net.ssl.TrustManager;\nimport javax.net.ssl.TrustManagerFactory;\nimport javax.net.ssl.X509TrustManager;\n\npublic class JDKTrustStoreCertListing {\n\n    public static void main(String[] args) throws Exception{\n        \n        String javaHome=System.getProperty(&quot;java.home&quot;);\n        Path jdkCACertPath=Paths.get(javaHome, &quot;lib&quot;, &quot;security&quot;, &quot;cacerts&quot;);\n        \n        TrustManagerFactory trustManagerFactory=TrustManagerFactory\n                                                    .getInstance(TrustManagerFactory\n                                                                    .getDefaultAlgorithm());\n        \n        FileInputStream fis=new FileInputStream(jdkCACertPath.toFile());\n        String keystorePassword=&quot;changeit&quot;;\n        \n        KeyStore keyStore=KeyStore.getInstance(KeyStore.getDefaultType());\n        keyStore.load(fis, keystorePassword.toCharArray());\n\n        fis.close();\n        \n        trustManagerFactory.init(keyStore);\n        \n        TrustManager[] truestManagers=trustManagerFactory.getTrustManagers();\n        for(TrustManager t:truestManagers)\n            for(X509Certificate c:((X509TrustManager)t).getAcceptedIssuers())\n                    System.out.println(c.getIssuerX500Principal());\n    \n    }//main closing\n\n}//class closing\n</code></pre>\n"}],"owner":{"account_id":160547,"reputation":7975,"user_id":380691,"accept_rate":86,"display_name":"Shawn D."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58029,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"accepted_answer_id":3508175,"answer_count":3,"score":39,"last_activity_date":1647845324,"creation_date":1282091610,"question_id":3508050,"body_markdown":"I would like to be able to get access to all trusted root certificates programmatically in a Java app.  \r\n\r\nI was looking at the keystore interface, but I&#39;m hoping to get the list of trusted roots that&#39;s implicit with the JRE.\r\n\r\nIs this accessible anywhere?","title":"How can I get a list of trusted root certificates in Java?","body":"<p>I would like to be able to get access to all trusted root certificates programmatically in a Java app.  </p>\n\n<p>I was looking at the keystore interface, but I'm hoping to get the list of trusted roots that's implicit with the JRE.</p>\n\n<p>Is this accessible anywhere?</p>\n"},{"tags":["java","mysql","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647854187,"post_id":71551989,"comment_id":126466629,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":17296535,"reputation":28,"user_id":12527080,"display_name":"eFortsHub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647845295,"creation_date":1647845295,"answer_id":71553724,"question_id":71551989,"body_markdown":"Android support Sqlite database, if you wan&#39;t to use server side mysql then you need to create PHP api which will return json of mySql database content and you can use in your android app","title":"How to display the data in a project in android studio from mysql database?","body":"<p>Android support Sqlite database, if you wan't to use server side mysql then you need to create PHP api which will return json of mySql database content and you can use in your android app</p>\n"}],"owner":{"account_id":24559733,"reputation":1,"user_id":18467685,"display_name":"Hanca Xiu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647845295,"creation_date":1647826682,"question_id":71551989,"body_markdown":"How can I fetch the data from Mysql and display it in android? can you give me examples or sources? ","title":"How to display the data in a project in android studio from mysql database?","body":"<p>How can I fetch the data from Mysql and display it in android? can you give me examples or sources?</p>\n"},{"tags":["java","variables","methods","parameters","null"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1647840936,"post_id":71553164,"comment_id":126463399,"body_markdown":"Does this answer your question? [Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?](https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>"},{"owner":{"account_id":23399175,"reputation":1,"user_id":17462612,"display_name":"newEra2021"},"score":0,"creation_date":1647842154,"post_id":71553164,"comment_id":126463585,"body_markdown":"No not really, I&#39;ve read about this. But for my question specifically or better yet what would I need to do get companyName in assign method to return that value in the parameter because I&#39;ve done this with arrays and it works so am I missing something?","body":"No not really, I&#39;ve read about this. But for my question specifically or better yet what would I need to do get companyName in assign method to return that value in the parameter because I&#39;ve done this with arrays and it works so am I missing something?"},{"owner":{"account_id":23399175,"reputation":1,"user_id":17462612,"display_name":"newEra2021"},"score":0,"creation_date":1647842470,"post_id":71553164,"comment_id":126463640,"body_markdown":"Are you saying the only way I can do this is with object?","body":"Are you saying the only way I can do this is with object?"}],"answers":[{"tags":[],"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647843682,"creation_date":1647843682,"answer_id":71553502,"question_id":71553164,"body_markdown":"As Java is pass-by-value (Please read https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value), you need to move these variables to class level, create the object of this class, pass it to assign method &amp; accept the input into the object to work this out, something like below code. Please use camel case for variable names.\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Test {\r\n    public static Scanner input = new Scanner(System.in);\r\n\r\n        String company;\r\n        String url;\r\n        String country;\r\n        int employees;\r\n\r\n    public static void main(String[] args){\r\n\r\n        Test t = new Test();\r\n        assign(t);\r\n        System.out.println(t.company+ t.url + t.country + t.employees);\r\n    }\r\n\r\n    public static void assign(Test t){\r\n\r\n         System.out.println(&quot;Enter the company&#39;s name: &quot;);\r\n         t.company = input.nextLine();\r\n         System.out.print(&quot;Enter the web address: &quot;);\r\n         t.url = input.nextLine();\r\n\r\n         System.out.print(&quot;Enter the country: &quot;);\r\n         t.country = input.nextLine();\r\n\r\n         System.out.print(&quot;Enter the number of employees: &quot;);\r\n         t.employees = input.nextInt();\r\n\r\n         System.out.println(t.company);\r\n       }\r\n\r\n     }","title":"How to use void methods parameter in main - Java","body":"<p>As Java is pass-by-value (Please read <a href=\"https://stackoverflow.com/questions/40480/is-java-pass-by-reference-or-pass-by-value\">Is Java &quot;pass-by-reference&quot; or &quot;pass-by-value&quot;?</a>), you need to move these variables to class level, create the object of this class, pass it to assign method &amp; accept the input into the object to work this out, something like below code. Please use camel case for variable names.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Test {\npublic static Scanner input = new Scanner(System.in);\n\n    String company;\n    String url;\n    String country;\n    int employees;\n\npublic static void main(String[] args){\n\n    Test t = new Test();\n    assign(t);\n    System.out.println(t.company+ t.url + t.country + t.employees);\n}\n\npublic static void assign(Test t){\n\n     System.out.println(&quot;Enter the company's name: &quot;);\n     t.company = input.nextLine();\n     System.out.print(&quot;Enter the web address: &quot;);\n     t.url = input.nextLine();\n\n     System.out.print(&quot;Enter the country: &quot;);\n     t.country = input.nextLine();\n\n     System.out.print(&quot;Enter the number of employees: &quot;);\n     t.employees = input.nextInt();\n\n     System.out.println(t.company);\n   }\n\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":61118,"reputation":11403,"user_id":182289,"accept_rate":73,"display_name":"stepanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647844526,"creation_date":1647844045,"answer_id":71553549,"question_id":71553164,"body_markdown":"Let&#39;s take the parameter `companyName` as an example. When you pass `companyName` to the `assign` method, you are just passing its value, which is null. Inside the `assign` method, you are changing the value of `companyName` locally. That would have no effect on the original value in the `main` method.\r\n\r\nTo answer your question in your comment, yes, you can modify any object that you pass to a method inside the method itself. You can&#39;t do that with `String` because it is immutable. What you&#39;re doing with the String is not modifying it, but assigning it to a different value.\r\n\r\nThe parameter `companyName` holds a reference to the original object inside the method. If the object was mutable, you could modify it. But once you assign it to a different value, it now points to the new value and the reference to the original object is lost.","title":"How to use void methods parameter in main - Java","body":"<p>Let's take the parameter <code>companyName</code> as an example. When you pass <code>companyName</code> to the <code>assign</code> method, you are just passing its value, which is null. Inside the <code>assign</code> method, you are changing the value of <code>companyName</code> locally. That would have no effect on the original value in the <code>main</code> method.</p>\n<p>To answer your question in your comment, yes, you can modify any object that you pass to a method inside the method itself. You can't do that with <code>String</code> because it is immutable. What you're doing with the String is not modifying it, but assigning it to a different value.</p>\n<p>The parameter <code>companyName</code> holds a reference to the original object inside the method. If the object was mutable, you could modify it. But once you assign it to a different value, it now points to the new value and the reference to the original object is lost.</p>\n"}],"owner":{"account_id":23399175,"reputation":1,"user_id":17462612,"display_name":"newEra2021"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1730,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647844526,"creation_date":1647840661,"question_id":71553164,"body_markdown":"Looking for an explanation on why and how as to when your creating a void method in the same class and want to use the parameters in other methods in main how you should go about doing that. For some reason I&#39;m being asked to intialize my string variables to null but when I plug them into the method assign it says the my paramets that I&#39;m passing will remain null after I call the method. Why is that? After I call the assign method why isn&#39;t Java changing the variables to whatever the user enters?\r\n          \r\n    import java.util.Scanner;\r\n\r\n    public class test {\r\n    public static Scanner input = new Scanner(System.in);\r\n\r\n    public static void main(String[] args){\r\n\r\n        String Company = null;\r\n        String URL = null;\r\n        String Country = null;\r\n        int Employees = 0;\r\n\r\n        assign(Company,URL,Country,Employees);\r\n\r\n        System.out.print(Company, URL, Country, Employees);\r\n    }\r\n\r\n    public static void assign(String companyName, String webAddress, String country, int employees){\r\n\r\n        System.out.print(&quot;Enter the company&#39;s name: &quot;);\r\n        companyName = input.nextLine();\r\n\r\n        System.out.print(&quot;Enter the web address: &quot;);\r\n        webAddress = input.nextLine();\r\n\r\n        System.out.print(&quot;Enter the country: &quot;);\r\n        country = input.nextLine();\r\n\r\n        System.out.print(&quot;Enter the number of employees: &quot;);\r\n        employees = input.nextInt();\r\n\r\n        System.out.print(companyName);\r\n      }\r\n\r\n    }\r\n","title":"How to use void methods parameter in main - Java","body":"<p>Looking for an explanation on why and how as to when your creating a void method in the same class and want to use the parameters in other methods in main how you should go about doing that. For some reason I'm being asked to intialize my string variables to null but when I plug them into the method assign it says the my paramets that I'm passing will remain null after I call the method. Why is that? After I call the assign method why isn't Java changing the variables to whatever the user enters?</p>\n<pre><code>import java.util.Scanner;\n\npublic class test {\npublic static Scanner input = new Scanner(System.in);\n\npublic static void main(String[] args){\n\n    String Company = null;\n    String URL = null;\n    String Country = null;\n    int Employees = 0;\n\n    assign(Company,URL,Country,Employees);\n\n    System.out.print(Company, URL, Country, Employees);\n}\n\npublic static void assign(String companyName, String webAddress, String country, int employees){\n\n    System.out.print(&quot;Enter the company's name: &quot;);\n    companyName = input.nextLine();\n\n    System.out.print(&quot;Enter the web address: &quot;);\n    webAddress = input.nextLine();\n\n    System.out.print(&quot;Enter the country: &quot;);\n    country = input.nextLine();\n\n    System.out.print(&quot;Enter the number of employees: &quot;);\n    employees = input.nextInt();\n\n    System.out.print(companyName);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","mapstruct"],"comments":[{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":0,"creation_date":1647842054,"post_id":71553248,"comment_id":126463562,"body_markdown":"Why don&#39;t you try to use the text `source = &quot;idCompraProducto. idProducto&quot;`?  not like this `source = &quot;idCompraProducto&quot;`","body":"Why don&#39;t you try to use the text <code>source = &quot;idCompraProducto. idProducto&quot;</code>?  not like this <code>source = &quot;idCompraProducto&quot;</code>"},{"owner":{"account_id":24596817,"reputation":11,"user_id":18500101,"display_name":"miguel francisco ruales pianda"},"score":0,"creation_date":1647842890,"post_id":71553248,"comment_id":126463709,"body_markdown":"like this?: @Mapping(source = &quot;idCompraProducto.idProducto&quot;,target = &quot;purchaseProductId&quot;)","body":"like this?: @Mapping(source = &quot;idCompraProducto.idProducto&quot;,target = &quot;purchaseProductId&quot;)"},{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":0,"creation_date":1647842958,"post_id":71553248,"comment_id":126463719,"body_markdown":"yes! did it work??","body":"yes! did it work??"},{"owner":{"account_id":24596817,"reputation":11,"user_id":18500101,"display_name":"miguel francisco ruales pianda"},"score":0,"creation_date":1647843016,"post_id":71553248,"comment_id":126463730,"body_markdown":"it doesn&#180;t work it says that don&#180;t exist a properti whit that name","body":"it doesn&#180;t work it says that don&#180;t exist a properti whit that name"},{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":0,"creation_date":1647843139,"post_id":71553248,"comment_id":126463751,"body_markdown":"perhaps.... CompraProducto class has a setter and getter?","body":"perhaps.... CompraProducto class has a setter and getter?"},{"owner":{"account_id":24596817,"reputation":11,"user_id":18500101,"display_name":"miguel francisco ruales pianda"},"score":0,"creation_date":1647843236,"post_id":71553248,"comment_id":126463764,"body_markdown":"i tink take the source like a string i also try whitout the quotation marks but when i try to instantiate the object CompraProducto i can&#180;t becouse the mapper is a interface","body":"i tink take the source like a string i also try whitout the quotation marks but when i try to instantiate the object CompraProducto i can&#180;t becouse the mapper is a interface"},{"owner":{"account_id":24596817,"reputation":11,"user_id":18500101,"display_name":"miguel francisco ruales pianda"},"score":0,"creation_date":1647843478,"post_id":71553248,"comment_id":126463804,"body_markdown":"you mean these ?:    public ComprasProductosPk getIdCompraProducto() {\n        return idCompraProducto;\n    }\n\n    public void setIdCompraProducto(ComprasProductosPk idCompraProductod) {\n        this.idCompraProducto = idCompraProducto;\n    }","body":"you mean these ?:    public ComprasProductosPk getIdCompraProducto() {         return idCompraProducto;     }      public void setIdCompraProducto(ComprasProductosPk idCompraProductod) {         this.idCompraProducto = idCompraProducto;     }"},{"owner":{"account_id":24596817,"reputation":11,"user_id":18500101,"display_name":"miguel francisco ruales pianda"},"score":0,"creation_date":1647843567,"post_id":71553248,"comment_id":126463816,"body_markdown":"whould you like that i give you a git repository with the code ?","body":"whould you like that i give you a git repository with the code ?"},{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":0,"creation_date":1647843652,"post_id":71553248,"comment_id":126463830,"body_markdown":"yep let me know I will try that","body":"yep let me know I will try that"},{"owner":{"account_id":24596817,"reputation":11,"user_id":18500101,"display_name":"miguel francisco ruales pianda"},"score":0,"creation_date":1647844450,"post_id":71553248,"comment_id":126463952,"body_markdown":"here you have https://github.com/franbz1/S","body":"here you have <a href=\"https://github.com/franbz1/S\" rel=\"nofollow noreferrer\">github.com/franbz1/S</a>"},{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":0,"creation_date":1647844732,"post_id":71553248,"comment_id":126464015,"body_markdown":"I couldn&#39;t see your domain directory in the repository","body":"I couldn&#39;t see your domain directory in the repository"},{"owner":{"account_id":24596817,"reputation":11,"user_id":18500101,"display_name":"miguel francisco ruales pianda"},"score":0,"creation_date":1647844905,"post_id":71553248,"comment_id":126464059,"body_markdown":"https://github.com/franbz1/S/blob/master/src/main/java/com/fundamentos/springboot/fundamentos/DOMAIN/PurchaseProduct.java","body":"<a href=\"https://github.com/franbz1/S/blob/master/src/main/java/com/fundamentos/springboot/fundamentos/DOMAIN/PurchaseProduct.java\" rel=\"nofollow noreferrer\">github.com/franbz1/S/blob/master/src/main/java/com/fundament&zwnj;&#8203;os/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647844396,"creation_date":1647844396,"answer_id":71553601,"question_id":71553248,"body_markdown":"I have tried this.  \r\nIt works for me just plus the getter and setter.  \r\n\r\nyou can see the generated class.  \r\n```java\r\n@Generated(\r\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\r\n    date = &quot;2022-03-21T15:32:32+0900&quot;,\r\n    comments = &quot;version: 1.4.2.Final, compiler: IncrementalProcessingEnvironment from gradle-language-java-7.4.1.jar, environment: Java 11.0.11 (AdoptOpenJDK)&quot;\r\n)\r\n@Component\r\npublic class PurchaseProductMapperImpl implements PurchaseProductMapper {\r\n\r\n    @Override\r\n    public PurchaseProduct toPurchaseProduct(CompraProducto compraProducto) {\r\n        if ( compraProducto == null ) {\r\n            return null;\r\n        }\r\n\r\n        PurchaseProduct purchaseProduct = new PurchaseProduct();\r\n\r\n        Integer idProducto = compraProductoIdCompraProductoIdProducto( compraProducto );\r\n        if ( idProducto != null ) {\r\n            purchaseProduct.setPurchaseProductId( idProducto );\r\n        }\r\n        if ( compraProducto.getIdCompra() != null ) {\r\n            purchaseProduct.setPurchaseId( compraProducto.getIdCompra() );\r\n        }\r\n        if ( compraProducto.getIdProducto() != null ) {\r\n            purchaseProduct.setProductId( compraProducto.getIdProducto() );\r\n        }\r\n        if ( compraProducto.getCantidad() != null ) {\r\n            purchaseProduct.setAmount( compraProducto.getCantidad() );\r\n        }\r\n        if ( compraProducto.getTotal() != null ) {\r\n            purchaseProduct.setTotal( compraProducto.getTotal() );\r\n        }\r\n        if ( compraProducto.getEstado() != null ) {\r\n            purchaseProduct.setActive( compraProducto.getEstado() );\r\n        }\r\n\r\n        return purchaseProduct;\r\n    }\r\n\r\n    @Override\r\n    public CompraProducto toCompraProducto(PurchaseProduct purchaseProduct) {\r\n        if ( purchaseProduct == null ) {\r\n            return null;\r\n        }\r\n\r\n        CompraProducto compraProducto = new CompraProducto();\r\n\r\n        compraProducto.setIdCompraProducto( purchaseProductToComprasProductosPk( purchaseProduct ) );\r\n        compraProducto.setIdCompra( purchaseProduct.getPurchaseId() );\r\n        compraProducto.setIdProducto( purchaseProduct.getProductId() );\r\n        compraProducto.setCantidad( purchaseProduct.getAmount() );\r\n        compraProducto.setTotal( purchaseProduct.getTotal() );\r\n        compraProducto.setEstado( purchaseProduct.isActive() );\r\n\r\n        return compraProducto;\r\n    }\r\n\r\n    private Integer compraProductoIdCompraProductoIdProducto(CompraProducto compraProducto) {\r\n        if ( compraProducto == null ) {\r\n            return null;\r\n        }\r\n        ComprasProductosPk idCompraProducto = compraProducto.getIdCompraProducto();\r\n        if ( idCompraProducto == null ) {\r\n            return null;\r\n        }\r\n        Integer idProducto = idCompraProducto.getIdProducto();\r\n        if ( idProducto == null ) {\r\n            return null;\r\n        }\r\n        return idProducto;\r\n    }\r\n\r\n    protected ComprasProductosPk purchaseProductToComprasProductosPk(PurchaseProduct purchaseProduct) {\r\n        if ( purchaseProduct == null ) {\r\n            return null;\r\n        }\r\n\r\n        ComprasProductosPk comprasProductosPk = new ComprasProductosPk();\r\n\r\n        comprasProductosPk.setIdProducto( purchaseProduct.getPurchaseProductId() );\r\n\r\n        return comprasProductosPk;\r\n    }\r\n}\r\n\r\n```\r\n","title":"I have a embeddedId in a class and when i try to use mapStruct in the class it says that the property of the Id does not exist","body":"<p>I have tried this.<br />\nIt works for me just plus the getter and setter.</p>\n<p>you can see the generated class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Generated(\n    value = &quot;org.mapstruct.ap.MappingProcessor&quot;,\n    date = &quot;2022-03-21T15:32:32+0900&quot;,\n    comments = &quot;version: 1.4.2.Final, compiler: IncrementalProcessingEnvironment from gradle-language-java-7.4.1.jar, environment: Java 11.0.11 (AdoptOpenJDK)&quot;\n)\n@Component\npublic class PurchaseProductMapperImpl implements PurchaseProductMapper {\n\n    @Override\n    public PurchaseProduct toPurchaseProduct(CompraProducto compraProducto) {\n        if ( compraProducto == null ) {\n            return null;\n        }\n\n        PurchaseProduct purchaseProduct = new PurchaseProduct();\n\n        Integer idProducto = compraProductoIdCompraProductoIdProducto( compraProducto );\n        if ( idProducto != null ) {\n            purchaseProduct.setPurchaseProductId( idProducto );\n        }\n        if ( compraProducto.getIdCompra() != null ) {\n            purchaseProduct.setPurchaseId( compraProducto.getIdCompra() );\n        }\n        if ( compraProducto.getIdProducto() != null ) {\n            purchaseProduct.setProductId( compraProducto.getIdProducto() );\n        }\n        if ( compraProducto.getCantidad() != null ) {\n            purchaseProduct.setAmount( compraProducto.getCantidad() );\n        }\n        if ( compraProducto.getTotal() != null ) {\n            purchaseProduct.setTotal( compraProducto.getTotal() );\n        }\n        if ( compraProducto.getEstado() != null ) {\n            purchaseProduct.setActive( compraProducto.getEstado() );\n        }\n\n        return purchaseProduct;\n    }\n\n    @Override\n    public CompraProducto toCompraProducto(PurchaseProduct purchaseProduct) {\n        if ( purchaseProduct == null ) {\n            return null;\n        }\n\n        CompraProducto compraProducto = new CompraProducto();\n\n        compraProducto.setIdCompraProducto( purchaseProductToComprasProductosPk( purchaseProduct ) );\n        compraProducto.setIdCompra( purchaseProduct.getPurchaseId() );\n        compraProducto.setIdProducto( purchaseProduct.getProductId() );\n        compraProducto.setCantidad( purchaseProduct.getAmount() );\n        compraProducto.setTotal( purchaseProduct.getTotal() );\n        compraProducto.setEstado( purchaseProduct.isActive() );\n\n        return compraProducto;\n    }\n\n    private Integer compraProductoIdCompraProductoIdProducto(CompraProducto compraProducto) {\n        if ( compraProducto == null ) {\n            return null;\n        }\n        ComprasProductosPk idCompraProducto = compraProducto.getIdCompraProducto();\n        if ( idCompraProducto == null ) {\n            return null;\n        }\n        Integer idProducto = idCompraProducto.getIdProducto();\n        if ( idProducto == null ) {\n            return null;\n        }\n        return idProducto;\n    }\n\n    protected ComprasProductosPk purchaseProductToComprasProductosPk(PurchaseProduct purchaseProduct) {\n        if ( purchaseProduct == null ) {\n            return null;\n        }\n\n        ComprasProductosPk comprasProductosPk = new ComprasProductosPk();\n\n        comprasProductosPk.setIdProducto( purchaseProduct.getPurchaseProductId() );\n\n        return comprasProductosPk;\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":24596817,"reputation":11,"user_id":18500101,"display_name":"miguel francisco ruales pianda"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1090,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647844396,"creation_date":1647841527,"question_id":71553248,"body_markdown":"I have a class named CompraProducto which one implements a embedded pKey and when i try to use mapStruct to translate the id it givme this error \r\n&gt;&quot;No property named &quot;idCompraProducto&quot; exists in source parameter(s). Did you mean &quot;idProducto&quot;?&quot;\r\n\r\n&gt;&quot;Can&#39;t map property &quot;int purchaseProductId&quot; to &quot;ComprasProductosPk idCompraProducto&quot;. Consider to declare/implement a mapping method: &quot;ComprasProductosPk map(int value)&quot;&quot;\r\n\r\ni think it happens becouse the class where i try to map the id have the value of the id like a int not like a class \r\n\r\nis my first time using maptruct so i don&#180;t know what to do, becuse in the domain i want to have the value of the id like a int what can i do?\r\n\r\nHere is the code of the class i try to map:\r\n```\r\nimport javax.persistence.*;\r\n\r\n@Entity\r\npublic class CompraProducto {\r\n    @EmbeddedId\r\n    private ComprasProductosPk idCompraProducto;\r\n\r\n    @Column(name = &quot;id_compra&quot;)\r\n    private Integer idCompra;\r\n\r\n    @Column(name = &quot;id_producto&quot;)\r\n    private Integer idProducto;\r\n\r\n    private Integer cantidad;\r\n\r\n    private Double total;\r\n\r\n    private Boolean estado;\r\n```\r\nHere is the code of the pk class:\r\n```\r\nimport javax.persistence.Column;\r\nimport java.io.Serializable;\r\n\r\npublic class ComprasProductosPk implements Serializable {\r\n    @Column(name = &quot;id_compra&quot;)\r\n    private Integer idCompra;\r\n\r\n    @Column(name = &quot;id_producto&quot;)\r\n    private Integer idProducto;\r\n\r\n    public Integer getIdCompra() {\r\n        return idCompra;\r\n    }\r\n\r\n    public void setIdCompra(Integer idCompra) {\r\n        this.idCompra = idCompra;\r\n    }\r\n\r\n    public Integer getIdProducto() {\r\n        return idProducto;\r\n    }\r\n\r\n    public void setIdProducto(Integer idProducto) {\r\n        this.idProducto = idProducto;\r\n    }\r\n}\r\n```\r\n\r\nHere is the class of the mapping class:\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface PurchaseProductMapper {\r\n    @Mappings({\r\n            @Mapping(source = &quot;idCompraProducto&quot;,target = &quot;purchaseProductId&quot;),\r\n            @Mapping(source = &quot;idCompra&quot;,target = &quot;purchaseId&quot;),\r\n            @Mapping(source = &quot;idProducto&quot;,target = &quot;productId&quot;),\r\n            @Mapping(source = &quot;cantidad&quot;,target = &quot;amount&quot;),\r\n            @Mapping(source = &quot;total&quot;,target = &quot;total&quot;),\r\n            @Mapping(source = &quot;estado&quot;,target = &quot;active&quot;)\r\n            /*\r\n            @Mapping(source = &quot;compra&quot;,target = &quot;purchase&quot;),\r\n            @Mapping(source = &quot;producto&quot;,target = &quot;product&quot;)\r\n\r\n             */\r\n\r\n    })\r\n    PurchaseProduct toPurchaseProduct(CompraProducto compraProducto);\r\n    List&lt;PurchaseProduct&gt; toPurchasesProducts(List&lt;CompraProducto&gt; compraProductos);\r\n\r\n\r\n    @InheritInverseConfiguration\r\n    CompraProducto toCompraProducto(PurchaseProduct purchaseProduct);\r\n}\r\n```\r\nAnd here is the code of the domain class:\r\n```\r\npublic class PurchaseProduct {\r\n    private int purchaseProductId;\r\n    private int purchaseId;\r\n    private int ProductId;\r\n    private int amount;\r\n    private double total;\r\n    private boolean active;\r\n\r\n    public int getPurchaseProductId() {\r\n        return purchaseProductId;\r\n    }\r\n\r\n    public void setPurchaseProductId(int purchaseProductId) {\r\n        this.purchaseProductId = purchaseProductId;\r\n    }\r\n\r\n    public int getPurchaseId() {\r\n        return purchaseId;\r\n    }\r\n\r\n    public void setPurchaseId(int purchaseId) {\r\n        this.purchaseId = purchaseId;\r\n    }\r\n\r\n    public int getProductId() {\r\n        return ProductId;\r\n    }\r\n\r\n    public void setProductId(int productId) {\r\n        ProductId = productId;\r\n    }\r\n\r\n    public int getAmount() {\r\n        return amount;\r\n    }\r\n\r\n    public void setAmount(int amount) {\r\n        this.amount = amount;\r\n    }\r\n\r\n    public double getTotal() {\r\n        return total;\r\n    }\r\n\r\n    public void setTotal(double total) {\r\n        this.total = total;\r\n    }\r\n\r\n    public boolean isActive() {\r\n        return active;\r\n    }\r\n\r\n    public void setActive(boolean active) {\r\n        this.active = active;\r\n    }","title":"I have a embeddedId in a class and when i try to use mapStruct in the class it says that the property of the Id does not exist","body":"<p>I have a class named CompraProducto which one implements a embedded pKey and when i try to use mapStruct to translate the id it givme this error</p>\n<blockquote>\n<p>&quot;No property named &quot;idCompraProducto&quot; exists in source parameter(s). Did you mean &quot;idProducto&quot;?&quot;</p>\n</blockquote>\n<blockquote>\n<p>&quot;Can't map property &quot;int purchaseProductId&quot; to &quot;ComprasProductosPk idCompraProducto&quot;. Consider to declare/implement a mapping method: &quot;ComprasProductosPk map(int value)&quot;&quot;</p>\n</blockquote>\n<p>i think it happens becouse the class where i try to map the id have the value of the id like a int not like a class</p>\n<p>is my first time using maptruct so i don´t know what to do, becuse in the domain i want to have the value of the id like a int what can i do?</p>\n<p>Here is the code of the class i try to map:</p>\n<pre><code>import javax.persistence.*;\n\n@Entity\npublic class CompraProducto {\n    @EmbeddedId\n    private ComprasProductosPk idCompraProducto;\n\n    @Column(name = &quot;id_compra&quot;)\n    private Integer idCompra;\n\n    @Column(name = &quot;id_producto&quot;)\n    private Integer idProducto;\n\n    private Integer cantidad;\n\n    private Double total;\n\n    private Boolean estado;\n</code></pre>\n<p>Here is the code of the pk class:</p>\n<pre><code>import javax.persistence.Column;\nimport java.io.Serializable;\n\npublic class ComprasProductosPk implements Serializable {\n    @Column(name = &quot;id_compra&quot;)\n    private Integer idCompra;\n\n    @Column(name = &quot;id_producto&quot;)\n    private Integer idProducto;\n\n    public Integer getIdCompra() {\n        return idCompra;\n    }\n\n    public void setIdCompra(Integer idCompra) {\n        this.idCompra = idCompra;\n    }\n\n    public Integer getIdProducto() {\n        return idProducto;\n    }\n\n    public void setIdProducto(Integer idProducto) {\n        this.idProducto = idProducto;\n    }\n}\n</code></pre>\n<p>Here is the class of the mapping class:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface PurchaseProductMapper {\n    @Mappings({\n            @Mapping(source = &quot;idCompraProducto&quot;,target = &quot;purchaseProductId&quot;),\n            @Mapping(source = &quot;idCompra&quot;,target = &quot;purchaseId&quot;),\n            @Mapping(source = &quot;idProducto&quot;,target = &quot;productId&quot;),\n            @Mapping(source = &quot;cantidad&quot;,target = &quot;amount&quot;),\n            @Mapping(source = &quot;total&quot;,target = &quot;total&quot;),\n            @Mapping(source = &quot;estado&quot;,target = &quot;active&quot;)\n            /*\n            @Mapping(source = &quot;compra&quot;,target = &quot;purchase&quot;),\n            @Mapping(source = &quot;producto&quot;,target = &quot;product&quot;)\n\n             */\n\n    })\n    PurchaseProduct toPurchaseProduct(CompraProducto compraProducto);\n    List&lt;PurchaseProduct&gt; toPurchasesProducts(List&lt;CompraProducto&gt; compraProductos);\n\n\n    @InheritInverseConfiguration\n    CompraProducto toCompraProducto(PurchaseProduct purchaseProduct);\n}\n</code></pre>\n<p>And here is the code of the domain class:</p>\n<pre><code>public class PurchaseProduct {\n    private int purchaseProductId;\n    private int purchaseId;\n    private int ProductId;\n    private int amount;\n    private double total;\n    private boolean active;\n\n    public int getPurchaseProductId() {\n        return purchaseProductId;\n    }\n\n    public void setPurchaseProductId(int purchaseProductId) {\n        this.purchaseProductId = purchaseProductId;\n    }\n\n    public int getPurchaseId() {\n        return purchaseId;\n    }\n\n    public void setPurchaseId(int purchaseId) {\n        this.purchaseId = purchaseId;\n    }\n\n    public int getProductId() {\n        return ProductId;\n    }\n\n    public void setProductId(int productId) {\n        ProductId = productId;\n    }\n\n    public int getAmount() {\n        return amount;\n    }\n\n    public void setAmount(int amount) {\n        this.amount = amount;\n    }\n\n    public double getTotal() {\n        return total;\n    }\n\n    public void setTotal(double total) {\n        this.total = total;\n    }\n\n    public boolean isActive() {\n        return active;\n    }\n\n    public void setActive(boolean active) {\n        this.active = active;\n    }\n</code></pre>\n"},{"tags":["java","android","json","api","retrofit"],"comments":[{"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"score":2,"creation_date":1644402597,"post_id":71047858,"comment_id":125595472,"body_markdown":"This is just an Array of String i.e `ArrayList&lt;String&gt;` should work  why you need a class for it ?","body":"This is just an Array of String i.e <code>ArrayList&lt;String&gt;</code> should work  why you need a class for it ?"},{"owner":{"account_id":10817783,"reputation":1038,"user_id":7956161,"display_name":"Muhammad Ahmed"},"score":0,"creation_date":1644403236,"post_id":71047858,"comment_id":125595719,"body_markdown":"List or array of strings will do the job for you","body":"List or array of strings will do the job for you"}],"answers":[{"tags":[],"owner":{"account_id":18602709,"reputation":134,"user_id":13557159,"display_name":"Narendra Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644402741,"creation_date":1644402741,"answer_id":71047951,"question_id":71047858,"body_markdown":"Just Use ArrayList Of String \r\n\r\n    public class ClassName{\r\n      @JsonProperty(&quot;MyArray&quot;) \r\n      public ArrayList&lt;String&gt; myArray;\r\n    }","title":"How can I create pojo class of json array","body":"<p>Just Use ArrayList Of String</p>\n<pre><code>public class ClassName{\n  @JsonProperty(&quot;MyArray&quot;) \n  public ArrayList&lt;String&gt; myArray;\n}\n</code></pre>\n"}],"owner":{"account_id":24081976,"reputation":260,"user_id":18056527,"display_name":"Abhi S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":442,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71047951,"answer_count":1,"score":-1,"last_activity_date":1647843967,"creation_date":1644402340,"question_id":71047858,"body_markdown":"How can I create pojo class of this type of JsonArray\r\nBelow links response \r\n&lt;https://fakestoreapi.com/products/categories&gt;\r\n```\r\n[\r\n&quot;electronics&quot;,\r\n&quot;jewelery&quot;,\r\n&quot;men&#39;s clothing&quot;,\r\n&quot;women&#39;s clothing&quot;\r\n]\r\n```","title":"How can I create pojo class of json array","body":"<p>How can I create pojo class of this type of JsonArray\nBelow links response\n<a href=\"https://fakestoreapi.com/products/categories\" rel=\"nofollow noreferrer\">https://fakestoreapi.com/products/categories</a></p>\n<pre><code>[\n&quot;electronics&quot;,\n&quot;jewelery&quot;,\n&quot;men's clothing&quot;,\n&quot;women's clothing&quot;\n]\n</code></pre>\n"},{"tags":["java","macos","homebrew","apple-m1","apple-silicon"],"answers":[{"tags":[],"owner":{"account_id":21391071,"reputation":61,"user_id":15755117,"display_name":"Ben Mayes"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1621973916,"creation_date":1621973916,"answer_id":67695102,"question_id":67684430,"body_markdown":"Using the java11 / openjdk@11 brew formula got me going for now.\r\n\r\nDid a bit more digging and saw this referenced over at the openjdk issue tracker:\r\nhttps://bugs.openjdk.java.net/browse/JDK-8267235\r\n\r\nThere is currently a github issue over at https://github.com/Homebrew/homebrew-core/issues/77954 reporting the issue for what is installed by the brew formula itself. It looks like there may be some pull requests already so expect it to be resolved soon.","title":"Apple silicon(M1) 11.4 get a java error (jdk16)","body":"<p>Using the java11 / openjdk@11 brew formula got me going for now.</p>\n<p>Did a bit more digging and saw this referenced over at the openjdk issue tracker:\n<a href=\"https://bugs.openjdk.java.net/browse/JDK-8267235\" rel=\"noreferrer\">https://bugs.openjdk.java.net/browse/JDK-8267235</a></p>\n<p>There is currently a github issue over at <a href=\"https://github.com/Homebrew/homebrew-core/issues/77954\" rel=\"noreferrer\">https://github.com/Homebrew/homebrew-core/issues/77954</a> reporting the issue for what is installed by the brew formula itself. It looks like there may be some pull requests already so expect it to be resolved soon.</p>\n"},{"tags":[],"owner":{"account_id":970920,"reputation":751,"user_id":8460487,"display_name":"Nevin Paul"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1622390624,"creation_date":1622390624,"answer_id":67763208,"question_id":67684430,"body_markdown":"Updating to Zulu: 16.30.19 - https://cdn.azul.com/zulu/bin/zulu16.30.19-ca-jdk16.0.1-macosx_aarch64.dmg fixed myissue","title":"Apple silicon(M1) 11.4 get a java error (jdk16)","body":"<p>Updating to Zulu: 16.30.19 - <a href=\"https://cdn.azul.com/zulu/bin/zulu16.30.19-ca-jdk16.0.1-macosx_aarch64.dmg\" rel=\"noreferrer\">https://cdn.azul.com/zulu/bin/zulu16.30.19-ca-jdk16.0.1-macosx_aarch64.dmg</a> fixed myissue</p>\n"},{"tags":[],"owner":{"account_id":85254,"reputation":1589,"user_id":237814,"accept_rate":89,"display_name":"jenglert"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1622832282,"creation_date":1622832282,"answer_id":67842525,"question_id":67684430,"body_markdown":"The `mvn` formula in brew seems to prefer always using `openjdk` formula even with `openjdk@11` installed. I ended up setting `JAVA_HOME`, which `mvn` will use, to solve this problem along with installing Zulu 11 at `/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home\r\n`.\r\n\r\n    # Ensure JAVA_HOME is set for mvn since JAVA_HOME will take precedence over homebrew dependency\r\n    export JAVA_HOME=$(/usr/libexec/java_home)","title":"Apple silicon(M1) 11.4 get a java error (jdk16)","body":"<p>The <code>mvn</code> formula in brew seems to prefer always using <code>openjdk</code> formula even with <code>openjdk@11</code> installed. I ended up setting <code>JAVA_HOME</code>, which <code>mvn</code> will use, to solve this problem along with installing Zulu 11 at <code>/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home </code>.</p>\n<pre><code># Ensure JAVA_HOME is set for mvn since JAVA_HOME will take precedence over homebrew dependency\nexport JAVA_HOME=$(/usr/libexec/java_home)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19054872,"reputation":41,"user_id":14094464,"display_name":"Ringo Starch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624116010,"creation_date":1624116010,"answer_id":68048211,"question_id":67684430,"body_markdown":"I agree with Ben Mayes, use Java 11. I would like to provide a detailed description of how to do this, for beginners like me.\r\n\r\nStep 1: Go to this [page][1] to download Java 11. Near the bottom of the page, you will select which version of Java to download. For operating system, choose macOS. For architecture, choose ARM 64-bit. For Java package, choose JDK. Then, choose the .dmg option below to download. Double click on the .dmg file to install it.\r\n\r\nStep 2: Follow this [tutorial][2]. The only thing I really had to change was using the .zshrc profile instead of the .bash profile. This will be the name of the version you will use: zulu-11.jdk. \r\n\r\nThis will be the text you put in the .zshrc file you have:\r\n\r\n    export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home\r\n\r\nStep 3: If you are using intelliJ or another IDE, you might need to change the version that the project is using. Follow this [tutorial][3] on how to do that.\r\n\r\n\r\n  [1]: https://www.azul.com/downloads/?version=java-11-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk\r\n  [2]: https://java.tutorials24x7.com/blog/how-to-switch-java-version-on-mac\r\n  [3]: https://www.baeldung.com/intellij-change-java-version\r\n","title":"Apple silicon(M1) 11.4 get a java error (jdk16)","body":"<p>I agree with Ben Mayes, use Java 11. I would like to provide a detailed description of how to do this, for beginners like me.</p>\n<p>Step 1: Go to this <a href=\"https://www.azul.com/downloads/?version=java-11-lts&amp;os=macos&amp;architecture=arm-64-bit&amp;package=jdk\" rel=\"nofollow noreferrer\">page</a> to download Java 11. Near the bottom of the page, you will select which version of Java to download. For operating system, choose macOS. For architecture, choose ARM 64-bit. For Java package, choose JDK. Then, choose the .dmg option below to download. Double click on the .dmg file to install it.</p>\n<p>Step 2: Follow this <a href=\"https://java.tutorials24x7.com/blog/how-to-switch-java-version-on-mac\" rel=\"nofollow noreferrer\">tutorial</a>. The only thing I really had to change was using the .zshrc profile instead of the .bash profile. This will be the name of the version you will use: zulu-11.jdk.</p>\n<p>This will be the text you put in the .zshrc file you have:</p>\n<pre><code>export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-11.jdk/Contents/Home\n</code></pre>\n<p>Step 3: If you are using intelliJ or another IDE, you might need to change the version that the project is using. Follow this <a href=\"https://www.baeldung.com/intellij-change-java-version\" rel=\"nofollow noreferrer\">tutorial</a> on how to do that.</p>\n"},{"tags":[],"owner":{"account_id":1362461,"reputation":301,"user_id":1299566,"display_name":"Jaishankararam"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1624425876,"creation_date":1624425876,"answer_id":68093932,"question_id":67684430,"body_markdown":"If you have installed via brew then by running `brew upgrade` fixed my issue.","title":"Apple silicon(M1) 11.4 get a java error (jdk16)","body":"<p>If you have installed via brew then by running <code>brew upgrade</code> fixed my issue.</p>\n"},{"tags":[],"owner":{"account_id":19258970,"reputation":11,"user_id":14075271,"display_name":"Vinay Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624969926,"creation_date":1624969926,"answer_id":68178736,"question_id":67684430,"body_markdown":"Had this issue in my Mac m1 machine.. just ran this command ```brew upgrade``` and my issue got  resolved","title":"Apple silicon(M1) 11.4 get a java error (jdk16)","body":"<p>Had this issue in my Mac m1 machine.. just ran this command <code>brew upgrade</code> and my issue got  resolved</p>\n"},{"tags":[],"owner":{"account_id":24104169,"reputation":1,"user_id":18075613,"display_name":"Tudor Eșan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647843646,"creation_date":1647843646,"answer_id":71553495,"question_id":67684430,"body_markdown":"Tried all the answers but the arm version of the sdk didnt seem to work, ironically the x86 version of the sdk did the job for me.\r\nhttps://www.azul.com/downloads/?os=macos&amp;architecture=x86-64-bit&amp;package=jdk","title":"Apple silicon(M1) 11.4 get a java error (jdk16)","body":"<p>Tried all the answers but the arm version of the sdk didnt seem to work, ironically the x86 version of the sdk did the job for me.\n<a href=\"https://www.azul.com/downloads/?os=macos&amp;architecture=x86-64-bit&amp;package=jdk\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/?os=macos&amp;architecture=x86-64-bit&amp;package=jdk</a></p>\n"}],"owner":{"account_id":11543247,"reputation":129,"user_id":8458205,"display_name":"Stimw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12858,"favorite_count":0,"down_vote_count":1,"up_vote_count":13,"answer_count":7,"score":12,"last_activity_date":1647843646,"creation_date":1621931573,"question_id":67684430,"body_markdown":"&gt; A fatal error has been detected by the Java Runtime Environment:\r\n&gt; \r\n&gt; Internal Error (sharedRuntime.cpp:531), pid=2424, tid=7427\r\n&gt; \r\n&gt; Error: ShouldNotReachHere()\r\n&gt; \r\n&gt; JRE version: OpenJDK Runtime Environment (16.0+14) (build 16+14)\r\n&gt; \r\n&gt; Java VM: OpenJDK 64-Bit Server VM (16+14, mixed mode, tiered,\r\n&gt; compressed oops, g1 gc, bsd-aarch64)\r\n&gt; \r\n&gt; No core dump will be written. Core dumps have been disabled. To enable\r\n&gt; core dumping, try &quot;ulimit -c unlimited&quot; before starting Java again\r\n&gt; \r\n&gt; If you would like to submit a bug report, please visit:\r\n&gt; https://bugreport.java.com/bugreport/crash.jsp\r\n&gt; \r\n&gt; --------------- T H R E A D --------------- \r\n&gt; Current thread (0x000000015400be00): JavaThread &quot;main&quot; [_thread_in_Java, id=7427,\r\n&gt; stack(0x000000016d7b0000,0x000000016d9b3000)] Stack:\r\n&gt; [0x000000016d7b0000,0x000000016d9b3000], sp=0x000000016d9b1750, free\r\n&gt; space=2053k Native frames: (J=compiled Java code, A=aot compiled Java\r\n&gt; code, j=interpreted, Vv=VM code, C=native code) V\r\n&gt; [libjvm.dylib+0x9b4130] VMError::report_and_die(int, char const*, char\r\n&gt; const*, char*, Thread*, unsigned char*, void*, void*, char const*,\r\n&gt; int, unsigned long)+0x46c V [libjvm.dylib+0x9b4884]\r\n&gt; VMError::report_and_die(Thread*, void*, char const*, int, char const*,\r\n&gt; char const*, char*)+0x40 V [libjvm.dylib+0x2ad690]\r\n&gt; report_vm_error(char const*, int, char const*, char const*, ...)+0x5c\r\n&gt; V [libjvm.dylib+0x2ad864] report_should_not_reach_here(char const*,\r\n&gt; int)+0x2c V [libjvm.dylib+0x818d4c]\r\n&gt; SharedRuntime::raw_exception_handler_for_return_address(JavaThread*,\r\n&gt; unsigned char*)+0x178 V [libjvm.dylib+0x818df0]\r\n&gt; SharedRuntime::exception_handler_for_return_address(JavaThread*,\r\n&gt; unsigned char*)+0x28 v ~StubRoutines::forward exception j\r\n&gt; java.lang.Class.forName(Ljava/lang/String;ZLjava/lang/ClassLoader;)Ljava/lang/Class;+43\r\n&gt; java.base@16\r\n&gt; ...\r\n\r\n### Error happens even I reinstall MacOS:\r\n1. JDK16 installed via brew\r\n2. JDK16 installed via Zulu\r\n3. JDK17 installed via Zulu\r\n\r\n### But it works well：\r\n1. JDK15 installed via Zulu\r\n\r\nSomeone says that everything is fine with JDK16(Zulu), and I don&#39;t know why.\r\n","title":"Apple silicon(M1) 11.4 get a java error (jdk16)","body":"<blockquote>\n<p>A fatal error has been detected by the Java Runtime Environment:</p>\n<p>Internal Error (sharedRuntime.cpp:531), pid=2424, tid=7427</p>\n<p>Error: ShouldNotReachHere()</p>\n<p>JRE version: OpenJDK Runtime Environment (16.0+14) (build 16+14)</p>\n<p>Java VM: OpenJDK 64-Bit Server VM (16+14, mixed mode, tiered,\ncompressed oops, g1 gc, bsd-aarch64)</p>\n<p>No core dump will be written. Core dumps have been disabled. To enable\ncore dumping, try &quot;ulimit -c unlimited&quot; before starting Java again</p>\n<p>If you would like to submit a bug report, please visit:\n<a href=\"https://bugreport.java.com/bugreport/crash.jsp\" rel=\"noreferrer\">https://bugreport.java.com/bugreport/crash.jsp</a></p>\n<p>--------------- T H R E A D ---------------\nCurrent thread (0x000000015400be00): JavaThread &quot;main&quot; [_thread_in_Java, id=7427,\nstack(0x000000016d7b0000,0x000000016d9b3000)] Stack:\n[0x000000016d7b0000,0x000000016d9b3000], sp=0x000000016d9b1750, free\nspace=2053k Native frames: (J=compiled Java code, A=aot compiled Java\ncode, j=interpreted, Vv=VM code, C=native code) V\n[libjvm.dylib+0x9b4130] VMError::report_and_die(int, char const*, char\nconst*, char*, Thread*, unsigned char*, void*, void*, char const*,\nint, unsigned long)+0x46c V [libjvm.dylib+0x9b4884]\nVMError::report_and_die(Thread*, void*, char const*, int, char const*,\nchar const*, char*)+0x40 V [libjvm.dylib+0x2ad690]\nreport_vm_error(char const*, int, char const*, char const*, ...)+0x5c\nV [libjvm.dylib+0x2ad864] report_should_not_reach_here(char const*,\nint)+0x2c V [libjvm.dylib+0x818d4c]\nSharedRuntime::raw_exception_handler_for_return_address(JavaThread*,\nunsigned char*)+0x178 V [libjvm.dylib+0x818df0]\nSharedRuntime::exception_handler_for_return_address(JavaThread*,\nunsigned char*)+0x28 v ~StubRoutines::forward exception j\njava.lang.Class.forName(Ljava/lang/String;ZLjava/lang/ClassLoader;)Ljava/lang/Class;+43\njava.base@16\n...</p>\n</blockquote>\n<h3>Error happens even I reinstall MacOS:</h3>\n<ol>\n<li>JDK16 installed via brew</li>\n<li>JDK16 installed via Zulu</li>\n<li>JDK17 installed via Zulu</li>\n</ol>\n<h3>But it works well：</h3>\n<ol>\n<li>JDK15 installed via Zulu</li>\n</ol>\n<p>Someone says that everything is fine with JDK16(Zulu), and I don't know why.</p>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":11540925,"reputation":56,"user_id":8456659,"display_name":"indhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636608076,"creation_date":1636606620,"answer_id":69923384,"question_id":69922672,"body_markdown":"you have not added when then statement for service.getData(),\r\nand below stubbing have not been called any where\r\n\r\nwhen(mockerService.getGrpcResponse(data)).thenReturn(new Records());\r\n\r\nuse when then to mock service.getData() like this,\r\n\r\nwhen(mockerService.getData(data)).thenReturn(new Records());\r\n\r\n","title":"Junit Test case Spring boot controller returning null value in ResponseEntity","body":"<p>you have not added when then statement for service.getData(),\nand below stubbing have not been called any where</p>\n<p>when(mockerService.getGrpcResponse(data)).thenReturn(new Records());</p>\n<p>use when then to mock service.getData() like this,</p>\n<p>when(mockerService.getData(data)).thenReturn(new Records());</p>\n"},{"tags":[],"owner":{"account_id":11187487,"reputation":1,"user_id":8209236,"display_name":"kiyegga francis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647843437,"creation_date":1647843437,"answer_id":71553469,"question_id":69922672,"body_markdown":"annotate this &#39;MyControllerTest&#39; class with @WebMvcTest(MyController.class) and the rerun it will work, otherwise its not able to mock actual controller class.","title":"Junit Test case Spring boot controller returning null value in ResponseEntity","body":"<p>annotate this 'MyControllerTest' class with @WebMvcTest(MyController.class) and the rerun it will work, otherwise its not able to mock actual controller class.</p>\n"}],"owner":{"account_id":971290,"reputation":667,"user_id":993822,"accept_rate":50,"display_name":"stumbler"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1753,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647843437,"creation_date":1636599468,"question_id":69922672,"body_markdown":"In my project I am creating a rest endpoint which is responsible to consume grpc service response.\r\nNow I want to write testcase for the controller class but the Junit test cases returning me null null values .\r\n\r\nMyController.java\r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/v1&quot;)\r\npublic class MyController {\r\n    @Autowired\r\n    private MyConsumerService consumer;\r\n\r\n    public MyController(MyConsumerService consumer) {\r\n        this.consumer=consumer;   \r\n    }\r\n     \r\n    @GetMapping(&quot;/data&quot;)\r\n    public ResponseEntity&lt;Records&gt; getData(@RequestParam(&quot;data&quot;) String data) {\r\n        Records records = consumer.getGrpcResponse(data);\r\n        return new ResponseEntity&lt;&gt;(Records, HttpStatus.OK);\r\n    }\r\n}\r\n```\r\n\r\nMyConsumerServiceImpl.java:\r\n\r\n```java      \r\npublic class MyConsumerServiceImpl implements MyConsumerService {\r\n    @GrpcClient(&quot;user-grpc-service&quot;)\r\n    private userGrpc.userBlockingStub stub;\r\n\r\n    @Override\r\n    public Records getGrpcResponse(data) {\r\n        Records records = new Records();\r\n        UserRequest request = UserRequest.newBuilder()\r\n            .setUserName(data)\r\n            .build();\r\n        APIResponse response = stub.userRequest(request);\r\n        records.setUserName(response.getUserName());\r\n        return records;\r\n   }\r\n}\r\n```\r\n\r\nMyControllerTest.java:\r\n\r\n```java\r\n@ExtendWith(MockitoExtension.class)\r\npublic class MyControllerTest {\r\n    private MyConsumerService mockerService;\r\n    private MyController controller;\r\n\r\n    @BeforeEach\r\n    void setup(){\r\n        mockerService = mock(MyConsumerService.class);\r\n        controller = new MyController(mockerService);\r\n    }\r\n\r\n    @Test\r\n    public void shouldGet(){\r\n        final var data=&quot;Hello&quot;;\r\n        when(mockerService.getGrpcResponse(data)).thenReturn(new Records());\r\n        final var responseEntity=controller.getData(data);\r\n        assertEquals(responseEntity.getBody(),new Records());\r\n    }\r\n}\r\n```\r\n\r\n`responseEntity.getBody()` is returning `null`.\r\n\r\nNormal flow is working fine but with Junit when I am mocking the client service call, it is returning `null`.\r\n\r\nI am confused why always it is returning `null`.\r\nAny idea where I am getting wrong.","title":"Junit Test case Spring boot controller returning null value in ResponseEntity","body":"<p>In my project I am creating a rest endpoint which is responsible to consume grpc service response.\nNow I want to write testcase for the controller class but the Junit test cases returning me null null values .</p>\n<p>MyController.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/v1&quot;)\npublic class MyController {\n    @Autowired\n    private MyConsumerService consumer;\n\n    public MyController(MyConsumerService consumer) {\n        this.consumer=consumer;   \n    }\n     \n    @GetMapping(&quot;/data&quot;)\n    public ResponseEntity&lt;Records&gt; getData(@RequestParam(&quot;data&quot;) String data) {\n        Records records = consumer.getGrpcResponse(data);\n        return new ResponseEntity&lt;&gt;(Records, HttpStatus.OK);\n    }\n}\n</code></pre>\n<p>MyConsumerServiceImpl.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyConsumerServiceImpl implements MyConsumerService {\n    @GrpcClient(&quot;user-grpc-service&quot;)\n    private userGrpc.userBlockingStub stub;\n\n    @Override\n    public Records getGrpcResponse(data) {\n        Records records = new Records();\n        UserRequest request = UserRequest.newBuilder()\n            .setUserName(data)\n            .build();\n        APIResponse response = stub.userRequest(request);\n        records.setUserName(response.getUserName());\n        return records;\n   }\n}\n</code></pre>\n<p>MyControllerTest.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(MockitoExtension.class)\npublic class MyControllerTest {\n    private MyConsumerService mockerService;\n    private MyController controller;\n\n    @BeforeEach\n    void setup(){\n        mockerService = mock(MyConsumerService.class);\n        controller = new MyController(mockerService);\n    }\n\n    @Test\n    public void shouldGet(){\n        final var data=&quot;Hello&quot;;\n        when(mockerService.getGrpcResponse(data)).thenReturn(new Records());\n        final var responseEntity=controller.getData(data);\n        assertEquals(responseEntity.getBody(),new Records());\n    }\n}\n</code></pre>\n<p><code>responseEntity.getBody()</code> is returning <code>null</code>.</p>\n<p>Normal flow is working fine but with Junit when I am mocking the client service call, it is returning <code>null</code>.</p>\n<p>I am confused why always it is returning <code>null</code>.\nAny idea where I am getting wrong.</p>\n"},{"tags":["java","javers"],"answers":[{"tags":[],"owner":{"account_id":5190284,"reputation":13363,"user_id":4153426,"display_name":"m.antkowicz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565173570,"creation_date":1565173570,"answer_id":57392268,"question_id":57391748,"body_markdown":"I don&#39;t think that Javers provides you any mechanism to delete/update existing commits/snapshots, however you can create your own stored database household procedure and call it by some cron scheduled job. Basically you need only to filter out all `JV_COMMIT` entries by date (older than 30 days), then by `commit` id you can find properties and snapshots, then by snapshot you will find global ids, and just remove them in such order\r\n\r\n    global id -&gt; snapshot -&gt; commit properties -&gt; commit","title":"How to clean up snapshots and commits after a period of time in Javers?","body":"<p>I don't think that Javers provides you any mechanism to delete/update existing commits/snapshots, however you can create your own stored database household procedure and call it by some cron scheduled job. Basically you need only to filter out all <code>JV_COMMIT</code> entries by date (older than 30 days), then by <code>commit</code> id you can find properties and snapshots, then by snapshot you will find global ids, and just remove them in such order</p>\n\n<pre><code>global id -&gt; snapshot -&gt; commit properties -&gt; commit\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8433146,"reputation":29,"user_id":6328124,"display_name":"user6328124"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647843380,"creation_date":1647843380,"answer_id":71553461,"question_id":57391748,"body_markdown":"Clean up can be done in the following order:\r\n\r\n- DELETE FROM jv_commit_property; \r\n- DELETE FROM jv_snapshot;\r\n- DELETE FROM jv_commit; \r\n- DELETE FROM jv_global_id WHERE owner_id_fk IS NOT NULL;\r\n- DELETE FROM jv_global_id;\r\n\r\nNote : You can put the filter clause as per your need which is not considered in the above DB Script.","title":"How to clean up snapshots and commits after a period of time in Javers?","body":"<p>Clean up can be done in the following order:</p>\n<ul>\n<li>DELETE FROM jv_commit_property;</li>\n<li>DELETE FROM jv_snapshot;</li>\n<li>DELETE FROM jv_commit;</li>\n<li>DELETE FROM jv_global_id WHERE owner_id_fk IS NOT NULL;</li>\n<li>DELETE FROM jv_global_id;</li>\n</ul>\n<p>Note : You can put the filter clause as per your need which is not considered in the above DB Script.</p>\n"}],"owner":{"account_id":7193995,"reputation":21,"user_id":11894926,"display_name":"flipper1136"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1647843380,"creation_date":1565171972,"question_id":57391748,"body_markdown":"I&#39;m setting a auditing system for our application. The tables grow very fast. So I wonder, if there is a mechanism to clean up snapshots and commits after a period of time, for example all snapshots older than 30 days. If it is not possible, could you please suggest other approaches? Thanks.","title":"How to clean up snapshots and commits after a period of time in Javers?","body":"<p>I'm setting a auditing system for our application. The tables grow very fast. So I wonder, if there is a mechanism to clean up snapshots and commits after a period of time, for example all snapshots older than 30 days. If it is not possible, could you please suggest other approaches? Thanks.</p>\n"},{"tags":["java","arrays","arraylist","partitioning","sublist"],"answers":[{"tags":[],"owner":{"account_id":61118,"reputation":11403,"user_id":182289,"accept_rate":73,"display_name":"stepanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647843063,"creation_date":1647843063,"answer_id":71553423,"question_id":71553258,"body_markdown":"You can use this method for splitting any Java collection (e.g. lists) into multiple lists:\r\n\r\n    public static &lt;T extends Object&gt; List&lt;List&lt;T&gt;&gt; split(List&lt;T&gt; list,\r\n\t                                                     int targetSize) {\r\n\t\tList&lt;List&lt;T&gt;&gt; lists = new ArrayList&lt;List&lt;T&gt;&gt;();\r\n\t\tfor (int i = 0; i &lt; list.size(); i += targetSize) {\r\n\t\t\tlists.add(list.subList(i, Math.min(i + targetSize, list.size())));\r\n\t\t}\r\n\t\treturn lists;\r\n\t}\r\n","title":"Generate N number of Sublists from a List in Java","body":"<p>You can use this method for splitting any Java collection (e.g. lists) into multiple lists:</p>\n<pre><code>public static &lt;T extends Object&gt; List&lt;List&lt;T&gt;&gt; split(List&lt;T&gt; list,\n                                                     int targetSize) {\n    List&lt;List&lt;T&gt;&gt; lists = new ArrayList&lt;List&lt;T&gt;&gt;();\n    for (int i = 0; i &lt; list.size(); i += targetSize) {\n        lists.add(list.subList(i, Math.min(i + targetSize, list.size())));\n    }\n    return lists;\n}\n</code></pre>\n"}],"owner":{"account_id":14601312,"reputation":21,"user_id":10545665,"display_name":"user607464"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647843063,"creation_date":1647841638,"question_id":71553258,"body_markdown":"I have working with Java lists I want to generates sublist simply says how to partioning of list into N parts:\r\n    \r\n\r\n        arr= new int [10];\r\n        for (int i = 1; i &lt; arr.length; i++) {\r\n            arr[i] = i;\r\n        }\r\n    Input:\r\n    arr=[1,2,3,4,5,6,7,8,9] // is not always sorted list\r\n    S= 3 // if S=3 create 3 sublists //if S=4 create 4 sublists so on..\r\n\r\n    output is :\r\n    sublist1=[1,2,3] sublist2=[4,5,6] sublist3=[7,8,9]\r\nHow to acheive this type of Result in Java","title":"Generate N number of Sublists from a List in Java","body":"<p>I have working with Java lists I want to generates sublist simply says how to partioning of list into N parts:</p>\n<pre><code>    arr= new int [10];\n    for (int i = 1; i &lt; arr.length; i++) {\n        arr[i] = i;\n    }\nInput:\narr=[1,2,3,4,5,6,7,8,9] // is not always sorted list\nS= 3 // if S=3 create 3 sublists //if S=4 create 4 sublists so on..\n\noutput is :\nsublist1=[1,2,3] sublist2=[4,5,6] sublist3=[7,8,9]\n</code></pre>\n<p>How to acheive this type of Result in Java</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1647842340,"post_id":71553129,"comment_id":126463616,"body_markdown":"Some constructive feedback-  you really need to break that massive bind function into subfunctions.  As it is now, your eyes just glaze over trying to read it.  A good rule of thumb is if a function is much bigger than 1 screen, you need to break it up.","body":"Some constructive feedback-  you really need to break that massive bind function into subfunctions.  As it is now, your eyes just glaze over trying to read it.  A good rule of thumb is if a function is much bigger than 1 screen, you need to break it up."}],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647842659,"creation_date":1647842659,"answer_id":71553374,"question_id":71553129,"body_markdown":"Don&#39;t use notifyDataSetChanged().  That tells the recycler view the entire data set has changed, and it wipes out state on everything because it thinks everything is reset.  Instead use notifyItemChanged, notifyItemInserted, etc to tell it to only change the ones that have new data.  You can user DiffUtil to help you by comparing two lists and sending change commands for you. \r\n\r\nIf your architecture is such you can&#39;t tell which ones changed, that&#39;s part of the problem that needs to be addressed.","title":"Swipe delete in Recycler View using threads","body":"<p>Don't use notifyDataSetChanged().  That tells the recycler view the entire data set has changed, and it wipes out state on everything because it thinks everything is reset.  Instead use notifyItemChanged, notifyItemInserted, etc to tell it to only change the ones that have new data.  You can user DiffUtil to help you by comparing two lists and sending change commands for you.</p>\n<p>If your architecture is such you can't tell which ones changed, that's part of the problem that needs to be addressed.</p>\n"}],"owner":{"account_id":23134651,"reputation":23,"user_id":17239039,"display_name":"AYESHA SIDDIQUI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647842659,"creation_date":1647840377,"question_id":71553129,"body_markdown":"I want to implement swipe delete functionality with icons view in my recycler view. somehow I have done it, my adapter is updating list in every 3 seconds and my swipe menu gets invisible and lists get its original view when update comes.I don&#39;t want to stop thread while swipe. Please help if you can guysssssssss.. \r\n\r\nbelow is my adapter code:\r\n\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.graphics.Color;\r\n    import android.graphics.drawable.Drawable;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageButton;\r\n    import android.widget.TextView;\r\n    \r\n    import androidx.annotation.NonNull;\r\n    import androidx.cardview.widget.CardView;\r\n    import androidx.core.content.ContextCompat;\r\n    import androidx.recyclerview.widget.RecyclerView;\r\n    \r\n    import com.catalyst.maksl.Beans.ChangeStatus;\r\n    import com.catalyst.maksl.Beans.MarketFeedBean;\r\n    import com.catalyst.maksl.Beans.MarketWatchGraphBean;\r\n    import com.catalyst.maksl.Beans.ScripBean;\r\n    import com.catalyst.maksl.Components.AutoResizeTextView;\r\n    import com.catalyst.maksl.R;\r\n    import com.catalyst.maksl.SymbolDetails.SymbolDetailsActivity;\r\n    import com.catalyst.maksl.Utills.AppConfig;\r\n    import com.catalyst.maksl.Utills.Logs;\r\n    import com.catalyst.maksl.Utills.Utilities;\r\n    import com.github.mikephil.charting.charts.LineChart;\r\n    import com.github.mikephil.charting.components.YAxis;\r\n    import com.github.mikephil.charting.data.Entry;\r\n    import com.github.mikephil.charting.data.LineData;\r\n    import com.github.mikephil.charting.data.LineDataSet;\r\n    import com.github.mikephil.charting.formatter.IFillFormatter;\r\n    import com.github.mikephil.charting.interfaces.dataprovider.LineDataProvider;\r\n    import com.github.mikephil.charting.interfaces.datasets.ILineDataSet;\r\n    import com.github.mikephil.charting.utils.Utils;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class MarketWatchSymbolAdapter extends RecyclerView.Adapter&lt;MarketWatchSymbolAdapter.ViewHolder&gt; {\r\n    \r\n    \r\n        public Context context;\r\n        private final ArrayList&lt;String&gt; rows = new ArrayList&lt;&gt;();\r\n        private LineDataSet set1;\r\n        public static Drawable drawablePositive = ContextCompat.getDrawable(Logs.globalContext, R.drawable.graph_green_bg);\r\n        public static Drawable drawable_negative = ContextCompat.getDrawable(Logs.globalContext, R.drawable.graph_bg);\r\n        ViewHolder mViewHolder;\r\n        private List&lt;MarketWatchGraphBean&gt; marketWatchGraphBeans = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n        public MarketWatchSymbolAdapter(Context context) {\r\n            this.context = context;\r\n    \r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\r\n            View listItem = layoutInflater.inflate(R.layout.market_watch_list_item, parent, false);\r\n            return new ViewHolder(listItem);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n    \r\n            mViewHolder =  holder;\r\n            MarketFeedBean marketFeedBean = Logs.marketFeedBeanMap.get(rows.get(position));\r\n            ScripBean scripBean = Logs.allScripBean.get(rows.get(position));\r\n    \r\n            marketWatchGraphBeans =  Logs.marketWatchGraphBeansMap.get(rows.get(position));\r\n    \r\n                updateGraph();\r\n                customiseChart(holder);\r\n    \r\n    \r\n            try {\r\n                if (marketFeedBean != null) {\r\n    \r\n                Double changePercentage = marketFeedBean.getChange() / (marketFeedBean.getLastTradePrice() - marketFeedBean.getChange()) * 100;\r\n    \r\n                holder.indexName.setText(marketFeedBean.getMarket());\r\n                holder.scripName.setText(marketFeedBean.getScrip());\r\n                holder.SymbolName.setText(marketFeedBean.getScripName());\r\n                holder.indexValue.setText(Logs.priceFormat.format(marketFeedBean.getLastTradePrice()).replace(&quot;-&quot;, &quot;&quot;));\r\n                if(scripBean != null)\r\n                {\r\n                    try\r\n                    {\r\n                        holder.sector.setText(scripBean.getSectorName());\r\n                    }\r\n                    catch (Exception e)\r\n                    {\r\n                        Utilities.handleException(e);\r\n                    }\r\n                }\r\n    \r\n                holder.nameIcon.setText(marketFeedBean.getScrip().substring(0, 1));\r\n    \r\n    \r\n                if (marketFeedBean.getChange() != 0.0) {\r\n                    String c;\r\n                    if (Logs.priceFormat.format(changePercentage).contains(&quot;-&quot;)) {\r\n    \r\n                        holder.indexValue.setBackground(ContextCompat.getDrawable(context, R.drawable.bg_negativecell));\r\n    \r\n                            set1.setColor(Color.RED);\r\n                            set1.setFillDrawable(drawable_negative);\r\n                        c = Logs.priceFormat.format(marketFeedBean.getChange()) + &quot; &quot; + &quot;(&quot; + Logs.priceFormat.format(Double.parseDouble(String.valueOf(changePercentage))) + &quot;%)&quot;;\r\n    \r\n    \r\n                    }\r\n    \r\n                    else {\r\n    \r\n                        holder.indexValue.setBackground(ContextCompat.getDrawable(context,R.drawable.bg_positivecell));\r\n    \r\n                            set1.setColor(Color.GREEN);\r\n                            set1.setFillDrawable(drawablePositive);\r\n                        c =&quot;+&quot; + Logs.priceFormat.format(marketFeedBean.getChange())+ &quot; &quot; + &quot;(&quot; + &quot;+&quot;+ Logs.priceFormat.format(changePercentage).replace(&quot;-&quot;, &quot;&quot;) + &quot;%)&quot;;\r\n    \r\n    \r\n    \r\n                    }\r\n    \r\n                    holder.indexChange.setText(c);\r\n    \r\n    \r\n    \r\n                }\r\n    \r\n                else {\r\n                    holder.indexChange.setText(R.string.zero_percent);\r\n                    holder.indexValue.setBackground(ContextCompat.getDrawable(context, R.drawable.bg_no_change_mw));\r\n    \r\n    \r\n                }\r\n    \r\n                //blinking\r\n    \r\n                if (marketFeedBean.isLastTradePriceGain.equals(ChangeStatus.HIGH)) {\r\n                    holder.indexValue.setBackground(ContextCompat.getDrawable(context, R.drawable.bg_low));\r\n                    holder.indexValue.setTextColor(ContextCompat.getColor(context,R.color.black));\r\n                    holder.indexValue.setText(Logs.priceFormat.format(marketFeedBean.getLastTradePrice()).replace(&quot;-&quot;, &quot;&quot;));\r\n                } else if (marketFeedBean.isLastTradePriceGain.equals(ChangeStatus.LOW)) {\r\n                    holder.indexValue.setTextColor(ContextCompat.getColor(context,R.color.black));\r\n                    holder.indexValue.setBackground(ContextCompat.getDrawable(context, R.drawable.bg_low));\r\n                    holder.indexValue.setText(Logs.priceFormat.format(marketFeedBean.getLastTradePrice()).replace(&quot;-&quot;, &quot;&quot;));\r\n                } else {\r\n                    holder.indexValue.setTextColor(ContextCompat.getColor(context,R.color.white));\r\n                    holder.indexValue.setText(Logs.priceFormat.format(marketFeedBean.getLastTradePrice()).replace(&quot;-&quot;, &quot;&quot;));\r\n                }\r\n    \r\n    \r\n                if (marketFeedBean.isChangeGain.equals(ChangeStatus.HIGH)) {\r\n    \r\n    \r\n                    holder.indexChange.setTextColor(ContextCompat.getColor(context,R.color.orange));\r\n                } else if (marketFeedBean.isChangeGain.equals(ChangeStatus.LOW)) {\r\n    \r\n                    holder.indexChange.setTextColor(ContextCompat.getColor(context,R.color.orange));\r\n                } else {\r\n                    holder.indexChange.setTextColor(ContextCompat.getColor(context,R.color.black));\r\n                }\r\n    \r\n            }\r\n    \r\n                else {\r\n    \r\n                    try\r\n                    {\r\n                        String sm = rows.get(position);\r\n                        holder.indexName.setText(sm.split(&quot;:&quot;, -1)[1]);\r\n                        holder.scripName.setText(sm.split(&quot;:&quot;, -1)[0]);\r\n                        holder.sector.setText(scripBean != null ? scripBean.getSectorName() : null);\r\n                        holder.nameIcon.setText(sm.split(&quot;:&quot;, -1)[0].substring(0, 1));\r\n                        holder.SymbolName.setText(scripBean != null ? scripBean.getScripName() : null);\r\n                        holder.indexValue.setText(R.string.zero_amount);\r\n                        holder.indexChange.setText(R.string.zero_percent);\r\n                    }\r\n    \r\n                    catch (Exception e)\r\n                    {\r\n                        Utilities.handleException(e);\r\n                    }\r\n    \r\n    \r\n                }\r\n            }\r\n    \r\n            catch (Exception e)\r\n            {\r\n                Utilities.handleException(e);\r\n            }\r\n    \r\n            holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Logs.market = null;\r\n                    Logs.scrip = null;\r\n                    Intent intent = new Intent(context, SymbolDetailsActivity.class);\r\n                    String market = holder.indexName.getText().toString();\r\n                    String Scrip = holder.scripName.getText().toString();\r\n                    Logs.market = market;\r\n                    Logs.scrip = Scrip;\r\n                    intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                    context.startActivity(intent);\r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n    \r\n        public void updateGraph() {\r\n    \r\n            ArrayList&lt;Entry&gt; yVals1 = new ArrayList&lt;&gt;();\r\n            List&lt;Double&gt; list = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n    \r\n            try{\r\n    \r\n    \r\n                if(marketWatchGraphBeans != null)\r\n                {\r\n                    for(int index=0; index&lt;marketWatchGraphBeans.size(); index++)\r\n                        {\r\n                            list.add(marketWatchGraphBeans.get(index).OpenPrice);\r\n                            list.add(marketWatchGraphBeans.get(index).Average);\r\n                            list.add(marketWatchGraphBeans.get(index).High);\r\n                            list.add(marketWatchGraphBeans.get(index).Low);\r\n                            list.add(marketWatchGraphBeans.get(index).closePrice);\r\n                            list.add(marketWatchGraphBeans.get(index).lastTrdPrice);\r\n                        }\r\n                }\r\n    \r\n                if (list.size() &gt; 0) {\r\n                    for (int i = 0; i &lt; list.size(); i++) {\r\n                        String listValue = String.valueOf(list.get(i));\r\n                        if(!listValue.equals(&quot;null&quot;)) {\r\n                            yVals1.add(new Entry(i, Float.parseFloat(String.valueOf(list.get(i)))));\r\n                        }\r\n                    }\r\n    \r\n    \r\n                    mViewHolder.symbolChart.getAxisRight().setEnabled(true);\r\n                    YAxis leftAxis = mViewHolder.symbolChart.getAxisLeft();\r\n                    leftAxis.setDrawGridLines(true);\r\n    \r\n                    set1 = new LineDataSet(yVals1, &quot;Price&quot;);\r\n                    set1.setColor(ContextCompat.getColor(context, R.color.gray_light));\r\n                    LineDataSet set2 = new LineDataSet(yVals1, &quot;Price&quot;);\r\n                    set2.setColor(ContextCompat.getColor(context, R.color.green));\r\n                    set2.setDrawCircles(false);\r\n                    set2.setDrawValues(false);\r\n                    set1.setDrawCircles(false);\r\n    \r\n                    LineData data = new LineData(set1);\r\n                    set1.setMode(LineDataSet.Mode.CUBIC_BEZIER);\r\n                    set2.setMode(LineDataSet.Mode.CUBIC_BEZIER);\r\n    \r\n    \r\n                    mViewHolder.symbolChart.setData(data);\r\n    \r\n                    set2.setDrawFilled(true);\r\n                    set2.setFillDrawable(drawablePositive);\r\n                    set2.setFillFormatter((dataSet, dataProvider) -&gt; mViewHolder.symbolChart.getAxisLeft().getAxisMinimum());\r\n    \r\n    \r\n                    set1.setDrawFilled(true);\r\n                    set1.setFillDrawable(drawablePositive);\r\n                    set1.setFillFormatter((dataSet, dataProvider) -&gt; mViewHolder.symbolChart.getAxisLeft().getAxisMinimum());\r\n    \r\n    \r\n                    set1.setLineWidth(1);\r\n                    set2.setLineWidth(1);\r\n                    set1.setDrawValues(false);\r\n                    set2.setDrawValues(false);\r\n    \r\n    \r\n    \r\n                    mViewHolder.symbolChart.getDescription().setEnabled(false);\r\n                    mViewHolder.symbolChart.invalidate();\r\n    \r\n    \r\n                }\r\n            }\r\n    \r\n            catch (Exception e)\r\n            {\r\n                Utilities.handleException(e);\r\n            }\r\n    \r\n        }\r\n    \r\n        private void drawLineChart(ViewHolder mChartViewHolder) {\r\n            setData(mChartViewHolder);\r\n        }\r\n    \r\n        private void setData(ViewHolder mChartViewHolder) {\r\n    \r\n            ArrayList&lt;Entry&gt; values = new ArrayList&lt;&gt;();\r\n    \r\n    \r\n                values.add(new Entry(1,10f));\r\n                values.add(new Entry(2,12f));\r\n                values.add(new Entry(3,8f));\r\n                values.add(new Entry(4,12f));\r\n                values.add(new Entry(5,3f));\r\n                values.add(new Entry(6,2f));\r\n                values.add(new Entry(7,9f));\r\n                values.add(new Entry(8,5f));\r\n                values.add(new Entry(9,11f));\r\n    \r\n    \r\n    \r\n    \r\n            if (mChartViewHolder.symbolChart.getData() != null &amp;&amp;\r\n                    mChartViewHolder.symbolChart.getData().getDataSetCount() &gt; 0) {\r\n                set1 = (LineDataSet) mChartViewHolder.symbolChart.getData().getDataSetByIndex(0);\r\n                set1.setValues(values);\r\n    \r\n                set1.notifyDataSetChanged();\r\n                mChartViewHolder.symbolChart.getData().notifyDataChanged();\r\n                mChartViewHolder.symbolChart.notifyDataSetChanged();\r\n            } else {\r\n                // create a dataset and give it a type\r\n                set1 = new LineDataSet(values, &quot;DataSet 1&quot;);\r\n    \r\n                set1.setDrawIcons(false);\r\n                set1.setDrawCircles(false);\r\n                set1.setLineWidth(1f);\r\n                set1.setCircleRadius(3f);\r\n    \r\n                // draw points as solid circles\r\n                set1.setDrawCircleHole(false);\r\n                set1.setColor(Color.GREEN);\r\n                set1.setMode(LineDataSet.Mode.CUBIC_BEZIER);\r\n                set1.setDrawFilled(true);\r\n                set1.setFillDrawable(drawablePositive);\r\n    \r\n    \r\n                // customize legend entry\r\n                set1.setFormLineWidth(1f);\r\n    //            set1.setFormLineDashEffect(new DashPathEffect(new float[]{10f, 5f}, 0f));\r\n                set1.setFormSize(12.f);\r\n    \r\n                // text size of values\r\n                set1.setValueTextSize(9f);\r\n    \r\n                // draw selection line as dashed\r\n    //            set1.enableDashedHighlightLine(10f, 5f, 0f);\r\n    \r\n                // set the filled area\r\n                set1.setDrawFilled(true);\r\n                set1.setFillFormatter(new IFillFormatter() {\r\n                    @Override\r\n                    public float getFillLinePosition(ILineDataSet dataSet, LineDataProvider dataProvider) {\r\n                        return mChartViewHolder.symbolChart.getAxisLeft().getAxisMinimum();\r\n                    }\r\n                });\r\n    \r\n                // set color of filled area\r\n                if (Utils.getSDKInt() &gt;= 18) {\r\n                    // drawables only supported on api level 18 and above\r\n    //                Drawable drawable = ContextCompat.getDrawable(mChartViewHolder.itemView.getContext(), R.drawable.remove);\r\n    //                set1.setFillDrawable(drawable);\r\n                } else {\r\n                    set1.setFillColor(Color.BLACK);\r\n                }\r\n    \r\n    \r\n    \r\n                ArrayList&lt;ILineDataSet&gt; dataSets = new ArrayList&lt;&gt;();\r\n                dataSets.add(set1); // add the data sets\r\n    \r\n                // create a data object with the data sets\r\n                LineData data = new LineData(dataSets);\r\n    \r\n                // set data\r\n                mChartViewHolder.symbolChart.setData(data);\r\n            }\r\n        }\r\n    \r\n        private void customiseChart(ViewHolder mViewHolder) {\r\n            mViewHolder.symbolChart.getDescription().setEnabled(false);\r\n            mViewHolder.symbolChart.setDrawGridBackground(false);\r\n            mViewHolder.symbolChart.setDragEnabled(false);\r\n            mViewHolder.symbolChart.getLegend().setEnabled(false);\r\n            mViewHolder.symbolChart.setScaleEnabled(false);\r\n            mViewHolder.symbolChart.setScaleYEnabled(false);\r\n            mViewHolder.symbolChart.setScaleXEnabled(false);\r\n            mViewHolder.symbolChart.setDrawGridBackground(false);\r\n            mViewHolder.symbolChart.getXAxis().setEnabled(false);\r\n    //        mViewHolder.symbolChart.getLineData().setDrawValues(false);\r\n            mViewHolder.symbolChart.getXAxis().setDrawGridLines(false);\r\n            mViewHolder.symbolChart.getXAxis().setDrawAxisLine(false);\r\n            mViewHolder.symbolChart.getAxisLeft().setDrawGridLines(false);\r\n            mViewHolder.symbolChart.getAxisRight().setDrawGridLines(false);\r\n            mViewHolder.symbolChart.getAxisRight().setDrawZeroLine(false);\r\n            mViewHolder.symbolChart.getAxisLeft().setDrawZeroLine(false);\r\n            mViewHolder.symbolChart.getAxisRight().setDrawLabels(false);\r\n            mViewHolder.symbolChart.getAxisLeft().setDrawLabels(false);\r\n            mViewHolder.symbolChart.getAxisLeft().setEnabled(false);\r\n            mViewHolder.symbolChart.getAxisRight().setEnabled(false);\r\n            mViewHolder.symbolChart.getAxisRight().setZeroLineColor(Color.BLACK);\r\n            mViewHolder.symbolChart.getAxisRight().setAxisLineColor(Color.BLACK);\r\n            mViewHolder.symbolChart.setMaxHighlightDistance(150);\r\n            mViewHolder.symbolChart.setTouchEnabled(false);\r\n            mViewHolder.symbolChart.setPinchZoom(false);\r\n            mViewHolder.symbolChart.setAnimationCacheEnabled(false);\r\n            mViewHolder.symbolChart.invalidate();\r\n        }\r\n    \r\n        @Override\r\n        public int getItemViewType(int position) {\r\n            return super.getItemViewType(position);\r\n        }\r\n    \r\n    \r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n    \r\n            return rows.size();\r\n        }\r\n    \r\n        @Override\r\n        public long getItemId(int position) {\r\n            return super.getItemId(position);\r\n        }\r\n    \r\n        public synchronized void refill(ArrayList&lt;String&gt; data) {\r\n            this.rows.clear();\r\n            this.rows.addAll(data);\r\n            notifyDataSetChanged();\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n        public static class ViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n            public TextView indexName;\r\n            public TextView SymbolName;\r\n            public TextView indexValue;\r\n            public TextView scripName;\r\n            public TextView nameIcon;\r\n            public LineChart symbolChart;\r\n            public ImageButton imageButton;\r\n            private AutoResizeTextView indexChange;\r\n            public ArrayList&lt;Entry&gt; values;\r\n            private TextView sector;\r\n            public CardView cardView;\r\n            public Context context;\r\n            public String Scrip;\r\n            public String market;\r\n            public LineData data;\r\n    \r\n            \r\n            public ViewHolder(View itemView) {\r\n                super(itemView);\r\n    \r\n    \r\n                context = itemView.getContext();\r\n                indexName = itemView.findViewById(R.id.symbolMarket);\r\n                scripName = itemView.findViewById(R.id.mainSymbolName);\r\n                SymbolName = itemView.findViewById(R.id.symbolName);\r\n                nameIcon = itemView.findViewById(R.id.name_icon);\r\n                indexValue = itemView.findViewById(R.id.indexValue);\r\n                indexChange = itemView.findViewById(R.id.indexChange);\r\n                cardView = itemView.findViewById(R.id.crdlayout);\r\n                sector = itemView.findViewById(R.id.textSector);\r\n                symbolChart = itemView.findViewById(R.id.marketwatchgraph);\r\n    \r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Swipe delete in Recycler View using threads","body":"<p>I want to implement swipe delete functionality with icons view in my recycler view. somehow I have done it, my adapter is updating list in every 3 seconds and my swipe menu gets invisible and lists get its original view when update comes.I don't want to stop thread while swipe. Please help if you can guysssssssss..</p>\n<p>below is my adapter code:</p>\n<pre><code>import android.content.Context;\nimport android.content.Intent;\nimport android.graphics.Color;\nimport android.graphics.drawable.Drawable;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageButton;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.core.content.ContextCompat;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.catalyst.maksl.Beans.ChangeStatus;\nimport com.catalyst.maksl.Beans.MarketFeedBean;\nimport com.catalyst.maksl.Beans.MarketWatchGraphBean;\nimport com.catalyst.maksl.Beans.ScripBean;\nimport com.catalyst.maksl.Components.AutoResizeTextView;\nimport com.catalyst.maksl.R;\nimport com.catalyst.maksl.SymbolDetails.SymbolDetailsActivity;\nimport com.catalyst.maksl.Utills.AppConfig;\nimport com.catalyst.maksl.Utills.Logs;\nimport com.catalyst.maksl.Utills.Utilities;\nimport com.github.mikephil.charting.charts.LineChart;\nimport com.github.mikephil.charting.components.YAxis;\nimport com.github.mikephil.charting.data.Entry;\nimport com.github.mikephil.charting.data.LineData;\nimport com.github.mikephil.charting.data.LineDataSet;\nimport com.github.mikephil.charting.formatter.IFillFormatter;\nimport com.github.mikephil.charting.interfaces.dataprovider.LineDataProvider;\nimport com.github.mikephil.charting.interfaces.datasets.ILineDataSet;\nimport com.github.mikephil.charting.utils.Utils;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class MarketWatchSymbolAdapter extends RecyclerView.Adapter&lt;MarketWatchSymbolAdapter.ViewHolder&gt; {\n\n\n    public Context context;\n    private final ArrayList&lt;String&gt; rows = new ArrayList&lt;&gt;();\n    private LineDataSet set1;\n    public static Drawable drawablePositive = ContextCompat.getDrawable(Logs.globalContext, R.drawable.graph_green_bg);\n    public static Drawable drawable_negative = ContextCompat.getDrawable(Logs.globalContext, R.drawable.graph_bg);\n    ViewHolder mViewHolder;\n    private List&lt;MarketWatchGraphBean&gt; marketWatchGraphBeans = new ArrayList&lt;&gt;();\n\n\n    public MarketWatchSymbolAdapter(Context context) {\n        this.context = context;\n\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater layoutInflater = LayoutInflater.from(parent.getContext());\n        View listItem = layoutInflater.inflate(R.layout.market_watch_list_item, parent, false);\n        return new ViewHolder(listItem);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n        mViewHolder =  holder;\n        MarketFeedBean marketFeedBean = Logs.marketFeedBeanMap.get(rows.get(position));\n        ScripBean scripBean = Logs.allScripBean.get(rows.get(position));\n\n        marketWatchGraphBeans =  Logs.marketWatchGraphBeansMap.get(rows.get(position));\n\n            updateGraph();\n            customiseChart(holder);\n\n\n        try {\n            if (marketFeedBean != null) {\n\n            Double changePercentage = marketFeedBean.getChange() / (marketFeedBean.getLastTradePrice() - marketFeedBean.getChange()) * 100;\n\n            holder.indexName.setText(marketFeedBean.getMarket());\n            holder.scripName.setText(marketFeedBean.getScrip());\n            holder.SymbolName.setText(marketFeedBean.getScripName());\n            holder.indexValue.setText(Logs.priceFormat.format(marketFeedBean.getLastTradePrice()).replace(&quot;-&quot;, &quot;&quot;));\n            if(scripBean != null)\n            {\n                try\n                {\n                    holder.sector.setText(scripBean.getSectorName());\n                }\n                catch (Exception e)\n                {\n                    Utilities.handleException(e);\n                }\n            }\n\n            holder.nameIcon.setText(marketFeedBean.getScrip().substring(0, 1));\n\n\n            if (marketFeedBean.getChange() != 0.0) {\n                String c;\n                if (Logs.priceFormat.format(changePercentage).contains(&quot;-&quot;)) {\n\n                    holder.indexValue.setBackground(ContextCompat.getDrawable(context, R.drawable.bg_negativecell));\n\n                        set1.setColor(Color.RED);\n                        set1.setFillDrawable(drawable_negative);\n                    c = Logs.priceFormat.format(marketFeedBean.getChange()) + &quot; &quot; + &quot;(&quot; + Logs.priceFormat.format(Double.parseDouble(String.valueOf(changePercentage))) + &quot;%)&quot;;\n\n\n                }\n\n                else {\n\n                    holder.indexValue.setBackground(ContextCompat.getDrawable(context,R.drawable.bg_positivecell));\n\n                        set1.setColor(Color.GREEN);\n                        set1.setFillDrawable(drawablePositive);\n                    c =&quot;+&quot; + Logs.priceFormat.format(marketFeedBean.getChange())+ &quot; &quot; + &quot;(&quot; + &quot;+&quot;+ Logs.priceFormat.format(changePercentage).replace(&quot;-&quot;, &quot;&quot;) + &quot;%)&quot;;\n\n\n\n                }\n\n                holder.indexChange.setText(c);\n\n\n\n            }\n\n            else {\n                holder.indexChange.setText(R.string.zero_percent);\n                holder.indexValue.setBackground(ContextCompat.getDrawable(context, R.drawable.bg_no_change_mw));\n\n\n            }\n\n            //blinking\n\n            if (marketFeedBean.isLastTradePriceGain.equals(ChangeStatus.HIGH)) {\n                holder.indexValue.setBackground(ContextCompat.getDrawable(context, R.drawable.bg_low));\n                holder.indexValue.setTextColor(ContextCompat.getColor(context,R.color.black));\n                holder.indexValue.setText(Logs.priceFormat.format(marketFeedBean.getLastTradePrice()).replace(&quot;-&quot;, &quot;&quot;));\n            } else if (marketFeedBean.isLastTradePriceGain.equals(ChangeStatus.LOW)) {\n                holder.indexValue.setTextColor(ContextCompat.getColor(context,R.color.black));\n                holder.indexValue.setBackground(ContextCompat.getDrawable(context, R.drawable.bg_low));\n                holder.indexValue.setText(Logs.priceFormat.format(marketFeedBean.getLastTradePrice()).replace(&quot;-&quot;, &quot;&quot;));\n            } else {\n                holder.indexValue.setTextColor(ContextCompat.getColor(context,R.color.white));\n                holder.indexValue.setText(Logs.priceFormat.format(marketFeedBean.getLastTradePrice()).replace(&quot;-&quot;, &quot;&quot;));\n            }\n\n\n            if (marketFeedBean.isChangeGain.equals(ChangeStatus.HIGH)) {\n\n\n                holder.indexChange.setTextColor(ContextCompat.getColor(context,R.color.orange));\n            } else if (marketFeedBean.isChangeGain.equals(ChangeStatus.LOW)) {\n\n                holder.indexChange.setTextColor(ContextCompat.getColor(context,R.color.orange));\n            } else {\n                holder.indexChange.setTextColor(ContextCompat.getColor(context,R.color.black));\n            }\n\n        }\n\n            else {\n\n                try\n                {\n                    String sm = rows.get(position);\n                    holder.indexName.setText(sm.split(&quot;:&quot;, -1)[1]);\n                    holder.scripName.setText(sm.split(&quot;:&quot;, -1)[0]);\n                    holder.sector.setText(scripBean != null ? scripBean.getSectorName() : null);\n                    holder.nameIcon.setText(sm.split(&quot;:&quot;, -1)[0].substring(0, 1));\n                    holder.SymbolName.setText(scripBean != null ? scripBean.getScripName() : null);\n                    holder.indexValue.setText(R.string.zero_amount);\n                    holder.indexChange.setText(R.string.zero_percent);\n                }\n\n                catch (Exception e)\n                {\n                    Utilities.handleException(e);\n                }\n\n\n            }\n        }\n\n        catch (Exception e)\n        {\n            Utilities.handleException(e);\n        }\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Logs.market = null;\n                Logs.scrip = null;\n                Intent intent = new Intent(context, SymbolDetailsActivity.class);\n                String market = holder.indexName.getText().toString();\n                String Scrip = holder.scripName.getText().toString();\n                Logs.market = market;\n                Logs.scrip = Scrip;\n                intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                context.startActivity(intent);\n            }\n        });\n\n    }\n\n\n    public void updateGraph() {\n\n        ArrayList&lt;Entry&gt; yVals1 = new ArrayList&lt;&gt;();\n        List&lt;Double&gt; list = new ArrayList&lt;&gt;();\n\n\n\n        try{\n\n\n            if(marketWatchGraphBeans != null)\n            {\n                for(int index=0; index&lt;marketWatchGraphBeans.size(); index++)\n                    {\n                        list.add(marketWatchGraphBeans.get(index).OpenPrice);\n                        list.add(marketWatchGraphBeans.get(index).Average);\n                        list.add(marketWatchGraphBeans.get(index).High);\n                        list.add(marketWatchGraphBeans.get(index).Low);\n                        list.add(marketWatchGraphBeans.get(index).closePrice);\n                        list.add(marketWatchGraphBeans.get(index).lastTrdPrice);\n                    }\n            }\n\n            if (list.size() &gt; 0) {\n                for (int i = 0; i &lt; list.size(); i++) {\n                    String listValue = String.valueOf(list.get(i));\n                    if(!listValue.equals(&quot;null&quot;)) {\n                        yVals1.add(new Entry(i, Float.parseFloat(String.valueOf(list.get(i)))));\n                    }\n                }\n\n\n                mViewHolder.symbolChart.getAxisRight().setEnabled(true);\n                YAxis leftAxis = mViewHolder.symbolChart.getAxisLeft();\n                leftAxis.setDrawGridLines(true);\n\n                set1 = new LineDataSet(yVals1, &quot;Price&quot;);\n                set1.setColor(ContextCompat.getColor(context, R.color.gray_light));\n                LineDataSet set2 = new LineDataSet(yVals1, &quot;Price&quot;);\n                set2.setColor(ContextCompat.getColor(context, R.color.green));\n                set2.setDrawCircles(false);\n                set2.setDrawValues(false);\n                set1.setDrawCircles(false);\n\n                LineData data = new LineData(set1);\n                set1.setMode(LineDataSet.Mode.CUBIC_BEZIER);\n                set2.setMode(LineDataSet.Mode.CUBIC_BEZIER);\n\n\n                mViewHolder.symbolChart.setData(data);\n\n                set2.setDrawFilled(true);\n                set2.setFillDrawable(drawablePositive);\n                set2.setFillFormatter((dataSet, dataProvider) -&gt; mViewHolder.symbolChart.getAxisLeft().getAxisMinimum());\n\n\n                set1.setDrawFilled(true);\n                set1.setFillDrawable(drawablePositive);\n                set1.setFillFormatter((dataSet, dataProvider) -&gt; mViewHolder.symbolChart.getAxisLeft().getAxisMinimum());\n\n\n                set1.setLineWidth(1);\n                set2.setLineWidth(1);\n                set1.setDrawValues(false);\n                set2.setDrawValues(false);\n\n\n\n                mViewHolder.symbolChart.getDescription().setEnabled(false);\n                mViewHolder.symbolChart.invalidate();\n\n\n            }\n        }\n\n        catch (Exception e)\n        {\n            Utilities.handleException(e);\n        }\n\n    }\n\n    private void drawLineChart(ViewHolder mChartViewHolder) {\n        setData(mChartViewHolder);\n    }\n\n    private void setData(ViewHolder mChartViewHolder) {\n\n        ArrayList&lt;Entry&gt; values = new ArrayList&lt;&gt;();\n\n\n            values.add(new Entry(1,10f));\n            values.add(new Entry(2,12f));\n            values.add(new Entry(3,8f));\n            values.add(new Entry(4,12f));\n            values.add(new Entry(5,3f));\n            values.add(new Entry(6,2f));\n            values.add(new Entry(7,9f));\n            values.add(new Entry(8,5f));\n            values.add(new Entry(9,11f));\n\n\n\n\n        if (mChartViewHolder.symbolChart.getData() != null &amp;&amp;\n                mChartViewHolder.symbolChart.getData().getDataSetCount() &gt; 0) {\n            set1 = (LineDataSet) mChartViewHolder.symbolChart.getData().getDataSetByIndex(0);\n            set1.setValues(values);\n\n            set1.notifyDataSetChanged();\n            mChartViewHolder.symbolChart.getData().notifyDataChanged();\n            mChartViewHolder.symbolChart.notifyDataSetChanged();\n        } else {\n            // create a dataset and give it a type\n            set1 = new LineDataSet(values, &quot;DataSet 1&quot;);\n\n            set1.setDrawIcons(false);\n            set1.setDrawCircles(false);\n            set1.setLineWidth(1f);\n            set1.setCircleRadius(3f);\n\n            // draw points as solid circles\n            set1.setDrawCircleHole(false);\n            set1.setColor(Color.GREEN);\n            set1.setMode(LineDataSet.Mode.CUBIC_BEZIER);\n            set1.setDrawFilled(true);\n            set1.setFillDrawable(drawablePositive);\n\n\n            // customize legend entry\n            set1.setFormLineWidth(1f);\n//            set1.setFormLineDashEffect(new DashPathEffect(new float[]{10f, 5f}, 0f));\n            set1.setFormSize(12.f);\n\n            // text size of values\n            set1.setValueTextSize(9f);\n\n            // draw selection line as dashed\n//            set1.enableDashedHighlightLine(10f, 5f, 0f);\n\n            // set the filled area\n            set1.setDrawFilled(true);\n            set1.setFillFormatter(new IFillFormatter() {\n                @Override\n                public float getFillLinePosition(ILineDataSet dataSet, LineDataProvider dataProvider) {\n                    return mChartViewHolder.symbolChart.getAxisLeft().getAxisMinimum();\n                }\n            });\n\n            // set color of filled area\n            if (Utils.getSDKInt() &gt;= 18) {\n                // drawables only supported on api level 18 and above\n//                Drawable drawable = ContextCompat.getDrawable(mChartViewHolder.itemView.getContext(), R.drawable.remove);\n//                set1.setFillDrawable(drawable);\n            } else {\n                set1.setFillColor(Color.BLACK);\n            }\n\n\n\n            ArrayList&lt;ILineDataSet&gt; dataSets = new ArrayList&lt;&gt;();\n            dataSets.add(set1); // add the data sets\n\n            // create a data object with the data sets\n            LineData data = new LineData(dataSets);\n\n            // set data\n            mChartViewHolder.symbolChart.setData(data);\n        }\n    }\n\n    private void customiseChart(ViewHolder mViewHolder) {\n        mViewHolder.symbolChart.getDescription().setEnabled(false);\n        mViewHolder.symbolChart.setDrawGridBackground(false);\n        mViewHolder.symbolChart.setDragEnabled(false);\n        mViewHolder.symbolChart.getLegend().setEnabled(false);\n        mViewHolder.symbolChart.setScaleEnabled(false);\n        mViewHolder.symbolChart.setScaleYEnabled(false);\n        mViewHolder.symbolChart.setScaleXEnabled(false);\n        mViewHolder.symbolChart.setDrawGridBackground(false);\n        mViewHolder.symbolChart.getXAxis().setEnabled(false);\n//        mViewHolder.symbolChart.getLineData().setDrawValues(false);\n        mViewHolder.symbolChart.getXAxis().setDrawGridLines(false);\n        mViewHolder.symbolChart.getXAxis().setDrawAxisLine(false);\n        mViewHolder.symbolChart.getAxisLeft().setDrawGridLines(false);\n        mViewHolder.symbolChart.getAxisRight().setDrawGridLines(false);\n        mViewHolder.symbolChart.getAxisRight().setDrawZeroLine(false);\n        mViewHolder.symbolChart.getAxisLeft().setDrawZeroLine(false);\n        mViewHolder.symbolChart.getAxisRight().setDrawLabels(false);\n        mViewHolder.symbolChart.getAxisLeft().setDrawLabels(false);\n        mViewHolder.symbolChart.getAxisLeft().setEnabled(false);\n        mViewHolder.symbolChart.getAxisRight().setEnabled(false);\n        mViewHolder.symbolChart.getAxisRight().setZeroLineColor(Color.BLACK);\n        mViewHolder.symbolChart.getAxisRight().setAxisLineColor(Color.BLACK);\n        mViewHolder.symbolChart.setMaxHighlightDistance(150);\n        mViewHolder.symbolChart.setTouchEnabled(false);\n        mViewHolder.symbolChart.setPinchZoom(false);\n        mViewHolder.symbolChart.setAnimationCacheEnabled(false);\n        mViewHolder.symbolChart.invalidate();\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        return super.getItemViewType(position);\n    }\n\n\n\n    @Override\n    public int getItemCount() {\n\n        return rows.size();\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return super.getItemId(position);\n    }\n\n    public synchronized void refill(ArrayList&lt;String&gt; data) {\n        this.rows.clear();\n        this.rows.addAll(data);\n        notifyDataSetChanged();\n\n    }\n\n\n\n    public static class ViewHolder extends RecyclerView.ViewHolder {\n\n        public TextView indexName;\n        public TextView SymbolName;\n        public TextView indexValue;\n        public TextView scripName;\n        public TextView nameIcon;\n        public LineChart symbolChart;\n        public ImageButton imageButton;\n        private AutoResizeTextView indexChange;\n        public ArrayList&lt;Entry&gt; values;\n        private TextView sector;\n        public CardView cardView;\n        public Context context;\n        public String Scrip;\n        public String market;\n        public LineData data;\n\n        \n        public ViewHolder(View itemView) {\n            super(itemView);\n\n\n            context = itemView.getContext();\n            indexName = itemView.findViewById(R.id.symbolMarket);\n            scripName = itemView.findViewById(R.id.mainSymbolName);\n            SymbolName = itemView.findViewById(R.id.symbolName);\n            nameIcon = itemView.findViewById(R.id.name_icon);\n            indexValue = itemView.findViewById(R.id.indexValue);\n            indexChange = itemView.findViewById(R.id.indexChange);\n            cardView = itemView.findViewById(R.id.crdlayout);\n            sector = itemView.findViewById(R.id.textSector);\n            symbolChart = itemView.findViewById(R.id.marketwatchgraph);\n\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","integer","boolean"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1647842199,"post_id":71553232,"comment_id":126463593,"body_markdown":"`valuetest = (value &gt;= 40 &amp;&amp; value &lt;= 50) ? (value % 2 == 0) : (value &gt; 0 &amp;&amp; value &lt; 101)`","body":"<code>valuetest = (value &gt;= 40 &amp;&amp; value &lt;= 50) ? (value % 2 == 0) : (value &gt; 0 &amp;&amp; value &lt; 101)</code>"},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1647842599,"post_id":71553232,"comment_id":126463666,"body_markdown":"Does &quot;between 40 and 50&quot; include 40 and 50?","body":"Does &quot;between 40 and 50&quot; include 40 and 50?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1647843304,"post_id":71553232,"comment_id":126463773,"body_markdown":"What do you mean by &#39;boolean statement?","body":"What do you mean by &#39;boolean statement?"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647841689,"creation_date":1647841689,"answer_id":71553264,"question_id":71553232,"body_markdown":"Your second &quot;max&quot; condition only needs to apply to numbers falling into the range of 40 to 50.  Otherwise, odd/even does not matter.  Consider this version:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    if (value &gt; 0 &amp;&amp; value &lt; 40 ||\r\n        value &gt;= 40 &amp;&amp; value &lt;= 50 &amp;&amp; value % 2 == 1 ||\r\n        value &gt; 50 &amp;&amp; value &lt; 101) {\r\n\r\n        System.out.println(valuetest);\r\n    }","title":"Boolean statement without using if/else statement?","body":"<p>Your second &quot;max&quot; condition only needs to apply to numbers falling into the range of 40 to 50.  Otherwise, odd/even does not matter.  Consider this version:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (value &gt; 0 &amp;&amp; value &lt; 40 ||\n    value &gt;= 40 &amp;&amp; value &lt;= 50 &amp;&amp; value % 2 == 1 ||\n    value &gt; 50 &amp;&amp; value &lt; 101) {\n\n    System.out.println(valuetest);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1792177,"reputation":3486,"user_id":1632305,"accept_rate":62,"display_name":"Rashedul.Rubel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647842152,"creation_date":1647842152,"answer_id":71553318,"question_id":71553232,"body_markdown":"Write code in a different function that will return true/false as below:\r\n\r\n    public bool ResultVal(int value)\r\n    {\r\n       if(value &gt;=1 &amp;&amp; value &lt;= 100)\r\n       {\r\n         if(value &gt;=40 &amp;&amp; value &lt;=50)\r\n         {\r\n            if(value % 2 == 0)\r\n            {\r\n              return false;\r\n            } \r\n         }\r\n         return true; \r\n       }\r\n       return false;\r\n    }\r\n\r\nand call the function from your main method:\r\n\r\n    public static void main(String[] args) \r\n    {\r\n    \r\n       int value;\r\n    \r\n        System.out.println(&quot;enter number&quot;);\r\n        Scanner scan = new Scanner(System.in);\r\n        value = scan.nextInt();\r\n        System.out.println(&quot;Result: &quot; + ResultVal(value));\r\n        scan.close();\r\n    }","title":"Boolean statement without using if/else statement?","body":"<p>Write code in a different function that will return true/false as below:</p>\n<pre><code>public bool ResultVal(int value)\n{\n   if(value &gt;=1 &amp;&amp; value &lt;= 100)\n   {\n     if(value &gt;=40 &amp;&amp; value &lt;=50)\n     {\n        if(value % 2 == 0)\n        {\n          return false;\n        } \n     }\n     return true; \n   }\n   return false;\n}\n</code></pre>\n<p>and call the function from your main method:</p>\n<pre><code>public static void main(String[] args) \n{\n\n   int value;\n\n    System.out.println(&quot;enter number&quot;);\n    Scanner scan = new Scanner(System.in);\n    value = scan.nextInt();\n    System.out.println(&quot;Result: &quot; + ResultVal(value));\n    scan.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647842652,"creation_date":1647842652,"answer_id":71553373,"question_id":71553232,"body_markdown":"Since there are so few values in the &quot;false&quot; list:\r\n\r\n    boolean valuetest = value &gt;= 1 &amp;&amp; value &lt;= 100 \r\n        &amp;&amp; !List.of(40, 42, 44, 46, 48, 50).contains(value);\r\n\r\nReadability counts.\r\n\r\n`\r\n","title":"Boolean statement without using if/else statement?","body":"<p>Since there are so few values in the &quot;false&quot; list:</p>\n<pre><code>boolean valuetest = value &gt;= 1 &amp;&amp; value &lt;= 100 \n    &amp;&amp; !List.of(40, 42, 44, 46, 48, 50).contains(value);\n</code></pre>\n<p>Readability counts.</p>\n<p>`</p>\n"}],"owner":{"account_id":24620026,"reputation":3,"user_id":18520537,"display_name":"hengeress34"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":786,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71553264,"answer_count":3,"score":-1,"last_activity_date":1647842652,"creation_date":1647841366,"question_id":71553232,"body_markdown":"Need to print a boolean statement that will return\r\n-&#39;true&#39; if input number is within a range of 1 to 100 but &#39;false&#39; if it&#39;s an even number between 40 and 50.\r\n- e.g if you enter 12,45,60,etc...you should get true.\r\n- if you enter 42 or 44 or 48 you should get false.\r\n\r\nHere&#39;s the code I have so far,\r\nI&#39;m stuck because it prints &#39;false&#39; if I enter a number that&#39;s below 40, e.g 12 or above 50, e.g 60. This is the only part I need help fixing. Beginner in programming here so would appreciate any help.\r\n\r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n       int value;\r\n\r\n        System.out.println(&quot;enter number&quot;);\r\n        Scanner scan = new Scanner(System.in);\r\n        value = scan.nextInt();\r\n\r\n        scan.close();\r\n\r\n\r\n        boolean valuetest, min, max;\r\n\r\n\r\n        min = (value&gt;0 &amp;&amp; value &lt;101);\r\n        max = (value &gt;=40 &amp;&amp; value &lt;= 50 &amp;&amp; value%2 ==1);\r\n\r\n       valuetest= (max &amp;&amp; min);\r\n        System.out.println( valuetest);\r\n","title":"Boolean statement without using if/else statement?","body":"<p>Need to print a boolean statement that will return\n-'true' if input number is within a range of 1 to 100 but 'false' if it's an even number between 40 and 50.</p>\n<ul>\n<li>e.g if you enter 12,45,60,etc...you should get true.</li>\n<li>if you enter 42 or 44 or 48 you should get false.</li>\n</ul>\n<p>Here's the code I have so far,\nI'm stuck because it prints 'false' if I enter a number that's below 40, e.g 12 or above 50, e.g 60. This is the only part I need help fixing. Beginner in programming here so would appreciate any help.</p>\n<pre><code>public static void main(String[] args) {\n\n   int value;\n\n    System.out.println(&quot;enter number&quot;);\n    Scanner scan = new Scanner(System.in);\n    value = scan.nextInt();\n\n    scan.close();\n\n\n    boolean valuetest, min, max;\n\n\n    min = (value&gt;0 &amp;&amp; value &lt;101);\n    max = (value &gt;=40 &amp;&amp; value &lt;= 50 &amp;&amp; value%2 ==1);\n\n   valuetest= (max &amp;&amp; min);\n    System.out.println( valuetest);\n</code></pre>\n"},{"tags":["java","eclipse","maven","pom.xml","jhipster"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1574696162,"post_id":59035248,"comment_id":104313494,"body_markdown":"This looks `connect timed out..` like a network/firewall/proxy issue..","body":"This looks <code>connect timed out..</code> like a network/firewall/proxy issue.."},{"owner":{"account_id":7007162,"reputation":939,"user_id":5371168,"display_name":"D. Lawrence"},"score":0,"creation_date":1574696241,"post_id":59035248,"comment_id":104313548,"body_markdown":"Try to put maven in verbose to see more details","body":"Try to put maven in verbose to see more details"}],"answers":[{"tags":[],"owner":{"account_id":16506473,"reputation":127,"user_id":11926388,"display_name":"s.stkvc"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1574761617,"creation_date":1574761617,"answer_id":59048006,"question_id":59035248,"body_markdown":"For everyone who wants to know how I resolved this issue:\r\n\r\nFirst of all like khmarbaise already mentioned, it was a proxy issue. It was already configured in eclipse, therefore I assumned that maven will automatically use the already set proxy configurations from eclipse.\r\n\r\nThe solution was to create/modify the settings.xml and set it via following eclipse configuration steps:\r\n\r\nWindow -&gt; Preferences -&gt; Maven -&gt; User Settings, and there configure the path to the settings.xml at the User Settings Input.\r\n\r\nI edited my settings.xml and configured my company proxy in it.","title":"Non-resolvable import POM: Failure to transfer","body":"<p>For everyone who wants to know how I resolved this issue:</p>\n\n<p>First of all like khmarbaise already mentioned, it was a proxy issue. It was already configured in eclipse, therefore I assumned that maven will automatically use the already set proxy configurations from eclipse.</p>\n\n<p>The solution was to create/modify the settings.xml and set it via following eclipse configuration steps:</p>\n\n<p>Window -> Preferences -> Maven -> User Settings, and there configure the path to the settings.xml at the User Settings Input.</p>\n\n<p>I edited my settings.xml and configured my company proxy in it.</p>\n"},{"tags":[],"owner":{"account_id":23662584,"reputation":11,"user_id":17690450,"display_name":"user17690450"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639638206,"creation_date":1639637314,"answer_id":70374921,"question_id":59035248,"body_markdown":"I have the fantastic solution of this problem, let&#39;s go to your project ,right click on project the go to maven update tab and the forcefully update your project , it takes some time and then your project works perfectly fine ","title":"Non-resolvable import POM: Failure to transfer","body":"<p>I have the fantastic solution of this problem, let's go to your project ,right click on project the go to maven update tab and the forcefully update your project , it takes some time and then your project works perfectly fine</p>\n"},{"tags":[],"owner":{"account_id":22370373,"reputation":1,"user_id":16585546,"display_name":"AKSHATA KORGAONKAR"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647842262,"creation_date":1647842262,"answer_id":71553327,"question_id":59035248,"body_markdown":"Just click on update maven and it works fine.\r\nSteps:\r\nRestart STS/Eclipse-&gt;Right click on project-&gt;Click on Maven-&gt;Click on Update Maven","title":"Non-resolvable import POM: Failure to transfer","body":"<p>Just click on update maven and it works fine.\nSteps:\nRestart STS/Eclipse-&gt;Right click on project-&gt;Click on Maven-&gt;Click on Update Maven</p>\n"}],"owner":{"account_id":16506473,"reputation":127,"user_id":11926388,"display_name":"s.stkvc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13308,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":59048006,"answer_count":3,"score":-1,"last_activity_date":1647842262,"creation_date":1574696017,"question_id":59035248,"body_markdown":"after checking out a java maven project, my pom has some errors all the time. maven clean and maven install work like a charm, but maven update project or download sources/java doc give me everytime the following error:\r\n\r\n    Could not download sources or javadoc\r\n    Could not read maven project\r\n    Some problems were encountered while processing the POMs:\r\n    [ERROR] Non-resolvable import POM: Failure to transfer io.github.jhipster:jhipster-dependencies:pom:3.0.1 from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact io.github.jhipster:jhipster-dependencies:pom:3.0.1 from/to central (https://repo.maven.apache.org/maven2): connect timed out @ line 106, column 16\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for io.github.jhipster:jhipster-framework:jar is missing. @ line 118, column 15\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for org.springframework.boot:spring-boot-starter-cache:jar is missing. @ line 123, column 15\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for com.fasterxml.jackson.datatype:jackson-datatype-hibernate5:jar is missing. @ line 127, column 15\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for com.fasterxml.jackson.datatype:jackson-datatype-hppc:jar is missing. @ line 131, column 15\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar is missing. @ line 135, column 15\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for com.fasterxml.jackson.module:jackson-module-afterburner:jar is missing. @ line 139, column 15\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for com.h2database:h2:jar is missing. @ line 867, column 17\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for com.jayway.jsonpath:json-path:jar is missing. @ line 148, column 15\r\n    [ERROR] &#39;dependencies.dependency.version&#39; for io.springfox:springfox-swagger2:jar is missing. @ line 154, column 15\r\n\r\nIm behind a corporate proxy, which i already configured in eclipse. \r\n\r\nI had never anything to do with maven in my past, only checking worked for me every time.\r\nThe project is set up with jHipster.\r\n\r\nHope somebody can help me.\r\n\r\nThanks in advance.","title":"Non-resolvable import POM: Failure to transfer","body":"<p>after checking out a java maven project, my pom has some errors all the time. maven clean and maven install work like a charm, but maven update project or download sources/java doc give me everytime the following error:</p>\n\n<pre><code>Could not download sources or javadoc\nCould not read maven project\nSome problems were encountered while processing the POMs:\n[ERROR] Non-resolvable import POM: Failure to transfer io.github.jhipster:jhipster-dependencies:pom:3.0.1 from https://repo.maven.apache.org/maven2 was cached in the local repository, resolution will not be reattempted until the update interval of central has elapsed or updates are forced. Original error: Could not transfer artifact io.github.jhipster:jhipster-dependencies:pom:3.0.1 from/to central (https://repo.maven.apache.org/maven2): connect timed out @ line 106, column 16\n[ERROR] 'dependencies.dependency.version' for io.github.jhipster:jhipster-framework:jar is missing. @ line 118, column 15\n[ERROR] 'dependencies.dependency.version' for org.springframework.boot:spring-boot-starter-cache:jar is missing. @ line 123, column 15\n[ERROR] 'dependencies.dependency.version' for com.fasterxml.jackson.datatype:jackson-datatype-hibernate5:jar is missing. @ line 127, column 15\n[ERROR] 'dependencies.dependency.version' for com.fasterxml.jackson.datatype:jackson-datatype-hppc:jar is missing. @ line 131, column 15\n[ERROR] 'dependencies.dependency.version' for com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar is missing. @ line 135, column 15\n[ERROR] 'dependencies.dependency.version' for com.fasterxml.jackson.module:jackson-module-afterburner:jar is missing. @ line 139, column 15\n[ERROR] 'dependencies.dependency.version' for com.h2database:h2:jar is missing. @ line 867, column 17\n[ERROR] 'dependencies.dependency.version' for com.jayway.jsonpath:json-path:jar is missing. @ line 148, column 15\n[ERROR] 'dependencies.dependency.version' for io.springfox:springfox-swagger2:jar is missing. @ line 154, column 15\n</code></pre>\n\n<p>Im behind a corporate proxy, which i already configured in eclipse. </p>\n\n<p>I had never anything to do with maven in my past, only checking worked for me every time.\nThe project is set up with jHipster.</p>\n\n<p>Hope somebody can help me.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","dependency-injection","autowired"],"comments":[{"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"score":0,"creation_date":1647476941,"post_id":71505596,"comment_id":126383963,"body_markdown":"where is the AuthHelper class injection? How can the class use the consturctor?","body":"where is the AuthHelper class injection? How can the class use the consturctor?"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1647477120,"post_id":71505596,"comment_id":126383986,"body_markdown":"i think configuration is what you need, you can autowire(inject) (option)configuration here.","body":"i think configuration is what you need, you can autowire(inject) (option)configuration here."},{"owner":{"account_id":10449476,"reputation":854,"user_id":7703570,"accept_rate":90,"display_name":"Shakthi"},"score":0,"creation_date":1647479331,"post_id":71505596,"comment_id":126384340,"body_markdown":"The current logic is working fine now. Please suggest if this implementation is not good or will cause issue anywhere. Will it set globally(for others user who is trying for yahoo in parellel) while I set like `authHelper.client(&quot;gmail&quot;).authLogic(uid, pass)`?","body":"The current logic is working fine now. Please suggest if this implementation is not good or will cause issue anywhere. Will it set globally(for others user who is trying for yahoo in parellel) while I set like <code>authHelper.client(&quot;gmail&quot;).authLogic(uid, pass)</code>?"},{"owner":{"account_id":1646676,"reputation":4100,"user_id":1518100,"accept_rate":96,"display_name":"Lei Yang"},"score":0,"creation_date":1647479867,"post_id":71505596,"comment_id":126384407,"body_markdown":"i have two comments 1. .client(&quot;gmail&quot;) usually should be a static method(factory pattern, `client` can be renamed to `of`) 2. you still have to hardcode a type string, which should be automatically injected and got from current http context.","body":"i have two comments 1. .client(&quot;gmail&quot;) usually should be a static method(factory pattern, <code>client</code> can be renamed to <code>of</code>) 2. you still have to hardcode a type string, which should be automatically injected and got from current http context."}],"answers":[{"tags":[],"owner":{"account_id":1806969,"reputation":102,"user_id":1643891,"display_name":"Sup19"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647842110,"creation_date":1647513954,"answer_id":71511003,"question_id":71505596,"body_markdown":"IMO, the better approach would be to have a AuthHelperFactory which should provide the AuthHelper bean with appropriate client as per input. \r\n\r\n\r\n    public class AuthHelper{\r\n\r\n    private AuthClient client;\r\n\r\n    public AuthHelper (AuthClient client) {\r\n        this.client = client;\r\n    }\r\n\r\n    public boolean authLogic(String uid, String pass) {\r\n        return this.client.authorize(uid,pass);\r\n    }\r\n\r\n    }\r\n    \r\n    @Component\r\n    public class AuthHelperFactory {\r\n      @Autowired\r\n      private AuthClient gmailClient;\r\n      @Autowired\r\n      private AuthClient yahooClient;\r\n\r\n      public AuthHelper getAuthHelper(String option) {\r\n         if(option.equals(&quot;gmail&quot;)){\r\n            return new AuthHelper(gmailClient);\r\n         } else if (option.equals(&quot;yahoo&quot;)){\r\n            return new AuthHelper(yahooClient); \r\n         }\r\n      }\r\n     }\r\n\r\nIn the AuthService, you need to call the factory method in  authenticate method.\r\n\r\n    return authHelperFactory.getAuthHelper(&quot;gmail&quot;).authLogic(uid, pass);","title":"Constructor Injection using Parameter","body":"<p>IMO, the better approach would be to have a AuthHelperFactory which should provide the AuthHelper bean with appropriate client as per input.</p>\n<pre><code>public class AuthHelper{\n\nprivate AuthClient client;\n\npublic AuthHelper (AuthClient client) {\n    this.client = client;\n}\n\npublic boolean authLogic(String uid, String pass) {\n    return this.client.authorize(uid,pass);\n}\n\n}\n\n@Component\npublic class AuthHelperFactory {\n  @Autowired\n  private AuthClient gmailClient;\n  @Autowired\n  private AuthClient yahooClient;\n\n  public AuthHelper getAuthHelper(String option) {\n     if(option.equals(&quot;gmail&quot;)){\n        return new AuthHelper(gmailClient);\n     } else if (option.equals(&quot;yahoo&quot;)){\n        return new AuthHelper(yahooClient); \n     }\n  }\n }\n</code></pre>\n<p>In the AuthService, you need to call the factory method in  authenticate method.</p>\n<pre><code>return authHelperFactory.getAuthHelper(&quot;gmail&quot;).authLogic(uid, pass);\n</code></pre>\n"}],"owner":{"account_id":10449476,"reputation":854,"user_id":7703570,"accept_rate":90,"display_name":"Shakthi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71511003,"answer_count":1,"score":1,"last_activity_date":1647842110,"creation_date":1647475326,"question_id":71505596,"body_markdown":"I have the following bean with parameterized constructor:\r\n```\r\n@Component\r\npublic class AuthHelper{\r\n    @Autowired\r\n    private AuthClient gmailClient;\r\n    @Autowired\r\n    private AuthClient yahooClient;\r\n\r\n    private AuthClient client;\r\n\r\n    public AuthHelper client(String option) {\r\n        if(option.equals(&quot;gmail&quot;)) this.client=gmailClient;\r\n        if(option.equals(&quot;yahoo&quot;)) this.client=yahooClient;\r\n        return this;\r\n    }\r\n\r\n    public boolean authLogic(String uid, String pass) {\r\n        return client.authorize(uid,pass);\r\n    }\r\n\r\n}\r\n```\r\nCould you please help to autowire the above bean:\r\n\r\nI am stuck while I call the above bean in the below service,\r\n\r\n```\r\n@Service\r\npublic class AuthService{\r\n    @Autowired\r\n    public AuthHelper authHelper;\r\n\r\n    public boolean authenticate(String uid, String pass){\r\n        return authHelper.client(&quot;gmail&quot;).authLogic(uid, pass);\r\n    }\r\n\r\n}\r\n```\r\n\r\nPlease suggest... I want the helper class should use the bean based on the parameter that I pass from the service.\r\n\r\nAfter Modification:\r\nThe above example is working fine. Please suggest if there is any issue in this implementation...","title":"Constructor Injection using Parameter","body":"<p>I have the following bean with parameterized constructor:</p>\n<pre><code>@Component\npublic class AuthHelper{\n    @Autowired\n    private AuthClient gmailClient;\n    @Autowired\n    private AuthClient yahooClient;\n\n    private AuthClient client;\n\n    public AuthHelper client(String option) {\n        if(option.equals(&quot;gmail&quot;)) this.client=gmailClient;\n        if(option.equals(&quot;yahoo&quot;)) this.client=yahooClient;\n        return this;\n    }\n\n    public boolean authLogic(String uid, String pass) {\n        return client.authorize(uid,pass);\n    }\n\n}\n</code></pre>\n<p>Could you please help to autowire the above bean:</p>\n<p>I am stuck while I call the above bean in the below service,</p>\n<pre><code>@Service\npublic class AuthService{\n    @Autowired\n    public AuthHelper authHelper;\n\n    public boolean authenticate(String uid, String pass){\n        return authHelper.client(&quot;gmail&quot;).authLogic(uid, pass);\n    }\n\n}\n</code></pre>\n<p>Please suggest... I want the helper class should use the bean based on the parameter that I pass from the service.</p>\n<p>After Modification:\nThe above example is working fine. Please suggest if there is any issue in this implementation...</p>\n"},{"tags":["java","jsch"],"answers":[{"tags":[],"owner":{"account_id":186532,"reputation":13518,"user_id":423991,"accept_rate":91,"display_name":"K Erlandsson"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1463033433,"creation_date":1448373305,"answer_id":33895501,"question_id":33895500,"body_markdown":"The exception message is slightly misleading. The error can occur when there is a timeout waiting for the `SSH_MSG_CHANNEL_OPEN_CONFIRMATION` message from the server. The default timeout in jsch (version 0.1.51) is 20 seconds. I think there are other situations where the same error occurrs but I have not investigated further.\r\n\r\nWhile there probably can be numerous reasons for the timeout, we have seen it caused by reverse DNS lookups in sshd from OpenSSH that took a long time occasionally.\r\n\r\nThat cause can be resolved by disabling DNS lookups from sshd by setting \r\n\r\n    UseDNS no\r\n\r\nin your sshd_config (typically `/etc/ssh/sshd_config`). This is generally safe to do according to what _Gilles_ writes in [this][1] thread.\r\n\r\nAnother option is to increase the timeout when connecting the channel. `Channel.connect` accepts a timeout argument (milliseconds), e.g. `channel.connect(60000)`. This can be useful if you do not control the server you are connecting to.\r\n\r\n  [1]: https://unix.stackexchange.com/questions/56941/what-is-the-point-of-sshd-usedns-option","title":"com.jcraft.jsch.JSchException: channel is not opened when opening a channel in jsch","body":"<p>The exception message is slightly misleading. The error can occur when there is a timeout waiting for the <code>SSH_MSG_CHANNEL_OPEN_CONFIRMATION</code> message from the server. The default timeout in jsch (version 0.1.51) is 20 seconds. I think there are other situations where the same error occurrs but I have not investigated further.</p>\n\n<p>While there probably can be numerous reasons for the timeout, we have seen it caused by reverse DNS lookups in sshd from OpenSSH that took a long time occasionally.</p>\n\n<p>That cause can be resolved by disabling DNS lookups from sshd by setting </p>\n\n<pre><code>UseDNS no\n</code></pre>\n\n<p>in your sshd_config (typically <code>/etc/ssh/sshd_config</code>). This is generally safe to do according to what <em>Gilles</em> writes in <a href=\"https://unix.stackexchange.com/questions/56941/what-is-the-point-of-sshd-usedns-option\">this</a> thread.</p>\n\n<p>Another option is to increase the timeout when connecting the channel. <code>Channel.connect</code> accepts a timeout argument (milliseconds), e.g. <code>channel.connect(60000)</code>. This can be useful if you do not control the server you are connecting to.</p>\n"}],"owner":{"account_id":186532,"reputation":13518,"user_id":423991,"accept_rate":91,"display_name":"K Erlandsson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36816,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":33895501,"answer_count":1,"score":16,"last_activity_date":1647842072,"creation_date":1448373305,"question_id":33895500,"body_markdown":"When connecting to a remote host using jsch version 0.1.51 we occasionally run into the following exception when calling `Channel.connect()` on a `ChannelExec`.\r\n\r\n    com.jcraft.jsch.JSchException: channel is not opened.\r\n        at com.jcraft.jsch.Channel.sendChannelOpen(Channel.java:765)\r\n        at com.jcraft.jsch.Channel.connect(Channel.java:151)\r\n        at com.jcraft.jsch.Channel.connect(Channel.java:145)\r\n\r\nThe code we use after the session has been created is:\r\n\r\n\tChannelExec channel = (ChannelExec) session.openChannel(&quot;exec&quot;);\r\n\tchannel.setCommand(&quot;echo hello&quot;);\r\n\tchannel.connect(); // Error here\r\n\r\nThe `Channel.connect()` call usually returns in under 100 ms, but when this error ocurrs the call hangs for more than 20 seconds before throwing the exception.","title":"com.jcraft.jsch.JSchException: channel is not opened when opening a channel in jsch","body":"<p>When connecting to a remote host using jsch version 0.1.51 we occasionally run into the following exception when calling <code>Channel.connect()</code> on a <code>ChannelExec</code>.</p>\n\n<pre><code>com.jcraft.jsch.JSchException: channel is not opened.\n    at com.jcraft.jsch.Channel.sendChannelOpen(Channel.java:765)\n    at com.jcraft.jsch.Channel.connect(Channel.java:151)\n    at com.jcraft.jsch.Channel.connect(Channel.java:145)\n</code></pre>\n\n<p>The code we use after the session has been created is:</p>\n\n<pre><code>ChannelExec channel = (ChannelExec) session.openChannel(\"exec\");\nchannel.setCommand(\"echo hello\");\nchannel.connect(); // Error here\n</code></pre>\n\n<p>The <code>Channel.connect()</code> call usually returns in under 100 ms, but when this error ocurrs the call hangs for more than 20 seconds before throwing the exception.</p>\n"},{"tags":["java","groovy"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1617310583,"post_id":66911380,"comment_id":118276562,"body_markdown":"double is a primitive type. primitive types can&#39;t be null","body":"double is a primitive type. primitive types can&#39;t be null"},{"owner":{"account_id":7126751,"reputation":4324,"user_id":5449431,"display_name":"Matias Bjarland"},"score":2,"creation_date":1617344533,"post_id":66911380,"comment_id":118283073,"body_markdown":"What stultuske said. Try using `Double` instead of `double`.","body":"What stultuske said. Try using <code>Double</code> instead of <code>double</code>."}],"answers":[{"tags":[],"owner":{"account_id":8306545,"reputation":47696,"user_id":6243352,"display_name":"ggorlen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647841804,"creation_date":1647841804,"answer_id":71553279,"question_id":66911380,"body_markdown":"As mentioned in the comments (and as the error message itself states), the error is that your possibly-null properties are being assigned to the primitive type `double`, which can&#39;t be null.\r\n\r\nIf you use the boxed type `Double`, that&#39;ll solve the problem since `Double` can be null.\r\n\r\n```groovy\r\nDouble n = null; // no problem\r\ndouble n = null; // Cannot cast object &#39;null&#39; with class ...\r\n```\r\n\r\nAs an aside, this error can arise in other cases, such as forgetting a return value, which implicitly returns null from a function that&#39;s declared to return a primitive type:\r\n\r\n```groovy\r\nstatic double gonnaFail() {\r\n  // Cannot cast object &#39;null&#39; with class ...\r\n}\r\n```","title":"Groovy: Cannot cast object &#39;null&#39; with class &#39;null&#39; to class &#39;double&#39;. Try &#39;java.lang.Double&#39; instead","body":"<p>As mentioned in the comments (and as the error message itself states), the error is that your possibly-null properties are being assigned to the primitive type <code>double</code>, which can't be null.</p>\n<p>If you use the boxed type <code>Double</code>, that'll solve the problem since <code>Double</code> can be null.</p>\n<pre><code>Double n = null; // no problem\ndouble n = null; // Cannot cast object 'null' with class ...\n</code></pre>\n<p>As an aside, this error can arise in other cases, such as forgetting a return value, which implicitly returns null from a function that's declared to return a primitive type:</p>\n<pre><code>static double gonnaFail() {\n  // Cannot cast object 'null' with class ...\n}\n</code></pre>\n"}],"owner":{"account_id":17349157,"reputation":33,"user_id":12802885,"display_name":"Luiz Carlos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1765,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71553279,"answer_count":1,"score":2,"last_activity_date":1647841804,"creation_date":1617310219,"question_id":66911380,"body_markdown":"I have this code for a system which accepts only groovy for customization, but every time I try to submit my form it returns this error:\r\n\r\n&gt;**Cannot cast object &#39;null&#39; with class &#39;null&#39; to class &#39;double&#39;. Try &#39;java.lang.Double&#39; instead**\r\n\r\n\r\n```\r\ntry {\r\n    double valorOriginal = (double) fieldChanges.getFieldChange(MetafieldIdFactory.valueOf(&quot;customFlexFields.rateCustomDFF_rate_amount_original&quot;))?.newValue;\r\n    double porcentagem = (double) fieldChanges.getFieldChange(MetafieldIdFactory.valueOf(&quot;customFlexFields.rateCustomDFF_desconto_percentual&quot;))?.newValue;\r\n    double rateAmount = fieldChanges.getFieldChange(MetafieldIdFactory.valueOf(&quot;rateAmount&quot;))?.newValue;\r\n    boolean flagDesconto = (boolean) fieldChanges.getFieldChange(MetafieldIdFactory.valueOf(&quot;customFlexFields.rateCustomDFF_flag_desconto_percentual&quot;))?.newValue;\r\n\r\n    if (porcentagem &gt;= 100)\r\n        throw BizFailure.createProgrammingFailure(&quot;Desconto nao pode ser igual ou superior a 100!&quot;);\r\n    if (valorOriginal == null || valorOriginal &lt;= 0)\r\n        throw BizFailure.createProgrammingFailure(&quot;Favor informar o valor original&quot;);\r\n\r\n    if(flagDesconto == true){\r\n        rateAmount = valorOriginal - (valorOriginal * porcentagem)/100;\r\n    }\r\n}catch(Exception ex){\r\n    throw BizFailure.createProgrammingFailure(ex.getMessage().toString());\r\n}\r\n```","title":"Groovy: Cannot cast object &#39;null&#39; with class &#39;null&#39; to class &#39;double&#39;. Try &#39;java.lang.Double&#39; instead","body":"<p>I have this code for a system which accepts only groovy for customization, but every time I try to submit my form it returns this error:</p>\n<blockquote>\n<p><strong>Cannot cast object 'null' with class 'null' to class 'double'. Try 'java.lang.Double' instead</strong></p>\n</blockquote>\n<pre><code>try {\n    double valorOriginal = (double) fieldChanges.getFieldChange(MetafieldIdFactory.valueOf(&quot;customFlexFields.rateCustomDFF_rate_amount_original&quot;))?.newValue;\n    double porcentagem = (double) fieldChanges.getFieldChange(MetafieldIdFactory.valueOf(&quot;customFlexFields.rateCustomDFF_desconto_percentual&quot;))?.newValue;\n    double rateAmount = fieldChanges.getFieldChange(MetafieldIdFactory.valueOf(&quot;rateAmount&quot;))?.newValue;\n    boolean flagDesconto = (boolean) fieldChanges.getFieldChange(MetafieldIdFactory.valueOf(&quot;customFlexFields.rateCustomDFF_flag_desconto_percentual&quot;))?.newValue;\n\n    if (porcentagem &gt;= 100)\n        throw BizFailure.createProgrammingFailure(&quot;Desconto nao pode ser igual ou superior a 100!&quot;);\n    if (valorOriginal == null || valorOriginal &lt;= 0)\n        throw BizFailure.createProgrammingFailure(&quot;Favor informar o valor original&quot;);\n\n    if(flagDesconto == true){\n        rateAmount = valorOriginal - (valorOriginal * porcentagem)/100;\n    }\n}catch(Exception ex){\n    throw BizFailure.createProgrammingFailure(ex.getMessage().toString());\n}\n</code></pre>\n"},{"tags":["java","spring-boot","asynchronous"],"comments":[{"owner":{"account_id":10470529,"reputation":365,"user_id":7718524,"display_name":"Ketan Suthar"},"score":0,"creation_date":1647518920,"post_id":71511946,"comment_id":126394064,"body_markdown":"getAsyncExecutor() method should have @Bean annotation on it. look [here](https://www.baeldung.com/spring-async) for more details","body":"getAsyncExecutor() method should have @Bean annotation on it. look <a href=\"https://www.baeldung.com/spring-async\" rel=\"nofollow noreferrer\">here</a> for more details"},{"owner":{"account_id":2390644,"reputation":4058,"user_id":2090555,"accept_rate":83,"display_name":"Himanshu Bhardwaj"},"score":0,"creation_date":1647525603,"post_id":71511946,"comment_id":126396741,"body_markdown":"Code you have pasted isn&#39;t ok. obj is not spring managed as per your code.","body":"Code you have pasted isn&#39;t ok. obj is not spring managed as per your code."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1647529935,"post_id":71511946,"comment_id":126398774,"body_markdown":"Multiple things are wrong here. 1, you are creating an instance outside of the scope of Spring, no proxies, no aop, no async, 2. it is an internal method call that will not pass through the proxy, again no async.","body":"Multiple things are wrong here. 1, you are creating an instance outside of the scope of Spring, no proxies, no aop, no async, 2. it is an internal method call that will not pass through the proxy, again no async."},{"owner":{"account_id":24588799,"reputation":1,"user_id":18492978,"display_name":"Devivek"},"score":0,"creation_date":1647841330,"post_id":71511946,"comment_id":126463452,"body_markdown":"@M.Deinum Edited the code. As I mentioned \\@Async is working fine when I &quot;obj.methodB()&quot; is used but not with &quot;obj.methodA()&quot;. As I know we cannot call the \\@Async method from the same class. But in my case I cant annotate methodA() with \\@Async as in future I may introduced other child class which I need to run synchronously.","body":"@M.Deinum Edited the code. As I mentioned \\@Async is working fine when I &quot;obj.methodB()&quot; is used but not with &quot;obj.methodA()&quot;. As I know we cannot call the \\@Async method from the same class. But in my case I cant annotate methodA() with \\@Async as in future I may introduced other child class which I need to run synchronously."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647844818,"post_id":71511946,"comment_id":126464037,"body_markdown":"You &quot;fixed&quot; 1, option 2 still applies. This simply isn&#39;t going to work, unless you go full-blown AspectJ with either load or compile time weaving. Which is more powerful than proxy based AOP but also harder to setup right (in my experience). So I would strongly suggest to find another way, as your solution won&#39;t work.","body":"You &quot;fixed&quot; 1, option 2 still applies. This simply isn&#39;t going to work, unless you go full-blown AspectJ with either load or compile time weaving. Which is more powerful than proxy based AOP but also harder to setup right (in my experience). So I would strongly suggest to find another way, as your solution won&#39;t work."}],"owner":{"account_id":24588799,"reputation":1,"user_id":18492978,"display_name":"Devivek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":890,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647840825,"creation_date":1647518438,"question_id":71511946,"body_markdown":"I want my method to execute asynchronously without blocking the main thread.\r\nFor that purpose I did the required changes in order to use Spring boot @Asycn annotations.\r\n\r\n 1. Added `@EnableAsync()` in the main application class with `@SpringBootApplication`.\r\n 2. Implemented custom `AsyncConfig`\r\n\r\n        public class AsyncConfig extends AsyncConfigurerSupport {\r\n        @Lazy   \r\n        @Autowired  \r\n        private AsyncExceptionHandler asyncExceptionHandler;\r\n\r\n        @Override  \r\n        public Executor getAsyncExecutor() {  \r\n          ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();  \r\n          taskExecutor.setCorePoolSize(5);  \r\n          taskExecutor.setMaxPoolSize(10);  \r\n          taskExecutor.setQueueCapacity(500);  \r\n          taskExecutor.setThreadNamePrefix(&quot;async-thread-event-app&quot;);  \r\n          taskExecutor.initialize();  \r\n          return super.getAsyncExecutor();  \r\n        }\r\n\r\n        @Override\r\n        public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {  \r\n          return asyncExceptionHandler;  \r\n        }\r\n        }\r\n\r\n\r\n3. Added `@Async` over the intended method.\r\n\r\nThis was working fine when I was calling a normal method.\r\n\r\n\r\nBut it is not executing asynchronously in following scenario:\r\n1. I have a parent class `A`\r\n\r\n        class A {  \r\n            public void methodA(){  \r\n                methodB();\r\n            }\r\n\r\n            //This need to be implemented in the child step.  \r\n            @Async\r\n            public void methodB(){\r\n            }\r\n        }\r\n\r\n2. child class `B`\r\n\r\n        class B extends A{\r\n          @Async\r\n          public void methodB(){}\r\n        }\r\n\r\n3. Calling `methodA()` of parent class `A` from @Controller class.  \r\n   \r\n\r\n    @Autowired\r\n      private B obj;\r\n    \r\n            @PutMapping(path = &quot;/test-async&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n      public String reprocessPurchaseOrders() {\r\n    \r\n        long start = System.currentTimeMillis();\r\n        obj.methodA();\r\n        long end = System.currentTimeMillis();\r\n        System.out.println(&quot;solanki performAsyncAction took &quot; + (end - start) + &quot; milliseconds ! and the current Thread is : &quot; + Thread.currentThread().getName());\r\n       return &quot;&quot;;\r\n      }\r\n\r\n\r\nIf I called `obj.methodB()`, it is working fine but not with above statement.\r\nCan anyone help me this is happening?\r\nAs per my current implementation, I need `methodA()` to run before `methodB()`.\r\n","title":"Spring boot @Async not working when overridden method is being called from super class","body":"<p>I want my method to execute asynchronously without blocking the main thread.\nFor that purpose I did the required changes in order to use Spring boot @Asycn annotations.</p>\n<ol>\n<li><p>Added <code>@EnableAsync()</code> in the main application class with <code>@SpringBootApplication</code>.</p>\n</li>\n<li><p>Implemented custom <code>AsyncConfig</code></p>\n<pre><code>public class AsyncConfig extends AsyncConfigurerSupport {\n@Lazy   \n@Autowired  \nprivate AsyncExceptionHandler asyncExceptionHandler;\n\n@Override  \npublic Executor getAsyncExecutor() {  \n  ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();  \n  taskExecutor.setCorePoolSize(5);  \n  taskExecutor.setMaxPoolSize(10);  \n  taskExecutor.setQueueCapacity(500);  \n  taskExecutor.setThreadNamePrefix(&quot;async-thread-event-app&quot;);  \n  taskExecutor.initialize();  \n  return super.getAsyncExecutor();  \n}\n\n@Override\npublic AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {  \n  return asyncExceptionHandler;  \n}\n}\n</code></pre>\n</li>\n<li><p>Added <code>@Async</code> over the intended method.</p>\n</li>\n</ol>\n<p>This was working fine when I was calling a normal method.</p>\n<p>But it is not executing asynchronously in following scenario:</p>\n<ol>\n<li><p>I have a parent class <code>A</code></p>\n<pre><code> class A {  \n     public void methodA(){  \n         methodB();\n     }\n\n     //This need to be implemented in the child step.  \n     @Async\n     public void methodB(){\n     }\n }\n</code></pre>\n</li>\n<li><p>child class <code>B</code></p>\n<pre><code> class B extends A{\n   @Async\n   public void methodB(){}\n }\n</code></pre>\n</li>\n<li><p>Calling <code>methodA()</code> of parent class <code>A</code> from @Controller class.</p>\n<p>@Autowired\nprivate B obj;</p>\n<pre><code>     @PutMapping(path = &quot;/test-async&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n</code></pre>\n<p>public String reprocessPurchaseOrders() {</p>\n<pre><code> long start = System.currentTimeMillis();\n obj.methodA();\n long end = System.currentTimeMillis();\n System.out.println(&quot;solanki performAsyncAction took &quot; + (end - start) + &quot; milliseconds ! and the current Thread is : &quot; + Thread.currentThread().getName());\nreturn &quot;&quot;;\n</code></pre>\n<p>}</p>\n</li>\n</ol>\n<p>If I called <code>obj.methodB()</code>, it is working fine but not with above statement.\nCan anyone help me this is happening?\nAs per my current implementation, I need <code>methodA()</code> to run before <code>methodB()</code>.</p>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":2933453,"reputation":81,"user_id":2512997,"display_name":"user2512997"},"score":0,"creation_date":1669779509,"post_id":71553146,"comment_id":131718552,"body_markdown":"Were you able to resolve this? I am seeing the same at debug level. This message seems harmless to the API as the API is working well\nIs this a false alarm which apache tomcat should fix or should something be fixed in the project for teh case to not happen?","body":"Were you able to resolve this? I am seeing the same at debug level. This message seems harmless to the API as the API is working well Is this a false alarm which apache tomcat should fix or should something be fixed in the project for teh case to not happen?"},{"owner":{"account_id":14105445,"reputation":11,"user_id":10189637,"display_name":"Deshan"},"score":0,"creation_date":1671769742,"post_id":71553146,"comment_id":132172828,"body_markdown":"@user2512997 no it is a harmless logs and i had 2 ways of changing log level one using spring-boot acctuator&#39;s loggers  another one is i had written a rest endpoint that makes use of LoggerContext and i would set loglevel using ch.qos.logback.classic.Logger lLogger  object","body":"@user2512997 no it is a harmless logs and i had 2 ways of changing log level one using spring-boot acctuator&#39;s loggers  another one is i had written a rest endpoint that makes use of LoggerContext and i would set loglevel using ch.qos.logback.classic.Logger lLogger  object"}],"owner":{"account_id":14105445,"reputation":11,"user_id":10189637,"display_name":"Deshan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647840695,"creation_date":1647840482,"question_id":71553146,"body_markdown":"I am on my learning path using SpringBoot &amp; Actuator I have tried to modify the log level during run time.\r\n\r\n```\r\ncurl -i -X POST -H &#39;Content-Type: application/json&#39; -d &#39;{&quot;configuredLevel&quot;: &quot;DEBUG&quot;}&#39; http://localhost:8080/actuator/loggers/ROOT\r\n```\r\n\r\nI was able to change log level of all classes without any error, but when I tried to change log level of `ROOT` to `DEBUG`, I am getting this Debug message on the console window. Please help with this issue. Thank you.\r\n\r\n```\r\n01:05:03.635 [http-nio-8080-exec-6] DEBUG o.a.coyote.http11.Http11Processor - Error state [CLOSE_CONNECTION_NOW] reported while processing request\r\njava.io.EOFException: null\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1331)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1218)\r\n\tat org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:805)\r\n\tat org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:360)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n01:05:03.636 [http-nio-8080-exec-6] DEBUG o.a.coyote.http11.Http11Processor - Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@6ecb5498:org.apache.tomcat.util.net.NioChannel@74d10d9c:java.nio.channels.SocketChannel[connected local=/0:0:0:0:0:0:0:1:8080 remote=/0:0:0:0:0:0:0:1:53630]], Status in: [OPEN_READ], State out: [CLOSED]\r\n01:05:03.636 [http-nio-8080-exec-6] DEBUG o.a.coyote.http11.Http11NioProtocol - Pushed Processor [org.apache.coyote.http11.Http11Processor@78a7bf9d]\r\n```","title":"EOFException: null Observed while changing log level of ROOT to Debug dynamically on RunTime using Spring Boot Actuator","body":"<p>I am on my learning path using SpringBoot &amp; Actuator I have tried to modify the log level during run time.</p>\n<pre><code>curl -i -X POST -H 'Content-Type: application/json' -d '{&quot;configuredLevel&quot;: &quot;DEBUG&quot;}' http://localhost:8080/actuator/loggers/ROOT\n</code></pre>\n<p>I was able to change log level of all classes without any error, but when I tried to change log level of <code>ROOT</code> to <code>DEBUG</code>, I am getting this Debug message on the console window. Please help with this issue. Thank you.</p>\n<pre><code>01:05:03.635 [http-nio-8080-exec-6] DEBUG o.a.coyote.http11.Http11Processor - Error state [CLOSE_CONNECTION_NOW] reported while processing request\njava.io.EOFException: null\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.fillReadBuffer(NioEndpoint.java:1331)\n    at org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper.read(NioEndpoint.java:1218)\n    at org.apache.coyote.http11.Http11InputBuffer.fill(Http11InputBuffer.java:805)\n    at org.apache.coyote.http11.Http11InputBuffer.parseRequestLine(Http11InputBuffer.java:360)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:271)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1735)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:750)\n01:05:03.636 [http-nio-8080-exec-6] DEBUG o.a.coyote.http11.Http11Processor - Socket: [org.apache.tomcat.util.net.NioEndpoint$NioSocketWrapper@6ecb5498:org.apache.tomcat.util.net.NioChannel@74d10d9c:java.nio.channels.SocketChannel[connected local=/0:0:0:0:0:0:0:1:8080 remote=/0:0:0:0:0:0:0:1:53630]], Status in: [OPEN_READ], State out: [CLOSED]\n01:05:03.636 [http-nio-8080-exec-6] DEBUG o.a.coyote.http11.Http11NioProtocol - Pushed Processor [org.apache.coyote.http11.Http11Processor@78a7bf9d]\n</code></pre>\n"},{"tags":["java","swing","visual-studio-code"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":2,"creation_date":1643944399,"post_id":70980150,"comment_id":125479892,"body_markdown":"Just an FYI. Netbeans, IntelliJ &amp; Eclipse are all free to download and use. It&#39;s likely all three will run Java code effortlessly, and in case there is a problem, there will be far more people willing &amp; able to help.","body":"Just an FYI. Netbeans, IntelliJ &amp; Eclipse are all free to download and use. It&#39;s likely all three will run Java code effortlessly, and in case there is a problem, there will be far more people willing &amp; able to help."}],"answers":[{"tags":[],"owner":{"account_id":20235680,"reputation":41,"user_id":14840970,"display_name":"john94"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647840409,"creation_date":1647840409,"answer_id":71553135,"question_id":70980150,"body_markdown":"I got the same message in vs code but importing ```java.awt.event.ActionListener``` should work.","title":"ActionListener not resolved on VSCode","body":"<p>I got the same message in vs code but importing <code>java.awt.event.ActionListener</code> should work.</p>\n"}],"owner":{"account_id":20081113,"reputation":59,"user_id":14723731,"display_name":"CosmosLee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":701,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647840409,"creation_date":1643934862,"question_id":70980150,"body_markdown":"I&#39;m getting into JFrame.\r\n\r\nI&#39;m trying to implement *ActionListener* but my VSCode keeps saying &quot;type cant&#39;t resolve&quot; and either change it into *AncestorListener* or *Create an ActionListener Class*.\r\n\r\nSo I thought it maybe the complier and extensions are messing with it (I have alot of extension on VSC). I changed to IJ and it worked there is *ActionListener* working.\r\n\r\nSo now I thought about the versions (I have two versions 8 and 16). I changed the versions on IJ and *ActionListener* would still work on IJ.\r\n\r\nSo I when back to VSCode, uninstalled the un-needed extensions and changed the versions, It still won&#39;t work. I changed it to *Action* class and so far so good.\r\n\r\nAfterwhich, I restart my machine, restart VSCode it suddenly have ActionListener now, I changed the versions of Java and it still work on VSCode. Re-installed all the extensions and *ActionListener* still worked.\r\n\r\nNow I&#39;m wondering what happened, is it because i changed the versions so quickly VSCode doesn&#39;t update fast enough or there is something else *(I&#39;m sorry for the wording if it is not clear and I&#39;m sorry if there is no pictures or code)*","title":"ActionListener not resolved on VSCode","body":"<p>I'm getting into JFrame.</p>\n<p>I'm trying to implement <em>ActionListener</em> but my VSCode keeps saying &quot;type cant't resolve&quot; and either change it into <em>AncestorListener</em> or <em>Create an ActionListener Class</em>.</p>\n<p>So I thought it maybe the complier and extensions are messing with it (I have alot of extension on VSC). I changed to IJ and it worked there is <em>ActionListener</em> working.</p>\n<p>So now I thought about the versions (I have two versions 8 and 16). I changed the versions on IJ and <em>ActionListener</em> would still work on IJ.</p>\n<p>So I when back to VSCode, uninstalled the un-needed extensions and changed the versions, It still won't work. I changed it to <em>Action</em> class and so far so good.</p>\n<p>Afterwhich, I restart my machine, restart VSCode it suddenly have ActionListener now, I changed the versions of Java and it still work on VSCode. Re-installed all the extensions and <em>ActionListener</em> still worked.</p>\n<p>Now I'm wondering what happened, is it because i changed the versions so quickly VSCode doesn't update fast enough or there is something else <em>(I'm sorry for the wording if it is not clear and I'm sorry if there is no pictures or code)</em></p>\n"},{"tags":["java","android","jcenter"],"comments":[{"owner":{"account_id":1363888,"reputation":10679,"user_id":1300730,"accept_rate":79,"display_name":"Eldad Assis"},"score":1,"creation_date":1647807468,"post_id":71550250,"comment_id":126458418,"body_markdown":"Does https://developer.android.com/studio/build/jcenter-migration answer this?","body":"Does <a href=\"https://developer.android.com/studio/build/jcenter-migration\" rel=\"nofollow noreferrer\">developer.android.com/studio/build/jcenter-migration</a> answer this?"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1647807542,"post_id":71550250,"comment_id":126458432,"body_markdown":"&quot;But jcenter is shutting down&quot; -- JCenter is pledging to stay open for legacy artifacts like this indefinitely. However, that library has not been updated in nearly six years, so you should be looking for some alternative library anyway.","body":"&quot;But jcenter is shutting down&quot; -- JCenter is pledging to stay open for legacy artifacts like this indefinitely. However, that library has not been updated in nearly six years, so you should be looking for some alternative library anyway."}],"answers":[{"tags":[],"owner":{"account_id":22564906,"reputation":3594,"user_id":17133283,"display_name":"Sambhav Khandelwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647839012,"creation_date":1647839012,"answer_id":71553033,"question_id":71550250,"body_markdown":"You can use it as a jitpick library.\r\n\r\nTo implement , follow the steps:\r\n\r\n1. Add it to you `settings.gradle` file:\r\n```\r\nmaven { url &#39;https://jitpack.io&#39; }\r\n``` \r\n\r\n2. Add this to your `build.gradle`:\r\n```\r\nimplementation &#39;com.github.flschweiger:SwipeStack:0.3.0&#39;\r\n```\r\n\r\nIt is very easy to use. This will now build.","title":"jcenter() is shutting down now, please tell me how can I use - &quot;link.fls:swipestack:0.3.0&quot; -this library?","body":"<p>You can use it as a jitpick library.</p>\n<p>To implement , follow the steps:</p>\n<ol>\n<li>Add it to you <code>settings.gradle</code> file:</li>\n</ol>\n<pre><code>maven { url 'https://jitpack.io' }\n</code></pre>\n<ol start=\"2\">\n<li>Add this to your <code>build.gradle</code>:</li>\n</ol>\n<pre><code>implementation 'com.github.flschweiger:SwipeStack:0.3.0'\n</code></pre>\n<p>It is very easy to use. This will now build.</p>\n"}],"owner":{"account_id":14688496,"reputation":15,"user_id":10607820,"display_name":"MK Roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71553033,"answer_count":1,"score":1,"last_activity_date":1647839012,"creation_date":1647806789,"question_id":71550250,"body_markdown":"I am new in Android Studio. I want to use a library:\r\n\r\n    implementation &#39;link.fls:swipestack:0.3.0&#39;\r\nBut error comes up \r\n\r\n&gt; Failed to resolve: link.fls:swipestack:0.3.0\r\n\r\nIt need Jcenter(). But jcenter is shutting down. Then how can I use the library?","title":"jcenter() is shutting down now, please tell me how can I use - &quot;link.fls:swipestack:0.3.0&quot; -this library?","body":"<p>I am new in Android Studio. I want to use a library:</p>\n<pre><code>implementation 'link.fls:swipestack:0.3.0'\n</code></pre>\n<p>But error comes up</p>\n<blockquote>\n<p>Failed to resolve: link.fls:swipestack:0.3.0</p>\n</blockquote>\n<p>It need Jcenter(). But jcenter is shutting down. Then how can I use the library?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":0,"creation_date":1647824763,"post_id":71551838,"comment_id":126461155,"body_markdown":"Hi @BenBerinsky - your code doesn&#39;t call the `findLetter` method?","body":"Hi @BenBerinsky - your code doesn&#39;t call the <code>findLetter</code> method?"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647825604,"creation_date":1647825604,"answer_id":71551912,"question_id":71551838,"body_markdown":"The first mistake is in `findLetter` where you have\r\n\r\n    count = count++; // this is effectively count = count;\r\n\r\nThat should be\r\n\r\n    count++; // or count = count + 1;\r\n\r\nThen you aren&#39;t calling `findLetter`. Change your current `println` to something like\r\n\r\n    System.out.printf(&quot;%s contains %s %d times.%n&quot;, message, letter, \r\n            test.findLetter(letter, message));\r\n\r\nWith no other changes, I then get\r\n\r\n    Apples and Oranges contains p 2 times.\r\n","title":"Return the number of times a character shows up in a string","body":"<p>The first mistake is in <code>findLetter</code> where you have</p>\n<pre><code>count = count++; // this is effectively count = count;\n</code></pre>\n<p>That should be</p>\n<pre><code>count++; // or count = count + 1;\n</code></pre>\n<p>Then you aren't calling <code>findLetter</code>. Change your current <code>println</code> to something like</p>\n<pre><code>System.out.printf(&quot;%s contains %s %d times.%n&quot;, message, letter, \n        test.findLetter(letter, message));\n</code></pre>\n<p>With no other changes, I then get</p>\n<pre><code>Apples and Oranges contains p 2 times.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24230693,"reputation":26,"user_id":18184495,"display_name":"VillySO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647838183,"creation_date":1647826803,"answer_id":71551996,"question_id":71551838,"body_markdown":"To complete the answer given by Elliott Frisch, your function has the first parameter wrong it is an char instead of a string and given that, you need to change the way you are finding the char in the string by using the function charAt to make it more simple (https://www.w3schools.com/java/ref_string_charat.asp). It’s not a mandatory change, but I think it makes more sense.\r\n\r\n    public class StringFind {\r\n        /** findLetter looks for a letter in a String\r\n         * @param String letter to look for\r\n         * @param String text to look in\r\n         * @return boolean true if letter is in text\r\n         * After running the code, change this method to return\r\n         * an int count of how many times letter is in the text.\r\n         */\r\n        public int findLetter(char letter, String text)\r\n        {\r\n            int count = 0;\r\n            for(int i=0; i &lt; text.length(); i++)\r\n            {    if(text.charAt(i) == letter)\r\n                count++;\r\n            }\r\n\r\n\r\n            return(count);\r\n\r\n        }\r\n\r\n        public static void main(String args[])\r\n        {\r\n            StringFind test = new StringFind();\r\n            String message = &quot;Apples and Oranges&quot;;\r\n            Character letter = &#39;p&#39;;\r\n            System.out.printf(&quot;%s contains %s %d times.%n&quot;, message, letter, test.findLetter(letter, message));\r\n        }\r\n    }\r\n\r\n ","title":"Return the number of times a character shows up in a string","body":"<p>To complete the answer given by Elliott Frisch, your function has the first parameter wrong it is an char instead of a string and given that, you need to change the way you are finding the char in the string by using the function charAt to make it more simple (<a href=\"https://www.w3schools.com/java/ref_string_charat.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/java/ref_string_charat.asp</a>). It’s not a mandatory change, but I think it makes more sense.</p>\n<pre><code>public class StringFind {\n    /** findLetter looks for a letter in a String\n     * @param String letter to look for\n     * @param String text to look in\n     * @return boolean true if letter is in text\n     * After running the code, change this method to return\n     * an int count of how many times letter is in the text.\n     */\n    public int findLetter(char letter, String text)\n    {\n        int count = 0;\n        for(int i=0; i &lt; text.length(); i++)\n        {    if(text.charAt(i) == letter)\n            count++;\n        }\n\n\n        return(count);\n\n    }\n\n    public static void main(String args[])\n    {\n        StringFind test = new StringFind();\n        String message = &quot;Apples and Oranges&quot;;\n        Character letter = 'p';\n        System.out.printf(&quot;%s contains %s %d times.%n&quot;, message, letter, test.findLetter(letter, message));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24622752,"reputation":3,"user_id":18522856,"display_name":"BENJAMIN BERINSKY"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71551912,"answer_count":2,"score":0,"last_activity_date":1647838377,"creation_date":1647824459,"question_id":71551838,"body_markdown":"    public class StringFind {\r\n\r\n       /** findLetter looks for a letter in a String\r\n        * @param String letter to look for\r\n        * @param String text to look in\r\n        * @return boolean true if letter is in text\r\n        * After running the code, change this method to return\r\n        * an int count of how many times letter is in the text.\r\n        */\r\n        public int findLetter(String letter, String text) {\r\n            int count = 0;\r\n            for(int i=0; i &lt; text.length(); i++) {\r\n                if (text.substring(i, i+1).equalsIgnoreCase(letter)) {         \r\n                    count = count++;\r\n                }\r\n            }\r\n             \r\n            return(count);\r\n        }\r\n    \r\n        public static void main(String args[]) {\r\n            StringFind test = new StringFind();\r\n            String message = &quot;Apples and Oranges&quot;;\r\n            String letter = &quot;p&quot;;\r\n            System.out.println(&quot;Does &quot; + message +  &quot; contain a &quot; + letter + &quot;?&quot;);\r\n        }\r\n    }\r\n\r\nThere is an error with this code and I am not sure how to fix it. This code is supposed to return the number of times a letter shows up in a message that the user inputs. I have struggled to figure out what I need to change without error.","title":"Return the number of times a character shows up in a string","body":"<pre><code>public class StringFind {\n\n   /** findLetter looks for a letter in a String\n    * @param String letter to look for\n    * @param String text to look in\n    * @return boolean true if letter is in text\n    * After running the code, change this method to return\n    * an int count of how many times letter is in the text.\n    */\n    public int findLetter(String letter, String text) {\n        int count = 0;\n        for(int i=0; i &lt; text.length(); i++) {\n            if (text.substring(i, i+1).equalsIgnoreCase(letter)) {         \n                count = count++;\n            }\n        }\n         \n        return(count);\n    }\n\n    public static void main(String args[]) {\n        StringFind test = new StringFind();\n        String message = &quot;Apples and Oranges&quot;;\n        String letter = &quot;p&quot;;\n        System.out.println(&quot;Does &quot; + message +  &quot; contain a &quot; + letter + &quot;?&quot;);\n    }\n}\n</code></pre>\n<p>There is an error with this code and I am not sure how to fix it. This code is supposed to return the number of times a letter shows up in a message that the user inputs. I have struggled to figure out what I need to change without error.</p>\n"},{"tags":["java","math","processing"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1639184208,"post_id":70311523,"comment_id":124291751,"body_markdown":"Which values of i produce the incorrect lines?","body":"Which values of i produce the incorrect lines?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":3,"creation_date":1639184675,"post_id":70311523,"comment_id":124291818,"body_markdown":"You are using integer divising: 3/2 == 1. Change it to 3.0/2 or simply 1.5.","body":"You are using integer divising: 3/2 == 1. Change it to 3.0/2 or simply 1.5."}],"answers":[{"tags":[],"owner":{"account_id":10160160,"reputation":2213,"user_id":7503887,"display_name":"phentnil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647838126,"creation_date":1647838126,"answer_id":71552937,"question_id":70311523,"body_markdown":"The reason you are getting these erroneous values (as [Joop Eggen][1] pointed out) is that you&#39;re using integer division in some of your values:\r\n\r\n```java\r\nfloat[] xs = { ... sqrt(3/2) ... sqrt(3/2)};\r\n```\r\n\r\nChange these to the following and it should resolve your issue:\r\n\r\n```java\r\nfloat[] xs = { ... sqrt((float) 3/2) ... sqrt((float) 3/2)};\r\n```\r\n\r\nAll the other calculations perform float division, so no need to adjust them particularly. Full code with these changes applied:\r\n\r\n```java\r\nfloat r = 300;\r\nfloat[] xs = {1, sqrt((float) 3/2), sqrt(2)/2, .5,        0, -.5,      -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5,         0, .5,          sqrt(2)/2, sqrt((float) 3/2)};\r\nfloat[] ys = {0, .5,        sqrt(2)/2, sqrt(3)/2, 1, sqrt(3)/2, sqrt(2)/2, .5,          0, -.5,        -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5};\r\n\r\nvoid setup() {\r\n  size(900, 900);\r\n  background(0);\r\n  noFill();\r\n  stroke(255);\r\n  strokeWeight(4);\r\n  textAlign(CENTER, CENTER);\r\n}\r\n\r\nvoid draw() {\r\n  background(0);\r\n  translate(width / 2, height / 2);\r\n  circle(0,0,r * 2);\r\n  for (int i = 0; i &lt; xs.length; i++) {\r\n    line(0, 0, xs[i] * r, ys[i] * r);\r\n  }  \r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/984823","title":"Unit Circle Animation setting X as 1 three times instead of 1","body":"<p>The reason you are getting these erroneous values (as <a href=\"https://stackoverflow.com/users/984823\">Joop Eggen</a> pointed out) is that you're using integer division in some of your values:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float[] xs = { ... sqrt(3/2) ... sqrt(3/2)};\n</code></pre>\n<p>Change these to the following and it should resolve your issue:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float[] xs = { ... sqrt((float) 3/2) ... sqrt((float) 3/2)};\n</code></pre>\n<p>All the other calculations perform float division, so no need to adjust them particularly. Full code with these changes applied:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float r = 300;\nfloat[] xs = {1, sqrt((float) 3/2), sqrt(2)/2, .5,        0, -.5,      -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5,         0, .5,          sqrt(2)/2, sqrt((float) 3/2)};\nfloat[] ys = {0, .5,        sqrt(2)/2, sqrt(3)/2, 1, sqrt(3)/2, sqrt(2)/2, .5,          0, -.5,        -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5};\n\nvoid setup() {\n  size(900, 900);\n  background(0);\n  noFill();\n  stroke(255);\n  strokeWeight(4);\n  textAlign(CENTER, CENTER);\n}\n\nvoid draw() {\n  background(0);\n  translate(width / 2, height / 2);\n  circle(0,0,r * 2);\n  for (int i = 0; i &lt; xs.length; i++) {\n    line(0, 0, xs[i] * r, ys[i] * r);\n  }  \n}\n</code></pre>\n"}],"owner":{"account_id":18004757,"reputation":19,"user_id":13085815,"display_name":"Tristen Gordon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71552937,"answer_count":1,"score":1,"last_activity_date":1647838126,"creation_date":1639179906,"question_id":70311523,"body_markdown":"I&#39;m doing a project about the unit circle and decided to code a visual representation in Java Processing, however when testing the code displays as the X value being 1 three times even though it&#39;s in the list of X values one time. Any ideas as to why?\r\n\r\nCode:\r\n```java\r\nfloat r = 300;\r\nfloat[] xs = {1, sqrt(3/2), sqrt(2)/2, .5,        0, -.5,      -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5,         0, .5,          sqrt(2)/2, sqrt(3/2)};\r\nfloat[] ys = {0, .5,        sqrt(2)/2, sqrt(3)/2, 1, sqrt(3)/2, sqrt(2)/2, .5,          0, -.5,        -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5};\r\n\r\nvoid setup() {\r\n  size(900, 900);\r\n  background(0);\r\n  noFill();\r\n  stroke(255);\r\n  strokeWeight(4);\r\n  textAlign(CENTER, CENTER);\r\n}\r\n\r\nvoid draw() {\r\n  background(0);\r\n  translate(width / 2, height / 2);\r\n  circle(0,0,r * 2);\r\n  for (int i = 0; i &lt; xs.length; i++) {\r\n    line(0, 0, xs[i] * r, ys[i] * r);\r\n  }  \r\n}\r\n```\r\n\r\n![What the result is][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iuO2E.png","title":"Unit Circle Animation setting X as 1 three times instead of 1","body":"<p>I'm doing a project about the unit circle and decided to code a visual representation in Java Processing, however when testing the code displays as the X value being 1 three times even though it's in the list of X values one time. Any ideas as to why?</p>\n<p>Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float r = 300;\nfloat[] xs = {1, sqrt(3/2), sqrt(2)/2, .5,        0, -.5,      -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5,         0, .5,          sqrt(2)/2, sqrt(3/2)};\nfloat[] ys = {0, .5,        sqrt(2)/2, sqrt(3)/2, 1, sqrt(3)/2, sqrt(2)/2, .5,          0, -.5,        -sqrt(2)/2, -sqrt(3)/2, -1, -sqrt(3)/2, -sqrt(2)/2, -.5};\n\nvoid setup() {\n  size(900, 900);\n  background(0);\n  noFill();\n  stroke(255);\n  strokeWeight(4);\n  textAlign(CENTER, CENTER);\n}\n\nvoid draw() {\n  background(0);\n  translate(width / 2, height / 2);\n  circle(0,0,r * 2);\n  for (int i = 0; i &lt; xs.length; i++) {\n    line(0, 0, xs[i] * r, ys[i] * r);\n  }  \n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/iuO2E.png\" alt=\"What the result is\" /></p>\n"},{"tags":["java","algorithm","recursion","n-queens"],"comments":[{"owner":{"account_id":1963769,"reputation":2063,"user_id":1764528,"accept_rate":85,"display_name":"DollarAkshay"},"score":0,"creation_date":1647808106,"post_id":71550363,"comment_id":126458566,"body_markdown":"Please format your code before posting. It helps with reading your code.","body":"Please format your code before posting. It helps with reading your code."},{"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"score":0,"creation_date":1647812287,"post_id":71550363,"comment_id":126459283,"body_markdown":"You should step through it for the smallest case that has wrong output. Arrays seem a more natural representation of a board.","body":"You should step through it for the smallest case that has wrong output. Arrays seem a more natural representation of a board."},{"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"score":0,"creation_date":1647812890,"post_id":71550363,"comment_id":126459393,"body_markdown":"Your solution should remove each col entry after your recursive call to &quot;function&quot; (which could be more descriptively named) to check child paths whether it succeeds or not.  Otherwise, your first valid placement prevents all other possible placements for that row.","body":"Your solution should remove each col entry after your recursive call to &quot;function&quot; (which could be more descriptively named) to check child paths whether it succeeds or not.  Otherwise, your first valid placement prevents all other possible placements for that row."}],"owner":{"account_id":19563586,"reputation":1,"user_id":14316293,"display_name":"warlock"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647838044,"creation_date":1647807698,"question_id":71550363,"body_markdown":"The n-queens puzzle is the problem of placing n queens on an n x n chessboard such that no two queens attack each other.\r\n\r\nGiven an integer n, return the number of distinct solutions to the n-queens puzzle.\r\n\r\nThis is my code for the n queens question. I cant find any error but my output keeps coming out to be 0. pls help\r\n```\r\nclass Solution \r\n{\r\n    public int totalNQueens(int n)\r\n {\r\n        List&lt;List&lt;Integer&gt;&gt; result=new ArrayList&lt;&gt;();\r\n        function(n,0,result,new ArrayList&lt;Integer&gt;());\r\n        return result.size();\r\n    }\r\n    \r\n    \r\n  public void function(int n, int row,List&lt;List&lt;Integer&gt;&gt; result,List&lt;Integer&gt; col)\r\n    {\r\n        if(n==row)\r\n        {\r\n            result.add(new ArrayList&lt;&gt;(col));\r\n        }\r\n        else\r\n        {\r\n            for(int i=0;i&lt;n;i++)\r\n            {\r\n                col.add(i);\r\n                if(isvalid(col))\r\n                {\r\n                 function(n,row+1,result,col);\r\n                }\r\n                else\r\n                    col.remove(col.size()-1);\r\n            }\r\n        }\r\n    }\r\n    \r\n    \r\n    public boolean isvalid(List&lt;Integer&gt; col)\r\n    {\r\n        // if(col.size()==1)\r\n        //     return true;\r\n        // int c=col.get(col.size()-1);\r\n        int r=col.size()-1;\r\n        for(int i=0;i&lt;r;i++)\r\n        {\r\n            if(col.get(r)==col.get(i) || Math.abs(i-r)==Math.abs(col.get(r)-col.get(i)))\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n}","title":"N-Queens 2 leetcode question different output","body":"<p>The n-queens puzzle is the problem of placing n queens on an n x n chessboard such that no two queens attack each other.</p>\n<p>Given an integer n, return the number of distinct solutions to the n-queens puzzle.</p>\n<p>This is my code for the n queens question. I cant find any error but my output keeps coming out to be 0. pls help</p>\n<pre><code>class Solution \n{\n    public int totalNQueens(int n)\n {\n        List&lt;List&lt;Integer&gt;&gt; result=new ArrayList&lt;&gt;();\n        function(n,0,result,new ArrayList&lt;Integer&gt;());\n        return result.size();\n    }\n    \n    \n  public void function(int n, int row,List&lt;List&lt;Integer&gt;&gt; result,List&lt;Integer&gt; col)\n    {\n        if(n==row)\n        {\n            result.add(new ArrayList&lt;&gt;(col));\n        }\n        else\n        {\n            for(int i=0;i&lt;n;i++)\n            {\n                col.add(i);\n                if(isvalid(col))\n                {\n                 function(n,row+1,result,col);\n                }\n                else\n                    col.remove(col.size()-1);\n            }\n        }\n    }\n    \n    \n    public boolean isvalid(List&lt;Integer&gt; col)\n    {\n        // if(col.size()==1)\n        //     return true;\n        // int c=col.get(col.size()-1);\n        int r=col.size()-1;\n        for(int i=0;i&lt;r;i++)\n        {\n            if(col.get(r)==col.get(i) || Math.abs(i-r)==Math.abs(col.get(r)-col.get(i)))\n                return false;\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","super","superclass"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1647837220,"post_id":71552712,"comment_id":126462932,"body_markdown":"You should probably also show the code of how you&#39;re using the class.","body":"You should probably also show the code of how you&#39;re using the class."}],"answers":[{"tags":[],"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647837816,"creation_date":1647837296,"answer_id":71552857,"question_id":71552712,"body_markdown":"You can resolve this by simply removing the duplicate variables `factoryName`, `employeeAmount` and `producedAmount` from your `SteelFactory` class, otherwise the class will use the local variables that were never initialized instead of the correct variables from the super class. One big reason for extending a class is so that we don&#39;t have to re-use/re-type the same variables and methods in multiple classes.\r\n\r\nAlso, don&#39;t forget to use `@Override` annotation, it helps you keep track of which methods have been extended and [helps prevent common mistakes][1].\r\n\r\nWorking code as follows:\r\n\r\n        static class SteelFactory extends Factory {\r\n            //Attributes:\r\n            int yearCreated; // the year the factory was made\r\n            \r\n            //Constructor: \r\n            public SteelFactory (String ifactoryName,int iemployeeAmount,int iproducedAmount,int iyearCreated) {\r\n                super ( ifactoryName, iemployeeAmount,iproducedAmount);\r\n                yearCreated = iyearCreated;\r\n            }\r\n            // Methods\r\n            @Override\r\n            public String getFactoryName() {\r\n                return (factoryName);\r\n            }\r\n            @Override\r\n            public int getEmployeeAmount() {\r\n                return (employeeAmount);\r\n            }\r\n            @Override\r\n            public int getProducedAmount() {\r\n                return (producedAmount);\r\n            }\r\n            @Override\r\n            public String toString () {\r\n                return (&quot;The Factory called &quot; + factoryName + &quot; with &quot; + employeeAmount + &quot;makes cars at a rate of &quot; + producedAmount + &quot;since the year &quot;+ yearCreated);\r\n            }\r\n        }   \r\n\r\nThen simply use:\r\n\r\n    SteelFactory test = new SteelFactory(&quot;Test&quot;, 78, 26, 2022);\r\n    System.out.println(test.toString());\r\n\r\nWill correctly print the following result (You&#39;ll need to fix your formatting to include spaces):\r\n\r\n    The Factory called Test with 78makes cars at a rate of 26since the year 2022\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/94361/when-do-you-use-javas-override-annotation-and-why","title":"Super class is not passing along values","body":"<p>You can resolve this by simply removing the duplicate variables <code>factoryName</code>, <code>employeeAmount</code> and <code>producedAmount</code> from your <code>SteelFactory</code> class, otherwise the class will use the local variables that were never initialized instead of the correct variables from the super class. One big reason for extending a class is so that we don't have to re-use/re-type the same variables and methods in multiple classes.</p>\n<p>Also, don't forget to use <code>@Override</code> annotation, it helps you keep track of which methods have been extended and <a href=\"https://stackoverflow.com/questions/94361/when-do-you-use-javas-override-annotation-and-why\">helps prevent common mistakes</a>.</p>\n<p>Working code as follows:</p>\n<pre><code>    static class SteelFactory extends Factory {\n        //Attributes:\n        int yearCreated; // the year the factory was made\n        \n        //Constructor: \n        public SteelFactory (String ifactoryName,int iemployeeAmount,int iproducedAmount,int iyearCreated) {\n            super ( ifactoryName, iemployeeAmount,iproducedAmount);\n            yearCreated = iyearCreated;\n        }\n        // Methods\n        @Override\n        public String getFactoryName() {\n            return (factoryName);\n        }\n        @Override\n        public int getEmployeeAmount() {\n            return (employeeAmount);\n        }\n        @Override\n        public int getProducedAmount() {\n            return (producedAmount);\n        }\n        @Override\n        public String toString () {\n            return (&quot;The Factory called &quot; + factoryName + &quot; with &quot; + employeeAmount + &quot;makes cars at a rate of &quot; + producedAmount + &quot;since the year &quot;+ yearCreated);\n        }\n    }   \n</code></pre>\n<p>Then simply use:</p>\n<pre><code>SteelFactory test = new SteelFactory(&quot;Test&quot;, 78, 26, 2022);\nSystem.out.println(test.toString());\n</code></pre>\n<p>Will correctly print the following result (You'll need to fix your formatting to include spaces):</p>\n<pre><code>The Factory called Test with 78makes cars at a rate of 26since the year 2022\n</code></pre>\n"}],"owner":{"account_id":20889260,"reputation":7,"user_id":15345065,"display_name":"Tusk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71552857,"answer_count":1,"score":0,"last_activity_date":1647837816,"creation_date":1647835656,"question_id":71552712,"body_markdown":"Super class is not functioning, as when the Steelfactory class try&#39;s to get the data from the super class, the output shows that there is noting there. \r\nLooking to solves as to why this might be happening. \r\n The Factory called null with 0makes cars at a rate of 0since the year 1998\r\nI am wondering if it is due to, having called my super class wrong, but I did not  gain any errors  when writing it. Or could there there be another issue in the code logic wise? \r\nThe code: \r\n\r\n    package finalsproject;\r\n\r\n\tstatic abstract class Factory {\r\n\t\t//Atributes: \r\n\t\tString factoryName; //The name of the factory\r\n\t\tint employeeAmount; // number of workers in the factory\r\n\t\tint producedAmount; // number of products made\r\n\t\t// Constructor: \r\n\t\tpublic Factory (String ifactoryName,int iemployeeAmount,int iproducedAmount) {// Prameterized consrtuctor\r\n\t\t\tfactoryName = ifactoryName;\r\n\t\t\temployeeAmount = iemployeeAmount;\r\n\t\t\tproducedAmount = iproducedAmount;\r\n\t\t}\r\n\t    //Methods: \r\n\t\tpublic abstract String getFactoryName();\r\n\t\tpublic abstract int getEmployeeAmount();\r\n\t\tpublic abstract int getProducedAmount();\r\n\t\t\t\r\n    }\r\n\t\t   \r\n    //The class SteelFactory must have the following specifications\r\n    //-It must implement the abstract class Factory\r\n    //Make these two classes implement the abstract class above\r\n\t\t\r\n\tstatic class SteelFactory extends Factory {\r\n\t\t//Attributes:\r\n\t\tString factoryName; // Name of the factory\r\n\t\tint employeeAmount; // Number of workers\r\n\t\tint producedAmount; // number of products\r\n\t\tint yearCreated; // the year the factory was made\r\n\t\t\r\n\t\t//Constructor: \r\n\t\tpublic SteelFactory (String ifactoryName,int iemployeeAmount,int iproducedAmount,int iyearCreated) {\r\n\t\t\tsuper ( ifactoryName, iemployeeAmount,iproducedAmount);\r\n\t\t\tyearCreated = iyearCreated;\r\n\t\t}\r\n\t\t// Methods\r\n\t\tpublic String getFactoryName() {\r\n\t\t\treturn (factoryName);\r\n\t\t}\r\n\t\tpublic int getEmployeeAmount() {\r\n\t\t\treturn (employeeAmount);\r\n\t\t\t\r\n\t\t}\r\n\t\tpublic int getProducedAmount() {\r\n\t\t\treturn (producedAmount);\r\n\t\t}\r\n\t\tpublic String toString () {\r\n\t\t\treturn (&quot;The Factory called &quot; + factoryName + &quot; with &quot; + employeeAmount + &quot;makes cars at a rate of &quot; + producedAmount + &quot;since the year &quot;+ yearCreated);\r\n\t\t}\r\n\t\t\r\n\t}\t\r\n","title":"Super class is not passing along values","body":"<p>Super class is not functioning, as when the Steelfactory class try's to get the data from the super class, the output shows that there is noting there.\nLooking to solves as to why this might be happening.\nThe Factory called null with 0makes cars at a rate of 0since the year 1998\nI am wondering if it is due to, having called my super class wrong, but I did not  gain any errors  when writing it. Or could there there be another issue in the code logic wise?\nThe code:</p>\n<pre><code>package finalsproject;\n\nstatic abstract class Factory {\n    //Atributes: \n    String factoryName; //The name of the factory\n    int employeeAmount; // number of workers in the factory\n    int producedAmount; // number of products made\n    // Constructor: \n    public Factory (String ifactoryName,int iemployeeAmount,int iproducedAmount) {// Prameterized consrtuctor\n        factoryName = ifactoryName;\n        employeeAmount = iemployeeAmount;\n        producedAmount = iproducedAmount;\n    }\n    //Methods: \n    public abstract String getFactoryName();\n    public abstract int getEmployeeAmount();\n    public abstract int getProducedAmount();\n        \n}\n       \n//The class SteelFactory must have the following specifications\n//-It must implement the abstract class Factory\n//Make these two classes implement the abstract class above\n    \nstatic class SteelFactory extends Factory {\n    //Attributes:\n    String factoryName; // Name of the factory\n    int employeeAmount; // Number of workers\n    int producedAmount; // number of products\n    int yearCreated; // the year the factory was made\n    \n    //Constructor: \n    public SteelFactory (String ifactoryName,int iemployeeAmount,int iproducedAmount,int iyearCreated) {\n        super ( ifactoryName, iemployeeAmount,iproducedAmount);\n        yearCreated = iyearCreated;\n    }\n    // Methods\n    public String getFactoryName() {\n        return (factoryName);\n    }\n    public int getEmployeeAmount() {\n        return (employeeAmount);\n        \n    }\n    public int getProducedAmount() {\n        return (producedAmount);\n    }\n    public String toString () {\n        return (&quot;The Factory called &quot; + factoryName + &quot; with &quot; + employeeAmount + &quot;makes cars at a rate of &quot; + producedAmount + &quot;since the year &quot;+ yearCreated);\n    }\n    \n}   \n</code></pre>\n"},{"tags":["java","android","foreground-service"],"answers":[{"tags":[],"owner":{"account_id":5236795,"reputation":211,"user_id":4185127,"display_name":"Leonard Shi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1430215022,"creation_date":1430215022,"answer_id":29916156,"question_id":29898364,"body_markdown":"can&#39;t wait, so kept researching when i was free for the whole day, fortunately found the solution, hope this can help some beginners like me.\r\n\r\n - if u run the service in the same process with ur application, that means u should declare the service in the Manifest.xml without &#39;android:process&#39;, if u do this, then the above absolutely works fine.\r\n - the above exception will be threw when u try to bind ur app component to a service which is run in a different process\r\n - so the solution is wrapping ur IBinder with AIDL.\r\n - following is the code based the above one\r\n\r\n**define ur AIDL interface**\r\n\r\n    package com.leonard.sg.okcoin.service.robot.aidl;\r\n\r\n    interface ISyncAndTradeService {\r\n\r\n        boolean startTradeEngine();\r\n\r\n    }\r\n**then change the onBind method in ur service to this:**\r\n\r\n    @Override\r\n    public IBinder onBind(Intent intent) {\r\n        return new ISyncAndTradeService.Stub() {\r\n\r\n            @Override\r\n            public boolean startTradeEngine() throws RemoteException {\r\n                return false;\r\n            }\r\n        };\r\n    }\r\n**then refine the build service connection class to this:**\r\n\r\n    private ISyncAndTradeService syncAndTradeService;\r\n    private boolean hasBounded = false;\r\n\r\n    private Intent syncAndTradeServiceIntent;\r\n\r\n    private ServiceConnection syncAndTradeServiceConnection = new ServiceConnection() {\r\n        @Override\r\n        public void onServiceConnected(ComponentName name, IBinder service) {\r\n            syncAndTradeService = ISyncAndTradeService.Stub.asInterface((IBinder) service);\r\n            hasBounded = true;\r\n        }\r\n\r\n        @Override\r\n        public void onServiceDisconnected(ComponentName name) {\r\n            syncAndTradeService = null;\r\n            hasBounded = false;\r\n        }\r\n    };\r\n\r\n**then everything will work fine**\r\n\r\nbut this raise another problem, according to the google documentation of the attribute &#39;android:process&#39; of service declaration, we can do this:\r\n\r\n&gt; android:process\r\nThe name of the process where the service is to run. Normally, all components of an application run in the default process created for the application. It has the same name as the application package. The &lt;application&gt; element&#39;s process attribute can set a different default for all components. But component can override the default with its own process attribute, allowing you to spread your application across multiple processes.\r\nIf the name assigned to this attribute begins with a colon (&#39;:&#39;), a new process, private to the application, is created when it&#39;s needed and the service runs in that process. If the process name begins with a lowercase character, the service will run in a global process of that name, provided that it has permission to do so. This allows components in different applications to share a process, reducing resource usage.\r\n\r\n**but in practice, if i declare the &#39;android:process&#39; start with character, no matter lowercase or uppercase, i will get this error:**\r\n\r\n    DEVICE SHELL COMMAND: pm install -r &quot;/data/local/tmp/com.leonard.sg.okcoin&quot;\r\n    pkg: /data/local/tmp/com.leonard.sg.okcoin\r\n    Failure [INSTALL_PARSE_FAILED_MANIFEST_MALFORMED]\r\n\r\n**the only choice is start with &#39;:&#39; or &#39;.&#39;**","title":"java.lang.ClassCastException: android.os.BinderProxy cannot be cast to com.leonard.sg.okcoin.service.SyncAndTradeService$SyncAndTradeBinder","body":"<p>can't wait, so kept researching when i was free for the whole day, fortunately found the solution, hope this can help some beginners like me.</p>\n\n<ul>\n<li>if u run the service in the same process with ur application, that means u should declare the service in the Manifest.xml without 'android:process', if u do this, then the above absolutely works fine.</li>\n<li>the above exception will be threw when u try to bind ur app component to a service which is run in a different process</li>\n<li>so the solution is wrapping ur IBinder with AIDL.</li>\n<li>following is the code based the above one</li>\n</ul>\n\n<p><strong>define ur AIDL interface</strong></p>\n\n<pre><code>package com.leonard.sg.okcoin.service.robot.aidl;\n\ninterface ISyncAndTradeService {\n\n    boolean startTradeEngine();\n\n}\n</code></pre>\n\n<p><strong>then change the onBind method in ur service to this:</strong></p>\n\n<pre><code>@Override\npublic IBinder onBind(Intent intent) {\n    return new ISyncAndTradeService.Stub() {\n\n        @Override\n        public boolean startTradeEngine() throws RemoteException {\n            return false;\n        }\n    };\n}\n</code></pre>\n\n<p><strong>then refine the build service connection class to this:</strong></p>\n\n<pre><code>private ISyncAndTradeService syncAndTradeService;\nprivate boolean hasBounded = false;\n\nprivate Intent syncAndTradeServiceIntent;\n\nprivate ServiceConnection syncAndTradeServiceConnection = new ServiceConnection() {\n    @Override\n    public void onServiceConnected(ComponentName name, IBinder service) {\n        syncAndTradeService = ISyncAndTradeService.Stub.asInterface((IBinder) service);\n        hasBounded = true;\n    }\n\n    @Override\n    public void onServiceDisconnected(ComponentName name) {\n        syncAndTradeService = null;\n        hasBounded = false;\n    }\n};\n</code></pre>\n\n<p><strong>then everything will work fine</strong></p>\n\n<p>but this raise another problem, according to the google documentation of the attribute 'android:process' of service declaration, we can do this:</p>\n\n<blockquote>\n  <p>android:process\n  The name of the process where the service is to run. Normally, all components of an application run in the default process created for the application. It has the same name as the application package. The  element's process attribute can set a different default for all components. But component can override the default with its own process attribute, allowing you to spread your application across multiple processes.\n  If the name assigned to this attribute begins with a colon (':'), a new process, private to the application, is created when it's needed and the service runs in that process. If the process name begins with a lowercase character, the service will run in a global process of that name, provided that it has permission to do so. This allows components in different applications to share a process, reducing resource usage.</p>\n</blockquote>\n\n<p><strong>but in practice, if i declare the 'android:process' start with character, no matter lowercase or uppercase, i will get this error:</strong></p>\n\n<pre><code>DEVICE SHELL COMMAND: pm install -r \"/data/local/tmp/com.leonard.sg.okcoin\"\npkg: /data/local/tmp/com.leonard.sg.okcoin\nFailure [INSTALL_PARSE_FAILED_MANIFEST_MALFORMED]\n</code></pre>\n\n<p><strong>the only choice is start with ':' or '.'</strong></p>\n"},{"tags":[],"owner":{"account_id":2308892,"reputation":1,"user_id":2027517,"display_name":"user2027517"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647837717,"creation_date":1647837717,"answer_id":71552901,"question_id":29898364,"body_markdown":"I just remove the below line in my activity. it is working fine.\r\nandroid:process=&quot;:UsbEventReceiverActivityProcess&quot;","title":"java.lang.ClassCastException: android.os.BinderProxy cannot be cast to com.leonard.sg.okcoin.service.SyncAndTradeService$SyncAndTradeBinder","body":"<p>I just remove the below line in my activity. it is working fine.\nandroid:process=&quot;:UsbEventReceiverActivityProcess&quot;</p>\n"}],"owner":{"account_id":5236795,"reputation":211,"user_id":4185127,"display_name":"Leonard Shi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10175,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29916156,"answer_count":2,"score":2,"last_activity_date":1647837717,"creation_date":1430144470,"question_id":29898364,"body_markdown":"I tried to bind the MainActivity to a foreground service, then got the following Exceptions, already searched more than one hour, no idea what i did wrongly, pls save me.\r\n\r\n    java.lang.ClassCastException: android.os.BinderProxy cannot be cast to com.leonard.sg.okcoin.service.SyncAndTradeService$SyncAndTradeBinder\r\n            at com.leonard.sg.okcoin.MainActivity$1.onServiceConnected(MainActivity.java:50)\r\n            at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:1101)\r\n            at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:1118)\r\n            at android.os.Handler.handleCallback(Handler.java:725)\r\n            at android.os.Handler.dispatchMessage(Handler.java:92)\r\n            at android.os.Looper.loop(Looper.java:137)\r\n            at android.app.ActivityThread.main(ActivityThread.java:5227)\r\n            at java.lang.reflect.Method.invokeNative(Native Method)\r\n            at java.lang.reflect.Method.invoke(Method.java:511)\r\n            at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:795)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:562)\r\n            at dalvik.system.NativeStart.main(Native Method)\r\n\r\nThe code in my MainActivity:\r\n\r\n    private SyncAndTradeService syncAndTradeService;\r\n    private boolean hasBounded = false;\r\n\r\n    private Intent syncAndTradeServiceIntent;\r\n\r\n    private ServiceConnection syncAndTradeServiceConnection = new ServiceConnection() {\r\n        @Override\r\n        public void onServiceConnected(ComponentName name, IBinder service) {\r\n            SyncAndTradeService.SyncAndTradeBinder syncAndTradeBinder = (SyncAndTradeService.SyncAndTradeBinder) service;\r\n            syncAndTradeService = syncAndTradeBinder.getSyncAndTradeService();\r\n            hasBounded = true;\r\n        }\r\n\r\n        @Override\r\n        public void onServiceDisconnected(ComponentName name) {\r\n            syncAndTradeService = null;\r\n            hasBounded = false;\r\n        }\r\n    };\r\n\r\nAnd i tried to do this in onCreate method:\r\n\r\n    syncAndTradeServiceIntent = new Intent(this, SyncAndTradeService.class);\r\n\r\n    bindService(syncAndTradeServiceIntent, syncAndTradeServiceConnection, Context.BIND_AUTO_CREATE);\r\n\r\nAnd this is my service code:\r\n\r\n    public class SyncAndTradeService extends Service {\r\n\r\n        public static final int MY_FOREGROUND_SERVICE_START_ID = 996539;\r\n\r\n        private IBinder syncAndTradeBinder = new SyncAndTradeBinder();\r\n\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n        }\r\n\r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n\r\n            startSyncAndTradeService();\r\n\r\n            return Service.START_REDELIVER_INTENT;\r\n        }\r\n\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return syncAndTradeBinder;\r\n        }\r\n\r\n        @Override\r\n        public boolean onUnbind(Intent intent) {\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public void onRebind(Intent intent) {\r\n            super.onRebind(intent);\r\n        }\r\n\r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n        }\r\n\r\n        public class SyncAndTradeBinder extends Binder {\r\n\r\n            public SyncAndTradeService getSyncAndTradeService() {\r\n                return SyncAndTradeService.this;\r\n            }\r\n\r\n        }\r\n\r\n        private void startSyncAndTradeService() {\r\n            startForeground(MY_FOREGROUND_SERVICE_START_ID, buildFixedNotification());\r\n        }\r\n\r\n        private Notification buildFixedNotification() {\r\n\r\n            Intent notificationIntent = new Intent(this, MainActivity.class);\r\n\r\n            notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n\r\n            PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, 0);\r\n\r\n            Notification notification = new Notification.Builder(this)\r\n                .setContentTitle(&quot;OKCoin Robot&quot;)\r\n                .setContentText(&quot;OKCoin robot is running in background&quot;)\r\n                .setSmallIcon(R.drawable.bitcoin)\r\n                .setContentIntent(pendingIntent)\r\n                .build();\r\n\r\n            return notification;\r\n        }\r\n\r\n    }\r\n\r\nAnd this is my declaration of my service in the Manifest.xml\r\n\r\n    &lt;service\r\n        android:name=&quot;.service.SyncAndTradeService&quot;\r\n        android:exported=&quot;false&quot;\r\n        android:icon=&quot;@drawable/bitcoin&quot;\r\n        android:process=&quot;:SyncAndTrade&quot;&gt;\r\n    &lt;/service&gt;","title":"java.lang.ClassCastException: android.os.BinderProxy cannot be cast to com.leonard.sg.okcoin.service.SyncAndTradeService$SyncAndTradeBinder","body":"<p>I tried to bind the MainActivity to a foreground service, then got the following Exceptions, already searched more than one hour, no idea what i did wrongly, pls save me.</p>\n\n<pre><code>java.lang.ClassCastException: android.os.BinderProxy cannot be cast to com.leonard.sg.okcoin.service.SyncAndTradeService$SyncAndTradeBinder\n        at com.leonard.sg.okcoin.MainActivity$1.onServiceConnected(MainActivity.java:50)\n        at android.app.LoadedApk$ServiceDispatcher.doConnected(LoadedApk.java:1101)\n        at android.app.LoadedApk$ServiceDispatcher$RunConnection.run(LoadedApk.java:1118)\n        at android.os.Handler.handleCallback(Handler.java:725)\n        at android.os.Handler.dispatchMessage(Handler.java:92)\n        at android.os.Looper.loop(Looper.java:137)\n        at android.app.ActivityThread.main(ActivityThread.java:5227)\n        at java.lang.reflect.Method.invokeNative(Native Method)\n        at java.lang.reflect.Method.invoke(Method.java:511)\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:795)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:562)\n        at dalvik.system.NativeStart.main(Native Method)\n</code></pre>\n\n<p>The code in my MainActivity:</p>\n\n<pre><code>private SyncAndTradeService syncAndTradeService;\nprivate boolean hasBounded = false;\n\nprivate Intent syncAndTradeServiceIntent;\n\nprivate ServiceConnection syncAndTradeServiceConnection = new ServiceConnection() {\n    @Override\n    public void onServiceConnected(ComponentName name, IBinder service) {\n        SyncAndTradeService.SyncAndTradeBinder syncAndTradeBinder = (SyncAndTradeService.SyncAndTradeBinder) service;\n        syncAndTradeService = syncAndTradeBinder.getSyncAndTradeService();\n        hasBounded = true;\n    }\n\n    @Override\n    public void onServiceDisconnected(ComponentName name) {\n        syncAndTradeService = null;\n        hasBounded = false;\n    }\n};\n</code></pre>\n\n<p>And i tried to do this in onCreate method:</p>\n\n<pre><code>syncAndTradeServiceIntent = new Intent(this, SyncAndTradeService.class);\n\nbindService(syncAndTradeServiceIntent, syncAndTradeServiceConnection, Context.BIND_AUTO_CREATE);\n</code></pre>\n\n<p>And this is my service code:</p>\n\n<pre><code>public class SyncAndTradeService extends Service {\n\n    public static final int MY_FOREGROUND_SERVICE_START_ID = 996539;\n\n    private IBinder syncAndTradeBinder = new SyncAndTradeBinder();\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n\n        startSyncAndTradeService();\n\n        return Service.START_REDELIVER_INTENT;\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return syncAndTradeBinder;\n    }\n\n    @Override\n    public boolean onUnbind(Intent intent) {\n        return false;\n    }\n\n    @Override\n    public void onRebind(Intent intent) {\n        super.onRebind(intent);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n    }\n\n    public class SyncAndTradeBinder extends Binder {\n\n        public SyncAndTradeService getSyncAndTradeService() {\n            return SyncAndTradeService.this;\n        }\n\n    }\n\n    private void startSyncAndTradeService() {\n        startForeground(MY_FOREGROUND_SERVICE_START_ID, buildFixedNotification());\n    }\n\n    private Notification buildFixedNotification() {\n\n        Intent notificationIntent = new Intent(this, MainActivity.class);\n\n        notificationIntent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP | Intent.FLAG_ACTIVITY_SINGLE_TOP);\n\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, notificationIntent, 0);\n\n        Notification notification = new Notification.Builder(this)\n            .setContentTitle(\"OKCoin Robot\")\n            .setContentText(\"OKCoin robot is running in background\")\n            .setSmallIcon(R.drawable.bitcoin)\n            .setContentIntent(pendingIntent)\n            .build();\n\n        return notification;\n    }\n\n}\n</code></pre>\n\n<p>And this is my declaration of my service in the Manifest.xml</p>\n\n<pre><code>&lt;service\n    android:name=\".service.SyncAndTradeService\"\n    android:exported=\"false\"\n    android:icon=\"@drawable/bitcoin\"\n    android:process=\":SyncAndTrade\"&gt;\n&lt;/service&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","postman"],"comments":[{"owner":{"account_id":16398545,"reputation":95,"user_id":11845279,"display_name":"kingofswords"},"score":0,"creation_date":1647818597,"post_id":71550686,"comment_id":126460326,"body_markdown":"Does `localhost:8080/api/getRightAll` hit your endpoint?","body":"Does <code>localhost:8080&#47;api&#47;getRightAll</code> hit your endpoint?"},{"owner":{"account_id":10280177,"reputation":71,"user_id":7585635,"display_name":"Rangan Roy"},"score":0,"creation_date":1647835358,"post_id":71550686,"comment_id":126462640,"body_markdown":"No. It is not working.","body":"No. It is not working."}],"answers":[{"tags":[],"owner":{"account_id":10949787,"reputation":71,"user_id":8046502,"display_name":"Subhash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647819595,"creation_date":1647819595,"answer_id":71551488,"question_id":71550686,"body_markdown":"I am sure it is your main class configuration issue. By default, framework will scan beans in same package as of main class and sub-packages. e.g. below will not work\r\n\r\ncom/example/controller/FooController.java\r\n\r\ncom/example/main/MainClass.java\r\n\r\nas applciation will scan for beans in com.example.main package and its subpackages only.\r\n\r\nIf that is case, you will need to update &#39;scanBasePackages&#39; attribute of @SpringBootApplication annotation.\r\n\r\n","title":"Unable to Hit Rest Controller Spring Boot","body":"<p>I am sure it is your main class configuration issue. By default, framework will scan beans in same package as of main class and sub-packages. e.g. below will not work</p>\n<p>com/example/controller/FooController.java</p>\n<p>com/example/main/MainClass.java</p>\n<p>as applciation will scan for beans in com.example.main package and its subpackages only.</p>\n<p>If that is case, you will need to update 'scanBasePackages' attribute of @SpringBootApplication annotation.</p>\n"},{"tags":[],"owner":{"account_id":11405681,"reputation":76,"user_id":8361202,"display_name":"Vinod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647835665,"creation_date":1647835665,"answer_id":71552713,"question_id":71550686,"body_markdown":"You need to add a package name in the component scan, in your case, it is @ComponentScan(&quot;com.example.controller&quot;), Standard way to create other packages is \r\nunder the main root package","title":"Unable to Hit Rest Controller Spring Boot","body":"<p>You need to add a package name in the component scan, in your case, it is @ComponentScan(&quot;com.example.controller&quot;), Standard way to create other packages is\nunder the main root package</p>\n"}],"owner":{"account_id":10280177,"reputation":71,"user_id":7585635,"display_name":"Rangan Roy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647836868,"creation_date":1647810772,"question_id":71550686,"body_markdown":"I have below pom.xml in the SpringBoot application. While running the application, I am not facing any errors. But when I am hitting the URL through postman or browser, then my java code present inside controller is not getting executed.\r\n\r\n**pom.xml:**\r\n\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;MENU-RIGHT&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;jar&lt;/packaging&gt;\r\n      \r\n      &lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t\t&lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\r\n    \t&lt;/properties&gt;\r\n      \r\n      &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t    &lt;version&gt;8.0.26&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \r\n    \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n**Controller:**\r\n\r\n    package com.example.controller;\r\n    \r\n    import java.util.logging.Logger;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.example.model.MenuRightModel;\r\n    import com.example.service.MenuRightService;\r\n    \r\n    @RestController\r\n    public class MenuRightController {\r\n    \r\n    \tLogger logger = Logger.getAnonymousLogger();\r\n    \t@Autowired\r\n    \tprivate MenuRightService menuRightService;\r\n    \t\r\n    \t@RequestMapping(value  = &quot;/getRightByUser/{id}&quot;, method=RequestMethod.GET)\r\n    \tpublic MenuRightModel findRightByUser(@PathVariable(&quot;id&quot;) int id) {\r\n    \t\tlogger.info(&quot;Request Received for User Id : &quot;+id);\r\n    \t\treturn menuRightService.findRightByUser(id);\r\n    \t\t\r\n    \t}\r\n    \t@RequestMapping(value  = &quot;/getRightAll&quot;, method=RequestMethod.GET)\r\n    \tpublic MenuRightModel findAllRight() {\r\n    \t\treturn new MenuRightModel();\r\n    \t\t\r\n    \t}\r\n    }\r\n\r\n\r\n**Project Execution Screenshot:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Postman Execution Screenshot:**\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/t6Zkk.png\r\n  [2]: https://i.stack.imgur.com/yqkSd.png\r\n  [3]: https://i.stack.imgur.com/yA1NT.png\r\n\r\n**Spring Boot Application Class:**\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\r\n    @ComponentScan(&quot;src/main/java&quot;)\r\n    public class MenuRightApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tSpringApplication.run(MenuRightApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n**Spring Boot Repository Class:**\r\n\r\n    package com.dbs.repository;\r\n    \r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import com.example.model.MenuRightModel;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    @Repository\r\n    public interface MenuRightRepository extends JpaRepository&lt;MenuRightModel, Integer&gt;{\r\n    \tMenuRightModel findByUserId(int id);\r\n    }\r\n\r\n\r\n**After Adding BasePackage as com.example facing below Exception:**\r\n\r\n2022-03-21 09:51:35.169  WARN 20560 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;menuRightController&#39;: Unsatisfied dependency expressed through field &#39;menuRightService&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;menuRightServiceImpl&#39;: Unsatisfied dependency expressed through field &#39;menuRightRepository&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.repository.MenuRightRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n2022-03-21 09:51:35.172  INFO 20560 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n2022-03-21 09:51:35.189  INFO 20560 --- [  restartedMain] ConditionEvaluationReportLoggingListener : \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2022-03-21 09:51:35.312 ERROR 20560 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField menuRightRepository in com.example.service.impl.MenuRightServiceImpl required a bean of type &#39;com.example.repository.MenuRightRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.repository.MenuRightRepository&#39; in your configuration.\r\n","title":"Unable to Hit Rest Controller Spring Boot","body":"<p>I have below pom.xml in the SpringBoot application. While running the application, I am not facing any errors. But when I am hitting the URL through postman or browser, then my java code present inside controller is not getting executed.</p>\n<p><strong>pom.xml:</strong></p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;MENU-RIGHT&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  \n  &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.1.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    \n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.1.1&lt;/maven-jar-plugin.version&gt;\n    &lt;/properties&gt;\n  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;8.0.26&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>package com.example.controller;\n\nimport java.util.logging.Logger;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.example.model.MenuRightModel;\nimport com.example.service.MenuRightService;\n\n@RestController\npublic class MenuRightController {\n\n    Logger logger = Logger.getAnonymousLogger();\n    @Autowired\n    private MenuRightService menuRightService;\n    \n    @RequestMapping(value  = &quot;/getRightByUser/{id}&quot;, method=RequestMethod.GET)\n    public MenuRightModel findRightByUser(@PathVariable(&quot;id&quot;) int id) {\n        logger.info(&quot;Request Received for User Id : &quot;+id);\n        return menuRightService.findRightByUser(id);\n        \n    }\n    @RequestMapping(value  = &quot;/getRightAll&quot;, method=RequestMethod.GET)\n    public MenuRightModel findAllRight() {\n        return new MenuRightModel();\n        \n    }\n}\n</code></pre>\n<p><strong>Project Execution Screenshot:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/t6Zkk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t6Zkk.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Postman Execution Screenshot:</strong>\n<a href=\"https://i.stack.imgur.com/yqkSd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yqkSd.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/yA1NT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yA1NT.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Spring Boot Application Class:</strong></p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication(exclude = {DataSourceAutoConfiguration.class })\n@ComponentScan(&quot;src/main/java&quot;)\npublic class MenuRightApplication {\n\n    public static void main(String[] args) {\n    \n        SpringApplication.run(MenuRightApplication.class, args);\n    }\n}\n</code></pre>\n<p><strong>Spring Boot Repository Class:</strong></p>\n<pre><code>package com.dbs.repository;\n\nimport org.springframework.stereotype.Repository;\n\nimport com.example.model.MenuRightModel;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\n@Repository\npublic interface MenuRightRepository extends JpaRepository&lt;MenuRightModel, Integer&gt;{\n    MenuRightModel findByUserId(int id);\n}\n</code></pre>\n<p><strong>After Adding BasePackage as com.example facing below Exception:</strong></p>\n<p>2022-03-21 09:51:35.169  WARN 20560 --- [  restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'menuRightController': Unsatisfied dependency expressed through field 'menuRightService'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'menuRightServiceImpl': Unsatisfied dependency expressed through field 'menuRightRepository'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.repository.MenuRightRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n2022-03-21 09:51:35.172  INFO 20560 --- [  restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-03-21 09:51:35.189  INFO 20560 --- [  restartedMain] ConditionEvaluationReportLoggingListener :</p>\n<p>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-03-21 09:51:35.312 ERROR 20560 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   :</p>\n<hr />\n<p>APPLICATION FAILED TO START</p>\n<hr />\n<p>Description:</p>\n<p>Field menuRightRepository in com.example.service.impl.MenuRightServiceImpl required a bean of type 'com.example.repository.MenuRightRepository' that could not be found.</p>\n<p>The injection point has the following annotations:\n- @org.springframework.beans.factory.annotation.Autowired(required=true)</p>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.example.repository.MenuRightRepository' in your configuration.</p>\n"},{"tags":["java","spring-boot","docker","docker-compose"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1647835807,"post_id":71552696,"comment_id":126462718,"body_markdown":"MySQL default port is 3306. Did you change it somewhere?","body":"MySQL default port is 3306. Did you change it somewhere?"},{"owner":{"account_id":19238625,"reputation":1937,"user_id":14059097,"display_name":"Cyril G."},"score":0,"creation_date":1647835867,"post_id":71552696,"comment_id":126462723,"body_markdown":"Try to remove the links, also depends_on doesn&#39;t prevent your application to start before the database is ready to handle the call","body":"Try to remove the links, also depends_on doesn&#39;t prevent your application to start before the database is ready to handle the call"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1647835952,"post_id":71552696,"comment_id":126462735,"body_markdown":"Yea that&#39;s right. MySQL does take time to start up. I had the same problem with docker-compose","body":"Yea that&#39;s right. MySQL does take time to start up. I had the same problem with docker-compose"},{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1647836143,"post_id":71552696,"comment_id":126462778,"body_markdown":"removing depends_on didn&#39;t change anything. In fact i added after many tries. Concerning the port 3309, I set it in docker compose. I also expose mysql to port 3309.","body":"removing depends_on didn&#39;t change anything. In fact i added after many tries. Concerning the port 3309, I set it in docker compose. I also expose mysql to port 3309."},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1647836205,"post_id":71552696,"comment_id":126462790,"body_markdown":"https://docs.docker.com/compose/startup-order/","body":"<a href=\"https://docs.docker.com/compose/startup-order/\" rel=\"nofollow noreferrer\">docs.docker.com/compose/startup-order</a>"},{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1647836309,"post_id":71552696,"comment_id":126462803,"body_markdown":"[This](https://github.com/psamsotha/docker-jersey-mysql/blob/5618e07a9308126979922ae6c5f447c176583345/src/main/java/org/example/resource/db/DatabaseManager.java#L50) is what I had to do in a project.","body":"<a href=\"https://github.com/psamsotha/docker-jersey-mysql/blob/5618e07a9308126979922ae6c5f447c176583345/src/main/java/org/example/resource/db/DatabaseManager.java#L50\" rel=\"nofollow noreferrer\">This</a> is what I had to do in a project."},{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1647863705,"post_id":71552696,"comment_id":126470096,"body_markdown":"The MySQL server will listen on port 3306 unless you reconfigure the server.  The second `ports:` number and any inter-container communication need to use the standard port 3306.  `expose:` does essentially nothing in modern Compose and you can delete that block.","body":"The MySQL server will listen on port 3306 unless you reconfigure the server.  The second <code>ports:</code> number and any inter-container communication need to use the standard port 3306.  <code>expose:</code> does essentially nothing in modern Compose and you can delete that block."}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647835408,"creation_date":1647835408,"question_id":71552696,"body_markdown":"Im having an issue with docker-compose. \r\nI try to implement some really basic application: \r\n- A spring boot application \r\n- Mysql\r\n\r\nI created a Dockerfile for my springboot: \r\n\r\n    FROM maven:3.8.1-openjdk-11\r\n    FROM openjdk:11\r\n    \r\n    WORKDIR /app\r\n    COPY target/app-ws.jar /app/app-ws.jar\r\n    CMD mvn clean install -DskipTests\r\n    \r\n    EXPOSE 8092\r\n    # CMD ls\r\n    ENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;-Dspring.profiles.active=docker&quot;, &quot;app-ws.jar&quot;]\r\n\r\nIn my docker compose: \r\n\r\n    version: &#39;3&#39;\r\n    \r\n    services:\r\n      # build mysql\r\n      mysqldb:\r\n        container_name: mysqldb\r\n        image: mysql:8.0.28\r\n        restart: unless-stopped\r\n        env_file:\r\n          - .env\r\n        environment:\r\n          - MYSQL_ROOT_PASSWORD:root\r\n          - MYSQL_ROOT_USER:root\r\n          - MYSQL_DATABASE:mydbname\r\n        ports:\r\n          - 3309:3309\r\n        expose:\r\n          - 3309\r\n        volumes:\r\n          - dbdata:/var/lib/mysql\r\n        networks:\r\n          - app-network\r\n        \r\n      # build app-ws\r\n      app-ws:\r\n        container_name: app-ws\r\n        restart: on-failure\r\n        build:\r\n          context: ../app-ws/\r\n          dockerfile: Dockerfile\r\n        ports:\r\n          - 8092:8092\r\n        expose:\r\n          - 8092\r\n        environment:\r\n          - SPRING_DATASOURCE_URL:jdbc:mysql://mysqldb:3309/mydbname?autoReconnect=true&amp;useSSL=false\r\n          - SPRING_DATASOURCE_USERNAME:root\r\n          - SPRING_DATASOURCE_PASSWORD:root\r\n        depends_on:\r\n          - mysqldb\r\n        links:\r\n          - mysqldb:mysqldb\r\n        networks:\r\n          - app-network\r\n    \r\n    # # # Create the private network\r\n    networks:\r\n      app-network:\r\n        driver: bridge\r\n    \r\n    volumes:\r\n        dbdata:\r\n            driver: local\r\n\r\n\r\nMy application-docker.properties contains the following informations: \r\n\r\n    spring.datasource.url=jdbc:mysql://mysqldb:3309/mydbname?useSSL=false\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.sql.init.mode=always\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.generate-ddl=true\r\n\r\nI have 2 issues: When running docker compose up --build I do have the following errors concerning the springboot application: \r\n\r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:949) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    ... 57 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n    at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n    at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\r\n    at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\r\n    at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\r\n    at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\r\n    at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\r\n    at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:156) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n    at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n\r\nMy second issue is that i can&#39;t connect to the database using the port 3309. I don&#39;t know what&#39;s going wrong: i use depends on to specify my app depends on mysql, i also added the environment variables with SPRING_DATASOURCE_URL, etc.","title":"Docker compose: Springboot connect to mysql8 databases","body":"<p>Im having an issue with docker-compose.\nI try to implement some really basic application:</p>\n<ul>\n<li>A spring boot application</li>\n<li>Mysql</li>\n</ul>\n<p>I created a Dockerfile for my springboot:</p>\n<pre><code>FROM maven:3.8.1-openjdk-11\nFROM openjdk:11\n\nWORKDIR /app\nCOPY target/app-ws.jar /app/app-ws.jar\nCMD mvn clean install -DskipTests\n\nEXPOSE 8092\n# CMD ls\nENTRYPOINT [&quot;java&quot;, &quot;-jar&quot;, &quot;-Dspring.profiles.active=docker&quot;, &quot;app-ws.jar&quot;]\n</code></pre>\n<p>In my docker compose:</p>\n<pre><code>version: '3'\n\nservices:\n  # build mysql\n  mysqldb:\n    container_name: mysqldb\n    image: mysql:8.0.28\n    restart: unless-stopped\n    env_file:\n      - .env\n    environment:\n      - MYSQL_ROOT_PASSWORD:root\n      - MYSQL_ROOT_USER:root\n      - MYSQL_DATABASE:mydbname\n    ports:\n      - 3309:3309\n    expose:\n      - 3309\n    volumes:\n      - dbdata:/var/lib/mysql\n    networks:\n      - app-network\n    \n  # build app-ws\n  app-ws:\n    container_name: app-ws\n    restart: on-failure\n    build:\n      context: ../app-ws/\n      dockerfile: Dockerfile\n    ports:\n      - 8092:8092\n    expose:\n      - 8092\n    environment:\n      - SPRING_DATASOURCE_URL:jdbc:mysql://mysqldb:3309/mydbname?autoReconnect=true&amp;useSSL=false\n      - SPRING_DATASOURCE_USERNAME:root\n      - SPRING_DATASOURCE_PASSWORD:root\n    depends_on:\n      - mysqldb\n    links:\n      - mysqldb:mysqldb\n    networks:\n      - app-network\n\n# # # Create the private network\nnetworks:\n  app-network:\n    driver: bridge\n\nvolumes:\n    dbdata:\n        driver: local\n</code></pre>\n<p>My application-docker.properties contains the following informations:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://mysqldb:3309/mydbname?useSSL=false\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\nspring.jpa.hibernate.ddl-auto=create\nspring.sql.init.mode=always\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.generate-ddl=true\n</code></pre>\n<p>I have 2 issues: When running docker compose up --build I do have the following errors concerning the springboot application:</p>\n<pre><code>The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\nat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\nat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\nat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\nat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:949) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n... 57 common frames omitted\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\nat java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\nat java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\nat java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\nat java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\nat java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\nat java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\nat com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:156) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\nat com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n</code></pre>\n<p>My second issue is that i can't connect to the database using the port 3309. I don't know what's going wrong: i use depends on to specify my app depends on mysql, i also added the environment variables with SPRING_DATASOURCE_URL, etc.</p>\n"},{"tags":["java","mysql","spring","hibernate"],"comments":[{"owner":{"account_id":1632105,"reputation":6968,"user_id":1506440,"display_name":"MattR"},"score":0,"creation_date":1368422268,"post_id":16515249,"comment_id":23711435,"body_markdown":"Check your Spring config/annotations - possibly the transaction is configured as read only?","body":"Check your Spring config/annotations - possibly the transaction is configured as read only?"},{"owner":{"account_id":1990050,"reputation":1135,"user_id":1784277,"accept_rate":62,"display_name":"MigRome"},"score":0,"creation_date":1368422410,"post_id":16515249,"comment_id":23711470,"body_markdown":"Here is my Sprin XMl config file...                                    &lt;!-- Database Configuration --&gt;    \n    &lt;import resource=&quot;../database/DataSource.xml&quot;/&gt;\n    &lt;!-- Hibernate Configuration --&gt;\n    &lt;import resource=&quot;../database/Hibernate.xml&quot;/&gt;\n    &lt;!-- Auto scan the components --&gt;\n    &lt;context:annotation-config/&gt;\n    &lt;context:component-scan  \n        base-package=&quot;BO,DAO&quot;  /&gt;\n    &lt;!-- Context Manager --&gt;\n    &lt;bean id=&quot;appContextProvider&quot; class=&quot;GUI.AppContextProvider&quot;&gt;&lt;/bean&gt;\n    &lt;!-- JaSypt --&gt;\n    &lt;bean id=&quot;encryptModule&quot; class=&quot;DAO.Util.EncryptModule&quot;&gt;&lt;/bean&gt;&#39; I don&#39;t see that.","body":"Here is my Sprin XMl config file...                                    &lt;!-- Database Configuration --&gt;         &lt;import resource=&quot;../database/DataSource.xml&quot;/&gt;     &lt;!-- Hibernate Configuration --&gt;     &lt;import resource=&quot;../database/Hibernate.xml&quot;/&gt;     &lt;!-- Auto scan the components --&gt;     &lt;context:annotation-config/&gt;     &lt;context:component-scan           base-package=&quot;BO,DAO&quot;  /&gt;     &lt;!-- Context Manager --&gt;     &lt;bean id=&quot;appContextProvider&quot; class=&quot;GUI.AppContextProvider&quot;&gt;&lt;/bean&gt;     &lt;!-- JaSypt --&gt;     &lt;bean id=&quot;encryptModule&quot; class=&quot;DAO.Util.EncryptModule&quot;&gt;&lt;/bean&gt;&#39; I don&#39;t see that."}],"answers":[{"tags":[],"owner":{"account_id":40939,"reputation":41525,"user_id":118846,"display_name":"Mikko Maunu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1368474360,"creation_date":1368474360,"answer_id":16529931,"question_id":16515249,"body_markdown":"Just throwing rocks to the darkness, but one possibility could be: \r\n\r\n - Variable [tx_read_only][1] was introduced in MySQL 5.6.5.\r\n - Probably MySQL version is older than that, but Connector/J tries to use new variable anyway.\r\n - According [release notes][2], support for this variable came in Connector/J 5.1.23.\r\n\r\n==&gt; maybe version older than 5.1.23 will work, or this is the bug that is fixed in version newer than that.\r\n\r\n\r\n  [1]: http://docs.oracle.com/cd/E17952_01/refman-5.6-en/server-system-variables.html#sysvar_tx_read_only\r\n  [2]: http://dev.mysql.com/doc/relnotes/connector-j/en/news-5-1-23.html","title":"MySQL: Unknown system variable &#39;tx_read_only&#39;","body":"<p>Just throwing rocks to the darkness, but one possibility could be: </p>\n\n<ul>\n<li>Variable <a href=\"http://docs.oracle.com/cd/E17952_01/refman-5.6-en/server-system-variables.html#sysvar_tx_read_only\" rel=\"noreferrer\">tx_read_only</a> was introduced in MySQL 5.6.5.</li>\n<li>Probably MySQL version is older than that, but Connector/J tries to use new variable anyway.</li>\n<li>According <a href=\"http://dev.mysql.com/doc/relnotes/connector-j/en/news-5-1-23.html\" rel=\"noreferrer\">release notes</a>, support for this variable came in Connector/J 5.1.23.</li>\n</ul>\n\n<p>==> maybe version older than 5.1.23 will work, or this is the bug that is fixed in version newer than that.</p>\n"},{"tags":[],"owner":{"account_id":2869174,"reputation":316,"user_id":2462868,"display_name":"dev Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624688951,"creation_date":1624688951,"answer_id":68139838,"question_id":16515249,"body_markdown":"In my case I was connecting to mariadb with default innodb url format.\r\nSo it was selecting the wrong driver\r\nIncorrect: jdbc:mysql://\r\nCorrect: jdbc:mariadb://","title":"MySQL: Unknown system variable &#39;tx_read_only&#39;","body":"<p>In my case I was connecting to mariadb with default innodb url format.\nSo it was selecting the wrong driver\nIncorrect: jdbc:mysql://\nCorrect: jdbc:mariadb://</p>\n"},{"tags":[],"owner":{"account_id":14656255,"reputation":1,"user_id":10584732,"display_name":"dx chen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647835124,"creation_date":1647835124,"answer_id":71552667,"question_id":16515249,"body_markdown":"upgrade mysql-connector-java&gt;=5.1.46\r\n\r\nsee: https://dev.mysql.com/doc/relnotes/connector-j/5.1/en/news-5-1-46.html","title":"MySQL: Unknown system variable &#39;tx_read_only&#39;","body":"<p>upgrade mysql-connector-java&gt;=5.1.46</p>\n<p>see: <a href=\"https://dev.mysql.com/doc/relnotes/connector-j/5.1/en/news-5-1-46.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/relnotes/connector-j/5.1/en/news-5-1-46.html</a></p>\n"}],"owner":{"account_id":1990050,"reputation":1135,"user_id":1784277,"accept_rate":62,"display_name":"MigRome"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9924,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":16529931,"answer_count":3,"score":3,"last_activity_date":1647835124,"creation_date":1368422080,"question_id":16515249,"body_markdown":"I&#39;m working on a Java Swing-based application+ Hibernate+Mysql+Spring.\r\nWhen I test CRUD operations, I don&#39;t have problems with read, but in insert statements system shows the message:\r\n\r\n    Unknown system variable `tx_read_only`\r\n\r\nI have the last version of MySQl\r\n\r\n- Hibernate 4\r\n- Java annotations\r\n\r\nCan you tell me which is the problem to solve now?","title":"MySQL: Unknown system variable &#39;tx_read_only&#39;","body":"<p>I'm working on a Java Swing-based application+ Hibernate+Mysql+Spring.\nWhen I test CRUD operations, I don't have problems with read, but in insert statements system shows the message:</p>\n\n<pre><code>Unknown system variable `tx_read_only`\n</code></pre>\n\n<p>I have the last version of MySQl</p>\n\n<ul>\n<li>Hibernate 4</li>\n<li>Java annotations</li>\n</ul>\n\n<p>Can you tell me which is the problem to solve now?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8492,"page":1500,"page_size":100}
