{"items":[{"tags":["java","algorithm","sorting","counting-sort"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1668138091,"post_id":74397776,"comment_id":131338451,"body_markdown":"Look at the error carefully. Which of your arrays is out of bounds? Think about which indexes you are using for which arrays.","body":"Look at the error carefully. Which of your arrays is out of bounds? Think about which indexes you are using for which arrays."}],"answers":[{"tags":[],"owner":{"account_id":26896439,"reputation":151,"user_id":20474278,"display_name":"m3ow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668139104,"creation_date":1668139104,"answer_id":74397875,"question_id":74397776,"body_markdown":"It is because your variable &quot;numbers&quot; only holds 9 values.\r\n\r\n    for (int i=0;i&lt;count.length;i++)\r\n           count[numbers[i]]++;\r\n\r\nThis for loop will iterate depending on the size of your variable &quot;count&quot;. In your case, the variable &quot;count&quot; will hold 26 values. It throws an error when the variable &quot;numbers&quot; is being accessed with an index beyond its size. ","title":"My program for counting sort always shows this error- Index 9 out of bounds for length 9","body":"<p>It is because your variable &quot;numbers&quot; only holds 9 values.</p>\n<pre><code>for (int i=0;i&lt;count.length;i++)\n       count[numbers[i]]++;\n</code></pre>\n<p>This for loop will iterate depending on the size of your variable &quot;count&quot;. In your case, the variable &quot;count&quot; will hold 26 values. It throws an error when the variable &quot;numbers&quot; is being accessed with an index beyond its size.</p>\n"}],"owner":{"account_id":26896450,"reputation":9,"user_id":20474287,"display_name":"Kdey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1668186372,"answer_count":1,"score":-1,"last_activity_date":1668348871,"creation_date":1668137813,"question_id":74397776,"body_markdown":"I have been writing the below mentioned code for the problem and it always shows me the error that my index is out of bounds for my length. I have tried printing the size and it is comparitively very large.\r\n\r\n\r\n```\r\nimport java.util.*;\r\nclass Main {\r\n    public static void countingSort(int numbers[]) {\r\n    //    int n = numbers.length - 2;\r\n\r\n       int largest=Integer.MIN_VALUE;\r\n       for (int i=0;i&lt;numbers.length;i++){\r\n           largest=Math.max(largest,numbers[i]);\r\n       }\r\n       int count[]=new int[largest+1];\r\n        System.out.println(count.length+&quot;= length\\n&quot;);\r\n       for (int i=0;i&lt;count.length;i++)\r\n           count[numbers[i]]++;\r\n       int j=0;\r\n       for (int i=0;i&lt;count.length;i++){\r\n           while(count[i]&gt;0){\r\n               numbers[j]=i;\r\n               j++;\r\n               count[i]--;\r\n           }\r\n       }\r\n       for(int i=0;i&lt;numbers.length;i++)\r\n            System.out.println(numbers[i]);\r\n    }\r\n    public static void main(String args[]) {\r\n        int numbers[] ={5,8,7,19,25,4,2,3,1};\r\n       countingSort(numbers);\r\n\r\n    }\r\n\r\n\r\n","title":"My program for counting sort always shows this error- Index 9 out of bounds for length 9","body":"<p>I have been writing the below mentioned code for the problem and it always shows me the error that my index is out of bounds for my length. I have tried printing the size and it is comparitively very large.</p>\n<pre><code>import java.util.*;\nclass Main {\n    public static void countingSort(int numbers[]) {\n    //    int n = numbers.length - 2;\n\n       int largest=Integer.MIN_VALUE;\n       for (int i=0;i&lt;numbers.length;i++){\n           largest=Math.max(largest,numbers[i]);\n       }\n       int count[]=new int[largest+1];\n        System.out.println(count.length+&quot;= length\\n&quot;);\n       for (int i=0;i&lt;count.length;i++)\n           count[numbers[i]]++;\n       int j=0;\n       for (int i=0;i&lt;count.length;i++){\n           while(count[i]&gt;0){\n               numbers[j]=i;\n               j++;\n               count[i]--;\n           }\n       }\n       for(int i=0;i&lt;numbers.length;i++)\n            System.out.println(numbers[i]);\n    }\n    public static void main(String args[]) {\n        int numbers[] ={5,8,7,19,25,4,2,3,1};\n       countingSort(numbers);\n\n    }\n\n\n</code></pre>\n"},{"tags":["java","css","selenium","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":1470573,"reputation":29818,"user_id":1382251,"accept_rate":68,"display_name":"barak manos"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1392153927,"creation_date":1392153927,"answer_id":21713358,"question_id":21713280,"body_markdown":"Try this:\r\n\r\n    test = driver.findElement(By.xpath(&quot;//div[@class=&#39;value test&#39;]&quot;));\r\n","title":"Find div element by multiple class names?","body":"<p>Try this:</p>\n\n<pre><code>test = driver.findElement(By.xpath(\"//div[@class='value test']\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1208658,"reputation":32250,"user_id":1177636,"accept_rate":50,"display_name":"Yi Zeng"},"down_vote_count":0,"up_vote_count":186,"is_accepted":true,"score":186,"last_activity_date":1484366190,"creation_date":1392156043,"answer_id":21714006,"question_id":21713280,"body_markdown":"I don&#39;t think barak manos&#39;s answer has fully explained it.\r\n\r\nImagine we have few elements as the followings:\r\n\r\n1. `&lt;div class=&quot;value test&quot;&gt;&lt;/div&gt;`\r\n2. `&lt;div class=&quot;value test     &quot;&gt;&lt;/div&gt;`\r\n3. `&lt;div class=&quot;first value test last&quot;&gt;&lt;/div&gt;`\r\n4. `&lt;div class=&quot;test value&quot;&gt;&lt;/div&gt;`\r\n\r\nHow XPath matches\r\n\r\n- Match only 1 (exact match), barak&#39;s answer\r\n\r\n        driver.findElement(By.xpath(&quot;//div[@class=&#39;value test&#39;]&quot;));\r\n\r\n- Match 1, 2 and 3 (match class contains `value test`, class order matters)\r\n\r\n        driver.findElement(By.xpath(&quot;//div[contains(@class, &#39;value test&#39;)]&quot;));\r\n\r\n\r\n- Match 1, 2, 3 and 4 (as long as elements have class `value` and `test`)\r\n\r\n        driver.findElement(By.xpath(&quot;//div[contains(@class, &#39;value&#39;) and contains(@class, &#39;test&#39;)]&quot;));\r\n\r\nAlso, in cases like this, Css Selector is always in favor of XPath (fast, concise, native).\r\n\r\n- Match 1\r\n\r\n        driver.findElement(By.cssSelector(&quot;div[class=&#39;value test&#39;]&quot;));\r\n\r\n- Match 1, 2 and 3\r\n\r\n        driver.findElement(By.cssSelector(&quot;div[class*=&#39;value test&#39;]&quot;));\r\n\r\n- Match 1, 2, 3 and 4\r\n\r\n        driver.findElement(By.cssSelector(&quot;div.value.test&quot;));","title":"Find div element by multiple class names?","body":"<p>I don't think barak manos's answer has fully explained it.</p>\n\n<p>Imagine we have few elements as the followings:</p>\n\n<ol>\n<li><code>&lt;div class=\"value test\"&gt;&lt;/div&gt;</code></li>\n<li><code>&lt;div class=\"value test     \"&gt;&lt;/div&gt;</code></li>\n<li><code>&lt;div class=\"first value test last\"&gt;&lt;/div&gt;</code></li>\n<li><code>&lt;div class=\"test value\"&gt;&lt;/div&gt;</code></li>\n</ol>\n\n<p>How XPath matches</p>\n\n<ul>\n<li><p>Match only 1 (exact match), barak's answer</p>\n\n<pre><code>driver.findElement(By.xpath(\"//div[@class='value test']\"));\n</code></pre></li>\n<li><p>Match 1, 2 and 3 (match class contains <code>value test</code>, class order matters)</p>\n\n<pre><code>driver.findElement(By.xpath(\"//div[contains(@class, 'value test')]\"));\n</code></pre></li>\n<li><p>Match 1, 2, 3 and 4 (as long as elements have class <code>value</code> and <code>test</code>)</p>\n\n<pre><code>driver.findElement(By.xpath(\"//div[contains(@class, 'value') and contains(@class, 'test')]\"));\n</code></pre></li>\n</ul>\n\n<p>Also, in cases like this, Css Selector is always in favor of XPath (fast, concise, native).</p>\n\n<ul>\n<li><p>Match 1</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"div[class='value test']\"));\n</code></pre></li>\n<li><p>Match 1, 2 and 3</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"div[class*='value test']\"));\n</code></pre></li>\n<li><p>Match 1, 2, 3 and 4</p>\n\n<pre><code>driver.findElement(By.cssSelector(\"div.value.test\"));\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583269981,"creation_date":1583269981,"answer_id":60515585,"question_id":21713280,"body_markdown":"Class By.ByClassName\r\n--------------------\r\nClass [By.ByClassName](https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/By.ByClassName.html#ByClassName-java.lang.String-) is defined in [By.java](https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/By.java#L101) as follows:\r\n\r\n\t/**\r\n\t * Find elements based on the value of the &quot;class&quot; attribute. If an element has multiple classes, then\r\n\t * this will match against each of them. For example, if the value is &quot;one two onone&quot;, then the\r\n\t * class names &quot;one&quot; and &quot;two&quot; will match.\r\n\t *\r\n\t * @param className The value of the &quot;class&quot; attribute to search for.\r\n\t * @return A By which locates elements by the value of the &quot;class&quot; attribute.\r\n\t */\r\n\tpublic static By className(String className) {\r\n\t  return new ByClassName(className);\r\n\t}\r\n\r\n\r\n----------\r\n\r\n\r\nThis usecase\r\n------------\r\nSo as per the defination you can&#39;t pass multiple classes i.e. `value` and `test` as arguments to `@FindBy(className = &quot;...&quot;)`. Sending multiple classes will raise an error as:\r\n\r\n\tinvalid selector: Compound class names not permitted\r\n\r\n\r\n----------\r\n\r\n\r\n\t\r\nSolution\r\n--------\r\nThere are multiple approaches to solve this usecase as follows:\r\n\r\n- If the element is uniquely identified only through the `classname` **`value`** you can use:\r\n\r\n\t\t@FindBy(className = &quot;value&quot;)\r\n\t\t@CacheLookup\r\n\t\tprivate WebElement test;\r\n\t\t\r\n- If the element is uniquely identified only through the `classname` **`test`** you can use:\r\n\r\n\t\t@FindBy(className = &quot;test&quot;)\r\n\t\t@CacheLookup\r\n\t\tprivate WebElement test;\r\n\t\t\r\n- If both the `classnames`, **`value`** and **`test`** are mandatory to identify the element, you can use [tag:css-selectors] as follows:\r\n\r\n\t\t@FindBy(css  = &quot;.value.test&quot;)\r\n\t\t@CacheLookup\r\n\t\tprivate WebElement test;\r\n\t\t\r\n- As an alternative you can also use [tag:xpath] as follows:\r\n\r\n\t\t@FindBy(xpath   = &quot;//*[@class=&#39;value test&#39;]&quot;)\r\n\t\t@CacheLookup\r\n\t\tprivate WebElement test;\r\n\r\n\r\n----------\r\n\r\n\r\n\t\t\r\ntl; dr\r\n------\r\n[Invalid selector: Compound class names not permitted error using Selenium](https://stackoverflow.com/questions/53528072/invalid-selector-compound-class-names-not-permitted-error-using-selenium/53536022#53536022)","title":"Find div element by multiple class names?","body":"<h2>Class By.ByClassName</h2>\n\n<p>Class <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/By.ByClassName.html#ByClassName-java.lang.String-\" rel=\"nofollow noreferrer\">By.ByClassName</a> is defined in <a href=\"https://github.com/SeleniumHQ/selenium/blob/master/java/client/src/org/openqa/selenium/By.java#L101\" rel=\"nofollow noreferrer\">By.java</a> as follows:</p>\n\n<pre><code>/**\n * Find elements based on the value of the \"class\" attribute. If an element has multiple classes, then\n * this will match against each of them. For example, if the value is \"one two onone\", then the\n * class names \"one\" and \"two\" will match.\n *\n * @param className The value of the \"class\" attribute to search for.\n * @return A By which locates elements by the value of the \"class\" attribute.\n */\npublic static By className(String className) {\n  return new ByClassName(className);\n}\n</code></pre>\n\n<hr>\n\n<h2>This usecase</h2>\n\n<p>So as per the defination you can't pass multiple classes i.e. <code>value</code> and <code>test</code> as arguments to <code>@FindBy(className = \"...\")</code>. Sending multiple classes will raise an error as:</p>\n\n<pre><code>invalid selector: Compound class names not permitted\n</code></pre>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>There are multiple approaches to solve this usecase as follows:</p>\n\n<ul>\n<li><p>If the element is uniquely identified only through the <code>classname</code> <strong><code>value</code></strong> you can use:</p>\n\n<pre><code>@FindBy(className = \"value\")\n@CacheLookup\nprivate WebElement test;\n</code></pre></li>\n<li><p>If the element is uniquely identified only through the <code>classname</code> <strong><code>test</code></strong> you can use:</p>\n\n<pre><code>@FindBy(className = \"test\")\n@CacheLookup\nprivate WebElement test;\n</code></pre></li>\n<li><p>If both the <code>classnames</code>, <strong><code>value</code></strong> and <strong><code>test</code></strong> are mandatory to identify the element, you can use <a href=\"/questions/tagged/css-selectors\" class=\"post-tag\" title=\"show questions tagged &#39;css-selectors&#39;\" rel=\"tag\">css-selectors</a> as follows:</p>\n\n<pre><code>@FindBy(css  = \".value.test\")\n@CacheLookup\nprivate WebElement test;\n</code></pre></li>\n<li><p>As an alternative you can also use <a href=\"/questions/tagged/xpath\" class=\"post-tag\" title=\"show questions tagged &#39;xpath&#39;\" rel=\"tag\">xpath</a> as follows:</p>\n\n<pre><code>@FindBy(xpath   = \"//*[@class='value test']\")\n@CacheLookup\nprivate WebElement test;\n</code></pre></li>\n</ul>\n\n<hr>\n\n<h2>tl; dr</h2>\n\n<p><a href=\"https://stackoverflow.com/questions/53528072/invalid-selector-compound-class-names-not-permitted-error-using-selenium/53536022#53536022\">Invalid selector: Compound class names not permitted error using Selenium</a></p>\n"},{"tags":[],"owner":{"account_id":17874577,"reputation":375,"user_id":12984995,"display_name":"Hakun"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1668348829,"creation_date":1668348829,"answer_id":74421775,"question_id":21713280,"body_markdown":"If anyone still wonders, i accomplished this by connecting the class names with dots:\r\n\r\nPython:\r\n```\r\ntime_element = post.find_elements(By.CLASS_NAME, &#39;MUxGbd.wuQ4Ob.WZ8Tjf&#39;)[0].text\r\n```\r\n","title":"Find div element by multiple class names?","body":"<p>If anyone still wonders, i accomplished this by connecting the class names with dots:</p>\n<p>Python:</p>\n<pre><code>time_element = post.find_elements(By.CLASS_NAME, 'MUxGbd.wuQ4Ob.WZ8Tjf')[0].text\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139669,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":21714006,"answer_count":4,"score":79,"last_activity_date":1668348829,"creation_date":1392153689,"question_id":21713280,"body_markdown":"`&lt;div class=&quot;value test&quot; /&gt;`\r\nI&#39;d like to identify that web element. It only has this two classes defined.\r\nI cannot do the following as `className` does not take a space separated value. What are alternatives?\r\n\r\n    @FindBy(className = &quot;value test&quot;)\r\n    @CacheLookup\r\n    private WebElement test;","title":"Find div element by multiple class names?","body":"<p><code>&lt;div class=\"value test\" /&gt;</code>\nI'd like to identify that web element. It only has this two classes defined.\nI cannot do the following as <code>className</code> does not take a space separated value. What are alternatives?</p>\n\n<pre><code>@FindBy(className = \"value test\")\n@CacheLookup\nprivate WebElement test;\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"display_name":"user17233545"},"score":1,"creation_date":1668290436,"post_id":74416784,"comment_id":131370700,"body_markdown":"`\\d+(?:[^ ]+\\d+)?`","body":"<code>\\d+(?:[^ ]+\\d+)?</code>"},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":3,"creation_date":1668290678,"post_id":74416784,"comment_id":131370747,"body_markdown":"I don&#39;t think this is possible with a single regex.","body":"I don&#39;t think this is possible with a single regex."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1668291041,"post_id":74416784,"comment_id":131370821,"body_markdown":"You can try to *remove* non-digits except spaces, and *split* on remaining spaces.","body":"You can try to <i>remove</i> non-digits except spaces, and <i>split</i> on remaining spaces."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":1,"creation_date":1668291973,"post_id":74416784,"comment_id":131371002,"body_markdown":"var numbers = Stream.of(input.replaceAll(&quot;[^\\\\d\\\\s]&quot;,&quot; &quot;).split(&quot; &quot;)).map(Integer::parseInt).collect(Collectors.toList);","body":"var numbers = Stream.of(input.replaceAll(&quot;[^\\\\d\\\\s]&quot;,&quot; &quot;).split(&quot; &quot;)).map(Integer::parseInt).collect(Collectors.toList);"},{"owner":{"account_id":8626170,"reputation":21,"user_id":6459339,"display_name":"Gorg"},"score":1,"creation_date":1668292357,"post_id":74416784,"comment_id":131371060,"body_markdown":"thank you @Pshemo for the idea. I managed to remove all characters beside numbers and whitespaces with this like input.replaceAll(&quot;[^\\\\s0-9]&quot;, &quot;&quot;) and now I got my desired result.","body":"thank you @Pshemo for the idea. I managed to remove all characters beside numbers and whitespaces with this like input.replaceAll(&quot;[^\\\\s0-9]&quot;, &quot;&quot;) and now I got my desired result."},{"owner":{"account_id":10286733,"reputation":3612,"user_id":7589775,"accept_rate":75,"display_name":"LeoDog896"},"score":1,"creation_date":1668294396,"post_id":74416784,"comment_id":131371386,"body_markdown":"Do note that once you have it, you can answer your own question with your found solution!","body":"Do note that once you have it, you can answer your own question with your found solution!"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668347472,"creation_date":1668346219,"answer_id":74421445,"question_id":74416784,"body_markdown":"# [`Matcher.results()`][1]\r\n\r\nWe can create a regular expression that captures a sequence containing at least one digit enclosed with zero or more non-white-space characters both on the left and on the right.\r\n\r\nAnd with this regular expression using Java 9 `Matcher.results()` we can generate a `Stream` of `MatchResult`s, which is an object containing information about the matching group.\r\n\r\nThe only thing left is to extract the matching groups, eliminate non-digit characters, and collect the result.\r\n\r\n    public static final Pattern TEXT_WITH_DIGITS = Pattern.compile(&quot;[^\\\\s]*\\\\d+[^\\\\s]*&quot;);\r\n    \r\n    public static List&lt;Integer&gt; getInts(String str) {\r\n        \r\n        return TEXT_WITH_DIGITS.matcher(str).results() // Stream&lt;MatchResult&gt;\r\n            .map(MatchResult::group)                   // Stream&lt;String&gt; - extract the matching string\r\n            .map(s -&gt; s.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;))        // remove non-digit characters\r\n            .map(Integer::valueOf)                     // Stream&lt;Integer&gt; - parse the string\r\n            .toList();\r\n    }\r\n\r\n# [`Pattern.splitAsStream()`][2]\r\n\r\nAnother option is to split the given string on white spaces. For that, we can make use of the Java 8 `Pattern.splitAsStream()` which generates a stream of elements identical to the ones produced by `String.split()`. The difference is that `Pattern.splitAsStream()` creates a stream directly from the regex engine without allocating an intermediate array in memory.\r\n\r\nThen to apply the same transformation as in the previous example with one small addition: we need to address the edge-case when the givens string starts with a white-space. In such case, the very first element would be an empty string, and we can use [`dropWhile()`][3] to discard such string.\r\n\r\n    public static final Pattern WHITE_SPACES = Pattern.compile(&quot;\\\\s+&quot;);\r\n    \r\n    public static List&lt;Integer&gt; getInts(String str) {\r\n        \r\n        return WHITE_SPACES.splitAsStream(str)\r\n            .dropWhile(String::isEmpty)         // very first element might be empty, and if that&#39;s the case it needs to be skipped\r\n            .map(s -&gt; s.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;)) // remove non-digit characters\r\n            .map(Integer::valueOf)              // Stream&lt;Integer&gt; - parse the string\r\n            .toList();\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(getInts(&quot;ds[44]%6c&quot;));\r\n        System.out.println(getInts(&quot;2021 ds[44]%6c&quot;));\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[446]       // &quot;ds[44]%6c&quot;\r\n[2021, 446] // &quot;2021 ds[44]%6c&quot;\r\n```\r\n\r\n\r\n\r\n   [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\r\n\r\n   [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)\r\n\r\n   [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#dropWhile(java.util.function.Predicate)","title":"Capture a Digits mixed with Characters excluding White-space as a Number using Regex","body":"<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\" rel=\"nofollow noreferrer\"><code>Matcher.results()</code></a></h1>\n<p>We can create a regular expression that captures a sequence containing at least one digit enclosed with zero or more non-white-space characters both on the left and on the right.</p>\n<p>And with this regular expression using Java 9 <code>Matcher.results()</code> we can generate a <code>Stream</code> of <code>MatchResult</code>s, which is an object containing information about the matching group.</p>\n<p>The only thing left is to extract the matching groups, eliminate non-digit characters, and collect the result.</p>\n<pre><code>public static final Pattern TEXT_WITH_DIGITS = Pattern.compile(&quot;[^\\\\s]*\\\\d+[^\\\\s]*&quot;);\n\npublic static List&lt;Integer&gt; getInts(String str) {\n    \n    return TEXT_WITH_DIGITS.matcher(str).results() // Stream&lt;MatchResult&gt;\n        .map(MatchResult::group)                   // Stream&lt;String&gt; - extract the matching string\n        .map(s -&gt; s.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;))        // remove non-digit characters\n        .map(Integer::valueOf)                     // Stream&lt;Integer&gt; - parse the string\n        .toList();\n}\n</code></pre>\n<h1><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>Pattern.splitAsStream()</code></a></h1>\n<p>Another option is to split the given string on white spaces. For that, we can make use of the Java 8 <code>Pattern.splitAsStream()</code> which generates a stream of elements identical to the ones produced by <code>String.split()</code>. The difference is that <code>Pattern.splitAsStream()</code> creates a stream directly from the regex engine without allocating an intermediate array in memory.</p>\n<p>Then to apply the same transformation as in the previous example with one small addition: we need to address the edge-case when the givens string starts with a white-space. In such case, the very first element would be an empty string, and we can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#dropWhile(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>dropWhile()</code></a> to discard such string.</p>\n<pre><code>public static final Pattern WHITE_SPACES = Pattern.compile(&quot;\\\\s+&quot;);\n\npublic static List&lt;Integer&gt; getInts(String str) {\n    \n    return WHITE_SPACES.splitAsStream(str)\n        .dropWhile(String::isEmpty)         // very first element might be empty, and if that's the case it needs to be skipped\n        .map(s -&gt; s.replaceAll(&quot;\\\\D+&quot;, &quot;&quot;)) // remove non-digit characters\n        .map(Integer::valueOf)              // Stream&lt;Integer&gt; - parse the string\n        .toList();\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    System.out.println(getInts(&quot;ds[44]%6c&quot;));\n    System.out.println(getInts(&quot;2021 ds[44]%6c&quot;));\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[446]       // &quot;ds[44]%6c&quot;\n[2021, 446] // &quot;2021 ds[44]%6c&quot;\n</code></pre>\n"}],"owner":{"account_id":8626170,"reputation":21,"user_id":6459339,"display_name":"Gorg"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1668348617,"creation_date":1668289205,"question_id":74416784,"body_markdown":"I have a text that can contain numbers, letters and special characters and I want to extract all the numbers in it using a regular expression.\r\n\r\nThe tricky part is that any two numbers with characters in between should be extracted as a whole number. Any two numbers with spaces in between should yield as two separate numbers.\r\n\r\nExample: `ds[44]%6c` should yield `446` but `2021 ds[44]%6c` should yield `2021`, `446`\r\n\r\nI have tried the following Regex\r\n\r\n    (-?\\d+)\r\n\r\nWhich works fine to some extent, but I don&#39;t know how to match until I see a whitespace and ignore the chars between the numbers.","title":"Capture a Digits mixed with Characters excluding White-space as a Number using Regex","body":"<p>I have a text that can contain numbers, letters and special characters and I want to extract all the numbers in it using a regular expression.</p>\n<p>The tricky part is that any two numbers with characters in between should be extracted as a whole number. Any two numbers with spaces in between should yield as two separate numbers.</p>\n<p>Example: <code>ds[44]%6c</code> should yield <code>446</code> but <code>2021 ds[44]%6c</code> should yield <code>2021</code>, <code>446</code></p>\n<p>I have tried the following Regex</p>\n<pre><code>(-?\\d+)\n</code></pre>\n<p>Which works fine to some extent, but I don't know how to match until I see a whitespace and ignore the chars between the numbers.</p>\n"},{"tags":["java","recursion","lambda","biginteger"],"comments":[{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1637582278,"post_id":70064733,"comment_id":123856399,"body_markdown":"Hi Bryead - I understand that you are asking about homework, and provide a couple of screenshots of the statement &amp; example output. Copying the *relevant* parts of the text of those screenshots would make your answer much easier to answer - which is would be a win for you: more &amp; better answers.","body":"Hi Bryead - I understand that you are asking about homework, and provide a couple of screenshots of the statement &amp; example output. Copying the <i>relevant</i> parts of the text of those screenshots would make your answer much easier to answer - which is would be a win for you: more &amp; better answers."},{"owner":{"account_id":15068624,"reputation":120,"user_id":10874912,"display_name":"Bryead"},"score":0,"creation_date":1637717040,"post_id":70064733,"comment_id":123899622,"body_markdown":"hi @tucuxi, I have edited the question to include the text of the screenshots.","body":"hi @tucuxi, I have edited the question to include the text of the screenshots."}],"answers":[{"tags":[],"owner":{"account_id":23244272,"reputation":64,"user_id":17333065,"display_name":"StartsMercury"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637580554,"creation_date":1637580554,"answer_id":70065065,"question_id":70064733,"body_markdown":"```java\r\nclass LearningBigInteger {\r\n    // Iterable version\r\n    static BigInteger product(BigInteger n, BigOperation... ops) {\r\n        BigInteger temp = n;\r\n\r\n        for (BigOperation op : ops) {\r\n            // I only have temp to work it\r\n            // so it is being processed\r\n            // to itself, pointless i know!\r\n            temp = op.operation(temp, temp);\r\n        }\r\n\r\n        return temp;\r\n    }\r\n\r\n    // Discrete version\r\n    static BigInteger product(BigInteger n,BigOperation op1, BigOperation op2, BigOperation op3){\r\n        BigInteger temp = n;\r\n\r\n        // This layout is good\r\n        // if you keep the same temp\r\n        // variable as input!\r\n        temp = op1.operation(temp, temp);\r\n        temp = op2.operation(temp, temp);\r\n        temp = op3.operation(temp, temp);\r\n\r\n        return temp;\r\n    }\r\n}\r\n```\r\n\r\nAlso I can&#39;t open the links you provided. Notify me when fixed!","title":"Lambda - Question regarding BigInteger and Lambda Usage in this specific application","body":"<pre class=\"lang-java prettyprint-override\"><code>class LearningBigInteger {\n    // Iterable version\n    static BigInteger product(BigInteger n, BigOperation... ops) {\n        BigInteger temp = n;\n\n        for (BigOperation op : ops) {\n            // I only have temp to work it\n            // so it is being processed\n            // to itself, pointless i know!\n            temp = op.operation(temp, temp);\n        }\n\n        return temp;\n    }\n\n    // Discrete version\n    static BigInteger product(BigInteger n,BigOperation op1, BigOperation op2, BigOperation op3){\n        BigInteger temp = n;\n\n        // This layout is good\n        // if you keep the same temp\n        // variable as input!\n        temp = op1.operation(temp, temp);\n        temp = op2.operation(temp, temp);\n        temp = op3.operation(temp, temp);\n\n        return temp;\n    }\n}\n</code></pre>\n<p>Also I can't open the links you provided. Notify me when fixed!</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637584848,"creation_date":1637582652,"answer_id":70065461,"question_id":70064733,"body_markdown":"First the code. Explanations appear after the code.\r\n```java\r\nimport java.math.BigInteger;\r\n\r\npublic class LearningBigInteger {\r\n    private static BigOperation multiply;\r\n    private static BigOperation divide;\r\n    private static BigOperation remainder;\r\n\r\n    private static BigInteger digitProduct(BigInteger x) {\r\n        if (x.compareTo(BigInteger.TEN) &lt;= 0) {\r\n            return x;\r\n        }\r\n        else {\r\n            BigInteger r = remainder.operation(x, BigInteger.TEN);\r\n            BigInteger newX = divide.operation(x, BigInteger.TEN);\r\n            return multiply.operation(r, digitProduct(newX));\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        multiply = (x, y) -&gt; x.multiply(y);\r\n        divide = (x, y) -&gt; x.divide(y);\r\n        remainder = (x, y) -&gt; x.remainder(y);\r\n        BigInteger x = new BigInteger(&quot;8584803&quot;);\r\n        BigInteger product = BigInteger.ONE;\r\n        while (x.compareTo(BigInteger.TEN) &gt;= 0) {\r\n            BigInteger r = remainder.operation(x, BigInteger.TEN);\r\n            product = multiply.operation(product, r);\r\n            x = divide.operation(x, BigInteger.TEN);\r\n        }\r\n        System.out.println(product);\r\n        System.out.println(digitProduct(new BigInteger(&quot;12345&quot;)));\r\n    }\r\n}\r\n\r\ninterface BigOperation {\r\n    public BigInteger operation(BigInteger x,BigInteger y);\r\n}\r\n```\r\nInterface `BigOperation` is referred to as a *functional interface* because it contains exactly one [abstract] method.\r\n\r\nA lambda expression is a shorthand way of writing an implementation of the sole method in a functional interface.\r\n\r\nThe way to write a lambda expression is to first write the list of parameters for the method, followed by the arrow symbol and finally followed by the method body. The syntax varies slightly depending on the number of method parameters and the number of lines in the method body. In the above code, the syntax is for a method with two parameters and the method body is just one line. The syntax would be different if either there was just one method parameter or if there were more than one line in the method body.\r\n\r\nThe code in your question uses [method references][1] which, I suppose, are a special form of [lambda expression][2].\r\n\r\nIn the above code, method `main` contains the iterative approach while method `digitProduct` implements the recursive approach.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html","title":"Lambda - Question regarding BigInteger and Lambda Usage in this specific application","body":"<p>First the code. Explanations appear after the code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.math.BigInteger;\n\npublic class LearningBigInteger {\n    private static BigOperation multiply;\n    private static BigOperation divide;\n    private static BigOperation remainder;\n\n    private static BigInteger digitProduct(BigInteger x) {\n        if (x.compareTo(BigInteger.TEN) &lt;= 0) {\n            return x;\n        }\n        else {\n            BigInteger r = remainder.operation(x, BigInteger.TEN);\n            BigInteger newX = divide.operation(x, BigInteger.TEN);\n            return multiply.operation(r, digitProduct(newX));\n        }\n    }\n\n    public static void main(String[] args) {\n        multiply = (x, y) -&gt; x.multiply(y);\n        divide = (x, y) -&gt; x.divide(y);\n        remainder = (x, y) -&gt; x.remainder(y);\n        BigInteger x = new BigInteger(&quot;8584803&quot;);\n        BigInteger product = BigInteger.ONE;\n        while (x.compareTo(BigInteger.TEN) &gt;= 0) {\n            BigInteger r = remainder.operation(x, BigInteger.TEN);\n            product = multiply.operation(product, r);\n            x = divide.operation(x, BigInteger.TEN);\n        }\n        System.out.println(product);\n        System.out.println(digitProduct(new BigInteger(&quot;12345&quot;)));\n    }\n}\n\ninterface BigOperation {\n    public BigInteger operation(BigInteger x,BigInteger y);\n}\n</code></pre>\n<p>Interface <code>BigOperation</code> is referred to as a <em>functional interface</em> because it contains exactly one [abstract] method.</p>\n<p>A lambda expression is a shorthand way of writing an implementation of the sole method in a functional interface.</p>\n<p>The way to write a lambda expression is to first write the list of parameters for the method, followed by the arrow symbol and finally followed by the method body. The syntax varies slightly depending on the number of method parameters and the number of lines in the method body. In the above code, the syntax is for a method with two parameters and the method body is just one line. The syntax would be different if either there was just one method parameter or if there were more than one line in the method body.</p>\n<p>The code in your question uses <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/methodreferences.html\" rel=\"nofollow noreferrer\">method references</a> which, I suppose, are a special form of <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"nofollow noreferrer\">lambda expression</a>.</p>\n<p>In the above code, method <code>main</code> contains the iterative approach while method <code>digitProduct</code> implements the recursive approach.</p>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637616376,"creation_date":1637616376,"answer_id":70072556,"question_id":70064733,"body_markdown":"Try this.\r\n\r\n    interface BigOperation {\r\n        BigInteger operation(BigInteger x, BigInteger y);\r\n    }\r\n\r\n    static class Iterative {\r\n        static BigInteger product(BigInteger x, BigOperation op1, BigOperation op2, BigOperation op3) {\r\n            BigInteger product = BigInteger.ONE;\r\n            for ( ; x.compareTo(BigInteger.ZERO) &gt; 0; x = op2.operation(x, BigInteger.TEN))\r\n                product = op1.operation(product, op3.operation(x, BigInteger.TEN));\r\n            return product;\r\n        }\r\n    }\r\n\r\n    static class Recursive {\r\n        static BigInteger product(BigInteger x, BigOperation op1, BigOperation op2, BigOperation op3) {\r\n            if (x.compareTo(BigInteger.TEN) &lt; 0)\r\n                return x;\r\n            else\r\n                return op1.operation(op3.operation(x, BigInteger.TEN),\r\n                    product(op2.operation(x, BigInteger.TEN), op1, op2, op3));\r\n        }\r\n    }\r\n\r\nand\r\n\r\n    static void test(BigInteger x, BigOperation op1, BigOperation op2, BigOperation op3) {\r\n        System.out.println(&quot;Given bit integer &quot; + x);\r\n        System.out.println(&quot;(Iterative) &quot; + Iterative.product(x, op1, op2, op3));\r\n        System.out.println(&quot;(Recursive) &quot; + Recursive.product(x, op1, op2, op3));\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        BigOperation multiply = BigInteger::multiply;\r\n        BigOperation divide = BigInteger::divide;\r\n        BigOperation remainder = BigInteger::remainder;\r\n        test(new BigInteger(&quot;8584803&quot;), multiply, divide, remainder);\r\n        test(new BigInteger(&quot;12345&quot;), multiply, divide, remainder);\r\n    }\r\n\r\noutput:\r\n\r\n    Given bit integer 8584803\r\n    (Iterative) 0\r\n    (Recursive) 0\r\n    Given bit integer 12345\r\n    (Iterative) 120\r\n    (Recursive) 120\r\n\r\n","title":"Lambda - Question regarding BigInteger and Lambda Usage in this specific application","body":"<p>Try this.</p>\n<pre><code>interface BigOperation {\n    BigInteger operation(BigInteger x, BigInteger y);\n}\n\nstatic class Iterative {\n    static BigInteger product(BigInteger x, BigOperation op1, BigOperation op2, BigOperation op3) {\n        BigInteger product = BigInteger.ONE;\n        for ( ; x.compareTo(BigInteger.ZERO) &gt; 0; x = op2.operation(x, BigInteger.TEN))\n            product = op1.operation(product, op3.operation(x, BigInteger.TEN));\n        return product;\n    }\n}\n\nstatic class Recursive {\n    static BigInteger product(BigInteger x, BigOperation op1, BigOperation op2, BigOperation op3) {\n        if (x.compareTo(BigInteger.TEN) &lt; 0)\n            return x;\n        else\n            return op1.operation(op3.operation(x, BigInteger.TEN),\n                product(op2.operation(x, BigInteger.TEN), op1, op2, op3));\n    }\n}\n</code></pre>\n<p>and</p>\n<pre><code>static void test(BigInteger x, BigOperation op1, BigOperation op2, BigOperation op3) {\n    System.out.println(&quot;Given bit integer &quot; + x);\n    System.out.println(&quot;(Iterative) &quot; + Iterative.product(x, op1, op2, op3));\n    System.out.println(&quot;(Recursive) &quot; + Recursive.product(x, op1, op2, op3));\n}\n\npublic static void main(String[] args) {\n    BigOperation multiply = BigInteger::multiply;\n    BigOperation divide = BigInteger::divide;\n    BigOperation remainder = BigInteger::remainder;\n    test(new BigInteger(&quot;8584803&quot;), multiply, divide, remainder);\n    test(new BigInteger(&quot;12345&quot;), multiply, divide, remainder);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>Given bit integer 8584803\n(Iterative) 0\n(Recursive) 0\nGiven bit integer 12345\n(Iterative) 120\n(Recursive) 120\n</code></pre>\n"}],"owner":{"account_id":15068624,"reputation":120,"user_id":10874912,"display_name":"Bryead"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70072556,"answer_count":3,"score":1,"last_activity_date":1668348377,"creation_date":1637578903,"question_id":70064733,"body_markdown":"[BigInteger_Question][1]\r\n\r\n[Sample_Output][2]\r\n\r\nGiven the following interface class\r\n\r\n    interface BigOperation\r\n    {\r\n        public BigInteger operation (Biglnteger x, Biglnteger y);\r\n    }\r\n\r\nWrite Lambda expressions to implement BigOperation to simulate three arithmetic operations\r\n/ and % on Biglnteger. You can call them op1, op2 and op3 respectively. Note that the three\r\noperations in Biglnteger are called multiply, divide and remainder respectively.\r\nUsing these three operations, we wish to multiply all the digits in a Biglnteger. For example, if the\r\nBiglnteger is 234, the product is 2 * 3 * 4 = 24. The method has the following method heading:\r\n  \r\n\r\n    static Biglnteger product (BigInteger n, BigOperation op1, BigOperation op2,\r\n    BigOperation op3)\r\n\r\nCompare the implementation of this method using two approaches: Iterative and Recursive.\r\nPut the Lambda expressions in a main method. Construct a few Biglnteger objects, invoke the\r\nmethods to test our design. The following shows some of the sample outputs:\r\n\r\n\r\n\r\n    Given big integer 8584803\r\n    (Iterative) e\r\n    (Recursive) 0\r\n    Given big integer 12345\r\n    (Iterative) 120\r\n    (Recursive) 120\r\n\r\n\r\nI have no idea how to proceed with the code after what I have as attached. I wanted to try looping through the `BigInteger N` with a *foreach* but it doesn&#39;t seem to work. Next, I wanted to do a `for(int i = 0)`, etc. loop but I do not know how to get location reference to a `BigInteger` variable. I don&#39;t know how to use lambda for this.\r\n\r\nThanks in advance for answering my queries.\r\n\r\n    import java.math.BigInteger;\r\n    import java.util.Random;\r\n\r\n    interface BigOperation{\r\n        public BigInteger operation(BigInteger x,BigInteger y);\r\n    }\r\n    \r\n    class LearningBigInteger {\r\n        static BigInteger product(BigInteger n,BigOperation op1, BigOperation op2, BigOperation op3){\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            BigOperation multiply = BigInteger::multiply;\r\n            BigOperation divide = BigInteger::divide;\r\n            BigOperation remainder = BigInteger::remainder;\r\n            Random r = new Random();\r\n            BigInteger n = BigInteger.valueOf(Math.abs(r.nextInt()));\r\n            BigInteger m = product(n,multiply,divide,remainder);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0y3sr.png/\r\n  [2]: https://i.stack.imgur.com/kmY0i.png/","title":"Lambda - Question regarding BigInteger and Lambda Usage in this specific application","body":"<p><a href=\"https://i.stack.imgur.com/0y3sr.png/\" rel=\"nofollow noreferrer\">BigInteger_Question</a></p>\n<p><a href=\"https://i.stack.imgur.com/kmY0i.png/\" rel=\"nofollow noreferrer\">Sample_Output</a></p>\n<p>Given the following interface class</p>\n<pre><code>interface BigOperation\n{\n    public BigInteger operation (Biglnteger x, Biglnteger y);\n}\n</code></pre>\n<p>Write Lambda expressions to implement BigOperation to simulate three arithmetic operations\n/ and % on Biglnteger. You can call them op1, op2 and op3 respectively. Note that the three\noperations in Biglnteger are called multiply, divide and remainder respectively.\nUsing these three operations, we wish to multiply all the digits in a Biglnteger. For example, if the\nBiglnteger is 234, the product is 2 * 3 * 4 = 24. The method has the following method heading:</p>\n<pre><code>static Biglnteger product (BigInteger n, BigOperation op1, BigOperation op2,\nBigOperation op3)\n</code></pre>\n<p>Compare the implementation of this method using two approaches: Iterative and Recursive.\nPut the Lambda expressions in a main method. Construct a few Biglnteger objects, invoke the\nmethods to test our design. The following shows some of the sample outputs:</p>\n<pre><code>Given big integer 8584803\n(Iterative) e\n(Recursive) 0\nGiven big integer 12345\n(Iterative) 120\n(Recursive) 120\n</code></pre>\n<p>I have no idea how to proceed with the code after what I have as attached. I wanted to try looping through the <code>BigInteger N</code> with a <em>foreach</em> but it doesn't seem to work. Next, I wanted to do a <code>for(int i = 0)</code>, etc. loop but I do not know how to get location reference to a <code>BigInteger</code> variable. I don't know how to use lambda for this.</p>\n<p>Thanks in advance for answering my queries.</p>\n<pre><code>import java.math.BigInteger;\nimport java.util.Random;\n\ninterface BigOperation{\n    public BigInteger operation(BigInteger x,BigInteger y);\n}\n\nclass LearningBigInteger {\n    static BigInteger product(BigInteger n,BigOperation op1, BigOperation op2, BigOperation op3){\n    }\n\n    public static void main(String[] args) {\n        BigOperation multiply = BigInteger::multiply;\n        BigOperation divide = BigInteger::divide;\n        BigOperation remainder = BigInteger::remainder;\n        Random r = new Random();\n        BigInteger n = BigInteger.valueOf(Math.abs(r.nextInt()));\n        BigInteger m = product(n,multiply,divide,remainder);\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx-19"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668356616,"post_id":74421577,"comment_id":131380100,"body_markdown":"First, [don’t use PropertyValueFactory.](https://stackoverflow.com/questions/65785787/javafx-tableview-not-showing-data-something-wrong-with-getter-setters/65786210#65786210)  Second, IntegerStringConverter implements `StringConverter&lt;Integer&gt;`, so your `colID` TableColumn must also use that same type as its second argument.  Meaning, you must declare it as `TableColumn&lt;Customer, Integer&gt; colID;`.","body":"First, <a href=\"https://stackoverflow.com/questions/65785787/javafx-tableview-not-showing-data-something-wrong-with-getter-setters/65786210#65786210\">don’t use PropertyValueFactory.</a>  Second, IntegerStringConverter implements <code>StringConverter&lt;Integer&gt;</code>, so your <code>colID</code> TableColumn must also use that same type as its second argument.  Meaning, you must declare it as <code>TableColumn&lt;Customer, Integer&gt; colID;</code>."},{"owner":{"account_id":26918443,"reputation":11,"user_id":20492884,"display_name":"Cabbage"},"score":0,"creation_date":1668428262,"post_id":74421577,"comment_id":131394864,"body_markdown":"Thank you, I will have a try as soon as possible.","body":"Thank you, I will have a try as soon as possible."},{"owner":{"account_id":26918443,"reputation":11,"user_id":20492884,"display_name":"Cabbage"},"score":0,"creation_date":1668430010,"post_id":74421577,"comment_id":131395473,"body_markdown":"Hi VGR, belonging to the PropertyValueFactory there is no problem with my strings but with my int value colID. I&#39;m stucking with the type cast because the CellValueFactory wants an observable and the value is of type int. I&#39;m not able to manage the type cast. Code: clientId.setCellValueFactory(f -&gt; f.getValue().idProperty()); I tried: colID.setCellValueFactory(f -&gt; new SimpleIntegerProperty().getValue((Integer.valueOf(f.getValue().getID())));","body":"Hi VGR, belonging to the PropertyValueFactory there is no problem with my strings but with my int value colID. I&#39;m stucking with the type cast because the CellValueFactory wants an observable and the value is of type int. I&#39;m not able to manage the type cast. Code: clientId.setCellValueFactory(f -&gt; f.getValue().idProperty()); I tried: colID.setCellValueFactory(f -&gt; new SimpleIntegerProperty().getValue((Integer.valueOf(f.getValue&zwnj;&#8203;().getID())));"},{"owner":{"account_id":26918443,"reputation":11,"user_id":20492884,"display_name":"Cabbage"},"score":0,"creation_date":1668430773,"post_id":74421577,"comment_id":131395714,"body_markdown":"Again hi VGR, so after reading the PropertyValueFactory stuff again, I need a second getter for every getXXX method. Ok, I can do so but it seems a little bit of much work for me. Is that the standard way in Java? I yes, I will do so... Thanks, Cabbage","body":"Again hi VGR, so after reading the PropertyValueFactory stuff again, I need a second getter for every getXXX method. Ok, I can do so but it seems a little bit of much work for me. Is that the standard way in Java? I yes, I will do so... Thanks, Cabbage"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668430812,"post_id":74421577,"comment_id":131395734,"body_markdown":"IntegerProperty is actually a `Property&lt;Number&gt;`, so you will want to declare colID as `TableColumn&lt;Customer, Number&gt;` and you will want to use [NumberStringConverter](https://openjfx.io/javadoc/19/javafx.base/javafx/util/converter/NumberStringConverter.html) instead of IntegerStringConverter.  To restrict the converter’s values to integers, use `new NumberStringConverter(NumberFormat.getIntegerInstance())`.","body":"IntegerProperty is actually a <code>Property&lt;Number&gt;</code>, so you will want to declare colID as <code>TableColumn&lt;Customer, Number&gt;</code> and you will want to use <a href=\"https://openjfx.io/javadoc/19/javafx.base/javafx/util/converter/NumberStringConverter.html\" rel=\"nofollow noreferrer\">NumberStringConverter</a> instead of IntegerStringConverter.  To restrict the converter’s values to integers, use <code>new NumberStringConverter(NumberFormat.getIntegerInstance())</code>."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668430864,"post_id":74421577,"comment_id":131395751,"body_markdown":"Writing three methods instead of two methods for every property is a little more work, yes.  But you only have to do it once.  It doesn’t take that long.","body":"Writing three methods instead of two methods for every property is a little more work, yes.  But you only have to do it once.  It doesn’t take that long."},{"owner":{"account_id":26918443,"reputation":11,"user_id":20492884,"display_name":"Cabbage"},"score":0,"creation_date":1668431152,"post_id":74421577,"comment_id":131395844,"body_markdown":"Hi VGR, sure, it&#39;s copy and paste and not so much work after that. I will do so. Thanks again.","body":"Hi VGR, sure, it&#39;s copy and paste and not so much work after that. I will do so. Thanks again."},{"owner":{"account_id":26918443,"reputation":11,"user_id":20492884,"display_name":"Cabbage"},"score":0,"creation_date":1668431374,"post_id":74421577,"comment_id":131395922,"body_markdown":"One last question for today: Is it better to to have observable getter and setter in the data container or is it state of the art to do the cast in the controller?","body":"One last question for today: Is it better to to have observable getter and setter in the data container or is it state of the art to do the cast in the controller?"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668431688,"post_id":74421577,"comment_id":131396034,"body_markdown":"I’m not sure what cast you are referring to.  A data class should have a get-method and property accessor method for every property, and if a property is writable, a set-method as well.  No casts should be necessary.","body":"I’m not sure what cast you are referring to.  A data class should have a get-method and property accessor method for every property, and if a property is writable, a set-method as well.  No casts should be necessary."}],"owner":{"account_id":26918443,"reputation":11,"user_id":20492884,"display_name":"Cabbage"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1668347724,"creation_date":1668347299,"question_id":74421577,"body_markdown":"Java is new to me and I&#39;ve been trying to make an int column editable in a TableView for 1.5 days. I know many examples exist here, but they all don&#39;t work for me (for whatever reason). One example that I have found very often would be:\r\n\r\ncolID.setCellFactory(TextFieldTableCell.forTableColumn(new IntegerStringConverter()));\r\n\r\nbut this leads me to a message about incompatible types. I would need once only a short example of what works. Also, I would be interested to know why the many examples found here do not work for me. I am using JavaFX19, can this be the reason? \r\n\r\nIt would be great if someone could help me with this. Thank you...\r\n\r\nThat is my Customer class and I want to edit the ID column and the method in my CotrollerClass causing the problems on setCellFactory...\r\n```\r\n\r\n```\r\npublic class Customer {\r\n    \r\n    /**\r\n    * Standardkonstruktor\r\n    */\r\n    public Customer(){}\r\n    \r\n    /**\r\n    * Konstruktor zur Erzeugung gef&#252;llter Customer-Objekte\r\n    * @param id ID des Customers\r\n    * @param vorName Vorname des Customers\r\n    * @param nachName Nachname des Customers\r\n    */\r\n    public Customer(int id, String vorName, String nachName){\r\n        intID = id;\r\n        strVorName = vorName;\r\n        strNachName = nachName;\r\n    }\r\n    \r\n    public int getID() {\r\n        return intID;\r\n    }\r\n\r\n    public void setID(int id) {\r\n        this.intID = id;\r\n    }\r\n\r\n    public String getVorName() {\r\n        return strVorName;\r\n    }\r\n\r\n    public void setVorName(String vorName) {\r\n        this.strVorName = vorName;\r\n    }\r\n\r\n    public String getNachName() {\r\n        return strNachName;\r\n    }\r\n\r\n    public void setNachName(String nachName) {\r\n        this.strNachName = nachName;\r\n    }    \r\n    \r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Klassenvariablen &quot;&gt;\r\n    \r\n    private int intID;\r\n    private String strVorName;\r\n    private String  strNachName;    \r\n    \r\n    // &lt;/editor-fold&gt;\r\n\r\n}\r\n```\r\n\r\n```\r\n    private void rebindData(){\r\n        tblCustomers.setItems(customers);\r\n\r\n        colID.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;ID&quot;));\r\n        colGivenName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;VorName&quot;));\r\n        colName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;NachName&quot;));\r\n                \r\n        /************************************************************/\r\n        //colID.setCellFactory(TextFieldTableCell.forTableColumn());\r\n        /************************************************************/\r\n        \r\n        \r\n        colID.setCellFactory(TextFieldTableCell.forTableColumn(new IntegerStringConverter()));\r\n\r\n        \r\n        //void setCellFactory(Callback&lt;TableColumn&lt;Customer, String&gt;, TableCell&lt;Customer, String&gt;&gt; value) - parameters\r\n        //public static &lt;S,T&gt; Callback&lt;TableColumn&lt;S,T&gt;,TableCell&lt;S,T&gt;&gt; forTableColumn(StringConverter&lt;T&gt; converter)\r\n        \r\n        colGivenName.setCellFactory(TextFieldTableCell.forTableColumn());\r\n        colGivenName.setOnEditCommit(event-&gt; {\r\n            event.getRowValue().setVorName(event.getNewValue());\r\n        });\r\n        \r\n        colName.setCellFactory(TextFieldTableCell.forTableColumn());\r\n        colName.setOnEditCommit(event-&gt; {\r\n            event.getRowValue().setNachName(event.getNewValue());\r\n        });\r\n        \r\n        tblCustomers.refresh();\r\n    }    \r\n```\r\n\r\n```\r\n","title":"JavaFX 19: Not able to get int columns in a tableview editable","body":"<p>Java is new to me and I've been trying to make an int column editable in a TableView for 1.5 days. I know many examples exist here, but they all don't work for me (for whatever reason). One example that I have found very often would be:</p>\n<p>colID.setCellFactory(TextFieldTableCell.forTableColumn(new IntegerStringConverter()));</p>\n<p>but this leads me to a message about incompatible types. I would need once only a short example of what works. Also, I would be interested to know why the many examples found here do not work for me. I am using JavaFX19, can this be the reason?</p>\n<p>It would be great if someone could help me with this. Thank you...</p>\n<p>That is my Customer class and I want to edit the ID column and the method in my CotrollerClass causing the problems on setCellFactory...</p>\n<pre><code>\n</code></pre>\n<p>public class Customer {</p>\n<pre><code>/**\n* Standardkonstruktor\n*/\npublic Customer(){}\n\n/**\n* Konstruktor zur Erzeugung gefüllter Customer-Objekte\n* @param id ID des Customers\n* @param vorName Vorname des Customers\n* @param nachName Nachname des Customers\n*/\npublic Customer(int id, String vorName, String nachName){\n    intID = id;\n    strVorName = vorName;\n    strNachName = nachName;\n}\n\npublic int getID() {\n    return intID;\n}\n\npublic void setID(int id) {\n    this.intID = id;\n}\n\npublic String getVorName() {\n    return strVorName;\n}\n\npublic void setVorName(String vorName) {\n    this.strVorName = vorName;\n}\n\npublic String getNachName() {\n    return strNachName;\n}\n\npublic void setNachName(String nachName) {\n    this.strNachName = nachName;\n}    \n\n// &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot; Klassenvariablen &quot;&gt;\n\nprivate int intID;\nprivate String strVorName;\nprivate String  strNachName;    \n\n// &lt;/editor-fold&gt;\n</code></pre>\n<p>}</p>\n<pre><code>\n</code></pre>\n<pre><code>private void rebindData(){\n    tblCustomers.setItems(customers);\n\n    colID.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;ID&quot;));\n    colGivenName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;VorName&quot;));\n    colName.setCellValueFactory(new PropertyValueFactory&lt;&gt;(&quot;NachName&quot;));\n            \n    /************************************************************/\n    //colID.setCellFactory(TextFieldTableCell.forTableColumn());\n    /************************************************************/\n    \n    \n    colID.setCellFactory(TextFieldTableCell.forTableColumn(new IntegerStringConverter()));\n\n    \n    //void setCellFactory(Callback&lt;TableColumn&lt;Customer, String&gt;, TableCell&lt;Customer, String&gt;&gt; value) - parameters\n    //public static &lt;S,T&gt; Callback&lt;TableColumn&lt;S,T&gt;,TableCell&lt;S,T&gt;&gt; forTableColumn(StringConverter&lt;T&gt; converter)\n    \n    colGivenName.setCellFactory(TextFieldTableCell.forTableColumn());\n    colGivenName.setOnEditCommit(event-&gt; {\n        event.getRowValue().setVorName(event.getNewValue());\n    });\n    \n    colName.setCellFactory(TextFieldTableCell.forTableColumn());\n    colName.setOnEditCommit(event-&gt; {\n        event.getRowValue().setNachName(event.getNewValue());\n    });\n    \n    tblCustomers.refresh();\n}    \n</code></pre>\n<pre><code>\n</code></pre>\n"},{"tags":["java","memory-model","java-memory-model","jls"],"answers":[{"tags":[],"owner":{"account_id":26918492,"reputation":46,"user_id":20492932,"display_name":"user20492932"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668346402,"creation_date":1668346402,"answer_id":74421466,"question_id":74413268,"body_markdown":"The proof is in [The Java Memory Model by J.Manson, W.Pugh and S.Adve][paper]:\r\n\r\n&gt; 9.2.1 Correctly synchronized programs exhibit only sequentially consistent behaviors\r\n&gt; ---\r\n&gt; \r\n&gt; Lemma 2. _Consider an execution E of a correctly synchronized program P that is legal under the Java memory model. If, in E, each read sees a write that happens-before it, E has sequentially consistent behavior._\r\n&gt; \r\n&gt; **Proof:**  \r\n&gt; Since the execution is legal under the memory model, the execution is happens-before consistent and synchronization order consistent.  \r\n&gt; A topological sort on the happens-before edges of the actions in an execution gives a total order consistent with program order and synchronization order. Let _r_ be the first read in _E_ that doesn’t see the most recent conflicting write _w_ in the sorted order but instead sees _w′_. Let the topological sort of _E_ be _αw′βwγrδ_.  \r\n&gt; Let _αw′βwγr′δ′_ be the topological sort of an execution _E′_. _E′_ is obtained exactly as _E_, except that instead of _r_, it performs the action _r′_, which is the same as _r_ except that it sees _w_; _δ′_ is any sequentially consistent completion of the program such that each read sees the previous conflicting write.  \r\n&gt; The execution _E′_ is sequentially consistent, and it is not the case that _w′ ‒&lt;sup&gt;hb&lt;/sup&gt;→ w ‒&lt;sup&gt;hb&lt;/sup&gt;→ r_, so _P_ is not correctly synchronized.  \r\n&gt; Thus, no such _r_ exists and the program has sequentially consistent behavior. □\r\n&gt; \r\n&gt; Theorem 3. _If an execution E of a correctly synchronized program is legal under the Java memory model, it is also sequentially consistent._\r\n&gt; \r\n&gt; **Proof:** By Lemma 2, if an execution _E_ is not sequentially consistent, there must be a read _r_ that sees a write _w_ such that _w_ does not happen-before _r_. The read must be committed, because otherwise it would not be able to see a write that does not happen-before it. There may be multiple reads of this sort; if so, let _r_ be the first such read that was committed. Let _Eᵢ_ be the execution that was used to justify committing _r_.  \r\n&gt; The relative happens-before order of committed actions and actions being committed must remain the same in all executions considering the resulting set of committed actions. Thus, if we don’t have _w ‒&lt;sup&gt;hb&lt;/sup&gt;→ r_ in _E_, then we didn’t have _w ‒&lt;sup&gt;hb&lt;/sup&gt;→ r_ in _Eᵢ_ when we committed _r_.  \r\n&gt; Since _r_ was the first read to be committed that doesn’t see a write that happens-before it, each committed read in _Eᵢ_ must see a write that happens-before it. Non-committed reads always sees writes that happens-before them. Thus, each read in _Eᵢ_ sees a write that happens-before it, and there is a write w in _Eᵢ_ that is not ordered with respect to _r_ by happens-before ordering.  \r\n&gt; A topological sort of the actions in _Eᵢ_ according to their happens-before edges gives a total order consistent with program order and synchronization order. This gives a total order for a sequentially consistent execution in which the conflicting accesses _w_ and _r_ are not ordered by happens-before edges. However, Lemma 2 shows that executions of correctly synchronized programs in which each read sees a write that happens-before it must be sequentially consistent. Therefore, this program is not correctly synchronized. This is a contradiction. □\r\n\r\n[paper]: https://web.archive.org/web/20221006153211/http://rsim.cs.uiuc.edu/Pubs/popl05.pdf","title":"Why no data races in sequentially consistent executions is enough to guarantee that there will be no data races in all executions?","body":"<p>The proof is in <a href=\"https://web.archive.org/web/20221006153211/http://rsim.cs.uiuc.edu/Pubs/popl05.pdf\" rel=\"nofollow noreferrer\">The Java Memory Model by J.Manson, W.Pugh and S.Adve</a>:</p>\n<blockquote>\n<h2>9.2.1 Correctly synchronized programs exhibit only sequentially consistent behaviors</h2>\n<p>Lemma 2. <em>Consider an execution E of a correctly synchronized program P that is legal under the Java memory model. If, in E, each read sees a write that happens-before it, E has sequentially consistent behavior.</em></p>\n<p><strong>Proof:</strong><br />\nSince the execution is legal under the memory model, the execution is happens-before consistent and synchronization order consistent.<br />\nA topological sort on the happens-before edges of the actions in an execution gives a total order consistent with program order and synchronization order. Let <em>r</em> be the first read in <em>E</em> that doesn’t see the most recent conflicting write <em>w</em> in the sorted order but instead sees <em>w′</em>. Let the topological sort of <em>E</em> be <em>αw′βwγrδ</em>.<br />\nLet <em>αw′βwγr′δ′</em> be the topological sort of an execution <em>E′</em>. <em>E′</em> is obtained exactly as <em>E</em>, except that instead of <em>r</em>, it performs the action <em>r′</em>, which is the same as <em>r</em> except that it sees <em>w</em>; <em>δ′</em> is any sequentially consistent completion of the program such that each read sees the previous conflicting write.<br />\nThe execution <em>E′</em> is sequentially consistent, and it is not the case that <em>w′ ‒<sup>hb</sup>→ w ‒<sup>hb</sup>→ r</em>, so <em>P</em> is not correctly synchronized.<br />\nThus, no such <em>r</em> exists and the program has sequentially consistent behavior. □</p>\n<p>Theorem 3. <em>If an execution E of a correctly synchronized program is legal under the Java memory model, it is also sequentially consistent.</em></p>\n<p><strong>Proof:</strong> By Lemma 2, if an execution <em>E</em> is not sequentially consistent, there must be a read <em>r</em> that sees a write <em>w</em> such that <em>w</em> does not happen-before <em>r</em>. The read must be committed, because otherwise it would not be able to see a write that does not happen-before it. There may be multiple reads of this sort; if so, let <em>r</em> be the first such read that was committed. Let <em>Eᵢ</em> be the execution that was used to justify committing <em>r</em>.<br />\nThe relative happens-before order of committed actions and actions being committed must remain the same in all executions considering the resulting set of committed actions. Thus, if we don’t have <em>w ‒<sup>hb</sup>→ r</em> in <em>E</em>, then we didn’t have <em>w ‒<sup>hb</sup>→ r</em> in <em>Eᵢ</em> when we committed <em>r</em>.<br />\nSince <em>r</em> was the first read to be committed that doesn’t see a write that happens-before it, each committed read in <em>Eᵢ</em> must see a write that happens-before it. Non-committed reads always sees writes that happens-before them. Thus, each read in <em>Eᵢ</em> sees a write that happens-before it, and there is a write w in <em>Eᵢ</em> that is not ordered with respect to <em>r</em> by happens-before ordering.<br />\nA topological sort of the actions in <em>Eᵢ</em> according to their happens-before edges gives a total order consistent with program order and synchronization order. This gives a total order for a sequentially consistent execution in which the conflicting accesses <em>w</em> and <em>r</em> are not ordered by happens-before edges. However, Lemma 2 shows that executions of correctly synchronized programs in which each read sees a write that happens-before it must be sequentially consistent. Therefore, this program is not correctly synchronized. This is a contradiction. □</p>\n</blockquote>\n"}],"owner":{"account_id":26909704,"reputation":23,"user_id":20485491,"display_name":"Har"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74421466,"answer_count":1,"score":2,"last_activity_date":1668346402,"creation_date":1668259081,"question_id":74413268,"body_markdown":"According to [the Java Memory Model (JMM)](https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5):\r\n&gt; A program is _correctly synchronized_ if and only if all sequentially consistent executions are free of data races.\r\n&gt; \r\n&gt; If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent (&#167;17.4.3).\r\n\r\nI don&#39;t see how the the fact that no SC execution has data races guarantees that every execution has no data races (which means that every execution is SC).  \r\nIs there a proof of that?\r\n\r\n---\r\n\r\nWhat I found:\r\n1. [A blog post][blog-post] by Jeremy Manson (one of the authors of the JMM).  \r\nThe following paragraph might mean that the guarantee is provided by causality (but I don&#39;t see how):  \r\n   &gt; So there is the intuition behind the model. When you want to justify the fact that a read returns the value of a write, you can do so if:\r\n   &gt; \r\n   &gt; a) That write happened before it, or  \r\n   &gt; b) You have already justified the write.\r\n   &gt; \r\n   &gt; The way that the model works is that you start with an execution that has all of the actions justified by property a), and you start justifying actions iteratively. So, in the second example above, you create successive executions that justify 0, then 2, then 3, then 4, then 1.\r\n   &gt; \r\n   &gt; This definition has the lovely property of being reasonably intuitive and also guaranteeing SC for DRF programs.\r\n2. [Foundations of the C++ Concurrency Memory Model][cpp-article].  \r\n   This article describes C++ memory model (which has similarities with the JMM).  \r\n   Section 8 of the article has a proof of a similar guarantee for C++:\r\n   &gt; THEOREM 8.1. _If a program allows a type 2 data race in a consistent execution, then there exists a sequentially consistent execution, with two conflicting actions, neither of which happens before the other._&lt;sup&gt;8&lt;/sup&gt;\r\n   &gt; \r\n   &gt; In effect, we only need to look at sequentially consistent executions in order to determine whether there is a data race in a consistent execution.  \r\n   &gt; [...]  \r\n   &gt; &lt;sup&gt;8&lt;/sup&gt; The latter is essentially the condition used in [25] to define “correctly synchronized” for Java.\r\n   \r\n   Unfortunately, I&#39;m not sure this proof holds for the JMM because the following doesn&#39;t work:\r\n   &gt; Consider the longest prefix _P_ of _&lt;&lt;sub&gt;T&lt;/sub&gt;_ that contains no data race. Note that each load in _P_ must see a store that precedes it in either the synchronization or happens-before orders.\r\n   \r\n   It seems to me that the above doesn&#39;t work in JMM because causality allows a read to return a later store.\r\n\r\n\r\n[blog-post]: https://jeremymanson.blogspot.com/2007/08/causality-and-java-memory-model.html\r\n[cpp-article]: https://www.hpl.hp.com/techreports/2008/HPL-2008-56.pdf","title":"Why no data races in sequentially consistent executions is enough to guarantee that there will be no data races in all executions?","body":"<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-17.html#jls-17.4.5\" rel=\"nofollow noreferrer\">the Java Memory Model (JMM)</a>:</p>\n<blockquote>\n<p>A program is <em>correctly synchronized</em> if and only if all sequentially consistent executions are free of data races.</p>\n<p>If a program is correctly synchronized, then all executions of the program will appear to be sequentially consistent (§17.4.3).</p>\n</blockquote>\n<p>I don't see how the the fact that no SC execution has data races guarantees that every execution has no data races (which means that every execution is SC).<br />\nIs there a proof of that?</p>\n<hr />\n<p>What I found:</p>\n<ol>\n<li><p><a href=\"https://jeremymanson.blogspot.com/2007/08/causality-and-java-memory-model.html\" rel=\"nofollow noreferrer\">A blog post</a> by Jeremy Manson (one of the authors of the JMM).<br />\nThe following paragraph might mean that the guarantee is provided by causality (but I don't see how):</p>\n<blockquote>\n<p>So there is the intuition behind the model. When you want to justify the fact that a read returns the value of a write, you can do so if:</p>\n<p>a) That write happened before it, or<br />\nb) You have already justified the write.</p>\n<p>The way that the model works is that you start with an execution that has all of the actions justified by property a), and you start justifying actions iteratively. So, in the second example above, you create successive executions that justify 0, then 2, then 3, then 4, then 1.</p>\n<p>This definition has the lovely property of being reasonably intuitive and also guaranteeing SC for DRF programs.</p>\n</blockquote>\n</li>\n<li><p><a href=\"https://www.hpl.hp.com/techreports/2008/HPL-2008-56.pdf\" rel=\"nofollow noreferrer\">Foundations of the C++ Concurrency Memory Model</a>.<br />\nThis article describes C++ memory model (which has similarities with the JMM).<br />\nSection 8 of the article has a proof of a similar guarantee for C++:</p>\n<blockquote>\n<p>THEOREM 8.1. <em>If a program allows a type 2 data race in a consistent execution, then there exists a sequentially consistent execution, with two conflicting actions, neither of which happens before the other.</em><sup>8</sup></p>\n<p>In effect, we only need to look at sequentially consistent executions in order to determine whether there is a data race in a consistent execution.<br />\n[...]<br />\n<sup>8</sup> The latter is essentially the condition used in [25] to define “correctly synchronized” for Java.</p>\n</blockquote>\n<p>Unfortunately, I'm not sure this proof holds for the JMM because the following doesn't work:</p>\n<blockquote>\n<p>Consider the longest prefix <em>P</em> of <em>&lt;<sub>T</sub></em> that contains no data race. Note that each load in <em>P</em> must see a store that precedes it in either the synchronization or happens-before orders.</p>\n</blockquote>\n<p>It seems to me that the above doesn't work in JMM because causality allows a read to return a later store.</p>\n</li>\n</ol>\n"},{"tags":["java","apache-kafka","apache-kafka-streams","confluent-platform"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1650379452,"post_id":71923371,"comment_id":127098051,"body_markdown":"The value joiner should &quot;join the values&quot;. Look at the return type of the method; currently you&#39;re returning a string, not an instance of your joined object. Plus, did you search here? https://github.com/confluentinc/kafka-streams-examples","body":"The value joiner should &quot;join the values&quot;. Look at the return type of the method; currently you&#39;re returning a string, not an instance of your joined object. Plus, did you search here? <a href=\"https://github.com/confluentinc/kafka-streams-examples\" rel=\"nofollow noreferrer\">github.com/confluentinc/kafka-streams-examples</a>"},{"owner":{"account_id":2428490,"reputation":13926,"user_id":2119941,"display_name":"Hrvoje"},"score":0,"creation_date":1650436125,"post_id":71923371,"comment_id":127112018,"body_markdown":"Yes, there aren&#39;t any StreamToStreamJoin Java 8+ examples. But this one is very similar: https://developer.confluent.io/tutorials/join-a-stream-to-a-table/kstreams.html so I used this one. I know it should join values, just didn&#39;t know how to implement it. On that link I&#39;ve found ValueJoiner class implementation so that will be helpful.","body":"Yes, there aren&#39;t any StreamToStreamJoin Java 8+ examples. But this one is very similar: <a href=\"https://developer.confluent.io/tutorials/join-a-stream-to-a-table/kstreams.html\" rel=\"nofollow noreferrer\">developer.confluent.io/tutorials/join-a-stream-to-a-table/&hellip;</a> so I used this one. I know it should join values, just didn&#39;t know how to implement it. On that link I&#39;ve found ValueJoiner class implementation so that will be helpful."},{"owner":{"account_id":1161345,"reputation":1837,"user_id":1140783,"accept_rate":67,"display_name":"Syed Ali"},"score":0,"creation_date":1666548715,"post_id":71923371,"comment_id":130958375,"body_markdown":"@Hrvoje how did you resolve the issue? As soon as I add the Joined.with parameter my ValueJoiner code started complaining. If I remove the Joined.with then it stops complaining but fails at runtime saying it needs a Serde. I don&#39;t understand what type of Serde is needed?","body":"@Hrvoje how did you resolve the issue? As soon as I add the Joined.with parameter my ValueJoiner code started complaining. If I remove the Joined.with then it stops complaining but fails at runtime saying it needs a Serde. I don&#39;t understand what type of Serde is needed?"},{"owner":{"account_id":2428490,"reputation":13926,"user_id":2119941,"display_name":"Hrvoje"},"score":0,"creation_date":1666600856,"post_id":71923371,"comment_id":130967196,"body_markdown":"@SyedAli it worked. But with a lot of hassle. Here are both relevant classes: https://pastebin.com/Gt651fWX and https://pastebin.com/6AWi8Lt5","body":"@SyedAli it worked. But with a lot of hassle. Here are both relevant classes: <a href=\"https://pastebin.com/Gt651fWX\" rel=\"nofollow noreferrer\">pastebin.com/Gt651fWX</a> and <a href=\"https://pastebin.com/6AWi8Lt5\" rel=\"nofollow noreferrer\">pastebin.com/6AWi8Lt5</a>"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668346269,"creation_date":1650379782,"answer_id":71926966,"question_id":71923371,"body_markdown":"I&#39;d suggest starting with this - a joiner function that accepts two Avro objects and returns a third (optionally, Avro) one. \r\n\r\n```\r\n(leftValue, rightValue) -&gt; {\r\n    RawPMU_Joined j = new RawPMU_Joined();\r\n    j.set...\r\n    return j;\r\n}\r\n```\r\n\r\nThere are generic Avro examples you can follow in the confluent-examples repo on Github; there shouldn&#39;t need to be one for specific records as it&#39;s just a different object you&#39;re returning, however it wouldn&#39;t be a string.  ","title":"Kafka streams joins two specific Avro objects","body":"<p>I'd suggest starting with this - a joiner function that accepts two Avro objects and returns a third (optionally, Avro) one.</p>\n<pre><code>(leftValue, rightValue) -&gt; {\n    RawPMU_Joined j = new RawPMU_Joined();\n    j.set...\n    return j;\n}\n</code></pre>\n<p>There are generic Avro examples you can follow in the confluent-examples repo on Github; there shouldn't need to be one for specific records as it's just a different object you're returning, however it wouldn't be a string.</p>\n"}],"owner":{"account_id":2428490,"reputation":13926,"user_id":2119941,"display_name":"Hrvoje"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1187,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71926966,"answer_count":1,"score":1,"last_activity_date":1668346269,"creation_date":1650363735,"question_id":71923371,"body_markdown":"**Basic task**\r\n\r\nI have 2 identical streams in Kafka in Avro format. I&#39;m trying to do basic left join with those 2 streams. \r\n\r\n**Keys**\r\n\r\nFor keys in both topics I&#39;m using timestamp rounded to milliseconds since both stream have data originating from IoT device that is generating measurement exactly every 20ms and both devices are synchronized to UTC Time Now. \r\n\r\n**Done so far**\r\n\r\nI&#39;ve been able to produce Kafka stream that&#39;s transforming one stream to topic following [this][1] tutorial, but  unfortunately basic [stream-stream join][2] tutorial doesn&#39;t exists on Confluent developer page.\r\n\r\n**Avro Java serialization classes**\r\nI&#39;ve generated 3 `SpecificAvroSerde` classes based on 2 inputs and output.\r\nAlthough input streams are identical I&#39;ve created separate schemas/classes in case streams would have different schemas in future. \r\n  Avro Java classes are generated during build time whiteout problems. \r\n\r\nSo this is schema of input, output and Joined stream:\r\n\r\n     {\r\n        &quot;namespace&quot;: &quot;pmu.serialization.avro&quot;,\r\n        &quot;name&quot;: &quot;RawPMU_214&quot;,\r\n        &quot;type&quot;: &quot;record&quot;,\r\n        &quot;fields&quot;: [\r\n         {&quot;name&quot;: &quot;pmu_id&quot;, &quot;type&quot;: &quot;int&quot;},\r\n                {&quot;name&quot;: &quot;time&quot;, &quot;type&quot;:&quot;string&quot;},\r\n                {&quot;name&quot;: &quot;time_rounded&quot;, &quot;type&quot;:&quot;string&quot;},\r\n                {&quot;name&quot;: &quot;stream_id&quot;,&quot;type&quot;:&quot;int&quot;},\r\n                {&quot;name&quot;: &quot;stat&quot;, &quot;type&quot;:&quot;string&quot;},\r\n                {&quot;name&quot;: &quot;ph_i1_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n                {&quot;name&quot;: &quot;ph_i1_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_i2_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_i2_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_i3_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_i3_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_v4_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_v4_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_v5_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_v5_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_v6_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_v6_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_7_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_7_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_8_r&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;ph_8_j&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;analog&quot;,&quot;type&quot;:&quot;string&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;digital&quot;,&quot;type&quot;:&quot;string&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;frequency&quot;,&quot;type&quot;:&quot;float&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;rocof&quot;,&quot;type&quot;:&quot;int&quot;},\r\n       \t\t\t{&quot;name&quot;: &quot;orderCount&quot;,&quot;type&quot;:&quot;int&quot;}\r\n        ]\r\n     }\r\n\r\n**Code**\r\n\r\nKey problem is that I don&#39;t know how to properly implement this part with value joiner:\r\n\r\n        KStream&lt;String, RawPMU_Joined&gt; joinedPMU = rawPMUs_214.join(rawPMUs_218,\r\n                (leftValue, rightValue) -&gt; &quot;left=&quot; + leftValue + &quot;, right=&quot; + rightValue, /* ValueJoiner */\r\n\r\nI tried various answers but I haven&#39;t really found any example of full Java code for stream-stream join for `SpecificAvroSerde`.\r\n\r\n**Full code at this point:**\r\n\r\n    package io.confluent.developer;\r\n    import io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde;\r\n    import org.apache.kafka.clients.admin.AdminClient;\r\n    import org.apache.kafka.clients.admin.NewTopic;\r\n    import org.apache.kafka.common.serialization.Serdes;\r\n    import org.apache.kafka.streams.*;\r\n    import org.apache.kafka.streams.kstream.JoinWindows;\r\n    import org.apache.kafka.streams.kstream.Joined;\r\n    import org.apache.kafka.streams.kstream.KStream;\r\n    import org.apache.kafka.streams.kstream.Produced;\r\n    \r\n    import pmu.serialization.avro.RawPMU_214;\r\n    import pmu.serialization.avro.RawPMU_218;\r\n    import pmu.serialization.avro.RawPMU_Joined;\r\n    \r\n    import java.time.Duration;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.Properties;\r\n    import java.util.concurrent.CountDownLatch;\r\n    \r\n    public class TransformStream_join {\r\n    \r\n        public Topology buildTopology(Properties allProps) {\r\n            final StreamsBuilder builder = new StreamsBuilder();\r\n    \r\n            // Define input PMU topics\r\n            final String inputPMU_01 = allProps.getProperty(&quot;input.topic.pmu1&quot;);\r\n            final String inputPMU_02 = allProps.getProperty(&quot;input.topic.pmu1&quot;);\r\n            final String outputTopic = allProps.getProperty(&quot;output.topic.name&quot;);\r\n    \r\n            KStream&lt;String, RawPMU_214&gt; rawPMUs_214 = builder.stream(inputPMU_01);\r\n            KStream&lt;String, RawPMU_218&gt; rawPMUs_218 = builder.stream(inputPMU_02);\r\n    \r\n            KStream&lt;String, RawPMU_Joined&gt; joinedPMU = rawPMUs_214.join(rawPMUs_218,\r\n                    (leftValue, rightValue) -&gt; &quot;left=&quot; + leftValue + &quot;, right=&quot; + rightValue, /* ValueJoiner */\r\n                    JoinWindows.of(Duration.ofMillis(20)),\r\n                    Joined.with(\r\n                            Serdes.String(),\r\n                            raw_pmu214AvroSerde(allProps),\r\n                            raw_pmu218AvroSerde(allProps))\r\n                    );\r\n    \r\n        joinedPMU.to(outputTopic, Produced.with(Serdes.String(), raw_outAvroSerde(allProps)));\r\n              return builder.build();\r\n        }\r\n    \r\n        private SpecificAvroSerde&lt;RawPMU_214&gt; raw_pmu214AvroSerde(Properties allProps) {\r\n            SpecificAvroSerde&lt;RawPMU_214&gt; raw_pmu214AvroSerde = new SpecificAvroSerde&lt;&gt;();\r\n            raw_pmu214AvroSerde.configure((Map)allProps, false);\r\n            return raw_pmu214AvroSerde;\r\n        }\r\n    \r\n        private SpecificAvroSerde&lt;RawPMU_218&gt; raw_pmu218AvroSerde(Properties allProps) {\r\n            SpecificAvroSerde&lt;RawPMU_218&gt; raw_pmu218AvroSerde = new SpecificAvroSerde&lt;&gt;();\r\n            raw_pmu218AvroSerde.configure((Map)allProps, false);\r\n            return raw_pmu218AvroSerde;\r\n        }\r\n    \r\n        private SpecificAvroSerde&lt;RawPMU_Joined&gt; raw_outAvroSerde(Properties allProps) {\r\n            SpecificAvroSerde&lt;RawPMU_Joined&gt; raw_outAvroSerde = new SpecificAvroSerde&lt;&gt;();\r\n            raw_outAvroSerde.configure((Map)allProps, false);\r\n            return raw_outAvroSerde;\r\n        }\r\n    \r\n        public void createTopics(Properties allProps) {\r\n            AdminClient client = AdminClient.create(allProps);\r\n    \r\n            List&lt;NewTopic&gt; topics = new ArrayList&lt;&gt;();\r\n    \r\n            topics.add(new NewTopic(\r\n                    allProps.getProperty(&quot;input.topic.pmu1&quot;),\r\n                    Integer.parseInt(allProps.getProperty(&quot;input.topic.partitions&quot;)),\r\n                    Short.parseShort(allProps.getProperty(&quot;input.topic.replication.factor&quot;))));\r\n    \r\n            topics.add(new NewTopic(\r\n                    allProps.getProperty(&quot;input.topic.pmu2&quot;),\r\n                    Integer.parseInt(allProps.getProperty(&quot;input.topic.partitions&quot;)),\r\n                    Short.parseShort(allProps.getProperty(&quot;input.topic.replication.factor&quot;))));\r\n    \r\n            topics.add(new NewTopic(\r\n                    allProps.getProperty(&quot;output.topic.name&quot;),\r\n                    Integer.parseInt(allProps.getProperty(&quot;output.topic.partitions&quot;)),\r\n                    Short.parseShort(allProps.getProperty(&quot;output.topic.replication.factor&quot;))));\r\n    \r\n            client.createTopics(topics);\r\n            client.close();\r\n        }\r\n    \r\n        public Properties loadEnvProperties(String fileName) throws IOException {\r\n            Properties allProps = new Properties();\r\n            FileInputStream input = new FileInputStream(fileName);\r\n            allProps.load(input);\r\n            input.close();\r\n    \r\n            return allProps;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            if (args.length &lt; 1) {\r\n                throw new IllegalArgumentException(&quot;This program takes one argument: the path to an environment configuration file.&quot;);\r\n            }\r\n    \r\n            TransformStream ts = new TransformStream();\r\n            Properties allProps = ts.loadEnvProperties(args[0]);\r\n            allProps.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\r\n            allProps.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, SpecificAvroSerde.class);\r\n            Topology topology = ts.buildTopology(allProps);\r\n    \r\n            ts.createTopics(allProps);\r\n    \r\n            final KafkaStreams streams = new KafkaStreams(topology, allProps);\r\n            final CountDownLatch latch = new CountDownLatch(1);\r\n    \r\n            // Attach shutdown handler to catch Control-C.\r\n            Runtime.getRuntime().addShutdownHook(new Thread(&quot;streams-shutdown-hook&quot;) {\r\n                @Override\r\n                public void run() {\r\n                    streams.close(Duration.ofSeconds(5));\r\n                    latch.countDown();\r\n                }\r\n            });\r\n    \r\n            try {\r\n                streams.start();\r\n                latch.await();\r\n            } catch (Throwable e) {\r\n                System.exit(1);\r\n            }\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\n## EDIT\r\n\r\n**KStream join:**\r\nI&#39;ve simplified joining stream code since I&#39;ve created joiner class \r\n\r\n    KStream&lt;String, RawPMU_Joined&gt; joinedPMU = pmu214Stream.join(pmu218Stream, pmuJoiner,\r\n            JoinWindows.of(Duration.ofMillis(20)),\r\n            Joined.with(\r\n                    Serdes.String(),\r\n                    raw_pmu214AvroSerde(allProps),\r\n                    raw_pmu218AvroSerde(allProps))\r\n    );\r\n\r\n**PMUJoiner class**\r\n\r\n    package io.confluent.developer;\r\n    import org.apache.kafka.streams.kstream.ValueJoiner;\r\n    import pmu.serialization.avro.RawPMU_214; \r\n    import pmu.serialization.avro.RawPMU_218; \r\n    import pmu.serialization.avro.RawPMU_Joined; \r\n    public class PMUJoiner implements ValueJoiner&lt;RawPMU_218, RawPMU_214, RawPMU_Joined&gt; {\r\n    \r\n        public RawPMU_Joined apply(RawPMU_218 pmu218Stream, RawPMU_214 pmu214Stream) {\r\n            return RawPMU_Joined.newBuilder()\r\n                    // PMU 218\r\n                    .setTimeRounded1(pmu218Stream.getTimeRounded())\r\n                    .setOrderCount1(pmu218Stream.getOrderCount())\r\n                    .setPhI1R1(pmu218Stream.getPhI1R())\r\n                    .setPhI1J1(pmu218Stream.getPhI1J())\r\n                    .setPhI2R1(pmu218Stream.getPhI2R())\r\n                    .setPhI2J1(pmu218Stream.getPhI2J())\r\n                    .setPhI3R1(pmu218Stream.getPhI3R())\r\n                    .setPhI3J1(pmu218Stream.getPhI3J())\r\n                    .setPhV4R1(pmu218Stream.getPhV4R())\r\n                    .setPhV4J1(pmu218Stream.getPhV4J())\r\n                    .setPhV5R1(pmu218Stream.getPhV5R())\r\n                    .setPhV5J1(pmu218Stream.getPhV5J())\r\n                    .setPhV6R1(pmu218Stream.getPhV6R())\r\n                    .setPhV6J1(pmu218Stream.getPhV6J())\r\n                    .setPh7R1(pmu218Stream.getPh7R())\r\n                    .setPh7J1(pmu218Stream.getPh7J())\r\n                    .setPh8R1(pmu218Stream.getPh8R())\r\n                    .setPh8J1(pmu218Stream.getPh8J())\r\n                    //PMU 214\r\n                    .setTimeRounded2(pmu214Stream.getTimeRounded())\r\n                    .setOrderCount2(pmu214Stream.getOrderCount())\r\n                    .setPhI1R2(pmu214Stream.getPhI1R())\r\n                    .setPhI1J2(pmu214Stream.getPhI1J())\r\n                    .setPhI2R2(pmu214Stream.getPhI2R())\r\n                    .setPhI2J2(pmu214Stream.getPhI2J())\r\n                    .setPhI3R2(pmu214Stream.getPhI3R())\r\n                    .setPhI3J2(pmu214Stream.getPhI3J())\r\n                    .setPhV4R2(pmu214Stream.getPhV4R())\r\n                    .setPhV4J2(pmu214Stream.getPhV4J())\r\n                    .setPhV5R2(pmu214Stream.getPhV5R())\r\n                    .setPhV5J2(pmu214Stream.getPhV5J())\r\n                    .setPhV6R2(pmu214Stream.getPhV6R())\r\n                    .setPhV6J2(pmu214Stream.getPhV6J())\r\n                    .setPh7R2(pmu214Stream.getPh7R())\r\n                    .setPh7J2(pmu214Stream.getPh7J())\r\n                    .setPh8R2(pmu214Stream.getPh8R())\r\n                    .setPh8J2(pmu214Stream.getPh8J())\r\n                    .build();\r\n        }\r\n    }\r\n\r\n**Error**\r\n\r\n&gt; ...pmuStream01/src/main/java/io/confluent/developer/JoinPMUStreams.java:46:\r\n&gt; error: no suitable method found for\r\n&gt; join(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,pmu.serialization.avro.RawPMU_218&gt;,io.confluent.developer.PMUJoiner,org.apache.kafka.streams.kstream.JoinWindows,org.apache.kafka.streams.kstream.Joined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,pmu.serialization.avro.RawPMU_218&gt;)\r\n&gt;         KStream&lt;String, RawPMU_Joined&gt; joinedPMU = pmu214Stream.join(pmu218Stream,\r\n&gt;                                                                ^\r\n&gt;     method org.apache.kafka.streams.kstream.KStream.&lt;VO,VR&gt;join(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,VO&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\r\n&gt; super pmu.serialization.avro.RawPMU_214,? super VO,? extends\r\n&gt; VR&gt;,org.apache.kafka.streams.kstream.JoinWindows) is not applicable\r\n&gt;       (cannot infer type-variable(s) VO,VR\r\n&gt;         (actual and formal argument lists differ in length))\r\n&gt;     method org.apache.kafka.streams.kstream.KStream.&lt;VO,VR&gt;join(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,VO&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\r\n&gt; super pmu.serialization.avro.RawPMU_214,? super VO,? extends\r\n&gt; VR&gt;,org.apache.kafka.streams.kstream.JoinWindows,org.apache.kafka.streams.kstream.Joined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,VO&gt;)\r\n&gt; is not applicable\r\n&gt;       (cannot infer type-variable(s) VO,VR\r\n&gt;         (argument mismatch; io.confluent.developer.PMUJoiner cannot be converted to org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\r\n&gt; pmu.serialization.avro.RawPMU_214,? super VO,? extends VR&gt;))\r\n&gt;     method org.apache.kafka.streams.kstream.KStream.&lt;VO,VR&gt;join(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,VO&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\r\n&gt; super pmu.serialization.avro.RawPMU_214,? super VO,? extends\r\n&gt; VR&gt;,org.apache.kafka.streams.kstream.JoinWindows,org.apache.kafka.streams.kstream.StreamJoined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,VO&gt;)\r\n&gt; is not applicable\r\n&gt;       (cannot infer type-variable(s) VO,VR\r\n&gt;         (argument mismatch; io.confluent.developer.PMUJoiner cannot be converted to org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\r\n&gt; pmu.serialization.avro.RawPMU_214,? super VO,? extends VR&gt;))\r\n&gt;     method org.apache.kafka.streams.kstream.KStream.&lt;VT,VR&gt;join(org.apache.kafka.streams.kstream.KTable&lt;java.lang.String,VT&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\r\n&gt; super pmu.serialization.avro.RawPMU_214,? super VT,? extends VR&gt;) is\r\n&gt; not applicable\r\n&gt;       (cannot infer type-variable(s) VT,VR\r\n&gt;         (actual and formal argument lists differ in length))\r\n&gt;     method org.apache.kafka.streams.kstream.KStream.&lt;VT,VR&gt;join(org.apache.kafka.streams.kstream.KTable&lt;java.lang.String,VT&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\r\n&gt; super pmu.serialization.avro.RawPMU_214,? super VT,? extends\r\n&gt; VR&gt;,org.apache.kafka.streams.kstream.Joined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,VT&gt;)\r\n&gt; is not applicable\r\n&gt;       (cannot infer type-variable(s) VT,VR\r\n&gt;         (actual and formal argument lists differ in length))\r\n&gt;     method org.apache.kafka.streams.kstream.KStream.&lt;GK,GV,RV&gt;join(org.apache.kafka.streams.kstream.GlobalKTable&lt;GK,GV&gt;,org.apache.kafka.streams.kstream.KeyValueMapper&lt;?\r\n&gt; super java.lang.String,? super pmu.serialization.avro.RawPMU_214,?\r\n&gt; extends GK&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\r\n&gt; pmu.serialization.avro.RawPMU_214,? super GV,? extends RV&gt;) is not\r\n&gt; applicable\r\n&gt;       (cannot infer type-variable(s) GK,GV,RV\r\n&gt;         (actual and formal argument lists differ in length))\r\n&gt;     method org.apache.kafka.streams.kstream.KStream.&lt;GK,GV,RV&gt;join(org.apache.kafka.streams.kstream.GlobalKTable&lt;GK,GV&gt;,org.apache.kafka.streams.kstream.KeyValueMapper&lt;?\r\n&gt; super java.lang.String,? super pmu.serialization.avro.RawPMU_214,?\r\n&gt; extends GK&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\r\n&gt; pmu.serialization.avro.RawPMU_214,? super GV,? extends\r\n&gt; RV&gt;,org.apache.kafka.streams.kstream.Named) is not applicable\r\n&gt;       (cannot infer type-variable(s) GK,GV,RV\r\n&gt;         (argument mismatch; org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,pmu.serialization.avro.RawPMU_218&gt;\r\n&gt; cannot be converted to\r\n&gt; org.apache.kafka.streams.kstream.GlobalKTable&lt;GK,GV&gt;))\r\n\r\nDon&#39;t know why&#39;s that happening since I believe I&#39;ve properly supplied all arguments with correct return types. \r\n\r\n  [1]: https://developer.confluent.io/tutorials/transform-a-stream-of-events/kstreams.html\r\n  [2]: https://developer.confluent.io/tutorials/join-a-stream-to-a-stream/kstreams.html\r\n","title":"Kafka streams joins two specific Avro objects","body":"<p><strong>Basic task</strong></p>\n<p>I have 2 identical streams in Kafka in Avro format. I'm trying to do basic left join with those 2 streams.</p>\n<p><strong>Keys</strong></p>\n<p>For keys in both topics I'm using timestamp rounded to milliseconds since both stream have data originating from IoT device that is generating measurement exactly every 20ms and both devices are synchronized to UTC Time Now.</p>\n<p><strong>Done so far</strong></p>\n<p>I've been able to produce Kafka stream that's transforming one stream to topic following <a href=\"https://developer.confluent.io/tutorials/transform-a-stream-of-events/kstreams.html\" rel=\"nofollow noreferrer\">this</a> tutorial, but  unfortunately basic <a href=\"https://developer.confluent.io/tutorials/join-a-stream-to-a-stream/kstreams.html\" rel=\"nofollow noreferrer\">stream-stream join</a> tutorial doesn't exists on Confluent developer page.</p>\n<p><strong>Avro Java serialization classes</strong>\nI've generated 3 <code>SpecificAvroSerde</code> classes based on 2 inputs and output.\nAlthough input streams are identical I've created separate schemas/classes in case streams would have different schemas in future.\nAvro Java classes are generated during build time whiteout problems.</p>\n<p>So this is schema of input, output and Joined stream:</p>\n<pre><code> {\n    &quot;namespace&quot;: &quot;pmu.serialization.avro&quot;,\n    &quot;name&quot;: &quot;RawPMU_214&quot;,\n    &quot;type&quot;: &quot;record&quot;,\n    &quot;fields&quot;: [\n     {&quot;name&quot;: &quot;pmu_id&quot;, &quot;type&quot;: &quot;int&quot;},\n            {&quot;name&quot;: &quot;time&quot;, &quot;type&quot;:&quot;string&quot;},\n            {&quot;name&quot;: &quot;time_rounded&quot;, &quot;type&quot;:&quot;string&quot;},\n            {&quot;name&quot;: &quot;stream_id&quot;,&quot;type&quot;:&quot;int&quot;},\n            {&quot;name&quot;: &quot;stat&quot;, &quot;type&quot;:&quot;string&quot;},\n            {&quot;name&quot;: &quot;ph_i1_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_i1_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_i2_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_i2_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_i3_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_i3_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_v4_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_v4_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_v5_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_v5_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_v6_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_v6_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_7_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_7_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_8_r&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;ph_8_j&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;analog&quot;,&quot;type&quot;:&quot;string&quot;},\n            {&quot;name&quot;: &quot;digital&quot;,&quot;type&quot;:&quot;string&quot;},\n            {&quot;name&quot;: &quot;frequency&quot;,&quot;type&quot;:&quot;float&quot;},\n            {&quot;name&quot;: &quot;rocof&quot;,&quot;type&quot;:&quot;int&quot;},\n            {&quot;name&quot;: &quot;orderCount&quot;,&quot;type&quot;:&quot;int&quot;}\n    ]\n }\n</code></pre>\n<p><strong>Code</strong></p>\n<p>Key problem is that I don't know how to properly implement this part with value joiner:</p>\n<pre><code>    KStream&lt;String, RawPMU_Joined&gt; joinedPMU = rawPMUs_214.join(rawPMUs_218,\n            (leftValue, rightValue) -&gt; &quot;left=&quot; + leftValue + &quot;, right=&quot; + rightValue, /* ValueJoiner */\n</code></pre>\n<p>I tried various answers but I haven't really found any example of full Java code for stream-stream join for <code>SpecificAvroSerde</code>.</p>\n<p><strong>Full code at this point:</strong></p>\n<pre><code>package io.confluent.developer;\nimport io.confluent.kafka.streams.serdes.avro.SpecificAvroSerde;\nimport org.apache.kafka.clients.admin.AdminClient;\nimport org.apache.kafka.clients.admin.NewTopic;\nimport org.apache.kafka.common.serialization.Serdes;\nimport org.apache.kafka.streams.*;\nimport org.apache.kafka.streams.kstream.JoinWindows;\nimport org.apache.kafka.streams.kstream.Joined;\nimport org.apache.kafka.streams.kstream.KStream;\nimport org.apache.kafka.streams.kstream.Produced;\n\nimport pmu.serialization.avro.RawPMU_214;\nimport pmu.serialization.avro.RawPMU_218;\nimport pmu.serialization.avro.RawPMU_Joined;\n\nimport java.time.Duration;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Properties;\nimport java.util.concurrent.CountDownLatch;\n\npublic class TransformStream_join {\n\n    public Topology buildTopology(Properties allProps) {\n        final StreamsBuilder builder = new StreamsBuilder();\n\n        // Define input PMU topics\n        final String inputPMU_01 = allProps.getProperty(&quot;input.topic.pmu1&quot;);\n        final String inputPMU_02 = allProps.getProperty(&quot;input.topic.pmu1&quot;);\n        final String outputTopic = allProps.getProperty(&quot;output.topic.name&quot;);\n\n        KStream&lt;String, RawPMU_214&gt; rawPMUs_214 = builder.stream(inputPMU_01);\n        KStream&lt;String, RawPMU_218&gt; rawPMUs_218 = builder.stream(inputPMU_02);\n\n        KStream&lt;String, RawPMU_Joined&gt; joinedPMU = rawPMUs_214.join(rawPMUs_218,\n                (leftValue, rightValue) -&gt; &quot;left=&quot; + leftValue + &quot;, right=&quot; + rightValue, /* ValueJoiner */\n                JoinWindows.of(Duration.ofMillis(20)),\n                Joined.with(\n                        Serdes.String(),\n                        raw_pmu214AvroSerde(allProps),\n                        raw_pmu218AvroSerde(allProps))\n                );\n\n    joinedPMU.to(outputTopic, Produced.with(Serdes.String(), raw_outAvroSerde(allProps)));\n          return builder.build();\n    }\n\n    private SpecificAvroSerde&lt;RawPMU_214&gt; raw_pmu214AvroSerde(Properties allProps) {\n        SpecificAvroSerde&lt;RawPMU_214&gt; raw_pmu214AvroSerde = new SpecificAvroSerde&lt;&gt;();\n        raw_pmu214AvroSerde.configure((Map)allProps, false);\n        return raw_pmu214AvroSerde;\n    }\n\n    private SpecificAvroSerde&lt;RawPMU_218&gt; raw_pmu218AvroSerde(Properties allProps) {\n        SpecificAvroSerde&lt;RawPMU_218&gt; raw_pmu218AvroSerde = new SpecificAvroSerde&lt;&gt;();\n        raw_pmu218AvroSerde.configure((Map)allProps, false);\n        return raw_pmu218AvroSerde;\n    }\n\n    private SpecificAvroSerde&lt;RawPMU_Joined&gt; raw_outAvroSerde(Properties allProps) {\n        SpecificAvroSerde&lt;RawPMU_Joined&gt; raw_outAvroSerde = new SpecificAvroSerde&lt;&gt;();\n        raw_outAvroSerde.configure((Map)allProps, false);\n        return raw_outAvroSerde;\n    }\n\n    public void createTopics(Properties allProps) {\n        AdminClient client = AdminClient.create(allProps);\n\n        List&lt;NewTopic&gt; topics = new ArrayList&lt;&gt;();\n\n        topics.add(new NewTopic(\n                allProps.getProperty(&quot;input.topic.pmu1&quot;),\n                Integer.parseInt(allProps.getProperty(&quot;input.topic.partitions&quot;)),\n                Short.parseShort(allProps.getProperty(&quot;input.topic.replication.factor&quot;))));\n\n        topics.add(new NewTopic(\n                allProps.getProperty(&quot;input.topic.pmu2&quot;),\n                Integer.parseInt(allProps.getProperty(&quot;input.topic.partitions&quot;)),\n                Short.parseShort(allProps.getProperty(&quot;input.topic.replication.factor&quot;))));\n\n        topics.add(new NewTopic(\n                allProps.getProperty(&quot;output.topic.name&quot;),\n                Integer.parseInt(allProps.getProperty(&quot;output.topic.partitions&quot;)),\n                Short.parseShort(allProps.getProperty(&quot;output.topic.replication.factor&quot;))));\n\n        client.createTopics(topics);\n        client.close();\n    }\n\n    public Properties loadEnvProperties(String fileName) throws IOException {\n        Properties allProps = new Properties();\n        FileInputStream input = new FileInputStream(fileName);\n        allProps.load(input);\n        input.close();\n\n        return allProps;\n    }\n\n    public static void main(String[] args) throws Exception {\n        if (args.length &lt; 1) {\n            throw new IllegalArgumentException(&quot;This program takes one argument: the path to an environment configuration file.&quot;);\n        }\n\n        TransformStream ts = new TransformStream();\n        Properties allProps = ts.loadEnvProperties(args[0]);\n        allProps.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass());\n        allProps.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, SpecificAvroSerde.class);\n        Topology topology = ts.buildTopology(allProps);\n\n        ts.createTopics(allProps);\n\n        final KafkaStreams streams = new KafkaStreams(topology, allProps);\n        final CountDownLatch latch = new CountDownLatch(1);\n\n        // Attach shutdown handler to catch Control-C.\n        Runtime.getRuntime().addShutdownHook(new Thread(&quot;streams-shutdown-hook&quot;) {\n            @Override\n            public void run() {\n                streams.close(Duration.ofSeconds(5));\n                latch.countDown();\n            }\n        });\n\n        try {\n            streams.start();\n            latch.await();\n        } catch (Throwable e) {\n            System.exit(1);\n        }\n        System.exit(0);\n    }\n}\n</code></pre>\n<h2>EDIT</h2>\n<p><strong>KStream join:</strong>\nI've simplified joining stream code since I've created joiner class</p>\n<pre><code>KStream&lt;String, RawPMU_Joined&gt; joinedPMU = pmu214Stream.join(pmu218Stream, pmuJoiner,\n        JoinWindows.of(Duration.ofMillis(20)),\n        Joined.with(\n                Serdes.String(),\n                raw_pmu214AvroSerde(allProps),\n                raw_pmu218AvroSerde(allProps))\n);\n</code></pre>\n<p><strong>PMUJoiner class</strong></p>\n<pre><code>package io.confluent.developer;\nimport org.apache.kafka.streams.kstream.ValueJoiner;\nimport pmu.serialization.avro.RawPMU_214; \nimport pmu.serialization.avro.RawPMU_218; \nimport pmu.serialization.avro.RawPMU_Joined; \npublic class PMUJoiner implements ValueJoiner&lt;RawPMU_218, RawPMU_214, RawPMU_Joined&gt; {\n\n    public RawPMU_Joined apply(RawPMU_218 pmu218Stream, RawPMU_214 pmu214Stream) {\n        return RawPMU_Joined.newBuilder()\n                // PMU 218\n                .setTimeRounded1(pmu218Stream.getTimeRounded())\n                .setOrderCount1(pmu218Stream.getOrderCount())\n                .setPhI1R1(pmu218Stream.getPhI1R())\n                .setPhI1J1(pmu218Stream.getPhI1J())\n                .setPhI2R1(pmu218Stream.getPhI2R())\n                .setPhI2J1(pmu218Stream.getPhI2J())\n                .setPhI3R1(pmu218Stream.getPhI3R())\n                .setPhI3J1(pmu218Stream.getPhI3J())\n                .setPhV4R1(pmu218Stream.getPhV4R())\n                .setPhV4J1(pmu218Stream.getPhV4J())\n                .setPhV5R1(pmu218Stream.getPhV5R())\n                .setPhV5J1(pmu218Stream.getPhV5J())\n                .setPhV6R1(pmu218Stream.getPhV6R())\n                .setPhV6J1(pmu218Stream.getPhV6J())\n                .setPh7R1(pmu218Stream.getPh7R())\n                .setPh7J1(pmu218Stream.getPh7J())\n                .setPh8R1(pmu218Stream.getPh8R())\n                .setPh8J1(pmu218Stream.getPh8J())\n                //PMU 214\n                .setTimeRounded2(pmu214Stream.getTimeRounded())\n                .setOrderCount2(pmu214Stream.getOrderCount())\n                .setPhI1R2(pmu214Stream.getPhI1R())\n                .setPhI1J2(pmu214Stream.getPhI1J())\n                .setPhI2R2(pmu214Stream.getPhI2R())\n                .setPhI2J2(pmu214Stream.getPhI2J())\n                .setPhI3R2(pmu214Stream.getPhI3R())\n                .setPhI3J2(pmu214Stream.getPhI3J())\n                .setPhV4R2(pmu214Stream.getPhV4R())\n                .setPhV4J2(pmu214Stream.getPhV4J())\n                .setPhV5R2(pmu214Stream.getPhV5R())\n                .setPhV5J2(pmu214Stream.getPhV5J())\n                .setPhV6R2(pmu214Stream.getPhV6R())\n                .setPhV6J2(pmu214Stream.getPhV6J())\n                .setPh7R2(pmu214Stream.getPh7R())\n                .setPh7J2(pmu214Stream.getPh7J())\n                .setPh8R2(pmu214Stream.getPh8R())\n                .setPh8J2(pmu214Stream.getPh8J())\n                .build();\n    }\n}\n</code></pre>\n<p><strong>Error</strong></p>\n<blockquote>\n<p>...pmuStream01/src/main/java/io/confluent/developer/JoinPMUStreams.java:46:\nerror: no suitable method found for\njoin(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,pmu.serialization.avro.RawPMU_218&gt;,io.confluent.developer.PMUJoiner,org.apache.kafka.streams.kstream.JoinWindows,org.apache.kafka.streams.kstream.Joined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,pmu.serialization.avro.RawPMU_218&gt;)\nKStream&lt;String, RawPMU_Joined&gt; joinedPMU = pmu214Stream.join(pmu218Stream,\n^\nmethod org.apache.kafka.streams.kstream.KStream.&lt;VO,VR&gt;join(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,VO&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\nsuper pmu.serialization.avro.RawPMU_214,? super VO,? extends\nVR&gt;,org.apache.kafka.streams.kstream.JoinWindows) is not applicable\n(cannot infer type-variable(s) VO,VR\n(actual and formal argument lists differ in length))\nmethod org.apache.kafka.streams.kstream.KStream.&lt;VO,VR&gt;join(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,VO&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\nsuper pmu.serialization.avro.RawPMU_214,? super VO,? extends\nVR&gt;,org.apache.kafka.streams.kstream.JoinWindows,org.apache.kafka.streams.kstream.Joined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,VO&gt;)\nis not applicable\n(cannot infer type-variable(s) VO,VR\n(argument mismatch; io.confluent.developer.PMUJoiner cannot be converted to org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\npmu.serialization.avro.RawPMU_214,? super VO,? extends VR&gt;))\nmethod org.apache.kafka.streams.kstream.KStream.&lt;VO,VR&gt;join(org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,VO&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\nsuper pmu.serialization.avro.RawPMU_214,? super VO,? extends\nVR&gt;,org.apache.kafka.streams.kstream.JoinWindows,org.apache.kafka.streams.kstream.StreamJoined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,VO&gt;)\nis not applicable\n(cannot infer type-variable(s) VO,VR\n(argument mismatch; io.confluent.developer.PMUJoiner cannot be converted to org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\npmu.serialization.avro.RawPMU_214,? super VO,? extends VR&gt;))\nmethod org.apache.kafka.streams.kstream.KStream.&lt;VT,VR&gt;join(org.apache.kafka.streams.kstream.KTable&lt;java.lang.String,VT&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\nsuper pmu.serialization.avro.RawPMU_214,? super VT,? extends VR&gt;) is\nnot applicable\n(cannot infer type-variable(s) VT,VR\n(actual and formal argument lists differ in length))\nmethod org.apache.kafka.streams.kstream.KStream.&lt;VT,VR&gt;join(org.apache.kafka.streams.kstream.KTable&lt;java.lang.String,VT&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;?\nsuper pmu.serialization.avro.RawPMU_214,? super VT,? extends\nVR&gt;,org.apache.kafka.streams.kstream.Joined&lt;java.lang.String,pmu.serialization.avro.RawPMU_214,VT&gt;)\nis not applicable\n(cannot infer type-variable(s) VT,VR\n(actual and formal argument lists differ in length))\nmethod org.apache.kafka.streams.kstream.KStream.&lt;GK,GV,RV&gt;join(org.apache.kafka.streams.kstream.GlobalKTable&lt;GK,GV&gt;,org.apache.kafka.streams.kstream.KeyValueMapper&lt;?\nsuper java.lang.String,? super pmu.serialization.avro.RawPMU_214,?\nextends GK&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\npmu.serialization.avro.RawPMU_214,? super GV,? extends RV&gt;) is not\napplicable\n(cannot infer type-variable(s) GK,GV,RV\n(actual and formal argument lists differ in length))\nmethod org.apache.kafka.streams.kstream.KStream.&lt;GK,GV,RV&gt;join(org.apache.kafka.streams.kstream.GlobalKTable&lt;GK,GV&gt;,org.apache.kafka.streams.kstream.KeyValueMapper&lt;?\nsuper java.lang.String,? super pmu.serialization.avro.RawPMU_214,?\nextends GK&gt;,org.apache.kafka.streams.kstream.ValueJoiner&lt;? super\npmu.serialization.avro.RawPMU_214,? super GV,? extends\nRV&gt;,org.apache.kafka.streams.kstream.Named) is not applicable\n(cannot infer type-variable(s) GK,GV,RV\n(argument mismatch; org.apache.kafka.streams.kstream.KStream&lt;java.lang.String,pmu.serialization.avro.RawPMU_218&gt;\ncannot be converted to\norg.apache.kafka.streams.kstream.GlobalKTable&lt;GK,GV&gt;))</p>\n</blockquote>\n<p>Don't know why's that happening since I believe I've properly supplied all arguments with correct return types.</p>\n"},{"tags":["java","eclipse","tomcat","servlets"],"answers":[{"tags":[],"owner":{"account_id":26918241,"reputation":1,"user_id":20492700,"display_name":"koo_by"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668345921,"creation_date":1668345868,"answer_id":74421387,"question_id":74421340,"body_markdown":"I found that the JVM version of Tomcat Web Application Manager was JRE 1.8 (32bit) which did not support the web app that was compiled with Java 11 (64bit). After reinstalling the latest JRE v10.1, the web app is working well.","title":"How to Fix java.lang.UnsupportedClassVersionError when running Java Web App with Java 17","body":"<p>I found that the JVM version of Tomcat Web Application Manager was JRE 1.8 (32bit) which did not support the web app that was compiled with Java 11 (64bit). After reinstalling the latest JRE v10.1, the web app is working well.</p>\n"}],"owner":{"account_id":26918241,"reputation":1,"user_id":20492700,"display_name":"koo_by"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1668346060,"answer_count":1,"score":-2,"last_activity_date":1668345983,"creation_date":1668345560,"question_id":74421340,"body_markdown":"I have got an error when running my Java Web App with Tomcat server v10.0.27 through web browser. The web app was compiled with Java 17. However, there was no issue when running the web app on Eclipse IDE with Apache Tomcat v10.0.27 locally.\r\n\r\nBelow is the error prompted when the web app that was deployed into Tomcat Web Application Manager running.\r\n\r\n*```\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/baeldung/MajorMinorApp \r\n  has been compiled by a more recent version of the Java Runtime (class file version 61.0), \r\n  this version of the Java Runtime only recognizes class file versions up to 52.0\r\n```\r\n*\r\n","title":"How to Fix java.lang.UnsupportedClassVersionError when running Java Web App with Java 17","body":"<p>I have got an error when running my Java Web App with Tomcat server v10.0.27 through web browser. The web app was compiled with Java 17. However, there was no issue when running the web app on Eclipse IDE with Apache Tomcat v10.0.27 locally.</p>\n<p>Below is the error prompted when the web app that was deployed into Tomcat Web Application Manager running.</p>\n<p>*```\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: com/baeldung/MajorMinorApp\nhas been compiled by a more recent version of the Java Runtime (class file version 61.0),\nthis version of the Java Runtime only recognizes class file versions up to 52.0</p>\n<pre><code>*\n</code></pre>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1668245995,"post_id":74411154,"comment_id":131362259,"body_markdown":"Please, update the question, share your classes `Car` and `Truck`, JSON-sample and your **attempt** to address the problem","body":"Please, update the question, share your classes <code>Car</code> and <code>Truck</code>, JSON-sample and your <b>attempt</b> to address the problem"}],"answers":[{"tags":[],"owner":{"account_id":6950003,"reputation":1952,"user_id":5332914,"accept_rate":75,"display_name":"user404"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668322112,"creation_date":1668322112,"answer_id":74419023,"question_id":74411154,"body_markdown":"As per my understanding, you want `Car` object only, so need to trim the extra fields in the process.\r\nUse this annotation above `Car` class to ignore extra properties of the json field, as you want the `Car` object only.\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true) \r\n    public class Car{\r\n     //your fields\r\n     }\r\n","title":"processing json array containing more than one object class with Jackson","body":"<p>As per my understanding, you want <code>Car</code> object only, so need to trim the extra fields in the process.\nUse this annotation above <code>Car</code> class to ignore extra properties of the json field, as you want the <code>Car</code> object only.</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true) \npublic class Car{\n //your fields\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668345683,"creation_date":1668345683,"answer_id":74421355,"question_id":74411154,"body_markdown":"Your problem can be solved annotating the `Car` superclass with the [`JsonTypeInfo`](https://fasterxml.github.io/jackson-annotations/javadoc/2.12/com/fasterxml/jackson/annotation/JsonTypeInfo.html) annotation and the [`JsonSubTypes`](https://fasterxml.github.io/jackson-annotations/javadoc/2.12/com/fasterxml/jackson/annotation/JsonSubTypes.html) annotation like below:\r\n\r\n~~~\r\n@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = Car.class)\r\n@JsonSubTypes(@JsonSubTypes.Type(value = Truck.class))\r\npublic class Car {/*Car fields */}\r\n\r\npublic class Truck extends Car {/* specific Truck fields */}\r\n\r\n//deserialize to a list containing Car and Truck objects\r\nList&lt;Car&gt; cars = mapper.readValue(json, new TypeReference&lt;List&lt;Car&gt;&gt;() {});\r\n\r\n~~~\r\n\r\nThe `JsonTypeInfo.Id.DEDUCTION` means that jackson tries to deserialize the json object to one of defined subtypes (the only `Truck` class in this case) and when there is no perfect match with every of the proposed subtypes it tries to serialize the json object to the default class (The `Car` class).","title":"processing json array containing more than one object class with Jackson","body":"<p>Your problem can be solved annotating the <code>Car</code> superclass with the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.12/com/fasterxml/jackson/annotation/JsonTypeInfo.html\" rel=\"nofollow noreferrer\"><code>JsonTypeInfo</code></a> annotation and the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.12/com/fasterxml/jackson/annotation/JsonSubTypes.html\" rel=\"nofollow noreferrer\"><code>JsonSubTypes</code></a> annotation like below:</p>\n<pre><code>@JsonTypeInfo(use = JsonTypeInfo.Id.DEDUCTION, defaultImpl = Car.class)\n@JsonSubTypes(@JsonSubTypes.Type(value = Truck.class))\npublic class Car {/*Car fields */}\n\npublic class Truck extends Car {/* specific Truck fields */}\n\n//deserialize to a list containing Car and Truck objects\nList&lt;Car&gt; cars = mapper.readValue(json, new TypeReference&lt;List&lt;Car&gt;&gt;() {});\n\n</code></pre>\n<p>The <code>JsonTypeInfo.Id.DEDUCTION</code> means that jackson tries to deserialize the json object to one of defined subtypes (the only <code>Truck</code> class in this case) and when there is no perfect match with every of the proposed subtypes it tries to serialize the json object to the default class (The <code>Car</code> class).</p>\n"}],"owner":{"account_id":2683594,"reputation":490,"user_id":2318409,"accept_rate":80,"display_name":"Gary Greenberg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74421355,"answer_count":2,"score":1,"last_activity_date":1668345683,"creation_date":1668238436,"question_id":74411154,"body_markdown":"I am receiving from the web service JSON array that contains 2 types of objects - base class and class extending the base (it contains some extra attributes).\r\nHow can I process it with Jackson that will produce at the end a list of base class in Java. For example, I have a class Car and class Truck which contains attribute maxLoad (and some others) that Car does not have.\r\nAt the end I need to get List\\&lt;Car&gt; that will contain instances of both Car and Truck.\r\nHere is the code:\r\n\r\n    public class Car {\r\n        private String make;\r\n        private String model;\r\n        private short  year;\r\n        private String bodyStyle;\r\n        private String engineType;\r\n        private int    horsepower;\r\n    // setters and getters are omitted\r\n    }\r\n    \r\n    public class Truck extends Car {\r\n        private double  maxLoad;\r\n        private double  clearance;\r\n    // setters and getters are omitted\r\n    }\r\n\r\nAnd here is the test JSON file and code for test:\r\n\r\n      [\r\n        {\r\n            &quot;make&quot;: &quot;Ford&quot;,\r\n            &quot;model&quot;: &quot;Focus&quot;,\r\n            &quot;year&quot;: 2018,\r\n            &quot;engineType&quot;: &quot;T4&quot;,\r\n            &quot;bodyStyle&quot;: &quot;hatchback&quot;,\r\n            &quot;horsepower&quot;: 225\r\n        },\r\n        {\r\n            &quot;make&quot;: &quot;Toyota&quot;,\r\n            &quot;model&quot;: &quot;Prius&quot;,\r\n            &quot;year&quot;: 2021,\r\n            &quot;engineType&quot;: &quot;T4&quot;,\r\n            &quot;bodyStyle&quot;: &quot;hatchback&quot;,\r\n            &quot;horsepower&quot;: 121        \r\n        },\r\n        {\r\n            &quot;make&quot;: &quot;Toyota&quot;,\r\n            &quot;model&quot;: &quot;RAV4&quot;,\r\n            &quot;year&quot;: 2020,\r\n            &quot;engineType&quot;: &quot;V6&quot;,\r\n            &quot;bodyStyle&quot;: &quot;SUV&quot;,\r\n            &quot;horsepower&quot;: 230        \r\n        },\r\n        {\r\n            &quot;make&quot;: &quot;Toyota&quot;,\r\n            &quot;model&quot;: &quot;Tacoma&quot;,\r\n            &quot;year&quot;: 2021,\r\n            &quot;engineType&quot;: &quot;V6&quot;,\r\n            &quot;bodyStyle&quot;: &quot;pickup&quot;,\r\n            &quot;horsepower&quot;: 278,\r\n            &quot;maxLoad&quot;: 1050,\r\n            &quot;clearance&quot;: 9.4\r\n        },\r\n        {\r\n            &quot;make&quot;: &quot;Ford&quot;,\r\n            &quot;model&quot;: &quot;T150&quot;,\r\n            &quot;year&quot;: 2017,\r\n            &quot;horsepower&quot;: 450,\r\n            &quot;bodyStyle&quot;: &quot;pickup&quot;,\r\n            &quot;maxLoad&quot;: 2320,\r\n            &quot;clearance&quot;: 8.4\r\n        }   \r\n     ]\r\n\r\n    public class Test {\r\n        private static final ObjectMapper mapper = new ObjectMapper();\r\n    \r\n        @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\r\n        public static void main(String[] args) {\r\n            InputStream src = Test.class.getClassLoader().getResourceAsStream(&quot;cars.json&quot;);\r\n            try {\r\n                List&lt;Car&gt; cars = mapper.readValue(src, new TypeReference&lt;List&lt;Car&gt;&gt;() {});\r\n                for (Car car : cars) {\r\n                    System.out.println(car.getClass().getName());\r\n                }\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\nWhen I run this test program, I am getting an exception:\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;maxLoad&quot; (class org.garik.test.Car), not marked as ignorable (6 known properties: &quot;horsepower&quot;, &quot;model&quot;, &quot;engineType&quot;, &quot;year&quot;, &quot;make&quot;, &quot;bodyStyle&quot;])\r\n at [Source: (BufferedInputStream); line: 33, column: 24] (through reference chain: java.util.ArrayList[3]-&gt;org.garik.test.Car[&quot;maxLoad&quot;])\r\n\tat com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)\r\n\tat com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1127)\r\n\tat com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2023)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1700)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1678)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)\r\n\tat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\r\n\tat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\r\n\tat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3674)\r\n\tat org.garik.test.Test.main(Test.java:21)\r\n\r\nIf I replace List&lt;Car&gt; with List&lt;Truck&gt; it completes without errors, but create me instances of Truck only, but I need in this list instances of both Car and Truck.","title":"processing json array containing more than one object class with Jackson","body":"<p>I am receiving from the web service JSON array that contains 2 types of objects - base class and class extending the base (it contains some extra attributes).\nHow can I process it with Jackson that will produce at the end a list of base class in Java. For example, I have a class Car and class Truck which contains attribute maxLoad (and some others) that Car does not have.\nAt the end I need to get List&lt;Car&gt; that will contain instances of both Car and Truck.\nHere is the code:</p>\n<pre><code>public class Car {\n    private String make;\n    private String model;\n    private short  year;\n    private String bodyStyle;\n    private String engineType;\n    private int    horsepower;\n// setters and getters are omitted\n}\n\npublic class Truck extends Car {\n    private double  maxLoad;\n    private double  clearance;\n// setters and getters are omitted\n}\n</code></pre>\n<p>And here is the test JSON file and code for test:</p>\n<pre><code>  [\n    {\n        &quot;make&quot;: &quot;Ford&quot;,\n        &quot;model&quot;: &quot;Focus&quot;,\n        &quot;year&quot;: 2018,\n        &quot;engineType&quot;: &quot;T4&quot;,\n        &quot;bodyStyle&quot;: &quot;hatchback&quot;,\n        &quot;horsepower&quot;: 225\n    },\n    {\n        &quot;make&quot;: &quot;Toyota&quot;,\n        &quot;model&quot;: &quot;Prius&quot;,\n        &quot;year&quot;: 2021,\n        &quot;engineType&quot;: &quot;T4&quot;,\n        &quot;bodyStyle&quot;: &quot;hatchback&quot;,\n        &quot;horsepower&quot;: 121        \n    },\n    {\n        &quot;make&quot;: &quot;Toyota&quot;,\n        &quot;model&quot;: &quot;RAV4&quot;,\n        &quot;year&quot;: 2020,\n        &quot;engineType&quot;: &quot;V6&quot;,\n        &quot;bodyStyle&quot;: &quot;SUV&quot;,\n        &quot;horsepower&quot;: 230        \n    },\n    {\n        &quot;make&quot;: &quot;Toyota&quot;,\n        &quot;model&quot;: &quot;Tacoma&quot;,\n        &quot;year&quot;: 2021,\n        &quot;engineType&quot;: &quot;V6&quot;,\n        &quot;bodyStyle&quot;: &quot;pickup&quot;,\n        &quot;horsepower&quot;: 278,\n        &quot;maxLoad&quot;: 1050,\n        &quot;clearance&quot;: 9.4\n    },\n    {\n        &quot;make&quot;: &quot;Ford&quot;,\n        &quot;model&quot;: &quot;T150&quot;,\n        &quot;year&quot;: 2017,\n        &quot;horsepower&quot;: 450,\n        &quot;bodyStyle&quot;: &quot;pickup&quot;,\n        &quot;maxLoad&quot;: 2320,\n        &quot;clearance&quot;: 8.4\n    }   \n ]\n\npublic class Test {\n    private static final ObjectMapper mapper = new ObjectMapper();\n\n    @SuppressWarnings(&quot;CallToPrintStackTrace&quot;)\n    public static void main(String[] args) {\n        InputStream src = Test.class.getClassLoader().getResourceAsStream(&quot;cars.json&quot;);\n        try {\n            List&lt;Car&gt; cars = mapper.readValue(src, new TypeReference&lt;List&lt;Car&gt;&gt;() {});\n            for (Car car : cars) {\n                System.out.println(car.getClass().getName());\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>When I run this test program, I am getting an exception:</p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;maxLoad&quot; (class org.garik.test.Car), not marked as ignorable (6 known properties: &quot;horsepower&quot;, &quot;model&quot;, &quot;engineType&quot;, &quot;year&quot;, &quot;make&quot;, &quot;bodyStyle&quot;])\nat [Source: (BufferedInputStream); line: 33, column: 24] (through reference chain: java.util.ArrayList[3]-&gt;org.garik.test.Car[&quot;maxLoad&quot;])\nat com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)\nat com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1127)\nat com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:2023)\nat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1700)\nat com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1678)\nat com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:320)\nat com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:177)\nat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355)\nat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\nat com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\nat com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\nat com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\nat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3674)\nat org.garik.test.Test.main(Test.java:21)</p>\n</blockquote>\n<p>If I replace List with List it completes without errors, but create me instances of Truck only, but I need in this list instances of both Car and Truck.</p>\n"},{"tags":["java","android","android-asynctask","android-widget"],"answers":[{"tags":[],"owner":{"account_id":15304494,"reputation":1,"user_id":11041743,"display_name":"Avishai Elmakies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549819366,"creation_date":1549817259,"answer_id":54618681,"question_id":37641188,"body_markdown":"After you called the API and used:\r\n\r\n    views.setTextViewText(R.id.appwidget_text, result);\r\n\r\nYou need to use the `AppWidgetManager` to update the UI.\r\n\r\nHere is an example:\r\n\r\n    AppWidgetManager manager=AppWidgetManager.getInstance(context);\r\n    manager.updateAppWidget(widgetID,views);\r\n","title":"Android App Widget - AsyncTask API call in update","body":"<p>After you called the API and used:</p>\n\n<pre><code>views.setTextViewText(R.id.appwidget_text, result);\n</code></pre>\n\n<p>You need to use the <code>AppWidgetManager</code> to update the UI.</p>\n\n<p>Here is an example:</p>\n\n<pre><code>AppWidgetManager manager=AppWidgetManager.getInstance(context);\nmanager.updateAppWidget(widgetID,views);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10770091,"reputation":582,"user_id":7923782,"display_name":"tanni tanna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668344779,"creation_date":1668344779,"answer_id":74421254,"question_id":37641188,"body_markdown":"    private void updateViewHere(String parseResult){\r\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.widget_layout);\r\n        int[] ids = AppWidgetManager.getInstance(context).getAppWidgetIds(new ComponentName(context, WidgetProvider.class));\r\n        views.setTextViewText(R.id.text, parseResult);\r\n        AppWidgetManager manager=AppWidgetManager.getInstance(context);\r\n        manager.updateAppWidget(ids,views);\r\n    }\r\n\r\nUsing this approach we can update widget views.","title":"Android App Widget - AsyncTask API call in update","body":"<pre><code>private void updateViewHere(String parseResult){\n    RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.widget_layout);\n    int[] ids = AppWidgetManager.getInstance(context).getAppWidgetIds(new ComponentName(context, WidgetProvider.class));\n    views.setTextViewText(R.id.text, parseResult);\n    AppWidgetManager manager=AppWidgetManager.getInstance(context);\n    manager.updateAppWidget(ids,views);\n}\n</code></pre>\n<p>Using this approach we can update widget views.</p>\n"}],"owner":{"account_id":7485112,"reputation":81,"user_id":5688631,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3341,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1668344779,"creation_date":1465125243,"question_id":37641188,"body_markdown":"I want to make a simple widget on my Android Homescreen where I am able to fill in my postalcode or city, and by submitting that data, I would like to be able to update the Widget with data from an API call to Openweathermap.org.\r\n\r\nI&#39;ve made every step to make it work, but for some reason the Widget textView won&#39;t update with the data collected.\r\n\r\nThis is my main activity.\r\n\r\n       \r\n    public class WeerManWidget extends AppWidgetProvider {\r\n\r\n    public static String ACTION_WIDGET_CONFIGURE = &quot;ConfigureWidget&quot;;\r\n\r\n    static void updateAppWidget(Context context, AppWidgetManager appWidgetManager, int appWidgetId) {\r\n\r\n        CharSequence widgetText = WeerManWidgetConfigureActivity.loadTitlePref(context, appWidgetId);\r\n        // Construct the RemoteViews object\r\n        RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.weer_man_widget);\r\n        views.setTextViewText(R.id.appwidget_text, widgetText);\r\n\r\n\r\n\r\n        Intent configIntent = new Intent(context, WeerManWidgetConfigureActivity.class);\r\n        configIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\r\n        PendingIntent configPendingIntent = PendingIntent.getActivity(context, appWidgetId, configIntent, 0);\r\n        views.setOnClickPendingIntent(R.id.btnSettings, configPendingIntent);\r\n        configIntent.setAction(ACTION_WIDGET_CONFIGURE + Integer.toString(appWidgetId));\r\n\r\n\r\n\r\n        new GetWeatherTask(views).execute(widgetText.toString());\r\n\r\n\r\n\r\n        // Instruct the widget manager to update the widget\r\n        appWidgetManager.updateAppWidget(appWidgetId, views);\r\n    }\r\n\r\n    @Override\r\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n        // There may be multiple widgets active, so update all of them\r\n        for (int appWidgetId : appWidgetIds) {\r\n            updateAppWidget(context, appWidgetManager, appWidgetId);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onDeleted(Context context, int[] appWidgetIds) {\r\n        // When the user deletes the widget, delete the preference associated with it.\r\n        for (int appWidgetId : appWidgetIds) {\r\n            WeerManWidgetConfigureActivity.deleteTitlePref(context, appWidgetId);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onEnabled(Context context) {\r\n        // Enter relevant functionality for when the first widget is created\r\n    }\r\n\r\n    @Override\r\n    public void onDisabled(Context context) {\r\n        // Enter relevant functionality for when the last widget is disabled\r\n    }\r\n    }\r\n\r\nAnd this is the class that I use for the API call.\r\n\r\n    public class GetWeatherTask extends AsyncTask&lt;String, String, String&gt; {\r\n\r\n    private RemoteViews views;\r\n\r\n    GetWeatherTask(RemoteViews views) {\r\n        this.views = views;\r\n    }\r\n\r\n    @Override\r\n    public String doInBackground(String... params) {\r\n\r\n        String postalCode = params[0];\r\n\r\n        HttpURLConnection urlConnection = null;\r\n        URL url = null;\r\n        JSONObject object = null;\r\n        JSONArray myArray = null;\r\n        InputStream inStream = null;\r\n\r\n        try {\r\n            url = new URL(&quot;http://api.openweathermap.org/data/2.5/weather?q=&quot;+postalCode+&quot;,nl&amp;appid=XXXXX&amp;units=metric&quot;);\r\n            urlConnection = (HttpURLConnection) url.openConnection();\r\n            urlConnection.setRequestMethod(&quot;GET&quot;);\r\n            urlConnection.setDoOutput(true);\r\n            urlConnection.setDoInput(true);\r\n            urlConnection.connect();\r\n\r\n            inStream = urlConnection.getInputStream();\r\n            BufferedReader bReader = new BufferedReader(new InputStreamReader(inStream));\r\n            String temp, response = &quot;&quot;;\r\n            while ((temp = bReader.readLine()) != null) {\r\n                response += temp;\r\n            }\r\n\r\n            object = (JSONObject) new JSONTokener(response).nextValue();\r\n            JSONObject obj = object.getJSONObject(&quot;main&quot;);\r\n            String weatherTemp = obj.getString(&quot;temp&quot;);\r\n\r\n            double weatherFloat = Double.parseDouble(weatherTemp);\r\n            //weatherFloat = (weatherFloat - 273.15);\r\n\r\n            String newTemp = String.valueOf(weatherFloat);\r\n\r\n            return newTemp;\r\n        } catch (Exception e) {\r\n\r\n            return e.toString();\r\n        } finally {\r\n            if (inStream != null) {\r\n                try {\r\n                    inStream.close();\r\n                } catch (IOException ignored) {\r\n\r\n                }\r\n            }\r\n            if (urlConnection != null) {\r\n                urlConnection.disconnect();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onPostExecute(String result) {\r\n        Log.v(&quot;WeerManWidget&quot;, result);\r\n\r\n        views.setTextViewText(R.id.appwidget_text, result);\r\n    }\r\n    }\r\n\r\nSeen in the onPostExecute in the AsyncTask, I log the results. This has the correct data. So everthing comes along nicely, but when I want to update the view with the setTextViewText, nothing happens. I am new to Android development, and am out of ideas.\r\n\r\nAnyone care to enlighten me?","title":"Android App Widget - AsyncTask API call in update","body":"<p>I want to make a simple widget on my Android Homescreen where I am able to fill in my postalcode or city, and by submitting that data, I would like to be able to update the Widget with data from an API call to Openweathermap.org.</p>\n\n<p>I've made every step to make it work, but for some reason the Widget textView won't update with the data collected.</p>\n\n<p>This is my main activity.</p>\n\n<pre><code>public class WeerManWidget extends AppWidgetProvider {\n\npublic static String ACTION_WIDGET_CONFIGURE = \"ConfigureWidget\";\n\nstatic void updateAppWidget(Context context, AppWidgetManager appWidgetManager, int appWidgetId) {\n\n    CharSequence widgetText = WeerManWidgetConfigureActivity.loadTitlePref(context, appWidgetId);\n    // Construct the RemoteViews object\n    RemoteViews views = new RemoteViews(context.getPackageName(), R.layout.weer_man_widget);\n    views.setTextViewText(R.id.appwidget_text, widgetText);\n\n\n\n    Intent configIntent = new Intent(context, WeerManWidgetConfigureActivity.class);\n    configIntent.putExtra(AppWidgetManager.EXTRA_APPWIDGET_ID, appWidgetId);\n    PendingIntent configPendingIntent = PendingIntent.getActivity(context, appWidgetId, configIntent, 0);\n    views.setOnClickPendingIntent(R.id.btnSettings, configPendingIntent);\n    configIntent.setAction(ACTION_WIDGET_CONFIGURE + Integer.toString(appWidgetId));\n\n\n\n    new GetWeatherTask(views).execute(widgetText.toString());\n\n\n\n    // Instruct the widget manager to update the widget\n    appWidgetManager.updateAppWidget(appWidgetId, views);\n}\n\n@Override\npublic void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n    // There may be multiple widgets active, so update all of them\n    for (int appWidgetId : appWidgetIds) {\n        updateAppWidget(context, appWidgetManager, appWidgetId);\n    }\n}\n\n@Override\npublic void onDeleted(Context context, int[] appWidgetIds) {\n    // When the user deletes the widget, delete the preference associated with it.\n    for (int appWidgetId : appWidgetIds) {\n        WeerManWidgetConfigureActivity.deleteTitlePref(context, appWidgetId);\n    }\n}\n\n@Override\npublic void onEnabled(Context context) {\n    // Enter relevant functionality for when the first widget is created\n}\n\n@Override\npublic void onDisabled(Context context) {\n    // Enter relevant functionality for when the last widget is disabled\n}\n}\n</code></pre>\n\n<p>And this is the class that I use for the API call.</p>\n\n<pre><code>public class GetWeatherTask extends AsyncTask&lt;String, String, String&gt; {\n\nprivate RemoteViews views;\n\nGetWeatherTask(RemoteViews views) {\n    this.views = views;\n}\n\n@Override\npublic String doInBackground(String... params) {\n\n    String postalCode = params[0];\n\n    HttpURLConnection urlConnection = null;\n    URL url = null;\n    JSONObject object = null;\n    JSONArray myArray = null;\n    InputStream inStream = null;\n\n    try {\n        url = new URL(\"http://api.openweathermap.org/data/2.5/weather?q=\"+postalCode+\",nl&amp;appid=XXXXX&amp;units=metric\");\n        urlConnection = (HttpURLConnection) url.openConnection();\n        urlConnection.setRequestMethod(\"GET\");\n        urlConnection.setDoOutput(true);\n        urlConnection.setDoInput(true);\n        urlConnection.connect();\n\n        inStream = urlConnection.getInputStream();\n        BufferedReader bReader = new BufferedReader(new InputStreamReader(inStream));\n        String temp, response = \"\";\n        while ((temp = bReader.readLine()) != null) {\n            response += temp;\n        }\n\n        object = (JSONObject) new JSONTokener(response).nextValue();\n        JSONObject obj = object.getJSONObject(\"main\");\n        String weatherTemp = obj.getString(\"temp\");\n\n        double weatherFloat = Double.parseDouble(weatherTemp);\n        //weatherFloat = (weatherFloat - 273.15);\n\n        String newTemp = String.valueOf(weatherFloat);\n\n        return newTemp;\n    } catch (Exception e) {\n\n        return e.toString();\n    } finally {\n        if (inStream != null) {\n            try {\n                inStream.close();\n            } catch (IOException ignored) {\n\n            }\n        }\n        if (urlConnection != null) {\n            urlConnection.disconnect();\n        }\n    }\n}\n\n@Override\npublic void onPostExecute(String result) {\n    Log.v(\"WeerManWidget\", result);\n\n    views.setTextViewText(R.id.appwidget_text, result);\n}\n}\n</code></pre>\n\n<p>Seen in the onPostExecute in the AsyncTask, I log the results. This has the correct data. So everthing comes along nicely, but when I want to update the view with the setTextViewText, nothing happens. I am new to Android development, and am out of ideas.</p>\n\n<p>Anyone care to enlighten me?</p>\n"},{"tags":["java","javafx","geometry","rasterizing"],"answers":[{"tags":[],"owner":{"account_id":449564,"reputation":78054,"user_id":844416,"display_name":"MBo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668344451,"creation_date":1668344451,"answer_id":74421223,"question_id":74419620,"body_markdown":"Instead of `sectstartx` you have to use \r\n\r\n    sectstartx - center_x\r\nto form proper vector for cross product checking. Same for other sect*** values","title":"Sector rasterization JavaFX","body":"<p>Instead of <code>sectstartx</code> you have to use</p>\n<pre><code>sectstartx - center_x\n</code></pre>\n<p>to form proper vector for cross product checking. Same for other sect*** values</p>\n"}],"owner":{"account_id":16979771,"reputation":33,"user_id":17431891,"display_name":"eques"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668344451,"creation_date":1668329247,"question_id":74419620,"body_markdown":"I have method ```drawSector```, where boolean function ```isInsideSector``` checks if point in circle is inside sector and color it. But output sector is wrong with its coordinates, and I don&#39;t know where the problem is. Here is my logic and code:\r\n\r\n```\r\npublic static void drawSector(\r\n        final GraphicsContext graphicsContext,\r\n        int center_x, int center_y, // center of circle (x,y)\r\n        int sectstartx, int sectstarty, // start point of sector\r\n        int sectendx, int sectendy, // end point of sector\r\n        int radius, // radius\r\n        Color c0) { // sector color\r\n\r\n    final PixelWriter pixelWriter = graphicsContext.getPixelWriter();\r\n\r\n    for (int x = -radius; x &lt;= radius; x++) { // circle fill algorithm\r\n        int height = (int) Math.sqrt(radius * radius - x * x); // no radius check, high efficiency\r\n        for (int y = -height; y &lt;= height; y++)\r\n            if (isInsideSector(x + center_x, y + center_y, center_x, center_y, sectstartx, sectstarty, sectendx, sectendy, radius)) {\r\n                pixelWriter.setColor(x + center_x, y + center_y, c0); // set point\r\n          }\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nprivate static boolean isInsideSector( // checks if point is inside certain sector\r\n                                       int x, int y, // point in circle (vector S)\r\n                                       int center_x, int center_y, // center of circle\r\n                                       int sectstartx, int sectstarty, // start point of sector (vector V1)\r\n                                       int sectendx, int sectendy, // end point of sector (vector V2)\r\n                                       int radius) { // radius\r\n\r\n    int relpointx = x - center_x; // because in drawSector x + center_x\r\n    int relpointy = y - center_y;\r\n\r\n    return (sectstartx * relpointy - relpointx * sectstarty &gt; 0 &amp;&amp; relpointx * sectendy - sectendx * relpointy &gt; 0);\r\n```\r\nVisualisation of method ```isInsideSector``` or what I mean to write, I&#39;m so sorry if your eyes are bleeding:\r\n[![enter image description here](https://i.stack.imgur.com/NORwy.png)](https://i.stack.imgur.com/NORwy.png)\r\nHow I create sector: \r\n```\r\nRasterization.drawSector(canvas.getGraphicsContext2D(), 200, 200, 0, -4, -1, -4, 150, Color.BLUE)\r\n// center of circle (200,200); sector start point (0,-4); sector end point (-1,-4); radius 150\r\n```\r\nOutput:\r\n[![enter image description here](https://i.stack.imgur.com/QPEis.png)](https://i.stack.imgur.com/QPEis.png)\r\n\r\n\r\nI thought that the problem is in circle fill, but i tried with scanline fill and it is the same output. Maybe the problem is in my logic where I check sector point? Or with JavaFX coordinate grid?","title":"Sector rasterization JavaFX","body":"<p>I have method <code>drawSector</code>, where boolean function <code>isInsideSector</code> checks if point in circle is inside sector and color it. But output sector is wrong with its coordinates, and I don't know where the problem is. Here is my logic and code:</p>\n<pre><code>public static void drawSector(\n        final GraphicsContext graphicsContext,\n        int center_x, int center_y, // center of circle (x,y)\n        int sectstartx, int sectstarty, // start point of sector\n        int sectendx, int sectendy, // end point of sector\n        int radius, // radius\n        Color c0) { // sector color\n\n    final PixelWriter pixelWriter = graphicsContext.getPixelWriter();\n\n    for (int x = -radius; x &lt;= radius; x++) { // circle fill algorithm\n        int height = (int) Math.sqrt(radius * radius - x * x); // no radius check, high efficiency\n        for (int y = -height; y &lt;= height; y++)\n            if (isInsideSector(x + center_x, y + center_y, center_x, center_y, sectstartx, sectstarty, sectendx, sectendy, radius)) {\n                pixelWriter.setColor(x + center_x, y + center_y, c0); // set point\n          }\n    }\n}\n</code></pre>\n<pre><code>private static boolean isInsideSector( // checks if point is inside certain sector\n                                       int x, int y, // point in circle (vector S)\n                                       int center_x, int center_y, // center of circle\n                                       int sectstartx, int sectstarty, // start point of sector (vector V1)\n                                       int sectendx, int sectendy, // end point of sector (vector V2)\n                                       int radius) { // radius\n\n    int relpointx = x - center_x; // because in drawSector x + center_x\n    int relpointy = y - center_y;\n\n    return (sectstartx * relpointy - relpointx * sectstarty &gt; 0 &amp;&amp; relpointx * sectendy - sectendx * relpointy &gt; 0);\n</code></pre>\n<p>Visualisation of method <code>isInsideSector</code> or what I mean to write, I'm so sorry if your eyes are bleeding:\n<a href=\"https://i.stack.imgur.com/NORwy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NORwy.png\" alt=\"enter image description here\" /></a>\nHow I create sector:</p>\n<pre><code>Rasterization.drawSector(canvas.getGraphicsContext2D(), 200, 200, 0, -4, -1, -4, 150, Color.BLUE)\n// center of circle (200,200); sector start point (0,-4); sector end point (-1,-4); radius 150\n</code></pre>\n<p>Output:\n<a href=\"https://i.stack.imgur.com/QPEis.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QPEis.png\" alt=\"enter image description here\" /></a></p>\n<p>I thought that the problem is in circle fill, but i tried with scanline fill and it is the same output. Maybe the problem is in my logic where I check sector point? Or with JavaFX coordinate grid?</p>\n"},{"tags":["java","android","debugging","adb","jdb"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1668361000,"post_id":74421021,"comment_id":131381063,"body_markdown":"So you don&#39;t get any logcat messages? Does your app use native libraries (.so files)? If a native library is crashing your app jdb won&#39;t be very helpful. I would add extra logcat logging to identify in which code part the problem is located in.","body":"So you don&#39;t get any logcat messages? Does your app use native libraries (.so files)? If a native library is crashing your app jdb won&#39;t be very helpful. I would add extra logcat logging to identify in which code part the problem is located in."},{"owner":{"account_id":10121867,"reputation":552,"user_id":7478525,"accept_rate":100,"display_name":"westman379"},"score":0,"creation_date":1668602548,"post_id":74421021,"comment_id":131444489,"body_markdown":"Yeah, my app is using some .so native libraries.\nOk, I&#39;ll try with logcat.","body":"Yeah, my app is using some .so native libraries. Ok, I&#39;ll try with logcat."},{"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"score":1,"creation_date":1694186289,"post_id":74421021,"comment_id":135862669,"body_markdown":"Simply connect `gdb` to your `jdb` session and take a look at what happens at the dark side of native code: https://www.owsiak.org/jni-debugging-extreme-way/","body":"Simply connect <code>gdb</code> to your <code>jdb</code> session and take a look at what happens at the dark side of native code: <a href=\"https://www.owsiak.org/jni-debugging-extreme-way/\" rel=\"nofollow noreferrer\">owsiak.org/jni-debugging-extreme-way</a>"}],"owner":{"account_id":10121867,"reputation":552,"user_id":7478525,"accept_rate":100,"display_name":"westman379"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668343109,"creation_date":1668343109,"question_id":74421021,"body_markdown":"I&#39;m trying to debug some Android app with JDB Java debugger.\r\nHere are my steps:\r\n\r\n1. `adb shell am start -D com.appname.global.android/.MainActivity`\r\n2. `adb jdwp`\r\n3. `adb forward tcp:8700 jdwp:&lt;NEW_PORT&gt;`\r\n4. Add `stop at com.appname.global.android.MainActivity:79` line to the C:\\Users\\UserName\\jdb.ini file.\r\n4. `&quot;C:\\Program Files\\Java\\jdk-17.0.2\\bin\\jdb.exe&quot; -connect com.sun.jdi.SocketAttach:hostname=localhost,port=8700`\r\n\r\nSo when I execute command from step 5, my app is resuming and I hit a breakpoint in JDB (in the &quot;onCreate&quot; method in my app). But after few seconds my app is crashing without even telling me what is wrong. Only message I get is this:\r\n\r\n    main[1]\r\n    main[1]\r\n    The application has been disconnected\r\n\r\nSo I would like to pass an verbose option to this command.\r\nIn the help message it looks like this:\r\n\r\n    options forwarded to debuggee process:\r\n    -v -verbose[:class|gc|jni]\r\n                      turn on verbose mode\r\n\r\nBut I can&#39;t figure out **how to pass verbose option properly**.\r\nCan you tell me how can I do it? Or maybe there is a better way of figuring out what is wrong with my app?","title":"JDB Java debugger - how can I set verbose option to see why my app is crashing?","body":"<p>I'm trying to debug some Android app with JDB Java debugger.\nHere are my steps:</p>\n<ol>\n<li><code>adb shell am start -D com.appname.global.android/.MainActivity</code></li>\n<li><code>adb jdwp</code></li>\n<li><code>adb forward tcp:8700 jdwp:&lt;NEW_PORT&gt;</code></li>\n<li>Add <code>stop at com.appname.global.android.MainActivity:79</code> line to the C:\\Users\\UserName\\jdb.ini file.</li>\n<li><code>&quot;C:\\Program Files\\Java\\jdk-17.0.2\\bin\\jdb.exe&quot; -connect com.sun.jdi.SocketAttach:hostname=localhost,port=8700</code></li>\n</ol>\n<p>So when I execute command from step 5, my app is resuming and I hit a breakpoint in JDB (in the &quot;onCreate&quot; method in my app). But after few seconds my app is crashing without even telling me what is wrong. Only message I get is this:</p>\n<pre><code>main[1]\nmain[1]\nThe application has been disconnected\n</code></pre>\n<p>So I would like to pass an verbose option to this command.\nIn the help message it looks like this:</p>\n<pre><code>options forwarded to debuggee process:\n-v -verbose[:class|gc|jni]\n                  turn on verbose mode\n</code></pre>\n<p>But I can't figure out <strong>how to pass verbose option properly</strong>.\nCan you tell me how can I do it? Or maybe there is a better way of figuring out what is wrong with my app?</p>\n"},{"tags":["java","exception","encryption","cryptography","udp"],"comments":[{"owner":{"account_id":2527500,"reputation":7300,"user_id":2196561,"display_name":"Ebbe M. Pedersen"},"score":0,"creation_date":1668436605,"post_id":74418832,"comment_id":131397877,"body_markdown":"You are trying to do too many things at the same time. Right now you don&#39;t know if your error is in the communication or in your encryption logic. First, verify that your encryption works without the communication - can you decrypt what you encrypt ? Secondly, verify that you can communicate without  encryption... After this, THEN you are ready to communicate and encrypt.","body":"You are trying to do too many things at the same time. Right now you don&#39;t know if your error is in the communication or in your encryption logic. First, verify that your encryption works without the communication - can you decrypt what you encrypt ? Secondly, verify that you can communicate without  encryption... After this, THEN you are ready to communicate and encrypt."}],"answers":[{"tags":[],"owner":{"account_id":434266,"reputation":15464,"user_id":820127,"display_name":"rossum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668343082,"creation_date":1668343082,"answer_id":74421015,"question_id":74418832,"body_markdown":"There are two general causes of a Bad Padding exception, either different modes set or failed decryption.\r\n\r\nFirst check that you have explicitly set the padding mode the same on both sides.\r\n\r\nIf not that, then you need to check that the whole decryption has not failed, resulting in garbage instead of well formed padding. Temporarily set the decryption side to &quot;NoPadding&quot; and see what the result is. Complete garbage means you have a more general decryption failure. A mostly good decryption, with some extra bytes at the end is a good decryption with added padding. You need to set the decryption side to expect that type of padding. Do not leave &quot;NoPadding&quot; set as it is less secure.","title":"javax.crypto.BadPaddingException: Given final block not properly padded. AES Decryption","body":"<p>There are two general causes of a Bad Padding exception, either different modes set or failed decryption.</p>\n<p>First check that you have explicitly set the padding mode the same on both sides.</p>\n<p>If not that, then you need to check that the whole decryption has not failed, resulting in garbage instead of well formed padding. Temporarily set the decryption side to &quot;NoPadding&quot; and see what the result is. Complete garbage means you have a more general decryption failure. A mostly good decryption, with some extra bytes at the end is a good decryption with added padding. You need to set the decryption side to expect that type of padding. Do not leave &quot;NoPadding&quot; set as it is less secure.</p>\n"}],"owner":{"account_id":26906656,"reputation":13,"user_id":20482882,"display_name":"Thunder123"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4735,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74421015,"answer_count":1,"score":0,"last_activity_date":1668343082,"creation_date":1668319330,"question_id":74418832,"body_markdown":"Implement UDP chat application using symmetric AES encryption. I start with the client side having a message and sending the message encrypted (ciphertext) to the server side. Then the server side will decrypt with the fixed key and the ciphertext to get the original message. Both the server-side and client-side will use this key for encrypting and decrypt\r\n\r\n```\r\nclient.sentThenReceive(&quot; P@ssword123@@24&quot;.getBytes(StandardCharsets.UTF_8));\r\n```\r\n\r\n```\r\nserver.receiveThenSend(&quot; P@ssword123@@24&quot;.getBytes(StandardCharsets.UTF_8));\r\n```\r\n\r\nEverything worked properly until I try to decrypt method on the server side with the ciphertext and given the key  causing the error below in this line of code\r\n\r\n```\r\nbyte[] originalMessage = cipher.doFinal(message);\r\n```\r\n\r\n```\r\nException in thread &quot;main&quot; javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n\tat java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:858)\r\n\tat java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:938)\r\n\tat java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:734)\r\n\tat java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:434)\r\n\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2206)\r\n\tat Server.Decryption(Server.java:45)\r\n\tat Server.receiveThenSend(Server.java:63)\r\n\tat Server.main(Server.java:81)\r\n```\r\n\r\nHere is the encryption method in the client side, after the client encrypte the message and send it to the client side\r\n\r\n```\r\npublic byte[] Encryption(byte[] message, byte[] keyBytes)throws InvalidKeyException, NoSuchPaddingException,\r\n        NoSuchAlgorithmException, BadPaddingException, IllegalBlockSizeException {\r\n    // Step 5: Create a Cipher object\r\n    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n    SecretKey secrekey = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n    cipher.init(cipher.ENCRYPT_MODE, secrekey);\r\n    byte[] Encryption = cipher.doFinal(message);\r\n    return Encryption;\r\n}\r\n```\r\n\r\nWhen the Server side receive the encrypted message from the client side, it will using decrypte method to decrypt. The error evoke by this line of code:  byte\\[\\] originalMessage = cipher.doFinal(message);\r\n\r\n```\r\npublic String Decryption(byte[] message, byte[] keyBytes)throws InvalidKeyException, NoSuchPaddingException,\r\n        NoSuchAlgorithmException, BadPaddingException, IllegalBlockSizeException {\r\n\r\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n        SecretKey secretKey = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n        cipher.init(cipher.DECRYPT_MODE, secretKey);\r\n        byte[] originalMessage = cipher.doFinal(message);\r\n        return new String(originalMessage);\r\n}\r\n```\r\n\r\nThis is the send method in client side use to send the ciphertext to server side\r\n\r\n```\r\n\r\npublic void sentThenReceive(byte[] key) throws NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\r\n\r\n    Scanner scanner = new Scanner(System.in);\r\n    while (true) {\r\n        try {\r\n            String messageToSend = scanner.nextLine();\r\n            byte[] message = messageToSend.getBytes();\r\n            DatagramPacket datagramPacket = new DatagramPacket (message, message.length, inetAddress, 2468);\r\n            datagramSocket.send(datagramPacket);\r\n```\r\n\r\nThis is the receive method in the server side use to receive the message from client side\r\n\r\n```\r\npublic void receiveThenSend(byte[] key) throws NoSuchPaddingException, NoSuchAlgorithmException, IllegalBlockSizeException, BadPaddingException, InvalidKeyException {\r\n    while (true) {\r\n        try {\r\n            DatagramPacket datagramPacket = new DatagramPacket(buffer, buffer.length);\r\n            datagramSocket.receive(datagramPacket);\r\n            System.out.println(Decryption(datagramPacket.getData(),key));\r\n            InetAddress inetAddress = datagramPacket.getAddress();\r\n            int port = datagramPacket.getPort();\r\n            datagramPacket = new DatagramPacket(buffer, buffer.length, inetAddress, port);\r\n            datagramSocket.send(datagramPacket);\r\n```\r\n\r\nI&#39;m a learner so anyone please feel free to teach me what wrong with my code and how I can fix it. I would very appreciate your input!","title":"javax.crypto.BadPaddingException: Given final block not properly padded. AES Decryption","body":"<p>Implement UDP chat application using symmetric AES encryption. I start with the client side having a message and sending the message encrypted (ciphertext) to the server side. Then the server side will decrypt with the fixed key and the ciphertext to get the original message. Both the server-side and client-side will use this key for encrypting and decrypt</p>\n<pre><code>client.sentThenReceive(&quot; P@ssword123@@24&quot;.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<pre><code>server.receiveThenSend(&quot; P@ssword123@@24&quot;.getBytes(StandardCharsets.UTF_8));\n</code></pre>\n<p>Everything worked properly until I try to decrypt method on the server side with the ciphertext and given the key  causing the error below in this line of code</p>\n<pre><code>byte[] originalMessage = cipher.doFinal(message);\n</code></pre>\n<pre><code>Exception in thread &quot;main&quot; javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n    at java.base/com.sun.crypto.provider.CipherCore.unpad(CipherCore.java:858)\n    at java.base/com.sun.crypto.provider.CipherCore.fillOutputBuffer(CipherCore.java:938)\n    at java.base/com.sun.crypto.provider.CipherCore.doFinal(CipherCore.java:734)\n    at java.base/com.sun.crypto.provider.AESCipher.engineDoFinal(AESCipher.java:434)\n    at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2206)\n    at Server.Decryption(Server.java:45)\n    at Server.receiveThenSend(Server.java:63)\n    at Server.main(Server.java:81)\n</code></pre>\n<p>Here is the encryption method in the client side, after the client encrypte the message and send it to the client side</p>\n<pre><code>public byte[] Encryption(byte[] message, byte[] keyBytes)throws InvalidKeyException, NoSuchPaddingException,\n        NoSuchAlgorithmException, BadPaddingException, IllegalBlockSizeException {\n    // Step 5: Create a Cipher object\n    Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n    SecretKey secrekey = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n    cipher.init(cipher.ENCRYPT_MODE, secrekey);\n    byte[] Encryption = cipher.doFinal(message);\n    return Encryption;\n}\n</code></pre>\n<p>When the Server side receive the encrypted message from the client side, it will using decrypte method to decrypt. The error evoke by this line of code:  byte[] originalMessage = cipher.doFinal(message);</p>\n<pre><code>public String Decryption(byte[] message, byte[] keyBytes)throws InvalidKeyException, NoSuchPaddingException,\n        NoSuchAlgorithmException, BadPaddingException, IllegalBlockSizeException {\n\n        Cipher cipher = Cipher.getInstance(&quot;AES&quot;);\n        SecretKey secretKey = new SecretKeySpec(keyBytes, &quot;AES&quot;);\n        cipher.init(cipher.DECRYPT_MODE, secretKey);\n        byte[] originalMessage = cipher.doFinal(message);\n        return new String(originalMessage);\n}\n</code></pre>\n<p>This is the send method in client side use to send the ciphertext to server side</p>\n<pre><code>\npublic void sentThenReceive(byte[] key) throws NoSuchAlgorithmException, NoSuchPaddingException, InvalidKeyException, IllegalBlockSizeException, BadPaddingException {\n\n    Scanner scanner = new Scanner(System.in);\n    while (true) {\n        try {\n            String messageToSend = scanner.nextLine();\n            byte[] message = messageToSend.getBytes();\n            DatagramPacket datagramPacket = new DatagramPacket (message, message.length, inetAddress, 2468);\n            datagramSocket.send(datagramPacket);\n</code></pre>\n<p>This is the receive method in the server side use to receive the message from client side</p>\n<pre><code>public void receiveThenSend(byte[] key) throws NoSuchPaddingException, NoSuchAlgorithmException, IllegalBlockSizeException, BadPaddingException, InvalidKeyException {\n    while (true) {\n        try {\n            DatagramPacket datagramPacket = new DatagramPacket(buffer, buffer.length);\n            datagramSocket.receive(datagramPacket);\n            System.out.println(Decryption(datagramPacket.getData(),key));\n            InetAddress inetAddress = datagramPacket.getAddress();\n            int port = datagramPacket.getPort();\n            datagramPacket = new DatagramPacket(buffer, buffer.length, inetAddress, port);\n            datagramSocket.send(datagramPacket);\n</code></pre>\n<p>I'm a learner so anyone please feel free to teach me what wrong with my code and how I can fix it. I would very appreciate your input!</p>\n"},{"tags":["java","events","generics","raw-types"],"comments":[{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":3,"creation_date":1435490634,"post_id":31099196,"comment_id":50213846,"body_markdown":"That second code snippet is still using raw types.","body":"That second code snippet is still using raw types."},{"owner":{"account_id":44195,"reputation":269033,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1435490691,"post_id":31099196,"comment_id":50213862,"body_markdown":"But it sounds like an unsolvable problem; you&#39;re trying to use compile-time type safety based on information that&#39;s only available at run-time.","body":"But it sounds like an unsolvable problem; you&#39;re trying to use compile-time type safety based on information that&#39;s only available at run-time."},{"owner":{"account_id":6243460,"reputation":97907,"user_id":4856258,"accept_rate":100,"display_name":"Tagir Valeev"},"score":0,"creation_date":1435490838,"post_id":31099196,"comment_id":50213897,"body_markdown":"The last code sample does not use `handler` variable. Is there a mistake? Also please provide the signatures of `getHandler()` and `getMessage()` methods.","body":"The last code sample does not use <code>handler</code> variable. Is there a mistake? Also please provide the signatures of <code>getHandler()</code> and <code>getMessage()</code> methods."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1435490965,"post_id":31099196,"comment_id":50213923,"body_markdown":"I think your problem is `getMessage()`. Why does it return `Object`?","body":"I think your problem is <code>getMessage()</code>. Why does it return <code>Object</code>?"},{"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"score":0,"creation_date":1435491244,"post_id":31099196,"comment_id":50213984,"body_markdown":"@ Oliver Charlesworth You are right. It still uses raw types, but I don&#39;t get a compiler warning. Indeed, what you said about trying to use compile-time safety based on run-time information seems to be the case here. I just wanted to make sure that there isn&#39;t another alternative.","body":"@ Oliver Charlesworth You are right. It still uses raw types, but I don&#39;t get a compiler warning. Indeed, what you said about trying to use compile-time safety based on run-time information seems to be the case here. I just wanted to make sure that there isn&#39;t another alternative."},{"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"score":0,"creation_date":1435491334,"post_id":31099196,"comment_id":50214005,"body_markdown":"@RealSkeptic `getMessage()` returns `Object` because internally it stores different types of messages that are stored in a list of `Object`s. The same goes for `getHandler()`.","body":"@RealSkeptic <code>getMessage()</code> returns <code>Object</code> because internally it stores different types of messages that are stored in a list of <code>Object</code>s. The same goes for <code>getHandler()</code>."},{"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"score":0,"creation_date":1435491557,"post_id":31099196,"comment_id":50214060,"body_markdown":"@Tagir Valeev the last code sample uses `handler` using the generic method `handleEventGeneric()`.","body":"@Tagir Valeev the last code sample uses <code>handler</code> using the generic method <code>handleEventGeneric()</code>."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1435492040,"post_id":31099196,"comment_id":50214164,"body_markdown":"Then the question is why the list is a list of Objects. You need to go further and further back to the root cause - you&#39;re using `Object` where you shouldn&#39;t. Are the messages standard Java types like `Integer`, `String`, `List` etc., or your own classes?","body":"Then the question is why the list is a list of Objects. You need to go further and further back to the root cause - you&#39;re using <code>Object</code> where you shouldn&#39;t. Are the messages standard Java types like <code>Integer</code>, <code>String</code>, <code>List</code> etc., or your own classes?"},{"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"score":0,"creation_date":1435492554,"post_id":31099196,"comment_id":50214317,"body_markdown":"@RealSkeptic The messages could be whatever type the &quot;user&quot; of the EventHandler wants. So, I have to store them in a list of Objects.","body":"@RealSkeptic The messages could be whatever type the &quot;user&quot; of the EventHandler wants. So, I have to store them in a list of Objects."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1435493335,"post_id":31099196,"comment_id":50214544,"body_markdown":"But is it a type from the standard library or a new type?","body":"But is it a type from the standard library or a new type?"},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1435493341,"post_id":31099196,"comment_id":50214546,"body_markdown":"@Petrakeas Shouldn&#39;t you still get a warning when you call `handleEventGeneric` and pass it raw types? I am not sure how you managed to suppress the warning. All you are doing is transferring it from one part of your code to another.","body":"@Petrakeas Shouldn&#39;t you still get a warning when you call <code>handleEventGeneric</code> and pass it raw types? I am not sure how you managed to suppress the warning. All you are doing is transferring it from one part of your code to another."},{"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"score":0,"creation_date":1435495932,"post_id":31099196,"comment_id":50215312,"body_markdown":"@Cheta Kinger Yes, seems like I&#39;m propagating the problem later on, but the compiler doesn&#39;t produce a warning in this case. Doesn&#39;t really make a difference since I&#39;m doing the same thing anyway.","body":"@Cheta Kinger Yes, seems like I&#39;m propagating the problem later on, but the compiler doesn&#39;t produce a warning in this case. Doesn&#39;t really make a difference since I&#39;m doing the same thing anyway."},{"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"score":0,"creation_date":1435496041,"post_id":31099196,"comment_id":50215341,"body_markdown":"@RealSkeptic It could be a new type. But even if it was a type from the standard library, I don&#39;t see why it changes the semantics of the problem, which as Oliver Charlesworth stated is that I&#39;m trying to use compile-time type safety based on information that&#39;s only available at run-time.","body":"@RealSkeptic It could be a new type. But even if it was a type from the standard library, I don&#39;t see why it changes the semantics of the problem, which as Oliver Charlesworth stated is that I&#39;m trying to use compile-time type safety based on information that&#39;s only available at run-time."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1435498135,"post_id":31099196,"comment_id":50215966,"body_markdown":"Simply, if it is a type you can control, you can create an interface that all message objects have to implement.","body":"Simply, if it is a type you can control, you can create an interface that all message objects have to implement."},{"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"score":0,"creation_date":1435612441,"post_id":31099196,"comment_id":50263778,"body_markdown":"What type does `getHandler()` return? If it returns `EventHandler`, that&#39;s already a raw type.","body":"What type does <code>getHandler()</code> return? If it returns <code>EventHandler</code>, that&#39;s already a raw type."}],"answers":[{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1435612515,"creation_date":1435612515,"answer_id":31125704,"question_id":31099196,"body_markdown":"You could do this:\r\n\r\n    EventHandler&lt;Object&gt; handler = getHandler();\r\n    Object message = getMessage();\r\n    handler.handleEvent(message);\r\n\r\nIt&#39;s not safe, but no less safe than what you have now.","title":"How to avoid the use of raw type and use generics instead when the type is unknown?","body":"<p>You could do this:</p>\n\n<pre><code>EventHandler&lt;Object&gt; handler = getHandler();\nObject message = getMessage();\nhandler.handleEvent(message);\n</code></pre>\n\n<p>It's not safe, but no less safe than what you have now.</p>\n"},{"tags":[],"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1435614703,"creation_date":1435614703,"answer_id":31126198,"question_id":31099196,"body_markdown":"It&#39;s not possible to remove this warning (or at least not without `@SuppressWarning`). The only way to get rid of it is by doing 2 things:\r\n\r\n1. Making your code type proof: so basically if the invoking code does not use raw type, you are type safe or the invoking code is using rawtypes and it it&#39;s fault if the code end up being no type safe\r\n2. Add the `@SuppressWarning(&quot;unchecked&quot;)` on your code.\r\n\r\nThe warning is there so that you can easily identify where you have a weakness in terms of type safety, in your code. If you use the annotation correctly, then your code is safe and you&#39;re sure of not getting any unpleasant `ClassCastException`, unless you willingly added an `@SuppressWarning(&quot;unchecked&quot;)` in a place where you are actually not all that sure that the type is safe.\r\n\r\nSee some demo code illustrating my point:\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    public class TestGenerics {\r\n    \r\n    \tprivate Map&lt;Class&lt;?&gt;, EventHandler&lt;?&gt;&gt; handlers = new HashMap&lt;Class&lt;?&gt;, TestGenerics.EventHandler&lt;?&gt;&gt;();\r\n    \r\n    \tpublic interface EventHandler&lt;T&gt; {\r\n    \r\n    \t\tboolean handleEvent(T message);\r\n    \t}\r\n    \r\n    \t// Here you force the invoker to provide the correct type of event handler\r\n    \t// with the given type of klass\r\n    \t// If he wants to make this fail, then he will have to use rawtype\r\n    \tpublic &lt;T&gt; void registerHandler(Class&lt;T&gt; klass, EventHandler&lt;T&gt; handler) {\r\n    \t\thandlers.put(klass, handler);\r\n    \t}\r\n    \r\n    \tpublic &lt;T&gt; void handle(T message) {\r\n    \t\t@SuppressWarnings(&quot;unchecked&quot;) // Here you can add this annotation since you are forcing any invoker to provide a correct EventHandler\r\n    \t\tEventHandler&lt;T&gt; handler = (EventHandler&lt;T&gt;) handlers.get(message.getClass());\r\n    \t\tif (handler != null) {\r\n    \t\t\thandler.handleEvent(message);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tTestGenerics test = new TestGenerics();\r\n    \t\ttest.registerHandler(Long.class, new EventHandler&lt;Long&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean handleEvent(Long message) {\r\n    \t\t\t\tSystem.out.println(&quot;Received a long &quot; + message);\r\n    \t\t\t\treturn true;\r\n    \t\t\t}\r\n    \t\t});\r\n    \t\t// Here I use raw type but this also means that I created a weak spot in\r\n    \t\t// terms of type safety\r\n    \t\tEventHandler handler2 = new EventHandler&lt;String&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean handleEvent(String message) {\r\n    \t\t\t\tSystem.out.println(&quot;THis will never print &quot; + message);\r\n    \t\t\t\treturn false;\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\ttest.registerHandler(Integer.class, handler2); // This is where the\r\n    \t\t\t\t\t\t\t\t\t\t\t\t\t\t// problem comes from\r\n    \t\ttest.handle(3L); // OK\r\n    \t\ttest.handle(1); // ClassCastException\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How to avoid the use of raw type and use generics instead when the type is unknown?","body":"<p>It's not possible to remove this warning (or at least not without <code>@SuppressWarning</code>). The only way to get rid of it is by doing 2 things:</p>\n\n<ol>\n<li>Making your code type proof: so basically if the invoking code does not use raw type, you are type safe or the invoking code is using rawtypes and it it's fault if the code end up being no type safe</li>\n<li>Add the <code>@SuppressWarning(\"unchecked\")</code> on your code.</li>\n</ol>\n\n<p>The warning is there so that you can easily identify where you have a weakness in terms of type safety, in your code. If you use the annotation correctly, then your code is safe and you're sure of not getting any unpleasant <code>ClassCastException</code>, unless you willingly added an <code>@SuppressWarning(\"unchecked\")</code> in a place where you are actually not all that sure that the type is safe.</p>\n\n<p>See some demo code illustrating my point:</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class TestGenerics {\n\n    private Map&lt;Class&lt;?&gt;, EventHandler&lt;?&gt;&gt; handlers = new HashMap&lt;Class&lt;?&gt;, TestGenerics.EventHandler&lt;?&gt;&gt;();\n\n    public interface EventHandler&lt;T&gt; {\n\n        boolean handleEvent(T message);\n    }\n\n    // Here you force the invoker to provide the correct type of event handler\n    // with the given type of klass\n    // If he wants to make this fail, then he will have to use rawtype\n    public &lt;T&gt; void registerHandler(Class&lt;T&gt; klass, EventHandler&lt;T&gt; handler) {\n        handlers.put(klass, handler);\n    }\n\n    public &lt;T&gt; void handle(T message) {\n        @SuppressWarnings(\"unchecked\") // Here you can add this annotation since you are forcing any invoker to provide a correct EventHandler\n        EventHandler&lt;T&gt; handler = (EventHandler&lt;T&gt;) handlers.get(message.getClass());\n        if (handler != null) {\n            handler.handleEvent(message);\n        }\n    }\n\n    public static void main(String[] args) {\n        TestGenerics test = new TestGenerics();\n        test.registerHandler(Long.class, new EventHandler&lt;Long&gt;() {\n            @Override\n            public boolean handleEvent(Long message) {\n                System.out.println(\"Received a long \" + message);\n                return true;\n            }\n        });\n        // Here I use raw type but this also means that I created a weak spot in\n        // terms of type safety\n        EventHandler handler2 = new EventHandler&lt;String&gt;() {\n            @Override\n            public boolean handleEvent(String message) {\n                System.out.println(\"THis will never print \" + message);\n                return false;\n            }\n        };\n        test.registerHandler(Integer.class, handler2); // This is where the\n                                                        // problem comes from\n        test.handle(3L); // OK\n        test.handle(1); // ClassCastException\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668342789,"creation_date":1668342789,"answer_id":74420970,"question_id":31099196,"body_markdown":"As [warning][1] suggest you have genric type safety problem, which is very easy to handle with proper diamond operator before addressing the inherited generic types with in other class.\r\nFor instance\r\n\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    public class Parent&lt;R, V&gt; {\r\n    ...\r\n        public class Child&lt;T, S extends Number&gt; {\r\n        ...\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nGeneric type safe declaring\r\n\r\n      &lt;T, S extends Number&gt; Parent&lt;R, V&gt;.Child&lt;T, S&gt; someMethodCall(...)\r\n\r\nThe `R, V` in provided declaration are generic types that referenced with in class/interface which the `someMethod` exist, in general they can even specify with in method as well.\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html","title":"How to avoid the use of raw type and use generics instead when the type is unknown?","body":"<p>As <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/rawTypes.html\" rel=\"nofollow noreferrer\">warning</a> suggest you have genric type safety problem, which is very easy to handle with proper diamond operator before addressing the inherited generic types with in other class.\nFor instance</p>\n<pre class=\"lang-html prettyprint-override\"><code>public class Parent&lt;R, V&gt; {\n...\n    public class Child&lt;T, S extends Number&gt; {\n    ...\n    }\n}\n</code></pre>\n\n<p>Generic type safe declaring</p>\n<pre><code>  &lt;T, S extends Number&gt; Parent&lt;R, V&gt;.Child&lt;T, S&gt; someMethodCall(...)\n</code></pre>\n<p>The <code>R, V</code> in provided declaration are generic types that referenced with in class/interface which the <code>someMethod</code> exist, in general they can even specify with in method as well.</p>\n"}],"owner":{"account_id":906541,"reputation":1550,"user_id":941314,"accept_rate":71,"display_name":"Petrakeas"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2968,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":31126198,"answer_count":3,"score":3,"last_activity_date":1668342789,"creation_date":1435490401,"question_id":31099196,"body_markdown":"I have a generic interface for a handler:\r\n\r\n    public interface EventHandler&lt;T&gt; {\r\n\r\n         boolean handleEvent(T message);\r\n    }\r\nYou can implement this interface and process &lt;code&gt;T message&lt;/code&gt;. You have to pass an instance of your implementation to an &lt;code&gt;EventDispatcher&lt;/code&gt; instance. The class stores internally multiple &lt;code&gt;EventHandler&lt;/code&gt; instances of various types. \r\n\r\nAt some point an event is triggered and the &lt;code&gt;EventDispatcher&lt;/code&gt; instance calls the corresponding &lt;code&gt;EventHandler&lt;/code&gt;&#39;s &lt;code&gt;handleEvent()&lt;/code&gt; method and passes a message that is the same type as the &lt;code&gt;EventHandler&lt;/code&gt;. The problem is that I don&#39;t know which is the exact type, but I am sure that the &lt;code&gt;T message&lt;/code&gt; I&#39;m passing to the &lt;code&gt;EventHandler&lt;T&gt;&lt;/code&gt; instance have the same &quot;T&quot;.\r\n\r\nThe way I make this call uses raw types and works:\r\n\r\n    EventHandler handler = getHandler();\r\n    Object message = getMessage();\r\n    handler.handleEvent(message);\r\n,but I get the warning &quot;Unchecked call to &#39;handleEvent(T)&#39; as a member of raw type &#39;EventHandler&#39;&quot;.\r\n\r\nIs it possible to use generics to avoid the warning? \r\n\r\nOne possible solution I have thought of is to make a generic wrapper method:\r\n\r\n    private &lt;T&gt; boolean handleEventGeneric(EventHandler&lt;T&gt; handler, T message) {\r\n        return handler.handleEvent(message);\r\n    }\r\n\r\nand use it:\r\n\r\n    EventHandler handler = getHandler();\r\n    Object message = getMessage();\r\n    handleEventGeneric(action.eventHandler, message);\r\n\r\nBut I don&#39;t like the fact that I have to make a wrapper method. Is there a more elegant solution?","title":"How to avoid the use of raw type and use generics instead when the type is unknown?","body":"<p>I have a generic interface for a handler:</p>\n\n<pre><code>public interface EventHandler&lt;T&gt; {\n\n     boolean handleEvent(T message);\n}\n</code></pre>\n\n<p>You can implement this interface and process <code>T message</code>. You have to pass an instance of your implementation to an <code>EventDispatcher</code> instance. The class stores internally multiple <code>EventHandler</code> instances of various types. </p>\n\n<p>At some point an event is triggered and the <code>EventDispatcher</code> instance calls the corresponding <code>EventHandler</code>'s <code>handleEvent()</code> method and passes a message that is the same type as the <code>EventHandler</code>. The problem is that I don't know which is the exact type, but I am sure that the <code>T message</code> I'm passing to the <code>EventHandler</code> instance have the same \"T\".</p>\n\n<p>The way I make this call uses raw types and works:</p>\n\n<pre><code>EventHandler handler = getHandler();\nObject message = getMessage();\nhandler.handleEvent(message);\n</code></pre>\n\n<p>,but I get the warning \"Unchecked call to 'handleEvent(T)' as a member of raw type 'EventHandler'\".</p>\n\n<p>Is it possible to use generics to avoid the warning? </p>\n\n<p>One possible solution I have thought of is to make a generic wrapper method:</p>\n\n<pre><code>private &lt;T&gt; boolean handleEventGeneric(EventHandler&lt;T&gt; handler, T message) {\n    return handler.handleEvent(message);\n}\n</code></pre>\n\n<p>and use it:</p>\n\n<pre><code>EventHandler handler = getHandler();\nObject message = getMessage();\nhandleEventGeneric(action.eventHandler, message);\n</code></pre>\n\n<p>But I don't like the fact that I have to make a wrapper method. Is there a more elegant solution?</p>\n"},{"tags":["java","crash","intellij-idea","memory-management"],"comments":[{"owner":{"account_id":264181,"reputation":3163,"user_id":550271,"accept_rate":80,"display_name":"z7sg Ѫ"},"score":2,"creation_date":1305735778,"post_id":6047627,"comment_id":6997248,"body_markdown":"The location of the log files is system-dependent but it will be something like ~UserHomeDir/.IdeaXXX/system/log.  Maybe if you update your question with a relevant part someone will have a chance of answering it.","body":"The location of the log files is system-dependent but it will be something like ~UserHomeDir/.IdeaXXX/system/log.  Maybe if you update your question with a relevant part someone will have a chance of answering it."},{"owner":{"account_id":192998,"reputation":22700,"user_id":434460,"accept_rate":99,"display_name":"Leonid"},"score":0,"creation_date":1305736239,"post_id":6047627,"comment_id":6997363,"body_markdown":"I can see lots of memory exceptions in there, there are like 20 MB of logs. I can&#39;t say exactly what was the last exception when it crashed, will try increasing jvm memory and if/when that happens again look at the last few logs. Thanks.","body":"I can see lots of memory exceptions in there, there are like 20 MB of logs. I can&#39;t say exactly what was the last exception when it crashed, will try increasing jvm memory and if/when that happens again look at the last few logs. Thanks."}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1428890242,"creation_date":1305744816,"answer_id":6049649,"question_id":6047627,"body_markdown":"Please define &quot;crashes&quot;. If the window just disappears, it usually means the JVM bug and there will be **hs_err_pidXXX.log** files in the IDEA working directory (usually IDEA_HOME/bin). In some cases updating JDK to the new version or changing Garbage Collector strategy (via vmoptions file) can workaround such issues.\r\n\r\nIf the IDE stops responding completely, you need to [provide thread dumps][1].\r\n\r\nIf it behaves weird, then you need to check **idea.log** for exceptions. In some cases it can be caused by OutOfMemory issues. Increasing heap size in idea.vmoptions should help. [Check the FAQ][2] for IDEA files locations.\r\n\r\nIf IDEA is becoming very slow on certain operations, you need to [provide CPU snapshot][3].\r\n\r\n\r\n  [1]: https://intellij-support.jetbrains.com/entries/23348667\r\n  [2]: http://devnet.jetbrains.net/docs/DOC-181\r\n  [3]: http://www.jetbrains.net/devnet/docs/DOC-192","title":"Intellij diagnosing crash problem","body":"<p>Please define \"crashes\". If the window just disappears, it usually means the JVM bug and there will be <strong>hs_err_pidXXX.log</strong> files in the IDEA working directory (usually IDEA_HOME/bin). In some cases updating JDK to the new version or changing Garbage Collector strategy (via vmoptions file) can workaround such issues.</p>\n\n<p>If the IDE stops responding completely, you need to <a href=\"https://intellij-support.jetbrains.com/entries/23348667\" rel=\"nofollow\">provide thread dumps</a>.</p>\n\n<p>If it behaves weird, then you need to check <strong>idea.log</strong> for exceptions. In some cases it can be caused by OutOfMemory issues. Increasing heap size in idea.vmoptions should help. <a href=\"http://devnet.jetbrains.net/docs/DOC-181\" rel=\"nofollow\">Check the FAQ</a> for IDEA files locations.</p>\n\n<p>If IDEA is becoming very slow on certain operations, you need to <a href=\"http://www.jetbrains.net/devnet/docs/DOC-192\" rel=\"nofollow\">provide CPU snapshot</a>.</p>\n"},{"tags":[],"owner":{"account_id":274136,"reputation":5721,"user_id":1910558,"accept_rate":76,"display_name":"Srujan Kumar Gulla"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1443808774,"creation_date":1443808774,"answer_id":32913106,"question_id":6047627,"body_markdown":"Intellij wouldnt start up i.e. flashes IntelliJ and crashes. \r\n\r\n**Fix:** Set -Xmx to default 512MB in `idea.exe.vmoptions` file located in folder `C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA Community Edition 14.1.4\\bin`\r\n\r\n**How I landed on this issue:** I was having Xmx set to 2048MB earlier and it crashed hitting GC limit. Then on IntelliJ wouldn&#39;t start. ","title":"Intellij diagnosing crash problem","body":"<p>Intellij wouldnt start up i.e. flashes IntelliJ and crashes. </p>\n\n<p><strong>Fix:</strong> Set -Xmx to default 512MB in <code>idea.exe.vmoptions</code> file located in folder <code>C:\\Program Files (x86)\\JetBrains\\IntelliJ IDEA Community Edition 14.1.4\\bin</code></p>\n\n<p><strong>How I landed on this issue:</strong> I was having Xmx set to 2048MB earlier and it crashed hitting GC limit. Then on IntelliJ wouldn't start. </p>\n"},{"tags":[],"owner":{"account_id":1237712,"reputation":1077,"user_id":1200966,"accept_rate":75,"display_name":"aram063"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1537809426,"creation_date":1537809426,"answer_id":52484348,"question_id":6047627,"body_markdown":"In addition to the above answer, I added: \r\n\r\n`-Dswing.noxp=true` to .vmoptions file located at IDE_HOME\\bin\\&lt;product&gt;[bits][.exe].vmoptions\r\n\r\nThis fixed the problem for me.","title":"Intellij diagnosing crash problem","body":"<p>In addition to the above answer, I added: </p>\n\n<p><code>-Dswing.noxp=true</code> to .vmoptions file located at IDE_HOME\\bin\\[bits][.exe].vmoptions</p>\n\n<p>This fixed the problem for me.</p>\n"}],"owner":{"account_id":192998,"reputation":22700,"user_id":434460,"accept_rate":99,"display_name":"Leonid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26043,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":6049649,"answer_count":3,"score":13,"last_activity_date":1668342243,"creation_date":1305734528,"question_id":6047627,"body_markdown":"Sometimes `Intellij IDEA` crashes for no obvious reason.\r\n\r\nFirst, it becomes quite slow, `CTRL + N` (class search) often takes a bit longer than usual time to respond when you type something into it, jumping between files takes more time. And then it crashes..\r\n\r\nWhat is the usual route to diagnose `Intellij` crash? I&#39;ve been monitoring memory on the status bar when it crashed and it had about 100MB (out of 512MB) left at that time. Are there any useful logs that would point in the direction of the problem?\r\n\r\n[UPDATE] 3 crashes in total.\r\n\r\n1 instance:\r\n&lt;blockquote&gt;A fatal error has been detected by the Java Runtime Environment:\r\n\r\n EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x6d93acab, pid=3120, tid=5588\r\n\r\n JRE version: 6.0_24-b07\r\n Java VM: Java HotSpot(TM) Client VM (19.1-b02 mixed mode windows-x86 )\r\n Problematic frame:\r\n V  [jvm.dll+0x9acab]\r\n&lt;/blockquote&gt;\r\n\r\n2 instances:\r\n&lt;blockquote&gt;A fatal error has been detected by the Java Runtime Environment:\r\njava.lang.OutOfMemoryError: requested 32756 bytes for ChunkPool::allocate. Out of swap space?\r\nInternal Error (allocation.cpp:166), pid=2484, tid=5568\r\nError: ChunkPool::allocate&lt;/blockquote&gt;\r\n\r\nMemory configuration:\r\n-Xss2m  \r\n-Xms32m  \r\n-Xmx512m \r\n\r\nIncreased the memory to `-Xmx768`, hopefully that will delay the out of memory error by a bit. Increasing the memory to `-Xmx1024` caused weird address mapping problems after running IDEA for a while (integer overflow?). The machine has 3GB of RAM.","title":"Intellij diagnosing crash problem","body":"<p>Sometimes <code>Intellij IDEA</code> crashes for no obvious reason.</p>\n\n<p>First, it becomes quite slow, <code>CTRL + N</code> (class search) often takes a bit longer than usual time to respond when you type something into it, jumping between files takes more time. And then it crashes..</p>\n\n<p>What is the usual route to diagnose <code>Intellij</code> crash? I've been monitoring memory on the status bar when it crashed and it had about 100MB (out of 512MB) left at that time. Are there any useful logs that would point in the direction of the problem?</p>\n\n<p>[UPDATE] 3 crashes in total.</p>\n\n<p>1 instance:</p>\n\n<blockquote>A fatal error has been detected by the Java Runtime Environment:\n\n EXCEPTION_ACCESS_VIOLATION (0xc0000005) at pc=0x6d93acab, pid=3120, tid=5588\n\n JRE version: 6.0_24-b07\n Java VM: Java HotSpot(TM) Client VM (19.1-b02 mixed mode windows-x86 )\n Problematic frame:\n V  [jvm.dll+0x9acab]\n</blockquote>\n\n<p>2 instances:</p>\n\n<blockquote>A fatal error has been detected by the Java Runtime Environment:\njava.lang.OutOfMemoryError: requested 32756 bytes for ChunkPool::allocate. Out of swap space?\nInternal Error (allocation.cpp:166), pid=2484, tid=5568\nError: ChunkPool::allocate</blockquote>\n\n<p>Memory configuration:\n-Xss2m<br>\n-Xms32m<br>\n-Xmx512m </p>\n\n<p>Increased the memory to <code>-Xmx768</code>, hopefully that will delay the out of memory error by a bit. Increasing the memory to <code>-Xmx1024</code> caused weird address mapping problems after running IDEA for a while (integer overflow?). The machine has 3GB of RAM.</p>\n"},{"tags":["java","jsf","el","managed-bean"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1668161323,"post_id":74400774,"comment_id":131343568,"body_markdown":"Just wondering , would i need to use java.lang.reflect to obtain and load the running ApplicationContextFacade instance to get the main ServletContext. I&#39;m using Tomcat 10 therefore  i do not use javax","body":"Just wondering , would i need to use java.lang.reflect to obtain and load the running ApplicationContextFacade instance to get the main ServletContext. I&#39;m using Tomcat 10 therefore  i do not use javax"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1668162071,"post_id":74400774,"comment_id":131343855,"body_markdown":"nb: h:outputText value=&quot;JavaServer Faces&quot; in the page prints and shows as everything else shows in &quot;view source&quot; , i know from earlier bloopers the methods ARE called , but now , i get no result and no errors printed. Another ? is the servletcontext i get from externalcontext a class representation of the instance that needs loading from class.forName to use it as an instance ???","body":"nb: h:outputText value=&quot;JavaServer Faces&quot; in the page prints and shows as everything else shows in &quot;view source&quot; , i know from earlier bloopers the methods ARE called , but now , i get no result and no errors printed. Another ? is the servletcontext i get from externalcontext a class representation of the instance that needs loading from class.forName to use it as an instance ???"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1668164975,"post_id":74400774,"comment_id":131344841,"body_markdown":"Your question is pretty long winded and the general approach is unnecessarily overcomplicated, but in first place, did you know that the default managed bean name is `imageByteDataBean` with the 1st character lowercased, conform the Javabeans specification? You have there an outcommented `name=&quot;ImageByteDataBean&quot;` which should have worked.","body":"Your question is pretty long winded and the general approach is unnecessarily overcomplicated, but in first place, did you know that the default managed bean name is <code>imageByteDataBean</code> with the 1st character lowercased, conform the Javabeans specification? You have there an outcommented <code>name=&quot;ImageByteDataBean&quot;</code> which should have worked."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1668176942,"post_id":74400774,"comment_id":131349114,"body_markdown":"Thats interesting, because in the j2ee6 tutorial the UserNameBean class is spelled starting with uppercase and does not use AT ManagedBean annotation? Apparantly that works (Sun Micro.) Also @ManagedBean is deprecated in favor of AT named of recent. I just switched to jakarta.faces-3.0.0-RC5.jar that has com.sun.faces.config.WebConfiguration and the jakarta faces packages. Same result. I&#39;ll try putting the name = back","body":"Thats interesting, because in the j2ee6 tutorial the UserNameBean class is spelled starting with uppercase and does not use AT ManagedBean annotation? Apparantly that works (Sun Micro.) Also @ManagedBean is deprecated in favor of AT named of recent. I just switched to jakarta.faces-3.0.0-RC5.jar that has com.sun.faces.config.WebConfiguration and the jakarta faces packages. Same result. I&#39;ll try putting the name = back"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1668178094,"post_id":74400774,"comment_id":131349569,"body_markdown":"...UserNameBean class in the xhtml code.","body":"...UserNameBean class in the xhtml code."},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1668178421,"post_id":74400774,"comment_id":131349696,"body_markdown":"JSF 1.x used `&lt;managed-bean&gt;` entries in `faces-config.xml` instead of `@ManagedBean.` And indeed, it&#39;s in turn deprecated since JSF 2.3 in favor of CDI.","body":"JSF 1.x used <code>&lt;managed-bean&gt;</code> entries in <code>faces-config.xml</code> instead of <code>@ManagedBean.</code> And indeed, it&#39;s in turn deprecated since JSF 2.3 in favor of CDI."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1668182133,"post_id":74400774,"comment_id":131350953,"body_markdown":"It is actually &quot;not taking&quot; on any of the methods while the AT ManageBean has the parenthesized arguments for name and or eager. Without it it pretends to not have an error. Finally errors have shown up warning about serializable and JSF in catalina.out","body":"It is actually &quot;not taking&quot; on any of the methods while the AT ManageBean has the parenthesized arguments for name and or eager. Without it it pretends to not have an error. Finally errors have shown up warning about serializable and JSF in catalina.out"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1668224148,"post_id":74400774,"comment_id":131359852,"body_markdown":"SOLVED IT and as usual its biting off too many things at once. It now gets the base64 image String from the ServletContext of the app outside Faces context and servlet from within faces. Uses com.sun in jakarta.faces-3.0.0-RC5.jar although the other jakarta  .jar without it i&#39;ve yet to try. I had to remove the parameterized bean method calls, quite frankly i cannot find good docs to explain the program flow of parametized bean methods or whether they are set or get.","body":"SOLVED IT and as usual its biting off too many things at once. It now gets the base64 image String from the ServletContext of the app outside Faces context and servlet from within faces. Uses com.sun in jakarta.faces-3.0.0-RC5.jar although the other jakarta  .jar without it i&#39;ve yet to try. I had to remove the parameterized bean method calls, quite frankly i cannot find good docs to explain the program flow of parametized bean methods or whether they are set or get."}],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":670,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668341729,"creation_date":1668160669,"question_id":74400774,"body_markdown":"\r\n\r\nThis is a piece difficult,It&#39;s JSF i&#39;m using jakarta faces api 3.0.0 , it seems in a ManagedBean calling FacesContext to acquire the jakarta.faces.context.ExternalContext and use its getContext method that returns &quot;java.lang.Object&quot; that is either a PortletContext or a ServletContext (i&#39;m not using neither need a portlet library) it does not respond or seem to gain the applications&#39; running instance in Tomcat 10.\r\nI need to obtain the proper instance of jakarta.servlet.ServletContext.\r\nThe docs do give reasons the ExternalContext getContext is not called except at startup or shutdown and does not make clear sense.\r\nSo shifting to another method that is called during operation from `ExternalContext getApplicationMap` a java.util.Map  and using `get &quot;anobjectname&quot;` did not operate either.\r\n\r\nI need to access the class attributes i placed into the jakarta.servlet.ServletContext of the app as to that thereof in normal circumstance as always operates,` jakarta.servlet.ServletContext getAttribute &quot;TheLoadedClassAttribute&quot;`\r\n\r\nThe JSF page is XML and renders and calls the methods and shows but i cannot reach the proper ServletContext instance when i call these in the ManagedBean.\r\nIt also shows no error in the catalina.out log. \r\n\r\nAs you can see i&#39;ve been shifting the code around this way and that but no result , but no error either !\r\n\r\n\r\n\r\n\r\n\r\n    package beans;\r\n        \r\n        \r\n        import com.sun.faces.config.WebConfiguration;\r\n        import jakarta.faces.bean.ManagedBean;\r\n        import jakarta.faces.bean.ManagedProperty;\r\n        import jakarta.faces.bean.SessionScoped;\r\n        //import jakarta.servlet.ServletConfig;\r\n        import jakarta.servlet.ServletContext;\r\n        import com.nicephotog.tools.objectattribute.WebAppToolRAMDataServingObj;\r\n        import com.nicephotog.tools.objectattribute.objattrifc.RamStringB64;\r\n        \r\n        @ManagedBean(name=&quot;imagebytedatabean&quot;)\r\n        @SessionScoped\r\n        public class ImageByteDataBean{\r\n        //ServletContext appconxt;  WebAppToolRAMDataServingObj dat;  RamStringB64 b64obj;\r\n        //\r\n        String imagedata;\r\n        String testout;\r\n        \r\n        public ImageByteDataBean(){}\r\n        \r\n        \r\n        public void setImageData(String imgNumber){\r\n        // jakarta.faces-3.0.0-RC5.jar\r\n         WebConfiguration wbc = WebConfiguration.getInstance();\r\n        ServletContext appconxt = wbc.getServletContext();\r\n        WebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.getAttribute(&quot;DataStoreObj&quot;);\r\n        RamStringB64 b64obj = dat.getRAMStringB64Store();\r\n        String idat = (b64obj.getRAMstringB64((int)new Integer(imgNumber).intValue()));\r\n        System.out.println(&quot;begin idat in managed bean : &quot;+idat);\r\n        this.imagedata = idat;\r\n        }\r\n        \r\n        \r\n        public String getImageData(){\r\n        return this.imagedata;\r\n        }\r\n        \r\n        \r\n        public void setTestout(String testout){\r\n        this.testout=testout;\r\n        }\r\n        \r\n        public String getTestout(){\r\n        return this.testout;\r\n        }\r\n        \r\n        \r\n        }//enclss\r\n        \r\n        \r\n        /*\r\n        public void setImagedata(Integer imgNumber){\r\n        java.util.Map appconxt = (java.util.Map)((jakarta.faces.context.ExternalContext)((jakarta.faces.context.FacesContext)jakarta.faces.context.FacesContext.getCurrentInstance()).getExternalContext()).getApplicationMap();\r\n        WebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.get(&quot;DataStoreObj&quot;);\r\n        RamStringB64 b64obj = dat.getRAMStringB64Store();\r\n        String idat = (b64obj.getRAMstringB64((int)imgNumber.intValue()));\r\n        System.out.println(&quot;begin idat in managed bean : &quot;+idat);\r\n        this.imagedata = idat;\r\n        }\r\n        */\r\n        \r\n\r\n    \r\n    \r\n    \r\n\r\n\r\nHERE IS AN ERROR OUTPUT when @ManagedBean has parenthesized arguments to name the bean.\r\n\r\n\r\n\r\n    12-Nov-2022 03:46:05.050 WARNING [http-nio-8080-exec-3] com.sun.faces.context.SessionMap.put JSF1063: WARNING! Setting non-serializable attribute value into HttpSession (key: imagebytedatabean, value class: beans.ImageByteDataBean).\r\n        12-Nov-2022 03:46:05.054 SEVERE [http-nio-8080-exec-3] com.sun.faces.application.view.FaceletViewHandlingStrategy.handleRenderException Error Rendering View[/welcomeJSF.xhtml]\r\n        \tjakarta.el.ELException: /welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\r\n        \t\tat com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:47)\r\n        \t\tat com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:42)\r\n        \t\tat com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:170)\r\n        \t\tat jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\r\n        \t\tat jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\r\n        \t\tat com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:458)\r\n        \t\tat com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:164)\r\n        \t\tat com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:93)\r\n        \t\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)\r\n        \t\tat com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:178)\r\n        \t\tat jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:682)\r\n        \t\tat jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n        \t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n        \t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n        \t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n        \t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n        \t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n        \t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n        \t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n        \t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n        \t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353)\r\n        \t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n        \t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n        \t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:872)\r\n        \t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1695)\r\n        \t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        \t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n        \t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n        \t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        \t\tat java.lang.Thread.run(Thread.java:748)\r\n        12-Nov-2022 03:46:05.078 1100 [http-nio-8080-exec-3] com.sun.faces.context.ExceptionHandlerImpl.log JSF1073: jakarta.el.ELException caught during processing of RENDER_RESPONSE 6 : UIComponent-ClientId=, Message=/welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\r\n        12-Nov-2022 03:46:05.078 1100 [http-nio-8080-exec-3] com.sun.faces.context.ExceptionHandlerImpl.log /welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\r\n        \tjakarta.el.ELException: /welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\r\n        \t\tat com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:47)\r\n        \t\tat com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:42)\r\n        \t\tat com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:170)\r\n        \t\tat jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\r\n        \t\tat jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\r\n        \t\tat com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:458)\r\n        \t\tat com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:164)\r\n        \t\tat com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:93)\r\n        \t\tat com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)\r\n        \t\tat com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:178)\r\n        \t\tat jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:682)\r\n        \t\tat jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n        \t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\r\n        \t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\r\n        \t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n        \t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n        \t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n        \t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\r\n        \t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n        \t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\r\n        \t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n        \t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353)\r\n        \t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n        \t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n        \t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:872)\r\n        \t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1695)\r\n        \t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        \t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n        \t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n        \t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        \t\tat java.lang.Thread.run(Thread.java:748)\r\n        \t\t\r\n\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\nFollowing is its xml page , its only set for test output , the parameterized set method is able to inside or outside of an element and the whole process completes , but no result , but no error.\r\n\r\n\r\n\r\n\r\n\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    \r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\r\n    xmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;\r\n    xmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;&gt;\r\n            &lt;h:head&gt;\r\n                &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n                &lt;title&gt;JSP Page&lt;/title&gt;          \r\n          \r\n            &lt;/h:head&gt;\r\n      &lt;f:view&gt;\r\n            &lt;h:body&gt;\r\n    \r\n                &lt;h1&gt;&lt;h:outputText value=&quot;JavaServer Faces&quot; /&gt;&lt;/h1&gt;\r\n        #{imagebytedatabean.testout(&#39;So heres some text to blow your mind!&#39;)}        \r\n     &lt;h:outputText value=&quot;#{imagebytedatabean.testout}&quot; /&gt; \r\n     &lt;p /&gt;\r\n                \r\n     #{imagebytedatabean.imageData(&#39;4&#39;)}           \r\n      \r\n     &lt;p /&gt;\r\n    &lt;h:outputText value=&quot;#{imagebytedatabean.imageData}&quot; /&gt;\r\n    \r\n           &lt;/h:body&gt;\r\n      &lt;/f:view&gt;\r\n        &lt;/html&gt;    \r\n     \r\n\r\n   \r\n    \r\n\r\nI obtained the FacesContext and classes it obtains that indicate or insinuate coherent association with the the overall application context the jakarta.servlet.ServletContext.\r\n\r\n\r\n**SOLVED IT (mainly i should instantiated the properties) i simply could not understand the program flow of parameterized methods, so removed them (need to find good docs about parameterized EL methods), i&#39;ll just need to add another property to commit processing for page processing flow.**\r\n\r\n**A good work around would/may be using WebConfiguration class to obtain the request parameters internally in the bean to obtain an image index with the postback url.**\r\n\r\n\r\n\r\n        // jakarta.faces-3.0.0-RC5.jar   jakarta.servlet.jsp.jstl-2.0.0.jar   \r\n        // jakarta.inject-api-2.0.0.jar   jakarta.annotation-api-62.jar\r\n        // nicephotog-web-tools.jar   https://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=share_link\r\n        package beans;\r\n        \r\n        import com.sun.faces.config.WebConfiguration;\r\n        import jakarta.faces.bean.ManagedBean;\r\n        //import jakarta.inject.Named;\r\n        //import jakarta.faces.bean.ManagedProperty;\r\n        //import jakarta.faces.bean.SessionScoped;\r\n        import jakarta.faces.bean.RequestScoped;\r\n        import jakarta.servlet.ServletContext;\r\n        import com.nicephotog.tools.objectattribute.WebAppToolRAMDataServingObj;\r\n        import com.nicephotog.tools.objectattribute.objattrifc.RamStringB64;\r\n        // (name = &quot;imageByteDataBean&quot;, eager = true) @ManagedBean(name=&quot;imagebytedatabean&quot;) \r\n        //@Named(&quot;imageByteDataBean&quot;)\r\n        \r\n        @ManagedBean\r\n        @RequestScoped\r\n        public class ImageByteDataBean{\r\n        //\r\n        String imagedata=&quot;4&quot;;\r\n        String testout=&quot;Internal text value&quot;;\r\n        \r\n        public ImageByteDataBean(){}\r\n        \r\n        \r\n        public void setImagedata(String imagedata){\r\n        this.imagedata = imagedata ;\r\n        }\r\n        \r\n        \r\n        public String getImagedata(){\r\n        makeImg(imagedata);\r\n        return this.imagedata;\r\n        }\r\n        \r\n        \r\n        public void setTestout(String testout){\r\n        this.testout=testout;\r\n        }\r\n        \r\n        public String getTestout(){\r\n        return this.testout;\r\n        }\r\n        \r\n        public String makeImg(String umber){\r\n    /*\r\n    jakarta.faces-3.0.0-RC5.jar\r\n     javax package is identical to jakarta except for javax package name\r\n    THIS OPERATES TOO - NOTE THE CAST (jakarta.servlet.ServletContext)    NOTE A CAST (javax.servlet.ServletContext)\r\n    jakarta.servlet.ServletContext appconxt = (jakarta.servlet.ServletContext)(jakarta.faces.context.FacesContext.getCurrentInstance()).getExternalContext().getContext();\r\n    */\r\n         WebConfiguration wbc = WebConfiguration.getInstance();\r\n        ServletContext appconxt = wbc.getServletContext();\r\n        WebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.getAttribute(&quot;DataStoreObj&quot;);\r\n        RamStringB64 b64obj = dat.getRAMStringB64Store();\r\n        imagedata = (b64obj.getRAMstringB64((int)new Integer(umber).intValue()));\r\n        System.out.println(&quot;begin idat in managed bean : &quot;+imagedata);\r\n        return imagedata;\r\n        }\r\n        \r\n        \r\n        }//enclss\r\n     \r\n\r\n       \r\n\r\nthe test page xml\r\n\r\n\r\n\r\n    &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n    \r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n    xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\r\n    xmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;\r\n    xmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;&gt;\r\n            &lt;h:head&gt;\r\n                &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\r\n                &lt;title&gt;JSP Page&lt;/title&gt;          \r\n          \r\n            &lt;/h:head&gt;\r\n      &lt;f:view&gt;\r\n            &lt;h:body&gt;\r\n    \r\n                &lt;h1&gt;&lt;h:outputText value=&quot;JavaServer Faces&quot; /&gt;&lt;/h1&gt;\r\n                \r\n     &lt;h:outputText value=&quot;#{imageByteDataBean.testout}&quot; /&gt; \r\n     &lt;p /&gt;\r\n                     \r\n      \r\n     &lt;p /&gt;\r\n    &lt;h:outputText value=&quot;#{imageByteDataBean.imagedata}&quot; /&gt;\r\n    \r\n           &lt;/h:body&gt;\r\n      &lt;/f:view&gt;\r\n        &lt;/html&gt;\r\n\r\n\r\n\r\n\r\n","title":"jakarta.servlet.ServletContext from jakarta.faces.context.FacesContext to getAttribute(&quot;AnAttributeName&quot;)","body":"<p>This is a piece difficult,It's JSF i'm using jakarta faces api 3.0.0 , it seems in a ManagedBean calling FacesContext to acquire the jakarta.faces.context.ExternalContext and use its getContext method that returns &quot;java.lang.Object&quot; that is either a PortletContext or a ServletContext (i'm not using neither need a portlet library) it does not respond or seem to gain the applications' running instance in Tomcat 10.\nI need to obtain the proper instance of jakarta.servlet.ServletContext.\nThe docs do give reasons the ExternalContext getContext is not called except at startup or shutdown and does not make clear sense.\nSo shifting to another method that is called during operation from <code>ExternalContext getApplicationMap</code> a java.util.Map  and using <code>get &quot;anobjectname&quot;</code> did not operate either.</p>\n<p>I need to access the class attributes i placed into the jakarta.servlet.ServletContext of the app as to that thereof in normal circumstance as always operates,<code> jakarta.servlet.ServletContext getAttribute &quot;TheLoadedClassAttribute&quot;</code></p>\n<p>The JSF page is XML and renders and calls the methods and shows but i cannot reach the proper ServletContext instance when i call these in the ManagedBean.\nIt also shows no error in the catalina.out log.</p>\n<p>As you can see i've been shifting the code around this way and that but no result , but no error either !</p>\n<pre><code>package beans;\n    \n    \n    import com.sun.faces.config.WebConfiguration;\n    import jakarta.faces.bean.ManagedBean;\n    import jakarta.faces.bean.ManagedProperty;\n    import jakarta.faces.bean.SessionScoped;\n    //import jakarta.servlet.ServletConfig;\n    import jakarta.servlet.ServletContext;\n    import com.nicephotog.tools.objectattribute.WebAppToolRAMDataServingObj;\n    import com.nicephotog.tools.objectattribute.objattrifc.RamStringB64;\n    \n    @ManagedBean(name=&quot;imagebytedatabean&quot;)\n    @SessionScoped\n    public class ImageByteDataBean{\n    //ServletContext appconxt;  WebAppToolRAMDataServingObj dat;  RamStringB64 b64obj;\n    //\n    String imagedata;\n    String testout;\n    \n    public ImageByteDataBean(){}\n    \n    \n    public void setImageData(String imgNumber){\n    // jakarta.faces-3.0.0-RC5.jar\n     WebConfiguration wbc = WebConfiguration.getInstance();\n    ServletContext appconxt = wbc.getServletContext();\n    WebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.getAttribute(&quot;DataStoreObj&quot;);\n    RamStringB64 b64obj = dat.getRAMStringB64Store();\n    String idat = (b64obj.getRAMstringB64((int)new Integer(imgNumber).intValue()));\n    System.out.println(&quot;begin idat in managed bean : &quot;+idat);\n    this.imagedata = idat;\n    }\n    \n    \n    public String getImageData(){\n    return this.imagedata;\n    }\n    \n    \n    public void setTestout(String testout){\n    this.testout=testout;\n    }\n    \n    public String getTestout(){\n    return this.testout;\n    }\n    \n    \n    }//enclss\n    \n    \n    /*\n    public void setImagedata(Integer imgNumber){\n    java.util.Map appconxt = (java.util.Map)((jakarta.faces.context.ExternalContext)((jakarta.faces.context.FacesContext)jakarta.faces.context.FacesContext.getCurrentInstance()).getExternalContext()).getApplicationMap();\n    WebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.get(&quot;DataStoreObj&quot;);\n    RamStringB64 b64obj = dat.getRAMStringB64Store();\n    String idat = (b64obj.getRAMstringB64((int)imgNumber.intValue()));\n    System.out.println(&quot;begin idat in managed bean : &quot;+idat);\n    this.imagedata = idat;\n    }\n    */\n    \n</code></pre>\n<p>HERE IS AN ERROR OUTPUT when @ManagedBean has parenthesized arguments to name the bean.</p>\n<pre><code>12-Nov-2022 03:46:05.050 WARNING [http-nio-8080-exec-3] com.sun.faces.context.SessionMap.put JSF1063: WARNING! Setting non-serializable attribute value into HttpSession (key: imagebytedatabean, value class: beans.ImageByteDataBean).\n    12-Nov-2022 03:46:05.054 SEVERE [http-nio-8080-exec-3] com.sun.faces.application.view.FaceletViewHandlingStrategy.handleRenderException Error Rendering View[/welcomeJSF.xhtml]\n        jakarta.el.ELException: /welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\n            at com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:47)\n            at com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:42)\n            at com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:170)\n            at jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\n            at jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\n            at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:458)\n            at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:164)\n            at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:93)\n            at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)\n            at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:178)\n            at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:682)\n            at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353)\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:872)\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1695)\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n            at java.lang.Thread.run(Thread.java:748)\n    12-Nov-2022 03:46:05.078 1100 [http-nio-8080-exec-3] com.sun.faces.context.ExceptionHandlerImpl.log JSF1073: jakarta.el.ELException caught during processing of RENDER_RESPONSE 6 : UIComponent-ClientId=, Message=/welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\n    12-Nov-2022 03:46:05.078 1100 [http-nio-8080-exec-3] com.sun.faces.context.ExceptionHandlerImpl.log /welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\n        jakarta.el.ELException: /welcomeJSF.xhtml: Method not found: class beans.ImageByteDataBean.testout(java.lang.String)\n            at com.sun.faces.facelets.compiler.TextInstruction.write(TextInstruction.java:47)\n            at com.sun.faces.facelets.compiler.UIInstructions.encodeBegin(UIInstructions.java:42)\n            at com.sun.faces.facelets.compiler.UILeaf.encodeAll(UILeaf.java:170)\n            at jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\n            at jakarta.faces.component.UIComponent.encodeAll(UIComponent.java:1454)\n            at com.sun.faces.application.view.FaceletViewHandlingStrategy.renderView(FaceletViewHandlingStrategy.java:458)\n            at com.sun.faces.application.view.MultiViewHandler.renderView(MultiViewHandler.java:164)\n            at com.sun.faces.lifecycle.RenderResponsePhase.execute(RenderResponsePhase.java:93)\n            at com.sun.faces.lifecycle.Phase.doPhase(Phase.java:72)\n            at com.sun.faces.lifecycle.LifecycleImpl.render(LifecycleImpl.java:178)\n            at jakarta.faces.webapp.FacesServlet.executeLifecyle(FacesServlet.java:682)\n            at jakarta.faces.webapp.FacesServlet.service(FacesServlet.java:437)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n            at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n            at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185)\n            at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158)\n            at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n            at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n            at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n            at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119)\n            at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n            at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:690)\n            at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n            at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:353)\n            at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n            at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n            at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:872)\n            at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1695)\n            at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n            at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n            at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n            at java.lang.Thread.run(Thread.java:748)\n            \n\n        \n        \n        \n</code></pre>\n<p>Following is its xml page , its only set for test output , the parameterized set method is able to inside or outside of an element and the whole process completes , but no result , but no error.</p>\n<pre><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\nxmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\nxmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;\nxmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;&gt;\n        &lt;h:head&gt;\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n            &lt;title&gt;JSP Page&lt;/title&gt;          \n      \n        &lt;/h:head&gt;\n  &lt;f:view&gt;\n        &lt;h:body&gt;\n\n            &lt;h1&gt;&lt;h:outputText value=&quot;JavaServer Faces&quot; /&gt;&lt;/h1&gt;\n    #{imagebytedatabean.testout('So heres some text to blow your mind!')}        \n &lt;h:outputText value=&quot;#{imagebytedatabean.testout}&quot; /&gt; \n &lt;p /&gt;\n            \n #{imagebytedatabean.imageData('4')}           \n  \n &lt;p /&gt;\n&lt;h:outputText value=&quot;#{imagebytedatabean.imageData}&quot; /&gt;\n\n       &lt;/h:body&gt;\n  &lt;/f:view&gt;\n    &lt;/html&gt;    \n \n</code></pre>\n<p>I obtained the FacesContext and classes it obtains that indicate or insinuate coherent association with the the overall application context the jakarta.servlet.ServletContext.</p>\n<p><strong>SOLVED IT (mainly i should instantiated the properties) i simply could not understand the program flow of parameterized methods, so removed them (need to find good docs about parameterized EL methods), i'll just need to add another property to commit processing for page processing flow.</strong></p>\n<p><strong>A good work around would/may be using WebConfiguration class to obtain the request parameters internally in the bean to obtain an image index with the postback url.</strong></p>\n<pre><code>    // jakarta.faces-3.0.0-RC5.jar   jakarta.servlet.jsp.jstl-2.0.0.jar   \n    // jakarta.inject-api-2.0.0.jar   jakarta.annotation-api-62.jar\n    // nicephotog-web-tools.jar   https://drive.google.com/file/d/1gjHmdC-BW0Q2vXiQYmp1rzPU497sybNy/view?usp=share_link\n    package beans;\n    \n    import com.sun.faces.config.WebConfiguration;\n    import jakarta.faces.bean.ManagedBean;\n    //import jakarta.inject.Named;\n    //import jakarta.faces.bean.ManagedProperty;\n    //import jakarta.faces.bean.SessionScoped;\n    import jakarta.faces.bean.RequestScoped;\n    import jakarta.servlet.ServletContext;\n    import com.nicephotog.tools.objectattribute.WebAppToolRAMDataServingObj;\n    import com.nicephotog.tools.objectattribute.objattrifc.RamStringB64;\n    // (name = &quot;imageByteDataBean&quot;, eager = true) @ManagedBean(name=&quot;imagebytedatabean&quot;) \n    //@Named(&quot;imageByteDataBean&quot;)\n    \n    @ManagedBean\n    @RequestScoped\n    public class ImageByteDataBean{\n    //\n    String imagedata=&quot;4&quot;;\n    String testout=&quot;Internal text value&quot;;\n    \n    public ImageByteDataBean(){}\n    \n    \n    public void setImagedata(String imagedata){\n    this.imagedata = imagedata ;\n    }\n    \n    \n    public String getImagedata(){\n    makeImg(imagedata);\n    return this.imagedata;\n    }\n    \n    \n    public void setTestout(String testout){\n    this.testout=testout;\n    }\n    \n    public String getTestout(){\n    return this.testout;\n    }\n    \n    public String makeImg(String umber){\n/*\njakarta.faces-3.0.0-RC5.jar\n javax package is identical to jakarta except for javax package name\nTHIS OPERATES TOO - NOTE THE CAST (jakarta.servlet.ServletContext)    NOTE A CAST (javax.servlet.ServletContext)\njakarta.servlet.ServletContext appconxt = (jakarta.servlet.ServletContext)(jakarta.faces.context.FacesContext.getCurrentInstance()).getExternalContext().getContext();\n*/\n     WebConfiguration wbc = WebConfiguration.getInstance();\n    ServletContext appconxt = wbc.getServletContext();\n    WebAppToolRAMDataServingObj dat = (WebAppToolRAMDataServingObj)appconxt.getAttribute(&quot;DataStoreObj&quot;);\n    RamStringB64 b64obj = dat.getRAMStringB64Store();\n    imagedata = (b64obj.getRAMstringB64((int)new Integer(umber).intValue()));\n    System.out.println(&quot;begin idat in managed bean : &quot;+imagedata);\n    return imagedata;\n    }\n    \n    \n    }//enclss\n \n\n   \n</code></pre>\n<p>the test page xml</p>\n<pre><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\nxmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\nxmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;\nxmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;&gt;\n        &lt;h:head&gt;\n            &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot; /&gt;\n            &lt;title&gt;JSP Page&lt;/title&gt;          \n      \n        &lt;/h:head&gt;\n  &lt;f:view&gt;\n        &lt;h:body&gt;\n\n            &lt;h1&gt;&lt;h:outputText value=&quot;JavaServer Faces&quot; /&gt;&lt;/h1&gt;\n            \n &lt;h:outputText value=&quot;#{imageByteDataBean.testout}&quot; /&gt; \n &lt;p /&gt;\n                 \n  \n &lt;p /&gt;\n&lt;h:outputText value=&quot;#{imageByteDataBean.imagedata}&quot; /&gt;\n\n       &lt;/h:body&gt;\n  &lt;/f:view&gt;\n    &lt;/html&gt;\n</code></pre>\n"},{"tags":["java","sql","jpa","eclipselink"],"answers":[{"tags":[],"owner":{"account_id":73312,"reputation":5791,"user_id":211197,"display_name":"maksimov"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1339681822,"creation_date":1339681504,"answer_id":11034480,"question_id":11034322,"body_markdown":"For example, like this:\r\n\r\n    List&lt;T&gt; results = em.createQuery(&quot;SELECT t FROM TABLE t&quot;, T.class)\r\n                            .getResultList();\r\n\r\n\r\nWith parameters:\r\n\r\n    List&lt;T&gt; results = em.createQuery(&quot;SELECT t FROM TABLE t where t.value = :value1&quot;)\r\n                            .setParameter(&quot;value1&quot;, &quot;some value&quot;).getResultList();\r\n\r\nFor single result replace `getResultList()` with `getSingleResult()`:\r\n\r\n    T entity = em.createQuery(&quot;SELECT t FROM TABLE t where t.uniqueKey = :value1&quot;)\r\n                     .setParameter(&quot;value1&quot;, &quot;KEY1&quot;).getSingleResult();\r\n\r\nOne other way is to use Criteria API.","title":"How do I find a value in a column that just have unique values with EclipseLink?","body":"<p>For example, like this:</p>\n\n<pre><code>List&lt;T&gt; results = em.createQuery(\"SELECT t FROM TABLE t\", T.class)\n                        .getResultList();\n</code></pre>\n\n<p>With parameters:</p>\n\n<pre><code>List&lt;T&gt; results = em.createQuery(\"SELECT t FROM TABLE t where t.value = :value1\")\n                        .setParameter(\"value1\", \"some value\").getResultList();\n</code></pre>\n\n<p>For single result replace <code>getResultList()</code> with <code>getSingleResult()</code>:</p>\n\n<pre><code>T entity = em.createQuery(\"SELECT t FROM TABLE t where t.uniqueKey = :value1\")\n                 .setParameter(\"value1\", \"KEY1\").getSingleResult();\n</code></pre>\n\n<p>One other way is to use Criteria API.</p>\n"},{"tags":[],"owner":{"account_id":1344409,"reputation":9495,"user_id":1285418,"display_name":"Pau Kiat Wee"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1339681833,"creation_date":1339681833,"answer_id":11034585,"question_id":11034322,"body_markdown":"You can use appropriate JPQL with [TypedQuery][1].\r\n  \r\n    try {\r\n        TypedQuery&lt;Bean&gt; tq = em.createQuery(&quot;from Bean WHERE column=?&quot;, Bean.class);\r\n        Bean result = tq.setParameter(1, &quot;uniqueKey&quot;).getSingleResult();\r\n    } catch(NoResultException noresult) {\r\n        // if there is no result\r\n    } catch(NonUniqueResultException notUnique) {\r\n        // if more than one result\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javaee/6/api/javax/persistence/TypedQuery.html","title":"How do I find a value in a column that just have unique values with EclipseLink?","body":"<p>You can use appropriate JPQL with <a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/TypedQuery.html\">TypedQuery</a>.</p>\n\n<pre><code>try {\n    TypedQuery&lt;Bean&gt; tq = em.createQuery(\"from Bean WHERE column=?\", Bean.class);\n    Bean result = tq.setParameter(1, \"uniqueKey\").getSingleResult();\n} catch(NoResultException noresult) {\n    // if there is no result\n} catch(NonUniqueResultException notUnique) {\n    // if more than one result\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":181890,"reputation":17919,"user_id":416206,"accept_rate":40,"display_name":"James"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1339683962,"creation_date":1339683962,"answer_id":11035213,"question_id":11034322,"body_markdown":"You can use a Query, either JPQL, Criteria, or SQL.\r\n\r\nNot sure if your concern is in obtaining cache hits similar to find().  In EclipseLink 2.4 cache indexes were added to allow you to index non-primary key fields and obtain cache hits from JPQL or Criteria.\r\n\r\nSee,\r\nhttp://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Indexes\r\n\r\nPrior to 2.4 you could use in-memory queries to query the cache on non-id fields.","title":"How do I find a value in a column that just have unique values with EclipseLink?","body":"<p>You can use a Query, either JPQL, Criteria, or SQL.</p>\n\n<p>Not sure if your concern is in obtaining cache hits similar to find().  In EclipseLink 2.4 cache indexes were added to allow you to index non-primary key fields and obtain cache hits from JPQL or Criteria.</p>\n\n<p>See,\n<a href=\"http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Indexes\" rel=\"nofollow\">http://wiki.eclipse.org/EclipseLink/UserGuide/JPA/Basic_JPA_Development/Caching/Indexes</a></p>\n\n<p>Prior to 2.4 you could use in-memory queries to query the cache on non-id fields.</p>\n"},{"tags":[],"owner":{"account_id":21395683,"reputation":1553,"user_id":15758781,"display_name":"Lunatic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668341681,"creation_date":1668341681,"answer_id":74420832,"question_id":11034322,"body_markdown":"TL;DR\r\n\r\nWith in DSL level - [JPA][1] no practice mentioned in previous answers \r\n&gt; How do I find a value in a column that just have unique values and is not a primary key?\r\n\r\n\r\nThere isn&#39;t specification for query with custom field with in root interface of `javax.persistence.EntityManager`, you need to have [criteria][2] base query.\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n    CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n    CriteriaQuery&lt;R&gt; criteriaQuery = criteriaBuilder.createQuery(EntityType.class)\r\n    Root&lt;R&gt; root = criteriaQuery.from(type);\r\n    criteriaBuilder.and(criteriaBuilder.equal(root.get(your_field), value));\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nYou can also group your predicates together and pass them all together.\r\n\r\n    andPredicates.add(criteriaBuilder.and(root.get(field).in(child)));\r\n    criteriaBuilder.and(andPredicates.toArray(new Predicate[]{});\r\nAnd calling result(rather single entity or a list of entities) with \r\n\r\n    entityManager.createQuery(suitable_criteria_query).getSingleResult();\r\n    entityManager.createQuery(suitable_criteria_query).getResultList();\r\n                               \r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/package-summary.html\r\n  [2]: https://docs.oracle.com/javaee/7/tutorial/persistence-criteria.htm","title":"How do I find a value in a column that just have unique values with EclipseLink?","body":"<p>TL;DR</p>\n<p>With in DSL level - <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/package-summary.html\" rel=\"nofollow noreferrer\">JPA</a> no practice mentioned in previous answers</p>\n<blockquote>\n<p>How do I find a value in a column that just have unique values and is not a primary key?</p>\n</blockquote>\n<p>There isn't specification for query with custom field with in root interface of <code>javax.persistence.EntityManager</code>, you need to have <a href=\"https://docs.oracle.com/javaee/7/tutorial/persistence-criteria.htm\" rel=\"nofollow noreferrer\">criteria</a> base query.</p>\n<pre class=\"lang-html prettyprint-override\"><code>CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\nCriteriaQuery&lt;R&gt; criteriaQuery = criteriaBuilder.createQuery(EntityType.class)\nRoot&lt;R&gt; root = criteriaQuery.from(type);\ncriteriaBuilder.and(criteriaBuilder.equal(root.get(your_field), value));\n</code></pre>\n\n<p>You can also group your predicates together and pass them all together.</p>\n<pre><code>andPredicates.add(criteriaBuilder.and(root.get(field).in(child)));\ncriteriaBuilder.and(andPredicates.toArray(new Predicate[]{});\n</code></pre>\n<p>And calling result(rather single entity or a list of entities) with</p>\n<pre><code>entityManager.createQuery(suitable_criteria_query).getSingleResult();\nentityManager.createQuery(suitable_criteria_query).getResultList();\n                           \n</code></pre>\n"}],"owner":{"account_id":991364,"reputation":2697,"user_id":1008572,"accept_rate":73,"display_name":"Rox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25304,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":11034480,"answer_count":4,"score":14,"last_activity_date":1668341681,"creation_date":1339681073,"question_id":11034322,"body_markdown":"You have the &lt;code&gt;EntityManager.find(Class&lt;T&gt; entityClass, Object primaryKey)&lt;/code&gt; method to find a specific row with a primary key. \r\n\r\nBut how do I find a value in a column that just have unique values and is not a primary key?","title":"How do I find a value in a column that just have unique values with EclipseLink?","body":"<p>You have the <code>EntityManager.find(Class entityClass, Object primaryKey)</code> method to find a specific row with a primary key. </p>\n\n<p>But how do I find a value in a column that just have unique values and is not a primary key?</p>\n"},{"tags":["java","file","methods","size"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668342575,"post_id":74420821,"comment_id":131377092,"body_markdown":"The method returns a result, where is it used / printed to console?","body":"The method returns a result, where is it used / printed to console?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1668343004,"post_id":74420821,"comment_id":131377156,"body_markdown":"You use the name of the class it is  coded in, or if it is in scope you can simply call it with no reference to the class. This is better than answering your question  https://www.geeksforgeeks.org/static-method-in-java-with-examples/   and here&#39;s another for that problem  https://www.javatpoint.com/static-function-in-java   note you can pass non static arguments into a static method but not obtain them any other way.","body":"You use the name of the class it is  coded in, or if it is in scope you can simply call it with no reference to the class. This is better than answering your question  <a href=\"https://www.geeksforgeeks.org/static-method-in-java-with-examples/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/static-method-in-java-with-examples</a>   and here&#39;s another for that problem  <a href=\"https://www.javatpoint.com/static-function-in-java\" rel=\"nofollow noreferrer\">javatpoint.com/static-function-in-java</a>   note you can pass non static arguments into a static method but not obtain them any other way."}],"owner":{"account_id":21843239,"reputation":1,"user_id":16136483,"display_name":"KATCHAW"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668341583,"creation_date":1668341583,"question_id":74420821,"body_markdown":"I dont get why the value of diffSize is never used\r\n\r\n\r\nhere is my method:\r\n\r\n```\r\npublic static long diffSize(String File01, String File02){\r\n    //get path to first file\r\n    File file = new File(File01);\r\n    //get path to second file\r\n    File file2 = new File(File02);\r\n\r\n    //get size of first file\r\n    long bytes = file.length();\r\n    //get size of second file\r\n    long bytes2 = file2.length();\r\n\r\n    //get difference\r\n    return bytes-bytes2;\r\n}\r\n```\r\n\r\nhere is the line I used to call the method in my Main\r\n\r\n`extensions.diffSize(&quot;C:\\\\Users\\\\katra\\\\IdeaProjects\\\\MP1.1\\\\references\\\\epfl.png&quot;,&quot;C:\\\\Users\\\\katra\\\\IdeaProjects\\\\MP1.1\\\\references\\\\epfl.qoi&quot; );`\r\n\r\nand in the terminal nothing is returned\r\n","title":"Java compare size of files","body":"<p>I dont get why the value of diffSize is never used</p>\n<p>here is my method:</p>\n<pre><code>public static long diffSize(String File01, String File02){\n    //get path to first file\n    File file = new File(File01);\n    //get path to second file\n    File file2 = new File(File02);\n\n    //get size of first file\n    long bytes = file.length();\n    //get size of second file\n    long bytes2 = file2.length();\n\n    //get difference\n    return bytes-bytes2;\n}\n</code></pre>\n<p>here is the line I used to call the method in my Main</p>\n<p><code>extensions.diffSize(&quot;C:\\\\Users\\\\katra\\\\IdeaProjects\\\\MP1.1\\\\references\\\\epfl.png&quot;,&quot;C:\\\\Users\\\\katra\\\\IdeaProjects\\\\MP1.1\\\\references\\\\epfl.qoi&quot; );</code></p>\n<p>and in the terminal nothing is returned</p>\n"},{"tags":["java","xml","apache-poi","vml"],"answers":[{"tags":[],"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668341460,"creation_date":1668341460,"answer_id":74420807,"question_id":74400379,"body_markdown":"You can use the `Java AWT Graphics` library to create the rectangle, then you can save the image to a temporary `Bitmap` or `JPEG` file.\r\n\r\nYou can insert the image into a Word-Document using this code:\r\n```java\r\nprivate void insertImage(final XWPFDocument document, final File image, final int width, final int height) {\r\n    final FileInputStream fileInputStream = new FileInputStream(image);\r\n    run.addBreak();\r\n    run.addPicture(fileInputStream, XWPFDocument.PICTURE_TYPE_JPEG, image, Units.toEMU(width), Units.toEMU(height));\r\n    fileInputStream.close();\r\n}\r\n```","title":"How to draw a rectangle in Word with Apache poi and fill it with colors?","body":"<p>You can use the <code>Java AWT Graphics</code> library to create the rectangle, then you can save the image to a temporary <code>Bitmap</code> or <code>JPEG</code> file.</p>\n<p>You can insert the image into a Word-Document using this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void insertImage(final XWPFDocument document, final File image, final int width, final int height) {\n    final FileInputStream fileInputStream = new FileInputStream(image);\n    run.addBreak();\n    run.addPicture(fileInputStream, XWPFDocument.PICTURE_TYPE_JPEG, image, Units.toEMU(width), Units.toEMU(height));\n    fileInputStream.close();\n}\n</code></pre>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668341460,"creation_date":1668158621,"question_id":74400379,"body_markdown":"I need to create a Word document with the help of Apache poi and need to create a red bar at the top. I did not find any shape module or function in apache poi to draw a rectangle. I read somewhere that the shapes in the Word with the help of the Apche poi can be inserted with the help of the Vector markup language. How should I approach the problem?  \r\n\r\nI tried implementing few shapes in the following but I was not successful in doing the same as it is throwing error- \r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.xmlbeans.XmlException: error: The prefix &quot;w&quot; for element &quot;w:shape&quot; is not bound.\r\n\r\nString cTAbstractNumBulletXML =\r\n    &quot;&lt;v:shape type=\\&quot;#downArrow\\&quot; style=&#39;position: absolute; left: 77; top: 16; width: 64; height: 128&#39;/&gt;&quot;;\r\n\r\nCTNumbering cTNumbering = CTNumbering.Factory.parse(cTAbstractNumBulletXML);\r\n\r\nCTAbstractNum cTAbstractNum = cTNumbering.getAbstractNumArray(0);\r\n\r\nXWPFAbstractNum abstractNum = new XWPFAbstractNum(cTAbstractNum);\r\nXWPFNumbering numbering = document.createNumbering();\r\nBigInteger abstractNumID = numbering.addAbstractNum(abstractNum);\r\nBigInteger numID = numbering.addNum(abstractNumID);\r\n\r\n//Create a blank paragraph\r\nXWPFParagraph paragraph = document.createParagraph();\r\nparagraph.setNumID(numID);\r\n\r\nFileOutputStream fileOutputStream = new FileOutputStream(&quot;C:\\\\xx\\\\xxx&quot;\r\n                                                         + &quot;xxxx.docs&quot;);\r\ndocument.write(fileOutputStream);\r\nfileOutputStream.close();\r\n```\r\n\r\nI tried to draw shapes with the help of the VML. However, it is throwing error because it is not able to recognise the tags like v and w.\r\n","title":"How to draw a rectangle in Word with Apache poi and fill it with colors?","body":"<p>I need to create a Word document with the help of Apache poi and need to create a red bar at the top. I did not find any shape module or function in apache poi to draw a rectangle. I read somewhere that the shapes in the Word with the help of the Apche poi can be inserted with the help of the Vector markup language. How should I approach the problem?</p>\n<p>I tried implementing few shapes in the following but I was not successful in doing the same as it is throwing error-</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.xmlbeans.XmlException: error: The prefix &quot;w&quot; for element &quot;w:shape&quot; is not bound.\n\nString cTAbstractNumBulletXML =\n    &quot;&lt;v:shape type=\\&quot;#downArrow\\&quot; style='position: absolute; left: 77; top: 16; width: 64; height: 128'/&gt;&quot;;\n\nCTNumbering cTNumbering = CTNumbering.Factory.parse(cTAbstractNumBulletXML);\n\nCTAbstractNum cTAbstractNum = cTNumbering.getAbstractNumArray(0);\n\nXWPFAbstractNum abstractNum = new XWPFAbstractNum(cTAbstractNum);\nXWPFNumbering numbering = document.createNumbering();\nBigInteger abstractNumID = numbering.addAbstractNum(abstractNum);\nBigInteger numID = numbering.addNum(abstractNumID);\n\n//Create a blank paragraph\nXWPFParagraph paragraph = document.createParagraph();\nparagraph.setNumID(numID);\n\nFileOutputStream fileOutputStream = new FileOutputStream(&quot;C:\\\\xx\\\\xxx&quot;\n                                                         + &quot;xxxx.docs&quot;);\ndocument.write(fileOutputStream);\nfileOutputStream.close();\n</code></pre>\n<p>I tried to draw shapes with the help of the VML. However, it is throwing error because it is not able to recognise the tags like v and w.</p>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668341112,"creation_date":1668341112,"answer_id":74420763,"question_id":74367209,"body_markdown":"I&#39;m not sure about that code, I had a similar task but parsed the numbers myself... Here&#39;s the code, not sure if it&#39;s gonna help you though:\r\n\r\n```java\r\n\r\nprivate String getNumericValue(final String raw) {\r\n\tfinal double value = Double.parseDouble(raw);\r\n\tfinal String strValue = String.valueOf(new BigDecimal(value).setScale(1, RoundingMode.CEILING).doubleValue()).replace(&#39;.&#39;, &#39;,&#39;);\r\n\tif (strValue.endsWith(&quot;,0&quot;))\r\n\t\treturn strValue.substring(0, (strValue.length() - 2));\r\n\treturn strValue;\r\n}\r\n```","title":"How to make excel sheet with &quot;comma style&quot; cell in Apache POI?","body":"<p>I'm not sure about that code, I had a similar task but parsed the numbers myself... Here's the code, not sure if it's gonna help you though:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprivate String getNumericValue(final String raw) {\n    final double value = Double.parseDouble(raw);\n    final String strValue = String.valueOf(new BigDecimal(value).setScale(1, RoundingMode.CEILING).doubleValue()).replace('.', ',');\n    if (strValue.endsWith(&quot;,0&quot;))\n        return strValue.substring(0, (strValue.length() - 2));\n    return strValue;\n}\n</code></pre>\n"}],"owner":{"account_id":22515372,"reputation":21,"user_id":16709664,"display_name":"Max"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668341112,"creation_date":1667941751,"question_id":74367209,"body_markdown":"My task is to format excel file to &quot;comma style&quot;.\r\nFor example I have value 0 or 0.00 in my cell, and I press &quot;,&quot; button in excel\r\n\r\n[![enter image description here](https://i.stack.imgur.com/c7Dgi.png)](https://i.stack.imgur.com/c7Dgi.png)\r\n\r\nas a result my value becomes &quot;-&quot;.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/yyJdh.png)](https://i.stack.imgur.com/yyJdh.png)\r\n\r\nif I have value &quot;Hello&quot;\r\n\r\n[![enter image description here](https://i.stack.imgur.com/6Zekc.png)](https://i.stack.imgur.com/6Zekc.png)\r\n\r\nafter pressing this button - value moves little bit right:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/uXBYi.png)](https://i.stack.imgur.com/uXBYi.png)\r\n\r\nMy task is to emulate pressing this button in Apache poi, how can I do it?\r\n\r\n\r\n\r\n\r\nI have no idea how to do it!\r\nAll I could find is formatting below, but it doesn&#39;t work:\r\n\r\n\r\n    public class Test {\r\n    public static void main(String s[]) {\r\n        try{\r\n            FileOutputStream out = new FileOutputStream\r\n                    (&quot;dateFormat.xls&quot;);\r\n            HSSFWorkbook hssfworkbook = new HSSFWorkbook();\r\n            HSSFSheet sheet = hssfworkbook.createSheet\r\n                    (&quot;new sheet&quot;);\r\n            HSSFCellStyle cs = hssfworkbook.createCellStyle();\r\n            HSSFDataFormat df = hssfworkbook.\r\n                    createDataFormat();\r\n            cs.setDataFormat(df.getFormat(&quot;#,##0.0&quot;));\r\n            HSSFRow row = sheet.createRow((short)0);\r\n            HSSFCell cell = row.createCell((short)0);\r\n            cell.setCellValue(11111.0);\r\n            cell.setCellStyle(cs);\r\n\r\n            HSSFCell cell2 = row.createCell((short)1);\r\n            cell2.setCellValue(0);\r\n            cell2.setCellStyle(cs);\r\n\r\n            HSSFCell cell3 = row.createCell((short)2);\r\n            cell3.setCellValue(&quot;hello&quot;);\r\n            cell3.setCellStyle(cs);\r\n\r\n            hssfworkbook.write(out);\r\n            out.close();\r\n        }catch(Exception e){}\r\n    }\r\n    }\r\n\r\nAlso I have separate task - if value is 1.0 it should become 1, if you could help me with this formatting would be great!\r\n","title":"How to make excel sheet with &quot;comma style&quot; cell in Apache POI?","body":"<p>My task is to format excel file to &quot;comma style&quot;.\nFor example I have value 0 or 0.00 in my cell, and I press &quot;,&quot; button in excel</p>\n<p><a href=\"https://i.stack.imgur.com/c7Dgi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c7Dgi.png\" alt=\"enter image description here\" /></a></p>\n<p>as a result my value becomes &quot;-&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/yyJdh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yyJdh.png\" alt=\"enter image description here\" /></a></p>\n<p>if I have value &quot;Hello&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/6Zekc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Zekc.png\" alt=\"enter image description here\" /></a></p>\n<p>after pressing this button - value moves little bit right:</p>\n<p><a href=\"https://i.stack.imgur.com/uXBYi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uXBYi.png\" alt=\"enter image description here\" /></a></p>\n<p>My task is to emulate pressing this button in Apache poi, how can I do it?</p>\n<p>I have no idea how to do it!\nAll I could find is formatting below, but it doesn't work:</p>\n<pre><code>public class Test {\npublic static void main(String s[]) {\n    try{\n        FileOutputStream out = new FileOutputStream\n                (&quot;dateFormat.xls&quot;);\n        HSSFWorkbook hssfworkbook = new HSSFWorkbook();\n        HSSFSheet sheet = hssfworkbook.createSheet\n                (&quot;new sheet&quot;);\n        HSSFCellStyle cs = hssfworkbook.createCellStyle();\n        HSSFDataFormat df = hssfworkbook.\n                createDataFormat();\n        cs.setDataFormat(df.getFormat(&quot;#,##0.0&quot;));\n        HSSFRow row = sheet.createRow((short)0);\n        HSSFCell cell = row.createCell((short)0);\n        cell.setCellValue(11111.0);\n        cell.setCellStyle(cs);\n\n        HSSFCell cell2 = row.createCell((short)1);\n        cell2.setCellValue(0);\n        cell2.setCellStyle(cs);\n\n        HSSFCell cell3 = row.createCell((short)2);\n        cell3.setCellValue(&quot;hello&quot;);\n        cell3.setCellStyle(cs);\n\n        hssfworkbook.write(out);\n        out.close();\n    }catch(Exception e){}\n}\n}\n</code></pre>\n<p>Also I have separate task - if value is 1.0 it should become 1, if you could help me with this formatting would be great!</p>\n"},{"tags":["java","spring","mongodb","spring-data","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1367440443,"creation_date":1367440443,"answer_id":16326023,"question_id":16325606,"body_markdown":"There&#39;s quite a few ways to skin the cat here. It essentially all boils down to on which level you&#39;d like to apply the tenancy. \r\n\r\n# Basics\r\n\r\nThe basic approach is to bind some kind of key identifying the customer on a per-thread basis, so that you can find out about the customer the current thread of execution deals with. This is usually achieved by populating a `ThreadLocal` with some authentication related information as you can usually derive the tenant from the logged in user.\r\n\r\nNow if that&#39;s in place there&#39;s a few options of where to apply the tenant knowledge. Let me briefly outline the most common ones:\r\n\r\n# Multi-tenancy on the database level\r\n\r\nOne way to separate data for multiple clients is to have individual databases per tenant. Spring Data MongoDB&#39;s core abstraction for this is the `MongoDBFactory` interface. The easiest way here is to override `SimpleMongoDbFactory.getDb(String name)` and call the parent method with the database name e.g. enriched by the tenant prefix or the like.\r\n\r\n# Multi-tenancy on the collection level\r\n\r\nAnother option is to have tenant specific collections, e.g. through tenant pre- or postfixes. This mechanism can actually be leveraged by using the Spring Expression language (SpEl) in the `@Document` annotation&#39;s `collectionName` attribute. First, expose the tenant prefix through a Spring bean:\r\n\r\n     @Component(&quot;tenantProvider&quot;)\r\n     public class TenantProvider {\r\n       \r\n       public String getTenantId() {\r\n         // … implement ThreadLocal lookup here\r\n       }\r\n     }\r\n\r\nThen use SpEL in your domain types `@Document` mapping:\r\n\r\n     @Document(collectionName = &quot;#{tenantProvider.getTenantId()}_accounts&quot;\r\n     public class Account { … }\r\n\r\nSpEl allows you to refer to Spring beans by name and execute methods on them. `MongoTemplate` (and thus the repository abstraction transitively) will use the mapping metadata of the document class and the mapping subsystem will evaluate the `collectionName` attribute to find out about the collection to interact with.","title":"Making spring-data-mongodb multi-tenant","body":"<p>There's quite a few ways to skin the cat here. It essentially all boils down to on which level you'd like to apply the tenancy. </p>\n\n<h1>Basics</h1>\n\n<p>The basic approach is to bind some kind of key identifying the customer on a per-thread basis, so that you can find out about the customer the current thread of execution deals with. This is usually achieved by populating a <code>ThreadLocal</code> with some authentication related information as you can usually derive the tenant from the logged in user.</p>\n\n<p>Now if that's in place there's a few options of where to apply the tenant knowledge. Let me briefly outline the most common ones:</p>\n\n<h1>Multi-tenancy on the database level</h1>\n\n<p>One way to separate data for multiple clients is to have individual databases per tenant. Spring Data MongoDB's core abstraction for this is the <code>MongoDBFactory</code> interface. The easiest way here is to override <code>SimpleMongoDbFactory.getDb(String name)</code> and call the parent method with the database name e.g. enriched by the tenant prefix or the like.</p>\n\n<h1>Multi-tenancy on the collection level</h1>\n\n<p>Another option is to have tenant specific collections, e.g. through tenant pre- or postfixes. This mechanism can actually be leveraged by using the Spring Expression language (SpEl) in the <code>@Document</code> annotation's <code>collectionName</code> attribute. First, expose the tenant prefix through a Spring bean:</p>\n\n<pre><code> @Component(\"tenantProvider\")\n public class TenantProvider {\n\n   public String getTenantId() {\n     // … implement ThreadLocal lookup here\n   }\n }\n</code></pre>\n\n<p>Then use SpEL in your domain types <code>@Document</code> mapping:</p>\n\n<pre><code> @Document(collectionName = \"#{tenantProvider.getTenantId()}_accounts\"\n public class Account { … }\n</code></pre>\n\n<p>SpEl allows you to refer to Spring beans by name and execute methods on them. <code>MongoTemplate</code> (and thus the repository abstraction transitively) will use the mapping metadata of the document class and the mapping subsystem will evaluate the <code>collectionName</code> attribute to find out about the collection to interact with.</p>\n"},{"tags":[],"owner":{"account_id":1298254,"reputation":2903,"user_id":1248724,"accept_rate":67,"display_name":"Zarathustra"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1402663350,"creation_date":1402663350,"answer_id":24205593,"question_id":16325606,"body_markdown":"I had a similar approach to Oliver Gierke.\r\nAt least on database-level. https://github.com/Loki-Afro/multi-tenant-spring-mongodb\r\nYou should be able to do things like this:\r\n\r\n\r\n            MultiTenantMongoDbFactory.setDatabaseNameForCurrentThread(&quot;test&quot;);\r\n            this.personRepository.save(createPerson(&quot;Phillip&quot;, &quot;Wirth&quot;, ChronoUnit.YEARS.between(\r\n                    LocalDate.of(1992, Month.FEBRUARY, 3),\r\n                    LocalDate.now())));\r\n    \r\n            System.out.println(&quot;data from test: &quot; + this.personRepository.findAll());\r\n    //        okay? fine. - lets switch the database\r\n            MultiTenantMongoDbFactory.setDatabaseNameForCurrentThread(&quot;test666&quot;);\r\n    \r\n    //        should be empty\r\n            System.out.println(&quot;data from test666: &quot; + this.personRepository.findAll());","title":"Making spring-data-mongodb multi-tenant","body":"<p>I had a similar approach to Oliver Gierke.\nAt least on database-level. <a href=\"https://github.com/Loki-Afro/multi-tenant-spring-mongodb\" rel=\"nofollow\">https://github.com/Loki-Afro/multi-tenant-spring-mongodb</a>\nYou should be able to do things like this:</p>\n\n<pre><code>        MultiTenantMongoDbFactory.setDatabaseNameForCurrentThread(\"test\");\n        this.personRepository.save(createPerson(\"Phillip\", \"Wirth\", ChronoUnit.YEARS.between(\n                LocalDate.of(1992, Month.FEBRUARY, 3),\n                LocalDate.now())));\n\n        System.out.println(\"data from test: \" + this.personRepository.findAll());\n//        okay? fine. - lets switch the database\n        MultiTenantMongoDbFactory.setDatabaseNameForCurrentThread(\"test666\");\n\n//        should be empty\n        System.out.println(\"data from test666: \" + this.personRepository.findAll());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13947357,"reputation":31,"user_id":10071774,"display_name":"Jose Thomas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1599499077,"creation_date":1599499077,"answer_id":63781779,"question_id":16325606,"body_markdown":"for springboot 2.3.3 \r\n\r\noverriding doGetMongoDatabase helped to achieve multi tenancy\r\n\r\n    protected MongoDatabase doGetMongoDatabase(String dbName) {   \r\n    }\r\n\r\nhttps://github.com/jose-m-thomas/mongo_multi_tenancy_spring_boot_2_3_3","title":"Making spring-data-mongodb multi-tenant","body":"<p>for springboot 2.3.3</p>\n<p>overriding doGetMongoDatabase helped to achieve multi tenancy</p>\n<pre><code>protected MongoDatabase doGetMongoDatabase(String dbName) {   \n}\n</code></pre>\n<p><a href=\"https://github.com/jose-m-thomas/mongo_multi_tenancy_spring_boot_2_3_3\" rel=\"nofollow noreferrer\">https://github.com/jose-m-thomas/mongo_multi_tenancy_spring_boot_2_3_3</a></p>\n"},{"tags":[],"owner":{"account_id":2444028,"reputation":3478,"user_id":2131816,"display_name":"Arun Pratap Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1609772700,"creation_date":1609772700,"answer_id":65564931,"question_id":16325606,"body_markdown":"Full featured multi-tenant/tenancy with Spring Boot + MongoDB + Spring MVC with shared/global database configuration.\r\n\r\nhttps://github.com/arun2pratap/multitenant-spring-mongodb \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/usCVB.jpg","title":"Making spring-data-mongodb multi-tenant","body":"<p>Full featured multi-tenant/tenancy with Spring Boot + MongoDB + Spring MVC with shared/global database configuration.</p>\n<p><a href=\"https://github.com/arun2pratap/multitenant-spring-mongodb\" rel=\"nofollow noreferrer\">https://github.com/arun2pratap/multitenant-spring-mongodb</a></p>\n<p><a href=\"https://i.stack.imgur.com/usCVB.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/usCVB.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1468378,"reputation":141,"user_id":1380593,"display_name":"nicolasvdb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12497,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1668340990,"creation_date":1367438768,"question_id":16325606,"body_markdown":"In a [post](https://stackoverflow.com/questions/12078669/spring-data-mongodb-connect-to-multiple-databases-in-one-mongo-instance) last august [sbzoom](https://stackoverflow.com/users/229178/sbzoom) proposed a solution to make spring-data-mongoDB multi-tenant:\r\n\r\n&quot;You have to make your own RepositoryFactoryBean. Here is the example from the [Spring Data MongoDB Reference Docs](http://static.springsource.org/spring-data/data-mongodb/docs/1.1.0.RC1/reference/html/#repositories.custom-behaviour-for-all-repositories). You would still have to implement your own MongoTemplate and delay or remove the ensureIndexes() call. But you would have to rewrite a few classes to make sure your MongoTemplate is called instead of Spring&#39;s.&quot;\r\n\r\nDid anybody implement this or something equivalent?","title":"Making spring-data-mongodb multi-tenant","body":"<p>In a <a href=\"https://stackoverflow.com/questions/12078669/spring-data-mongodb-connect-to-multiple-databases-in-one-mongo-instance\">post</a> last august <a href=\"https://stackoverflow.com/users/229178/sbzoom\">sbzoom</a> proposed a solution to make spring-data-mongoDB multi-tenant:</p>\n\n<p>\"You have to make your own RepositoryFactoryBean. Here is the example from the <a href=\"http://static.springsource.org/spring-data/data-mongodb/docs/1.1.0.RC1/reference/html/#repositories.custom-behaviour-for-all-repositories\" rel=\"noreferrer\">Spring Data MongoDB Reference Docs</a>. You would still have to implement your own MongoTemplate and delay or remove the ensureIndexes() call. But you would have to rewrite a few classes to make sure your MongoTemplate is called instead of Spring's.\"</p>\n\n<p>Did anybody implement this or something equivalent?</p>\n"},{"tags":["java","spring-boot","unit-testing","spring-mvc","mockito"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1668111291,"post_id":74384059,"comment_id":131333502,"body_markdown":"What is the question exactly?","body":"What is the question exactly?"},{"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"score":0,"creation_date":1668178125,"post_id":74384059,"comment_id":131349583,"body_markdown":"SonarQube shows lines 8 - 10 of the second code as not tested. I want a scenario where I can throw a RestClientException and assert it. @Knittl","body":"SonarQube shows lines 8 - 10 of the second code as not tested. I want a scenario where I can throw a RestClientException and assert it. @Knittl"}],"answers":[{"tags":[],"owner":{"account_id":19123769,"reputation":21,"user_id":13967151,"display_name":"madrile&#241;o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668057102,"creation_date":1668057102,"answer_id":74384414,"question_id":74384059,"body_markdown":"If you are working with JUnit5, try replacing the last line with something like this:\r\n\r\n    assertThrows(RestClientException.class, () -&gt; idpFacadeClient.updateCustomerFirstNameInIdp(updateRecordsDto));\r\n\r\nIn JUnit4 the @Test annotation provides a parameter to specify an expected exception for the test.","title":"Generating RestClientException error in mockito unit test","body":"<p>If you are working with JUnit5, try replacing the last line with something like this:</p>\n<pre><code>assertThrows(RestClientException.class, () -&gt; idpFacadeClient.updateCustomerFirstNameInIdp(updateRecordsDto));\n</code></pre>\n<p>In JUnit4 the @Test annotation provides a parameter to specify an expected exception for the test.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668340947,"creation_date":1668340947,"answer_id":74420742,"question_id":74384059,"body_markdown":"You can make your mock throw an exception when the `exchange` method is called:\r\n\r\n```\r\ndoThrow(new RestClientException())\r\n            .when(restTemplate).exchange(any(), eq(HttpMethod.PATCH), any(HttpEntity.class), eq(String.class));\r\n```\r\n\r\nAnd then verify the new exception thrown in the catchblock with `assertThrows` or `assertThatCode(…).hasMessageContaining(…)`.","title":"Generating RestClientException error in mockito unit test","body":"<p>You can make your mock throw an exception when the <code>exchange</code> method is called:</p>\n<pre><code>doThrow(new RestClientException())\n            .when(restTemplate).exchange(any(), eq(HttpMethod.PATCH), any(HttpEntity.class), eq(String.class));\n</code></pre>\n<p>And then verify the new exception thrown in the catchblock with <code>assertThrows</code> or <code>assertThatCode(…).hasMessageContaining(…)</code>.</p>\n"}],"owner":{"account_id":26885183,"reputation":17,"user_id":20464887,"display_name":"clement mensah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74420742,"answer_count":2,"score":0,"last_activity_date":1668340947,"creation_date":1668053748,"question_id":74384059,"body_markdown":"I am trying to validate a restclientexception error. My code is below and help would be appreciated. This is from my test class:`\r\n\r\n`\r\n```\r\n@Test\r\nvoid test_update_customer_in_ath0_server_error(){\r\n    //given\r\n    ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;&gt;(HttpStatus.SERVICE_UNAVAILABLE);\r\n    doReturn(responseEntity)\r\n            .when(restTemplate).exchange(any(), eq(HttpMethod.PATCH), any(HttpEntity.class), (Class&lt;String&gt;)any());\r\n\r\n\r\n    idpFacadeClient.updateCustomerFirstNameInIdp(updateRecordsDto);\r\n\r\n    //then\r\n    verify(restTemplate).exchange(any(), eq(HttpMethod.PATCH), argThat(this::verifyUpdatedCustomerBody), (Class&lt;String&gt;)any());\r\n}\r\n\r\n```\r\n\r\n\r\nThis is from my injectMock class\r\n\r\n`\r\n```\r\ntry {\r\n    response = restTemplate.exchange(URI.create(idpFacadeUpdateUrl), HttpMethod.PATCH, entity,  String.class);\r\n    if (response.getStatusCode() == HttpStatus.OK) {\r\n        log.info(&quot;customer first name update success {} with status {}&quot;, customerUpdateRecordsDto.getFirstName(), response.getStatusCode());\r\n    }else {\r\n        log.error(&quot;Customer first name update failed in IDP for {} with status {}&quot;, customerUpdateRecordsDto.getFirstName(), response.getStatusCode());\r\n    }\r\n} catch (RestClientException e) {\r\n    throw new RestClientException(&quot;Idp facade API error for user first name &quot; + customerUpdateRecordsDto.getFirstName(), e);\r\n}\r\n```\r\n`","title":"Generating RestClientException error in mockito unit test","body":"<p>I am trying to validate a restclientexception error. My code is below and help would be appreciated. This is from my test class:`</p>\n<p>`</p>\n<pre><code>@Test\nvoid test_update_customer_in_ath0_server_error(){\n    //given\n    ResponseEntity&lt;String&gt; responseEntity = new ResponseEntity&lt;&gt;(HttpStatus.SERVICE_UNAVAILABLE);\n    doReturn(responseEntity)\n            .when(restTemplate).exchange(any(), eq(HttpMethod.PATCH), any(HttpEntity.class), (Class&lt;String&gt;)any());\n\n\n    idpFacadeClient.updateCustomerFirstNameInIdp(updateRecordsDto);\n\n    //then\n    verify(restTemplate).exchange(any(), eq(HttpMethod.PATCH), argThat(this::verifyUpdatedCustomerBody), (Class&lt;String&gt;)any());\n}\n\n</code></pre>\n<p>This is from my injectMock class</p>\n<p>`</p>\n<pre><code>try {\n    response = restTemplate.exchange(URI.create(idpFacadeUpdateUrl), HttpMethod.PATCH, entity,  String.class);\n    if (response.getStatusCode() == HttpStatus.OK) {\n        log.info(&quot;customer first name update success {} with status {}&quot;, customerUpdateRecordsDto.getFirstName(), response.getStatusCode());\n    }else {\n        log.error(&quot;Customer first name update failed in IDP for {} with status {}&quot;, customerUpdateRecordsDto.getFirstName(), response.getStatusCode());\n    }\n} catch (RestClientException e) {\n    throw new RestClientException(&quot;Idp facade API error for user first name &quot; + customerUpdateRecordsDto.getFirstName(), e);\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","ms-word","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668340795,"creation_date":1668340795,"answer_id":74420723,"question_id":74368270,"body_markdown":"I got this working the other day!\r\n\r\nThe best way to make it bold is to make the format-indicator bold in the document itself.\r\n\r\nThe other way is to create a new `XWPFRun` and set it to `bold`. The text should be the value of the key. After that, you can just add all the fixed `XWPFRun`s into an `ArrayList` and re-insert them, after removing every run in the selected paragraph. You can then just remove the old-normal `XWPFRun` that contains the format-indicator.","title":"Making a string inside a sentence bold - Apache POI","body":"<p>I got this working the other day!</p>\n<p>The best way to make it bold is to make the format-indicator bold in the document itself.</p>\n<p>The other way is to create a new <code>XWPFRun</code> and set it to <code>bold</code>. The text should be the value of the key. After that, you can just add all the fixed <code>XWPFRun</code>s into an <code>ArrayList</code> and re-insert them, after removing every run in the selected paragraph. You can then just remove the old-normal <code>XWPFRun</code> that contains the format-indicator.</p>\n"}],"owner":{"account_id":21717650,"reputation":455,"user_id":16028444,"display_name":"MomoTheDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74420723,"answer_count":1,"score":0,"last_activity_date":1668340795,"creation_date":1667949716,"question_id":74368270,"body_markdown":"How do I make a string bold while it&#39;s inside a sentence?\r\n\r\nI&#39;ve just started using Apache POI like 4 hours ago and wanted to:\r\n\r\n1. Locate different strings inside a Word-Document (.docx/XWPF)\r\n2. Replace the strings with the value of the map\r\n3. Make the value appear bold, if the string has a special flag.\r\n\r\nI tried to first approach this by iterating over the paragraph (not the Runs), but it didn&#39;t work. I&#39;ve got my current solution from this post right [here](https://stackoverflow.com/a/49765239/16028444).\r\n\r\nEverything is fine with the first two steps, now I want to make every value that contains a special flag (like `${key:bold}` or `${score:bold}`) bold. I&#39;ve tried to create a new `XWPFRun` that writes the bold string, it just won&#39;t work with the code underneath...\r\n\r\n`ParagraphFieldReplacer.java` (Currently working for step 1 and 2)\r\n```java\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport org.apache.poi.ooxml.POIXMLException;\r\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\r\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\r\nimport org.apache.poi.xwpf.usermodel.XWPFRun;\r\n\r\npublic final class ParagraphFieldReplacer {\r\n\t\r\n\tpublic static void replace(final Student student, final XWPFDocument document, final Map&lt;String, FormatObject&gt; fields) {\r\n\t    final List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\r\n\t    for (final XWPFParagraph paragraph : paragraphs)\r\n\t    \treplaceParagraph(student, paragraph, fields);\r\n\t}\r\n\t\r\n\tprivate static void replaceParagraph(final Student student, final XWPFParagraph paragraph, final Map&lt;String, FormatObject&gt; fields) throws POIXMLException {\r\n\t\tList&lt;XWPFRun&gt; runs;\r\n\t\tString paragraphtext;\r\n\t\tString runsText;\r\n\t\tXWPFRun nextRun;\r\n\t\tString target;\r\n\t    XWPFRun run;\r\n\t    for (final String key : fields.keySet()) {\r\n\t    \tparagraphtext = paragraph.getText();\r\n\t        if (!(paragraphtext.contains(&quot;${&quot;)))\r\n\t            return;\r\n\t        target = &quot;${&quot; + key + &quot;}&quot;;\r\n\t        if (!(paragraphtext.contains(target)))\r\n\t            continue;\r\n\t        runs = paragraph.getRuns();\r\n\t        for (int i = 0; i &lt; runs.size(); i++) {\r\n\t            run = runs.get(i);\r\n\t            runsText = run.getText(0);\r\n\t            if (runsText.contains(&quot;${&quot;) || (runsText.contains(&quot;$&quot;) &amp;&amp; runs.get(i + 1).getText(0).substring(0, 1).equals(&quot;{&quot;))) {\r\n\t                while (!(openTagCountIsEqualCloseTagCount(runsText))) {\r\n\t                    nextRun = runs.get(i + 1);\r\n\t                    runsText = runsText + nextRun.getText(0);\r\n\t                    paragraph.removeRun(i + 1);\r\n\t                }\r\n\t                if (!(runsText.contains(target)))\r\n\t                \trun.setText(runsText, 0);\r\n\t                else {\r\n\t                \tfinal FormatObject format = fields.get(key);\r\n\t                \tfinal String handle = format.handle(student);\r\n\t                \trun.setText(runsText.replace(target, handle), 0);\r\n\t                }\r\n\t            }\r\n\t        }\r\n\t    }\r\n\t}\r\n\t\r\n\tprivate static boolean openTagCountIsEqualCloseTagCount(final String runText) {\r\n\t    final int openTagCount = (runText.split(&quot;\\\\$\\\\{&quot;, -1).length - 1);\r\n\t    final int closeTagCount = (runText.split(&quot;}&quot;, -1).length - 1);\r\n\t    return (openTagCount == closeTagCount);\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n`FormatObject.java`\r\n```java\r\npublic final class FormatObject {\r\n\t\r\n\tprivate boolean bold;\r\n\tprivate FormatHandler&lt;Student, String&gt; handler;\r\n\t\r\n\tpublic FormatObject(final FormatHandler&lt;Student, String&gt; handler, final boolean bold) {\r\n\t\tthis.handler= handler;\r\n\t\tthis.bold = bold;\r\n\t}\r\n\t\r\n\tpublic boolean isBold() {\r\n\t\treturn bold;\r\n\t}\r\n\t\r\n\tpublic String handle(final ZertifikationsStudent student) {\r\n\t\treturn handler.handle(student);\r\n\t}\r\n\t\r\n}\r\n\r\n```\r\n\r\n`FormatHandler.java`\r\n```\r\n@FunctionalInterface\r\npublic interface FormatHandler&lt;P, R&gt; {\r\n\t\r\n\tpublic R handle(P p);\r\n\t\r\n}\r\n```\r\n\r\nThanks for reading/helping!","title":"Making a string inside a sentence bold - Apache POI","body":"<p>How do I make a string bold while it's inside a sentence?</p>\n<p>I've just started using Apache POI like 4 hours ago and wanted to:</p>\n<ol>\n<li>Locate different strings inside a Word-Document (.docx/XWPF)</li>\n<li>Replace the strings with the value of the map</li>\n<li>Make the value appear bold, if the string has a special flag.</li>\n</ol>\n<p>I tried to first approach this by iterating over the paragraph (not the Runs), but it didn't work. I've got my current solution from this post right <a href=\"https://stackoverflow.com/a/49765239/16028444\">here</a>.</p>\n<p>Everything is fine with the first two steps, now I want to make every value that contains a special flag (like <code>${key:bold}</code> or <code>${score:bold}</code>) bold. I've tried to create a new <code>XWPFRun</code> that writes the bold string, it just won't work with the code underneath...</p>\n<p><code>ParagraphFieldReplacer.java</code> (Currently working for step 1 and 2)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.Map;\n\nimport org.apache.poi.ooxml.POIXMLException;\nimport org.apache.poi.xwpf.usermodel.XWPFDocument;\nimport org.apache.poi.xwpf.usermodel.XWPFParagraph;\nimport org.apache.poi.xwpf.usermodel.XWPFRun;\n\npublic final class ParagraphFieldReplacer {\n    \n    public static void replace(final Student student, final XWPFDocument document, final Map&lt;String, FormatObject&gt; fields) {\n        final List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\n        for (final XWPFParagraph paragraph : paragraphs)\n            replaceParagraph(student, paragraph, fields);\n    }\n    \n    private static void replaceParagraph(final Student student, final XWPFParagraph paragraph, final Map&lt;String, FormatObject&gt; fields) throws POIXMLException {\n        List&lt;XWPFRun&gt; runs;\n        String paragraphtext;\n        String runsText;\n        XWPFRun nextRun;\n        String target;\n        XWPFRun run;\n        for (final String key : fields.keySet()) {\n            paragraphtext = paragraph.getText();\n            if (!(paragraphtext.contains(&quot;${&quot;)))\n                return;\n            target = &quot;${&quot; + key + &quot;}&quot;;\n            if (!(paragraphtext.contains(target)))\n                continue;\n            runs = paragraph.getRuns();\n            for (int i = 0; i &lt; runs.size(); i++) {\n                run = runs.get(i);\n                runsText = run.getText(0);\n                if (runsText.contains(&quot;${&quot;) || (runsText.contains(&quot;$&quot;) &amp;&amp; runs.get(i + 1).getText(0).substring(0, 1).equals(&quot;{&quot;))) {\n                    while (!(openTagCountIsEqualCloseTagCount(runsText))) {\n                        nextRun = runs.get(i + 1);\n                        runsText = runsText + nextRun.getText(0);\n                        paragraph.removeRun(i + 1);\n                    }\n                    if (!(runsText.contains(target)))\n                        run.setText(runsText, 0);\n                    else {\n                        final FormatObject format = fields.get(key);\n                        final String handle = format.handle(student);\n                        run.setText(runsText.replace(target, handle), 0);\n                    }\n                }\n            }\n        }\n    }\n    \n    private static boolean openTagCountIsEqualCloseTagCount(final String runText) {\n        final int openTagCount = (runText.split(&quot;\\\\$\\\\{&quot;, -1).length - 1);\n        final int closeTagCount = (runText.split(&quot;}&quot;, -1).length - 1);\n        return (openTagCount == closeTagCount);\n    }\n    \n}\n</code></pre>\n<p><code>FormatObject.java</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class FormatObject {\n    \n    private boolean bold;\n    private FormatHandler&lt;Student, String&gt; handler;\n    \n    public FormatObject(final FormatHandler&lt;Student, String&gt; handler, final boolean bold) {\n        this.handler= handler;\n        this.bold = bold;\n    }\n    \n    public boolean isBold() {\n        return bold;\n    }\n    \n    public String handle(final ZertifikationsStudent student) {\n        return handler.handle(student);\n    }\n    \n}\n\n</code></pre>\n<p><code>FormatHandler.java</code></p>\n<pre><code>@FunctionalInterface\npublic interface FormatHandler&lt;P, R&gt; {\n    \n    public R handle(P p);\n    \n}\n</code></pre>\n<p>Thanks for reading/helping!</p>\n"},{"tags":["java","spring","database","h2"],"comments":[{"owner":{"account_id":23986414,"reputation":71,"user_id":17973172,"display_name":"Michal Hodul"},"score":0,"creation_date":1647332075,"post_id":71472558,"comment_id":126338102,"body_markdown":"problem is in my spring security,but idk why security damaged my h2console","body":"problem is in my spring security,but idk why security damaged my h2console"}],"answers":[{"tags":[],"owner":{"account_id":14605352,"reputation":151,"user_id":10548414,"display_name":"Subham"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647534604,"creation_date":1647534604,"answer_id":71515888,"question_id":71472558,"body_markdown":"By default, spring-security will protect each and every end-point - So, for /error you need to manually configure like the following - \r\n\r\n    @EnableWebSecurity\r\n    public class AppSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n\t    @Override\r\n    \tpublic void configure(HttpSecurity auth) {\r\n\t\t    auth.csrf().disable()\r\n\t\t\t    .authorizeRequests()\r\n\t\t\t    .antMatchers(&quot;/error/**&quot;).permitAll() // permit-all for /error  page\r\n\t\t\t    .anyRequest().authenticated();\r\n\t    }\r\n    }","title":"My h2 working, but i cant connect inside of h2-console","body":"<p>By default, spring-security will protect each and every end-point - So, for /error you need to manually configure like the following -</p>\n<pre><code>@EnableWebSecurity\npublic class AppSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    public void configure(HttpSecurity auth) {\n        auth.csrf().disable()\n            .authorizeRequests()\n            .antMatchers(&quot;/error/**&quot;).permitAll() // permit-all for /error  page\n            .anyRequest().authenticated();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2845562,"reputation":89,"user_id":2444066,"accept_rate":50,"display_name":"Michał Gątkowski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668340684,"creation_date":1668186229,"answer_id":74405894,"question_id":71472558,"body_markdown":"For future reference:\r\n\r\nIn Spring Boot 3.0 / Spring Security 6.0 `http.antMatcher()` is not longer available and was replaced with `http.securityMatcher()`.\r\n\r\nSo Subham&#39;s answer would look like that: \r\n```Java\r\n@Configuration\r\npublic class SecurityConfiguration {\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authorizeHttpRequests((authz) -&gt; authz.anyRequest().permitAll())\r\n                .csrf().disable()\r\n                .securityMatcher(&quot;/error/**&quot;)\r\n                .httpBasic(withDefaults());\r\n\r\n        return http.build();\r\n    }\r\n\r\n}\r\n```","title":"My h2 working, but i cant connect inside of h2-console","body":"<p>For future reference:</p>\n<p>In Spring Boot 3.0 / Spring Security 6.0 <code>http.antMatcher()</code> is not longer available and was replaced with <code>http.securityMatcher()</code>.</p>\n<p>So Subham's answer would look like that:</p>\n<pre><code>@Configuration\npublic class SecurityConfiguration {\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authorizeHttpRequests((authz) -&gt; authz.anyRequest().permitAll())\n                .csrf().disable()\n                .securityMatcher(&quot;/error/**&quot;)\n                .httpBasic(withDefaults());\n\n        return http.build();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":23986414,"reputation":71,"user_id":17973172,"display_name":"Michal Hodul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668340684,"creation_date":1647282503,"question_id":71472558,"body_markdown":"**Yoo coder**, have one issue with **h2-console**.When i created some entitys on start,my h2 worked and i could open my h2-console and saw there tables ,but after some time i want connect again and doesn&#39;t work now.Meanwhile i added some lines and classes,but idk why doesn&#39;t work my h2-console,cause i don&#39;t touch application properties.\r\nAfter lick on conect or testconect i got this ***error*** \r\n\r\n    Whitelabel Error Page\r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    Mon Mar 14 19:12:33 CET 2022\r\n    There was an unexpected error (type=Forbidden, status=403).\r\n\r\nMy github project: https://github.com/Wynnyy/bookingdoctor-project.git\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nlogs\r\n\r\n    2022-03-14 19:12:16.222  INFO 23108 --- [           main] s.w.b.BookingdoctorApplication           : Starting BookingdoctorApplication using Java 17.0.2 on DESKTOP-K3O8I67 with PID 23108 (C:\\Users\\Patrik Sever&#237;n\\IdeaProjects\\bookingdoctor\\target\\classes started by Wynny in C:\\Users\\Patrik Sever&#237;n\\IdeaProjects\\bookingdoctor)\r\n    2022-03-14 19:12:16.224  INFO 23108 --- [           main] s.w.b.BookingdoctorApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-03-14 19:12:16.928  INFO 23108 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-03-14 19:12:16.986  INFO 23108 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.\r\n    2022-03-14 19:12:17.670  INFO 23108 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-03-14 19:12:17.682  INFO 23108 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-03-14 19:12:17.682  INFO 23108 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]\r\n    2022-03-14 19:12:17.780  INFO 23108 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-03-14 19:12:17.780  INFO 23108 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1503 ms\r\n    2022-03-14 19:12:17.829  INFO 23108 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-03-14 19:12:18.068  INFO 23108 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\r\n    2022-03-14 19:12:18.080  INFO 23108 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at &#39;/h2-console&#39;. Database available at &#39;jdbc:h2:mem:wynny&#39;\r\n    2022-03-14 19:12:18.277  INFO 23108 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2022-03-14 19:12:18.331  INFO 23108 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final\r\n    2022-03-14 19:12:18.497  INFO 23108 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2022-03-14 19:12:18.627  INFO 23108 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\r\n    2022-03-14 19:12:19.225  INFO 23108 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\r\n    2022-03-14 19:12:19.232  INFO 23108 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit &#39;default&#39;\r\n    2022-03-14 19:12:19.540  WARN 23108 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\r\n    2022-03-14 19:12:19.708  INFO 23108 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request\r\n    2022-03-14 19:12:20.112  INFO 23108 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-03-14 19:12:20.211  INFO 23108 --- [           main] s.w.b.BookingdoctorApplication           : Started BookingdoctorApplication in 4.362 seconds (JVM running for 4.745)\r\n    2022-03-14 19:12:24.415  INFO 23108 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2022-03-14 19:12:24.415  INFO 23108 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2022-03-14 19:12:24.417  INFO 23108 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qIshD.png","title":"My h2 working, but i cant connect inside of h2-console","body":"<p><strong>Yoo coder</strong>, have one issue with <strong>h2-console</strong>.When i created some entitys on start,my h2 worked and i could open my h2-console and saw there tables ,but after some time i want connect again and doesn't work now.Meanwhile i added some lines and classes,but idk why doesn't work my h2-console,cause i don't touch application properties.\nAfter lick on conect or testconect i got this <em><strong>error</strong></em></p>\n<pre><code>Whitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\nMon Mar 14 19:12:33 CET 2022\nThere was an unexpected error (type=Forbidden, status=403).\n</code></pre>\n<p>My github project: <a href=\"https://github.com/Wynnyy/bookingdoctor-project.git\" rel=\"nofollow noreferrer\">https://github.com/Wynnyy/bookingdoctor-project.git</a></p>\n<p><a href=\"https://i.stack.imgur.com/qIshD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qIshD.png\" alt=\"enter image description here\" /></a></p>\n<p>logs</p>\n<pre><code>2022-03-14 19:12:16.222  INFO 23108 --- [           main] s.w.b.BookingdoctorApplication           : Starting BookingdoctorApplication using Java 17.0.2 on DESKTOP-K3O8I67 with PID 23108 (C:\\Users\\Patrik Severín\\IdeaProjects\\bookingdoctor\\target\\classes started by Wynny in C:\\Users\\Patrik Severín\\IdeaProjects\\bookingdoctor)\n2022-03-14 19:12:16.224  INFO 23108 --- [           main] s.w.b.BookingdoctorApplication           : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-03-14 19:12:16.928  INFO 23108 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-03-14 19:12:16.986  INFO 23108 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 2 JPA repository interfaces.\n2022-03-14 19:12:17.670  INFO 23108 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-03-14 19:12:17.682  INFO 23108 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-03-14 19:12:17.682  INFO 23108 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.58]\n2022-03-14 19:12:17.780  INFO 23108 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-03-14 19:12:17.780  INFO 23108 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1503 ms\n2022-03-14 19:12:17.829  INFO 23108 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-03-14 19:12:18.068  INFO 23108 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.\n2022-03-14 19:12:18.080  INFO 23108 --- [           main] o.s.b.a.h2.H2ConsoleAutoConfiguration    : H2 console available at '/h2-console'. Database available at 'jdbc:h2:mem:wynny'\n2022-03-14 19:12:18.277  INFO 23108 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-03-14 19:12:18.331  INFO 23108 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final\n2022-03-14 19:12:18.497  INFO 23108 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-03-14 19:12:18.627  INFO 23108 --- [           main] org.hibernate.dialect.Dialect            : HHH000400: Using dialect: org.hibernate.dialect.H2Dialect\n2022-03-14 19:12:19.225  INFO 23108 --- [           main] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]\n2022-03-14 19:12:19.232  INFO 23108 --- [           main] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'\n2022-03-14 19:12:19.540  WARN 23108 --- [           main] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning\n2022-03-14 19:12:19.708  INFO 23108 --- [           main] o.s.s.web.DefaultSecurityFilterChain     : Will not secure any request\n2022-03-14 19:12:20.112  INFO 23108 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-03-14 19:12:20.211  INFO 23108 --- [           main] s.w.b.BookingdoctorApplication           : Started BookingdoctorApplication in 4.362 seconds (JVM running for 4.745)\n2022-03-14 19:12:24.415  INFO 23108 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-03-14 19:12:24.415  INFO 23108 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-03-14 19:12:24.417  INFO 23108 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\n</code></pre>\n"},{"tags":["java","junit","mockito","jersey"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1668161547,"post_id":74400898,"comment_id":131343644,"body_markdown":"How  `ClassB` looks like?","body":"How  <code>ClassB</code> looks like?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1668161589,"post_id":74400898,"comment_id":131343658,"body_markdown":"In class A, you dare calling a `static` method to get your instance of ClassB, so `InjectMocks` won’t help you with that.  What you want to do instead is described here : https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito","body":"In class A, you dare calling a <code>static</code> method to get your instance of ClassB, so <code>InjectMocks</code> won’t help you with that.  What you want to do instead is described here : <a href=\"https://stackoverflow.com/questions/21105403/mocking-static-methods-with-mockito\" title=\"mocking static methods with mockito\">stackoverflow.com/questions/21105403/&hellip;</a>"},{"owner":{"account_id":11227177,"reputation":47,"user_id":8236476,"display_name":"baggy696"},"score":0,"creation_date":1668161802,"post_id":74400898,"comment_id":131343748,"body_markdown":"Oh okay. So I should use powerMockito for this?","body":"Oh okay. So I should use powerMockito for this?"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1668163048,"post_id":74400898,"comment_id":131344168,"body_markdown":"No, powermockito is old - mockito has been extended to mock static methods, as described in that answer, or here for more details : https://www.baeldung.com/mockito-mock-static-methods","body":"No, powermockito is old - mockito has been extended to mock static methods, as described in that answer, or here for more details : <a href=\"https://www.baeldung.com/mockito-mock-static-methods\" rel=\"nofollow noreferrer\">baeldung.com/mockito-mock-static-methods</a>"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1668163572,"post_id":74400898,"comment_id":131344340,"body_markdown":"Instead of “old”, rather PowerMockito has issues with Junit5.  Best to stick with pure Mockito where possible (including the mocking of static methods)","body":"Instead of “old”, rather PowerMockito has issues with Junit5.  Best to stick with pure Mockito where possible (including the mocking of static methods)"},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1668184405,"post_id":74400898,"comment_id":131351778,"body_markdown":"Consider making your class more test-friendly. Instead of reaching for the singleton instance of ClassB, you could store it as a field - preferably initialized in a constructor","body":"Consider making your class more test-friendly. Instead of reaching for the singleton instance of ClassB, you could store it as a field - preferably initialized in a constructor"}],"owner":{"account_id":11227177,"reputation":47,"user_id":8236476,"display_name":"baggy696"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668340519,"creation_date":1668161352,"question_id":74400898,"body_markdown":"I&#39;m very new to writing unit tests for java. I want to write a test for method1:\r\n\r\n    public ClassA {\r\n       public String method1() {\r\n          ClassB classInst = ClassB.getInstance()\r\n          return classInst.doSomething()\r\n       }\r\n    }\r\nHere, doSomething in classB connects to some databases and does an operation. This is my test class:\r\n\r\n    public TestClassA {\r\n       @Mock\r\n       private ClassB classBInst = mock(ClassB.class)\r\n\r\n       @InjectMocks\r\n       private ClassA classAInst = new ClassA()\r\n\r\n       @Before\r\n       public void setup() {\r\n          when(classInst.isClientEnabled()).thenReturn(&quot;ReturnStr&quot;);\r\n       }\r\n\r\n       @Test\r\n       public void testMethod1() {\r\n          String result = classAInst.method1();\r\n          assertEquals(result, &quot;ReturnStr&quot;)\r\n       }\r\n\r\n    }\r\nBut the assert is failing because ClassB.doSomething() is not returning the mocked return value. Am I doing something wrong here? What is the correct way to mock classB here? I am using junit4 and mockito here\r\n\r\n\r\n\r\n","title":"Unable to inject mocks for my jersey project","body":"<p>I'm very new to writing unit tests for java. I want to write a test for method1:</p>\n<pre><code>public ClassA {\n   public String method1() {\n      ClassB classInst = ClassB.getInstance()\n      return classInst.doSomething()\n   }\n}\n</code></pre>\n<p>Here, doSomething in classB connects to some databases and does an operation. This is my test class:</p>\n<pre><code>public TestClassA {\n   @Mock\n   private ClassB classBInst = mock(ClassB.class)\n\n   @InjectMocks\n   private ClassA classAInst = new ClassA()\n\n   @Before\n   public void setup() {\n      when(classInst.isClientEnabled()).thenReturn(&quot;ReturnStr&quot;);\n   }\n\n   @Test\n   public void testMethod1() {\n      String result = classAInst.method1();\n      assertEquals(result, &quot;ReturnStr&quot;)\n   }\n\n}\n</code></pre>\n<p>But the assert is failing because ClassB.doSomething() is not returning the mocked return value. Am I doing something wrong here? What is the correct way to mock classB here? I am using junit4 and mockito here</p>\n"},{"tags":["java","mysql","eclipse","jdbc"],"comments":[{"owner":{"account_id":12704765,"reputation":161,"user_id":9230413,"accept_rate":25,"display_name":"masdap"},"score":0,"creation_date":1668263806,"post_id":74413554,"comment_id":131365432,"body_markdown":"hmm i didn&#39;t found the .Connection from `com.mysql.cj.jdbc`","body":"hmm i didn&#39;t found the .Connection from <code>com.mysql.cj.jdbc</code>"},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1668264119,"post_id":74413554,"comment_id":131365494,"body_markdown":"Were you intending to use Java Modules?","body":"Were you intending to use Java Modules?"},{"owner":{"account_id":12704765,"reputation":161,"user_id":9230413,"accept_rate":25,"display_name":"masdap"},"score":0,"creation_date":1668264310,"post_id":74413554,"comment_id":131365527,"body_markdown":"yes I want to use the .Connection class from .com.mysql.jdbc jar file","body":"yes I want to use the .Connection class from .com.mysql.jdbc jar file"},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1668340226,"post_id":74413554,"comment_id":131376662,"body_markdown":"MySQL Connector/J 8.0.x doesn&#39;t have a `com.mysql.jdbc.Connection` class, but even with MySQL Connector/J 5.1.x (which does have it) you shouldn&#39;t normally have imported that class. Import `java.sql.Connection` instead.","body":"MySQL Connector/J 8.0.x doesn&#39;t have a <code>com.mysql.jdbc.Connection</code> class, but even with MySQL Connector/J 5.1.x (which does have it) you shouldn&#39;t normally have imported that class. Import <code>java.sql.Connection</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668268875,"creation_date":1668268875,"answer_id":74414461,"question_id":74413554,"body_markdown":"Your referenced library looks correct but you have imported a wrong class. You should import `java.sql.Connection` instead of `com.mysql.jdbc.Connection`.\r\n\r\nSome other important imports are as follows:\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n\r\nThere are hundreds of good tutorials (e.g. [this](https://www.vogella.com/tutorials/MySQLJava/article.html)) available on the internet.","title":"The import com.mysql.jdbc.Connection cannot be resolved","body":"<p>Your referenced library looks correct but you have imported a wrong class. You should import <code>java.sql.Connection</code> instead of <code>com.mysql.jdbc.Connection</code>.</p>\n<p>Some other important imports are as follows:</p>\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n</code></pre>\n<p>There are hundreds of good tutorials (e.g. <a href=\"https://www.vogella.com/tutorials/MySQLJava/article.html\" rel=\"nofollow noreferrer\">this</a>) available on the internet.</p>\n"}],"owner":{"account_id":12704765,"reputation":161,"user_id":9230413,"accept_rate":25,"display_name":"masdap"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":769,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74414461,"answer_count":1,"score":0,"last_activity_date":1668340305,"creation_date":1668261556,"question_id":74413554,"body_markdown":"How to solve this problem? I have downloaded and imported the &quot;mysql-connector-java&quot; to my build-path project, but still issue. It seems the library doesn&#39;t have the Connection class?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/105xR.png\r\n  [2]: https://i.stack.imgur.com/2aHQb.png\r\n  [3]: https://i.stack.imgur.com/ragzb.png","title":"The import com.mysql.jdbc.Connection cannot be resolved","body":"<p>How to solve this problem? I have downloaded and imported the &quot;mysql-connector-java&quot; to my build-path project, but still issue. It seems the library doesn't have the Connection class?</p>\n<p><a href=\"https://i.stack.imgur.com/105xR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/105xR.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/2aHQb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2aHQb.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ragzb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ragzb.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","jenkins","sonarqube","code-coverage"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668335989,"post_id":74417454,"comment_id":131375996,"body_markdown":"The definition of jacoco-maven-plugin as dependency is simply wrong nor needed.","body":"The definition of jacoco-maven-plugin as dependency is simply wrong nor needed."},{"owner":{"account_id":20669887,"reputation":137,"user_id":15175890,"display_name":"Compte Gmail"},"score":0,"creation_date":1668340233,"post_id":74417454,"comment_id":131376664,"body_markdown":"@khmarbaise hey , I just removed the dependency, I just update my full code in the question. Have a look at it again ,  I feel that I may be missing something.","body":"@khmarbaise hey , I just removed the dependency, I just update my full code in the question. Have a look at it again ,  I feel that I may be missing something."},{"owner":{"account_id":294314,"reputation":4599,"user_id":598141,"accept_rate":44,"display_name":"Ian W"},"score":0,"creation_date":1668405802,"post_id":74417454,"comment_id":131388442,"body_markdown":"Refer to [this answer](https://stackoverflow.com/a/68160007/598141","body":"Refer to [this answer](<a href=\"https://stackoverflow.com/a/68160007/598141\">stackoverflow.com/a/68160007/598141</a>"}],"answers":[{"tags":[],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668324051,"creation_date":1668324051,"answer_id":74419157,"question_id":74417454,"body_markdown":"I hope it&#39;s clear that the jacoco and surefire plugins have to agree on where to find the data file, and what its name is. They do not, which is why this isn&#39;t working.\r\n\r\nIn addition, for recent plugin versions, you should probably use the xml format of the data file, not the binary version. In your current configuration, not only do they not agree on the location, one plugin is specifying the binary format, and the other the xml format.\r\n\r\nI suggest you have property settings like the following:\r\n\r\n\t&lt;sonar.surefire.reportsPath&gt;${basedir}/target/surefire-reports&lt;/sonar.surefire.reportsPath&gt;\r\n\t&lt;sonar.coverage.jacoco.xmlReportPaths&gt;${basedir}/target/jacoco_report/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\r\n\r\nIn the Jacoco plugin, make sure you have this:\r\n\r\n\t&lt;execution&gt;\r\n\t\t&lt;id&gt;post-unit-test&lt;/id&gt;\r\n\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t&lt;goals&gt;\r\n\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t&lt;/goals&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t&lt;outputDirectory&gt;${jacoco.path}&lt;/outputDirectory&gt;\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/execution&gt;\r\n\r\nThe Surefire plugin needs this in the &quot;configuration&quot; block:\r\n\r\n    &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\r\n","title":"Code Coverage precentage is 0% in Sonarqube","body":"<p>I hope it's clear that the jacoco and surefire plugins have to agree on where to find the data file, and what its name is. They do not, which is why this isn't working.</p>\n<p>In addition, for recent plugin versions, you should probably use the xml format of the data file, not the binary version. In your current configuration, not only do they not agree on the location, one plugin is specifying the binary format, and the other the xml format.</p>\n<p>I suggest you have property settings like the following:</p>\n<pre><code>&lt;sonar.surefire.reportsPath&gt;${basedir}/target/surefire-reports&lt;/sonar.surefire.reportsPath&gt;\n&lt;sonar.coverage.jacoco.xmlReportPaths&gt;${basedir}/target/jacoco_report/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\n</code></pre>\n<p>In the Jacoco plugin, make sure you have this:</p>\n<pre><code>&lt;execution&gt;\n    &lt;id&gt;post-unit-test&lt;/id&gt;\n    &lt;phase&gt;test&lt;/phase&gt;\n    &lt;goals&gt;\n        &lt;goal&gt;report&lt;/goal&gt;\n    &lt;/goals&gt;\n    &lt;configuration&gt;\n        &lt;outputDirectory&gt;${jacoco.path}&lt;/outputDirectory&gt;\n    &lt;/configuration&gt;\n&lt;/execution&gt;\n</code></pre>\n<p>The Surefire plugin needs this in the &quot;configuration&quot; block:</p>\n<pre><code>&lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\n</code></pre>\n"}],"owner":{"account_id":20669887,"reputation":137,"user_id":15175890,"display_name":"Compte Gmail"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4100,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1668340161,"creation_date":1668297369,"question_id":74417454,"body_markdown":"I developed some JUnit tests using Jenkins pipeline for a Spring Boot App and and the Coverage percentage on SonarQube is still 0% (I believe this could be an issue from my script or my pom.xml)\r\n\r\nPlugins installed On jenkins: Sonargraph + Sonarqube + Code Coverage API + Jacoco Plugin\r\nThis is the warning I get\r\n```\r\n[INFO] Tests run: 19, Failures: 0, Errors: 0, Skipped: 0\r\n[INFO] --- jacoco-maven-plugin:0.8.6:report (report) @ achat ---\r\n[INFO] Skipping JaCoCo execution due to missing execution data file.\r\n[INFO] BUILD SUCCESS\r\n```\r\n\r\nHere is my Jenkins script stage for Sonar declaration:\r\n```\r\nsh &#39;  mvn sonar:sonar -Dsonar.sources=src/main/java -Dsonar.css.node=. \r\n-Dsonar.java.binaries=. -Dsonar.host.url=http://192.168.2.2:9000/ \r\n-Dsonar.login=admin   -Dsonar.password=sonar -Dsonar.jacoco.reportPath=build/reports/jacoco.xml&#39;\r\n```\r\n\r\nHere is my Test stage in jenkins:\r\n```\r\nsh &#39;  mvn test&#39;\r\njacoco execPattern: &#39;target/jacoco.exec&#39;\r\n```\r\n\r\nPropreties in pom.xml\r\n```\r\n&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t\t&lt;maven-jar-plugin.version&gt;3.1.0&lt;/maven-jar-plugin.version&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;sonar.surefire.reportsPath&gt;${basedir}/target/surefire-reports&lt;/sonar.surefire.reportsPath&gt;\r\n\t\t&lt;sonar.coverage.jacoco.xmlReportPaths&gt;${basedir}/target/jacoco_report/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\r\n\t\t\r\n\t&lt;/properties&gt;\r\n\r\n```\r\nPlugin in pom.xml\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.8.6&lt;/version&gt;\r\n\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n   \t\t\t\t\t\t &lt;id&gt;post-unit-test&lt;/id&gt;\r\n  \t\t\t\t\t\t  &lt;phase&gt;test&lt;/phase&gt;\r\n \t\t\t\t\t\t   &lt;goals&gt;\r\n \t\t\t\t\t       &lt;goal&gt;report&lt;/goal&gt;\r\n \t\t\t\t\t   &lt;/goals&gt;\r\n \t\t\t\t\t   &lt;configuration&gt;\r\n  \t\t\t\t      &lt;outputDirectory&gt;${jacoco.path}&lt;/outputDirectory&gt;\r\n \t\t\t\t   &lt;/configuration&gt;\r\n\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;prepare-agent&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/destFile&gt;\r\n\t\t\t\t\t\t\t&lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\r\n\t\t\t\t\t\t\t&lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;id&gt;report&lt;/id&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;test&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;report&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/dataFile&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-ut&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n```","title":"Code Coverage precentage is 0% in Sonarqube","body":"<p>I developed some JUnit tests using Jenkins pipeline for a Spring Boot App and and the Coverage percentage on SonarQube is still 0% (I believe this could be an issue from my script or my pom.xml)</p>\n<p>Plugins installed On jenkins: Sonargraph + Sonarqube + Code Coverage API + Jacoco Plugin\nThis is the warning I get</p>\n<pre><code>[INFO] Tests run: 19, Failures: 0, Errors: 0, Skipped: 0\n[INFO] --- jacoco-maven-plugin:0.8.6:report (report) @ achat ---\n[INFO] Skipping JaCoCo execution due to missing execution data file.\n[INFO] BUILD SUCCESS\n</code></pre>\n<p>Here is my Jenkins script stage for Sonar declaration:</p>\n<pre><code>sh '  mvn sonar:sonar -Dsonar.sources=src/main/java -Dsonar.css.node=. \n-Dsonar.java.binaries=. -Dsonar.host.url=http://192.168.2.2:9000/ \n-Dsonar.login=admin   -Dsonar.password=sonar -Dsonar.jacoco.reportPath=build/reports/jacoco.xml'\n</code></pre>\n<p>Here is my Test stage in jenkins:</p>\n<pre><code>sh '  mvn test'\njacoco execPattern: 'target/jacoco.exec'\n</code></pre>\n<p>Propreties in pom.xml</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.1.0&lt;/maven-jar-plugin.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;sonar.surefire.reportsPath&gt;${basedir}/target/surefire-reports&lt;/sonar.surefire.reportsPath&gt;\n        &lt;sonar.coverage.jacoco.xmlReportPaths&gt;${basedir}/target/jacoco_report/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\n        \n    &lt;/properties&gt;\n\n</code></pre>\n<p>Plugin in pom.xml</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.6&lt;/version&gt;\n\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                         &lt;id&gt;post-unit-test&lt;/id&gt;\n                          &lt;phase&gt;test&lt;/phase&gt;\n                           &lt;goals&gt;\n                           &lt;goal&gt;report&lt;/goal&gt;\n                       &lt;/goals&gt;\n                       &lt;configuration&gt;\n                      &lt;outputDirectory&gt;${jacoco.path}&lt;/outputDirectory&gt;\n                   &lt;/configuration&gt;\n                &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;destFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/destFile&gt;\n                            &lt;propertyName&gt;surefireArgLine&lt;/propertyName&gt;\n                            &lt;argLine&gt;${surefireArgLine}&lt;/argLine&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;report&lt;/id&gt;\n                        &lt;phase&gt;test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;dataFile&gt;${project.build.directory}/coverage-reports/jacoco-ut.exec&lt;/dataFile&gt;\n                            &lt;outputDirectory&gt;${project.reporting.outputDirectory}/jacoco-ut&lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1668283530,"post_id":74416155,"comment_id":131369461,"body_markdown":"That should work, but note that it&#39;s a hidden &lt;input&gt; field, so you can&#39;t just see it. Also, this code is a giant security leak.","body":"That should work, but note that it&#39;s a hidden &lt;input&gt; field, so you can&#39;t just see it. Also, this code is a giant security leak."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":3,"creation_date":1668283543,"post_id":74416155,"comment_id":131369463,"body_markdown":"`&lt;%=` if you want to get the value of the expression.","body":"<code>&lt;%=</code> if you want to get the value of the expression."},{"owner":{"account_id":24239058,"reputation":83,"user_id":18191714,"display_name":"imherebcsomethingisntworking"},"score":0,"creation_date":1668364643,"post_id":74416155,"comment_id":131381908,"body_markdown":"@FedericoklezCulloca you just saved me so much time man, thank you so so much!!","body":"@FedericoklezCulloca you just saved me so much time man, thank you so so much!!"}],"owner":{"account_id":24239058,"reputation":83,"user_id":18191714,"display_name":"imherebcsomethingisntworking"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668340007,"creation_date":1668283306,"question_id":74416155,"body_markdown":"I am playing around with creating a login/registration page using Eclipse, JDBC, and MySQL. I am following an online tutorial and have been making good progress but I am stuck on one portion. The video states to use the code \r\n\r\n`&lt;input type=&quot;hidden&quot; id=&quot;status&quot; value=&quot;&lt;% request.getAttribute(&quot;status&quot;) %&gt;&quot;&gt;`\r\n\r\nBut I get a syntax error message that says to use ;. I instead have done \r\n\r\n`&lt;input type=&quot;hidden&quot; id=&quot;status&quot; value=&quot;&lt;% request.getAttribute(&quot;status&quot;); %&gt;&quot;&gt;`\r\n\r\nAnd although I am not getting any syntax errors, the code is not properly running. Could anyone please shed some insight? The video is from the beginning of 2022 so perhaps some stuff has been updated.","title":"Syntax Issues When Creating a Login Page with Eclipse, JDBC, and MySQL","body":"<p>I am playing around with creating a login/registration page using Eclipse, JDBC, and MySQL. I am following an online tutorial and have been making good progress but I am stuck on one portion. The video states to use the code</p>\n<p><code>&lt;input type=&quot;hidden&quot; id=&quot;status&quot; value=&quot;&lt;% request.getAttribute(&quot;status&quot;) %&gt;&quot;&gt;</code></p>\n<p>But I get a syntax error message that says to use ;. I instead have done</p>\n<p><code>&lt;input type=&quot;hidden&quot; id=&quot;status&quot; value=&quot;&lt;% request.getAttribute(&quot;status&quot;); %&gt;&quot;&gt;</code></p>\n<p>And although I am not getting any syntax errors, the code is not properly running. Could anyone please shed some insight? The video is from the beginning of 2022 so perhaps some stuff has been updated.</p>\n"},{"tags":["java","mysql","unit-testing","jdbc","junit"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668339900,"post_id":74420212,"comment_id":131376603,"body_markdown":"Use something like testcontainers-java for your unit tests. Are you by any chance using MyISAM tables? Also, please provide a [mre]. The code shown doesn&#39;t actually **insert** anything. Also, please learn how to use prepared statements. Your current code is vulnerable to SQL injection.","body":"Use something like testcontainers-java for your unit tests. Are you by any chance using MyISAM tables? Also, please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. The code shown doesn&#39;t actually <b>insert</b> anything. Also, please learn how to use prepared statements. Your current code is vulnerable to SQL injection."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668340443,"post_id":74420212,"comment_id":131376718,"body_markdown":"You rollback the transaction on a particular connection. Perhaps `memberControl` doesn&#39;t use that connection, or `addMember` commits.","body":"You rollback the transaction on a particular connection. Perhaps <code>memberControl</code> doesn&#39;t use that connection, or <code>addMember</code> commits."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668340505,"post_id":74420212,"comment_id":131376735,"body_markdown":"&quot;I can see the member being added to db&quot; What does this mean?","body":"&quot;I can see the member being added to db&quot; What does this mean?"},{"owner":{"account_id":26914701,"reputation":1,"user_id":20489685,"display_name":"Danjr"},"score":0,"creation_date":1668351389,"post_id":74420212,"comment_id":131378934,"body_markdown":"@MarkRotteveel sorry for not giving enough clarity, I&#39;m inserting the data in addMember method by passing an object. and thank you for your clarification. I&#39;ll look into prepared statements and testContainers.","body":"@MarkRotteveel sorry for not giving enough clarity, I&#39;m inserting the data in addMember method by passing an object. and thank you for your clarification. I&#39;ll look into prepared statements and testContainers."},{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668351469,"post_id":74420212,"comment_id":131378960,"body_markdown":"@Danjr You don&#39;t **show** what that method does. Likely it creates its own connection and commits the data.","body":"@Danjr You don&#39;t <b>show</b> what that method does. Likely it creates its own connection and commits the data."},{"owner":{"account_id":26914701,"reputation":1,"user_id":20489685,"display_name":"Danjr"},"score":0,"creation_date":1668351539,"post_id":74420212,"comment_id":131378977,"body_markdown":"@tgdavies while testing i&#39;m parallelly looking into database as well so I can see the member data I use for testing is getting added in that table in spite of rollback.","body":"@tgdavies while testing i&#39;m parallelly looking into database as well so I can see the member data I use for testing is getting added in that table in spite of rollback."},{"owner":{"account_id":26914701,"reputation":1,"user_id":20489685,"display_name":"Danjr"},"score":0,"creation_date":1668354457,"post_id":74420212,"comment_id":131379641,"body_markdown":"@MarkRotteveel yeah","body":"@MarkRotteveel yeah"}],"owner":{"account_id":26914701,"reputation":1,"user_id":20489685,"display_name":"Danjr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668339817,"creation_date":1668336207,"question_id":74420212,"body_markdown":"I have rolled back the changes made in a database, but the changes are being made in the database. Since it;s a unit test I can&#39;t have the data being tested inserted in the database.\r\n\r\nI tried to add a member in db and got that member through his id by result set, but the member is being added in the db. I gave rollback to stop the changes made in db, but it&#39;s not working, I can see the member being added to db. Any solution?\r\n\r\n```\r\n@Test public void TestAddMember() { Member member = new Member();   \r\n    try ( Connection connect = BookControl_jdbc.connection()) {\r\n        try ( Statement stcheck = connect.createStatement()) {\r\n            connect.setAutoCommit(false);\r\n            //input parameters\r\n            String name = &quot;lia&quot;;\r\n            int age = 20;\r\n            String gender = &quot;F&quot;;\r\n            String status = &quot;ACTIVE&quot;;\r\n            member.setAge(age);\r\n            member.setGender(gender);\r\n# member.setName(name);\r\n            member.setStatus(status);\r\n\r\n            memberControl.addMember(member);\r\n            memberControl.viewMembers();\r\n            int memberId;\r\n     \r\n            String singleMemberQuery = &quot;SELECT Member_id,Member_name,Age,Gender, Member_Status FROM Member WHERE Member_name=&#39;&quot; + member.getName() + &quot;&#39;;&quot;;\r\n            ResultSet rs = MemberControlDao_jdbc.getStmtResultSet(singleMemberQuery);\r\n            assertTrue(rs.next());\r\n            memberId = rs.getInt(&quot;Member_id&quot;);\r\n            assertEquals(name, rs.getString(&quot;Member_name&quot;));\r\n            assertEquals(age, rs.getInt(&quot;Age&quot;));\r\n            assertEquals(gender, rs.getString(&quot;Gender&quot;));\r\n            assertEquals(status, rs.getString(&quot;Member_Status&quot;));\r\n            \r\n        } finally {\r\n            connect.rollback();\r\n        }\r\n\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n","title":"rollback not working in unit test junit 5","body":"<p>I have rolled back the changes made in a database, but the changes are being made in the database. Since it;s a unit test I can't have the data being tested inserted in the database.</p>\n<p>I tried to add a member in db and got that member through his id by result set, but the member is being added in the db. I gave rollback to stop the changes made in db, but it's not working, I can see the member being added to db. Any solution?</p>\n<pre><code>@Test public void TestAddMember() { Member member = new Member();   \n    try ( Connection connect = BookControl_jdbc.connection()) {\n        try ( Statement stcheck = connect.createStatement()) {\n            connect.setAutoCommit(false);\n            //input parameters\n            String name = &quot;lia&quot;;\n            int age = 20;\n            String gender = &quot;F&quot;;\n            String status = &quot;ACTIVE&quot;;\n            member.setAge(age);\n            member.setGender(gender);\n# member.setName(name);\n            member.setStatus(status);\n\n            memberControl.addMember(member);\n            memberControl.viewMembers();\n            int memberId;\n     \n            String singleMemberQuery = &quot;SELECT Member_id,Member_name,Age,Gender, Member_Status FROM Member WHERE Member_name='&quot; + member.getName() + &quot;';&quot;;\n            ResultSet rs = MemberControlDao_jdbc.getStmtResultSet(singleMemberQuery);\n            assertTrue(rs.next());\n            memberId = rs.getInt(&quot;Member_id&quot;);\n            assertEquals(name, rs.getString(&quot;Member_name&quot;));\n            assertEquals(age, rs.getInt(&quot;Age&quot;));\n            assertEquals(gender, rs.getString(&quot;Gender&quot;));\n            assertEquals(status, rs.getString(&quot;Member_Status&quot;));\n            \n        } finally {\n            connect.rollback();\n        }\n\n    } catch (Exception e) {\n        e.printStackTrace();\n\n    }\n\n}\n</code></pre>\n"},{"tags":["java","multithreading","listener"],"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":1,"creation_date":1339251530,"post_id":10961714,"comment_id":14310872,"body_markdown":"Terminating a thread half way will always generate an exception. If it is normal behavior, then you can just catch and ignore the `InterruptedException`. This is what I think, but I also wonder how the standard way is.","body":"Terminating a thread half way will always generate an exception. If it is normal behavior, then you can just catch and ignore the <code>InterruptedException</code>. This is what I think, but I also wonder how the standard way is."},{"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"score":0,"creation_date":1339251780,"post_id":10961714,"comment_id":14310921,"body_markdown":"I have not been using threads very often so I am pretty new at threads, so  I do not know if it is normal behavior to ignore the exception. That is why I am asking.","body":"I have not been using threads very often so I am pretty new at threads, so  I do not know if it is normal behavior to ignore the exception. That is why I am asking."},{"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"score":0,"creation_date":1339259352,"post_id":10961714,"comment_id":14312289,"body_markdown":"In many cases it is normal behavior to ignore the exception and terminate the method processing.  See my answer below for why this is bettern than a flag based approach.","body":"In many cases it is normal behavior to ignore the exception and terminate the method processing.  See my answer below for why this is bettern than a flag based approach."},{"owner":{"account_id":4576002,"reputation":2400,"user_id":3715151,"accept_rate":68,"display_name":"Daniel"},"score":1,"creation_date":1419967982,"post_id":10961714,"comment_id":43834789,"body_markdown":"A neat explanation by B. Goetz regarding `InterruptedException` can be found at http://www.ibm.com/developerworks/library/j-jtp05236/.","body":"A neat explanation by B. Goetz regarding <code>InterruptedException</code> can be found at <a href=\"http://www.ibm.com/developerworks/library/j-jtp05236/\" rel=\"nofollow noreferrer\">ibm.com/developerworks/library/j-jtp05236</a>."},{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1423861055,"post_id":10961714,"comment_id":45336278,"body_markdown":"the InterruptedException is not a problem, your only issue in the posted code is you shouldn&#39;t log it as an error, there&#39;s really not a compelling reason to log it as all except as debug just to demonstrate it happened in case you&#39;re interested. the selected answer is unfortunate because it does not allow for cutting short calls to calls such as sleep and wait.","body":"the InterruptedException is not a problem, your only issue in the posted code is you shouldn&#39;t log it as an error, there&#39;s really not a compelling reason to log it as all except as debug just to demonstrate it happened in case you&#39;re interested. the selected answer is unfortunate because it does not allow for cutting short calls to calls such as sleep and wait."}],"answers":[{"tags":[],"owner":{"account_id":552869,"reputation":6545,"user_id":918124,"accept_rate":89,"display_name":"DrYap"},"down_vote_count":11,"up_vote_count":202,"is_accepted":true,"score":191,"last_activity_date":1339252270,"creation_date":1339251715,"answer_id":10961760,"question_id":10961714,"body_markdown":"In the `IndexProcessor` class you need a way of setting a flag which informs the thread that it will need to terminate, similar to the variable `run` that you have used just in the class scope.\r\n\r\nWhen you wish to stop the thread, you set this flag and call `join()` on the thread and wait for it to finish.\r\n\r\nMake sure that the flag is thread safe by using a volatile variable or by using getter and setter methods which are synchronised with the variable being used as the flag.\r\n\r\n    public class IndexProcessor implements Runnable {\r\n\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\r\n        private volatile boolean running = true;\r\n\r\n        public void terminate() {\r\n            running = false;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            while (running) {\r\n                try {\r\n                    LOGGER.debug(&quot;Sleeping...&quot;);\r\n                    Thread.sleep((long) 15000);\r\n\r\n                    LOGGER.debug(&quot;Processing&quot;);\r\n                } catch (InterruptedException e) {\r\n                    LOGGER.error(&quot;Exception&quot;, e);\r\n                    running = false;\r\n                }\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nThen in `SearchEngineContextListener`:\r\n\r\n    public class SearchEngineContextListener implements ServletContextListener {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(SearchEngineContextListener.class);\r\n    \r\n        private Thread thread = null;\r\n        private IndexProcessor runnable = null;\r\n    \r\n        @Override\r\n        public void contextInitialized(ServletContextEvent event) {\r\n            runnable = new IndexProcessor();\r\n            thread = new Thread(runnable);\r\n            LOGGER.debug(&quot;Starting thread: &quot; + thread);\r\n            thread.start();\r\n            LOGGER.debug(&quot;Background process successfully started.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent event) {\r\n            LOGGER.debug(&quot;Stopping thread: &quot; + thread);\r\n            if (thread != null) {\r\n                runnable.terminate();\r\n                thread.join();\r\n                LOGGER.debug(&quot;Thread successfully stopped.&quot;);\r\n            }\r\n        }\r\n    }","title":"How to properly stop the Thread in Java?","body":"<p>In the <code>IndexProcessor</code> class you need a way of setting a flag which informs the thread that it will need to terminate, similar to the variable <code>run</code> that you have used just in the class scope.</p>\n\n<p>When you wish to stop the thread, you set this flag and call <code>join()</code> on the thread and wait for it to finish.</p>\n\n<p>Make sure that the flag is thread safe by using a volatile variable or by using getter and setter methods which are synchronised with the variable being used as the flag.</p>\n\n<pre><code>public class IndexProcessor implements Runnable {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\n    private volatile boolean running = true;\n\n    public void terminate() {\n        running = false;\n    }\n\n    @Override\n    public void run() {\n        while (running) {\n            try {\n                LOGGER.debug(\"Sleeping...\");\n                Thread.sleep((long) 15000);\n\n                LOGGER.debug(\"Processing\");\n            } catch (InterruptedException e) {\n                LOGGER.error(\"Exception\", e);\n                running = false;\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>Then in <code>SearchEngineContextListener</code>:</p>\n\n<pre><code>public class SearchEngineContextListener implements ServletContextListener {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(SearchEngineContextListener.class);\n\n    private Thread thread = null;\n    private IndexProcessor runnable = null;\n\n    @Override\n    public void contextInitialized(ServletContextEvent event) {\n        runnable = new IndexProcessor();\n        thread = new Thread(runnable);\n        LOGGER.debug(\"Starting thread: \" + thread);\n        thread.start();\n        LOGGER.debug(\"Background process successfully started.\");\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent event) {\n        LOGGER.debug(\"Stopping thread: \" + thread);\n        if (thread != null) {\n            runnable.terminate();\n            thread.join();\n            LOGGER.debug(\"Thread successfully stopped.\");\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1155795,"reputation":3113,"user_id":1136443,"display_name":"Chris"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1339251760,"creation_date":1339251760,"answer_id":10961767,"question_id":10961714,"body_markdown":"You should always end threads by checking a flag in the `run()` loop (if any).\r\n\r\nYour thread should look like this:\r\n\r\n    public class IndexProcessor implements Runnable {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\r\n        private volatile boolean execute;\r\n    \r\n        @Override\r\n        public void run() {\r\n            this.execute = true;\r\n            while (this.execute) {\r\n                try {\r\n                    LOGGER.debug(&quot;Sleeping...&quot;);\r\n                    Thread.sleep((long) 15000);\r\n    \r\n                    LOGGER.debug(&quot;Processing&quot;);\r\n                } catch (InterruptedException e) {\r\n                    LOGGER.error(&quot;Exception&quot;, e);\r\n                    this.execute = false;\r\n                }\r\n            }\r\n        }\r\n        \r\n        public void stopExecuting() {\r\n            this.execute = false;\r\n        }\r\n    }\r\n\r\nThen you can end the thread by calling `thread.stopExecuting()`. That way the thread is ended clean, but this takes up to 15 seconds (due to your sleep).\r\nYou can still call thread.interrupt() if it&#39;s really urgent - but the prefered way should always be checking the flag.\r\n\r\nTo avoid waiting for 15 seconds, you can split up the sleep like this:\r\n\r\n            ...\r\n            try {\r\n                LOGGER.debug(&quot;Sleeping...&quot;);\r\n                for (int i = 0; (i &lt; 150) &amp;&amp; this.execute; i++) {\r\n                \tThread.sleep((long) 100);\r\n                }\r\n\r\n                LOGGER.debug(&quot;Processing&quot;);\r\n            } catch (InterruptedException e) {\r\n            ...","title":"How to properly stop the Thread in Java?","body":"<p>You should always end threads by checking a flag in the <code>run()</code> loop (if any).</p>\n\n<p>Your thread should look like this:</p>\n\n<pre><code>public class IndexProcessor implements Runnable {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\n    private volatile boolean execute;\n\n    @Override\n    public void run() {\n        this.execute = true;\n        while (this.execute) {\n            try {\n                LOGGER.debug(\"Sleeping...\");\n                Thread.sleep((long) 15000);\n\n                LOGGER.debug(\"Processing\");\n            } catch (InterruptedException e) {\n                LOGGER.error(\"Exception\", e);\n                this.execute = false;\n            }\n        }\n    }\n\n    public void stopExecuting() {\n        this.execute = false;\n    }\n}\n</code></pre>\n\n<p>Then you can end the thread by calling <code>thread.stopExecuting()</code>. That way the thread is ended clean, but this takes up to 15 seconds (due to your sleep).\nYou can still call thread.interrupt() if it's really urgent - but the prefered way should always be checking the flag.</p>\n\n<p>To avoid waiting for 15 seconds, you can split up the sleep like this:</p>\n\n<pre><code>        ...\n        try {\n            LOGGER.debug(\"Sleeping...\");\n            for (int i = 0; (i &lt; 150) &amp;&amp; this.execute; i++) {\n                Thread.sleep((long) 100);\n            }\n\n            LOGGER.debug(\"Processing\");\n        } catch (InterruptedException e) {\n        ...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1542591,"reputation":1787,"user_id":1436874,"accept_rate":100,"display_name":"Eduardo Sanchez-Ros"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423389288,"creation_date":1339253521,"answer_id":10961971,"question_id":10961714,"body_markdown":"For synchronizing threads I prefer using `CountDownLatch` which helps threads to wait until the process being performed complete. In this case, the worker class is set up with a `CountDownLatch` instance with a given count. A call to `await` method will block until the current count reaches zero due to invocations of the `countDown` method or the timeout set is reached. This approach allows interrupting a thread instantly without having to wait for the specified waiting time to elapse:\r\n\r\n    public class IndexProcessor implements Runnable {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\r\n    \r\n        private final CountDownLatch countdownlatch;\r\n        public IndexProcessor(CountDownLatch countdownlatch) {\r\n        \tthis.countdownlatch = countdownlatch;\r\n        }\r\n    \r\n        \r\n        public void run() {\r\n            try {\r\n    \t\t\twhile (!countdownlatch.await(15000, TimeUnit.MILLISECONDS)) {\r\n    \t\t\t\tLOGGER.debug(&quot;Processing...&quot;);\r\n    \t\t\t}\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\tLOGGER.error(&quot;Exception&quot;, e);\r\n                run = false;\r\n    \t\t}\r\n    \r\n        }\r\n    }\r\n\r\nWhen you want to finish execution of the other thread, execute countDown on the `CountDownLatch` and `join` the thread to the main thread:\r\n\r\n    public class SearchEngineContextListener implements ServletContextListener {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(SearchEngineContextListener.class);\r\n    \r\n        private Thread thread = null;\r\n        private IndexProcessor runnable = null;\r\n        private CountDownLatch countdownLatch = null;\r\n    \r\n        @Override\r\n        public void contextInitialized(ServletContextEvent event) {\r\n            countdownLatch = new CountDownLatch(1);\r\n            Thread thread = new Thread(new IndexProcessor(countdownLatch));\r\n            LOGGER.debug(&quot;Starting thread: &quot; + thread);\r\n            thread.start();\r\n            LOGGER.debug(&quot;Background process successfully started.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent event) {\r\n            LOGGER.debug(&quot;Stopping thread: &quot; + thread);\r\n            if (countdownLatch != null) \r\n            {\r\n                countdownLatch.countDown();\r\n            } \r\n            if (thread != null) {\r\n                try {\r\n    \t\t\t\tthread.join();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\tLOGGER.error(&quot;Exception&quot;, e);\r\n    \t\t\t}\r\n                LOGGER.debug(&quot;Thread successfully stopped.&quot;);\r\n            } \r\n        }\r\n    }\r\n\t\t","title":"How to properly stop the Thread in Java?","body":"<p>For synchronizing threads I prefer using <code>CountDownLatch</code> which helps threads to wait until the process being performed complete. In this case, the worker class is set up with a <code>CountDownLatch</code> instance with a given count. A call to <code>await</code> method will block until the current count reaches zero due to invocations of the <code>countDown</code> method or the timeout set is reached. This approach allows interrupting a thread instantly without having to wait for the specified waiting time to elapse:</p>\n\n<pre><code>public class IndexProcessor implements Runnable {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\n\n    private final CountDownLatch countdownlatch;\n    public IndexProcessor(CountDownLatch countdownlatch) {\n        this.countdownlatch = countdownlatch;\n    }\n\n\n    public void run() {\n        try {\n            while (!countdownlatch.await(15000, TimeUnit.MILLISECONDS)) {\n                LOGGER.debug(\"Processing...\");\n            }\n        } catch (InterruptedException e) {\n            LOGGER.error(\"Exception\", e);\n            run = false;\n        }\n\n    }\n}\n</code></pre>\n\n<p>When you want to finish execution of the other thread, execute countDown on the <code>CountDownLatch</code> and <code>join</code> the thread to the main thread:</p>\n\n<pre><code>public class SearchEngineContextListener implements ServletContextListener {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(SearchEngineContextListener.class);\n\n    private Thread thread = null;\n    private IndexProcessor runnable = null;\n    private CountDownLatch countdownLatch = null;\n\n    @Override\n    public void contextInitialized(ServletContextEvent event) {\n        countdownLatch = new CountDownLatch(1);\n        Thread thread = new Thread(new IndexProcessor(countdownLatch));\n        LOGGER.debug(\"Starting thread: \" + thread);\n        thread.start();\n        LOGGER.debug(\"Background process successfully started.\");\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent event) {\n        LOGGER.debug(\"Stopping thread: \" + thread);\n        if (countdownLatch != null) \n        {\n            countdownLatch.countDown();\n        } \n        if (thread != null) {\n            try {\n                thread.join();\n            } catch (InterruptedException e) {\n                LOGGER.error(\"Exception\", e);\n            }\n            LOGGER.debug(\"Thread successfully stopped.\");\n        } \n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1322191,"reputation":11583,"user_id":1267768,"accept_rate":83,"display_name":"Matt"},"down_vote_count":2,"up_vote_count":341,"is_accepted":false,"score":339,"last_activity_date":1475491243,"creation_date":1339259248,"answer_id":10962613,"question_id":10961714,"body_markdown":"Using `Thread.interrupt()` is a perfectly acceptable way of doing this. In fact, it&#39;s probably preferrable to a flag as suggested above.  The reason being that if you&#39;re in an interruptable blocking call (like `Thread.sleep` or using java.nio Channel operations), you&#39;ll actually be able to break out of those right away.\r\n\r\nIf you use a flag, you have to wait for the blocking operation to finish and then you can check your flag.  In some cases you have to do this anyway, such as using standard `InputStream`/`OutputStream` which are not interruptable.\r\n\r\nIn that case, when a thread is interrupted, it will not interrupt the IO, however, you can easily do this routinely in your code (and you should do this at strategic points where you can safely stop and cleanup)\r\n\r\n    if (Thread.currentThread().isInterrupted()) {\r\n      // cleanup and stop execution\r\n      // for example a break in a loop\r\n    }\r\n\r\nLike I said, the main advantage to `Thread.interrupt()` is that you can immediately break out of interruptable calls, which you can&#39;t do with the flag approach.","title":"How to properly stop the Thread in Java?","body":"<p>Using <code>Thread.interrupt()</code> is a perfectly acceptable way of doing this. In fact, it's probably preferrable to a flag as suggested above.  The reason being that if you're in an interruptable blocking call (like <code>Thread.sleep</code> or using java.nio Channel operations), you'll actually be able to break out of those right away.</p>\n\n<p>If you use a flag, you have to wait for the blocking operation to finish and then you can check your flag.  In some cases you have to do this anyway, such as using standard <code>InputStream</code>/<code>OutputStream</code> which are not interruptable.</p>\n\n<p>In that case, when a thread is interrupted, it will not interrupt the IO, however, you can easily do this routinely in your code (and you should do this at strategic points where you can safely stop and cleanup)</p>\n\n<pre><code>if (Thread.currentThread().isInterrupted()) {\n  // cleanup and stop execution\n  // for example a break in a loop\n}\n</code></pre>\n\n<p>Like I said, the main advantage to <code>Thread.interrupt()</code> is that you can immediately break out of interruptable calls, which you can't do with the flag approach.</p>\n"},{"tags":[],"owner":{"account_id":3926578,"reputation":351,"user_id":3246818,"display_name":"hamsterofdark"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1466326585,"creation_date":1429739069,"answer_id":29809440,"question_id":10961714,"body_markdown":"Simple answer:\r\nYou can stop a thread INTERNALLY in one of two common ways:\r\n\r\n - The run method hits a return subroutine.\r\n - Run method finishes, and returns implicitly.\r\n\r\nYou can also stop threads EXTERNALLY:\r\n\r\n - Call `system.exit` (this kills your entire process)\r\n - Call the thread object&#39;s `interrupt()` method *\r\n - See if the thread has an implemented method that sounds like it would work (like `kill()` or `stop()`)\r\n\r\n*: The expectation is that this is supposed to stop a thread.  However, what the thread actually does when this happens is entirely up to what the developer wrote when they created the thread implementation.\r\n\r\nA common pattern you see with run method implementations is a `while(boolean){}`, where the boolean is typically something named `isRunning`, it&#39;s a member variable of its thread class, it&#39;s volatile, and typically accessible by other threads by a setter method of sorts, e.g. `kill() { isRunnable=false; }`. These subroutines are nice because they allow the thread to release any resources it holds before terminating.","title":"How to properly stop the Thread in Java?","body":"<p>Simple answer:\nYou can stop a thread INTERNALLY in one of two common ways:</p>\n\n<ul>\n<li>The run method hits a return subroutine.</li>\n<li>Run method finishes, and returns implicitly.</li>\n</ul>\n\n<p>You can also stop threads EXTERNALLY:</p>\n\n<ul>\n<li>Call <code>system.exit</code> (this kills your entire process)</li>\n<li>Call the thread object's <code>interrupt()</code> method *</li>\n<li>See if the thread has an implemented method that sounds like it would work (like <code>kill()</code> or <code>stop()</code>)</li>\n</ul>\n\n<p>*: The expectation is that this is supposed to stop a thread.  However, what the thread actually does when this happens is entirely up to what the developer wrote when they created the thread implementation.</p>\n\n<p>A common pattern you see with run method implementations is a <code>while(boolean){}</code>, where the boolean is typically something named <code>isRunning</code>, it's a member variable of its thread class, it's volatile, and typically accessible by other threads by a setter method of sorts, e.g. <code>kill() { isRunnable=false; }</code>. These subroutines are nice because they allow the thread to release any resources it holds before terminating.</p>\n"},{"tags":[],"owner":{"account_id":2666287,"reputation":39,"user_id":2304660,"display_name":"Feng"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1439326986,"creation_date":1439326986,"answer_id":31951888,"question_id":10961714,"body_markdown":"Some supplementary info.\r\nBoth flag and interrupt are suggested in the Java doc. \r\n\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private volatile Thread blinker;\r\n\r\n    public void stop() {\r\n        blinker = null;\r\n    }\r\n\r\n    public void run() {\r\n        Thread thisThread = Thread.currentThread();\r\n        while (blinker == thisThread) {\r\n            try {\r\n                Thread.sleep(interval);\r\n            } catch (InterruptedException e){\r\n            }\r\n            repaint();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n  \r\n\r\n\r\nFor a thread that waits for long periods (e.g., for input), use `Thread.interrupt`  \r\n\r\n&lt;!-- language: lang-java --&gt;\r\n     \r\n    public void stop() {\r\n         Thread moribund = waiter;\r\n          waiter = null;\r\n          moribund.interrupt();\r\n     }\r\n\r\n","title":"How to properly stop the Thread in Java?","body":"<p>Some supplementary info.\nBoth flag and interrupt are suggested in the Java doc. </p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html\" rel=\"nofollow\">https://docs.oracle.com/javase/8/docs/technotes/guides/concurrency/threadPrimitiveDeprecation.html</a></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private volatile Thread blinker;\n\npublic void stop() {\n    blinker = null;\n}\n\npublic void run() {\n    Thread thisThread = Thread.currentThread();\n    while (blinker == thisThread) {\n        try {\n            Thread.sleep(interval);\n        } catch (InterruptedException e){\n        }\n        repaint();\n    }\n}\n</code></pre>\n\n<p>For a thread that waits for long periods (e.g., for input), use <code>Thread.interrupt</code>  </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void stop() {\n     Thread moribund = waiter;\n      waiter = null;\n      moribund.interrupt();\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11257334,"reputation":73,"user_id":8256650,"display_name":"Mindborg"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1499424149,"creation_date":1499424149,"answer_id":44968798,"question_id":10961714,"body_markdown":"I didn&#39;t get the interrupt to work in Android, so I used this method, works perfectly:\r\n\r\n    boolean shouldCheckUpdates = true;\r\n\r\n    private void startupCheckForUpdatesEveryFewSeconds() {\r\n        threadCheckChat = new Thread(new CheckUpdates());\r\n        threadCheckChat.start();\r\n    }\r\n\r\n    private class CheckUpdates implements Runnable{\r\n        public void run() {\r\n            while (shouldCheckUpdates){\r\n                System.out.println(&quot;Do your thing here&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n     public void stop(){\r\n            shouldCheckUpdates = false;\r\n     }\r\n\r\n","title":"How to properly stop the Thread in Java?","body":"<p>I didn't get the interrupt to work in Android, so I used this method, works perfectly:</p>\n\n<pre><code>boolean shouldCheckUpdates = true;\n\nprivate void startupCheckForUpdatesEveryFewSeconds() {\n    threadCheckChat = new Thread(new CheckUpdates());\n    threadCheckChat.start();\n}\n\nprivate class CheckUpdates implements Runnable{\n    public void run() {\n        while (shouldCheckUpdates){\n            System.out.println(\"Do your thing here\");\n        }\n    }\n}\n\n public void stop(){\n        shouldCheckUpdates = false;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4013696,"reputation":3065,"user_id":3306437,"display_name":"Lovekush Vishwakarma"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1543314713,"creation_date":1543314713,"answer_id":53497677,"question_id":10961714,"body_markdown":"Typically, a thread is terminated when it&#39;s interrupted. So, why not use the native boolean? Try isInterrupted():\r\n\r\n\r\n    Thread t = new Thread(new Runnable(){\r\n            @Override\r\n            public void run() {\r\n                while(!Thread.currentThread().isInterrupted()){\r\n                    // do stuff         \r\n                }   \r\n            }});\r\n        t.start();\r\n    \r\n        // Sleep a second, and then interrupt\r\n        try {\r\n            Thread.sleep(1000);\r\n        } catch (InterruptedException e) {}\r\n        t.interrupt();\r\n\r\nref- https://stackoverflow.com/questions/5915156/how-can-i-kill-a-thread-without-using-stop/5915430?noredirect=1#comment93838957_5915430","title":"How to properly stop the Thread in Java?","body":"<p>Typically, a thread is terminated when it's interrupted. So, why not use the native boolean? Try isInterrupted():</p>\n\n<pre><code>Thread t = new Thread(new Runnable(){\n        @Override\n        public void run() {\n            while(!Thread.currentThread().isInterrupted()){\n                // do stuff         \n            }   \n        }});\n    t.start();\n\n    // Sleep a second, and then interrupt\n    try {\n        Thread.sleep(1000);\n    } catch (InterruptedException e) {}\n    t.interrupt();\n</code></pre>\n\n<p>ref- <a href=\"https://stackoverflow.com/questions/5915156/how-can-i-kill-a-thread-without-using-stop/5915430?noredirect=1#comment93838957_5915430\">How can I kill a thread? without using stop();</a></p>\n"},{"tags":[],"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668339784,"creation_date":1668294525,"answer_id":74417252,"question_id":10961714,"body_markdown":"Brian Goetz in his book suggests to use `Thread.currentThread().isInterrupted()` flag and `interrupt()` method for cancellation.\r\n\r\nBlocking library methods like `sleep()` and `wait()` try to detect when a thread has been interrupted and return early. They respond to interruption by clearing the interrupted status and throwing `InterruptedException`, indicating that the blocking operation completed early due to interruption. \r\n\r\nThe JVM makes no guarantees on how quickly a blocking method will detect interruption, but in practice this happens reasonably quickly.\r\n\r\n    class PrimeProducer extends Thread {\r\n        private final BlockingQueue&lt;BigInteger&gt; queue;\r\n    \r\n        PrimeProducer(BlockingQueue&lt;BigInteger&gt; queue) {\r\n            this.queue = queue;\r\n        }\r\n    \r\n        public void run() {\r\n            try {\r\n                BigInteger p = BigInteger.ONE;\r\n                while (!Thread.currentThread().isInterrupted()) {\r\n                    queue.put(p = p.nextProbablePrime()); // blocking operation\r\n                }\r\n            } catch (InterruptedException consumed) {\r\n                // allow thread to exit\r\n            }\r\n            // any code here will still be executed\r\n        }\r\n    \r\n        public void cancel() {\r\n            interrupt();\r\n        }\r\n    }\r\n\r\n**If you put any code after catch block, it will still be executed as we swallow `InterruptedException` to exit from `run()` gracefully**.\r\n\r\nJust a couple words on how `interrupt()` works.\r\n \r\nIf `interrupt` is called on non-blocked thread, `interrupt()` will not cause `InterruptedException` inside `run()` but will just change flag `isInterrupted` to `true` and thread will continue its work until it reaches `Thread.currentThread().isInterrupted()` check and exit from `run()`.\r\n\r\nIf `interrupt` is called on blocked thread (`sleep()` or `wait()`was called, in our case it&#39;s `put()` that might block a thread) then `isInterrupted` will be set to `false` and `InterruptedException` will be thrown inside `put()`.\r\n\r\n\r\n\r\n","title":"How to properly stop the Thread in Java?","body":"<p>Brian Goetz in his book suggests to use <code>Thread.currentThread().isInterrupted()</code> flag and <code>interrupt()</code> method for cancellation.</p>\n<p>Blocking library methods like <code>sleep()</code> and <code>wait()</code> try to detect when a thread has been interrupted and return early. They respond to interruption by clearing the interrupted status and throwing <code>InterruptedException</code>, indicating that the blocking operation completed early due to interruption.</p>\n<p>The JVM makes no guarantees on how quickly a blocking method will detect interruption, but in practice this happens reasonably quickly.</p>\n<pre><code>class PrimeProducer extends Thread {\n    private final BlockingQueue&lt;BigInteger&gt; queue;\n\n    PrimeProducer(BlockingQueue&lt;BigInteger&gt; queue) {\n        this.queue = queue;\n    }\n\n    public void run() {\n        try {\n            BigInteger p = BigInteger.ONE;\n            while (!Thread.currentThread().isInterrupted()) {\n                queue.put(p = p.nextProbablePrime()); // blocking operation\n            }\n        } catch (InterruptedException consumed) {\n            // allow thread to exit\n        }\n        // any code here will still be executed\n    }\n\n    public void cancel() {\n        interrupt();\n    }\n}\n</code></pre>\n<p><strong>If you put any code after catch block, it will still be executed as we swallow <code>InterruptedException</code> to exit from <code>run()</code> gracefully</strong>.</p>\n<p>Just a couple words on how <code>interrupt()</code> works.</p>\n<p>If <code>interrupt</code> is called on non-blocked thread, <code>interrupt()</code> will not cause <code>InterruptedException</code> inside <code>run()</code> but will just change flag <code>isInterrupted</code> to <code>true</code> and thread will continue its work until it reaches <code>Thread.currentThread().isInterrupted()</code> check and exit from <code>run()</code>.</p>\n<p>If <code>interrupt</code> is called on blocked thread (<code>sleep()</code> or <code>wait()</code>was called, in our case it's <code>put()</code> that might block a thread) then <code>isInterrupted</code> will be set to <code>false</code> and <code>InterruptedException</code> will be thrown inside <code>put()</code>.</p>\n"}],"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":679131,"favorite_count":0,"down_vote_count":0,"up_vote_count":317,"accepted_answer_id":10961760,"answer_count":9,"score":317,"last_activity_date":1668339784,"creation_date":1339251306,"question_id":10961714,"body_markdown":"I need a solution to properly stop the thread in Java.\r\n\r\nI have `IndexProcessor`class which implements the Runnable interface:\r\n\r\n    public class IndexProcessor implements Runnable {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\r\n    \r\n        @Override\r\n        public void run() {\r\n            boolean run = true;\r\n            while (run) {\r\n                try {\r\n                    LOGGER.debug(&quot;Sleeping...&quot;);\r\n                    Thread.sleep((long) 15000);\r\n    \r\n                    LOGGER.debug(&quot;Processing&quot;);\r\n                } catch (InterruptedException e) {\r\n                    LOGGER.error(&quot;Exception&quot;, e);\r\n                    run = false;\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nAnd I have `ServletContextListener` class which starts and stops the thread:\r\n\r\n    public class SearchEngineContextListener implements ServletContextListener {\r\n    \r\n        private static final Logger LOGGER = LoggerFactory.getLogger(SearchEngineContextListener.class);\r\n    \r\n        private Thread thread = null;\r\n    \r\n        @Override\r\n        public void contextInitialized(ServletContextEvent event) {\r\n            thread = new Thread(new IndexProcessor());\r\n            LOGGER.debug(&quot;Starting thread: &quot; + thread);\r\n            thread.start();\r\n            LOGGER.debug(&quot;Background process successfully started.&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent event) {\r\n            LOGGER.debug(&quot;Stopping thread: &quot; + thread);\r\n            if (thread != null) {\r\n                thread.interrupt();\r\n                LOGGER.debug(&quot;Thread successfully stopped.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nBut when I shutdown tomcat, I get the exception in my IndexProcessor class:\r\n\r\n    2012-06-09 17:04:50,671 [Thread-3] ERROR  IndexProcessor Exception\r\n    java.lang.InterruptedException: sleep interrupted\r\n    \tat java.lang.Thread.sleep(Native Method)\r\n    \tat lt.ccl.searchengine.processor.IndexProcessor.run(IndexProcessor.java:22)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n\r\nI am using JDK 1.6. So the question is:\r\n\r\nHow can I stop the thread and not throw any exceptions? \r\n\r\n**P.S.** I do not want to use `.stop();` method because it is deprecated.","title":"How to properly stop the Thread in Java?","body":"<p>I need a solution to properly stop the thread in Java.</p>\n\n<p>I have <code>IndexProcessor</code>class which implements the Runnable interface:</p>\n\n<pre><code>public class IndexProcessor implements Runnable {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(IndexProcessor.class);\n\n    @Override\n    public void run() {\n        boolean run = true;\n        while (run) {\n            try {\n                LOGGER.debug(\"Sleeping...\");\n                Thread.sleep((long) 15000);\n\n                LOGGER.debug(\"Processing\");\n            } catch (InterruptedException e) {\n                LOGGER.error(\"Exception\", e);\n                run = false;\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>And I have <code>ServletContextListener</code> class which starts and stops the thread:</p>\n\n<pre><code>public class SearchEngineContextListener implements ServletContextListener {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(SearchEngineContextListener.class);\n\n    private Thread thread = null;\n\n    @Override\n    public void contextInitialized(ServletContextEvent event) {\n        thread = new Thread(new IndexProcessor());\n        LOGGER.debug(\"Starting thread: \" + thread);\n        thread.start();\n        LOGGER.debug(\"Background process successfully started.\");\n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent event) {\n        LOGGER.debug(\"Stopping thread: \" + thread);\n        if (thread != null) {\n            thread.interrupt();\n            LOGGER.debug(\"Thread successfully stopped.\");\n        }\n    }\n}\n</code></pre>\n\n<p>But when I shutdown tomcat, I get the exception in my IndexProcessor class:</p>\n\n<pre><code>2012-06-09 17:04:50,671 [Thread-3] ERROR  IndexProcessor Exception\njava.lang.InterruptedException: sleep interrupted\n    at java.lang.Thread.sleep(Native Method)\n    at lt.ccl.searchengine.processor.IndexProcessor.run(IndexProcessor.java:22)\n    at java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>I am using JDK 1.6. So the question is:</p>\n\n<p>How can I stop the thread and not throw any exceptions? </p>\n\n<p><strong>P.S.</strong> I do not want to use <code>.stop();</code> method because it is deprecated.</p>\n"},{"tags":["java","date-format"],"comments":[{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":1,"creation_date":1668198213,"post_id":74407477,"comment_id":131355694,"body_markdown":"Why would you need to know this? If it’s not in the documentation it’s an implementation detail. Anecdotally I think it’s unlikely you’ll see the change your expecting - it’s more around days out of range etc.","body":"Why would you need to know this? If it’s not in the documentation it’s an implementation detail. Anecdotally I think it’s unlikely you’ll see the change your expecting - it’s more around days out of range etc."},{"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"score":0,"creation_date":1668201731,"post_id":74407477,"comment_id":131356512,"body_markdown":"@jakg I have a webapp running since about 10 years and in the last days I received a few `0022-mm-dd` dates. Looks like `22-01-01`, for instance, is interpreted as `0022-01-01`.  Nothing in the base code seems to have changed so I&#39;m wondering if the heuristic parser is now working differently.","body":"@jakg I have a webapp running since about 10 years and in the last days I received a few <code>0022-mm-dd</code> dates. Looks like <code>22-01-01</code>, for instance, is interpreted as <code>0022-01-01</code>.  Nothing in the base code seems to have changed so I&#39;m wondering if the heuristic parser is now working differently."},{"owner":{"account_id":3736112,"reputation":988,"user_id":3107019,"display_name":"JackPGreen"},"score":0,"creation_date":1668202801,"post_id":74407477,"comment_id":131356763,"body_markdown":"I&#39;m assuming you&#39;ve updated the JRE in the past 10 years? That&#39;s probably much more likely to be where the variation is coming from.","body":"I&#39;m assuming you&#39;ve updated the JRE in the past 10 years? That&#39;s probably much more likely to be where the variation is coming from."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1668287282,"post_id":74407477,"comment_id":131370147,"body_markdown":"Lenient or not, parsing behavior is unlikely to change unless the timezone rules change for the timezone used by your SimpleDateFormat.","body":"Lenient or not, parsing behavior is unlikely to change unless the timezone rules change for the timezone used by your SimpleDateFormat."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668338646,"post_id":74407477,"comment_id":131376373,"body_markdown":"If and when you can, upgrade your code to [java.time, the modern Java date and time API.](https://docs.oracle.com/javase/tutorial/datetime/index.html) `DateFormat` and its concrete subclass `SimpleDateFormat` were always troublesome, and poor and insufficient documentation is a minor one of their problems. That said, I am convinced that using pattern `yyyy-MM-dd` `SImpleDateFormat` has always parsed `22-01-01` into 0022-01-01 (never 1922-01-01 nor 2022-01-01). May it be that the input you are getting has changed?","body":"If and when you can, upgrade your code to <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API.</a> <code>DateFormat</code> and its concrete subclass <code>SimpleDateFormat</code> were always troublesome, and poor and insufficient documentation is a minor one of their problems. That said, I am convinced that using pattern <code>yyyy-MM-dd</code> <code>SImpleDateFormat</code> has always parsed <code>22-01-01</code> into 0022-01-01 (never 1922-01-01 nor 2022-01-01). May it be that the input you are getting has changed?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668338826,"post_id":74407477,"comment_id":131376403,"body_markdown":"A third possible explanation is that you are using one of `DateFormat`’s localized formats, and that the localized format has changed in a recent Java version. Which is your Java version and which is your locale or the locale you are using for parsing? Also please show us your code -- not the full code, but a [mre].","body":"A third possible explanation is that you are using one of <code>DateFormat</code>’s localized formats, and that the localized format has changed in a recent Java version. Which is your Java version and which is your locale or the locale you are using for parsing? Also please show us your code -- not the full code, but a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1668339089,"post_id":74407477,"comment_id":131376444,"body_markdown":"Leniency in this case is not about format as the docs would have us believe, but about interpreting out-of-range values so that when there are 30 days in November, November 31 is interpreted as December 1. Theoretically they could change the interpretation in a new Java version, but like the others I seriously doubt that this has happened or ever will. Also becuase `DateFormat` and `SimpleDateFormat` are long outdated, so there would really be no good reason to put any effort into their maintenance with the risk of breaking old code, which is the only place where they are reasonably used.","body":"Leniency in this case is not about format as the docs would have us believe, but about interpreting out-of-range values so that when there are 30 days in November, November 31 is interpreted as December 1. Theoretically they could change the interpretation in a new Java version, but like the others I seriously doubt that this has happened or ever will. Also becuase <code>DateFormat</code> and <code>SimpleDateFormat</code> are long outdated, so there would really be no good reason to put any effort into their maintenance with the risk of breaking old code, which is the only place where they are reasonably used."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1668339522,"post_id":74407477,"comment_id":131376528,"body_markdown":"@OleV.V. Well, for that I&#39;d compare the source code; it&#39;s available after all. They could have made it a stub to the new API, although I seriously doubt that.","body":"@OleV.V. Well, for that I&#39;d compare the source code; it&#39;s available after all. They could have made it a stub to the new API, although I seriously doubt that."}],"owner":{"account_id":2247658,"reputation":3578,"user_id":1980659,"accept_rate":73,"display_name":"ForguesR"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668339222,"creation_date":1668196224,"question_id":74407477,"body_markdown":"The [javadoc][1] of `DateFormat` states that with lenient `true` \r\n\r\n&gt; the parser may use heuristics to interpret inputs that do not preci$sely match this object&#39;s format...\r\n\r\nMy question is how to know the impact of `lenient=true` on common date manipulation classes like, for instance, `SimpleDateFormat`?  \r\n\r\nMore precisely I would to know if those heuristics can change their behavior over time with the same date input. For instance, if a date xyz can be parsed/guessed one way in 2019 and differently in 2020.\r\n\r\nI have a web app running since about 10 years and in the last days I received a few `0022-mm-dd` dates. Looks like `22-01-01`, for instance, is interpreted as `0022-01-01`. Nothing in the base code seems to have changed so I&#39;m wondering if the heuristic parser is now working differently.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/javatext/DateFormat.html#setLenient%28boolean%29\r\n\r\n","title":"Impact of lenient true","body":"<p>The <a href=\"http://download.oracle.com/javase/6/docs/api/javatext/DateFormat.html#setLenient%28boolean%29\" rel=\"nofollow noreferrer\">javadoc</a> of <code>DateFormat</code> states that with lenient <code>true</code></p>\n<blockquote>\n<p>the parser may use heuristics to interpret inputs that do not preci$sely match this object's format...</p>\n</blockquote>\n<p>My question is how to know the impact of <code>lenient=true</code> on common date manipulation classes like, for instance, <code>SimpleDateFormat</code>?</p>\n<p>More precisely I would to know if those heuristics can change their behavior over time with the same date input. For instance, if a date xyz can be parsed/guessed one way in 2019 and differently in 2020.</p>\n<p>I have a web app running since about 10 years and in the last days I received a few <code>0022-mm-dd</code> dates. Looks like <code>22-01-01</code>, for instance, is interpreted as <code>0022-01-01</code>. Nothing in the base code seems to have changed so I'm wondering if the heuristic parser is now working differently.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":20150877,"reputation":73,"user_id":14778218,"display_name":"Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668339110,"creation_date":1668339110,"answer_id":74420526,"question_id":74420341,"body_markdown":"You are changing image on list-item when it is clicked. When you scroll down, this list-item get refreshed and thus loose the changed image and loads the default image that you are setting in OnBindViewHolder() function in adapter class.\r\nLoad the image according to selection status using if-else, like this :\r\n\r\n````\r\n\t@Override  \r\n    public void onBindViewHolder(ViewHolder holder, int position) {\r\n\r\n        if (la.get(position).Select.equals(&quot;N&quot;)){\r\n            // set not-selected image\r\n        else{\r\n            // set selected image\r\n        }\r\n\r\n        // your onclick\r\n        holder.imageClick.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String keyJoeur = &quot;l&quot; + la.get(position).Licence;\r\n                if (la.get(position).Select.equals(&quot;N&quot;)){\r\n                    mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;Y&quot;);\r\n                    holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valoknew));\r\n                    la.get(position).Select = &quot;Y&quot;;}\r\n                else{\r\n                    mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;N&quot;);\r\n                    holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valnoknew));\r\n                    la.get(position).Select = &quot;N&quot;;\r\n                }\r\n            }\r\n        }  \r\n        \r\n    }  \r\n\r\n","title":"Pb with recyclerView","body":"<p>You are changing image on list-item when it is clicked. When you scroll down, this list-item get refreshed and thus loose the changed image and loads the default image that you are setting in OnBindViewHolder() function in adapter class.\nLoad the image according to selection status using if-else, like this :</p>\n<pre><code>    @Override  \n    public void onBindViewHolder(ViewHolder holder, int position) {\n\n        if (la.get(position).Select.equals(&quot;N&quot;)){\n            // set not-selected image\n        else{\n            // set selected image\n        }\n\n        // your onclick\n        holder.imageClick.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                String keyJoeur = &quot;l&quot; + la.get(position).Licence;\n                if (la.get(position).Select.equals(&quot;N&quot;)){\n                    mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;Y&quot;);\n                    holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valoknew));\n                    la.get(position).Select = &quot;Y&quot;;}\n                else{\n                    mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;N&quot;);\n                    holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valnoknew));\n                    la.get(position).Select = &quot;N&quot;;\n                }\n            }\n        }  \n        \n    }  \n\n</code></pre>\n"}],"owner":{"account_id":19939990,"reputation":31,"user_id":14611913,"display_name":"Georges GRESSIEN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668339110,"creation_date":1668337416,"question_id":74420341,"body_markdown":"I&#39;ve a problem with a recyclerView.I&#39;ve a selection of players (arraylist), when you click on the image it changes the status of the player (selected or not selected). This is correct in Firebase, but when I scroll down and up the screen, the image is not good, I lost the right image.\r\nI tried to add notifyDataSetChange but no result\r\nIs there a simple solution  \r\nThank you very much for your help\r\nBest regards\r\nGeorges\r\n\r\n     holder.imageClick.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                String keyJoeur = &quot;l&quot; + la.get(position).Licence;\r\n            if (la.get(position).Select.equals(&quot;N&quot;)){\r\n                mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;Y&quot;);\r\n                holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valoknew));\r\n                la.get(position).Select = &quot;Y&quot;;}\r\n            else{\r\n                mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;N&quot;);\r\n                holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valnoknew));\r\n                la.get(position).Select = &quot;N&quot;;}}\r\n        }[enter image description here][1]\r\n\r\n  \r\n\r\n","title":"Pb with recyclerView","body":"<p>I've a problem with a recyclerView.I've a selection of players (arraylist), when you click on the image it changes the status of the player (selected or not selected). This is correct in Firebase, but when I scroll down and up the screen, the image is not good, I lost the right image.\nI tried to add notifyDataSetChange but no result\nIs there a simple solution<br />\nThank you very much for your help\nBest regards\nGeorges</p>\n<pre><code> holder.imageClick.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View view) {\n            String keyJoeur = &quot;l&quot; + la.get(position).Licence;\n        if (la.get(position).Select.equals(&quot;N&quot;)){\n            mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;Y&quot;);\n            holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valoknew));\n            la.get(position).Select = &quot;Y&quot;;}\n        else{\n            mDatabase.child(&quot;Joueurs&quot;).child(keyJoeur).child(&quot;Selected&quot;).setValue(&quot;N&quot;);\n            holder.imageClick.setImageDrawable(holder.itemView.getContext().getDrawable(R.drawable.valnoknew));\n            la.get(position).Select = &quot;N&quot;;}}\n    }[enter image description here][1]\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1668337634,"post_id":74420319,"comment_id":131376241,"body_markdown":"Please rephrase your question and show us what the expected output should be here.","body":"Please rephrase your question and show us what the expected output should be here."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668339063,"creation_date":1668339063,"answer_id":74420521,"question_id":74420319,"body_markdown":"Split before `+` or `-`:\r\n\r\n    String[] parts = str.split(&quot;(?=[+-])&quot;);\r\n\r\n---\r\n\r\nTest code:\r\n\r\n```java\r\nString str = &quot;2d6+13+3d10-1d4+5+1d8-6&quot;;\r\nString[] parts = str.split(&quot;(?=[+-])&quot;);\r\nSystem.out.println(Arrays.toString(parts));\r\n```\r\n\r\nOutput:\r\n\r\n    [2d6, +13, +3d10, -1d4, +5, +1d8, -6]\r\n","title":"Java; Splitting a string into segments","body":"<p>Split before <code>+</code> or <code>-</code>:</p>\n<pre><code>String[] parts = str.split(&quot;(?=[+-])&quot;);\n</code></pre>\n<hr />\n<p>Test code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String str = &quot;2d6+13+3d10-1d4+5+1d8-6&quot;;\nString[] parts = str.split(&quot;(?=[+-])&quot;);\nSystem.out.println(Arrays.toString(parts));\n</code></pre>\n<p>Output:</p>\n<pre><code>[2d6, +13, +3d10, -1d4, +5, +1d8, -6]\n</code></pre>\n"}],"owner":{"account_id":26917274,"reputation":3,"user_id":20491861,"display_name":"VoiceFromAnotherWorlds"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74420521,"answer_count":1,"score":-1,"last_activity_date":1668339063,"creation_date":1668337267,"question_id":74420319,"body_markdown":"(Warning - made with Google Translate)\r\n\r\nI am learning to use regular expressions while creating a simple program for myself that would take as input a string consisting of formulas for various dice rolls and modifiers to them. Example:\r\n\r\n`2d6+13+3d10-1d4+5+1d8-6`\r\n\r\nI have a regular expression to search for segments like &quot;+-XdY&quot;:\r\n\r\n`(^|[\\\\+-])[1-9]\\\\d*d[1-9]\\\\d*`\r\n\r\nI want to cut such segments from a string, store them as an array for further processing, and at the same time remove them from the string\r\n \r\n`Input - string &quot;2d6+13+3d10-1d4+5+1d8-6&quot;`\r\n\r\n`Output - string &quot;+13+5-6&quot; (without any +-XdY) and array of strings {&quot;2d6&quot;, &quot;+3d10&quot;, &quot;-1d4&quot;, &quot;+1d8&quot;} (all of +-XdY)`\r\n\r\nso after that it can be repeated with modifiers (using another regex)\r\n\r\n`Input - string &quot;+13+5-6&quot;`\r\n\r\n`Output - string &quot;&quot; and array of strings {&quot;+13&quot;, &quot;+5&quot;, &quot;-6&quot;}`\r\n\r\nand, by the remaining string at the end, understand whether the data was entered correctly or not (empty = good).\r\n\r\nThe problem is that I simply cannot find a suitable tool to cut certain fragments from the string and save them as an array.\r\n\r\nCan you help me? Or perhaps there is a simpler algorithm for this task?\r\n\r\nThanks for your help in advance!","title":"Java; Splitting a string into segments","body":"<p>(Warning - made with Google Translate)</p>\n<p>I am learning to use regular expressions while creating a simple program for myself that would take as input a string consisting of formulas for various dice rolls and modifiers to them. Example:</p>\n<p><code>2d6+13+3d10-1d4+5+1d8-6</code></p>\n<p>I have a regular expression to search for segments like &quot;+-XdY&quot;:</p>\n<p><code>(^|[\\\\+-])[1-9]\\\\d*d[1-9]\\\\d*</code></p>\n<p>I want to cut such segments from a string, store them as an array for further processing, and at the same time remove them from the string</p>\n<p><code>Input - string &quot;2d6+13+3d10-1d4+5+1d8-6&quot;</code></p>\n<p><code>Output - string &quot;+13+5-6&quot; (without any +-XdY) and array of strings {&quot;2d6&quot;, &quot;+3d10&quot;, &quot;-1d4&quot;, &quot;+1d8&quot;} (all of +-XdY)</code></p>\n<p>so after that it can be repeated with modifiers (using another regex)</p>\n<p><code>Input - string &quot;+13+5-6&quot;</code></p>\n<p><code>Output - string &quot;&quot; and array of strings {&quot;+13&quot;, &quot;+5&quot;, &quot;-6&quot;}</code></p>\n<p>and, by the remaining string at the end, understand whether the data was entered correctly or not (empty = good).</p>\n<p>The problem is that I simply cannot find a suitable tool to cut certain fragments from the string and save them as an array.</p>\n<p>Can you help me? Or perhaps there is a simpler algorithm for this task?</p>\n<p>Thanks for your help in advance!</p>\n"},{"tags":["java","xml","sign","xml-signature","xml-dsig"],"owner":{"account_id":4637453,"reputation":1139,"user_id":3758289,"accept_rate":40,"display_name":"Val Bonn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668338304,"creation_date":1632762152,"question_id":69350583,"body_markdown":"I need to generate a &quot;partial XML Signature&quot; message. \r\n\r\nTo summarize, when we need to sign one kind of XML document, we create a digested &quot;partial XML Signature&quot; message, this &quot;partial XML Signature&quot; message is forwarded (with some credentials) to another service which is in charge of sign it and return it, and finally we extract this signature to inject it in the origin message.\r\n\r\nTypically, the &quot;partial XML Signature&quot; message looks like that: \r\n\r\n    &lt;soap:Envelope xmlns:soap =&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n    &lt;soap:Body&gt;\r\n      &lt;W3CComputeSignature xmlns=&quot;urn:swift:amh:xsd:signature&quot;&gt;\r\n        &lt;user&gt;\r\n          &lt;name&gt; sign_ws_user &lt;/name&gt;\r\n          &lt;password&gt;P@ssword01&lt;/ password&gt;\r\n        &lt;/user&gt;\r\n      &lt; .... /&gt;\r\n      &lt;signature&gt;&lt;![CDATA[&lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot; Id=&quot;_wwwwww&quot;&gt;\r\n    \r\n    &lt;ds:Signature xmlns:ds =&quot;http://www.w3.org/2000/09/xmldsig#&quot; Id=&quot;_xxxxxx&quot;&gt;\r\n      &lt;ds:SignedInfo&gt;\r\n        &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml exc c14n#&quot;/&gt;\r\n        &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig more#rsa sha256&quot;/&gt;\r\n        &lt;ds:Reference URI=&quot;&quot;&gt;\r\n          &lt;ds:Transforms&gt;\r\n            &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped signature&quot;/&gt;\r\n            &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml exc c14n#&quot;/&gt;\r\n          &lt;/ds:Transforms&gt;\r\n          &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\r\n          &lt;ds:DigestValue &gt; &lt;/ds:DigestValue&gt;\r\n        &lt;/ds:Reference&gt;\r\n        &lt;ds:Reference&gt;\r\n          &lt;ds:Transforms&gt;\r\n            &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml exc c14n#&quot;/&gt;\r\n          &lt;/ds:Transforms&gt;\r\n          &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\r\n          &lt;ds:DigestValue &gt; &lt;/ds:DigestValue&gt;\r\n        &lt;/ds:Reference&gt;\r\n      &lt;/ds:SignedInfo&gt;\r\n    &lt;/ds:Signature&gt;\r\n\r\n    ]]&gt;&lt;/signature&gt;\r\n    &lt;/W3CComputeSignature&gt;\r\n    &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\nI have some problems to obtain this ``&lt;ds:SignedInfo&gt;`` and generate the file.  I followed some examples found on Oracle website, like https://www.oracle.com/technical-resources/articles/java/dig-signature-api.html \r\n\r\nBased on this example, I am able to build the ``SignedInfo`` object with the ``References``, ``Transforms`` and ``Digest`` I need. But I do not understand how to adapt the code after this step.\r\n\r\nIn Oracle&#39;s webpage, they create the keypairs in order to effectively sign the document. In my case I do not need to sign the document ! My idea is to keep this ``SignedInfo`` object and materialize it in a ``&lt;ds:SignedInfo&gt;`` tag I would wrap in the ``&lt;soap:Envelope&gt;&lt;soap:Body&gt;...&lt;signature&gt; CDATA ``.\r\n\r\nBut I found no suitable method on ``SignedInfo`` to help me. I tried to work with ``DOMSignedInfo`` but I have a classcast Exception :\r\n\r\n    XMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\r\n    SignedInfo si = fac.newSignedInfo(.......);\r\n    DOMSignedInfo domSi = (DOMSignedInfo) si;\r\n    \r\n    --&gt;  java.lang.ClassCastException: org.jcp.xml.dsig.internal.dom.DOMSignedInfo cannot be cast to org.apache.jcp.xml.dsig.internal.dom.DOMSignedInfo\r\n\r\nAnd I am unsure what I could do with a ``DOMSignedInfo``. \r\n\r\nAny clues to help me?\r\n\r\n\r\n \r\n","title":"How to generate a &quot;Partial Xml Signature&quot; (ie the content of the SignedInfo tag)?","body":"<p>I need to generate a &quot;partial XML Signature&quot; message.</p>\n<p>To summarize, when we need to sign one kind of XML document, we create a digested &quot;partial XML Signature&quot; message, this &quot;partial XML Signature&quot; message is forwarded (with some credentials) to another service which is in charge of sign it and return it, and finally we extract this signature to inject it in the origin message.</p>\n<p>Typically, the &quot;partial XML Signature&quot; message looks like that:</p>\n<pre><code>&lt;soap:Envelope xmlns:soap =&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n&lt;soap:Body&gt;\n  &lt;W3CComputeSignature xmlns=&quot;urn:swift:amh:xsd:signature&quot;&gt;\n    &lt;user&gt;\n      &lt;name&gt; sign_ws_user &lt;/name&gt;\n      &lt;password&gt;P@ssword01&lt;/ password&gt;\n    &lt;/user&gt;\n  &lt; .... /&gt;\n  &lt;signature&gt;&lt;![CDATA[&lt;ds:Signature xmlns:ds=&quot;http://www.w3.org/2000/09/xmldsig#&quot; Id=&quot;_wwwwww&quot;&gt;\n\n&lt;ds:Signature xmlns:ds =&quot;http://www.w3.org/2000/09/xmldsig#&quot; Id=&quot;_xxxxxx&quot;&gt;\n  &lt;ds:SignedInfo&gt;\n    &lt;ds:CanonicalizationMethod Algorithm=&quot;http://www.w3.org/2001/10/xml exc c14n#&quot;/&gt;\n    &lt;ds:SignatureMethod Algorithm=&quot;http://www.w3.org/2001/04/xmldsig more#rsa sha256&quot;/&gt;\n    &lt;ds:Reference URI=&quot;&quot;&gt;\n      &lt;ds:Transforms&gt;\n        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2000/09/xmldsig#enveloped signature&quot;/&gt;\n        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml exc c14n#&quot;/&gt;\n      &lt;/ds:Transforms&gt;\n      &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\n      &lt;ds:DigestValue &gt; &lt;/ds:DigestValue&gt;\n    &lt;/ds:Reference&gt;\n    &lt;ds:Reference&gt;\n      &lt;ds:Transforms&gt;\n        &lt;ds:Transform Algorithm=&quot;http://www.w3.org/2001/10/xml exc c14n#&quot;/&gt;\n      &lt;/ds:Transforms&gt;\n      &lt;ds:DigestMethod Algorithm=&quot;http://www.w3.org/2001/04/xmlenc#sha256&quot;/&gt;\n      &lt;ds:DigestValue &gt; &lt;/ds:DigestValue&gt;\n    &lt;/ds:Reference&gt;\n  &lt;/ds:SignedInfo&gt;\n&lt;/ds:Signature&gt;\n\n]]&gt;&lt;/signature&gt;\n&lt;/W3CComputeSignature&gt;\n&lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>I have some problems to obtain this <code>&lt;ds:SignedInfo&gt;</code> and generate the file.  I followed some examples found on Oracle website, like <a href=\"https://www.oracle.com/technical-resources/articles/java/dig-signature-api.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/technical-resources/articles/java/dig-signature-api.html</a></p>\n<p>Based on this example, I am able to build the <code>SignedInfo</code> object with the <code>References</code>, <code>Transforms</code> and <code>Digest</code> I need. But I do not understand how to adapt the code after this step.</p>\n<p>In Oracle's webpage, they create the keypairs in order to effectively sign the document. In my case I do not need to sign the document ! My idea is to keep this <code>SignedInfo</code> object and materialize it in a <code>&lt;ds:SignedInfo&gt;</code> tag I would wrap in the <code>&lt;soap:Envelope&gt;&lt;soap:Body&gt;...&lt;signature&gt; CDATA </code>.</p>\n<p>But I found no suitable method on <code>SignedInfo</code> to help me. I tried to work with <code>DOMSignedInfo</code> but I have a classcast Exception :</p>\n<pre><code>XMLSignatureFactory fac = XMLSignatureFactory.getInstance(&quot;DOM&quot;);\nSignedInfo si = fac.newSignedInfo(.......);\nDOMSignedInfo domSi = (DOMSignedInfo) si;\n\n--&gt;  java.lang.ClassCastException: org.jcp.xml.dsig.internal.dom.DOMSignedInfo cannot be cast to org.apache.jcp.xml.dsig.internal.dom.DOMSignedInfo\n</code></pre>\n<p>And I am unsure what I could do with a <code>DOMSignedInfo</code>.</p>\n<p>Any clues to help me?</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":2,"creation_date":1620137643,"post_id":67385105,"comment_id":119108236,"body_markdown":"Looks like you have an old version of Apache Commons Compress on your classpath, can you remove the old one and leave just the one that Apache POI uses?","body":"Looks like you have an old version of Apache Commons Compress on your classpath, can you remove the old one and leave just the one that Apache POI uses?"},{"owner":{"account_id":217530,"reputation":389,"user_id":473376,"accept_rate":67,"display_name":"Sudhakar Singh"},"score":0,"creation_date":1656991112,"post_id":67385105,"comment_id":128697416,"body_markdown":"did we get an answer here ? I am curious as I am also getting a similar error\n- \nInputStream of class class org.apache.commons.compress.archivers.zip.ZipFile$1 is not implementing InputStreamStatistics.\n        at org.drools.decisiontable.DecisionTableProviderImpl.loadFromResource(DecisionTableProviderImpl.java:49)","body":"did we get an answer here ? I am curious as I am also getting a similar error -  InputStream of class class org.apache.commons.compress.archivers.zip.ZipFile$1 is not implementing InputStreamStatistics.         at org.drools.decisiontable.DecisionTableProviderImpl.loadFromR&zwnj;&#8203;esource(DecisionTabl&zwnj;&#8203;eProviderImpl.java:4&zwnj;&#8203;9)"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1656995884,"post_id":67385105,"comment_id":128698078,"body_markdown":"@Sudhakar Singh: I doubt someone will be able to answer this properly as the stacktrace is not complete. The stacktrace tells that **something** tries using the constructor of  `ZipArchiveThresholdInputStream` and hand over an `InputStream`which not implements `InputStreamStatistics`. But the constructor of  `ZipArchiveThresholdInputStream` checks whether  the given `InputStream` is instanceof `InputStreamStatistics` and throws that error if not. So we would need to know **what** tries using the constructor with a wrong `InputStream`.","body":"@Sudhakar Singh: I doubt someone will be able to answer this properly as the stacktrace is not complete. The stacktrace tells that <b>something</b> tries using the constructor of  <code>ZipArchiveThresholdInputStream</code> and hand over an <code>InputStream</code>which not implements <code>InputStreamStatistics</code>. But the constructor of  <code>ZipArchiveThresholdInputStream</code> checks whether  the given <code>InputStream</code> is instanceof <code>InputStreamStatistics</code> and throws that error if not. So we would need to know <b>what</b> tries using the constructor with a wrong <code>InputStream</code>."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1656998938,"post_id":67385105,"comment_id":128698573,"body_markdown":"As a guess, as @Gagravarr told already, there must be an old version of `org.apache.commons`-&gt; `commons-compress` in class path where `ZipFile.getInputStream(ZipArchiveEntry ze)` returns an `InputStream` which not  implements `InputStreamStatistics`. That would must be a  `commons-compress`  version lower than or equal `1.16`. So check your class path.","body":"As a guess, as @Gagravarr told already, there must be an old version of <code>org.apache.commons</code>-&gt; <code>commons-compress</code> in class path where <code>ZipFile.getInputStream(ZipArchiveEntry ze)</code> returns an <code>InputStream</code> which not  implements <code>InputStreamStatistics</code>. That would must be a  <code>commons-compress</code>  version lower than or equal <code>1.16</code>. So check your class path."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1657008657,"post_id":67385105,"comment_id":128701237,"body_markdown":"@GNF can you provide a small [mre] to reproduce the message please? Could help to find a solution. Best WITH your dependencies specified.","body":"@GNF can you provide a small <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to reproduce the message please? Could help to find a solution. Best WITH your dependencies specified."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":2,"creation_date":1657351152,"post_id":67385105,"comment_id":128794103,"body_markdown":"I will never understand why people open questions or even spend reputation points for a bounty on other people&#39;s ones, but then are unwilling to walk the last mile and provide an [MCVE](https://stackoverflow.com/help/mcve). Instead, they do nothing and let the question stay unanswered or let the bounty expire due to their own inactivity and lack of cooperation. Is that meant to yield helpful answers? I just don&#39;t get it. Folks, if you are unable to create an MCVE, stop calling yourselves software developers! _(Sorry for the rant.)_","body":"I will never understand why people open questions or even spend reputation points for a bounty on other people&#39;s ones, but then are unwilling to walk the last mile and provide an <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. Instead, they do nothing and let the question stay unanswered or let the bounty expire due to their own inactivity and lack of cooperation. Is that meant to yield helpful answers? I just don&#39;t get it. Folks, if you are unable to create an MCVE, stop calling yourselves software developers! <i>(Sorry for the rant.)</i>"},{"owner":{"account_id":2875040,"reputation":103,"user_id":2467349,"display_name":"GNF"},"score":0,"creation_date":1657445687,"post_id":67385105,"comment_id":128807850,"body_markdown":"I did not receive any answers (except for the Gagravarr suggestion) until this thread has come back to live **14 months** later.\nI cannot remember now if / how I solved this problem. I agree with Gagravarr that this might have been a library conflict. Due to time constrains in the project and taking into account that POI 5.x did not provide any new features which were needed,  I think I just switched back to POI 4.x.","body":"I did not receive any answers (except for the Gagravarr suggestion) until this thread has come back to live <b>14 months</b> later. I cannot remember now if / how I solved this problem. I agree with Gagravarr that this might have been a library conflict. Due to time constrains in the project and taking into account that POI 5.x did not provide any new features which were needed,  I think I just switched back to POI 4.x."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1657956615,"post_id":67385105,"comment_id":128936989,"body_markdown":"It would not have taken 14 months but possibly less than 14 hours to receive an answer, if you simply had asked your question the right way. &#128521; My remarks from above also went to the person opening the bounty, drawing attention to this old question, but who also did nothing whatsoever to make it reproducible.","body":"It would not have taken 14 months but possibly less than 14 hours to receive an answer, if you simply had asked your question the right way. 😉 My remarks from above also went to the person opening the bounty, drawing attention to this old question, but who also did nothing whatsoever to make it reproducible."}],"answers":[{"tags":[],"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657533239,"creation_date":1657533239,"answer_id":72936678,"question_id":67385105,"body_markdown":"There are several reasons this could be happening, as mentioned in the comments.\r\n\r\nThere could be a version conflict. Specifically you have version &lt;= 1.6 of Apache commons-compress alongside &gt;= 5 of Apache POI which are not compatible. To solve this, you will need to change your classpath - if you&#39;re using Maven then use `mvn dependency:tree` and if Gradle then use `gradle dependencies`.\r\n\r\nYou don&#39;t know where the call to the constructor is coming from because (probably) the application server Liberty is removing some of them. You can get the full stacktrace from `messages.log` and then you can see the full cause which could poentially be another class calling the `ZipArchiveThresholdInputStream` constructor with another InputStream that doesn&#39;t implement `InputStreamStatistics`. I would guess that this is less likely than the simple version conflict mentioned above.","title":"InputStream of class class org.apache.commons.compress.archivers.zip.ZipFile$1 is not implementing InputStreamStatistics","body":"<p>There are several reasons this could be happening, as mentioned in the comments.</p>\n<p>There could be a version conflict. Specifically you have version &lt;= 1.6 of Apache commons-compress alongside &gt;= 5 of Apache POI which are not compatible. To solve this, you will need to change your classpath - if you're using Maven then use <code>mvn dependency:tree</code> and if Gradle then use <code>gradle dependencies</code>.</p>\n<p>You don't know where the call to the constructor is coming from because (probably) the application server Liberty is removing some of them. You can get the full stacktrace from <code>messages.log</code> and then you can see the full cause which could poentially be another class calling the <code>ZipArchiveThresholdInputStream</code> constructor with another InputStream that doesn't implement <code>InputStreamStatistics</code>. I would guess that this is less likely than the simple version conflict mentioned above.</p>\n"},{"tags":[],"owner":{"account_id":2875040,"reputation":103,"user_id":2467349,"display_name":"GNF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668338139,"creation_date":1668338139,"answer_id":74420414,"question_id":67385105,"body_markdown":"I have been facing this problem every time I tried to upgrade to a new Apache POI release and used to forget about it because of not having the time to take care of it. \r\nI had tried with multiple releases of Apache Common Compress (1.18 - 1.22). Same results.\r\n\r\nThe other day (two years since my first try and 18 months after posting my question) I finally found a useful suggestion for solving my problem. I am posting it here in case someone might find it useful. \r\nThe suggestion was using the piece of code below to find which library contained the code I was trying to use.\r\n\r\n```\r\nString s = &lt;class&gt;.getProtectionDomain().getCodeSource().getLocation().toString();\r\nSystem.out.println(s);\r\n```\r\n\r\nSo, in my case I wrote:\r\n```\r\nString s = org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.class.getProtectionDomain().getCodeSource().getLocation().toString();\r\nSystem.out.println(s);\r\n```\r\n\r\nAnd the output was:\r\n\r\n```\r\nfile:/C:/IBM/lib/com.ibm.ws.kernel.boot_1.0.20.jar\r\n```\r\n\r\nMy WebSphere Liberty server had its own version of the library and that was the one in use. \r\n\r\nOnce I found the problem it was just a case of changing the order on which the libraries were loaded (parentLast).\r\n","title":"InputStream of class class org.apache.commons.compress.archivers.zip.ZipFile$1 is not implementing InputStreamStatistics","body":"<p>I have been facing this problem every time I tried to upgrade to a new Apache POI release and used to forget about it because of not having the time to take care of it.\nI had tried with multiple releases of Apache Common Compress (1.18 - 1.22). Same results.</p>\n<p>The other day (two years since my first try and 18 months after posting my question) I finally found a useful suggestion for solving my problem. I am posting it here in case someone might find it useful.\nThe suggestion was using the piece of code below to find which library contained the code I was trying to use.</p>\n<pre><code>String s = &lt;class&gt;.getProtectionDomain().getCodeSource().getLocation().toString();\nSystem.out.println(s);\n</code></pre>\n<p>So, in my case I wrote:</p>\n<pre><code>String s = org.apache.commons.compress.archivers.zip.ZipArchiveInputStream.class.getProtectionDomain().getCodeSource().getLocation().toString();\nSystem.out.println(s);\n</code></pre>\n<p>And the output was:</p>\n<pre><code>file:/C:/IBM/lib/com.ibm.ws.kernel.boot_1.0.20.jar\n</code></pre>\n<p>My WebSphere Liberty server had its own version of the library and that was the one in use.</p>\n<p>Once I found the problem it was just a case of changing the order on which the libraries were loaded (parentLast).</p>\n"}],"owner":{"account_id":2875040,"reputation":103,"user_id":2467349,"display_name":"GNF"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2944,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74420414,"answer_count":2,"score":1,"last_activity_date":1668338139,"creation_date":1620132595,"question_id":67385105,"body_markdown":"I have just migrated my libraries so that my code is now using the new Apache POI5.0 instead of POI4.12. I am using POI to build an Excel file from scratch with data retrieved from my database.\r\nThe code was working fine but now, when my code is writing the contents, I receive an exception. \r\nI am using commons-compress-1.20 which is the library released with Apache POI5.0.\r\n\r\n``` \r\n[err] java.lang.IllegalArgumentException: InputStream of class class org.apache.commons.compress.archivers.zip.ZipFile$1 is not implementing InputStreamStatistics.\r\n[err] \tat org.apache.poi.openxml4j.util.ZipArchiveThresholdInputStream.&lt;init&gt;(ZipArchiveThresholdInputStream.java:65)\r\n[err] \tat [internal classes]\r\n``` \r\n\r\nAny ideas? Thanks in advance.","title":"InputStream of class class org.apache.commons.compress.archivers.zip.ZipFile$1 is not implementing InputStreamStatistics","body":"<p>I have just migrated my libraries so that my code is now using the new Apache POI5.0 instead of POI4.12. I am using POI to build an Excel file from scratch with data retrieved from my database.\nThe code was working fine but now, when my code is writing the contents, I receive an exception.\nI am using commons-compress-1.20 which is the library released with Apache POI5.0.</p>\n<pre><code>[err] java.lang.IllegalArgumentException: InputStream of class class org.apache.commons.compress.archivers.zip.ZipFile$1 is not implementing InputStreamStatistics.\n[err]   at org.apache.poi.openxml4j.util.ZipArchiveThresholdInputStream.&lt;init&gt;(ZipArchiveThresholdInputStream.java:65)\n[err]   at [internal classes]\n</code></pre>\n<p>Any ideas? Thanks in advance.</p>\n"},{"tags":["java","data-structures","avl-tree"],"comments":[{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1668329260,"post_id":74419597,"comment_id":131375037,"body_markdown":"The common AVL implementation does not store height in the node, but (only) a balance factor. I don&#39;t understand why a HashMap would not work? The memory needs for that hashMap are O(n). That hashMap should deliver the balance factor. You don&#39;t need height at all. What is the problem?","body":"The common AVL implementation does not store height in the node, but (only) a balance factor. I don&#39;t understand why a HashMap would not work? The memory needs for that hashMap are O(n). That hashMap should deliver the balance factor. You don&#39;t need height at all. What is the problem?"},{"owner":{"account_id":26909459,"reputation":1,"user_id":20485279,"display_name":"memonhama"},"score":0,"creation_date":1668330561,"post_id":74419597,"comment_id":131375200,"body_markdown":"@trincot I have added some source code and test code. Hopefully, it will help you understand the problem better.","body":"@trincot I have added some source code and test code. Hopefully, it will help you understand the problem better."},{"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"score":0,"creation_date":1668331654,"post_id":74419597,"comment_id":131375343,"body_markdown":"Try to find a smaller case where you get the same error, and then use a debugger to inspect where things go wrong. You seem to assume it has to do with the *size* of the input, and that somehow a hashMap breaks down, but that is very unlikely given the error message you got, which is just a NPE.","body":"Try to find a smaller case where you get the same error, and then use a debugger to inspect where things go wrong. You seem to assume it has to do with the <i>size</i> of the input, and that somehow a hashMap breaks down, but that is very unlikely given the error message you got, which is just a NPE."},{"owner":{"account_id":26909459,"reputation":1,"user_id":20485279,"display_name":"memonhama"},"score":0,"creation_date":1668333846,"post_id":74419597,"comment_id":131375677,"body_markdown":"@trincot You are correct. The problem is not likely to be the size of the input. I tested the code with the same input multiple times, sometimes it would work, and sometimes it would not. There has to be something wrong with the rotation. I am still trying to figure it out. Thank you for your suggestion!","body":"@trincot You are correct. The problem is not likely to be the size of the input. I tested the code with the same input multiple times, sometimes it would work, and sometimes it would not. There has to be something wrong with the rotation. I am still trying to figure it out. Thank you for your suggestion!"}],"answers":[{"tags":[],"owner":{"account_id":26909459,"reputation":1,"user_id":20485279,"display_name":"memonhama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668337942,"creation_date":1668337942,"answer_id":74420397,"question_id":74419597,"body_markdown":"Problem found. A careless mistake. I was focusing too much on the size of the input. The actual problem is with the insertion and rotations.\r\nThe amended code.\r\n\r\n    public Node insert(Node curNode, Student s){\r\n            if (curNode == null){\r\n                Node newNode = new Node(s);\r\n                map.put(newNode, 1);\r\n                return newNode;\r\n            }\r\n            else if (s.name.compareTo(curNode.e.name) &lt; 0)\r\n                curNode.lc = insert(curNode.lc, s);\r\n            else if (s.name.compareTo(curNode.e.name) &gt; 0)\r\n                curNode.rc = insert(curNode.rc, s);\r\n            else return curNode;\r\n            int l, r;\r\n            map.put(curNode, max(nheight(curNode.rc), nheight(curNode.lc)) + 1);\r\n    \r\n            int balance = getBalance(curNode);\r\n    \r\n            if (balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.lc.e.name) &lt; 0)\r\n                return rightRotate(curNode);\r\n            if (balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.rc.e.name) &gt; 0)\r\n                return leftRotate(curNode);\r\n            if(balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.lc.e.name) &gt; 0){\r\n                curNode.lc = leftRotate(curNode.lc);\r\n                return rightRotate(curNode);\r\n            }\r\n            if(balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.rc.e.name) &lt; 0){\r\n                curNode.rc = rightRotate(curNode.rc);\r\n                return leftRotate(curNode);\r\n            }\r\n            return curNode;\r\n        }","title":"How to implement an AVL tree without storing height inside the node?","body":"<p>Problem found. A careless mistake. I was focusing too much on the size of the input. The actual problem is with the insertion and rotations.\nThe amended code.</p>\n<pre><code>public Node insert(Node curNode, Student s){\n        if (curNode == null){\n            Node newNode = new Node(s);\n            map.put(newNode, 1);\n            return newNode;\n        }\n        else if (s.name.compareTo(curNode.e.name) &lt; 0)\n            curNode.lc = insert(curNode.lc, s);\n        else if (s.name.compareTo(curNode.e.name) &gt; 0)\n            curNode.rc = insert(curNode.rc, s);\n        else return curNode;\n        int l, r;\n        map.put(curNode, max(nheight(curNode.rc), nheight(curNode.lc)) + 1);\n\n        int balance = getBalance(curNode);\n\n        if (balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.lc.e.name) &lt; 0)\n            return rightRotate(curNode);\n        if (balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.rc.e.name) &gt; 0)\n            return leftRotate(curNode);\n        if(balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.lc.e.name) &gt; 0){\n            curNode.lc = leftRotate(curNode.lc);\n            return rightRotate(curNode);\n        }\n        if(balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.rc.e.name) &lt; 0){\n            curNode.rc = rightRotate(curNode.rc);\n            return leftRotate(curNode);\n        }\n        return curNode;\n    }\n</code></pre>\n"}],"owner":{"account_id":26909459,"reputation":1,"user_id":20485279,"display_name":"memonhama"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74420397,"answer_count":1,"score":0,"last_activity_date":1668337942,"creation_date":1668329070,"question_id":74419597,"body_markdown":"I am currently learning binary search tree. For a school assignment, I want to implement an self-balancing binary search tree (I choose AVL tree); however, the Node class cannot be modified. I cannot use the common implementation of the AVL tree (I can&#39;t store height inside the node).\r\nThis is the source code that I implemented (using HashMap).\r\n\r\n```\r\npublic class Tree {\r\n    static class Student {\r\n        String id;\r\n        String name;\r\n        public Student(String id, String name) {\r\n            this.id = id;\r\n            this.name = name;\r\n        }\r\n\r\n        public String toString() {return id + &quot;, &quot; + name;}\r\n    }\r\n    \r\n    private class Node {\r\n        Student e;\r\n        public Node lc, rc; // left child; right child\r\n\r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        public Node(Student data) {\r\n            this.e = data;\r\n        }\r\n\r\n        public String toString() {\r\n            return e.toString();\r\n        }\r\n    }\r\n\r\n    Node root;\r\n    public HashMap&lt;Node, Integer&gt; map = new HashMap&lt;&gt;();\r\n   \r\n    public void insert(Student s) {\r\n        root = insert(root, s);\r\n    }\r\n\r\n    public Node insert(Node curNode, Student s){\r\n        if (curNode == null){\r\n            Node newNode = new Node(s);\r\n            map.put(newNode, 1);\r\n            return newNode;\r\n        }\r\n        else if (s.name.compareTo(curNode.e.name) &lt; 0)\r\n            curNode.lc = insert(curNode.lc, s);\r\n        else if (s.name.compareTo(curNode.e.name) &gt; 0)\r\n            curNode.rc = insert(curNode.rc, s);\r\n        else return curNode;\r\n        int l, r;\r\n        map.put(curNode, max(nheight(curNode.rc), \r\n                nheight(curNode.lc)) + 1);\r\n        \r\n        int balance = getBalance(curNode);\r\n\r\n        if (balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.e.name) &lt; 0)\r\n            return rightRotate(curNode);\r\n        if (balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.e.name) &gt; 0)\r\n            return leftRotate(curNode);\r\n        if(balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.e.name) &gt; 0){\r\n            curNode.lc = leftRotate(curNode.lc);\r\n            return rightRotate(curNode);\r\n        }\r\n        if(balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.e.name) &lt; 0){\r\n            curNode.rc = rightRotate(curNode.rc);\r\n            return leftRotate(curNode);\r\n        }\r\n        return curNode;\r\n    }\r\n    \r\n\r\n    public int max(int a, int b){\r\n        return a &gt; b ? a : b;\r\n    }\r\n    \r\n    public int nheight(Node curRoot){\r\n        if (curRoot == null) return 0;\r\n        return map.get(curRoot);\r\n    }\r\n\r\n    public int getBalance(Node curNode){\r\n        if (curNode == null) return 0;\r\n        return nheight(curNode.lc) - nheight(curNode.rc);\r\n    }\r\n    \r\n    public Node rightRotate(Node y){\r\n        Node x = y.lc;\r\n        Node T2 = x.rc;\r\n        x.rc = y;\r\n        y.lc = T2;\r\n        map.put(y, max(nheight(y.lc), nheight(y.rc)) + 1);\r\n        map.put(x, max(nheight(x.lc), nheight(x.rc)) + 1);\r\n        return x;\r\n    }\r\n\r\n    public Node leftRotate(Node x){\r\n        Node y = x.rc;\r\n        Node T2 = y.lc;\r\n        y.lc = x;\r\n        x.rc = T2;\r\n        map.put(x, max(nheight(x.lc), nheight(x.rc)) + 1);\r\n        map.put(y, max(nheight(y.lc), nheight(y.rc)) + 1);\r\n        return y;\r\n    }\r\n    \r\n}\r\n     \r\n```\r\n\r\n\r\nI tried using a HashMap&lt;Node, Integer&gt; to store the height of each node, and using recursive method to calculate the height and balance factor every time. For small number of nodes, the above two methods would work; however, for large node size (&gt;=1000000) those methods will not work. Is there any other data structures I can use the keep track of the height of each node?\r\n\r\nThis is the code I used to test. I randomly created 1000000 students with names and ids and insert them into the AVL tree.\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        Tree tree = new Tree();\r\n        String[] surnames = {&quot;Chan&quot;, &quot;Leung&quot;, &quot;Li&quot;, &quot;Lai&quot;, &quot;Cheung&quot;, &quot;Yeung&quot;, &quot;Tang&quot;, &quot;Chow&quot;, &quot;Fung&quot;, &quot;Tsang&quot;, &quot;Kwok&quot;, &quot;Chu&quot;, &quot;Liu&quot;, &quot;Wong&quot;, &quot;Mak&quot;};\r\n        SecureRandom random = new SecureRandom();\r\n        String[] names = new String[1000000];\r\n        for (int j = 0; j &lt; names.length; j++) {\r\n\t        \tStringBuilder a = new StringBuilder();\r\n\t        \tfor(int i = 0; i &lt; 5; i ++) {\r\n\t        \t\ta.append((char)(&#39;a&#39; + random.nextInt(25)));\r\n\t        \t}\r\n\t        \tnames[j] = surnames[random.nextInt(surnames.length)] + &quot; &quot; + a.toString();\r\n        }\r\n        int id = 22222222;\r\n        for (String name : names) {\r\n            id += random.nextInt(100);\r\n            tree.insert(new Tree.Student(String.valueOf(id), name));\r\n        }\r\n    }\r\n}\r\n\r\nThe code works fine when the size of the String is 1000 (String[1000]). It gets error when the size of String gets larger. For example, when it gets to 1000000. The error code is below.\r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;lc&quot; because &quot;y&quot; is null","title":"How to implement an AVL tree without storing height inside the node?","body":"<p>I am currently learning binary search tree. For a school assignment, I want to implement an self-balancing binary search tree (I choose AVL tree); however, the Node class cannot be modified. I cannot use the common implementation of the AVL tree (I can't store height inside the node).\nThis is the source code that I implemented (using HashMap).</p>\n<pre><code>public class Tree {\n    static class Student {\n        String id;\n        String name;\n        public Student(String id, String name) {\n            this.id = id;\n            this.name = name;\n        }\n\n        public String toString() {return id + &quot;, &quot; + name;}\n    }\n    \n    private class Node {\n        Student e;\n        public Node lc, rc; // left child; right child\n\n        @SuppressWarnings(&quot;unused&quot;)\n        public Node(Student data) {\n            this.e = data;\n        }\n\n        public String toString() {\n            return e.toString();\n        }\n    }\n\n    Node root;\n    public HashMap&lt;Node, Integer&gt; map = new HashMap&lt;&gt;();\n   \n    public void insert(Student s) {\n        root = insert(root, s);\n    }\n\n    public Node insert(Node curNode, Student s){\n        if (curNode == null){\n            Node newNode = new Node(s);\n            map.put(newNode, 1);\n            return newNode;\n        }\n        else if (s.name.compareTo(curNode.e.name) &lt; 0)\n            curNode.lc = insert(curNode.lc, s);\n        else if (s.name.compareTo(curNode.e.name) &gt; 0)\n            curNode.rc = insert(curNode.rc, s);\n        else return curNode;\n        int l, r;\n        map.put(curNode, max(nheight(curNode.rc), \n                nheight(curNode.lc)) + 1);\n        \n        int balance = getBalance(curNode);\n\n        if (balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.e.name) &lt; 0)\n            return rightRotate(curNode);\n        if (balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.e.name) &gt; 0)\n            return leftRotate(curNode);\n        if(balance &gt; 1 &amp;&amp; s.name.compareTo(curNode.e.name) &gt; 0){\n            curNode.lc = leftRotate(curNode.lc);\n            return rightRotate(curNode);\n        }\n        if(balance &lt; -1 &amp;&amp; s.name.compareTo(curNode.e.name) &lt; 0){\n            curNode.rc = rightRotate(curNode.rc);\n            return leftRotate(curNode);\n        }\n        return curNode;\n    }\n    \n\n    public int max(int a, int b){\n        return a &gt; b ? a : b;\n    }\n    \n    public int nheight(Node curRoot){\n        if (curRoot == null) return 0;\n        return map.get(curRoot);\n    }\n\n    public int getBalance(Node curNode){\n        if (curNode == null) return 0;\n        return nheight(curNode.lc) - nheight(curNode.rc);\n    }\n    \n    public Node rightRotate(Node y){\n        Node x = y.lc;\n        Node T2 = x.rc;\n        x.rc = y;\n        y.lc = T2;\n        map.put(y, max(nheight(y.lc), nheight(y.rc)) + 1);\n        map.put(x, max(nheight(x.lc), nheight(x.rc)) + 1);\n        return x;\n    }\n\n    public Node leftRotate(Node x){\n        Node y = x.rc;\n        Node T2 = y.lc;\n        y.lc = x;\n        x.rc = T2;\n        map.put(x, max(nheight(x.lc), nheight(x.rc)) + 1);\n        map.put(y, max(nheight(y.lc), nheight(y.rc)) + 1);\n        return y;\n    }\n    \n}\n     \n</code></pre>\n<p>I tried using a HashMap&lt;Node, Integer&gt; to store the height of each node, and using recursive method to calculate the height and balance factor every time. For small number of nodes, the above two methods would work; however, for large node size (&gt;=1000000) those methods will not work. Is there any other data structures I can use the keep track of the height of each node?</p>\n<p>This is the code I used to test. I randomly created 1000000 students with names and ids and insert them into the AVL tree.</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    Tree tree = new Tree();\n    String[] surnames = {&quot;Chan&quot;, &quot;Leung&quot;, &quot;Li&quot;, &quot;Lai&quot;, &quot;Cheung&quot;, &quot;Yeung&quot;, &quot;Tang&quot;, &quot;Chow&quot;, &quot;Fung&quot;, &quot;Tsang&quot;, &quot;Kwok&quot;, &quot;Chu&quot;, &quot;Liu&quot;, &quot;Wong&quot;, &quot;Mak&quot;};\n    SecureRandom random = new SecureRandom();\n    String[] names = new String[1000000];\n    for (int j = 0; j &lt; names.length; j++) {\n            StringBuilder a = new StringBuilder();\n            for(int i = 0; i &lt; 5; i ++) {\n                a.append((char)('a' + random.nextInt(25)));\n            }\n            names[j] = surnames[random.nextInt(surnames.length)] + &quot; &quot; + a.toString();\n    }\n    int id = 22222222;\n    for (String name : names) {\n        id += random.nextInt(100);\n        tree.insert(new Tree.Student(String.valueOf(id), name));\n    }\n}\n</code></pre>\n<p>}</p>\n<p>The code works fine when the size of the String is 1000 (String[1000]). It gets error when the size of String gets larger. For example, when it gets to 1000000. The error code is below.</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.NullPointerException: Cannot read field &quot;lc&quot; because &quot;y&quot; is null</p>\n</blockquote>\n"},{"tags":["java","pdf","com","ms-word","docx"],"comments":[{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":0,"creation_date":1445404758,"post_id":9096900,"comment_id":54304495,"body_markdown":"An update regarding docx4j: these days, in addition to open source XSL FO based conversion, there is a high fidelity non-FO commercial alternative.  See further http://www.docx4java.org/forums/pdf-output-f27/higher-fidelity-pdf-output-now-available-t2117.html","body":"An update regarding docx4j: these days, in addition to open source XSL FO based conversion, there is a high fidelity non-FO commercial alternative.  See further <a href=\"http://www.docx4java.org/forums/pdf-output-f27/higher-fidelity-pdf-output-now-available-t2117.html\" rel=\"nofollow noreferrer\">docx4java.org/forums/pdf-output-f27/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":135266,"reputation":6543,"user_id":338004,"display_name":"Paul Jowett"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331804109,"creation_date":1331804109,"answer_id":9717087,"question_id":9096900,"body_markdown":"You could try a combination of ODF Converter and JOD Converter.  ODF Converter can provide reasonable DOCX to ODT conversion and JOD Converter can provide reasonable ODT to pdf output.  Printing is something else, but I gather you were only needing to print because of that particular solution you were trying.","title":"Docx to PDF conversion in java","body":"<p>You could try a combination of ODF Converter and JOD Converter.  ODF Converter can provide reasonable DOCX to ODT conversion and JOD Converter can provide reasonable ODT to pdf output.  Printing is something else, but I gather you were only needing to print because of that particular solution you were trying.</p>\n"},{"tags":[],"owner":{"account_id":7127479,"reputation":383,"user_id":5449927,"display_name":"Shantam Mittal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668337822,"creation_date":1668337822,"answer_id":74420382,"question_id":9096900,"body_markdown":"You can use [docto][1] to convert docx file to PDF/CSV/Text.\r\nDownload the .exe file and place it in an external location or your project.\r\n\r\nBelow snippet contains two ways to convert docx to PDF one is using Soffice for which you need to have libre on your file system and the second is Docto (which works only on windows machine).\r\n\r\n    \r\n    private String convertToPDF(String docPath) throws CustomException, IOException {\r\n        try {\r\n            File docFile = new File(docPath);\r\n            String tempDirectory = docFile.getParent();\r\n            String cmdLinePDFConvertionCommand = &quot;soffice --convert-to pdf -outdir &quot; + tempDirectory + &quot; &quot; + docPath;\r\n            if (OSUtil.OS.WINDOWS.equals(OSUtil.getOS())) {\r\n               \r\n                cmdLinePDFConvertionCommand = &quot;.&quot; + File.separator + tempDirectory + File.separator + &quot;Docto -f \\&quot;&quot; + docPath + &quot;\\&quot; -o \\&quot;&quot; + tempDirectory + &quot;\\&quot; -t wdFormatPDF&quot;;\r\n            }\r\n            log.info(&quot;Command to convert docx to pdf: {}&quot;, cmdLinePDFConvertionCommand);\r\n            Process process = Runtime.getRuntime().exec(cmdLinePDFConvertionCommand);\r\n            int output = process.waitFor();\r\n            log.info(&quot;Conversion process output: {}&quot;, output);\r\n            String baseFileName = FilenameUtils.getBaseName(docPath);\r\n            String pdfFilePath = tempDirectory + File.separator + baseFileName + &quot;.pdf&quot;;\r\n            File pdfFile = new File(pdfFilePath);\r\n            log.info(&quot;PDF File {} Exists: {}&quot;, pdfFilePath, pdfFile.exists());\r\n            return pdfFilePath;\r\n        } catch (IOException | InterruptedException e) {\r\n            log.error(&quot;Some error while converting to PDF&quot;, e);\r\n            throw new CustomException(e.getMessage());\r\n        } finally {\r\n            Files.deleteIfExists(Path.of(docPath));\r\n        }\r\n    }\r\n  [1]: https://github.com/tobya/DocTo","title":"Docx to PDF conversion in java","body":"<p>You can use <a href=\"https://github.com/tobya/DocTo\" rel=\"nofollow noreferrer\">docto</a> to convert docx file to PDF/CSV/Text.\nDownload the .exe file and place it in an external location or your project.</p>\n<p>Below snippet contains two ways to convert docx to PDF one is using Soffice for which you need to have libre on your file system and the second is Docto (which works only on windows machine).</p>\n<pre><code>private String convertToPDF(String docPath) throws CustomException, IOException {\n    try {\n        File docFile = new File(docPath);\n        String tempDirectory = docFile.getParent();\n        String cmdLinePDFConvertionCommand = &quot;soffice --convert-to pdf -outdir &quot; + tempDirectory + &quot; &quot; + docPath;\n        if (OSUtil.OS.WINDOWS.equals(OSUtil.getOS())) {\n           \n            cmdLinePDFConvertionCommand = &quot;.&quot; + File.separator + tempDirectory + File.separator + &quot;Docto -f \\&quot;&quot; + docPath + &quot;\\&quot; -o \\&quot;&quot; + tempDirectory + &quot;\\&quot; -t wdFormatPDF&quot;;\n        }\n        log.info(&quot;Command to convert docx to pdf: {}&quot;, cmdLinePDFConvertionCommand);\n        Process process = Runtime.getRuntime().exec(cmdLinePDFConvertionCommand);\n        int output = process.waitFor();\n        log.info(&quot;Conversion process output: {}&quot;, output);\n        String baseFileName = FilenameUtils.getBaseName(docPath);\n        String pdfFilePath = tempDirectory + File.separator + baseFileName + &quot;.pdf&quot;;\n        File pdfFile = new File(pdfFilePath);\n        log.info(&quot;PDF File {} Exists: {}&quot;, pdfFilePath, pdfFile.exists());\n        return pdfFilePath;\n    } catch (IOException | InterruptedException e) {\n        log.error(&quot;Some error while converting to PDF&quot;, e);\n        throw new CustomException(e.getMessage());\n    } finally {\n        Files.deleteIfExists(Path.of(docPath));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1011163,"reputation":643,"user_id":1023710,"accept_rate":75,"display_name":"Xargos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4750,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1668337822,"creation_date":1328104384,"question_id":9096900,"body_markdown":"I need to be able to convert docx to pdf using java. I tried using &lt;a href=&quot;http://www.docx4java.org/trac/docx4j&quot;&gt;docx4j&lt;/a&gt; but although it is quite good, the docx I have are much more complex (formatting) than what it can handle. I decided to see if a PDF printer could handle them and although their not perfect, they&#39;re acceptable. Now I am facing a problem of how to automated from JAVA and the only solution I found was COM with MS Word (I tried using Open Office API it also was unable to handle the docx formatting).\r\n\r\nI found several COMs mapping for java such as &lt;a href=&quot;http://danadler.com/jacob/&quot;&gt;jacob&lt;/a&gt; and tried them but I can&#39;t seem to find the appropriate COM commands for the Word to print. Code I am using (I stack several pieces I found over the web together) is:\r\n\r\n            String sInputDoc = &quot;fi.docx&quot;;\r\n            boolean tVisible = false; \r\n            ActiveXComponent oWord = new ActiveXComponent(&quot;Word.Application&quot;); \r\n            oWord.setProperty(&quot;Visible&quot;, new Variant(tVisible));\r\n            Object oDocuments = oWord.getProperty(&quot;Documents&quot;).toDispatch(); \r\n            Object oDocument = Dispatch.call((Dispatch)oDocuments, &quot;Open&quot;, sInputDoc).toDispatch();\r\n\r\n            Dispatch oSelection = oWord.getProperty(&quot;Selection&quot;).toDispatch();\r\n            Dispatch oFind = oWord.call(oSelection, &quot;Find&quot;).toDispatch();\r\n            Dispatch oWordBasic = (Dispatch) Dispatch.call(oWord, &quot;WordBasic&quot;).getDispatch();\r\n            Dispatch.call(oWordBasic, &quot;FilePrint&quot;);\r\n\r\nThis code however only causes the program to try and save the file and not print (not sure why).\r\n\r\nNow may questions are: How to send the operation of print to Word? (I did my research but most of the time the comments are basically open word and print to pdf, but never HOW to actually print) If there are better options, what are they? I am happy to work with anything that is has a free License.\r\n\r\nThanks in advance.","title":"Docx to PDF conversion in java","body":"<p>I need to be able to convert docx to pdf using java. I tried using <a href=\"http://www.docx4java.org/trac/docx4j\" rel=\"nofollow\">docx4j</a> but although it is quite good, the docx I have are much more complex (formatting) than what it can handle. I decided to see if a PDF printer could handle them and although their not perfect, they're acceptable. Now I am facing a problem of how to automated from JAVA and the only solution I found was COM with MS Word (I tried using Open Office API it also was unable to handle the docx formatting).</p>\n\n<p>I found several COMs mapping for java such as <a href=\"http://danadler.com/jacob/\" rel=\"nofollow\">jacob</a> and tried them but I can't seem to find the appropriate COM commands for the Word to print. Code I am using (I stack several pieces I found over the web together) is:</p>\n\n<pre><code>        String sInputDoc = \"fi.docx\";\n        boolean tVisible = false; \n        ActiveXComponent oWord = new ActiveXComponent(\"Word.Application\"); \n        oWord.setProperty(\"Visible\", new Variant(tVisible));\n        Object oDocuments = oWord.getProperty(\"Documents\").toDispatch(); \n        Object oDocument = Dispatch.call((Dispatch)oDocuments, \"Open\", sInputDoc).toDispatch();\n\n        Dispatch oSelection = oWord.getProperty(\"Selection\").toDispatch();\n        Dispatch oFind = oWord.call(oSelection, \"Find\").toDispatch();\n        Dispatch oWordBasic = (Dispatch) Dispatch.call(oWord, \"WordBasic\").getDispatch();\n        Dispatch.call(oWordBasic, \"FilePrint\");\n</code></pre>\n\n<p>This code however only causes the program to try and save the file and not print (not sure why).</p>\n\n<p>Now may questions are: How to send the operation of print to Word? (I did my research but most of the time the comments are basically open word and print to pdf, but never HOW to actually print) If there are better options, what are they? I am happy to work with anything that is has a free License.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","jsf","servlets","web-applications","xhtml"],"answers":[{"tags":[],"owner":{"account_id":18308320,"reputation":41,"user_id":13331711,"display_name":"bill tsi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1667633702,"creation_date":1667633331,"answer_id":74325919,"question_id":74322557,"body_markdown":"Your backing bean class should implement Serializable interface\r\n\r\nChange the declaration of your backing like this\r\n\r\n    public class JsfBean implements Serializable{}","title":"Jsf is not show value","body":"<p>Your backing bean class should implement Serializable interface</p>\n<p>Change the declaration of your backing like this</p>\n<pre><code>public class JsfBean implements Serializable{}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668336485,"creation_date":1668336485,"answer_id":74420241,"question_id":74322557,"body_markdown":"You are simply not putting the getter and setter annotations in the correct positions.\r\nlombok appears to be for generating these methods if there is no other processing to do between the arguments to or from method and property.\r\n\r\n\r\n    import jakarta.enterprise.context.RequestScoped;\r\n    import jakarta.inject.Named;\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    @Named(value = &quot;cdiBean&quot;)\r\n    @RequestScoped\r\n    \r\n    public class JsfBean {\r\n        public @Getter @Setter String patika;\r\n        public JsfBean() {\r\n            patika=&quot;Spring Boot Eğitime Hoşgeldiniz&quot;;\r\n            System.out.println(patika);\r\n        }\r\n    }\r\n\r\nSee their promotion video   https://projectlombok.org/#\r\n","title":"Jsf is not show value","body":"<p>You are simply not putting the getter and setter annotations in the correct positions.\nlombok appears to be for generating these methods if there is no other processing to do between the arguments to or from method and property.</p>\n<pre><code>import jakarta.enterprise.context.RequestScoped;\nimport jakarta.inject.Named;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Named(value = &quot;cdiBean&quot;)\n@RequestScoped\n\npublic class JsfBean {\n    public @Getter @Setter String patika;\n    public JsfBean() {\n        patika=&quot;Spring Boot Eğitime Hoşgeldiniz&quot;;\n        System.out.println(patika);\n    }\n}\n</code></pre>\n<p>See their promotion video   <a href=\"https://projectlombok.org/#\" rel=\"nofollow noreferrer\">https://projectlombok.org/#</a></p>\n"}],"owner":{"account_id":17618744,"reputation":1,"user_id":12785216,"display_name":"leatred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1668336485,"creation_date":1667593214,"question_id":74322557,"body_markdown":"I using to jsf for web app learn. But not showing value in index.xhtml . My class name is JsfBean and Named value is cdiBean. I want to call patika variable . How can I solve this problem? Is have info anyone\r\n\r\nindex.xhtml file\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\r\n        &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\r\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\r\n      xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\r\n      xmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;\r\n      xmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;&gt;\r\n&lt;h:head&gt;\r\n   &lt;title&gt; JSF 2.2&lt;/title&gt;\r\n&lt;/h:head&gt;\r\n&lt;h:body&gt;\r\n\r\n   &lt;h:form&gt;\r\n      &lt;h:outputText value=&quot;#{cdiBean.patika}&quot;/&gt;\r\n\r\n   &lt;/h:form&gt;\r\n&lt;/h:body&gt;\r\n&lt;/html&gt;\r\n\r\n\r\n\r\n\r\n```\r\n\r\nJsfBean Class\r\n```package com.example.demo1;\r\n\r\nimport jakarta.enterprise.context.RequestScoped;\r\nimport jakarta.inject.Named;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n\r\n@Named(value = &quot;cdiBean&quot;)\r\n@RequestScoped\r\n@Getter @Setter\r\npublic class JsfBean {\r\n    public String patika;\r\n    public JsfBean() {\r\n        patika=&quot;Spring Boot Eğitime Hoşgeldiniz&quot;;\r\n        System.out.println(patika);\r\n    }\r\n}\r\n```\r\nWeb.xml file\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\r\n         version=&quot;5.0&quot;&gt;\r\n    &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.xhtml&lt;/welcome-file&gt;\r\n    &lt;/welcome-file-list&gt;\r\n\r\n&lt;/web-app&gt;","title":"Jsf is not show value","body":"<p>I using to jsf for web app learn. But not showing value in index.xhtml . My class name is JsfBean and Named value is cdiBean. I want to call patika variable . How can I solve this problem? Is have info anyone</p>\n<p>index.xhtml file</p>\n<pre><code>&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Transitional//EN&quot;\n        &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&quot;&gt;\n&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;\n      xmlns:h=&quot;http://xmlns.jcp.org/jsf/html&quot;\n      xmlns:ui=&quot;http://xmlns.jcp.org/jsf/facelets&quot;\n      xmlns:f=&quot;http://xmlns.jcp.org/jsf/core&quot;&gt;\n&lt;h:head&gt;\n   &lt;title&gt; JSF 2.2&lt;/title&gt;\n&lt;/h:head&gt;\n&lt;h:body&gt;\n\n   &lt;h:form&gt;\n      &lt;h:outputText value=&quot;#{cdiBean.patika}&quot;/&gt;\n\n   &lt;/h:form&gt;\n&lt;/h:body&gt;\n&lt;/html&gt;\n\n\n\n\n</code></pre>\n<p>JsfBean Class</p>\n<pre><code>\nimport jakarta.enterprise.context.RequestScoped;\nimport jakarta.inject.Named;\nimport lombok.Getter;\nimport lombok.Setter;\n\n\n@Named(value = &quot;cdiBean&quot;)\n@RequestScoped\n@Getter @Setter\npublic class JsfBean {\n    public String patika;\n    public JsfBean() {\n        patika=&quot;Spring Boot Eğitime Hoşgeldiniz&quot;;\n        System.out.println(patika);\n    }\n}\n</code></pre>\n<p>Web.xml file</p>\n<pre><code>&lt;web-app xmlns=&quot;https://jakarta.ee/xml/ns/jakartaee&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;https://jakarta.ee/xml/ns/jakartaee https://jakarta.ee/xml/ns/jakartaee/web-app_5_0.xsd&quot;\n         version=&quot;5.0&quot;&gt;\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.xhtml&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","android","android-fragments"],"comments":[{"owner":{"account_id":25182377,"reputation":5871,"user_id":19023745,"display_name":"z.g.y"},"score":0,"creation_date":1668325936,"post_id":74419265,"comment_id":131374603,"body_markdown":"It&#39;s already pointing you where the error (`NullPointerException`) is coming from `andrii.sosnytskyi.nure.mynote_v2.MainActivity`.","body":"It&#39;s already pointing you where the error (<code>NullPointerException</code>) is coming from <code>andrii.sosnytskyi.nure.mynote_v2.MainActivity</code>."}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668328741,"creation_date":1668328741,"answer_id":74419563,"question_id":74419265,"body_markdown":"According to the stack trace, in this method `noteListView` is null:\r\n\r\n\r\n```java\r\nprivate void setNoteAdapter() {\r\n\r\n    NoteAdapter noteAdapter = new NoteAdapter(getContext().getApplicationContext(), Note.nonDeletedNotes());\r\n    noteListView.setAdapter(noteAdapter);\r\n}\r\n```","title":"I am creating Android Note app using fragments, but I can&#39;t cope with the error that occurs in NoteFragment.java","body":"<p>According to the stack trace, in this method <code>noteListView</code> is null:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void setNoteAdapter() {\n\n    NoteAdapter noteAdapter = new NoteAdapter(getContext().getApplicationContext(), Note.nonDeletedNotes());\n    noteListView.setAdapter(noteAdapter);\n}\n</code></pre>\n"}],"owner":{"account_id":26911781,"reputation":3,"user_id":20487230,"display_name":"Андрій Сосницький"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74419563,"answer_count":1,"score":-1,"last_activity_date":1668336464,"creation_date":1668325388,"question_id":74419265,"body_markdown":"**NoteFragment.java**\r\n\r\n```\r\npublic class NoteFragment extends Fragment {\r\n\r\n    private ListView noteListView;\r\n    private Note note;\r\n    List &lt;Note&gt; notes = new ArrayList&lt;Note&gt;();\r\n    private Button add;\r\n    private NoteAdapter noteAdapter;\r\n    private String title = &quot;title&quot;;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_note, container, false);\r\n        noteListView = (ListView) view.findViewById(R.id.noteListView);\r\n\r\n        initWidgets();\r\n        loadFromDBtoMemory();\r\n        setNoteAdapter();\r\n\r\n        return view;\r\n    }\r\n\r\n    private void initWidgets() {\r\n        noteListView = getActivity().findViewById(R.id.noteListView);\r\n        add = getActivity().findViewById(R.id.add_fragment);\r\n    }\r\n\r\n    private void loadFromDBtoMemory() {\r\n        SQLiteManager sqLiteManager = new SQLiteManager(getActivity());\r\n        sqLiteManager.populateNoteListArray(&quot;&quot;);\r\n    }\r\n\r\n    private void setNoteAdapter() {\r\n\r\n        NoteAdapter noteAdapter = new NoteAdapter(getContext().getApplicationContext(), Note.nonDeletedNotes());\r\n        noteListView.setAdapter(noteAdapter);\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        setNoteAdapter();\r\n    }\r\n```\r\n\r\n\r\n**NoteAdapter.java**\r\n\r\n```\r\npublic class NoteAdapter extends ArrayAdapter&lt;Note&gt; {\r\n\r\n    public NoteAdapter(Context context, List&lt;Note&gt; notes){\r\n        super(context, 0,notes);\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\r\n\r\n        Note note = getItem(position);\r\n        if (convertView == null) {\r\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.note_cell, parent, false);\r\n        }\r\n\r\n        TextView title = convertView.findViewById(R.id.cellTitle);\r\n        TextView description = convertView.findViewById(R.id.cellDesc);\r\n        TextView realTime = convertView.findViewById(R.id.realTime);\r\n        ImageView smallImg = convertView.findViewById(R.id.smallImg);\r\n        TextView impTextView = convertView.findViewById(R.id.ImpTextView);\r\n\r\n        title.setText(note.getTitle());\r\n        description.setText(note.getDescription());\r\n\r\n        String formatedTime = DateFormat.getDateTimeInstance().format(note.getRealTime());\r\n        realTime.setText(formatedTime);\r\n\r\n        Uri uri = Uri.parse(note.getUri());\r\n        smallImg.setImageURI(null);\r\n        smallImg.setImageURI(uri);\r\n\r\n        if (Objects.equals(note.getSelection(), &quot;very important&quot;)) {\r\n            impTextView.setText(note.getSelection());\r\n            impTextView.setBackgroundColor(Color.rgb(255, 0, 0));\r\n        }\r\n        if (Objects.equals(note.getSelection(), &quot;important&quot;)) {\r\n            impTextView.setText(note.getSelection());\r\n            impTextView.setBackgroundColor(Color.rgb(255, 255, 153));\r\n        }\r\n        if (Objects.equals(note.getSelection(), &quot;not very important&quot;)) {\r\n            impTextView.setText(note.getSelection());\r\n            impTextView.setBackgroundColor(Color.rgb(240, 248, 255));\r\n        }\r\n\r\n        return convertView;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**AddFragment.java**\r\n\r\n\r\n```\r\npublic class AddFragment extends Fragment {\r\n\r\n    private EditText titleEditText, descEditText;\r\n    private Note selectedNote;\r\n    private ImageView newImg;\r\n    private FloatingActionButton addImg;\r\n    private ConstraintLayout imgContainer;\r\n    private final int PICK_IMAGE_CODE = 123;\r\n    private String tempUri = &quot;empty&quot;;\r\n    private String[] importancy = {&quot;very important&quot;, &quot;important&quot;, &quot;not very important&quot;};\r\n    private Spinner spinner;\r\n    private String selectedItem;\r\n    private View view;\r\n    private Button saveNote;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_add, container, false);\r\n        SQLiteManager sqLiteManager = new SQLiteManager(getActivity());\r\n        spinner = view.findViewById(R.id.importancy);\r\n\r\n        titleEditText = view.findViewById(R.id.titleEditText);\r\n        descEditText = view.findViewById(R.id.descriptionEditText);\r\n        addImg = view.findViewById(R.id.addImg);\r\n        imgContainer = view.findViewById(R.id.imgContainer);\r\n        newImg = view.findViewById(R.id.newImg);\r\n        spinner = view.findViewById(R.id.importancy);\r\n        saveNote = view.findViewById(R.id.saveNote);\r\n\r\n        saveNote.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                saveNote(view);\r\n            }\r\n        });\r\n\r\n        ArrayAdapter&lt;String&gt; importancyAdapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_spinner_item, importancy);\r\n        importancyAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\r\n        spinner.setAdapter(importancyAdapter);\r\n\r\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n                selectedItem = adapterView.getSelectedItem().toString();\r\n                for (int u = 0; u &lt; importancy.length; u++) {\r\n                    if (importancy[i] == &quot;very important&quot;)\r\n                        view.setBackgroundColor(Color.rgb(255, 0, 0));\r\n                    if (importancy[i] == &quot;important&quot;)\r\n                        view.setBackgroundColor(Color.rgb(255, 255, 153));\r\n                    if (importancy[i] == &quot;not very important&quot;)\r\n                        view.setBackgroundColor(Color.rgb(240, 248, 255));\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n            }\r\n        });\r\n        return view;\r\n}\r\n\r\n    @Override\r\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n    }\r\n\r\n\r\n    public void saveNote(View view) {\r\n\r\n        SQLiteManager sqLiteManager = new SQLiteManager(getActivity());\r\n\r\n        String title = String.valueOf(titleEditText.getText());\r\n        String desc = String.valueOf(descEditText.getText());\r\n        long realTime = System.currentTimeMillis();\r\n        String uri = String.valueOf(tempUri);\r\n        String selection = String.valueOf(selectedItem);\r\n\r\n        if(selectedNote == null){\r\n            int id = Note.noteArrayList.size();\r\n            Note newNote = new Note(id, title, desc, realTime, uri, selection);\r\n            Note.noteArrayList.add(newNote);\r\n\r\n            System.out.println(Note.noteArrayList);\r\n\r\n            sqLiteManager.addNoteToDatabase(newNote);\r\n            Toast.makeText(getActivity().getApplicationContext(), &quot;Note saved&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        else {\r\n            selectedNote.setTitle(title);\r\n            selectedNote.setDescription(desc);\r\n            selectedNote.setRealTime(realTime);\r\n            selectedNote.setUri(uri);\r\n            selectedNote.setSelection(selection);\r\n            sqLiteManager.updateNoteInDB(selectedNote);\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\n**Note.java**\r\n\r\n```\r\npublic class Note {\r\n\r\n    public static ArrayList&lt;Note&gt; noteArrayList = new ArrayList&lt;&gt;();\r\n    public static String NOTE_EDIT_EXTRA = &quot;noteEdit&quot;;\r\n\r\n    private int id;\r\n    private String title;\r\n    private String description;\r\n    private long realTime;\r\n    private String uri = &quot;empty&quot;;\r\n    private String selection;\r\n    private Date deleted;\r\n\r\n    public Note(int id, String title, String description, long realTime, String uri, String selection, Date deleted) {\r\n        this.id = id;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.realTime = realTime;\r\n        this.uri = uri;\r\n        this.selection = selection;\r\n        this.deleted = deleted;\r\n    }\r\n\r\n    public Note(int id, String title, String description, long realTime, String uri, String selection) {\r\n        this.id = id;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.realTime = realTime;\r\n        this.uri = uri;\r\n        this.selection = selection;\r\n        deleted = null;\r\n    }\r\n\r\n    public static Note getNoteForID(int passedNoteID) {\r\n        for(Note note : noteArrayList){\r\n            if(note.getId() == passedNoteID){\r\n                return note;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public static ArrayList&lt;Note&gt; nonDeletedNotes(){\r\n\r\n        ArrayList&lt;Note&gt; nonDeleted = new ArrayList&lt;&gt;();\r\n        for(Note note : noteArrayList){\r\n            if(note.getDeleted() == null){\r\n                nonDeleted.add(note);\r\n            }\r\n        }\r\n        return nonDeleted;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public void setDescription(String description) {\r\n        this.description = description;\r\n    }\r\n\r\n    public long getRealTime() {return  realTime; }\r\n\r\n    public void setRealTime(long realTime) {this.realTime = realTime;}\r\n\r\n    public String getUri (){return uri;}\r\n\r\n    public void setUri(String uri) {this.uri = uri;}\r\n\r\n    public String getSelection(){return selection;}\r\n\r\n    public void setSelection(String selection) {this.selection = selection;}\r\n\r\n    public Date getDeleted() {\r\n        return deleted;\r\n    }\r\n\r\n    public void setDeleted(Date deleted) {\r\n        this.deleted = deleted;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**\r\nSQLiteManager.java**\r\n\r\n```\r\npublic class SQLiteManager extends SQLiteOpenHelper {\r\n\r\n    private static SQLiteManager sqLiteManager;\r\n\r\n    private static final String DATABASE_NAME = &quot;NoteDB&quot;;\r\n    private static final int DATABASE_VERSION = 3;\r\n    private static final String TABLE_NAME = &quot;Note&quot;;\r\n    private static final String COUNTER = &quot;Counter&quot;;\r\n\r\n    private static final String ID_FIELD = &quot;id&quot;;\r\n    private static final String TITLE_FIELD = &quot;title&quot;;\r\n    private static final String DESC_FIELD = &quot;desc&quot;;\r\n    private static final String REAL_TIME = &quot;realtime&quot;;\r\n    private static final String IMAGE_URI = &quot;uri&quot;;\r\n    private static final String SELECTED_ITEM = &quot;selection&quot;;\r\n    private static final String DELETED_FIELD = &quot;deleted&quot;;\r\n\r\n    @SuppressLint(&quot;SimpleDateFormat&quot;)\r\n    private static final DateFormat dateFormat = new SimpleDateFormat(&quot;MM-dd-yyyy HH:mm:ss&quot;);\r\n\r\n    public SQLiteManager(Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n    }\r\n\r\n    public static SQLiteManager instanceOfDatabase(Context context) {\r\n        if (sqLiteManager == null) {\r\n            sqLiteManager = new SQLiteManager(context);\r\n        }\r\n\r\n        return sqLiteManager;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n        StringBuilder sql;\r\n        sql = new StringBuilder()\r\n                .append(&quot; CREATE TABLE &quot;)\r\n                .append(TABLE_NAME)\r\n                .append(&quot;(&quot;)\r\n                .append(COUNTER)\r\n                .append(&quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;)\r\n                .append(ID_FIELD)\r\n                .append(&quot; INT, &quot;)\r\n                .append(TITLE_FIELD)\r\n                .append(&quot; TEXT, &quot;)\r\n                .append(DESC_FIELD)\r\n                .append(&quot; TEXT, &quot;)\r\n                .append(REAL_TIME)\r\n                .append(&quot; TEXT, &quot;)\r\n                .append(IMAGE_URI)\r\n                .append(&quot; TEXT, &quot;)\r\n                .append(SELECTED_ITEM)\r\n                .append(&quot; TEXT, &quot;)\r\n                .append(DELETED_FIELD)\r\n                .append(&quot; TEXT)&quot;);\r\n\r\n        sqLiteDatabase.execSQL(sql.toString());\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int oldVersion, int newVersion) {\r\n        //if(newVersion ==2)\r\n          sqLiteDatabase.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME );\r\n          onCreate(sqLiteDatabase);\r\n        //sqLiteDatabase.execSQL(&quot;ALTER TABLE &quot; + &quot;Note&quot; + &quot; ADD COLUMN &quot; +REAL_TIME + &quot; TEXT&quot;);\r\n    }\r\n\r\n    public void addNoteToDatabase(Note note) {\r\n        SQLiteDatabase sqLiteDatabase = this.getWritableDatabase();\r\n\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(ID_FIELD, note.getId());\r\n        contentValues.put(TITLE_FIELD, note.getTitle());\r\n        contentValues.put(DESC_FIELD, note.getDescription());\r\n        contentValues.put(REAL_TIME, String.valueOf(note.getRealTime()));\r\n        contentValues.put(IMAGE_URI, note.getUri());\r\n        contentValues.put(SELECTED_ITEM, note.getSelection());\r\n        contentValues.put(DELETED_FIELD, getStringFromDate(note.getDeleted()));\r\n\r\n        sqLiteDatabase.insert(TABLE_NAME, null, contentValues);\r\n\r\n    }\r\n\r\n\r\n    public void populateNoteListArray(String title_field) {\r\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\r\n            String Selection = &quot;title&quot; + &quot; like ?&quot;;\r\n            Cursor result = sqLiteDatabase.query(TABLE_NAME, null, Selection, new String[]{&quot;%&quot; + title_field + &quot;%&quot;}, null, null, null);\r\n\r\n                while (result.moveToNext()) {\r\n                    int id = result.getInt(1);\r\n                    String title = result.getString(2);\r\n                    String desc = result.getString(3);\r\n                    String time = result.getString(4);\r\n                    long realtime = Long.parseLong(time);\r\n                    String imgUri = result.getString(5);\r\n                    String selection = result.getString(6);\r\n                    String stringDeleted = result.getString(7);\r\n                    Date deleted = getDatefromString(stringDeleted);\r\n                    Note note = new Note(id, title, desc, realtime, imgUri, selection, deleted);\r\n                    Note.noteArrayList.add(note);\r\n                }\r\n\r\n    }\r\n\r\n    public void updateNoteInDB(Note note){\r\n        SQLiteDatabase sqLiteDatabase = this.getWritableDatabase();\r\n        ContentValues contentValues = new ContentValues();\r\n        contentValues.put(ID_FIELD, note.getId());\r\n        contentValues.put(TITLE_FIELD, note.getTitle());\r\n        contentValues.put(DESC_FIELD, note.getDescription());\r\n        contentValues.put(SELECTED_ITEM, note.getSelection());\r\n        contentValues.put(DELETED_FIELD, getStringFromDate(note.getDeleted()));\r\n\r\n        sqLiteDatabase.update(TABLE_NAME, contentValues, ID_FIELD + &quot; =?&quot;, new String[]{String.valueOf(note.getId())});\r\n    }\r\n\r\n    private String getStringFromDate(Date date) {\r\n        if(date == null){\r\n            return null;\r\n        }\r\n        return dateFormat.format(date);\r\n    }\r\n\r\n    private Date getDatefromString(String string){\r\n        try\r\n        {\r\n            return dateFormat.parse(string);\r\n        }\r\n        catch (ParseException | NullPointerException e)\r\n        {\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nThe problem: \r\n```none\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: andrii.sosnytskyi.nure.mynote_v2, PID: 16771\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{andrii.sosnytskyi.nure.mynote_v2/andrii.sosnytskyi.nure.mynote_v2.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ListView.setAdapter(android.widget.ListAdapter)&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.ListView.setAdapter(android.widget.ListAdapter)&#39; on a null object reference\r\n        at andrii.sosnytskyi.nure.mynote_v2.NoteFragment.setNoteAdapter(NoteFragment.java:55)\r\n        at andrii.sosnytskyi.nure.mynote_v2.NoteFragment.onCreateView(NoteFragment.java:37)\r\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2963)\r\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:518)\r\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\r\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\r\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2100)\r\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\r\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3138)\r\n        at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:3072)\r\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:251)\r\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:502)\r\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:248)\r\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1334)\r\n        at android.app.Activity.performStart(Activity.java:7029)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2741)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)&#160;\r\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loop(Looper.java:164)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:6494)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)&#160;\r\n\r\n```\r\nPlease, explain me how to fix it.","title":"I am creating Android Note app using fragments, but I can&#39;t cope with the error that occurs in NoteFragment.java","body":"<p><strong>NoteFragment.java</strong></p>\n<pre><code>public class NoteFragment extends Fragment {\n\n    private ListView noteListView;\n    private Note note;\n    List &lt;Note&gt; notes = new ArrayList&lt;Note&gt;();\n    private Button add;\n    private NoteAdapter noteAdapter;\n    private String title = &quot;title&quot;;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_note, container, false);\n        noteListView = (ListView) view.findViewById(R.id.noteListView);\n\n        initWidgets();\n        loadFromDBtoMemory();\n        setNoteAdapter();\n\n        return view;\n    }\n\n    private void initWidgets() {\n        noteListView = getActivity().findViewById(R.id.noteListView);\n        add = getActivity().findViewById(R.id.add_fragment);\n    }\n\n    private void loadFromDBtoMemory() {\n        SQLiteManager sqLiteManager = new SQLiteManager(getActivity());\n        sqLiteManager.populateNoteListArray(&quot;&quot;);\n    }\n\n    private void setNoteAdapter() {\n\n        NoteAdapter noteAdapter = new NoteAdapter(getContext().getApplicationContext(), Note.nonDeletedNotes());\n        noteListView.setAdapter(noteAdapter);\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        setNoteAdapter();\n    }\n</code></pre>\n<p><strong>NoteAdapter.java</strong></p>\n<pre><code>public class NoteAdapter extends ArrayAdapter&lt;Note&gt; {\n\n    public NoteAdapter(Context context, List&lt;Note&gt; notes){\n        super(context, 0,notes);\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, @Nullable View convertView, @NonNull ViewGroup parent) {\n\n        Note note = getItem(position);\n        if (convertView == null) {\n            convertView = LayoutInflater.from(getContext()).inflate(R.layout.note_cell, parent, false);\n        }\n\n        TextView title = convertView.findViewById(R.id.cellTitle);\n        TextView description = convertView.findViewById(R.id.cellDesc);\n        TextView realTime = convertView.findViewById(R.id.realTime);\n        ImageView smallImg = convertView.findViewById(R.id.smallImg);\n        TextView impTextView = convertView.findViewById(R.id.ImpTextView);\n\n        title.setText(note.getTitle());\n        description.setText(note.getDescription());\n\n        String formatedTime = DateFormat.getDateTimeInstance().format(note.getRealTime());\n        realTime.setText(formatedTime);\n\n        Uri uri = Uri.parse(note.getUri());\n        smallImg.setImageURI(null);\n        smallImg.setImageURI(uri);\n\n        if (Objects.equals(note.getSelection(), &quot;very important&quot;)) {\n            impTextView.setText(note.getSelection());\n            impTextView.setBackgroundColor(Color.rgb(255, 0, 0));\n        }\n        if (Objects.equals(note.getSelection(), &quot;important&quot;)) {\n            impTextView.setText(note.getSelection());\n            impTextView.setBackgroundColor(Color.rgb(255, 255, 153));\n        }\n        if (Objects.equals(note.getSelection(), &quot;not very important&quot;)) {\n            impTextView.setText(note.getSelection());\n            impTextView.setBackgroundColor(Color.rgb(240, 248, 255));\n        }\n\n        return convertView;\n    }\n\n}\n</code></pre>\n<p><strong>AddFragment.java</strong></p>\n<pre><code>public class AddFragment extends Fragment {\n\n    private EditText titleEditText, descEditText;\n    private Note selectedNote;\n    private ImageView newImg;\n    private FloatingActionButton addImg;\n    private ConstraintLayout imgContainer;\n    private final int PICK_IMAGE_CODE = 123;\n    private String tempUri = &quot;empty&quot;;\n    private String[] importancy = {&quot;very important&quot;, &quot;important&quot;, &quot;not very important&quot;};\n    private Spinner spinner;\n    private String selectedItem;\n    private View view;\n    private Button saveNote;\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_add, container, false);\n        SQLiteManager sqLiteManager = new SQLiteManager(getActivity());\n        spinner = view.findViewById(R.id.importancy);\n\n        titleEditText = view.findViewById(R.id.titleEditText);\n        descEditText = view.findViewById(R.id.descriptionEditText);\n        addImg = view.findViewById(R.id.addImg);\n        imgContainer = view.findViewById(R.id.imgContainer);\n        newImg = view.findViewById(R.id.newImg);\n        spinner = view.findViewById(R.id.importancy);\n        saveNote = view.findViewById(R.id.saveNote);\n\n        saveNote.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                saveNote(view);\n            }\n        });\n\n        ArrayAdapter&lt;String&gt; importancyAdapter = new ArrayAdapter&lt;String&gt;(getActivity(), android.R.layout.simple_spinner_item, importancy);\n        importancyAdapter.setDropDownViewResource(android.R.layout.simple_spinner_dropdown_item);\n        spinner.setAdapter(importancyAdapter);\n\n        spinner.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n                selectedItem = adapterView.getSelectedItem().toString();\n                for (int u = 0; u &lt; importancy.length; u++) {\n                    if (importancy[i] == &quot;very important&quot;)\n                        view.setBackgroundColor(Color.rgb(255, 0, 0));\n                    if (importancy[i] == &quot;important&quot;)\n                        view.setBackgroundColor(Color.rgb(255, 255, 153));\n                    if (importancy[i] == &quot;not very important&quot;)\n                        view.setBackgroundColor(Color.rgb(240, 248, 255));\n                }\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n            }\n        });\n        return view;\n}\n\n    @Override\n    public void onActivityCreated(@Nullable Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n    }\n\n\n    public void saveNote(View view) {\n\n        SQLiteManager sqLiteManager = new SQLiteManager(getActivity());\n\n        String title = String.valueOf(titleEditText.getText());\n        String desc = String.valueOf(descEditText.getText());\n        long realTime = System.currentTimeMillis();\n        String uri = String.valueOf(tempUri);\n        String selection = String.valueOf(selectedItem);\n\n        if(selectedNote == null){\n            int id = Note.noteArrayList.size();\n            Note newNote = new Note(id, title, desc, realTime, uri, selection);\n            Note.noteArrayList.add(newNote);\n\n            System.out.println(Note.noteArrayList);\n\n            sqLiteManager.addNoteToDatabase(newNote);\n            Toast.makeText(getActivity().getApplicationContext(), &quot;Note saved&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else {\n            selectedNote.setTitle(title);\n            selectedNote.setDescription(desc);\n            selectedNote.setRealTime(realTime);\n            selectedNote.setUri(uri);\n            selectedNote.setSelection(selection);\n            sqLiteManager.updateNoteInDB(selectedNote);\n        }\n\n    }\n\n}\n</code></pre>\n<p><strong>Note.java</strong></p>\n<pre><code>public class Note {\n\n    public static ArrayList&lt;Note&gt; noteArrayList = new ArrayList&lt;&gt;();\n    public static String NOTE_EDIT_EXTRA = &quot;noteEdit&quot;;\n\n    private int id;\n    private String title;\n    private String description;\n    private long realTime;\n    private String uri = &quot;empty&quot;;\n    private String selection;\n    private Date deleted;\n\n    public Note(int id, String title, String description, long realTime, String uri, String selection, Date deleted) {\n        this.id = id;\n        this.title = title;\n        this.description = description;\n        this.realTime = realTime;\n        this.uri = uri;\n        this.selection = selection;\n        this.deleted = deleted;\n    }\n\n    public Note(int id, String title, String description, long realTime, String uri, String selection) {\n        this.id = id;\n        this.title = title;\n        this.description = description;\n        this.realTime = realTime;\n        this.uri = uri;\n        this.selection = selection;\n        deleted = null;\n    }\n\n    public static Note getNoteForID(int passedNoteID) {\n        for(Note note : noteArrayList){\n            if(note.getId() == passedNoteID){\n                return note;\n            }\n        }\n        return null;\n    }\n\n    public static ArrayList&lt;Note&gt; nonDeletedNotes(){\n\n        ArrayList&lt;Note&gt; nonDeleted = new ArrayList&lt;&gt;();\n        for(Note note : noteArrayList){\n            if(note.getDeleted() == null){\n                nonDeleted.add(note);\n            }\n        }\n        return nonDeleted;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public long getRealTime() {return  realTime; }\n\n    public void setRealTime(long realTime) {this.realTime = realTime;}\n\n    public String getUri (){return uri;}\n\n    public void setUri(String uri) {this.uri = uri;}\n\n    public String getSelection(){return selection;}\n\n    public void setSelection(String selection) {this.selection = selection;}\n\n    public Date getDeleted() {\n        return deleted;\n    }\n\n    public void setDeleted(Date deleted) {\n        this.deleted = deleted;\n    }\n\n}\n</code></pre>\n<p>**\nSQLiteManager.java**</p>\n<pre><code>public class SQLiteManager extends SQLiteOpenHelper {\n\n    private static SQLiteManager sqLiteManager;\n\n    private static final String DATABASE_NAME = &quot;NoteDB&quot;;\n    private static final int DATABASE_VERSION = 3;\n    private static final String TABLE_NAME = &quot;Note&quot;;\n    private static final String COUNTER = &quot;Counter&quot;;\n\n    private static final String ID_FIELD = &quot;id&quot;;\n    private static final String TITLE_FIELD = &quot;title&quot;;\n    private static final String DESC_FIELD = &quot;desc&quot;;\n    private static final String REAL_TIME = &quot;realtime&quot;;\n    private static final String IMAGE_URI = &quot;uri&quot;;\n    private static final String SELECTED_ITEM = &quot;selection&quot;;\n    private static final String DELETED_FIELD = &quot;deleted&quot;;\n\n    @SuppressLint(&quot;SimpleDateFormat&quot;)\n    private static final DateFormat dateFormat = new SimpleDateFormat(&quot;MM-dd-yyyy HH:mm:ss&quot;);\n\n    public SQLiteManager(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n    }\n\n    public static SQLiteManager instanceOfDatabase(Context context) {\n        if (sqLiteManager == null) {\n            sqLiteManager = new SQLiteManager(context);\n        }\n\n        return sqLiteManager;\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n        StringBuilder sql;\n        sql = new StringBuilder()\n                .append(&quot; CREATE TABLE &quot;)\n                .append(TABLE_NAME)\n                .append(&quot;(&quot;)\n                .append(COUNTER)\n                .append(&quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot;)\n                .append(ID_FIELD)\n                .append(&quot; INT, &quot;)\n                .append(TITLE_FIELD)\n                .append(&quot; TEXT, &quot;)\n                .append(DESC_FIELD)\n                .append(&quot; TEXT, &quot;)\n                .append(REAL_TIME)\n                .append(&quot; TEXT, &quot;)\n                .append(IMAGE_URI)\n                .append(&quot; TEXT, &quot;)\n                .append(SELECTED_ITEM)\n                .append(&quot; TEXT, &quot;)\n                .append(DELETED_FIELD)\n                .append(&quot; TEXT)&quot;);\n\n        sqLiteDatabase.execSQL(sql.toString());\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int oldVersion, int newVersion) {\n        //if(newVersion ==2)\n          sqLiteDatabase.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME );\n          onCreate(sqLiteDatabase);\n        //sqLiteDatabase.execSQL(&quot;ALTER TABLE &quot; + &quot;Note&quot; + &quot; ADD COLUMN &quot; +REAL_TIME + &quot; TEXT&quot;);\n    }\n\n    public void addNoteToDatabase(Note note) {\n        SQLiteDatabase sqLiteDatabase = this.getWritableDatabase();\n\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(ID_FIELD, note.getId());\n        contentValues.put(TITLE_FIELD, note.getTitle());\n        contentValues.put(DESC_FIELD, note.getDescription());\n        contentValues.put(REAL_TIME, String.valueOf(note.getRealTime()));\n        contentValues.put(IMAGE_URI, note.getUri());\n        contentValues.put(SELECTED_ITEM, note.getSelection());\n        contentValues.put(DELETED_FIELD, getStringFromDate(note.getDeleted()));\n\n        sqLiteDatabase.insert(TABLE_NAME, null, contentValues);\n\n    }\n\n\n    public void populateNoteListArray(String title_field) {\n        SQLiteDatabase sqLiteDatabase = this.getReadableDatabase();\n            String Selection = &quot;title&quot; + &quot; like ?&quot;;\n            Cursor result = sqLiteDatabase.query(TABLE_NAME, null, Selection, new String[]{&quot;%&quot; + title_field + &quot;%&quot;}, null, null, null);\n\n                while (result.moveToNext()) {\n                    int id = result.getInt(1);\n                    String title = result.getString(2);\n                    String desc = result.getString(3);\n                    String time = result.getString(4);\n                    long realtime = Long.parseLong(time);\n                    String imgUri = result.getString(5);\n                    String selection = result.getString(6);\n                    String stringDeleted = result.getString(7);\n                    Date deleted = getDatefromString(stringDeleted);\n                    Note note = new Note(id, title, desc, realtime, imgUri, selection, deleted);\n                    Note.noteArrayList.add(note);\n                }\n\n    }\n\n    public void updateNoteInDB(Note note){\n        SQLiteDatabase sqLiteDatabase = this.getWritableDatabase();\n        ContentValues contentValues = new ContentValues();\n        contentValues.put(ID_FIELD, note.getId());\n        contentValues.put(TITLE_FIELD, note.getTitle());\n        contentValues.put(DESC_FIELD, note.getDescription());\n        contentValues.put(SELECTED_ITEM, note.getSelection());\n        contentValues.put(DELETED_FIELD, getStringFromDate(note.getDeleted()));\n\n        sqLiteDatabase.update(TABLE_NAME, contentValues, ID_FIELD + &quot; =?&quot;, new String[]{String.valueOf(note.getId())});\n    }\n\n    private String getStringFromDate(Date date) {\n        if(date == null){\n            return null;\n        }\n        return dateFormat.format(date);\n    }\n\n    private Date getDatefromString(String string){\n        try\n        {\n            return dateFormat.parse(string);\n        }\n        catch (ParseException | NullPointerException e)\n        {\n            return null;\n        }\n    }\n</code></pre>\n<p>The problem:</p>\n<pre class=\"lang-none prettyprint-override\"><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: andrii.sosnytskyi.nure.mynote_v2, PID: 16771\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{andrii.sosnytskyi.nure.mynote_v2/andrii.sosnytskyi.nure.mynote_v2.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.ListView.setAdapter(android.widget.ListAdapter)' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2778)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856)\n        at android.app.ActivityThread.-wrap11(Unknown Source:0)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6494)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.ListView.setAdapter(android.widget.ListAdapter)' on a null object reference\n        at andrii.sosnytskyi.nure.mynote_v2.NoteFragment.setNoteAdapter(NoteFragment.java:55)\n        at andrii.sosnytskyi.nure.mynote_v2.NoteFragment.onCreateView(NoteFragment.java:37)\n        at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2963)\n        at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:518)\n        at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:282)\n        at androidx.fragment.app.FragmentManager.executeOpsTogether(FragmentManager.java:2189)\n        at androidx.fragment.app.FragmentManager.removeRedundantOperationsAndExecute(FragmentManager.java:2100)\n        at androidx.fragment.app.FragmentManager.execPendingActions(FragmentManager.java:2002)\n        at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:3138)\n        at androidx.fragment.app.FragmentManager.dispatchActivityCreated(FragmentManager.java:3072)\n        at androidx.fragment.app.FragmentController.dispatchActivityCreated(FragmentController.java:251)\n        at androidx.fragment.app.FragmentActivity.onStart(FragmentActivity.java:502)\n        at androidx.appcompat.app.AppCompatActivity.onStart(AppCompatActivity.java:248)\n        at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1334)\n        at android.app.Activity.performStart(Activity.java:7029)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2741)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2856) \n        at android.app.ActivityThread.-wrap11(Unknown Source:0) \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1589) \n        at android.os.Handler.dispatchMessage(Handler.java:106) \n        at android.os.Looper.loop(Looper.java:164) \n        at android.app.ActivityThread.main(ActivityThread.java:6494) \n        at java.lang.reflect.Method.invoke(Native Method) \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:438) \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:807) \n\n</code></pre>\n<p>Please, explain me how to fix it.</p>\n"},{"tags":["java","jvm","bytecode","javassist"],"answers":[{"tags":[],"owner":{"account_id":12542751,"reputation":11,"user_id":9127174,"display_name":"zeal liao"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668336137,"creation_date":1668334569,"answer_id":74420055,"question_id":72829701,"body_markdown":"I meet the same issue and then this situation is work, make the `ctClass.toClass()` and the invoke the constructor:\r\n\r\n```\r\nClass&lt;?&gt; clazz = ctClass.toClass();\r\nObject obj = clazz.newInstance(); \r\n```","title":"Why does Javassist setSuperclass() appear not to work?","body":"<p>I meet the same issue and then this situation is work, make the <code>ctClass.toClass()</code> and the invoke the constructor:</p>\n<pre><code>Class&lt;?&gt; clazz = ctClass.toClass();\nObject obj = clazz.newInstance(); \n</code></pre>\n"}],"owner":{"account_id":103505,"reputation":345,"user_id":277193,"accept_rate":88,"display_name":"ADude"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668336137,"creation_date":1656680621,"question_id":72829701,"body_markdown":"I have been trying out Javassist but found that even the most simple use cases, the first example from the Javassist official tutorial does not appear to work https://www.javassist.org/tutorial/tutorial.html\r\n\r\nI&#39;m not sure why when I try the following the superclass does not appear to change.\r\nNo exceptions are thrown but when I log from within each of the constructor&#39;s of my class hierarchy the Rectangle class does not end up extending the ColorShape class.\r\n\r\nI&#39;ve modified my example slightly from the javassist tutorial as the documentation for \r\nsetSuperclass() says...\r\n\r\n&quot;*Changes a super class unless this object represents an interface. The new super class must be compatible with the old one; for example, it should inherit from the old super class*&quot;\r\n\r\n\r\n    public class RuntimeModifier {\r\n\r\n    public  void changeSuperClass() {\r\n\r\n        ClassPool pool = ClassPool.getDefault();\r\n        pool.insertClassPath(new ClassClassPath(this.getClass()));\r\n\r\n        CtClass cc = null;\r\n        try {\r\n            cc = pool.get(&quot;org.example.Rectangle&quot;);\r\n            cc.setSuperclass(pool.get(&quot;org.example.ColorRectangle&quot;));\r\n            cc.writeFile();\r\n        } catch (NotFoundException e) {\r\n            System.out.println(&quot;NotFoundException: &quot;);\r\n            throw new RuntimeException(e);\r\n        } catch (CannotCompileException e) {\r\n            System.out.println(&quot;CannotCompileException&quot;);\r\n            throw new RuntimeException(e);\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;IOException&quot;);\r\n            throw new RuntimeException(e);\r\n        }\r\n        System.out.println(&quot;called change super class&quot;);\r\n    }\r\n\r\n    public class Rectangle extends Shape{\r\n    Rectangle(){\r\n        System.out.println(&quot;Rectangle Created&quot;);\r\n    }\r\n}\r\n\r\n    public class ColorRectangle extends Shape{\r\n\r\n    ColorRectangle(){\r\n        System.out.println(&quot;ColorRectangle created&quot;);\r\n    }\r\n}\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        RuntimeModifier rm = new RuntimeModifier();\r\n        rm.changeSuperClass();\r\n        Rectangle myRect = new Rectangle();\r\n    }\r\n}\r\n\r\nOutPut:\r\n\r\n    called change super class\r\n    Shape Created\r\n    Rectangle Created\r\n\r\n....\r\n\r\nI would expect to see this but I don&#39;t\r\n\r\n    called change super class\r\n    Shape Created \r\n    ColorRectangle created \r\n    Rectangle Created\r\n\r\nIt looks like the new superclass for Rectangle &quot;ColorRectangle&quot; is not created, Why is this?\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why does Javassist setSuperclass() appear not to work?","body":"<p>I have been trying out Javassist but found that even the most simple use cases, the first example from the Javassist official tutorial does not appear to work <a href=\"https://www.javassist.org/tutorial/tutorial.html\" rel=\"nofollow noreferrer\">https://www.javassist.org/tutorial/tutorial.html</a></p>\n<p>I'm not sure why when I try the following the superclass does not appear to change.\nNo exceptions are thrown but when I log from within each of the constructor's of my class hierarchy the Rectangle class does not end up extending the ColorShape class.</p>\n<p>I've modified my example slightly from the javassist tutorial as the documentation for\nsetSuperclass() says...</p>\n<p>&quot;<em>Changes a super class unless this object represents an interface. The new super class must be compatible with the old one; for example, it should inherit from the old super class</em>&quot;</p>\n<pre><code>public class RuntimeModifier {\n\npublic  void changeSuperClass() {\n\n    ClassPool pool = ClassPool.getDefault();\n    pool.insertClassPath(new ClassClassPath(this.getClass()));\n\n    CtClass cc = null;\n    try {\n        cc = pool.get(&quot;org.example.Rectangle&quot;);\n        cc.setSuperclass(pool.get(&quot;org.example.ColorRectangle&quot;));\n        cc.writeFile();\n    } catch (NotFoundException e) {\n        System.out.println(&quot;NotFoundException: &quot;);\n        throw new RuntimeException(e);\n    } catch (CannotCompileException e) {\n        System.out.println(&quot;CannotCompileException&quot;);\n        throw new RuntimeException(e);\n    } catch (IOException e) {\n        System.out.println(&quot;IOException&quot;);\n        throw new RuntimeException(e);\n    }\n    System.out.println(&quot;called change super class&quot;);\n}\n\npublic class Rectangle extends Shape{\nRectangle(){\n    System.out.println(&quot;Rectangle Created&quot;);\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class ColorRectangle extends Shape{\n\nColorRectangle(){\n    System.out.println(&quot;ColorRectangle created&quot;);\n}\n</code></pre>\n<p>}</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    RuntimeModifier rm = new RuntimeModifier();\n    rm.changeSuperClass();\n    Rectangle myRect = new Rectangle();\n}\n</code></pre>\n<p>}</p>\n<p>OutPut:</p>\n<pre><code>called change super class\nShape Created\nRectangle Created\n</code></pre>\n<p>....</p>\n<p>I would expect to see this but I don't</p>\n<pre><code>called change super class\nShape Created \nColorRectangle created \nRectangle Created\n</code></pre>\n<p>It looks like the new superclass for Rectangle &quot;ColorRectangle&quot; is not created, Why is this?</p>\n"},{"tags":["java","kotlin"],"comments":[{"owner":{"account_id":11104856,"reputation":1527,"user_id":8152324,"display_name":"ndc85430"},"score":2,"creation_date":1668335013,"post_id":74420070,"comment_id":131375850,"body_markdown":"Why has the constructor in the Java version become a method in the Kotlin version? Also, which IDE are you using? IntelliJ at least offers a Java to Kotlin conversion which &quot;works&quot; and then you can tidy up as required.","body":"Why has the constructor in the Java version become a method in the Kotlin version? Also, which IDE are you using? IntelliJ at least offers a Java to Kotlin conversion which &quot;works&quot; and then you can tidy up as required."},{"owner":{"account_id":375765,"reputation":9822,"user_id":726802,"accept_rate":75,"display_name":"Pankaj"},"score":0,"creation_date":1668335618,"post_id":74420070,"comment_id":131375929,"body_markdown":"This was done by IntelliJ itself.","body":"This was done by IntelliJ itself."},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1668342364,"post_id":74420070,"comment_id":131377063,"body_markdown":"The Java version is already pretty puzzling, to be frank. It looks like a singleton pattern, but it&#39;s not really. The assignment of the static instance is not thread safe, and more importantly the instance is created with the `Context` of the first `getInstanc()` invocation, and then other contexts are ignored. This seems pretty wrong. Also, why is the static instance field public?","body":"The Java version is already pretty puzzling, to be frank. It looks like a singleton pattern, but it&#39;s not really. The assignment of the static instance is not thread safe, and more importantly the instance is created with the <code>Context</code> of the first <code>getInstanc()</code> invocation, and then other contexts are ignored. This seems pretty wrong. Also, why is the static instance field public?"},{"owner":{"account_id":20191003,"reputation":331,"user_id":14809236,"display_name":"Camp Nerd"},"score":0,"creation_date":1668433177,"post_id":74420070,"comment_id":131396594,"body_markdown":"You can use the built in migration in Android Studio. What I did was right click the &quot;app&quot; then click convert, then I went into each Activity.kt and done the same. It converts 98% of the code, the other 2% is tidying up, like imports and stuff. The converter is not 100% accurate but it will get you in the 90% range and then you just adjust the remaining code.","body":"You can use the built in migration in Android Studio. What I did was right click the &quot;app&quot; then click convert, then I went into each Activity.kt and done the same. It converts 98% of the code, the other 2% is tidying up, like imports and stuff. The converter is not 100% accurate but it will get you in the 90% range and then you just adjust the remaining code."}],"owner":{"account_id":375765,"reputation":9822,"user_id":726802,"accept_rate":75,"display_name":"Pankaj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668334689,"creation_date":1668334689,"question_id":74420070,"body_markdown":"I am trying to convert below Java code into Kotlin.\r\n\r\nI am getting two errors, I think due to constructors. \r\n\r\nType mismatch: inferred type is Unit but AuthNM? was expected\r\n\r\n\r\n**Java Code**\r\n\r\n    import com.android.volley.RequestQueue;\r\n    import android.content.Context;\r\n    import com.android.volley.toolbox.Volley;\r\n    \r\n    public class AuthNM {\r\n    \r\n        private RequestQueue requestQueue;\r\n        public static AuthNM instance = null;\r\n    \r\n        private AuthNM(Context context) {\r\n            requestQueue = Volley.newRequestQueue(context.getApplicationContext());\r\n        }\r\n    \r\n        public static AuthNM getInstance(Context context) {\r\n            if (instance == null) {\r\n                instance = new AuthNM(context);\r\n            }\r\n            return instance;\r\n        }\r\n    }\r\n\r\n**Kotlin Code**\r\n\r\n    class AuthNM {\r\n        private var requestQueue: RequestQueue? = null\r\n        var instance: AuthNM? = null\r\n    \r\n        private fun AuthNM(context: Context?) {\r\n            requestQueue = Volley.newRequestQueue(context.getApplicationContext())\r\n        }\r\n    \r\n        fun getInstance(context: Context): AuthNM? {\r\n            if (instance == null) {\r\n                instance = AuthNM(context);\r\n            }\r\n            return instance;\r\n        }\r\n    \r\n    }","title":"Issue while converting java code to Kotlin","body":"<p>I am trying to convert below Java code into Kotlin.</p>\n<p>I am getting two errors, I think due to constructors.</p>\n<p>Type mismatch: inferred type is Unit but AuthNM? was expected</p>\n<p><strong>Java Code</strong></p>\n<pre><code>import com.android.volley.RequestQueue;\nimport android.content.Context;\nimport com.android.volley.toolbox.Volley;\n\npublic class AuthNM {\n\n    private RequestQueue requestQueue;\n    public static AuthNM instance = null;\n\n    private AuthNM(Context context) {\n        requestQueue = Volley.newRequestQueue(context.getApplicationContext());\n    }\n\n    public static AuthNM getInstance(Context context) {\n        if (instance == null) {\n            instance = new AuthNM(context);\n        }\n        return instance;\n    }\n}\n</code></pre>\n<p><strong>Kotlin Code</strong></p>\n<pre><code>class AuthNM {\n    private var requestQueue: RequestQueue? = null\n    var instance: AuthNM? = null\n\n    private fun AuthNM(context: Context?) {\n        requestQueue = Volley.newRequestQueue(context.getApplicationContext())\n    }\n\n    fun getInstance(context: Context): AuthNM? {\n        if (instance == null) {\n            instance = AuthNM(context);\n        }\n        return instance;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","algorithm","sorting","recursion","quicksort"],"answers":[{"tags":[],"owner":{"account_id":15444713,"reputation":1,"user_id":11142075,"display_name":"Artkoto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668334464,"creation_date":1668304930,"answer_id":74417962,"question_id":74416932,"body_markdown":"```java\r\npublic class QuickSort {\r\n\r\n    public static void quickSort(int[] s) {\r\n        quickSortSub(s, 0, s.length - 1);\r\n    }\r\n\r\n    private static void quickSortSub(int[] s, int a, int b) {\r\n        if(b-a &gt;= 1) {//here\r\n            int point = partition(s, a, b);\r\n            if(point&gt;=a+2) //here\r\n            quickSortSub(s, a, point - 1);\r\n            quickSortSub(s, point + 1, b);\r\n        }\r\n    }\r\n\r\n    private static int partition(int[] s, int a, int b) {\r\n        int pivot = s[b];\r\n        int left = a;\r\n        int right = b-1;\r\n        while(left &lt; right &amp;&amp; right&gt;a) { //here\r\n            while(s[left] &lt; pivot ) {\r\n                left++;\r\n            }\r\n            while(s[right] &gt; pivot) {\r\n                right--;\r\n            }\r\n            if(left &lt; right) {\r\n                int tmp = s[left];\r\n                s[left] = s[right];\r\n                s[right] = tmp;\r\n            }\r\n        }\r\n        //here\r\n        if(s[left] &gt;= pivot ){\r\n            s[b] = s[left];\r\n        s[left] = pivot;\r\n        }\r\n\r\n        return left;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = {85, 10, 24, 63, 45, 27, 100, 31, 96, 50, 40, 23, 49, 96, 120, 105, 13, 5, 42, 69, 22, 12};\r\n        quickSort(arr);\r\n        for (int i: arr) System.out.print(i + &quot;, &quot;);\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n}\r\n```","title":"Recursive quickSort method currently not working as intended","body":"<pre class=\"lang-java prettyprint-override\"><code>public class QuickSort {\n\n    public static void quickSort(int[] s) {\n        quickSortSub(s, 0, s.length - 1);\n    }\n\n    private static void quickSortSub(int[] s, int a, int b) {\n        if(b-a &gt;= 1) {//here\n            int point = partition(s, a, b);\n            if(point&gt;=a+2) //here\n            quickSortSub(s, a, point - 1);\n            quickSortSub(s, point + 1, b);\n        }\n    }\n\n    private static int partition(int[] s, int a, int b) {\n        int pivot = s[b];\n        int left = a;\n        int right = b-1;\n        while(left &lt; right &amp;&amp; right&gt;a) { //here\n            while(s[left] &lt; pivot ) {\n                left++;\n            }\n            while(s[right] &gt; pivot) {\n                right--;\n            }\n            if(left &lt; right) {\n                int tmp = s[left];\n                s[left] = s[right];\n                s[right] = tmp;\n            }\n        }\n        //here\n        if(s[left] &gt;= pivot ){\n            s[b] = s[left];\n        s[left] = pivot;\n        }\n\n        return left;\n    }\n\n    public static void main(String[] args) {\n        int[] arr = {85, 10, 24, 63, 45, 27, 100, 31, 96, 50, 40, 23, 49, 96, 120, 105, 13, 5, 42, 69, 22, 12};\n        quickSort(arr);\n        for (int i: arr) System.out.print(i + &quot;, &quot;);\n        System.out.println(&quot;&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25165879,"reputation":1,"user_id":19009428,"display_name":"Cosmo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668334464,"creation_date":1668290632,"question_id":74416932,"body_markdown":"I have designed a recursive quickSort method that seems to work for some inputted arrays, but often has slight errors in most cases.\r\n\r\nMy code is as follows:\r\n\r\n```\r\npublic class QuickSort {\r\n\r\n    public static void quickSort(int[] s) {\r\n        quickSortSub(s, 0, s.length - 1);\r\n    }\r\n\r\n    private static void quickSortSub(int[] s, int a, int b) {\r\n        if(b-a &gt; 1) {\r\n            int point = partition(s, a, b);\r\n            quickSortSub(s, a, point - 1);\r\n            quickSortSub(s, point + 1, b);\r\n        } \r\n    }\r\n\r\n    private static int partition(int[] s, int a, int b) {\r\n        int pivot = s[b];\r\n        int left = a;\r\n        int right = b-1;\r\n        while(left &lt; right) {\r\n            while(s[left] &lt; pivot) {\r\n                left++;\r\n            }\r\n            while(s[right] &gt; pivot) {\r\n                right--;\r\n            }\r\n            if(left &lt; right) {\r\n                int tmp = s[left];\r\n                s[left] = s[right];\r\n                s[right] = tmp;\r\n            }\r\n        }\r\n        s[b] = s[left];\r\n        s[left] = pivot;\r\n        return left;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] arr = {85, 10, 24, 63, 45, 27, 100, 31, 96, 50, 40, 23, 49, 96, 120, 105, 13, 5, 42, 69, 22, 12};\r\n        quickSort(arr);\r\n        for (int i: arr) System.out.print(i + &quot;, &quot;);\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n}\r\n```\r\n\r\nWhen executed, the &#39;sorted&#39; list outputs as follows:\r\n5, 10, 12, 22, 13, 23, 24, 31, 27, 40, 42, 45, 49, 50, 63, 69, 85, 96, 96, 100, 120, 105\r\n\r\nwhich is (by inspection) not correct \r\n","title":"Recursive quickSort method currently not working as intended","body":"<p>I have designed a recursive quickSort method that seems to work for some inputted arrays, but often has slight errors in most cases.</p>\n<p>My code is as follows:</p>\n<pre><code>public class QuickSort {\n\n    public static void quickSort(int[] s) {\n        quickSortSub(s, 0, s.length - 1);\n    }\n\n    private static void quickSortSub(int[] s, int a, int b) {\n        if(b-a &gt; 1) {\n            int point = partition(s, a, b);\n            quickSortSub(s, a, point - 1);\n            quickSortSub(s, point + 1, b);\n        } \n    }\n\n    private static int partition(int[] s, int a, int b) {\n        int pivot = s[b];\n        int left = a;\n        int right = b-1;\n        while(left &lt; right) {\n            while(s[left] &lt; pivot) {\n                left++;\n            }\n            while(s[right] &gt; pivot) {\n                right--;\n            }\n            if(left &lt; right) {\n                int tmp = s[left];\n                s[left] = s[right];\n                s[right] = tmp;\n            }\n        }\n        s[b] = s[left];\n        s[left] = pivot;\n        return left;\n    }\n\n    public static void main(String[] args) {\n        int[] arr = {85, 10, 24, 63, 45, 27, 100, 31, 96, 50, 40, 23, 49, 96, 120, 105, 13, 5, 42, 69, 22, 12};\n        quickSort(arr);\n        for (int i: arr) System.out.print(i + &quot;, &quot;);\n        System.out.println(&quot;&quot;);\n    }\n}\n</code></pre>\n<p>When executed, the 'sorted' list outputs as follows:\n5, 10, 12, 22, 13, 23, 24, 31, 27, 40, 42, 45, 49, 50, 63, 69, 85, 96, 96, 100, 120, 105</p>\n<p>which is (by inspection) not correct</p>\n"},{"tags":["java","spring","pmd"],"answers":[{"tags":[],"owner":{"account_id":110825,"reputation":1483,"user_id":293115,"accept_rate":100,"display_name":"HairyFotr"},"down_vote_count":0,"up_vote_count":43,"is_accepted":true,"score":43,"last_activity_date":1664656599,"creation_date":1440854122,"answer_id":32286453,"question_id":32272138,"body_markdown":"PMD also supports the @SuppressWarnings annotations:\r\n\r\n    // This will suppress all the PMD warnings in this class\r\n    @SuppressWarnings(&quot;PMD&quot;)\r\n    public class Bar {\r\n     void bar() {\r\n      int foo;\r\n     }\r\n    }\r\n\r\nOr just one type of warning:\r\n\r\n    // This will suppress UnusedLocalVariable warnings in this class\r\n    @SuppressWarnings(&quot;PMD.UnusedLocalVariable&quot;)\r\n    public class Bar {\r\n     void bar() {\r\n      int foo;\r\n     }\r\n    }\r\n\r\nAnd what you might also want to look into are [creating rulesets](https://pmd.github.io/latest/pmd_userdocs_making_rulesets.html) and [suppressing warnings](https://pmd.github.io/latest/pmd_userdocs_suppressing_warnings.html). Maybe you want to disable a certain rule, or exclude certain files and folders from PMD checking.","title":"How to suppress violations in PMD?","body":"<p>PMD also supports the @SuppressWarnings annotations:</p>\n<pre><code>// This will suppress all the PMD warnings in this class\n@SuppressWarnings(&quot;PMD&quot;)\npublic class Bar {\n void bar() {\n  int foo;\n }\n}\n</code></pre>\n<p>Or just one type of warning:</p>\n<pre><code>// This will suppress UnusedLocalVariable warnings in this class\n@SuppressWarnings(&quot;PMD.UnusedLocalVariable&quot;)\npublic class Bar {\n void bar() {\n  int foo;\n }\n}\n</code></pre>\n<p>And what you might also want to look into are <a href=\"https://pmd.github.io/latest/pmd_userdocs_making_rulesets.html\" rel=\"noreferrer\">creating rulesets</a> and <a href=\"https://pmd.github.io/latest/pmd_userdocs_suppressing_warnings.html\" rel=\"noreferrer\">suppressing warnings</a>. Maybe you want to disable a certain rule, or exclude certain files and folders from PMD checking.</p>\n"},{"tags":[],"owner":{"account_id":2031261,"reputation":109,"user_id":1814898,"display_name":"akshayp"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1613218318,"creation_date":1522751496,"answer_id":49627852,"question_id":32272138,"body_markdown":"In my organization I use the PMD ignore option in POM file to suppress all warnings that are generated for client stubs (and kept in separate module) that we auto-generate, as those are third party client-stubs we don&#39;t tend to touch them thought there are any warnings or violations and I am assuming the same thing for you as we well.\r\n\r\nBelow is a snippet from POM file, which has client stub module\r\n\r\n```xml\r\n&lt;build&gt;\r\n\t&lt;plugins&gt;\r\n\t\t&lt;plugin&gt;\r\n\t\t\t&lt;!-- &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; --&gt;\r\n\t\t\t&lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;configuration&gt;\r\n\t\t\t\t&lt;skip&gt;true&lt;/skip&gt;\r\n\t\t\t&lt;/configuration&gt;\r\n\t\t&lt;/plugin&gt;\r\n\t&lt;/plugins&gt;\r\n\r\n\t&lt;pluginManagement&gt;\r\n\t\t&lt;plugins&gt;\t\t\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8&lt;/version&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/pluginManagement&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nThis way we can entirely skip the warnings that are raised by PMD plugin.\r\n","title":"How to suppress violations in PMD?","body":"<p>In my organization I use the PMD ignore option in POM file to suppress all warnings that are generated for client stubs (and kept in separate module) that we auto-generate, as those are third party client-stubs we don't tend to touch them thought there are any warnings or violations and I am assuming the same thing for you as we well.</p>\n<p>Below is a snippet from POM file, which has client stub module</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;!-- &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt; --&gt;\n            &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;skip&gt;true&lt;/skip&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n\n    &lt;pluginManagement&gt;\n        &lt;plugins&gt;       \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-pmd-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n&lt;/build&gt;\n</code></pre>\n<p>This way we can entirely skip the warnings that are raised by PMD plugin.</p>\n"},{"tags":[],"owner":{"account_id":6717294,"reputation":437,"user_id":5178726,"display_name":"Aron Hoogeveen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668334174,"creation_date":1668334174,"answer_id":74420015,"question_id":32272138,"body_markdown":"If you want to ignore a rule for the entire project you can create a custom ruleset:\r\n\r\n__config/pmd/pmd-ruleset.xml__\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; ?&gt;\r\n&lt;ruleset name=&quot;custom rules&quot;&gt;\r\n    &lt;rule ref=&quot;category/java/errorprone.xml&quot;&gt;\r\n        &lt;exclude name=&quot;AvoidLiteralsInIfCondition&quot; /&gt;\r\n    &lt;/rule&gt;\r\n&lt;/ruleset&gt;\r\n\r\n```\r\n\r\nInside my `build.gradle` file (I use Gradle for dependency management) I then add:\r\n```\r\npmd {\r\n    incrementalAnalysis = true\r\n    ruleSetFiles = files(&quot;${rootDir}/config/pmd/pmd-ruleset.xml&quot;)\r\n    ruleSets = []\r\n}\r\n\r\n```\r\n\r\n### Links\r\n[Making rulesets | PMD](https://pmd.github.io/latest/pmd_userdocs_making_rulesets.html)\r\n\r\n[Suppressing warnings | PMD](https://pmd.github.io/latest/pmd_userdocs_suppressing_warnings.html)","title":"How to suppress violations in PMD?","body":"<p>If you want to ignore a rule for the entire project you can create a custom ruleset:</p>\n<p><strong>config/pmd/pmd-ruleset.xml</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; ?&gt;\n&lt;ruleset name=&quot;custom rules&quot;&gt;\n    &lt;rule ref=&quot;category/java/errorprone.xml&quot;&gt;\n        &lt;exclude name=&quot;AvoidLiteralsInIfCondition&quot; /&gt;\n    &lt;/rule&gt;\n&lt;/ruleset&gt;\n\n</code></pre>\n<p>Inside my <code>build.gradle</code> file (I use Gradle for dependency management) I then add:</p>\n<pre><code>pmd {\n    incrementalAnalysis = true\n    ruleSetFiles = files(&quot;${rootDir}/config/pmd/pmd-ruleset.xml&quot;)\n    ruleSets = []\n}\n\n</code></pre>\n<h3>Links</h3>\n<p><a href=\"https://pmd.github.io/latest/pmd_userdocs_making_rulesets.html\" rel=\"nofollow noreferrer\">Making rulesets | PMD</a></p>\n<p><a href=\"https://pmd.github.io/latest/pmd_userdocs_suppressing_warnings.html\" rel=\"nofollow noreferrer\">Suppressing warnings | PMD</a></p>\n"}],"owner":{"account_id":215504,"reputation":52462,"user_id":470184,"accept_rate":91,"display_name":"blue-sky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41671,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":32286453,"answer_count":3,"score":26,"last_activity_date":1668334174,"creation_date":1440768249,"question_id":32272138,"body_markdown":"When I run a PMD analysis I receive violation: \r\n\r\n&gt; Each class should declare at least one constructor\r\n\r\nThis violation is on a Spring controller. This controller is instantiated by Spring, so I shouldn&#39;t need to invoke this class.\r\n\r\nWhat is recommended way of ignoring this violation?\r\n\r\nAccording to [this doc](http://pmd.sourceforge.net/pmd-4.3/suppressing.html) can use `//NOPMD` but I just want to ignore specific violation.","title":"How to suppress violations in PMD?","body":"<p>When I run a PMD analysis I receive violation:</p>\n<blockquote>\n<p>Each class should declare at least one constructor</p>\n</blockquote>\n<p>This violation is on a Spring controller. This controller is instantiated by Spring, so I shouldn't need to invoke this class.</p>\n<p>What is recommended way of ignoring this violation?</p>\n<p>According to <a href=\"http://pmd.sourceforge.net/pmd-4.3/suppressing.html\" rel=\"noreferrer\">this doc</a> can use <code>//NOPMD</code> but I just want to ignore specific violation.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15237737,"reputation":484,"user_id":10994912,"display_name":"George R"},"score":0,"creation_date":1668327052,"post_id":74419368,"comment_id":131374739,"body_markdown":"Can you please indent the code correctly and show the trace so we know where the exception originates?","body":"Can you please indent the code correctly and show the trace so we know where the exception originates?"}],"answers":[{"tags":[],"owner":{"account_id":18676476,"reputation":73,"user_id":13614048,"display_name":"Avinash gupta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1668333467,"creation_date":1668333467,"answer_id":74419951,"question_id":74419368,"body_markdown":"    package ddd;\r\n    import java.util.*;\r\n    \r\n    \r\n    public class Main\r\n    {\r\n        public static void main (String[] args) throws java.lang.Exception\r\n        {\r\n            //your code here\r\n        Scanner sc =new Scanner(System.in);\r\n        int N= sc.nextInt();\r\n        int[] arr=new int[N];\r\n        for(int i=0;i&lt;N;i++)\r\n        arr[i]=sc.nextInt();\r\n    \r\n        Solution s=new Solution();\r\n        s.Answer(arr,N);\r\n        \r\n        }\r\n    }\r\n     class Solution\r\n    {\r\n      public void Answer(int [] arr,int N)\r\n      {\r\n        int p=0,ne=0,z=0,i=0;\r\n           while(i&lt;arr.length)\r\n           {\r\n             if(arr[i]&gt;0)\r\n               p++;\r\n             else if(arr[i]&lt;0)\r\n               ne++;\r\n             else  z++;\r\n             i++;\r\n           }\r\n       System.out.printf(&quot;%1.4f \\n&quot;, p/(float)N);\r\n            System.out.printf(&quot;%1.4f \\n&quot;, ne/(float)N);\r\n            System.out.printf(&quot;%1.4f\\n &quot;, z/(float)N);\r\n      }\r\n    }\r\n\r\n\r\n\r\nI think just converting N to float would solve your problem.","title":"Why below code throwing IllegalFormatConversionException error?","body":"<pre><code>package ddd;\nimport java.util.*;\n\n\npublic class Main\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        //your code here\n    Scanner sc =new Scanner(System.in);\n    int N= sc.nextInt();\n    int[] arr=new int[N];\n    for(int i=0;i&lt;N;i++)\n    arr[i]=sc.nextInt();\n\n    Solution s=new Solution();\n    s.Answer(arr,N);\n    \n    }\n}\n class Solution\n{\n  public void Answer(int [] arr,int N)\n  {\n    int p=0,ne=0,z=0,i=0;\n       while(i&lt;arr.length)\n       {\n         if(arr[i]&gt;0)\n           p++;\n         else if(arr[i]&lt;0)\n           ne++;\n         else  z++;\n         i++;\n       }\n   System.out.printf(&quot;%1.4f \\n&quot;, p/(float)N);\n        System.out.printf(&quot;%1.4f \\n&quot;, ne/(float)N);\n        System.out.printf(&quot;%1.4f\\n &quot;, z/(float)N);\n  }\n}\n</code></pre>\n<p>I think just converting N to float would solve your problem.</p>\n"}],"owner":{"account_id":26836948,"reputation":13,"user_id":20424083,"display_name":"Sharath Cherry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74419951,"answer_count":1,"score":-1,"last_activity_date":1668333774,"creation_date":1668326674,"question_id":74419368,"body_markdown":"```\r\nimport java.util.*;\r\nimport java.lang.*;\r\nimport java.io.*;\r\n\r\npublic class Main\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n\t\t//your code here\r\n    Scanner sc =new Scanner(System.in);\r\n    int N=sc.nextInt();\r\n    int[] arr=new int[N];\r\n    for(int i=0;i&lt;N;i++)\r\n    arr[i]=sc.nextInt();\r\n\r\n    Solution s=new Solution();\r\n    s.Answer(arr,N);\r\n    \r\n\t}\r\n}\r\n class Solution\r\n{\r\n  public void Answer(int [] arr,int N)\r\n  {\r\n    int p=0,ne=0,z=0,i=0;\r\n       while(i&lt;arr.length)\r\n       {\r\n         if(arr[i]&gt;0)\r\n           p++;\r\n         else if(arr[i]&lt;0)\r\n           ne++;\r\n         else  z++;\r\n         i++;\r\n       }\r\n   System.out.printf(&quot;%1.4f \\n&quot;, p/N);\r\n        System.out.printf(&quot;%1.4f \\n&quot;, ne /N);\r\n        System.out.printf(&quot;%1.4f\\n &quot;, z / N);\r\n  }\r\n}\r\n```\r\n\r\n### **I have written the above code for the question Given an array of integers of size N integers, the task is to find the ratio of positive numbers, negative numbers, and zeros in the array up to four decimal places.**\r\n\r\n**Examples:**\r\n\r\n&gt; **Input:** a\\[\\] = {2, -1, 5, 6, 0, -3}&#160;  \r\n&gt; **Output:** 0.5000 0.3333 0.1667&#160;  \r\n&gt; There are 3 positive, 2 negative, and 1 zero. Their ratio would be positive: 3/6 = 0.5000, negative: 2/6 = 0.3333, and zero: 1/6 = 0.1667.\r\n\r\nI compiled the above code but it showing an Illegalformatexception. But I am not getting why it is showing like that.\r\n\r\nI  checked all syntaxes which I have  used in this code. but I  couldn&#39;t find that problem.\r\n\r\nplease help me in solving this plus-minus  problem.","title":"Why below code throwing IllegalFormatConversionException error?","body":"<pre><code>import java.util.*;\nimport java.lang.*;\nimport java.io.*;\n\npublic class Main\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        //your code here\n    Scanner sc =new Scanner(System.in);\n    int N=sc.nextInt();\n    int[] arr=new int[N];\n    for(int i=0;i&lt;N;i++)\n    arr[i]=sc.nextInt();\n\n    Solution s=new Solution();\n    s.Answer(arr,N);\n    \n    }\n}\n class Solution\n{\n  public void Answer(int [] arr,int N)\n  {\n    int p=0,ne=0,z=0,i=0;\n       while(i&lt;arr.length)\n       {\n         if(arr[i]&gt;0)\n           p++;\n         else if(arr[i]&lt;0)\n           ne++;\n         else  z++;\n         i++;\n       }\n   System.out.printf(&quot;%1.4f \\n&quot;, p/N);\n        System.out.printf(&quot;%1.4f \\n&quot;, ne /N);\n        System.out.printf(&quot;%1.4f\\n &quot;, z / N);\n  }\n}\n</code></pre>\n<h3><strong>I have written the above code for the question Given an array of integers of size N integers, the task is to find the ratio of positive numbers, negative numbers, and zeros in the array up to four decimal places.</strong></h3>\n<p><strong>Examples:</strong></p>\n<blockquote>\n<p><strong>Input:</strong> a[] = {2, -1, 5, 6, 0, -3} <br />\n<strong>Output:</strong> 0.5000 0.3333 0.1667 <br />\nThere are 3 positive, 2 negative, and 1 zero. Their ratio would be positive: 3/6 = 0.5000, negative: 2/6 = 0.3333, and zero: 1/6 = 0.1667.</p>\n</blockquote>\n<p>I compiled the above code but it showing an Illegalformatexception. But I am not getting why it is showing like that.</p>\n<p>I  checked all syntaxes which I have  used in this code. but I  couldn't find that problem.</p>\n<p>please help me in solving this plus-minus  problem.</p>\n"},{"tags":["java","api","rest-assured","hamcrest"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":1,"creation_date":1668132673,"post_id":74393042,"comment_id":131337806,"body_markdown":"pls show the last response. if response is null or empty --&gt; throws this exception.","body":"pls show the last response. if response is null or empty --&gt; throws this exception."},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1668156546,"post_id":74393042,"comment_id":131341993,"body_markdown":"the content-length of your response is 0. Is that how it is expected to be?","body":"the content-length of your response is 0. Is that how it is expected to be?"},{"owner":{"account_id":15371672,"reputation":21,"user_id":11089541,"display_name":"mangesh"},"score":0,"creation_date":1668174945,"post_id":74393042,"comment_id":131348321,"body_markdown":"@AlexeyR.  thanks for your response, I forgot to mention \nin postman we get a response:\n\n{\n    &quot;msg&quot;: &quot;Address successfully updated&quot;\n}\n\nits a dummy setup though","body":"@AlexeyR.  thanks for your response, I forgot to mention  in postman we get a response:  {     &quot;msg&quot;: &quot;Address successfully updated&quot; }  its a dummy setup though"},{"owner":{"account_id":15371672,"reputation":21,"user_id":11089541,"display_name":"mangesh"},"score":0,"creation_date":1668176472,"post_id":74393042,"comment_id":131348889,"body_markdown":"@lucas-nguyen-17 i checked the response-length is zero but in postman we get a json response with success message","body":"@lucas-nguyen-17 i checked the response-length is zero but in postman we get a json response with success message"}],"answers":[{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668333496,"creation_date":1668333496,"answer_id":74419954,"question_id":74393042,"body_markdown":"URL of PUT request should be\r\n\r\n`https://rahulshettyacademy.com/maps/api/place/update/json?key=qaclick123`\r\n\r\nYou used URL of POST request for PUT request.","title":"error with hamcrest assertion when running rest-assured script","body":"<p>URL of PUT request should be</p>\n<p><code>https://rahulshettyacademy.com/maps/api/place/update/json?key=qaclick123</code></p>\n<p>You used URL of POST request for PUT request.</p>\n"}],"owner":{"account_id":15371672,"reputation":21,"user_id":11089541,"display_name":"mangesh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":438,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668333496,"creation_date":1668101141,"question_id":74393042,"body_markdown":"**I am trying to run this script for rest-assured, the last line uses a hamcrest assertion to validate the response body:**\r\n    \r\n    import io.restassured.RestAssured;\r\n    import io.restassured.path.json.JsonPath;\r\n    import static io.restassured.RestAssured.*;\r\n    import static org.hamcrest.Matchers.*;\r\n\r\n    public class Basics {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t//Validate Add location API\r\n\t\t\r\n\t\t\r\n\t\t// Setting up base URI\r\n\t\tRestAssured.baseURI = &quot;https://rahulshettyacademy.com&quot;;\r\n\t\t\r\n\t\t//given : all inputs wrapped under given method // when : hit the API // then : validate the response\r\n\r\n\r\n\t\t//add location\r\n\t\t\r\n\t\tString response = given().log().all().queryParam(&quot;key&quot;, &quot;qaclick123&quot;)\r\n\t\t\t\t.header(&quot;Content-Type&quot;,&quot;application/json&quot;)\r\n\t\t\t\t.body(payLoad.addLocation())\r\n\t\t.when().post(&quot;/maps/api/place/add/json&quot;)\r\n\t\t.then().assertThat().statusCode(200)\r\n\t\t\t\t.body(&quot;scope&quot;, equalTo(&quot;APP&quot;))\r\n\t\t\t\t.header(&quot;Server&quot;,(&quot;Apache/2.4.41 (Ubuntu)&quot;))\r\n\t\t\t\t.extract().response().asString();\r\n\r\n\t\tSystem.out.println(response);\r\n\r\n\t\t//using JasonPath for parsing json\r\n\r\n\t\tJsonPath js = new JsonPath(response);\r\n\t\tString place_id = js.getString(&quot;place_id&quot;);\r\n\t\tSystem.out.println(place_id);\r\n\r\n\t\t//update location\r\n\r\n\t\tgiven().log().all().queryParam(&quot;key&quot;,&quot;qaclick123&quot;)\r\n\t\t\t\t.header(&quot;Content-Type&quot;,&quot;application/json&quot;)\r\n\t\t\t\t.body(&quot;{\\n&quot; +\r\n\t\t\t\t\t\t&quot;\\&quot;place_id\\&quot;:\\&quot;&quot;+place_id+&quot;\\&quot;,\\n&quot; +\r\n\t\t\t\t\t\t&quot;\\&quot;address\\&quot;:\\&quot;70 Summer walk, USA\\&quot;,\\n&quot; +\r\n\t\t\t\t\t\t&quot;\\&quot;key\\&quot;:\\&quot;qaclick123\\&quot;\\n&quot; +\r\n\t\t\t\t\t\t&quot;}&quot;)\r\n\t\t\t\t.when().put(&quot;/maps/api/place/add/json&quot;)\r\n\t\t\t\t.then().log().all().assertThat()\r\n\t\t\t\t.statusCode(200).body(&quot;msg&quot;,equalTo(&quot;Address successfully updated&quot;));\r\n\r\n      }\r\n    }\r\n\r\n**It goes all well untill the last assertion to validate the response body, at the other place with the POST request the assertion is validating the response body but in the PUT request   throws me this error:**\r\n\r\n    Request method:\tPOST\r\n    Request URI:\thttps://rahulshettyacademy.com/maps/api/place/add/json?key=qaclick123\r\n    Proxy:\t\t\t&lt;none&gt;\r\n    Request params:\t&lt;none&gt;\r\n    Query params:\tkey=qaclick123\r\n    Form params:\t&lt;none&gt;\r\n    Path params:\t&lt;none&gt;\r\n    Headers:\t\tAccept=*/*\r\n\t\t\t\tContent-Type=application/json\r\n    Cookies:\t\t&lt;none&gt;\r\n    Multiparts:\t\t&lt;none&gt;\r\n    Body:\r\n    {\r\n        &quot;location&quot;: {\r\n            &quot;lat&quot;: -38.383494,\r\n            &quot;lng&quot;: 33.427362\r\n        },\r\n    &quot;accuracy&quot;: 50,\r\n    &quot;name&quot;: &quot;Frontline house&quot;,\r\n    &quot;phone_number&quot;: &quot;(+91) 983 893 3937&quot;,\r\n    &quot;address&quot;: &quot;29, side layout, cohen 09&quot;,\r\n    &quot;types&quot;: [\r\n        &quot;shoe park&quot;,\r\n        &quot;shop&quot;\r\n    ],\r\n    &quot;website&quot;: &quot;http://google.com&quot;,\r\n    &quot;language&quot;: &quot;English-IN&quot;\r\n    }\r\n    {&quot;status&quot;:&quot;OK&quot;,&quot;place_id&quot;:&quot;e50a637ebdf651c6808204513eedadd1&quot;,&quot;scope&quot;:&quot;APP&quot;,&quot;reference&quot;:&quot;ef6cc67ffac92ea58e901ee1bfe02bf5ef6cc67ffac92ea58e901ee1bfe02bf5&quot;,&quot;id&quot;:&quot;ef6cc67ffac92ea58e901ee1bfe02bf5&quot;}\r\n    e50a637ebdf651c6808204513eedadd1\r\n    Request method:\tPUT\r\n    Request URI:\thttps://rahulshettyacademy.com/maps/api/place/add/json?key=qaclick123\r\n    Proxy:\t\t\t&lt;none&gt;\r\n    Request params:\t&lt;none&gt;\r\n    Query params:\tkey=qaclick123\r\n    Form params:\t&lt;none&gt;\r\n    Path params:\t&lt;none&gt;\r\n    Headers:\t\tAccept=*/*\r\n    \t\t\t\tContent-Type=application/json\r\n    Cookies:\t\t&lt;none&gt;\r\n    Multiparts:\t\t&lt;none&gt;\r\n    Body:\r\n    {\r\n        &quot;place_id&quot;: &quot;e50a637ebdf651c6808204513eedadd1&quot;,\r\n        &quot;address&quot;: &quot;70 Summer walk, USA&quot;,\r\n        &quot;key&quot;: &quot;qaclick123&quot;\r\n    }\r\n    HTTP/1.1 200 OK\r\n    Date: Thu, 10 Nov 2022 16:56:27 GMT\r\n    Server: Apache/2.4.41 (Ubuntu)\r\n    Access-Control-Allow-Origin: *\r\n    Access-Control-Allow-Methods: POST\r\n    Access-Control-Max-Age: 3600\r\n    Access-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\r\n    Content-Length: 0\r\n    Keep-Alive: timeout=5, max=100\r\n    Connection: Keep-Alive\r\n    Content-Type: application/json; charset=UTF-8\r\n    Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: The JSON input text should neither be null nor empty.\r\n    \tat java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\r\n    \tat org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:73)\r\n    \tat org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:108)\r\n    \tat org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:58)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:263)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:277)\r\n    \tat io.restassured.internal.path.json.ConfigurableJsonSlurper.parseText(ConfigurableJsonSlurper.groovy:80)\r\n    \tat io.restassured.internal.path.json.ConfigurableJsonSlurper$parseText.call(Unknown Source)\r\n    \tat io.restassured.internal.ContentParser.parse(ContentParser.groovy:42)\r\n    \tat io.restassured.internal.ContentParser$parse.call(Unknown Source)\r\n    \tat io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validate(ResponseSpecificationImpl.groovy:497)\r\n    \tat io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure$validate$1.call(Unknown Source)\r\n    \tat io.restassured.internal.ResponseSpecificationImpl.validateResponseIfRequired(ResponseSpecificationImpl.groovy:696)\r\n    \tat io.restassured.internal.ResponseSpecificationImpl.this$2$validateResponseIfRequired(ResponseSpecificationImpl.groovy)\r\n    \tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:577)\r\n    \tat org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)\r\n    \tat org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:198)\r\n    \tat org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:62)\r\n    \tat org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\r\n    \tat io.restassured.internal.ResponseSpecificationImpl.body(ResponseSpecificationImpl.groovy:270)\r\n    \tat io.restassured.specification.ResponseSpecification$body$1.callCurrent(Unknown Source)\r\n    \tat io.restassured.internal.ResponseSpecificationImpl.body(ResponseSpecificationImpl.groovy:117)\r\n    \tat io.restassured.internal.ValidatableResponseOptionsImpl.body(ValidatableResponseOptionsImpl.java:244)\r\n    \tat Basics.main(Basics.java:50)\r\n\r\n\r\n**Please help me understand what am I missing here**\r\n\r\n\r\n","title":"error with hamcrest assertion when running rest-assured script","body":"<p><strong>I am trying to run this script for rest-assured, the last line uses a hamcrest assertion to validate the response body:</strong></p>\n<pre><code>import io.restassured.RestAssured;\nimport io.restassured.path.json.JsonPath;\nimport static io.restassured.RestAssured.*;\nimport static org.hamcrest.Matchers.*;\n\npublic class Basics {\n\npublic static void main(String[] args) {\n    // TODO Auto-generated method stub\n    //Validate Add location API\n    \n    \n    // Setting up base URI\n    RestAssured.baseURI = &quot;https://rahulshettyacademy.com&quot;;\n    \n    //given : all inputs wrapped under given method // when : hit the API // then : validate the response\n\n\n    //add location\n    \n    String response = given().log().all().queryParam(&quot;key&quot;, &quot;qaclick123&quot;)\n            .header(&quot;Content-Type&quot;,&quot;application/json&quot;)\n            .body(payLoad.addLocation())\n    .when().post(&quot;/maps/api/place/add/json&quot;)\n    .then().assertThat().statusCode(200)\n            .body(&quot;scope&quot;, equalTo(&quot;APP&quot;))\n            .header(&quot;Server&quot;,(&quot;Apache/2.4.41 (Ubuntu)&quot;))\n            .extract().response().asString();\n\n    System.out.println(response);\n\n    //using JasonPath for parsing json\n\n    JsonPath js = new JsonPath(response);\n    String place_id = js.getString(&quot;place_id&quot;);\n    System.out.println(place_id);\n\n    //update location\n\n    given().log().all().queryParam(&quot;key&quot;,&quot;qaclick123&quot;)\n            .header(&quot;Content-Type&quot;,&quot;application/json&quot;)\n            .body(&quot;{\\n&quot; +\n                    &quot;\\&quot;place_id\\&quot;:\\&quot;&quot;+place_id+&quot;\\&quot;,\\n&quot; +\n                    &quot;\\&quot;address\\&quot;:\\&quot;70 Summer walk, USA\\&quot;,\\n&quot; +\n                    &quot;\\&quot;key\\&quot;:\\&quot;qaclick123\\&quot;\\n&quot; +\n                    &quot;}&quot;)\n            .when().put(&quot;/maps/api/place/add/json&quot;)\n            .then().log().all().assertThat()\n            .statusCode(200).body(&quot;msg&quot;,equalTo(&quot;Address successfully updated&quot;));\n\n  }\n}\n</code></pre>\n<p><strong>It goes all well untill the last assertion to validate the response body, at the other place with the POST request the assertion is validating the response body but in the PUT request   throws me this error:</strong></p>\n<pre><code>Request method: POST\nRequest URI:    https://rahulshettyacademy.com/maps/api/place/add/json?key=qaclick123\nProxy:          &lt;none&gt;\nRequest params: &lt;none&gt;\nQuery params:   key=qaclick123\nForm params:    &lt;none&gt;\nPath params:    &lt;none&gt;\nHeaders:        Accept=*/*\n            Content-Type=application/json\nCookies:        &lt;none&gt;\nMultiparts:     &lt;none&gt;\nBody:\n{\n    &quot;location&quot;: {\n        &quot;lat&quot;: -38.383494,\n        &quot;lng&quot;: 33.427362\n    },\n&quot;accuracy&quot;: 50,\n&quot;name&quot;: &quot;Frontline house&quot;,\n&quot;phone_number&quot;: &quot;(+91) 983 893 3937&quot;,\n&quot;address&quot;: &quot;29, side layout, cohen 09&quot;,\n&quot;types&quot;: [\n    &quot;shoe park&quot;,\n    &quot;shop&quot;\n],\n&quot;website&quot;: &quot;http://google.com&quot;,\n&quot;language&quot;: &quot;English-IN&quot;\n}\n{&quot;status&quot;:&quot;OK&quot;,&quot;place_id&quot;:&quot;e50a637ebdf651c6808204513eedadd1&quot;,&quot;scope&quot;:&quot;APP&quot;,&quot;reference&quot;:&quot;ef6cc67ffac92ea58e901ee1bfe02bf5ef6cc67ffac92ea58e901ee1bfe02bf5&quot;,&quot;id&quot;:&quot;ef6cc67ffac92ea58e901ee1bfe02bf5&quot;}\ne50a637ebdf651c6808204513eedadd1\nRequest method: PUT\nRequest URI:    https://rahulshettyacademy.com/maps/api/place/add/json?key=qaclick123\nProxy:          &lt;none&gt;\nRequest params: &lt;none&gt;\nQuery params:   key=qaclick123\nForm params:    &lt;none&gt;\nPath params:    &lt;none&gt;\nHeaders:        Accept=*/*\n                Content-Type=application/json\nCookies:        &lt;none&gt;\nMultiparts:     &lt;none&gt;\nBody:\n{\n    &quot;place_id&quot;: &quot;e50a637ebdf651c6808204513eedadd1&quot;,\n    &quot;address&quot;: &quot;70 Summer walk, USA&quot;,\n    &quot;key&quot;: &quot;qaclick123&quot;\n}\nHTTP/1.1 200 OK\nDate: Thu, 10 Nov 2022 16:56:27 GMT\nServer: Apache/2.4.41 (Ubuntu)\nAccess-Control-Allow-Origin: *\nAccess-Control-Allow-Methods: POST\nAccess-Control-Max-Age: 3600\nAccess-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With\nContent-Length: 0\nKeep-Alive: timeout=5, max=100\nConnection: Keep-Alive\nContent-Type: application/json; charset=UTF-8\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: The JSON input text should neither be null nor empty.\n    at java.base/jdk.internal.reflect.DirectConstructorHandleAccessor.newInstance(DirectConstructorHandleAccessor.java:67)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:483)\n    at org.codehaus.groovy.reflection.CachedConstructor.invoke(CachedConstructor.java:73)\n    at org.codehaus.groovy.runtime.callsite.ConstructorSite$ConstructorSiteNoUnwrapNoCoerce.callConstructor(ConstructorSite.java:108)\n    at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCallConstructor(CallSiteArray.java:58)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:263)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callConstructor(AbstractCallSite.java:277)\n    at io.restassured.internal.path.json.ConfigurableJsonSlurper.parseText(ConfigurableJsonSlurper.groovy:80)\n    at io.restassured.internal.path.json.ConfigurableJsonSlurper$parseText.call(Unknown Source)\n    at io.restassured.internal.ContentParser.parse(ContentParser.groovy:42)\n    at io.restassured.internal.ContentParser$parse.call(Unknown Source)\n    at io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure.validate(ResponseSpecificationImpl.groovy:497)\n    at io.restassured.internal.ResponseSpecificationImpl$HamcrestAssertionClosure$validate$1.call(Unknown Source)\n    at io.restassured.internal.ResponseSpecificationImpl.validateResponseIfRequired(ResponseSpecificationImpl.groovy:696)\n    at io.restassured.internal.ResponseSpecificationImpl.this$2$validateResponseIfRequired(ResponseSpecificationImpl.groovy)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:577)\n    at org.codehaus.groovy.runtime.callsite.PlainObjectMetaMethodSite.doInvoke(PlainObjectMetaMethodSite.java:43)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite$PogoCachedMethodSiteNoUnwrapNoCoerce.invoke(PogoMetaMethodSite.java:198)\n    at org.codehaus.groovy.runtime.callsite.PogoMetaMethodSite.callCurrent(PogoMetaMethodSite.java:62)\n    at org.codehaus.groovy.runtime.callsite.AbstractCallSite.callCurrent(AbstractCallSite.java:185)\n    at io.restassured.internal.ResponseSpecificationImpl.body(ResponseSpecificationImpl.groovy:270)\n    at io.restassured.specification.ResponseSpecification$body$1.callCurrent(Unknown Source)\n    at io.restassured.internal.ResponseSpecificationImpl.body(ResponseSpecificationImpl.groovy:117)\n    at io.restassured.internal.ValidatableResponseOptionsImpl.body(ValidatableResponseOptionsImpl.java:244)\n    at Basics.main(Basics.java:50)\n</code></pre>\n<p><strong>Please help me understand what am I missing here</strong></p>\n"},{"tags":["java","midi"],"answers":[{"tags":[],"owner":{"account_id":9026259,"reputation":1316,"user_id":6725459,"display_name":"jjazzboss"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1668333418,"creation_date":1668277513,"answer_id":74415487,"question_id":74411832,"body_markdown":"`makeEvent(176,1,126,0,16)` means &quot;make a controller event at tick position 16 which sets the channel 1 of the connected Midi synthesizer in Mono mode&quot;. How do I know that:\r\n\r\n - 176 means it&#39;s a controller Midi event. \r\n - 1 means channel 1\r\n - 126 is the controller number, and it means &quot;Set channel in Mono mode&quot; (search the web for Midi controllers list to get the meaning of each number, and the meaning of the associated value) \r\n - 0 is the associated value\r\n - 16 is the tick position\r\n\r\n`makeEvent(192,9,1,0,15)` means &quot;make a program change event on channel 9 at tick position 15 which sets the patch #1 on the connected Midi synthesizer.&quot; :\r\n\r\n - 192 means it&#39;s a Program Change\r\n - 9 is the drums channel\r\n - 1 is the patch id\r\n - 0 is the 2nd value which is ignored in the case of a Program Change command\r\n - 15 is the tick position\r\n\r\nIt&#39;s very usual in Midi files to find &quot;Program Change&quot; messages at the start of the song, they tell the synth (for example) &quot;Select an electric bass patch on channel 11&quot; -if channel 11 notes contains the bass line. \r\n\r\nFrom what you describe, I assume the sequencer is in loop mode, and sequence&#39;tick resolution is 1 PPQ. If you don&#39;t explicitly use `Sequencer.setLoopStartPoint()` and `Sequencer.setLoopEndPoint()`, the `Sequencer` loops the whole sequence. Sequence length depends on the last MidiEvent tick position. If you don&#39;t add any NoteON/OFF events (e.g. if all your checkboxes are unchecked ?), then the Program Change presence preserves the sequence length=16 ticks.\r\n\r\nThe &quot;Set mono mode&quot; message is more rare, and it&#39;s at tick 16, so this makes sequence length=17 ticks actually...\r\n\r\nA good short website to understand Midi basics for programming  : [https://www.cs.cmu.edu/~music/cmsip/readings/MIDI%20tutorial%20for%20programmers.html][1]\r\n\r\nThe [ShortMessage API][2] defines a few constants for common Midi command/status values, it makes your code easier to read.\r\n\r\n\r\n  [1]: https://www.cs.cmu.edu/~music/cmsip/readings/MIDI%20tutorial%20for%20programmers.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/midi/ShortMessage.html","title":"Values 176 &amp; 192 &amp; their function in MIDI message","body":"<p><code>makeEvent(176,1,126,0,16)</code> means &quot;make a controller event at tick position 16 which sets the channel 1 of the connected Midi synthesizer in Mono mode&quot;. How do I know that:</p>\n<ul>\n<li>176 means it's a controller Midi event.</li>\n<li>1 means channel 1</li>\n<li>126 is the controller number, and it means &quot;Set channel in Mono mode&quot; (search the web for Midi controllers list to get the meaning of each number, and the meaning of the associated value)</li>\n<li>0 is the associated value</li>\n<li>16 is the tick position</li>\n</ul>\n<p><code>makeEvent(192,9,1,0,15)</code> means &quot;make a program change event on channel 9 at tick position 15 which sets the patch #1 on the connected Midi synthesizer.&quot; :</p>\n<ul>\n<li>192 means it's a Program Change</li>\n<li>9 is the drums channel</li>\n<li>1 is the patch id</li>\n<li>0 is the 2nd value which is ignored in the case of a Program Change command</li>\n<li>15 is the tick position</li>\n</ul>\n<p>It's very usual in Midi files to find &quot;Program Change&quot; messages at the start of the song, they tell the synth (for example) &quot;Select an electric bass patch on channel 11&quot; -if channel 11 notes contains the bass line.</p>\n<p>From what you describe, I assume the sequencer is in loop mode, and sequence'tick resolution is 1 PPQ. If you don't explicitly use <code>Sequencer.setLoopStartPoint()</code> and <code>Sequencer.setLoopEndPoint()</code>, the <code>Sequencer</code> loops the whole sequence. Sequence length depends on the last MidiEvent tick position. If you don't add any NoteON/OFF events (e.g. if all your checkboxes are unchecked ?), then the Program Change presence preserves the sequence length=16 ticks.</p>\n<p>The &quot;Set mono mode&quot; message is more rare, and it's at tick 16, so this makes sequence length=17 ticks actually...</p>\n<p>A good short website to understand Midi basics for programming  : <a href=\"https://www.cs.cmu.edu/%7Emusic/cmsip/readings/MIDI%20tutorial%20for%20programmers.html\" rel=\"nofollow noreferrer\">https://www.cs.cmu.edu/~music/cmsip/readings/MIDI%20tutorial%20for%20programmers.html</a></p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/sound/midi/ShortMessage.html\" rel=\"nofollow noreferrer\">ShortMessage API</a> defines a few constants for common Midi command/status values, it makes your code easier to read.</p>\n"}],"owner":{"account_id":24225795,"reputation":69,"user_id":18180309,"display_name":"maverickar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668333418,"creation_date":1668245861,"question_id":74411832,"body_markdown":"Taken from Head First Java&#39;s book, I am doing a Beatbox, where 16 different instruments have 16 checkboxes you can check, each one of them would be a &#39;beat&#39; and, if checked, produced sound.\r\n\r\nI have a specific method to produce MIDI events:\r\n\r\n```java\r\nprivate MidiEvent makeEvent(int comd, int chan, int one, int two, int tick) {\r\n\tMidiEvent event = null;\r\n\ttry {\r\n\t\tShortMessage a = new ShortMessage();\r\n\t\ta.setMessage(comd, chan, one, two);\r\n\t\tevent = new MidiEvent(a, tick);\r\n\t} catch(Exception e) {e.printStackTrace(); }\r\n\treturn event;\r\n```\r\n\r\nNow, at some point in the code, the following comes up:\r\n\r\n```kava\r\ntrack.add(makeEvent(176,1,126,0,16));\r\n\r\ntrack.add(makeEvent(192,9,1,0,15)); \r\n```\r\nThe first one I don&#39;t understand or know what it&#39;s for. The second one is according to the book to &#39;make sure there is an event on beat 16, otherwise the Beatbox might not go the full 16 beats before starting over&#39;. \r\n\r\nWhat are the arguments being passed to the method? Why do I need these two in the code? I found 176 is a CONTROL_CHANGE and 192 PROGRAM_CHANGE, the second argument would be the channel, the third &#39;note to play&#39; and the fourth &#39;velocity&#39;. \r\n\r\nI tried going through the APIs, and found nothing.","title":"Values 176 &amp; 192 &amp; their function in MIDI message","body":"<p>Taken from Head First Java's book, I am doing a Beatbox, where 16 different instruments have 16 checkboxes you can check, each one of them would be a 'beat' and, if checked, produced sound.</p>\n<p>I have a specific method to produce MIDI events:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private MidiEvent makeEvent(int comd, int chan, int one, int two, int tick) {\n    MidiEvent event = null;\n    try {\n        ShortMessage a = new ShortMessage();\n        a.setMessage(comd, chan, one, two);\n        event = new MidiEvent(a, tick);\n    } catch(Exception e) {e.printStackTrace(); }\n    return event;\n</code></pre>\n<p>Now, at some point in the code, the following comes up:</p>\n<pre><code>track.add(makeEvent(176,1,126,0,16));\n\ntrack.add(makeEvent(192,9,1,0,15)); \n</code></pre>\n<p>The first one I don't understand or know what it's for. The second one is according to the book to 'make sure there is an event on beat 16, otherwise the Beatbox might not go the full 16 beats before starting over'.</p>\n<p>What are the arguments being passed to the method? Why do I need these two in the code? I found 176 is a CONTROL_CHANGE and 192 PROGRAM_CHANGE, the second argument would be the channel, the third 'note to play' and the fourth 'velocity'.</p>\n<p>I tried going through the APIs, and found nothing.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1668392255,"post_id":74419421,"comment_id":131386650,"body_markdown":"If you&#39;re using Maven, then the JavaFX dependencies are likely being declared in the `pom.xml` file. You should update the versions there, not in IntelliJ (unless changing the dependencies in IntelliJ actually changes the POM file).","body":"If you&#39;re using Maven, then the JavaFX dependencies are likely being declared in the <code>pom.xml</code> file. You should update the versions there, not in IntelliJ (unless changing the dependencies in IntelliJ actually changes the POM file)."}],"answers":[{"tags":[],"owner":{"account_id":26564882,"reputation":102,"user_id":20192114,"display_name":"LakshyaK2011"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668332812,"creation_date":1668332812,"answer_id":74419890,"question_id":74419421,"body_markdown":"In Order To Update:&lt;br&gt;\r\nGo To: File -&gt; Project Structure -&gt; Libraries&lt;br&gt;\r\nAnd Remove that Library,&lt;br&gt;\r\nThen Download The New(Latest) JavaFX Version And Install it.&lt;br&gt;\r\nAnd Add It To File -&gt; Project Structure -&gt; Libraries, Again Newer One.&lt;br&gt;\r\nAnd It Wont Break","title":"Not sure how to properly update javafx version","body":"<p>In Order To Update:<br>\nGo To: File -&gt; Project Structure -&gt; Libraries<br>\nAnd Remove that Library,<br>\nThen Download The New(Latest) JavaFX Version And Install it.<br>\nAnd Add It To File -&gt; Project Structure -&gt; Libraries, Again Newer One.<br>\nAnd It Wont Break</p>\n"}],"owner":{"account_id":17838934,"reputation":3,"user_id":12957240,"display_name":"Negh_var"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1030,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74419890,"answer_count":1,"score":0,"last_activity_date":1668332812,"creation_date":1668327180,"question_id":74419421,"body_markdown":"I&#39;m hoping someone can guide me on how to best update my javafx in Intellij so I don&#39;t accidentally break my implementation entirely so I can&#39;t work on my application.\r\n\r\nwhen I run my application I get the following:\r\n```WARNING: Loading FXML document with JavaFX API of version 19 by JavaFX runtime of version 17.0.2-ea```\r\n\r\nI know from reviewing other posts that it&#39;s because I&#39;m using JDK v19, with SceneBuilder v19 but javafx is v17.\r\n\r\nWhen I go to *File* -&gt; *Project Structure* -&gt; *Libraries*, I&#39;ve added the path to the *javafx-sdk-19\\lib* folder, which I&#39;ve downloaded from [gluonhq](https://gluonhq.com/products/javafx/), however I see that there is javafx v17 libraries there with *&#39;Maven:&#39;* in front.\r\nI&#39;m worried that if I just remove them, my javafx will completely break.\r\n\r\nCan anyone guide me on updating it? I know this is a warning not something that will break my application unless I&#39;m using a specific code update that only appears in v19 but I&#39;d like a clean console to review errors.\r\n\r\nHere&#39;s a view of my *Project Structure*:\r\n[project structure window][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TqYg3.png","title":"Not sure how to properly update javafx version","body":"<p>I'm hoping someone can guide me on how to best update my javafx in Intellij so I don't accidentally break my implementation entirely so I can't work on my application.</p>\n<p>when I run my application I get the following:\n<code>WARNING: Loading FXML document with JavaFX API of version 19 by JavaFX runtime of version 17.0.2-ea</code></p>\n<p>I know from reviewing other posts that it's because I'm using JDK v19, with SceneBuilder v19 but javafx is v17.</p>\n<p>When I go to <em>File</em> -&gt; <em>Project Structure</em> -&gt; <em>Libraries</em>, I've added the path to the <em>javafx-sdk-19\\lib</em> folder, which I've downloaded from <a href=\"https://gluonhq.com/products/javafx/\" rel=\"nofollow noreferrer\">gluonhq</a>, however I see that there is javafx v17 libraries there with <em>'Maven:'</em> in front.\nI'm worried that if I just remove them, my javafx will completely break.</p>\n<p>Can anyone guide me on updating it? I know this is a warning not something that will break my application unless I'm using a specific code update that only appears in v19 but I'd like a clean console to review errors.</p>\n<p>Here's a view of my <em>Project Structure</em>:\n<a href=\"https://i.stack.imgur.com/TqYg3.png\" rel=\"nofollow noreferrer\">project structure window</a></p>\n"},{"tags":["java","mergesort"],"answers":[{"tags":[],"owner":{"account_id":11403359,"reputation":1479,"user_id":8359623,"display_name":"Papai from BEKOAIL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668314337,"creation_date":1668314337,"answer_id":74418497,"question_id":74354755,"body_markdown":"I do believe, you are not passing correct parameter while copying your *arrays* data to *secondary* array for sorting purpose. \r\n\r\n    static Box [] arrayCopy(Box [] box, int left, int right) {\r\n    \tBox [] tempArray = new Box[right - left];\r\n    \tfor(int i=left, m=0; i&lt;right; i++, m++) {\r\n    \t\ttempArray[m] = box[i];\r\n    \t}\r\n    \treturn tempArray;\r\n    }\r\n    static void mergeSort(Box[] theBoxes) {\r\n    \tif (theBoxes.length &gt; 1) {\r\n    \t\t//Box[] firstHalf = new Box[theBoxes.length / 2];\r\n    \t\t//System.arraycopy(theBoxes, 0, firstHalf, 0, theBoxes.length / 2);\r\n    \t\tBox [] firstHalf = arrayCopy(theBoxes, 0, theBoxes.length/2);\r\n    \t\tmergeSort(firstHalf);\r\n    \t\t// Merge sort the second half\r\n    \t\t//int secondHalfLength = theBoxes.length - theBoxes.length / 2;\r\n    \t\t//Box[] secondHalf = new Box[secondHalfLength];\r\n    \t\t//System.arraycopy(theBoxes, 0, secondHalf, 0, secondHalfLength);\r\n    \t\t\r\n    \t\tBox [] secondHalf = arrayCopy(theBoxes, theBoxes.length/2, theBoxes.length);\r\n    \t\tmergeSort(secondHalf);\r\n    \r\n    \t\tmerge(firstHalf, secondHalf, theBoxes);\r\n    \t}\r\n    }\r\n\r\nPlease note - I DO not know how `System.arraycopy` works in Java, therefore I wrote my own copy algorithm and it seems worked correctly. ","title":"Currently having merge sort logical error with a array of objects","body":"<p>I do believe, you are not passing correct parameter while copying your <em>arrays</em> data to <em>secondary</em> array for sorting purpose.</p>\n<pre><code>static Box [] arrayCopy(Box [] box, int left, int right) {\n    Box [] tempArray = new Box[right - left];\n    for(int i=left, m=0; i&lt;right; i++, m++) {\n        tempArray[m] = box[i];\n    }\n    return tempArray;\n}\nstatic void mergeSort(Box[] theBoxes) {\n    if (theBoxes.length &gt; 1) {\n        //Box[] firstHalf = new Box[theBoxes.length / 2];\n        //System.arraycopy(theBoxes, 0, firstHalf, 0, theBoxes.length / 2);\n        Box [] firstHalf = arrayCopy(theBoxes, 0, theBoxes.length/2);\n        mergeSort(firstHalf);\n        // Merge sort the second half\n        //int secondHalfLength = theBoxes.length - theBoxes.length / 2;\n        //Box[] secondHalf = new Box[secondHalfLength];\n        //System.arraycopy(theBoxes, 0, secondHalf, 0, secondHalfLength);\n        \n        Box [] secondHalf = arrayCopy(theBoxes, theBoxes.length/2, theBoxes.length);\n        mergeSort(secondHalf);\n\n        merge(firstHalf, secondHalf, theBoxes);\n    }\n}\n</code></pre>\n<p>Please note - I DO not know how <code>System.arraycopy</code> works in Java, therefore I wrote my own copy algorithm and it seems worked correctly.</p>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668331989,"creation_date":1668331626,"answer_id":74419804,"question_id":74354755,"body_markdown":"```java\r\nBox[] firstHalf = new Box[theBoxes.length/2];\r\n```\r\nThis is only correct if the number of elements in `theBoxes` is even.\r\n\r\nIf `theBoxes` contains 7 (seven) elements, for example, then `theBoxes.length / 2` returns 3 (three) &amp;ndash; since you are doing integer division. This means that `firstHalf` will contain three elements. Hence `secondHalf` needs to contain 4 (four) elements. So your code for dividing `theBoxes` into two halves is incorrect. I propose the following for dividing `theBoxes`:\r\n```java\r\nint mid = theBoxes.length / 2;\r\nBox[] firstHalf = new Box[mid + theBoxes.length % 2];\r\n```\r\nIf `theBoxes` contains 7 elements, then `firstHalf` will contain 4 elements, i.e. 3 + 1, since `mid` equals 3 and `theBoxes.length % 2` equals 1 (one).\r\n\r\nIf `theBoxes` contains 6 elements (again for example) then `firstHalf` will contain 3 elements, i.e. 3 + 0, since `theBoxes.length / 2` equals 3 and `theBoxes.length % 2` equals 0 (zero).\r\n\r\nNow `secondHalf` must contain the remaining elements, i.e.\r\n```java\r\nint secondHalfLength = theBoxes.length - firstHalf.length;\r\n```\r\nThe *array copy* operation needs to copy the number of elements in the target array. Since your calculation of the number of elements is wrong, the *array copy* is also wrong. It should be:\r\n```java\r\nSystem.arraycopy(theBoxes, 0, firstHalf, 0, firstHalf.length);\r\n```\r\nAlso the *array copy* for `secondHalf` is wrong. You need to copy elements from `theBoxes` starting at `mid` or `mid + 1` (again, depending on whether `theBoxes` has an even or odd number of elements, respectively) and not from 0 (zero), i.e.\r\n```java\r\nSystem.arraycopy(theBoxes, mid + theBoxes.length % 2, secondHalf, 0, secondHalfLength);\r\n```\r\nThis means that you are sending two, identical (in the case where `theBoxes` contains an even number of elements) or almost identical (in the case where `theBoxes` has an odd number of elements) arrays to method `merge` and that&#39;s probably why your resulting array contains the exact, same `Box` in every array element.\r\n\r\nLastly the final two `while` loops, in method `merge`, need to be **after** the first `while` loop and not nested inside it.\r\n\r\nHere is the complete code as a [SSCCE](https://meta.stackexchange.com/questions/22754/sscce-how-to-provide-examples-for-programming-questions). You wrote that you can&#39;t change class `Box`, so you can simply extract the methods `main`, `merge` and `mergeSort` and write another class for them.\r\n```java\r\nimport java.util.Arrays;\r\n\r\npublic class Box implements Comparable&lt;Box&gt; {\r\n    private double width, height, length;\r\n\r\n    Box(double w, double h, double l) {\r\n        width = w;\r\n        height = h;\r\n        length = l;\r\n    }\r\n\r\n    static void mergeSort(Box[] theBoxes) {\r\n        if (theBoxes.length &gt; 1) {\r\n            int mid = theBoxes.length / 2;\r\n            Box[] firstHalf = new Box[mid + theBoxes.length % 2];\r\n            System.arraycopy(theBoxes, 0, firstHalf, 0, firstHalf.length);\r\n            mergeSort(firstHalf);\r\n            // Merge sort the second half\r\n            int secondHalfLength = theBoxes.length - firstHalf.length;\r\n            Box[] secondHalf = new Box[secondHalfLength];\r\n            System.arraycopy(theBoxes, mid + theBoxes.length % 2, secondHalf, 0, secondHalfLength);\r\n            mergeSort(secondHalf);\r\n            merge(firstHalf, secondHalf, theBoxes);\r\n        }\r\n    }\r\n\r\n    static void merge(Box[] list1, Box[] list2, Box[] temp) {\r\n        int current1 = 0;\r\n        int current2 = 0;\r\n        int current3 = 0;\r\n        while (current1 &lt; list1.length &amp;&amp; current2 &lt; list2.length) {\r\n            if (list1[current1].compareTo(list2[current2]) &lt;= 0) {\r\n                temp[current3++] = list1[current1++];\r\n            }\r\n            else {\r\n                temp[current3++] = list2[current2++];\r\n            }\r\n        }\r\n        while (current1 &lt; list1.length) {\r\n            temp[current3++] = list1[current1++];\r\n        }\r\n        while (current2 &lt; list2.length) {\r\n            temp[current3++] = list2[current2++];\r\n        }\r\n    }\r\n\r\n    private double getVolume() {\r\n        return width * height * length;\r\n    }\r\n\r\n    public int compareTo(Box o) {\r\n        double myVol = this.getVolume();\r\n        double thatVol = o.getVolume();\r\n        if (myVol &gt; thatVol)\r\n            return 1;\r\n        else if (myVol &lt; thatVol)\r\n            return -1;\r\n        else\r\n            return 0;\r\n    }\r\n\r\n    public String toString() {\r\n        return &quot;Width: &quot; + width + &quot;\\theight: &quot; + height + &quot;\\tlength: &quot; + length + &quot;\\tVolume: &quot; + getVolume();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Box[] boxes = new Box[]{new Box(2, 3, 4),  // volume = 24\r\n                                new Box(2, 2, 3),  // volume = 12\r\n                                new Box(3, 3, 3),  // volume = 27\r\n                                new Box(2, 2, 2),  // volume = 8\r\n                                new Box(4, 4, 1),  // volume = 16\r\n                                new Box(5, 1, 1),  // volume = 5\r\n                                new Box(2, 2, 7)}; // volume = 28\r\n        System.out.println(&quot;Original:&quot;);\r\n        Arrays.stream(boxes)\r\n              .forEach(System.out::println);\r\n        mergeSort(boxes);\r\n        System.out.println(&quot;====================================================================&quot;);\r\n        System.out.println(&quot;Sorted:&quot;);\r\n        Arrays.stream(boxes)\r\n              .forEach(System.out::println);        \r\n    }\r\n}\r\n```\r\nRefer to: https://www.geeksforgeeks.org/merge-sort/\r\n\r\nWhen I run the above code, I get the following output:\r\n```none\r\nOriginal:\r\nWidth: 2.0\theight: 3.0\tlength: 4.0\tVolume: 24.0\r\nWidth: 2.0\theight: 2.0\tlength: 3.0\tVolume: 12.0\r\nWidth: 3.0\theight: 3.0\tlength: 3.0\tVolume: 27.0\r\nWidth: 2.0\theight: 2.0\tlength: 2.0\tVolume: 8.0\r\nWidth: 4.0\theight: 4.0\tlength: 1.0\tVolume: 16.0\r\nWidth: 5.0\theight: 1.0\tlength: 1.0\tVolume: 5.0\r\nWidth: 2.0\theight: 2.0\tlength: 7.0\tVolume: 28.0\r\n====================================================================\r\nSorted:\r\nWidth: 5.0\theight: 1.0\tlength: 1.0\tVolume: 5.0\r\nWidth: 2.0\theight: 2.0\tlength: 2.0\tVolume: 8.0\r\nWidth: 2.0\theight: 2.0\tlength: 3.0\tVolume: 12.0\r\nWidth: 4.0\theight: 4.0\tlength: 1.0\tVolume: 16.0\r\nWidth: 2.0\theight: 3.0\tlength: 4.0\tVolume: 24.0\r\nWidth: 3.0\theight: 3.0\tlength: 3.0\tVolume: 27.0\r\nWidth: 2.0\theight: 2.0\tlength: 7.0\tVolume: 28.0\r\n```\r\n","title":"Currently having merge sort logical error with a array of objects","body":"<pre class=\"lang-java prettyprint-override\"><code>Box[] firstHalf = new Box[theBoxes.length/2];\n</code></pre>\n<p>This is only correct if the number of elements in <code>theBoxes</code> is even.</p>\n<p>If <code>theBoxes</code> contains 7 (seven) elements, for example, then <code>theBoxes.length / 2</code> returns 3 (three) – since you are doing integer division. This means that <code>firstHalf</code> will contain three elements. Hence <code>secondHalf</code> needs to contain 4 (four) elements. So your code for dividing <code>theBoxes</code> into two halves is incorrect. I propose the following for dividing <code>theBoxes</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int mid = theBoxes.length / 2;\nBox[] firstHalf = new Box[mid + theBoxes.length % 2];\n</code></pre>\n<p>If <code>theBoxes</code> contains 7 elements, then <code>firstHalf</code> will contain 4 elements, i.e. 3 + 1, since <code>mid</code> equals 3 and <code>theBoxes.length % 2</code> equals 1 (one).</p>\n<p>If <code>theBoxes</code> contains 6 elements (again for example) then <code>firstHalf</code> will contain 3 elements, i.e. 3 + 0, since <code>theBoxes.length / 2</code> equals 3 and <code>theBoxes.length % 2</code> equals 0 (zero).</p>\n<p>Now <code>secondHalf</code> must contain the remaining elements, i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int secondHalfLength = theBoxes.length - firstHalf.length;\n</code></pre>\n<p>The <em>array copy</em> operation needs to copy the number of elements in the target array. Since your calculation of the number of elements is wrong, the <em>array copy</em> is also wrong. It should be:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.arraycopy(theBoxes, 0, firstHalf, 0, firstHalf.length);\n</code></pre>\n<p>Also the <em>array copy</em> for <code>secondHalf</code> is wrong. You need to copy elements from <code>theBoxes</code> starting at <code>mid</code> or <code>mid + 1</code> (again, depending on whether <code>theBoxes</code> has an even or odd number of elements, respectively) and not from 0 (zero), i.e.</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.arraycopy(theBoxes, mid + theBoxes.length % 2, secondHalf, 0, secondHalfLength);\n</code></pre>\n<p>This means that you are sending two, identical (in the case where <code>theBoxes</code> contains an even number of elements) or almost identical (in the case where <code>theBoxes</code> has an odd number of elements) arrays to method <code>merge</code> and that's probably why your resulting array contains the exact, same <code>Box</code> in every array element.</p>\n<p>Lastly the final two <code>while</code> loops, in method <code>merge</code>, need to be <strong>after</strong> the first <code>while</code> loop and not nested inside it.</p>\n<p>Here is the complete code as a <a href=\"https://meta.stackexchange.com/questions/22754/sscce-how-to-provide-examples-for-programming-questions\">SSCCE</a>. You wrote that you can't change class <code>Box</code>, so you can simply extract the methods <code>main</code>, <code>merge</code> and <code>mergeSort</code> and write another class for them.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Arrays;\n\npublic class Box implements Comparable&lt;Box&gt; {\n    private double width, height, length;\n\n    Box(double w, double h, double l) {\n        width = w;\n        height = h;\n        length = l;\n    }\n\n    static void mergeSort(Box[] theBoxes) {\n        if (theBoxes.length &gt; 1) {\n            int mid = theBoxes.length / 2;\n            Box[] firstHalf = new Box[mid + theBoxes.length % 2];\n            System.arraycopy(theBoxes, 0, firstHalf, 0, firstHalf.length);\n            mergeSort(firstHalf);\n            // Merge sort the second half\n            int secondHalfLength = theBoxes.length - firstHalf.length;\n            Box[] secondHalf = new Box[secondHalfLength];\n            System.arraycopy(theBoxes, mid + theBoxes.length % 2, secondHalf, 0, secondHalfLength);\n            mergeSort(secondHalf);\n            merge(firstHalf, secondHalf, theBoxes);\n        }\n    }\n\n    static void merge(Box[] list1, Box[] list2, Box[] temp) {\n        int current1 = 0;\n        int current2 = 0;\n        int current3 = 0;\n        while (current1 &lt; list1.length &amp;&amp; current2 &lt; list2.length) {\n            if (list1[current1].compareTo(list2[current2]) &lt;= 0) {\n                temp[current3++] = list1[current1++];\n            }\n            else {\n                temp[current3++] = list2[current2++];\n            }\n        }\n        while (current1 &lt; list1.length) {\n            temp[current3++] = list1[current1++];\n        }\n        while (current2 &lt; list2.length) {\n            temp[current3++] = list2[current2++];\n        }\n    }\n\n    private double getVolume() {\n        return width * height * length;\n    }\n\n    public int compareTo(Box o) {\n        double myVol = this.getVolume();\n        double thatVol = o.getVolume();\n        if (myVol &gt; thatVol)\n            return 1;\n        else if (myVol &lt; thatVol)\n            return -1;\n        else\n            return 0;\n    }\n\n    public String toString() {\n        return &quot;Width: &quot; + width + &quot;\\theight: &quot; + height + &quot;\\tlength: &quot; + length + &quot;\\tVolume: &quot; + getVolume();\n    }\n\n    public static void main(String[] args) {\n        Box[] boxes = new Box[]{new Box(2, 3, 4),  // volume = 24\n                                new Box(2, 2, 3),  // volume = 12\n                                new Box(3, 3, 3),  // volume = 27\n                                new Box(2, 2, 2),  // volume = 8\n                                new Box(4, 4, 1),  // volume = 16\n                                new Box(5, 1, 1),  // volume = 5\n                                new Box(2, 2, 7)}; // volume = 28\n        System.out.println(&quot;Original:&quot;);\n        Arrays.stream(boxes)\n              .forEach(System.out::println);\n        mergeSort(boxes);\n        System.out.println(&quot;====================================================================&quot;);\n        System.out.println(&quot;Sorted:&quot;);\n        Arrays.stream(boxes)\n              .forEach(System.out::println);        \n    }\n}\n</code></pre>\n<p>Refer to: <a href=\"https://www.geeksforgeeks.org/merge-sort/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/merge-sort/</a></p>\n<p>When I run the above code, I get the following output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Original:\nWidth: 2.0  height: 3.0 length: 4.0 Volume: 24.0\nWidth: 2.0  height: 2.0 length: 3.0 Volume: 12.0\nWidth: 3.0  height: 3.0 length: 3.0 Volume: 27.0\nWidth: 2.0  height: 2.0 length: 2.0 Volume: 8.0\nWidth: 4.0  height: 4.0 length: 1.0 Volume: 16.0\nWidth: 5.0  height: 1.0 length: 1.0 Volume: 5.0\nWidth: 2.0  height: 2.0 length: 7.0 Volume: 28.0\n====================================================================\nSorted:\nWidth: 5.0  height: 1.0 length: 1.0 Volume: 5.0\nWidth: 2.0  height: 2.0 length: 2.0 Volume: 8.0\nWidth: 2.0  height: 2.0 length: 3.0 Volume: 12.0\nWidth: 4.0  height: 4.0 length: 1.0 Volume: 16.0\nWidth: 2.0  height: 3.0 length: 4.0 Volume: 24.0\nWidth: 3.0  height: 3.0 length: 3.0 Volume: 27.0\nWidth: 2.0  height: 2.0 length: 7.0 Volume: 28.0\n</code></pre>\n"}],"owner":{"account_id":26575078,"reputation":1,"user_id":20200634,"display_name":"pokemonmater940"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668332383,"creation_date":1667870992,"question_id":74354755,"body_markdown":"I&#39;m currently trying to merge sort an array of objects using the `compareTo` method in the `Box` class. I think I have it down but I&#39;m getting this logical error.\r\nSorting the array using *merge sort*.\r\nThe array after merge sort:\r\n```none\r\nWidth: 67.8\theight: 41.5\tlength: 56.1\tVolume: 157848.57\r\nWidth: 67.8\theight: 41.5\tlength: 56.1\tVolume: 157848.57\r\nWidth: 67.8\theight: 41.5\tlength: 56.1\tVolume: 157848.57\r\nWidth: 67.8\theight: 41.5\tlength: 56.1\tVolume: 157848.57\r\nWidth: 67.8\theight: 41.5\tlength: 56.1\tVolume: 157848.57\r\nWidth: 67.8\theight: 41.5\tlength: 56.1\tVolume: 157848.57\r\nWidth: 67.8\theight: 41.5\tlength: 56.1\tVolume: 157848.57\r\nWidth: 67.8\theight: 41.5\tlength: 56.1\tVolume: 157848.57\r\nWidth: 67.8\theight: 41.5\tlength: 56.1\tVolume: 157848.57\r\nWidth: 67.8\theight: 41.5\tlength: 56.1\tVolume: 157848.57\r\n``` \r\nIt seems to only copy that one object. I do not know where I went wrong. I&#39;ve tried changing the `compareTo` method logic but it seems to stay the same no matter what. Here is my merge sort method:\r\n```java\r\nstatic void mergeSort(Box[] theBoxes) {\r\n    if(theBoxes.length &gt; 1 ){\r\n        Box [] firstHalf = new Box[theBoxes.length/2];\r\n        System.arraycopy(theBoxes, 0 , firstHalf, 0 ,theBoxes.length /2); \r\n        mergeSort(firstHalf);\r\n        //Merge sort the second half \r\n        int secondHalfLength = theBoxes.length - theBoxes.length / 2 ; \r\n        Box [] secondHalf = new Box [secondHalfLength];\r\n        System.arraycopy(theBoxes, 0 , secondHalf, 0 ,secondHalfLength);\r\n        mergeSort(secondHalf);\r\n\r\n        merge(firstHalf, secondHalf , theBoxes); \r\n    }\r\n}\r\n\r\nstatic void merge(Box [] list1, Box [] list2 , Box [] temp ){\r\n    int current1 = 0;\r\n    int current2 = 0;\r\n    int current3 = 0; \r\n\r\n    while (current1 &lt; list1.length &amp;&amp; current2 &lt; list2.length){\r\n        if(list1[current1].compareTo(list2[current2])&gt; 0){ \r\n            temp[current3++] = list1[current1++];\r\n        }else{\r\n            temp[current3++] = list2[current2++];\r\n        }\r\n\r\n        while(current1 &lt; list1.length){\r\n            temp[current3++] = list1[current1++];\r\n        }\r\n        while(current2 &lt; list2.length){\r\n            temp[current3++] = list2[current2++];\r\n        }\r\n    }\r\n}\r\n```\r\nHere is the `Box` class:\r\n```java\r\npublic class Box {\r\n  private double width, height, length;\r\n  \r\n  Box(double w, double h, double l){\r\n    width=w;\r\n    height=h;\r\n    length=l;\r\n  }\r\n  \r\n  private double getVolume(){\r\n    return width*height*length;\r\n  }\r\n    \r\n  public int compareTo(Box o){\r\n    double myVol = this.getVolume();\r\n    double thatVol = o.getVolume();\r\n    if (myVol&gt;thatVol)\r\n      return 1;\r\n    else if (myVol&lt;thatVol)\r\n      return -1;\r\n    else\r\n      return 0;\r\n  }\r\n  \r\n  public String toString(){\r\n    return &quot;Width: &quot;+width+\r\n           &quot;\\theight: &quot;+height+\r\n            &quot;\\tlength: &quot;+length+\r\n            &quot;\\tVolume: &quot;+getVolume();\r\n  }\r\n}\r\n```\r\nI am not allowed to change the `Box` class.\r\n","title":"Currently having merge sort logical error with a array of objects","body":"<p>I'm currently trying to merge sort an array of objects using the <code>compareTo</code> method in the <code>Box</code> class. I think I have it down but I'm getting this logical error.\nSorting the array using <em>merge sort</em>.\nThe array after merge sort:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Width: 67.8 height: 41.5    length: 56.1    Volume: 157848.57\nWidth: 67.8 height: 41.5    length: 56.1    Volume: 157848.57\nWidth: 67.8 height: 41.5    length: 56.1    Volume: 157848.57\nWidth: 67.8 height: 41.5    length: 56.1    Volume: 157848.57\nWidth: 67.8 height: 41.5    length: 56.1    Volume: 157848.57\nWidth: 67.8 height: 41.5    length: 56.1    Volume: 157848.57\nWidth: 67.8 height: 41.5    length: 56.1    Volume: 157848.57\nWidth: 67.8 height: 41.5    length: 56.1    Volume: 157848.57\nWidth: 67.8 height: 41.5    length: 56.1    Volume: 157848.57\nWidth: 67.8 height: 41.5    length: 56.1    Volume: 157848.57\n</code></pre>\n<p>It seems to only copy that one object. I do not know where I went wrong. I've tried changing the <code>compareTo</code> method logic but it seems to stay the same no matter what. Here is my merge sort method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void mergeSort(Box[] theBoxes) {\n    if(theBoxes.length &gt; 1 ){\n        Box [] firstHalf = new Box[theBoxes.length/2];\n        System.arraycopy(theBoxes, 0 , firstHalf, 0 ,theBoxes.length /2); \n        mergeSort(firstHalf);\n        //Merge sort the second half \n        int secondHalfLength = theBoxes.length - theBoxes.length / 2 ; \n        Box [] secondHalf = new Box [secondHalfLength];\n        System.arraycopy(theBoxes, 0 , secondHalf, 0 ,secondHalfLength);\n        mergeSort(secondHalf);\n\n        merge(firstHalf, secondHalf , theBoxes); \n    }\n}\n\nstatic void merge(Box [] list1, Box [] list2 , Box [] temp ){\n    int current1 = 0;\n    int current2 = 0;\n    int current3 = 0; \n\n    while (current1 &lt; list1.length &amp;&amp; current2 &lt; list2.length){\n        if(list1[current1].compareTo(list2[current2])&gt; 0){ \n            temp[current3++] = list1[current1++];\n        }else{\n            temp[current3++] = list2[current2++];\n        }\n\n        while(current1 &lt; list1.length){\n            temp[current3++] = list1[current1++];\n        }\n        while(current2 &lt; list2.length){\n            temp[current3++] = list2[current2++];\n        }\n    }\n}\n</code></pre>\n<p>Here is the <code>Box</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Box {\n  private double width, height, length;\n  \n  Box(double w, double h, double l){\n    width=w;\n    height=h;\n    length=l;\n  }\n  \n  private double getVolume(){\n    return width*height*length;\n  }\n    \n  public int compareTo(Box o){\n    double myVol = this.getVolume();\n    double thatVol = o.getVolume();\n    if (myVol&gt;thatVol)\n      return 1;\n    else if (myVol&lt;thatVol)\n      return -1;\n    else\n      return 0;\n  }\n  \n  public String toString(){\n    return &quot;Width: &quot;+width+\n           &quot;\\theight: &quot;+height+\n            &quot;\\tlength: &quot;+length+\n            &quot;\\tVolume: &quot;+getVolume();\n  }\n}\n</code></pre>\n<p>I am not allowed to change the <code>Box</code> class.</p>\n"},{"tags":["java","eclipse","runtime","macos-catalina","legacy"],"comments":[{"owner":{"account_id":19054692,"reputation":3493,"user_id":13912132,"display_name":"JCWasmx86"},"score":0,"creation_date":1597347194,"post_id":63402069,"comment_id":112110984,"body_markdown":"Do you have the newest version of eclipse?","body":"Do you have the newest version of eclipse?"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1597347274,"post_id":63402069,"comment_id":112111022,"body_markdown":"Sounds like an old Eclipse. The current Eclipse is 2020-06 and requires at least Java 8.","body":"Sounds like an old Eclipse. The current Eclipse is 2020-06 and requires at least Java 8."},{"owner":{"account_id":16462720,"reputation":23,"user_id":11893462,"display_name":"Nobushisensei"},"score":0,"creation_date":1597350283,"post_id":63402069,"comment_id":112112177,"body_markdown":"I double checked after your comments. I found out that I had downloaded the installer not the file containing the latest version. I downloaded the file including the latest version and it worked! Thank you for your help! You guys are great!","body":"I double checked after your comments. I found out that I had downloaded the installer not the file containing the latest version. I downloaded the file including the latest version and it worked! Thank you for your help! You guys are great!"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1597347940,"creation_date":1597347940,"answer_id":63402232,"question_id":63402069,"body_markdown":"You have installed an old version of Eclipse which is not compatible with your Java. Uninstall it and install the latest version from https://www.eclipse.org/downloads/packages/","title":"Mac OS Catalina &quot;to open eclipse you need to install the legacy java se 6 runtime&quot;","body":"<p>You have installed an old version of Eclipse which is not compatible with your Java. Uninstall it and install the latest version from <a href=\"https://www.eclipse.org/downloads/packages/\" rel=\"nofollow noreferrer\">https://www.eclipse.org/downloads/packages/</a></p>\n"},{"tags":[],"owner":{"account_id":26916619,"reputation":1,"user_id":20491308,"display_name":"Meuhssieur P&#233;rave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668331198,"creation_date":1668331198,"answer_id":74419761,"question_id":63402069,"body_markdown":"I had same problem.\r\n\r\nI change my Air late 2013 with 10.13.6 to Pro Late 2019 with 10.15.7.\r\n\r\nI had same message with my eclipse helio 3.6 after copying his folder in /Application from old to new Mac.\r\n\r\nI fixed that only by getting the Jdk folder \r\n\r\nFrom MBA /Library/Java/JavaVirtualMachines/1.6.0.jdk/ to MBP /Library/Java/JavaVirtualMachines/\r\n\r\nI can launch Eclipse helio 3.6 and choose my new workspace location.\r\n\r\nThe power of simplicity, i just fixed this night.\r\n\r\n","title":"Mac OS Catalina &quot;to open eclipse you need to install the legacy java se 6 runtime&quot;","body":"<p>I had same problem.</p>\n<p>I change my Air late 2013 with 10.13.6 to Pro Late 2019 with 10.15.7.</p>\n<p>I had same message with my eclipse helio 3.6 after copying his folder in /Application from old to new Mac.</p>\n<p>I fixed that only by getting the Jdk folder</p>\n<p>From MBA /Library/Java/JavaVirtualMachines/1.6.0.jdk/ to MBP /Library/Java/JavaVirtualMachines/</p>\n<p>I can launch Eclipse helio 3.6 and choose my new workspace location.</p>\n<p>The power of simplicity, i just fixed this night.</p>\n"}],"owner":{"account_id":16462720,"reputation":23,"user_id":11893462,"display_name":"Nobushisensei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63402232,"answer_count":2,"score":1,"last_activity_date":1668331198,"creation_date":1597347108,"question_id":63402069,"body_markdown":"**PROBLEM :** Although I successfully installed Java JDK Kit and Eclipse on my MacOS Catalina 10.15, I cannot launch Eclipse. I get this error message: \r\n\r\n&quot;To open eclipse you need to install the legacy java se 6 runtime&quot;\r\n\r\n**BACKGROUND :** \r\nI am starting to learn java programming. I wanted to install java and eclipse. Following a helpful [youtube tutorial][1], I successfully installed java. I also set up the JAVA_HOME variable. Terminal confirms that I have installed \r\n\r\n - java version &quot;14.0.1&quot; 2020-04-14\r\nJava (TM) SE Runtime Environment (build 14.0.1+7)\r\nJava Hotspot (TM) 64-Bit Server VM (build 14.0.1+7, mixed mode, sharing)\r\n - javac version javac 14.0.1\r\n\r\nI also installed eclipse on my macbook watching a [youtube tutorial][2].\r\n\r\nHowever, Eclipse doesn&#39;t launch showing the error message. \r\n&quot;to open eclipse you need to install the legacy java se 6 runtime&quot;\r\n\r\nWHAT I TRIED TO TROUBLE SHOOT:\r\n\r\nMessage comes as\r\n - *&quot;to open eclipse you need to install the legacy Java SE 6 runtime&quot;\r\n    So I click &quot;more info&quot; and I try to install the legacy java SE 6 runtime*\r\n\r\nWhen I come to the destination select I can&#39;t install, I get the following error:\r\n\r\n&quot;Java for macOS 2017-001 can&#39;t be installed on this disk. A newer version of this package is already installed&quot;.\r\n\r\n\r\nWhat can I do? I will need Eclipse up and running for my coding course that will start 4 days later\r\n\r\n  [1]: https://www.youtube.com/watch?v=pxi3iIy4F5A&amp;t=138s\r\n  [2]: https://www.youtube.com/watch?v=gufMbpxzfWw&amp;t=509s","title":"Mac OS Catalina &quot;to open eclipse you need to install the legacy java se 6 runtime&quot;","body":"<p><strong>PROBLEM :</strong> Although I successfully installed Java JDK Kit and Eclipse on my MacOS Catalina 10.15, I cannot launch Eclipse. I get this error message:</p>\n<p>&quot;To open eclipse you need to install the legacy java se 6 runtime&quot;</p>\n<p><strong>BACKGROUND :</strong>\nI am starting to learn java programming. I wanted to install java and eclipse. Following a helpful <a href=\"https://www.youtube.com/watch?v=pxi3iIy4F5A&amp;t=138s\" rel=\"nofollow noreferrer\">youtube tutorial</a>, I successfully installed java. I also set up the JAVA_HOME variable. Terminal confirms that I have installed</p>\n<ul>\n<li>java version &quot;14.0.1&quot; 2020-04-14\nJava (TM) SE Runtime Environment (build 14.0.1+7)\nJava Hotspot (TM) 64-Bit Server VM (build 14.0.1+7, mixed mode, sharing)</li>\n<li>javac version javac 14.0.1</li>\n</ul>\n<p>I also installed eclipse on my macbook watching a <a href=\"https://www.youtube.com/watch?v=gufMbpxzfWw&amp;t=509s\" rel=\"nofollow noreferrer\">youtube tutorial</a>.</p>\n<p>However, Eclipse doesn't launch showing the error message.\n&quot;to open eclipse you need to install the legacy java se 6 runtime&quot;</p>\n<p>WHAT I TRIED TO TROUBLE SHOOT:</p>\n<p>Message comes as</p>\n<ul>\n<li><em>&quot;to open eclipse you need to install the legacy Java SE 6 runtime&quot;\nSo I click &quot;more info&quot; and I try to install the legacy java SE 6 runtime</em></li>\n</ul>\n<p>When I come to the destination select I can't install, I get the following error:</p>\n<p>&quot;Java for macOS 2017-001 can't be installed on this disk. A newer version of this package is already installed&quot;.</p>\n<p>What can I do? I will need Eclipse up and running for my coding course that will start 4 days later</p>\n"},{"tags":["java","junit","set","java-stream"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1628232583,"post_id":68677229,"comment_id":121370394,"body_markdown":"You do not delegate all methods implemented by HashSet to `mySet`. For instance `splitIerator` might be used by `stream()`. Tip: either the IDE can create delegates, or you override and edit them super -&gt; mySet.","body":"You do not delegate all methods implemented by HashSet to <code>mySet</code>. For instance <code>splitIerator</code> might be used by <code>stream()</code>. Tip: either the IDE can create delegates, or you override and edit them super -&gt; mySet."},{"owner":{"display_name":"user16578994"},"score":0,"creation_date":1628232640,"post_id":68677229,"comment_id":121370408,"body_markdown":"I just wanted to have only these methods overriden in my set. for it to work i should add splitIerator set also?","body":"I just wanted to have only these methods overriden in my set. for it to work i should add splitIerator set also?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1628232718,"post_id":68677229,"comment_id":121370430,"body_markdown":"Actually better all methods that might get be called on your set object. At least of HashSet, the class. Otherwise you have an empty set delegating to mySet, but if one original method accesses the empty set, you are in trouble.","body":"Actually better all methods that might get be called on your set object. At least of HashSet, the class. Otherwise you have an empty set delegating to mySet, but if one original method accesses the empty set, you are in trouble."},{"owner":{"display_name":"user16578994"},"score":0,"creation_date":1628232856,"post_id":68677229,"comment_id":121370478,"body_markdown":"Could you please show me the correct way to write iterator method in this case? i would really appreciate.","body":"Could you please show me the correct way to write iterator method in this case? i would really appreciate."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1628232893,"post_id":68677229,"comment_id":121370486,"body_markdown":"`return mySet.iterator();` simple","body":"<code>return mySet.iterator();</code> simple"},{"owner":{"display_name":"user16578994"},"score":0,"creation_date":1628232985,"post_id":68677229,"comment_id":121370517,"body_markdown":"it gives me an error. it says required Iterator&lt;E&gt;, provided Iterator&lt;Integer&gt;","body":"it gives me an error. it says required Iterator&lt;E&gt;, provided Iterator&lt;Integer&gt;"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1628233647,"post_id":68677229,"comment_id":121370728,"body_markdown":"`public class SortedByAbsoluteValueIntegerSet extends HashSet&lt;Integer&gt; {` Sorry did not see, and already there is a full answer of @BorisAzanov. Good luck","body":"<code>public class SortedByAbsoluteValueIntegerSet extends HashSet&lt;Integer&gt; {</code> Sorry did not see, and already there is a full answer of @BorisAzanov. Good luck"},{"owner":{"account_id":58619,"reputation":7296,"user_id":175460,"accept_rate":70,"display_name":"Tomas F"},"score":0,"creation_date":1628234175,"post_id":68677229,"comment_id":121370882,"body_markdown":"Could you perhaps try to rename to a more descriptive question? It&#39;s not really a bug in streams :-) Think something that would help someone who would search for a similar problem..","body":"Could you perhaps try to rename to a more descriptive question? It&#39;s not really a bug in streams :-) Think something that would help someone who would search for a similar problem.."}],"answers":[{"tags":[],"owner":{"account_id":58619,"reputation":7296,"user_id":175460,"accept_rate":70,"display_name":"Tomas F"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628233524,"creation_date":1628232879,"answer_id":68677379,"question_id":68677229,"body_markdown":"It&#39;s because you&#39;re extending HashSet but also using an internal Set.\r\n\r\nWhen adding, you&#39;re adding to the internal Set but when using collection.stream() it calls the inherited HashSet (which is empty).\r\n\r\nEasiest for you I beleive would be to remove the internal &#39;mySet&#39; and call the inherited methods in your overridden methods.\r\n\r\nFor instance, your add method would be\r\n```\r\n@Override\r\npublic boolean add(E e){\r\n    return super.add(Math.abs((Integer) e));\r\n}\r\n```\r\n\r\n(and then you don&#39;t need to override size, remove, contains of toString or spliterator)\r\n\r\nFull example:\r\n```\r\nimport java.util.*;\r\n\r\npublic class SortedByAbsoluteValueIntegerSet extends HashSet&lt;Integer&gt; {\r\n\r\n\r\n    @Override\r\n    public boolean add(Integer e){\r\n        return super.add(Math.abs(e));\r\n    }\r\n\r\n    @Override\r\n    public boolean addAll(Collection&lt;? extends Integer&gt; c) {\r\n        List&lt;Integer&gt; myList = new ArrayList&lt;&gt;();\r\n        for (Integer e: c) {\r\n            myList.add(Math.abs(e));\r\n        }\r\n        return super.addAll(myList);\r\n    }\r\n\r\n}\r\n```","title":"Strange bug with Streams","body":"<p>It's because you're extending HashSet but also using an internal Set.</p>\n<p>When adding, you're adding to the internal Set but when using collection.stream() it calls the inherited HashSet (which is empty).</p>\n<p>Easiest for you I beleive would be to remove the internal 'mySet' and call the inherited methods in your overridden methods.</p>\n<p>For instance, your add method would be</p>\n<pre><code>@Override\npublic boolean add(E e){\n    return super.add(Math.abs((Integer) e));\n}\n</code></pre>\n<p>(and then you don't need to override size, remove, contains of toString or spliterator)</p>\n<p>Full example:</p>\n<pre><code>import java.util.*;\n\npublic class SortedByAbsoluteValueIntegerSet extends HashSet&lt;Integer&gt; {\n\n\n    @Override\n    public boolean add(Integer e){\n        return super.add(Math.abs(e));\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends Integer&gt; c) {\n        List&lt;Integer&gt; myList = new ArrayList&lt;&gt;();\n        for (Integer e: c) {\n            myList.add(Math.abs(e));\n        }\n        return super.addAll(myList);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9096979,"reputation":4448,"user_id":6770614,"display_name":"Boris Azanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668330083,"creation_date":1628233173,"answer_id":68677427,"question_id":68677229,"body_markdown":"I think Tomas F gave better [answer][1]\r\n\r\nMain problem in your set is using `HashSet mySet` as field and extending `HashSet`. In java better to use (field) composition instead of extending to add some functionality to your class. Here you tried use both - it&#39;s not a good idea.\r\nBest decision is to use just composition and extending more general class, for example `AbstractSet&lt;Integer&gt;` and `Set&lt;Integer&gt;`:\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class SortedByAbsoluteValueIntegerSet extends AbstractSet&lt;Integer&gt; \r\n        implements Set&lt;Integer&gt;, java.io.Serializable {\r\n\r\n    private final Set&lt;Integer&gt; mySet;\r\n\r\n    public SortedByAbsoluteValueIntegerSet() {\r\n        mySet = new HashSet&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;Integer&gt; iterator() {\r\n        return mySet.iterator();\r\n    }\r\n\r\n    @Override\r\n    public int size() {\r\n        return mySet.size();\r\n    }\r\n\r\n    @Override\r\n    public boolean add(Integer e) {\r\n        return mySet.add(Math.abs(e));\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean remove(Object o) {\r\n        return mySet.remove(o);\r\n    }\r\n\r\n    @Override\r\n    public boolean contains(Object o) {\r\n        return mySet.contains(o);\r\n    }\r\n\r\n    @Override\r\n    public boolean addAll(Collection&lt;? extends Integer&gt; c) {\r\n        List&lt;Integer&gt; myList = new ArrayList&lt;&gt;();\r\n        for (Integer e : c) {\r\n            myList.add(Math.abs(e));\r\n        }\r\n        return mySet.addAll(myList);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return mySet.toString();\r\n    }\r\n}\r\n```\r\nin this case you don&#39;t have to implement `spliterator`, because `Set` has default implementation using `this` keyword (which is refer to your set as a `Collection`)\r\n\r\nbut also you can implement spliterator in your class (but using such `extends` and internal `Set` fields are the bad practice. Also, it&#39;s better to get rid of type parameter `E` and casting elements to Integer:\r\n```java\r\nimport java.util.*;\r\n\r\npublic class SortedByAbsoluteValueIntegerSet extends HashSet&lt;Integer&gt; {\r\n\r\n    private Set&lt;Integer&gt; mySet;\r\n\r\n    public SortedByAbsoluteValueIntegerSet() {\r\n        mySet = new HashSet&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public int size() {\r\n        return mySet.size();\r\n    }\r\n    @Override\r\n    public boolean add(Integer e){\r\n        return mySet.add(Math.abs(e));\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean remove(Object o) {\r\n        return mySet.remove(o);\r\n    }\r\n\r\n    @Override\r\n    public boolean contains(Object o){\r\n        return mySet.contains(o);\r\n    }\r\n\r\n    @Override\r\n    public boolean addAll(Collection&lt;? extends Integer&gt; c) {\r\n        List&lt;Integer&gt; myList = new ArrayList&lt;&gt;();\r\n        for (Integer e: c) {\r\n            myList.add(Math.abs(e));\r\n        }\r\n        return mySet.addAll(myList);\r\n    }\r\n\r\n    @Override\r\n    public String toString(){\r\n        return mySet.toString();\r\n    }\r\n\r\n    @Override\r\n    public Spliterator&lt;Integer&gt; spliterator() {\r\n        return mySet.spliterator();\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/68677229/strange-bug-with-streams#answer-68677379","title":"Strange bug with Streams","body":"<p>I think Tomas F gave better <a href=\"https://stackoverflow.com/questions/68677229/strange-bug-with-streams#answer-68677379\">answer</a></p>\n<p>Main problem in your set is using <code>HashSet mySet</code> as field and extending <code>HashSet</code>. In java better to use (field) composition instead of extending to add some functionality to your class. Here you tried use both - it's not a good idea.\nBest decision is to use just composition and extending more general class, for example <code>AbstractSet&lt;Integer&gt;</code> and <code>Set&lt;Integer&gt;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class SortedByAbsoluteValueIntegerSet extends AbstractSet&lt;Integer&gt; \n        implements Set&lt;Integer&gt;, java.io.Serializable {\n\n    private final Set&lt;Integer&gt; mySet;\n\n    public SortedByAbsoluteValueIntegerSet() {\n        mySet = new HashSet&lt;&gt;();\n    }\n\n    @Override\n    public Iterator&lt;Integer&gt; iterator() {\n        return mySet.iterator();\n    }\n\n    @Override\n    public int size() {\n        return mySet.size();\n    }\n\n    @Override\n    public boolean add(Integer e) {\n        return mySet.add(Math.abs(e));\n    }\n\n\n    @Override\n    public boolean remove(Object o) {\n        return mySet.remove(o);\n    }\n\n    @Override\n    public boolean contains(Object o) {\n        return mySet.contains(o);\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends Integer&gt; c) {\n        List&lt;Integer&gt; myList = new ArrayList&lt;&gt;();\n        for (Integer e : c) {\n            myList.add(Math.abs(e));\n        }\n        return mySet.addAll(myList);\n    }\n\n    @Override\n    public String toString() {\n        return mySet.toString();\n    }\n}\n</code></pre>\n<p>in this case you don't have to implement <code>spliterator</code>, because <code>Set</code> has default implementation using <code>this</code> keyword (which is refer to your set as a <code>Collection</code>)</p>\n<p>but also you can implement spliterator in your class (but using such <code>extends</code> and internal <code>Set</code> fields are the bad practice. Also, it's better to get rid of type parameter <code>E</code> and casting elements to Integer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class SortedByAbsoluteValueIntegerSet extends HashSet&lt;Integer&gt; {\n\n    private Set&lt;Integer&gt; mySet;\n\n    public SortedByAbsoluteValueIntegerSet() {\n        mySet = new HashSet&lt;&gt;();\n    }\n\n    @Override\n    public int size() {\n        return mySet.size();\n    }\n    @Override\n    public boolean add(Integer e){\n        return mySet.add(Math.abs(e));\n    }\n\n\n    @Override\n    public boolean remove(Object o) {\n        return mySet.remove(o);\n    }\n\n    @Override\n    public boolean contains(Object o){\n        return mySet.contains(o);\n    }\n\n    @Override\n    public boolean addAll(Collection&lt;? extends Integer&gt; c) {\n        List&lt;Integer&gt; myList = new ArrayList&lt;&gt;();\n        for (Integer e: c) {\n            myList.add(Math.abs(e));\n        }\n        return mySet.addAll(myList);\n    }\n\n    @Override\n    public String toString(){\n        return mySet.toString();\n    }\n\n    @Override\n    public Spliterator&lt;Integer&gt; spliterator() {\n        return mySet.spliterator();\n    }\n\n}\n</code></pre>\n"}],"owner":{"display_name":"user16578994"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":172,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":68677427,"answer_count":2,"score":0,"last_activity_date":1668330083,"creation_date":1628232120,"question_id":68677229,"body_markdown":"So I have created my own Set, which is just a regular set, but has additional functions (for example my set only stores absolute values).\r\n\r\nHere is my Code:\r\n\r\n    import java.util.*;\r\n\r\n    public class SortedByAbsoluteValueIntegerSet&lt;E&gt; extends HashSet&lt;E&gt; {\r\n\r\n    private Set&lt;Integer&gt; mySet;\r\n\r\n    public SortedByAbsoluteValueIntegerSet() {\r\n        mySet = new HashSet&lt;Integer&gt;();\r\n    }\r\n\r\n    @Override\r\n    public int size() {\r\n        return mySet.size();\r\n    }\r\n    @Override\r\n    public boolean add(E e){\r\n        return mySet.add(Math.abs((Integer) e));\r\n    }\r\n\r\n\r\n    @Override\r\n    public boolean remove(Object o) {\r\n        return mySet.remove(o);\r\n    }\r\n\r\n    @Override\r\n    public boolean contains(Object o){\r\n        return mySet.contains(o);\r\n    }\r\n\r\n    @Override\r\n    public boolean addAll(Collection&lt;? extends E&gt; c) {\r\n        List&lt;Integer&gt; myList = new ArrayList&lt;&gt;();\r\n        for (Object e: c) {\r\n            myList.add(Math.abs((Integer) e));\r\n        }\r\n        return mySet.addAll(myList);\r\n    }\r\n\r\n    @Override\r\n    public String toString(){\r\n        return mySet.toString();\r\n    }\r\n\r\n    }\r\n\r\nI had a test case in JUnit, which failed. Because there was some issue with my code. For demonstration purpose, and for me to explain my issue better I have created two functions, which show the problem well. \r\n\r\nHere is the problem: \r\n\r\n    public static void testSortedByAbsoluteValueIntegerSet() {\r\n        Set&lt;Integer&gt; set1 = new SortedByAbsoluteValueIntegerSet();\r\n        Set&lt;Integer&gt; set2 = new HashSet&lt;&gt;();\r\n        set1.add(5);\r\n        set1.add(3);\r\n        set2.add(5);\r\n        set2.add(3);\r\n        String x = toString(set1); //x is  &quot;&quot;\r\n        String t = toString(set2); //t is &quot;3 5&quot;\r\n    }\r\n\r\n    public static String toString(final Collection&lt;Integer&gt; collection) {\r\n        return String.join(&quot; &quot;, collection.stream()\r\n                .map(i -&gt; Integer.toString(i))\r\n                .toArray(String[]::new));\r\n    }\r\n\r\nSo the problem arises in this line:\r\n\r\n    String x = toString(set1); //x is always an empty string\r\n    String t = toString(set2); //t works correctly\r\n\r\nWhen I go through debugger I see that String x is always an empty String and String t works correctly. By the way set1 is representation of my created set and set2 is just a regular hashset.\r\n\r\nThe question is: how can I fix my SortedByAbsoluteValueIntegerSet class so that the toString() method worked fine with my own created set as well.\r\n\r\nP.S I am new to streams and I don&#39;t really understand the problem, why does it happens.","title":"Strange bug with Streams","body":"<p>So I have created my own Set, which is just a regular set, but has additional functions (for example my set only stores absolute values).</p>\n<p>Here is my Code:</p>\n<pre><code>import java.util.*;\n\npublic class SortedByAbsoluteValueIntegerSet&lt;E&gt; extends HashSet&lt;E&gt; {\n\nprivate Set&lt;Integer&gt; mySet;\n\npublic SortedByAbsoluteValueIntegerSet() {\n    mySet = new HashSet&lt;Integer&gt;();\n}\n\n@Override\npublic int size() {\n    return mySet.size();\n}\n@Override\npublic boolean add(E e){\n    return mySet.add(Math.abs((Integer) e));\n}\n\n\n@Override\npublic boolean remove(Object o) {\n    return mySet.remove(o);\n}\n\n@Override\npublic boolean contains(Object o){\n    return mySet.contains(o);\n}\n\n@Override\npublic boolean addAll(Collection&lt;? extends E&gt; c) {\n    List&lt;Integer&gt; myList = new ArrayList&lt;&gt;();\n    for (Object e: c) {\n        myList.add(Math.abs((Integer) e));\n    }\n    return mySet.addAll(myList);\n}\n\n@Override\npublic String toString(){\n    return mySet.toString();\n}\n\n}\n</code></pre>\n<p>I had a test case in JUnit, which failed. Because there was some issue with my code. For demonstration purpose, and for me to explain my issue better I have created two functions, which show the problem well.</p>\n<p>Here is the problem:</p>\n<pre><code>public static void testSortedByAbsoluteValueIntegerSet() {\n    Set&lt;Integer&gt; set1 = new SortedByAbsoluteValueIntegerSet();\n    Set&lt;Integer&gt; set2 = new HashSet&lt;&gt;();\n    set1.add(5);\n    set1.add(3);\n    set2.add(5);\n    set2.add(3);\n    String x = toString(set1); //x is  &quot;&quot;\n    String t = toString(set2); //t is &quot;3 5&quot;\n}\n\npublic static String toString(final Collection&lt;Integer&gt; collection) {\n    return String.join(&quot; &quot;, collection.stream()\n            .map(i -&gt; Integer.toString(i))\n            .toArray(String[]::new));\n}\n</code></pre>\n<p>So the problem arises in this line:</p>\n<pre><code>String x = toString(set1); //x is always an empty string\nString t = toString(set2); //t works correctly\n</code></pre>\n<p>When I go through debugger I see that String x is always an empty String and String t works correctly. By the way set1 is representation of my created set and set2 is just a regular hashset.</p>\n<p>The question is: how can I fix my SortedByAbsoluteValueIntegerSet class so that the toString() method worked fine with my own created set as well.</p>\n<p>P.S I am new to streams and I don't really understand the problem, why does it happens.</p>\n"},{"tags":["java","html","regex","xss"],"comments":[{"owner":{"account_id":7745,"reputation":189755,"user_id":13531,"accept_rate":75,"display_name":"Michael Myers"},"score":0,"creation_date":1234289316,"post_id":24723,"comment_id":346249,"body_markdown":"What more do you need? The answers look good to me.","body":"What more do you need? The answers look good to me."}],"answers":[{"tags":[],"owner":{"account_id":71,"reputation":7062,"user_id":86,"accept_rate":95,"display_name":"svrist"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1219746315,"creation_date":1219746315,"answer_id":27705,"question_id":24723,"body_markdown":"The biggest problem by using jeffs code is the @ which currently isnt available. \r\n\r\nI would probably just take the &quot;raw&quot; regexp from jeffs code if i needed it and paste it into \r\n\r\n[http://www.cis.upenn.edu/~matuszek/General/RegexTester/regex-tester.html][1] \r\n\r\nand see the things needing escape get escaped and then use it.\r\n\r\n\r\n----------\r\n\r\n\r\nTaking the usage of this regex in mind I would personally make sure I understood exactly what I was doing, why and what consequences would be if I didnt succeed, before copy/pasting anything, like the other answers try to help you with.\r\n\r\n*(Thats propbably pretty sound advice for any copy/paste)*\r\n\r\n\r\n  [1]: http://www.cis.upenn.edu/~matuszek/General/RegexTester/regex-tester.html","title":"Best regex to catch XSS (Cross-site Scripting) attack (in Java)?","body":"<p>The biggest problem by using jeffs code is the @ which currently isnt available. </p>\n\n<p>I would probably just take the \"raw\" regexp from jeffs code if i needed it and paste it into </p>\n\n<p><a href=\"http://www.cis.upenn.edu/~matuszek/General/RegexTester/regex-tester.html\" rel=\"nofollow noreferrer\">http://www.cis.upenn.edu/~matuszek/General/RegexTester/regex-tester.html</a> </p>\n\n<p>and see the things needing escape get escaped and then use it.</p>\n\n<hr>\n\n<p>Taking the usage of this regex in mind I would personally make sure I understood exactly what I was doing, why and what consequences would be if I didnt succeed, before copy/pasting anything, like the other answers try to help you with.</p>\n\n<p><em>(Thats propbably pretty sound advice for any copy/paste)</em></p>\n"},{"tags":[],"owner":{"account_id":23596,"reputation":1584,"user_id":59223,"display_name":"Emmanuel Rodriguez"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1234301748,"creation_date":1234292697,"answer_id":533695,"question_id":24723,"body_markdown":"I&#39;m not to convinced that using a regular expression is the best way for finding all suspect code. Regular expressions are quite easy to trick specially when dealing with broken HTML. For example, the regular expression listed in the Sanitize HTML link will fail to remove all &#39;a&#39; elements that have an attribute between the element name and the attribute &#39;href&#39;:\r\n\r\n  &lt; a alt=&quot;xss injection&quot; href=&quot;http://www.malicous.com/bad.php&quot; &gt;\r\n\r\nA more robust way of removing malicious code is to rely on a XML Parser that can handle all kind of HTML documents (Tidy, TagSoup, etc) and to select the elements to remove with an XPath expression. Once the HTML document is parsed into a DOM document the elements to revome can be found easily and safely. This is even easy to do with XSLT.","title":"Best regex to catch XSS (Cross-site Scripting) attack (in Java)?","body":"<p>I'm not to convinced that using a regular expression is the best way for finding all suspect code. Regular expressions are quite easy to trick specially when dealing with broken HTML. For example, the regular expression listed in the Sanitize HTML link will fail to remove all 'a' elements that have an attribute between the element name and the attribute 'href':</p>\n\n<p>&lt; a alt=\"xss injection\" href=\"http://www.malicous.com/bad.php\" ></p>\n\n<p>A more robust way of removing malicious code is to rely on a XML Parser that can handle all kind of HTML documents (Tidy, TagSoup, etc) and to select the elements to remove with an XPath expression. Once the HTML document is parsed into a DOM document the elements to revome can be found easily and safely. This is even easy to do with XSLT.</p>\n"},{"tags":[],"owner":{"account_id":4942,"reputation":15741,"user_id":7679,"accept_rate":100,"display_name":"Chase Seibert"},"down_vote_count":0,"up_vote_count":81,"is_accepted":true,"score":81,"last_activity_date":1234315922,"creation_date":1234313950,"answer_id":535022,"question_id":24723,"body_markdown":"Don&#39;t do this with regular expressions. Remember, you&#39;re not protecting just against valid HTML; you&#39;re protecting against the DOM that web browsers create. Browsers can be tricked into producing valid DOM from invalid HTML quite easily. \r\n\r\nFor example, see this list of [obfuscated XSS attacks][3]. Are you prepared to tailor a regex to prevent this real world attack on [Yahoo and Hotmail][4] on IE6/7/8?\r\n\r\n    &lt;HTML&gt;&lt;BODY&gt;\r\n    &lt;?xml:namespace prefix=&quot;t&quot; ns=&quot;urn:schemas-microsoft-com:time&quot;&gt;\r\n    &lt;?import namespace=&quot;t&quot; implementation=&quot;#default#time2&quot;&gt;\r\n    &lt;t:set attributeName=&quot;innerHTML&quot; to=&quot;XSS&amp;lt;SCRIPT DEFER&amp;gt;alert(&amp;quot;XSS&amp;quot;)&amp;lt;/SCRIPT&amp;gt;&quot;&gt;\r\n    &lt;/BODY&gt;&lt;/HTML&gt;\r\n\r\nHow about this attack that works on IE6? \r\n\r\n    &lt;TABLE BACKGROUND=&quot;javascript:alert(&#39;XSS&#39;)&quot;&gt;\r\n\r\nHow about attacks that are not listed on this site? The problem with Jeff&#39;s approach is that it&#39;s not a whitelist, as claimed. As someone on [that page][2] adeptly notes:\r\n\r\n&gt; The problem with it, is that the html\r\n&gt; must be clean. There are cases where\r\n&gt; you can pass in hacked html, and it\r\n&gt; won&#39;t match it, in which case it&#39;ll\r\n&gt; return the hacked html string as it\r\n&gt; won&#39;t match anything to replace. This\r\n&gt; isn&#39;t strictly whitelisting.\r\n\r\nI would suggest a purpose built tool like [AntiSamy][1]. It works by actually parsing the HTML, and then traversing the DOM and removing anything that&#39;s not in the *configurable* whitelist. The major difference is the ability to gracefully handle malformed HTML. \r\n\r\nThe best part is that it actually unit tests for all the XSS attacks on the above site. Besides, what could be easier than this API call:\r\n\r\n    public String toSafeHtml(String html) throws ScanException, PolicyException {\r\n\r\n        Policy policy = Policy.getInstance(POLICY_FILE);\r\n        AntiSamy antiSamy = new AntiSamy();\r\n        CleanResults cleanResults = antiSamy.scan(html, policy);\r\n        return cleanResults.getCleanHTML().trim();\r\n    }\r\n\r\n\r\n  [1]: http://www.owasp.org/index.php/Category:OWASP_AntiSamy_Project\r\n  [2]: http://refactormycode.com/codes/333-sanitize-html#refactor_13642\r\n  [3]: http://ha.ckers.org/xss.html\r\n  [4]: http://www.greymagic.com/security/advisories/gm005-mc/","title":"Best regex to catch XSS (Cross-site Scripting) attack (in Java)?","body":"<p>Don't do this with regular expressions. Remember, you're not protecting just against valid HTML; you're protecting against the DOM that web browsers create. Browsers can be tricked into producing valid DOM from invalid HTML quite easily. </p>\n\n<p>For example, see this list of <a href=\"http://ha.ckers.org/xss.html\" rel=\"noreferrer\">obfuscated XSS attacks</a>. Are you prepared to tailor a regex to prevent this real world attack on <a href=\"http://www.greymagic.com/security/advisories/gm005-mc/\" rel=\"noreferrer\">Yahoo and Hotmail</a> on IE6/7/8?</p>\n\n<pre><code>&lt;HTML&gt;&lt;BODY&gt;\n&lt;?xml:namespace prefix=\"t\" ns=\"urn:schemas-microsoft-com:time\"&gt;\n&lt;?import namespace=\"t\" implementation=\"#default#time2\"&gt;\n&lt;t:set attributeName=\"innerHTML\" to=\"XSS&amp;lt;SCRIPT DEFER&amp;gt;alert(&amp;quot;XSS&amp;quot;)&amp;lt;/SCRIPT&amp;gt;\"&gt;\n&lt;/BODY&gt;&lt;/HTML&gt;\n</code></pre>\n\n<p>How about this attack that works on IE6? </p>\n\n<pre><code>&lt;TABLE BACKGROUND=\"javascript:alert('XSS')\"&gt;\n</code></pre>\n\n<p>How about attacks that are not listed on this site? The problem with Jeff's approach is that it's not a whitelist, as claimed. As someone on <a href=\"http://refactormycode.com/codes/333-sanitize-html#refactor_13642\" rel=\"noreferrer\">that page</a> adeptly notes:</p>\n\n<blockquote>\n  <p>The problem with it, is that the html\n  must be clean. There are cases where\n  you can pass in hacked html, and it\n  won't match it, in which case it'll\n  return the hacked html string as it\n  won't match anything to replace. This\n  isn't strictly whitelisting.</p>\n</blockquote>\n\n<p>I would suggest a purpose built tool like <a href=\"http://www.owasp.org/index.php/Category:OWASP_AntiSamy_Project\" rel=\"noreferrer\">AntiSamy</a>. It works by actually parsing the HTML, and then traversing the DOM and removing anything that's not in the <em>configurable</em> whitelist. The major difference is the ability to gracefully handle malformed HTML. </p>\n\n<p>The best part is that it actually unit tests for all the XSS attacks on the above site. Besides, what could be easier than this API call:</p>\n\n<pre><code>public String toSafeHtml(String html) throws ScanException, PolicyException {\n\n    Policy policy = Policy.getInstance(POLICY_FILE);\n    AntiSamy antiSamy = new AntiSamy();\n    CleanResults cleanResults = antiSamy.scan(html, policy);\n    return cleanResults.getCleanHTML().trim();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9777,"reputation":25608,"user_id":18192,"accept_rate":79,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1234380640,"creation_date":1234380640,"answer_id":538379,"question_id":24723,"body_markdown":"`[\\s\\w\\.]*`.  If it doesn&#39;t match, you&#39;ve got XSS.  Maybe.  Take note that this expression only allows letters, numbers,  and periods.  It avoids all symbols, even useful ones, out of fear of XSS.  Once you allow &amp;, you&#39;ve got worries.  And merely replacing all instances of &amp; with `&amp;amp;` is not sufficient.  Too complicated to trust :P.  Obviously this will disallow a lot of legitimate text (You can just replace all nonmatching characters with a ! or something), but I think it will kill XSS.\r\n\r\nThe idea to just parse it as html and generate new html is probably better.","title":"Best regex to catch XSS (Cross-site Scripting) attack (in Java)?","body":"<p><code>[\\s\\w\\.]*</code>.  If it doesn't match, you've got XSS.  Maybe.  Take note that this expression only allows letters, numbers,  and periods.  It avoids all symbols, even useful ones, out of fear of XSS.  Once you allow &amp;, you've got worries.  And merely replacing all instances of &amp; with <code>&amp;amp;</code> is not sufficient.  Too complicated to trust :P.  Obviously this will disallow a lot of legitimate text (You can just replace all nonmatching characters with a ! or something), but I think it will kill XSS.</p>\n\n<p>The idea to just parse it as html and generate new html is probably better.</p>\n"},{"tags":[],"owner":{"display_name":"atoms"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1243898230,"creation_date":1243895943,"answer_id":937158,"question_id":24723,"body_markdown":"    ^(\\s|\\w|\\d|&lt;br&gt;)*?$ \r\n\r\n\r\nThis  will validate characters, digits, whitespaces and also the `&lt;br&gt;`  tag. \r\nIf you want more risk you can add more tags like\r\n\r\n    ^(\\s|\\w|\\d|&lt;br&gt;|&lt;ul&gt;|&lt;\\ul&gt;)*?$\r\n\r\n","title":"Best regex to catch XSS (Cross-site Scripting) attack (in Java)?","body":"<pre><code>^(\\s|\\w|\\d|&lt;br&gt;)*?$ \n</code></pre>\n\n<p>This  will validate characters, digits, whitespaces and also the <code>&lt;br&gt;</code>  tag. \nIf you want more risk you can add more tags like</p>\n\n<pre><code>^(\\s|\\w|\\d|&lt;br&gt;|&lt;ul&gt;|&lt;\\ul&gt;)*?$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4569388,"reputation":79,"user_id":3709489,"display_name":"user3709489"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1402125172,"creation_date":1402125172,"answer_id":24094764,"question_id":24723,"body_markdown":"I extracted from NoScript best Anti-XSS addon, here is its Regex:\r\nWork flawless:\r\n\r\n    &lt;[^\\w&lt;&gt;]*(?:[^&lt;&gt;&quot;&#39;\\s]*:)?[^\\w&lt;&gt;]*(?:\\W*s\\W*c\\W*r\\W*i\\W*p\\W*t|\\W*f\\W*o\\W*r\\W*m|\\W*s\\W*t\\W*y\\W*l\\W*e|\\W*s\\W*v\\W*g|\\W*m\\W*a\\W*r\\W*q\\W*u\\W*e\\W*e|(?:\\W*l\\W*i\\W*n\\W*k|\\W*o\\W*b\\W*j\\W*e\\W*c\\W*t|\\W*e\\W*m\\W*b\\W*e\\W*d|\\W*a\\W*p\\W*p\\W*l\\W*e\\W*t|\\W*p\\W*a\\W*r\\W*a\\W*m|\\W*i?\\W*f\\W*r\\W*a\\W*m\\W*e|\\W*b\\W*a\\W*s\\W*e|\\W*b\\W*o\\W*d\\W*y|\\W*m\\W*e\\W*t\\W*a|\\W*i\\W*m\\W*a?\\W*g\\W*e?|\\W*v\\W*i\\W*d\\W*e\\W*o|\\W*a\\W*u\\W*d\\W*i\\W*o|\\W*b\\W*i\\W*n\\W*d\\W*i\\W*n\\W*g\\W*s|\\W*s\\W*e\\W*t|\\W*i\\W*s\\W*i\\W*n\\W*d\\W*e\\W*x|\\W*a\\W*n\\W*i\\W*m\\W*a\\W*t\\W*e)[^&gt;\\w])|(?:&lt;\\w[\\s\\S]*[\\s\\0\\/]|[&#39;&quot;])(?:formaction|style|background|src|lowsrc|ping|on(?:d(?:e(?:vice(?:(?:orienta|mo)tion|proximity|found|light)|livery(?:success|error)|activate)|r(?:ag(?:e(?:n(?:ter|d)|xit)|(?:gestur|leav)e|start|drop|over)?|op)|i(?:s(?:c(?:hargingtimechange|onnect(?:ing|ed))|abled)|aling)|ata(?:setc(?:omplete|hanged)|(?:availabl|chang)e|error)|urationchange|ownloading|blclick)|Moz(?:M(?:agnifyGesture(?:Update|Start)?|ouse(?:PixelScroll|Hittest))|S(?:wipeGesture(?:Update|Start|End)?|crolledAreaChanged)|(?:(?:Press)?TapGestur|BeforeResiz)e|EdgeUI(?:C(?:omplet|ancel)|Start)ed|RotateGesture(?:Update|Start)?|A(?:udioAvailable|fterPaint))|c(?:o(?:m(?:p(?:osition(?:update|start|end)|lete)|mand(?:update)?)|n(?:t(?:rolselect|extmenu)|nect(?:ing|ed))|py)|a(?:(?:llschang|ch)ed|nplay(?:through)?|rdstatechange)|h(?:(?:arging(?:time)?ch)?ange|ecking)|(?:fstate|ell)change|u(?:echange|t)|l(?:ick|ose))|m(?:o(?:z(?:pointerlock(?:change|error)|(?:orientation|time)change|fullscreen(?:change|error)|network(?:down|up)load)|use(?:(?:lea|mo)ve|o(?:ver|ut)|enter|wheel|down|up)|ve(?:start|end)?)|essage|ark)|s(?:t(?:a(?:t(?:uschanged|echange)|lled|rt)|k(?:sessione|comma)nd|op)|e(?:ek(?:complete|ing|ed)|(?:lec(?:tstar)?)?t|n(?:ding|t))|u(?:ccess|spend|bmit)|peech(?:start|end)|ound(?:start|end)|croll|how)|b(?:e(?:for(?:e(?:(?:scriptexecu|activa)te|u(?:nload|pdate)|p(?:aste|rint)|c(?:opy|ut)|editfocus)|deactivate)|gin(?:Event)?)|oun(?:dary|ce)|l(?:ocked|ur)|roadcast|usy)|a(?:n(?:imation(?:iteration|start|end)|tennastatechange)|fter(?:(?:scriptexecu|upda)te|print)|udio(?:process|start|end)|d(?:apteradded|dtrack)|ctivate|lerting|bort)|DOM(?:Node(?:Inserted(?:IntoDocument)?|Removed(?:FromDocument)?)|(?:CharacterData|Subtree)Modified|A(?:ttrModified|ctivate)|Focus(?:Out|In)|MouseScroll)|r(?:e(?:s(?:u(?:m(?:ing|e)|lt)|ize|et)|adystatechange|pea(?:tEven)?t|movetrack|trieving|ceived)|ow(?:s(?:inserted|delete)|e(?:nter|xit))|atechange)|p(?:op(?:up(?:hid(?:den|ing)|show(?:ing|n))|state)|a(?:ge(?:hide|show)|(?:st|us)e|int)|ro(?:pertychange|gress)|lay(?:ing)?)|t(?:ouch(?:(?:lea|mo)ve|en(?:ter|d)|cancel|start)|ime(?:update|out)|ransitionend|ext)|u(?:s(?:erproximity|sdreceived)|p(?:gradeneeded|dateready)|n(?:derflow|load))|f(?:o(?:rm(?:change|input)|cus(?:out|in)?)|i(?:lterchange|nish)|ailed)|l(?:o(?:ad(?:e(?:d(?:meta)?data|nd)|start)?|secapture)|evelchange|y)|g(?:amepad(?:(?:dis)?connected|button(?:down|up)|axismove)|et)|e(?:n(?:d(?:Event|ed)?|abled|ter)|rror(?:update)?|mptied|xit)|i(?:cc(?:cardlockerror|infochange)|n(?:coming|valid|put))|o(?:(?:(?:ff|n)lin|bsolet)e|verflow(?:changed)?|pen)|SVG(?:(?:Unl|L)oad|Resize|Scroll|Abort|Error|Zoom)|h(?:e(?:adphoneschange|l[dp])|ashchange|olding)|v(?:o(?:lum|ic)e|ersion)change|w(?:a(?:it|rn)ing|heel)|key(?:press|down|up)|(?:AppComman|Loa)d|no(?:update|match)|Request|zoom))[\\s\\0]*=\r\n\r\n\r\nTest: http://regex101.com/r/rV7zK8\r\n\r\nI think it block 99% XSS because it is a part of NoScript, a addon that get updated regularly","title":"Best regex to catch XSS (Cross-site Scripting) attack (in Java)?","body":"<p>I extracted from NoScript best Anti-XSS addon, here is its Regex:\nWork flawless:</p>\n\n<pre><code>&lt;[^\\w&lt;&gt;]*(?:[^&lt;&gt;\"'\\s]*:)?[^\\w&lt;&gt;]*(?:\\W*s\\W*c\\W*r\\W*i\\W*p\\W*t|\\W*f\\W*o\\W*r\\W*m|\\W*s\\W*t\\W*y\\W*l\\W*e|\\W*s\\W*v\\W*g|\\W*m\\W*a\\W*r\\W*q\\W*u\\W*e\\W*e|(?:\\W*l\\W*i\\W*n\\W*k|\\W*o\\W*b\\W*j\\W*e\\W*c\\W*t|\\W*e\\W*m\\W*b\\W*e\\W*d|\\W*a\\W*p\\W*p\\W*l\\W*e\\W*t|\\W*p\\W*a\\W*r\\W*a\\W*m|\\W*i?\\W*f\\W*r\\W*a\\W*m\\W*e|\\W*b\\W*a\\W*s\\W*e|\\W*b\\W*o\\W*d\\W*y|\\W*m\\W*e\\W*t\\W*a|\\W*i\\W*m\\W*a?\\W*g\\W*e?|\\W*v\\W*i\\W*d\\W*e\\W*o|\\W*a\\W*u\\W*d\\W*i\\W*o|\\W*b\\W*i\\W*n\\W*d\\W*i\\W*n\\W*g\\W*s|\\W*s\\W*e\\W*t|\\W*i\\W*s\\W*i\\W*n\\W*d\\W*e\\W*x|\\W*a\\W*n\\W*i\\W*m\\W*a\\W*t\\W*e)[^&gt;\\w])|(?:&lt;\\w[\\s\\S]*[\\s\\0\\/]|['\"])(?:formaction|style|background|src|lowsrc|ping|on(?:d(?:e(?:vice(?:(?:orienta|mo)tion|proximity|found|light)|livery(?:success|error)|activate)|r(?:ag(?:e(?:n(?:ter|d)|xit)|(?:gestur|leav)e|start|drop|over)?|op)|i(?:s(?:c(?:hargingtimechange|onnect(?:ing|ed))|abled)|aling)|ata(?:setc(?:omplete|hanged)|(?:availabl|chang)e|error)|urationchange|ownloading|blclick)|Moz(?:M(?:agnifyGesture(?:Update|Start)?|ouse(?:PixelScroll|Hittest))|S(?:wipeGesture(?:Update|Start|End)?|crolledAreaChanged)|(?:(?:Press)?TapGestur|BeforeResiz)e|EdgeUI(?:C(?:omplet|ancel)|Start)ed|RotateGesture(?:Update|Start)?|A(?:udioAvailable|fterPaint))|c(?:o(?:m(?:p(?:osition(?:update|start|end)|lete)|mand(?:update)?)|n(?:t(?:rolselect|extmenu)|nect(?:ing|ed))|py)|a(?:(?:llschang|ch)ed|nplay(?:through)?|rdstatechange)|h(?:(?:arging(?:time)?ch)?ange|ecking)|(?:fstate|ell)change|u(?:echange|t)|l(?:ick|ose))|m(?:o(?:z(?:pointerlock(?:change|error)|(?:orientation|time)change|fullscreen(?:change|error)|network(?:down|up)load)|use(?:(?:lea|mo)ve|o(?:ver|ut)|enter|wheel|down|up)|ve(?:start|end)?)|essage|ark)|s(?:t(?:a(?:t(?:uschanged|echange)|lled|rt)|k(?:sessione|comma)nd|op)|e(?:ek(?:complete|ing|ed)|(?:lec(?:tstar)?)?t|n(?:ding|t))|u(?:ccess|spend|bmit)|peech(?:start|end)|ound(?:start|end)|croll|how)|b(?:e(?:for(?:e(?:(?:scriptexecu|activa)te|u(?:nload|pdate)|p(?:aste|rint)|c(?:opy|ut)|editfocus)|deactivate)|gin(?:Event)?)|oun(?:dary|ce)|l(?:ocked|ur)|roadcast|usy)|a(?:n(?:imation(?:iteration|start|end)|tennastatechange)|fter(?:(?:scriptexecu|upda)te|print)|udio(?:process|start|end)|d(?:apteradded|dtrack)|ctivate|lerting|bort)|DOM(?:Node(?:Inserted(?:IntoDocument)?|Removed(?:FromDocument)?)|(?:CharacterData|Subtree)Modified|A(?:ttrModified|ctivate)|Focus(?:Out|In)|MouseScroll)|r(?:e(?:s(?:u(?:m(?:ing|e)|lt)|ize|et)|adystatechange|pea(?:tEven)?t|movetrack|trieving|ceived)|ow(?:s(?:inserted|delete)|e(?:nter|xit))|atechange)|p(?:op(?:up(?:hid(?:den|ing)|show(?:ing|n))|state)|a(?:ge(?:hide|show)|(?:st|us)e|int)|ro(?:pertychange|gress)|lay(?:ing)?)|t(?:ouch(?:(?:lea|mo)ve|en(?:ter|d)|cancel|start)|ime(?:update|out)|ransitionend|ext)|u(?:s(?:erproximity|sdreceived)|p(?:gradeneeded|dateready)|n(?:derflow|load))|f(?:o(?:rm(?:change|input)|cus(?:out|in)?)|i(?:lterchange|nish)|ailed)|l(?:o(?:ad(?:e(?:d(?:meta)?data|nd)|start)?|secapture)|evelchange|y)|g(?:amepad(?:(?:dis)?connected|button(?:down|up)|axismove)|et)|e(?:n(?:d(?:Event|ed)?|abled|ter)|rror(?:update)?|mptied|xit)|i(?:cc(?:cardlockerror|infochange)|n(?:coming|valid|put))|o(?:(?:(?:ff|n)lin|bsolet)e|verflow(?:changed)?|pen)|SVG(?:(?:Unl|L)oad|Resize|Scroll|Abort|Error|Zoom)|h(?:e(?:adphoneschange|l[dp])|ashchange|olding)|v(?:o(?:lum|ic)e|ersion)change|w(?:a(?:it|rn)ing|heel)|key(?:press|down|up)|(?:AppComman|Loa)d|no(?:update|match)|Request|zoom))[\\s\\0]*=\n</code></pre>\n\n<p>Test: <a href=\"http://regex101.com/r/rV7zK8\" rel=\"noreferrer\">http://regex101.com/r/rV7zK8</a></p>\n\n<p>I think it block 99% XSS because it is a part of NoScript, a addon that get updated regularly</p>\n"},{"tags":[],"owner":{"account_id":1361091,"reputation":5961,"user_id":1298461,"accept_rate":89,"display_name":"KIC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1410269158,"creation_date":1410269158,"answer_id":25745835,"question_id":24723,"body_markdown":"An old thread but maybe this will be useful for other users. There is a maintained security layer tool for php: https://github.com/PHPIDS/ It is based on a set of regex which you can find here:\r\n\r\nhttps://github.com/PHPIDS/PHPIDS/blob/master/lib/IDS/default_filter.xml\r\n\r\n","title":"Best regex to catch XSS (Cross-site Scripting) attack (in Java)?","body":"<p>An old thread but maybe this will be useful for other users. There is a maintained security layer tool for php: <a href=\"https://github.com/PHPIDS/\" rel=\"nofollow\">https://github.com/PHPIDS/</a> It is based on a set of regex which you can find here:</p>\n\n<p><a href=\"https://github.com/PHPIDS/PHPIDS/blob/master/lib/IDS/default_filter.xml\" rel=\"nofollow\">https://github.com/PHPIDS/PHPIDS/blob/master/lib/IDS/default_filter.xml</a></p>\n"},{"tags":[],"owner":{"account_id":13739936,"reputation":1017,"user_id":9915320,"display_name":"Philip DiSarro"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1641850810,"creation_date":1545512247,"answer_id":53899242,"question_id":24723,"body_markdown":"This question perfectly illustrates a great application of the study of Theory of Computation. Theory of Computation is a field that focuses on producing and studying mathematical representations for computation. \r\n\r\nSome of the most profound research in computation theory includes the proofs that illustrate the relationships of various languages.\r\n\r\nSome of the language relationships that computation theorists have proven include:\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LSpaw.gif\r\n\r\nThis  shows that context free languages are strictly more powerful than regular languages. Thus if a language is explicitly context-free (context-free and not regular), then it is impossible for **any** regular expression to recognize it. \r\n\r\nJavaScript is at the very least context-free, thus we know with one-hundred percent certainty that designing a regular expression (regex) capable of catching all XSS is a mathematically impossible task. ","title":"Best regex to catch XSS (Cross-site Scripting) attack (in Java)?","body":"<p>This question perfectly illustrates a great application of the study of Theory of Computation. Theory of Computation is a field that focuses on producing and studying mathematical representations for computation.</p>\n<p>Some of the most profound research in computation theory includes the proofs that illustrate the relationships of various languages.</p>\n<p>Some of the language relationships that computation theorists have proven include:</p>\n<p><a href=\"https://i.stack.imgur.com/LSpaw.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LSpaw.gif\" alt=\"enter image description here\" /></a></p>\n<p>This  shows that context free languages are strictly more powerful than regular languages. Thus if a language is explicitly context-free (context-free and not regular), then it is impossible for <strong>any</strong> regular expression to recognize it.</p>\n<p>JavaScript is at the very least context-free, thus we know with one-hundred percent certainty that designing a regular expression (regex) capable of catching all XSS is a mathematically impossible task.</p>\n"},{"tags":[],"owner":{"account_id":1507235,"reputation":6056,"user_id":1410342,"accept_rate":95,"display_name":"NoNaMe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599570984,"creation_date":1599474770,"answer_id":63775847,"question_id":24723,"body_markdown":"For java, I used the following regular expression with replaceAll, and worked for me\r\n\r\n    value.replaceAll(&quot;(?i)(\\\\b)(on\\\\S+)(\\\\s*)=|javascript:|(&lt;\\\\s*)(\\\\/*)script|style(\\\\s*)=|(&lt;\\\\s*)meta&quot;, &quot;&quot;);\r\n\r\nAdded (?i) to ignore case for alphabets. ","title":"Best regex to catch XSS (Cross-site Scripting) attack (in Java)?","body":"<p>For java, I used the following regular expression with replaceAll, and worked for me</p>\n<pre><code>value.replaceAll(&quot;(?i)(\\\\b)(on\\\\S+)(\\\\s*)=|javascript:|(&lt;\\\\s*)(\\\\/*)script|style(\\\\s*)=|(&lt;\\\\s*)meta&quot;, &quot;&quot;);\n</code></pre>\n<p>Added (?i) to ignore case for alphabets.</p>\n"},{"tags":[],"owner":{"account_id":20957192,"reputation":1,"user_id":15397385,"display_name":"Ashhh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668329994,"creation_date":1667902881,"answer_id":74359104,"question_id":24723,"body_markdown":"```\r\npublic String validate(String value) {\r\n\r\n\r\n    // Avoid anything between script tags\r\n    Pattern scriptPattern = Pattern.compile(&quot;&lt;script&gt;(.*?)&lt;/script&gt;&quot;, Pattern.CASE_INSENSITIVE);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n    // Avoid anything in a src=&#39;...&#39; type of expression\r\n    scriptPattern = Pattern.compile(&quot;src[\\r\\n]*=[\\r\\n]*\\\\\\&#39;(.*?)\\\\\\&#39;&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n    // Avoid anything in a src=&quot;...&quot; type of expression\r\n    scriptPattern = Pattern.compile(&quot;src[\\r\\n]*=[\\r\\n]*\\\\\\&quot;(.*?)\\\\\\&quot;&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n    // Avoid anything in a src=... type of expression added because quotes are not necessary\r\n    scriptPattern = Pattern.compile(&quot;src[\\r\\n]*=[\\r\\n]*(.*?)&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n    // Remove any lonesome &lt;/script&gt; tag\r\n    scriptPattern = Pattern.compile(&quot;&lt;/script&gt;&quot;, Pattern.CASE_INSENSITIVE);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n    // Remove any lonesome &lt;script ...&gt; tag\r\n    scriptPattern = Pattern.compile(&quot;&lt;script(.*?)&gt;&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n    // Avoid eval(...) expressions\r\n    scriptPattern = Pattern.compile(&quot;eval\\\\((.*?)\\\\)&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n    // Avoid expression(...) expressions\r\n    scriptPattern = Pattern.compile(&quot;expression\\\\((.*?)\\\\)&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n    // Avoid javascript:... expressions\r\n    scriptPattern = Pattern.compile(&quot;javascript:&quot;, Pattern.CASE_INSENSITIVE);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n    // Avoid vbscript:... expressions\r\n    scriptPattern = Pattern.compile(&quot;vbscript:&quot;, Pattern.CASE_INSENSITIVE);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n    // Avoid onload= expressions\r\n    scriptPattern = Pattern.compile(&quot;onload(.*?)=&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n    // Avoid anything between script tags  added - paranoid regex.  note:  if testing local PREP this must be commented\r\n    scriptPattern = Pattern.compile(&quot;&lt;(.*?)[\\r\\n]*(.*?)&gt;&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n    //  Avoid anything between script tags  added - paranoid regex\r\n    scriptPattern = Pattern.compile(&quot;&lt;script(.*?)[\\r\\n]*(.*?)/script&gt;&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n    // Avoid anything between * tags like *(alert)*  added\r\n    scriptPattern = Pattern.compile(&quot;\\\\*(.*?)[\\r\\n]*(.*?)\\\\*&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n    \r\n    // Avoid anything between + tags like +(alert)+  added\r\n    scriptPattern = Pattern.compile(&quot;\\\\+(.*?)[\\r\\n]*(.*?)\\\\+&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n    // Prohibit lines containing = (...) added\r\n    scriptPattern = Pattern.compile(&quot;=(.*?)\\\\((.*?)\\\\)&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n    \r\n    //\tremoving href link \r\n    scriptPattern = Pattern.compile(&quot;(?i)&lt;[\\\\s]*[/]?[\\\\s]*a[^&gt;]*&gt;&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n    //Avoid alert\r\n    scriptPattern = Pattern.compile(&quot;alert&quot;, Pattern.CASE_INSENSITIVE);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n\r\n\r\n    scriptPattern = Pattern.compile(&quot;[^\\\\dA-Za-z ]&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\r\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\r\n    \r\n    \r\n    return value;\r\n            \r\n}\r\n```","title":"Best regex to catch XSS (Cross-site Scripting) attack (in Java)?","body":"<pre><code>public String validate(String value) {\n\n\n    // Avoid anything between script tags\n    Pattern scriptPattern = Pattern.compile(&quot;&lt;script&gt;(.*?)&lt;/script&gt;&quot;, Pattern.CASE_INSENSITIVE);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n    // Avoid anything in a src='...' type of expression\n    scriptPattern = Pattern.compile(&quot;src[\\r\\n]*=[\\r\\n]*\\\\\\'(.*?)\\\\\\'&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n    // Avoid anything in a src=&quot;...&quot; type of expression\n    scriptPattern = Pattern.compile(&quot;src[\\r\\n]*=[\\r\\n]*\\\\\\&quot;(.*?)\\\\\\&quot;&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n    // Avoid anything in a src=... type of expression added because quotes are not necessary\n    scriptPattern = Pattern.compile(&quot;src[\\r\\n]*=[\\r\\n]*(.*?)&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n    // Remove any lonesome &lt;/script&gt; tag\n    scriptPattern = Pattern.compile(&quot;&lt;/script&gt;&quot;, Pattern.CASE_INSENSITIVE);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n    // Remove any lonesome &lt;script ...&gt; tag\n    scriptPattern = Pattern.compile(&quot;&lt;script(.*?)&gt;&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n    // Avoid eval(...) expressions\n    scriptPattern = Pattern.compile(&quot;eval\\\\((.*?)\\\\)&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n    // Avoid expression(...) expressions\n    scriptPattern = Pattern.compile(&quot;expression\\\\((.*?)\\\\)&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n    // Avoid javascript:... expressions\n    scriptPattern = Pattern.compile(&quot;javascript:&quot;, Pattern.CASE_INSENSITIVE);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n    // Avoid vbscript:... expressions\n    scriptPattern = Pattern.compile(&quot;vbscript:&quot;, Pattern.CASE_INSENSITIVE);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n    // Avoid onload= expressions\n    scriptPattern = Pattern.compile(&quot;onload(.*?)=&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n    // Avoid anything between script tags  added - paranoid regex.  note:  if testing local PREP this must be commented\n    scriptPattern = Pattern.compile(&quot;&lt;(.*?)[\\r\\n]*(.*?)&gt;&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n    //  Avoid anything between script tags  added - paranoid regex\n    scriptPattern = Pattern.compile(&quot;&lt;script(.*?)[\\r\\n]*(.*?)/script&gt;&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n    // Avoid anything between * tags like *(alert)*  added\n    scriptPattern = Pattern.compile(&quot;\\\\*(.*?)[\\r\\n]*(.*?)\\\\*&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n    \n    // Avoid anything between + tags like +(alert)+  added\n    scriptPattern = Pattern.compile(&quot;\\\\+(.*?)[\\r\\n]*(.*?)\\\\+&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n    // Prohibit lines containing = (...) added\n    scriptPattern = Pattern.compile(&quot;=(.*?)\\\\((.*?)\\\\)&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n    \n    //  removing href link \n    scriptPattern = Pattern.compile(&quot;(?i)&lt;[\\\\s]*[/]?[\\\\s]*a[^&gt;]*&gt;&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n    //Avoid alert\n    scriptPattern = Pattern.compile(&quot;alert&quot;, Pattern.CASE_INSENSITIVE);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n\n\n    scriptPattern = Pattern.compile(&quot;[^\\\\dA-Za-z ]&quot;, Pattern.CASE_INSENSITIVE | Pattern.MULTILINE | Pattern.DOTALL);\n    value = scriptPattern.matcher(value).replaceAll(&quot;&quot;);\n    \n    \n    return value;\n            \n}\n</code></pre>\n"}],"owner":{"account_id":1059,"reputation":8462,"user_id":1406,"accept_rate":85,"display_name":"Thierry Roy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99012,"favorite_count":0,"down_vote_count":1,"up_vote_count":34,"accepted_answer_id":535022,"answer_count":10,"score":33,"last_activity_date":1668329994,"creation_date":1219537270,"question_id":24723,"body_markdown":"Jeff actually posted about this in [Sanitize HTML][1]. But his example is in C# and I&#39;m actually more interested in a Java version. Does anyone have a better version for Java? Is his example good enough to just convert directly from C# to Java? \n\n[Update] I have put a bounty on this question because SO wasn&#39;t as popular when I asked the question as it is today (*). As for anything related to security, the more people look into it, the better it is! \n\n(*) In fact, I think it was still in closed beta\n\n  [1]: http://refactormycode.com/codes/333-sanitize-html","title":"Best regex to catch XSS (Cross-site Scripting) attack (in Java)?","body":"<p>Jeff actually posted about this in <a href=\"http://refactormycode.com/codes/333-sanitize-html\" rel=\"noreferrer\">Sanitize HTML</a>. But his example is in C# and I'm actually more interested in a Java version. Does anyone have a better version for Java? Is his example good enough to just convert directly from C# to Java?</p>\n<p>[Update] I have put a bounty on this question because SO wasn't as popular when I asked the question as it is today (*). As for anything related to security, the more people look into it, the better it is!</p>\n<p>(*) In fact, I think it was still in closed beta</p>\n"},{"tags":["java","spring","spring-boot","iframe","cors"],"answers":[{"tags":[],"owner":{"account_id":10693447,"reputation":878,"user_id":7871511,"display_name":"Rohit Agarwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668329570,"creation_date":1668329570,"answer_id":74419649,"question_id":73895043,"body_markdown":"Yes, this is possible, you can do this by adding ```@CrossOrigin(origins = &quot;*&quot;)``` annotation on top of a specific method. I have tested this and it is working fine.\r\n\r\n\r\n\r\n```\r\n    @PostMapping(&quot;/start-payment&quot;)\r\n    @CrossOrigin(origins = &quot;*&quot;)\r\n    public ResponseEntity&lt;?&gt; startPayment(@RequestParam Double amount) {\r\n        String jwt = cybersourcePaymentService.initiatePayment(amount);\r\n        return ResponseEntity.ok(jwt);\r\n    }\r\n```\r\n\r\n**Note:** *If there is a global CORS configuration and method level CORS configuration is available in any project then method level CORS takes preference.*","title":"Springboot Override Global Allowed Origins configuration from a Controller/Method","body":"<p>Yes, this is possible, you can do this by adding <code>@CrossOrigin(origins = &quot;*&quot;)</code> annotation on top of a specific method. I have tested this and it is working fine.</p>\n<pre><code>    @PostMapping(&quot;/start-payment&quot;)\n    @CrossOrigin(origins = &quot;*&quot;)\n    public ResponseEntity&lt;?&gt; startPayment(@RequestParam Double amount) {\n        String jwt = cybersourcePaymentService.initiatePayment(amount);\n        return ResponseEntity.ok(jwt);\n    }\n</code></pre>\n<p><strong>Note:</strong> <em>If there is a global CORS configuration and method level CORS configuration is available in any project then method level CORS takes preference.</em></p>\n"}],"owner":{"account_id":25630076,"reputation":1,"user_id":19400597,"display_name":"Gaurav Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668329570,"creation_date":1664452152,"question_id":73895043,"body_markdown":"I have an application with cors filter which only allows certain origins. \r\n```\r\n@Configuration\r\npublic class WebConfiguration {\r\n\r\n    @Value(&quot;${allowed.origins}&quot;)\r\n    private String[] allowedOrigins;\r\n    private String[] allowedMethods = {&quot;GET&quot;,&quot;HEAD&quot;,&quot;OPTIONS&quot;,&quot;POST&quot;,&quot;PUT&quot;,&quot;DELETE&quot;};\r\n\r\n    @Bean\r\n    public FilterRegistrationBean corsFilter() {\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        CorsConfiguration config = new CorsConfiguration();\r\n        config.setAllowCredentials(true);\r\n        config.addAllowedHeader(&quot;*&quot;);\r\n        config.setAllowedMethods(Arrays.asList(allowedMethods));\r\n        config.setAllowedOrigins(Arrays.asList(allowedOrigins));\r\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\r\n        FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\r\n        bean.setOrder(0);\r\n        return bean;\r\n    }\r\n\r\n}\r\n```\r\nI also have a controller that needs calling from no origin (from an **iframe** that does not have any origin).\r\n```\r\n    @PostMapping(&quot;/start-payment&quot;)\r\n    @CrossOrigin\r\n    public ResponseEntity&lt;?&gt; startPayment(@RequestParam Double amount) {\r\n        String jwt = cybersourcePaymentService.initiatePayment(amount);\r\n        return ResponseEntity.ok(jwt);\r\n    }\r\n```\r\nIs there a way to allow only this method to be called from origin that is not mentioned in WebConfiguration?","title":"Springboot Override Global Allowed Origins configuration from a Controller/Method","body":"<p>I have an application with cors filter which only allows certain origins.</p>\n<pre><code>@Configuration\npublic class WebConfiguration {\n\n    @Value(&quot;${allowed.origins}&quot;)\n    private String[] allowedOrigins;\n    private String[] allowedMethods = {&quot;GET&quot;,&quot;HEAD&quot;,&quot;OPTIONS&quot;,&quot;POST&quot;,&quot;PUT&quot;,&quot;DELETE&quot;};\n\n    @Bean\n    public FilterRegistrationBean corsFilter() {\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        CorsConfiguration config = new CorsConfiguration();\n        config.setAllowCredentials(true);\n        config.addAllowedHeader(&quot;*&quot;);\n        config.setAllowedMethods(Arrays.asList(allowedMethods));\n        config.setAllowedOrigins(Arrays.asList(allowedOrigins));\n        source.registerCorsConfiguration(&quot;/**&quot;, config);\n        FilterRegistrationBean bean = new FilterRegistrationBean(new CorsFilter(source));\n        bean.setOrder(0);\n        return bean;\n    }\n\n}\n</code></pre>\n<p>I also have a controller that needs calling from no origin (from an <strong>iframe</strong> that does not have any origin).</p>\n<pre><code>    @PostMapping(&quot;/start-payment&quot;)\n    @CrossOrigin\n    public ResponseEntity&lt;?&gt; startPayment(@RequestParam Double amount) {\n        String jwt = cybersourcePaymentService.initiatePayment(amount);\n        return ResponseEntity.ok(jwt);\n    }\n</code></pre>\n<p>Is there a way to allow only this method to be called from origin that is not mentioned in WebConfiguration?</p>\n"},{"tags":["java","android","deep-linking"],"comments":[{"owner":{"account_id":26280531,"reputation":101,"user_id":20400142,"display_name":"Billy Istiak"},"score":0,"creation_date":1668266070,"post_id":74414027,"comment_id":131365892,"body_markdown":"[Cross-posted](https://software.codidact.com/posts/287382)","body":"<a href=\"https://software.codidact.com/posts/287382\" rel=\"nofollow noreferrer\">Cross-posted</a>"}],"answers":[{"tags":[],"owner":{"account_id":26280531,"reputation":101,"user_id":20400142,"display_name":"Billy Istiak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668328758,"creation_date":1668276149,"answer_id":74415329,"question_id":74414027,"body_markdown":"&lt;h6&gt;There&#39;s actually a reason I asked the question. There&#39;s some similar (very few) questions available in SO but none was answered ever (there&#39;s few answers also but they are completely useless in 2022, perhaps worked perfectly back then)&lt;/h6&gt;\r\n\r\n**Solution** : Choose link correctly. Amazon prime can&#39;t access amazon.com/....... but they can access only https://app.primevideo.com/detail?..... \r\nthe question is how to find those links? Follow the following steps :\r\n\r\n1. Visit Amazon Prime\r\n2. Select a movie/series\r\n3. Click on share button.\r\n4. Click on copy URL (which appears after clicking on the share button).\r\n\r\nThe URL is available in your clipboard is the correct link. (I can&#39;t really test for Disney or hotstar cause they are unavailable in my country also, VPN doesn&#39;t help at all, I don&#39;t know why. In question, I added cause my client tested it didn&#39;t work for him). \r\n\r\n&lt;hr/&gt;\r\n\r\n\r\n\r\nThe short answer : link.\r\n\r\nThe medium answer : All the problems available are behind the link. Looking at which link send to those apps was useless cause when I looked at those URL, (giving example of Amazon prime) Prime video says supported links are :\r\n\r\n1. amazon.de\r\n2. app.primevideo.com\r\n3. watch.amazon.de\r\n4. amazon.co.jp\r\n5. amazon.co.uk\r\n6. watch.amazon.co.jp\r\n7. watch.amazon.co.jp\r\n8. amazon.com\r\n9. watch.amazon.com.\r\n\r\nFor me, only app.primevideo.com worked. Others were useless. I don&#39;t know why (According to code they should work but in reality something else happened).\r\n","title":"Deep linking from another app isn&#39;t working for Amazon prime and disney+hotstar","body":"<h6>There's actually a reason I asked the question. There's some similar (very few) questions available in SO but none was answered ever (there's few answers also but they are completely useless in 2022, perhaps worked perfectly back then)</h6>\n<p><strong>Solution</strong> : Choose link correctly. Amazon prime can't access amazon.com/....... but they can access only <a href=\"https://app.primevideo.com/detail?....\" rel=\"nofollow noreferrer\">https://app.primevideo.com/detail?....</a>.\nthe question is how to find those links? Follow the following steps :</p>\n<ol>\n<li>Visit Amazon Prime</li>\n<li>Select a movie/series</li>\n<li>Click on share button.</li>\n<li>Click on copy URL (which appears after clicking on the share button).</li>\n</ol>\n<p>The URL is available in your clipboard is the correct link. (I can't really test for Disney or hotstar cause they are unavailable in my country also, VPN doesn't help at all, I don't know why. In question, I added cause my client tested it didn't work for him).</p>\n<hr/>\n<p>The short answer : link.</p>\n<p>The medium answer : All the problems available are behind the link. Looking at which link send to those apps was useless cause when I looked at those URL, (giving example of Amazon prime) Prime video says supported links are :</p>\n<ol>\n<li>amazon.de</li>\n<li>app.primevideo.com</li>\n<li>watch.amazon.de</li>\n<li>amazon.co.jp</li>\n<li>amazon.co.uk</li>\n<li>watch.amazon.co.jp</li>\n<li>watch.amazon.co.jp</li>\n<li>amazon.com</li>\n<li>watch.amazon.com.</li>\n</ol>\n<p>For me, only app.primevideo.com worked. Others were useless. I don't know why (According to code they should work but in reality something else happened).</p>\n"}],"owner":{"account_id":26280531,"reputation":101,"user_id":20400142,"display_name":"Billy Istiak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668328758,"creation_date":1668265519,"question_id":74414027,"body_markdown":"It&#39;s not possible to send data to amazon prime and disney+hotstar. I was trying to send user to amazon prime when they click a (video) link (e.g. https://www.amazon.com/gp/video/detail/B01MSPI8JN/ref=atv_dp_share_cu_r). I thought it was Amazon prime which doesn&#39;t support it. Then I downloaded Amazon shopping and noticed I can successfully send data to Amazon shopping but not Amazon prime neither disney+hotstar app (using a video link of disney+hotstar&#39;s). I was reading the [this](https://developer.amazon.com/docs/reports-promo/deeplink-to-the-amazon-client.html) and [this](https://developer.amazon.com/docs/fire-tv/deep-linking-featured-content.html) but, they weren&#39;t helpful.\r\n\r\nI have made sure that I have downloaded Amazon prime as well as disney application.\r\n\r\n```\r\nIntent intent = new Intent(Intent.ACTION_VIEW);\r\nintent.setData(Uri.parse(https://www.amazon.com/gp/video/detail/B01MSPI8JN/ref=atv_dp_share_cu_r));\r\nstartActivity(Intent.createChooser(intent,null));\r\n```\r\n\r\nI thought it doesn&#39;t work for this link only. But I have tested others also. If you wonder if it works for any other application then I will say that It worked perfectly for netflix, zee5 and many more. If you also wonder why I used Intent.createChooser then I will say that I wanted user to select which app they would like to use to open the link (unfortunately it&#39;s useless cause it only opens default web browser).\r\n\r\nFYI, I have also tested amzn://video/detail/B01MSPI8JN/ref=atv_dp_share_cu_r instead web URL. But still doesn&#39;t work.\r\n\r\nIf you think it doesn&#39;t work cause they didn&#39;t implement it , then I will say that I have used reversed engineering to view their manifest and confirmed that they have implemented deep linking (Amazon prime, and Disney even Hotstar). There&#39;s another easier way to see, what they actually support if you have Android 11 (I have just figured it out now). Go to app info-&gt; Open by default-&gt;Supported links","title":"Deep linking from another app isn&#39;t working for Amazon prime and disney+hotstar","body":"<p>It's not possible to send data to amazon prime and disney+hotstar. I was trying to send user to amazon prime when they click a (video) link (e.g. <a href=\"https://www.amazon.com/gp/video/detail/B01MSPI8JN/ref=atv_dp_share_cu_r\" rel=\"nofollow noreferrer\">https://www.amazon.com/gp/video/detail/B01MSPI8JN/ref=atv_dp_share_cu_r</a>). I thought it was Amazon prime which doesn't support it. Then I downloaded Amazon shopping and noticed I can successfully send data to Amazon shopping but not Amazon prime neither disney+hotstar app (using a video link of disney+hotstar's). I was reading the <a href=\"https://developer.amazon.com/docs/reports-promo/deeplink-to-the-amazon-client.html\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://developer.amazon.com/docs/fire-tv/deep-linking-featured-content.html\" rel=\"nofollow noreferrer\">this</a> but, they weren't helpful.</p>\n<p>I have made sure that I have downloaded Amazon prime as well as disney application.</p>\n<pre><code>Intent intent = new Intent(Intent.ACTION_VIEW);\nintent.setData(Uri.parse(https://www.amazon.com/gp/video/detail/B01MSPI8JN/ref=atv_dp_share_cu_r));\nstartActivity(Intent.createChooser(intent,null));\n</code></pre>\n<p>I thought it doesn't work for this link only. But I have tested others also. If you wonder if it works for any other application then I will say that It worked perfectly for netflix, zee5 and many more. If you also wonder why I used Intent.createChooser then I will say that I wanted user to select which app they would like to use to open the link (unfortunately it's useless cause it only opens default web browser).</p>\n<p>FYI, I have also tested amzn://video/detail/B01MSPI8JN/ref=atv_dp_share_cu_r instead web URL. But still doesn't work.</p>\n<p>If you think it doesn't work cause they didn't implement it , then I will say that I have used reversed engineering to view their manifest and confirmed that they have implemented deep linking (Amazon prime, and Disney even Hotstar). There's another easier way to see, what they actually support if you have Android 11 (I have just figured it out now). Go to app info-&gt; Open by default-&gt;Supported links</p>\n"},{"tags":["java","api","retrofit","spinner","android-arrayadapter"],"answers":[{"tags":[],"owner":{"account_id":25353346,"reputation":13,"user_id":19169874,"display_name":"Mordechay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668328656,"creation_date":1667944530,"answer_id":74367592,"question_id":73035533,"body_markdown":"I think this code should be outside the &quot;for&quot; loop:\r\n\r\n```\r\nArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_dropdown_item,sub);\r\nspin_class.setAdapter(adapter);\r\n\r\nspin_class.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n    @Override\r\n    public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n        \r\n    }\r\n});\r\n```\r\n\r\nThe final code should look like this:\r\n\r\n```\r\nCall&lt;List&lt;ResponseSubject&gt;&gt; subjectOption = ApiClient.getInstance().getApi().subjectOption();\r\n    subjectOption.enqueue(new Callback&lt;List&lt;ResponseSubject&gt;&gt;() {\r\n        @Override\r\n        public void onResponse(Call&lt;List&lt;ResponseSubject&gt;&gt; call, Response&lt;List&lt;ResponseSubject&gt;&gt; response) {\r\n\r\n            List&lt;ResponseSubject&gt; responseSubject=  response.body();\r\n        if(responseSubject!=null &amp;&amp; responseSubject.size()&gt;0) {\r\n\r\n            String[] sub = new String[responseSubject.size()];\r\n\r\n            for (int i = 0; i &lt; responseSubject.size(); i++) {\r\n                sub[i]= Arrays.toString(responseSubject.get(i).getData());\r\n\r\n\r\n            }\r\n        }\r\n\r\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_dropdown_item,sub);\r\n        spin_class.setAdapter(adapter);\r\n\r\n        spin_class.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n            @Override\r\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onFailure(Call&lt;List&lt;ResponseSubject&gt;&gt; call, Throwable t) {\r\n\r\n    }\r\n});\r\n```","title":"Why code is not showing the List in the spinner that call with API?","body":"<p>I think this code should be outside the &quot;for&quot; loop:</p>\n<pre><code>ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_dropdown_item,sub);\nspin_class.setAdapter(adapter);\n\nspin_class.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n    @Override\n    public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n    }\n\n    @Override\n    public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n        \n    }\n});\n</code></pre>\n<p>The final code should look like this:</p>\n<pre><code>Call&lt;List&lt;ResponseSubject&gt;&gt; subjectOption = ApiClient.getInstance().getApi().subjectOption();\n    subjectOption.enqueue(new Callback&lt;List&lt;ResponseSubject&gt;&gt;() {\n        @Override\n        public void onResponse(Call&lt;List&lt;ResponseSubject&gt;&gt; call, Response&lt;List&lt;ResponseSubject&gt;&gt; response) {\n\n            List&lt;ResponseSubject&gt; responseSubject=  response.body();\n        if(responseSubject!=null &amp;&amp; responseSubject.size()&gt;0) {\n\n            String[] sub = new String[responseSubject.size()];\n\n            for (int i = 0; i &lt; responseSubject.size(); i++) {\n                sub[i]= Arrays.toString(responseSubject.get(i).getData());\n\n\n            }\n        }\n\n        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_dropdown_item,sub);\n        spin_class.setAdapter(adapter);\n\n        spin_class.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n            @Override\n            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n\n            }\n\n            @Override\n            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n            }\n        });\n\n    }\n\n    @Override\n    public void onFailure(Call&lt;List&lt;ResponseSubject&gt;&gt; call, Throwable t) {\n\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":22671855,"reputation":37,"user_id":16843492,"display_name":"Anusha C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668328656,"creation_date":1658227631,"question_id":73035533,"body_markdown":"&gt; There is an Array of String that passes from the API. What is the problem with the code? \r\nI am trying to pass that value into a spinner\r\n\r\n   \r\n  \r\n\r\n         Call&lt;List&lt;ResponseSubject&gt;&gt; \r\n      subjectOption=ApiClient.getInstance().getApi().subjectOption();\r\n            subjectOption.enqueue(new Callback&lt;List&lt;ResponseSubject&gt;&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;List&lt;ResponseSubject&gt;&gt; call, Response&lt;List&lt;ResponseSubject&gt;&gt; response) {\r\n    \r\n                    List&lt;ResponseSubject&gt; responseSubject=  response.body();\r\n                if(responseSubject!=null &amp;&amp; responseSubject.size()&gt;0) {\r\n\r\n                    String[] sub = new String[responseSubject.size()];\r\n\r\n                    for (int i = 0; i &lt; responseSubject.size(); i++) {\r\n                        sub[i]= Arrays.toString(responseSubject.get(i).getData());\r\n\r\n                        ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_dropdown_item,sub);\r\n                        spin_class.setAdapter(adapter);\r\n\r\n                        spin_class.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\r\n                            @Override\r\n                            public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n\r\n\r\n                            }\r\n\r\n                            @Override\r\n                            public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\r\n\r\n                            }\r\n                        });\r\n\r\n\r\n                    }\r\n                }\r\n\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;List&lt;ResponseSubject&gt;&gt; call, Throwable t) {\r\n\r\n            }\r\n        });\r\n\r\n&gt; In the above code, it is checking if the value coming from API is null or not. After checking that data is passing in an array and that array data is assigned to the spinner.\r\n\r\n\r\n","title":"Why code is not showing the List in the spinner that call with API?","body":"<blockquote>\n<p>There is an Array of String that passes from the API. What is the problem with the code?\nI am trying to pass that value into a spinner</p>\n</blockquote>\n<pre><code>     Call&lt;List&lt;ResponseSubject&gt;&gt; \n  subjectOption=ApiClient.getInstance().getApi().subjectOption();\n        subjectOption.enqueue(new Callback&lt;List&lt;ResponseSubject&gt;&gt;() {\n            @Override\n            public void onResponse(Call&lt;List&lt;ResponseSubject&gt;&gt; call, Response&lt;List&lt;ResponseSubject&gt;&gt; response) {\n\n                List&lt;ResponseSubject&gt; responseSubject=  response.body();\n            if(responseSubject!=null &amp;&amp; responseSubject.size()&gt;0) {\n\n                String[] sub = new String[responseSubject.size()];\n\n                for (int i = 0; i &lt; responseSubject.size(); i++) {\n                    sub[i]= Arrays.toString(responseSubject.get(i).getData());\n\n                    ArrayAdapter&lt;String&gt; adapter = new ArrayAdapter&lt;String&gt;(getApplicationContext(), android.R.layout.simple_spinner_dropdown_item,sub);\n                    spin_class.setAdapter(adapter);\n\n                    spin_class.setOnItemSelectedListener(new AdapterView.OnItemSelectedListener() {\n                        @Override\n                        public void onItemSelected(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n\n\n                        }\n\n                        @Override\n                        public void onNothingSelected(AdapterView&lt;?&gt; adapterView) {\n\n                        }\n                    });\n\n\n                }\n            }\n\n\n        }\n\n        @Override\n        public void onFailure(Call&lt;List&lt;ResponseSubject&gt;&gt; call, Throwable t) {\n\n        }\n    });\n</code></pre>\n<blockquote>\n<p>In the above code, it is checking if the value coming from API is null or not. After checking that data is passing in an array and that array data is assigned to the spinner.</p>\n</blockquote>\n"},{"tags":["java","timer"],"comments":[{"owner":{"account_id":3259065,"reputation":525,"user_id":2745013,"accept_rate":61,"display_name":"IHazABone"},"score":1,"creation_date":1416456206,"post_id":12908412,"comment_id":42584991,"body_markdown":"While the below answers should obviously answer your question, you should also note that the way you&#39;re doing it would result in a different interval on every machine. Depends on how fast it can run the compiler.","body":"While the below answers should obviously answer your question, you should also note that the way you&#39;re doing it would result in a different interval on every machine. Depends on how fast it can run the compiler."},{"owner":{"account_id":2668294,"reputation":4488,"user_id":2306173,"accept_rate":100,"display_name":"Alex Kulinkovich"},"score":0,"creation_date":1500479899,"post_id":12908412,"comment_id":77358590,"body_markdown":"Possible duplicate of [Calling a function every 10 minutes](https://stackoverflow.com/questions/1220975/calling-a-function-every-10-minutes)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/1220975/calling-a-function-every-10-minutes\">Calling a function every 10 minutes</a>"}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":6,"up_vote_count":11,"is_accepted":false,"score":5,"last_activity_date":1668328336,"creation_date":1350367284,"answer_id":12908436,"question_id":12908412,"body_markdown":"The easiest way would be to set the main thread to sleep for 3000 milliseconds (3 seconds):\r\n\r\n    for(int i = 0; i&lt; 10; i++) {\r\n        try {\r\n            //sending the actual Thread of execution to sleep X milliseconds\r\n            Thread.sleep(3000);\r\n        } catch(InterruptedException ie) {}\r\n        System.out.println(&quot;Hello world!&quot;);\r\n    }\r\n\r\nThis will stop the thread at least X milliseconds. The thread could be sleeping more time, but that&#39;s up to the JVM. The only thing guaranteed is that the thread will sleep at least those milliseconds. Take a look at the [`Thread#sleep`](http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html#sleep(long)) doc:\r\n\r\n&gt; Causes the currently executing thread to sleep (temporarily cease execution) for the specified number of milliseconds, **subject to the precision and accuracy of system timers and schedulers**.\r\n\r\n","title":"Print &quot;hello world&quot; every X seconds","body":"<p>The easiest way would be to set the main thread to sleep for 3000 milliseconds (3 seconds):</p>\n<pre><code>for(int i = 0; i&lt; 10; i++) {\n    try {\n        //sending the actual Thread of execution to sleep X milliseconds\n        Thread.sleep(3000);\n    } catch(InterruptedException ie) {}\n    System.out.println(&quot;Hello world!&quot;);\n}\n</code></pre>\n<p>This will stop the thread at least X milliseconds. The thread could be sleeping more time, but that's up to the JVM. The only thing guaranteed is that the thread will sleep at least those milliseconds. Take a look at the <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Thread.html#sleep(long)\" rel=\"nofollow noreferrer\"><code>Thread#sleep</code></a> doc:</p>\n<blockquote>\n<p>Causes the currently executing thread to sleep (temporarily cease execution) for the specified number of milliseconds, <strong>subject to the precision and accuracy of system timers and schedulers</strong>.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1791855,"reputation":1370,"user_id":1632043,"accept_rate":50,"display_name":"Russell Gutierrez"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1350367312,"creation_date":1350367312,"answer_id":12908445,"question_id":12908412,"body_markdown":"Add `Thread.sleep`\r\n\r\n    try {\r\n            Thread.sleep(3000);\r\n        } catch(InterruptedException ie) {}","title":"Print &quot;hello world&quot; every X seconds","body":"<p>Add <code>Thread.sleep</code></p>\n\n<pre><code>try {\n        Thread.sleep(3000);\n    } catch(InterruptedException ie) {}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":973275,"reputation":884,"user_id":995333,"accept_rate":52,"display_name":"saum22"},"down_vote_count":4,"up_vote_count":13,"is_accepted":false,"score":9,"last_activity_date":1581452938,"creation_date":1350367348,"answer_id":12908453,"question_id":12908412,"body_markdown":"You can use `Thread.sleep(3000)` inside for loop.\r\n\r\n**Note:** This will require a `try/catch` block.","title":"Print &quot;hello world&quot; every X seconds","body":"<p>You can use <code>Thread.sleep(3000)</code> inside for loop.</p>\n\n<p><strong>Note:</strong> This will require a <code>try/catch</code> block.</p>\n"},{"tags":[],"owner":{"account_id":41994,"reputation":20222,"user_id":122207,"display_name":"Tim Bender"},"down_vote_count":0,"up_vote_count":250,"is_accepted":false,"score":250,"last_activity_date":1350367465,"creation_date":1350367465,"answer_id":12908467,"question_id":12908412,"body_markdown":"If you want to do a periodic task, use a `ScheduledExecutorService`. Specifically [ScheduledExecutorService.scheduleAtFixedRate][1]\r\n\r\nThe code:\r\n\r\n    Runnable helloRunnable = new Runnable() {\r\n        public void run() {\r\n            System.out.println(&quot;Hello world&quot;);\r\n        }\r\n    };\r\n\r\n    ScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\r\n    executor.scheduleAtFixedRate(helloRunnable, 0, 3, TimeUnit.SECONDS);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate%28java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit%29","title":"Print &quot;hello world&quot; every X seconds","body":"<p>If you want to do a periodic task, use a <code>ScheduledExecutorService</code>. Specifically <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate%28java.lang.Runnable,%20long,%20long,%20java.util.concurrent.TimeUnit%29\" rel=\"noreferrer\">ScheduledExecutorService.scheduleAtFixedRate</a></p>\n\n<p>The code:</p>\n\n<pre><code>Runnable helloRunnable = new Runnable() {\n    public void run() {\n        System.out.println(\"Hello world\");\n    }\n};\n\nScheduledExecutorService executor = Executors.newScheduledThreadPool(1);\nexecutor.scheduleAtFixedRate(helloRunnable, 0, 3, TimeUnit.SECONDS);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":2,"up_vote_count":213,"is_accepted":true,"score":211,"last_activity_date":1462095032,"creation_date":1350367506,"answer_id":12908477,"question_id":12908412,"body_markdown":"You can also take a look at [`Timer`](http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html) and [`TimerTask`](http://docs.oracle.com/javase/7/docs/api/java/util/TimerTask.html) classes which you can use to schedule your task to run every `n` seconds.\r\n\r\nYou need a class that extends `TimerTask` and override the `public void run()` method, which will be executed everytime you pass an instance of that class to [`timer.schedule()`][1] method..\r\n\r\nHere&#39;s an example, which prints `Hello World` every 5 seconds: -\r\n\r\n    class SayHello extends TimerTask {\r\n        public void run() {\r\n           System.out.println(&quot;Hello World!&quot;); \r\n        }\r\n    }\r\n\r\n    // And From your main() method or any other method\r\n    Timer timer = new Timer();\r\n    timer.schedule(new SayHello(), 0, 5000);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html#schedule%28java.util.TimerTask,%20long,%20long%29","title":"Print &quot;hello world&quot; every X seconds","body":"<p>You can also take a look at <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html\" rel=\"noreferrer\"><code>Timer</code></a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/TimerTask.html\" rel=\"noreferrer\"><code>TimerTask</code></a> classes which you can use to schedule your task to run every <code>n</code> seconds.</p>\n\n<p>You need a class that extends <code>TimerTask</code> and override the <code>public void run()</code> method, which will be executed everytime you pass an instance of that class to <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Timer.html#schedule%28java.util.TimerTask,%20long,%20long%29\" rel=\"noreferrer\"><code>timer.schedule()</code></a> method..</p>\n\n<p>Here's an example, which prints <code>Hello World</code> every 5 seconds: -</p>\n\n<pre><code>class SayHello extends TimerTask {\n    public void run() {\n       System.out.println(\"Hello World!\"); \n    }\n}\n\n// And From your main() method or any other method\nTimer timer = new Timer();\ntimer.schedule(new SayHello(), 0, 5000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":72575,"reputation":40784,"user_id":209513,"accept_rate":100,"display_name":"Subhrajyoti Majumder"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1350370070,"creation_date":1350367624,"answer_id":12908499,"question_id":12908412,"body_markdown":"Use `java.util.Timer` and `Timer#schedule(TimerTask,delay,period)` method will help you.\r\n\r\n    public class RemindTask extends TimerTask {\r\n        public void run() {\r\n          System.out.println(&quot; Hello World!&quot;);\r\n        }\r\n        public static void main(String[] args){\r\n           Timer timer = new Timer();\r\n           timer.schedule(new RemindTask(), 3000,3000);\r\n        }\r\n      }","title":"Print &quot;hello world&quot; every X seconds","body":"<p>Use <code>java.util.Timer</code> and <code>Timer#schedule(TimerTask,delay,period)</code> method will help you.</p>\n\n<pre><code>public class RemindTask extends TimerTask {\n    public void run() {\n      System.out.println(\" Hello World!\");\n    }\n    public static void main(String[] args){\n       Timer timer = new Timer();\n       timer.schedule(new RemindTask(), 3000,3000);\n    }\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1732569,"reputation":3253,"user_id":1585868,"accept_rate":95,"display_name":"leigero"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1350367753,"creation_date":1350367753,"answer_id":12908522,"question_id":12908412,"body_markdown":"What he said. You can handle the exceptions however you like, but \r\n    Thread.sleep(miliseconds); \r\nis the best route to take.\r\n\r\n    public static void main(String[] args) throws InterruptedException {\r\n","title":"Print &quot;hello world&quot; every X seconds","body":"<p>What he said. You can handle the exceptions however you like, but \n    Thread.sleep(miliseconds); \nis the best route to take.</p>\n\n<pre><code>public static void main(String[] args) throws InterruptedException {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1064228,"reputation":16042,"user_id":1065180,"accept_rate":92,"display_name":"Nandkumar Tekale"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1350368165,"creation_date":1350368165,"answer_id":12908593,"question_id":12908412,"body_markdown":"For small applications it is fine to use Timer and TimerTask as Rohit mentioned but in web applications I would use [Quartz Scheduler][1] to schedule jobs and to perform such periodic jobs.\r\n\r\nSee [tutorials][2] for Quartz scheduling.\r\n\r\n\r\n  [1]: http://quartz-scheduler.org/\r\n  [2]: http://www.mkyong.com/tutorials/quartz-scheduler-tutorial/","title":"Print &quot;hello world&quot; every X seconds","body":"<p>For small applications it is fine to use Timer and TimerTask as Rohit mentioned but in web applications I would use <a href=\"http://quartz-scheduler.org/\" rel=\"nofollow\">Quartz Scheduler</a> to schedule jobs and to perform such periodic jobs.</p>\n\n<p>See <a href=\"http://www.mkyong.com/tutorials/quartz-scheduler-tutorial/\" rel=\"nofollow\">tutorials</a> for Quartz scheduling.</p>\n"},{"tags":[],"owner":{"account_id":1616803,"reputation":1643,"user_id":1494265,"display_name":"tmwanik"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1462095253,"creation_date":1350368202,"answer_id":12908598,"question_id":12908412,"body_markdown":"I figure it out with a timer, hope it helps. I have used a timer from `java.util.Timer` and `TimerTask` from the same package. See below:\r\n\r\n    TimerTask task = new TimerTask() {\r\n\r\n\t\t@Override\r\n\t\tpublic void run() {\r\n\t\t\tSystem.out.println(&quot;Hello World&quot;);\r\n\t\t}\r\n\t};\r\n\r\n\tTimer timer = new Timer();\r\n\ttimer.schedule(task, new Date(), 3000);","title":"Print &quot;hello world&quot; every X seconds","body":"<p>I figure it out with a timer, hope it helps. I have used a timer from <code>java.util.Timer</code> and <code>TimerTask</code> from the same package. See below:</p>\n\n<pre><code>TimerTask task = new TimerTask() {\n\n    @Override\n    public void run() {\n        System.out.println(\"Hello World\");\n    }\n};\n\nTimer timer = new Timer();\ntimer.schedule(task, new Date(), 3000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63354,"reputation":9525,"user_id":187570,"accept_rate":61,"display_name":"Vicky"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1506415870,"creation_date":1367387918,"answer_id":16313457,"question_id":12908412,"body_markdown":"    public class HelloWorld extends TimerTask{\r\n    \r\n    \tpublic void run() {\r\n    \r\n    \t\tSystem.out.println(&quot;Hello World&quot;);\r\n    \t}\r\n    }\r\n\r\n\r\n    public class PrintHelloWorld {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tTimer timer = new Timer();\r\n    \t\ttimer.schedule(new HelloWorld(), 0, 5000);\r\n    \r\n    \t\twhile (true) {\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(2000);\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\tSystem.out.println(&quot;InterruptedException Exception&quot; + e.getMessage());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\ninfinite loop is created ad scheduler task is configured.","title":"Print &quot;hello world&quot; every X seconds","body":"<pre><code>public class HelloWorld extends TimerTask{\n\n    public void run() {\n\n        System.out.println(\"Hello World\");\n    }\n}\n\n\npublic class PrintHelloWorld {\n    public static void main(String[] args) {\n        Timer timer = new Timer();\n        timer.schedule(new HelloWorld(), 0, 5000);\n\n        while (true) {\n            try {\n                Thread.sleep(2000);\n            } catch (InterruptedException e) {\n                System.out.println(\"InterruptedException Exception\" + e.getMessage());\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>infinite loop is created ad scheduler task is configured.</p>\n"},{"tags":[],"owner":{"account_id":3618458,"reputation":7,"user_id":3017805,"display_name":"user3017805"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1398784847,"creation_date":1398784847,"answer_id":23368792,"question_id":12908412,"body_markdown":"    public class TimeDelay{\r\n      public static void main(String args[]) {\r\n\t    try {\r\n\t      while (true) {\r\n\t\t    System.out.println(new String(&quot;Hello world&quot;));\r\n\t\t    Thread.sleep(3 * 1000); // every 3 seconds\r\n\t      }\r\n\t    } catch (InterruptedException e) {\r\n\t      e.printStackTrace();\r\n\t    }\r\n      }\r\n    }","title":"Print &quot;hello world&quot; every X seconds","body":"<pre><code>public class TimeDelay{\n  public static void main(String args[]) {\n    try {\n      while (true) {\n        System.out.println(new String(\"Hello world\"));\n        Thread.sleep(3 * 1000); // every 3 seconds\n      }\n    } catch (InterruptedException e) {\n      e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3990385,"reputation":29,"user_id":3928455,"display_name":"user3928455"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1407737526,"creation_date":1407737296,"answer_id":25236793,"question_id":12908412,"body_markdown":"This is the simple way to use thread in java:\r\n\r\n    for(int i = 0; i&lt; 10; i++) {\r\n        try {\r\n            //sending the actual Thread of execution to sleep X milliseconds\r\n            Thread.sleep(3000);\r\n        } catch(Exception e) {\r\n            System.out.println(&quot;Exception : &quot;+e.getMessage());\r\n        }\r\n        System.out.println(&quot;Hello world!&quot;);\r\n    }\r\n","title":"Print &quot;hello world&quot; every X seconds","body":"<p>This is the simple way to use thread in java:</p>\n\n<pre><code>for(int i = 0; i&lt; 10; i++) {\n    try {\n        //sending the actual Thread of execution to sleep X milliseconds\n        Thread.sleep(3000);\n    } catch(Exception e) {\n        System.out.println(\"Exception : \"+e.getMessage());\n    }\n    System.out.println(\"Hello world!\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1778546,"reputation":584,"user_id":1621811,"display_name":"Mayur Chudasama"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1440579241,"creation_date":1407738312,"answer_id":25236994,"question_id":12908412,"body_markdown":"Here&#39;s another simple way using Runnable interface in Thread Constructor\r\n\r\n    public class Demo {\r\n\t    public static void main(String[] args) {\r\n\t    \tThread t1 = new Thread(new Runnable() {\r\n        \r\n\t\t    \t@Override\r\n\t\t    \tpublic void run() {\r\n\t\t\t\t    for(int i = 0; i &lt; 5; i++){\r\n\t\t\t\t\t    try {\r\n\t\t\t\t\t\t    Thread.sleep(3000);\r\n\t\t\t\t\t    } catch (InterruptedException e) {\r\n\t\t\t\t    \t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t    \te.printStackTrace();\r\n\t\t\t\t\t    }\r\n\t\t\t\t\t    System.out.println(&quot;Thread T1 : &quot;+i);\r\n\t\t\t\t    }\r\n\t\t\t    }\r\n\t\t    });\r\n\r\n\t\t    Thread t2 = new Thread(new Runnable() {\r\n\r\n\t\t    \t@Override\r\n\t\t    \tpublic void run() {\r\n\t\t    \t\tfor(int i = 0; i &lt; 5; i++) {\r\n\t\t\t    \t\ttry {\r\n\t\t\t\t    \t\tThread.sleep(3000);\r\n\t\t\t    \t\t} catch (InterruptedException e) {\r\n\t\t\t    \t\t\t// TODO Auto-generated catch block\r\n\t\t\t    \t\t\te.printStackTrace();\r\n\t\t\t    \t\t}\r\n\t\t\t    \t\tSystem.out.println(&quot;Thread T2 : &quot;+i);\r\n\t\t\t    \t}\r\n\t\t    \t}\r\n\t\t    });\r\n    \r\n\t\t    Thread t3 = new Thread(new Runnable() {\r\n\r\n\t\t    \t@Override\r\n\t    \t\tpublic void run() {\r\n\t\t    \t\tfor(int i = 0; i &lt; 5; i++){\r\n\t\t\t    \t\ttry {\r\n\t\t    \t\t\t\tThread.sleep(3000);\r\n\t\t\t\t    \t} catch (InterruptedException e) {\r\n\t\t\t\t\t    \t// TODO Auto-generated catch block\r\n\t\t\t    \t\t\te.printStackTrace();\r\n\t\t\t    \t\t}\r\n\t\t\t\t    \tSystem.out.println(&quot;Thread T3 : &quot;+i);\r\n\t\t\t\t    }\r\n\t\t    \t}\r\n\t\t    });\r\n\t\t\r\n\t\t    t1.start();\r\n\t\t    t2.start();\r\n\t\t    t3.start();\r\n    \t}\r\n    }","title":"Print &quot;hello world&quot; every X seconds","body":"<p>Here's another simple way using Runnable interface in Thread Constructor</p>\n\n<pre><code>public class Demo {\n    public static void main(String[] args) {\n        Thread t1 = new Thread(new Runnable() {\n\n            @Override\n            public void run() {\n                for(int i = 0; i &lt; 5; i++){\n                    try {\n                        Thread.sleep(3000);\n                    } catch (InterruptedException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                    System.out.println(\"Thread T1 : \"+i);\n                }\n            }\n        });\n\n        Thread t2 = new Thread(new Runnable() {\n\n            @Override\n            public void run() {\n                for(int i = 0; i &lt; 5; i++) {\n                    try {\n                        Thread.sleep(3000);\n                    } catch (InterruptedException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                    System.out.println(\"Thread T2 : \"+i);\n                }\n            }\n        });\n\n        Thread t3 = new Thread(new Runnable() {\n\n            @Override\n            public void run() {\n                for(int i = 0; i &lt; 5; i++){\n                    try {\n                        Thread.sleep(3000);\n                    } catch (InterruptedException e) {\n                        // TODO Auto-generated catch block\n                        e.printStackTrace();\n                    }\n                    System.out.println(\"Thread T3 : \"+i);\n                }\n            }\n        });\n\n        t1.start();\n        t2.start();\n        t3.start();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4475555"},"down_vote_count":1,"up_vote_count":47,"is_accepted":false,"score":46,"last_activity_date":1437719851,"creation_date":1437719851,"answer_id":31603787,"question_id":12908412,"body_markdown":"Try doing this:\r\n    \r\n    Timer t = new Timer();\r\n    t.schedule(new TimerTask() {\r\n        @Override\r\n        public void run() {\r\n           System.out.println(&quot;Hello World&quot;);\r\n        }\r\n    }, 0, 5000);\r\n\r\nThis code will run print to console **Hello World** every **5000** milliseconds (**5** seconds).\r\nFor more info, read https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Timer.html","title":"Print &quot;hello world&quot; every X seconds","body":"<p>Try doing this:</p>\n\n<pre><code>Timer t = new Timer();\nt.schedule(new TimerTask() {\n    @Override\n    public void run() {\n       System.out.println(\"Hello World\");\n    }\n}, 0, 5000);\n</code></pre>\n\n<p>This code will run print to console <strong>Hello World</strong> every <strong>5000</strong> milliseconds (<strong>5</strong> seconds).\nFor more info, read <a href=\"https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Timer.html\">https://docs.oracle.com/javase/1.5.0/docs/api/java/util/Timer.html</a></p>\n"}],"owner":{"account_id":337315,"reputation":11257,"user_id":665518,"accept_rate":76,"display_name":"meiryo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326887,"favorite_count":0,"down_vote_count":1,"up_vote_count":153,"accepted_answer_id":12908477,"answer_count":14,"score":152,"last_activity_date":1668328336,"creation_date":1350367181,"question_id":12908412,"body_markdown":"Lately I&#39;ve been using loops with large numbers to print out `Hello World`:\r\n\r\n\t\t\r\n\tint counter = 0;\r\n\r\n\twhile(true) {\r\n\t\t//loop for ~5 seconds\r\n\t\tfor(int i = 0; i &lt; 2147483647 ; i++) {\r\n            //another loop because it&#39;s 2012 and PCs have gotten considerably faster :)\r\n\t\t\tfor(int j = 0; j &lt; 2147483647 ; j++){ ... }\r\n\t\t}\r\n\t\tSystem.out.println(counter + &quot;. Hello World!&quot;);\r\n\t\tcounter++;\r\n\t}\r\n\r\nI understand that this is a very silly way to do it, but I&#39;ve never used any timer libraries in Java yet. How would one modify the above to print every say 3 seconds?","title":"Print &quot;hello world&quot; every X seconds","body":"<p>Lately I've been using loops with large numbers to print out <code>Hello World</code>:</p>\n\n<pre><code>int counter = 0;\n\nwhile(true) {\n    //loop for ~5 seconds\n    for(int i = 0; i &lt; 2147483647 ; i++) {\n        //another loop because it's 2012 and PCs have gotten considerably faster :)\n        for(int j = 0; j &lt; 2147483647 ; j++){ ... }\n    }\n    System.out.println(counter + \". Hello World!\");\n    counter++;\n}\n</code></pre>\n\n<p>I understand that this is a very silly way to do it, but I've never used any timer libraries in Java yet. How would one modify the above to print every say 3 seconds?</p>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":3547959,"reputation":2574,"user_id":2963422,"display_name":"Procrastinator"},"score":0,"creation_date":1511512806,"post_id":47468936,"comment_id":81892945,"body_markdown":"May be you can use `@Nullable/@NotNull` annotations at the method declarations.","body":"May be you can use <code>@Nullable&#47;@NotNull</code> annotations at the method declarations."},{"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"score":0,"creation_date":1511530579,"post_id":47468936,"comment_id":81903495,"body_markdown":"MapStruct does not have support for those annotations yet see [#1243](https://github.com/mapstruct/mapstruct/issues/1243)","body":"MapStruct does not have support for those annotations yet see <a href=\"https://github.com/mapstruct/mapstruct/issues/1243\" rel=\"nofollow noreferrer\">#1243</a>"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667822035,"post_id":47468936,"comment_id":131251514,"body_markdown":"The above method looks like a candidate for an `@AfterMapping` method in the mapper?","body":"The above method looks like a candidate for an <code>@AfterMapping</code> method in the mapper?"}],"answers":[{"tags":[],"owner":{"account_id":10878617,"reputation":2606,"user_id":7998319,"display_name":"gati sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515158384,"creation_date":1511511898,"answer_id":47469122,"question_id":47468936,"body_markdown":"You can use some custom Ignore startegy.\r\n\r\nSource of discussion :[link][1]\r\n\r\nPossible values for ignoreStrategy:\r\n\r\n    ALWAYS (as true)\r\n    NEVER (as false)\r\n    NULL_SOURCE (ignore if source value is null) - often required in many projects\r\n        if (source.getValue() != null)\r\n            target.setValue (source.getValue());\r\n    NULL_TARGET (ignore if target value is null)\r\n        if (target.getValue() != null)\r\n            target.setValue(source.getValue());\r\n\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct/issues/369 ???\r\n\r\nBug? I can modify the other&#39;s answer????\r\n","title":"Mapstruct check null","body":"<p>You can use some custom Ignore startegy.</p>\n\n<p>Source of discussion :[link][1]</p>\n\n<p>Possible values for ignoreStrategy:</p>\n\n<pre><code>ALWAYS (as true)\nNEVER (as false)\nNULL_SOURCE (ignore if source value is null) - often required in many projects\n    if (source.getValue() != null)\n        target.setValue (source.getValue());\nNULL_TARGET (ignore if target value is null)\n    if (target.getValue() != null)\n        target.setValue(source.getValue());\n</code></pre>\n\n<p>[1]: <a href=\"https://github.com/mapstruct/mapstruct/issues/369\" rel=\"nofollow noreferrer\">https://github.com/mapstruct/mapstruct/issues/369</a> ???</p>\n\n<p>Bug? I can modify the other's answer????</p>\n"},{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1511530949,"creation_date":1511530949,"answer_id":47474560,"question_id":47468936,"body_markdown":"This is not yet possible with MapStruct, you can either do for all or for none. There is already a feature request for the exact same thing. See [1243](https://github.com/mapstruct/mapstruct/issues/1243)","title":"Mapstruct check null","body":"<p>This is not yet possible with MapStruct, you can either do for all or for none. There is already a feature request for the exact same thing. See <a href=\"https://github.com/mapstruct/mapstruct/issues/1243\" rel=\"nofollow noreferrer\">1243</a></p>\n"},{"tags":[],"owner":{"account_id":26546374,"reputation":11,"user_id":20176385,"display_name":"Blub"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668327879,"creation_date":1667821000,"answer_id":74345977,"question_id":47468936,"body_markdown":"You could annotade your mapping function with a conditionExpression\r\n```\r\n&lt;i&gt;@Mapping(source=&quot;bar&quot;, target=&quot;bar&quot;, conditionExpression = &quot;java(fooDto.getBar()!=null)&quot;)&lt;/i&gt;\r\n```","title":"Mapstruct check null","body":"<p>You could annotade your mapping function with a conditionExpression</p>\n<pre><code>&lt;i&gt;@Mapping(source=&quot;bar&quot;, target=&quot;bar&quot;, conditionExpression = &quot;java(fooDto.getBar()!=null)&quot;)&lt;/i&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667822516,"creation_date":1667822516,"answer_id":74346275,"question_id":47468936,"body_markdown":"According to your example, you give `fooDto.getBaz()` precedence over `fooDto.getBar()`. You could realise this in the Mapper-Interface like:\r\n\r\n```java\r\n\r\n/*\r\n * regular mapping FooDto.bar to Foo.bar\r\n */\r\nFoo map(FooDto fooDto);\r\n\r\n/*\r\n * Overwrite Foo.bar by FooDto.baz if present\r\n */\r\n@AfterMapping\r\ndefault updateFooFromNonNullAttributesOfDto(FooDto fooDto, Foo foo) {\r\n  if (fooDto== null ) {\r\n    return;\r\n  }\r\n  if(fooDto.getBaz() != null) {\r\n   foo.setBar(fooDto.getBaz());\r\n  }\r\n}\r\n\r\n```\r\n","title":"Mapstruct check null","body":"<p>According to your example, you give <code>fooDto.getBaz()</code> precedence over <code>fooDto.getBar()</code>. You could realise this in the Mapper-Interface like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n/*\n * regular mapping FooDto.bar to Foo.bar\n */\nFoo map(FooDto fooDto);\n\n/*\n * Overwrite Foo.bar by FooDto.baz if present\n */\n@AfterMapping\ndefault updateFooFromNonNullAttributesOfDto(FooDto fooDto, Foo foo) {\n  if (fooDto== null ) {\n    return;\n  }\n  if(fooDto.getBaz() != null) {\n   foo.setBar(fooDto.getBaz());\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":1573514,"reputation":1365,"user_id":1460643,"accept_rate":56,"display_name":"Aliaksei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24438,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":47474560,"answer_count":4,"score":6,"last_activity_date":1668327879,"creation_date":1511511199,"question_id":47468936,"body_markdown":"I wand check check null in method\r\n\r\n \r\n\r\n    @Override\r\n     public void updateFooFromNonNullAttributesOfDto(FooDto fooDto, Foo foo) {\r\n            if ( fooDto== null ) {\r\n                return;\r\n            }\r\n            if ( fooDto.getBar() != null ) {\r\n                site.setBar( fooDto.getBar() );\r\n            }\r\n             if ( fooDto.getBaz() != null ) {\r\n                site.setBar( fooDto.getBaz() );\r\n            }\r\n    }\r\n\r\nWhen I use\r\n\r\n    @Mapper( NullValueCheckStrategy.ALWAYS)\r\n\r\nIt&#39;s check in all methods, but I want check only in one...\r\nHow to solve this problem?","title":"Mapstruct check null","body":"<p>I wand check check null in method</p>\n\n<pre><code>@Override\n public void updateFooFromNonNullAttributesOfDto(FooDto fooDto, Foo foo) {\n        if ( fooDto== null ) {\n            return;\n        }\n        if ( fooDto.getBar() != null ) {\n            site.setBar( fooDto.getBar() );\n        }\n         if ( fooDto.getBaz() != null ) {\n            site.setBar( fooDto.getBaz() );\n        }\n}\n</code></pre>\n\n<p>When I use</p>\n\n<pre><code>@Mapper( NullValueCheckStrategy.ALWAYS)\n</code></pre>\n\n<p>It's check in all methods, but I want check only in one...\nHow to solve this problem?</p>\n"},{"tags":["java","list","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668294366,"creation_date":1668294366,"answer_id":74417235,"question_id":74417195,"body_markdown":"Instead of returning `new LinkedList&lt;&gt;()` you could return `List.emptyList()`. \r\n\r\n`isPresent()` is a method of Optional, but you assign the outcome of method `get(department_ID)` to an instance of List. You can check the List using\r\n\r\n    if(!(existing == null || existing.isEmpty())) {\r\n   ","title":"Converting Optional&lt;&gt; to List&lt;&gt;","body":"<p>Instead of returning <code>new LinkedList&lt;&gt;()</code> you could return <code>List.emptyList()</code>.</p>\n<p><code>isPresent()</code> is a method of Optional, but you assign the outcome of method <code>get(department_ID)</code> to an instance of List. You can check the List using</p>\n<pre><code>if(!(existing == null || existing.isEmpty())) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668326418,"creation_date":1668294571,"answer_id":74417258,"question_id":74417195,"body_markdown":"# tl;dr\r\n\r\nChange:\r\n\r\n    if (existing.isPresent()) { …\r\n\r\n… to:\r\n\r\n    if ( ! list.isEmpty() ) { …\r\n\r\n\r\n# Details\r\n\r\nYou said:\r\n\r\n&gt; red error under &quot;.isPresent&quot; (indicated in the code below) with error message &quot;The method isPresent() is undefined for the type List&lt;Department&gt;&quot;. \r\n\r\nThe variable `existing` holds a reference to a `List` object. If you look at the Javadoc for [`List`][1], you find no method named `isPresent`. So of course trying to call a non-existent method generates an error from the compiler.\r\n\r\nThat `isPresent` method was from the [`Optional`][2] class. The method checks to see if the optional holds a payload or if the optional is empty.\r\n\r\nYou seem to be switching to a style where you always expect a `List`, even if the list is empty (no elements). \r\n\r\nIf you want to be defensive, you can check that the list object exists.\r\n\r\n    if ( Objects.nonNull( existing ) ) { … }\r\n\r\nBut you can omit that null check if you are confident that such a condition cannot exist. \r\n\r\nYou may want to check if the list is empty, to avoid a needless call to your database. If so, change that code to:\r\n\r\n    if ( ! list.isEmpty() ) // Perform database work only if list has some elements.\r\n\r\n\r\n----------\r\n\r\nYou have other issues. Among them:\r\n\r\n - Generally the convention in Java is to avoid underscores in names. And generally best to avoid ALL-CAPS.  So `departmentId`, not `department_ID`. \r\n - When returning lists, generally best to return an [unmodifiable list][3]. If the calling programmer needs a modifiable list, they can easily make from the returned unmodifiable list. \r\n - To get an unmodifiable list, use [`List.of`][4] rather than `new LinkedList&lt;&gt;()`. \r\n - I cannot understand why your `delete` method would return a list. You may believe that you are reporting rows that got deleted, but technically you are not.\r\n\r\n\r\n----------\r\n\r\n\r\nBy the way, a tip: [Text blocks][5] can help with embedded SQL.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of()\r\n  [5]: https://openjdk.org/jeps/378","title":"Converting Optional&lt;&gt; to List&lt;&gt;","body":"<h1>tl;dr</h1>\n<p>Change:</p>\n<pre><code>if (existing.isPresent()) { …\n</code></pre>\n<p>… to:</p>\n<pre><code>if ( ! list.isEmpty() ) { …\n</code></pre>\n<h1>Details</h1>\n<p>You said:</p>\n<blockquote>\n<p>red error under &quot;.isPresent&quot; (indicated in the code below) with error message &quot;The method isPresent() is undefined for the type List&quot;.</p>\n</blockquote>\n<p>The variable <code>existing</code> holds a reference to a <code>List</code> object. If you look at the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>List</code></a>, you find no method named <code>isPresent</code>. So of course trying to call a non-existent method generates an error from the compiler.</p>\n<p>That <code>isPresent</code> method was from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\"><code>Optional</code></a> class. The method checks to see if the optional holds a payload or if the optional is empty.</p>\n<p>You seem to be switching to a style where you always expect a <code>List</code>, even if the list is empty (no elements).</p>\n<p>If you want to be defensive, you can check that the list object exists.</p>\n<pre><code>if ( Objects.nonNull( existing ) ) { … }\n</code></pre>\n<p>But you can omit that null check if you are confident that such a condition cannot exist.</p>\n<p>You may want to check if the list is empty, to avoid a needless call to your database. If so, change that code to:</p>\n<pre><code>if ( ! list.isEmpty() ) // Perform database work only if list has some elements.\n</code></pre>\n<hr />\n<p>You have other issues. Among them:</p>\n<ul>\n<li>Generally the convention in Java is to avoid underscores in names. And generally best to avoid ALL-CAPS.  So <code>departmentId</code>, not <code>department_ID</code>.</li>\n<li>When returning lists, generally best to return an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#unmodifiable\" rel=\"nofollow noreferrer\">unmodifiable list</a>. If the calling programmer needs a modifiable list, they can easily make from the returned unmodifiable list.</li>\n<li>To get an unmodifiable list, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html#of()\" rel=\"nofollow noreferrer\"><code>List.of</code></a> rather than <code>new LinkedList&lt;&gt;()</code>.</li>\n<li>I cannot understand why your <code>delete</code> method would return a list. You may believe that you are reporting rows that got deleted, but technically you are not.</li>\n</ul>\n<hr />\n<p>By the way, a tip: <a href=\"https://openjdk.org/jeps/378\" rel=\"nofollow noreferrer\">Text blocks</a> can help with embedded SQL.</p>\n"}],"owner":{"account_id":26913890,"reputation":1,"user_id":20489017,"display_name":"Jax Youngblood"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1668326418,"creation_date":1668293812,"question_id":74417195,"body_markdown":"I have a section of code that used to utilize Optional\\&lt;Department\\&gt;, but due to some errors I worked out I am now converting it to List\\&lt;Department\\&gt;. Obviously this means I now have to change the return types and other method calls. Here are my questions:\r\n\r\n- I changed my returns to &quot;new LinkedList\\&lt;\\&gt;()&quot; (indicated in the code below) but is that correct?\r\n\r\n- There is a red error under &quot;.isPresent&quot; (indicated in the code below) with error message &quot;The method isPresent() is undefined for the type List\\&lt;Department\\&gt;&quot;. What should I be changing that to?\r\n\r\nBelow is the updated code with comments indicating where errors are now occurring. Any help and explanations would be GREATLY appreciated!\r\n\r\n```\r\npublic List&lt;Department&gt; delete(String department_ID) {\r\n    if ((department_ID == null) || (department_ID.isEmpty())) {\r\n      return new LinkedList&lt;&gt;();      //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; used to be &quot;return Optional.empty();&quot;\r\n    }\r\n\r\n    List&lt;Department&gt; existing = get(department_ID);\r\n    if (existing.isPresent()) {    //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; red error under &quot;.isPresent()&quot;\r\n      String sql = &quot;DELETE employee.*, department.* &quot; + &quot;FROM employee, department &quot;\r\n          + &quot;WHERE employee.department_ID = :department_ID AND department.department_ID = :department_ID;&quot;;\r\n\r\n      MapSqlParameterSource parameters = new MapSqlParameterSource();\r\n      parameters.addValue(&quot;department_ID&quot;, department_ID);\r\n\r\n      int rows = jdbcTemplate.update(sql, parameters);\r\n      if (rows &gt; 0) {\r\n        return existing;\r\n      }\r\n    }\r\n    return new LinkedList&lt;&gt;();     //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; used to be &quot;return Optional.empty();&quot;\r\n  }\r\n```\r\n\r\n- I changed my returns to &quot;new LinkedList&lt;&gt;()&quot; (indicated in the code below) but is that correct?\r\n- I have googled the error message for my &quot;.isPresent&quot; error and cant find any explanations that fit","title":"Converting Optional&lt;&gt; to List&lt;&gt;","body":"<p>I have a section of code that used to utilize Optional&lt;Department&gt;, but due to some errors I worked out I am now converting it to List&lt;Department&gt;. Obviously this means I now have to change the return types and other method calls. Here are my questions:</p>\n<ul>\n<li><p>I changed my returns to &quot;new LinkedList&lt;&gt;()&quot; (indicated in the code below) but is that correct?</p>\n</li>\n<li><p>There is a red error under &quot;.isPresent&quot; (indicated in the code below) with error message &quot;The method isPresent() is undefined for the type List&lt;Department&gt;&quot;. What should I be changing that to?</p>\n</li>\n</ul>\n<p>Below is the updated code with comments indicating where errors are now occurring. Any help and explanations would be GREATLY appreciated!</p>\n<pre><code>public List&lt;Department&gt; delete(String department_ID) {\n    if ((department_ID == null) || (department_ID.isEmpty())) {\n      return new LinkedList&lt;&gt;();      //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; used to be &quot;return Optional.empty();&quot;\n    }\n\n    List&lt;Department&gt; existing = get(department_ID);\n    if (existing.isPresent()) {    //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; red error under &quot;.isPresent()&quot;\n      String sql = &quot;DELETE employee.*, department.* &quot; + &quot;FROM employee, department &quot;\n          + &quot;WHERE employee.department_ID = :department_ID AND department.department_ID = :department_ID;&quot;;\n\n      MapSqlParameterSource parameters = new MapSqlParameterSource();\n      parameters.addValue(&quot;department_ID&quot;, department_ID);\n\n      int rows = jdbcTemplate.update(sql, parameters);\n      if (rows &gt; 0) {\n        return existing;\n      }\n    }\n    return new LinkedList&lt;&gt;();     //&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; used to be &quot;return Optional.empty();&quot;\n  }\n</code></pre>\n<ul>\n<li>I changed my returns to &quot;new LinkedList&lt;&gt;()&quot; (indicated in the code below) but is that correct?</li>\n<li>I have googled the error message for my &quot;.isPresent&quot; error and cant find any explanations that fit</li>\n</ul>\n"},{"tags":["java","spring","proxy","spring-aop","cglib"],"comments":[{"owner":{"account_id":213468,"reputation":103485,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1668248210,"post_id":74411948,"comment_id":131362586,"body_markdown":"The documentation you quote says it won&#39;t work, so why are you asking? You already found an authoritative reference that it doesn&#39;t work.","body":"The documentation you quote says it won&#39;t work, so why are you asking? You already found an authoritative reference that it doesn&#39;t work."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668322363,"creation_date":1668254882,"answer_id":74412787,"question_id":74411948,"body_markdown":"Of course you can have both proxy types in one application. Simply do **not** use `proxy-target-class=&quot;true&quot;`. Then if your class implements any interfaces, Spring will generate Java dynamic proxies for them. If your class does not implement any interfaces, it will automatically use a CGLIB class-based proxy. But of course, an interface-based proxy will only contain methods from all the implemented interfaces, not any super-class methods defined on base classes which are not part of any interfaces. So while you get the best of both worlds like this, of course you cannot eat the cake and keep it.\r\n\r\nBTW, the usage mode I just described is even the default in Spring Core. Caveat: It is not the default in Spring Boot, and it is a bit tricky (but possible) to activate it in Boot.","title":"Does proxy-target-class=&quot;true&quot;disable interface-based proxy?","body":"<p>Of course you can have both proxy types in one application. Simply do <strong>not</strong> use <code>proxy-target-class=&quot;true&quot;</code>. Then if your class implements any interfaces, Spring will generate Java dynamic proxies for them. If your class does not implement any interfaces, it will automatically use a CGLIB class-based proxy. But of course, an interface-based proxy will only contain methods from all the implemented interfaces, not any super-class methods defined on base classes which are not part of any interfaces. So while you get the best of both worlds like this, of course you cannot eat the cake and keep it.</p>\n<p>BTW, the usage mode I just described is even the default in Spring Core. Caveat: It is not the default in Spring Boot, and it is a bit tricky (but possible) to activate it in Boot.</p>\n"}],"owner":{"account_id":8900088,"reputation":4307,"user_id":6643803,"accept_rate":81,"display_name":"akuma8"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74412787,"answer_count":1,"score":0,"last_activity_date":1668322363,"creation_date":1668247043,"question_id":74411948,"body_markdown":"I would like to set all proxy-related annotations like `@Transactional`, `@Async`, `@Cacheable` on my interfaces method. The main reason is that I have multiple implementations, so I don&#39;t want to repeat the same annotations each time I add a new implementation. \r\n\r\nReading the documentation I fell on this: \r\n\r\n&gt; The Spring team recommends that you annotate only concrete classes (and methods of concrete classes) with the @Transactional annotation, as opposed to annotating interfaces. You certainly can place the @Transactional annotation on an interface (or an interface method), but this works only as you would expect it to if you use interface-based proxies. The fact that Java annotations are not inherited from interfaces means that, if you use class-based proxies (proxy-target-class=&quot;true&quot;) or the weaving-based aspect (mode=&quot;aspectj&quot;), the transaction settings are not recognized by the proxying and weaving infrastructure, and the object is not wrapped in a transactional proxy.\r\n\r\nMy questions are: Does `proxy-target-class=&quot;true&quot;` completely disable interface-based proxy? Even if the bean in question implements an interface?\r\n\r\nIf yes, is it possible to have both proxy types?\r\n\r\n","title":"Does proxy-target-class=&quot;true&quot;disable interface-based proxy?","body":"<p>I would like to set all proxy-related annotations like <code>@Transactional</code>, <code>@Async</code>, <code>@Cacheable</code> on my interfaces method. The main reason is that I have multiple implementations, so I don't want to repeat the same annotations each time I add a new implementation.</p>\n<p>Reading the documentation I fell on this:</p>\n<blockquote>\n<p>The Spring team recommends that you annotate only concrete classes (and methods of concrete classes) with the @Transactional annotation, as opposed to annotating interfaces. You certainly can place the @Transactional annotation on an interface (or an interface method), but this works only as you would expect it to if you use interface-based proxies. The fact that Java annotations are not inherited from interfaces means that, if you use class-based proxies (proxy-target-class=&quot;true&quot;) or the weaving-based aspect (mode=&quot;aspectj&quot;), the transaction settings are not recognized by the proxying and weaving infrastructure, and the object is not wrapped in a transactional proxy.</p>\n</blockquote>\n<p>My questions are: Does <code>proxy-target-class=&quot;true&quot;</code> completely disable interface-based proxy? Even if the bean in question implements an interface?</p>\n<p>If yes, is it possible to have both proxy types?</p>\n"},{"tags":["java","monitoring","disk","oshi"],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668321173,"creation_date":1667925902,"answer_id":74364286,"question_id":74353612,"body_markdown":"OSHI&#39;s [HWDiskStore][1] class has a few methods that may be helpful:\r\n - `getReads()` and `getReadBytes()` summarize the reads\r\n - `getWrites()` and `getWriteBytes()` summarize the writes\r\n - `getTransferTime()` summarizes the total time for reading and writing.\r\n\r\nBased on the docs you quoted:\r\n&gt; you can use the number of transfers per second that the operating system reports to calculate utilization for the disk \r\n\r\nit seems you could sum `getReads()` and `getWrites()` and divide by `getTransferTime()` to convert to &quot;transfers per second&quot; -- at least while the disk was active.  Overall active time could just be the transfer time over elapsed time.\r\n\r\nNote that all these stats are snapshot measures that are (or should be) monotonically increasing, so they&#39;ll give you a cumulative total.  To calculate usage over a time interval you&#39;d need to capture the data twice and then use the deltas to calculate your metric.\r\n\r\nHere&#39;s some sample OSHI code to demonstrate the calculation:\r\n```java\r\npublic class Test {\r\n\r\n    public static void main(String[] args) {\r\n        HWDiskStore disk = new SystemInfo().getHardware().getDiskStores().get(0);\r\n        System.out.format(&quot;Reads: %d, Writes: %d, XferTime: %d, Timestamp: %d%n&quot;, disk.getReads(), disk.getWrites(),\r\n                disk.getTransferTime(), disk.getTimeStamp());\r\n        Util.sleep(10000);\r\n        disk.updateAttributes();\r\n        System.out.format(&quot;Reads: %d, Writes: %d, XferTime: %d, Timestamp: %d%n&quot;, disk.getReads(), disk.getWrites(),\r\n                disk.getTransferTime(), disk.getTimeStamp());\r\n    }\r\n}\r\n```\r\nHere&#39;s the output:\r\n```\r\nReads: 70472443, Writes: 62744300, XferTime: 30886365, Timestamp: 1667953835809\r\nReads: 70476812, Writes: 62744787, XferTime: 30887206, Timestamp: 1667953845847\r\n```\r\nSo we slept for 10 seconds (actually, 10038 milliseconds). During that time:\r\n - 70476812-70472443 = 4369 reads occurred\r\n - 62744787-62744300 = 487 writes occurred\r\n - 30887206-30886365 = 841 milliseconds of transfer time occurred\r\n\r\nFrom this we can conclude:\r\n - The disk was transferring data 841 / 10038 of the time (8.3%)\r\n - The transfer rate was (4369+487)/841 = 5.77 transfers per millisecond = 5774 transfers per second.\r\n\r\n  [1]: https://www.oshi.ooo/oshi-core-java11/apidocs/com.github.oshi/oshi/hardware/HWDiskStore.html","title":"Is there a way to get the disk activity time using oshi?","body":"<p>OSHI's <a href=\"https://www.oshi.ooo/oshi-core-java11/apidocs/com.github.oshi/oshi/hardware/HWDiskStore.html\" rel=\"nofollow noreferrer\">HWDiskStore</a> class has a few methods that may be helpful:</p>\n<ul>\n<li><code>getReads()</code> and <code>getReadBytes()</code> summarize the reads</li>\n<li><code>getWrites()</code> and <code>getWriteBytes()</code> summarize the writes</li>\n<li><code>getTransferTime()</code> summarizes the total time for reading and writing.</li>\n</ul>\n<p>Based on the docs you quoted:</p>\n<blockquote>\n<p>you can use the number of transfers per second that the operating system reports to calculate utilization for the disk</p>\n</blockquote>\n<p>it seems you could sum <code>getReads()</code> and <code>getWrites()</code> and divide by <code>getTransferTime()</code> to convert to &quot;transfers per second&quot; -- at least while the disk was active.  Overall active time could just be the transfer time over elapsed time.</p>\n<p>Note that all these stats are snapshot measures that are (or should be) monotonically increasing, so they'll give you a cumulative total.  To calculate usage over a time interval you'd need to capture the data twice and then use the deltas to calculate your metric.</p>\n<p>Here's some sample OSHI code to demonstrate the calculation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Test {\n\n    public static void main(String[] args) {\n        HWDiskStore disk = new SystemInfo().getHardware().getDiskStores().get(0);\n        System.out.format(&quot;Reads: %d, Writes: %d, XferTime: %d, Timestamp: %d%n&quot;, disk.getReads(), disk.getWrites(),\n                disk.getTransferTime(), disk.getTimeStamp());\n        Util.sleep(10000);\n        disk.updateAttributes();\n        System.out.format(&quot;Reads: %d, Writes: %d, XferTime: %d, Timestamp: %d%n&quot;, disk.getReads(), disk.getWrites(),\n                disk.getTransferTime(), disk.getTimeStamp());\n    }\n}\n</code></pre>\n<p>Here's the output:</p>\n<pre><code>Reads: 70472443, Writes: 62744300, XferTime: 30886365, Timestamp: 1667953835809\nReads: 70476812, Writes: 62744787, XferTime: 30887206, Timestamp: 1667953845847\n</code></pre>\n<p>So we slept for 10 seconds (actually, 10038 milliseconds). During that time:</p>\n<ul>\n<li>70476812-70472443 = 4369 reads occurred</li>\n<li>62744787-62744300 = 487 writes occurred</li>\n<li>30887206-30886365 = 841 milliseconds of transfer time occurred</li>\n</ul>\n<p>From this we can conclude:</p>\n<ul>\n<li>The disk was transferring data 841 / 10038 of the time (8.3%)</li>\n<li>The transfer rate was (4369+487)/841 = 5.77 transfers per millisecond = 5774 transfers per second.</li>\n</ul>\n"}],"owner":{"account_id":26860870,"reputation":13,"user_id":20444384,"display_name":"cardosoOReis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74364286,"answer_count":1,"score":1,"last_activity_date":1668321173,"creation_date":1667859959,"question_id":74353612,"body_markdown":"So I&#39;m supposed to get the disk activity time using the oshi library, but everywhere I look I can only find how to get the disk usage, not the activity time. The IBM documentatio for disk utilization says this:\r\n&gt; If you know the access time for a given disk, you can use the number of transfers per second that the operating system reports to calculate utilization for the disk. To do so, multiply the average number of transfers per second by the access time for the disk as listed by the disk manufacturer.\r\n\r\nIs there a way to get the average number of transfers per second and the acess time in Java?\r\n\r\nI have already looked into the oshi docs but I couldn&#39;t find something to help, and don&#39;t know if I missed something","title":"Is there a way to get the disk activity time using oshi?","body":"<p>So I'm supposed to get the disk activity time using the oshi library, but everywhere I look I can only find how to get the disk usage, not the activity time. The IBM documentatio for disk utilization says this:</p>\n<blockquote>\n<p>If you know the access time for a given disk, you can use the number of transfers per second that the operating system reports to calculate utilization for the disk. To do so, multiply the average number of transfers per second by the access time for the disk as listed by the disk manufacturer.</p>\n</blockquote>\n<p>Is there a way to get the average number of transfers per second and the acess time in Java?</p>\n<p>I have already looked into the oshi docs but I couldn't find something to help, and don't know if I missed something</p>\n"},{"tags":["java","unit-testing","junit5"],"comments":[{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":4,"creation_date":1667460366,"post_id":74299288,"comment_id":131172882,"body_markdown":"Separate UI and IO (getting data from the User or from the disk/network) from the logic transforming the data -  your code will be easier to test.","body":"Separate UI and IO (getting data from the User or from the disk/network) from the logic transforming the data -  your code will be easier to test."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667466773,"creation_date":1667461169,"answer_id":74299466,"question_id":74299288,"body_markdown":"Annotate your test either with `@Test` or `@ParameterizedTest` but not both.\r\n\r\nFrom the [JUnit 5 documentation](https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests):\r\n\r\n&gt; Parameterized tests make it possible to run a test multiple times with different arguments. They are declared just like regular `@Test` methods **but use the `@ParameterizedTest` annotation instead**.\r\n\r\nAlso the `@RunWith` annotation is from JUnit 4. When using JUnit 5 this annotation is unnecessary and should be removed.\r\n\r\nThen, as Lesiak has commented: you should separate IO and logic. A method the receives the string to switch on as parameter and returns an object is much easier to test than a method that does everything: read data from the user, operates on it and produce some terminal output.\r\n\r\n----\r\nIt seems that you have a mix of JUnit 4 and JUnit 5 annotations. That doesn&#39;t really work. If you want to use JUnit 5 then remove all uses of `org.junit.Test` and `org.junit.runner.RunWith` from your test class and replace them with `org.junit.jupiter.api.Test` and `org.junit.jupiter.api.extension.ExtendWith`.","title":"How to write JUnit test for switch case?","body":"<p>Annotate your test either with <code>@Test</code> or <code>@ParameterizedTest</code> but not both.</p>\n<p>From the <a href=\"https://junit.org/junit5/docs/current/user-guide/#writing-tests-parameterized-tests\" rel=\"nofollow noreferrer\">JUnit 5 documentation</a>:</p>\n<blockquote>\n<p>Parameterized tests make it possible to run a test multiple times with different arguments. They are declared just like regular <code>@Test</code> methods <strong>but use the <code>@ParameterizedTest</code> annotation instead</strong>.</p>\n</blockquote>\n<p>Also the <code>@RunWith</code> annotation is from JUnit 4. When using JUnit 5 this annotation is unnecessary and should be removed.</p>\n<p>Then, as Lesiak has commented: you should separate IO and logic. A method the receives the string to switch on as parameter and returns an object is much easier to test than a method that does everything: read data from the user, operates on it and produce some terminal output.</p>\n<hr />\n<p>It seems that you have a mix of JUnit 4 and JUnit 5 annotations. That doesn't really work. If you want to use JUnit 5 then remove all uses of <code>org.junit.Test</code> and <code>org.junit.runner.RunWith</code> from your test class and replace them with <code>org.junit.jupiter.api.Test</code> and <code>org.junit.jupiter.api.extension.ExtendWith</code>.</p>\n"},{"tags":[],"owner":{"account_id":19345591,"reputation":53,"user_id":14144231,"display_name":"user14144231"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668316350,"creation_date":1668044687,"answer_id":74383281,"question_id":74299288,"body_markdown":"Fortunately, I found a solution, the class should be annotated with `@RunWith(JUnitParamsRunner.class)` and `@ExtendWith(MockitoExtension.class)` and the in `setup`, we should put `initMocks(this);`. However, this will only mock a non-static class. \r\n\r\n```\r\n@Before\r\npublic void setup() {\r\n    initMocks(this);\r\n    setupRepos();\r\n    setupLoginUser();\r\n    setupUserLoginReturn();\r\n    setupLoggerAppender();\r\n}\r\n```","title":"How to write JUnit test for switch case?","body":"<p>Fortunately, I found a solution, the class should be annotated with <code>@RunWith(JUnitParamsRunner.class)</code> and <code>@ExtendWith(MockitoExtension.class)</code> and the in <code>setup</code>, we should put <code>initMocks(this);</code>. However, this will only mock a non-static class.</p>\n<pre><code>@Before\npublic void setup() {\n    initMocks(this);\n    setupRepos();\n    setupLoginUser();\n    setupUserLoginReturn();\n    setupLoggerAppender();\n}\n</code></pre>\n"}],"owner":{"account_id":19345591,"reputation":53,"user_id":14144231,"display_name":"user14144231"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1668316350,"creation_date":1667460098,"question_id":74299288,"body_markdown":"For example, method ```switchCase()```. How do I write test code for it? I can just create 3 different tests just with different values for each test, respective to the switch case value, but I want to try a more efficient way of doing this.\r\n```\r\n    @InjectMocks\r\n    private RepoFactory repoFactory;\r\n```\r\n```\r\n    public void switchCase() {\r\n    \t\tConsentApplication consentApplication = repoFactory.getConsentApplicationRepo()\r\n.findOne(consentApplicationVo.getId());\r\n\r\n\t\tswitch (CrestApiServiceNameEnum.getByCode(serviceNameEnum.getCode())) {\r\n\t\t\tcase CUST_DATA:\r\n\t\t\t\tnewCrestApiTrack.setRepRefNo(null);\r\n\t\t\t\thttpHeaders.add(&quot;API-KEY&quot;, custDataApiKey);\r\n\t\t\t\tbreak;\r\n\t\t\tcase CREDIT_PARAM:\r\n\t\t\t\thttpHeaders.add(&quot;API-KEY&quot;, creditParamApiKey);\r\n\t\t\t\tbreak;\r\n\t\t\tcase CONFIRM_MUL_ENT:\r\n\t\t\t\thttpHeaders.add(&quot;API-KEY&quot;, multiEntitiApiKey);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tLOGGER.info(&quot;Unexpected value: &quot; + CrestApiServiceNameEnum.getByCode(serviceNameEnum.getCode()));\r\n\t\t}\r\n    }\r\n\r\n```\r\n\r\nWhat I tried was, using ```@RunWith(JUnitParamsRunner.class)```, ```@ValueSource``` and ```@ParameterizedTest```. However, this always produces ```NullPointerException``` at the first ```when``` and ```java.lang.Exception: Method testSwitchCase_SUCCESS should have no parameters```. Can help me on this?\r\n\r\n```\r\n\r\n   @ParameterizedTest\r\n   @ValueSource(strings = {&quot;value1&quot;, &quot;value2&quot;})\r\n   void testSwitchCase_SUCCESS(String s) {\r\n\r\n      //have something\r\n\r\n             when(repoFactory.getConsentApplicationRepo().findOne(anyString()))\r\n                .thenReturn(consentApplication);\r\n\r\n   }\r\n\r\n```","title":"How to write JUnit test for switch case?","body":"<p>For example, method <code>switchCase()</code>. How do I write test code for it? I can just create 3 different tests just with different values for each test, respective to the switch case value, but I want to try a more efficient way of doing this.</p>\n<pre><code>    @InjectMocks\n    private RepoFactory repoFactory;\n</code></pre>\n<pre><code>    public void switchCase() {\n            ConsentApplication consentApplication = repoFactory.getConsentApplicationRepo()\n.findOne(consentApplicationVo.getId());\n\n        switch (CrestApiServiceNameEnum.getByCode(serviceNameEnum.getCode())) {\n            case CUST_DATA:\n                newCrestApiTrack.setRepRefNo(null);\n                httpHeaders.add(&quot;API-KEY&quot;, custDataApiKey);\n                break;\n            case CREDIT_PARAM:\n                httpHeaders.add(&quot;API-KEY&quot;, creditParamApiKey);\n                break;\n            case CONFIRM_MUL_ENT:\n                httpHeaders.add(&quot;API-KEY&quot;, multiEntitiApiKey);\n                break;\n            default:\n                LOGGER.info(&quot;Unexpected value: &quot; + CrestApiServiceNameEnum.getByCode(serviceNameEnum.getCode()));\n        }\n    }\n\n</code></pre>\n<p>What I tried was, using <code>@RunWith(JUnitParamsRunner.class)</code>, <code>@ValueSource</code> and <code>@ParameterizedTest</code>. However, this always produces <code>NullPointerException</code> at the first <code>when</code> and <code>java.lang.Exception: Method testSwitchCase_SUCCESS should have no parameters</code>. Can help me on this?</p>\n<pre><code>\n   @ParameterizedTest\n   @ValueSource(strings = {&quot;value1&quot;, &quot;value2&quot;})\n   void testSwitchCase_SUCCESS(String s) {\n\n      //have something\n\n             when(repoFactory.getConsentApplicationRepo().findOne(anyString()))\n                .thenReturn(consentApplication);\n\n   }\n\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":1,"creation_date":1668312013,"post_id":74418362,"comment_id":131373174,"body_markdown":"See [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/). Trace through your code, either with a debugger or by hand with paper and pencil. Write down the values of the variables at each step, and see where your understanding differs from that of the computer","body":"See <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">How to debug small programs</a>. Trace through your code, either with a debugger or by hand with paper and pencil. Write down the values of the variables at each step, and see where your understanding differs from that of the computer"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1668312329,"post_id":74418362,"comment_id":131373208,"body_markdown":"How do you know it&#39;s not working?","body":"How do you know it&#39;s not working?"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":2,"creation_date":1668313572,"post_id":74418362,"comment_id":131373315,"body_markdown":"Actually, what you want to do is start with `inc` and `dec` both `true`, and set them to `false` whenever the sequence fails to increase, or fails to decrease.  Your logic is backwards.","body":"Actually, what you want to do is start with <code>inc</code> and <code>dec</code> both <code>true</code>, and set them to <code>false</code> whenever the sequence fails to increase, or fails to decrease.  Your logic is backwards."}],"answers":[{"tags":[],"owner":{"account_id":16819762,"reputation":286,"user_id":12160558,"display_name":"ptan9o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668316295,"creation_date":1668316295,"answer_id":74418621,"question_id":74418362,"body_markdown":"You are checking at each set of two elements if the increasing or decreasing relationship is true. This is flawed because in many cases, you will encounter at least one set of two elements that will satisfy these conditions. So you are really just checking if at least two elements in the array are in an increasing or decreasing relationship. \r\n\r\nWhat you want to do is determine the trend by checking the first two elements. Once you know the expected trend, you can iterate the array while looking for the condition where the trend isn&#39;t true. If this happens we can immediately return false. With this logic though, if we get to the end of the array we know we never violated the expected trend in which case we have a monotonic array. \r\n\r\nThis is just one solution to the problem. I&#39;m sure there are other ways to go about doing it. \r\n\r\n```Java\r\n    boolean isMonotonic(int[] arr)\r\n    {\r\n        if (arr.length == 0)\r\n            return false;\r\n        if (arr.length == 1)\r\n            return true;\r\n        boolean increasing = arr[0] &lt; arr[1];\r\n        int val = arr[0];\r\n        for (int i = 1; i &lt; arr.length; i++)\r\n        {\r\n            if (increasing &amp;&amp; val &gt; arr[i])\r\n                return false;\r\n            else if (!increasing &amp;&amp; val &lt; arr[i])\r\n                return false;\r\n            val = arr[i];\r\n        }\r\n        return true;\r\n    }\r\n```","title":"Why is this code to check if monotonic not working?","body":"<p>You are checking at each set of two elements if the increasing or decreasing relationship is true. This is flawed because in many cases, you will encounter at least one set of two elements that will satisfy these conditions. So you are really just checking if at least two elements in the array are in an increasing or decreasing relationship.</p>\n<p>What you want to do is determine the trend by checking the first two elements. Once you know the expected trend, you can iterate the array while looking for the condition where the trend isn't true. If this happens we can immediately return false. With this logic though, if we get to the end of the array we know we never violated the expected trend in which case we have a monotonic array.</p>\n<p>This is just one solution to the problem. I'm sure there are other ways to go about doing it.</p>\n<pre><code>    boolean isMonotonic(int[] arr)\n    {\n        if (arr.length == 0)\n            return false;\n        if (arr.length == 1)\n            return true;\n        boolean increasing = arr[0] &lt; arr[1];\n        int val = arr[0];\n        for (int i = 1; i &lt; arr.length; i++)\n        {\n            if (increasing &amp;&amp; val &gt; arr[i])\n                return false;\n            else if (!increasing &amp;&amp; val &lt; arr[i])\n                return false;\n            val = arr[i];\n        }\n        return true;\n    }\n</code></pre>\n"}],"owner":{"account_id":26915213,"reputation":3,"user_id":20490102,"display_name":"Mohammad Alshakeralasir"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74418621,"answer_count":1,"score":0,"last_activity_date":1668316295,"creation_date":1668311814,"question_id":74418362,"body_markdown":"trying to find out if an array is monotonic either increasing or decreasing and return true if it is and false if it is not. this is the code I tried but it&#39;s not working can anyone tell me why?\r\n\r\n```\r\npublic boolean isMonotonic()\r\n    {\r\n        boolean mono = false;\r\n        boolean inc = false;\r\n        boolean dec = false;\r\n        for (int i = 0; i&lt; values.length-1 ;i++)\r\n        {\r\n            if (values[i]&lt;values[i+1])\r\n            {\r\n                inc = true;\r\n            }\r\n        }\r\n        \r\n        for (int i = 0; i&lt; values.length-1 ;i++)\r\n        {\r\n            if (values[i]&gt;values[i+1])\r\n            {\r\n                dec = true;\r\n            }\r\n        }\r\n        if (dec || inc == true)\r\n        {\r\n            mono= true;\r\n        }\r\n        return mono;\r\n    }\r\n```\r\n","title":"Why is this code to check if monotonic not working?","body":"<p>trying to find out if an array is monotonic either increasing or decreasing and return true if it is and false if it is not. this is the code I tried but it's not working can anyone tell me why?</p>\n<pre><code>public boolean isMonotonic()\n    {\n        boolean mono = false;\n        boolean inc = false;\n        boolean dec = false;\n        for (int i = 0; i&lt; values.length-1 ;i++)\n        {\n            if (values[i]&lt;values[i+1])\n            {\n                inc = true;\n            }\n        }\n        \n        for (int i = 0; i&lt; values.length-1 ;i++)\n        {\n            if (values[i]&gt;values[i+1])\n            {\n                dec = true;\n            }\n        }\n        if (dec || inc == true)\n        {\n            mono= true;\n        }\n        return mono;\n    }\n</code></pre>\n"},{"tags":["java","variables","switch-statement"],"comments":[{"owner":{"account_id":4785932,"reputation":14215,"user_id":3866447,"display_name":"Sam Protsenko"},"score":0,"creation_date":1425335502,"post_id":28820579,"comment_id":45913149,"body_markdown":"What if `month` variable is 4 or -1? You should add `default:` section to your switch to handle all other cases (when `month &lt; 1` or `month &gt;3`).","body":"What if <code>month</code> variable is 4 or -1? You should add <code>default:</code> section to your switch to handle all other cases (when <code>month &lt; 1</code> or <code>month &gt;3</code>)."}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1546695300,"creation_date":1425335130,"answer_id":28820614,"question_id":28820579,"body_markdown":"If `month` isn&#39;t `1` or `2` then there is no statement in the execution path that initializes `monthString` before it&#39;s referenced.  The compiler won&#39;t assume that the `month` variable retains its `2` value, even if `month` is `final`.\r\n\r\nThe [JLS, Chapter 16][1], talks about &quot;definite assignment&quot; and the conditions under which a variable may be &quot;definitely assigned&quot; before it&#39;s referenced.\r\n\r\n&gt; Except for the special treatment of the conditional boolean operators &amp;&amp;, ||, and ? : and of boolean-valued constant expressions, the values of expressions are not taken into account in the flow analysis.\r\n\r\nThe variable `monthString` is not definitely assigned prior to being referenced.\r\n\r\nInitialize it before the `switch` block.\r\n\r\n    String monthString = &quot;unrecognized month&quot;;\r\n\r\nOr initialize it in a `default` case in the `switch` statement.\r\n\r\n    default:\r\n        monthString = &quot;unrecognized month&quot;;\r\n\r\nOr throw an exception\r\n\r\n    default:\r\n        throw new RuntimeExpception(&quot;unrecognized month &quot; + month);\r\n\r\n[1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-16.html","title":"Why do I get a &quot;variable might not have been initialized&quot; compiler error in my switch block?","body":"<p>If <code>month</code> isn't <code>1</code> or <code>2</code> then there is no statement in the execution path that initializes <code>monthString</code> before it's referenced.  The compiler won't assume that the <code>month</code> variable retains its <code>2</code> value, even if <code>month</code> is <code>final</code>.</p>\n\n<p>The <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-16.html\" rel=\"nofollow noreferrer\">JLS, Chapter 16</a>, talks about \"definite assignment\" and the conditions under which a variable may be \"definitely assigned\" before it's referenced.</p>\n\n<blockquote>\n  <p>Except for the special treatment of the conditional boolean operators &amp;&amp;, ||, and ? : and of boolean-valued constant expressions, the values of expressions are not taken into account in the flow analysis.</p>\n</blockquote>\n\n<p>The variable <code>monthString</code> is not definitely assigned prior to being referenced.</p>\n\n<p>Initialize it before the <code>switch</code> block.</p>\n\n<pre><code>String monthString = \"unrecognized month\";\n</code></pre>\n\n<p>Or initialize it in a <code>default</code> case in the <code>switch</code> statement.</p>\n\n<pre><code>default:\n    monthString = \"unrecognized month\";\n</code></pre>\n\n<p>Or throw an exception</p>\n\n<pre><code>default:\n    throw new RuntimeExpception(\"unrecognized month \" + month);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26880451,"reputation":1,"user_id":20460983,"display_name":"Rakin Sifullah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668314558,"creation_date":1668011279,"answer_id":74378272,"question_id":28820579,"body_markdown":"This may works fine.\r\n\r\n```   \r\npublic static void foo(int month)\r\n{\r\n    String monthString;\r\n    switch (month)\r\n    {\r\n        case 1: monthString = &quot;January&quot;;\r\n                break;\r\n        case 2: monthString = &quot;February&quot;;\r\n                break;\r\n        default:monthString = &quot;Invalid month&quot;;\r\n    }\r\n    System.out.println(monthString);\r\n}\r\n```","title":"Why do I get a &quot;variable might not have been initialized&quot; compiler error in my switch block?","body":"<p>This may works fine.</p>\n<pre><code>public static void foo(int month)\n{\n    String monthString;\n    switch (month)\n    {\n        case 1: monthString = &quot;January&quot;;\n                break;\n        case 2: monthString = &quot;February&quot;;\n                break;\n        default:monthString = &quot;Invalid month&quot;;\n    }\n    System.out.println(monthString);\n}\n</code></pre>\n"}],"owner":{"account_id":5131221,"reputation":419,"user_id":4111354,"accept_rate":100,"display_name":"Damhan Richardson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7621,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":28820614,"answer_count":2,"score":5,"last_activity_date":1668314558,"creation_date":1425335030,"question_id":28820579,"body_markdown":"I&#39;m encountering &quot;a variable might not have been initialized&quot; error when using switch block.\r\n\r\nHere is my code:\r\n\r\n    public static void foo(int month)\r\n    {\r\n        String monthString;\r\n        switch (month)\r\n        {\r\n            case 1: monthString = &quot;January&quot;;\r\n                    break;\r\n            case 2: monthString = &quot;February&quot;;\r\n                    break;\r\n        }\r\n        System.out.println(monthString);\r\n    }\r\n\r\nThe error:\r\n\r\n    Switch.java:17: error: variable monthString might not have been initialized\r\n    \t\tSystem.out.println (monthString);\r\n\r\nTo my knowledge this error occurs when you try access a variable you have not initialized, but am I not initializing it when I assign it the value in the switch block?\r\n\r\nSimilarly, even if the month is a compile-time constant, I still receive the same error:\r\n\r\n    public static void foo()\r\n    {\r\n        int month = 2;\r\n        String monthString;\r\n        switch (month)\r\n        {\r\n            case 1: monthString = &quot;January&quot;;\r\n                    break;\r\n            case 2: monthString = &quot;February&quot;;\r\n                    break;\r\n        }\r\n        System.out.println(monthString);\r\n    }","title":"Why do I get a &quot;variable might not have been initialized&quot; compiler error in my switch block?","body":"<p>I'm encountering \"a variable might not have been initialized\" error when using switch block.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public static void foo(int month)\n{\n    String monthString;\n    switch (month)\n    {\n        case 1: monthString = \"January\";\n                break;\n        case 2: monthString = \"February\";\n                break;\n    }\n    System.out.println(monthString);\n}\n</code></pre>\n\n<p>The error:</p>\n\n<pre><code>Switch.java:17: error: variable monthString might not have been initialized\n        System.out.println (monthString);\n</code></pre>\n\n<p>To my knowledge this error occurs when you try access a variable you have not initialized, but am I not initializing it when I assign it the value in the switch block?</p>\n\n<p>Similarly, even if the month is a compile-time constant, I still receive the same error:</p>\n\n<pre><code>public static void foo()\n{\n    int month = 2;\n    String monthString;\n    switch (month)\n    {\n        case 1: monthString = \"January\";\n                break;\n        case 2: monthString = \"February\";\n                break;\n    }\n    System.out.println(monthString);\n}\n</code></pre>\n"},{"tags":["java","android","nullpointerexception","android-contentprovider"],"answers":[{"tags":[],"owner":{"account_id":22861885,"reputation":464,"user_id":17005821,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668313408,"creation_date":1668313408,"answer_id":74418446,"question_id":74418268,"body_markdown":"\r\nThe problem is that you&#39;re not setting the &quot;last modified&quot; timestamp on the event. This is required for the update to work.\r\n\r\nYou can set it like this:\r\n\r\n    cv.put(Events.LAST_DATE, System.currentTimeMillis());\r\n\r\nIf you don&#39;t set this timestamp, the provider will assume that\r\nthe event hasn&#39;t been modified and won&#39;t update it.","title":"ContentResolver.update () NullPointerException","body":"<p>The problem is that you're not setting the &quot;last modified&quot; timestamp on the event. This is required for the update to work.</p>\n<p>You can set it like this:</p>\n<pre><code>cv.put(Events.LAST_DATE, System.currentTimeMillis());\n</code></pre>\n<p>If you don't set this timestamp, the provider will assume that\nthe event hasn't been modified and won't update it.</p>\n"}],"owner":{"account_id":3956511,"reputation":2264,"user_id":3264794,"display_name":"Issa Chanzi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1668313408,"creation_date":1668310134,"question_id":74418268,"body_markdown":"I am trying to write a calendar provider for Android. I have created a class `Event` with methods to create and update events in the Calendar Provider API.\r\n\r\nWhen I attempt to update an event in the API using `ContentResolver.update ()`, I encounter a `NullPointerException`. According to [the documentation](https://developer.android.com/reference/android/content/ContentResolver#update(android.net.Uri,%20android.content.ContentValues,%20java.lang.String,%20java.lang.String[])), the `ContentResolver.update ()` method is meant to throw `NullPointerException` only if uri or values arguments are null (the first two arguments). I have confirmed using a debugger that neither of those are null when the crash happens, and therefore this method is not supposed to throw an exception.\r\n\r\nI have stepped through the code of this method in the debugger, to try and figure out which value is null that isn&#39;t supposed to be, but that wasn&#39;t helpful either. The error seems to originate from some native code in the content provider system and then be unpackaged and thrown at some point later. I might be wrong about that though.\r\n\r\nI have also tried to find information using an internet search engine, as well as searching this site, and I wasn&#39;t able to find anybody who had the same problem as me before.\r\n\r\nI will include some relevant code below. I think it would be pretty difficult to come up with a working minimal example because it requires a lot of different parts to work the Calendar Provider API.\r\n\r\nIs there anybody more familiar with Android and the Content Provider system who might be able to share some related knowledge or pointers to help figure out what&#39;s wrong?\r\n\r\n``` lang-java\r\nE/AndroidRuntime: FATAL EXCEPTION: SyncAdapterThread-1\r\n    Process: com.example.myapp, PID: 26727\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;int java.lang.Integer.intValue()&#39; on a null object reference\r\n        at android.os.Parcel.createExceptionOrNull(Parcel.java:3027)\r\n        at android.os.Parcel.createException(Parcel.java:3005)\r\n        at android.os.Parcel.readException(Parcel.java:2981)\r\n        at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:190)\r\n        at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:142)\r\n        at android.content.ContentProviderProxy.update(ContentProviderNative.java:653)\r\n        at android.content.ContentProviderClient.update(ContentProviderClient.java:417)\r\n        at android.content.ContentResolver.update(ContentResolver.java:2412)\r\n        at com.example.myapp.model.Event.update(Event.java:337)\r\n        at com.example.myapp.model.Event.save(Event.java:287)\r\n        at com.example.myapp.model.Ical.loadEvent(Ical.java:269)\r\n        at com.example.myapp.model.Ical.load(Ical.java:99)\r\n        at com.example.myapp.model.Ical.load(Ical.java:85)\r\n        at com.example.myapp.model.CalendarSyncAdapter.readEmail(CalendarSyncAdapter.java:183)\r\n        at com.example.myapp.model.CalendarSyncAdapter.syncDown(CalendarSyncAdapter.java:157)\r\n        at com.example.myapp.model.CalendarSyncAdapter.onPerformSync(CalendarSyncAdapter.java:78)\r\n        at android.content.AbstractThreadedSyncAdapter$SyncThread.run(AbstractThreadedSyncAdapter.java:354)\r\n```\r\n\r\n``` lang-java\r\n    private void update (ContentResolver contentResolver)\r\n    {\r\n        Uri uri = CONTENT_URI;\r\n        uri = Utils.asSyncAdapter (\r\n                uri,\r\n                calendar.account ().name,\r\n                calendar.account ().type\r\n        );\r\n        uri = ContentUris.withAppendedId (uri, id);\r\n\r\n        ContentValues contentValues = contentValues ();\r\n        contentResolver.update (uri, contentValues, null, null);\r\n    }\r\n\r\n    private ContentValues contentValues ()\r\n    {\r\n        ContentValues cv = new ContentValues ();\r\n\r\n        cv.put (CALENDAR_ID, calendar.id ());\r\n        cv.put (ORGANIZER, organiser);\r\n        cv.put (TITLE, title);\r\n        cv.put (EVENT_LOCATION, location);\r\n        cv.put (DESCRIPTION, description);\r\n        cv.put (EVENT_COLOR, colour);\r\n        cv.put (DTSTART, startTime);\r\n        if (endTime != -1)\r\n        {\r\n            cv.put (DTEND, endTime);\r\n        }\r\n        cv.put (EVENT_TIMEZONE, timeZone.getID ());\r\n        if (endTimeZone != null) {\r\n            cv.put (EVENT_END_TIMEZONE, endTimeZone.getID ());\r\n        }\r\n        cv.put (DURATION, duration);\r\n        cv.put (ALL_DAY, allDay ? 1 : 0);\r\n        cv.put (RRULE, rrule);\r\n        cv.put (RDATE, rdate);\r\n        cv.put (EXRULE, exrule);\r\n        cv.put (EXDATE, exdate);\r\n        if (originalEvent != null)\r\n        {\r\n            cv.put (ORIGINAL_ID, originalEvent.id);\r\n            cv.put (ORIGINAL_SYNC_ID, originalEvent.syncId);\r\n            cv.put (ORIGINAL_INSTANCE_TIME, originalEvent.startTime);\r\n            cv.put (ORIGINAL_ALL_DAY, originalEvent.allDay ? 1 : 0);\r\n        }\r\n        cv.put (ACCESS_LEVEL, accessLevel);\r\n        cv.put (AVAILABILITY, availability);\r\n        cv.put (GUESTS_CAN_MODIFY, guestsCanModify ? 1 : 0);\r\n        cv.put (GUESTS_CAN_INVITE_OTHERS, guestsCanInviteOthers ? 1 : 0);\r\n        cv.put (GUESTS_CAN_SEE_GUESTS, guestsCanSeeGuests ? 1 : 0);\r\n        cv.put (UID_2445, icalUid);\r\n\r\n        cv.put (DIRTY, dirty);\r\n        cv.put (MUTATORS, mutators);\r\n        cv.put (_SYNC_ID, syncId);\r\n\r\n        return cv;\r\n    }\r\n\r\n    // (In Utils.java)\r\n    static Uri asSyncAdapter(Uri uri, String account, String accountType) {\r\n        return uri.buildUpon()\r\n                .appendQueryParameter(CalendarContract.CALLER_IS_SYNCADAPTER,&quot;true&quot;)\r\n                .appendQueryParameter(CalendarContract.Calendars.ACCOUNT_NAME, account)\r\n                .appendQueryParameter(CalendarContract.Calendars.ACCOUNT_TYPE, accountType).build();\r\n    }\r\n```\r\n\r\n","title":"ContentResolver.update () NullPointerException","body":"<p>I am trying to write a calendar provider for Android. I have created a class <code>Event</code> with methods to create and update events in the Calendar Provider API.</p>\n<p>When I attempt to update an event in the API using <code>ContentResolver.update ()</code>, I encounter a <code>NullPointerException</code>. According to <a href=\"https://developer.android.com/reference/android/content/ContentResolver#update(android.net.Uri,%20android.content.ContentValues,%20java.lang.String,%20java.lang.String%5B%5D)\" rel=\"nofollow noreferrer\">the documentation</a>, the <code>ContentResolver.update ()</code> method is meant to throw <code>NullPointerException</code> only if uri or values arguments are null (the first two arguments). I have confirmed using a debugger that neither of those are null when the crash happens, and therefore this method is not supposed to throw an exception.</p>\n<p>I have stepped through the code of this method in the debugger, to try and figure out which value is null that isn't supposed to be, but that wasn't helpful either. The error seems to originate from some native code in the content provider system and then be unpackaged and thrown at some point later. I might be wrong about that though.</p>\n<p>I have also tried to find information using an internet search engine, as well as searching this site, and I wasn't able to find anybody who had the same problem as me before.</p>\n<p>I will include some relevant code below. I think it would be pretty difficult to come up with a working minimal example because it requires a lot of different parts to work the Calendar Provider API.</p>\n<p>Is there anybody more familiar with Android and the Content Provider system who might be able to share some related knowledge or pointers to help figure out what's wrong?</p>\n<pre class=\"lang-java prettyprint-override\"><code>E/AndroidRuntime: FATAL EXCEPTION: SyncAdapterThread-1\n    Process: com.example.myapp, PID: 26727\n    java.lang.NullPointerException: Attempt to invoke virtual method 'int java.lang.Integer.intValue()' on a null object reference\n        at android.os.Parcel.createExceptionOrNull(Parcel.java:3027)\n        at android.os.Parcel.createException(Parcel.java:3005)\n        at android.os.Parcel.readException(Parcel.java:2981)\n        at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:190)\n        at android.database.DatabaseUtils.readExceptionFromParcel(DatabaseUtils.java:142)\n        at android.content.ContentProviderProxy.update(ContentProviderNative.java:653)\n        at android.content.ContentProviderClient.update(ContentProviderClient.java:417)\n        at android.content.ContentResolver.update(ContentResolver.java:2412)\n        at com.example.myapp.model.Event.update(Event.java:337)\n        at com.example.myapp.model.Event.save(Event.java:287)\n        at com.example.myapp.model.Ical.loadEvent(Ical.java:269)\n        at com.example.myapp.model.Ical.load(Ical.java:99)\n        at com.example.myapp.model.Ical.load(Ical.java:85)\n        at com.example.myapp.model.CalendarSyncAdapter.readEmail(CalendarSyncAdapter.java:183)\n        at com.example.myapp.model.CalendarSyncAdapter.syncDown(CalendarSyncAdapter.java:157)\n        at com.example.myapp.model.CalendarSyncAdapter.onPerformSync(CalendarSyncAdapter.java:78)\n        at android.content.AbstractThreadedSyncAdapter$SyncThread.run(AbstractThreadedSyncAdapter.java:354)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>    private void update (ContentResolver contentResolver)\n    {\n        Uri uri = CONTENT_URI;\n        uri = Utils.asSyncAdapter (\n                uri,\n                calendar.account ().name,\n                calendar.account ().type\n        );\n        uri = ContentUris.withAppendedId (uri, id);\n\n        ContentValues contentValues = contentValues ();\n        contentResolver.update (uri, contentValues, null, null);\n    }\n\n    private ContentValues contentValues ()\n    {\n        ContentValues cv = new ContentValues ();\n\n        cv.put (CALENDAR_ID, calendar.id ());\n        cv.put (ORGANIZER, organiser);\n        cv.put (TITLE, title);\n        cv.put (EVENT_LOCATION, location);\n        cv.put (DESCRIPTION, description);\n        cv.put (EVENT_COLOR, colour);\n        cv.put (DTSTART, startTime);\n        if (endTime != -1)\n        {\n            cv.put (DTEND, endTime);\n        }\n        cv.put (EVENT_TIMEZONE, timeZone.getID ());\n        if (endTimeZone != null) {\n            cv.put (EVENT_END_TIMEZONE, endTimeZone.getID ());\n        }\n        cv.put (DURATION, duration);\n        cv.put (ALL_DAY, allDay ? 1 : 0);\n        cv.put (RRULE, rrule);\n        cv.put (RDATE, rdate);\n        cv.put (EXRULE, exrule);\n        cv.put (EXDATE, exdate);\n        if (originalEvent != null)\n        {\n            cv.put (ORIGINAL_ID, originalEvent.id);\n            cv.put (ORIGINAL_SYNC_ID, originalEvent.syncId);\n            cv.put (ORIGINAL_INSTANCE_TIME, originalEvent.startTime);\n            cv.put (ORIGINAL_ALL_DAY, originalEvent.allDay ? 1 : 0);\n        }\n        cv.put (ACCESS_LEVEL, accessLevel);\n        cv.put (AVAILABILITY, availability);\n        cv.put (GUESTS_CAN_MODIFY, guestsCanModify ? 1 : 0);\n        cv.put (GUESTS_CAN_INVITE_OTHERS, guestsCanInviteOthers ? 1 : 0);\n        cv.put (GUESTS_CAN_SEE_GUESTS, guestsCanSeeGuests ? 1 : 0);\n        cv.put (UID_2445, icalUid);\n\n        cv.put (DIRTY, dirty);\n        cv.put (MUTATORS, mutators);\n        cv.put (_SYNC_ID, syncId);\n\n        return cv;\n    }\n\n    // (In Utils.java)\n    static Uri asSyncAdapter(Uri uri, String account, String accountType) {\n        return uri.buildUpon()\n                .appendQueryParameter(CalendarContract.CALLER_IS_SYNCADAPTER,&quot;true&quot;)\n                .appendQueryParameter(CalendarContract.Calendars.ACCOUNT_NAME, account)\n                .appendQueryParameter(CalendarContract.Calendars.ACCOUNT_TYPE, accountType).build();\n    }\n</code></pre>\n"},{"tags":["java","algorithm"],"answers":[{"tags":[],"owner":{"account_id":22861885,"reputation":464,"user_id":17005821,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668312591,"creation_date":1668312591,"answer_id":74418403,"question_id":74418327,"body_markdown":"You could do something like this:\r\n\r\n```java\r\nwhile (vehicles.size() &gt; 0) {\r\n    for (int i = 0; i &lt; vehicles.size(); i++) {\r\n        Vehicle v = vehicles.get(i);\r\n        for (int j = 0; j &lt; garage.size(); j++) {\r\n            Garage g = garage.get(j);\r\n            if (g.getSpace() == v.getSpace() &amp;&amp; g.garageRequest(v.getvehiclesType()) &amp;&amp; g.getLimit() &gt; 0) {\r\n                g.addvehicles(v);\r\n                vehicles.remove(i);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThis will loop through all the vehicles and try to find a garage that can hold it. If it finds one, it will add the vehicle to the garage and remove it from the list of vehicles. If it doesn&#39;t find a garage, it will move on to the next vehicle.","title":"loop through to empty an array list till condition met","body":"<p>You could do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>while (vehicles.size() &gt; 0) {\n    for (int i = 0; i &lt; vehicles.size(); i++) {\n        Vehicle v = vehicles.get(i);\n        for (int j = 0; j &lt; garage.size(); j++) {\n            Garage g = garage.get(j);\n            if (g.getSpace() == v.getSpace() &amp;&amp; g.garageRequest(v.getvehiclesType()) &amp;&amp; g.getLimit() &gt; 0) {\n                g.addvehicles(v);\n                vehicles.remove(i);\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<p>This will loop through all the vehicles and try to find a garage that can hold it. If it finds one, it will add the vehicle to the garage and remove it from the list of vehicles. If it doesn't find a garage, it will move on to the next vehicle.</p>\n"}],"owner":{"account_id":20823037,"reputation":57,"user_id":15294173,"display_name":"Joseph Mart&#237;nez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668312591,"creation_date":1668311173,"question_id":74418327,"body_markdown":"I want to park all the vehicles in this arraylist `vehicles` in to a garage space till no more vehicle left to be in the array List.\r\nOnce the for loop ends, it will be holding remaining  objects in the `vehicles` arraylist since some conditions are not met like mentioned in the code. I used a while loop to keep on running till list empty out.  Once each for-loop ends, I want to remove the car that was parked and also, I want to change the position of the garage space in order to park the remaining  vehicles in the vehicles arraylist.\r\n\r\nthis is what I tried, but it is not adding any more objects to the garage on the next for loop starts. \r\n\r\n    while (vehicles.size() != 0) { // this checks if any vehicles are not 0\r\n    \t\tfor (int i = vehicles.size() - 1; i &gt;= 0;) { // decrementing the arraylist\r\n    \t\t\tfor (int j = 0; j &lt; garage.size() &amp;&amp; i &gt;= 0;) { // incrementing the arraylist of garage\r\n    \t\t\t\t\tif (this.garage.get(j).getSpace() == this.vehicles.get(i).getSpace()) { //if the garage space matches vehicles space\r\n    \t\t\t\t\t\tif (this.garage.get(j).garageRequest(vehicles.get(i).getvehiclesType()) //if the vehicle type matches garage type \r\n    \t\t\t\t\t\t\t\t&amp;&amp; this.garage.get(j).getLimit() &gt; 0) { //and if that particular garage space have no more space left to park the car.\r\n    \t\t\t\t\t\t\tthis.garage.get(j).addvehicles(vehicles.get(i)); // we park the car into the space. the parked car can be accessed by  this.garage.get(j).\r\n    \t\t\t\t\t\t\tthis.vehicles.remove(i); // we remove the car from the arraylist\r\n    \t\t\t\t\t\t\ti--; //decrementing the size of the list.\r\n    \t\t\t\t\t\t\tbreak; // break the loop\r\n    \t\t\t\t\t\t} else {\r\n    \t\t\t\t\t\t\tj++; // if there is no space left or vehicle type doesn&#39;t matches we incrementing the garage size to get the next available garage\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\ti--; // if vehicle and garage is not on the same space.\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t} // end of the vehicles arraylist looping.\r\n    \t\t\r\n    \t\t/*\r\n    \t\t\r\n    \t\tI have around morethan 90 more cars to be parked after this loop ends since some conditions are not met.\r\n    \t\tSo, I&#39;m looping till all the vehicles arraylist is empty. \r\n    \t\t\r\n    \t\tOnce this for loop ends, i want to remove the car that was parked\r\n    \t\tand Also, I want to change the position of the garage space to hold the next vehicles\r\n    \t\t\t\r\n    \t\t*/\r\n    \t\t\r\n    \t\tfor(int i = 0; i&lt; garage.size();i++) { // looping the available garage size\r\n    \t\t\tif(this.garage.get(i).getCarry().size() != 0) { // if garage at an index holding a vehicle in its space\r\n    \t\t\t\tfor (int j=0; j &lt; this.garage.get(i).getCarry().size(); j++) { // looping the garage at index by its space\r\n    \t\t\t\t\tthis.garage.get(i).setCurrentSpace(this.garage.get(i).getCarry().get(j).getDestinationSpace()); // changing the space of the garage to hold the next 90 vehicles.\r\n    \t\t\t\t\tif (this.garage.get(i).removeVehicles(this.garage.get(i).getCarry().get(j)));// removes the vehicle from garage space\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \t\r\n    \t\t\r\n    \r\n    \t}","title":"loop through to empty an array list till condition met","body":"<p>I want to park all the vehicles in this arraylist <code>vehicles</code> in to a garage space till no more vehicle left to be in the array List.\nOnce the for loop ends, it will be holding remaining  objects in the <code>vehicles</code> arraylist since some conditions are not met like mentioned in the code. I used a while loop to keep on running till list empty out.  Once each for-loop ends, I want to remove the car that was parked and also, I want to change the position of the garage space in order to park the remaining  vehicles in the vehicles arraylist.</p>\n<p>this is what I tried, but it is not adding any more objects to the garage on the next for loop starts.</p>\n<pre><code>while (vehicles.size() != 0) { // this checks if any vehicles are not 0\n        for (int i = vehicles.size() - 1; i &gt;= 0;) { // decrementing the arraylist\n            for (int j = 0; j &lt; garage.size() &amp;&amp; i &gt;= 0;) { // incrementing the arraylist of garage\n                    if (this.garage.get(j).getSpace() == this.vehicles.get(i).getSpace()) { //if the garage space matches vehicles space\n                        if (this.garage.get(j).garageRequest(vehicles.get(i).getvehiclesType()) //if the vehicle type matches garage type \n                                &amp;&amp; this.garage.get(j).getLimit() &gt; 0) { //and if that particular garage space have no more space left to park the car.\n                            this.garage.get(j).addvehicles(vehicles.get(i)); // we park the car into the space. the parked car can be accessed by  this.garage.get(j).\n                            this.vehicles.remove(i); // we remove the car from the arraylist\n                            i--; //decrementing the size of the list.\n                            break; // break the loop\n                        } else {\n                            j++; // if there is no space left or vehicle type doesn't matches we incrementing the garage size to get the next available garage\n                        }\n                    } else {\n                        i--; // if vehicle and garage is not on the same space.\n                    }\n\n            }\n\n        } // end of the vehicles arraylist looping.\n        \n        /*\n        \n        I have around morethan 90 more cars to be parked after this loop ends since some conditions are not met.\n        So, I'm looping till all the vehicles arraylist is empty. \n        \n        Once this for loop ends, i want to remove the car that was parked\n        and Also, I want to change the position of the garage space to hold the next vehicles\n            \n        */\n        \n        for(int i = 0; i&lt; garage.size();i++) { // looping the available garage size\n            if(this.garage.get(i).getCarry().size() != 0) { // if garage at an index holding a vehicle in its space\n                for (int j=0; j &lt; this.garage.get(i).getCarry().size(); j++) { // looping the garage at index by its space\n                    this.garage.get(i).setCurrentSpace(this.garage.get(i).getCarry().get(j).getDestinationSpace()); // changing the space of the garage to hold the next 90 vehicles.\n                    if (this.garage.get(i).removeVehicles(this.garage.get(i).getCarry().get(j)));// removes the vehicle from garage space\n                }\n            }\n        }\n        \n        \n    \n        \n\n    }\n</code></pre>\n"},{"tags":["java","json"],"answers":[{"tags":[],"owner":{"account_id":22861885,"reputation":464,"user_id":17005821,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668312394,"creation_date":1668312394,"answer_id":74418388,"question_id":74418337,"body_markdown":"Assuming you have two JSON objects, obj1 and obj2, you could do something like this:\r\n\r\n```java\r\nJSONObject result = new JSONObject(obj1);\r\nfor (String key : obj2.keySet()) {\r\n    if (obj1.has(key)) {\r\n        // handle value change\r\n    } else {\r\n        // handle addition\r\n    }\r\n}\r\nfor (String key : obj1.keySet()) {\r\n    if (!obj2.has(key)) {\r\n        // handle deletion\r\n    }\r\n}\r\n```","title":"How do I write the results of a deep nested JSON comparison in a new JSON file, which contains additions, deletions, and replacements?","body":"<p>Assuming you have two JSON objects, obj1 and obj2, you could do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONObject result = new JSONObject(obj1);\nfor (String key : obj2.keySet()) {\n    if (obj1.has(key)) {\n        // handle value change\n    } else {\n        // handle addition\n    }\n}\nfor (String key : obj1.keySet()) {\n    if (!obj2.has(key)) {\n        // handle deletion\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2586446,"reputation":524,"user_id":2242047,"accept_rate":62,"display_name":"Ebony Maw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668312394,"creation_date":1668311345,"question_id":74418337,"body_markdown":"I have the following code, which outputs the changes between my source JSON file, and my target JSON file. However, I&#39;m shaky on how to build up, and append to my new JSON, which will be essentially the same as the source JSON, but with the additions, deletions, and replacements from the target JSON.\r\n\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Map.Entry;\r\n    \r\n    import org.apache.commons.io.FileUtils;\r\n    import org.apache.commons.io.IOUtils;\r\n    import org.json.JSONObject;\r\n    \r\n    import com.google.gson.JsonArray;\r\n    import com.google.gson.JsonElement;\r\n    import com.google.gson.JsonObject;\r\n    import com.google.gson.JsonParser;\r\n    \r\n    \r\n    \r\n    public class CompareJSON {\r\n    \r\n    \tpublic static void main(String[] args) throws IOException {\r\n    \r\n    \t\tString jsonSource = FileUtils.readFileToString(new File(&quot;jsonsource.txt&quot;), StandardCharsets.UTF_8);\r\n    \t\tString jsonTarget = FileUtils.readFileToString(new File(&quot;jsontarget.txt&quot;), StandardCharsets.UTF_8);\r\n    \t\tCompareJSON.compareJson(JsonParser.parseString(jsonSource), JsonParser.parseString(jsonTarget), &quot;&quot;);\r\n    \t}\r\n    \r\n    \tpublic static JSONObject toJsonObj(String fileName) {\r\n    \t\tFile f = new File(fileName);\r\n    \t\ttry {\r\n    \t\t\tif (f.exists()) {\r\n    \t\t\t\tInputStream is = new FileInputStream(fileName);\r\n    \t\t\t\tString jsonTxt = IOUtils.toString(is, &quot;UTF-8&quot;);\r\n    \t\t\t\tSystem.out.println(jsonTxt);\r\n    \t\t\t\treturn new JSONObject(jsonTxt);\r\n    \t\t\t}\r\n    \t\t\treturn null;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn null;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static void compareJson(JsonElement json, JsonElement other, String path) {\r\n    \t\tif (json.equals(other)) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\tif (json.isJsonArray() &amp;&amp; other.isJsonArray()) {\r\n    \t\t\tJsonArray arrJ = (JsonArray) json;\r\n    \t\t\tJsonArray arrO = (JsonArray) other;\r\n    \r\n    \t\t\tint size = Math.min(arrJ.size(), arrO.size());\r\n    \t\t\tfor (int i = 0; i &lt; size; i++) {\r\n    \t\t\t\tcompareJson(arrJ.get(i), arrO.get(i), path + &quot;/&quot; + i);\r\n    \t\t\t}\r\n    \t\t\tif (arrJ.size() &gt; arrO.size()) {\r\n    \t\t\t\tfor (int i = arrO.size(); i &lt; arrJ.size(); i++) {\r\n    \t\t\t\t\tSystem.out.println(path + &quot;/ deleted array value: &quot; + arrJ.get(i));\r\n    \t\t\t\t}\r\n    \t\t\t} else if (arrJ.size() &lt; arrO.size()) {\r\n    \t\t\t\tfor (int i = arrJ.size(); i &lt; arrO.size(); i++) {\r\n    \t\t\t\t\tSystem.out.println(path + &quot;/ added array value: &quot; + arrO.get(i));\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} else if (json.isJsonObject() &amp;&amp; other.isJsonObject()) {\r\n    \t\t\tJsonObject objJ = (JsonObject) json;\r\n    \t\t\tJsonObject objO = (JsonObject) other;\r\n    \r\n    \t\t\tfor (Entry&lt;String, JsonElement&gt; entry : objJ.entrySet()) {\r\n    \t\t\t\tString key = entry.getKey();\r\n    \t\t\t\tJsonElement value = entry.getValue();\r\n    \t\t\t\tif (objO.has(key)) {\r\n    \t\t\t\t\tcompareJson(value, objO.get(key), path + &quot;/&quot; + key);\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tSystem.out.println(path + &quot;/ deleted object entry: \\&quot;&quot; + key + &quot;\\&quot;: &quot; + value);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\tfor (Entry&lt;String, JsonElement&gt; entry : objO.entrySet()) {\r\n    \t\t\t\tString key = entry.getKey();\r\n    \t\t\t\tJsonElement value = entry.getValue();\r\n    \t\t\t\tif (!objJ.has(key)) {\r\n    \t\t\t\t\tSystem.out.println(path + &quot;/ added object entry: \\&quot;&quot; + key + &quot;\\&quot;: &quot; + value);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} else if (json.isJsonPrimitive() &amp;&amp; other.isJsonPrimitive()) {\r\n    \t\t\tSystem.out.println(path + &quot;/ value changed: &quot; + json + &quot; -&gt; &quot; + other);\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(path + &quot;/ element changed: &quot; + json + &quot; -&gt; &quot; + other);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"How do I write the results of a deep nested JSON comparison in a new JSON file, which contains additions, deletions, and replacements?","body":"<p>I have the following code, which outputs the changes between my source JSON file, and my target JSON file. However, I'm shaky on how to build up, and append to my new JSON, which will be essentially the same as the source JSON, but with the additions, deletions, and replacements from the target JSON.</p>\n<pre><code>import java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Map.Entry;\n\nimport org.apache.commons.io.FileUtils;\nimport org.apache.commons.io.IOUtils;\nimport org.json.JSONObject;\n\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\n\n\n\npublic class CompareJSON {\n\n    public static void main(String[] args) throws IOException {\n\n        String jsonSource = FileUtils.readFileToString(new File(&quot;jsonsource.txt&quot;), StandardCharsets.UTF_8);\n        String jsonTarget = FileUtils.readFileToString(new File(&quot;jsontarget.txt&quot;), StandardCharsets.UTF_8);\n        CompareJSON.compareJson(JsonParser.parseString(jsonSource), JsonParser.parseString(jsonTarget), &quot;&quot;);\n    }\n\n    public static JSONObject toJsonObj(String fileName) {\n        File f = new File(fileName);\n        try {\n            if (f.exists()) {\n                InputStream is = new FileInputStream(fileName);\n                String jsonTxt = IOUtils.toString(is, &quot;UTF-8&quot;);\n                System.out.println(jsonTxt);\n                return new JSONObject(jsonTxt);\n            }\n            return null;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    private static void compareJson(JsonElement json, JsonElement other, String path) {\n        if (json.equals(other)) {\n            return;\n        }\n\n        if (json.isJsonArray() &amp;&amp; other.isJsonArray()) {\n            JsonArray arrJ = (JsonArray) json;\n            JsonArray arrO = (JsonArray) other;\n\n            int size = Math.min(arrJ.size(), arrO.size());\n            for (int i = 0; i &lt; size; i++) {\n                compareJson(arrJ.get(i), arrO.get(i), path + &quot;/&quot; + i);\n            }\n            if (arrJ.size() &gt; arrO.size()) {\n                for (int i = arrO.size(); i &lt; arrJ.size(); i++) {\n                    System.out.println(path + &quot;/ deleted array value: &quot; + arrJ.get(i));\n                }\n            } else if (arrJ.size() &lt; arrO.size()) {\n                for (int i = arrJ.size(); i &lt; arrO.size(); i++) {\n                    System.out.println(path + &quot;/ added array value: &quot; + arrO.get(i));\n                }\n            }\n        } else if (json.isJsonObject() &amp;&amp; other.isJsonObject()) {\n            JsonObject objJ = (JsonObject) json;\n            JsonObject objO = (JsonObject) other;\n\n            for (Entry&lt;String, JsonElement&gt; entry : objJ.entrySet()) {\n                String key = entry.getKey();\n                JsonElement value = entry.getValue();\n                if (objO.has(key)) {\n                    compareJson(value, objO.get(key), path + &quot;/&quot; + key);\n                } else {\n                    System.out.println(path + &quot;/ deleted object entry: \\&quot;&quot; + key + &quot;\\&quot;: &quot; + value);\n                }\n            }\n            for (Entry&lt;String, JsonElement&gt; entry : objO.entrySet()) {\n                String key = entry.getKey();\n                JsonElement value = entry.getValue();\n                if (!objJ.has(key)) {\n                    System.out.println(path + &quot;/ added object entry: \\&quot;&quot; + key + &quot;\\&quot;: &quot; + value);\n                }\n            }\n        } else if (json.isJsonPrimitive() &amp;&amp; other.isJsonPrimitive()) {\n            System.out.println(path + &quot;/ value changed: &quot; + json + &quot; -&gt; &quot; + other);\n        } else {\n            System.out.println(path + &quot;/ element changed: &quot; + json + &quot; -&gt; &quot; + other);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","multithreading","spring","jsch","apache-commons-pool"],"answers":[{"tags":[],"owner":{"account_id":1303671,"reputation":595,"user_id":1253097,"accept_rate":8,"display_name":"simonso"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1383674080,"creation_date":1383674080,"answer_id":19795542,"question_id":19711993,"body_markdown":"Figured out my own question.  I will share my project in the next day or two.\r\n\r\n1. Pooling channels are much more effective.  There is really no need to create multiple sessions (if the session connects to the same sftp endpoint).\r\n\r\n2. I implemented a JSch connection pool (pooling channels) with spring pool and commons-pool.  I will post to the github in the next day or two.  The most important question is, what if the connection went stale.  \r\n\r\nI found out that based on my implementation of 1 Session - multiple channels, and if the connection went stale, the pooled objects (in this case, the channel) will be stale.  The pooled object should be invalidated and deleted from the pool.  When the connection comes back up, and when new application thread &quot;borrows&quot; from the pool, new pool objects will be created.\r\n\r\n\r\nTo validate my observation, my not-so-automated test:\r\n\r\na) Create a set (say 10) of app threads checking out channel resource from the pool.\r\nb) Have the thread to sleep 20 seconds\r\nc) Create another set of app threads checking out channel resources from the pool.\r\n\r\nAt a), set breakpoint when i==7, break the connection by &quot;iptable drop (linux) or pfctl -e; pfctl -f /etc/pf.conf (mac, google how to do!)&quot;.  This first set of app threads will get exception because the channel is broken.\r\n\r\nAt b), restart the connection\r\n\r\nAt c), the 2nd set of app threads will be successfully completing the operation because the broken connection has been restored.\r\n","title":"Putting Jsch into connection pool in details","body":"<p>Figured out my own question.  I will share my project in the next day or two.</p>\n\n<ol>\n<li><p>Pooling channels are much more effective.  There is really no need to create multiple sessions (if the session connects to the same sftp endpoint).</p></li>\n<li><p>I implemented a JSch connection pool (pooling channels) with spring pool and commons-pool.  I will post to the github in the next day or two.  The most important question is, what if the connection went stale.  </p></li>\n</ol>\n\n<p>I found out that based on my implementation of 1 Session - multiple channels, and if the connection went stale, the pooled objects (in this case, the channel) will be stale.  The pooled object should be invalidated and deleted from the pool.  When the connection comes back up, and when new application thread \"borrows\" from the pool, new pool objects will be created.</p>\n\n<p>To validate my observation, my not-so-automated test:</p>\n\n<p>a) Create a set (say 10) of app threads checking out channel resource from the pool.\nb) Have the thread to sleep 20 seconds\nc) Create another set of app threads checking out channel resources from the pool.</p>\n\n<p>At a), set breakpoint when i==7, break the connection by \"iptable drop (linux) or pfctl -e; pfctl -f /etc/pf.conf (mac, google how to do!)\".  This first set of app threads will get exception because the channel is broken.</p>\n\n<p>At b), restart the connection</p>\n\n<p>At c), the 2nd set of app threads will be successfully completing the operation because the broken connection has been restored.</p>\n"}],"owner":{"account_id":1303671,"reputation":595,"user_id":1253097,"accept_rate":8,"display_name":"simonso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3380,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1668311833,"creation_date":1383237279,"question_id":19711993,"body_markdown":"I put Jsch into commons-pool (with spring pool support) with initial success\r\n\r\nhttp://docs.spring.io/spring/docs/3.2.4.RELEASE/spring-framework-reference/htmlsingle/#aop-ts-pool\r\n\r\nHowever:\r\n\r\n1. Should we pool the channels within the Session instead of pooling the sessions?  Each Jsch session creates one thread.  Pooling Jsch sessions will create x threads.  Pooling channels, there will really be only one Jsch thread.\r\n\r\n2. (commons-pool) what happens if the Jsch session went stale?  How to regenerate the session in the context of the commons-pool or using spring pool support?  How to detect whether it goes stale?    \r\n\r\nThanks\r\n","title":"Putting Jsch into connection pool in details","body":"<p>I put Jsch into commons-pool (with spring pool support) with initial success</p>\n\n<p><a href=\"http://docs.spring.io/spring/docs/3.2.4.RELEASE/spring-framework-reference/htmlsingle/#aop-ts-pool\" rel=\"noreferrer\">http://docs.spring.io/spring/docs/3.2.4.RELEASE/spring-framework-reference/htmlsingle/#aop-ts-pool</a></p>\n\n<p>However:</p>\n\n<ol>\n<li><p>Should we pool the channels within the Session instead of pooling the sessions?  Each Jsch session creates one thread.  Pooling Jsch sessions will create x threads.  Pooling channels, there will really be only one Jsch thread.</p></li>\n<li><p>(commons-pool) what happens if the Jsch session went stale?  How to regenerate the session in the context of the commons-pool or using spring pool support?  How to detect whether it goes stale?    </p></li>\n</ol>\n\n<p>Thanks</p>\n"},{"tags":["java","mockito","opencsv"],"answers":[{"tags":[],"owner":{"account_id":14486057,"reputation":264,"user_id":10463949,"display_name":"rostIvan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668282334,"creation_date":1668282334,"answer_id":74416034,"question_id":74415631,"body_markdown":"You don&#39;t use a mocked instance but a real one.\r\nIf the goal here is throw an exception when `mock.readNext()` happens you have to do something like this in order to inject your mocked instance of `CSVReader`:\r\n\r\n```java\r\npublic class MyCsvReader {\r\n    private final CSVReader csvReader;\r\n\r\n    public MyCsvReader(final CSVReader csvReader) {\r\n        this.csvReader = csvReader;\r\n    }\r\n\r\n    public MyCsvReader(final String contentsAsString) {\r\n        this(getCsvReader(contentsAsString));\r\n    }\r\n\r\n    private static CSVReader getCsvReader(final String contentsAsString) {\r\n        InputStream inputStream = new ByteArrayInputStream(contentsAsString.getBytes());\r\n        InputStreamReader inputStreamReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);\r\n        return new CSVReaderBuilder(inputStreamReader)\r\n            .withSkipLines(0)\r\n            .withKeepCarriageReturn(false)\r\n            .build();\r\n    }\r\n\r\n    public void readData() {\r\n        String[] line;\r\n\r\n        try {\r\n            while ((line = csvReader.readNext()) != null) {\r\n                System.out.println(&quot;line:&quot; + Arrays.toString(line));\r\n            }\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;got IOException&quot;);\r\n            // I will be throwing a custom exception here\r\n            throw new RuntimeException(e);\r\n        } catch (CsvValidationException e) {\r\n            System.out.println(&quot;got CsvValidationException&quot;);\r\n            // and a different custom exception here\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```java\r\npublic class MyCsvReaderTest {\r\n    @Test\r\n    public void testException() throws Exception {\r\n        CSVReader mock = Mockito.mock(CSVReader.class);\r\n        Mockito.when(mock.readNext()).thenThrow(new IOException(&quot;test&quot;));\r\n\r\n        MyCsvReader reader = new MyCsvReader(mock);\r\n        try {\r\n            reader.readData();\r\n            fail(&quot;Expected an exception, but call succeeded&quot;);\r\n        } catch (RuntimeException ignored) {\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Testing for exceptions in Opencsv CSVReader","body":"<p>You don't use a mocked instance but a real one.\nIf the goal here is throw an exception when <code>mock.readNext()</code> happens you have to do something like this in order to inject your mocked instance of <code>CSVReader</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCsvReader {\n    private final CSVReader csvReader;\n\n    public MyCsvReader(final CSVReader csvReader) {\n        this.csvReader = csvReader;\n    }\n\n    public MyCsvReader(final String contentsAsString) {\n        this(getCsvReader(contentsAsString));\n    }\n\n    private static CSVReader getCsvReader(final String contentsAsString) {\n        InputStream inputStream = new ByteArrayInputStream(contentsAsString.getBytes());\n        InputStreamReader inputStreamReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);\n        return new CSVReaderBuilder(inputStreamReader)\n            .withSkipLines(0)\n            .withKeepCarriageReturn(false)\n            .build();\n    }\n\n    public void readData() {\n        String[] line;\n\n        try {\n            while ((line = csvReader.readNext()) != null) {\n                System.out.println(&quot;line:&quot; + Arrays.toString(line));\n            }\n        } catch (IOException e) {\n            System.out.println(&quot;got IOException&quot;);\n            // I will be throwing a custom exception here\n            throw new RuntimeException(e);\n        } catch (CsvValidationException e) {\n            System.out.println(&quot;got CsvValidationException&quot;);\n            // and a different custom exception here\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCsvReaderTest {\n    @Test\n    public void testException() throws Exception {\n        CSVReader mock = Mockito.mock(CSVReader.class);\n        Mockito.when(mock.readNext()).thenThrow(new IOException(&quot;test&quot;));\n\n        MyCsvReader reader = new MyCsvReader(mock);\n        try {\n            reader.readData();\n            fail(&quot;Expected an exception, but call succeeded&quot;);\n        } catch (RuntimeException ignored) {\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3246958,"reputation":47,"user_id":2738224,"display_name":"alotia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":852,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74416034,"answer_count":1,"score":0,"last_activity_date":1668311776,"creation_date":1668278746,"question_id":74415631,"body_markdown":"I am trying to test exception handling when using Opencsv&#39;s CSVReader. The data will be coming from a String. \r\nIt&#39;s not working because I am (probably) not properly mocking the CSVReader, but cannot quite figure out what I need to do.\r\n\r\nHere&#39;s the class\r\n```\r\nimport com.opencsv.CSVReader;\r\nimport com.opencsv.CSVReaderBuilder;\r\nimport com.opencsv.exceptions.CsvValidationException;\r\n// other imports skipped\r\n\r\npublic class MyCsvReader {\r\n    private Path contentsAsString;\r\n    private CSVReader csvReader;\r\n\r\n    public MyCsvReader(final String contentsAsString) {\r\n        InputStream inputStream = new ByteArrayInputStream(contentsAsString.getBytes());\r\n        InputStreamReader inputStreamReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);\r\n\r\n        csvReader = new CSVReaderBuilder(inputStreamReader)\r\n                .withSkipLines(0)\r\n                .withKeepCarriageReturn(false)\r\n                .build();\r\n    }\r\n\r\n    public void readData() {\r\n        String[] line;\r\n\r\n        try {\r\n            while ((line = csvReader.readNext()) != null) {\r\n                System.out.println(&quot;line:&quot; + Arrays.toString(line));\r\n            }\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;got IOException&quot;);\r\n            // I will be throwing a custom exception here\r\n            throw new RuntimeException(e);\r\n        } catch (CsvValidationException e) {\r\n            System.out.println(&quot;got CsvValidationException&quot;);\r\n            // and a different custom exception here\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nand the test\r\n\r\n```\r\npublic class MyCsvReaderTest {\r\n\r\n    @Test\r\n    public void testException() throws Exception {\r\n        String[] rows = {\r\n                &quot;column1,column2,column3&quot;,\r\n                &quot;test,abc,def&quot;\r\n        };\r\n        String rowData = String.join(&quot;\\n&quot;, rows);\r\n\r\n        CSVReader mock = Mockito.mock(CSVReader.class);\r\n        Mockito.when(mock.readNext()).thenThrow(new IOException(&quot;test&quot;));\r\n\r\n        MyCsvReader reader = new MyCsvReader(rowData);\r\n        try {\r\n            reader.readData();\r\n            fail(&quot;Expected an exception, but call succeeded&quot;);\r\n        } catch (RuntimeException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nWhen I run it, `reader.readNext()` does not throw an exception\r\n```\r\nline: [column1, column2, column3]\r\nline: [test, abc, def]\r\n\r\norg.opentest4j.AssertionFailedError: Expected and exception, but call succeeded\r\n... stack trace deleted\r\n\r\n```\r\n\r\nSuggestions on what I need to do? Thanks!\r\n\r\n","title":"Testing for exceptions in Opencsv CSVReader","body":"<p>I am trying to test exception handling when using Opencsv's CSVReader. The data will be coming from a String.\nIt's not working because I am (probably) not properly mocking the CSVReader, but cannot quite figure out what I need to do.</p>\n<p>Here's the class</p>\n<pre><code>import com.opencsv.CSVReader;\nimport com.opencsv.CSVReaderBuilder;\nimport com.opencsv.exceptions.CsvValidationException;\n// other imports skipped\n\npublic class MyCsvReader {\n    private Path contentsAsString;\n    private CSVReader csvReader;\n\n    public MyCsvReader(final String contentsAsString) {\n        InputStream inputStream = new ByteArrayInputStream(contentsAsString.getBytes());\n        InputStreamReader inputStreamReader = new InputStreamReader(inputStream, StandardCharsets.UTF_8);\n\n        csvReader = new CSVReaderBuilder(inputStreamReader)\n                .withSkipLines(0)\n                .withKeepCarriageReturn(false)\n                .build();\n    }\n\n    public void readData() {\n        String[] line;\n\n        try {\n            while ((line = csvReader.readNext()) != null) {\n                System.out.println(&quot;line:&quot; + Arrays.toString(line));\n            }\n        } catch (IOException e) {\n            System.out.println(&quot;got IOException&quot;);\n            // I will be throwing a custom exception here\n            throw new RuntimeException(e);\n        } catch (CsvValidationException e) {\n            System.out.println(&quot;got CsvValidationException&quot;);\n            // and a different custom exception here\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>and the test</p>\n<pre><code>public class MyCsvReaderTest {\n\n    @Test\n    public void testException() throws Exception {\n        String[] rows = {\n                &quot;column1,column2,column3&quot;,\n                &quot;test,abc,def&quot;\n        };\n        String rowData = String.join(&quot;\\n&quot;, rows);\n\n        CSVReader mock = Mockito.mock(CSVReader.class);\n        Mockito.when(mock.readNext()).thenThrow(new IOException(&quot;test&quot;));\n\n        MyCsvReader reader = new MyCsvReader(rowData);\n        try {\n            reader.readData();\n            fail(&quot;Expected an exception, but call succeeded&quot;);\n        } catch (RuntimeException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>When I run it, <code>reader.readNext()</code> does not throw an exception</p>\n<pre><code>line: [column1, column2, column3]\nline: [test, abc, def]\n\norg.opentest4j.AssertionFailedError: Expected and exception, but call succeeded\n... stack trace deleted\n\n</code></pre>\n<p>Suggestions on what I need to do? Thanks!</p>\n"},{"tags":["java","spring-boot","connection","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1538393568,"creation_date":1538384740,"answer_id":52587709,"question_id":52587489,"body_markdown":"&gt; Can connection pools be used without reference to the application protocol?\r\n\r\nNo.  \r\n\r\n  - If the application protocol depends on the closure of a connection to signal something (e.g. the end of a data stream), then the connections cannot be reused.\r\n  - If the application protocol doesn&#39;t have a clean way to deal with certain kinds of application error apart from closing the connection, then connection pools may be ineffective.\r\n\r\n&gt; Is it possible for a specific protocol?\r\n\r\nIt depends on the specific protocol.\r\n\r\n&gt; Is it possible for remote command execution?\r\n\r\nYou haven&#39;t specified a protocol!!!\r\n\r\n&gt; But is it possible *in theory*?\r\n\r\nOne problem is that (for example) an SSH session has context such as the remote user id, the remote directory, remote environment variables and so on.  In the general case, it would be unwise and unsafe to reuse a connection if you did not know what might have happened previous for that connection.\r\n\r\n&gt; Could it be Hikari?\r\n\r\nNo.  HikariCP is a connection pool for JDBC connections.\r\n\r\n&gt; Any example will be good.\r\n\r\nGoogle for &quot;java ssh connection pool&quot;.\r\n\r\nI found these:\r\n\r\n  - [Pool of ssh connections using Apache KeyedObjectPool](https://www.javacodegeeks.com/2013/02/pool-of-ssh-connections-using-apache-keyedobjectpool.html)\r\n  - https://stackoverflow.com/questions/12780036/using-connection-pool-with-jsch\r\n  - And more.\r\n\r\n&lt;sup&gt;(Future readers ... please do your own search ... thanks!)&lt;/sup&gt;","title":"Connection Pool for remote connections in Java","body":"<blockquote>\n  <p>Can connection pools be used without reference to the application protocol?</p>\n</blockquote>\n\n<p>No.  </p>\n\n<ul>\n<li>If the application protocol depends on the closure of a connection to signal something (e.g. the end of a data stream), then the connections cannot be reused.</li>\n<li>If the application protocol doesn't have a clean way to deal with certain kinds of application error apart from closing the connection, then connection pools may be ineffective.</li>\n</ul>\n\n<blockquote>\n  <p>Is it possible for a specific protocol?</p>\n</blockquote>\n\n<p>It depends on the specific protocol.</p>\n\n<blockquote>\n  <p>Is it possible for remote command execution?</p>\n</blockquote>\n\n<p>You haven't specified a protocol!!!</p>\n\n<blockquote>\n  <p>But is it possible <em>in theory</em>?</p>\n</blockquote>\n\n<p>One problem is that (for example) an SSH session has context such as the remote user id, the remote directory, remote environment variables and so on.  In the general case, it would be unwise and unsafe to reuse a connection if you did not know what might have happened previous for that connection.</p>\n\n<blockquote>\n  <p>Could it be Hikari?</p>\n</blockquote>\n\n<p>No.  HikariCP is a connection pool for JDBC connections.</p>\n\n<blockquote>\n  <p>Any example will be good.</p>\n</blockquote>\n\n<p>Google for \"java ssh connection pool\".</p>\n\n<p>I found these:</p>\n\n<ul>\n<li><a href=\"https://www.javacodegeeks.com/2013/02/pool-of-ssh-connections-using-apache-keyedobjectpool.html\" rel=\"nofollow noreferrer\">Pool of ssh connections using Apache KeyedObjectPool</a></li>\n<li><a href=\"https://stackoverflow.com/questions/12780036/using-connection-pool-with-jsch\">Using connection pool with JSCH</a></li>\n<li>And more.</li>\n</ul>\n\n<p><sup>(Future readers ... please do your own search ... thanks!)</sup></p>\n"}],"owner":{"account_id":11665302,"reputation":1913,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1605,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":52587709,"answer_count":1,"score":3,"last_activity_date":1668311546,"creation_date":1538383785,"question_id":52587489,"body_markdown":"Can I use connection pool for remote connections to some VM? For example I need to execute random number of commands on random number of VM? So I dont want to open a new connection every time so Connection Pool is the solution. But I can find only examples with db? So my question is: Is it possible to use Connection Pool for remote connections and if its, could it be Hikari? Any example will be good. Thank you!\r\n\r\nEdited: I am using ssh protocol. And I am talking about Spring Boot application.","title":"Connection Pool for remote connections in Java","body":"<p>Can I use connection pool for remote connections to some VM? For example I need to execute random number of commands on random number of VM? So I dont want to open a new connection every time so Connection Pool is the solution. But I can find only examples with db? So my question is: Is it possible to use Connection Pool for remote connections and if its, could it be Hikari? Any example will be good. Thank you!</p>\n\n<p>Edited: I am using ssh protocol. And I am talking about Spring Boot application.</p>\n"},{"tags":["java","while-loop","linked-list","nodes","doubly-linked-list"],"answers":[{"tags":[],"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668310243,"creation_date":1668309700,"answer_id":74418234,"question_id":74417986,"body_markdown":"Add game counter and increment it every time after every start game.. \r\nmodified while (keepGoing) :\r\n\r\n\r\n        int numberOfGames = 0;    \\\\ initialize game counter\r\n                    while (keepGoing) {\r\n                        b.startGame();\r\n                        numberOfGames++; \\\\ increment counter when game is played\r\n                        if(numberOfGames==3) \\\\ if 3 then offer play again option\r\n                        {\r\n                              Scanner s = new Scanner(System.in);\r\n                        System.out.printf(&quot;\\nPlay again?: Y/N&quot;);\r\n                        if (s.nextLine().equalsIgnoreCase(&quot;N&quot;)) {\r\n                            keepGoing = false;\r\n                        } else \r\n    numberOfGames =0; // reset counter if want to play \r\n    \r\n                        }\r\n                        \r\n                      \r\n                    }\r\n\r\n","title":"How can i make a loop to show only the first 4 innings and then ask if they want to play again?","body":"<p>Add game counter and increment it every time after every start game..\nmodified while (keepGoing) :</p>\n<pre><code>    int numberOfGames = 0;    \\\\ initialize game counter\n                while (keepGoing) {\n                    b.startGame();\n                    numberOfGames++; \\\\ increment counter when game is played\n                    if(numberOfGames==3) \\\\ if 3 then offer play again option\n                    {\n                          Scanner s = new Scanner(System.in);\n                    System.out.printf(&quot;\\nPlay again?: Y/N&quot;);\n                    if (s.nextLine().equalsIgnoreCase(&quot;N&quot;)) {\n                        keepGoing = false;\n                    } else \nnumberOfGames =0; // reset counter if want to play \n\n                    }\n                    \n                  \n                }\n</code></pre>\n"}],"owner":{"account_id":26540185,"reputation":11,"user_id":20171065,"display_name":"xkellss"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668310243,"creation_date":1668305442,"question_id":74417986,"body_markdown":"I have an assignment where im supposed to make a simulated baseball game using linked list. So far, i am able to print out all the batters and display how many runs/hits they had in the inning after 3 outs. The problem im having is that i should have a minimum of 4 innings and at least 1 score run in order to ask to play again. I cant figure out a way to make a loop to where it will display all innings with the score for each inning. [This][1]is how it should look like as the final output and [This][2] is how mine is displayed. As you can see, it keeps asking if i want to play again after each inning and doesnt show the 2nd inning even though its printed out.\r\n\r\nmy code\r\n\r\n```\r\nimport java.util.Base64;\r\nimport java.util.Random;\r\nimport java.util.Scanner;\r\n\r\npublic class baseball {\r\n    public static void main(String[] args) {\r\n        baseball b = new baseball();\r\n        b.addPlayer(1, &quot;Ted Williams&quot;, .344, .0687);\r\n        b.addPlayer(2, &quot;Rogers Hornsby&quot;, .359, .0375);\r\n        b.addPlayer(3, &quot;Mark McGwire&quot;, .265, .095);\r\n        b.addPlayer(4, &quot;Babe Ruth&quot;, .340, .085);\r\n\r\n        boolean keepGoing = true;\r\n            while (keepGoing) {\r\n                b.startGame();\r\n                Scanner s = new Scanner(System.in);\r\n                System.out.printf(&quot;\\nPlay again?: Y/N&quot;);\r\n                if (s.nextLine().equalsIgnoreCase(&quot;N&quot;)) {\r\n                    keepGoing = false;\r\n                }\r\n            }\r\n    }\r\n\r\n    private void startGame() {\r\n        int ct = 0;\r\n        int inning = 0;\r\n        int outs = 0;\r\n        int hits = 0;\r\n        int score = 0;\r\n        int htct = 0;\r\n        baseball.Players current = head;\r\n        baseball.Players end = tail;\r\n\r\n        System.out.printf(&quot;\\n ------------- Inning: %s - Game Score: %s Runs&quot;, ++inning, score);\r\n        while (outs != 3) {\r\n            Random r = new Random();\r\n            double rr = r.nextDouble();\r\n            if (current.bAvg &gt; rr) {\r\n                System.out.printf(&quot;\\n\\nBatter %s - %s -&gt;  BA: %s Random Number: %.2f HIT&quot;, ++ct, current.name, current.bAvg, rr);\r\n                ++htct;\r\n                if (htct &gt;= 3) {\r\n                    hits++;\r\n                    score = hits;\r\n                }\r\n                end.next = head;\r\n            } else if (current.hrAvg &gt; rr) {\r\n                System.out.printf(&quot;\\n\\nBatter %s - %s -&gt;  BA: %s Random Number: %.2f HOMERUN&quot;, ++ct, current.name, current.bAvg, rr);\r\n            } else if (current.bAvg &lt; rr) {\r\n                System.out.printf(&quot;\\n\\nBatter %s - %s -&gt;  BA: %s Random Number: %.2f Miss&quot;, ++ct, current.name, current.bAvg, rr);\r\n                outs++;\r\n                if (outs == 3) {\r\n                    System.out.printf(&quot;\\n--------------- Inning Totals: %s Runs %s Hits&quot;, hits, htct);\r\n                }\r\n                end.next = head;\r\n            }\r\n\r\n            current = current.next;\r\n        }\r\n            System.out.printf(&quot;\\n ------------ Inning: %s - Game Score: %s Runs&quot;, ++inning, score);\r\n        }\r\n    public class Players {\r\n        public Integer bOrder;\r\n        public String name;\r\n        public Double bAvg;\r\n        public Double hrAvg;\r\n        Players previous;\r\n        Players next;\r\n\r\n        public Players(int bOrder, String name, Double bAvg, Double hrAvg) {\r\n            this.bOrder = bOrder;\r\n            this.name = name;\r\n            this.bAvg = bAvg;\r\n            this.hrAvg = hrAvg;\r\n            this.next = null;\r\n            this.previous = null;\r\n        }\r\n    }\r\n    Players head, tail = null;\r\n\r\n    public void addPlayer(int bOrder,String name, Double bAvg, Double hrAvg) {\r\n        Players players = new Players(bOrder,name,bAvg,hrAvg);\r\n        if (head == null) {\r\n            //its the first node\r\n            head = players;\r\n            tail = players;\r\n            head.previous = null;\r\n            tail.next = null;\r\n\r\n        } else {\r\n            tail.next = players;\r\n            players.previous = tail;\r\n            tail = players;\r\n            tail.next = null;\r\n\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\ni tried adding the keepGoing loop into my method but it still doesnt seem to work out and it becomes an infinite loop\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MwuvU.png\r\n  [2]: https://i.stack.imgur.com/1coXl.png","title":"How can i make a loop to show only the first 4 innings and then ask if they want to play again?","body":"<p>I have an assignment where im supposed to make a simulated baseball game using linked list. So far, i am able to print out all the batters and display how many runs/hits they had in the inning after 3 outs. The problem im having is that i should have a minimum of 4 innings and at least 1 score run in order to ask to play again. I cant figure out a way to make a loop to where it will display all innings with the score for each inning. <a href=\"https://i.stack.imgur.com/MwuvU.png\" rel=\"nofollow noreferrer\">This</a>is how it should look like as the final output and <a href=\"https://i.stack.imgur.com/1coXl.png\" rel=\"nofollow noreferrer\">This</a> is how mine is displayed. As you can see, it keeps asking if i want to play again after each inning and doesnt show the 2nd inning even though its printed out.</p>\n<p>my code</p>\n<pre><code>import java.util.Base64;\nimport java.util.Random;\nimport java.util.Scanner;\n\npublic class baseball {\n    public static void main(String[] args) {\n        baseball b = new baseball();\n        b.addPlayer(1, &quot;Ted Williams&quot;, .344, .0687);\n        b.addPlayer(2, &quot;Rogers Hornsby&quot;, .359, .0375);\n        b.addPlayer(3, &quot;Mark McGwire&quot;, .265, .095);\n        b.addPlayer(4, &quot;Babe Ruth&quot;, .340, .085);\n\n        boolean keepGoing = true;\n            while (keepGoing) {\n                b.startGame();\n                Scanner s = new Scanner(System.in);\n                System.out.printf(&quot;\\nPlay again?: Y/N&quot;);\n                if (s.nextLine().equalsIgnoreCase(&quot;N&quot;)) {\n                    keepGoing = false;\n                }\n            }\n    }\n\n    private void startGame() {\n        int ct = 0;\n        int inning = 0;\n        int outs = 0;\n        int hits = 0;\n        int score = 0;\n        int htct = 0;\n        baseball.Players current = head;\n        baseball.Players end = tail;\n\n        System.out.printf(&quot;\\n ------------- Inning: %s - Game Score: %s Runs&quot;, ++inning, score);\n        while (outs != 3) {\n            Random r = new Random();\n            double rr = r.nextDouble();\n            if (current.bAvg &gt; rr) {\n                System.out.printf(&quot;\\n\\nBatter %s - %s -&gt;  BA: %s Random Number: %.2f HIT&quot;, ++ct, current.name, current.bAvg, rr);\n                ++htct;\n                if (htct &gt;= 3) {\n                    hits++;\n                    score = hits;\n                }\n                end.next = head;\n            } else if (current.hrAvg &gt; rr) {\n                System.out.printf(&quot;\\n\\nBatter %s - %s -&gt;  BA: %s Random Number: %.2f HOMERUN&quot;, ++ct, current.name, current.bAvg, rr);\n            } else if (current.bAvg &lt; rr) {\n                System.out.printf(&quot;\\n\\nBatter %s - %s -&gt;  BA: %s Random Number: %.2f Miss&quot;, ++ct, current.name, current.bAvg, rr);\n                outs++;\n                if (outs == 3) {\n                    System.out.printf(&quot;\\n--------------- Inning Totals: %s Runs %s Hits&quot;, hits, htct);\n                }\n                end.next = head;\n            }\n\n            current = current.next;\n        }\n            System.out.printf(&quot;\\n ------------ Inning: %s - Game Score: %s Runs&quot;, ++inning, score);\n        }\n    public class Players {\n        public Integer bOrder;\n        public String name;\n        public Double bAvg;\n        public Double hrAvg;\n        Players previous;\n        Players next;\n\n        public Players(int bOrder, String name, Double bAvg, Double hrAvg) {\n            this.bOrder = bOrder;\n            this.name = name;\n            this.bAvg = bAvg;\n            this.hrAvg = hrAvg;\n            this.next = null;\n            this.previous = null;\n        }\n    }\n    Players head, tail = null;\n\n    public void addPlayer(int bOrder,String name, Double bAvg, Double hrAvg) {\n        Players players = new Players(bOrder,name,bAvg,hrAvg);\n        if (head == null) {\n            //its the first node\n            head = players;\n            tail = players;\n            head.previous = null;\n            tail.next = null;\n\n        } else {\n            tail.next = players;\n            players.previous = tail;\n            tail = players;\n            tail.next = null;\n\n        }\n    }\n\n}\n</code></pre>\n<p>i tried adding the keepGoing loop into my method but it still doesnt seem to work out and it becomes an infinite loop</p>\n"},{"tags":["java","java-stream","jetty","java-17"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1639684382,"post_id":70384713,"comment_id":124418732,"body_markdown":"Current version is 17.0.1+12 - have you tried to upgrade to a more recent version (see https://adoptium.net/index.html)?","body":"Current version is 17.0.1+12 - have you tried to upgrade to a more recent version (see <a href=\"https://adoptium.net/index.html\" rel=\"nofollow noreferrer\">adoptium.net/index.html</a>)?"},{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":7,"creation_date":1639685098,"post_id":70384713,"comment_id":124418988,"body_markdown":"Thank you! I haven&#39;t tried that but I have had a look at the release notes and there&#39;s nothing that stands out. Unfortunately I can only reproduce this in production. A call to `parallelStream()` for blocking I/O particularly in the context of a servlet container is a no-no, removing it fixed my issue. I can&#39;t justify bumping the jdk and removing the fix to satisfy my curiosity. Hopefully someone close to the jdk will be able to weigh in.","body":"Thank you! I haven&#39;t tried that but I have had a look at the release notes and there&#39;s nothing that stands out. Unfortunately I can only reproduce this in production. A call to <code>parallelStream()</code> for blocking I/O particularly in the context of a servlet container is a no-no, removing it fixed my issue. I can&#39;t justify bumping the jdk and removing the fix to satisfy my curiosity. Hopefully someone close to the jdk will be able to weigh in."},{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1639694852,"post_id":70384713,"comment_id":124421916,"body_markdown":"Also check what other tasks may be using the same fork join pool, it does not look like the thread name you show is derived from the common pool name.","body":"Also check what other tasks may be using the same fork join pool, it does not look like the thread name you show is derived from the common pool name."},{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":1,"creation_date":1639695072,"post_id":70384713,"comment_id":124421972,"body_markdown":"@DuncG this is something I thought about only an hour or so ago. We have 2 RDBMS datasources, one of them was not returning connections to the pool. Active connections ramping up in direct proportion to the thread use. Same pooling impl, different RDBMS vendors. I started to wonder if perhaps something in the JDBC driver or somewhere in that chain is using the same pool.","body":"@DuncG this is something I thought about only an hour or so ago. We have 2 RDBMS datasources, one of them was not returning connections to the pool. Active connections ramping up in direct proportion to the thread use. Same pooling impl, different RDBMS vendors. I started to wonder if perhaps something in the JDBC driver or somewhere in that chain is using the same pool."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1639703125,"post_id":70384713,"comment_id":124423432,"body_markdown":"It sounds like you are considering that this might not be directly caused by a change in Java 17.  That is a good strategy.  (Correlation does not necessarily mean causation.)","body":"It sounds like you are considering that this might not be directly caused by a change in Java 17.  That is a good strategy.  (Correlation does not necessarily mean causation.)"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":33,"creation_date":1639732191,"post_id":70384713,"comment_id":124428799,"body_markdown":"Using blocking I/O with parallel streams never worked well. Seems you’ve been lucky in the past.","body":"Using blocking I/O with parallel streams never worked well. Seems you’ve been lucky in the past."},{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":0,"creation_date":1639779180,"post_id":70384713,"comment_id":124444451,"body_markdown":"@StephenC the only change that went in was literally the java bump, a couple of `add-opens` and a bump of the openjdk docker image. I don&#39;t imagine this is an OS level change (happy to stand corrected). My current thinking is we shouldn&#39;t have been using `parallelStream()` the way we were, there have been jdk changes and we&#39;ve been caught with our trousers down. I&#39;d love to know what change went in, if any, in that area.","body":"@StephenC the only change that went in was literally the java bump, a couple of <code>add-opens</code> and a bump of the openjdk docker image. I don&#39;t imagine this is an OS level change (happy to stand corrected). My current thinking is we shouldn&#39;t have been using <code>parallelStream()</code> the way we were, there have been jdk changes and we&#39;ve been caught with our trousers down. I&#39;d love to know what change went in, if any, in that area."},{"owner":{"account_id":6157899,"reputation":19791,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1640547446,"post_id":70384713,"comment_id":124603401,"body_markdown":"@RobertBain Upgrade minor version to minor version and you can narrow it down as though you&#39;re debugging commits - does that yield anything useful?","body":"@RobertBain Upgrade minor version to minor version and you can narrow it down as though you&#39;re debugging commits - does that yield anything useful?"},{"owner":{"account_id":72569,"reputation":10656,"user_id":209502,"accept_rate":67,"display_name":"Krzysztof Wolny"},"score":1,"creation_date":1644403105,"post_id":70384713,"comment_id":125595671,"body_markdown":"@RobertBain we have the same issue. Only JDK bump and parallel streams blow up. I agree that doing I/O there is bad (we do the same) but I really want to understand the root cause - what was changed in JDK 16 or 17 (we upgraded from 15).","body":"@RobertBain we have the same issue. Only JDK bump and parallel streams blow up. I agree that doing I/O there is bad (we do the same) but I really want to understand the root cause - what was changed in JDK 16 or 17 (we upgraded from 15)."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":9,"creation_date":1644412239,"post_id":70384713,"comment_id":125599239,"body_markdown":"@KrzysztofWolny an example program capable of reproducing the problem would be helpful.","body":"@KrzysztofWolny an example program capable of reproducing the problem would be helpful."},{"owner":{"account_id":72569,"reputation":10656,"user_id":209502,"accept_rate":67,"display_name":"Krzysztof Wolny"},"score":0,"creation_date":1644480857,"post_id":70384713,"comment_id":125619495,"body_markdown":"@Holger it&#39;s as simple as in the original post: parallel streams with some long-running I/O operations. I have exactly the same observations of threads as it was posted: no. busy workers growing, some of them are returned (small drops on the chart) but most of them is stuck in WAITING/TIMED_WAITING state.","body":"@Holger it&#39;s as simple as in the original post: parallel streams with some long-running I/O operations. I have exactly the same observations of threads as it was posted: no. busy workers growing, some of them are returned (small drops on the chart) but most of them is stuck in WAITING/TIMED_WAITING state."},{"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"score":0,"creation_date":1644531795,"post_id":70384713,"comment_id":125639011,"body_markdown":"@KrzysztofWolny my thoughts based on what I was seeing were that the thread pool used by the blocking calls was now being shared, perhaps by the postgres jdbc driver and the blocking calls were preventing db access. Are you using jdbc?","body":"@KrzysztofWolny my thoughts based on what I was seeing were that the thread pool used by the blocking calls was now being shared, perhaps by the postgres jdbc driver and the blocking calls were preventing db access. Are you using jdbc?"},{"owner":{"account_id":72569,"reputation":10656,"user_id":209502,"accept_rate":67,"display_name":"Krzysztof Wolny"},"score":0,"creation_date":1644848388,"post_id":70384713,"comment_id":125707168,"body_markdown":"@RobertBain nope, in my case we do REST calls in parallel. But this is irrelevant to what you do, as it used to work. My goal is to find why it was working and why now it is not...","body":"@RobertBain nope, in my case we do REST calls in parallel. But this is irrelevant to what you do, as it used to work. My goal is to find why it was working and why now it is not..."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":5,"creation_date":1657878325,"post_id":70384713,"comment_id":128919473,"body_markdown":"@KrzysztofWolny - *&quot;it&#39;s as simple as in the original post:&quot;* -  Well please write it as [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) and post it. I don&#39;t think there will be an answer to this question unless someone does that work.","body":"@KrzysztofWolny - <i>&quot;it&#39;s as simple as in the original post:&quot;</i> -  Well please write it as <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and post it. I don&#39;t think there will be an answer to this question unless someone does that work."},{"owner":{"account_id":2030885,"reputation":121,"user_id":1826696,"display_name":"rapaio"},"score":0,"creation_date":1659133421,"post_id":70384713,"comment_id":129229049,"body_markdown":"Did you give it a try with java 18 also? In case is something in jdk, maybe that would be solved.","body":"Did you give it a try with java 18 also? In case is something in jdk, maybe that would be solved."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1664114772,"post_id":70384713,"comment_id":130392555,"body_markdown":"There have been quite a few problems listed on the internet causing debug testing with parked threads and java.base because of difference between 16 and  17 lodge a BUG report on that jdk. Possibly also with the JDK&#39;s a NUMA problem too.","body":"There have been quite a few problems listed on the internet causing debug testing with parked threads and java.base because of difference between 16 and  17 lodge a BUG report on that jdk. Possibly also with the JDK&#39;s a NUMA problem too."}],"answers":[{"tags":[],"owner":{"account_id":4120139,"reputation":1,"user_id":3380739,"display_name":"user_3380739"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1668309470,"creation_date":1668207918,"answer_id":74409022,"question_id":70384713,"body_markdown":"We all know or be told that creating a new thread is a heavy operation. But it seems okay to me after ran a few tests. For example: Here is the memory usage by run below simple test with 10_000 thread. It took about 2 or 3 seconds on my laptop and jvm usage is about 1.5 G.\r\n\r\n    final int threadNum = 10_000;\r\n\r\n    final Callable&lt;String&gt; task = () -&gt; {\r\n        String bigString = UUID.randomUUID().toString().repeat(1000);\r\n        assertTrue(bigString.chars().sum() &gt; 0);\r\n\r\n        Thread.currentThread().sleep(1000);\r\n\r\n        return bigString;\r\n    };\r\n\r\n    final ExecutorService executorService = Executors.newFixedThreadPool(threadNum);\r\n    final List&lt;Future&lt;String&gt;&gt; futures = new ArrayList&lt;&gt;(threadNum);\r\n\r\n    for (int i = 0; i &lt; threadNum; i++) {\r\n        futures.add(executorService.submit(task));\r\n    }\r\n\r\n    long ret = futures.stream().map(Fn.futureGet()).mapToInt(String::length).sum();\r\n    System.out.println(ret);\r\n    assertEquals(UUID.randomUUID().toString().length() * threadNum * 1000, ret);\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI think it&#39;s a rare chance that 10_000 will be created/used in most of applications. If I changed the thread number to 1000. Again it took 2 or 3 seconds and memory usage is about: 300 MB.\r\n[![enter image description here][2]][2]\r\n\r\nIs it possible or a  good idea to use stream api to run blocking I/O call in parallel? I think so. Here is a sample with my tool: [abacus-common][3] \r\n\r\n    // Run above task by Stream.\r\n    ret = IntStreamEx.range(0, threadNum)\r\n            .parallel(threadNum)\r\n            .mapToObj(it -&gt; Try.call(task))\r\n            .sequential()\r\n            .mapToInt(String::length)\r\n            .sum();\r\n\r\n    // Or other  task\r\n    StreamEx.of(list)\r\n            .parallel(64) // Specify the concurrent thread number. It could be from 1 up to thousands.\r\n            .map(this::callRestServiceToGetSomeData)\r\n            .collect(Collectors.toUnmodifiableList());\r\n\r\nOr use [Virtual Threads][4] introduced in Java 19+\r\n\r\n    try (var executor = Executors.newVirtualThreadPerTaskExecutor()) {\r\n        StreamEx.of(list)\r\n        .parallel(executor)\r\n        .map(this::callRestServiceToGetSomeData)\r\n        .collect(Collectors.toUnmodifiableList());\r\n    }\r\n\r\nI know this is not a direct answer to the question. But it may resolve the original problem which brought up this question.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zbqfn.png\r\n  [2]: https://i.stack.imgur.com/UzEM9.png\r\n  [3]: https://github.com/landawn/abacus-common\r\n  [4]: https://www.infoq.com/articles/java-virtual-threads/","title":"Java 17&#39;s parallelStream() causes critical performance issues with code that runs fine in Java 16. Why?","body":"<p>We all know or be told that creating a new thread is a heavy operation. But it seems okay to me after ran a few tests. For example: Here is the memory usage by run below simple test with 10_000 thread. It took about 2 or 3 seconds on my laptop and jvm usage is about 1.5 G.</p>\n<pre><code>final int threadNum = 10_000;\n\nfinal Callable&lt;String&gt; task = () -&gt; {\n    String bigString = UUID.randomUUID().toString().repeat(1000);\n    assertTrue(bigString.chars().sum() &gt; 0);\n\n    Thread.currentThread().sleep(1000);\n\n    return bigString;\n};\n\nfinal ExecutorService executorService = Executors.newFixedThreadPool(threadNum);\nfinal List&lt;Future&lt;String&gt;&gt; futures = new ArrayList&lt;&gt;(threadNum);\n\nfor (int i = 0; i &lt; threadNum; i++) {\n    futures.add(executorService.submit(task));\n}\n\nlong ret = futures.stream().map(Fn.futureGet()).mapToInt(String::length).sum();\nSystem.out.println(ret);\nassertEquals(UUID.randomUUID().toString().length() * threadNum * 1000, ret);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/zbqfn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zbqfn.png\" alt=\"enter image description here\" /></a></p>\n<p>I think it's a rare chance that 10_000 will be created/used in most of applications. If I changed the thread number to 1000. Again it took 2 or 3 seconds and memory usage is about: 300 MB.\n<a href=\"https://i.stack.imgur.com/UzEM9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UzEM9.png\" alt=\"enter image description here\" /></a></p>\n<p>Is it possible or a  good idea to use stream api to run blocking I/O call in parallel? I think so. Here is a sample with my tool: <a href=\"https://github.com/landawn/abacus-common\" rel=\"nofollow noreferrer\">abacus-common</a></p>\n<pre><code>// Run above task by Stream.\nret = IntStreamEx.range(0, threadNum)\n        .parallel(threadNum)\n        .mapToObj(it -&gt; Try.call(task))\n        .sequential()\n        .mapToInt(String::length)\n        .sum();\n\n// Or other  task\nStreamEx.of(list)\n        .parallel(64) // Specify the concurrent thread number. It could be from 1 up to thousands.\n        .map(this::callRestServiceToGetSomeData)\n        .collect(Collectors.toUnmodifiableList());\n</code></pre>\n<p>Or use <a href=\"https://www.infoq.com/articles/java-virtual-threads/\" rel=\"nofollow noreferrer\">Virtual Threads</a> introduced in Java 19+</p>\n<pre><code>try (var executor = Executors.newVirtualThreadPerTaskExecutor()) {\n    StreamEx.of(list)\n    .parallel(executor)\n    .map(this::callRestServiceToGetSomeData)\n    .collect(Collectors.toUnmodifiableList());\n}\n</code></pre>\n<p>I know this is not a direct answer to the question. But it may resolve the original problem which brought up this question.</p>\n"}],"owner":{"account_id":4289184,"reputation":9183,"user_id":3506000,"accept_rate":88,"display_name":"Robert Bain"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3712,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"answer_count":1,"score":34,"last_activity_date":1668309470,"creation_date":1639683710,"question_id":70384713,"body_markdown":"I work on a Jetty web app that was running on Java 16. I tried to upgrade it to Java 17 but there were critical performance issues caused entirely by one call to `parallelStream()`.\r\n\r\nThe only changes are the Java version bump from 16 to 17, `--add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED` and the runtime bump from `openjdk:16.0.1-jdk-oraclelinux8` to `openjdk:17.0.1-jdk-oraclelinux8`.\r\n\r\nWe managed to obtain a thread dump and it contains many of these:\r\n\r\n    &quot;qtp1368594774-200&quot; #200 prio=5 os_prio=0 cpu=475.94ms elapsed=7189.65s tid=0x00007fd49c50cc10 nid=0xd1 waiting on condition  [0x00007fd48fef7000]\r\n       java.lang.Thread.State: WAITING (parking)\r\n    \tat jdk.internal.misc.Unsafe.park(java.base@17.0.1/Native Method)\r\n    \t- parking to wait for  &lt;0x00000007b73439a8&gt; (a java.util.stream.ReduceOps$ReduceTask)\r\n    \tat java.util.concurrent.locks.LockSupport.park(java.base@17.0.1/LockSupport.java:341)\r\n    \tat java.util.concurrent.ForkJoinTask.awaitDone(java.base@17.0.1/ForkJoinTask.java:468)\r\n    \tat java.util.concurrent.ForkJoinTask.invoke(java.base@17.0.1/ForkJoinTask.java:687)\r\n    \tat java.util.stream.ReduceOps$ReduceOp.evaluateParallel(java.base@17.0.1/ReduceOps.java:927)\r\n    \tat java.util.stream.AbstractPipeline.evaluate(java.base@17.0.1/AbstractPipeline.java:233)\r\n    \tat java.util.stream.ReferencePipeline.collect(java.base@17.0.1/ReferencePipeline.java:682)\r\n    \tat com.stackoverflowexample.aMethodThatDoesBlockingIOUsingParallelStream()\r\n\r\nThe code that is causing the issue is something like:\r\n\r\n    list.parallelStream()\r\n    .map(this::callRestServiceToGetSomeData)\r\n    .collect(Collectors.toUnmodifiableList());\r\n\r\nThis image shows thread use before upgrading from jdk16 (LHS), upgrading to jdk17 (the huge spike in the middle), then removing the call to `parallelStream()` still on jdk17 (RHS):\r\n\r\n[![Threads][1]][1]\r\n\r\nWhat change in Java 17 (openjdk-17.0.1_linux-x64_bin.tar.gz) has caused this?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L91Nv.png","title":"Java 17&#39;s parallelStream() causes critical performance issues with code that runs fine in Java 16. Why?","body":"<p>I work on a Jetty web app that was running on Java 16. I tried to upgrade it to Java 17 but there were critical performance issues caused entirely by one call to <code>parallelStream()</code>.</p>\n<p>The only changes are the Java version bump from 16 to 17, <code>--add-opens java.base/java.lang=ALL-UNNAMED --add-opens java.base/java.util=ALL-UNNAMED</code> and the runtime bump from <code>openjdk:16.0.1-jdk-oraclelinux8</code> to <code>openjdk:17.0.1-jdk-oraclelinux8</code>.</p>\n<p>We managed to obtain a thread dump and it contains many of these:</p>\n<pre><code>&quot;qtp1368594774-200&quot; #200 prio=5 os_prio=0 cpu=475.94ms elapsed=7189.65s tid=0x00007fd49c50cc10 nid=0xd1 waiting on condition  [0x00007fd48fef7000]\n   java.lang.Thread.State: WAITING (parking)\n    at jdk.internal.misc.Unsafe.park(java.base@17.0.1/Native Method)\n    - parking to wait for  &lt;0x00000007b73439a8&gt; (a java.util.stream.ReduceOps$ReduceTask)\n    at java.util.concurrent.locks.LockSupport.park(java.base@17.0.1/LockSupport.java:341)\n    at java.util.concurrent.ForkJoinTask.awaitDone(java.base@17.0.1/ForkJoinTask.java:468)\n    at java.util.concurrent.ForkJoinTask.invoke(java.base@17.0.1/ForkJoinTask.java:687)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateParallel(java.base@17.0.1/ReduceOps.java:927)\n    at java.util.stream.AbstractPipeline.evaluate(java.base@17.0.1/AbstractPipeline.java:233)\n    at java.util.stream.ReferencePipeline.collect(java.base@17.0.1/ReferencePipeline.java:682)\n    at com.stackoverflowexample.aMethodThatDoesBlockingIOUsingParallelStream()\n</code></pre>\n<p>The code that is causing the issue is something like:</p>\n<pre><code>list.parallelStream()\n.map(this::callRestServiceToGetSomeData)\n.collect(Collectors.toUnmodifiableList());\n</code></pre>\n<p>This image shows thread use before upgrading from jdk16 (LHS), upgrading to jdk17 (the huge spike in the middle), then removing the call to <code>parallelStream()</code> still on jdk17 (RHS):</p>\n<p><a href=\"https://i.stack.imgur.com/L91Nv.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/L91Nv.png\" alt=\"Threads\" /></a></p>\n<p>What change in Java 17 (openjdk-17.0.1_linux-x64_bin.tar.gz) has caused this?</p>\n"},{"tags":["java","configuration","environment-variables","temp"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":3,"up_vote_count":33,"is_accepted":false,"score":30,"last_activity_date":1433443715,"creation_date":1261079636,"answer_id":1924153,"question_id":1924136,"body_markdown":"It isn&#39;t an environment variable, but still gives you control over the temp dir:\r\n\r\n&lt;!-- language-all: none --&gt;\r\n\r\n    -Djava.io.tmpdir\r\n\r\nex.:\r\n\r\n    java -Djava.io.tmpdir=/mytempdir","title":"Environment variable to control java.io.tmpdir?","body":"<p>It isn't an environment variable, but still gives you control over the temp dir:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>-Djava.io.tmpdir\n</code></pre>\n\n<p>ex.:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java -Djava.io.tmpdir=/mytempdir\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26446,"reputation":13401,"user_id":68757,"accept_rate":77,"display_name":"Bryan Kyle"},"down_vote_count":6,"up_vote_count":152,"is_accepted":false,"score":146,"last_activity_date":1445542641,"creation_date":1261079676,"answer_id":1924159,"question_id":1924136,"body_markdown":"According to the [`java.io.File` Java Docs](http://docs.oracle.com/javase/8/docs/api/java/io/File.html)\r\n\r\n&gt;  The default temporary-file directory is specified by the system property java.io.tmpdir. On UNIX systems the default value of this property is typically &quot;/tmp&quot; or &quot;/var/tmp&quot;; on Microsoft Windows systems it is typically &quot;c:\\\\temp&quot;. A different value may be given to this system property when the Java virtual machine is invoked, but programmatic changes to this property are not guaranteed to have any effect upon the the temporary directory used by this method.\r\n\r\nTo specify the `java.io.tmpdir` System property, you can invoke the JVM as follows:\r\n\r\n    java -Djava.io.tmpdir=/path/to/tmpdir\r\n\r\n**By default this value should come from the `TMP` environment variable on Windows systems**","title":"Environment variable to control java.io.tmpdir?","body":"<p>According to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/File.html\" rel=\"noreferrer\"><code>java.io.File</code> Java Docs</a></p>\n\n<blockquote>\n  <p>The default temporary-file directory is specified by the system property java.io.tmpdir. On UNIX systems the default value of this property is typically \"/tmp\" or \"/var/tmp\"; on Microsoft Windows systems it is typically \"c:\\temp\". A different value may be given to this system property when the Java virtual machine is invoked, but programmatic changes to this property are not guaranteed to have any effect upon the the temporary directory used by this method.</p>\n</blockquote>\n\n<p>To specify the <code>java.io.tmpdir</code> System property, you can invoke the JVM as follows:</p>\n\n<pre><code>java -Djava.io.tmpdir=/path/to/tmpdir\n</code></pre>\n\n<p><strong>By default this value should come from the <code>TMP</code> environment variable on Windows systems</strong></p>\n"},{"tags":[],"owner":{"account_id":8980,"reputation":14155,"user_id":16414,"accept_rate":75,"display_name":"delfuego"},"down_vote_count":3,"up_vote_count":135,"is_accepted":true,"score":132,"last_activity_date":1433443706,"creation_date":1261083733,"answer_id":1924576,"question_id":1924136,"body_markdown":"Hmmm -- since this is handled by the JVM, I delved into the OpenJDK VM source code a little bit, thinking that maybe what&#39;s done by OpenJDK mimics what&#39;s done by Java 6 and prior.  It isn&#39;t reassuring that there&#39;s a way to do this other than on Windows.\r\n\r\nOn [Windows][1], OpenJDK&#39;s `get_temp_directory()` function makes a Win32 API call to `GetTempPath()`; this is how on Windows, Java reflects the value of the `TMP` environment variable.\r\n\r\nOn [Linux][2] and [Solaris][3], the same `get_temp_directory()` functions return a static value of `/tmp/`.\r\n\r\nI don&#39;t know if the actual JDK6 follows these exact conventions, but by the behavior on each of the listed platforms, it seems like they do.\r\n\r\n  [1]: http://hg.openjdk.java.net/jdk6/jdk6/hotspot/file/14f7b2425c86/src/os/windows/vm/os_windows.cpp#l996\r\n  [2]: http://hg.openjdk.java.net/jdk6/jdk6/hotspot/file/14f7b2425c86/src/os/linux/vm/os_linux.cpp#l1515\r\n  [3]: http://hg.openjdk.java.net/jdk6/jdk6/hotspot/file/14f7b2425c86/src/os/solaris/vm/os_solaris.cpp#l1828","title":"Environment variable to control java.io.tmpdir?","body":"<p>Hmmm -- since this is handled by the JVM, I delved into the OpenJDK VM source code a little bit, thinking that maybe what's done by OpenJDK mimics what's done by Java 6 and prior.  It isn't reassuring that there's a way to do this other than on Windows.</p>\n\n<p>On <a href=\"http://hg.openjdk.java.net/jdk6/jdk6/hotspot/file/14f7b2425c86/src/os/windows/vm/os_windows.cpp#l996\" rel=\"noreferrer\">Windows</a>, OpenJDK's <code>get_temp_directory()</code> function makes a Win32 API call to <code>GetTempPath()</code>; this is how on Windows, Java reflects the value of the <code>TMP</code> environment variable.</p>\n\n<p>On <a href=\"http://hg.openjdk.java.net/jdk6/jdk6/hotspot/file/14f7b2425c86/src/os/linux/vm/os_linux.cpp#l1515\" rel=\"noreferrer\">Linux</a> and <a href=\"http://hg.openjdk.java.net/jdk6/jdk6/hotspot/file/14f7b2425c86/src/os/solaris/vm/os_solaris.cpp#l1828\" rel=\"noreferrer\">Solaris</a>, the same <code>get_temp_directory()</code> functions return a static value of <code>/tmp/</code>.</p>\n\n<p>I don't know if the actual JDK6 follows these exact conventions, but by the behavior on each of the listed platforms, it seems like they do.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1668309360,"creation_date":1261095318,"answer_id":1925501,"question_id":1924136,"body_markdown":"To be clear about what is going on here:\r\n\r\n  - The recommended way to set the temporary directory location is to set the System property called &quot;java.io.tmpdir&quot;, e.g. by giving the option `-Djava.io.tmpdir=/mytempdir` to the `java` command.  \r\n\r\n    The property can also be changed from within a program by calling `System.setProperty(&quot;java.io.tmpdir&quot;, &quot;/mytempdir)` ... modulo sandbox security issues.  However, note that the property is not consulted dynamically.  It is read **once** during class initialization.  If you programmatically change the property after that point, *it has not effect* on the temporary directory.\r\n\r\n  - If you don&#39;t explicitly set the &quot;java.io.tmpdir&quot; property on startup, the JVM initializes it to a *platform specific* default value.  For Windows, the default is obtained by a call to a Win32 API method.  For Linux / Solaris the default is apparently hard-wired.  For other JVMs it could be something else.\r\n\r\nEmpirically, the &quot;TMP&quot; environment variable works on Windows (with current JVMs), but not on other platforms.  If you care about portability you should explicitly set the system property.","title":"Environment variable to control java.io.tmpdir?","body":"<p>To be clear about what is going on here:</p>\n<ul>\n<li><p>The recommended way to set the temporary directory location is to set the System property called &quot;java.io.tmpdir&quot;, e.g. by giving the option <code>-Djava.io.tmpdir=/mytempdir</code> to the <code>java</code> command.</p>\n<p>The property can also be changed from within a program by calling <code>System.setProperty(&quot;java.io.tmpdir&quot;, &quot;/mytempdir)</code> ... modulo sandbox security issues.  However, note that the property is not consulted dynamically.  It is read <strong>once</strong> during class initialization.  If you programmatically change the property after that point, <em>it has not effect</em> on the temporary directory.</p>\n</li>\n<li><p>If you don't explicitly set the &quot;java.io.tmpdir&quot; property on startup, the JVM initializes it to a <em>platform specific</em> default value.  For Windows, the default is obtained by a call to a Win32 API method.  For Linux / Solaris the default is apparently hard-wired.  For other JVMs it could be something else.</p>\n</li>\n</ul>\n<p>Empirically, the &quot;TMP&quot; environment variable works on Windows (with current JVMs), but not on other platforms.  If you care about portability you should explicitly set the system property.</p>\n"},{"tags":[],"owner":{"account_id":332638,"reputation":1542,"user_id":658053,"accept_rate":100,"display_name":"John St. John"},"down_vote_count":2,"up_vote_count":78,"is_accepted":false,"score":76,"last_activity_date":1433443579,"creation_date":1301848681,"answer_id":5530914,"question_id":1924136,"body_markdown":"You could set your `_JAVA_OPTIONS` environmental variable. For example in bash this would do the trick:\r\n\r\n&lt;!-- language-all: none --&gt;\r\n\r\n    export _JAVA_OPTIONS=-Djava.io.tmpdir=/new/tmp/dir\r\n\r\nI put that into my bash login script and it seems to do the trick.","title":"Environment variable to control java.io.tmpdir?","body":"<p>You could set your <code>_JAVA_OPTIONS</code> environmental variable. For example in bash this would do the trick:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>export _JAVA_OPTIONS=-Djava.io.tmpdir=/new/tmp/dir\n</code></pre>\n\n<p>I put that into my bash login script and it seems to do the trick.</p>\n"},{"tags":[],"owner":{"account_id":281909,"reputation":463,"user_id":578499,"display_name":"Nisar Ahmed"},"down_vote_count":4,"up_vote_count":47,"is_accepted":false,"score":43,"last_activity_date":1433445099,"creation_date":1375838639,"answer_id":18093146,"question_id":1924136,"body_markdown":"Use \r\n\r\n&lt;!-- language-all: none --&gt;\r\n\r\n    $ java -XshowSettings\r\n    Property settings:\r\n        java.home = /home/nisar/javadev/javasuncom/jdk1.7.0_17/jre\r\n        java.io.tmpdir = /tmp","title":"Environment variable to control java.io.tmpdir?","body":"<p>Use </p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>$ java -XshowSettings\nProperty settings:\n    java.home = /home/nisar/javadev/javasuncom/jdk1.7.0_17/jre\n    java.io.tmpdir = /tmp\n</code></pre>\n"},{"tags":[],"owner":{"account_id":905381,"reputation":135,"user_id":940400,"display_name":"suhas"},"down_vote_count":4,"up_vote_count":14,"is_accepted":false,"score":10,"last_activity_date":1529468682,"creation_date":1529464970,"answer_id":50939713,"question_id":1924136,"body_markdown":"Use below command on UNIX terminal : \r\n\r\n    java -XshowSettings\r\n\r\nThis will display all java properties and system settings.\r\nIn this look for `java.io.tmpdir` value.\r\n","title":"Environment variable to control java.io.tmpdir?","body":"<p>Use below command on UNIX terminal : </p>\n\n<pre><code>java -XshowSettings\n</code></pre>\n\n<p>This will display all java properties and system settings.\nIn this look for <code>java.io.tmpdir</code> value.</p>\n"},{"tags":[],"owner":{"account_id":163891,"reputation":22317,"user_id":386327,"accept_rate":100,"display_name":"SiggyF"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1609926869,"creation_date":1609926869,"answer_id":65593569,"question_id":1924136,"body_markdown":"If you look in the source code of the JDK, you can see that for unix systems the property is read at [compile](https://github.com/openjdk/jdk/blob/master/src/java.base/unix/native/libjava/java_props_md.c) time from the paths.h or [hard coded](https://github.com/openjdk/jdk/blob/master/src/java.base/unix/native/libjava/java_props_md.c#L90). For [windows](https://github.com/openjdk/jdk/blob/master/src/java.base/windows/native/libjava/java_props_md.c#L373) the function `GetTempPathW` from [win32](https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-gettemppathw) returns the `tmpdir` name. \r\n\r\nFor posix systems you might expect the [standard](https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap08.html) `TMPDIR` to work, but that is not the case. You can confirm that `TMPDIR` is not used by running `TMPDIR=/mytmp java -XshowSettings`","title":"Environment variable to control java.io.tmpdir?","body":"<p>If you look in the source code of the JDK, you can see that for unix systems the property is read at <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/unix/native/libjava/java_props_md.c\" rel=\"nofollow noreferrer\">compile</a> time from the paths.h or <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/unix/native/libjava/java_props_md.c#L90\" rel=\"nofollow noreferrer\">hard coded</a>. For <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/windows/native/libjava/java_props_md.c#L373\" rel=\"nofollow noreferrer\">windows</a> the function <code>GetTempPathW</code> from <a href=\"https://learn.microsoft.com/en-us/windows/win32/api/fileapi/nf-fileapi-gettemppathw\" rel=\"nofollow noreferrer\">win32</a> returns the <code>tmpdir</code> name.</p>\n<p>For posix systems you might expect the <a href=\"https://pubs.opengroup.org/onlinepubs/9699919799/basedefs/V1_chap08.html\" rel=\"nofollow noreferrer\">standard</a> <code>TMPDIR</code> to work, but that is not the case. You can confirm that <code>TMPDIR</code> is not used by running <code>TMPDIR=/mytmp java -XshowSettings</code></p>\n"},{"tags":[],"owner":{"account_id":20626550,"reputation":9,"user_id":15142258,"display_name":"anudq ece"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1612413121,"creation_date":1612413121,"answer_id":66039390,"question_id":1924136,"body_markdown":"we can change the default tomcat file upload location, as \r\n\r\nwe have to set the environment variable like : CATALINA_TEMPDIR = YOUR FILE UPLOAD LOCATION. \r\nthis location will change the path here: java -Djava.io.tmpdir=/path/to/tmpdir","title":"Environment variable to control java.io.tmpdir?","body":"<p>we can change the default tomcat file upload location, as</p>\n<p>we have to set the environment variable like : CATALINA_TEMPDIR = YOUR FILE UPLOAD LOCATION.\nthis location will change the path here: java -Djava.io.tmpdir=/path/to/tmpdir</p>\n"},{"tags":[],"owner":{"account_id":10127476,"reputation":987,"user_id":7482210,"display_name":"soloturn"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649495605,"creation_date":1649495605,"answer_id":71806694,"question_id":1924136,"body_markdown":"nowadays source: https://github.com/openjdk/jdk/search?l=Java&amp;p=4&amp;q=java.io.tmpdir and only the property is used.\r\n\r\nfor linux:\r\n```\r\n// This must be hard coded because it&#39;s the system&#39;s temporary\r\n// directory not the java application&#39;s temp directory, ala java.io.tmpdir.\r\nconst char* os::get_temp_directory() { return &quot;/tmp&quot;; }\r\n```\r\n * https://github.com/openjdk/jdk/blob/eab4c0c49934bd6f37a0b6174ca10e5c8708d13b/src/hotspot/os/linux/os_linux.cpp#L1317\r\n * https://github.com/openjdk/jdk/blob/739769c8fc4b496f08a92225a12d07414537b6c0/src/java.base/unix/conf/net.properties\r\n\r\n\r\nfor windows:\r\n```\r\n  if (GetTempPath(MAX_PATH, path_buf) &gt; 0) {\r\n    return path_buf;\r\n  } else {\r\n```\r\nhttps://github.com/openjdk/jdk/blob/eab4c0c49934bd6f37a0b6174ca10e5c8708d13b/src/hotspot/os/windows/os_windows.cpp#L1366\r\n\r\nand here for apple:\r\nhttps://github.com/openjdk/jdk/blob/739769c8fc4b496f08a92225a12d07414537b6c0/src/jdk.attach/macosx/native/libattach/VirtualMachineImpl.c#L322\r\n","title":"Environment variable to control java.io.tmpdir?","body":"<p>nowadays source: <a href=\"https://github.com/openjdk/jdk/search?l=Java&amp;p=4&amp;q=java.io.tmpdir\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/search?l=Java&amp;p=4&amp;q=java.io.tmpdir</a> and only the property is used.</p>\n<p>for linux:</p>\n<pre><code>// This must be hard coded because it's the system's temporary\n// directory not the java application's temp directory, ala java.io.tmpdir.\nconst char* os::get_temp_directory() { return &quot;/tmp&quot;; }\n</code></pre>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk/blob/eab4c0c49934bd6f37a0b6174ca10e5c8708d13b/src/hotspot/os/linux/os_linux.cpp#L1317\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/eab4c0c49934bd6f37a0b6174ca10e5c8708d13b/src/hotspot/os/linux/os_linux.cpp#L1317</a></li>\n<li><a href=\"https://github.com/openjdk/jdk/blob/739769c8fc4b496f08a92225a12d07414537b6c0/src/java.base/unix/conf/net.properties\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/739769c8fc4b496f08a92225a12d07414537b6c0/src/java.base/unix/conf/net.properties</a></li>\n</ul>\n<p>for windows:</p>\n<pre><code>  if (GetTempPath(MAX_PATH, path_buf) &gt; 0) {\n    return path_buf;\n  } else {\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk/blob/eab4c0c49934bd6f37a0b6174ca10e5c8708d13b/src/hotspot/os/windows/os_windows.cpp#L1366\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/eab4c0c49934bd6f37a0b6174ca10e5c8708d13b/src/hotspot/os/windows/os_windows.cpp#L1366</a></p>\n<p>and here for apple:\n<a href=\"https://github.com/openjdk/jdk/blob/739769c8fc4b496f08a92225a12d07414537b6c0/src/jdk.attach/macosx/native/libattach/VirtualMachineImpl.c#L322\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/739769c8fc4b496f08a92225a12d07414537b6c0/src/jdk.attach/macosx/native/libattach/VirtualMachineImpl.c#L322</a></p>\n"}],"owner":{"account_id":21016,"reputation":24941,"user_id":50773,"accept_rate":80,"display_name":"Zach Hirsch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393395,"favorite_count":0,"down_vote_count":0,"up_vote_count":138,"accepted_answer_id":1924576,"answer_count":10,"score":138,"last_activity_date":1668309360,"creation_date":1261079448,"question_id":1924136,"body_markdown":"I&#39;ve used the `TMP` environment variable to control things like where gcc writes it&#39;s temporary files, but I can&#39;t seem to find an equivalent for java&#39;s [createTempFile][1] API.\r\n\r\nDoes such an environment variable exist?\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/File.html#createTempFile%28java.lang.String,%20java.lang.String,%20java.io.File%29","title":"Environment variable to control java.io.tmpdir?","body":"<p>I've used the <code>TMP</code> environment variable to control things like where gcc writes it's temporary files, but I can't seem to find an equivalent for java's <a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html#createTempFile%28java.lang.String,%20java.lang.String,%20java.io.File%29\" rel=\"noreferrer\">createTempFile</a> API.</p>\n\n<p>Does such an environment variable exist?</p>\n"},{"tags":["java","yum","redhat-openjdk"],"answers":[{"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1542644193,"creation_date":1542644193,"answer_id":53378725,"question_id":53378483,"body_markdown":"The reason, in short, is because someone has to maintain the packages and put these into the repositories your system is using and verify, that they run stable. For example, the OpenJDK 11 on Debian is still in buster (`testing`) and sid (`unstable`) and therefore not available in any `stable` branch. I guess in CentOS (I am not that familiar with it tbh.) it&#39;s the same situation. \r\n\r\nSooner or later you&#39;ll have to install software without a manager in any OS, so even if you&#39;re saying you&#39;re a noob, you&#39;ll have to learn that sooner or later. And if you want to use openjdk11 now, you&#39;ll have to use either an unofficial repository or install the software by hand, what I&#39;d recommend. \r\n\r\nHowever, here is a guide which is the second hit on Google for `openjdk11 centos`:\r\n\r\n    curl -O https://download.java.net/java/GA/jdk11/13/GPL/openjdk-11.0.1_linux-x64_bin.tar.gz\r\n    tar zxvf openjdk-11.0.1_linux-x64_bin.tar.gz\r\n    mv jdk-11.0.1 /usr/local/\r\n    \r\n    vi /etc/profile.d/jdk11.sh\r\n    \r\n    # create new\r\n    export JAVA_HOME=/usr/local/jdk-11.0.1\r\n    export PATH=$PATH:$JAVA_HOME/bin\r\n    \r\n    source /etc/profile.d/jdk11.sh\r\n    \r\n    java -version\r\n    \r\n    openjdk version &quot;11.0.1&quot; 2018-10-16\r\n    OpenJDK Runtime Environment 18.9 (build 11.0.1+13)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11.0.1+13, mixed mode)\r\n\r\nSource: https://www.server-world.info/en/note?os=CentOS_7&amp;p=jdk11&amp;f=2","title":"Installing OpenJDK 11 on CentOS using yum","body":"<p>The reason, in short, is because someone has to maintain the packages and put these into the repositories your system is using and verify, that they run stable. For example, the OpenJDK 11 on Debian is still in buster (<code>testing</code>) and sid (<code>unstable</code>) and therefore not available in any <code>stable</code> branch. I guess in CentOS (I am not that familiar with it tbh.) it's the same situation. </p>\n\n<p>Sooner or later you'll have to install software without a manager in any OS, so even if you're saying you're a noob, you'll have to learn that sooner or later. And if you want to use openjdk11 now, you'll have to use either an unofficial repository or install the software by hand, what I'd recommend. </p>\n\n<p>However, here is a guide which is the second hit on Google for <code>openjdk11 centos</code>:</p>\n\n<pre><code>curl -O https://download.java.net/java/GA/jdk11/13/GPL/openjdk-11.0.1_linux-x64_bin.tar.gz\ntar zxvf openjdk-11.0.1_linux-x64_bin.tar.gz\nmv jdk-11.0.1 /usr/local/\n\nvi /etc/profile.d/jdk11.sh\n\n# create new\nexport JAVA_HOME=/usr/local/jdk-11.0.1\nexport PATH=$PATH:$JAVA_HOME/bin\n\nsource /etc/profile.d/jdk11.sh\n\njava -version\n\nopenjdk version \"11.0.1\" 2018-10-16\nOpenJDK Runtime Environment 18.9 (build 11.0.1+13)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.1+13, mixed mode)\n</code></pre>\n\n<p>Source: <a href=\"https://www.server-world.info/en/note?os=CentOS_7&amp;p=jdk11&amp;f=2\" rel=\"noreferrer\">https://www.server-world.info/en/note?os=CentOS_7&amp;p=jdk11&amp;f=2</a></p>\n"},{"tags":[],"owner":{"account_id":5749872,"reputation":1997,"user_id":4539906,"display_name":"Asad Shakeel"},"down_vote_count":1,"up_vote_count":24,"is_accepted":false,"score":23,"last_activity_date":1668308836,"creation_date":1604476124,"answer_id":64675969,"question_id":53378483,"body_markdown":"**As of November 2020**\r\n\r\nyou can achieve this in 2 steps:\r\n\r\n 1. Install Java 11 using `yum`:\r\n\r\n    `yum install java-11-openjdk-devel`\r\n2. Get all the Java configurations available in your machine:\r\n\r\n   `alternatives --config java`\r\n\r\n   Run the above command, select the version you want to set, I&#39;ve set `1` here:\r\n   ```\r\n   There are 2 programs which provide &#39;java&#39;.\r\n   Selection    Command\r\n\r\n   -----------------------------------------------\r\n      1           java-11-openjdk.x86_64 (/usr/lib/jvm/java-11-openjdk-11.0.8.10-0.el7_8.x86_64/bin/java)\r\n   *+ 2           java-1.8.0-openjdk.x86_64 (/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.262.b10-0.el7_8.x86_64/jre/bin/java)\r\n\r\n   Enter to keep the current selection[+], or type selection number: 1\r\n   ```\r\n3. Check `java -version`:\r\n   ```\r\n   openjdk version &quot;11.0.8&quot; 2020-07-14 LTS\r\n   OpenJDK Runtime Environment 18.9 (build 11.0.8+10-LTS)\r\n   OpenJDK 64-Bit Server VM 18.9 (build 11.0.8+10-LTS, mixed mode, sharing)\r\n   ```\r\nJava 11 is now set to be used globally.","title":"Installing OpenJDK 11 on CentOS using yum","body":"<p><strong>As of November 2020</strong></p>\n<p>you can achieve this in 2 steps:</p>\n<ol>\n<li><p>Install Java 11 using <code>yum</code>:</p>\n<p><code>yum install java-11-openjdk-devel</code></p>\n</li>\n<li><p>Get all the Java configurations available in your machine:</p>\n<p><code>alternatives --config java</code></p>\n<p>Run the above command, select the version you want to set, I've set <code>1</code> here:</p>\n<pre><code>There are 2 programs which provide 'java'.\nSelection    Command\n\n-----------------------------------------------\n   1           java-11-openjdk.x86_64 (/usr/lib/jvm/java-11-openjdk-11.0.8.10-0.el7_8.x86_64/bin/java)\n*+ 2           java-1.8.0-openjdk.x86_64 (/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.262.b10-0.el7_8.x86_64/jre/bin/java)\n\nEnter to keep the current selection[+], or type selection number: 1\n</code></pre>\n</li>\n<li><p>Check <code>java -version</code>:</p>\n<pre><code>openjdk version &quot;11.0.8&quot; 2020-07-14 LTS\nOpenJDK Runtime Environment 18.9 (build 11.0.8+10-LTS)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.8+10-LTS, mixed mode, sharing)\n</code></pre>\n</li>\n</ol>\n<p>Java 11 is now set to be used globally.</p>\n"}],"owner":{"account_id":14782551,"reputation":431,"user_id":10675710,"display_name":"Globe Admin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41096,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":53378725,"answer_count":2,"score":13,"last_activity_date":1668308836,"creation_date":1542643387,"question_id":53378483,"body_markdown":"I want to install OpenJDK 11 using yum. However when I check the OpenJDK manual, it says you can use yum to install only up to Java 8. However, for Java 9 onwards it says that you have to download a zip or tar file\r\n(https://openjdk.java.net/install/). How can I install OpenJDK 11 with yum?","title":"Installing OpenJDK 11 on CentOS using yum","body":"<p>I want to install OpenJDK 11 using yum. However when I check the OpenJDK manual, it says you can use yum to install only up to Java 8. However, for Java 9 onwards it says that you have to download a zip or tar file\n(<a href=\"https://openjdk.java.net/install/\" rel=\"nofollow noreferrer\">https://openjdk.java.net/install/</a>). How can I install OpenJDK 11 with yum?</p>\n"},{"tags":["java","eclipse","jvm","swt","sts"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1668309309,"post_id":74418157,"comment_id":131372977,"body_markdown":"How current is your Ubuntu release? Your Java version is a few patch levels behind.","body":"How current is your Ubuntu release? Your Java version is a few patch levels behind."},{"owner":{"account_id":13986137,"reputation":1,"user_id":10101195,"display_name":"cipher"},"score":0,"creation_date":1668891131,"post_id":74418157,"comment_id":131517924,"body_markdown":"hi @nitind ! Ubuntu 16.04.7 LTS. do you suggest updating to OpenJDK 11 or something?","body":"hi @nitind ! Ubuntu 16.04.7 LTS. do you suggest updating to OpenJDK 11 or something?"}],"owner":{"account_id":13986137,"reputation":1,"user_id":10101195,"display_name":"cipher"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668308250,"creation_date":1668308250,"question_id":74418157,"body_markdown":"    **the same errors happen in eclipse &amp; STS both(tried 3 versions)\r\n$ java -version\r\nopenjdk version &quot;1.8.0_292&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~16.04.1-b10)\r\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)\r\n\r\n$ javac -version\r\njavac 1.8.0_292\r\n\r\n$ uname -a\r\nLinux mypc 4.15.0-142-generic #146~16.04.1-Ubuntu SMP Tue Apr 13 09:27:15 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux\r\n\r\nSpring Tool Suite 4 \r\nVersion: 4.16.0.RELEASE\r\nBuild Id: 202209151144\r\n\r\nEclipse IDE for Java Developers (includes Incubating components)\r\nVersion: 2020-12 (4.18.0)\r\nBuild id: 20201210-1552\r\n\r\nerror1: &#39;JVM terminated. Exit code=127&#39; while right clicking on a project\r\nerror2: &#39;Unhandled event loop exception&#39; while trying to browse a directory for purposes like importing a project, adding JREl&#39;s etc\r\n \r\n\r\n\r\n\r\n```\r\n\r\n**org.eclipse.swt.SWTError: No more handles**\r\n\r\neclipse.buildId=4.16.0.202209151144\r\njava.version=17.0.4.1\r\njava.vendor=Eclipse Adoptium\r\nBootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_IN\r\nFramework arguments:  -product org.springframework.boot.ide.branding.sts4\r\nCommand-line arguments:  -os linux -ws gtk -arch x86_64 -product org.springframework.boot.ide.branding.sts4\r\n\r\norg.eclipse.ui\r\nError\r\nSun Nov 13 06:47:48 IST 2022\r\nUnhandled event loop exception\r\n\r\norg.eclipse.swt.SWTError: No more handles\r\n\tat org.eclipse.swt.SWT.error(SWT.java:4944)\r\n\tat org.eclipse.swt.SWT.error(SWT.java:4833)\r\n\tat org.eclipse.swt.SWT.error(SWT.java:4804)\r\n\tat org.eclipse.swt.widgets.Dialog.error(Dialog.java:202)\r\n\tat org.eclipse.swt.widgets.DirectoryDialog.openNativeChooserDialog(DirectoryDialog.java:141)\r\n\tat org.eclipse.swt.widgets.DirectoryDialog.open(DirectoryDialog.java:125)\r\n\tat org.eclipse.m2e.core.ui.internal.wizards.MavenImportWizardPage.lambda$0(MavenImportWizardPage.java:173)\r\n\tat org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)\r\n\tat org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:5796)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1529)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:5025)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4477)\r\n\tat org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\r\n\tat org.eclipse.jface.window.Window.open(Window.java:799)\r\n\tat org.eclipse.ui.internal.handlers.WizardHandler$Import.executeHandler(WizardHandler.java:153)\r\n\tat org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:283)\r\n\tat org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\r\n\tat org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:317)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:251)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\r\n\tat org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\r\n\tat org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:485)\r\n\tat org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\r\n\tat org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:389)\r\n\tat org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:366)\r\n\tat org.eclipse.ui.internal.views.helpers.EmptyWorkspaceHelper$ImportAction.run(EmptyWorkspaceHelper.java:383)\r\n\tat org.eclipse.ui.internal.views.helpers.EmptyWorkspaceHelper$1.linkActivated(EmptyWorkspaceHelper.java:281)\r\n\tat org.eclipse.ui.forms.widgets.AbstractHyperlink.handleActivate(AbstractHyperlink.java:215)\r\n\tat org.eclipse.ui.forms.widgets.AbstractHyperlink.handleMouseUp(AbstractHyperlink.java:309)\r\n\tat org.eclipse.ui.forms.widgets.AbstractHyperlink.lambda$3(AbstractHyperlink.java:117)\r\n\tat org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\r\n\tat org.eclipse.swt.widgets.Display.sendEvent(Display.java:5796)\r\n\tat org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1529)\r\n\tat org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:5025)\r\n\tat org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4477)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\r\n\tat org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\r\n\tat org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1440)\r\n\r\n```\r\n```\r\n    **JVM terminated. Exit code=127**\r\n/home/cipher/Downloads/sts-4.16.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.linux.x86_64_17.0.4.v20220903-1038/jre/bin/java\r\n--add-opens=java.base/java.io=ALL-UNNAMED\r\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n--add-opens=java.base/java.net=ALL-UNNAMED\r\n--add-opens=java.base/sun.security.ssl=ALL-UNNAMED\r\n-Dosgi.requiredJavaVersion=11\r\n-Dosgi.dataAreaRequiresExplicitInit=true\r\n-Xms256m\r\n-Xmx2048m\r\n--illegal-access=permit\r\n--add-modules=ALL-SYSTEM\r\n-jar /home/cipher/Downloads/sts-4.16.0.RELEASE//plugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\r\n-os linux\r\n-ws gtk\r\n-arch x86_64\r\n-showsplash\r\n-launcher /home/cipher/Downloads/sts-4.16.0.RELEASE/SpringToolSuite4\r\n-name SpringToolSuite4\r\n--launcher.library /home/cipher/Downloads/sts-4.16.0.RELEASE//plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.2.600.v20220720-1916/eclipse_11701.so\r\n-startup /home/cipher/Downloads/sts-4.16.0.RELEASE//plugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\r\n--launcher.overrideVmargs\r\n-exitdata 2f8008\r\n-product org.springframework.boot.ide.branding.sts4\r\n-vm /home/cipher/Downloads/sts-4.16.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.linux.x86_64_17.0.4.v20220903-1038/jre/bin/java\r\n-vmargs\r\n--add-opens=java.base/java.io=ALL-UNNAMED\r\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n--add-opens=java.base/java.net=ALL-UNNAMED\r\n--add-opens=java.base/sun.security.ssl=ALL-UNNAMED\r\n-Dosgi.requiredJavaVersion=11\r\n-Dosgi.dataAreaRequiresExplicitInit=true\r\n-Xms256m\r\n-Xmx2048m\r\n--illegal-access=permit\r\n--add-modules=ALL-SYSTEM\r\n-jar /home/cipher/Downloads/sts-4.16.0.RELEASE//plugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar \r\n\r\n```\r\n\r\n","title":"eclipse/STS giving &#39;no more handles&#39; and &#39;JVM terminated. Exit code=127&#39; errors","body":"<pre><code>**the same errors happen in eclipse &amp; STS both(tried 3 versions)\n</code></pre>\n<p>$ java -version\nopenjdk version &quot;1.8.0_292&quot;\nOpenJDK Runtime Environment (build 1.8.0_292-8u292-b10-0ubuntu1~16.04.1-b10)\nOpenJDK 64-Bit Server VM (build 25.292-b10, mixed mode)</p>\n<p>$ javac -version\njavac 1.8.0_292</p>\n<p>$ uname -a\nLinux mypc 4.15.0-142-generic #146~16.04.1-Ubuntu SMP Tue Apr 13 09:27:15 UTC 2021 x86_64 x86_64 x86_64 GNU/Linux</p>\n<p>Spring Tool Suite 4\nVersion: 4.16.0.RELEASE\nBuild Id: 202209151144</p>\n<p>Eclipse IDE for Java Developers (includes Incubating components)\nVersion: 2020-12 (4.18.0)\nBuild id: 20201210-1552</p>\n<p>error1: 'JVM terminated. Exit code=127' while right clicking on a project\nerror2: 'Unhandled event loop exception' while trying to browse a directory for purposes like importing a project, adding JREl's etc</p>\n<pre><code>\n**org.eclipse.swt.SWTError: No more handles**\n\neclipse.buildId=4.16.0.202209151144\njava.version=17.0.4.1\njava.vendor=Eclipse Adoptium\nBootLoader constants: OS=linux, ARCH=x86_64, WS=gtk, NL=en_IN\nFramework arguments:  -product org.springframework.boot.ide.branding.sts4\nCommand-line arguments:  -os linux -ws gtk -arch x86_64 -product org.springframework.boot.ide.branding.sts4\n\norg.eclipse.ui\nError\nSun Nov 13 06:47:48 IST 2022\nUnhandled event loop exception\n\norg.eclipse.swt.SWTError: No more handles\n    at org.eclipse.swt.SWT.error(SWT.java:4944)\n    at org.eclipse.swt.SWT.error(SWT.java:4833)\n    at org.eclipse.swt.SWT.error(SWT.java:4804)\n    at org.eclipse.swt.widgets.Dialog.error(Dialog.java:202)\n    at org.eclipse.swt.widgets.DirectoryDialog.openNativeChooserDialog(DirectoryDialog.java:141)\n    at org.eclipse.swt.widgets.DirectoryDialog.open(DirectoryDialog.java:125)\n    at org.eclipse.m2e.core.ui.internal.wizards.MavenImportWizardPage.lambda$0(MavenImportWizardPage.java:173)\n    at org.eclipse.swt.events.SelectionListener$1.widgetSelected(SelectionListener.java:84)\n    at org.eclipse.swt.widgets.TypedListener.handleEvent(TypedListener.java:252)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:5796)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1529)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:5025)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4477)\n    at org.eclipse.jface.window.Window.runEventLoop(Window.java:823)\n    at org.eclipse.jface.window.Window.open(Window.java:799)\n    at org.eclipse.ui.internal.handlers.WizardHandler$Import.executeHandler(WizardHandler.java:153)\n    at org.eclipse.ui.internal.handlers.WizardHandler.execute(WizardHandler.java:283)\n    at org.eclipse.ui.internal.handlers.HandlerProxy.execute(HandlerProxy.java:283)\n    at org.eclipse.ui.internal.handlers.E4HandlerProxy.execute(E4HandlerProxy.java:97)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.e4.core.internal.di.MethodRequestor.execute(MethodRequestor.java:58)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invokeUsingClass(InjectorImpl.java:317)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.invoke(InjectorImpl.java:251)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.invoke(ContextInjectionFactory.java:173)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceHandler.execute(HandlerServiceHandler.java:156)\n    at org.eclipse.core.commands.Command.executeWithChecks(Command.java:488)\n    at org.eclipse.core.commands.ParameterizedCommand.executeWithChecks(ParameterizedCommand.java:485)\n    at org.eclipse.e4.core.commands.internal.HandlerServiceImpl.executeHandler(HandlerServiceImpl.java:213)\n    at org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:389)\n    at org.eclipse.ui.internal.handlers.LegacyHandlerService.executeCommand(LegacyHandlerService.java:366)\n    at org.eclipse.ui.internal.views.helpers.EmptyWorkspaceHelper$ImportAction.run(EmptyWorkspaceHelper.java:383)\n    at org.eclipse.ui.internal.views.helpers.EmptyWorkspaceHelper$1.linkActivated(EmptyWorkspaceHelper.java:281)\n    at org.eclipse.ui.forms.widgets.AbstractHyperlink.handleActivate(AbstractHyperlink.java:215)\n    at org.eclipse.ui.forms.widgets.AbstractHyperlink.handleMouseUp(AbstractHyperlink.java:309)\n    at org.eclipse.ui.forms.widgets.AbstractHyperlink.lambda$3(AbstractHyperlink.java:117)\n    at org.eclipse.swt.widgets.EventTable.sendEvent(EventTable.java:89)\n    at org.eclipse.swt.widgets.Display.sendEvent(Display.java:5796)\n    at org.eclipse.swt.widgets.Widget.sendEvent(Widget.java:1529)\n    at org.eclipse.swt.widgets.Display.runDeferredEvents(Display.java:5025)\n    at org.eclipse.swt.widgets.Display.readAndDispatch(Display.java:4477)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine$5.run(PartRenderingEngine.java:1155)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.e4.ui.internal.workbench.swt.PartRenderingEngine.run(PartRenderingEngine.java:1046)\n    at org.eclipse.e4.ui.internal.workbench.E4Workbench.createAndRunUI(E4Workbench.java:155)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:643)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:550)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:171)\n    at org.eclipse.ui.internal.ide.application.IDEApplication.start(IDEApplication.java:152)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\n\n</code></pre>\n<pre><code>    **JVM terminated. Exit code=127**\n/home/cipher/Downloads/sts-4.16.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.linux.x86_64_17.0.4.v20220903-1038/jre/bin/java\n--add-opens=java.base/java.io=ALL-UNNAMED\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n--add-opens=java.base/java.net=ALL-UNNAMED\n--add-opens=java.base/sun.security.ssl=ALL-UNNAMED\n-Dosgi.requiredJavaVersion=11\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Xms256m\n-Xmx2048m\n--illegal-access=permit\n--add-modules=ALL-SYSTEM\n-jar /home/cipher/Downloads/sts-4.16.0.RELEASE//plugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\n-os linux\n-ws gtk\n-arch x86_64\n-showsplash\n-launcher /home/cipher/Downloads/sts-4.16.0.RELEASE/SpringToolSuite4\n-name SpringToolSuite4\n--launcher.library /home/cipher/Downloads/sts-4.16.0.RELEASE//plugins/org.eclipse.equinox.launcher.gtk.linux.x86_64_1.2.600.v20220720-1916/eclipse_11701.so\n-startup /home/cipher/Downloads/sts-4.16.0.RELEASE//plugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar\n--launcher.overrideVmargs\n-exitdata 2f8008\n-product org.springframework.boot.ide.branding.sts4\n-vm /home/cipher/Downloads/sts-4.16.0.RELEASE//plugins/org.eclipse.justj.openjdk.hotspot.jre.full.linux.x86_64_17.0.4.v20220903-1038/jre/bin/java\n-vmargs\n--add-opens=java.base/java.io=ALL-UNNAMED\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n--add-opens=java.base/java.net=ALL-UNNAMED\n--add-opens=java.base/sun.security.ssl=ALL-UNNAMED\n-Dosgi.requiredJavaVersion=11\n-Dosgi.dataAreaRequiresExplicitInit=true\n-Xms256m\n-Xmx2048m\n--illegal-access=permit\n--add-modules=ALL-SYSTEM\n-jar /home/cipher/Downloads/sts-4.16.0.RELEASE//plugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar \n\n</code></pre>\n"},{"tags":["java","swing","keylistener","paintcomponent"],"answers":[{"tags":[],"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668302237,"creation_date":1668300535,"answer_id":74417663,"question_id":74417357,"body_markdown":"1) Add a `Color` instance variable to `class Circle`. In the example, I called it &quot;currentColor&quot;. I set it to `Color.black` in the constructor.\r\n\r\n2) Save a `Color` with each item in `points`. One way to do that is to have a parallel array. I don&#39;t like tightly coupled arrays, so I created a helper class in my example. \r\n\r\n`````\r\nclass PointAndColor { \r\n     Point thePoint;\r\n     Color theColor;\r\n     PointAndColor () { \r\n         theColor = Color.black;\r\n         thePoint = new Point (0,0);            \r\n     }\r\n        \r\n     PointAndColor (Point point, Color color) { \r\n          theColor = color;\r\n          thePoint = point;\r\n     }\r\n        \r\n     Color getColor () { return theColor; }\r\n     Point getPoint () { return thePoint; }\r\n }\r\n\r\n`````\r\nI changed the generic type of the List of Points:\r\n   \r\n      private List&lt;PointAndColor&gt; points;\r\n      private Color currentColor;\r\n\r\nExample of saving the color with the point:\r\n\r\n    @Override\r\n    public void mouseClicked(MouseEvent e) {\r\n        //Prints the coordinates of the clicks\r\n        System.out.println(&quot;X: &quot; + e.getX() + &quot;  Y: &quot; + e.getY());\r\n        Point pt = new Point(e.getX(), e.getY());\r\n        points.add (new PointAndColor (pt, currentColor));\r\n        repaint();\r\n    }\r\n\r\n3) Set the current color in the `keyTyped` method\r\n\r\n       @Override\r\n        public void keyTyped(KeyEvent e) {           \r\n            \r\n           switch (e.getKeyChar()) {\r\n               case &#39;r&#39;:\r\n                   currentColor = Color.red;\r\n                   break;\r\n\r\n               case &#39;g&#39;:\r\n                   currentColor = Color.green;\r\n                   break;\r\n\r\n               case &#39;b&#39;:\r\n                   currentColor = Color.blue;\r\n                  break;\r\n\r\n               case &#39;l&#39;:\r\n                   currentColor = Color.black;\r\n                   break;\r\n\r\n               default:\r\n                   break;\r\n        }\r\n        System.out.println (&quot;Color set to &quot; + currentColor);\r\n    }  \r\n\r\n\r\n4) Retrieve the `Color` with the `Point`:\r\n\r\n`````\r\n     \r\n    protected void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n        int count = points.size();\r\n        for (int i = 0; i &lt; count; i++) {\r\n            Point pt0 = points.get(i).getPoint();\r\n            g.setColor (points.get(i).getColor());\r\n            g.fillOval(pt0.x - 10, pt0.y - 11, 20, 20);\r\n            if (i &gt; 0) {\r\n                Point pt1 = points.get(i - 1).getPoint();\r\n                g.drawLine(pt1.x, pt1.y, pt0.x, pt0.y);\r\n            }\r\n        }\r\n    }\r\n`````\r\n\r\n","title":"How do I set a color for g.setColor(); when drawing circles using a KeyListener?","body":"<ol>\n<li><p>Add a <code>Color</code> instance variable to <code>class Circle</code>. In the example, I called it &quot;currentColor&quot;. I set it to <code>Color.black</code> in the constructor.</p>\n</li>\n<li><p>Save a <code>Color</code> with each item in <code>points</code>. One way to do that is to have a parallel array. I don't like tightly coupled arrays, so I created a helper class in my example.</p>\n</li>\n</ol>\n<pre><code>class PointAndColor { \n     Point thePoint;\n     Color theColor;\n     PointAndColor () { \n         theColor = Color.black;\n         thePoint = new Point (0,0);            \n     }\n        \n     PointAndColor (Point point, Color color) { \n          theColor = color;\n          thePoint = point;\n     }\n        \n     Color getColor () { return theColor; }\n     Point getPoint () { return thePoint; }\n }\n\n</code></pre>\n<p>I changed the generic type of the List of Points:</p>\n<pre><code>  private List&lt;PointAndColor&gt; points;\n  private Color currentColor;\n</code></pre>\n<p>Example of saving the color with the point:</p>\n<pre><code>@Override\npublic void mouseClicked(MouseEvent e) {\n    //Prints the coordinates of the clicks\n    System.out.println(&quot;X: &quot; + e.getX() + &quot;  Y: &quot; + e.getY());\n    Point pt = new Point(e.getX(), e.getY());\n    points.add (new PointAndColor (pt, currentColor));\n    repaint();\n}\n</code></pre>\n<ol start=\"3\">\n<li><p>Set the current color in the <code>keyTyped</code> method</p>\n<pre><code>@Override\n public void keyTyped(KeyEvent e) {           \n\n    switch (e.getKeyChar()) {\n        case 'r':\n            currentColor = Color.red;\n            break;\n\n        case 'g':\n            currentColor = Color.green;\n            break;\n\n        case 'b':\n            currentColor = Color.blue;\n           break;\n\n        case 'l':\n            currentColor = Color.black;\n            break;\n\n        default:\n            break;\n }\n System.out.println (&quot;Color set to &quot; + currentColor);\n</code></pre>\n<p>}</p>\n</li>\n<li><p>Retrieve the <code>Color</code> with the <code>Point</code>:</p>\n</li>\n</ol>\n<pre><code>     \n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        int count = points.size();\n        for (int i = 0; i &lt; count; i++) {\n            Point pt0 = points.get(i).getPoint();\n            g.setColor (points.get(i).getColor());\n            g.fillOval(pt0.x - 10, pt0.y - 11, 20, 20);\n            if (i &gt; 0) {\n                Point pt1 = points.get(i - 1).getPoint();\n                g.drawLine(pt1.x, pt1.y, pt0.x, pt0.y);\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"display_name":"user20483070"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74417663,"answer_count":1,"score":1,"last_activity_date":1668307588,"creation_date":1668295733,"question_id":74417357,"body_markdown":"I have code which will draw circles depending on where the user clicks, and then will draw lines connecting those circles. I want to have the color of the circles and lines be set as Black by default, but the user can type either r,b,g,l (red, blue,green,black) to set the color of the NEXT circle and lines being drawn. What would I have to put inside of my KeyTyped method? I have if/else statements set up for whenever the user enters r,b,g, or l.\r\n\r\n```\r\nimport java.awt.Color;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.Graphics;\r\nimport java.awt.Point;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport java.awt.event.MouseEvent;\r\nimport java.awt.event.MouseListener;\r\nimport java.awt.event.MouseMotionListener;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\n\r\npublic class Circle extends JPanel implements MouseListener, KeyListener, MouseMotionListener {\r\n\r\n\tprivate List&lt;Point&gt; points;\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tEventQueue.invokeLater(() -&gt; new Circle().buildAndDisplayGui());\r\n\t}\r\n\r\n\tpublic Circle() {\r\n\t\tpoints = new ArrayList&lt;&gt;();\r\n\t\tsetPreferredSize(new Dimension(500, 500));\r\n\t\tsetBackground(Color.white);\r\n\t\taddMouseListener(this);\r\n\t}\r\n\r\n\tprivate void buildAndDisplayGui() {\r\n\t\tJFrame frame = new JFrame();\r\n\t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tframe.add(this);\r\n\t\tframe.pack();\r\n\t\tframe.setLocationByPlatform(true);\r\n\t\tframe.setVisible(true);\r\n\t\tframe.addKeyListener(this);\r\n\t}\r\n\r\n\tprotected void paintComponent(Graphics g) {\r\n\t\tsuper.paintComponent(g);\r\n\t\tg.setColor(Color.black);\r\n\t\tint count = points.size();\r\n\t\tfor (int i = 0; i &lt; count; i++) {\r\n\t\t\tPoint pt0 = points.get(i);\r\n\t\t\tg.fillOval(pt0.x - 10, pt0.y - 11, 20, 20);\r\n\t\t\tif (i &gt; 0) {\r\n\t\t\t\tPoint pt1 = points.get(i - 1);\r\n\t\t\t\tg.drawLine(pt1.x, pt1.y, pt0.x, pt0.y);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t//Prints the coordinates of the clicks\r\n\t\tSystem.out.println(&quot;X: &quot; + e.getX() + &quot;  Y: &quot; + e.getY());\r\n\t\tPoint pt = new Point(e.getX(), e.getY());\r\n\t\tpoints.add(pt);\r\n\t\trepaint();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t// Do nothing.\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseExited(MouseEvent e) {\r\n\t\t// Do nothing.\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mousePressed(MouseEvent e) {\r\n\t\t// Do nothing.\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t// Do nothing.\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseDragged(MouseEvent e) {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void mouseMoved(MouseEvent e) {\r\n\r\n\t}\r\n\r\n\t@Override\r\n\t\tpublic void keyTyped(KeyEvent e) {\r\n\t\r\n\t if (e.getKeyChar() == &#39;r&#39;) { \r\n\t\t \r\n\t\t//Sets the color of the next circle and lines to red\r\n\t\r\n\t \t} else {\r\n\t  \r\n\t \t\tif (e.getKeyChar() == &#39;b&#39;) { \r\n\t \t\t\t\r\n\t \t\t\t//Sets the color of the next circle and lines to blue\r\n\t  \r\n\t \t\t\t} else {\r\n\t  \r\n\t \t\t\t\tif (e.getKeyChar() == &#39;g&#39;) { \r\n\t \t\t\t\t\t\r\n\t \t\t\t\t\t//Sets the color of the next circle and lines to green\r\n\t  \r\n\t \t\t\t\t\t} else {\r\n\t  \r\n\t \t\t\t\t\t\tif (e.getKeyChar() == &#39;l&#39;) { \r\n\t \t\t\t\t\t\t\t\r\n\t \t\t\t\t\t\t\t//Sets the color of the next circle and lines to black\r\n\t \t\t\t\t\t\t\r\n\t \t\t\t\t\t\t} \r\n\t \t\t\t\t\t} \r\n\t \t\t\t\t} \r\n\t \t\t\t} \r\n\t \t\t}\r\n\t \r\n\r\n\t@Override\r\n\tpublic void keyPressed(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void keyReleased(KeyEvent e) {\r\n\t\t// TODO Auto-generated method stub\r\n\r\n\t}\r\n}\r\n```\r\n\r\nCurrent output:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/HSWpN.jpg)](https://i.stack.imgur.com/HSWpN.jpg)\r\n\r\nDesired Output (If the user presses “r” after two mouse clicks and the does two more mouse clicks):\r\n\r\n[![enter image description here](https://i.stack.imgur.com/dSjuV.jpg)](https://i.stack.imgur.com/dSjuV.jpg)","title":"How do I set a color for g.setColor(); when drawing circles using a KeyListener?","body":"<p>I have code which will draw circles depending on where the user clicks, and then will draw lines connecting those circles. I want to have the color of the circles and lines be set as Black by default, but the user can type either r,b,g,l (red, blue,green,black) to set the color of the NEXT circle and lines being drawn. What would I have to put inside of my KeyTyped method? I have if/else statements set up for whenever the user enters r,b,g, or l.</p>\n<pre><code>import java.awt.Color;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.Graphics;\nimport java.awt.Point;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport java.awt.event.MouseEvent;\nimport java.awt.event.MouseListener;\nimport java.awt.event.MouseMotionListener;\nimport java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Circle extends JPanel implements MouseListener, KeyListener, MouseMotionListener {\n\n    private List&lt;Point&gt; points;\n\n    public static void main(String[] args) {\n\n        EventQueue.invokeLater(() -&gt; new Circle().buildAndDisplayGui());\n    }\n\n    public Circle() {\n        points = new ArrayList&lt;&gt;();\n        setPreferredSize(new Dimension(500, 500));\n        setBackground(Color.white);\n        addMouseListener(this);\n    }\n\n    private void buildAndDisplayGui() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.add(this);\n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n        frame.addKeyListener(this);\n    }\n\n    protected void paintComponent(Graphics g) {\n        super.paintComponent(g);\n        g.setColor(Color.black);\n        int count = points.size();\n        for (int i = 0; i &lt; count; i++) {\n            Point pt0 = points.get(i);\n            g.fillOval(pt0.x - 10, pt0.y - 11, 20, 20);\n            if (i &gt; 0) {\n                Point pt1 = points.get(i - 1);\n                g.drawLine(pt1.x, pt1.y, pt0.x, pt0.y);\n            }\n        }\n    }\n\n    @Override\n    public void mouseClicked(MouseEvent e) {\n        //Prints the coordinates of the clicks\n        System.out.println(&quot;X: &quot; + e.getX() + &quot;  Y: &quot; + e.getY());\n        Point pt = new Point(e.getX(), e.getY());\n        points.add(pt);\n        repaint();\n    }\n\n    @Override\n    public void mouseEntered(MouseEvent e) {\n        // Do nothing.\n    }\n\n    @Override\n    public void mouseExited(MouseEvent e) {\n        // Do nothing.\n    }\n\n    @Override\n    public void mousePressed(MouseEvent e) {\n        // Do nothing.\n    }\n\n    @Override\n    public void mouseReleased(MouseEvent e) {\n        // Do nothing.\n    }\n\n    @Override\n    public void mouseDragged(MouseEvent e) {\n\n    }\n\n    @Override\n    public void mouseMoved(MouseEvent e) {\n\n    }\n\n    @Override\n        public void keyTyped(KeyEvent e) {\n    \n     if (e.getKeyChar() == 'r') { \n         \n        //Sets the color of the next circle and lines to red\n    \n        } else {\n      \n            if (e.getKeyChar() == 'b') { \n                \n                //Sets the color of the next circle and lines to blue\n      \n                } else {\n      \n                    if (e.getKeyChar() == 'g') { \n                        \n                        //Sets the color of the next circle and lines to green\n      \n                        } else {\n      \n                            if (e.getKeyChar() == 'l') { \n                                \n                                //Sets the color of the next circle and lines to black\n                            \n                            } \n                        } \n                    } \n                } \n            }\n     \n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        // TODO Auto-generated method stub\n\n    }\n}\n</code></pre>\n<p>Current output:</p>\n<p><a href=\"https://i.stack.imgur.com/HSWpN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HSWpN.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Desired Output (If the user presses “r” after two mouse clicks and the does two more mouse clicks):</p>\n<p><a href=\"https://i.stack.imgur.com/dSjuV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dSjuV.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","junit","mockito"],"comments":[{"owner":{"account_id":12638355,"reputation":9413,"user_id":9186783,"display_name":"cameron1024"},"score":1,"creation_date":1579644107,"post_id":59849780,"comment_id":105833204,"body_markdown":"I believe you can use insufficient disk space on a certain drive to simulate this, but a more important question is: do you really need mkdirs to return false?","body":"I believe you can use insufficient disk space on a certain drive to simulate this, but a more important question is: do you really need mkdirs to return false?"},{"owner":{"account_id":4072211,"reputation":2941,"user_id":3344832,"accept_rate":50,"display_name":"Mohamed Ennahdi El Idrissi"},"score":0,"creation_date":1579644169,"post_id":59849780,"comment_id":105833232,"body_markdown":"Yes, I need false. Otherwise, I would have to change the business logic, which is not the intend of TU.","body":"Yes, I need false. Otherwise, I would have to change the business logic, which is not the intend of TU."},{"owner":{"account_id":12794544,"reputation":1137,"user_id":9257991,"display_name":"Riz"},"score":1,"creation_date":1579644800,"post_id":59849780,"comment_id":105833465,"body_markdown":"why not a path in linux where you don&#39;t have permission to write to disk?( I hope  have not misunderstood the question)","body":"why not a path in linux where you don&#39;t have permission to write to disk?( I hope  have not misunderstood the question)"},{"owner":{"account_id":9771680,"reputation":325,"user_id":7243456,"display_name":"mehdi maick"},"score":2,"creation_date":1579646651,"post_id":59849780,"comment_id":105834136,"body_markdown":"calling `File.mkdirs()` on an existing file will return false.","body":"calling <code>File.mkdirs()</code> on an existing file will return false."},{"owner":{"account_id":4072211,"reputation":2941,"user_id":3344832,"accept_rate":50,"display_name":"Mohamed Ennahdi El Idrissi"},"score":1,"creation_date":1579696144,"post_id":59849780,"comment_id":105850932,"body_markdown":"I solved the problem using @Riz: `new File(System.getProperty(&quot;user.home&quot;) + &quot;/..&quot;);`","body":"I solved the problem using @Riz: <code>new File(System.getProperty(&quot;user.home&quot;) + &quot;&#47;..&quot;);</code>"}],"owner":{"account_id":4072211,"reputation":2941,"user_id":3344832,"accept_rate":50,"display_name":"Mohamed Ennahdi El Idrissi"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668305936,"creation_date":1579643919,"question_id":59849780,"body_markdown":"I need `mkdirs` to return false in a specific test unit, and since I cannot mock `File` class in Java using Mockito 1 (prior to version 2.0) using JUnit, I used a trick which is to use a valid path name, but with inexistent drive letter (P: for example) under Windows.\r\n\r\nUnfortunatly, this trick didn&#39;t work with Linux, as I need to throw an Exception (that&#39;s what the test unit is intended to do).\r\n\r\nHow I can obtain `false` when calling `mkdirs`?","title":"Provoke File.mkdirs() to return false in Linux","body":"<p>I need <code>mkdirs</code> to return false in a specific test unit, and since I cannot mock <code>File</code> class in Java using Mockito 1 (prior to version 2.0) using JUnit, I used a trick which is to use a valid path name, but with inexistent drive letter (P: for example) under Windows.</p>\n<p>Unfortunatly, this trick didn't work with Linux, as I need to throw an Exception (that's what the test unit is intended to do).</p>\n<p>How I can obtain <code>false</code> when calling <code>mkdirs</code>?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1668258144,"post_id":74412106,"comment_id":131364356,"body_markdown":"Can you try without this line: driver.switchTo().window(newTb.get(0)).close();   You are switching to the old context and then closing it and driver is not pointing now to the new tab.","body":"Can you try without this line: driver.switchTo().window(newTb.get(0)).close();   You are switching to the old context and then closing it and driver is not pointing now to the new tab."},{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1668307685,"post_id":74412106,"comment_id":131372850,"body_markdown":"Do you need to enter the email twice? Is the new url static or dynamic?","body":"Do you need to enter the email twice? Is the new url static or dynamic?"},{"owner":{"account_id":26908842,"reputation":1,"user_id":20484743,"display_name":"Jane"},"score":0,"creation_date":1668312158,"post_id":74412106,"comment_id":131373182,"body_markdown":"@JRichardsz yes first to get the magic link second for login to provided email account","body":"@JRichardsz yes first to get the magic link second for login to provided email account"},{"owner":{"account_id":26908842,"reputation":1,"user_id":20484743,"display_name":"Jane"},"score":0,"creation_date":1668312260,"post_id":74412106,"comment_id":131373200,"body_markdown":"@AlexKaramfilov Tried without driver.switchTo().window(newTb.get(0)).close(); but result was the same.","body":"@AlexKaramfilov Tried without driver.switchTo().window(newTb.get(0)).close(); but result was the same."},{"owner":{"account_id":26908842,"reputation":1,"user_id":20484743,"display_name":"Jane"},"score":0,"creation_date":1668312620,"post_id":74412106,"comment_id":131373229,"body_markdown":"This scenario is like this.. 1. Load a web page\n2. Enter your email address and click on the button\n3. Load another web page to open Gmail (same tab)\n4. Click on that button user redirect to a new tab with a Gmail account login\n5. Enter the email address \n6. Click the Next button\n7. Load password entering UI but when I print the URL of the web page still receive the username entered web page URL. because of that, I cannot find the elements of that page\n(This password enter web page URL is not static it&#39;s a dynamic one so I cannot set through my script)","body":"This scenario is like this.. 1. Load a web page 2. Enter your email address and click on the button 3. Load another web page to open Gmail (same tab) 4. Click on that button user redirect to a new tab with a Gmail account login 5. Enter the email address  6. Click the Next button 7. Load password entering UI but when I print the URL of the web page still receive the username entered web page URL. because of that, I cannot find the elements of that page (This password enter web page URL is not static it&#39;s a dynamic one so I cannot set through my script)"}],"owner":{"account_id":26908842,"reputation":1,"user_id":20484743,"display_name":"Jane"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668305226,"creation_date":1668249008,"question_id":74412106,"body_markdown":"In selenium I want to write test script to sign up process to a specific website.\r\n\r\nThe process is: enter your email address -&gt; get magic link -&gt; verify received email -&gt; then sign up.\r\n\r\nMy question is: when I enter my email address, then click a button open a new tab on the browser to enter my email address and password to sign in my gmail account. For now I can enter my email address, then click Next button using the script. But in my case after click on the next button loading a new web page to enter my password but when I try to access the password field displaying \r\n\r\n&gt; Expected condition failed: waiting for element to be clickable: By.cssSelector: input[type=password] (tried for 1 second(s) with 500 milliseconds interval)&quot; \r\n\r\nHow do I get the new web page url and access password element? I have already tried implicitly/explicitly wait. \r\n\r\n```\r\nArrayList&lt;String&gt; newTb = new ArrayList&lt;String&gt;(driver.getWindowHandles());\r\ndriver.switchTo().window(newTb.get(1));   \r\n\t\t      \r\nSystem.out.println(&quot;---&gt; 1 &quot; +driver.getCurrentUrl());\r\n\t\t      driver.manage().timeouts().implicitlyWait(Duration.ofMillis(500));\r\nWebElement email = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;identifierId\\&quot;]&quot;));\r\nemail.sendKeys(&quot;email&quot;);\r\n\t\t      driver.manage().timeouts().implicitlyWait(Duration.ofMillis(500));\r\nWebElement nextBtn = driver.findElement(By.id(&quot;identifierNext&quot;));\r\nnextBtn.click();\r\ndriver.switchTo().window(newTb.get(0)).close();   \r\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofMillis(1000));\r\nwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input[type=password]&quot;)));\r\ndriver.findElement(By.cssSelector(&quot;input[type=password]&quot;)).sendKeys(&quot;your password&quot;);\r\n```\r\n","title":"How to retrieve updated browser URL?","body":"<p>In selenium I want to write test script to sign up process to a specific website.</p>\n<p>The process is: enter your email address -&gt; get magic link -&gt; verify received email -&gt; then sign up.</p>\n<p>My question is: when I enter my email address, then click a button open a new tab on the browser to enter my email address and password to sign in my gmail account. For now I can enter my email address, then click Next button using the script. But in my case after click on the next button loading a new web page to enter my password but when I try to access the password field displaying</p>\n<blockquote>\n<p>Expected condition failed: waiting for element to be clickable: By.cssSelector: input[type=password] (tried for 1 second(s) with 500 milliseconds interval)&quot;</p>\n</blockquote>\n<p>How do I get the new web page url and access password element? I have already tried implicitly/explicitly wait.</p>\n<pre><code>ArrayList&lt;String&gt; newTb = new ArrayList&lt;String&gt;(driver.getWindowHandles());\ndriver.switchTo().window(newTb.get(1));   \n              \nSystem.out.println(&quot;---&gt; 1 &quot; +driver.getCurrentUrl());\n              driver.manage().timeouts().implicitlyWait(Duration.ofMillis(500));\nWebElement email = driver.findElement(By.xpath(&quot;//*[@id=\\&quot;identifierId\\&quot;]&quot;));\nemail.sendKeys(&quot;email&quot;);\n              driver.manage().timeouts().implicitlyWait(Duration.ofMillis(500));\nWebElement nextBtn = driver.findElement(By.id(&quot;identifierNext&quot;));\nnextBtn.click();\ndriver.switchTo().window(newTb.get(0)).close();   \nWebDriverWait wait = new WebDriverWait(driver, Duration.ofMillis(1000));\nwait.until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;input[type=password]&quot;)));\ndriver.findElement(By.cssSelector(&quot;input[type=password]&quot;)).sendKeys(&quot;your password&quot;);\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":4912982,"reputation":14853,"user_id":3957754,"accept_rate":50,"display_name":"JRichardsz"},"score":0,"creation_date":1668308200,"post_id":74416597,"comment_id":131372895,"body_markdown":"Play a mp3 file is so common. Did you try to research it?","body":"Play a mp3 file is so common. Did you try to research it?"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1668323456,"post_id":74416597,"comment_id":131374320,"body_markdown":"You asked the download manager to put the file in getExternalFilesDir(). So you might have a look there.","body":"You asked the download manager to put the file in getExternalFilesDir(). So you might have a look there."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1668416789,"post_id":74416597,"comment_id":131391221,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"}],"owner":{"account_id":24018652,"reputation":1,"user_id":18001282,"display_name":"Badr_ G9mer"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668304425,"creation_date":1668287195,"question_id":74416597,"body_markdown":"i wanna make small app that i can download an audiofile and then I play it, well know i can download the audiofile but i can not play it because idk how to acces to that mp3 I tried a lot of time but i end up at the same place that i begin here&#39;s ly code :\r\n\r\n    StorageReference storageReference,ref;\r\n        FirebaseStorage firebaseStorage;\r\n        CardView MichaelFranzeseBtn;\r\n        MediaPlayer mediaPlayer;\r\n    \r\n     @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n     MichaelFranzeseBtn = findViewById(R.id.MichaelFranzeseBtn);\r\n    \r\n            MichaelFranzeseBtn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    download();\r\n                }\r\n            });\r\n      }\r\n    public void download(){\r\n    \r\n            storageReference=firebaseStorage.getInstance().getReference();\r\n            ref=storageReference.child(&quot;forest-rain-atmo-fantasy-14435.mp3&quot;);\r\n            ref.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                @Override\r\n                public void onSuccess(Uri uri) { String url = uri.toString();\r\n                    downloadFiles(MainActivity.this,&quot;forest-rain-atmo-fantasy-14435&quot;,&quot;.mp3&quot;,DIRECTORY_DOWNLOADS,url);\r\n                    //    downloadFile();\r\n    \r\n                }\r\n            }).addOnFailureListener(new OnFailureListener() {\r\n                @Override\r\n                public void onFailure(@NonNull Exception e) {\r\n    \r\n                }\r\n            });\r\n    \r\n        }\r\n    \r\n    \r\n        public void downloadFiles(Context context,String fileName,String fileExtension,String destinationDirectory,String url) {\r\n    \r\n            DownloadManager downloadManager = (DownloadManager)context.getSystemService(Context.DOWNLOAD_SERVICE);\r\n            Uri uri = Uri.parse(url);\r\n            DownloadManager.Request request = new DownloadManager.Request(uri);\r\n            request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\r\n            request.setDestinationInExternalFilesDir(context,destinationDirectory,fileName+fileExtension);\r\n            downloadManager.enqueue(request);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"how to play audio file that i download from firebase","body":"<p>i wanna make small app that i can download an audiofile and then I play it, well know i can download the audiofile but i can not play it because idk how to acces to that mp3 I tried a lot of time but i end up at the same place that i begin here's ly code :</p>\n<pre><code>StorageReference storageReference,ref;\n    FirebaseStorage firebaseStorage;\n    CardView MichaelFranzeseBtn;\n    MediaPlayer mediaPlayer;\n\n @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n MichaelFranzeseBtn = findViewById(R.id.MichaelFranzeseBtn);\n\n        MichaelFranzeseBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                download();\n            }\n        });\n  }\npublic void download(){\n\n        storageReference=firebaseStorage.getInstance().getReference();\n        ref=storageReference.child(&quot;forest-rain-atmo-fantasy-14435.mp3&quot;);\n        ref.getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n            @Override\n            public void onSuccess(Uri uri) { String url = uri.toString();\n                downloadFiles(MainActivity.this,&quot;forest-rain-atmo-fantasy-14435&quot;,&quot;.mp3&quot;,DIRECTORY_DOWNLOADS,url);\n                //    downloadFile();\n\n            }\n        }).addOnFailureListener(new OnFailureListener() {\n            @Override\n            public void onFailure(@NonNull Exception e) {\n\n            }\n        });\n\n    }\n\n\n    public void downloadFiles(Context context,String fileName,String fileExtension,String destinationDirectory,String url) {\n\n        DownloadManager downloadManager = (DownloadManager)context.getSystemService(Context.DOWNLOAD_SERVICE);\n        Uri uri = Uri.parse(url);\n        DownloadManager.Request request = new DownloadManager.Request(uri);\n        request.setNotificationVisibility(DownloadManager.Request.VISIBILITY_VISIBLE_NOTIFY_COMPLETED);\n        request.setDestinationInExternalFilesDir(context,destinationDirectory,fileName+fileExtension);\n        downloadManager.enqueue(request);\n\n    }\n}\n</code></pre>\n"},{"tags":["python","java","c#","webapi","flask-restful"],"comments":[{"owner":{"account_id":3722942,"reputation":995,"user_id":3097516,"accept_rate":20,"display_name":"Joe_DM"},"score":0,"creation_date":1668215120,"post_id":74409114,"comment_id":131358876,"body_markdown":"it might be too much to do all in one hit by a small microservice instance. maybe worth looking at options to break it apart into smaller batches or streaming through the file instead of opening it all in memory. https://aws.amazon.com/glue/ AWS Glue suggests that it has ETL functionality. Maybe that could be a good candidate for you. Theres a lot of articles for migrating data into the cloud too which might have some good patterns or concepts that you can copy... Or the other thing I would suggest is if you can change the entire solution to replicate in a more efficient way?","body":"it might be too much to do all in one hit by a small microservice instance. maybe worth looking at options to break it apart into smaller batches or streaming through the file instead of opening it all in memory. <a href=\"https://aws.amazon.com/glue/\" rel=\"nofollow noreferrer\">aws.amazon.com/glue</a> AWS Glue suggests that it has ETL functionality. Maybe that could be a good candidate for you. Theres a lot of articles for migrating data into the cloud too which might have some good patterns or concepts that you can copy... Or the other thing I would suggest is if you can change the entire solution to replicate in a more efficient way?"}],"answers":[{"tags":[],"owner":{"account_id":1841550,"reputation":979,"user_id":1670850,"display_name":"Rogn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668303796,"creation_date":1668303796,"answer_id":74417869,"question_id":74409114,"body_markdown":"The following code streams the data directly from the database, so it should be quite memory efficient and performant. It is using the Sylvan Csv library functionality to create csv records directly from the SqlDataReader.\r\n\r\n        using Microsoft.AspNetCore.Mvc;\r\n        using Microsoft.AspNetCore.Mvc.Infrastructure;\r\n        using Microsoft.Data.SqlClient;\r\n        using Sylvan.Data.Csv;\r\n\r\n        ...\r\n\r\n        [HttpGet(Name = &quot;Get&quot;)]\r\n        public IActionResult Get()\r\n        {\r\n            return new FileCallbackResult(&quot;text/csv&quot;, async (outputStream, _) =&gt;\r\n            {\r\n                using (var myConnection = new SqlConnection(_configuration[&quot;ConnectionStrings&quot;]))\r\n                {\r\n                    var cmdText = &quot;Select * from Employees where runid = 1&quot;;\r\n                    var command = new SqlCommand(cmdText, myConnection);\r\n\r\n                    myConnection.Open();\r\n                    using (SqlDataReader oReader = await command.ExecuteReaderAsync())\r\n                    {\r\n                        var streamWriter = new StreamWriter(outputStream);\r\n                        var csvDataWriter = CsvDataWriter.Create(streamWriter);\r\n                        await csvDataWriter.WriteAsync(oReader);\r\n                    } \r\n                }\r\n            })\r\n            {\r\n                FileDownloadName = &quot;employees.csv&quot;\r\n            };\r\n        }\r\n\r\nFileCallbackResult is from: https://github.com/StephenClearyExamples/AsyncDynamicZip/blob/net6-ziparchive/Example/src/WebApplication/FileCallbackResult.cs\r\n\r\nYou can read about it here: https://blog.stephencleary.com/2016/11/streaming-zip-on-aspnet-core.html ","title":"Replacing BCP utility with microservice","body":"<p>The following code streams the data directly from the database, so it should be quite memory efficient and performant. It is using the Sylvan Csv library functionality to create csv records directly from the SqlDataReader.</p>\n<pre><code>    using Microsoft.AspNetCore.Mvc;\n    using Microsoft.AspNetCore.Mvc.Infrastructure;\n    using Microsoft.Data.SqlClient;\n    using Sylvan.Data.Csv;\n\n    ...\n\n    [HttpGet(Name = &quot;Get&quot;)]\n    public IActionResult Get()\n    {\n        return new FileCallbackResult(&quot;text/csv&quot;, async (outputStream, _) =&gt;\n        {\n            using (var myConnection = new SqlConnection(_configuration[&quot;ConnectionStrings&quot;]))\n            {\n                var cmdText = &quot;Select * from Employees where runid = 1&quot;;\n                var command = new SqlCommand(cmdText, myConnection);\n\n                myConnection.Open();\n                using (SqlDataReader oReader = await command.ExecuteReaderAsync())\n                {\n                    var streamWriter = new StreamWriter(outputStream);\n                    var csvDataWriter = CsvDataWriter.Create(streamWriter);\n                    await csvDataWriter.WriteAsync(oReader);\n                } \n            }\n        })\n        {\n            FileDownloadName = &quot;employees.csv&quot;\n        };\n    }\n</code></pre>\n<p>FileCallbackResult is from: <a href=\"https://github.com/StephenClearyExamples/AsyncDynamicZip/blob/net6-ziparchive/Example/src/WebApplication/FileCallbackResult.cs\" rel=\"nofollow noreferrer\">https://github.com/StephenClearyExamples/AsyncDynamicZip/blob/net6-ziparchive/Example/src/WebApplication/FileCallbackResult.cs</a></p>\n<p>You can read about it here: <a href=\"https://blog.stephencleary.com/2016/11/streaming-zip-on-aspnet-core.html\" rel=\"nofollow noreferrer\">https://blog.stephencleary.com/2016/11/streaming-zip-on-aspnet-core.html</a></p>\n"}],"owner":{"account_id":7535614,"reputation":5214,"user_id":5722010,"accept_rate":48,"display_name":"OpenStack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668303796,"creation_date":1668208793,"question_id":74409114,"body_markdown":"My team want to implement a ASP.NET CORE Web API based micro service with a plan to replace [bulk copy program][1] utility. Currently we are using BCP utility to return 200,000 rows with 30 columns. The data is returned in csv format.\r\n\r\nWe created a restful endpoint and using ADO.NET we are connecting to SQL server to extract same volume of data. Here is the code:\r\n\r\n\r\n    using (SqlConnection myConnection = new SqlConnection(con))\r\n                {\r\n                    string oString = &quot;Select * from Employees where runid = 1&quot;;\r\n                    SqlCommand oCmd = new SqlCommand(oString, myConnection);\r\n                      \r\n                    myConnection.Open();\r\n                    using (SqlDataReader oReader = oCmd.ExecuteReader())\r\n                    {\r\n                        while (oReader.Read())\r\n                        {    \r\n                            //Read data here                    \r\n                        }\r\n    \r\n                   }\r\n             }\r\n\r\n\r\nWith this code, I am getting memory exceptions..\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n What is the best way to fix this issue considering in future I will get request to return higher volume of data with more users making simultaneous request.  **I am open to implementing this solution using C#, Java, Python or NodeJs.** \r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/sql/tools/bcp-utility?view=sql-server-ver16","title":"Replacing BCP utility with microservice","body":"<p>My team want to implement a ASP.NET CORE Web API based micro service with a plan to replace <a href=\"https://learn.microsoft.com/en-us/sql/tools/bcp-utility?view=sql-server-ver16\" rel=\"nofollow noreferrer\">bulk copy program</a> utility. Currently we are using BCP utility to return 200,000 rows with 30 columns. The data is returned in csv format.</p>\n<p>We created a restful endpoint and using ADO.NET we are connecting to SQL server to extract same volume of data. Here is the code:</p>\n<pre><code>using (SqlConnection myConnection = new SqlConnection(con))\n            {\n                string oString = &quot;Select * from Employees where runid = 1&quot;;\n                SqlCommand oCmd = new SqlCommand(oString, myConnection);\n                  \n                myConnection.Open();\n                using (SqlDataReader oReader = oCmd.ExecuteReader())\n                {\n                    while (oReader.Read())\n                    {    \n                        //Read data here                    \n                    }\n\n               }\n         }\n</code></pre>\n<p>With this code, I am getting memory exceptions..</p>\n<p>What is the best way to fix this issue considering in future I will get request to return higher volume of data with more users making simultaneous request.  <strong>I am open to implementing this solution using C#, Java, Python or NodeJs.</strong></p>\n"},{"tags":["java","spring-boot","aop","cobol","jparepository"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668300943,"post_id":74417658,"comment_id":131372171,"body_markdown":"&quot;*Can you help me ?*&quot; - Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question) --- &quot;*Or offer others soluction.*&quot; - We are not a code-writing service. --- &quot;*But this is the requirment from customer .*&quot; - Press the customer to explain to you **why** this is the requirement. You are the expert, you need to understand it. If I go to the mechanic, I don&#39;t tell them how to to their job either, I let them do their thing.","body":"&quot;<i>Can you help me ?</i>&quot; - Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a> --- &quot;<i>Or offer others soluction.</i>&quot; - We are not a code-writing service. --- &quot;<i>But this is the requirment from customer .</i>&quot; - Press the customer to explain to you <b>why</b> this is the requirement. You are the expert, you need to understand it. If I go to the mechanic, I don&#39;t tell them how to to their job either, I let them do their thing."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1668301149,"post_id":74417658,"comment_id":131372201,"body_markdown":"On the subject of AOP: Aspects are for cross-cutting concerns. We could use interceptors to intercept the result. But I really do not see the point. I also do not see the point of this solution. This seems to be mixing business or protocol logic with persistence. If it has to be implemented in this way, at least separate the concerns.","body":"On the subject of AOP: Aspects are for cross-cutting concerns. We could use interceptors to intercept the result. But I really do not see the point. I also do not see the point of this solution. This seems to be mixing business or protocol logic with persistence. If it has to be implemented in this way, at least separate the concerns."},{"owner":{"account_id":26914339,"reputation":1,"user_id":20489394,"display_name":"Joseph"},"score":0,"creation_date":1668303109,"post_id":74417658,"comment_id":131372404,"body_markdown":"Because customer want the coding style like cobol. we support cutomer transfer to java from cobol system. To decrease gap between two language, we try to make it easier to understand.","body":"Because customer want the coding style like cobol. we support cutomer transfer to java from cobol system. To decrease gap between two language, we try to make it easier to understand."},{"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"score":0,"creation_date":1668306818,"post_id":74417658,"comment_id":131372766,"body_markdown":"this has nothign to do with AOP","body":"this has nothign to do with AOP"},{"owner":{"account_id":4007390,"reputation":78,"user_id":3301744,"display_name":"ingattex"},"score":0,"creation_date":1668381788,"post_id":74417658,"comment_id":131385215,"body_markdown":"Hi @Joseph, One solution could be to create a base repository and add your custom implementation.  Then, you can use it on your repositories. Check this https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations","body":"Hi @Joseph, One solution could be to create a base repository and add your custom implementation.  Then, you can use it on your repositories. Check this <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"},{"owner":{"account_id":26914339,"reputation":1,"user_id":20489394,"display_name":"Joseph"},"score":0,"creation_date":1668526247,"post_id":74417658,"comment_id":131423880,"body_markdown":"@ingattex But I need to custom all of methods in JpaRepository for all of Repositories.","body":"@ingattex But I need to custom all of methods in JpaRepository for all of Repositories."},{"owner":{"account_id":26914339,"reputation":1,"user_id":20489394,"display_name":"Joseph"},"score":0,"creation_date":1668526276,"post_id":74417658,"comment_id":131423897,"body_markdown":"and dont want programer need to custom it in the future","body":"and dont want programer need to custom it in the future"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1672349818,"post_id":74417658,"comment_id":132274389,"body_markdown":"This has nothing to do with the COBOL programming language.","body":"This has nothing to do with the COBOL programming language."}],"owner":{"account_id":26914339,"reputation":1,"user_id":20489394,"display_name":"Joseph"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668300434,"creation_date":1668300434,"question_id":74417658,"body_markdown":"I have a little strange problem. All the entity in program extends &quot;BaseEntity&quot; and there is a field &quot;resultStatus&quot; in it. \r\nNow I have a requirement need to set value after any &quot;find&quot; methods in JPARepository (like findAll(), findById(),findByIndexAndCode()....).\r\nIf result not null, set resultStatus to &quot;OK&quot;. result is null, set resultStatus to &quot;Warning&quot;. When exception happen, set resultStatus to &quot;Failed&quot;.\r\n\r\nI tried to extends JPARepository and call the method like:\r\n```\r\ndefault List&lt;T&gt; findAll() {\r\n    List&lt;T&gt; entity=null;\r\n    try {\r\n        entity = JpaRepository.super.findAll();    //error here\r\n        if (entity.get(0) != null) {\r\n            entity.get(0).setSqlReturnCode(&quot;OK&quot;);\r\n        } else {\r\n            BaseEntity entity1 = new BaseEntity();\r\n            entity1.setSqlReturnCode(&quot;Warning&quot;);\r\n            entity.add((T) entity1);\r\n        }\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n        BaseEntity entity1 = new BaseEntity();\r\n        entity1.setSqlReturnCode(&quot;Failed&quot;);\r\n        entity.add((T) entity1);\r\n    }\r\n    return entity;\r\n}\r\n```\r\nAnd this solution didn&#39;t work.\r\n\r\nNow I think maybe I can use AOP to catch the result after search JPA, but I dont know what the pointcut is. Can you help me ? Or offer others soluction.\r\n\r\nI know it sound strange beacuse I can use `.length()&#39; `.size()` `.isEmpty()`...to do. But this is the requirment from customer .\r\n\r\nI tried to extends JPARepository with a new interface and call it&#39;s method. But interface looks cant do this just like class.","title":"How to use AOP or others method to set value after JPARepository in spring boot","body":"<p>I have a little strange problem. All the entity in program extends &quot;BaseEntity&quot; and there is a field &quot;resultStatus&quot; in it.\nNow I have a requirement need to set value after any &quot;find&quot; methods in JPARepository (like findAll(), findById(),findByIndexAndCode()....).\nIf result not null, set resultStatus to &quot;OK&quot;. result is null, set resultStatus to &quot;Warning&quot;. When exception happen, set resultStatus to &quot;Failed&quot;.</p>\n<p>I tried to extends JPARepository and call the method like:</p>\n<pre><code>default List&lt;T&gt; findAll() {\n    List&lt;T&gt; entity=null;\n    try {\n        entity = JpaRepository.super.findAll();    //error here\n        if (entity.get(0) != null) {\n            entity.get(0).setSqlReturnCode(&quot;OK&quot;);\n        } else {\n            BaseEntity entity1 = new BaseEntity();\n            entity1.setSqlReturnCode(&quot;Warning&quot;);\n            entity.add((T) entity1);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n        BaseEntity entity1 = new BaseEntity();\n        entity1.setSqlReturnCode(&quot;Failed&quot;);\n        entity.add((T) entity1);\n    }\n    return entity;\n}\n</code></pre>\n<p>And this solution didn't work.</p>\n<p>Now I think maybe I can use AOP to catch the result after search JPA, but I dont know what the pointcut is. Can you help me ? Or offer others soluction.</p>\n<p>I know it sound strange beacuse I can use <code>.length()' </code>.size()<code> </code>.isEmpty()`...to do. But this is the requirment from customer .</p>\n<p>I tried to extends JPARepository with a new interface and call it's method. But interface looks cant do this just like class.</p>\n"},{"tags":["java","date","datetime","time","zoneddatetime"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1553768289,"post_id":55394931,"comment_id":97510488,"body_markdown":"Related: [Unable to obtain ZonedDateTime from TemporalAccessor using DateTimeFormatter and ZonedDateTime in Java 8](https://stackoverflow.com/questions/23596530/unable-to-obtain-zoneddatetime-from-temporalaccessor-using-datetimeformatter-and)","body":"Related: <a href=\"https://stackoverflow.com/questions/23596530/unable-to-obtain-zoneddatetime-from-temporalaccessor-using-datetimeformatter-and\">Unable to obtain ZonedDateTime from TemporalAccessor using DateTimeFormatter and ZonedDateTime in Java 8</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1553768450,"post_id":55394931,"comment_id":97510588,"body_markdown":"In addition you need uppercase `HH` for hour of day in your format pattern string, as in [this question](https://stackoverflow.com/questions/17341214/difference-between-java-hhmm-and-hhmm-on-simpledateformat), for example.","body":"In addition you need uppercase <code>HH</code> for hour of day in your format pattern string, as in <a href=\"https://stackoverflow.com/questions/17341214/difference-between-java-hhmm-and-hhmm-on-simpledateformat\">this question</a>, for example."},{"owner":{"account_id":8370632,"reputation":780,"user_id":6285880,"accept_rate":75,"display_name":"Gianmarco F."},"score":0,"creation_date":1553768451,"post_id":55394931,"comment_id":97510589,"body_markdown":"@OleV.V. Do you think it is related even though it doesn&#39;t solve my issue? I&#39;m just asking so that, next time, I can avoid to create a similar question","body":"@OleV.V. Do you think it is related even though it doesn&#39;t solve my issue? I&#39;m just asking so that, next time, I can avoid to create a similar question"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1553768628,"post_id":55394931,"comment_id":97510691,"body_markdown":"I think the question linked under the duplicate marking matches yours better and should have a great chance of solving your issue too. See if it doesn’t and feel free to follow up here.","body":"I think the question linked under the duplicate marking matches yours better and should have a great chance of solving your issue too. See if it doesn’t and feel free to follow up here."},{"owner":{"account_id":8370632,"reputation":780,"user_id":6285880,"accept_rate":75,"display_name":"Gianmarco F."},"score":0,"creation_date":1553768717,"post_id":55394931,"comment_id":97510752,"body_markdown":"@OleV.V. I&#39;ve tried that (if you see in my question, there is a DateTimeFormatBuilder that was partially taken from there), so that is why I opened a new question. But, as pointed out by YCF_L, all I needed was to directly use ZonedDateTime from the beginning","body":"@OleV.V. I&#39;ve tried that (if you see in my question, there is a DateTimeFormatBuilder that was partially taken from there), so that is why I opened a new question. But, as pointed out by YCF_L, all I needed was to directly use ZonedDateTime from the beginning"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1553771422,"post_id":55394931,"comment_id":97512444,"body_markdown":"That’s right: the string doesn’t contain enough information that `ZonedDateTime` can parse the same value back.","body":"That’s right: the string doesn’t contain enough information that <code>ZonedDateTime</code> can parse the same value back."},{"owner":{"account_id":8370632,"reputation":780,"user_id":6285880,"accept_rate":75,"display_name":"Gianmarco F."},"score":2,"creation_date":1553771455,"post_id":55394931,"comment_id":97512467,"body_markdown":"@OleV.V. thank you, though, for explaining why you marked it as duplicate :)","body":"@OleV.V. thank you, though, for explaining why you marked it as duplicate :)"}],"answers":[{"tags":[],"owner":{"account_id":8972075,"reputation":27597,"user_id":6690200,"accept_rate":100,"display_name":"xingbin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668299470,"creation_date":1553767975,"answer_id":55394991,"question_id":55394931,"body_markdown":"`ddMMyyyyhhmmss` does not contain any zone information. It&#39;s not `ZonedDateTime`, and it should be `LocalDateTime`.","title":"java.time.format.DateTimeParseException: Unable to obtain ZonedDateTime from TemporalAccessor in format ddMMyyyyhhmmss","body":"<p><code>ddMMyyyyhhmmss</code> does not contain any zone information. It's not <code>ZonedDateTime</code>, and it should be <code>LocalDateTime</code>.</p>\n"},{"tags":[],"owner":{"account_id":432653,"reputation":6817,"user_id":817543,"accept_rate":87,"display_name":"Alexander R&#252;hl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668299587,"creation_date":1553768051,"answer_id":55395017,"question_id":55394931,"body_markdown":"In the string you parse, there isn&#39;t any information about the TimeZone, so how should the Formatter know how to transfer into ZonedDateTime?\r\n\r\nYou either need to have the TimeZone information in your string, or use another Object to parse it into which has no TimeZone infomation and afterwards transfer it into the Zone you need.\r\n\r\n\r\n","title":"java.time.format.DateTimeParseException: Unable to obtain ZonedDateTime from TemporalAccessor in format ddMMyyyyhhmmss","body":"<p>In the string you parse, there isn't any information about the TimeZone, so how should the Formatter know how to transfer into ZonedDateTime?</p>\n<p>You either need to have the TimeZone information in your string, or use another Object to parse it into which has no TimeZone infomation and afterwards transfer it into the Zone you need.</p>\n"},{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668299603,"creation_date":1553768254,"answer_id":55395084,"question_id":55394931,"body_markdown":"You want:\r\n\r\n      String test = ZonedDateTime.now().format(formatter);\r\n\r\n","title":"java.time.format.DateTimeParseException: Unable to obtain ZonedDateTime from TemporalAccessor in format ddMMyyyyhhmmss","body":"<p>You want:</p>\n<pre><code>  String test = ZonedDateTime.now().format(formatter);\n</code></pre>\n"}],"owner":{"account_id":8370632,"reputation":780,"user_id":6285880,"accept_rate":75,"display_name":"Gianmarco F."},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3649,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1553768357,"accepted_answer_id":55395084,"answer_count":3,"score":2,"last_activity_date":1668299781,"creation_date":1553767756,"question_id":55394931,"body_markdown":"I&#39;m having trouble in formatting a string to a ZonedDateTime.\r\n\r\nMy customer wants to have the date in a format such as  ddMMyyyyhhmmss, with no separators or stuff like that.\r\n\r\nThis is what I&#39;ve done so far\r\n\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.time.LocalDateTime;\r\n    import java.time.ZoneId;\r\n    import java.time.ZonedDateTime;\r\n\r\n\r\n    public class MyClass {\r\n        public static void main(String args[]) {\r\n\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;ddMMyyyyhhmmss&quot;);\r\n            String test = formatter\r\n            .format(ZonedDateTime.now()).toString();\r\n            System.out.println(test);\r\n            ZonedDateTime a = ZonedDateTime.parse(test, formatter);\r\n            System.out.println(a.toString());\r\n        }\r\n    }\r\n\r\nWhile it correctly produces the string, the error occurs at the parsing process for creating the LocalDateTime variable:\r\n\r\n```lang-none\r\n28032019100707\r\n\r\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;28032019100707&#39; could not be parsed: Unable to obtain ZonedDateTime from TemporalAccessor: {MilliOfSecond=0, MinuteOfHour=7, HourOfAmPm=10, NanoOfSecond=0, MicroOfSecond=0, SecondOfMinute=7},ISO resolved to 2019-03-28 of type java.time.format.Parsed\r\n    at java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1920)\r\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1855)\r\n    at java.time.ZonedDateTime.parse(ZonedDateTime.java:597)\r\n    at MyClass.main(MyClass.java:14)\r\nCaused by: java.time.DateTimeException: Unable to obtain ZonedDateTime from TemporalAccessor: {MilliOfSecond=0, MinuteOfHour=7, HourOfAmPm=10, NanoOfSecond=0, MicroOfSecond=0, SecondOfMinute=7},ISO resolved to 2019-03-28 of type java.time.format.Parsed\r\n    at java.time.ZonedDateTime.from(ZonedDateTime.java:565)\r\n    at java.time.format.Parsed.query(Parsed.java:226)\r\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\r\n    ... 2 more\r\nCaused by: java.time.DateTimeException: Unable to obtain ZoneId from TemporalAccessor: {MilliOfSecond=0, MinuteOfHour=7, HourOfAmPm=10, NanoOfSecond=0, MicroOfSecond=0, SecondOfMinute=7},ISO resolved to 2019-03-28 of type java.time.format.Parsed\r\n    at java.time.ZoneId.from(ZoneId.java:466)\r\n    at java.time.ZonedDateTime.from(ZonedDateTime.java:553)\r\n    ... 4 more\r\nCommand exited with non-zero status 1\r\n```\r\n\r\nSearching on Stack Overflow, I saw that some answers to the same issue suggested to use the LocalDateTime class as an intermediate and then parse to ZonedDateTime, but it is still not working, throwing the same error.\r\n\r\nI&#39;ve also tried in changing the way I initialize a DateTimeFormatter with this procedure:\r\n\r\n    DateTimeFormatter formatter = new DateTimeFormatterBuilder().appendPattern(&quot;ddMMyyyyhhmmss&quot;)\r\n                              .toFormatter()\r\n                              .withZone(ZoneId.systemDefault());\r\n\r\nBut it is still not working. How can I fix it?\r\n\r\n\r\n\r\n\r\n","title":"java.time.format.DateTimeParseException: Unable to obtain ZonedDateTime from TemporalAccessor in format ddMMyyyyhhmmss","body":"<p>I'm having trouble in formatting a string to a ZonedDateTime.</p>\n<p>My customer wants to have the date in a format such as  ddMMyyyyhhmmss, with no separators or stuff like that.</p>\n<p>This is what I've done so far</p>\n<pre><code>import java.time.format.DateTimeFormatter;\nimport java.time.LocalDateTime;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\n\n\npublic class MyClass {\n    public static void main(String args[]) {\n\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;ddMMyyyyhhmmss&quot;);\n        String test = formatter\n        .format(ZonedDateTime.now()).toString();\n        System.out.println(test);\n        ZonedDateTime a = ZonedDateTime.parse(test, formatter);\n        System.out.println(a.toString());\n    }\n}\n</code></pre>\n<p>While it correctly produces the string, the error occurs at the parsing process for creating the LocalDateTime variable:</p>\n<pre class=\"lang-none prettyprint-override\"><code>28032019100707\n\nException in thread &quot;main&quot; java.time.format.DateTimeParseException: Text '28032019100707' could not be parsed: Unable to obtain ZonedDateTime from TemporalAccessor: {MilliOfSecond=0, MinuteOfHour=7, HourOfAmPm=10, NanoOfSecond=0, MicroOfSecond=0, SecondOfMinute=7},ISO resolved to 2019-03-28 of type java.time.format.Parsed\n    at java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1920)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1855)\n    at java.time.ZonedDateTime.parse(ZonedDateTime.java:597)\n    at MyClass.main(MyClass.java:14)\nCaused by: java.time.DateTimeException: Unable to obtain ZonedDateTime from TemporalAccessor: {MilliOfSecond=0, MinuteOfHour=7, HourOfAmPm=10, NanoOfSecond=0, MicroOfSecond=0, SecondOfMinute=7},ISO resolved to 2019-03-28 of type java.time.format.Parsed\n    at java.time.ZonedDateTime.from(ZonedDateTime.java:565)\n    at java.time.format.Parsed.query(Parsed.java:226)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\n    ... 2 more\nCaused by: java.time.DateTimeException: Unable to obtain ZoneId from TemporalAccessor: {MilliOfSecond=0, MinuteOfHour=7, HourOfAmPm=10, NanoOfSecond=0, MicroOfSecond=0, SecondOfMinute=7},ISO resolved to 2019-03-28 of type java.time.format.Parsed\n    at java.time.ZoneId.from(ZoneId.java:466)\n    at java.time.ZonedDateTime.from(ZonedDateTime.java:553)\n    ... 4 more\nCommand exited with non-zero status 1\n</code></pre>\n<p>Searching on Stack Overflow, I saw that some answers to the same issue suggested to use the LocalDateTime class as an intermediate and then parse to ZonedDateTime, but it is still not working, throwing the same error.</p>\n<p>I've also tried in changing the way I initialize a DateTimeFormatter with this procedure:</p>\n<pre><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder().appendPattern(&quot;ddMMyyyyhhmmss&quot;)\n                          .toFormatter()\n                          .withZone(ZoneId.systemDefault());\n</code></pre>\n<p>But it is still not working. How can I fix it?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","one-to-one"],"comments":[{"owner":{"account_id":26185931,"reputation":386,"user_id":19868455,"display_name":"Pierre Demeestere"},"score":0,"creation_date":1668284353,"post_id":74414939,"comment_id":131369612,"body_markdown":"If you try have the same id for Student an StudentCard using `@JoinColumn(name = &quot;id&quot;)` on the `@OneToOne` relation is not the solution. You shoud use @MapId. You can check this https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/.","body":"If you try have the same id for Student an StudentCard using <code>@JoinColumn(name = &quot;id&quot;)</code> on the <code>@OneToOne</code> relation is not the solution. You shoud use @MapId. You can check this <a href=\"https://vladmihalcea.com/the-best-way-to-map-a-onetoone-relationship-with-jpa-and-hibernate/\" rel=\"nofollow noreferrer\">vladmihalcea.com/&hellip;</a>."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1668298778,"post_id":74414939,"comment_id":131371913,"body_markdown":"I don&#39;t understand. What SQL query would you expect? This seems the query Hibernate uses to load an object of type `StudentCard`, for example with `StudentCard studentCard = entityManager.find(StudentCard.class, 5);`. What part of your code is logging the SQL? Nothing seems wrong from what you&#39;ve described.","body":"I don&#39;t understand. What SQL query would you expect? This seems the query Hibernate uses to load an object of type <code>StudentCard</code>, for example with <code>StudentCard studentCard = entityManager.find(StudentCard.class, 5);</code>. What part of your code is logging the SQL? Nothing seems wrong from what you&#39;ve described."},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1668299279,"post_id":74414939,"comment_id":131371972,"body_markdown":"There are several examples in the Hibernate ORM documentation: https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one","body":"There are several examples in the Hibernate ORM documentation: <a href=\"https://docs.jboss.org/hibernate/orm/6.1/userguide/html_single/Hibernate_User_Guide.html#associations-one-to-one\" rel=\"nofollow noreferrer\">docs.jboss.org/hibernate/orm/6.1/userguide/html_single/&hellip;</a>"}],"owner":{"account_id":23591892,"reputation":1,"user_id":17629552,"display_name":"Mary Nie"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668298385,"creation_date":1668272943,"question_id":74414939,"body_markdown":"\r\n```\r\nStudent entity:\r\n\r\n@Entity\r\n@Table(\r\n        name = &quot;student&quot;\r\n)\r\npublic class Student implements Comparable&lt;Student&gt; {\r\n    @Id\r\n    @Column(\r\n            name = &quot;id&quot;\r\n    )\r\n    private Integer id;\r\n    @Column(\r\n            name = &quot;name&quot;\r\n    )\r\n    private String name;\r\n\r\n    @OneToOne(cascade=CascadeType.ALL)\r\n    @JoinColumn(\r\n            name = &quot;id&quot;,\r\n            referencedColumnName = &quot;student_id&quot;\r\n    )\r\n    private StudentCard studentCard;\r\n\r\n.................................getter and setter below.........................\r\n\r\nStudentCard entity:\r\n\r\n@Entity\r\n@Table(\r\n        name = &quot;student_card&quot;\r\n)\r\npublic class StudentCard {\r\n    @Id\r\n    @GeneratedValue(\r\n            strategy = GenerationType.IDENTITY\r\n    )\r\n    private Integer id;\r\n    @Column(\r\n            name = &quot;balance&quot;\r\n    )\r\n    private Integer balance;\r\n....................................getter and setter below.........................\r\n```\r\n\r\nI have two tables created, student and student card. Both tables have a column named id as their primary key, but I am not trying to map them together.\r\n\r\n I created a foreign key in the student card table where column student_id is tied with column id from student table. The owner is student card. However, after I created key and annotation, the hibernate still map to the wrong key when I tried to pull out the card information for each student.\r\n\r\nFor student table, the id is the primary key, whereas the student_id in card table is not. When I call for the student information in the controller side, I get a message of :\r\n\r\nHibernate: \r\n```\r\nselect\r\n    studentcar0_.id as id1_1_0_,\r\n    studentcar0_.balance as balance2_1_0_,\r\n    studentcar0_.student_id as student_3_1_0_\r\nfrom\r\n    student_card studentcar0_\r\nwhere\r\n    studentcar0_.id=?\r\n```\r\n\r\nand this is the wrong map, because I am not mapping student.id=studentcard.id\r\n\r\nI tried to switch column/referencecolumn name and it gave me an error of Unknown column &#39;student_id&#39; not in field list. so I am not sure what should I do at this point.","title":"Hibernate generated wrong map for OneToOne foreign key","body":"<pre><code>Student entity:\n\n@Entity\n@Table(\n        name = &quot;student&quot;\n)\npublic class Student implements Comparable&lt;Student&gt; {\n    @Id\n    @Column(\n            name = &quot;id&quot;\n    )\n    private Integer id;\n    @Column(\n            name = &quot;name&quot;\n    )\n    private String name;\n\n    @OneToOne(cascade=CascadeType.ALL)\n    @JoinColumn(\n            name = &quot;id&quot;,\n            referencedColumnName = &quot;student_id&quot;\n    )\n    private StudentCard studentCard;\n\n.................................getter and setter below.........................\n\nStudentCard entity:\n\n@Entity\n@Table(\n        name = &quot;student_card&quot;\n)\npublic class StudentCard {\n    @Id\n    @GeneratedValue(\n            strategy = GenerationType.IDENTITY\n    )\n    private Integer id;\n    @Column(\n            name = &quot;balance&quot;\n    )\n    private Integer balance;\n....................................getter and setter below.........................\n</code></pre>\n<p>I have two tables created, student and student card. Both tables have a column named id as their primary key, but I am not trying to map them together.</p>\n<p>I created a foreign key in the student card table where column student_id is tied with column id from student table. The owner is student card. However, after I created key and annotation, the hibernate still map to the wrong key when I tried to pull out the card information for each student.</p>\n<p>For student table, the id is the primary key, whereas the student_id in card table is not. When I call for the student information in the controller side, I get a message of :</p>\n<p>Hibernate:</p>\n<pre><code>select\n    studentcar0_.id as id1_1_0_,\n    studentcar0_.balance as balance2_1_0_,\n    studentcar0_.student_id as student_3_1_0_\nfrom\n    student_card studentcar0_\nwhere\n    studentcar0_.id=?\n</code></pre>\n<p>and this is the wrong map, because I am not mapping student.id=studentcard.id</p>\n<p>I tried to switch column/referencecolumn name and it gave me an error of Unknown column 'student_id' not in field list. so I am not sure what should I do at this point.</p>\n"},{"tags":["java","recursion","linked-list","nullpointerexception"],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323243,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668293860,"creation_date":1668293860,"answer_id":74417199,"question_id":74416894,"body_markdown":"&gt; Why am I having the NPE? \r\n\r\nThe node you assign to `head` has a `next` member that is `null`. This `null` is passed as last argument to `generateSumList`, so that `res` is `null`. When neither `l1.next` nor `l2.next` is `null` the following line is executed and produces the NPE as it evaluates `res.next`:\r\n\r\n        rest = generateSumList(l1.next, l2.next, res.next);\r\n\r\n&gt; Are my approach to the problem and my intuition on how to solve it correct?\r\n\r\nNo, it cannot work like that. For one, if the two lists have an unequal length, you cannot hope to align the two corresponding digits from both lists. Although you get the *last* two digits aligned and added together, eventually, `sum = l1.val + l2.val + rest;` will get executed, but those two nodes are equally positioned when counting from the *left*, but should be aligned by their distance from the *right*. In short, when the lists have an unequal length, this `sum` is summing up unrelated digits.\r\n\r\nTo achieve a correct alignment of the nodes, you would better first reverse both lists, so the least significant digits come first, and are naturally aligned as you move forward.","title":"Add two numbers stored in reverse order in linked lists","body":"<blockquote>\n<p>Why am I having the NPE?</p>\n</blockquote>\n<p>The node you assign to <code>head</code> has a <code>next</code> member that is <code>null</code>. This <code>null</code> is passed as last argument to <code>generateSumList</code>, so that <code>res</code> is <code>null</code>. When neither <code>l1.next</code> nor <code>l2.next</code> is <code>null</code> the following line is executed and produces the NPE as it evaluates <code>res.next</code>:</p>\n<pre><code>    rest = generateSumList(l1.next, l2.next, res.next);\n</code></pre>\n<blockquote>\n<p>Are my approach to the problem and my intuition on how to solve it correct?</p>\n</blockquote>\n<p>No, it cannot work like that. For one, if the two lists have an unequal length, you cannot hope to align the two corresponding digits from both lists. Although you get the <em>last</em> two digits aligned and added together, eventually, <code>sum = l1.val + l2.val + rest;</code> will get executed, but those two nodes are equally positioned when counting from the <em>left</em>, but should be aligned by their distance from the <em>right</em>. In short, when the lists have an unequal length, this <code>sum</code> is summing up unrelated digits.</p>\n<p>To achieve a correct alignment of the nodes, you would better first reverse both lists, so the least significant digits come first, and are naturally aligned as you move forward.</p>\n"}],"owner":{"account_id":24881662,"reputation":5,"user_id":18754792,"display_name":"Marco Sperindeo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1467,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74417199,"answer_count":1,"score":0,"last_activity_date":1668297874,"creation_date":1668290181,"question_id":74416894,"body_markdown":"I&#39;m trying to solve the following problem:\r\n\r\nYou are given two non-empty linked lists representing two non-negative integers. The digits are stored in forward order, and each of their nodes contains a single digit. Add the two numbers and return the sum as a linked list.\r\nYou may assume the two numbers do not contain any leading zero, except the number 0 itself.\r\n\r\n```\r\nExample:\r\n2 --&gt; 4 --&gt; 3\r\n5 --&gt; 6 --&gt; 4\r\n8 --&gt; 0 --&gt; 7\r\n\r\nInput: l1 = [2,4,3], l2 = [5,6,4]\r\nOutput: [8,0,7]\r\nExplanation: 243 + 564 = 807\r\n```\r\n\r\nThe linked list is a collection of ListNode objects where each object points to the next one. \r\nThe ListNode class is the following:\r\n\r\n\r\n\r\n```\r\n// Definition for singly-linked list.\r\npublic class ListNode {\r\n    int val;\r\n    ListNode next;\r\n    ListNode() {}\r\n    ListNode(int val) { this.val = val; }\r\n    ListNode(int val, ListNode next) { this.val = val; this.next = next; }\r\n}\r\n```\r\n\r\n\r\nI&#39;ve tried the follwing solution with a recursive approach\r\n\r\n\r\n```\r\nimport java.util.HashMap;\r\n\r\nclass Solution {\r\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\r\n        ListNode head = new ListNode(0);\r\n        head.val = generateSumList(l1.next, l2.next, head.next);\r\n        return head;\r\n    }\r\n\r\n\r\n    public int generateSumList(ListNode l1, ListNode l2, ListNode res) {\r\n        \r\n        int rest, sum;\r\n\r\n        if (l1.next == null &amp;&amp; l2.next != null) {\r\n            return generateSumList(l1, l2.next, res.next);\r\n        }\r\n\r\n        if (l1.next != null &amp;&amp; l1.next == null) {\r\n            return generateSumList(l1.next, l2, res.next);\r\n        }\r\n\r\n        if (l1.next == null &amp;&amp; l2.next == null) {\r\n            sum = l1.val + l2.val;\r\n            if (sum &gt; 9) {\r\n                ListNode n = new ListNode(sum % 10, null);\r\n                res = n;\r\n                return 1;\r\n            }\r\n            else {\r\n                ListNode n = new ListNode(sum, null);\r\n                res = n;\r\n                return 0;\r\n            }\r\n        }\r\n\r\n        rest = generateSumList(l1.next, l2.next, res.next);\r\n        sum = l1.val + l2.val + rest;\r\n        if (sum &gt; 9) {\r\n            res.val = sum % 10;\r\n            return 1;\r\n        }\r\n        else {\r\n            res.val = sum;\r\n            return 0;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m having the follwing error msg at runtime and I cannot understand why.\r\n\r\n\r\n```\r\njava.lang.NullPointerException: Cannot read field &quot;next&quot; because &quot;&lt;parameter1&gt;&quot; is null\r\n  at line 27, Solution.generateSumList\r\n  at line 17, Solution.addTwoNumbers\r\n  at line 54, __DriverSolution__.__helper__\r\n  at line 87, __Driver__.main\r\n```\r\n\r\n\r\n\r\nWhy am I having the NPE? Are my approach to the problem and my intuition on how to solve it correct? ","title":"Add two numbers stored in reverse order in linked lists","body":"<p>I'm trying to solve the following problem:</p>\n<p>You are given two non-empty linked lists representing two non-negative integers. The digits are stored in forward order, and each of their nodes contains a single digit. Add the two numbers and return the sum as a linked list.\nYou may assume the two numbers do not contain any leading zero, except the number 0 itself.</p>\n<pre><code>Example:\n2 --&gt; 4 --&gt; 3\n5 --&gt; 6 --&gt; 4\n8 --&gt; 0 --&gt; 7\n\nInput: l1 = [2,4,3], l2 = [5,6,4]\nOutput: [8,0,7]\nExplanation: 243 + 564 = 807\n</code></pre>\n<p>The linked list is a collection of ListNode objects where each object points to the next one.\nThe ListNode class is the following:</p>\n<pre><code>// Definition for singly-linked list.\npublic class ListNode {\n    int val;\n    ListNode next;\n    ListNode() {}\n    ListNode(int val) { this.val = val; }\n    ListNode(int val, ListNode next) { this.val = val; this.next = next; }\n}\n</code></pre>\n<p>I've tried the follwing solution with a recursive approach</p>\n<pre><code>import java.util.HashMap;\n\nclass Solution {\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n        ListNode head = new ListNode(0);\n        head.val = generateSumList(l1.next, l2.next, head.next);\n        return head;\n    }\n\n\n    public int generateSumList(ListNode l1, ListNode l2, ListNode res) {\n        \n        int rest, sum;\n\n        if (l1.next == null &amp;&amp; l2.next != null) {\n            return generateSumList(l1, l2.next, res.next);\n        }\n\n        if (l1.next != null &amp;&amp; l1.next == null) {\n            return generateSumList(l1.next, l2, res.next);\n        }\n\n        if (l1.next == null &amp;&amp; l2.next == null) {\n            sum = l1.val + l2.val;\n            if (sum &gt; 9) {\n                ListNode n = new ListNode(sum % 10, null);\n                res = n;\n                return 1;\n            }\n            else {\n                ListNode n = new ListNode(sum, null);\n                res = n;\n                return 0;\n            }\n        }\n\n        rest = generateSumList(l1.next, l2.next, res.next);\n        sum = l1.val + l2.val + rest;\n        if (sum &gt; 9) {\n            res.val = sum % 10;\n            return 1;\n        }\n        else {\n            res.val = sum;\n            return 0;\n        }\n    }\n}\n</code></pre>\n<p>I'm having the follwing error msg at runtime and I cannot understand why.</p>\n<pre><code>java.lang.NullPointerException: Cannot read field &quot;next&quot; because &quot;&lt;parameter1&gt;&quot; is null\n  at line 27, Solution.generateSumList\n  at line 17, Solution.addTwoNumbers\n  at line 54, __DriverSolution__.__helper__\n  at line 87, __Driver__.main\n</code></pre>\n<p>Why am I having the NPE? Are my approach to the problem and my intuition on how to solve it correct?</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":7673258,"reputation":1688,"user_id":6200354,"display_name":"atish.s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668026248,"creation_date":1668026248,"answer_id":74381113,"question_id":74379357,"body_markdown":"The `GET` method for `/posts/new` invokes the method `createNewPost` in the service layer. If `optionalAccount` does not exist, the page `404` is returned. A possible issue is the `optionalAccount` is empty hence returning `404`.\r\n\r\n\tif(optionalAccount.isPresent()) {\r\n\t\tPost post = new Post();\r\n\t\tpost.setAccount(optionalAccount.get());\r\n\t\tmodel.addAttribute(&quot;post&quot;, post);\r\n\t\treturn &quot;post_new&quot;;\r\n\t} else {\r\n\t\treturn &quot;404&quot;;\r\n\t}\r\n\r\nThe `th:action` should be `th:action=&quot;@{/posts/new}&quot;`.","title":"Spring not finding @GetMapping and @PostMapping with url","body":"<p>The <code>GET</code> method for <code>/posts/new</code> invokes the method <code>createNewPost</code> in the service layer. If <code>optionalAccount</code> does not exist, the page <code>404</code> is returned. A possible issue is the <code>optionalAccount</code> is empty hence returning <code>404</code>.</p>\n<pre><code>if(optionalAccount.isPresent()) {\n    Post post = new Post();\n    post.setAccount(optionalAccount.get());\n    model.addAttribute(&quot;post&quot;, post);\n    return &quot;post_new&quot;;\n} else {\n    return &quot;404&quot;;\n}\n</code></pre>\n<p>The <code>th:action</code> should be <code>th:action=&quot;@{/posts/new}&quot;</code>.</p>\n"},{"tags":[],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668296656,"creation_date":1668296656,"answer_id":74417415,"question_id":74379357,"body_markdown":"I found the solution...So basically, I got stackoverflow error and the solution to that is, because I was using Lombok and @Data annotation in my &quot;model&quot; package, the @Data was causing some bugs and by changing it to @Getter and @Setter the issue was fixed.","title":"Spring not finding @GetMapping and @PostMapping with url","body":"<p>I found the solution...So basically, I got stackoverflow error and the solution to that is, because I was using Lombok and @Data annotation in my &quot;model&quot; package, the @Data was causing some bugs and by changing it to @Getter and @Setter the issue was fixed.</p>\n"}],"owner":{"account_id":18360840,"reputation":81,"user_id":13372981,"display_name":"Marin Jurlina"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":472,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74417415,"answer_count":2,"score":0,"last_activity_date":1668296656,"creation_date":1668016594,"question_id":74379357,"body_markdown":"I&#39;m building a blog app and in this instance I want to create a new post. I created a controller with @GetMapping and @PostMapping with value &quot;/posts/new&quot;. I used \r\n`th:action = &quot;@{&#39;/posts/new&#39;}&quot;` `(LINE 14)` in thymeleaf but when I start the web app, and access the localhost:8080/posts/new it gives the 404 error that the url is not found, but it is there...I double checked spelling, code...pretty much everything but just can&#39;t seem to figure out what mistake did I make. Here is the code:\r\n\r\npost_new.html\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n        &lt;meta charset=&quot;utf-8&quot;&gt;\r\n        &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\r\n        &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n        &lt;title&gt;Blog :: New Post&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    \r\n    &lt;body&gt;\r\n    &lt;div class=&quot;container&quot;&gt;\r\n        &lt;a th:href=&quot;@{/}&quot;&gt;Home&lt;/a&gt;\r\n        &lt;form action=&quot;#&quot;\r\n              th:action=&quot;@{&#39;/posts/new&#39;}&quot;\r\n              th:object=&quot;${post}&quot;&gt;\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{account}&quot; /&gt;\r\n            &lt;input type=&quot;hidden&quot; th:field=&quot;*{createdAt}&quot; /&gt;\r\n            &lt;h2&gt;Write new post&lt;/h2&gt;\r\n            &lt;div&gt;\r\n                &lt;label for=&quot;new-post-title&quot;&gt;Title&lt;/label&gt;\r\n                &lt;input id=&quot;new-post-title&quot; type=&quot;text&quot; th:field=&quot;*{title}&quot; placeholder=&quot;Title&quot;/&gt;\r\n            &lt;/div&gt;\r\n            &lt;div&gt;\r\n                &lt;label for=&quot;new-post-body&quot;&gt;Body&lt;/label&gt;\r\n                &lt;textarea id=&quot;new-post-body&quot; th:field=&quot;*{body}&quot;&gt;&lt;/textarea&gt;\r\n            &lt;/div&gt;\r\n            &lt;button type=&quot;submit&quot;&gt;Publish post&lt;/button&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;\r\n\r\nPostController.java\r\n\r\n    package com.hellion.writeup.controller;\r\n    \r\n    import com.hellion.writeup.models.Account;\r\n    import com.hellion.writeup.models.Post;\r\n    import com.hellion.writeup.service.AccountService;\r\n    import com.hellion.writeup.service.PostService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.ui.Model;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.ModelAttribute;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    \r\n    import java.util.Optional;\r\n    \r\n    @Controller\r\n    public class PostController {\r\n    \r\n        @Autowired\r\n        private PostService postService;\r\n    \r\n        @Autowired\r\n        private AccountService accountService;\r\n    \r\n    \r\n        @GetMapping(&quot;/posts/{id}&quot;)\r\n        public String getPost(@PathVariable Long id, Model model) {\r\n            Post post = postService.getPost(id, model);\r\n    \r\n            if (post != null) {\r\n                model.addAttribute(&quot;post&quot;, post);\r\n                return &quot;post&quot;;\r\n            } else {\r\n                return &quot;404&quot;;\r\n            }\r\n        }\r\n    \r\n        @GetMapping(&quot;/posts/new&quot;)\r\n        public String createNewPost(Model model){\r\n            return postService.createNewPost(model);\r\n        }\r\n    \r\n        @PostMapping(&quot;/posts/new&quot;)\r\n        public String saveNewPost(@ModelAttribute Post post){\r\n            postService.save(post);\r\n            return &quot;redirect:/posts/&quot; + post.getId();\r\n        }\r\n    }\r\n\r\nPostService.java\r\n\r\n    package com.hellion.writeup.service;\r\n    \r\n    import com.hellion.writeup.models.Account;\r\n    import com.hellion.writeup.models.Post;\r\n    import com.hellion.writeup.repository.PostRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.ui.Model;\r\n    \r\n    import java.time.LocalDateTime;\r\n    import java.util.List;\r\n    import java.util.Optional;\r\n    \r\n    @Service\r\n    public class PostService {\r\n    \r\n        @Autowired\r\n        private PostRepository postRepository;\r\n    \r\n        @Autowired\r\n        private AccountService accountService;;\r\n    \r\n        public Optional&lt;Post&gt; getById(Long id) {\r\n            return postRepository.findById(id);\r\n        }\r\n    \r\n        public List&lt;Post&gt; getAll() {\r\n            return postRepository.findAll();\r\n        }\r\n    \r\n        public Post save(Post post) {\r\n            if (post.getId() == null) {\r\n                post.setCreatedAt(LocalDateTime.now());\r\n            }\r\n    \r\n            return postRepository.save(post);\r\n        }\r\n    \r\n        public Post getPost(Long id, Model model) {\r\n            Optional&lt;Post&gt; optionalPost = getById(id);\r\n    \r\n            if (optionalPost.isPresent()) {\r\n                Post post = optionalPost.get();\r\n                return post;\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        public String createNewPost(Model model){\r\n            Optional&lt;Account&gt; optionalAccount = accountService.findByEmail(&quot;user.user@domain.com&quot;);\r\n    \r\n            if(optionalAccount.isPresent()){\r\n                Post post = new Post();\r\n                post.setAccount(optionalAccount.get());\r\n                model.addAttribute(&quot;post&quot;, post);\r\n                return &quot;post_new&quot;;\r\n            }else{\r\n                return &quot;404&quot;;\r\n            }\r\n        }\r\n    }\r\n\r\npost.html\r\n\r\n    &lt;!DOCTYPE HTML&gt;\r\n    &lt;html  land= &quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n    &lt;head&gt;\r\n      &lt;meta charset=&quot;utf-8&quot;&gt;\r\n      &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE-edge&quot;&gt;\r\n      &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\r\n      &lt;link th:href=&quot;@{/styles/style.css}&quot; rel=&quot;stylesheet&quot; /&gt;\r\n      &lt;title&gt;Writeup :: Post&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;div class =&quot;container&quot;&gt;\r\n      &lt;a th:href=&quot;@{&#39;/&#39;}&quot;&gt;Home&lt;/a&gt;\r\n      &lt;div class=&quot;post&quot;&gt;\r\n        &lt;h2 th:text=&quot;${post.title}&quot;&gt;Title&lt;/h2&gt;\r\n        &lt;h5 th:text=&quot;&#39;Written by: &#39; + ${post.account.getFirstName()}&quot;&gt;Account First Name&lt;/h5&gt;\r\n        &lt;h5 th:text=&quot;&#39;Created on: &#39; + ${post.createdAt}&quot;&gt;Created At&lt;/h5&gt;\r\n        &lt;p th:text=&quot;${post.body}&quot;&gt;Body text&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;","title":"Spring not finding @GetMapping and @PostMapping with url","body":"<p>I'm building a blog app and in this instance I want to create a new post. I created a controller with @GetMapping and @PostMapping with value &quot;/posts/new&quot;. I used\n<code>th:action = &quot;@{'/posts/new'}&quot;</code> <code>(LINE 14)</code> in thymeleaf but when I start the web app, and access the localhost:8080/posts/new it gives the 404 error that the url is not found, but it is there...I double checked spelling, code...pretty much everything but just can't seem to figure out what mistake did I make. Here is the code:</p>\n<p>post_new.html</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n    &lt;title&gt;Blog :: New Post&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;div class=&quot;container&quot;&gt;\n    &lt;a th:href=&quot;@{/}&quot;&gt;Home&lt;/a&gt;\n    &lt;form action=&quot;#&quot;\n          th:action=&quot;@{'/posts/new'}&quot;\n          th:object=&quot;${post}&quot;&gt;\n        &lt;input type=&quot;hidden&quot; th:field=&quot;*{account}&quot; /&gt;\n        &lt;input type=&quot;hidden&quot; th:field=&quot;*{createdAt}&quot; /&gt;\n        &lt;h2&gt;Write new post&lt;/h2&gt;\n        &lt;div&gt;\n            &lt;label for=&quot;new-post-title&quot;&gt;Title&lt;/label&gt;\n            &lt;input id=&quot;new-post-title&quot; type=&quot;text&quot; th:field=&quot;*{title}&quot; placeholder=&quot;Title&quot;/&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n            &lt;label for=&quot;new-post-body&quot;&gt;Body&lt;/label&gt;\n            &lt;textarea id=&quot;new-post-body&quot; th:field=&quot;*{body}&quot;&gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n        &lt;button type=&quot;submit&quot;&gt;Publish post&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>PostController.java</p>\n<pre><code>package com.hellion.writeup.controller;\n\nimport com.hellion.writeup.models.Account;\nimport com.hellion.writeup.models.Post;\nimport com.hellion.writeup.service.AccountService;\nimport com.hellion.writeup.service.PostService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.ModelAttribute;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\n\nimport java.util.Optional;\n\n@Controller\npublic class PostController {\n\n    @Autowired\n    private PostService postService;\n\n    @Autowired\n    private AccountService accountService;\n\n\n    @GetMapping(&quot;/posts/{id}&quot;)\n    public String getPost(@PathVariable Long id, Model model) {\n        Post post = postService.getPost(id, model);\n\n        if (post != null) {\n            model.addAttribute(&quot;post&quot;, post);\n            return &quot;post&quot;;\n        } else {\n            return &quot;404&quot;;\n        }\n    }\n\n    @GetMapping(&quot;/posts/new&quot;)\n    public String createNewPost(Model model){\n        return postService.createNewPost(model);\n    }\n\n    @PostMapping(&quot;/posts/new&quot;)\n    public String saveNewPost(@ModelAttribute Post post){\n        postService.save(post);\n        return &quot;redirect:/posts/&quot; + post.getId();\n    }\n}\n</code></pre>\n<p>PostService.java</p>\n<pre><code>package com.hellion.writeup.service;\n\nimport com.hellion.writeup.models.Account;\nimport com.hellion.writeup.models.Post;\nimport com.hellion.writeup.repository.PostRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.ui.Model;\n\nimport java.time.LocalDateTime;\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\npublic class PostService {\n\n    @Autowired\n    private PostRepository postRepository;\n\n    @Autowired\n    private AccountService accountService;;\n\n    public Optional&lt;Post&gt; getById(Long id) {\n        return postRepository.findById(id);\n    }\n\n    public List&lt;Post&gt; getAll() {\n        return postRepository.findAll();\n    }\n\n    public Post save(Post post) {\n        if (post.getId() == null) {\n            post.setCreatedAt(LocalDateTime.now());\n        }\n\n        return postRepository.save(post);\n    }\n\n    public Post getPost(Long id, Model model) {\n        Optional&lt;Post&gt; optionalPost = getById(id);\n\n        if (optionalPost.isPresent()) {\n            Post post = optionalPost.get();\n            return post;\n        }\n        return null;\n    }\n\n    public String createNewPost(Model model){\n        Optional&lt;Account&gt; optionalAccount = accountService.findByEmail(&quot;user.user@domain.com&quot;);\n\n        if(optionalAccount.isPresent()){\n            Post post = new Post();\n            post.setAccount(optionalAccount.get());\n            model.addAttribute(&quot;post&quot;, post);\n            return &quot;post_new&quot;;\n        }else{\n            return &quot;404&quot;;\n        }\n    }\n}\n</code></pre>\n<p>post.html</p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html  land= &quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;meta charset=&quot;utf-8&quot;&gt;\n  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE-edge&quot;&gt;\n  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;\n  &lt;link th:href=&quot;@{/styles/style.css}&quot; rel=&quot;stylesheet&quot; /&gt;\n  &lt;title&gt;Writeup :: Post&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div class =&quot;container&quot;&gt;\n  &lt;a th:href=&quot;@{'/'}&quot;&gt;Home&lt;/a&gt;\n  &lt;div class=&quot;post&quot;&gt;\n    &lt;h2 th:text=&quot;${post.title}&quot;&gt;Title&lt;/h2&gt;\n    &lt;h5 th:text=&quot;'Written by: ' + ${post.account.getFirstName()}&quot;&gt;Account First Name&lt;/h5&gt;\n    &lt;h5 th:text=&quot;'Created on: ' + ${post.createdAt}&quot;&gt;Created At&lt;/h5&gt;\n    &lt;p th:text=&quot;${post.body}&quot;&gt;Body text&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","docker","github","docker-compose","github-actions"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668242096,"post_id":74409354,"comment_id":131361678,"body_markdown":"Env variable JAR_FILE is unset/empty.","body":"Env variable JAR_FILE is unset/empty."},{"owner":{"account_id":8635785,"reputation":506,"user_id":6466023,"display_name":"boomchickawawa"},"score":0,"creation_date":1668273966,"post_id":74409354,"comment_id":131367463,"body_markdown":"i did a `RUN echo ${JAR_FILE}` and it shows `target/*.jar`","body":"i did a <code>RUN echo ${JAR_FILE}</code> and it shows <code>target&#47;*.jar</code>"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668277313,"post_id":74409354,"comment_id":131368188,"body_markdown":"Sorry, can’t identify the actual cause, but - can you drop the env-variable in favor of fixed value „target/*.jar“?","body":"Sorry, can’t identify the actual cause, but - can you drop the env-variable in favor of fixed value „target/*.jar“?"},{"owner":{"account_id":8635785,"reputation":506,"user_id":6466023,"display_name":"boomchickawawa"},"score":0,"creation_date":1668286846,"post_id":74409354,"comment_id":131370063,"body_markdown":"I think the bigger issue could be the generation of the jar files itself. Do I need to specify the context or something for docker? I did not have to do anything of that sort for my local though. Will try what you suggested as well","body":"I think the bigger issue could be the generation of the jar files itself. Do I need to specify the context or something for docker? I did not have to do anything of that sort for my local though. Will try what you suggested as well"},{"owner":{"account_id":8635785,"reputation":506,"user_id":6466023,"display_name":"boomchickawawa"},"score":0,"creation_date":1668288186,"post_id":74409354,"comment_id":131370323,"body_markdown":"`Step 4/6 : COPY target/*.jar app.jar`\n`COPY failed: no source files were specified`","body":"<code>Step 4&#47;6 : COPY target&#47;*.jar app.jar</code> <code>COPY failed: no source files were specified</code>"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668291358,"post_id":74409354,"comment_id":131370883,"body_markdown":"See? It isn‘t the ENV/ARG handling, the docker context is either not the expected directory or no jar is built.","body":"See? It isn‘t the ENV/ARG handling, the docker context is either not the expected directory or no jar is built."},{"owner":{"account_id":8635785,"reputation":506,"user_id":6466023,"display_name":"boomchickawawa"},"score":0,"creation_date":1668296663,"post_id":74409354,"comment_id":131371686,"body_markdown":"any specific step needs to be added/modified in GitHub actions workflow?","body":"any specific step needs to be added/modified in GitHub actions workflow?"},{"owner":{"account_id":20140480,"reputation":64,"user_id":14836289,"display_name":"cwellm"},"score":0,"creation_date":1668356081,"post_id":74409354,"comment_id":131379967,"body_markdown":"Indeed it strongly seems related to the context:\nhttps://docs.docker.com/build/building/context/\n\nIs your local maven config different such as that it deploys the jar directly into directory a? \n\nThe actions file looks fine, you can omit the &quot;with&quot; in the checkout step. Probably modify the Dockerfile and docker-compose.yml.","body":"Indeed it strongly seems related to the context: <a href=\"https://docs.docker.com/build/building/context/\" rel=\"nofollow noreferrer\">docs.docker.com/build/building/context</a>  Is your local maven config different such as that it deploys the jar directly into directory a?   The actions file looks fine, you can omit the &quot;with&quot; in the checkout step. Probably modify the Dockerfile and docker-compose.yml."},{"owner":{"account_id":8635785,"reputation":506,"user_id":6466023,"display_name":"boomchickawawa"},"score":0,"creation_date":1668381304,"post_id":74409354,"comment_id":131385154,"body_markdown":"@cwellm ive noticed that the jar files are built but are not being copied to target/. is there a specific step I need to Include after maven is triggered, for the jar files to be sent to target?","body":"@cwellm ive noticed that the jar files are built but are not being copied to target/. is there a specific step I need to Include after maven is triggered, for the jar files to be sent to target?"}],"owner":{"account_id":8635785,"reputation":506,"user_id":6466023,"display_name":"boomchickawawa"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668296281,"creation_date":1668211374,"question_id":74409354,"body_markdown":"I am trying to build a docker image on GitHub actions and here is the workflow for the same\r\n\r\n    jobs:\r\n      deploy-dev:\r\n        runs-on: ubuntu-latest\r\n        steps:\r\n        - uses: actions/checkout@v3\r\n          with:\r\n        - name: Set up JDK 11\r\n          uses: actions/setup-java@v3\r\n          with:\r\n            java-version: &#39;11&#39;\r\n            distribution: &#39;temurin&#39;\r\n            cache: maven\r\n        - name: Build Application with Maven\r\n          run: mvn clean install -DskipTests\r\n        - name: Build image\r\n          id: build-image\r\n          env:\r\n          run: |\r\n              docker-compose build a-service\r\n\r\nHere is the project structure\r\n\r\n    java-project/\r\n    ├─ docker-compose.yml\r\n    ├─ services/\r\n    │  ├─ a/\r\n    │  │  ├─ Dockerfile\r\n    │  │  ├─ pom.xml\r\n    │  ├─ b/\r\n    │  │  ├─ pom.xml\r\n    │  │  ├─ Dockerfile\r\n    ├─ pom.xml\r\n\r\nThis is what the `docker-compose.yml` looks like for `service a` \r\n\r\n    services:\r\n       a-service:\r\n           container-name: a-service\r\n           build:\r\n              context: ./services/a\r\n\r\nAnd finally here is the Dockerfile in the service a directory\r\n\r\n    FROM amazoncorretto:11-alpine-jdk\r\n    RUN addgroup -S spring &amp;&amp; adduser -S spring -G spring\r\n    USER spring:spring\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} app.jar\r\n    COPY src/main/xxxx/xxxx/xxx xxxx\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\nThe deployment fails with the following message \r\n\r\n    Step 7/9 : COPY ${JAR_FILE} app.jar\r\n    COPY failed: no source files were specified\r\n\r\nThis works perfectly fine on local, but errors on GitHub actions. Any idea what could be going wrong? Note that there is no .dockerignore present in this project. \r\n\r\n","title":"Docker GitHub actions COPY failed: no source files were specified","body":"<p>I am trying to build a docker image on GitHub actions and here is the workflow for the same</p>\n<pre><code>jobs:\n  deploy-dev:\n    runs-on: ubuntu-latest\n    steps:\n    - uses: actions/checkout@v3\n      with:\n    - name: Set up JDK 11\n      uses: actions/setup-java@v3\n      with:\n        java-version: '11'\n        distribution: 'temurin'\n        cache: maven\n    - name: Build Application with Maven\n      run: mvn clean install -DskipTests\n    - name: Build image\n      id: build-image\n      env:\n      run: |\n          docker-compose build a-service\n</code></pre>\n<p>Here is the project structure</p>\n<pre><code>java-project/\n├─ docker-compose.yml\n├─ services/\n│  ├─ a/\n│  │  ├─ Dockerfile\n│  │  ├─ pom.xml\n│  ├─ b/\n│  │  ├─ pom.xml\n│  │  ├─ Dockerfile\n├─ pom.xml\n</code></pre>\n<p>This is what the <code>docker-compose.yml</code> looks like for <code>service a</code></p>\n<pre><code>services:\n   a-service:\n       container-name: a-service\n       build:\n          context: ./services/a\n</code></pre>\n<p>And finally here is the Dockerfile in the service a directory</p>\n<pre><code>FROM amazoncorretto:11-alpine-jdk\nRUN addgroup -S spring &amp;&amp; adduser -S spring -G spring\nUSER spring:spring\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nCOPY src/main/xxxx/xxxx/xxx xxxx\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\n</code></pre>\n<p>The deployment fails with the following message</p>\n<pre><code>Step 7/9 : COPY ${JAR_FILE} app.jar\nCOPY failed: no source files were specified\n</code></pre>\n<p>This works perfectly fine on local, but errors on GitHub actions. Any idea what could be going wrong? Note that there is no .dockerignore present in this project.</p>\n"},{"tags":["java","algorithm"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1668295550,"post_id":74417320,"comment_id":131371550,"body_markdown":"Only change your loop variables in the `for (...)` statement. You are modifying your outer loop variable in your inner loop.","body":"Only change your loop variables in the <code>for (...)</code> statement. You are modifying your outer loop variable in your inner loop."},{"owner":{"account_id":20823037,"reputation":57,"user_id":15294173,"display_name":"Joseph Mart&#237;nez"},"score":0,"creation_date":1668296048,"post_id":74417320,"comment_id":131371617,"body_markdown":"@tgdavies the i-- is outside to make it decrement if the vehicle and the garage is not at the same space.","body":"@tgdavies the i-- is outside to make it decrement if the vehicle and the garage is not at the same space."},{"owner":{"account_id":26876381,"reputation":86,"user_id":20457576,"display_name":"Dinuka Silva"},"score":0,"creation_date":1668303570,"post_id":74417320,"comment_id":131372452,"body_markdown":"Please try to implement this code with enhance for loop instead of this loop","body":"Please try to implement this code with enhance for loop instead of this loop"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1668296073,"creation_date":1668296073,"answer_id":74417379,"question_id":74417320,"body_markdown":"Add a second condition to your inner loop. That is, change\r\n\r\n    for (int j = 0; j &lt; garage.size();) {\r\n\r\nto\r\n\r\n    for (int j = 0; j &lt; garage.size() &amp;&amp; i &gt;= 0;) {","title":"Avoid going below index -1 with a for loop","body":"<p>Add a second condition to your inner loop. That is, change</p>\n<pre><code>for (int j = 0; j &lt; garage.size();) {\n</code></pre>\n<p>to</p>\n<pre><code>for (int j = 0; j &lt; garage.size() &amp;&amp; i &gt;= 0;) {\n</code></pre>\n"}],"owner":{"account_id":20823037,"reputation":57,"user_id":15294173,"display_name":"Joseph Mart&#237;nez"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74417379,"answer_count":1,"score":0,"last_activity_date":1668296073,"creation_date":1668295279,"question_id":74417320,"body_markdown":"How do I avoid going below 0 with this for loop ? When this loop executes, it checks  if both the vehicle and the garage are in the same space. If not, it decrements the vehicle loop by `--i` to get the next available vehicle. when it reaches to `index 0`, it is going below `index -1` causing the program to crash.\r\n\t\r\n\r\n    for (int i = vehicles.size() - 1; i &gt;= 0;) {\r\n    \t\tfor (int j = 0; j &lt; garage.size();) {\r\n    \t\t\tif (this.garage.get(j).getSpace() == this.vehicles.get(i).getSpace()) {\r\n    \t\t\t\tif (this.garage.get(j).garageRequest(vehicles.get(i).getvehiclesType())\r\n    \t\t\t\t\t\t&amp;&amp; this.garage.get(j).getLimit() &gt; 0) {\r\n    \t\t\t\t\tthis.garage.get(j).addvehicles(vehicles.get(i));\r\n    \t\t\t\t\tthis.vehicles.remove(i);\r\n    \t\t\t\t\ti--;\r\n    \r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tj++;\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \r\n    \t\t\t\ti--;\r\n    \t\t\t\tj = 0;\r\n    \r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n\r\ni tried the following at the end\r\n       \r\n    else if(i != 0) {\r\n             i--;\r\n    \t\t j = 0;\r\n    \r\n    \t\t}\r\n\r\n","title":"Avoid going below index -1 with a for loop","body":"<p>How do I avoid going below 0 with this for loop ? When this loop executes, it checks  if both the vehicle and the garage are in the same space. If not, it decrements the vehicle loop by <code>--i</code> to get the next available vehicle. when it reaches to <code>index 0</code>, it is going below <code>index -1</code> causing the program to crash.</p>\n<pre><code>for (int i = vehicles.size() - 1; i &gt;= 0;) {\n        for (int j = 0; j &lt; garage.size();) {\n            if (this.garage.get(j).getSpace() == this.vehicles.get(i).getSpace()) {\n                if (this.garage.get(j).garageRequest(vehicles.get(i).getvehiclesType())\n                        &amp;&amp; this.garage.get(j).getLimit() &gt; 0) {\n                    this.garage.get(j).addvehicles(vehicles.get(i));\n                    this.vehicles.remove(i);\n                    i--;\n\n                    break;\n                } else {\n                    j++;\n                }\n            } else {\n\n                i--;\n                j = 0;\n\n            }\n\n        }\n</code></pre>\n<p>i tried the following at the end</p>\n<pre><code>else if(i != 0) {\n         i--;\n         j = 0;\n\n        }\n</code></pre>\n"},{"tags":["java","spring","crud"],"comments":[{"owner":{"account_id":12418783,"reputation":767,"user_id":9046830,"display_name":"Bogdan Lukiyanchuk"},"score":0,"creation_date":1524410253,"post_id":49967316,"comment_id":86950613,"body_markdown":"Is it possible to use Optional&lt;Task&gt;?","body":"Is it possible to use Optional&lt;Task&gt;?"}],"answers":[{"tags":[],"owner":{"account_id":12535187,"reputation":84,"user_id":9122044,"display_name":"nirfrea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524410922,"creation_date":1524410922,"answer_id":49967613,"question_id":49967316,"body_markdown":"in your CrudRepo create a method:\r\n\r\n    Task getById(Integer id);\r\n\r\nand then call this method in your TaskService and you should be ready to go:)","title":"CRUD Repository findById() different return value","body":"<p>in your CrudRepo create a method:</p>\n\n<pre><code>Task getById(Integer id);\n</code></pre>\n\n<p>and then call this method in your TaskService and you should be ready to go:)</p>\n"},{"tags":[],"owner":{"account_id":3522227,"reputation":805,"user_id":2958603,"display_name":"buddha"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1524412107,"creation_date":1524411395,"answer_id":49967692,"question_id":49967316,"body_markdown":"The findById method is return Optional&lt;Task&gt;, So you can get the task by get() method. You can choose the following 3 case\r\nYou will get an exception when Task not found:\r\n\r\n    public Task findTask(Integer id) {\r\n        return taskRepository.findById(id).get();\r\n    }\r\n\r\nYou will get null when Task not found:\r\n\r\n    public Task findTask(Integer id) {\r\n        return taskRepository.findById(id).orElse(null);\r\n    }\r\n\r\nYou will get an empty new Task when Task not found:\r\n\r\n    public Task findTask(Integer id) {\r\n        return taskRepository.findById(id).orElse(new Task());\r\n    }\r\n\r\nOr just return the Optional Object\r\n\r\n    public Optional&lt;Task&gt; findTask(Integer id) {\r\n        return taskRepository.findById(id);\r\n    }\r\n\r\n\r\n","title":"CRUD Repository findById() different return value","body":"<p>The findById method is return Optional, So you can get the task by get() method. You can choose the following 3 case\nYou will get an exception when Task not found:</p>\n\n<pre><code>public Task findTask(Integer id) {\n    return taskRepository.findById(id).get();\n}\n</code></pre>\n\n<p>You will get null when Task not found:</p>\n\n<pre><code>public Task findTask(Integer id) {\n    return taskRepository.findById(id).orElse(null);\n}\n</code></pre>\n\n<p>You will get an empty new Task when Task not found:</p>\n\n<pre><code>public Task findTask(Integer id) {\n    return taskRepository.findById(id).orElse(new Task());\n}\n</code></pre>\n\n<p>Or just return the Optional Object</p>\n\n<pre><code>public Optional&lt;Task&gt; findTask(Integer id) {\n    return taskRepository.findById(id);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5814216,"reputation":465,"user_id":4584374,"display_name":"Joginder Malik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581309078,"creation_date":1581309078,"answer_id":60144104,"question_id":49967316,"body_markdown":"I think no need to create getById(... id) method in Repository bean class because in SimpleJPARepository such method is already implemented. So you can directly call this method.\r\nSee Official spring document:- \r\n```\r\n/*\r\n\t * (non-Javadoc)\r\n\t * @see org.springframework.data.repository.CrudRepository#findById(java.io.Serializable)\r\n\t */\r\n\tpublic Optional&lt;T&gt; findById(ID id) {\r\n\r\n\t\tAssert.notNull(id, ID_MUST_NOT_BE_NULL);\r\n\r\n\t\tClass&lt;T&gt; domainType = getDomainClass();\r\n\r\n\t\tif (metadata == null) {\r\n\t\t\treturn Optional.ofNullable(em.find(domainType, id));\r\n\t\t}\r\n\r\n\t\tLockModeType type = metadata.getLockModeType();\r\n\r\n\t\tMap&lt;String, Object&gt; hints = getQueryHints().withFetchGraphs(em).asMap();\r\n\r\n\t\treturn Optional.ofNullable(type == null ? em.find(domainType, id, hints) : em.find(domainType, id, type, hints));\r\n\t}","title":"CRUD Repository findById() different return value","body":"<p>I think no need to create getById(... id) method in Repository bean class because in SimpleJPARepository such method is already implemented. So you can directly call this method.\nSee Official spring document:- </p>\n\n<pre><code>/*\n     * (non-Javadoc)\n     * @see org.springframework.data.repository.CrudRepository#findById(java.io.Serializable)\n     */\n    public Optional&lt;T&gt; findById(ID id) {\n\n        Assert.notNull(id, ID_MUST_NOT_BE_NULL);\n\n        Class&lt;T&gt; domainType = getDomainClass();\n\n        if (metadata == null) {\n            return Optional.ofNullable(em.find(domainType, id));\n        }\n\n        LockModeType type = metadata.getLockModeType();\n\n        Map&lt;String, Object&gt; hints = getQueryHints().withFetchGraphs(em).asMap();\n\n        return Optional.ofNullable(type == null ? em.find(domainType, id, hints) : em.find(domainType, id, type, hints));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23208927,"reputation":1159,"user_id":17302718,"display_name":"Mounir bkr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668295258,"creation_date":1668295258,"answer_id":74417317,"question_id":49967316,"body_markdown":"\r\n\r\nYou will get an exception when Task not found, to solve this add an exception to your code\r\nlike this:\r\n\r\n     public Task findTask(Integer id) {\r\n        return taskRepository.findById(id).orElseThrow(()-&gt; new RuntimeException(String.format(&quot;Account %s not found&quot;,id)));\r\n    }\r\n\r\n","title":"CRUD Repository findById() different return value","body":"<p>You will get an exception when Task not found, to solve this add an exception to your code\nlike this:</p>\n<pre><code> public Task findTask(Integer id) {\n    return taskRepository.findById(id).orElseThrow(()-&gt; new RuntimeException(String.format(&quot;Account %s not found&quot;,id)));\n}\n</code></pre>\n"}],"owner":{"account_id":11445283,"reputation":143,"user_id":8389387,"display_name":"ehr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25176,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":49967692,"answer_count":4,"score":3,"last_activity_date":1668295258,"creation_date":1524409032,"question_id":49967316,"body_markdown":"**In my SpringBoot applicatication I&#39;m using CrudRepo.\r\nI have found a problem with return value: Required != Found**\r\n\r\nGitHub: https://github.com/einhar/WebTaskManager/tree/findById-problem\r\n\r\nNo matter about changing method return type from Task into Object -&gt; IDE stopped show error, but then it could be problem due to validation of data type later on.\r\n\r\nDo you know how to fix it? Any hint?\r\n\r\nCrudRepo\r\n--------\r\n    public interface TaskRepository extends CrudRepository&lt;Task, Integer&gt; {}\r\n\r\nService\r\n--------\r\n    @Service\r\n    @Transactional\r\n    public class TaskService {\r\n    \r\n        @Autowired\r\n        private final TaskRepository taskRepository;\r\n    \r\n        public TaskService(TaskRepository taskRepository) {\r\n            this.taskRepository = taskRepository;\r\n        }\r\n    \r\n        public List&lt;Task&gt; findAll() {\r\n            List&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\r\n            for (Task task : taskRepository.findAll()) {\r\n                    tasks.add(task);\r\n            }\r\n            return tasks; // Work properly :)\r\n        }\r\n        /* ... */\r\n        public Task findTask(Integer id) {\r\n            return taskRepository.findById(id); // Find:Task | Required: java.util.Optional :(\r\n        }\r\n    }\r\n\r\n","title":"CRUD Repository findById() different return value","body":"<p><strong>In my SpringBoot applicatication I'm using CrudRepo.\nI have found a problem with return value: Required != Found</strong></p>\n\n<p>GitHub: <a href=\"https://github.com/einhar/WebTaskManager/tree/findById-problem\" rel=\"nofollow noreferrer\">https://github.com/einhar/WebTaskManager/tree/findById-problem</a></p>\n\n<p>No matter about changing method return type from Task into Object -> IDE stopped show error, but then it could be problem due to validation of data type later on.</p>\n\n<p>Do you know how to fix it? Any hint?</p>\n\n<h2>CrudRepo</h2>\n\n<pre><code>public interface TaskRepository extends CrudRepository&lt;Task, Integer&gt; {}\n</code></pre>\n\n<h2>Service</h2>\n\n<pre><code>@Service\n@Transactional\npublic class TaskService {\n\n    @Autowired\n    private final TaskRepository taskRepository;\n\n    public TaskService(TaskRepository taskRepository) {\n        this.taskRepository = taskRepository;\n    }\n\n    public List&lt;Task&gt; findAll() {\n        List&lt;Task&gt; tasks = new ArrayList&lt;&gt;();\n        for (Task task : taskRepository.findAll()) {\n                tasks.add(task);\n        }\n        return tasks; // Work properly :)\n    }\n    /* ... */\n    public Task findTask(Integer id) {\n        return taskRepository.findById(id); // Find:Task | Required: java.util.Optional :(\n    }\n}\n</code></pre>\n"},{"tags":["java","annotations","guice","inject"],"comments":[{"owner":{"account_id":109649,"reputation":11808,"user_id":290425,"accept_rate":68,"display_name":"Jan Galinski"},"score":0,"creation_date":1424165292,"post_id":28549549,"comment_id":45428882,"body_markdown":"I suppose there is a solution for this problem, but none that I have at hand right now. You could consider if you really need one Qualifier with two possible behaviors or if you just work with a XmlConfig and a JSonConfig annotation and bind explicitly.","body":"I suppose there is a solution for this problem, but none that I have at hand right now. You could consider if you really need one Qualifier with two possible behaviors or if you just work with a XmlConfig and a JSonConfig annotation and bind explicitly."}],"answers":[{"tags":[],"owner":{"account_id":1529248,"reputation":92157,"user_id":1426891,"display_name":"Jeff Bowman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1424230039,"creation_date":1424230039,"answer_id":28575445,"question_id":28549549,"body_markdown":"If you know that `@AutoConfig(provider = JsonConfigProvider) ConfigLoader&lt;?&gt; jsonConfig` is going to return you exactly the results of `jsonConfigProvider.get()`, and JsonConfigProvider obviously has a public parameterless constructor for `newInstance` to work, why wouldn&#39;t you just ask for a `JsonConfigProvider` in the first place?\r\n\r\nFundamentally Guice is just a `Map&lt;Key, Provider&gt;` with fancy wrapping. The bad news is that this makes variable bindings like &quot;bind `Foo&lt;T&gt;` for all T&quot; impossible to express concisely, and that includes your &quot;bind `@Annotation(T) Foo` for all T&quot;. The good news is that you still have two options.\r\n\r\n## Bind each provider separately\r\n\r\nThough you can&#39;t inspect annotations during provision (or tell Guice to do so for you), Guice will compare annotations using their `equals` methods if you bind an annotation _instance_ rather than an annotation _class_ (the way you would with `Names.named(&quot;some-name&quot;)`). This means that you can bind a `ConfigLoader&lt;?&gt;` with each expected annotation in a Module. Of course, this also means you&#39;ll have to have a list of possible ConfigLoader Providers available at configuration time, but they have to be compile-time constants anyway if you&#39;re using them as annotation parameters.\r\n\r\nThis solution works with constructor injection as well, but for fields you&#39;ll need both `@Inject` and `@AutoConfig(...)`, and AutoConfig will need to keep its `@BindingAnnotation` meta-annotation.\r\n\r\nTo do this, you&#39;re going to have to write an implementation of your annotation, the way Guice does with [`NamedImpl`][named]. Note that the implementations of `equals` and `hashCode` must match the ones Java provides in `java.lang.Annotation`. Then it&#39;s just a matter of (redundantly) binding like this:\r\n\r\n    for(Class&lt;ConfigLoader&lt;?&gt;&gt; clazz : loaders) {\r\n      bind(ConfigLoader.class).annotatedWith(new AutoConfigImpl(clazz))\r\n          .toProvider(clazz);\r\n    }\r\n\r\nThe definition of `equals` is up to you, which means you can (and should) bind `@AutoConfig(ConfigEnum.JSON)` and keep the Guice bindings in your modules rather than specifying your requested implementation all over your codebase.\r\n\r\n## Use custom injections\r\n\r\nYou can also use [custom injections][] to search your injected types for custom annotations like `@AutoConfig`. At this point, you&#39;d be _using Guice as a platform_ to interpret `@AutoConfig` _instead of_ `@Inject`, which means that constructor injection won&#39;t work but that you can control your injection based on the injected instance, field name, field annotation, annotation parameters, or any combination thereof. If you choose this style, you can drop `@BindingAnnotation` from AutoConfig.\r\n\r\nUse the example in [the wiki article linked above][custom injections] as your template, but at minimum you&#39;ll need to:\r\n\r\n1. Use `bindListener` on Binder or AbstractModule to match types that need this custom injection.\r\n2. In the TypeListener you bind, search injected types for `@AutoConfig`-annotated fields, and if they have any matching methods then bind those matching methods to a MembersInjector or InjectionListener. You&#39;ll probably want to tease the class literal out of the annotation instance here, and pass in the Field and Class as constructor arguments to the MembersInjector/InjectionListener.\r\n3. In the MembersInjector or InjectionListener you write, instantiate the provider and set the field to the instance the provider provides.\r\n\r\nThis is a very powerful feature, which would futher allow you to--for instance--automatically provide the configuration based on which instance you&#39;re injecting into or based on the name of the field. However, use it carefully and document it heavily, because it may be counter-intuitive to your coworkers that Guice is providing for an annotation other than `@Inject`. Also bear in mind that this won&#39;t work for constructor injection, so refactoring from field injection to constructor injection will cause Guice to complain that it&#39;s missing a required binding to instantiate the class.\r\n\r\n[named]: https://github.com/google/guice/blob/master/core/src/com/google/inject/name/NamedImpl.java\r\n[custom injections]: https://github.com/google/guice/wiki/CustomInjections","title":"Guice inject based on annotation value","body":"<p>If you know that <code>@AutoConfig(provider = JsonConfigProvider) ConfigLoader&lt;?&gt; jsonConfig</code> is going to return you exactly the results of <code>jsonConfigProvider.get()</code>, and JsonConfigProvider obviously has a public parameterless constructor for <code>newInstance</code> to work, why wouldn't you just ask for a <code>JsonConfigProvider</code> in the first place?</p>\n\n<p>Fundamentally Guice is just a <code>Map&lt;Key, Provider&gt;</code> with fancy wrapping. The bad news is that this makes variable bindings like \"bind <code>Foo&lt;T&gt;</code> for all T\" impossible to express concisely, and that includes your \"bind <code>@Annotation(T) Foo</code> for all T\". The good news is that you still have two options.</p>\n\n<h2>Bind each provider separately</h2>\n\n<p>Though you can't inspect annotations during provision (or tell Guice to do so for you), Guice will compare annotations using their <code>equals</code> methods if you bind an annotation <em>instance</em> rather than an annotation <em>class</em> (the way you would with <code>Names.named(\"some-name\")</code>). This means that you can bind a <code>ConfigLoader&lt;?&gt;</code> with each expected annotation in a Module. Of course, this also means you'll have to have a list of possible ConfigLoader Providers available at configuration time, but they have to be compile-time constants anyway if you're using them as annotation parameters.</p>\n\n<p>This solution works with constructor injection as well, but for fields you'll need both <code>@Inject</code> and <code>@AutoConfig(...)</code>, and AutoConfig will need to keep its <code>@BindingAnnotation</code> meta-annotation.</p>\n\n<p>To do this, you're going to have to write an implementation of your annotation, the way Guice does with <a href=\"https://github.com/google/guice/blob/master/core/src/com/google/inject/name/NamedImpl.java\" rel=\"nofollow\"><code>NamedImpl</code></a>. Note that the implementations of <code>equals</code> and <code>hashCode</code> must match the ones Java provides in <code>java.lang.Annotation</code>. Then it's just a matter of (redundantly) binding like this:</p>\n\n<pre><code>for(Class&lt;ConfigLoader&lt;?&gt;&gt; clazz : loaders) {\n  bind(ConfigLoader.class).annotatedWith(new AutoConfigImpl(clazz))\n      .toProvider(clazz);\n}\n</code></pre>\n\n<p>The definition of <code>equals</code> is up to you, which means you can (and should) bind <code>@AutoConfig(ConfigEnum.JSON)</code> and keep the Guice bindings in your modules rather than specifying your requested implementation all over your codebase.</p>\n\n<h2>Use custom injections</h2>\n\n<p>You can also use <a href=\"https://github.com/google/guice/wiki/CustomInjections\" rel=\"nofollow\">custom injections</a> to search your injected types for custom annotations like <code>@AutoConfig</code>. At this point, you'd be <em>using Guice as a platform</em> to interpret <code>@AutoConfig</code> <em>instead of</em> <code>@Inject</code>, which means that constructor injection won't work but that you can control your injection based on the injected instance, field name, field annotation, annotation parameters, or any combination thereof. If you choose this style, you can drop <code>@BindingAnnotation</code> from AutoConfig.</p>\n\n<p>Use the example in <a href=\"https://github.com/google/guice/wiki/CustomInjections\" rel=\"nofollow\">the wiki article linked above</a> as your template, but at minimum you'll need to:</p>\n\n<ol>\n<li>Use <code>bindListener</code> on Binder or AbstractModule to match types that need this custom injection.</li>\n<li>In the TypeListener you bind, search injected types for <code>@AutoConfig</code>-annotated fields, and if they have any matching methods then bind those matching methods to a MembersInjector or InjectionListener. You'll probably want to tease the class literal out of the annotation instance here, and pass in the Field and Class as constructor arguments to the MembersInjector/InjectionListener.</li>\n<li>In the MembersInjector or InjectionListener you write, instantiate the provider and set the field to the instance the provider provides.</li>\n</ol>\n\n<p>This is a very powerful feature, which would futher allow you to--for instance--automatically provide the configuration based on which instance you're injecting into or based on the name of the field. However, use it carefully and document it heavily, because it may be counter-intuitive to your coworkers that Guice is providing for an annotation other than <code>@Inject</code>. Also bear in mind that this won't work for constructor injection, so refactoring from field injection to constructor injection will cause Guice to complain that it's missing a required binding to instantiate the class.</p>\n"},{"tags":[],"owner":{"account_id":5180762,"reputation":409,"user_id":4146553,"display_name":"Edwin Miguel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476908839,"creation_date":1476907668,"answer_id":40140609,"question_id":28549549,"body_markdown":"I had a similar problem. I wanted to use a custom annotation that receives a enum param to choose the implementation. After a lot of research, debug and testing, I came to the following solution:\r\n\r\n    //enum to define authentication types\r\n    public enum AuthType {\r\n        Ldap, Saml\r\n    }\r\n\r\n    //custom annotation to be used in injection\r\n    @Target({ ElementType.FIELD, ElementType.PARAMETER, ElementType.METHOD })\r\n    @BindingAnnotation\r\n    public @interface Auth {\r\n        AuthType value();\r\n    }\r\n\r\n    //defintion of authenticator\r\n    public interface Authenticator {\r\n        public void doSomehting();\r\n    }\r\n\r\n    \r\n    //Authenticator implementations \r\n    public class LdapAuthenticator implements Authenticator {\r\n\r\n        @Override\r\n        public void doSomehting() {\r\n            // doing ldap stuff\r\n        }\r\n\r\n    }\r\n\r\n    public class SamlAuthenticator implements Authenticator {\r\n\r\n        @Override\r\n        public void doSomehting() {\r\n            // doing saml stuff\r\n        }\r\n\r\n    }\r\n\r\n    public class MyModule extends AbstractModule {\r\n\r\n        // annotate fields to bind to implementations\r\n        private @Auth(AuthType.Ldap) Authenticator ldap;\r\n        private @Auth(AuthType.Saml) Authenticator saml;\r\n\r\n        @Override\r\n        protected void configure() {\r\n            //bind the implementation to the annotation from field\r\n            bindAnnotated(&quot;ldap&quot;, LdapAuthenticator.class);\r\n            bindAnnotated(&quot;saml&quot;, SamlAuthenticator.class);\r\n\r\n        }\r\n\r\n        private void bindAnnotated(String fieldName, Class&lt;? extends Authenticator&gt; implementation) {\r\n            try {\r\n                //get the annotation from fields, then bind it to implementation                \r\n                Annotation ann = MyModule.class.getDeclaredField(fieldName).getAnnotation(Auth.class);\r\n                bind(Authenticator.class).annotatedWith(ann).to(implementation);\r\n            } catch (NoSuchFieldException | SecurityException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    \r\n    //usage:  add @Auth(&lt;AuthType&gt;) to the dependency\r\n    \r\n    public class ClientClass {\r\n\r\n        private Authenticator authenticator;\r\n\r\n        @Inject\r\n        public ClientClass(@Auth(AuthType.Ldap) Authenticator authenticator) {\r\n            this.authenticator = authenticator;\r\n        }\r\n    }\r\n\r\nCheck the documentation of [Binder][1]\r\n\r\nI tested the Jeff Bowman solution, but it apparently works only binding to providers\r\n\r\n  [1]: https://google.github.io/guice/api-docs/latest/javadoc/index.html?com/google/inject/Binder.html","title":"Guice inject based on annotation value","body":"<p>I had a similar problem. I wanted to use a custom annotation that receives a enum param to choose the implementation. After a lot of research, debug and testing, I came to the following solution:</p>\n\n<pre><code>//enum to define authentication types\npublic enum AuthType {\n    Ldap, Saml\n}\n\n//custom annotation to be used in injection\n@Target({ ElementType.FIELD, ElementType.PARAMETER, ElementType.METHOD })\n@BindingAnnotation\npublic @interface Auth {\n    AuthType value();\n}\n\n//defintion of authenticator\npublic interface Authenticator {\n    public void doSomehting();\n}\n\n\n//Authenticator implementations \npublic class LdapAuthenticator implements Authenticator {\n\n    @Override\n    public void doSomehting() {\n        // doing ldap stuff\n    }\n\n}\n\npublic class SamlAuthenticator implements Authenticator {\n\n    @Override\n    public void doSomehting() {\n        // doing saml stuff\n    }\n\n}\n\npublic class MyModule extends AbstractModule {\n\n    // annotate fields to bind to implementations\n    private @Auth(AuthType.Ldap) Authenticator ldap;\n    private @Auth(AuthType.Saml) Authenticator saml;\n\n    @Override\n    protected void configure() {\n        //bind the implementation to the annotation from field\n        bindAnnotated(\"ldap\", LdapAuthenticator.class);\n        bindAnnotated(\"saml\", SamlAuthenticator.class);\n\n    }\n\n    private void bindAnnotated(String fieldName, Class&lt;? extends Authenticator&gt; implementation) {\n        try {\n            //get the annotation from fields, then bind it to implementation                \n            Annotation ann = MyModule.class.getDeclaredField(fieldName).getAnnotation(Auth.class);\n            bind(Authenticator.class).annotatedWith(ann).to(implementation);\n        } catch (NoSuchFieldException | SecurityException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n\n\n//usage:  add @Auth(&lt;AuthType&gt;) to the dependency\n\npublic class ClientClass {\n\n    private Authenticator authenticator;\n\n    @Inject\n    public ClientClass(@Auth(AuthType.Ldap) Authenticator authenticator) {\n        this.authenticator = authenticator;\n    }\n}\n</code></pre>\n\n<p>Check the documentation of <a href=\"https://google.github.io/guice/api-docs/latest/javadoc/index.html?com/google/inject/Binder.html\" rel=\"nofollow\">Binder</a></p>\n\n<p>I tested the Jeff Bowman solution, but it apparently works only binding to providers</p>\n"},{"tags":[],"owner":{"account_id":26913721,"reputation":1,"user_id":20488873,"display_name":"oakishGrove"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668294400,"creation_date":1668294400,"answer_id":74417239,"question_id":28549549,"body_markdown":"As a [BindingAnnotations#binding-annotations-with-attributes][1] states equals() and hashCode() should be properly implemented. So given that there is MyAnnotation\r\n\r\n    @Qualifier\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ElementType.FIELD, ElementType.PARAMETER})\r\n    public @interface MyAnnotation {\r\n        SomeEnum value() default SomeEnum.A;\r\n    }\r\n\r\nwhich is used to specify SomeInterface implementation(SomeDefault and SomeOther), SomeModule class could look like\r\n\r\n    public class SomeModule extends AbstractModule {\r\n\r\n        @Override\r\n        protected void configure() {\r\n            bind(Key.get(SomeInterface.class, createAnnotationClass(A))).to(SomeDefault.class);\r\n            // more common binding expresion\r\n            bind(SomeInterface.class).annotatedWith(createAnnotationClass(B)).to(SomeDefault.class);\r\n        }\r\n\r\n        private Annotation createAnnotationClass(SomeEnum someEnum) {\r\n            return new MyAnnotation() {\r\n                @Override\r\n                public SomeEnum value() {\r\n                    return someEnum;\r\n                }\r\n    \r\n                @Override\r\n                public Class&lt;? extends Annotation&gt; annotationType() {\r\n                    return MyAnnotation.class;\r\n                }\r\n    \r\n                @Override\r\n                public boolean equals(Object o) {\r\n                    if (this == o) return true;\r\n                    if (o == null || getClass() != o.getClass()) return false;\r\n                    MyAnnotationCl myAnnoCl = (MyAnnotationCl) o;\r\n                    return A == myAnnoCl.getValue();\r\n                }\r\n    \r\n                @Override\r\n                public int hashCode() {\r\n                    // from java annotation documentation\r\n                    return (127 * &quot;value&quot;.hashCode()) ^ value().hashCode();\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nThen annotation could be used as follows:\r\n\r\n    public class DoSomethingWithSomething {\r\n        private final SomeInterface someImplementation;\r\n    \r\n        @Inject\r\n        public DoSomethingWithSomething(\r\n                @MyAnnotation SomeInterface someDefault\r\n    //            @MyAnnotation(A) SomeInterface someDefault\r\n    //            @MyAnnotation(B) SomeInterface someOther\r\n        ) {\r\n    \r\n            this.someImplementation = someDefault;\r\n        }\r\n    }\r\n         \r\n  [1]: https://github.com/google/guice/wiki/BindingAnnotations#binding-annotations-with-attributes\r\n","title":"Guice inject based on annotation value","body":"<p>As a <a href=\"https://github.com/google/guice/wiki/BindingAnnotations#binding-annotations-with-attributes\" rel=\"nofollow noreferrer\">BindingAnnotations#binding-annotations-with-attributes</a> states equals() and hashCode() should be properly implemented. So given that there is MyAnnotation</p>\n<pre><code>@Qualifier\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ElementType.FIELD, ElementType.PARAMETER})\npublic @interface MyAnnotation {\n    SomeEnum value() default SomeEnum.A;\n}\n</code></pre>\n<p>which is used to specify SomeInterface implementation(SomeDefault and SomeOther), SomeModule class could look like</p>\n<pre><code>public class SomeModule extends AbstractModule {\n\n    @Override\n    protected void configure() {\n        bind(Key.get(SomeInterface.class, createAnnotationClass(A))).to(SomeDefault.class);\n        // more common binding expresion\n        bind(SomeInterface.class).annotatedWith(createAnnotationClass(B)).to(SomeDefault.class);\n    }\n\n    private Annotation createAnnotationClass(SomeEnum someEnum) {\n        return new MyAnnotation() {\n            @Override\n            public SomeEnum value() {\n                return someEnum;\n            }\n\n            @Override\n            public Class&lt;? extends Annotation&gt; annotationType() {\n                return MyAnnotation.class;\n            }\n\n            @Override\n            public boolean equals(Object o) {\n                if (this == o) return true;\n                if (o == null || getClass() != o.getClass()) return false;\n                MyAnnotationCl myAnnoCl = (MyAnnotationCl) o;\n                return A == myAnnoCl.getValue();\n            }\n\n            @Override\n            public int hashCode() {\n                // from java annotation documentation\n                return (127 * &quot;value&quot;.hashCode()) ^ value().hashCode();\n            }\n        };\n    }\n}\n</code></pre>\n<p>Then annotation could be used as follows:</p>\n<pre><code>public class DoSomethingWithSomething {\n    private final SomeInterface someImplementation;\n\n    @Inject\n    public DoSomethingWithSomething(\n            @MyAnnotation SomeInterface someDefault\n//            @MyAnnotation(A) SomeInterface someDefault\n//            @MyAnnotation(B) SomeInterface someOther\n    ) {\n\n        this.someImplementation = someDefault;\n    }\n}\n     \n</code></pre>\n"}],"owner":{"account_id":5797834,"reputation":2627,"user_id":4573065,"accept_rate":100,"display_name":"ST-DDT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8172,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":28575445,"answer_count":3,"score":6,"last_activity_date":1668294400,"creation_date":1424117593,"question_id":28549549,"body_markdown":"I would like to use goolge/guice inject a value based on a class i provide with the annotation.\r\n\r\nAutoConfig annotation\r\n\r\n    @BindingAnnotation\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Target({ ElementType.PARAMETER, ElementType.FIELD })\r\n    public @interface AutoConfig {\r\n        // default null not possible\r\n        Class&lt;? extends Provider&lt;? extends ConfigLoader&lt;?&gt;&gt;&gt; provider() default XMLAutoConfigProvider.class;\r\n    }\r\n\r\nThis is my annotation which allows configuring the type of config, that should be used for the annotated fields.\r\n\r\nUsecase:\r\n\r\n    @AutoConfig()\r\n    ConfigLoader&lt;?&gt; defaultConfig;\r\n\r\n    @AutoConfig(provider = JsonConfigProvider)\r\n    ConfigLoader&lt;?&gt; jsonConfig;\r\n\r\nI want to have two configs, one default/xml one and a json one. They will probably never occur in the same class at the same time. But i don&#39;t know when the one or the other is used. I used the approach with a class because they are provided by some dependencies/libs and this annotation will be used for some (plugable) submodules.\r\n\r\nMyGuiceModule\r\n\r\n    public class MyGuiceModule extends AbstractModule {\r\n        @Override\r\n        protected void configure() {\r\n            bind(new TypeLiteral&lt;ConfigLoader&lt;?&gt;&gt;() {})\r\n                .annotatedWith(AutoConfig.class)\r\n                .toProvider(autoConfig.provider());\r\n        }\r\n    }\r\n\r\nThis the critical part, i just cannot imagine how to implement it.\r\n\r\n\r\nSo basically i just want to use the provider class specified in the annotation.\r\nIts not necessary to use the provider class here too. Because autoConfig.provider().newInstance() is basically all i need. (I need to use a setter on the new instance but thats all i want to do at this place)\r\n\r\nTo sum it up all i really want to do is push the annotation (or its values to the provider) either using the get(AutoConfig autoConfig) or in the constructor. \r\nCurrently i only use the constructor to inject the configFile value i want to set on the newly generated config instance.","title":"Guice inject based on annotation value","body":"<p>I would like to use goolge/guice inject a value based on a class i provide with the annotation.</p>\n\n<p>AutoConfig annotation</p>\n\n<pre><code>@BindingAnnotation\n@Retention(RetentionPolicy.RUNTIME)\n@Target({ ElementType.PARAMETER, ElementType.FIELD })\npublic @interface AutoConfig {\n    // default null not possible\n    Class&lt;? extends Provider&lt;? extends ConfigLoader&lt;?&gt;&gt;&gt; provider() default XMLAutoConfigProvider.class;\n}\n</code></pre>\n\n<p>This is my annotation which allows configuring the type of config, that should be used for the annotated fields.</p>\n\n<p>Usecase:</p>\n\n<pre><code>@AutoConfig()\nConfigLoader&lt;?&gt; defaultConfig;\n\n@AutoConfig(provider = JsonConfigProvider)\nConfigLoader&lt;?&gt; jsonConfig;\n</code></pre>\n\n<p>I want to have two configs, one default/xml one and a json one. They will probably never occur in the same class at the same time. But i don't know when the one or the other is used. I used the approach with a class because they are provided by some dependencies/libs and this annotation will be used for some (plugable) submodules.</p>\n\n<p>MyGuiceModule</p>\n\n<pre><code>public class MyGuiceModule extends AbstractModule {\n    @Override\n    protected void configure() {\n        bind(new TypeLiteral&lt;ConfigLoader&lt;?&gt;&gt;() {})\n            .annotatedWith(AutoConfig.class)\n            .toProvider(autoConfig.provider());\n    }\n}\n</code></pre>\n\n<p>This the critical part, i just cannot imagine how to implement it.</p>\n\n<p>So basically i just want to use the provider class specified in the annotation.\nIts not necessary to use the provider class here too. Because autoConfig.provider().newInstance() is basically all i need. (I need to use a setter on the new instance but thats all i want to do at this place)</p>\n\n<p>To sum it up all i really want to do is push the annotation (or its values to the provider) either using the get(AutoConfig autoConfig) or in the constructor. \nCurrently i only use the constructor to inject the configFile value i want to set on the newly generated config instance.</p>\n"},{"tags":["java","arrays","object","oop","import"],"answers":[{"tags":[],"owner":{"account_id":25611196,"reputation":73,"user_id":19384598,"display_name":"BobDidley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668228450,"creation_date":1668228322,"answer_id":74410425,"question_id":74410389,"body_markdown":"You can have the Main class inherit the Arrays class by using the **extends** but Java doesn&#39;t allow multiple inheritance so you wouldn&#39;t be able to extend any other classes. Aside from the fact that inheritance should be done where the parent and child class share a logical relationship.\r\n\r\nInstead you can create a generic interface and the Arrays class can implement all the methods that you already have in there. Then the Main class can implement the interface (i.e. IterableInterface) and you can even specify which concrete type you&#39;re using and what ivars it should contain, but that&#39;s more work than what you&#39;re probably trying to achieve.\r\n\r\nHonestly, importing a class like is no problem. Often times you will find that the disadvantage of OOP is that inheritance in cases where composition or aggregation should be used. This is not applicable in this case because an import is more appropriate but be aware of it.","title":"How do I bring over an Array from another class?","body":"<p>You can have the Main class inherit the Arrays class by using the <strong>extends</strong> but Java doesn't allow multiple inheritance so you wouldn't be able to extend any other classes. Aside from the fact that inheritance should be done where the parent and child class share a logical relationship.</p>\n<p>Instead you can create a generic interface and the Arrays class can implement all the methods that you already have in there. Then the Main class can implement the interface (i.e. IterableInterface) and you can even specify which concrete type you're using and what ivars it should contain, but that's more work than what you're probably trying to achieve.</p>\n<p>Honestly, importing a class like is no problem. Often times you will find that the disadvantage of OOP is that inheritance in cases where composition or aggregation should be used. This is not applicable in this case because an import is more appropriate but be aware of it.</p>\n"},{"tags":[],"owner":{"account_id":26876381,"reputation":86,"user_id":20457576,"display_name":"Dinuka Silva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668236378,"creation_date":1668236378,"answer_id":74410981,"question_id":74410389,"body_markdown":"I recommend you to learn java modifiers. It will be helpful to you for your future. In this case. you can use instance method instead of static method.\r\nexample :-\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        Arrays arrays = new Arrays();\r\n        int[] myIntegers = arrays.getIntegers(5);\r\n        int[] sorted = arrays.sortIntegers(myIntegers);\r\n        arrays.printArray(myIntegers);\r\n        arrays.printArray(sorted);\r\n    }\r\n\r\n}\r\n\r\n    class Arrays {\r\n\r\n    public static Scanner scan = new Scanner(System.in);\r\n\r\n    public  int[] getIntegers(int number) {\r\n\r\n        System.out.println(&quot;Please enter &quot; + number + &quot; numbers\\r&quot;);\r\n        int[] entered = new int[number];\r\n        for(int i = 0; i &lt; entered.length; i++) {\r\n            entered[i] = scan.nextInt();\r\n        }\r\n        return entered;\r\n    }\r\n\r\n    public void printArray(int[] entered) {\r\n        for(int i = 0; i &lt; entered.length; i++) {\r\n            System.out.println(&quot;Element &quot; + i + &quot;, typed value was &quot; + entered[i]);\r\n        }\r\n    }\r\n\r\n    public int[] sortIntegers(int[] entered) {\r\n        int[] sortedArray = new int[entered.length];\r\n        for(int i = 0; i &lt; entered.length; i++) {\r\n            sortedArray[i] = entered[i];\r\n        }\r\n\r\n        boolean flag = true;\r\n        int temp;\r\n        while(flag) {\r\n            flag = false;\r\n            for(int i = 0; i &lt; sortedArray.length - 1; i++) {\r\n                if(sortedArray[i] &lt; sortedArray[i + 1]) {\r\n                    temp = sortedArray[i];\r\n                    sortedArray[i] = sortedArray[i + 1];\r\n                    sortedArray[i + 1] = temp;\r\n                    flag = true;\r\n\r\n                }\r\n            }\r\n        }\r\n        return sortedArray;\r\n    }\r\n}","title":"How do I bring over an Array from another class?","body":"<p>I recommend you to learn java modifiers. It will be helpful to you for your future. In this case. you can use instance method instead of static method.\nexample :-</p>\n<pre><code>public class Main {\npublic static void main(String[] args) {\n    Arrays arrays = new Arrays();\n    int[] myIntegers = arrays.getIntegers(5);\n    int[] sorted = arrays.sortIntegers(myIntegers);\n    arrays.printArray(myIntegers);\n    arrays.printArray(sorted);\n}\n</code></pre>\n<p>}</p>\n<pre><code>class Arrays {\n\npublic static Scanner scan = new Scanner(System.in);\n\npublic  int[] getIntegers(int number) {\n\n    System.out.println(&quot;Please enter &quot; + number + &quot; numbers\\r&quot;);\n    int[] entered = new int[number];\n    for(int i = 0; i &lt; entered.length; i++) {\n        entered[i] = scan.nextInt();\n    }\n    return entered;\n}\n\npublic void printArray(int[] entered) {\n    for(int i = 0; i &lt; entered.length; i++) {\n        System.out.println(&quot;Element &quot; + i + &quot;, typed value was &quot; + entered[i]);\n    }\n}\n\npublic int[] sortIntegers(int[] entered) {\n    int[] sortedArray = new int[entered.length];\n    for(int i = 0; i &lt; entered.length; i++) {\n        sortedArray[i] = entered[i];\n    }\n\n    boolean flag = true;\n    int temp;\n    while(flag) {\n        flag = false;\n        for(int i = 0; i &lt; sortedArray.length - 1; i++) {\n            if(sortedArray[i] &lt; sortedArray[i + 1]) {\n                temp = sortedArray[i];\n                sortedArray[i] = sortedArray[i + 1];\n                sortedArray[i + 1] = temp;\n                flag = true;\n\n            }\n        }\n    }\n    return sortedArray;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668293895,"creation_date":1668246327,"answer_id":74411871,"question_id":74410389,"body_markdown":"# tl;dr\r\n\r\nRe-design your app to use objects. \r\n\r\n - Write a class for state management. \r\n - Write a class for the user-interface.\r\n - Write a class to run the show, to hold instances of the state manager and the user-interface objects, to contain the `main` method.\r\n\r\nTo answer your query, “How do I bring over an Array from another class?”: \r\n\r\n - &#128073; Pass the arrays between these objects. \r\n - Avoid using `static` global variables. \r\n\r\n\r\n# Details\r\n\r\nThe problem is that you are not really thinking in terms of objects. You are basically doing procedural programming, writing methods as subroutines, and using `static` variables as global variables. Such procedural programming is not necessarily a bad thing, at least not for simple little apps. But you are not learning OOP.\r\n\r\nTip: **Avoid `static`**. By definition `static` is not object-oriented. Its frequent use is usually a big warning sign that your OOP design is flawed.\r\n\r\nFor OOP, do not think about input -&gt; processing -&gt; output. Think about responsibilities, jobs to be done. \r\n\r\nWe have two main areas of responsibility here in your app: user-interface and managing [state][1]. \r\n\r\n - Interacting with a user via the console\r\n - Storing some state (the arrays), and processing that state (sorting those arrays). \r\n\r\nThe part of your app that interacts with the user really does not care about how arrays are stored (in memory as an array, in memory as an `ArrayList`, in a database, etc.). Nor does the UI part of the app care about what algorithm is used in sorting. \r\n\r\nLikewise, the part of the app handling the arrays need not know anything about how to interact with the user. The state management does not care if the user is communicating via a console, a GUI desktop app, a web app, or a web service.\r\n\r\nFirst a class to manage the state.\r\n\r\n```java\r\npackage work.basil.example.maths;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.Objects;\r\n\r\npublic class NumbersJuggler\r\n{\r\n    private final int[] numbersOriginal;\r\n    private final int[] numbersSorted;\r\n\r\n    public NumbersJuggler ( final int[] numbers )\r\n    {\r\n        this.numbersOriginal = Objects.requireNonNull( numbers );\r\n        this.numbersSorted = Arrays.copyOf( this.numbersOriginal , this.numbersOriginal.length );\r\n        Arrays.sort( this.numbersSorted );\r\n    }\r\n\r\n    public int[] getNumbersOriginal ( )\r\n    {\r\n        return Arrays.copyOf( this.numbersOriginal , this.numbersOriginal.length );\r\n    }\r\n\r\n    public int[] getNumbersSorted ( )\r\n    {\r\n        return Arrays.copyOf( this.numbersSorted , this.numbersSorted.length );\r\n    }\r\n\r\n    @Override\r\n    public String toString ( )\r\n    {\r\n        return &quot;NumbersJuggler{&quot; +\r\n                &quot;numbersOriginal=&quot; + Arrays.toString( numbersOriginal ) +\r\n                &quot;, numbersSorted=&quot; + Arrays.toString( numbersSorted ) +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals ( final Object o )\r\n    {\r\n        if ( this == o ) { return true; }\r\n        if ( o == null || getClass() != o.getClass() ) { return false; }\r\n        NumbersJuggler that = ( NumbersJuggler ) o;\r\n        return Arrays.equals( numbersOriginal , that.numbersOriginal ) &amp;&amp; Arrays.equals( numbersSorted , that.numbersSorted );\r\n    }\r\n\r\n    @Override\r\n    public int hashCode ( )\r\n    {\r\n        int result = Arrays.hashCode( numbersOriginal );\r\n        result = 31 * result + Arrays.hashCode( numbersSorted );\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\nNotice how that `NumbersJuggler` class knows nothing about interacting with a user. Its job is to hold a collection of numbers, and sort those numbers. We could later rewrite this class to use `ArrayList` internally rather than a mere array, and the rest of our app would not break, would not care in the least. \r\n\r\nAlso notice how the getter methods use `return Arrays.copyOf` to return a copy of the arrays. We do not want other classes to have access to manipulating the content being managed by the `NumbersJuggler` class. \r\n\r\nNext we need a class for the user-interface. Its only tasks:\r\n\r\n - Gather numbers. \r\n - Report numbers.\r\n\r\n```java\r\npackage work.basil.example.maths;\r\n\r\nimport java.time.Instant;\r\nimport java.util.Scanner;\r\n\r\npublic class NumbersConsoleUI\r\n{\r\n    private final Scanner scanner;\r\n    private final int countOfNumbers;\r\n\r\n    public NumbersConsoleUI ( final Scanner scanner , final int countOfNumbers )\r\n    {\r\n        this.scanner = scanner;\r\n        this.countOfNumbers = countOfNumbers;\r\n    }\r\n\r\n    public int[] gatherNumbers ( )\r\n    {\r\n        System.out.println( &quot;Please enter &quot; + this.countOfNumbers + &quot; numbers:&quot; );\r\n        int[] numbers = new int[ this.countOfNumbers ];\r\n        for ( int index = 0 ; index &lt; numbers.length ; index++ )\r\n        {\r\n            numbers[ index ] = scanner.nextInt();\r\n        }\r\n        return numbers;\r\n    }\r\n\r\n    public void reportOriginalNumbers ( final int[] numbersOriginal )\r\n    {\r\n        for ( int index = 0 ; index &lt; numbersOriginal.length ; index++ )\r\n        {\r\n            int ordinal = index + 1;\r\n            System.out.println( &quot;Element # &quot; + ordinal + &quot;, typed value was &quot; + numbersOriginal[ index ] );\r\n        }\r\n    }\r\n\r\n    public void reportSortedNumbers ( final int[] numbersSorted )\r\n    {\r\n        for ( int index = 0 ; index &lt; numbersSorted.length ; index++ )\r\n        {\r\n            int ordinal = index + 1;\r\n            System.out.println( &quot;Element # &quot; + ordinal + &quot;, sorted value was &quot; + numbersSorted[ index ] );\r\n        }\r\n    }\r\n\r\n    public void reportAppEnding ( )\r\n    {\r\n        System.out.println( &quot;App ending at &quot; + Instant.now() );\r\n    }\r\n}\r\n```\r\n\r\nNotice how that `NumbersConsoleUI` class knows nothing about how numbers are stored, and knows nothing about sorting algorithms. \r\n\r\nLastly, we need an app class to pull this all together. Its job is to instantiate the other parts of our app (state manager, and UI). \r\n\r\nThis app class acts like the conductor of an orchestra, signaling the various instrument players when to play their part. And just like a conductor need not know the intricacies of the [reed within the oboe][2], this app class need not know about the intricacies of storing and sorting numbers nor the intricacies of how to interact with a console. Just like a conductor relies on the oboist to manage their oboe, the app class relies on the `NumbersJuggler` &amp; `NumbersConsoleUI` classes to each manage their own details. \r\n\r\n```java\r\npackage work.basil.example.maths;\r\n\r\nimport java.util.Objects;\r\nimport java.util.Scanner;\r\n\r\npublic class NumbersApp\r\n{\r\n    public static void main ( String[] args )\r\n    {\r\n        Scanner scannner = new Scanner( System.in );\r\n        int countOfNumbers = 5;\r\n\r\n        NumbersConsoleUI ui = new NumbersConsoleUI( scannner , countOfNumbers );\r\n        int[] numbers = ui.gatherNumbers();\r\n        NumbersJuggler numbersJuggler = new NumbersJuggler( numbers );\r\n        ui.reportOriginalNumbers( numbersJuggler.getNumbersOriginal() );\r\n        ui.reportSortedNumbers( numbersJuggler.getNumbersSorted() );\r\n        ui.reportAppEnding();\r\n    }\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nPlease enter 5 numbers:\r\n42\r\n555\r\n105\r\n7\r\n55\r\nElement # 1, typed value was 42\r\nElement # 2, typed value was 555\r\nElement # 3, typed value was 105\r\nElement # 4, typed value was 7\r\nElement # 5, typed value was 55\r\nElement # 1, sorted value was 7\r\nElement # 2, sorted value was 42\r\nElement # 3, sorted value was 55\r\nElement # 4, sorted value was 105\r\nElement # 5, sorted value was 555\r\nApp ending at 2022-11-12T09:49:47.231213Z\r\n```\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/State_(computer_science)\r\n  [2]: https://en.wikipedia.org/wiki/Oboe#Reeds","title":"How do I bring over an Array from another class?","body":"<h1>tl;dr</h1>\n<p>Re-design your app to use objects.</p>\n<ul>\n<li>Write a class for state management.</li>\n<li>Write a class for the user-interface.</li>\n<li>Write a class to run the show, to hold instances of the state manager and the user-interface objects, to contain the <code>main</code> method.</li>\n</ul>\n<p>To answer your query, “How do I bring over an Array from another class?”:</p>\n<ul>\n<li>👉 Pass the arrays between these objects.</li>\n<li>Avoid using <code>static</code> global variables.</li>\n</ul>\n<h1>Details</h1>\n<p>The problem is that you are not really thinking in terms of objects. You are basically doing procedural programming, writing methods as subroutines, and using <code>static</code> variables as global variables. Such procedural programming is not necessarily a bad thing, at least not for simple little apps. But you are not learning OOP.</p>\n<p>Tip: <strong>Avoid <code>static</code></strong>. By definition <code>static</code> is not object-oriented. Its frequent use is usually a big warning sign that your OOP design is flawed.</p>\n<p>For OOP, do not think about input -&gt; processing -&gt; output. Think about responsibilities, jobs to be done.</p>\n<p>We have two main areas of responsibility here in your app: user-interface and managing <a href=\"https://en.wikipedia.org/wiki/State_(computer_science)\" rel=\"nofollow noreferrer\">state</a>.</p>\n<ul>\n<li>Interacting with a user via the console</li>\n<li>Storing some state (the arrays), and processing that state (sorting those arrays).</li>\n</ul>\n<p>The part of your app that interacts with the user really does not care about how arrays are stored (in memory as an array, in memory as an <code>ArrayList</code>, in a database, etc.). Nor does the UI part of the app care about what algorithm is used in sorting.</p>\n<p>Likewise, the part of the app handling the arrays need not know anything about how to interact with the user. The state management does not care if the user is communicating via a console, a GUI desktop app, a web app, or a web service.</p>\n<p>First a class to manage the state.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.maths;\n\nimport java.util.Arrays;\nimport java.util.Objects;\n\npublic class NumbersJuggler\n{\n    private final int[] numbersOriginal;\n    private final int[] numbersSorted;\n\n    public NumbersJuggler ( final int[] numbers )\n    {\n        this.numbersOriginal = Objects.requireNonNull( numbers );\n        this.numbersSorted = Arrays.copyOf( this.numbersOriginal , this.numbersOriginal.length );\n        Arrays.sort( this.numbersSorted );\n    }\n\n    public int[] getNumbersOriginal ( )\n    {\n        return Arrays.copyOf( this.numbersOriginal , this.numbersOriginal.length );\n    }\n\n    public int[] getNumbersSorted ( )\n    {\n        return Arrays.copyOf( this.numbersSorted , this.numbersSorted.length );\n    }\n\n    @Override\n    public String toString ( )\n    {\n        return &quot;NumbersJuggler{&quot; +\n                &quot;numbersOriginal=&quot; + Arrays.toString( numbersOriginal ) +\n                &quot;, numbersSorted=&quot; + Arrays.toString( numbersSorted ) +\n                '}';\n    }\n\n    @Override\n    public boolean equals ( final Object o )\n    {\n        if ( this == o ) { return true; }\n        if ( o == null || getClass() != o.getClass() ) { return false; }\n        NumbersJuggler that = ( NumbersJuggler ) o;\n        return Arrays.equals( numbersOriginal , that.numbersOriginal ) &amp;&amp; Arrays.equals( numbersSorted , that.numbersSorted );\n    }\n\n    @Override\n    public int hashCode ( )\n    {\n        int result = Arrays.hashCode( numbersOriginal );\n        result = 31 * result + Arrays.hashCode( numbersSorted );\n        return result;\n    }\n}\n</code></pre>\n<p>Notice how that <code>NumbersJuggler</code> class knows nothing about interacting with a user. Its job is to hold a collection of numbers, and sort those numbers. We could later rewrite this class to use <code>ArrayList</code> internally rather than a mere array, and the rest of our app would not break, would not care in the least.</p>\n<p>Also notice how the getter methods use <code>return Arrays.copyOf</code> to return a copy of the arrays. We do not want other classes to have access to manipulating the content being managed by the <code>NumbersJuggler</code> class.</p>\n<p>Next we need a class for the user-interface. Its only tasks:</p>\n<ul>\n<li>Gather numbers.</li>\n<li>Report numbers.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.maths;\n\nimport java.time.Instant;\nimport java.util.Scanner;\n\npublic class NumbersConsoleUI\n{\n    private final Scanner scanner;\n    private final int countOfNumbers;\n\n    public NumbersConsoleUI ( final Scanner scanner , final int countOfNumbers )\n    {\n        this.scanner = scanner;\n        this.countOfNumbers = countOfNumbers;\n    }\n\n    public int[] gatherNumbers ( )\n    {\n        System.out.println( &quot;Please enter &quot; + this.countOfNumbers + &quot; numbers:&quot; );\n        int[] numbers = new int[ this.countOfNumbers ];\n        for ( int index = 0 ; index &lt; numbers.length ; index++ )\n        {\n            numbers[ index ] = scanner.nextInt();\n        }\n        return numbers;\n    }\n\n    public void reportOriginalNumbers ( final int[] numbersOriginal )\n    {\n        for ( int index = 0 ; index &lt; numbersOriginal.length ; index++ )\n        {\n            int ordinal = index + 1;\n            System.out.println( &quot;Element # &quot; + ordinal + &quot;, typed value was &quot; + numbersOriginal[ index ] );\n        }\n    }\n\n    public void reportSortedNumbers ( final int[] numbersSorted )\n    {\n        for ( int index = 0 ; index &lt; numbersSorted.length ; index++ )\n        {\n            int ordinal = index + 1;\n            System.out.println( &quot;Element # &quot; + ordinal + &quot;, sorted value was &quot; + numbersSorted[ index ] );\n        }\n    }\n\n    public void reportAppEnding ( )\n    {\n        System.out.println( &quot;App ending at &quot; + Instant.now() );\n    }\n}\n</code></pre>\n<p>Notice how that <code>NumbersConsoleUI</code> class knows nothing about how numbers are stored, and knows nothing about sorting algorithms.</p>\n<p>Lastly, we need an app class to pull this all together. Its job is to instantiate the other parts of our app (state manager, and UI).</p>\n<p>This app class acts like the conductor of an orchestra, signaling the various instrument players when to play their part. And just like a conductor need not know the intricacies of the <a href=\"https://en.wikipedia.org/wiki/Oboe#Reeds\" rel=\"nofollow noreferrer\">reed within the oboe</a>, this app class need not know about the intricacies of storing and sorting numbers nor the intricacies of how to interact with a console. Just like a conductor relies on the oboist to manage their oboe, the app class relies on the <code>NumbersJuggler</code> &amp; <code>NumbersConsoleUI</code> classes to each manage their own details.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.example.maths;\n\nimport java.util.Objects;\nimport java.util.Scanner;\n\npublic class NumbersApp\n{\n    public static void main ( String[] args )\n    {\n        Scanner scannner = new Scanner( System.in );\n        int countOfNumbers = 5;\n\n        NumbersConsoleUI ui = new NumbersConsoleUI( scannner , countOfNumbers );\n        int[] numbers = ui.gatherNumbers();\n        NumbersJuggler numbersJuggler = new NumbersJuggler( numbers );\n        ui.reportOriginalNumbers( numbersJuggler.getNumbersOriginal() );\n        ui.reportSortedNumbers( numbersJuggler.getNumbersSorted() );\n        ui.reportAppEnding();\n    }\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Please enter 5 numbers:\n42\n555\n105\n7\n55\nElement # 1, typed value was 42\nElement # 2, typed value was 555\nElement # 3, typed value was 105\nElement # 4, typed value was 7\nElement # 5, typed value was 55\nElement # 1, sorted value was 7\nElement # 2, sorted value was 42\nElement # 3, sorted value was 55\nElement # 4, sorted value was 105\nElement # 5, sorted value was 555\nApp ending at 2022-11-12T09:49:47.231213Z\n</code></pre>\n"}],"owner":{"account_id":26906854,"reputation":3,"user_id":20483051,"display_name":"LemonRemon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74410981,"answer_count":3,"score":0,"last_activity_date":1668293895,"creation_date":1668227478,"question_id":74410389,"body_markdown":"I&#39;m completely new to Java, and doing some online courses. I was doing this task when the online instructions did the task under a single Main class. I was trying to do some testing as I like to try keep my main class simple and was wondering how I could go about bringing about different arrays and method from another class over to my main class. \r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class Arrays {\r\n\r\n    public static Scanner scan = new Scanner(System.in);\r\n\r\n    public static int[] getIntegers(int number) {\r\n\r\n        System.out.println(&quot;Please enter &quot; + number + &quot; numbers\\r&quot;);\r\n        int[] entered = new int[number];\r\n        for(int i = 0; i &lt; entered.length; i++) {\r\n            entered[i] = scan.nextInt();\r\n        }\r\n        return entered;\r\n    }\r\n\r\n    public static void printArray(int[] entered) {\r\n        for(int i = 0; i &lt; entered.length; i++) {\r\n            System.out.println(&quot;Element &quot; + i + &quot;, typed value was &quot; + entered[i]);\r\n        }\r\n    }\r\n\r\n    public static int[] sortIntegers(int[] entered) {\r\n        int[] sortedArray = new int[entered.length];\r\n        for(int i = 0; i &lt; entered.length; i++) {\r\n            sortedArray[i] = entered[i];\r\n        }\r\n\r\n        boolean flag = true;\r\n        int temp;\r\n        while(flag) {\r\n            flag = false;\r\n            for(int i = 0; i &lt; sortedArray.length - 1; i++) {\r\n                if(sortedArray[i] &lt; sortedArray[i + 1]) {\r\n                    temp = sortedArray[i];\r\n                    sortedArray[i] = sortedArray[i + 1];\r\n                    sortedArray[i + 1] = temp;\r\n                    flag = true;\r\n\r\n                }\r\n            }\r\n        }\r\n        return sortedArray;\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd my Main class.\r\n\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main (String[] args) {\r\n\r\n\r\n        int[] myIntegers = getIntegers(5);\r\n        int[] sorted = sortIntegers(myIntegers);\r\n        printArray(myIntegers);\r\n        printArray(sorted);\r\n\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nIntelliJ allows me to just import static className over but I want to try it without a method that just imports the class over by using OOP standards.\r\n\r\nas you can see I want to bring over getIntegers, printArray, and sortIntegers.\r\n","title":"How do I bring over an Array from another class?","body":"<p>I'm completely new to Java, and doing some online courses. I was doing this task when the online instructions did the task under a single Main class. I was trying to do some testing as I like to try keep my main class simple and was wondering how I could go about bringing about different arrays and method from another class over to my main class.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Arrays {\n\n    public static Scanner scan = new Scanner(System.in);\n\n    public static int[] getIntegers(int number) {\n\n        System.out.println(&quot;Please enter &quot; + number + &quot; numbers\\r&quot;);\n        int[] entered = new int[number];\n        for(int i = 0; i &lt; entered.length; i++) {\n            entered[i] = scan.nextInt();\n        }\n        return entered;\n    }\n\n    public static void printArray(int[] entered) {\n        for(int i = 0; i &lt; entered.length; i++) {\n            System.out.println(&quot;Element &quot; + i + &quot;, typed value was &quot; + entered[i]);\n        }\n    }\n\n    public static int[] sortIntegers(int[] entered) {\n        int[] sortedArray = new int[entered.length];\n        for(int i = 0; i &lt; entered.length; i++) {\n            sortedArray[i] = entered[i];\n        }\n\n        boolean flag = true;\n        int temp;\n        while(flag) {\n            flag = false;\n            for(int i = 0; i &lt; sortedArray.length - 1; i++) {\n                if(sortedArray[i] &lt; sortedArray[i + 1]) {\n                    temp = sortedArray[i];\n                    sortedArray[i] = sortedArray[i + 1];\n                    sortedArray[i + 1] = temp;\n                    flag = true;\n\n                }\n            }\n        }\n        return sortedArray;\n    }\n}\n\n</code></pre>\n<p>And my Main class.</p>\n<pre><code>public class Main {\n\n    public static void main (String[] args) {\n\n\n        int[] myIntegers = getIntegers(5);\n        int[] sorted = sortIntegers(myIntegers);\n        printArray(myIntegers);\n        printArray(sorted);\n\n\n    }\n}\n</code></pre>\n<p>IntelliJ allows me to just import static className over but I want to try it without a method that just imports the class over by using OOP standards.</p>\n<p>as you can see I want to bring over getIntegers, printArray, and sortIntegers.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":1,"creation_date":1668291869,"post_id":74416928,"comment_id":131370982,"body_markdown":"If by &quot;infront of the camera&quot;, you mean from a camera preview, you cannot get that from a drawing cache. However, you can get access to preview frames, such as [via CameraX](https://developer.android.com/training/camerax/analyze)","body":"If by &quot;infront of the camera&quot;, you mean from a camera preview, you cannot get that from a drawing cache. However, you can get access to preview frames, such as <a href=\"https://developer.android.com/training/camerax/analyze\" rel=\"nofollow noreferrer\">via CameraX</a>"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1668291885,"post_id":74416928,"comment_id":131370990,"body_markdown":"Welcome to StackOverflow. Not sure what you mean by &#39;pixel infront of the camera&#39;. I&#39;m going to assume you want to do analysis of a live camera preview. In which case have you read: https://developer.android.com/training/camerax/analyze (and done the codelab?)","body":"Welcome to StackOverflow. Not sure what you mean by &#39;pixel infront of the camera&#39;. I&#39;m going to assume you want to do analysis of a live camera preview. In which case have you read: <a href=\"https://developer.android.com/training/camerax/analyze\" rel=\"nofollow noreferrer\">developer.android.com/training/camerax/analyze</a> (and done the codelab?)"},{"owner":{"account_id":26695265,"reputation":1,"user_id":20303234,"display_name":"Peter"},"score":0,"creation_date":1668292971,"post_id":74416928,"comment_id":131371153,"body_markdown":"Thanks i find little info about this, that&#39;s why i attempting to know how does it work .","body":"Thanks i find little info about this, that&#39;s why i attempting to know how does it work ."},{"owner":{"account_id":26695265,"reputation":1,"user_id":20303234,"display_name":"Peter"},"score":0,"creation_date":1668644098,"post_id":74416928,"comment_id":131458724,"body_markdown":"@MorrisonChang Can you give me an example how does it work?","body":"@MorrisonChang Can you give me an example how does it work?"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1668645504,"post_id":74416928,"comment_id":131458942,"body_markdown":"Not clear what you are asking. The codelab provides a sample implementation, searching on &quot;github android camerax samples&quot; leads to: https://github.com/android/camera-samples Image processing in general is a broad subject. Android is doing a lot of stuff between the camera sensor and giving you a bitmap.","body":"Not clear what you are asking. The codelab provides a sample implementation, searching on &quot;github android camerax samples&quot; leads to: <a href=\"https://github.com/android/camera-samples\" rel=\"nofollow noreferrer\">github.com/android/camera-samples</a> Image processing in general is a broad subject. Android is doing a lot of stuff between the camera sensor and giving you a bitmap."}],"owner":{"account_id":26695265,"reputation":1,"user_id":20303234,"display_name":"Peter"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668292707,"creation_date":1668290556,"question_id":74416928,"body_markdown":"&gt; I wanted to get pixel value in realtime without clicking the screen. \r\n\r\n`\r\n```\r\nsl.setDrawingCacheEnabled(true);\r\nsl.buildDrawingCache(true);\r\n\r\nbitmap = sl.getDrawingCache();\r\nint pixel = bitmap.getPixel((int) 39, (int) 31);\r\n\r\nint r = Color.red(pixel);\r\nint g = Color.red(pixel);\r\nint b = Color.red(pixel);\r\n\r\ncl.setText(&quot;R(&quot;+r+&quot;)\\n&quot;+&quot;G(&quot;+g+&quot;)\\n&quot;+&quot;B(&quot;+b+&quot;)&quot;);\r\nLog.d(&quot;Color Detection: &quot;,&quot;R(&quot;+r+&quot;) &quot;+&quot;G(&quot;+g+&quot;) &quot;+&quot;B(&quot;+b+&quot;)&quot;+Tracker.labelString.length());\r\n```\r\n`\r\n\r\nI wanted to getpixel value in realtime infront of the camera.\r\n[![example][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Xovhn.png","title":"Realtime GetPixel","body":"<blockquote>\n<p>I wanted to get pixel value in realtime without clicking the screen.</p>\n</blockquote>\n<p>`</p>\n<pre><code>sl.setDrawingCacheEnabled(true);\nsl.buildDrawingCache(true);\n\nbitmap = sl.getDrawingCache();\nint pixel = bitmap.getPixel((int) 39, (int) 31);\n\nint r = Color.red(pixel);\nint g = Color.red(pixel);\nint b = Color.red(pixel);\n\ncl.setText(&quot;R(&quot;+r+&quot;)\\n&quot;+&quot;G(&quot;+g+&quot;)\\n&quot;+&quot;B(&quot;+b+&quot;)&quot;);\nLog.d(&quot;Color Detection: &quot;,&quot;R(&quot;+r+&quot;) &quot;+&quot;G(&quot;+g+&quot;) &quot;+&quot;B(&quot;+b+&quot;)&quot;+Tracker.labelString.length());\n</code></pre>\n<p>`</p>\n<p>I wanted to getpixel value in realtime infront of the camera.\n<a href=\"https://i.stack.imgur.com/Xovhn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xovhn.png\" alt=\"example\" /></a></p>\n"},{"tags":["java","string","bufferedreader","filereader"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":3,"creation_date":1668286501,"post_id":74416433,"comment_id":131370000,"body_markdown":"Could be stating the obvious, but is the last line in the file empty?","body":"Could be stating the obvious, but is the last line in the file empty?"},{"owner":{"account_id":4711512,"reputation":1278,"user_id":3811895,"display_name":"vinsce"},"score":0,"creation_date":1668286586,"post_id":74416433,"comment_id":131370006,"body_markdown":"Does this answer your question? [Quickly read the last line of a text file?](https://stackoverflow.com/questions/686231/quickly-read-the-last-line-of-a-text-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/686231/quickly-read-the-last-line-of-a-text-file\">Quickly read the last line of a text file?</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1668287484,"post_id":74416433,"comment_id":131370181,"body_markdown":"If the file ends with a newline sequence, the last line is, in fact, the empty string.","body":"If the file ends with a newline sequence, the last line is, in fact, the empty string."},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":0,"creation_date":1668289084,"post_id":74416433,"comment_id":131370461,"body_markdown":"@VGR - that&#39;s not so.  A file that contains a total 4 chars &quot;foo\\n&quot; certainly ends with a newline, but the last line is not empty.  The file has exactly one line, which is non-empty.","body":"@VGR - that&#39;s not so.  A file that contains a total 4 chars &quot;foo\\n&quot; certainly ends with a newline, but the last line is not empty.  The file has exactly one line, which is non-empty."}],"answers":[{"tags":[],"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668292372,"creation_date":1668292372,"answer_id":74417075,"question_id":74416433,"body_markdown":"    while ((st = br.readLine()) != null) \r\n    {\r\n      if(st.isBlank()) {\r\n        continue;\r\n       }\r\n       ot = st;\r\n     }\r\n\r\nWill preserve the last-read, non-blank line. ","title":"How do I read the last line of a text file in java?","body":"<pre><code>while ((st = br.readLine()) != null) \n{\n  if(st.isBlank()) {\n    continue;\n   }\n   ot = st;\n }\n</code></pre>\n<p>Will preserve the last-read, non-blank line.</p>\n"}],"owner":{"account_id":26382369,"reputation":1,"user_id":20035427,"display_name":"Shizzy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668292372,"creation_date":1668285881,"question_id":74416433,"body_markdown":"I&#39;m trying to write a method for a program that only reads the last line of the text file, but I can&#39;t find out what the issue is and I have been searching for a while. Any help would be amazing.\r\n\r\n\r\n\tpublic String getLastLine(String path) throws IOException {\r\n\t\tString st;\r\n\t\tString ot = null;\r\n\t\ttry {\r\n\t\t\tFile file = new File(path);\r\n\t\t\tBufferedReader br = new BufferedReader(new FileReader(file));\r\n\t\t\twhile ((st = br.readLine()) != null) {\r\n\t\t\t\tot = st;\r\n\t\t\t}\r\n\t\t\tbr.close();\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn ot;\r\n\t\t\r\n    }\r\n\r\nEverything I have been able to find tells me to create a string and set it to null or to set it to &quot;&quot;, but this isn&#39;t working at all for me. I keep getting this error code\r\n\r\n```\r\norg.junit.ComparisonFailure: expected:&lt;[BZHbzAauZi]&gt; but was:&lt;[]&gt;\r\n```\r\n\r\n\r\nI tried to return the last line of a text file but it only returns as a empty space.","title":"How do I read the last line of a text file in java?","body":"<p>I'm trying to write a method for a program that only reads the last line of the text file, but I can't find out what the issue is and I have been searching for a while. Any help would be amazing.</p>\n<pre><code>public String getLastLine(String path) throws IOException {\n    String st;\n    String ot = null;\n    try {\n        File file = new File(path);\n        BufferedReader br = new BufferedReader(new FileReader(file));\n        while ((st = br.readLine()) != null) {\n            ot = st;\n        }\n        br.close();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n    return ot;\n    \n}\n</code></pre>\n<p>Everything I have been able to find tells me to create a string and set it to null or to set it to &quot;&quot;, but this isn't working at all for me. I keep getting this error code</p>\n<pre><code>org.junit.ComparisonFailure: expected:&lt;[BZHbzAauZi]&gt; but was:&lt;[]&gt;\n</code></pre>\n<p>I tried to return the last line of a text file but it only returns as a empty space.</p>\n"},{"tags":["java","file","txt"],"comments":[{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1668292670,"post_id":74417045,"comment_id":131371112,"body_markdown":"My guess is that you need absolute path not relative path.","body":"My guess is that you need absolute path not relative path."},{"owner":{"account_id":21297632,"reputation":27,"user_id":15673941,"display_name":"Aviral"},"score":0,"creation_date":1668292700,"post_id":74417045,"comment_id":131371115,"body_markdown":"I tried that but it didn&#39;t work","body":"I tried that but it didn&#39;t work"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1668292859,"post_id":74417045,"comment_id":131371135,"body_markdown":"I see you&#39;re trying to read a directory named `resources`. If this is where you place your project resources (e.g., `src/main/resources` in Maven/Gradle based projects), then your code will not work after deployment, as `File` cannot be used to access resources.","body":"I see you&#39;re trying to read a directory named <code>resources</code>. If this is where you place your project resources (e.g., <code>src&#47;main&#47;resources</code> in Maven/Gradle based projects), then your code will not work after deployment, as <code>File</code> cannot be used to access resources."},{"owner":{"account_id":21297632,"reputation":27,"user_id":15673941,"display_name":"Aviral"},"score":0,"creation_date":1668293054,"post_id":74417045,"comment_id":131371168,"body_markdown":"I&#39;m really sorry but I am new to this so I don&#39;t understand what you mean","body":"I&#39;m really sorry but I am new to this so I don&#39;t understand what you mean"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1668293502,"post_id":74417045,"comment_id":131371232,"body_markdown":"These files you&#39;re trying to read, are they going to be external to your application or are they going to be embedded with your application?","body":"These files you&#39;re trying to read, are they going to be external to your application or are they going to be embedded with your application?"},{"owner":{"account_id":3688497,"reputation":1472,"user_id":3071712,"accept_rate":52,"display_name":"Marko Taht"},"score":0,"creation_date":1668331979,"post_id":74417045,"comment_id":131375401,"body_markdown":"@Aviral what Slaw is trying to as is: You are most likely using a IDE or some sort of a code managing system like Maven or gradle. Whan you run your application what happens is that your code get built into a JAR file. Jar is the EXE of java world. During the build procces stuff that is inside the src folder get put into the jar faile. so if the resource folder is inside the src folder, it get put into JAR file. To access files from inside the JAR you need to access them in a different way. Most likely you need to place your files somewhere else to access them more easily.","body":"@Aviral what Slaw is trying to as is: You are most likely using a IDE or some sort of a code managing system like Maven or gradle. Whan you run your application what happens is that your code get built into a JAR file. Jar is the EXE of java world. During the build procces stuff that is inside the src folder get put into the jar faile. so if the resource folder is inside the src folder, it get put into JAR file. To access files from inside the JAR you need to access them in a different way. Most likely you need to place your files somewhere else to access them more easily."}],"owner":{"account_id":21297632,"reputation":27,"user_id":15673941,"display_name":"Aviral"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1668292151,"creation_date":1668292151,"question_id":74417045,"body_markdown":"I am trying to open text files that startwith a specific name in Java but it does not seem to work because my File[] object does not have any entries. \r\n\r\nThis is the code I am using: \r\n\r\n```\r\npublic List&lt;Word&gt; SellerStats (String sellerName) throws IOException {\r\n        int countFile = 0;\r\n        File dir = new File(&quot;resources\\\\&quot;);\r\n        File[] found = dir.listFiles(new FilenameFilter() {\r\n            @Override\r\n            public boolean accept(File dir, String name) {\r\n                return name.startsWith(sellerName);\r\n            }\r\n        });\r\n        assert found != null;\r\n        countFile = found.length;\r\n        System.out.println(&quot;The number of customers you contacted are: &quot; + countFile);\r\n        Scanner scanner = null;\r\n        Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\r\n        ArrayList&lt;String&gt; message = new ArrayList&lt;&gt;();\r\n        for (File file : found) {\r\n            scanner = new Scanner(file);\r\n            String input;\r\n            StringBuffer sb = new StringBuffer();\r\n            while (scanner.hasNextLine()) {\r\n                input = scanner.nextLine();\r\n                sb.append(input).append(&quot;&lt;&gt;&quot;);\r\n            }\r\n\r\n            String contents = sb.toString();\r\n            String[] messages = contents.split(&quot;&lt;&gt;&quot;);\r\n            ArrayList&lt;String&gt; sender = new ArrayList&lt;&gt;();\r\n            for (String s : messages) {\r\n                if (s.contains(&quot;Sender:&quot;)) {\r\n                    sender.add(s);\r\n                } else if (s.contains(&quot;Message:&quot;)) {\r\n                    String temp = s.split(&quot;:&quot;)[1];\r\n                    message.add(temp);\r\n                }\r\n            }\r\n\r\n            int countMessage = 0;\r\n            String customerName = null;\r\n            for (String s : sender) {\r\n                if (!(s.contains(sellerName))) {\r\n                    customerName = s.split(&quot;:&quot;)[1];\r\n                    countMessage++;\r\n                }\r\n            }\r\n            \r\n            map.put(customerName, countMessage);\r\n        }\r\n\r\n        ArrayList&lt;String&gt; messageSplit = new ArrayList&lt;&gt;();\r\n        for (String s : message) {\r\n            if (s.contains(&quot; &quot;)) {\r\n                messageSplit.addAll(Arrays.asList(s.split(&quot; &quot;)));\r\n            } else {\r\n                messageSplit.add(s);\r\n            }\r\n        }\r\n\r\n        Map&lt;String, Word&gt; wordMap = new HashMap&lt;&gt;();\r\n        for (String word : messageSplit) {\r\n            Word currentWord = wordMap.get(word);\r\n            if(currentWord == null)\r\n                wordMap.put(word, new Word(word, 1));\r\n            else\r\n                currentWord.frequency++;\r\n        }\r\n\r\n        List&lt;Word&gt; wordList = new ArrayList&lt;&gt;(wordMap.values());\r\n        wordList.sort(new Comparator&lt;Word&gt;() {\r\n            @Override\r\n            public int compare(Word o1, Word o2) {\r\n                if(o1.frequency == o2.frequency)\r\n                    return o1.word.compareToIgnoreCase(o2.word);\r\n\r\n                /* sort words with high frequency first */\r\n                return Integer.compare(o2.frequency, o1.frequency);\r\n            }\r\n        });\r\n        System.out.println(&quot;The most common words are: &quot; + wordList);\r\n        return wordList;\r\n    }\r\n\r\n```\r\n\r\n\r\nI was expecting that my File[] object would be filled with all of the filenames that startwith the name I was searching for but that does not happen.","title":"Opening all files that start with a specific prefix in Java","body":"<p>I am trying to open text files that startwith a specific name in Java but it does not seem to work because my File[] object does not have any entries.</p>\n<p>This is the code I am using:</p>\n<pre><code>public List&lt;Word&gt; SellerStats (String sellerName) throws IOException {\n        int countFile = 0;\n        File dir = new File(&quot;resources\\\\&quot;);\n        File[] found = dir.listFiles(new FilenameFilter() {\n            @Override\n            public boolean accept(File dir, String name) {\n                return name.startsWith(sellerName);\n            }\n        });\n        assert found != null;\n        countFile = found.length;\n        System.out.println(&quot;The number of customers you contacted are: &quot; + countFile);\n        Scanner scanner = null;\n        Map&lt;String, Integer&gt; map = new HashMap&lt;String, Integer&gt;();\n        ArrayList&lt;String&gt; message = new ArrayList&lt;&gt;();\n        for (File file : found) {\n            scanner = new Scanner(file);\n            String input;\n            StringBuffer sb = new StringBuffer();\n            while (scanner.hasNextLine()) {\n                input = scanner.nextLine();\n                sb.append(input).append(&quot;&lt;&gt;&quot;);\n            }\n\n            String contents = sb.toString();\n            String[] messages = contents.split(&quot;&lt;&gt;&quot;);\n            ArrayList&lt;String&gt; sender = new ArrayList&lt;&gt;();\n            for (String s : messages) {\n                if (s.contains(&quot;Sender:&quot;)) {\n                    sender.add(s);\n                } else if (s.contains(&quot;Message:&quot;)) {\n                    String temp = s.split(&quot;:&quot;)[1];\n                    message.add(temp);\n                }\n            }\n\n            int countMessage = 0;\n            String customerName = null;\n            for (String s : sender) {\n                if (!(s.contains(sellerName))) {\n                    customerName = s.split(&quot;:&quot;)[1];\n                    countMessage++;\n                }\n            }\n            \n            map.put(customerName, countMessage);\n        }\n\n        ArrayList&lt;String&gt; messageSplit = new ArrayList&lt;&gt;();\n        for (String s : message) {\n            if (s.contains(&quot; &quot;)) {\n                messageSplit.addAll(Arrays.asList(s.split(&quot; &quot;)));\n            } else {\n                messageSplit.add(s);\n            }\n        }\n\n        Map&lt;String, Word&gt; wordMap = new HashMap&lt;&gt;();\n        for (String word : messageSplit) {\n            Word currentWord = wordMap.get(word);\n            if(currentWord == null)\n                wordMap.put(word, new Word(word, 1));\n            else\n                currentWord.frequency++;\n        }\n\n        List&lt;Word&gt; wordList = new ArrayList&lt;&gt;(wordMap.values());\n        wordList.sort(new Comparator&lt;Word&gt;() {\n            @Override\n            public int compare(Word o1, Word o2) {\n                if(o1.frequency == o2.frequency)\n                    return o1.word.compareToIgnoreCase(o2.word);\n\n                /* sort words with high frequency first */\n                return Integer.compare(o2.frequency, o1.frequency);\n            }\n        });\n        System.out.println(&quot;The most common words are: &quot; + wordList);\n        return wordList;\n    }\n\n</code></pre>\n<p>I was expecting that my File[] object would be filled with all of the filenames that startwith the name I was searching for but that does not happen.</p>\n"},{"tags":["java","html","owasp","sanitizer"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1667737254,"post_id":74070994,"comment_id":131233422,"body_markdown":"Reconsider the necessarity, as you can use `h2:nth-of-type(index)` to address a H2 on the client side.","body":"Reconsider the necessarity, as you can use <code>h2:nth-of-type(index)</code> to address a H2 on the client side."},{"owner":{"account_id":12194483,"reputation":1292,"user_id":8900664,"accept_rate":67,"display_name":"Nixen85"},"score":0,"creation_date":1667830467,"post_id":74070994,"comment_id":131254603,"body_markdown":"My initial approach was to add the id on client side via javascript. However, in google search results, they deep link to h2-headlines directly. If I add id with javascript, googles&#39; deep links will not work.","body":"My initial approach was to add the id on client side via javascript. However, in google search results, they deep link to h2-headlines directly. If I add id with javascript, googles&#39; deep links will not work."},{"owner":{"account_id":94598,"reputation":6889,"user_id":258174,"display_name":"morganney"},"score":0,"creation_date":1668226779,"post_id":74070994,"comment_id":131360121,"body_markdown":"Can&#39;t you read a value of an `attrs` from the h2 and use that to  build a unique id?","body":"Can&#39;t you read a value of an <code>attrs</code> from the h2 and use that to  build a unique id?"}],"answers":[{"tags":[],"owner":{"account_id":257465,"reputation":584,"user_id":538900,"accept_rate":50,"display_name":"tchudyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668248509,"creation_date":1668248509,"answer_id":74412066,"question_id":74070994,"body_markdown":"I don&#39;t know `owasp-java-html-sanitizer`, but I think you can use additional variable to store index of used Id - like `AtomicInteger`.\r\nFor you code it may looks like this:\r\n\r\n```java\r\npublic PolicyFactory HtmlPolicy() {\r\n    AtomicInteger index = new AtomicInteger();\r\n    return new HtmlPolicyBuilder()\r\n        .allowElements(&quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, &quot;h6&quot;, &quot;p&quot;, &quot;span&quot;, &quot;br&quot;, &quot;b&quot;, &quot;strong&quot;, &quot;i&quot;, &quot;em&quot;, &quot;u&quot;, &quot;hr&quot;, &quot;ol&quot;, &quot;ul&quot;, &quot;li&quot;,\r\n                       &quot;img&quot;, &quot;table&quot;, &quot;tr&quot;, &quot;th&quot;, &quot;td&quot;, &quot;thead&quot;, &quot;tbody&quot;, &quot;tfoot&quot;, &quot;caption&quot;, &quot;colgroup&quot;, &quot;col&quot;, &quot;blockquote&quot;, &quot;figure&quot;, &quot;figcaption&quot;, &quot;object&quot;, &quot;iframe&quot;)\r\n        .allowElements(\r\n            (String elementName, List&lt;String&gt; attrs) -&gt; {\r\n                // Add an attribute.\r\n                attrs.add(&quot;id&quot;);                \r\n                attrs.add(&quot;headline-&quot; + index.incrementAndGet());\r\n                attrs.add(&quot;class&quot;);\r\n                attrs.add(&quot;scrollspy&quot;);\r\n               // Return elementName to include, null to drop.\r\n               return elementName;\r\n            }, &quot;h2&quot;)\r\n        .toFactory();\r\n}\r\n```\r\n","title":"Add unique attribute id to each h2-tag with owasp java html sanitizer","body":"<p>I don't know <code>owasp-java-html-sanitizer</code>, but I think you can use additional variable to store index of used Id - like <code>AtomicInteger</code>.\nFor you code it may looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public PolicyFactory HtmlPolicy() {\n    AtomicInteger index = new AtomicInteger();\n    return new HtmlPolicyBuilder()\n        .allowElements(&quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, &quot;h6&quot;, &quot;p&quot;, &quot;span&quot;, &quot;br&quot;, &quot;b&quot;, &quot;strong&quot;, &quot;i&quot;, &quot;em&quot;, &quot;u&quot;, &quot;hr&quot;, &quot;ol&quot;, &quot;ul&quot;, &quot;li&quot;,\n                       &quot;img&quot;, &quot;table&quot;, &quot;tr&quot;, &quot;th&quot;, &quot;td&quot;, &quot;thead&quot;, &quot;tbody&quot;, &quot;tfoot&quot;, &quot;caption&quot;, &quot;colgroup&quot;, &quot;col&quot;, &quot;blockquote&quot;, &quot;figure&quot;, &quot;figcaption&quot;, &quot;object&quot;, &quot;iframe&quot;)\n        .allowElements(\n            (String elementName, List&lt;String&gt; attrs) -&gt; {\n                // Add an attribute.\n                attrs.add(&quot;id&quot;);                \n                attrs.add(&quot;headline-&quot; + index.incrementAndGet());\n                attrs.add(&quot;class&quot;);\n                attrs.add(&quot;scrollspy&quot;);\n               // Return elementName to include, null to drop.\n               return elementName;\n            }, &quot;h2&quot;)\n        .toFactory();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668292108,"creation_date":1668268320,"answer_id":74414375,"question_id":74070994,"body_markdown":"The solution provided by @tchudyk could work properly: I am not completely sure about that because `HtmlPolicyBuilder` is [not thread safe](https://www.javadoc.io/doc/com.googlecode.owasp-java-html-sanitizer/owasp-java-html-sanitizer/20160628.1/org/owasp/html/HtmlPolicyBuilder.html), and I guess if the library will maintain the order of iteration over the `H2` headers every single time.\r\n\r\nAs an alternative approach, consider the use of [JSoup](https://jsoup.org/), a Java HTML parsing and manipulation library.\r\n\r\nThe idea would be to manipulate your HTML with JSoup in order to include the necessary id attributes in your page prior sanitizing it with OWASP.\r\n\r\nFor example, you could [extract the `h2` tags](https://jsoup.org/cookbook/extracting-data/selector-syntax) and then [set the `id` attributes](https://jsoup.org/cookbook/modifying-data/set-attributes) as appropriate:\r\n\r\n```java\r\nString html = &quot;...&quot;;\r\nDocument doc = Jsoup.parse(html);\r\nElements h2Tags = doc.select(&quot;h2&quot;); // analogous to your example in JQuery\r\n// Iterate, in a deterministic way, over results\r\nint index = 0;\r\nfor (Element h2Tag : h2Tags) {\r\n  h2Tag.attr(&quot;id&quot;, &quot;headline-2-&quot; + index++);\r\n}\r\nString transformedHtml = doc.outerHtml();\r\n```\r\n\r\nAlthough I think it is less powerful than OWASP, the library provides some [sanitization funtionality](https://jsoup.org/cookbook/cleaning-html/safelist-sanitizer) as well.","title":"Add unique attribute id to each h2-tag with owasp java html sanitizer","body":"<p>The solution provided by @tchudyk could work properly: I am not completely sure about that because <code>HtmlPolicyBuilder</code> is <a href=\"https://www.javadoc.io/doc/com.googlecode.owasp-java-html-sanitizer/owasp-java-html-sanitizer/20160628.1/org/owasp/html/HtmlPolicyBuilder.html\" rel=\"nofollow noreferrer\">not thread safe</a>, and I guess if the library will maintain the order of iteration over the <code>H2</code> headers every single time.</p>\n<p>As an alternative approach, consider the use of <a href=\"https://jsoup.org/\" rel=\"nofollow noreferrer\">JSoup</a>, a Java HTML parsing and manipulation library.</p>\n<p>The idea would be to manipulate your HTML with JSoup in order to include the necessary id attributes in your page prior sanitizing it with OWASP.</p>\n<p>For example, you could <a href=\"https://jsoup.org/cookbook/extracting-data/selector-syntax\" rel=\"nofollow noreferrer\">extract the <code>h2</code> tags</a> and then <a href=\"https://jsoup.org/cookbook/modifying-data/set-attributes\" rel=\"nofollow noreferrer\">set the <code>id</code> attributes</a> as appropriate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String html = &quot;...&quot;;\nDocument doc = Jsoup.parse(html);\nElements h2Tags = doc.select(&quot;h2&quot;); // analogous to your example in JQuery\n// Iterate, in a deterministic way, over results\nint index = 0;\nfor (Element h2Tag : h2Tags) {\n  h2Tag.attr(&quot;id&quot;, &quot;headline-2-&quot; + index++);\n}\nString transformedHtml = doc.outerHtml();\n</code></pre>\n<p>Although I think it is less powerful than OWASP, the library provides some <a href=\"https://jsoup.org/cookbook/cleaning-html/safelist-sanitizer\" rel=\"nofollow noreferrer\">sanitization funtionality</a> as well.</p>\n"}],"owner":{"account_id":12194483,"reputation":1292,"user_id":8900664,"accept_rate":67,"display_name":"Nixen85"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1668292108,"creation_date":1665758859,"question_id":74070994,"body_markdown":"I am using owasp-java-html-sanitizer and try to add id-attributes to each h2-tag in my HTML Code, which should be persistent over several page loads but unique for each element on the page(as defined for id-attributes). I tried to count all elements to get an index and to add the index to every h2 element. However, I have no access to this data at this point in java. Then I used UUID.randomUUID(), however as it is random, the id is not persistent.\r\n\r\n**Here is the code I have currently:**\r\n\r\n    public PolicyFactory HtmlPolicy() {\r\n        return new HtmlPolicyBuilder()\r\n            .allowElements(&quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, &quot;h6&quot;, &quot;p&quot;, &quot;span&quot;, &quot;br&quot;, &quot;b&quot;, &quot;strong&quot;, &quot;i&quot;, &quot;em&quot;, &quot;u&quot;, &quot;hr&quot;, &quot;ol&quot;, &quot;ul&quot;, &quot;li&quot;,\r\n                           &quot;img&quot;, &quot;table&quot;, &quot;tr&quot;, &quot;th&quot;, &quot;td&quot;, &quot;thead&quot;, &quot;tbody&quot;, &quot;tfoot&quot;, &quot;caption&quot;, &quot;colgroup&quot;, &quot;col&quot;, &quot;blockquote&quot;, &quot;figure&quot;, &quot;figcaption&quot;, &quot;object&quot;, &quot;iframe&quot;)\r\n            .allowElements(\r\n                (String elementName, List&lt;String&gt; attrs) -&gt; {\r\n                    String uniqueID = UUID.randomUUID().toString();\r\n                    // Add an attribute.\r\n                    attrs.add(&quot;id&quot;);                \r\n                    attrs.add(&quot;headline-&quot; + uniqueID);\r\n                    attrs.add(&quot;class&quot;);\r\n                    attrs.add(&quot;scrollspy&quot;);\r\n                   // Return elementName to include, null to drop.\r\n                   return elementName;\r\n                }, &quot;h2&quot;)\r\n            .toFactory();\r\n    }\r\n\r\n\r\nIn javascript I would do it as follows:    \r\n               \r\n            $(&#39;h2&#39;).each(function(index, obj) {\r\n                let newObj = $(obj)[0];\r\n                $(newObj).attr(&#39;id&#39;, `headline-2-${index + 1}`);\r\n            });\r\n\r\n\r\nDoes anyone have an idea of an approach to increment one on every h2-element in this szenario?\r\n","title":"Add unique attribute id to each h2-tag with owasp java html sanitizer","body":"<p>I am using owasp-java-html-sanitizer and try to add id-attributes to each h2-tag in my HTML Code, which should be persistent over several page loads but unique for each element on the page(as defined for id-attributes). I tried to count all elements to get an index and to add the index to every h2 element. However, I have no access to this data at this point in java. Then I used UUID.randomUUID(), however as it is random, the id is not persistent.</p>\n<p><strong>Here is the code I have currently:</strong></p>\n<pre><code>public PolicyFactory HtmlPolicy() {\n    return new HtmlPolicyBuilder()\n        .allowElements(&quot;h3&quot;, &quot;h4&quot;, &quot;h5&quot;, &quot;h6&quot;, &quot;p&quot;, &quot;span&quot;, &quot;br&quot;, &quot;b&quot;, &quot;strong&quot;, &quot;i&quot;, &quot;em&quot;, &quot;u&quot;, &quot;hr&quot;, &quot;ol&quot;, &quot;ul&quot;, &quot;li&quot;,\n                       &quot;img&quot;, &quot;table&quot;, &quot;tr&quot;, &quot;th&quot;, &quot;td&quot;, &quot;thead&quot;, &quot;tbody&quot;, &quot;tfoot&quot;, &quot;caption&quot;, &quot;colgroup&quot;, &quot;col&quot;, &quot;blockquote&quot;, &quot;figure&quot;, &quot;figcaption&quot;, &quot;object&quot;, &quot;iframe&quot;)\n        .allowElements(\n            (String elementName, List&lt;String&gt; attrs) -&gt; {\n                String uniqueID = UUID.randomUUID().toString();\n                // Add an attribute.\n                attrs.add(&quot;id&quot;);                \n                attrs.add(&quot;headline-&quot; + uniqueID);\n                attrs.add(&quot;class&quot;);\n                attrs.add(&quot;scrollspy&quot;);\n               // Return elementName to include, null to drop.\n               return elementName;\n            }, &quot;h2&quot;)\n        .toFactory();\n}\n</code></pre>\n<p>In javascript I would do it as follows:</p>\n<pre><code>        $('h2').each(function(index, obj) {\n            let newObj = $(obj)[0];\n            $(newObj).attr('id', `headline-2-${index + 1}`);\n        });\n</code></pre>\n<p>Does anyone have an idea of an approach to increment one on every h2-element in this szenario?</p>\n"},{"tags":["java","java-stream","instanceof"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668283714,"post_id":74416190,"comment_id":131369503,"body_markdown":"&quot;*Is there a way to use pattern matching in stream pipes?*&quot; - As of yet, no. Filtering and mapping are distinct operations in streams. We cannot do both in one operation.","body":"&quot;<i>Is there a way to use pattern matching in stream pipes?</i>&quot; - As of yet, no. Filtering and mapping are distinct operations in streams. We cannot do both in one operation."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":2,"creation_date":1668287173,"post_id":74416190,"comment_id":131370127,"body_markdown":"@Turing85 Yes, we can! See the first part of the [answer](https://stackoverflow.com/a/74416358/17949945).","body":"@Turing85 Yes, we can! See the first part of the <a href=\"https://stackoverflow.com/a/74416358/17949945\">answer</a>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668287369,"post_id":74416190,"comment_id":131370165,"body_markdown":"@AlexanderIvanchenko nice. TIL.","body":"@AlexanderIvanchenko nice. TIL."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1668291719,"creation_date":1668285153,"answer_id":74416358,"question_id":74416190,"body_markdown":"# Pattern matching + mapMulti\r\n\r\nTo coerce a Stream of supertype to a Stream of one of its subtypes, you can make use of the [*Pattern matching for instanceof*][1] in conjunction with Java 16 [`mapMulti()`][2], which expects a stream element and a `Consumer` of the resulting type:\r\n\r\n```\r\nStream&lt;Animal&gt; animalStream = Stream.of();\r\n\r\nStream&lt;Zebra&gt; zebraStream = animalStream\r\n    .mapMulti((animal, consumer) -&gt; {\r\n        if (animal instanceof Zebra zebra) consumer.accept(zebra);\r\n    });\r\n```\r\n\r\n# Pattern matching + flatMap\r\n\r\nTo use Pattern matching for instanceof you can also employ a classic stream operation `flatMap()`, which is like `mapMulti()` is meant to perform *one-to-many* transformations.\r\n\r\nThe important distinction between the two is that `mapMulti()` replace the initial stream element with *zero or more* elements via its `Consumer`, meanwhile `flatMap()` require a producing a new Stream to flatten the data. And in this case utilizing `mapMulti()` would be more advantages because if the list is large generating singleton-streams for every element might be costful.\r\n\r\n```\r\nStream&lt;Zebra&gt; zebraStream = animalStream\r\n    .flatMap(animal -&gt; \r\n        animal instanceof Zebra zebra ? Stream.of(zebra) : null\r\n    );\r\n```\r\n\r\n**Note** that according to the [documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)) instead of an empty stream, we can also return `null` (*which is handy because* `Stream.empty()` *doesn&#39;t return constant but spawns a new object*):\r\n\r\n&gt; If a mapped stream is `null` an empty stream is used, instead.\r\n\r\n   [1]: https://openjdk.org/jeps/394\r\n\r\n   [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)","title":"Applying Pattern matching for Instanceof in the Stream","body":"<h1>Pattern matching + mapMulti</h1>\n<p>To coerce a Stream of supertype to a Stream of one of its subtypes, you can make use of the <a href=\"https://openjdk.org/jeps/394\" rel=\"nofollow noreferrer\"><em>Pattern matching for instanceof</em></a> in conjunction with Java 16 <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#mapMulti(java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>mapMulti()</code></a>, which expects a stream element and a <code>Consumer</code> of the resulting type:</p>\n<pre><code>Stream&lt;Animal&gt; animalStream = Stream.of();\n\nStream&lt;Zebra&gt; zebraStream = animalStream\n    .mapMulti((animal, consumer) -&gt; {\n        if (animal instanceof Zebra zebra) consumer.accept(zebra);\n    });\n</code></pre>\n<h1>Pattern matching + flatMap</h1>\n<p>To use Pattern matching for instanceof you can also employ a classic stream operation <code>flatMap()</code>, which is like <code>mapMulti()</code> is meant to perform <em>one-to-many</em> transformations.</p>\n<p>The important distinction between the two is that <code>mapMulti()</code> replace the initial stream element with <em>zero or more</em> elements via its <code>Consumer</code>, meanwhile <code>flatMap()</code> require a producing a new Stream to flatten the data. And in this case utilizing <code>mapMulti()</code> would be more advantages because if the list is large generating singleton-streams for every element might be costful.</p>\n<pre><code>Stream&lt;Zebra&gt; zebraStream = animalStream\n    .flatMap(animal -&gt; \n        animal instanceof Zebra zebra ? Stream.of(zebra) : null\n    );\n</code></pre>\n<p><strong>Note</strong> that according to the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#flatMap(java.util.function.Function)\" rel=\"nofollow noreferrer\">documentation</a> instead of an empty stream, we can also return <code>null</code> (<em>which is handy because</em> <code>Stream.empty()</code> <em>doesn't return constant but spawns a new object</em>):</p>\n<blockquote>\n<p>If a mapped stream is <code>null</code> an empty stream is used, instead.</p>\n</blockquote>\n"}],"owner":{"account_id":23010429,"reputation":215,"user_id":17133024,"display_name":"Dario Viva"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":74416358,"answer_count":1,"score":3,"last_activity_date":1668291719,"creation_date":1668283633,"question_id":74416190,"body_markdown":"Suppose we have a Stream of Animals.\r\n\r\nWe have different Subclasses of Animals, and we want to apply a filter on the stream to only have the Zebras of the Stream. We now still have a Stream of Animals, but only containing Zebras. To get a stream of Zebras we still need to cast.\r\n\r\n```java\r\nStream&lt;Zebra&gt; zebraStream = animalStream\r\n    .filter(Zebra.class::isInstance)\r\n    .map(Zebra.class::cast);\r\n```\r\n\r\nJava 14 introduced pattern matching for instanceof, so we can now use:\r\n\r\n```java\r\nif (animal instanceof Zebra zebra) {\r\n    System.out.println(zebra.countStripes());\r\n}\r\n```\r\nIs there a way to use pattern matching in stream pipes?\r\nOf course you could do something like this:\r\n```java\r\nStream&lt;Zebra&gt; zebraStream = animalStream.map(animal -&gt; {\r\n        if (animal instanceof Zebra zebra) {\r\n            return zebra;\r\n        }\r\n        return null;\r\n    })\r\n    .filter(Objects::nonNull);\r\n```\r\nBut IMHO this is really ugly.","title":"Applying Pattern matching for Instanceof in the Stream","body":"<p>Suppose we have a Stream of Animals.</p>\n<p>We have different Subclasses of Animals, and we want to apply a filter on the stream to only have the Zebras of the Stream. We now still have a Stream of Animals, but only containing Zebras. To get a stream of Zebras we still need to cast.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream&lt;Zebra&gt; zebraStream = animalStream\n    .filter(Zebra.class::isInstance)\n    .map(Zebra.class::cast);\n</code></pre>\n<p>Java 14 introduced pattern matching for instanceof, so we can now use:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (animal instanceof Zebra zebra) {\n    System.out.println(zebra.countStripes());\n}\n</code></pre>\n<p>Is there a way to use pattern matching in stream pipes?\nOf course you could do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Stream&lt;Zebra&gt; zebraStream = animalStream.map(animal -&gt; {\n        if (animal instanceof Zebra zebra) {\n            return zebra;\n        }\n        return null;\n    })\n    .filter(Objects::nonNull);\n</code></pre>\n<p>But IMHO this is really ugly.</p>\n"},{"tags":["java","swing","jframe","jpanel","awt"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1667084402,"post_id":74249372,"comment_id":131087862,"body_markdown":"*Frame that contains a Free Designed layout JPanel* - not needed. Probably uses a null layout which won&#39;t work. By default, a frame uses a BorderLayout. So, you just add your &quot;toolPanel&quot; to the frame using BorderLayout.PAGE_START and the &quot;gamePanel&quot; using BorderLayout.CENTER. Then you `pack()` the frame before making it visible. Did you solve your other problem: https://stackoverflow.com/q/74246638/131872? Looks like it since I see images of the bomb. So why haven&#39;t you comment on the question indicating the problem has been solved?","body":"<i>Frame that contains a Free Designed layout JPanel</i> - not needed. Probably uses a null layout which won&#39;t work. By default, a frame uses a BorderLayout. So, you just add your &quot;toolPanel&quot; to the frame using BorderLayout.PAGE_START and the &quot;gamePanel&quot; using BorderLayout.CENTER. Then you <code>pack()</code> the frame before making it visible. Did you solve your other problem: <a href=\"https://stackoverflow.com/q/74246638/131872\">stackoverflow.com/q/74246638/131872</a>? Looks like it since I see images of the bomb. So why haven&#39;t you comment on the question indicating the problem has been solved?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667084447,"post_id":74249372,"comment_id":131087872,"body_markdown":"My first concern is what `initComponents` is doing.  You should avoid extending directly from top level containers like `JFrame`, this could be causing &quot;other&quot; issues","body":"My first concern is what <code>initComponents</code> is doing.  You should avoid extending directly from top level containers like <code>JFrame</code>, this could be causing &quot;other&quot; issues"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1667138493,"post_id":74249372,"comment_id":131094971,"body_markdown":"Why did you delete your last question? You still didn&#39;t respond indicating if the suggestions helped or not. See: [What should I do when someone answers my question](https://stackoverflow.com/help/someone-answers)","body":"Why did you delete your last question? You still didn&#39;t respond indicating if the suggestions helped or not. See: <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question</a>"}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668022514,"creation_date":1667084768,"answer_id":74249469,"question_id":74249372,"body_markdown":"\r\n&gt; Frame that contains a Free Designed layout JPanel called mainPanel\r\n\r\nThis seems to suggest that `mainPanel` might be using a `null` layout, which is going to cause you issues, but this is just a guess.\r\n\r\n`JFrame#pack` should be wrapping the frame around the content based on the contents &quot;preferred size&quot; hints, provided via the subsequent layout managers, which is leads me to question what layout managers (if any) are involved in your design.\r\n\r\nFor example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.EventQueue;\r\n    import java.awt.FlowLayout;\r\n    import java.awt.GridLayout;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    JFrame frame = new JFrame();\r\n                    frame.add(new Normalv3(10, 10));\r\n                    frame.pack();\r\n                    frame.setLocationRelativeTo(null);\r\n                    frame.setVisible(true);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class Normalv3 extends JPanel {\r\n\r\n            public Normalv3(int cols, int rows) {\r\n                setLayout(new BorderLayout());\r\n                add(makeControlsPane(), BorderLayout.NORTH);\r\n                add(makeGamePane(cols, rows));\r\n            }\r\n\r\n            protected JPanel makeControlsPane() {\r\n                JPanel pane = new JPanel(new FlowLayout(FlowLayout.LEADING));\r\n                pane.add(new JButton(&quot;Back to Menu&quot;));\r\n                pane.add(new JButton(&quot;Reset&quot;));\r\n                return pane;\r\n            }\r\n\r\n            protected JPanel makeGamePane(int cols, int rows) {\r\n                JPanel pane = new JPanel(new GridLayout(rows, cols));\r\n                for (int index = 0; index &lt; (cols * rows); index++) {\r\n                    JButton btn = new SquareButton(&quot;*&quot;);\r\n                    pane.add(btn);\r\n                }\r\n                return pane;\r\n            }\r\n        }\r\n\r\n        class SquareButton extends JButton {\r\n\r\n            SquareButton(String s) {\r\n                super(s);\r\n            }\r\n\r\n            @Override\r\n            public Dimension getPreferredSize() {\r\n                Dimension d = super.getPreferredSize();\r\n                int s = (int) (d.getWidth() &lt; d.getHeight() ? d.getHeight() : d.getWidth());\r\n                return new Dimension(s, s);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PQibO.png\r\n\r\n*Square button design take from https://stackoverflow.com/questions/16257125/creating-square-buttons-in-swing*\r\n\r\nAs a side note - I&#39;d encourage you NOT to make use of form designers, they tend to become messy very quickly and are difficult to diagnose and maintain (IMHO)","title":"How do I dynamically resize a JFrame based on its components (a JPanel)?","body":"<blockquote>\n<p>Frame that contains a Free Designed layout JPanel called mainPanel</p>\n</blockquote>\n<p>This seems to suggest that <code>mainPanel</code> might be using a <code>null</code> layout, which is going to cause you issues, but this is just a guess.</p>\n<p><code>JFrame#pack</code> should be wrapping the frame around the content based on the contents &quot;preferred size&quot; hints, provided via the subsequent layout managers, which is leads me to question what layout managers (if any) are involved in your design.</p>\n<p>For example...</p>\n<p><a href=\"https://i.stack.imgur.com/PQibO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PQibO.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.FlowLayout;\nimport java.awt.GridLayout;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                JFrame frame = new JFrame();\n                frame.add(new Normalv3(10, 10));\n                frame.pack();\n                frame.setLocationRelativeTo(null);\n                frame.setVisible(true);\n            }\n        });\n    }\n\n    public class Normalv3 extends JPanel {\n\n        public Normalv3(int cols, int rows) {\n            setLayout(new BorderLayout());\n            add(makeControlsPane(), BorderLayout.NORTH);\n            add(makeGamePane(cols, rows));\n        }\n\n        protected JPanel makeControlsPane() {\n            JPanel pane = new JPanel(new FlowLayout(FlowLayout.LEADING));\n            pane.add(new JButton(&quot;Back to Menu&quot;));\n            pane.add(new JButton(&quot;Reset&quot;));\n            return pane;\n        }\n\n        protected JPanel makeGamePane(int cols, int rows) {\n            JPanel pane = new JPanel(new GridLayout(rows, cols));\n            for (int index = 0; index &lt; (cols * rows); index++) {\n                JButton btn = new SquareButton(&quot;*&quot;);\n                pane.add(btn);\n            }\n            return pane;\n        }\n    }\n\n    class SquareButton extends JButton {\n\n        SquareButton(String s) {\n            super(s);\n        }\n\n        @Override\n        public Dimension getPreferredSize() {\n            Dimension d = super.getPreferredSize();\n            int s = (int) (d.getWidth() &lt; d.getHeight() ? d.getHeight() : d.getWidth());\n            return new Dimension(s, s);\n        }\n    }\n}\n</code></pre>\n<p><em>Square button design take from <a href=\"https://stackoverflow.com/questions/16257125/creating-square-buttons-in-swing\">Creating Square Buttons in Swing</a></em></p>\n<p>As a side note - I'd encourage you NOT to make use of form designers, they tend to become messy very quickly and are difficult to diagnose and maintain (IMHO)</p>\n"}],"owner":{"account_id":16515750,"reputation":15,"user_id":11933282,"display_name":"sami"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74249469,"answer_count":1,"score":0,"last_activity_date":1668291357,"creation_date":1667083455,"question_id":74249372,"body_markdown":"Basically my GUI is like this:\r\n\r\nA frame that contains a *free designed* layout JPanel called **mainPanel**\r\n\r\nInside mainPanel are two other panels:\r\n\r\nA) **toolPanel** of layout BoxLayout\r\n\r\nB) **gamePanel**of layout GridLayout\r\n\r\nThese are the significant bits of the code:\r\n\r\n```\r\npublic Normalv3() {\r\n    initComponents();\r\n    importBombs();\r\n}\r\n\r\npublic void importBombs() {\r\n\r\n    rows = Minesweeper.rows;\r\n    columns = Minesweeper.columns;\r\n    total = rows*columns;\r\n    bombsIndexes = new ArrayList&lt;Integer&gt;(Minesweeper.totalBombs);\r\n\r\n    // Creating a new grid layout and putting\r\n    // it inside the old layout\r\n    gamePanel.setLayout(new java.awt.GridLayout(rows, columns));\r\n\r\n\r\n    ////\r\n    Random ran = new Random();\r\n    int low = 1;\r\n    int high = rows*columns;\r\n    int ranValue;\r\n    for (int i = 0; i&lt; Minesweeper.totalBombs; i++) {\r\n        ranValue = ran.nextInt(high - low) + low;\r\n\r\n        if(bombsIndexes.contains(ranValue)) {\r\n            i--;\r\n            continue;\r\n        }\r\n\r\n        bombsIndexes.add(ranValue);\r\n    }\r\n    ////\r\n\r\n    for (int i = 1; i &lt;= total; i++) {\r\n        btnMines b = new btnMines(i);\r\n        if(bombsIndexes.contains(i)) {\r\n            b.isBomb = true;\r\n            b.setIcon(new javax.swing.ImageIcon(\r\n                getClass().getResource(\r\n                    &quot;/minesweeper/resources/bomb.png&quot;)));\r\n        }\r\n        b.setPreferredSize(new Dimension(20, 20));\r\n\r\n        gamePanel.add(b);\r\n    }\r\n    this.setResizable(false);\r\n    this.setTitle(&quot;Minesweeper&quot;);\r\n    this.pack(); // Sizes frame so that all components\r\n                 // are at their preferred sizes\r\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    this.setLocationRelativeTo(null);\r\n    this.validate(); // Recalculate layout\r\n    this.setVisible(true);\r\n}\r\n```\r\n\r\nThe problem is when I increase the number of columns, the width of either the **gamePanel** or **mainPanel** increases, but the width of the frame does not.\r\n\r\nExample:\r\n\r\n[![Enter image description here](https://i.stack.imgur.com/xAVh6.png)](https://i.stack.imgur.com/xAVh6.png)\r\n\r\nHow do I change the size of the frame to resize itself based on the panel sizes?\r\n\r\n##### **Note:** btnMines is basically just a JButton with some variables attached to it.\r\n\r\nBonus question: how would I go about making each button into squares? As you can see, I tried making it square by writing `b.setPreferredSize(new Dimension(20, 20));`, but each resulting button is still a rectangle!\r\n\r\nAlso, I know the code is messy. I used to separate that function into separate functions, but now I decided to put it all in one function just to test it out properly.\r\n\r\nI tried adding:\r\n\r\n```\r\nthis.setResizable(false);\r\nthis.setTitle(&quot;Minesweeper&quot;);\r\nthis.pack(); // Sizes frame so that all components\r\n             // are at their preferred sizes\r\nthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\nthis.setLocationRelativeTo(null);\r\nthis.validate(); // Recalculate layout\r\nthis.setVisible(true);\r\n```\r\n\r\nBut it didn’t work since the frame didn’t resize!\r\n\r\n","title":"How do I dynamically resize a JFrame based on its components (a JPanel)?","body":"<p>Basically my GUI is like this:</p>\n<p>A frame that contains a <em>free designed</em> layout JPanel called <strong>mainPanel</strong></p>\n<p>Inside mainPanel are two other panels:</p>\n<p>A) <strong>toolPanel</strong> of layout BoxLayout</p>\n<p>B) <strong>gamePanel</strong>of layout GridLayout</p>\n<p>These are the significant bits of the code:</p>\n<pre><code>public Normalv3() {\n    initComponents();\n    importBombs();\n}\n\npublic void importBombs() {\n\n    rows = Minesweeper.rows;\n    columns = Minesweeper.columns;\n    total = rows*columns;\n    bombsIndexes = new ArrayList&lt;Integer&gt;(Minesweeper.totalBombs);\n\n    // Creating a new grid layout and putting\n    // it inside the old layout\n    gamePanel.setLayout(new java.awt.GridLayout(rows, columns));\n\n\n    ////\n    Random ran = new Random();\n    int low = 1;\n    int high = rows*columns;\n    int ranValue;\n    for (int i = 0; i&lt; Minesweeper.totalBombs; i++) {\n        ranValue = ran.nextInt(high - low) + low;\n\n        if(bombsIndexes.contains(ranValue)) {\n            i--;\n            continue;\n        }\n\n        bombsIndexes.add(ranValue);\n    }\n    ////\n\n    for (int i = 1; i &lt;= total; i++) {\n        btnMines b = new btnMines(i);\n        if(bombsIndexes.contains(i)) {\n            b.isBomb = true;\n            b.setIcon(new javax.swing.ImageIcon(\n                getClass().getResource(\n                    &quot;/minesweeper/resources/bomb.png&quot;)));\n        }\n        b.setPreferredSize(new Dimension(20, 20));\n\n        gamePanel.add(b);\n    }\n    this.setResizable(false);\n    this.setTitle(&quot;Minesweeper&quot;);\n    this.pack(); // Sizes frame so that all components\n                 // are at their preferred sizes\n    this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    this.setLocationRelativeTo(null);\n    this.validate(); // Recalculate layout\n    this.setVisible(true);\n}\n</code></pre>\n<p>The problem is when I increase the number of columns, the width of either the <strong>gamePanel</strong> or <strong>mainPanel</strong> increases, but the width of the frame does not.</p>\n<p>Example:</p>\n<p><a href=\"https://i.stack.imgur.com/xAVh6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xAVh6.png\" alt=\"Enter image description here\" /></a></p>\n<p>How do I change the size of the frame to resize itself based on the panel sizes?</p>\n<h5><strong>Note:</strong> btnMines is basically just a JButton with some variables attached to it.</h5>\n<p>Bonus question: how would I go about making each button into squares? As you can see, I tried making it square by writing <code>b.setPreferredSize(new Dimension(20, 20));</code>, but each resulting button is still a rectangle!</p>\n<p>Also, I know the code is messy. I used to separate that function into separate functions, but now I decided to put it all in one function just to test it out properly.</p>\n<p>I tried adding:</p>\n<pre><code>this.setResizable(false);\nthis.setTitle(&quot;Minesweeper&quot;);\nthis.pack(); // Sizes frame so that all components\n             // are at their preferred sizes\nthis.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\nthis.setLocationRelativeTo(null);\nthis.validate(); // Recalculate layout\nthis.setVisible(true);\n</code></pre>\n<p>But it didn’t work since the frame didn’t resize!</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1599385191,"post_id":63755333,"comment_id":112753699,"body_markdown":"Are you sure you have an internet connection on the user&#39;s device?","body":"Are you sure you have an internet connection on the user&#39;s device?"},{"owner":{"account_id":18954230,"reputation":1,"user_id":13831192,"display_name":"Olivia"},"score":0,"creation_date":1599430641,"post_id":63755333,"comment_id":112765315,"body_markdown":"I am currently running it on an emulator, so I think that there is an internet connection.","body":"I am currently running it on an emulator, so I think that there is an internet connection."}],"answers":[{"tags":[],"owner":{"account_id":18954230,"reputation":1,"user_id":13831192,"display_name":"Olivia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1599487379,"creation_date":1599487379,"answer_id":63779127,"question_id":63755333,"body_markdown":"You probably need to Wipe Data from the current AVD you are using and try running it agian.\r\n\r\nI think that the AVD Internet wasn&#39;t working correctly, or too much was running on it so when I wiped the data this was solved. I don&#39;t think that this can happen on a real device, but I&#39;m not sure. Hopefully this is works for anyone else with this issue.","title":"Adding Firestore document doesn&#39;t Fail or Succeed","body":"<p>You probably need to Wipe Data from the current AVD you are using and try running it agian.</p>\n<p>I think that the AVD Internet wasn't working correctly, or too much was running on it so when I wiped the data this was solved. I don't think that this can happen on a real device, but I'm not sure. Hopefully this is works for anyone else with this issue.</p>\n"},{"tags":[],"owner":{"account_id":26913619,"reputation":1,"user_id":20488792,"display_name":"Ady P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668289924,"creation_date":1668289924,"answer_id":74416870,"question_id":63755333,"body_markdown":"I had the same problem and for me it was the emulator. I&#39;ve downgraded it to v31.2.10 and all the attempts when the inserts didn&#39;t work to the Firestore completed after the downgrade.\r\n\r\nRead more here: [Firebase doesn&#39;t work on Android Studio Emulator](https://stackoverflow.com/questions/73370728/firebase-doesnt-work-on-android-studio-emulator/73584389#73584389)!\r\n\r\nYou can get older emulator versions from https://developer.android.com/studio/emulator_archive","title":"Adding Firestore document doesn&#39;t Fail or Succeed","body":"<p>I had the same problem and for me it was the emulator. I've downgraded it to v31.2.10 and all the attempts when the inserts didn't work to the Firestore completed after the downgrade.</p>\n<p>Read more here: <a href=\"https://stackoverflow.com/questions/73370728/firebase-doesnt-work-on-android-studio-emulator/73584389#73584389\">Firebase doesn't work on Android Studio Emulator</a>!</p>\n<p>You can get older emulator versions from <a href=\"https://developer.android.com/studio/emulator_archive\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/emulator_archive</a></p>\n"}],"owner":{"account_id":18954230,"reputation":1,"user_id":13831192,"display_name":"Olivia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63779127,"answer_count":2,"score":0,"last_activity_date":1668289924,"creation_date":1599318140,"question_id":63755333,"body_markdown":"I am trying to add documents to Firebase Firestore from my android app. This is the code that I currently have.\r\n\r\n```\r\nFirebaseFirestore db = FirebaseFirestore.getInstance();\r\n\r\n\r\nMap&lt;String, Object&gt; newuser = new HashMap&lt;&gt;();\r\n        newuser.put(&quot;Username&quot;,username);\r\n        newuser.put(&quot;Password&quot;,password);\r\n        newuser.put(&quot;Nickname&quot;,userNickname);\r\n        newuser.put(&quot;Code&quot;, &quot;ffff&quot;);\r\n        newuser.put( &quot;Othercode&quot;, &quot;ffffffff&quot;);\r\n        newuser.put(&quot;Age&quot;, &quot;0&quot;);\r\n        \r\n        //Point 1\r\n\r\n        db.collection(&quot;Users&quot;).document(username).set(newuser)\r\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        //Point 2\r\n                    }\r\n                })\r\n\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        //Point 3\r\n                    }\r\n                });\r\n//Point 4\r\n```\r\nWhen I run this code it will reach Point 1 and Point 4, but never Point 3 or Point 2. I&#39;m pretty new to android and java so I&#39;m not sure what the things in the Logcat mean either:\r\n\r\n```2020-09-05 09:53:53.507 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\r\n2020-09-05 09:53:53.514 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\r\n2020-09-05 09:53:55.391 19216-19242/com.example.app W/e.librarysearc: Accessing hidden field Ljava/nio/Buffer;-&gt;address:J (light greylist, reflection)\r\n2020-09-05 09:54:27.236 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\r\n2020-09-05 09:54:27.260 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\r\n2020-09-05 09:54:33.134 19216-19216/com.example.app W/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@12d6200\r\n2020-09-05 09:54:33.417 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\r\n2020-09-05 09:54:35.895 19216-19328/com.example.app W/ManagedChannelImpl: [{0}] Failed to resolve name. status={1}\r\n2020-09-05 09:54:36.271 19216-19216/com.example.app W/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@549ad31\r\n2020-09-05 09:54:36.572 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\r\n2020-09-05 09:54:36.814 19216-19328/com.example.app W/ManagedChannelImpl: [{0}] Failed to resolve name. status={1}\r\n2020-09-05 09:54:42.040 19216-19216/com.example.app I/AssistStructure: Flattened final assist data: 3832 bytes, containing 1 windows, 12 views\r\n2020-09-05 09:54:43.993 19216-19216/com.example.app I/AssistStructure: Flattened final assist data: 3832 bytes, containing 1 windows, 12 views\r\n2020-09-05 09:54:45.386 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\r\n2020-09-05 09:54:45.408 19216-19245/com.example.app I/chatty: uid=10091(com.example.librarysearch) RenderThread identical 1 line\r\n2020-09-05 09:54:45.437 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\r\n2020-09-05 09:54:51.060 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\r\n2020-09-05 09:54:51.079 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\r\n```\r\nIt was functioning, but suddenly it stopped working, so I&#39;m not sure what I did. If you need any more code, I can provide it as well. Thank you in advance!","title":"Adding Firestore document doesn&#39;t Fail or Succeed","body":"<p>I am trying to add documents to Firebase Firestore from my android app. This is the code that I currently have.</p>\n<pre><code>FirebaseFirestore db = FirebaseFirestore.getInstance();\n\n\nMap&lt;String, Object&gt; newuser = new HashMap&lt;&gt;();\n        newuser.put(&quot;Username&quot;,username);\n        newuser.put(&quot;Password&quot;,password);\n        newuser.put(&quot;Nickname&quot;,userNickname);\n        newuser.put(&quot;Code&quot;, &quot;ffff&quot;);\n        newuser.put( &quot;Othercode&quot;, &quot;ffffffff&quot;);\n        newuser.put(&quot;Age&quot;, &quot;0&quot;);\n        \n        //Point 1\n\n        db.collection(&quot;Users&quot;).document(username).set(newuser)\n                .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                    @Override\n                    public void onSuccess(Void aVoid) {\n                        //Point 2\n                    }\n                })\n\n                .addOnFailureListener(new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        //Point 3\n                    }\n                });\n//Point 4\n</code></pre>\n<p>When I run this code it will reach Point 1 and Point 4, but never Point 3 or Point 2. I'm pretty new to android and java so I'm not sure what the things in the Logcat mean either:</p>\n<pre><code>2020-09-05 09:53:53.514 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\n2020-09-05 09:53:55.391 19216-19242/com.example.app W/e.librarysearc: Accessing hidden field Ljava/nio/Buffer;-&gt;address:J (light greylist, reflection)\n2020-09-05 09:54:27.236 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\n2020-09-05 09:54:27.260 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\n2020-09-05 09:54:33.134 19216-19216/com.example.app W/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@12d6200\n2020-09-05 09:54:33.417 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\n2020-09-05 09:54:35.895 19216-19328/com.example.app W/ManagedChannelImpl: [{0}] Failed to resolve name. status={1}\n2020-09-05 09:54:36.271 19216-19216/com.example.app W/ActivityThread: handleWindowVisibility: no activity for token android.os.BinderProxy@549ad31\n2020-09-05 09:54:36.572 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\n2020-09-05 09:54:36.814 19216-19328/com.example.app W/ManagedChannelImpl: [{0}] Failed to resolve name. status={1}\n2020-09-05 09:54:42.040 19216-19216/com.example.app I/AssistStructure: Flattened final assist data: 3832 bytes, containing 1 windows, 12 views\n2020-09-05 09:54:43.993 19216-19216/com.example.app I/AssistStructure: Flattened final assist data: 3832 bytes, containing 1 windows, 12 views\n2020-09-05 09:54:45.386 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\n2020-09-05 09:54:45.408 19216-19245/com.example.app I/chatty: uid=10091(com.example.librarysearch) RenderThread identical 1 line\n2020-09-05 09:54:45.437 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\n2020-09-05 09:54:51.060 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\n2020-09-05 09:54:51.079 19216-19245/com.example.app D/EGL_emulation: eglMakeCurrent: 0xe9c85300: ver 3 0 (tinfo 0xe9c83650)\n</code></pre>\n<p>It was functioning, but suddenly it stopped working, so I'm not sure what I did. If you need any more code, I can provide it as well. Thank you in advance!</p>\n"},{"tags":["java","spring-boot","azure-blob-storage","resttemplate"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1668278141,"post_id":74415548,"comment_id":131368363,"body_markdown":"We need to see code","body":"We need to see code"}],"answers":[{"tags":[],"owner":{"account_id":7893671,"reputation":618,"user_id":5963060,"display_name":"AidH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668289683,"creation_date":1668289198,"answer_id":74416783,"question_id":74415548,"body_markdown":"First tip: Do not load the file into memory. That is why you are getting out of memory exception. Instead, read it buffered.\r\n\r\nIf you are using Spring&#39;s RestTemplate, open the download stream like this:\r\n\r\n    InputStream fileDownloadUrlStream = new URL(downloadUrl).openStream();\r\n    return new BufferedInputStream(fileDownloadUrlStream);\r\n\r\nYou can try to accomplish it with this [example][1].\r\n\r\nBut there is also an Azure Storage client which you can add to Maven(or Gradle) project (check the latest versions).\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n        &lt;version&gt;12.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n        &lt;artifactId&gt;azure-storage&lt;/artifactId&gt;\r\n        &lt;version&gt;8.6.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nUsing chunks is a good approach. Here is an example of how can you use chunked blob client to download chunks of the file from Azure Storage:\r\n\r\n     String connectionString = getAzureBlobStorageConnectionKeyName(accountName);\r\n     BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().connectionString(connectionString).buildClient();\r\n     BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(containerId); \r\n     BlobClient blobClient = containerClient.getBlobClient(blobName);\r\n     BlockBlobClient blockBlobClient = blobClient.getBlockBlobClient();\r\n     blockBlobClient.downloadWithResponse(new FileOutputStream(file),\r\n                                          new BlobRange(0L, downloadSize * 1024 * 1024), // convert chunk size to MB\r\n                                          null,\r\n                                          null,\r\n                                          false,\r\n                                          Duration.ofMinutes(1L),\r\n                                          null);\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-resttemplate-download-large-file","title":"How to read large CSV file from azure blob in chunks using rest template","body":"<p>First tip: Do not load the file into memory. That is why you are getting out of memory exception. Instead, read it buffered.</p>\n<p>If you are using Spring's RestTemplate, open the download stream like this:</p>\n<pre><code>InputStream fileDownloadUrlStream = new URL(downloadUrl).openStream();\nreturn new BufferedInputStream(fileDownloadUrlStream);\n</code></pre>\n<p>You can try to accomplish it with this <a href=\"https://www.baeldung.com/spring-resttemplate-download-large-file\" rel=\"nofollow noreferrer\">example</a>.</p>\n<p>But there is also an Azure Storage client which you can add to Maven(or Gradle) project (check the latest versions).</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n    &lt;version&gt;12.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-storage&lt;/artifactId&gt;\n    &lt;version&gt;8.6.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Using chunks is a good approach. Here is an example of how can you use chunked blob client to download chunks of the file from Azure Storage:</p>\n<pre><code> String connectionString = getAzureBlobStorageConnectionKeyName(accountName);\n BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().connectionString(connectionString).buildClient();\n BlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(containerId); \n BlobClient blobClient = containerClient.getBlobClient(blobName);\n BlockBlobClient blockBlobClient = blobClient.getBlockBlobClient();\n blockBlobClient.downloadWithResponse(new FileOutputStream(file),\n                                      new BlobRange(0L, downloadSize * 1024 * 1024), // convert chunk size to MB\n                                      null,\n                                      null,\n                                      false,\n                                      Duration.ofMinutes(1L),\n                                      null);\n</code></pre>\n"}],"owner":{"account_id":26707771,"reputation":11,"user_id":20313687,"display_name":"charan charan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1668289683,"creation_date":1668278029,"question_id":74415548,"body_markdown":"I need to read large CSV file from azure blob, process the records and store those records into Db. Currently I am using rest template to accomplish this. For small sized file it&#39;s working fine. However for large sized files it&#39;s giving out of memory error. \r\n\r\n1. How to read large CSV files from azure blob using rest template.\r\n2. I need to read the data in chunks.\r\n3. Process the chunks of data and insert it to database.","title":"How to read large CSV file from azure blob in chunks using rest template","body":"<p>I need to read large CSV file from azure blob, process the records and store those records into Db. Currently I am using rest template to accomplish this. For small sized file it's working fine. However for large sized files it's giving out of memory error.</p>\n<ol>\n<li>How to read large CSV files from azure blob using rest template.</li>\n<li>I need to read the data in chunks.</li>\n<li>Process the chunks of data and insert it to database.</li>\n</ol>\n"},{"tags":["java","spring-data-jpa","composite-primary-key"],"answers":[{"tags":[],"owner":{"account_id":17113942,"reputation":623,"user_id":12383992,"display_name":"dbrewster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668289565,"creation_date":1668289565,"answer_id":74416836,"question_id":74350209,"body_markdown":"@JoinColumn has a special property for when there is a Composite PK in the referenced table - referencedColumnName\r\n\r\n```\r\n@OneToMany\r\n@JoinColumn(name = &quot;TRANSLATION_DV_ID&quot;, referencedColumnName = &quot;TRANSLATION_DV_ID&quot;)\r\nprivate List&lt;Translation&gt; translation;\r\n```","title":"How to map JPA OneToMany relationship when FK is part of CompositeId","body":"<p>@JoinColumn has a special property for when there is a Composite PK in the referenced table - referencedColumnName</p>\n<pre><code>@OneToMany\n@JoinColumn(name = &quot;TRANSLATION_DV_ID&quot;, referencedColumnName = &quot;TRANSLATION_DV_ID&quot;)\nprivate List&lt;Translation&gt; translation;\n</code></pre>\n"}],"owner":{"account_id":19093025,"reputation":250,"user_id":13942948,"display_name":"rainmaker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74416836,"answer_count":1,"score":1,"last_activity_date":1668289565,"creation_date":1667840330,"question_id":74350209,"body_markdown":"So I have a pre-existing Service Entity with multiple OneToMany relationships. Now I need to add one more but I am having trouble and I assume it must be because the Many side uses a Composite Key. \r\n\r\nI have the Service.java with its new fields\r\n```\r\n@Column(name = &quot;TRANSLATION_DV_ID&quot;)\r\nprivate String translationDvId;\r\n\r\n@OneToMany(cascade = CascadeType.All, fetch = FetchType.Eager, mappedBy = &quot;service&quot;)\r\nprivate List&lt;Translation&gt; translation;\r\n```\r\nand\r\n```\r\n@IdClass(TranslationId.class)\r\npublic class Translation {\r\n @Id\r\n @Column(name = &quot;TRANSLATION_DV_ID&quot;)\r\n private String translationDvId;\r\n\r\n @Id\r\n @Column(name = &quot;LOCALE_CD&quot;)\r\n private String localeCd;\r\n\r\n @Column(name = &quot;TRANSLATED_NAME&quot;)\r\n private String translatedName;\r\n\r\n @Column(name = &quot;TRANSLATED_DESC&quot;)\r\n private String translatedDesc;\r\n\r\n @ManyToOne\r\n @JoinColumn(name = &quot;TRANSLATION_DV_ID&quot;, insertable = false, updatable = false)\r\n private Service service;\r\n\r\n```\r\n\r\nThe test data is generated with sql scripts. I entered the new data and matched the translationDvId&#39;s. The data is all present with the correct information except for Translation relationship- each Service always has an empty ```List&lt;Translation&gt;```.\r\n\r\nI am not sure what I am missing but here is an example of a data entry \r\n```\r\nINSERT INTO SCHEMA.SERVICE(SERVICE_CD, TRANSLATION_DV_ID, etc, etc)\r\nVALUES (&#39;servicePrimaryKey&#39;, &#39;12345&#39;, &#39;etc, &#39;etc);\r\n\r\nINSERT INTO SCHEMA.TRANSLATION(TRANSLATION_DV_ID, LOCALE_CD, TRANSLATED_NAME, TRANSLATED_DESC)\r\nVALUES (&#39;12345&#39;, &#39;English&#39;, &#39;Guardian&#39;, &#39;Cool stuff&#39;);\r\nINSERT INTO SCHEMA.TRANSLATION(TRANSLATION_DV_ID, LOCALE_CD, TRANSLATED_NAME, TRANSLATED_DESC)\r\nVALUES (&#39;12345&#39;, &#39;Spanish&#39;, &#39;Guardia&#39;, &#39;Cosas interesantes&#39;);\r\n```","title":"How to map JPA OneToMany relationship when FK is part of CompositeId","body":"<p>So I have a pre-existing Service Entity with multiple OneToMany relationships. Now I need to add one more but I am having trouble and I assume it must be because the Many side uses a Composite Key.</p>\n<p>I have the Service.java with its new fields</p>\n<pre><code>@Column(name = &quot;TRANSLATION_DV_ID&quot;)\nprivate String translationDvId;\n\n@OneToMany(cascade = CascadeType.All, fetch = FetchType.Eager, mappedBy = &quot;service&quot;)\nprivate List&lt;Translation&gt; translation;\n</code></pre>\n<p>and</p>\n<pre><code>@IdClass(TranslationId.class)\npublic class Translation {\n @Id\n @Column(name = &quot;TRANSLATION_DV_ID&quot;)\n private String translationDvId;\n\n @Id\n @Column(name = &quot;LOCALE_CD&quot;)\n private String localeCd;\n\n @Column(name = &quot;TRANSLATED_NAME&quot;)\n private String translatedName;\n\n @Column(name = &quot;TRANSLATED_DESC&quot;)\n private String translatedDesc;\n\n @ManyToOne\n @JoinColumn(name = &quot;TRANSLATION_DV_ID&quot;, insertable = false, updatable = false)\n private Service service;\n\n</code></pre>\n<p>The test data is generated with sql scripts. I entered the new data and matched the translationDvId's. The data is all present with the correct information except for Translation relationship- each Service always has an empty <code>List&lt;Translation&gt;</code>.</p>\n<p>I am not sure what I am missing but here is an example of a data entry</p>\n<pre><code>INSERT INTO SCHEMA.SERVICE(SERVICE_CD, TRANSLATION_DV_ID, etc, etc)\nVALUES ('servicePrimaryKey', '12345', 'etc, 'etc);\n\nINSERT INTO SCHEMA.TRANSLATION(TRANSLATION_DV_ID, LOCALE_CD, TRANSLATED_NAME, TRANSLATED_DESC)\nVALUES ('12345', 'English', 'Guardian', 'Cool stuff');\nINSERT INTO SCHEMA.TRANSLATION(TRANSLATION_DV_ID, LOCALE_CD, TRANSLATED_NAME, TRANSLATED_DESC)\nVALUES ('12345', 'Spanish', 'Guardia', 'Cosas interesantes');\n</code></pre>\n"},{"tags":["java","spring-boot","maven","jenkins","devops"],"comments":[{"owner":{"account_id":25771,"reputation":21236,"user_id":66519,"accept_rate":99,"display_name":"ojblass"},"score":0,"creation_date":1668289865,"post_id":74416815,"comment_id":131370589,"body_markdown":"Does your Jenkins have any Maven plug in installed?","body":"Does your Jenkins have any Maven plug in installed?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668290443,"post_id":74416815,"comment_id":131370705,"body_markdown":"First the jenkins setup does not see the maven version because of the given error: `maven-resources-plugin:3.2.0 requires Maven version 3.1.0`... If you configured the global tools configuration the usage of `M2_HOME` does not work because those are environment variables which are related to the environment of your starting process (Jenkins!)... You should simply configure the absolute path to your Maven installation in your Jenkins Setup...","body":"First the jenkins setup does not see the maven version because of the given error: <code>maven-resources-plugin:3.2.0 requires Maven version 3.1.0</code>... If you configured the global tools configuration the usage of <code>M2_HOME</code> does not work because those are environment variables which are related to the environment of your starting process (Jenkins!)... You should simply configure the absolute path to your Maven installation in your Jenkins Setup..."},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668290508,"post_id":74416815,"comment_id":131370720,"body_markdown":"Also defining a maven-plugin as a dependency in your project is simply wrong. Remove the dependency to `maven-compiler-plugin`...","body":"Also defining a maven-plugin as a dependency in your project is simply wrong. Remove the dependency to <code>maven-compiler-plugin</code>..."},{"owner":{"account_id":16020038,"reputation":11,"user_id":11561751,"display_name":"Leith Majdoub"},"score":0,"creation_date":1668336242,"post_id":74416815,"comment_id":131376031,"body_markdown":"@khmarbaise even after configuring the absolute path in the jenkins setup, jenkins still doesn&#39;t see Maven. Is there something specific i need to restart for the changes to be seen ?","body":"@khmarbaise even after configuring the absolute path in the jenkins setup, jenkins still doesn&#39;t see Maven. Is there something specific i need to restart for the changes to be seen ?"}],"owner":{"account_id":16020038,"reputation":11,"user_id":11561751,"display_name":"Leith Majdoub"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":682,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1668289378,"creation_date":1668289378,"question_id":74416815,"body_markdown":"This is my first Devops project. I created a pipeline on jenkins that pulls from a spring boot project on github then executes Maven commands. Then Sonar Nexus and Docker. And i have this compatibility error at the maven install stage that i can&#39;t fix: \r\n\r\n```\r\n+ mvn install\r\n[INFO] Scanning for projects...\r\n[WARNING] \r\n[WARNING] Some problems were encountered while building the effective model for tn.esprit.rh:achat:jar:1.0\r\n[WARNING] &#39;dependencyManagement.dependencies.dependency.exclusions.exclusion.artifactId&#39; for org.quartz-scheduler:quartz:jar with value &#39;*&#39; does not match a valid id pattern. @ org.springframework.boot:spring-boot-dependencies:2.5.3, /var/lib/jenkins/.m2/repository/org/springframework/boot/spring-boot-dependencies/2.5.3/spring-boot-dependencies-2.5.3.pom, line 1691, column 25\r\n[WARNING] \r\n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\r\n[WARNING] \r\n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\r\n[WARNING] \r\n[INFO]                                                                         \r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Building achat 1.0\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time: 2.059s\r\n[INFO] Finished at: Sat Nov 12 19:01:24 UTC 2022\r\n[INFO] Final Memory: 7M/29M\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.2.0:resources (default-resources) on project achat: The plugin org.apache.maven.plugins:maven-resources-plugin:3.2.0 requires Maven version 3.1.0 -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginIncompatibleException\r\n```\r\n\r\nThis is the content of pom.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.3&lt;/version&gt;\r\n\t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;tn.esprit.rh&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;achat&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0&lt;/version&gt;\r\n\t&lt;name&gt;achat&lt;/name&gt;\r\n\t&lt;description&gt;Projet pour le module DevOps&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;maven-jar-plugin.version&gt;3.3.0&lt;/maven-jar-plugin.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.8.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nThis is Java and Maven configuration on the Vagrant CentOS7 VM from where i&#39;m launching Jenkins:\r\n\r\n```\r\n[vagrant@localhost ~]$ mvn --version\r\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\r\nMaven home: /opt/maven\r\nJava version: 11.0.17, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-11-openjdk-11.0.17.0.8-2.el7_9.x86_64\r\nDefault locale: en_US, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.76.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\n\r\n\r\nThis is maven configuration in Jenkins Global Tool Configuration: [![Global tool config maven]:\r\nName: M2_HOME\r\nMAVEN_HOME: /opt/maven\r\n\r\n\r\n\r\nI tried all the fixes i could think of or find on internet but it&#39;s a pretty specifix problem that&#39;s why i&#39;m posting it here.","title":"Error Maven install in Jenkins Pipeline: Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.2.0:resources","body":"<p>This is my first Devops project. I created a pipeline on jenkins that pulls from a spring boot project on github then executes Maven commands. Then Sonar Nexus and Docker. And i have this compatibility error at the maven install stage that i can't fix:</p>\n<pre><code>+ mvn install\n[INFO] Scanning for projects...\n[WARNING] \n[WARNING] Some problems were encountered while building the effective model for tn.esprit.rh:achat:jar:1.0\n[WARNING] 'dependencyManagement.dependencies.dependency.exclusions.exclusion.artifactId' for org.quartz-scheduler:quartz:jar with value '*' does not match a valid id pattern. @ org.springframework.boot:spring-boot-dependencies:2.5.3, /var/lib/jenkins/.m2/repository/org/springframework/boot/spring-boot-dependencies/2.5.3/spring-boot-dependencies-2.5.3.pom, line 1691, column 25\n[WARNING] \n[WARNING] It is highly recommended to fix these problems because they threaten the stability of your build.\n[WARNING] \n[WARNING] For this reason, future Maven versions might no longer support building such malformed projects.\n[WARNING] \n[INFO]                                                                         \n[INFO] ------------------------------------------------------------------------\n[INFO] Building achat 1.0\n[INFO] ------------------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 2.059s\n[INFO] Finished at: Sat Nov 12 19:01:24 UTC 2022\n[INFO] Final Memory: 7M/29M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-resources-plugin:3.2.0:resources (default-resources) on project achat: The plugin org.apache.maven.plugins:maven-resources-plugin:3.2.0 requires Maven version 3.1.0 -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginIncompatibleException\n</code></pre>\n<p>This is the content of pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.3&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;tn.esprit.rh&lt;/groupId&gt;\n    &lt;artifactId&gt;achat&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;name&gt;achat&lt;/name&gt;\n    &lt;description&gt;Projet pour le module DevOps&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven-jar-plugin.version&gt;3.3.0&lt;/maven-jar-plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.apache.maven.plugins/maven-compiler-plugin --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>This is Java and Maven configuration on the Vagrant CentOS7 VM from where i'm launching Jenkins:</p>\n<pre><code>[vagrant@localhost ~]$ mvn --version\nApache Maven 3.8.6 (84538c9988a25aec085021c365c560670ad80f63)\nMaven home: /opt/maven\nJava version: 11.0.17, vendor: Red Hat, Inc., runtime: /usr/lib/jvm/java-11-openjdk-11.0.17.0.8-2.el7_9.x86_64\nDefault locale: en_US, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;3.10.0-1160.76.1.el7.x86_64&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>This is maven configuration in Jenkins Global Tool Configuration: [![Global tool config maven]:\nName: M2_HOME\nMAVEN_HOME: /opt/maven</p>\n<p>I tried all the fixes i could think of or find on internet but it's a pretty specifix problem that's why i'm posting it here.</p>\n"},{"tags":["java","mysql","database","jdbc"],"comments":[{"owner":{"account_id":19061,"reputation":185736,"user_id":44330,"accept_rate":70,"display_name":"Jason S"},"score":1,"creation_date":1261602102,"post_id":1955268,"comment_id":1867421,"body_markdown":"&quot;pragmatically&quot; should be &quot;programmatically&quot;","body":"&quot;pragmatically&quot; should be &quot;programmatically&quot;"}],"answers":[{"tags":[],"owner":{"account_id":83981,"reputation":31313,"user_id":235058,"accept_rate":70,"display_name":"Roland Bouman"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1261602346,"creation_date":1261602346,"answer_id":1955310,"question_id":1955268,"body_markdown":"Personally I would disrecommend loading a regular SQL dump in this way, because you would need non-trivial code to parse or at least tokenize SQL. \r\n\r\nI would recommend using CSV data dumps, you can load these with a the LOAD DATA INFILE syntax. See: [http://dev.mysql.com/doc/refman/5.1/en/load-data.html][1]\r\n\r\nOf course, you would still need to ensure the target tables exist, but if you know you only have to parse table creation DDL stattemnts, that will drastically simplify your java code.\r\n\r\nNote that you can use mysqldump to extract CSV data from your database, see: [http://dev.mysql.com/doc/refman/5.1/en/mysqldump.html#option_mysqldump_tab][2]\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.1/en/load-data.html\r\n  [2]: http://dev.mysql.com/doc/refman/5.1/en/mysqldump.html#option_mysqldump_tab","title":"Importing a (mysql) database dump programmatically through Java","body":"<p>Personally I would disrecommend loading a regular SQL dump in this way, because you would need non-trivial code to parse or at least tokenize SQL. </p>\n\n<p>I would recommend using CSV data dumps, you can load these with a the LOAD DATA INFILE syntax. See: <a href=\"http://dev.mysql.com/doc/refman/5.1/en/load-data.html\" rel=\"nofollow noreferrer\">http://dev.mysql.com/doc/refman/5.1/en/load-data.html</a></p>\n\n<p>Of course, you would still need to ensure the target tables exist, but if you know you only have to parse table creation DDL stattemnts, that will drastically simplify your java code.</p>\n\n<p>Note that you can use mysqldump to extract CSV data from your database, see: <a href=\"http://dev.mysql.com/doc/refman/5.1/en/mysqldump.html#option_mysqldump_tab\" rel=\"nofollow noreferrer\">http://dev.mysql.com/doc/refman/5.1/en/mysqldump.html#option_mysqldump_tab</a></p>\n"},{"tags":[],"owner":{"account_id":55865,"reputation":6709,"user_id":167388,"display_name":"jvilalta"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1261604584,"creation_date":1261604584,"answer_id":1955483,"question_id":1955268,"body_markdown":"You could start a new process from java and execute this command if you have access to the mysql executable wherever you are running the import. Something like this:\r\n\r\n    Runtime rt = Runtime.getRuntime();\r\n    Process pr = rt.exec(&quot;mysql -p -h ServerName DbName &lt; dump.sql&quot;);\r\n\r\n","title":"Importing a (mysql) database dump programmatically through Java","body":"<p>You could start a new process from java and execute this command if you have access to the mysql executable wherever you are running the import. Something like this:</p>\n\n<pre><code>Runtime rt = Runtime.getRuntime();\nProcess pr = rt.exec(\"mysql -p -h ServerName DbName &lt; dump.sql\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":223431,"reputation":4406,"user_id":482628,"accept_rate":92,"display_name":"Mehdi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1346426405,"creation_date":1346426405,"answer_id":12218284,"question_id":1955268,"body_markdown":"Backup:\r\n\r\n    /******************************************************/\r\n    //Database Properties\r\n    /******************************************************/\r\n    String dbName = “dbName”;\r\n    String dbUser = “dbUser”;\r\n    String dbPass = “dbPass”;\r\n    \r\n    /***********************************************************/\r\n    // Execute Shell Command\r\n    /***********************************************************/\r\n    String executeCmd = “”;\r\n    executeCmd = “mysqldump -u “+dbUser+” -p”+dbPass+” “+dbName+” -r backup.sql”;\r\n    }\r\n    Process runtimeProcess =Runtime.getRuntime().exec(executeCmd);\r\n    int processComplete = runtimeProcess.waitFor();\r\n    if(processComplete == 0){\r\n    \r\n    out.println(“Backup taken successfully”);\r\n    \r\n    } else {\r\n    \r\n    out.println(“Could not take mysql backup”);\r\n    \r\n    }\r\n\r\nRestore:\r\n\r\n    /******************************************************/\r\n    //Database Properties\r\n    /******************************************************/\r\n    String dbName = “dbName”;\r\n    String dbUser = “dbUser”;\r\n    String dbPass = “dbPass”;\r\n    \r\n    /***********************************************************/\r\n    // Execute Shell Command\r\n    /***********************************************************/\r\n    String executeCmd = “”;\r\n    \r\n    executeCmd = new String[]{“/bin/sh”, “-c”, “mysql -u” + dbUser+ ” -p”+dbPass+” ” + dbName+ ” &lt; backup.sql” };\r\n    \r\n    }\r\n    Process runtimeProcess =Runtime.getRuntime().exec(executeCmd);\r\n    int processComplete = runtimeProcess.waitFor();\r\n    if(processComplete == 0){\r\n    \r\n    out.println(“success”);\r\n    \r\n    } else {\r\n    \r\n    out.println(“restore failure”);\r\n    \r\n    }","title":"Importing a (mysql) database dump programmatically through Java","body":"<p>Backup:</p>\n\n<pre><code>/******************************************************/\n//Database Properties\n/******************************************************/\nString dbName = “dbName”;\nString dbUser = “dbUser”;\nString dbPass = “dbPass”;\n\n/***********************************************************/\n// Execute Shell Command\n/***********************************************************/\nString executeCmd = “”;\nexecuteCmd = “mysqldump -u “+dbUser+” -p”+dbPass+” “+dbName+” -r backup.sql”;\n}\nProcess runtimeProcess =Runtime.getRuntime().exec(executeCmd);\nint processComplete = runtimeProcess.waitFor();\nif(processComplete == 0){\n\nout.println(“Backup taken successfully”);\n\n} else {\n\nout.println(“Could not take mysql backup”);\n\n}\n</code></pre>\n\n<p>Restore:</p>\n\n<pre><code>/******************************************************/\n//Database Properties\n/******************************************************/\nString dbName = “dbName”;\nString dbUser = “dbUser”;\nString dbPass = “dbPass”;\n\n/***********************************************************/\n// Execute Shell Command\n/***********************************************************/\nString executeCmd = “”;\n\nexecuteCmd = new String[]{“/bin/sh”, “-c”, “mysql -u” + dbUser+ ” -p”+dbPass+” ” + dbName+ ” &lt; backup.sql” };\n\n}\nProcess runtimeProcess =Runtime.getRuntime().exec(executeCmd);\nint processComplete = runtimeProcess.waitFor();\nif(processComplete == 0){\n\nout.println(“success”);\n\n} else {\n\nout.println(“restore failure”);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":379940,"reputation":53,"user_id":733650,"display_name":"shandor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361531577,"creation_date":1361531577,"answer_id":15022853,"question_id":1955268,"body_markdown":"Effective solution can be found here:\r\n\r\nhttps://stackoverflow.com/a/1044837\r\n\r\nThis explains how to run any sql script over jdbc.\r\n\r\n ","title":"Importing a (mysql) database dump programmatically through Java","body":"<p>Effective solution can be found here:</p>\n\n<p><a href=\"https://stackoverflow.com/a/1044837\">https://stackoverflow.com/a/1044837</a></p>\n\n<p>This explains how to run any sql script over jdbc.</p>\n"},{"tags":[],"owner":{"account_id":18455933,"reputation":311,"user_id":13444713,"display_name":"Abderaouf Boucenna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668288991,"creation_date":1668288991,"answer_id":74416760,"question_id":1955268,"body_markdown":"I know this question is a bit old, but I think people are still looking for an answer like me.\r\n\r\nBasically, I wanted to make two buttons in my GUI (one to import, and the other to export) and generate an SQL file, I tested the chosen solution to start a process from java and execute it with Runtime but it didn&#39;t work, I had an *Access Denied* error eventhought I am the only user in my computer. After some researches, I found [this library (mysql-backup4j)][1] and did this code :\r\n\r\n*EXPORT FUNCTION :*\r\n```\r\nProperties properties = new Properties();\r\nproperties.setProperty(MysqlExportService.DB_NAME, &quot;DATABASE_NAME&quot;);\r\nproperties.setProperty(MysqlExportService.DB_USERNAME, &quot;DATABASE_USERNAME&quot;);\r\nproperties.setProperty(MysqlExportService.DB_PASSWORD, &quot;DATABASE_PWD&quot;);\r\n\r\nproperties.setProperty(MysqlExportService.TEMP_DIR, new File(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\database_dump&quot;).getAbsolutePath());\r\nproperties.setProperty(MysqlExportService.PRESERVE_GENERATED_ZIP, &quot;true&quot;);\r\nMysqlExportService mysqlExportService = new MysqlExportService(properties); mysqlExportService.export();\r\n```\r\n\r\n*IMPORT FUNCTION (the user chooses the SQL file) :*\r\n```\r\nFileChooser fc = new FileChooser();\r\n\r\nList&lt;String&gt; sqlExtensions = new ArrayList&lt;&gt;(List.of(&quot;*.sql&quot;, &quot;*.SQL&quot;));\r\nfc.getExtensionFilters().add(new FileChooser.ExtensionFilter(&quot;Fichier SQL&quot;, sqlExtensions));\r\n\r\nFile f = fc.showOpenDialog(null);\r\nif (f != null) {\r\n        System.out.println(&quot;database path : &quot; + f.getAbsolutePath());\r\n        String sql = new String(Files.readAllBytes(Paths.get(f.getAbsolutePath())));\r\n        boolean res = MysqlImportService.builder()\r\n                    .setDatabase(&quot;DATABASE_NAME&quot;).setSqlString(sql)\r\n                    .setUsername(&quot;DATABASE_USERNAME&quot;).setPassword(&quot;DATABASE_PWD&quot;).setDeleteExisting(true)\r\n                    .setDropExisting(true)\r\n                    .importDatabase();\r\n}\r\n```\r\n\r\nP.S.: I am using JavaFX for the GUI with JDK11.\r\n\r\nReference : [How to backup your MySQL database programmatically using mysql-backup4j][2]\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/com.smattme/mysql-backup4j/1.2.1/jar\r\n  [2]: https://medium.com/free-code-camp/how-to-backup-mysql-database-programmatically-using-mysql-backup4j-2b53a1cbf9b2","title":"Importing a (mysql) database dump programmatically through Java","body":"<p>I know this question is a bit old, but I think people are still looking for an answer like me.</p>\n<p>Basically, I wanted to make two buttons in my GUI (one to import, and the other to export) and generate an SQL file, I tested the chosen solution to start a process from java and execute it with Runtime but it didn't work, I had an <em>Access Denied</em> error eventhought I am the only user in my computer. After some researches, I found <a href=\"https://search.maven.org/artifact/com.smattme/mysql-backup4j/1.2.1/jar\" rel=\"nofollow noreferrer\">this library (mysql-backup4j)</a> and did this code :</p>\n<p><em>EXPORT FUNCTION :</em></p>\n<pre><code>Properties properties = new Properties();\nproperties.setProperty(MysqlExportService.DB_NAME, &quot;DATABASE_NAME&quot;);\nproperties.setProperty(MysqlExportService.DB_USERNAME, &quot;DATABASE_USERNAME&quot;);\nproperties.setProperty(MysqlExportService.DB_PASSWORD, &quot;DATABASE_PWD&quot;);\n\nproperties.setProperty(MysqlExportService.TEMP_DIR, new File(System.getProperty(&quot;user.dir&quot;) + &quot;\\\\database_dump&quot;).getAbsolutePath());\nproperties.setProperty(MysqlExportService.PRESERVE_GENERATED_ZIP, &quot;true&quot;);\nMysqlExportService mysqlExportService = new MysqlExportService(properties); mysqlExportService.export();\n</code></pre>\n<p><em>IMPORT FUNCTION (the user chooses the SQL file) :</em></p>\n<pre><code>FileChooser fc = new FileChooser();\n\nList&lt;String&gt; sqlExtensions = new ArrayList&lt;&gt;(List.of(&quot;*.sql&quot;, &quot;*.SQL&quot;));\nfc.getExtensionFilters().add(new FileChooser.ExtensionFilter(&quot;Fichier SQL&quot;, sqlExtensions));\n\nFile f = fc.showOpenDialog(null);\nif (f != null) {\n        System.out.println(&quot;database path : &quot; + f.getAbsolutePath());\n        String sql = new String(Files.readAllBytes(Paths.get(f.getAbsolutePath())));\n        boolean res = MysqlImportService.builder()\n                    .setDatabase(&quot;DATABASE_NAME&quot;).setSqlString(sql)\n                    .setUsername(&quot;DATABASE_USERNAME&quot;).setPassword(&quot;DATABASE_PWD&quot;).setDeleteExisting(true)\n                    .setDropExisting(true)\n                    .importDatabase();\n}\n</code></pre>\n<p>P.S.: I am using JavaFX for the GUI with JDK11.</p>\n<p>Reference : <a href=\"https://medium.com/free-code-camp/how-to-backup-mysql-database-programmatically-using-mysql-backup4j-2b53a1cbf9b2\" rel=\"nofollow noreferrer\">How to backup your MySQL database programmatically using mysql-backup4j</a></p>\n"}],"owner":{"account_id":75516,"reputation":6939,"user_id":216575,"accept_rate":56,"display_name":"Ali Salehi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22996,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":1955483,"answer_count":5,"score":17,"last_activity_date":1668288991,"creation_date":1261601787,"question_id":1955268,"body_markdown":"How can I import a mysql database dump file (contains insert and create table statements) programmatically through a java program. I need this as the setup phase of a unit test. \r\n\r\nUnfortunately this doesn&#39;t work:\r\n\r\n    Connection conn = dbConnectionSource.getConnection();\r\n    Statement stmt = conn.createStatement();\r\n    stmt.execute(FileUtils.readFileToString(new File(&quot;./some-sql-file&quot;)));\r\n    conn.close();\r\n\r\nThanks,\r\n-A\r\n\r\nPS - In Rails, I used fixtures for filling a test database. I made rails rails create the underlying tables through setting the environment to test, anything similar in Java.\r\n","title":"Importing a (mysql) database dump programmatically through Java","body":"<p>How can I import a mysql database dump file (contains insert and create table statements) programmatically through a java program. I need this as the setup phase of a unit test. </p>\n\n<p>Unfortunately this doesn't work:</p>\n\n<pre><code>Connection conn = dbConnectionSource.getConnection();\nStatement stmt = conn.createStatement();\nstmt.execute(FileUtils.readFileToString(new File(\"./some-sql-file\")));\nconn.close();\n</code></pre>\n\n<p>Thanks,\n-A</p>\n\n<p>PS - In Rails, I used fixtures for filling a test database. I made rails rails create the underlying tables through setting the environment to test, anything similar in Java.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22086,"reputation":14236,"user_id":54200,"accept_rate":83,"display_name":"KevinDTimm"},"score":0,"creation_date":1387639253,"post_id":20720341,"comment_id":31040604,"body_markdown":"I wouldn&#39;t have written a line of code to show the OP, I would have just said to write the comma first on every iteration through the loop after the first. (give a man a fish, he eats for a day.....)","body":"I wouldn&#39;t have written a line of code to show the OP, I would have just said to write the comma first on every iteration through the loop after the first. (give a man a fish, he eats for a day.....)"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1387640523,"creation_date":1387638694,"answer_id":20720356,"question_id":20720341,"body_markdown":"I would do the following\r\n\r\n    if (number &gt; 0) {\r\n        System.out.print( number % 10 );\r\n        number = number / 10;\r\n        while (number &gt; 0) { \r\n            System.out.print(&quot;,&quot; + (number % 10) );\r\n            number = number / 10;\r\n        }\r\n    }\r\n\r\n\r\n\r\nPrint the first element and then for all the other ones prepend a `,`. In this way, you always end with a \r\n\r\n    , X\r\n\r\nThe other options are doing unnecessary `if` checks. ","title":"Remove the comma after the last number in a loop","body":"<p>I would do the following</p>\n\n<pre><code>if (number &gt; 0) {\n    System.out.print( number % 10 );\n    number = number / 10;\n    while (number &gt; 0) { \n        System.out.print(\",\" + (number % 10) );\n        number = number / 10;\n    }\n}\n</code></pre>\n\n<p>Print the first element and then for all the other ones prepend a <code>,</code>. In this way, you always end with a </p>\n\n<pre><code>, X\n</code></pre>\n\n<p>The other options are doing unnecessary <code>if</code> checks. </p>\n"},{"tags":[],"owner":{"account_id":947184,"reputation":48994,"user_id":974186,"accept_rate":79,"display_name":"Ren&#233; Link"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387639032,"creation_date":1387639032,"answer_id":20720419,"question_id":20720341,"body_markdown":"I would do it this way\r\n\r\n    while (number &gt; 0) {\r\n        System.out.print(number % 10);\r\n        number = number / 10;\r\n        if (number &gt; 0)\r\n            System.out.print(&quot;,&quot;);\r\n    }","title":"Remove the comma after the last number in a loop","body":"<p>I would do it this way</p>\n\n<pre><code>while (number &gt; 0) {\n    System.out.print(number % 10);\n    number = number / 10;\n    if (number &gt; 0)\n        System.out.print(\",\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1339399,"reputation":21672,"user_id":1281407,"accept_rate":93,"display_name":"mprivat"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1387639042,"creation_date":1387639042,"answer_id":20720421,"question_id":20720341,"body_markdown":"Since everyone is having a field day, here&#39;s mine:\r\n\r\n    while (number &gt; 0) {\r\n        System.out.print( number % 10 + ((number/=10)&gt;0 ? &quot;,&quot; : &quot;&quot;));\r\n    }","title":"Remove the comma after the last number in a loop","body":"<p>Since everyone is having a field day, here's mine:</p>\n\n<pre><code>while (number &gt; 0) {\n    System.out.print( number % 10 + ((number/=10)&gt;0 ? \",\" : \"\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":321831,"reputation":188,"user_id":640890,"accept_rate":100,"display_name":"Rohit Jose"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387639105,"creation_date":1387639105,"answer_id":20720428,"question_id":20720341,"body_markdown":"This could do the trick:\r\n\r\n    while (number &gt; 0) {\r\n\t\t\tSystem.out.print(number % 10);\r\n\t\t\tnumber = number / 10;\r\n\t\t\tif(number!=0) System.out.print(&quot;,&quot;);\r\n\t\t}","title":"Remove the comma after the last number in a loop","body":"<p>This could do the trick:</p>\n\n<pre><code>while (number &gt; 0) {\n        System.out.print(number % 10);\n        number = number / 10;\n        if(number!=0) System.out.print(\",\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3433601,"reputation":303994,"user_id":2877241,"accept_rate":52,"display_name":"Vlad from Moscow"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1387639538,"creation_date":1387639538,"answer_id":20720503,"question_id":20720341,"body_markdown":"All the code that was showed here is invalid because the user can enter 0 and 0 should be printed out.\r\n\r\nThe valid code will look the following way\r\n\r\n    do\r\n    {\r\n        System.out.print( number % 10 );\r\n        number = number / 10;\r\n        if ( number != 0 )\r\n            System.out.print( &quot;,&quot; );\r\n    } while ( number != 0 );\r\n\r\n","title":"Remove the comma after the last number in a loop","body":"<p>All the code that was showed here is invalid because the user can enter 0 and 0 should be printed out.</p>\n\n<p>The valid code will look the following way</p>\n\n<pre><code>do\n{\n    System.out.print( number % 10 );\n    number = number / 10;\n    if ( number != 0 )\n        System.out.print( \",\" );\n} while ( number != 0 );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1668288845,"creation_date":1387639926,"answer_id":20720567,"question_id":20720341,"body_markdown":"This is the most elegant approach I have picked along the way:\r\n\r\n    String delimiter = &quot;&quot;;\r\n    while (number &gt; 0) { \r\n       System.out.print(delimiter + number % 10);\r\n       number /= 10;\r\n       delimiter = &quot;,&quot;;\r\n    }\r\n","title":"Remove the comma after the last number in a loop","body":"<p>This is the most elegant approach I have picked along the way:</p>\n<pre><code>String delimiter = &quot;&quot;;\nwhile (number &gt; 0) { \n   System.out.print(delimiter + number % 10);\n   number /= 10;\n   delimiter = &quot;,&quot;;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2261201,"reputation":320,"user_id":1991256,"display_name":"donleyp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1387640302,"creation_date":1387640302,"answer_id":20720620,"question_id":20720341,"body_markdown":"Sotirios&#39;s solution works but here&#39;s an alternative:\r\n\r\n    // replacing &quot;scan&quot; with an example number.\r\n    int start = 123456789;\r\n    for (int number = start; number &gt; 0; number = number / 10) {\r\n        if(number &lt; start)\r\n            System.out.print(&#39;,&#39;);\r\n        System.out.print(number % 10);\r\n    }\r\n\r\n\r\nThis will DRY up the calculation of the count down (number/10) but does the test to see if it&#39;s not the first one in each loop. I think that that test, however, would turn out to be faster than doing string arithmetic (&quot;,&quot; + (number % 10)).\r\n\r\nHope this helps.\r\n","title":"Remove the comma after the last number in a loop","body":"<p>Sotirios's solution works but here's an alternative:</p>\n\n<pre><code>// replacing \"scan\" with an example number.\nint start = 123456789;\nfor (int number = start; number &gt; 0; number = number / 10) {\n    if(number &lt; start)\n        System.out.print(',');\n    System.out.print(number % 10);\n}\n</code></pre>\n\n<p>This will DRY up the calculation of the count down (number/10) but does the test to see if it's not the first one in each loop. I think that that test, however, would turn out to be faster than doing string arithmetic (\",\" + (number % 10)).</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":4890043,"reputation":11,"user_id":3941441,"display_name":"Ricky S"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1408023919,"creation_date":1408021035,"answer_id":25308608,"question_id":20720341,"body_markdown":"        int x;\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter integer : &quot;);\r\n\r\n        x = scan.nextInt();\r\n\r\n        for(x = 4; x&gt;1; x = x-1)\r\n        {\r\n            System.out.print(x + &quot;,&quot;);\r\n        }\r\n        if (x != 0) // this is so the last number doesn&#39;t end with a comma\r\n        {\r\n            System.out.print(x);\r\n        }","title":"Remove the comma after the last number in a loop","body":"<pre><code>    int x;\n    Scanner scan = new Scanner(System.in);\n\n    System.out.print(\"Enter integer : \");\n\n    x = scan.nextInt();\n\n    for(x = 4; x&gt;1; x = x-1)\n    {\n        System.out.print(x + \",\");\n    }\n    if (x != 0) // this is so the last number doesn't end with a comma\n    {\n        System.out.print(x);\n    }\n</code></pre>\n"}],"owner":{"account_id":3737496,"reputation":39,"user_id":3108110,"display_name":"user3108110"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3344,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1517184969,"answer_count":8,"score":4,"last_activity_date":1668288845,"creation_date":1387638582,"question_id":20720341,"body_markdown":"this is my code \r\n\r\n \r\n\r\n     System.out.println(&quot;Enter any integer number &quot;);\r\n\tint\tnumber = scan.nextInt();\r\n\twhile (number &gt; 0) { System.out.print( number % 10 + &quot;,&quot;);number = number / 10;}\r\n\r\n\r\n\r\n  \r\nTo clarify if the user enter 1234\r\nthe output should be 4,3,2,1,\r\n\r\nhow can i edit the code to remove the comma after the last num?\r\nsomething like 4,3,2,1 ","title":"Remove the comma after the last number in a loop","body":"<p>this is my code </p>\n\n<pre><code> System.out.println(\"Enter any integer number \");\nint number = scan.nextInt();\nwhile (number &gt; 0) { System.out.print( number % 10 + \",\");number = number / 10;}\n</code></pre>\n\n<p>To clarify if the user enter 1234\nthe output should be 4,3,2,1,</p>\n\n<p>how can i edit the code to remove the comma after the last num?\nsomething like 4,3,2,1 </p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9104,"page":888,"page_size":100}
