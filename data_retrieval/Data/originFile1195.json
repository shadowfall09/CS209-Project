{"items":[{"tags":["java","casting"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1483683356,"post_id":41500021,"comment_id":70205682,"body_markdown":"Possible duplicate of [How to serialize a lambda?](http://stackoverflow.com/questions/22807912/how-to-serialize-a-lambda)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/22807912/how-to-serialize-a-lambda\">How to serialize a lambda?</a>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1483683786,"post_id":41500021,"comment_id":70205824,"body_markdown":"The return type isn&#39;t the issue. Casting it to `Serializable` *makes it serializable*. This method casts to allow callers to serialize the result if they so choose.","body":"The return type isn&#39;t the issue. Casting it to <code>Serializable</code> <i>makes it serializable</i>. This method casts to allow callers to serialize the result if they so choose."}],"answers":[{"tags":[],"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1483683893,"creation_date":1483683786,"answer_id":41500112,"question_id":41500021,"body_markdown":"The javadoc of [`Comparator.comparing()`][1] says:\r\n\r\n &gt; The returned comparator is serializable if the specified function is also serializable.\r\n\r\nThe cast ensures that the internal class used by Java to implement the lambda will `implements Serializable`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-","title":"Why does Java 8&#39;s Comparator.comparing() cast the return value to Serializable?","body":"<p>The javadoc of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html#comparing-java.util.function.Function-\" rel=\"noreferrer\"><code>Comparator.comparing()</code></a> says:</p>\n\n<blockquote>\n  <p>The returned comparator is serializable if the specified function is also serializable.</p>\n</blockquote>\n\n<p>The cast ensures that the internal class used by Java to implement the lambda will <code>implements Serializable</code>.</p>\n"},{"tags":[],"owner":{"account_id":4445985,"reputation":1,"user_id":3619250,"display_name":"cquludajun"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657581609,"creation_date":1657469925,"answer_id":72930029,"question_id":41500021,"body_markdown":"First, *(`Comparator&lt;T&gt;` &amp; `Serializable`)* makes the lambda implements `Serializable`. It does not hurt to add the interface. However if not added, the comparing would return something that is not serializable even if the specified function is serializable, which is problematic. \r\n\r\nSecond, if the specified function is not serializable while the return the lambda is serializable, when you actually serialize it, it will fail as when Java serializes the lambda function itself, it will check whether the specified function is also serializable. \r\n\r\nThis could be tested by `ObjectOutputStream` and `ObjectInputStream` which implement Java&#39;s serialization and deserialization. ","title":"Why does Java 8&#39;s Comparator.comparing() cast the return value to Serializable?","body":"<p>First, <em>(<code>Comparator&lt;T&gt;</code> &amp; <code>Serializable</code>)</em> makes the lambda implements <code>Serializable</code>. It does not hurt to add the interface. However if not added, the comparing would return something that is not serializable even if the specified function is serializable, which is problematic.</p>\n<p>Second, if the specified function is not serializable while the return the lambda is serializable, when you actually serialize it, it will fail as when Java serializes the lambda function itself, it will check whether the specified function is also serializable.</p>\n<p>This could be tested by <code>ObjectOutputStream</code> and <code>ObjectInputStream</code> which implement Java's serialization and deserialization.</p>\n"}],"owner":{"account_id":94193,"reputation":20589,"user_id":257299,"accept_rate":64,"display_name":"kevinarpe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1488,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":41500112,"answer_count":2,"score":8,"last_activity_date":1657581609,"creation_date":1483683313,"question_id":41500021,"body_markdown":"From JDK8&#39;s [Comparator.java][1]:\r\n\r\n    public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing(\r\n            Function&lt;? super T, ? extends U&gt; keyExtractor)\r\n    {\r\n        Objects.requireNonNull(keyExtractor);\r\n        return (Comparator&lt;T&gt; &amp; Serializable)\r\n            (c1, c2) -&gt; keyExtractor.apply(c1).compareTo(keyExtractor.apply(c2));\r\n    }\r\n\r\nNotice the return statement is prefixed with an interesting cast: `(Comparator&lt;T&gt; &amp; Serializable)`\r\n\r\nI am already aware of and (I _think_) understand:\r\n\r\n* the `&amp;` operator in generic type restrictions (and can infer its purpose here),\r\n* the `Serializable` interface.\r\n\r\nHowever, used together in the cast is baffling to me.\r\n\r\nWhat is the purpose of `&amp; Serializable` if the return type does not require it?\r\n\r\nI do not understand the intent.\r\n\r\nFollow-up to dupe/close requests: This question https://stackoverflow.com/questions/22807912/how-to-serialize-a-lambda does not answer question.  My question specifically notes the return type has no mention of `Serializable`, thus the source of my confusion.\r\n\r\n  [1]: http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Comparator.java#Comparator.comparing%28java.util.function.Function%29","title":"Why does Java 8&#39;s Comparator.comparing() cast the return value to Serializable?","body":"<p>From JDK8's <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/Comparator.java#Comparator.comparing%28java.util.function.Function%29\" rel=\"noreferrer\">Comparator.java</a>:</p>\n\n<pre><code>public static &lt;T, U extends Comparable&lt;? super U&gt;&gt; Comparator&lt;T&gt; comparing(\n        Function&lt;? super T, ? extends U&gt; keyExtractor)\n{\n    Objects.requireNonNull(keyExtractor);\n    return (Comparator&lt;T&gt; &amp; Serializable)\n        (c1, c2) -&gt; keyExtractor.apply(c1).compareTo(keyExtractor.apply(c2));\n}\n</code></pre>\n\n<p>Notice the return statement is prefixed with an interesting cast: <code>(Comparator&lt;T&gt; &amp; Serializable)</code></p>\n\n<p>I am already aware of and (I <em>think</em>) understand:</p>\n\n<ul>\n<li>the <code>&amp;</code> operator in generic type restrictions (and can infer its purpose here),</li>\n<li>the <code>Serializable</code> interface.</li>\n</ul>\n\n<p>However, used together in the cast is baffling to me.</p>\n\n<p>What is the purpose of <code>&amp; Serializable</code> if the return type does not require it?</p>\n\n<p>I do not understand the intent.</p>\n\n<p>Follow-up to dupe/close requests: This question <a href=\"https://stackoverflow.com/questions/22807912/how-to-serialize-a-lambda\">How to serialize a lambda?</a> does not answer question.  My question specifically notes the return type has no mention of <code>Serializable</code>, thus the source of my confusion.</p>\n"},{"tags":["java","jpa"],"answers":[{"tags":[],"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657581408,"creation_date":1657578570,"answer_id":72945283,"question_id":72943572,"body_markdown":"**Solution 1: explicitly initialize child entities during parent entity creation**\r\n&lt;br&gt;Main idea of that solution is to create an additional method for loading `Value` entities by `messageId` in `ValueRepository` and use it explicitly to initialize values collection during `Message` entity creation.\r\n&lt;br&gt;Repository for loading Value entities:\r\n```java\r\npublic interface ValueRepository extends JpaRepository&lt;ValueEntity, Long&gt; {    \r\n    @Query(&quot;SELECT v FROM ValueEntity v WHERE v.messageId = :messageId&quot;)\r\n    List&lt;ValueEntity&gt; findByMessageId(Long messageId);\r\n}\r\n```\r\nMesage creation and values collection initialization:\r\n```java\r\n    public Message createMessage() {\r\n        Message message = new Message();\r\n        message.setId(1L);\r\n        message.setValues(valueRepository.findByMessageId(message.getId()));\r\n        entityManager.persist(message);\r\n        return message;\r\n    }\r\n```\r\n**Solution 2: perform Flush and Refresh**\r\n&lt;br&gt;After`Message` persists operation you can perform [Flush operation][1], which will synchronize entity with database state, and then [Refresh operation][2], which will reread the state of the given entity.\r\n```java\r\n    public Message createMessage() {\r\n        Message message = new Message();\r\n        message.setId(1L);\r\n        entityManager.persist(message);\r\n        entityManager.flush();\r\n        entityManager.refresh(message);\r\n        return message;\r\n    }\r\n```\r\n\r\nI think **Solution 1** is preferable, it is better from a performance perspective because the flush operation can take additional time.\r\n\r\n**UPDATE:**\r\n&lt;br&gt;In case of merge operation, use returned persisted entity for the refresh, instead of init object.\r\n```java\r\n    public Message createMessage() {\r\n        Message message = new Message();\r\n        message.setId(1L);\r\n        Message persistedMessage = entityManager.merge(message);\r\n        entityManager.flush();\r\n        entityManager.refresh(persistedMessage);\r\n        return persistedMessage;\r\n    }\r\n```\r\nOr better divide save and update operations\r\n```java\r\n   public Message saveOrUpdateMessage() {\r\n        Message message =  entityManager.find(Message.class, 1L);\r\n        if (message == null) {\r\n            //handle new entity save\r\n            message = new Message();\r\n            message.setId(1L);\r\n            entityManager.persist(message);\r\n            entityManager.flush();\r\n            entityManager.refresh(message);\r\n        }\r\n        //handle existing entity update\r\n        ValueEntity valueEntity = new ValueEntity();\r\n        valueEntity.setId(2L);\r\n        valueEntity.setMessageId(message.getId());\r\n        entityManager.persist(valueEntity);\r\n        message.getValues().add(valueEntity);\r\n        return message;\r\n    }\r\n```\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/chapters/flushing/Flushing.html\r\n  [2]: https://docs.jboss.org/hibernate/orm/6.1/javadocs/org/hibernate/Session.html#refresh(java.lang.Object)","title":"How do I fetch OneToMany mappedBy when creating the child entity before the parent?","body":"<p><strong>Solution 1: explicitly initialize child entities during parent entity creation</strong>\n<br>Main idea of that solution is to create an additional method for loading <code>Value</code> entities by <code>messageId</code> in <code>ValueRepository</code> and use it explicitly to initialize values collection during <code>Message</code> entity creation.\n<br>Repository for loading Value entities:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ValueRepository extends JpaRepository&lt;ValueEntity, Long&gt; {    \n    @Query(&quot;SELECT v FROM ValueEntity v WHERE v.messageId = :messageId&quot;)\n    List&lt;ValueEntity&gt; findByMessageId(Long messageId);\n}\n</code></pre>\n<p>Mesage creation and values collection initialization:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Message createMessage() {\n        Message message = new Message();\n        message.setId(1L);\n        message.setValues(valueRepository.findByMessageId(message.getId()));\n        entityManager.persist(message);\n        return message;\n    }\n</code></pre>\n<p><strong>Solution 2: perform Flush and Refresh</strong>\n<br>After<code>Message</code> persists operation you can perform <a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/chapters/flushing/Flushing.html\" rel=\"nofollow noreferrer\">Flush operation</a>, which will synchronize entity with database state, and then <a href=\"https://docs.jboss.org/hibernate/orm/6.1/javadocs/org/hibernate/Session.html#refresh(java.lang.Object)\" rel=\"nofollow noreferrer\">Refresh operation</a>, which will reread the state of the given entity.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Message createMessage() {\n        Message message = new Message();\n        message.setId(1L);\n        entityManager.persist(message);\n        entityManager.flush();\n        entityManager.refresh(message);\n        return message;\n    }\n</code></pre>\n<p>I think <strong>Solution 1</strong> is preferable, it is better from a performance perspective because the flush operation can take additional time.</p>\n<p><strong>UPDATE:</strong>\n<br>In case of merge operation, use returned persisted entity for the refresh, instead of init object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Message createMessage() {\n        Message message = new Message();\n        message.setId(1L);\n        Message persistedMessage = entityManager.merge(message);\n        entityManager.flush();\n        entityManager.refresh(persistedMessage);\n        return persistedMessage;\n    }\n</code></pre>\n<p>Or better divide save and update operations</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public Message saveOrUpdateMessage() {\n        Message message =  entityManager.find(Message.class, 1L);\n        if (message == null) {\n            //handle new entity save\n            message = new Message();\n            message.setId(1L);\n            entityManager.persist(message);\n            entityManager.flush();\n            entityManager.refresh(message);\n        }\n        //handle existing entity update\n        ValueEntity valueEntity = new ValueEntity();\n        valueEntity.setId(2L);\n        valueEntity.setMessageId(message.getId());\n        entityManager.persist(valueEntity);\n        message.getValues().add(valueEntity);\n        return message;\n    }\n</code></pre>\n"}],"owner":{"account_id":4609695,"reputation":30864,"user_id":3738171,"display_name":"Guerric P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72945283,"answer_count":1,"score":1,"last_activity_date":1657581408,"creation_date":1657566916,"question_id":72943572,"body_markdown":"I have a model like this:\r\n\r\n    class Message {\r\n\r\n       \t@Id\r\n\t    private UUID id;\r\n\r\n        // ...\r\n\r\n     \t@OneToMany(mappedBy = &quot;messageId&quot;)\r\n    \tprivate List&lt;Value&gt; values;\r\n    }\r\n    \r\n    class Value {\r\n        private UUID messageId;\r\n    }\r\n\r\nThe `Value` entities are being created in a JPA session, then, in another session, I create a `Message` in which I provide the `id` myself (which matches the `messageId` of existing `Value`).\r\n\r\nAfter I have persisted the `Message`, when I try to call `getValues()` from it, I get `null`. What&#39;s the best way to solve this? Can I programmatically fetch the relation? Should I open another session?","title":"How do I fetch OneToMany mappedBy when creating the child entity before the parent?","body":"<p>I have a model like this:</p>\n<pre><code>class Message {\n\n    @Id\n    private UUID id;\n\n    // ...\n\n    @OneToMany(mappedBy = &quot;messageId&quot;)\n    private List&lt;Value&gt; values;\n}\n\nclass Value {\n    private UUID messageId;\n}\n</code></pre>\n<p>The <code>Value</code> entities are being created in a JPA session, then, in another session, I create a <code>Message</code> in which I provide the <code>id</code> myself (which matches the <code>messageId</code> of existing <code>Value</code>).</p>\n<p>After I have persisted the <code>Message</code>, when I try to call <code>getValues()</code> from it, I get <code>null</code>. What's the best way to solve this? Can I programmatically fetch the relation? Should I open another session?</p>\n"},{"tags":["java","spring","swagger","swagger-ui","openapi"],"answers":[{"tags":[],"owner":{"account_id":92521,"reputation":296,"user_id":253528,"display_name":"lees2bytes"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657580561,"creation_date":1657580561,"answer_id":72945471,"question_id":71616547,"body_markdown":"As best as I can tell, the ref value seems to be expecting a url where a schema could be found? I saw someone recommend making an endpoint to return examples? This seems a bit much to me... \r\n\r\nI decided the easiest thing to do was just add something to pull examples from the files and insert them into the OpenApi object.\r\n\r\nI implemented an `OpenApiCustomiser` in my spring config, this allows me to point to files in the apps resources folder for Response examples. \r\n\r\nI annotate the Controller method like this:  \r\n\r\n\r\n    @ApiResponses(value = {\r\n        @ApiResponse(responseCode = &quot;200&quot;,\r\n            content = { @Content(mediaType = &quot;application/json&quot;, \r\n            schema = @Schema(implementation = SomeResponse.class, \r\n                      name = &quot;YourResponse&quot;),  \r\n                      examples = {@ExampleObject(value = &quot;@your_data_200_response.json&quot;)}) }) \r\n        })\r\n\r\n\r\n\r\nTo get the above to work you then add the following OpenApiCustomiser config bean:\r\n\r\n\r\n\r\n    @Bean\r\n    public OpenApiCustomiser applyStandardOpenAPIModifications() {\r\n        return openApi -&gt; {\r\n            Paths paths = new Paths();\r\n            openApi.getPaths().entrySet().stream()\r\n                    .sorted(Map.Entry.comparingByKey())\r\n                    .forEach(stringPathItemEntry -&gt; {\r\n                        paths.addPathItem(stringPathItemEntry.getKey(), addExamples(stringPathItemEntry.getValue()));\r\n                    });\r\n            openApi.setPaths(paths);\r\n        };\r\n    }\r\n    \r\n    private PathItem addExamples(PathItem pathItem) {\r\n        if(pathItem.getPost() !=null)  {\r\n            //Note you can also Do this to APIResponses to insert info from a file into examples in say, a 200 response.\r\n                pathItem.getPost().getRequestBody().getContent().values().stream()\r\n                        .forEach(c -&gt;{\r\n                            String fileName = c.getExample().toString().replaceFirst(&quot;@&quot;,&quot;&quot;);\r\n                            ObjectNode node = null;\r\n                            try {\r\n                                //load file from where you want. also don&#39;t insert is as a string, it wont format properly\r\n                                node = (ObjectNode) new ObjectMapper().readTree(methodToReadInFileToString(fileName)); \r\n                            } catch (JsonProcessingException e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                            c.setExample(node);\r\n                        }\r\n                );\r\n        }\r\n        return pathItem;\r\n    }\r\n\r\nI just load the files from a folder places in /resources which contains the .json files.","title":"OpenApi how to add example from resources file for @RequestBody -&gt; @Content -&gt; @Schema -&gt; example","body":"<p>As best as I can tell, the ref value seems to be expecting a url where a schema could be found? I saw someone recommend making an endpoint to return examples? This seems a bit much to me...</p>\n<p>I decided the easiest thing to do was just add something to pull examples from the files and insert them into the OpenApi object.</p>\n<p>I implemented an <code>OpenApiCustomiser</code> in my spring config, this allows me to point to files in the apps resources folder for Response examples.</p>\n<p>I annotate the Controller method like this:</p>\n<pre><code>@ApiResponses(value = {\n    @ApiResponse(responseCode = &quot;200&quot;,\n        content = { @Content(mediaType = &quot;application/json&quot;, \n        schema = @Schema(implementation = SomeResponse.class, \n                  name = &quot;YourResponse&quot;),  \n                  examples = {@ExampleObject(value = &quot;@your_data_200_response.json&quot;)}) }) \n    })\n</code></pre>\n<p>To get the above to work you then add the following OpenApiCustomiser config bean:</p>\n<pre><code>@Bean\npublic OpenApiCustomiser applyStandardOpenAPIModifications() {\n    return openApi -&gt; {\n        Paths paths = new Paths();\n        openApi.getPaths().entrySet().stream()\n                .sorted(Map.Entry.comparingByKey())\n                .forEach(stringPathItemEntry -&gt; {\n                    paths.addPathItem(stringPathItemEntry.getKey(), addExamples(stringPathItemEntry.getValue()));\n                });\n        openApi.setPaths(paths);\n    };\n}\n\nprivate PathItem addExamples(PathItem pathItem) {\n    if(pathItem.getPost() !=null)  {\n        //Note you can also Do this to APIResponses to insert info from a file into examples in say, a 200 response.\n            pathItem.getPost().getRequestBody().getContent().values().stream()\n                    .forEach(c -&gt;{\n                        String fileName = c.getExample().toString().replaceFirst(&quot;@&quot;,&quot;&quot;);\n                        ObjectNode node = null;\n                        try {\n                            //load file from where you want. also don't insert is as a string, it wont format properly\n                            node = (ObjectNode) new ObjectMapper().readTree(methodToReadInFileToString(fileName)); \n                        } catch (JsonProcessingException e) {\n                            throw new RuntimeException(e);\n                        }\n                        c.setExample(node);\n                    }\n            );\n    }\n    return pathItem;\n}\n</code></pre>\n<p>I just load the files from a folder places in /resources which contains the .json files.</p>\n"}],"owner":{"account_id":10278040,"reputation":2869,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3768,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1657580561,"creation_date":1648209138,"question_id":71616547,"body_markdown":"I am developing a service-based application for which I am adding `openapi` based annotations such as `@RequestBody, @Parameter, @Schema` within the `@Schema` I have an `example` field for which I can provide the example template in `String` format.\r\n\r\nI have provided the `example JSON string` but the JSON content is huge so I would like to add it from the `file` present in my `resources` folder. But I am currently unable to load it. Can someone please let me know how can I add the example content from the file rather than String?\r\n\r\nI tried looking and found that there is a field `externalValue` but I am unable to understand how to make it work. Following is the link to the [documentation][1].\r\n\r\nFollowing is the code I have which is working perfectly fine:\r\n```\r\n@Path(&quot;/generate&quot;)\r\n@POST\r\n@Consumes(MediaType.APPLICATION_JSON)\r\n@Produces(MediaType.APPLICATION_JSON)\r\n@RequestBody(description = &quot;InputTemplate body&quot;,\r\n        content = @Content(schema = @Schema(implementation = InputTemplate.class, example = &quot;{\\n&quot; +\r\n                &quot;  \\&quot;names\\&quot;:[\\n&quot; +\r\n                &quot;    \\&quot;Batman\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;Superman\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;Ironman\\&quot;\\n&quot; +\r\n                &quot;  ],\\n&quot; +\r\n                &quot;  \\&quot;jobs\\&quot;:[\\n&quot; +\r\n                &quot;    \\&quot;Fighting\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;Fyling\\&quot;,\\n&quot; +\r\n                &quot;    \\&quot;Teching\\&quot;\\n&quot; +\r\n                &quot;  ]\\n&quot; +\r\n                &quot;}&quot;)))\r\npublic Multi&lt;String&gt; generate(final Map&lt;String, Object&gt; input) throws CustomException {\r\n        \r\n}\r\n```\r\n\r\nI would like to replace the JSON contents present `example` with the contents from the external file which is present in my `resources` folder.\r\n\r\n\r\nAfter trying many things I got to know that I need to use `@ExampleObject` but if I add the respective annotations and try to open my `Swagger UI` then I am not getting the contents of the file that I have added. Rather it provides me with the data from `InputTemplate.class`.\r\n\r\nFollowing is the modified code:\r\n```\r\n@RequestBody(description = &quot;InputTemplate body&quot;,\r\n        content = @Content(schema = @Schema(implementation = InputTemplate.class), examples = {\r\n                @ExampleObject(name = &quot;Example-1&quot;,\r\n                        description = &quot;Example-1 for InputTemplate.&quot;,\r\n                        ref = &quot;#/resources/Example1.json&quot;), externalValue = &quot;#/resources/Example2.json&quot;\r\n                @ExampleObject(name = &quot;Example-2&quot;,\r\n                        description = &quot;Example-2 for InputTemplate.&quot;,\r\n                        ref = &quot;#/resources/Example1.json&quot;) //externalValue = &quot;#/resources/Example1.json&quot;\r\n        }))\r\n```\r\n\r\nI tried to look into a similar question but the provided response does not work for me: \r\n1. https://stackoverflow.com/q/60719210/7584240\r\n2. https://github.com/springdoc/springdoc-openapi/issues/1432\r\n3. https://github.com/springdoc/springdoc-openapi/issues/17\r\n\r\n  [1]: https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.1.0.md#example-object","title":"OpenApi how to add example from resources file for @RequestBody -&gt; @Content -&gt; @Schema -&gt; example","body":"<p>I am developing a service-based application for which I am adding <code>openapi</code> based annotations such as <code>@RequestBody, @Parameter, @Schema</code> within the <code>@Schema</code> I have an <code>example</code> field for which I can provide the example template in <code>String</code> format.</p>\n<p>I have provided the <code>example JSON string</code> but the JSON content is huge so I would like to add it from the <code>file</code> present in my <code>resources</code> folder. But I am currently unable to load it. Can someone please let me know how can I add the example content from the file rather than String?</p>\n<p>I tried looking and found that there is a field <code>externalValue</code> but I am unable to understand how to make it work. Following is the link to the <a href=\"https://github.com/OAI/OpenAPI-Specification/blob/main/versions/3.1.0.md#example-object\" rel=\"noreferrer\">documentation</a>.</p>\n<p>Following is the code I have which is working perfectly fine:</p>\n<pre><code>@Path(&quot;/generate&quot;)\n@POST\n@Consumes(MediaType.APPLICATION_JSON)\n@Produces(MediaType.APPLICATION_JSON)\n@RequestBody(description = &quot;InputTemplate body&quot;,\n        content = @Content(schema = @Schema(implementation = InputTemplate.class, example = &quot;{\\n&quot; +\n                &quot;  \\&quot;names\\&quot;:[\\n&quot; +\n                &quot;    \\&quot;Batman\\&quot;,\\n&quot; +\n                &quot;    \\&quot;Superman\\&quot;,\\n&quot; +\n                &quot;    \\&quot;Ironman\\&quot;\\n&quot; +\n                &quot;  ],\\n&quot; +\n                &quot;  \\&quot;jobs\\&quot;:[\\n&quot; +\n                &quot;    \\&quot;Fighting\\&quot;,\\n&quot; +\n                &quot;    \\&quot;Fyling\\&quot;,\\n&quot; +\n                &quot;    \\&quot;Teching\\&quot;\\n&quot; +\n                &quot;  ]\\n&quot; +\n                &quot;}&quot;)))\npublic Multi&lt;String&gt; generate(final Map&lt;String, Object&gt; input) throws CustomException {\n        \n}\n</code></pre>\n<p>I would like to replace the JSON contents present <code>example</code> with the contents from the external file which is present in my <code>resources</code> folder.</p>\n<p>After trying many things I got to know that I need to use <code>@ExampleObject</code> but if I add the respective annotations and try to open my <code>Swagger UI</code> then I am not getting the contents of the file that I have added. Rather it provides me with the data from <code>InputTemplate.class</code>.</p>\n<p>Following is the modified code:</p>\n<pre><code>@RequestBody(description = &quot;InputTemplate body&quot;,\n        content = @Content(schema = @Schema(implementation = InputTemplate.class), examples = {\n                @ExampleObject(name = &quot;Example-1&quot;,\n                        description = &quot;Example-1 for InputTemplate.&quot;,\n                        ref = &quot;#/resources/Example1.json&quot;), externalValue = &quot;#/resources/Example2.json&quot;\n                @ExampleObject(name = &quot;Example-2&quot;,\n                        description = &quot;Example-2 for InputTemplate.&quot;,\n                        ref = &quot;#/resources/Example1.json&quot;) //externalValue = &quot;#/resources/Example1.json&quot;\n        }))\n</code></pre>\n<p>I tried to look into a similar question but the provided response does not work for me:</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/q/60719210/7584240\">How to refrence files in SpringDoc OpenAPI3?</a></li>\n<li><a href=\"https://github.com/springdoc/springdoc-openapi/issues/1432\" rel=\"noreferrer\">https://github.com/springdoc/springdoc-openapi/issues/1432</a></li>\n<li><a href=\"https://github.com/springdoc/springdoc-openapi/issues/17\" rel=\"noreferrer\">https://github.com/springdoc/springdoc-openapi/issues/17</a></li>\n</ol>\n"},{"tags":["java","android","json"],"comments":[{"owner":{"account_id":2575492,"reputation":808,"user_id":2233285,"accept_rate":100,"display_name":"slanecek"},"score":0,"creation_date":1534008762,"post_id":51801905,"comment_id":90560572,"body_markdown":"There are much better ways how to do this than the others advice you.. use Google Gson (or Jackson or Moshi) library to do this.","body":"There are much better ways how to do this than the others advice you.. use Google Gson (or Jackson or Moshi) library to do this."}],"answers":[{"tags":[],"owner":{"account_id":2021451,"reputation":1387,"user_id":2836444,"accept_rate":80,"display_name":"gkpln3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534007589,"creation_date":1534007589,"answer_id":51801994,"question_id":51801905,"body_markdown":"You will usually want to use `JsonWriter` when serializing an object to json format.\r\n\r\nIf what you are trying to do is just write a file with the specific contents you wrote here, you can use `FileWriter`\r\n\r\n    File file = new File(Environment.getExternalStorageDirectory(), filename);\r\n\r\n    FileWriter writer = new FileWriter(file);\r\n    writer.append(jsonString);\r\n    writer.flush();\r\n    writer.close();","title":"How to programmatically write data to a JSON file and then save it?","body":"<p>You will usually want to use <code>JsonWriter</code> when serializing an object to json format.</p>\n\n<p>If what you are trying to do is just write a file with the specific contents you wrote here, you can use <code>FileWriter</code></p>\n\n<pre><code>File file = new File(Environment.getExternalStorageDirectory(), filename);\n\nFileWriter writer = new FileWriter(file);\nwriter.append(jsonString);\nwriter.flush();\nwriter.close();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":962129,"reputation":91,"user_id":986253,"display_name":"Augusto Ferrarini"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1534007711,"creation_date":1534007711,"answer_id":51802003,"question_id":51801905,"body_markdown":"Just user a FileWriter to save to the ExternalFilesDir for exemple\r\n\r\n    public void save(Context context, String jsonString) throws IOException {\r\n      File rootFolder = context.getExternalFilesDir(null);\r\n      File jsonFile = new File(rootFolder, &quot;file.json&quot;);\r\n      FileWriter writer = new FileWriter(jsonFile);\r\n      writer.write(jsonString);\r\n      writer.close();\r\n      //or IOUtils.closeQuietly(writer);\r\n    }","title":"How to programmatically write data to a JSON file and then save it?","body":"<p>Just user a FileWriter to save to the ExternalFilesDir for exemple</p>\n\n<pre><code>public void save(Context context, String jsonString) throws IOException {\n  File rootFolder = context.getExternalFilesDir(null);\n  File jsonFile = new File(rootFolder, \"file.json\");\n  FileWriter writer = new FileWriter(jsonFile);\n  writer.write(jsonString);\n  writer.close();\n  //or IOUtils.closeQuietly(writer);\n}\n</code></pre>\n"}],"owner":{"account_id":11316227,"reputation":55,"user_id":8555203,"display_name":"ILHOM4IK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8322,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":51802003,"answer_count":2,"score":3,"last_activity_date":1657580063,"creation_date":1534006958,"question_id":51801905,"body_markdown":"I want to put the following data to my JSON file in Android Studio programmatically:\r\n\r\n    [{\r\n        &quot;title&quot;:&quot;Olu4a такси&quot;,\r\n        &quot;logo&quot;:&quot;Taxi/olu4a.jpg&quot;,\r\n        &quot;color&quot;:&quot;#FFD916&quot;,\r\n        &quot;textcolor&quot;:&quot;#000000&quot;,\r\n        &quot;number&quot;:&quot;7000&quot;,\r\n        &quot;bigimage&quot;:&quot;Taxi/olu4a_car.jpg&quot;,\r\n        &quot;star&quot;:&quot;4.0&quot;\r\n    },\r\n    {\r\n        &quot;title&quot;:&quot;Asia Express такси&quot;,\r\n        &quot;logo&quot;:&quot;Taxi/d.jpg&quot;,\r\n        &quot;color&quot;:&quot;#E7232D&quot;,\r\n        &quot;textcolor&quot;:&quot;#ffffff&quot;,\r\n        &quot;number&quot;:&quot;1616&quot;,\r\n        &quot;bigimage&quot;:&quot;Taxi/asiaexpress.jpg&quot;,\r\n        &quot;star&quot;:&quot;3.5&quot;\r\n    }]\r\n\r\nHow can it be done?\r\n\r\nExample \r\n \r\n\r\n    JSONObject obj = new JSONObject(); \r\n    \r\n    try { \r\n         obj.put(&quot;id&quot;, &quot;3&quot;); \r\n         obj.put(&quot;name&quot;, &quot;NAME OF STUDENT&quot;); \r\n         obj.put(&quot;year&quot;, &quot;3rd&quot;); \r\n         obj.put(&quot;curriculum&quot;, &quot;Arts&quot;); \r\n         obj.put(&quot;birthday&quot;, &quot;5/5/1993&quot;); \r\n    } catch (JSONException e) { \r\n         // TODO Auto-generated catch block \r\n         e.printStackTrace(); \r\n    } ","title":"How to programmatically write data to a JSON file and then save it?","body":"<p>I want to put the following data to my JSON file in Android Studio programmatically:</p>\n<pre><code>[{\n    &quot;title&quot;:&quot;Olu4a такси&quot;,\n    &quot;logo&quot;:&quot;Taxi/olu4a.jpg&quot;,\n    &quot;color&quot;:&quot;#FFD916&quot;,\n    &quot;textcolor&quot;:&quot;#000000&quot;,\n    &quot;number&quot;:&quot;7000&quot;,\n    &quot;bigimage&quot;:&quot;Taxi/olu4a_car.jpg&quot;,\n    &quot;star&quot;:&quot;4.0&quot;\n},\n{\n    &quot;title&quot;:&quot;Asia Express такси&quot;,\n    &quot;logo&quot;:&quot;Taxi/d.jpg&quot;,\n    &quot;color&quot;:&quot;#E7232D&quot;,\n    &quot;textcolor&quot;:&quot;#ffffff&quot;,\n    &quot;number&quot;:&quot;1616&quot;,\n    &quot;bigimage&quot;:&quot;Taxi/asiaexpress.jpg&quot;,\n    &quot;star&quot;:&quot;3.5&quot;\n}]\n</code></pre>\n<p>How can it be done?</p>\n<p>Example</p>\n<pre><code>JSONObject obj = new JSONObject(); \n\ntry { \n     obj.put(&quot;id&quot;, &quot;3&quot;); \n     obj.put(&quot;name&quot;, &quot;NAME OF STUDENT&quot;); \n     obj.put(&quot;year&quot;, &quot;3rd&quot;); \n     obj.put(&quot;curriculum&quot;, &quot;Arts&quot;); \n     obj.put(&quot;birthday&quot;, &quot;5/5/1993&quot;); \n} catch (JSONException e) { \n     // TODO Auto-generated catch block \n     e.printStackTrace(); \n} \n</code></pre>\n"},{"tags":["java","spring-boot","rest"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657579800,"creation_date":1657579800,"answer_id":72945400,"question_id":72944408,"body_markdown":"You&#39;re misunderstanding the purpose of a `@RestController` vs `RestTemplate`.\r\n\r\nAnnotating a class with `@RestController` and `@GetMapping` annotations provides a REST interface which can service HTTP requests.\r\n\r\nInside the implementation of `getAllGroups` you would normally use a service or a repository to get data from a DB, and return it to the client who had made the HTTP request.\r\n\r\nA `RestTemplate` instance is used to make HTTP requests to other REST interfaces, provided by other servers. It wouldn&#39;t normally be used in the implementation of a `@RestController`, unless some of the information returned came from some other microservice, for example.\r\n\r\nThe REST API URL is for the use of clients calling your REST API, not for use within your controller.","title":"Need help understanding Spring Boot REST interface","body":"<p>You're misunderstanding the purpose of a <code>@RestController</code> vs <code>RestTemplate</code>.</p>\n<p>Annotating a class with <code>@RestController</code> and <code>@GetMapping</code> annotations provides a REST interface which can service HTTP requests.</p>\n<p>Inside the implementation of <code>getAllGroups</code> you would normally use a service or a repository to get data from a DB, and return it to the client who had made the HTTP request.</p>\n<p>A <code>RestTemplate</code> instance is used to make HTTP requests to other REST interfaces, provided by other servers. It wouldn't normally be used in the implementation of a <code>@RestController</code>, unless some of the information returned came from some other microservice, for example.</p>\n<p>The REST API URL is for the use of clients calling your REST API, not for use within your controller.</p>\n"}],"owner":{"account_id":1159723,"reputation":1811,"user_id":1139500,"display_name":"Joseph Gagnon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72945400,"answer_count":1,"score":0,"last_activity_date":1657579800,"creation_date":1657571909,"question_id":72944408,"body_markdown":"I am writing a simple Java Spring Boot test application to call a REST API. The main purpose at this point is to quickly get something working and to also help refresh my memory/knowledge on making REST calls from a Java application.\r\n\r\nI&#39;ve worked with Spring Boot in the past, as well as calling REST APIs, but it&#39;s been a few years and I no longer have access to the applications I had a hand in writing. I&#39;ve forgotten a lot of the details.\r\n\r\nHere is what I have so far:\r\n\r\nApplication.java:\r\n\r\n\t@SpringBootApplication\r\n\tpublic class Application {\r\n\t  public static void main(String[] args) {\r\n\t\tSpringApplication.run(Application.class, args);\r\n\t  }\r\n\t}\r\n\r\nTestController.java:\r\n\r\n\t@RestController\r\n\tpublic class TestController {\r\n\t  @Autowired\r\n\t  private RestTemplate template;\r\n\r\n\t  @GetMapping(&quot;/groups&quot;)\r\n\t  public Object[] getAllGroups(String url) {\r\n\t\tObject[] groups = template.getForObject(url, Object[].class);\r\n\t\treturn groups;\r\n\t  }\r\n\t}\r\n\r\nI&#39;m not even at the point of trying to run this. Many of the online examples I&#39;ve found leave out the details of how a URL is &quot;provided&quot; to the REST calls.\r\n\r\nI also don&#39;t understand how the resource path `/groups` in `@GetMapping` is mapped to the REST call when the `RestTemplate` object is used in the method. What is the purpose of the resource path in the annotation? How does it &quot;fit&quot; with the template call?\r\n\r\nI&#39;m assuming that the template should probably be used in a `@Service`, rather than in the controller, but I&#39;m just trying to get this working and understand *how* it works.\r\n\r\nOn a related note, what other techniques are there to make the REST API URL available to the application besides passing it in to the `RestTemplate` object? Can this be done in some sort of configuration file? I&#39;ve forgotten so much and am having a hard time finding an example that covers the finer details that are usually glossed over, if not completely left out.\r\n","title":"Need help understanding Spring Boot REST interface","body":"<p>I am writing a simple Java Spring Boot test application to call a REST API. The main purpose at this point is to quickly get something working and to also help refresh my memory/knowledge on making REST calls from a Java application.</p>\n<p>I've worked with Spring Boot in the past, as well as calling REST APIs, but it's been a few years and I no longer have access to the applications I had a hand in writing. I've forgotten a lot of the details.</p>\n<p>Here is what I have so far:</p>\n<p>Application.java:</p>\n<pre><code>@SpringBootApplication\npublic class Application {\n  public static void main(String[] args) {\n    SpringApplication.run(Application.class, args);\n  }\n}\n</code></pre>\n<p>TestController.java:</p>\n<pre><code>@RestController\npublic class TestController {\n  @Autowired\n  private RestTemplate template;\n\n  @GetMapping(&quot;/groups&quot;)\n  public Object[] getAllGroups(String url) {\n    Object[] groups = template.getForObject(url, Object[].class);\n    return groups;\n  }\n}\n</code></pre>\n<p>I'm not even at the point of trying to run this. Many of the online examples I've found leave out the details of how a URL is &quot;provided&quot; to the REST calls.</p>\n<p>I also don't understand how the resource path <code>/groups</code> in <code>@GetMapping</code> is mapped to the REST call when the <code>RestTemplate</code> object is used in the method. What is the purpose of the resource path in the annotation? How does it &quot;fit&quot; with the template call?</p>\n<p>I'm assuming that the template should probably be used in a <code>@Service</code>, rather than in the controller, but I'm just trying to get this working and understand <em>how</em> it works.</p>\n<p>On a related note, what other techniques are there to make the REST API URL available to the application besides passing it in to the <code>RestTemplate</code> object? Can this be done in some sort of configuration file? I've forgotten so much and am having a hard time finding an example that covers the finer details that are usually glossed over, if not completely left out.</p>\n"},{"tags":["java","pine-script"],"comments":[{"owner":{"account_id":15033666,"reputation":47,"user_id":10850830,"display_name":"Shivaraj Sajjan"},"score":0,"creation_date":1656760631,"post_id":72836424,"comment_id":128653565,"body_markdown":"I want to implement this logic in Pine script. As I know Java, if I get answers in Java, that I can covert to Pine script.","body":"I want to implement this logic in Pine script. As I know Java, if I get answers in Java, that I can covert to Pine script."}],"answers":[{"tags":[],"owner":{"account_id":22755735,"reputation":555,"user_id":16915219,"display_name":"JumperBot_"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656750947,"creation_date":1656736231,"answer_id":72836449,"question_id":72836424,"body_markdown":"You could iterate through a sorted array and find out which is adjacent and bigger.\r\n\r\n```Java\r\n    //Add the imports BEFORE the &quot;class{&quot;\r\n    import java.util.Arrays;\r\n    import java.util.Collections;\r\n    import java.util.List;\r\n```\r\n```Java\r\n    private static int check_bigger_adjacent(final int input_number){\r\n      final Integer[] array_of_numbers={50, 20, 40, 30, 10};\r\n      //Sort the array.\r\n      final List&lt;Integer&gt; sorted_list=Arrays.asList(array_of_numbers);\r\n      Collections.sort(sorted_list);\r\n      final int[] new_sorted_array_of_numbers=new int[sorted_list.size()];\r\n      for(int i=0;i&lt;sorted_list.size();i++){\r\n        new_sorted_array_of_numbers[i]=Integer.parseInt(sorted_list.get(i).toString());\r\n      }\r\n      for(int i:new_sorted_array_of_numbers){\r\n        if(i&gt;input_number)\r\n          return i;\r\n      }\r\n      // If the number is way too big for your included array.\r\n      return -1;\r\n    }\r\n```","title":"How to find next adjacent bigger number from given list of numbers for an input number","body":"<p>You could iterate through a sorted array and find out which is adjacent and bigger.</p>\n<pre><code>    //Add the imports BEFORE the &quot;class{&quot;\n    import java.util.Arrays;\n    import java.util.Collections;\n    import java.util.List;\n</code></pre>\n<pre><code>    private static int check_bigger_adjacent(final int input_number){\n      final Integer[] array_of_numbers={50, 20, 40, 30, 10};\n      //Sort the array.\n      final List&lt;Integer&gt; sorted_list=Arrays.asList(array_of_numbers);\n      Collections.sort(sorted_list);\n      final int[] new_sorted_array_of_numbers=new int[sorted_list.size()];\n      for(int i=0;i&lt;sorted_list.size();i++){\n        new_sorted_array_of_numbers[i]=Integer.parseInt(sorted_list.get(i).toString());\n      }\n      for(int i:new_sorted_array_of_numbers){\n        if(i&gt;input_number)\n          return i;\n      }\n      // If the number is way too big for your included array.\n      return -1;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24682857,"reputation":145,"user_id":18576371,"display_name":"Soorya J"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656736992,"creation_date":1656736992,"answer_id":72836498,"question_id":72836424,"body_markdown":"The simplest approach is like filtering all the greatest numbers and then finding the smallest among them.\r\n\r\n    import java.util.*;\r\n\r\n    public class Main{\r\n\tpublic static void main(String[] args) {\r\n\t\tint[] numbers = {50, 20, 40, 30, 10};\r\n\t\tint target = 9;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Adjacent Greatest number of &quot; + target + &quot; is &quot; + findAdjacentGreatest(numbers,target));\r\n\t}\r\n\t\r\n    // METHOD TO FIND THE ADJACENT GREATEST NUMBER\r\n\tpublic static int findAdjacentGreatest(int[] numbers, int target) {\r\n\t   // USED ARRAY LIST BECAUSE WE DONT KNOW THE CORRECT SIZE OF THE ARRAY TO INITIALISE THE ARRAY\r\n\t    ArrayList&lt;Integer&gt; greaterNumbers = new ArrayList&lt;Integer&gt;();\r\n\t    \r\n\t    for (int i=0; i&lt;numbers.length;i++) {\r\n\t        if(numbers[i] &gt; target) {\r\n\t            greaterNumbers.add(numbers[i]);\r\n\t        }\r\n\t    }\r\n\t    \r\n\t    // RETURN THE MINIMUM OF THE GREATEST NUMBERS\r\n\t    return Collections.min(greaterNumbers);\r\n\t    }    \r\n    }\r\n\r\n[live code here][1]\r\n\r\n\r\n  [1]: https://onlinegdb.com/lKgkivr2c","title":"How to find next adjacent bigger number from given list of numbers for an input number","body":"<p>The simplest approach is like filtering all the greatest numbers and then finding the smallest among them.</p>\n<pre><code>import java.util.*;\n\npublic class Main{\npublic static void main(String[] args) {\n    int[] numbers = {50, 20, 40, 30, 10};\n    int target = 9;\n    \n    System.out.println(&quot;Adjacent Greatest number of &quot; + target + &quot; is &quot; + findAdjacentGreatest(numbers,target));\n}\n\n// METHOD TO FIND THE ADJACENT GREATEST NUMBER\npublic static int findAdjacentGreatest(int[] numbers, int target) {\n   // USED ARRAY LIST BECAUSE WE DONT KNOW THE CORRECT SIZE OF THE ARRAY TO INITIALISE THE ARRAY\n    ArrayList&lt;Integer&gt; greaterNumbers = new ArrayList&lt;Integer&gt;();\n    \n    for (int i=0; i&lt;numbers.length;i++) {\n        if(numbers[i] &gt; target) {\n            greaterNumbers.add(numbers[i]);\n        }\n    }\n    \n    // RETURN THE MINIMUM OF THE GREATEST NUMBERS\n    return Collections.min(greaterNumbers);\n    }    \n}\n</code></pre>\n<p><a href=\"https://onlinegdb.com/lKgkivr2c\" rel=\"nofollow noreferrer\">live code here</a></p>\n"},{"tags":[],"owner":{"account_id":25694056,"reputation":101,"user_id":19461429,"display_name":"RohithPg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1656755868,"creation_date":1656755515,"answer_id":72838112,"question_id":72836424,"body_markdown":"I think the fastest approach will be a solution of Time Complexity of O(n) by iterating through the array just one time like below. All other approaches where you will be using some form of sorting would atleast increase the time complexity by a minimum of O(nlogn).\r\nYou may need to add a boolean check in the below solution if you suspect that Integer.MAX_VALUE also can be part of the array.\r\n```\r\n   public static void main(String args[]) {\r\n      int[] arrNums= {50,20,40,30,10};\r\n      \r\n     System.out.println(findNextBigNum(arrNums,15));\r\n    }\r\n\r\n\tprivate static int findNextBigNum(int[] arrNums, int num) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tint nextBiggestNum=Integer.MAX_VALUE;\r\n\t\tfor(int i=0;i&lt;arrNums.length;i++)\r\n\t\t{\r\n\t\t\tif(arrNums[i]&gt;num &amp;&amp; arrNums[i] &lt;nextBiggestNum)\r\n\t\t\t\tnextBiggestNum=arrNums[i];\r\n\t\t}\r\n\t\t\r\n\t\treturn nextBiggestNum==Integer.MAX_VALUE?-1:nextBiggestNum;\r\n\t}","title":"How to find next adjacent bigger number from given list of numbers for an input number","body":"<p>I think the fastest approach will be a solution of Time Complexity of O(n) by iterating through the array just one time like below. All other approaches where you will be using some form of sorting would atleast increase the time complexity by a minimum of O(nlogn).\nYou may need to add a boolean check in the below solution if you suspect that Integer.MAX_VALUE also can be part of the array.</p>\n<pre><code>   public static void main(String args[]) {\n      int[] arrNums= {50,20,40,30,10};\n      \n     System.out.println(findNextBigNum(arrNums,15));\n    }\n\n    private static int findNextBigNum(int[] arrNums, int num) {\n        // TODO Auto-generated method stub\n        \n        int nextBiggestNum=Integer.MAX_VALUE;\n        for(int i=0;i&lt;arrNums.length;i++)\n        {\n            if(arrNums[i]&gt;num &amp;&amp; arrNums[i] &lt;nextBiggestNum)\n                nextBiggestNum=arrNums[i];\n        }\n        \n        return nextBiggestNum==Integer.MAX_VALUE?-1:nextBiggestNum;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":75375,"reputation":2558,"user_id":216248,"accept_rate":88,"display_name":"karatedog"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656928638,"creation_date":1656928638,"answer_id":72854886,"question_id":72836424,"body_markdown":"Algorithm, if List is small and you don&#39;t care about time:\r\n\r\n- sort the list in increasing order, so smallest number first\r\n- scan through the list starting from the beginning\r\n- compare `input` with current `value` of list. If `value` is greater than `input`, you found the first &quot;adjacent&quot; number\r\n\r\nAlgorithm, if List can be huge and you care about time:\r\n\r\n - create a variable (VAR) with a value of nil (or anything that cannot be read from the list, 0, 9999, &quot;HOGEFUGE&quot;, whatever)\r\n - scan through the list starting from the beginning\r\n - compare `input` with `value`. If `value` is greater than `input` then:\r\n   - check if VAR has been set\r\n      - if not, set it to `value`\r\n      - if set, check if `value` is less than VAR&#39;s value\r\n        - if less, put `value` into VAR\r\n        - if greater then leave VAR as is\r\n   - iterate through the list, get next value\r\n\r\nAt the end, you will get a number in VAR, that is greater than your `input` and has the smallest difference between `input` and `value` for all values in your list.","title":"How to find next adjacent bigger number from given list of numbers for an input number","body":"<p>Algorithm, if List is small and you don't care about time:</p>\n<ul>\n<li>sort the list in increasing order, so smallest number first</li>\n<li>scan through the list starting from the beginning</li>\n<li>compare <code>input</code> with current <code>value</code> of list. If <code>value</code> is greater than <code>input</code>, you found the first &quot;adjacent&quot; number</li>\n</ul>\n<p>Algorithm, if List can be huge and you care about time:</p>\n<ul>\n<li>create a variable (VAR) with a value of nil (or anything that cannot be read from the list, 0, 9999, &quot;HOGEFUGE&quot;, whatever)</li>\n<li>scan through the list starting from the beginning</li>\n<li>compare <code>input</code> with <code>value</code>. If <code>value</code> is greater than <code>input</code> then:\n<ul>\n<li>check if VAR has been set\n<ul>\n<li>if not, set it to <code>value</code></li>\n<li>if set, check if <code>value</code> is less than VAR's value\n<ul>\n<li>if less, put <code>value</code> into VAR</li>\n<li>if greater then leave VAR as is</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>iterate through the list, get next value</li>\n</ul>\n</li>\n</ul>\n<p>At the end, you will get a number in VAR, that is greater than your <code>input</code> and has the smallest difference between <code>input</code> and <code>value</code> for all values in your list.</p>\n"},{"tags":[],"owner":{"account_id":5481260,"reputation":6617,"user_id":4357650,"accept_rate":86,"display_name":"Bjorn Mistiaen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657578584,"creation_date":1657578584,"answer_id":72945286,"question_id":72836424,"body_markdown":"This Pine code will do what you&#39;re looking for\r\n\r\n    //@version=5\r\n    indicator(&quot;test&quot;)\r\n    \r\n    var int     num = input.int(15, &quot;Number&quot;)\r\n    \r\n    var         a = array.from(50, 20, 40, 30, 10)\r\n    var label   lbl = label.new(na, na, &quot;&quot;)\r\n    var int     adjacent = na\r\n    \r\n    if barstate.isfirst\r\n        array.sort(a)\r\n        idx = array.binary_search_rightmost(a, num)\r\n        adjacent := array.get(a, idx)\r\n    \r\n    if barstate.islast\r\n        label.set_xy(lbl, bar_index, high)\r\n        label.set_text(lbl, str.format(&quot;adjacent = {0}&quot;,adjacent))\r\n\r\n","title":"How to find next adjacent bigger number from given list of numbers for an input number","body":"<p>This Pine code will do what you're looking for</p>\n<pre><code>//@version=5\nindicator(&quot;test&quot;)\n\nvar int     num = input.int(15, &quot;Number&quot;)\n\nvar         a = array.from(50, 20, 40, 30, 10)\nvar label   lbl = label.new(na, na, &quot;&quot;)\nvar int     adjacent = na\n\nif barstate.isfirst\n    array.sort(a)\n    idx = array.binary_search_rightmost(a, num)\n    adjacent := array.get(a, idx)\n\nif barstate.islast\n    label.set_xy(lbl, bar_index, high)\n    label.set_text(lbl, str.format(&quot;adjacent = {0}&quot;,adjacent))\n</code></pre>\n"}],"owner":{"account_id":15033666,"reputation":47,"user_id":10850830,"display_name":"Shivaraj Sajjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":514,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":5,"score":1,"last_activity_date":1657578584,"creation_date":1656735812,"question_id":72836424,"body_markdown":"I am trying to find next adjacent bigger number for an input number from given list of numbers.\r\n\r\nPlease help me with Java code or algorithm to implement below.\r\n\r\nGiven list of numbers = [50, 20, 40, 30, 10]\r\n\r\nInput number = 15\r\n\r\nOutput = 20 (next adjacent bigger number of 15)","title":"How to find next adjacent bigger number from given list of numbers for an input number","body":"<p>I am trying to find next adjacent bigger number for an input number from given list of numbers.</p>\n<p>Please help me with Java code or algorithm to implement below.</p>\n<p>Given list of numbers = [50, 20, 40, 30, 10]</p>\n<p>Input number = 15</p>\n<p>Output = 20 (next adjacent bigger number of 15)</p>\n"},{"tags":["java","spring-boot","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":23071226,"reputation":197,"user_id":17184900,"display_name":"AmILostYet"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657578543,"creation_date":1657578543,"answer_id":72945279,"question_id":72905356,"body_markdown":"It turns out retryable topic will not log errors as exception until it hits dead letter topic, so no action was needed.","title":"Spring Boot Kafka suppress exception","body":"<p>It turns out retryable topic will not log errors as exception until it hits dead letter topic, so no action was needed.</p>\n"}],"owner":{"account_id":23071226,"reputation":197,"user_id":17184900,"display_name":"AmILostYet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":857,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72945279,"answer_count":1,"score":1,"last_activity_date":1657578543,"creation_date":1657238106,"question_id":72905356,"body_markdown":"I have a kafka listener where if implementation throws exceptions, it will retry a few times. When exception is thrown, it is logged as error. This pollutes our Sentry log. I would like to change Kafka&#39;s consumers error level to warn level.\r\n\r\n\r\nDetails:\r\n\r\nI have a Kafka listener and some events has to be retried.\r\n\r\n    @KafkaListener(...)\r\n    @RetryableTopic(..)\r\n    public void consume(ConsumerRecord&lt;?,?&gt; event) {\r\n       service.sayHello(...); //this call can throw UnhappyException\r\n    }\r\nIn the case UnHappyException is thrown, it is logged as \r\n\r\n    &gt; Caused by: org.springframework.kafka.listener.ListenerExecutionFailedException:\r\n    &gt; Listener method &#39;public void\r\n    &gt; com.company.hello.world.listener.MyListener.consume(org.apache.kafka.clients.consumer.ConsumerRecord&lt;java.lang.Object,\r\n    &gt; ....)&#39; threw\r\n    &gt; exception; nested exception is\r\n    &gt; com.hello.world.somepackage.exceptions.UnhappyException:\r\n    &gt; Animal id 4444 is Unhappy\r\n\r\nOur application will try to process message again (if exception occurs), and at some point the message will either land in a dead letter topic, or be processed. Unfortunately, due to our current architecture, it is common for the animal id to be not present in our service, thus it could throw exceptions a few times until it gets processed.\r\n\r\nThe message gets logged as &quot;ERROR&quot; and it is creating &quot;false&quot; alerts in the Sentry alert platform. \r\n\r\nIs there a way to change the error UnHappyException to **warn** level, without having to change the sentry configuration?\r\n\r\nI tried to look at ConcurrentKafkaListenerContainerFactory and see if I could pass in custom error handler, but it does not hit break point at all.\r\n\r\n        @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; kafkaListenerContainerFactory(\r\n            ConsumerFactory&lt;Object, Object&gt; consumerFactory,\r\n            KafkaTemplate&lt;String, Object&gt; kafkaTemplate) {\r\n        ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory =\r\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\r\n        factory.setConsumerFactory(consumerFactory);\r\n\r\n        /*\r\n        // Original implementation\r\n        factory.setCommonErrorHandler(new DefaultErrorHandler(\r\n                new DeadLetterPublishingRecoverer(kafkaTemplate), backOff));\r\n        */\r\n\r\n        // here I created CustomErrorHandler and tried to extend DefaultErrorHandler and override methods but they do not get hit by debugger at all.\r\n        factory.setCommonErrorHandler(new CustomErrorHandler(\r\n                new DeadLetterPublishingRecoverer(kafkaTemplate), backOff));\r\n\r\n","title":"Spring Boot Kafka suppress exception","body":"<p>I have a kafka listener where if implementation throws exceptions, it will retry a few times. When exception is thrown, it is logged as error. This pollutes our Sentry log. I would like to change Kafka's consumers error level to warn level.</p>\n<p>Details:</p>\n<p>I have a Kafka listener and some events has to be retried.</p>\n<pre><code>@KafkaListener(...)\n@RetryableTopic(..)\npublic void consume(ConsumerRecord&lt;?,?&gt; event) {\n   service.sayHello(...); //this call can throw UnhappyException\n}\n</code></pre>\n<p>In the case UnHappyException is thrown, it is logged as</p>\n<pre><code>&gt; Caused by: org.springframework.kafka.listener.ListenerExecutionFailedException:\n&gt; Listener method 'public void\n&gt; com.company.hello.world.listener.MyListener.consume(org.apache.kafka.clients.consumer.ConsumerRecord&lt;java.lang.Object,\n&gt; ....)' threw\n&gt; exception; nested exception is\n&gt; com.hello.world.somepackage.exceptions.UnhappyException:\n&gt; Animal id 4444 is Unhappy\n</code></pre>\n<p>Our application will try to process message again (if exception occurs), and at some point the message will either land in a dead letter topic, or be processed. Unfortunately, due to our current architecture, it is common for the animal id to be not present in our service, thus it could throw exceptions a few times until it gets processed.</p>\n<p>The message gets logged as &quot;ERROR&quot; and it is creating &quot;false&quot; alerts in the Sentry alert platform.</p>\n<p>Is there a way to change the error UnHappyException to <strong>warn</strong> level, without having to change the sentry configuration?</p>\n<p>I tried to look at ConcurrentKafkaListenerContainerFactory and see if I could pass in custom error handler, but it does not hit break point at all.</p>\n<pre><code>    @Bean\npublic ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; kafkaListenerContainerFactory(\n        ConsumerFactory&lt;Object, Object&gt; consumerFactory,\n        KafkaTemplate&lt;String, Object&gt; kafkaTemplate) {\n    ConcurrentKafkaListenerContainerFactory&lt;Object, Object&gt; factory =\n            new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n\n    factory.setConsumerFactory(consumerFactory);\n\n    /*\n    // Original implementation\n    factory.setCommonErrorHandler(new DefaultErrorHandler(\n            new DeadLetterPublishingRecoverer(kafkaTemplate), backOff));\n    */\n\n    // here I created CustomErrorHandler and tried to extend DefaultErrorHandler and override methods but they do not get hit by debugger at all.\n    factory.setCommonErrorHandler(new CustomErrorHandler(\n            new DeadLetterPublishingRecoverer(kafkaTemplate), backOff));\n</code></pre>\n"},{"tags":["java","arraylist","string-comparison"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1620301609,"post_id":67417458,"comment_id":119163575,"body_markdown":"what is the actual problem? most likely, you&#39;re supposed to return a simple int, not a List&lt;Integer&gt;, but you&#39;re vague in what you expect as result, and even more vague in what problem you&#39;re having","body":"what is the actual problem? most likely, you&#39;re supposed to return a simple int, not a List&lt;Integer&gt;, but you&#39;re vague in what you expect as result, and even more vague in what problem you&#39;re having"},{"owner":{"account_id":1649822,"reputation":136,"user_id":1520634,"display_name":"Seeseemelk"},"score":0,"creation_date":1620301722,"post_id":67417458,"comment_id":119163639,"body_markdown":"I think you have to move the `q.add(counter);` line one line down. It is currently inside of the inner for-loop while it should be within the outer for-loop. This kind of issue is much easier to see if your code is properly formatted. (CTRL+F does that for you in Eclipse)","body":"I think you have to move the <code>q.add(counter);</code> line one line down. It is currently inside of the inner for-loop while it should be within the outer for-loop. This kind of issue is much easier to see if your code is properly formatted. (CTRL+F does that for you in Eclipse)"},{"owner":{"account_id":10728079,"reputation":1543,"user_id":7895005,"display_name":"Pramod H G"},"score":1,"creation_date":1620304514,"post_id":67417458,"comment_id":119164948,"body_markdown":"Please explain your question properly. what is the expected output here? and what are the inputs?","body":"Please explain your question properly. what is the expected output here? and what are the inputs?"}],"answers":[{"tags":[],"owner":{"account_id":6243711,"reputation":1571,"user_id":4856413,"display_name":"sanjeevRm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620352790,"creation_date":1620352790,"answer_id":67428078,"question_id":67417458,"body_markdown":"\r\nYou can use static frequency-method in Collections \r\n\r\n```\r\nint numberOfOccurrences = Collections.frequency(listOfStrings, &quot;string_to_search&quot;);\r\n```","title":"Frequency of a string in an arraylist of strings in java","body":"<p>You can use static frequency-method in Collections</p>\n<pre><code>int numberOfOccurrences = Collections.frequency(listOfStrings, &quot;string_to_search&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21605020,"reputation":1,"user_id":15932581,"display_name":"Anamika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621092202,"creation_date":1621063616,"answer_id":67544280,"question_id":67417458,"body_markdown":"initialize i and j as Instance Variables, you are ending their scope in for loops\r\n\r\n```java\r\nList q= new ArrayList(); \r\nint i,j,counter; \r\nfor(i = 0;i&lt;queries.size();i++) {\r\n\tfor(j=0;j&lt;strings.size();j++) { \r\n\t\tif(queries.get(i).equals(strings.get(j))) { \r\n\t\t\tcounter= counter+1; } q.add(counter);\r\n\t} counter=0; }\r\nreturn q;\r\n```","title":"Frequency of a string in an arraylist of strings in java","body":"<p>initialize i and j as Instance Variables, you are ending their scope in for loops</p>\n<pre class=\"lang-java prettyprint-override\"><code>List q= new ArrayList(); \nint i,j,counter; \nfor(i = 0;i&lt;queries.size();i++) {\n    for(j=0;j&lt;strings.size();j++) { \n        if(queries.get(i).equals(strings.get(j))) { \n            counter= counter+1; } q.add(counter);\n    } counter=0; }\nreturn q;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25548327,"reputation":1,"user_id":19333235,"display_name":"Burak Koca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657578165,"creation_date":1657578165,"answer_id":72945240,"question_id":67417458,"body_markdown":"      List&lt;Integer&gt; results =new ArrayList&lt;Integer&gt;();\r\n    \r\n    for(int i=0; i&lt;queries.size(); i++){\r\n        \r\n        int count =0;\r\n        for(int j=0; j&lt;strings.size(); j++){\r\n            if((queries.get(i)).equals(strings.get(j))){\r\n              count ++;  \r\n            } \r\n           \r\n        }\r\n        results.add(count); \r\n        count=0;\r\n    }\r\n    return results;","title":"Frequency of a string in an arraylist of strings in java","body":"<pre><code>  List&lt;Integer&gt; results =new ArrayList&lt;Integer&gt;();\n\nfor(int i=0; i&lt;queries.size(); i++){\n    \n    int count =0;\n    for(int j=0; j&lt;strings.size(); j++){\n        if((queries.get(i)).equals(strings.get(j))){\n          count ++;  \n        } \n       \n    }\n    results.add(count); \n    count=0;\n}\nreturn results;\n</code></pre>\n"}],"owner":{"account_id":21188324,"reputation":1,"user_id":15581252,"display_name":"Pradhuman Singh Rathore"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":438,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1657578165,"creation_date":1620301450,"question_id":67417458,"body_markdown":"I try this code cant any one help i can&#39;t find what the problem hear\r\n\r\n    public static List&lt;Integer&gt; matchingStrings(List&lt;String&gt; strings, List&lt;String&gt; queries) {\r\n        // Write your code here\r\n            int counter =0;\r\n            List&lt;Integer&gt; q= new ArrayList&lt;Integer&gt;();\r\n            for(int i = 0;i&lt;queries.size();i++){\r\n                for(int j=0;j&lt;strings.size();j++){\r\n                    if(queries.get(i).equals(strings.get(j))){\r\n                        counter= counter+1;\r\n                    }\r\n                q.add(counter);\r\n            }\r\n                counter=0;\r\n        }    \r\n            return q;\r\n    }\r\n    }","title":"Frequency of a string in an arraylist of strings in java","body":"<p>I try this code cant any one help i can't find what the problem hear</p>\n<pre><code>public static List&lt;Integer&gt; matchingStrings(List&lt;String&gt; strings, List&lt;String&gt; queries) {\n    // Write your code here\n        int counter =0;\n        List&lt;Integer&gt; q= new ArrayList&lt;Integer&gt;();\n        for(int i = 0;i&lt;queries.size();i++){\n            for(int j=0;j&lt;strings.size();j++){\n                if(queries.get(i).equals(strings.get(j))){\n                    counter= counter+1;\n                }\n            q.add(counter);\n        }\n            counter=0;\n    }    \n        return q;\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","performance","profiling","latency"],"comments":[{"owner":{"account_id":11306830,"reputation":311,"user_id":8291185,"display_name":"Shakeel Hussain"},"score":0,"creation_date":1695935515,"post_id":72945236,"comment_id":136093756,"body_markdown":"What is the number of requests you are making on the endpoint while profiling locally?","body":"What is the number of requests you are making on the endpoint while profiling locally?"}],"owner":{"account_id":6844481,"reputation":363,"user_id":5263718,"accept_rate":30,"display_name":"Ela"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":283,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657578111,"creation_date":1657578111,"question_id":72945236,"body_markdown":"I am running a Spring boot Java Service backed by Postgres.\r\n \r\n\r\nWhen examining some high latency calls and debugging with more logs, I discovered that most of the latency attributes to the call from controller to DAO method. This doesn&#39;t include any transformation or DB call. Just java method call from Controller to the entry point in DAO method.\r\n\r\nHow did I conclude?\r\n  - Added print statements in Controller right before calling DAO (say t1) \r\n  - Added print statement in the first line of called DAO (say t2)\r\n  - In all the high latency calls the t2-t1 contributes to ~80% of the overall request latency.\r\n\r\n```\r\nclass MyController {\r\n  @Autowired \r\n  MyDAO mydao;\r\n\r\n  public void serviceAPI() {\r\n     // Do something...\r\n\r\n     logger.info(&quot;Right before DAO call&quot;);  // time t1\r\n     myDAO.someDAOfunctionality();\r\n\r\n     // Do something...\r\n  }\r\n\r\n}\r\n\r\nclass MyDAO {\r\n  public void someDAOfunctionality() {\r\n     logger.info(&quot;First line of DAO call&quot;);  // time t2\r\n\r\n     // Do something..\r\n  }\r\n```\r\n\r\n\r\n**PS:** I tried profiling the requests using a local instance of the server. That has been inconclusive so far.\r\nSo wondering what could be causing the delay when a lightweight call is made within the same network.","title":"What is causing the high latency during method call within same network?","body":"<p>I am running a Spring boot Java Service backed by Postgres.</p>\n<p>When examining some high latency calls and debugging with more logs, I discovered that most of the latency attributes to the call from controller to DAO method. This doesn't include any transformation or DB call. Just java method call from Controller to the entry point in DAO method.</p>\n<p>How did I conclude?</p>\n<ul>\n<li>Added print statements in Controller right before calling DAO (say t1)</li>\n<li>Added print statement in the first line of called DAO (say t2)</li>\n<li>In all the high latency calls the t2-t1 contributes to ~80% of the overall request latency.</li>\n</ul>\n<pre><code>class MyController {\n  @Autowired \n  MyDAO mydao;\n\n  public void serviceAPI() {\n     // Do something...\n\n     logger.info(&quot;Right before DAO call&quot;);  // time t1\n     myDAO.someDAOfunctionality();\n\n     // Do something...\n  }\n\n}\n\nclass MyDAO {\n  public void someDAOfunctionality() {\n     logger.info(&quot;First line of DAO call&quot;);  // time t2\n\n     // Do something..\n  }\n</code></pre>\n<p><strong>PS:</strong> I tried profiling the requests using a local instance of the server. That has been inconclusive so far.\nSo wondering what could be causing the delay when a lightweight call is made within the same network.</p>\n"},{"tags":["java","arrays","sonarqube"],"answers":[{"tags":[],"owner":{"account_id":5144424,"reputation":2664,"user_id":4337151,"display_name":"dehasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539296582,"creation_date":1539296582,"answer_id":52769719,"question_id":52769679,"body_markdown":"The best approach is not to create `public static` but not `final` fields. Because it can lead to problems with sharing this data between threads. \r\n\r\nIn your case, you can create a `static final` and **immutable** list.","title":"SonarQube issue with public static variables | JAVA","body":"<p>The best approach is not to create <code>public static</code> but not <code>final</code> fields. Because it can lead to problems with sharing this data between threads. </p>\n\n<p>In your case, you can create a <code>static final</code> and <strong>immutable</strong> list.</p>\n"},{"tags":[],"owner":{"account_id":536567,"reputation":7838,"user_id":905488,"display_name":"Mick Mnemonic"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1539298539,"creation_date":1539298539,"answer_id":52769974,"question_id":52769679,"body_markdown":"Technically, you can have the (reference of) the variable `final` and still have its _contents_ dynamically filled at some later point:\r\n\r\n    public static final List&lt;String&gt; listPersons = new ArrayList&lt;&gt;();\r\n    \r\n    //...\r\n    \r\n    public void initialize() {\r\n        List&lt;String&gt; contents = populateContentsFromEnvironmentVariable();\r\n        listPersons.addAll(contents);\r\n    }\r\n\r\nHowever, using a &quot;mutable-content&quot; constant such as this one introduces possible problems. For example, you need to make sure that client code doesn&#39;t read the list before it has been populated. You might want to reconsider your design so that environment-specific properties are only initialized once and preferably encapsulated so that they are accessed through accessor methods instead of static constants; this would also allow lazy, on-demand initialization, caching etc.","title":"SonarQube issue with public static variables | JAVA","body":"<p>Technically, you can have the (reference of) the variable <code>final</code> and still have its <em>contents</em> dynamically filled at some later point:</p>\n\n<pre><code>public static final List&lt;String&gt; listPersons = new ArrayList&lt;&gt;();\n\n//...\n\npublic void initialize() {\n    List&lt;String&gt; contents = populateContentsFromEnvironmentVariable();\n    listPersons.addAll(contents);\n}\n</code></pre>\n\n<p>However, using a \"mutable-content\" constant such as this one introduces possible problems. For example, you need to make sure that client code doesn't read the list before it has been populated. You might want to reconsider your design so that environment-specific properties are only initialized once and preferably encapsulated so that they are accessed through accessor methods instead of static constants; this would also allow lazy, on-demand initialization, caching etc.</p>\n"},{"tags":[],"owner":{"account_id":7091735,"reputation":2510,"user_id":5426703,"display_name":"Spyros K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607590803,"creation_date":1539358103,"answer_id":52782682,"question_id":52769679,"body_markdown":"The best way would be to have a static list initialized like that:\r\n\r\n\r\n    //Static final and unmodifiable list\r\n    private static final List&lt;String&gt; listPersons = createListPersons();\r\n\r\n    \r\n    private static final createListPersons() {\r\n          List&lt;String&gt; listPersonsTemp = getPersonsFromEnvironmentVariable();\r\n          return Collections.unmodifiableList(listPersonsTemp);\r\n    }\r\n\r\n\r\n    public static final List&lt;String&gt; getListPersons(){\r\n      return listPersons;\r\n    }\r\n\r\nThis way you ensure that your list will is unmodifiable and accessed only via a getter. In this way the Sonar will not complain about the access modifiers.\r\n\r\nSince the List contains  Strings and is unmodifiable it can be considered immutable.\r\n\r\nIt is safer to use only immutable static objects. State or variables are safer managed in instances. ","title":"SonarQube issue with public static variables | JAVA","body":"<p>The best way would be to have a static list initialized like that:</p>\n<pre><code>//Static final and unmodifiable list\nprivate static final List&lt;String&gt; listPersons = createListPersons();\n\n\nprivate static final createListPersons() {\n      List&lt;String&gt; listPersonsTemp = getPersonsFromEnvironmentVariable();\n      return Collections.unmodifiableList(listPersonsTemp);\n}\n\n\npublic static final List&lt;String&gt; getListPersons(){\n  return listPersons;\n}\n</code></pre>\n<p>This way you ensure that your list will is unmodifiable and accessed only via a getter. In this way the Sonar will not complain about the access modifiers.</p>\n<p>Since the List contains  Strings and is unmodifiable it can be considered immutable.</p>\n<p>It is safer to use only immutable static objects. State or variables are safer managed in instances.</p>\n"},{"tags":[],"owner":{"account_id":3076714,"reputation":1193,"user_id":2605850,"accept_rate":50,"display_name":"Vinay Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611058440,"creation_date":1611058440,"answer_id":65791310,"question_id":52769679,"body_markdown":"Modifiers should be declared in the correct order\r\nThe Java Language Specification recommends listing modifiers in the following order:\r\n\r\n    1. Annotations\r\n    2. public\r\n    3. protected\r\n    4. private\r\n    5. abstract\r\n    6. static\r\n    7. final\r\n    8. transient\r\n    9. volatile\r\n    10. synchronized\r\n    11. native\r\n    12. strictfp\r\n\r\nNot following this convention has no technical impact, but will reduce the code&#39;s readability because most developers are used to the standard order.\r\n\r\n**Noncompliant Code Example**\r\n\r\n    static public void main(String[] args) {   // Noncompliant\r\n    }\r\n\r\n**Compliant Solution**\r\n\r\n    public static void main(String[] args) {   // Compliant\r\n    }\r\n\r\n","title":"SonarQube issue with public static variables | JAVA","body":"<p>Modifiers should be declared in the correct order\nThe Java Language Specification recommends listing modifiers in the following order:</p>\n<pre><code>1. Annotations\n2. public\n3. protected\n4. private\n5. abstract\n6. static\n7. final\n8. transient\n9. volatile\n10. synchronized\n11. native\n12. strictfp\n</code></pre>\n<p>Not following this convention has no technical impact, but will reduce the code's readability because most developers are used to the standard order.</p>\n<p><strong>Noncompliant Code Example</strong></p>\n<pre><code>static public void main(String[] args) {   // Noncompliant\n}\n</code></pre>\n<p><strong>Compliant Solution</strong></p>\n<pre><code>public static void main(String[] args) {   // Compliant\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"ℛɑƒ&#230;Ŀᴿᴹᴿ"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657576895,"creation_date":1657576895,"answer_id":72945090,"question_id":52769679,"body_markdown":"Using `List.of(...)` from the `java.util.List` package should resolve the SonarQube issue.\r\n\r\n&gt; Returns an unmodifiable list containing an arbitrary number of elements.","title":"SonarQube issue with public static variables | JAVA","body":"<p>Using <code>List.of(...)</code> from the <code>java.util.List</code> package should resolve the SonarQube issue.</p>\n<blockquote>\n<p>Returns an unmodifiable list containing an arbitrary number of elements.</p>\n</blockquote>\n"}],"owner":{"account_id":14015809,"reputation":129,"user_id":10123374,"display_name":"Javier Salas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10723,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":52769974,"answer_count":5,"score":4,"last_activity_date":1657576895,"creation_date":1539296389,"question_id":52769679,"body_markdown":"I&#39;m having an issue with SonarQube while using `public static` variables, the problem is that SonarQube want that to be `public static final`, this variable is being filled in other parts of the code, it is &quot;dynamically&quot; (filled with environment variable) then is used in all other classes.\r\n\r\nThis is the arrayList variable\r\n\r\n    public static List&lt;String&gt; listPersons = new ArrayList&lt;&gt;();\r\n\r\nErrors by Sonar:\r\n\r\n    1- Make this &quot;public static listPersons&quot; field final\r\n    2- Make listPersons a static final constant or non-public and provide accessors if needed\r\n    3- Make this member &quot;protected&quot;\r\n\r\nWhat&#39;s the best approach to fix this problem?","title":"SonarQube issue with public static variables | JAVA","body":"<p>I'm having an issue with SonarQube while using <code>public static</code> variables, the problem is that SonarQube want that to be <code>public static final</code>, this variable is being filled in other parts of the code, it is \"dynamically\" (filled with environment variable) then is used in all other classes.</p>\n\n<p>This is the arrayList variable</p>\n\n<pre><code>public static List&lt;String&gt; listPersons = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>Errors by Sonar:</p>\n\n<pre><code>1- Make this \"public static listPersons\" field final\n2- Make listPersons a static final constant or non-public and provide accessors if needed\n3- Make this member \"protected\"\n</code></pre>\n\n<p>What's the best approach to fix this problem?</p>\n"},{"tags":["java","docker","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657576440,"creation_date":1657576440,"answer_id":72945025,"question_id":72944410,"body_markdown":"Changing the ports doesn&#39;t fix batch expiration. Kafka producers do not immediately send data. You&#39;ll need to flush the producer explicitly for that to happen, lower the producer&#39;s batch size config, or send enough data to fill the default batch size.\r\n\r\nIf a producer batch expires, no records are sent, and therefore the consumer will see nothing. \r\n\r\nTo fix the admin client, use the top-level `spring.kafka.bootstrap-servers` config, rather than individual producer and consumer client settings. \r\n\r\n","title":"Kafka producer. The message is not being sent","body":"<p>Changing the ports doesn't fix batch expiration. Kafka producers do not immediately send data. You'll need to flush the producer explicitly for that to happen, lower the producer's batch size config, or send enough data to fill the default batch size.</p>\n<p>If a producer batch expires, no records are sent, and therefore the consumer will see nothing.</p>\n<p>To fix the admin client, use the top-level <code>spring.kafka.bootstrap-servers</code> config, rather than individual producer and consumer client settings.</p>\n"}],"owner":{"account_id":25784637,"reputation":1,"user_id":19529692,"display_name":"Орорп Орол"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657576440,"creation_date":1657571944,"question_id":72944410,"body_markdown":"Mistake\r\n\r\n    Expiring 2 record(s) for catering-0:120012 ms has passed since batch creation\r\n\r\nFirst I used the configuration \r\n\r\n          zookeeper:\r\n        image: wurstmeister/zookeeper\r\n        container_name: zookeeper\r\n        ports:\r\n          - &quot;2181:2181&quot;\r\n        restart: always\r\n        \r\n      kafka:\r\n        image: wurstmeister/kafka\r\n        container_name: kafka\r\n        ports:\r\n          - &quot;9092:9092&quot;\r\n        depends_on:\r\n          - zookeeper\r\n        restart: always\r\n        environment:\r\n          #      KAFKA_ADVERTISED_HOST_NAME: kafka\r\n          KAFKA_ADVERTISED_HOST_NAME: 127.0.0.1\r\n          KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n          KAFKA_CREATE_TOPICS: &quot;test_topic:1:3&quot;\r\n\r\n But due to the fact that I could not connect to kafka with localhost and from containers equally successfully, I had to change the images and environments of these containers\r\n \r\n\r\n    zookeeper1:\r\n        image: confluentinc/cp-zookeeper\r\n        container_name: zookeeper\r\n        ports:\r\n          - &quot;2181:2181&quot;\r\n        restart: always\r\n        environment:\r\n          ZOOKEEPER_CLIENT_PORT: 2181\r\n          ZOOKEEPER_TICK_TIME: 2000\r\n          ZOOKEEPER_SYNC_LIMIT: 2\r\n    \r\n      kafka1:\r\n        image: confluentinc/cp-kafka\r\n        container_name: kafka\r\n        ports:\r\n          - target: 9094\r\n            published: 9094\r\n            protocol: tcp\r\n            mode: host\r\n        depends_on:\r\n          - zookeeper1\r\n        environment:\r\n          KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\r\n          KAFKA_LISTENERS: INTERNAL://0.0.0.0:9092,OUTSIDE://0.0.0.0:9094\r\n          KAFKA_ADVERTISED_LISTENERS: INTERNAL://kafka:9092,OUTSIDE://localhost:9094\r\n          KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INTERNAL:PLAINTEXT,OUTSIDE:PLAINTEXT\r\n          KAFKA_INTER_BROKER_LISTENER_NAME: INTERNAL\r\n          KAFKA_CREATE_TOPICS: &quot;catering:1:3&quot;\r\n\r\nIn the configurations of the consumer and producer, only the ports have changed, but now the message from the producer is sent, and the consumer does not reach at all. After a while, the producer writes that the time for sending the message has expired and that&#39;s the end of it. Maybe someone can help... Going back to the original configuration didn&#39;t help and now leads to the same problem\r\nProducer config: \r\n\r\n      kafka:\r\n        producer:\r\n          bootstrap-servers: localhost:9094\r\n          key-serializer: org.apache.kafka.common.serialization.StringSerializer\r\n          value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\r\nConsumer config: \r\n\r\n      kafka:\r\n        consumer:\r\n          bootstrap-servers: localhost:9094\r\n          group-id: json\r\n          auto-offset-reset: earliest\r\n          key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\r\n          value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\r\n\r\nPerhaps this is important, but the first minute after the start of the application I get this error. But then it connects successfully\r\n\r\n    [AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.","title":"Kafka producer. The message is not being sent","body":"<p>Mistake</p>\n<pre><code>Expiring 2 record(s) for catering-0:120012 ms has passed since batch creation\n</code></pre>\n<p>First I used the configuration</p>\n<pre><code>      zookeeper:\n    image: wurstmeister/zookeeper\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n    restart: always\n    \n  kafka:\n    image: wurstmeister/kafka\n    container_name: kafka\n    ports:\n      - &quot;9092:9092&quot;\n    depends_on:\n      - zookeeper\n    restart: always\n    environment:\n      #      KAFKA_ADVERTISED_HOST_NAME: kafka\n      KAFKA_ADVERTISED_HOST_NAME: 127.0.0.1\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_CREATE_TOPICS: &quot;test_topic:1:3&quot;\n</code></pre>\n<p>But due to the fact that I could not connect to kafka with localhost and from containers equally successfully, I had to change the images and environments of these containers</p>\n<pre><code>zookeeper1:\n    image: confluentinc/cp-zookeeper\n    container_name: zookeeper\n    ports:\n      - &quot;2181:2181&quot;\n    restart: always\n    environment:\n      ZOOKEEPER_CLIENT_PORT: 2181\n      ZOOKEEPER_TICK_TIME: 2000\n      ZOOKEEPER_SYNC_LIMIT: 2\n\n  kafka1:\n    image: confluentinc/cp-kafka\n    container_name: kafka\n    ports:\n      - target: 9094\n        published: 9094\n        protocol: tcp\n        mode: host\n    depends_on:\n      - zookeeper1\n    environment:\n      KAFKA_ZOOKEEPER_CONNECT: zookeeper:2181\n      KAFKA_LISTENERS: INTERNAL://0.0.0.0:9092,OUTSIDE://0.0.0.0:9094\n      KAFKA_ADVERTISED_LISTENERS: INTERNAL://kafka:9092,OUTSIDE://localhost:9094\n      KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: INTERNAL:PLAINTEXT,OUTSIDE:PLAINTEXT\n      KAFKA_INTER_BROKER_LISTENER_NAME: INTERNAL\n      KAFKA_CREATE_TOPICS: &quot;catering:1:3&quot;\n</code></pre>\n<p>In the configurations of the consumer and producer, only the ports have changed, but now the message from the producer is sent, and the consumer does not reach at all. After a while, the producer writes that the time for sending the message has expired and that's the end of it. Maybe someone can help... Going back to the original configuration didn't help and now leads to the same problem\nProducer config:</p>\n<pre><code>  kafka:\n    producer:\n      bootstrap-servers: localhost:9094\n      key-serializer: org.apache.kafka.common.serialization.StringSerializer\n      value-serializer: org.springframework.kafka.support.serializer.JsonSerializer\n</code></pre>\n<p>Consumer config:</p>\n<pre><code>  kafka:\n    consumer:\n      bootstrap-servers: localhost:9094\n      group-id: json\n      auto-offset-reset: earliest\n      key-deserializer: org.apache.kafka.common.serialization.StringDeserializer\n      value-deserializer: org.springframework.kafka.support.serializer.JsonDeserializer\n</code></pre>\n<p>Perhaps this is important, but the first minute after the start of the application I get this error. But then it connects successfully</p>\n<pre><code>[AdminClient clientId=adminclient-1] Connection to node -1 (localhost/127.0.0.1:9092) could not be established. Broker may not be available.\n</code></pre>\n"},{"tags":["java","spring","rabbitmq"],"comments":[{"owner":{"account_id":1978019,"reputation":698,"user_id":1775344,"accept_rate":33,"display_name":"Mateusz"},"score":0,"creation_date":1657576110,"post_id":72943688,"comment_id":128839303,"body_markdown":"Please, show the code of the producer","body":"Please, show the code of the producer"}],"answers":[{"tags":[],"owner":{"account_id":1978019,"reputation":698,"user_id":1775344,"accept_rate":33,"display_name":"Mateusz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657576321,"creation_date":1657576321,"answer_id":72945009,"question_id":72943688,"body_markdown":"You should also register the converter\r\n```\r\nimport org.springframework.amqp.rabbit.connection.ConnectionFactory;\r\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\r\nimport org.springframework.amqp.support.converter.Jackson2JsonMessageConverter;\r\n\r\n\r\n    @Bean\r\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory, Jackson2JsonMessageConverter converter) {\r\n        final var rabbitTemplate = new RabbitTemplate(connectionFactory);\r\n        rabbitTemplate.setMessageConverter(converter);\r\n        return rabbitTemplate;\r\n    }\r\n\r\n    @Bean\r\n    public Jackson2JsonMessageConverter producerJackson2MessageConverter() {\r\n        var objectMapper = new ObjectMapper();\r\n        return new Jackson2JsonMessageConverter(objectMapper);\r\n    }\r\n```\r\n\r\nAnd, if your consumer consumes the json objects, the producer must also product json messages","title":"Convert data of rabbit mq queue in spring boot","body":"<p>You should also register the converter</p>\n<pre><code>import org.springframework.amqp.rabbit.connection.ConnectionFactory;\nimport org.springframework.amqp.rabbit.core.RabbitTemplate;\nimport org.springframework.amqp.support.converter.Jackson2JsonMessageConverter;\n\n\n    @Bean\n    public RabbitTemplate rabbitTemplate(ConnectionFactory connectionFactory, Jackson2JsonMessageConverter converter) {\n        final var rabbitTemplate = new RabbitTemplate(connectionFactory);\n        rabbitTemplate.setMessageConverter(converter);\n        return rabbitTemplate;\n    }\n\n    @Bean\n    public Jackson2JsonMessageConverter producerJackson2MessageConverter() {\n        var objectMapper = new ObjectMapper();\n        return new Jackson2JsonMessageConverter(objectMapper);\n    }\n</code></pre>\n<p>And, if your consumer consumes the json objects, the producer must also product json messages</p>\n"}],"owner":{"account_id":19570393,"reputation":41,"user_id":14321684,"display_name":"Thiago Melo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657576321,"creation_date":1657567664,"question_id":72943688,"body_markdown":"I&#39;m building a microservice that receives data from another microservice and i&#39;m having trouble while converting the data. I&#39;m a beginner at rabbit MQ and don&#39;t know how to fix it.\r\n\r\n[![Error][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aSPKz.png\r\n\r\nThat it is my class to convert the message\r\n```\r\n@Configuration\r\npublic class MensagemConfig {\r\n\r\n    @Value(&quot;${crud.rabbitmq.exchange}&quot;)\r\n    String exchange;\r\n\r\n    @Bean\r\n    public Exchange exchange() {\r\n        return ExchangeBuilder.directExchange(exchange).durable(true).build();\r\n    }\r\n\r\n    @Bean\r\n    public MessageConverter jsonMessageConverter() {\r\n        return new Jackson2JsonMessageConverter();\r\n    }\r\n} \r\n```\r\n\r\nAnd here is my consumer class:\r\n\r\n```\r\n@Component\r\npublic class CasoConsumer {\r\n    \r\n    @Autowired\r\n    private CasoLVRepository repository;\r\n\r\n    public CasoConsumer(CasoLVRepository repository) {\r\n        this.repository = repository;\r\n    }\r\n\r\n    @RabbitListener(queues = &quot;crud.statistics.caso&quot;)\r\n    public void consumer(@Payload CasoLV caso){\r\n        repository.save(caso);\r\n    }\r\n}\r\n```","title":"Convert data of rabbit mq queue in spring boot","body":"<p>I'm building a microservice that receives data from another microservice and i'm having trouble while converting the data. I'm a beginner at rabbit MQ and don't know how to fix it.</p>\n<p><a href=\"https://i.stack.imgur.com/aSPKz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aSPKz.png\" alt=\"Error\" /></a></p>\n<p>That it is my class to convert the message</p>\n<pre><code>@Configuration\npublic class MensagemConfig {\n\n    @Value(&quot;${crud.rabbitmq.exchange}&quot;)\n    String exchange;\n\n    @Bean\n    public Exchange exchange() {\n        return ExchangeBuilder.directExchange(exchange).durable(true).build();\n    }\n\n    @Bean\n    public MessageConverter jsonMessageConverter() {\n        return new Jackson2JsonMessageConverter();\n    }\n} \n</code></pre>\n<p>And here is my consumer class:</p>\n<pre><code>@Component\npublic class CasoConsumer {\n    \n    @Autowired\n    private CasoLVRepository repository;\n\n    public CasoConsumer(CasoLVRepository repository) {\n        this.repository = repository;\n    }\n\n    @RabbitListener(queues = &quot;crud.statistics.caso&quot;)\n    public void consumer(@Payload CasoLV caso){\n        repository.save(caso);\n    }\n}\n</code></pre>\n"},{"tags":["java","unit-testing","mockito"],"answers":[{"tags":[],"owner":{"account_id":329138,"reputation":8059,"user_id":652497,"accept_rate":91,"display_name":"Jonathan S. Fisher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657575931,"creation_date":1657575931,"answer_id":72944972,"question_id":72944046,"body_markdown":"```java\r\npublic Class cTest {\r\n```\r\n\r\nNeeds to have the Mockito extension declared:\r\n\r\n```java\r\n@ExtendWith({ MockitoExtension.class })\r\nclass cTest {\r\n```\r\n\r\nYou&#39;ll need the extension on your classpath. If using maven:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n    &lt;version&gt;5.8.2&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nReferences: https://www.baeldung.com/mockito-junit-5-extension","title":"@Mock values isn&#39;t refelected on @injectMock Java","body":"<pre class=\"lang-java prettyprint-override\"><code>public Class cTest {\n</code></pre>\n<p>Needs to have the Mockito extension declared:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith({ MockitoExtension.class })\nclass cTest {\n</code></pre>\n<p>You'll need the extension on your classpath. If using maven:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.8.2&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>References: <a href=\"https://www.baeldung.com/mockito-junit-5-extension\" rel=\"nofollow noreferrer\">https://www.baeldung.com/mockito-junit-5-extension</a></p>\n"}],"owner":{"account_id":11108030,"reputation":1,"user_id":8154667,"display_name":"Bara&#39; Al-jawarnEh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657575931,"creation_date":1657569696,"question_id":72944046,"body_markdown":"\r\nI&#39;m new to Mockito and I was trying to write the unit test for nstead adapters\r\nlets say we have\r\nI have 3 classes and the last one will update a map to me, return it to the middle then return it again to final layer\r\n```\r\nList&lt;Map&lt;Integer, List&lt;String&gt;&gt; x\r\nClass A {\r\n    Public void method1(List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\r\n                    method2(x)\r\n    }\r\n    private void method2 (List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\r\n                    x.add(...)\r\n    }\r\n}\r\n\r\nClass B {\r\n     A a;\r\n    Public int methodB(List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\r\n                    a.method1(x)\r\n                    return x.length;\r\n    }\r\n}\r\n\r\nClass C {\r\n     B b;\r\n    Public void methodC(List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\r\n                    int size = b.methodB(x)\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow when I wanted to write a unit test for class C, I did this\r\n\r\n```\r\nPublic Class cTest {\r\n\r\nList&lt;Map&lt;Integer, List&lt;String&gt;&gt; x;\r\n@InjectMocks\r\nC c;\r\n\r\n@Mock\r\nB b;\r\n\r\n@Test\r\nPublic Void test() {\r\n\r\n   when(b.methodB(x)).thenReturn(1);\r\n      c.methodC(x)\r\n    }\r\n}\r\n```\r\n\r\nThe thing is when I debug the call for c.methodC(x) in unit test and I check the x it will always be empty\r\nSo how can I fill it in that case ?","title":"@Mock values isn&#39;t refelected on @injectMock Java","body":"<p>I'm new to Mockito and I was trying to write the unit test for nstead adapters\nlets say we have\nI have 3 classes and the last one will update a map to me, return it to the middle then return it again to final layer</p>\n<pre><code>List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x\nClass A {\n    Public void method1(List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\n                    method2(x)\n    }\n    private void method2 (List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\n                    x.add(...)\n    }\n}\n\nClass B {\n     A a;\n    Public int methodB(List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\n                    a.method1(x)\n                    return x.length;\n    }\n}\n\nClass C {\n     B b;\n    Public void methodC(List&lt;Map&lt;Integer, List&lt;String&gt;&gt; x) {\n                    int size = b.methodB(x)\n    }\n}\n\n</code></pre>\n<p>Now when I wanted to write a unit test for class C, I did this</p>\n<pre><code>Public Class cTest {\n\nList&lt;Map&lt;Integer, List&lt;String&gt;&gt; x;\n@InjectMocks\nC c;\n\n@Mock\nB b;\n\n@Test\nPublic Void test() {\n\n   when(b.methodB(x)).thenReturn(1);\n      c.methodC(x)\n    }\n}\n</code></pre>\n<p>The thing is when I debug the call for c.methodC(x) in unit test and I check the x it will always be empty\nSo how can I fill it in that case ?</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":153349,"reputation":7272,"user_id":368544,"accept_rate":80,"display_name":"Mart&#237;n Schonaker"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1310699046,"creation_date":1310699046,"answer_id":6702285,"question_id":6702076,"body_markdown":"There is an API that maybe solves all of your problems: http://code.google.com/apis/safebrowsing/\r\n\r\nAnd here is an Java client implementation for it: http://code.google.com/p/jgooglesafebrowsing/","title":"Simple check URL of Google safe browsing for Android?","body":"<p>There is an API that maybe solves all of your problems: <a href=\"http://code.google.com/apis/safebrowsing/\" rel=\"nofollow\">http://code.google.com/apis/safebrowsing/</a></p>\n\n<p>And here is an Java client implementation for it: <a href=\"http://code.google.com/p/jgooglesafebrowsing/\" rel=\"nofollow\">http://code.google.com/p/jgooglesafebrowsing/</a></p>\n"},{"tags":[],"owner":{"account_id":104344,"reputation":341,"user_id":279023,"display_name":"chethu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1355262372,"creation_date":1355262372,"answer_id":13829021,"question_id":6702076,"body_markdown":"One thing I would suggest is to have a server side implementation and have an Rest api exposed. Your android app can act as a client for the same","title":"Simple check URL of Google safe browsing for Android?","body":"<p>One thing I would suggest is to have a server side implementation and have an Rest api exposed. Your android app can act as a client for the same</p>\n"},{"tags":[],"owner":{"account_id":22370,"reputation":158113,"user_id":55075,"accept_rate":76,"display_name":"kenorb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524065319,"creation_date":1524065319,"answer_id":49903585,"question_id":6702076,"body_markdown":"You need to `urlencode` your URL as you cannot have two `?` characters in the URL at the same time.\r\n\r\nSo your URL should looks like:\r\n\r\n&gt; `https://transparencyreport.google.com/safe-browsing/search?url=http:%2F%2Fexample.com%2Fabc%2Fdef%3Fghi%3Dopq`\r\n\r\nIn Java, you can use [`URLEncoder.encode()`][1].\r\n\r\nSee: &lt;https://stackoverflow.com/q/10786042/55075&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html","title":"Simple check URL of Google safe browsing for Android?","body":"<p>You need to <code>urlencode</code> your URL as you cannot have two <code>?</code> characters in the URL at the same time.</p>\n\n<p>So your URL should looks like:</p>\n\n<blockquote>\n  <p><code>https://transparencyreport.google.com/safe-browsing/search?url=http:%2F%2Fexample.com%2Fabc%2Fdef%3Fghi%3Dopq</code></p>\n</blockquote>\n\n<p>In Java, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html\" rel=\"nofollow noreferrer\"><code>URLEncoder.encode()</code></a>.</p>\n\n<p>See: <a href=\"https://stackoverflow.com/q/10786042/55075\">Java URL encoding of query string parameters</a></p>\n"}],"owner":{"account_id":215487,"reputation":1718,"user_id":470160,"accept_rate":82,"display_name":"Anh Tuan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2458,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":6702285,"answer_count":3,"score":2,"last_activity_date":1657574500,"creation_date":1310696789,"question_id":6702076,"body_markdown":"I&#39;m building an Android application which allows people scan QR code and open its content if that is a URL. But before opening, I want to check it&#39;s a safe URL. I check Google Safe Browsing API, and it turns out I need to download and save malware and infected URL list, which&#39;s impossible for Android client.\r\n&lt;p&gt;There&#39;s another way with http://www.google.com/safebrowsing/diagnostic?site= but this have two disadvantages:\r\n&lt;p&gt;1.It doesn&#39;t work with full URL or URL paramater:\r\n&lt;br&gt;**Work**: http://www.google.com/safebrowsing/diagnostic?site=http://example.com\r\n&lt;br&gt;**Don&#39;t work**: http://www.google.com/safebrowsing/diagnostic?site=http://example.com/abc/def?ghi=opq\r\n&lt;p&gt;2.It opens a web page which tell us URL is safe or not, but I&#39;d rather want it return a HTTP status code: like 201 -&gt; safe, 202 -&gt; isn&#39;t safe (which is easier to process).\r\n\r\n&lt;p&gt;The first disadvantage&#39;s not much a problem, but the second&#39;s really annoying. Can anyone show me another way around? Really thank.","title":"Simple check URL of Google safe browsing for Android?","body":"<p>I'm building an Android application which allows people scan QR code and open its content if that is a URL. But before opening, I want to check it's a safe URL. I check Google Safe Browsing API, and it turns out I need to download and save malware and infected URL list, which's impossible for Android client.\n<p>There's another way with <a href=\"http://www.google.com/safebrowsing/diagnostic?site=\" rel=\"nofollow\">http://www.google.com/safebrowsing/diagnostic?site=</a> but this have two disadvantages:\n<p>1.It doesn't work with full URL or URL paramater:\n<br><strong>Work</strong>: <a href=\"http://www.google.com/safebrowsing/diagnostic?site=http://example.com\" rel=\"nofollow\">http://www.google.com/safebrowsing/diagnostic?site=http://example.com</a>\n<br><strong>Don't work</strong>: <a href=\"http://www.google.com/safebrowsing/diagnostic?site=http://example.com/abc/def?ghi=opq\" rel=\"nofollow\">http://www.google.com/safebrowsing/diagnostic?site=http://example.com/abc/def?ghi=opq</a>\n<p>2.It opens a web page which tell us URL is safe or not, but I'd rather want it return a HTTP status code: like 201 -> safe, 202 -> isn't safe (which is easier to process).</p>\n\n<p><p>The first disadvantage's not much a problem, but the second's really annoying. Can anyone show me another way around? Really thank.</p>\n"},{"tags":["java","maven","gradle","artifacts","maven-publish"],"comments":[{"owner":{"account_id":53772,"reputation":22307,"user_id":160811,"accept_rate":100,"display_name":"Jeremy"},"score":0,"creation_date":1657561925,"post_id":72942604,"comment_id":128835309,"body_markdown":"What have you tried? Do you have questions about the [maven-publish documentation](https://docs.gradle.org/current/userguide/publishing_maven.html)?","body":"What have you tried? Do you have questions about the <a href=\"https://docs.gradle.org/current/userguide/publishing_maven.html\" rel=\"nofollow noreferrer\">maven-publish documentation</a>?"},{"owner":{"account_id":19937313,"reputation":23,"user_id":14609715,"display_name":"Cannolium"},"score":0,"creation_date":1657562880,"post_id":72942604,"comment_id":128835606,"body_markdown":"@Jeremy I&#39;ve taken a look at the documentation but am mostly not sure how to point it to a location to write the POM to (like .writeTo in this situation).","body":"@Jeremy I&#39;ve taken a look at the documentation but am mostly not sure how to point it to a location to write the POM to (like .writeTo in this situation)."}],"answers":[{"tags":[],"owner":{"account_id":15994883,"reputation":3427,"user_id":11543023,"display_name":"djmonki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657574425,"creation_date":1657574425,"answer_id":72944788,"question_id":72942604,"body_markdown":"Try this, based on the [Official Gradle Publishing Maven page][1]:\r\n```gradle\r\npublishing {\r\n    publications {\r\n        MavenCustom(MavenPublication) {\r\n            from components.java\r\n\r\n            groupId &quot;${project.group}.${project.name}&quot;\r\n            artifactId project.name\r\n            version project.version\r\n        }\r\n    }\r\n}\r\n\r\nmodel {\r\n    tasks.generatePomFileForMavenCustomPublication {\r\n        destination = file(&quot;$buildDir/libs/${project.name}.pom.xml&quot;)\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/publishing_maven.html#publishing_maven:tasks","title":"What is the proper way to migrate this pom maven task to maven-publish?","body":"<p>Try this, based on the <a href=\"https://docs.gradle.org/current/userguide/publishing_maven.html#publishing_maven:tasks\" rel=\"nofollow noreferrer\">Official Gradle Publishing Maven page</a>:</p>\n<pre><code>publishing {\n    publications {\n        MavenCustom(MavenPublication) {\n            from components.java\n\n            groupId &quot;${project.group}.${project.name}&quot;\n            artifactId project.name\n            version project.version\n        }\n    }\n}\n\nmodel {\n    tasks.generatePomFileForMavenCustomPublication {\n        destination = file(&quot;$buildDir/libs/${project.name}.pom.xml&quot;)\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19937313,"reputation":23,"user_id":14609715,"display_name":"Cannolium"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657574425,"creation_date":1657561278,"question_id":72942604,"body_markdown":"I have this task in my build.gradle file that was using maven:\r\n\r\n    task pom {\r\n        doLast {\r\n            pom {\r\n                project {\r\n                    groupId &quot;${project.group}.${project.name}&quot;\r\n                    artifactId project.name\r\n                    version project.version\r\n                }\r\n            }.writeTo (&quot;$buildDir/libs/${project.name}.pom&quot;)\r\n        }\r\n    }\r\n\r\n\r\nNow its my task to get this project ready for gradle 7, and part of that means upgrading maven to maven-publish. The above code snippit doesn&#39;t work with maven-publish, as pom() isn&#39;t a recognized method. What is the proper way to migrate this code over to maven-publish?","title":"What is the proper way to migrate this pom maven task to maven-publish?","body":"<p>I have this task in my build.gradle file that was using maven:</p>\n<pre><code>task pom {\n    doLast {\n        pom {\n            project {\n                groupId &quot;${project.group}.${project.name}&quot;\n                artifactId project.name\n                version project.version\n            }\n        }.writeTo (&quot;$buildDir/libs/${project.name}.pom&quot;)\n    }\n}\n</code></pre>\n<p>Now its my task to get this project ready for gradle 7, and part of that means upgrading maven to maven-publish. The above code snippit doesn't work with maven-publish, as pom() isn't a recognized method. What is the proper way to migrate this code over to maven-publish?</p>\n"},{"tags":["java","influxdb"],"answers":[{"tags":[],"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657574030,"creation_date":1657574030,"answer_id":72944737,"question_id":72943962,"body_markdown":"Never mind. It turns out a separate row can have exactly the same date but different tags. Maybe rows can actually be though of as columns in a relational db? ","title":"Influx DB Java how to show tags associated with field","body":"<p>Never mind. It turns out a separate row can have exactly the same date but different tags. Maybe rows can actually be though of as columns in a relational db?</p>\n"}],"owner":{"account_id":25279,"reputation":35965,"user_id":64895,"accept_rate":60,"display_name":"Jack BeNimble"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657574030,"creation_date":1657569224,"question_id":72943962,"body_markdown":"I have a question on accessing tag using Java.\r\n\r\nHere is a query that works great in the UI, with the results shown in the image below. \r\n\r\n    from(bucket: &quot;events&quot;)\r\n      |&gt; range(start: -3h)\r\n      |&gt; filter(fn: (r) =&gt; r[&quot;_measurement&quot;] == &quot;NORCA-SYSTEM-TIMESERIES&quot;)\r\n      |&gt; filter(fn: (r) =&gt; r[&quot;_field&quot;] == &quot;objectCount&quot; or r[&quot;_field&quot;] == &quot;norcaErrorCount&quot;)\r\n      |&gt; aggregateWindow(every: 1m, fn: sum, createEmpty: false)\r\n      |&gt; yield(name: &quot;sum&quot;)\r\n\r\n[![Query results][1]][1]\r\n\r\nFrom the above, you can see it returns results from two systems for two variables\r\n\r\nHere is the Java code which executes the same query:\r\n\r\n    @Override\r\n    \tpublic List&lt;INorcaTotalsSystemDateDTO&gt; norcaInfluxSystemTotalsByTimeUnit\r\n    \t(String systemName,\r\n    \t\t\tString org,\r\n    \t\t\tString bucket,\r\n    \t\t\tString cacheDatabase,\r\n    \t\t\tString groupByTimeUnit,\r\n    \t\t\tString startFromTimeUnit) {\r\n    \t\tString token = NorcaInfluxUtilsService.getInfluxToken();\r\n    \t\tString host = &quot;http://localhost:8086&quot;;\r\n    \t\r\n    \t\tLOG.info(&quot;running influx client&quot;);\r\n    \t\tInfluxDBClient client = NorcaInfluxUtilsService.getInfluxClient(host, token, org, bucket);\r\n    \t\tMap&lt;LocalDateTime, INorcaTotalsSystemDateDTO&gt; dtoMap = new HashMap&lt;&gt;();\r\n    \t\tLong norcaErrors = null;\r\n    \t\tLong objectCount = null;\r\n    \t\tString query = null;\r\n    \t\t\r\n    \t\tif (!systemName.equalsIgnoreCase(&quot;all&quot;)) {\r\n    \t\t\r\n    \t\t\t\tquery = &quot;from(bucket: \\&quot;events\\&quot;)&quot; +\r\n    \t\t\t\t  &quot;  |&gt; range(start: &quot;\r\n    \t\t\t\t+ startFromTimeUnit + &quot;)&quot;\r\n    \t\t\t\t+ &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_measurement\\&quot;] == \\&quot;NORCA-SYSTEM-TIMESERIES\\&quot;) &quot;\r\n    \t\t\t\t+ &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;System\\&quot;] == \\&quot;&quot;\r\n    \t\t\t\t+ systemName\r\n    \t\t\t\t+ &quot;\\&quot;) &quot;\r\n    \t\t\t\t+ &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_field\\&quot;] == \\&quot;objectCount\\&quot; or r[\\&quot;_field\\&quot;] == \\&quot;norcaErrorCount\\&quot;) &quot;\r\n    \t\t\t\t+ &quot;  |&gt; aggregateWindow(every: &quot;\r\n    \t\t\t\t+ groupByTimeUnit\r\n    \t\t\t\t+ &quot;, fn: sum, createEmpty: false) &quot;\r\n    \t\t\t\t+ &quot;  |&gt; yield(name: \\&quot;sum\\&quot;)&quot;;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tquery = &quot;from(bucket: \\&quot;events\\&quot;)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot;  |&gt; range(start: -3h)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_measurement\\&quot;] == \\&quot;NORCA-SYSTEM-TIMESERIES\\&quot;)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_field\\&quot;] == \\&quot;objectCount\\&quot; or r[\\&quot;_field\\&quot;] == \\&quot;norcaErrorCount\\&quot;)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot;  |&gt; aggregateWindow(every: 1m, fn: sum, createEmpty: false)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot;  |&gt; yield(name: \\&quot;sum\\&quot;)&quot;;\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tList&lt;FluxTable&gt; tables = client.getQueryApi().query(query, org);\r\n    \t\tLOG.info(&quot;read from influx&quot;);\r\n    \t\tfor (FluxTable table : tables) {\r\n    \t\t\tfor (FluxRecord record : table.getRecords()) {\r\n    \t\t\t\tLOG.error(record.getTime() + &quot; &quot; + record.getMeasurement() + &quot; &quot; + record.getField() + &quot; &quot; + record.getValue());\r\n    \t\t\t\t// System.out.println(record.getTime() + &quot; &quot; + record.getMeasurement() + &quot; &quot; + record.getField() + &quot; &quot; + record.getValue());\r\n    \t\t\t\r\n    \t\t\t\tInstant instant = record.getTime();\r\n    \t\t\t\t// ZoneId zone = ZoneId.of(&quot;UTC&quot;);\r\n    \t\t\t\tZoneId zone = ZoneId.systemDefault();\r\n    \t\t\t\tLocalDateTime localDateTime = LocalDateTime.ofInstant(instant, zone);\r\n    \t\t\t\tINorcaTotalsSystemDateDTO currentDTO = dtoMap.get(localDateTime);\r\n    \t\t\t\tif (currentDTO == null) {\r\n    \t\t\t\t\tcurrentDTO = new NorcaTotalsSystemDateDTO();\r\n    \t\t\t\t\tdtoMap.put(localDateTime, currentDTO);\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tMap&lt;String, Object&gt; tempMap = null;\r\n    \t\t\t\t\ttempMap = record.getValues();\r\n    \t\t\t\t\tfor (Map.Entry&lt;String, Object&gt; entry : tempMap.entrySet())\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t    System.out.println(&quot;key: &quot; + entry.getKey() + &quot;; value: &quot; + entry.getValue());\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\tcurrentDTO.setSystemName((String)tempMap.get(&quot;System&quot;));\r\n    \t\t\t\t\tcurrentDTO.setBarcodeType((String)tempMap.get(&quot;barcodeType&quot;));\r\n    \t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tLOG.info(&quot;current DTO was found! &quot; + localDateTime);\r\n    \t\t\t\t}\r\n    \t\t\t\tString formatted = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd hh:mm:ss&quot;).format(localDateTime);\r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\tcurrentDTO.setScanDate(formatted);\r\n    \t\t\t\tif (record.getField().equalsIgnoreCase(&quot;objectCount&quot;)) {\r\n    \t\t\t\t\r\n    \t\t\t\t\tobjectCount = (Long) record.getValue();\r\n    \t\t\t\t\tcurrentDTO.setTotalFeatures((objectCount.intValue()));\r\n    \t\t\t\t}\r\n    \t\t\t\tif (record.getField().equalsIgnoreCase(&quot;norcaErrorCount&quot;)) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tnorcaErrors = (Long) record.getValue();\r\n    \t\t\t\t\tcurrentDTO.setNonZeroFeatures(norcaErrors.intValue());\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t} // checked all rows\r\n    \t\t}\r\n\r\n\r\n\r\n\r\nWhen the systemName is &quot;all&quot;, it executes the second query\r\n\r\n    query = &quot;from(bucket: \\&quot;events\\&quot;)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot; |&gt; range(start: -3h)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot; |&gt; filter(fn: (r) =&gt; r[\\&quot;_measurement\\&quot;] == \\&quot;NORCA-SYSTEM-TIMESERIES\\&quot;)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot; |&gt; filter(fn: (r) =&gt; r[\\&quot;_field\\&quot;] == \\&quot;objectCount\\&quot; or r[\\&quot;_field\\&quot;] == \\&quot;norcaErrorCount\\&quot;)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot; |&gt; aggregateWindow(every: 1m, fn: sum, createEmpty: false)\\r\\n&quot; +\r\n    \t\t\t\t\t&quot; |&gt; yield(name: \\&quot;sum\\&quot;)&quot;;\r\n\r\nWhen I try to access the tags with this code (as shown above)\r\n\r\n    for (Map.Entry&lt;String, Object&gt; entry : tempMap.entrySet())\r\n    \t\t\t\t\t{\r\n    \t\t\t\t\t   System.out.println(&quot;key: &quot; + entry.getKey() + &quot;; value: &quot; + entry.getValue());\r\n    \t\t\t\t\t}\r\n\r\nIt only prints out one of the four lines - System &quot;01&quot; and barcode &quot;r&quot;\r\nThere should be four, as shown in the graph\r\n\r\nHow can I see all the tags?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/bzLlr.png\r\n\r\n\r\n","title":"Influx DB Java how to show tags associated with field","body":"<p>I have a question on accessing tag using Java.</p>\n<p>Here is a query that works great in the UI, with the results shown in the image below.</p>\n<pre><code>from(bucket: &quot;events&quot;)\n  |&gt; range(start: -3h)\n  |&gt; filter(fn: (r) =&gt; r[&quot;_measurement&quot;] == &quot;NORCA-SYSTEM-TIMESERIES&quot;)\n  |&gt; filter(fn: (r) =&gt; r[&quot;_field&quot;] == &quot;objectCount&quot; or r[&quot;_field&quot;] == &quot;norcaErrorCount&quot;)\n  |&gt; aggregateWindow(every: 1m, fn: sum, createEmpty: false)\n  |&gt; yield(name: &quot;sum&quot;)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bzLlr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bzLlr.png\" alt=\"Query results\" /></a></p>\n<p>From the above, you can see it returns results from two systems for two variables</p>\n<p>Here is the Java code which executes the same query:</p>\n<pre><code>@Override\n    public List&lt;INorcaTotalsSystemDateDTO&gt; norcaInfluxSystemTotalsByTimeUnit\n    (String systemName,\n            String org,\n            String bucket,\n            String cacheDatabase,\n            String groupByTimeUnit,\n            String startFromTimeUnit) {\n        String token = NorcaInfluxUtilsService.getInfluxToken();\n        String host = &quot;http://localhost:8086&quot;;\n    \n        LOG.info(&quot;running influx client&quot;);\n        InfluxDBClient client = NorcaInfluxUtilsService.getInfluxClient(host, token, org, bucket);\n        Map&lt;LocalDateTime, INorcaTotalsSystemDateDTO&gt; dtoMap = new HashMap&lt;&gt;();\n        Long norcaErrors = null;\n        Long objectCount = null;\n        String query = null;\n        \n        if (!systemName.equalsIgnoreCase(&quot;all&quot;)) {\n        \n                query = &quot;from(bucket: \\&quot;events\\&quot;)&quot; +\n                  &quot;  |&gt; range(start: &quot;\n                + startFromTimeUnit + &quot;)&quot;\n                + &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_measurement\\&quot;] == \\&quot;NORCA-SYSTEM-TIMESERIES\\&quot;) &quot;\n                + &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;System\\&quot;] == \\&quot;&quot;\n                + systemName\n                + &quot;\\&quot;) &quot;\n                + &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_field\\&quot;] == \\&quot;objectCount\\&quot; or r[\\&quot;_field\\&quot;] == \\&quot;norcaErrorCount\\&quot;) &quot;\n                + &quot;  |&gt; aggregateWindow(every: &quot;\n                + groupByTimeUnit\n                + &quot;, fn: sum, createEmpty: false) &quot;\n                + &quot;  |&gt; yield(name: \\&quot;sum\\&quot;)&quot;;\n        }\n        else {\n            query = &quot;from(bucket: \\&quot;events\\&quot;)\\r\\n&quot; +\n                    &quot;  |&gt; range(start: -3h)\\r\\n&quot; +\n                    &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_measurement\\&quot;] == \\&quot;NORCA-SYSTEM-TIMESERIES\\&quot;)\\r\\n&quot; +\n                    &quot;  |&gt; filter(fn: (r) =&gt; r[\\&quot;_field\\&quot;] == \\&quot;objectCount\\&quot; or r[\\&quot;_field\\&quot;] == \\&quot;norcaErrorCount\\&quot;)\\r\\n&quot; +\n                    &quot;  |&gt; aggregateWindow(every: 1m, fn: sum, createEmpty: false)\\r\\n&quot; +\n                    &quot;  |&gt; yield(name: \\&quot;sum\\&quot;)&quot;;\n            \n        }\n        \n        List&lt;FluxTable&gt; tables = client.getQueryApi().query(query, org);\n        LOG.info(&quot;read from influx&quot;);\n        for (FluxTable table : tables) {\n            for (FluxRecord record : table.getRecords()) {\n                LOG.error(record.getTime() + &quot; &quot; + record.getMeasurement() + &quot; &quot; + record.getField() + &quot; &quot; + record.getValue());\n                // System.out.println(record.getTime() + &quot; &quot; + record.getMeasurement() + &quot; &quot; + record.getField() + &quot; &quot; + record.getValue());\n            \n                Instant instant = record.getTime();\n                // ZoneId zone = ZoneId.of(&quot;UTC&quot;);\n                ZoneId zone = ZoneId.systemDefault();\n                LocalDateTime localDateTime = LocalDateTime.ofInstant(instant, zone);\n                INorcaTotalsSystemDateDTO currentDTO = dtoMap.get(localDateTime);\n                if (currentDTO == null) {\n                    currentDTO = new NorcaTotalsSystemDateDTO();\n                    dtoMap.put(localDateTime, currentDTO);\n                    \n                    Map&lt;String, Object&gt; tempMap = null;\n                    tempMap = record.getValues();\n                    for (Map.Entry&lt;String, Object&gt; entry : tempMap.entrySet())\n                    {\n                        System.out.println(&quot;key: &quot; + entry.getKey() + &quot;; value: &quot; + entry.getValue());\n                    }\n                    currentDTO.setSystemName((String)tempMap.get(&quot;System&quot;));\n                    currentDTO.setBarcodeType((String)tempMap.get(&quot;barcodeType&quot;));\n            \n                }\n                else {\n                    LOG.info(&quot;current DTO was found! &quot; + localDateTime);\n                }\n                String formatted = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd hh:mm:ss&quot;).format(localDateTime);\n                                \n                currentDTO.setScanDate(formatted);\n                if (record.getField().equalsIgnoreCase(&quot;objectCount&quot;)) {\n                \n                    objectCount = (Long) record.getValue();\n                    currentDTO.setTotalFeatures((objectCount.intValue()));\n                }\n                if (record.getField().equalsIgnoreCase(&quot;norcaErrorCount&quot;)) {\n                    \n                    norcaErrors = (Long) record.getValue();\n                    currentDTO.setNonZeroFeatures(norcaErrors.intValue());\n                }\n                \n                \n            } // checked all rows\n        }\n</code></pre>\n<p>When the systemName is &quot;all&quot;, it executes the second query</p>\n<pre><code>query = &quot;from(bucket: \\&quot;events\\&quot;)\\r\\n&quot; +\n                    &quot; |&gt; range(start: -3h)\\r\\n&quot; +\n                    &quot; |&gt; filter(fn: (r) =&gt; r[\\&quot;_measurement\\&quot;] == \\&quot;NORCA-SYSTEM-TIMESERIES\\&quot;)\\r\\n&quot; +\n                    &quot; |&gt; filter(fn: (r) =&gt; r[\\&quot;_field\\&quot;] == \\&quot;objectCount\\&quot; or r[\\&quot;_field\\&quot;] == \\&quot;norcaErrorCount\\&quot;)\\r\\n&quot; +\n                    &quot; |&gt; aggregateWindow(every: 1m, fn: sum, createEmpty: false)\\r\\n&quot; +\n                    &quot; |&gt; yield(name: \\&quot;sum\\&quot;)&quot;;\n</code></pre>\n<p>When I try to access the tags with this code (as shown above)</p>\n<pre><code>for (Map.Entry&lt;String, Object&gt; entry : tempMap.entrySet())\n                    {\n                       System.out.println(&quot;key: &quot; + entry.getKey() + &quot;; value: &quot; + entry.getValue());\n                    }\n</code></pre>\n<p>It only prints out one of the four lines - System &quot;01&quot; and barcode &quot;r&quot;\nThere should be four, as shown in the graph</p>\n<p>How can I see all the tags?</p>\n"},{"tags":["java","html","spring","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":4154342,"reputation":3562,"user_id":3405980,"accept_rate":69,"display_name":"harshavmb"},"score":0,"creation_date":1657552072,"post_id":72940598,"comment_id":128831636,"body_markdown":"Any redirects configured at webserver layer? Do you see `300*` response codes when you click on `href`? You can check this via browser console.","body":"Any redirects configured at webserver layer? Do you see <code>300*</code> response codes when you click on <code>href</code>? You can check this via browser console."},{"owner":{"account_id":21087616,"reputation":303,"user_id":15500332,"display_name":"Vel_More"},"score":0,"creation_date":1657573835,"post_id":72940598,"comment_id":128838780,"body_markdown":"@harshavmb I checked. Indeed there are some blocked and cancelled parameters. I updated my question with pictures.","body":"@harshavmb I checked. Indeed there are some blocked and cancelled parameters. I updated my question with pictures."}],"owner":{"account_id":21087616,"reputation":303,"user_id":15500332,"display_name":"Vel_More"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657573900,"creation_date":1657551610,"question_id":72940598,"body_markdown":"I&#39;ve created a Spring Boot App, in which I am fetching data from external API, store them in database and then displaying them back at front-end in HTML using Thymeleaf. Everything works perfectly fine except one thing.\r\n\r\nOne of the columns in db, has the name &quot;Headline&quot; which is mapped as String variable. I am using this variable as hyperlink in my Spring Boot app combined with URLs stored in the same database, to redirect to the source of them. Below I am showing my front-end code.\r\n\r\n**Front-End Page**\r\n```\r\n&lt;!DOCTYPE HTML&gt;\r\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:c=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n      xmlns:https=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;utf-8&quot;&gt;\r\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\r\n\r\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\r\n\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/styles/db.css}&quot;/&gt;\r\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n&lt;ul&gt;\r\n    &lt;li&gt;&lt;a href=&quot;http://localhost:8080/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=&quot;https://github.com/Andreas-Kreouzos&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a th:href=&quot;@{https://github.com/Andreas-Kreouzos}&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\r\n\r\n    &lt;div class=&quot;starter-template&quot;&gt;\r\n        &lt;h1&gt;Cryptocurrency News&lt;/h1&gt;\r\n    &lt;/div&gt;\r\n\r\n&lt;/main&gt;\r\n    &lt;!--Display DB contents on HTML and Thymeleaf--&gt;\r\n    &lt;div class=&quot;container text-center&quot; id=&quot;tasksDiv&quot;&gt;\r\n        &lt;hr&gt;\r\n        &lt;div class=&quot;table-responsive&quot;&gt;\r\n            &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\r\n                &lt;thead&gt;\r\n                &lt;tr&gt;\r\n                    &lt;th&gt;News Provider Name&lt;/th&gt;\r\n                    &lt;th&gt;News Link&lt;/th&gt;\r\n                    &lt;th&gt;Related Image&lt;/th&gt;\r\n                &lt;/tr&gt;\r\n                &lt;/thead&gt;\r\n                &lt;tbody&gt;\r\n                    &lt;tr th:each=&quot;rate: ${rates}&quot;&gt;\r\n                        &lt;td th:text=&quot;${rate.news_provider_name}&quot;&gt; &lt;/td&gt;\r\n                        &lt;td&gt;\r\n                            &lt;a\r\n                                    th:href=&quot;@{${rate.news_link}}&quot;\r\n                                    target=&quot;_blank&quot;\r\n                                    th:text=&quot;${rate.HEADLINE}&quot;&gt;\r\n                            &lt;/a&gt;\r\n                        &lt;/td&gt;\r\n                        &lt;td&gt; &lt;img th:src=&quot;${rate.related_image}&quot; alt=&quot;error displaying image&quot;&gt; &lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                &lt;/tbody&gt;\r\n            &lt;/table&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nWhen I am running my application everything displays just fine, but as soon as I press the texted hyperlinks, I am redirected at the home page instead of the given URLs which I&#39;ve stored in my DB. Below, I am showing you my printscreen in which you can definitely see that URLs have been fetched and assigned properly, when I am hovering my cursor above them in my browser, just before I press them. But as soon as they do get pressed, I am getting redirection [here](https://www.investing.com/), instead of\r\n[here](https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626).\r\n\r\nAny ideas about what am I doing wrong?\r\n\r\n[![Browser View][1]][1]\r\n\r\n\r\n**UPDATE**\r\n\r\nIn the above code I changed the `th:href=&quot;${rate.news_link}` to `th:href=&quot;@{${rate.news_link}}` but still nothing works. If, for example, my initial URL is\r\n\r\n    https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626\r\n\r\ngets chopped off to `https://www.investing.com/`\r\n\r\n[![Broswer Console][2]][2]\r\n\r\n\r\n[![Broswer Console 2][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gSkZn.png\r\n  [2]: https://i.stack.imgur.com/bhafY.png\r\n  [3]: https://i.stack.imgur.com/D70lO.png","title":"Thymeleaf URL Forwarding Problem to External URL in Spring Boot App","body":"<p>I've created a Spring Boot App, in which I am fetching data from external API, store them in database and then displaying them back at front-end in HTML using Thymeleaf. Everything works perfectly fine except one thing.</p>\n<p>One of the columns in db, has the name &quot;Headline&quot; which is mapped as String variable. I am using this variable as hyperlink in my Spring Boot app combined with URLs stored in the same database, to redirect to the source of them. Below I am showing my front-end code.</p>\n<p><strong>Front-End Page</strong></p>\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html lang=&quot;en&quot; xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns:c=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n      xmlns:https=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot;&gt;\n    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1, shrink-to-fit=no&quot;&gt;\n\n    &lt;title&gt;Spring Boot Thymeleaf Hello World Example&lt;/title&gt;\n\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/webjars/bootstrap/css/bootstrap.min.css}&quot;/&gt;\n    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@{/styles/db.css}&quot;/&gt;\n    &lt;script type=&quot;text/javascript&quot; th:src=&quot;@{/webjars/bootstrap/js/bootstrap.min.js}&quot;&gt;&lt;/script&gt;\n\n\n&lt;/head&gt;\n\n&lt;body&gt;\n\n&lt;ul&gt;\n    &lt;li&gt;&lt;a href=&quot;http://localhost:8080/&quot;&gt;Home&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a href=&quot;https://github.com/Andreas-Kreouzos&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;a th:href=&quot;@{https://github.com/Andreas-Kreouzos}&quot; target=&quot;_blank&quot;&gt;Github&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;main role=&quot;main&quot; class=&quot;container&quot;&gt;\n\n    &lt;div class=&quot;starter-template&quot;&gt;\n        &lt;h1&gt;Cryptocurrency News&lt;/h1&gt;\n    &lt;/div&gt;\n\n&lt;/main&gt;\n    &lt;!--Display DB contents on HTML and Thymeleaf--&gt;\n    &lt;div class=&quot;container text-center&quot; id=&quot;tasksDiv&quot;&gt;\n        &lt;hr&gt;\n        &lt;div class=&quot;table-responsive&quot;&gt;\n            &lt;table class=&quot;table table-striped table-bordered&quot;&gt;\n                &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;News Provider Name&lt;/th&gt;\n                    &lt;th&gt;News Link&lt;/th&gt;\n                    &lt;th&gt;Related Image&lt;/th&gt;\n                &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr th:each=&quot;rate: ${rates}&quot;&gt;\n                        &lt;td th:text=&quot;${rate.news_provider_name}&quot;&gt; &lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;a\n                                    th:href=&quot;@{${rate.news_link}}&quot;\n                                    target=&quot;_blank&quot;\n                                    th:text=&quot;${rate.HEADLINE}&quot;&gt;\n                            &lt;/a&gt;\n                        &lt;/td&gt;\n                        &lt;td&gt; &lt;img th:src=&quot;${rate.related_image}&quot; alt=&quot;error displaying image&quot;&gt; &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>When I am running my application everything displays just fine, but as soon as I press the texted hyperlinks, I am redirected at the home page instead of the given URLs which I've stored in my DB. Below, I am showing you my printscreen in which you can definitely see that URLs have been fetched and assigned properly, when I am hovering my cursor above them in my browser, just before I press them. But as soon as they do get pressed, I am getting redirection <a href=\"https://www.investing.com/\" rel=\"nofollow noreferrer\">here</a>, instead of\n<a href=\"https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Any ideas about what am I doing wrong?</p>\n<p><a href=\"https://i.stack.imgur.com/gSkZn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gSkZn.png\" alt=\"Browser View\" /></a></p>\n<p><strong>UPDATE</strong></p>\n<p>In the above code I changed the <code>th:href=&quot;${rate.news_link}</code> to <code>th:href=&quot;@{${rate.news_link}}</code> but still nothing works. If, for example, my initial URL is</p>\n<pre><code>https://www.investing.com/news/cryptocurrency-news/tether-liquidates-celsius-position-with-no-losses-to-stablecoin-issuer-2845626\n</code></pre>\n<p>gets chopped off to <code>https://www.investing.com/</code></p>\n<p><a href=\"https://i.stack.imgur.com/bhafY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/bhafY.png\" alt=\"Broswer Console\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/D70lO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D70lO.png\" alt=\"Broswer Console 2\" /></a></p>\n"},{"tags":["java","spring-boot","ubuntu"],"comments":[{"owner":{"account_id":10637559,"reputation":2455,"user_id":7833793,"display_name":"R4N"},"score":1,"creation_date":1657573277,"post_id":72944514,"comment_id":128838629,"body_markdown":"Is this answer helpful? https://stackoverflow.com/a/50232382/7833793","body":"Is this answer helpful? <a href=\"https://stackoverflow.com/a/50232382/7833793\">stackoverflow.com/a/50232382/7833793</a>"}],"answers":[{"tags":[],"owner":{"account_id":3509735,"reputation":979,"user_id":2970627,"accept_rate":35,"display_name":"Alex Bondar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657573797,"creation_date":1657573797,"answer_id":72944707,"question_id":72944514,"body_markdown":"Made a dummy mistake in main. \r\n\r\nWas failing because of \r\n\r\n     public static void main(String[] args) {\r\n          SpringApplication.run(SpringApplication.class,args);\r\n      }","title":"SpringBoot app fails to start with weird exception","body":"<p>Made a dummy mistake in main.</p>\n<p>Was failing because of</p>\n<pre><code> public static void main(String[] args) {\n      SpringApplication.run(SpringApplication.class,args);\n  }\n</code></pre>\n"}],"owner":{"account_id":3509735,"reputation":979,"user_id":2970627,"accept_rate":35,"display_name":"Alex Bondar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":841,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657573797,"creation_date":1657572541,"question_id":72944514,"body_markdown":"My freshly-created app written on springboot-2.7.1 fails to start with the following error\r\n\r\n&gt; Caused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;/home/abondar/.sdkman/candidates/java/21.3.0.r17-grl/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\nAbsolutely weird. I have another app writeen 0n 2.6.3 running perfectly on the same jvm. Also downgrading of this app to 2.6.3 doesn&#39;t help.\r\n\r\n\r\nHere is build.gradle\r\n\r\n        plugins {\r\n        id &quot;java&quot;\r\n        id &quot;idea&quot;\r\n        id &quot;org.springframework.boot&quot; version &quot;$springBootVersion&quot;\r\n    }\r\n    \r\n    apply plugin: &quot;java&quot;\r\n    apply plugin: &quot;io.spring.dependency-management&quot;\r\n    \r\n    group &quot;org.abondar.experimental.cameldemo&quot;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n    \r\n    \r\n        repositories {\r\n            mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n    implementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\r\n    implementation(&#39;ch.qos.logback:logback-core:1.2.11&#39;)\r\n\r\n\r\n    testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n    }\r\n\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    bootBuildImage {\r\n        imageName = &quot;abondar/shoppingCart&quot;\r\n    }\r\n\r\nFrom logs I can see the following\r\n\r\n&gt; Exception encountered during context initialization - cancelling\r\n&gt; refresh attempt:\r\n&gt; org.springframework.context.ApplicationContextException: Unable to\r\n&gt; start web server; nested exception is\r\n&gt; org.springframework.boot.web.context.MissingWebServerFactoryBeanException:\r\n&gt; No qualifying bean of type\r\n&gt; &#39;org.springframework.boot.web.servlet.server.ServletWebServerFactory&#39;\r\n&gt; available: Unable to start\r\n&gt; AnnotationConfigServletWebServerApplicationContext due to missing\r\n&gt; ServletWebServerFactory bean 681 [main] ERROR\r\n&gt; o.s.b.d.LoggingFailureAnalysisReporter -\r\n\r\n\r\nWhat am I missing here?","title":"SpringBoot app fails to start with weird exception","body":"<p>My freshly-created app written on springboot-2.7.1 fails to start with the following error</p>\n<blockquote>\n<p>Caused by: org.gradle.process.internal.ExecException: Process 'command '/home/abondar/.sdkman/candidates/java/21.3.0.r17-grl/bin/java'' finished with non-zero exit value 1</p>\n</blockquote>\n<p>Absolutely weird. I have another app writeen 0n 2.6.3 running perfectly on the same jvm. Also downgrading of this app to 2.6.3 doesn't help.</p>\n<p>Here is build.gradle</p>\n<pre><code>    plugins {\n    id &quot;java&quot;\n    id &quot;idea&quot;\n    id &quot;org.springframework.boot&quot; version &quot;$springBootVersion&quot;\n}\n\napply plugin: &quot;java&quot;\napply plugin: &quot;io.spring.dependency-management&quot;\n\ngroup &quot;org.abondar.experimental.cameldemo&quot;\nversion '1.0-SNAPSHOT'\n\n\n    repositories {\n        mavenCentral()\n}\n\ndependencies {\n\nimplementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\nimplementation(&quot;org.springframework.boot:spring-boot-starter-actuator&quot;)\nimplementation('ch.qos.logback:logback-core:1.2.11')\n\n\ntestImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\n}\n\ntest {\n    useJUnitPlatform()\n}\n\nbootBuildImage {\n    imageName = &quot;abondar/shoppingCart&quot;\n}\n</code></pre>\n<p>From logs I can see the following</p>\n<blockquote>\n<p>Exception encountered during context initialization - cancelling\nrefresh attempt:\norg.springframework.context.ApplicationContextException: Unable to\nstart web server; nested exception is\norg.springframework.boot.web.context.MissingWebServerFactoryBeanException:\nNo qualifying bean of type\n'org.springframework.boot.web.servlet.server.ServletWebServerFactory'\navailable: Unable to start\nAnnotationConfigServletWebServerApplicationContext due to missing\nServletWebServerFactory bean 681 [main] ERROR\no.s.b.d.LoggingFailureAnalysisReporter -</p>\n</blockquote>\n<p>What am I missing here?</p>\n"},{"tags":["java","casting","int","micro-optimization"],"comments":[{"owner":{"account_id":289676,"reputation":18494,"user_id":590790,"accept_rate":70,"display_name":"Steven Jeuris"},"score":4,"creation_date":1305229012,"post_id":5983472,"comment_id":6906948,"body_markdown":"A quick simple benchmark should solve your question. I&#39;m guessing you shouldn&#39;t worry too much about the performance.","body":"A quick simple benchmark should solve your question. I&#39;m guessing you shouldn&#39;t worry too much about the performance."}],"answers":[{"tags":[],"owner":{"account_id":110937,"reputation":10882,"user_id":293330,"display_name":"Kaj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1305229034,"creation_date":1305229034,"answer_id":5983501,"question_id":5983472,"body_markdown":"You can neglect the cost of that cast. You won&#39;t notice thousands of such casts.\r\n","title":"How expensive it is to cast from int to short in Java","body":"<p>You can neglect the cost of that cast. You won't notice thousands of such casts.</p>\n"},{"tags":[],"owner":{"account_id":287824,"reputation":38852,"user_id":587884,"accept_rate":86,"display_name":"Heisenbug"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1305229045,"creation_date":1305229045,"answer_id":5983505,"question_id":5983472,"body_markdown":"No. It won&#39;t impact performances. It is a single simple operation.\r\nWhen you want to analize performances of a software you better focus on the computational cost of algorithmic operations based on the size of input.","title":"How expensive it is to cast from int to short in Java","body":"<p>No. It won't impact performances. It is a single simple operation.\nWhen you want to analize performances of a software you better focus on the computational cost of algorithmic operations based on the size of input.</p>\n"},{"tags":[],"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305229287,"creation_date":1305229287,"answer_id":5983554,"question_id":5983472,"body_markdown":"I think the safe practice is to not worry about performance until you have a performance problem. And when you do have a performance problem, it&#39;s extremely likely that in most business applications the majority of an applications sluggishness can be accounted for in its interactions with the disk and/or network. I think it&#39;s very unlikely that micro optimizations like this will have much of an impact on your performance.","title":"How expensive it is to cast from int to short in Java","body":"<p>I think the safe practice is to not worry about performance until you have a performance problem. And when you do have a performance problem, it's extremely likely that in most business applications the majority of an applications sluggishness can be accounted for in its interactions with the disk and/or network. I think it's very unlikely that micro optimizations like this will have much of an impact on your performance.</p>\n"},{"tags":[],"owner":{"account_id":111302,"reputation":4393,"user_id":294097,"accept_rate":67,"display_name":"John Kane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305230740,"creation_date":1305229298,"answer_id":5983556,"question_id":5983472,"body_markdown":"Why do you need to do this? I do not think that it would effect performance that much, but keep in mind the range of the data type you need: \r\n\r\n    int:   -2,147,483,648 to 2,147,483,647\r\n    short: -32,768 to 32,767","title":"How expensive it is to cast from int to short in Java","body":"<p>Why do you need to do this? I do not think that it would effect performance that much, but keep in mind the range of the data type you need: </p>\n\n<pre><code>int:   -2,147,483,648 to 2,147,483,647\nshort: -32,768 to 32,767\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1305230910,"creation_date":1305230910,"answer_id":5983843,"question_id":5983472,"body_markdown":"The cast is small compared with loading a int from memory or storing a short.  In any case they all cost about 2 nano-second.  If you do thousands of these it will cost a few micro-seconds.","title":"How expensive it is to cast from int to short in Java","body":"<p>The cast is small compared with loading a int from memory or storing a short.  In any case they all cost about 2 nano-second.  If you do thousands of these it will cost a few micro-seconds.</p>\n"},{"tags":[],"owner":{"account_id":5786048,"reputation":1847,"user_id":4565235,"display_name":"David Lilljegren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1433008053,"creation_date":1433008053,"answer_id":30549396,"question_id":5983472,"body_markdown":"Below is a test for the long case, but can easily be adapted to short.\r\nCasting the int to a long is in this example about 5% slower compared to just passing in the long.\r\n\r\nInterestingly calling the method using an implicit cast is slower thank casting it yourself. \r\n\r\n\r\n   With no cast      : PT0.141517096S\r\n   With cast         : PT0.148024511S\r\n   With implicit cast: PT0.159904349S\r\n\r\n    @Test\r\n    public void testPerformance(){\r\n        long sum =0L;\r\n        long timeCallWithImplicitCast =0;\r\n        long timeCallWithLong =0;\r\n        long timeCallWithCast =0;\r\n\r\n\r\n        for(int j=0;j&lt;2;j++) {//First run warm-up\r\n            timeCallWithCast=0;\r\n            timeCallWithLong=0;\r\n            timeCallWithImplicitCast=0;\r\n            for (int i = 0; i &lt; 10_000_000; i++) {\r\n                long s1 = System.nanoTime();\r\n                sum += shift(i);//Call with int implicit cast\r\n                long e1 = System.nanoTime();\r\n                timeCallWithImplicitCast += (e1 - s1);\r\n            }\r\n            for (int i = 0; i &lt; 10_000_000; i++) {\r\n                long s3 = System.nanoTime();\r\n                sum += shift((long) i);//Call with cast long\r\n                long e3 = System.nanoTime();\r\n                timeCallWithCast += (e3 - s3);\r\n            }\r\n            for (int i = 0; i &lt; 10_000_000; i++) {\r\n                long l = (long) i;\r\n                long s2 = System.nanoTime();\r\n                sum += shift(l);//Call with long\r\n                long e2 = System.nanoTime();\r\n                timeCallWithLong += (e2 - s2);\r\n            }\r\n        }\r\n        System.out.println(&quot;With no cast      : &quot;+ Duration.ofNanos(timeCallWithLong));\r\n        System.out.println(&quot;With cast         : &quot;+Duration.ofNanos(timeCallWithCast));\r\n        System.out.println(&quot;With implicit cast: &quot;+Duration.ofNanos(timeCallWithImplicitCast));\r\n\r\n    }\r\n\r\n    protected long shift(long index){\r\n        return index &lt;&lt; 4;\r\n    }","title":"How expensive it is to cast from int to short in Java","body":"<p>Below is a test for the long case, but can easily be adapted to short.\nCasting the int to a long is in this example about 5% slower compared to just passing in the long.</p>\n\n<p>Interestingly calling the method using an implicit cast is slower thank casting it yourself. </p>\n\n<p>With no cast      : PT0.141517096S\n   With cast         : PT0.148024511S\n   With implicit cast: PT0.159904349S</p>\n\n<pre><code>@Test\npublic void testPerformance(){\n    long sum =0L;\n    long timeCallWithImplicitCast =0;\n    long timeCallWithLong =0;\n    long timeCallWithCast =0;\n\n\n    for(int j=0;j&lt;2;j++) {//First run warm-up\n        timeCallWithCast=0;\n        timeCallWithLong=0;\n        timeCallWithImplicitCast=0;\n        for (int i = 0; i &lt; 10_000_000; i++) {\n            long s1 = System.nanoTime();\n            sum += shift(i);//Call with int implicit cast\n            long e1 = System.nanoTime();\n            timeCallWithImplicitCast += (e1 - s1);\n        }\n        for (int i = 0; i &lt; 10_000_000; i++) {\n            long s3 = System.nanoTime();\n            sum += shift((long) i);//Call with cast long\n            long e3 = System.nanoTime();\n            timeCallWithCast += (e3 - s3);\n        }\n        for (int i = 0; i &lt; 10_000_000; i++) {\n            long l = (long) i;\n            long s2 = System.nanoTime();\n            sum += shift(l);//Call with long\n            long e2 = System.nanoTime();\n            timeCallWithLong += (e2 - s2);\n        }\n    }\n    System.out.println(\"With no cast      : \"+ Duration.ofNanos(timeCallWithLong));\n    System.out.println(\"With cast         : \"+Duration.ofNanos(timeCallWithCast));\n    System.out.println(\"With implicit cast: \"+Duration.ofNanos(timeCallWithImplicitCast));\n\n}\n\nprotected long shift(long index){\n    return index &lt;&lt; 4;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2056278,"reputation":23340,"user_id":1833961,"accept_rate":54,"display_name":"bvdb"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657572268,"creation_date":1438439339,"answer_id":31762926,"question_id":5983472,"body_markdown":"Leaving philosophical arguments and excuses aside ...\r\n\r\nFirst of all `short` is a special data type. **Java doesn&#39;t really like `short`.** Java actually really loves `int` because **the JVM stack uses 32 bit registers**. And a `short` is a 16-bit datatype (`int` = 32-bit).\r\n\r\nBecause of the 32-bit structure, whenever java moves a short to the stack it is automatically converted to an integer. So, the first thing to wonder about is really, do I want to use `short`&#39;s at all in java ? They come indeed with a cost. That&#39;s why you will rarely ever see any `short` datatype usages in jdk sourcecode.\r\n\r\nThe JVM uses **the [`i2s`][1] operation** when converting an integer to a short. **The exact cost will depend on what JVM you are using and your hardware.** \r\n\r\nYou can find some of the stats [in this paper][2], But the `i2s` is not listed unfortunately. It should take less than 20ns though.\r\n\r\n  [1]: http://cs.au.dk/~mis/dOvs/jvmspec/ref-_i2s.html\r\n  [2]: http://www.cs.nuim.ie/~jpower/Research/Papers/2008/lambert-qapl08.pdf","title":"How expensive it is to cast from int to short in Java","body":"<p>Leaving philosophical arguments and excuses aside ...</p>\n<p>First of all <code>short</code> is a special data type. <strong>Java doesn't really like <code>short</code>.</strong> Java actually really loves <code>int</code> because <strong>the JVM stack uses 32 bit registers</strong>. And a <code>short</code> is a 16-bit datatype (<code>int</code> = 32-bit).</p>\n<p>Because of the 32-bit structure, whenever java moves a short to the stack it is automatically converted to an integer. So, the first thing to wonder about is really, do I want to use <code>short</code>'s at all in java ? They come indeed with a cost. That's why you will rarely ever see any <code>short</code> datatype usages in jdk sourcecode.</p>\n<p>The JVM uses <strong>the <a href=\"http://cs.au.dk/%7Emis/dOvs/jvmspec/ref-_i2s.html\" rel=\"nofollow noreferrer\"><code>i2s</code></a> operation</strong> when converting an integer to a short. <strong>The exact cost will depend on what JVM you are using and your hardware.</strong></p>\n<p>You can find some of the stats <a href=\"http://www.cs.nuim.ie/%7Ejpower/Research/Papers/2008/lambert-qapl08.pdf\" rel=\"nofollow noreferrer\">in this paper</a>, But the <code>i2s</code> is not listed unfortunately. It should take less than 20ns though.</p>\n"}],"owner":{"account_id":262976,"reputation":7161,"user_id":548240,"accept_rate":81,"display_name":"skyork"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3056,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":5983505,"answer_count":7,"score":1,"last_activity_date":1657572268,"creation_date":1305228888,"question_id":5983472,"body_markdown":"In terms of runtime performance, how expensive it is to cast int to short in Java? There may be thousands of such casting, hence I wonder if it would impact the performance or not. Thanks.","title":"How expensive it is to cast from int to short in Java","body":"<p>In terms of runtime performance, how expensive it is to cast int to short in Java? There may be thousands of such casting, hence I wonder if it would impact the performance or not. Thanks.</p>\n"},{"tags":["java","sorting","jpa","spring-data-jpa","nativequery"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1657610612,"post_id":72943923,"comment_id":128845263,"body_markdown":"&quot;better&quot; in what way? The query looks perfectly fine to me.","body":"&quot;better&quot; in what way? The query looks perfectly fine to me."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1657633472,"post_id":72943923,"comment_id":128853565,"body_markdown":"What did you try exactly and why didn&#39;t it work? Why isn&#39;t &quot;select s from Suceso s join s.personas p, join s.fecha f where p.idpersona = :id order by f.edad asc, f.anyo asc, f.mes asc, f.dia asc, s.norden&quot; working?","body":"What did you try exactly and why didn&#39;t it work? Why isn&#39;t &quot;select s from Suceso s join s.personas p, join s.fecha f where p.idpersona = :id order by f.edad asc, f.anyo asc, f.mes asc, f.dia asc, s.norden&quot; working?"},{"owner":{"account_id":16506868,"reputation":1,"user_id":12232566,"display_name":"alicia_tux"},"score":0,"creation_date":1658420683,"post_id":72943923,"comment_id":129052873,"body_markdown":"it works, but i looks &quot;dirty&quot; to me using native queries in source code :(","body":"it works, but i looks &quot;dirty&quot; to me using native queries in source code :("}],"owner":{"account_id":16506868,"reputation":1,"user_id":12232566,"display_name":"alicia_tux"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657569921,"creation_date":1657568984,"question_id":72943923,"body_markdown":"due to requirements (fictional calendar for fictional world, I can&#39;t use a real date format), the complexity of fictional dates in this project is giving me some headache. \r\nSo, I want to recover all Sucesos (events) for a Persona (character) ordered by this fictional date, and I have written this functional nativeQuery, that works ok:\r\n\r\n    @Query(value = &quot;select * from Suceso s &quot;\r\n\t\t\t+ &quot;inner join personasuceso ps on s.idsuceso = ps.idsuceso &quot;\r\n\t\t\t+ &quot;inner join persona p on ps.idpersona = p.idpersona &quot;\r\n\t\t\t+ &quot;inner join fecha f on s.fkfecha = f.idfecha &quot;\r\n\t\t\t+ &quot;where p.idpersona = :id &quot;\r\n\t\t\t+ &quot;order by f.fkedad asc, f.anyo asc, f.fkmes asc, f.fkdia asc, s.norden&quot;, nativeQuery = true)\r\n\tpublic Set&lt;Suceso&gt; findAllInPersona_IdPersona(@Param(&quot;id&quot;)Integer id);\r\n\r\n**Is there a better way to implement such a complex ordering??**\r\nI have tried everything I know and everything I found, no success. \r\n\r\nHere are the Entities (simplified):\r\n\r\n   &lt;pre&gt;&lt;code&gt;\r\n\r\n    @Entity\r\n    @Table(name = &quot;persona&quot;)\r\n    public class Persona implements java.io.Serializable {\r\n       private Integer idpersona;\r\n       @ManyToMany(mappedBy = &quot;personas&quot;)\r\n       public Set&lt;Suceso&gt; getSucesos() {\r\n          return sucesos;\r\n       }\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;suceso&quot;)\r\n    public class Suceso implements java.io.Serializable {\r\n       private Integer idsuceso;\r\n       private Fecha fecha;\r\n       private integer norden;\r\n        @ManyToOne()\r\n    \t@JoinColumn(name = &quot;fkfecha&quot;)\r\n    \tpublic Fecha getFecha() {\r\n    \t\treturn this.fecha;\r\n    \t}\r\n        @ManyToMany(cascade = { CascadeType.PERSIST, CascadeType.MERGE })\r\n    \t@JoinTable(name = &quot;personasuceso&quot;, joinColumns = { @JoinColumn(name = &quot;idsuceso&quot;) }, inverseJoinColumns = {\r\n    \t\t\t@JoinColumn(name = &quot;idpersona&quot;) })\r\n    \tpublic Set&lt;Persona&gt; getPersonas() {\r\n    \t\treturn personas;\r\n    \t}\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;fecha&quot;)\r\n    public class Fecha implements java.io.Serializable {\r\n        private Integer idfecha;\r\n    \tprivate Dia dia;\r\n    \tprivate Edad edad;\r\n    \tprivate Mes mes;\r\n    \tprivate Integer anyo;\r\n        \r\n        @ManyToOne()\r\n    \t@JoinColumn(name = &quot;fkedad&quot;)\r\n    \tpublic Edad getEdad() {\r\n    \t\treturn this.edad;\r\n    \t}\r\n    \r\n        @ManyToOne()\r\n    \t@JoinColumn(name = &quot;fkmes&quot;)\r\n    \tpublic Mes getMes() {\r\n    \t\treturn this.mes;\r\n    \t}\r\n        \r\n        @ManyToOne()\r\n    \t@JoinColumn(name = &quot;fkdia&quot;)\r\n    \tpublic Dia getDia() {\r\n    \t\treturn this.dia;\r\n    \t}\r\n    }\r\n        \r\n    @Entity\r\n    @Table(name = &quot;edad&quot;)\r\n    public class Edad implements java.io.Serializable {\r\n        private Integer idedad;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;mes&quot;)\r\n    public class Mes implements java.io.Serializable {\r\n        private Integer idmes;\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;dia&quot;)\r\n    public class Dia implements java.io.Serializable {\r\n        private Integer iddia;\r\n    }\r\n\r\n&lt;/pre&gt;&lt;/code&gt;\r\n\r\nThanks!!","title":"JpaRepository, don&#39;t now how to migrate NativeQuery to something better due to complex sorting sequence","body":"<p>due to requirements (fictional calendar for fictional world, I can't use a real date format), the complexity of fictional dates in this project is giving me some headache.\nSo, I want to recover all Sucesos (events) for a Persona (character) ordered by this fictional date, and I have written this functional nativeQuery, that works ok:</p>\n<pre><code>@Query(value = &quot;select * from Suceso s &quot;\n        + &quot;inner join personasuceso ps on s.idsuceso = ps.idsuceso &quot;\n        + &quot;inner join persona p on ps.idpersona = p.idpersona &quot;\n        + &quot;inner join fecha f on s.fkfecha = f.idfecha &quot;\n        + &quot;where p.idpersona = :id &quot;\n        + &quot;order by f.fkedad asc, f.anyo asc, f.fkmes asc, f.fkdia asc, s.norden&quot;, nativeQuery = true)\npublic Set&lt;Suceso&gt; findAllInPersona_IdPersona(@Param(&quot;id&quot;)Integer id);\n</code></pre>\n<p><strong>Is there a better way to implement such a complex ordering??</strong>\nI have tried everything I know and everything I found, no success.</p>\n<p>Here are the Entities (simplified):</p>\n   <pre><code>\n\n    @Entity\n    @Table(name = \"persona\")\n    public class Persona implements java.io.Serializable {\n       private Integer idpersona;\n       @ManyToMany(mappedBy = \"personas\")\n       public Set getSucesos() {\n          return sucesos;\n       }\n    }\n    \n    @Entity\n    @Table(name = \"suceso\")\n    public class Suceso implements java.io.Serializable {\n       private Integer idsuceso;\n       private Fecha fecha;\n       private integer norden;\n        @ManyToOne()\n        @JoinColumn(name = \"fkfecha\")\n        public Fecha getFecha() {\n            return this.fecha;\n        }\n        @ManyToMany(cascade = { CascadeType.PERSIST, CascadeType.MERGE })\n        @JoinTable(name = \"personasuceso\", joinColumns = { @JoinColumn(name = \"idsuceso\") }, inverseJoinColumns = {\n                @JoinColumn(name = \"idpersona\") })\n        public Set getPersonas() {\n            return personas;\n        }\n    }\n    \n    @Entity\n    @Table(name = \"fecha\")\n    public class Fecha implements java.io.Serializable {\n        private Integer idfecha;\n        private Dia dia;\n        private Edad edad;\n        private Mes mes;\n        private Integer anyo;\n        \n        @ManyToOne()\n        @JoinColumn(name = \"fkedad\")\n        public Edad getEdad() {\n            return this.edad;\n        }\n    \n        @ManyToOne()\n        @JoinColumn(name = \"fkmes\")\n        public Mes getMes() {\n            return this.mes;\n        }\n        \n        @ManyToOne()\n        @JoinColumn(name = \"fkdia\")\n        public Dia getDia() {\n            return this.dia;\n        }\n    }\n        \n    @Entity\n    @Table(name = \"edad\")\n    public class Edad implements java.io.Serializable {\n        private Integer idedad;\n    }\n    \n    @Entity\n    @Table(name = \"mes\")\n    public class Mes implements java.io.Serializable {\n        private Integer idmes;\n    }\n    \n    @Entity\n    @Table(name = \"dia\")\n    public class Dia implements java.io.Serializable {\n        private Integer iddia;\n    }\n\n</pre></code>\n<p>Thanks!!</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":21018259,"reputation":1802,"user_id":15445218,"display_name":"Vaibhav Goyal"},"score":0,"creation_date":1657592639,"post_id":72944034,"comment_id":128841908,"body_markdown":"Starting with Android 11, you can&#39;t directly write files to the storage directory path instead you must use `MediaQuery` classes which you can learn more here, https://www.raywenderlich.com/10768834-scoped-storage-tutorial-for-android-11-deep-dive","body":"Starting with Android 11, you can&#39;t directly write files to the storage directory path instead you must use <code>MediaQuery</code> classes which you can learn more here, <a href=\"https://www.raywenderlich.com/10768834-scoped-storage-tutorial-for-android-11-deep-dive\" rel=\"nofollow noreferrer\">raywenderlich.com/&hellip;</a>"}],"owner":{"account_id":24419837,"reputation":21,"user_id":18346256,"display_name":"Brian Kunak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1657569652,"creation_date":1657569652,"question_id":72944034,"body_markdown":"I switched from `Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES)` to the supported `getExternalFilesDir(Environment.DIRECTORY_PICTURES)` but now when an image is taken the camera app stops and the image isn&#39;t accessible. Using android 12.0 API 31.\r\n\r\n```\r\nprivate File createImageFile() throws IOException {\r\n        // Create an image file name\r\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\r\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\r\n        File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\r\n        //File storageDir = getExternalFilesDir(null).getAbsoluteFile();\r\n\r\n        File imageFile = File.createTempFile(\r\n                imageFileName,  /* prefix */\r\n                &quot;.jpg&quot;,         /* suffix */\r\n                storageDir      /* directory */\r\n        );\r\n\r\n        System.out.print(storageDir);\r\n\r\n        return imageFile;\r\n    }\r\n```\r\n\r\n```\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n\r\n        if (requestCode != INPUT_FILE_REQUEST_CODE || mUploadMessage == null) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            return;\r\n        }\r\n        try {\r\n            String file_path = mCameraPhotoPath.replace(&quot;file:&quot;,&quot;&quot;);\r\n            File file = new File(file_path);\r\n            size = file.length();\r\n            Uri x =data.getData();\r\n\r\n        }catch (Exception e){\r\n            Log.e(&quot;Error!&quot;, &quot;Error while opening image file&quot; + e.getLocalizedMessage());\r\n        }\r\n\r\n        if (data != null || mCameraPhotoPath != null) {\r\n            Integer count = 0;\r\n            ClipData images = null;\r\n            try {\r\n                images = data.getClipData();\r\n            }catch (Exception e) {\r\n                Log.e(&quot;Error!&quot;, e.getLocalizedMessage());\r\n            }\r\n\r\n            if (images == null &amp;&amp; data != null &amp;&amp; data.getDataString() != null) {\r\n                count = data.getDataString().length();\r\n            } else if (images != null) {\r\n                count = images.getItemCount();\r\n            }\r\n            Uri[] results = new Uri[count];\r\n            // Check that the response is a good one\r\n            if (resultCode == Activity.RESULT_OK) {\r\n                if (size != 0) {\r\n                    // If there is not data, then we may have taken a photo\r\n                    if (mCameraPhotoPath != null) {\r\n                        results = new Uri[]{Uri.parse(mCameraPhotoPath)};\r\n                    }\r\n                } else if (data.getClipData() == null) {\r\n                    results = new Uri[]{Uri.parse(data.getDataString())};\r\n                } else {\r\n\r\n                    for (int i = 0; i &lt; images.getItemCount(); i++) {\r\n                        results[i] = images.getItemAt(i).getUri();\r\n                    }\r\n                }\r\n            }\r\n\r\n            mUploadMessage.onReceiveValue(results);\r\n            mUploadMessage = null;\r\n        }\r\n    }\r\n```","title":"Camera stopped working after changing to getExternalFilesDir()","body":"<p>I switched from <code>Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES)</code> to the supported <code>getExternalFilesDir(Environment.DIRECTORY_PICTURES)</code> but now when an image is taken the camera app stops and the image isn't accessible. Using android 12.0 API 31.</p>\n<pre><code>private File createImageFile() throws IOException {\n        // Create an image file name\n        String timeStamp = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;).format(new Date());\n        String imageFileName = &quot;JPEG_&quot; + timeStamp + &quot;_&quot;;\n        File storageDir = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);\n        //File storageDir = getExternalFilesDir(null).getAbsoluteFile();\n\n        File imageFile = File.createTempFile(\n                imageFileName,  /* prefix */\n                &quot;.jpg&quot;,         /* suffix */\n                storageDir      /* directory */\n        );\n\n        System.out.print(storageDir);\n\n        return imageFile;\n    }\n</code></pre>\n<pre><code>    public void onActivityResult(int requestCode, int resultCode, Intent data) {\n\n        if (requestCode != INPUT_FILE_REQUEST_CODE || mUploadMessage == null) {\n            super.onActivityResult(requestCode, resultCode, data);\n            return;\n        }\n        try {\n            String file_path = mCameraPhotoPath.replace(&quot;file:&quot;,&quot;&quot;);\n            File file = new File(file_path);\n            size = file.length();\n            Uri x =data.getData();\n\n        }catch (Exception e){\n            Log.e(&quot;Error!&quot;, &quot;Error while opening image file&quot; + e.getLocalizedMessage());\n        }\n\n        if (data != null || mCameraPhotoPath != null) {\n            Integer count = 0;\n            ClipData images = null;\n            try {\n                images = data.getClipData();\n            }catch (Exception e) {\n                Log.e(&quot;Error!&quot;, e.getLocalizedMessage());\n            }\n\n            if (images == null &amp;&amp; data != null &amp;&amp; data.getDataString() != null) {\n                count = data.getDataString().length();\n            } else if (images != null) {\n                count = images.getItemCount();\n            }\n            Uri[] results = new Uri[count];\n            // Check that the response is a good one\n            if (resultCode == Activity.RESULT_OK) {\n                if (size != 0) {\n                    // If there is not data, then we may have taken a photo\n                    if (mCameraPhotoPath != null) {\n                        results = new Uri[]{Uri.parse(mCameraPhotoPath)};\n                    }\n                } else if (data.getClipData() == null) {\n                    results = new Uri[]{Uri.parse(data.getDataString())};\n                } else {\n\n                    for (int i = 0; i &lt; images.getItemCount(); i++) {\n                        results[i] = images.getItemAt(i).getUri();\n                    }\n                }\n            }\n\n            mUploadMessage.onReceiveValue(results);\n            mUploadMessage = null;\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring","angular","spring-boot","angular6"],"comments":[{"owner":{"account_id":2028868,"reputation":5918,"user_id":1813169,"accept_rate":70,"display_name":"MTCoster"},"score":0,"creation_date":1541858350,"post_id":53239615,"comment_id":93365155,"body_markdown":"Note from the documentation for [`ClassPathResource(path)`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html#ClassPathResource-java.lang.String-): *A leading slash will be removed, as the ClassLoader resource access methods will not accept it.*","body":"Note from the documentation for <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/io/ClassPathResource.html#ClassPathResource-java.lang.String-\" rel=\"nofollow noreferrer\"><code>ClassPathResource(path)</code></a>: <i>A leading slash will be removed, as the ClassLoader resource access methods will not accept it.</i>"},{"owner":{"account_id":1344997,"reputation":1348,"user_id":1285928,"accept_rate":56,"display_name":"user1285928"},"score":0,"creation_date":1541859700,"post_id":53239615,"comment_id":93365566,"body_markdown":"So what should I change?","body":"So what should I change?"},{"owner":{"account_id":2028868,"reputation":5918,"user_id":1813169,"accept_rate":70,"display_name":"MTCoster"},"score":0,"creation_date":1541859940,"post_id":53239615,"comment_id":93365631,"body_markdown":"I think the larger problem here is that `ClassPathResource` is cannot reference arbitrary parts of the filesystem - it can only find resources from within your current classpath. In this instance, it&#39;s also unnecessary - why not just use [`FileInputStream(name)`](https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html#FileInputStream-java.lang.String-)?","body":"I think the larger problem here is that <code>ClassPathResource</code> is cannot reference arbitrary parts of the filesystem - it can only find resources from within your current classpath. In this instance, it&#39;s also unnecessary - why not just use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html#FileInputStream-java.lang.String-\" rel=\"nofollow noreferrer\"><code>FileInputStream(name)</code></a>?"}],"answers":[{"tags":[],"owner":{"account_id":1939876,"reputation":111,"user_id":1746308,"display_name":"bipe15"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1541866294,"creation_date":1541860336,"answer_id":53239961,"question_id":53239615,"body_markdown":"Since you are using ClasspathResource, you can only get files &quot;*within*&quot; the classpath.\r\n\r\nIf your file is outside of the classpath you can&#39;t get it in that way.\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(DownloadsController.class);\r\n    \r\n    private static final String EXTERNAL_FILE_PATH = &quot;/Users/test/Documents/blacklist_api.pdf&quot;;\r\n    \r\n    @GetMapping(&quot;export&quot;)\r\n    public ResponseEntity&lt;InputStreamResource&gt; export() throws IOException {\r\n        File pdfFile = Paths.get(EXTERNAL_FILE_PATH).toFile();\r\n    \r\n        HttpHeaders headers = new HttpHeaders();\r\n        headers.add(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;);\r\n        headers.add(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n        headers.add(&quot;Expires&quot;, &quot;0&quot;);\r\n    \r\n        return ResponseEntity.ok().headers(headers).contentLength(pdfFile.length())\r\n                .contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\r\n                .body(new FileInputStream(pdfFile));\r\n    }\r\n\r\nI changed the way you take the file, for a File and not a ClassPathResource.\r\n\r\nI modified that piece of code on the fly, sorry if there&#39;s any mistake. I hope it can help\r\n","title":"Cannot download file: cannot be resolved to URL because it does not exist with Spring","body":"<p>Since you are using ClasspathResource, you can only get files \"<em>within</em>\" the classpath.</p>\n\n<p>If your file is outside of the classpath you can't get it in that way.</p>\n\n<pre><code>private static final Logger LOG = LoggerFactory.getLogger(DownloadsController.class);\n\nprivate static final String EXTERNAL_FILE_PATH = \"/Users/test/Documents/blacklist_api.pdf\";\n\n@GetMapping(\"export\")\npublic ResponseEntity&lt;InputStreamResource&gt; export() throws IOException {\n    File pdfFile = Paths.get(EXTERNAL_FILE_PATH).toFile();\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(\"Cache-Control\", \"no-cache, no-store, must-revalidate\");\n    headers.add(\"Pragma\", \"no-cache\");\n    headers.add(\"Expires\", \"0\");\n\n    return ResponseEntity.ok().headers(headers).contentLength(pdfFile.length())\n            .contentType(MediaType.parseMediaType(\"application/pdf\"))\n            .body(new FileInputStream(pdfFile));\n}\n</code></pre>\n\n<p>I changed the way you take the file, for a File and not a ClassPathResource.</p>\n\n<p>I modified that piece of code on the fly, sorry if there's any mistake. I hope it can help</p>\n"},{"tags":[],"owner":{"account_id":374564,"reputation":4903,"user_id":724835,"accept_rate":100,"display_name":"JustinKSU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657569037,"creation_date":1657569037,"answer_id":72943928,"question_id":53239615,"body_markdown":"    public static final String TEMPLATE_NAME = &quot;filename.csv&quot;;\r\n    \r\n    @Value(&quot;templates/&quot; + TEMPLATE_NAME)\r\n    private ClassPathResource TEMPLATE;\r\n    \r\n    @GetMapping(value = &quot;/download/template&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\n    public void getTemplate(HttpServletResponse response) throws IOException {\r\n        response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + TEMPLATE_NAME);\r\n        IOUtils.copy(TEMPLATE.getInputStream(), response.getOutputStream());\r\n        response.flushBuffer();\r\n    }","title":"Cannot download file: cannot be resolved to URL because it does not exist with Spring","body":"<pre><code>public static final String TEMPLATE_NAME = &quot;filename.csv&quot;;\n\n@Value(&quot;templates/&quot; + TEMPLATE_NAME)\nprivate ClassPathResource TEMPLATE;\n\n@GetMapping(value = &quot;/download/template&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\npublic void getTemplate(HttpServletResponse response) throws IOException {\n    response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=&quot; + TEMPLATE_NAME);\n    IOUtils.copy(TEMPLATE.getInputStream(), response.getOutputStream());\n    response.flushBuffer();\n}\n</code></pre>\n"}],"owner":{"account_id":1344997,"reputation":1348,"user_id":1285928,"accept_rate":56,"display_name":"user1285928"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21171,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1657569227,"creation_date":1541857686,"question_id":53239615,"body_markdown":"I want to implement file download using this Angular 6 code:\r\n\r\nRest API:\r\n\r\n    private static final Logger LOG = LoggerFactory.getLogger(DownloadsController.class);\r\n\r\n\tprivate static final String EXTERNAL_FILE_PATH = &quot;/Users/test/Documents/blacklist_api.pdf&quot;;\r\n\r\n\t@GetMapping(&quot;export&quot;)\r\n\tpublic ResponseEntity&lt;InputStreamResource&gt; export() throws IOException {\r\n\t\tClassPathResource pdfFile = new ClassPathResource(EXTERNAL_FILE_PATH);\r\n\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.add(&quot;Cache-Control&quot;, &quot;no-cache, no-store, must-revalidate&quot;);\r\n\t\theaders.add(&quot;Pragma&quot;, &quot;no-cache&quot;);\r\n\t\theaders.add(&quot;Expires&quot;, &quot;0&quot;);\r\n\r\n\t\treturn ResponseEntity.ok().headers(headers).contentLength(pdfFile.contentLength())\r\n\t\t\t\t.contentType(MediaType.parseMediaType(&quot;application/pdf&quot;))\r\n\t\t\t\t.body(new InputStreamResource(pdfFile.getInputStream()));\r\n\t}\r\n\r\nService:\r\n\r\n    import {Component, OnInit} from &#39;@angular/core&#39;;\r\n    import {DownloadService} from &quot;../service/download.service&quot;;\r\n    import {ActivatedRoute, Router} from &quot;@angular/router&quot;;\r\n    import {flatMap} from &quot;rxjs/internal/operators&quot;;\r\n    import {of} from &quot;rxjs/index&quot;;\r\n    import { map } from &#39;rxjs/operators&#39;;\r\n    \r\n    @Component({\r\n      selector: &#39;app-download&#39;,\r\n      templateUrl: &#39;./download.component.html&#39;,\r\n      styleUrls: [&#39;./download.component.scss&#39;]\r\n    })\r\n    export class DownloadComponent implements OnInit {\r\n    \r\n      constructor(private downloadService: DownloadService,\r\n                  private router: Router,\r\n                  private route: ActivatedRoute) {\r\n      }\r\n    \r\n      ngOnInit() {\t \r\n      }\r\n        \r\n      export() {               \r\n        this.downloadService.downloadPDF().subscribe(res =&gt; {\r\n          const fileURL = URL.createObjectURL(res);\r\n          window.open(fileURL, &#39;_blank&#39;);\r\n        });         \r\n      } \r\n    }\r\n\r\nComponent:\r\n\r\n    import {Component, OnInit} from &#39;@angular/core&#39;;\r\n    import {DownloadService} from &quot;../service/download.service&quot;;\r\n    import {ActivatedRoute, Router} from &quot;@angular/router&quot;;\r\n    import {flatMap} from &quot;rxjs/internal/operators&quot;;\r\n    import {of} from &quot;rxjs/index&quot;;\r\n    import { map } from &#39;rxjs/operators&#39;;\r\n    \r\n    @Component({\r\n      selector: &#39;app-download&#39;,\r\n      templateUrl: &#39;./download.component.html&#39;,\r\n      styleUrls: [&#39;./download.component.scss&#39;]\r\n    })\r\n    export class DownloadComponent implements OnInit {\r\n    \r\n      constructor(private downloadService: DownloadService,\r\n                  private router: Router,\r\n                  private route: ActivatedRoute) {\r\n      }\r\n    \r\n      ngOnInit() {\t \r\n      }\r\n        \r\n      export() {               \r\n        this.downloadService.downloadPDF().subscribe(res =&gt; {\r\n          const fileURL = URL.createObjectURL(res);\r\n          window.open(fileURL, &#39;_blank&#39;);\r\n        });         \r\n      } \r\n    }\r\n\r\nWhen I click download button I get this Spring error:\r\n\r\n    15:28:02,819 ERROR [org.springframework.boot.web.servlet.support.ErrorPageFilter] (default task-1) Forwarding to error page from request [/downloads/export] due to exception [class path resource [Users/test/Documents/blacklist_api.pdf] cannot be resolved to URL because it does not exist]: java.io.FileNotFoundException: class path resource [Users/test/Documents/blacklist_api.pdf] cannot be resolved to URL because it does not exist\r\n    \tat deployment.test_admin.war//org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:195)\r\n\r\nThe file is present in the directory but looks like it&#39;s located outside of the war package and Wildly I can&#39;t access it. Is there any way to configure Java to access it and download it?\r\n\t","title":"Cannot download file: cannot be resolved to URL because it does not exist with Spring","body":"<p>I want to implement file download using this Angular 6 code:</p>\n\n<p>Rest API:</p>\n\n<pre><code>private static final Logger LOG = LoggerFactory.getLogger(DownloadsController.class);\n\nprivate static final String EXTERNAL_FILE_PATH = \"/Users/test/Documents/blacklist_api.pdf\";\n\n@GetMapping(\"export\")\npublic ResponseEntity&lt;InputStreamResource&gt; export() throws IOException {\n    ClassPathResource pdfFile = new ClassPathResource(EXTERNAL_FILE_PATH);\n\n    HttpHeaders headers = new HttpHeaders();\n    headers.add(\"Cache-Control\", \"no-cache, no-store, must-revalidate\");\n    headers.add(\"Pragma\", \"no-cache\");\n    headers.add(\"Expires\", \"0\");\n\n    return ResponseEntity.ok().headers(headers).contentLength(pdfFile.contentLength())\n            .contentType(MediaType.parseMediaType(\"application/pdf\"))\n            .body(new InputStreamResource(pdfFile.getInputStream()));\n}\n</code></pre>\n\n<p>Service:</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {DownloadService} from \"../service/download.service\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {flatMap} from \"rxjs/internal/operators\";\nimport {of} from \"rxjs/index\";\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-download',\n  templateUrl: './download.component.html',\n  styleUrls: ['./download.component.scss']\n})\nexport class DownloadComponent implements OnInit {\n\n  constructor(private downloadService: DownloadService,\n              private router: Router,\n              private route: ActivatedRoute) {\n  }\n\n  ngOnInit() {   \n  }\n\n  export() {               \n    this.downloadService.downloadPDF().subscribe(res =&gt; {\n      const fileURL = URL.createObjectURL(res);\n      window.open(fileURL, '_blank');\n    });         \n  } \n}\n</code></pre>\n\n<p>Component:</p>\n\n<pre><code>import {Component, OnInit} from '@angular/core';\nimport {DownloadService} from \"../service/download.service\";\nimport {ActivatedRoute, Router} from \"@angular/router\";\nimport {flatMap} from \"rxjs/internal/operators\";\nimport {of} from \"rxjs/index\";\nimport { map } from 'rxjs/operators';\n\n@Component({\n  selector: 'app-download',\n  templateUrl: './download.component.html',\n  styleUrls: ['./download.component.scss']\n})\nexport class DownloadComponent implements OnInit {\n\n  constructor(private downloadService: DownloadService,\n              private router: Router,\n              private route: ActivatedRoute) {\n  }\n\n  ngOnInit() {   \n  }\n\n  export() {               \n    this.downloadService.downloadPDF().subscribe(res =&gt; {\n      const fileURL = URL.createObjectURL(res);\n      window.open(fileURL, '_blank');\n    });         \n  } \n}\n</code></pre>\n\n<p>When I click download button I get this Spring error:</p>\n\n<pre><code>15:28:02,819 ERROR [org.springframework.boot.web.servlet.support.ErrorPageFilter] (default task-1) Forwarding to error page from request [/downloads/export] due to exception [class path resource [Users/test/Documents/blacklist_api.pdf] cannot be resolved to URL because it does not exist]: java.io.FileNotFoundException: class path resource [Users/test/Documents/blacklist_api.pdf] cannot be resolved to URL because it does not exist\n    at deployment.test_admin.war//org.springframework.core.io.ClassPathResource.getURL(ClassPathResource.java:195)\n</code></pre>\n\n<p>The file is present in the directory but looks like it's located outside of the war package and Wildly I can't access it. Is there any way to configure Java to access it and download it?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":25754054,"reputation":1,"user_id":19506069,"display_name":"Glen"},"score":1,"creation_date":1657555485,"post_id":72941425,"comment_id":128833092,"body_markdown":"Maybe there is another way to create squares around JLabels and JTextFields? is there a way to create a border around individual JLabels and a border around a JTextField?","body":"Maybe there is another way to create squares around JLabels and JTextFields? is there a way to create a border around individual JLabels and a border around a JTextField?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1657557515,"post_id":72941425,"comment_id":128833783,"body_markdown":"I would recommend writing a Word class and  perhaps a Letter class to hold status information, and a draw method.","body":"I would recommend writing a Word class and  perhaps a Letter class to hold status information, and a draw method."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1657558827,"post_id":72941425,"comment_id":128834236,"body_markdown":"You might get some hints by reading this [Wordle explanation](https://github.com/ggleblanc2/wordle#readme).","body":"You might get some hints by reading this <a href=\"https://github.com/ggleblanc2/wordle#readme\" rel=\"nofollow noreferrer\">Wordle explanation</a>."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657568848,"creation_date":1657568848,"answer_id":72943897,"question_id":72941425,"body_markdown":"There are solutions to everything you asked. So let&#39;s see from where to take it.\r\n\r\n1) you can add a border to any JComponent and it&#39;s subclasses. Just use [setBorder()][1].\r\n2) To have a JLabel with rectangles around each of the letters, you probably are better off not using a JLabel at all. Subclass JComponent, add a String property so you know which text to render, then override the [paintComponent()][2] method. All you need is to loop over the string&#39;s characters, calculate the character size via the GraphicsContext and the Font, add space for your box. Then draw the box using [g.drawRect()][3], finally [g.drawString()][4].\r\n3) To organize the position use LayoutMangers. [GridBagLayout][5] is the most powerful one and will do anything you require. Check out the nice [tutorial][6].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#setBorder(javax.swing.border.Border)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics.html#drawRect(int,int,int,int)\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics.html#drawString(java.lang.String,int,int)\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/GridBagLayout.html\r\n  [6]: https://docs.oracle.com/javase/tutorial/uiswing/layout/using.html","title":"Im having trouble trying to display graphics in my JFrame","body":"<p>There are solutions to everything you asked. So let's see from where to take it.</p>\n<ol>\n<li>you can add a border to any JComponent and it's subclasses. Just use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#setBorder(javax.swing.border.Border)\" rel=\"nofollow noreferrer\">setBorder()</a>.</li>\n<li>To have a JLabel with rectangles around each of the letters, you probably are better off not using a JLabel at all. Subclass JComponent, add a String property so you know which text to render, then override the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/swing/JComponent.html#paintComponent(java.awt.Graphics)\" rel=\"nofollow noreferrer\">paintComponent()</a> method. All you need is to loop over the string's characters, calculate the character size via the GraphicsContext and the Font, add space for your box. Then draw the box using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics.html#drawRect(int,int,int,int)\" rel=\"nofollow noreferrer\">g.drawRect()</a>, finally <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/Graphics.html#drawString(java.lang.String,int,int)\" rel=\"nofollow noreferrer\">g.drawString()</a>.</li>\n<li>To organize the position use LayoutMangers. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/GridBagLayout.html\" rel=\"nofollow noreferrer\">GridBagLayout</a> is the most powerful one and will do anything you require. Check out the nice <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/using.html\" rel=\"nofollow noreferrer\">tutorial</a>.</li>\n</ol>\n"}],"owner":{"account_id":25754054,"reputation":1,"user_id":19506069,"display_name":"Glen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657568848,"creation_date":1657555292,"question_id":72941425,"body_markdown":"I am trying to create game with a similar layout to Wordle where there is a 5 letter scrambled word displayed and below it there are 5 separate text fields for the user to input what order the letters of the scrambled word will go in. Basically they have to unscramble the word. Sorry for the bad explanation.\r\n\r\nIam trying to make rectangles/squares around each of the letters of the JLabels lb1, lb2, lb3, lb4, lb5 and around each of the JTextFields tf1, tf2, tf3, tf4, tf5. I cannot figure out how to display these rectangles at all but also how they will display on top of JPanels that are already in place.\r\n\r\nAlso just a bonus here, Is there anyway to organise these labels and text fields so that i can set there exact position? i would like to have 5 of the labels on top of 5 of the text fields.\r\n\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\n\r\n\r\n\r\npublic class scramble extends JFrame {\r\n\r\n    Font mainFont = new Font(&quot;Impact&quot;, Font.BOLD, 60);\r\n    Font smallFont = new Font(&quot;Impact&quot;, Font.BOLD, 30);\r\n\r\n    JLabel lbWelcome;\r\n    JLabel lb1, lb2, lb3, lb4, lb5;\r\n    JTextField tf1, tf2, tf3, tf4, tf5;\r\n    JFrame frame;\r\n    GridBagConstraints gbc = new GridBagConstraints();\r\n    \r\n\r\n\r\n    scramble() {\r\n\r\n      gbc.gridx = 0;\r\n      gbc.gridy = 0;\r\n      gbc.anchor = GridBagConstraints.PAGE_START;\r\n      gbc.weightx = 1.0;\r\n      gbc.weighty = 1.0;\r\n\r\n         //mainPanel\r\n         JPanel mainPanel = new JPanel();\r\n         mainPanel.setLayout(new GridBagLayout());\r\n         mainPanel.setBackground(new Color(12, 177, 237));\r\n         mainPanel.setBorder(BorderFactory.createEmptyBorder(10, 40, 30, 40));\r\n         \r\n         \r\n\r\n         //header/title\r\n         lbWelcome = new JLabel(&quot;Scramble&quot;, SwingConstants.CENTER);\r\n         lbWelcome.setFont(mainFont);\r\n         lbWelcome.setToolTipText(&quot;Scramble is a game created by Glen Filson&quot;);\r\n         gbc.gridx = 0;\r\n         gbc.gridy = 0;\r\n         mainPanel.add(lbWelcome, gbc);\r\n\r\n          //input panel\r\n          JPanel inputs = new JPanel();\r\n          inputs.setSize(new Dimension(300,300));\r\n          inputs.setBackground(new Color(12, 177, 200));\r\n          inputs.setLayout(new GridBagLayout());\r\n          gbc.gridx = 0;\r\n          gbc.gridy = 3;\r\n          mainPanel.add(inputs, gbc);\r\n\r\n          gbc.insets = new Insets(30, 10,30,10);\r\n        \r\n          \r\n         //JLabels main\r\n         lb1  = new JLabel(&quot;F&quot;, SwingConstants.CENTER);\r\n         lb1.setFont(smallFont);\r\n         gbc.gridx = 0;\r\n         gbc.gridy = 0;\r\n         inputs.add(lb1, gbc);\r\n      \r\n\r\n         lb2  = new JLabel(&quot;I&quot;, SwingConstants.CENTER);\r\n         lb2.setFont(smallFont);\r\n         gbc.gridx = 1;\r\n         gbc.gridy = 0;\r\n         inputs.add(lb2, gbc);\r\n        \r\n\r\n         lb3  = new JLabel(&quot;G&quot;, SwingConstants.CENTER);\r\n         lb3.setFont(smallFont);\r\n         gbc.gridx = 2;\r\n         gbc.gridy = 0;\r\n         inputs.add(lb3, gbc);\r\n         \r\n\r\n         lb4  = new JLabel(&quot;H&quot;, SwingConstants.CENTER);\r\n         lb4.setFont(smallFont);\r\n         gbc.gridx = 3;\r\n         gbc.gridy = 0;\r\n         inputs.add(lb4, gbc);\r\n        \r\n\r\n         lb5  = new JLabel(&quot;T&quot;, SwingConstants.CENTER);\r\n         lb5.setFont(smallFont);\r\n         gbc.gridx = 4;\r\n         gbc.gridy = 0;\r\n         inputs.add(lb5, gbc);\r\n\r\n\r\n         \r\n         \r\n\r\n         //JTextField main\r\n         tf1  = new JTextField(&quot;s&quot;);\r\n         tf1.setFont(smallFont);\r\n         tf1.setHorizontalAlignment(JTextField.CENTER);\r\n         gbc.gridx = 0;\r\n         gbc.gridy = 1;\r\n         inputs.add(tf1, gbc);\r\n         \r\n\r\n\r\n         tf2  = new JTextField(&quot;u&quot;);\r\n         tf2.setFont(smallFont);\r\n         tf2.setHorizontalAlignment(JTextField.CENTER);\r\n         gbc.gridx = 1;\r\n         gbc.gridy = 1;\r\n         inputs.add(tf2, gbc);\r\n       \r\n         \r\n\r\n         tf3  = new JTextField(&quot;s&quot;);\r\n         tf3.setFont(smallFont);\r\n         tf3.setHorizontalAlignment(JTextField.CENTER);\r\n         gbc.gridx = 2;\r\n         gbc.gridy = 1;\r\n         inputs.add(tf3, gbc);\r\n        \r\n\r\n         tf4  = new JTextField(&quot;s&quot;);\r\n         tf4.setFont(smallFont);\r\n         tf4.setHorizontalAlignment(JTextField.CENTER);\r\n         gbc.gridx = 3;\r\n         gbc.gridy = 1;\r\n         inputs.add(tf4, gbc);\r\n         \r\n         \r\n         tf5  = new JTextField(&quot;y&quot;);\r\n         tf5.setFont(smallFont);\r\n         tf5.setHorizontalAlignment(JTextField.CENTER);\r\n         gbc.gridx = 4;\r\n         gbc.gridy = 1;\r\n         inputs.add(tf5, gbc);\r\n\r\n     \r\n        \r\n         \r\n\r\n          \r\n        \r\n\r\n\r\n\r\n           \r\n           \r\n            //JFrame\r\n            JFrame frame = new JFrame();      \r\n            frame.setTitle(&quot;Scramble&quot;);\r\n            frame.setSize(500, 650);\r\n            \r\n            frame.setLocationRelativeTo(null);\r\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n            frame.getContentPane().setBackground(new Color(100, 60, 100));\r\n            frame.setVisible(true);\r\n            frame.add(mainPanel);\r\n           \r\n    }\r\n\r\n    public static void main(String[] args){\r\n       scramble myFrame = new scramble();\r\n      \r\n     \r\n\r\n}\r\npublic class graphicsPanel extends JPanel {\r\n   public void paint(Graphics g ){\r\n      \r\n      Graphics g2d = (Graphics2D) g;\r\n\r\n      g2d.drawRect(250,325,300,300);\r\n\r\n   }\r\n\r\n\r\n\r\n}\r\n}\r\n\r\n```","title":"Im having trouble trying to display graphics in my JFrame","body":"<p>I am trying to create game with a similar layout to Wordle where there is a 5 letter scrambled word displayed and below it there are 5 separate text fields for the user to input what order the letters of the scrambled word will go in. Basically they have to unscramble the word. Sorry for the bad explanation.</p>\n<p>Iam trying to make rectangles/squares around each of the letters of the JLabels lb1, lb2, lb3, lb4, lb5 and around each of the JTextFields tf1, tf2, tf3, tf4, tf5. I cannot figure out how to display these rectangles at all but also how they will display on top of JPanels that are already in place.</p>\n<p>Also just a bonus here, Is there anyway to organise these labels and text fields so that i can set there exact position? i would like to have 5 of the labels on top of 5 of the text fields.</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\n\n\n\npublic class scramble extends JFrame {\n\n    Font mainFont = new Font(&quot;Impact&quot;, Font.BOLD, 60);\n    Font smallFont = new Font(&quot;Impact&quot;, Font.BOLD, 30);\n\n    JLabel lbWelcome;\n    JLabel lb1, lb2, lb3, lb4, lb5;\n    JTextField tf1, tf2, tf3, tf4, tf5;\n    JFrame frame;\n    GridBagConstraints gbc = new GridBagConstraints();\n    \n\n\n    scramble() {\n\n      gbc.gridx = 0;\n      gbc.gridy = 0;\n      gbc.anchor = GridBagConstraints.PAGE_START;\n      gbc.weightx = 1.0;\n      gbc.weighty = 1.0;\n\n         //mainPanel\n         JPanel mainPanel = new JPanel();\n         mainPanel.setLayout(new GridBagLayout());\n         mainPanel.setBackground(new Color(12, 177, 237));\n         mainPanel.setBorder(BorderFactory.createEmptyBorder(10, 40, 30, 40));\n         \n         \n\n         //header/title\n         lbWelcome = new JLabel(&quot;Scramble&quot;, SwingConstants.CENTER);\n         lbWelcome.setFont(mainFont);\n         lbWelcome.setToolTipText(&quot;Scramble is a game created by Glen Filson&quot;);\n         gbc.gridx = 0;\n         gbc.gridy = 0;\n         mainPanel.add(lbWelcome, gbc);\n\n          //input panel\n          JPanel inputs = new JPanel();\n          inputs.setSize(new Dimension(300,300));\n          inputs.setBackground(new Color(12, 177, 200));\n          inputs.setLayout(new GridBagLayout());\n          gbc.gridx = 0;\n          gbc.gridy = 3;\n          mainPanel.add(inputs, gbc);\n\n          gbc.insets = new Insets(30, 10,30,10);\n        \n          \n         //JLabels main\n         lb1  = new JLabel(&quot;F&quot;, SwingConstants.CENTER);\n         lb1.setFont(smallFont);\n         gbc.gridx = 0;\n         gbc.gridy = 0;\n         inputs.add(lb1, gbc);\n      \n\n         lb2  = new JLabel(&quot;I&quot;, SwingConstants.CENTER);\n         lb2.setFont(smallFont);\n         gbc.gridx = 1;\n         gbc.gridy = 0;\n         inputs.add(lb2, gbc);\n        \n\n         lb3  = new JLabel(&quot;G&quot;, SwingConstants.CENTER);\n         lb3.setFont(smallFont);\n         gbc.gridx = 2;\n         gbc.gridy = 0;\n         inputs.add(lb3, gbc);\n         \n\n         lb4  = new JLabel(&quot;H&quot;, SwingConstants.CENTER);\n         lb4.setFont(smallFont);\n         gbc.gridx = 3;\n         gbc.gridy = 0;\n         inputs.add(lb4, gbc);\n        \n\n         lb5  = new JLabel(&quot;T&quot;, SwingConstants.CENTER);\n         lb5.setFont(smallFont);\n         gbc.gridx = 4;\n         gbc.gridy = 0;\n         inputs.add(lb5, gbc);\n\n\n         \n         \n\n         //JTextField main\n         tf1  = new JTextField(&quot;s&quot;);\n         tf1.setFont(smallFont);\n         tf1.setHorizontalAlignment(JTextField.CENTER);\n         gbc.gridx = 0;\n         gbc.gridy = 1;\n         inputs.add(tf1, gbc);\n         \n\n\n         tf2  = new JTextField(&quot;u&quot;);\n         tf2.setFont(smallFont);\n         tf2.setHorizontalAlignment(JTextField.CENTER);\n         gbc.gridx = 1;\n         gbc.gridy = 1;\n         inputs.add(tf2, gbc);\n       \n         \n\n         tf3  = new JTextField(&quot;s&quot;);\n         tf3.setFont(smallFont);\n         tf3.setHorizontalAlignment(JTextField.CENTER);\n         gbc.gridx = 2;\n         gbc.gridy = 1;\n         inputs.add(tf3, gbc);\n        \n\n         tf4  = new JTextField(&quot;s&quot;);\n         tf4.setFont(smallFont);\n         tf4.setHorizontalAlignment(JTextField.CENTER);\n         gbc.gridx = 3;\n         gbc.gridy = 1;\n         inputs.add(tf4, gbc);\n         \n         \n         tf5  = new JTextField(&quot;y&quot;);\n         tf5.setFont(smallFont);\n         tf5.setHorizontalAlignment(JTextField.CENTER);\n         gbc.gridx = 4;\n         gbc.gridy = 1;\n         inputs.add(tf5, gbc);\n\n     \n        \n         \n\n          \n        \n\n\n\n           \n           \n            //JFrame\n            JFrame frame = new JFrame();      \n            frame.setTitle(&quot;Scramble&quot;);\n            frame.setSize(500, 650);\n            \n            frame.setLocationRelativeTo(null);\n            frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n            frame.getContentPane().setBackground(new Color(100, 60, 100));\n            frame.setVisible(true);\n            frame.add(mainPanel);\n           \n    }\n\n    public static void main(String[] args){\n       scramble myFrame = new scramble();\n      \n     \n\n}\npublic class graphicsPanel extends JPanel {\n   public void paint(Graphics g ){\n      \n      Graphics g2d = (Graphics2D) g;\n\n      g2d.drawRect(250,325,300,300);\n\n   }\n\n\n\n}\n}\n\n</code></pre>\n"},{"tags":["java","streamingresponsebody"],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657568684,"creation_date":1657555790,"answer_id":72941525,"question_id":72941298,"body_markdown":"One of the way which I can think of is :\r\n\r\n    ResponseEntity&lt;String&gt; result = restTemplate.executeRequest(HttpMethod.GET, String.class);\r\n    \r\n    StringBuilder builder = new StringBuilder(result.getBody());\r\n    ... //do your transformation to stringbuilder reference.\r\n    result = ResponseEntity.status(result.getStatusCode()).body(builder.toString());\r\n\r\nAnother way if you want to avoid this is to return String response from your `executeRequest` &amp; modify that response before creating ResponseEntity.","title":"Is It possible to change the content of the Body of a responseEntity","body":"<p>One of the way which I can think of is :</p>\n<pre><code>ResponseEntity&lt;String&gt; result = restTemplate.executeRequest(HttpMethod.GET, String.class);\n\nStringBuilder builder = new StringBuilder(result.getBody());\n... //do your transformation to stringbuilder reference.\nresult = ResponseEntity.status(result.getStatusCode()).body(builder.toString());\n</code></pre>\n<p>Another way if you want to avoid this is to return String response from your <code>executeRequest</code> &amp; modify that response before creating ResponseEntity.</p>\n"},{"tags":[],"owner":{"account_id":25714589,"reputation":115,"user_id":19472583,"display_name":"vabatch_dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657556301,"creation_date":1657556301,"answer_id":72941639,"question_id":72941298,"body_markdown":"Try this:\r\n\r\n1) Create your own HttpMessageConverter, implementing:\r\n\r\n       public interface HttpMessageConverter&lt;T&gt; {\r\n\r\n        // Indicates whether the given class can be read by this converter.\r\n        boolean canRead(Class&lt;?&gt; clazz, MediaType mediaType);\r\n\r\n        // Indicates whether the given class can be written by this converter.\r\n        boolean canWrite(Class&lt;?&gt; clazz, MediaType mediaType);\r\n\r\n        // Return the list of {@link MediaType} objects supported by this converter.\r\n        List&lt;MediaType&gt; getSupportedMediaTypes();\r\n\r\n        // Read an object of the given type form the given input message, and returns it.\r\n        T read(Class&lt;? extends T&gt; clazz, HttpInputMessage inputMessage)\r\n            throws IOException, HttpMessageNotReadableException;\r\n\r\n        // Write an given object to the given output message.\r\n        void write(T t, MediaType contentType, HttpOutputMessage outputMessage)\r\n            throws IOException, HttpMessageNotWritableException;\r\n       }\r\n\r\n2) Register the custom converter into your restTemplate object:\r\n\r\n       String url = &quot;url&quot;;\r\n\t\t\t\r\n       // Create a new RestTemplate instance\r\n       RestTemplate restTemplate = new RestTemplate();\r\n\r\n       // Add the String message converter\r\n       restTemplate.getMessageConverters().add(new YourConverter());\r\n\r\n       // Make the HTTP GET request, marshaling the response to a String\r\n       String result = restTemplate.getForObject(url, String.class);","title":"Is It possible to change the content of the Body of a responseEntity","body":"<p>Try this:</p>\n<ol>\n<li><p>Create your own HttpMessageConverter, implementing:</p>\n<pre><code>public interface HttpMessageConverter&lt;T&gt; {\n\n // Indicates whether the given class can be read by this converter.\n boolean canRead(Class&lt;?&gt; clazz, MediaType mediaType);\n\n // Indicates whether the given class can be written by this converter.\n boolean canWrite(Class&lt;?&gt; clazz, MediaType mediaType);\n\n // Return the list of {@link MediaType} objects supported by this converter.\n List&lt;MediaType&gt; getSupportedMediaTypes();\n\n // Read an object of the given type form the given input message, and returns it.\n T read(Class&lt;? extends T&gt; clazz, HttpInputMessage inputMessage)\n     throws IOException, HttpMessageNotReadableException;\n\n // Write an given object to the given output message.\n void write(T t, MediaType contentType, HttpOutputMessage outputMessage)\n     throws IOException, HttpMessageNotWritableException;\n}\n</code></pre>\n</li>\n<li><p>Register the custom converter into your restTemplate object:</p>\n<pre><code>String url = &quot;url&quot;;\n\n// Create a new RestTemplate instance\nRestTemplate restTemplate = new RestTemplate();\n\n// Add the String message converter\nrestTemplate.getMessageConverters().add(new YourConverter());\n\n// Make the HTTP GET request, marshaling the response to a String\nString result = restTemplate.getForObject(url, String.class);\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":2702634,"reputation":850,"user_id":2721822,"accept_rate":95,"display_name":"Hani Gotc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3628,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72941525,"answer_count":2,"score":1,"last_activity_date":1657568684,"creation_date":1657554748,"question_id":72941298,"body_markdown":"I am trying to return the content of a Json file. But I want to modify before sending it to the front end. I want to add &quot;[&quot; and &quot;]&quot; at the beginning and end of the file. I am doing that because the json file has `multiple json root elements`.\r\n\r\nLike for example extract the result as illustrated in \r\n\r\n     result = restTemplate.executeRequest(HttpMethod.GET, String.class);\r\n    //change Body and put it back in result\r\n\r\n\r\n----------\r\n**Question**\r\n\r\nIs it possible to change the body of the response and put it back in ResponseEntity?\r\n\r\n\r\n----------\r\n\r\n**Source Code**\r\n\r\n\r\n    public ResponseEntity&lt;String&gt; getScalityObject(String chainCode, String dataCenter, String path, String byteRange) {\r\n    \tMap&lt;String, Object&gt; queryParams = new HashMap&lt;&gt;();\r\n    \tif (dataCenter != null &amp;&amp; !dataCenter.isEmpty()) {\r\n    \t\tqueryParams.put(&quot;dataCenter&quot;, dataCenter);\r\n    \t}\r\n    \tif (byteRange != null &amp;&amp; !byteRange.isEmpty()) {\r\n    \t\tqueryParams.put(&quot;byteRange&quot;, byteRange);\r\n    \t}\r\n    \tString decodedStr = URLDecoder.decode(path);\r\n    \tqueryParams.put(&quot;path&quot;, decodedStr);\r\n    \r\n    \treservationService.setContext(\r\n    \t\t\tRESA_INTERNAL_SERVICE_NAME,\r\n    \t\t\tqueryParams,\r\n    \t\t\t&quot;/chains/{chainCode}/objects/file&quot;,\r\n    \t\t\tchainCode);\r\n    \trestTemplate.setServiceDefinition(reservationService);\r\n    \t\r\n    \tResponseEntity&lt;String&gt; result;\r\n    \ttry {\r\n    \t\tresult = restTemplate.executeRequest(HttpMethod.GET, String.class);\r\n    \t\t//Change responseBody here\r\n    \t\treturn result;\r\n    \t} catch (IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t\tresult = new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\r\n    \t}\r\n    \treturn result;\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\n    public &lt;T&gt; ResponseEntity&lt;T&gt; executeRequest(HttpMethod method, Class&lt;T&gt; responseType) throws IOException {\r\n    \r\n            if (this.serviceDefinition == null) {\r\n                throw new IllegalArgumentException(&quot;You haven&#39;t provided any service definition for this call. &quot; +\r\n                    &quot;Are you sure you called the right method before using this Amadeus Rest Template?&quot;);\r\n            }\r\n    \r\n            // Resolve the URI\r\n            URI url = this.serviceDefinition.getUriComponents().toUri();\r\n    \r\n            // Add the extra headers if necessary\r\n            HttpHeaders headers = new HttpHeaders();\r\n            if (this.serviceDefinition.getHeaders() != null) {\r\n                for(Map.Entry&lt;String,String&gt; headerSet : this.serviceDefinition.getHeaders().entrySet()) {\r\n                    headers.put(headerSet.getKey(), Arrays.asList(headerSet.getValue()));\r\n                }\r\n            }\r\n            HttpEntity entity = new HttpEntity(headers);\r\n            ResponseExtractor&lt;ResponseEntity&lt;T&gt;&gt; responseExtractor = responseEntityExtractor(responseType);\r\n    \r\n            RequestCallback requestCallback = httpEntityCallback(entity, responseType);\r\n            ClientHttpResponse response = null;\r\n    \t\ttry {\r\n    \t\t\tClientHttpRequest request = createRequest(url, method);\r\n    \t\t\tif (requestCallback != null) {\r\n    \t\t\t\trequestCallback.doWithRequest(request);\r\n    \t\t\t}\r\n    \t\t\tresponse = request.execute();\r\n                return (responseExtractor != null ? responseExtractor.extractData(response) : null);\r\n    \t\t}\r\n    \t\tcatch (IOException ex) {\r\n    \t\t\tthrow ex;\r\n    \t\t}\r\n    \t\tfinally {\r\n    \t\t\tif (response != null) {\r\n    \t\t\t\tresponse.close();\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n        }","title":"Is It possible to change the content of the Body of a responseEntity","body":"<p>I am trying to return the content of a Json file. But I want to modify before sending it to the front end. I want to add &quot;[&quot; and &quot;]&quot; at the beginning and end of the file. I am doing that because the json file has <code>multiple json root elements</code>.</p>\n<p>Like for example extract the result as illustrated in</p>\n<pre><code> result = restTemplate.executeRequest(HttpMethod.GET, String.class);\n//change Body and put it back in result\n</code></pre>\n<hr />\n<p><strong>Question</strong></p>\n<p>Is it possible to change the body of the response and put it back in ResponseEntity?</p>\n<hr />\n<p><strong>Source Code</strong></p>\n<pre><code>public ResponseEntity&lt;String&gt; getScalityObject(String chainCode, String dataCenter, String path, String byteRange) {\n    Map&lt;String, Object&gt; queryParams = new HashMap&lt;&gt;();\n    if (dataCenter != null &amp;&amp; !dataCenter.isEmpty()) {\n        queryParams.put(&quot;dataCenter&quot;, dataCenter);\n    }\n    if (byteRange != null &amp;&amp; !byteRange.isEmpty()) {\n        queryParams.put(&quot;byteRange&quot;, byteRange);\n    }\n    String decodedStr = URLDecoder.decode(path);\n    queryParams.put(&quot;path&quot;, decodedStr);\n\n    reservationService.setContext(\n            RESA_INTERNAL_SERVICE_NAME,\n            queryParams,\n            &quot;/chains/{chainCode}/objects/file&quot;,\n            chainCode);\n    restTemplate.setServiceDefinition(reservationService);\n    \n    ResponseEntity&lt;String&gt; result;\n    try {\n        result = restTemplate.executeRequest(HttpMethod.GET, String.class);\n        //Change responseBody here\n        return result;\n    } catch (IOException e) {\n        e.printStackTrace();\n        result = new ResponseEntity&lt;&gt;(HttpStatus.INTERNAL_SERVER_ERROR);\n    }\n    return result;\n}\n</code></pre>\n<hr />\n<pre><code>public &lt;T&gt; ResponseEntity&lt;T&gt; executeRequest(HttpMethod method, Class&lt;T&gt; responseType) throws IOException {\n\n        if (this.serviceDefinition == null) {\n            throw new IllegalArgumentException(&quot;You haven't provided any service definition for this call. &quot; +\n                &quot;Are you sure you called the right method before using this Amadeus Rest Template?&quot;);\n        }\n\n        // Resolve the URI\n        URI url = this.serviceDefinition.getUriComponents().toUri();\n\n        // Add the extra headers if necessary\n        HttpHeaders headers = new HttpHeaders();\n        if (this.serviceDefinition.getHeaders() != null) {\n            for(Map.Entry&lt;String,String&gt; headerSet : this.serviceDefinition.getHeaders().entrySet()) {\n                headers.put(headerSet.getKey(), Arrays.asList(headerSet.getValue()));\n            }\n        }\n        HttpEntity entity = new HttpEntity(headers);\n        ResponseExtractor&lt;ResponseEntity&lt;T&gt;&gt; responseExtractor = responseEntityExtractor(responseType);\n\n        RequestCallback requestCallback = httpEntityCallback(entity, responseType);\n        ClientHttpResponse response = null;\n        try {\n            ClientHttpRequest request = createRequest(url, method);\n            if (requestCallback != null) {\n                requestCallback.doWithRequest(request);\n            }\n            response = request.execute();\n            return (responseExtractor != null ? responseExtractor.extractData(response) : null);\n        }\n        catch (IOException ex) {\n            throw ex;\n        }\n        finally {\n            if (response != null) {\n                response.close();\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","dolby"],"answers":[{"tags":[],"owner":{"account_id":409319,"reputation":2504,"user_id":780507,"accept_rate":90,"display_name":"dcoffey3296"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657568384,"creation_date":1657568384,"answer_id":72943815,"question_id":72914356,"body_markdown":"it looks like both signed URLs might be GET urls?\r\n\r\nFor the Dolby.io Transcode API, your `inputs` should be GET signed urls and your `outputs` should be PUT signed URLs.\r\n\r\nAdditionally, it also looks like you are using the same input path/filename and output path/filename:\r\n\r\n```\r\nhttps://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4\r\n```\r\n\r\nYou will want to use different paths for input and output, something like: \r\n\r\n```https://vb-object-storage.ap-south-1.linodeobjects.com/output/outputfile.mp4```\r\n\r\n(note the &quot;output&quot; added to the path and the change of the output filename)\r\n\r\n","title":"How to integrate signed URL in java?","body":"<p>it looks like both signed URLs might be GET urls?</p>\n<p>For the Dolby.io Transcode API, your <code>inputs</code> should be GET signed urls and your <code>outputs</code> should be PUT signed URLs.</p>\n<p>Additionally, it also looks like you are using the same input path/filename and output path/filename:</p>\n<pre><code>https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4\n</code></pre>\n<p>You will want to use different paths for input and output, something like:</p>\n<p><code>https://vb-object-storage.ap-south-1.linodeobjects.com/output/outputfile.mp4</code></p>\n<p>(note the &quot;output&quot; added to the path and the change of the output filename)</p>\n"}],"owner":{"account_id":25403175,"reputation":25,"user_id":19212312,"display_name":"Narashimhaa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":453,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72943815,"answer_count":1,"score":2,"last_activity_date":1657568384,"creation_date":1657297637,"question_id":72914356,"body_markdown":"I am trying to use`DOLBY.IO&#39;s media API` to transcode and save the output file to cloud. I have two URLs  {URL1:input to dolby; URL2: to store output from dolby}. And both the URLs are signed URLs from the same cloud. \r\n\r\n\r\n\r\nI tried using some java code to accomplish this but in the end I still can&#39;t get the result.\r\n\r\n\r\nHere is the code:\r\n\r\n\t\r\n\r\n    @PostMapping(&quot;/transcode&quot;)\r\n        public String Video_Transcode1() throws IOException, JSONException {\r\n    \t\tOkHttpClient client = new OkHttpClient();\r\n    \t\tString data=generate_Access_token( );\r\n    \t\tMediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n    \t\tRequestBody body = RequestBody.create(mediaType, &quot;{\\&quot;inputs\\&quot;:[{\\&quot;source\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}],\\&quot;outputs\\&quot;:[{\\&quot;kind\\&quot;:\\&quot;mp4\\&quot;,\\&quot;destination\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}]}&quot;);\r\n    \t\tRequest request = new Request.Builder()\r\n    \t\t  .url(&quot;https://api.dolby.com/media/transcode&quot;)\r\n    \t\t  .post(body)\r\n    \t\t  .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n    \t\t  .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n    \t\t  .addHeader(&quot;Authorization&quot;,&quot;Bearer &quot;+data)\r\n    \t\t  .build();\r\n    \r\n         \tResponse response = client.newCall(request).execute();\r\n         \treturn response.toString();\r\n    \t}\r\n\r\nHere the data is generated from another function (ie:Access token)\r\n\r\nI have encoded two URLs as json here:\r\n\r\n     RequestBody body = RequestBody.create(mediaType, &quot;{\\&quot;inputs\\&quot;:[{\\&quot;source\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}],\\&quot;outputs\\&quot;:[{\\&quot;kind\\&quot;:\\&quot;mp4\\&quot;,\\&quot;destination\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}]}&quot;);\r\n\r\nIs there any look around to bring the solution.","title":"How to integrate signed URL in java?","body":"<p>I am trying to use<code>DOLBY.IO's media API</code> to transcode and save the output file to cloud. I have two URLs  {URL1:input to dolby; URL2: to store output from dolby}. And both the URLs are signed URLs from the same cloud.</p>\n<p>I tried using some java code to accomplish this but in the end I still can't get the result.</p>\n<p>Here is the code:</p>\n<pre><code>@PostMapping(&quot;/transcode&quot;)\n    public String Video_Transcode1() throws IOException, JSONException {\n        OkHttpClient client = new OkHttpClient();\n        String data=generate_Access_token( );\n        MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n        RequestBody body = RequestBody.create(mediaType, &quot;{\\&quot;inputs\\&quot;:[{\\&quot;source\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}],\\&quot;outputs\\&quot;:[{\\&quot;kind\\&quot;:\\&quot;mp4\\&quot;,\\&quot;destination\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}]}&quot;);\n        Request request = new Request.Builder()\n          .url(&quot;https://api.dolby.com/media/transcode&quot;)\n          .post(body)\n          .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\n          .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n          .addHeader(&quot;Authorization&quot;,&quot;Bearer &quot;+data)\n          .build();\n\n        Response response = client.newCall(request).execute();\n        return response.toString();\n    }\n</code></pre>\n<p>Here the data is generated from another function (ie:Access token)</p>\n<p>I have encoded two URLs as json here:</p>\n<pre><code> RequestBody body = RequestBody.create(mediaType, &quot;{\\&quot;inputs\\&quot;:[{\\&quot;source\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}],\\&quot;outputs\\&quot;:[{\\&quot;kind\\&quot;:\\&quot;mp4\\&quot;,\\&quot;destination\\&quot;:\\&quot;https://vb-object-storage.ap-south-1.linodeobjects.com/The%20Hindu%20Daily%20News%20Analysis%20__%203rd%20July%202022%20__%20UPSC%20Current%20Affairs%20__%20Prelims%20%2722%20%26%20Mains%20%2722%28360%29.mp4?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Date=20220707T073322Z&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Expires=604799&amp;X-Amz-Credential=ZVADROBVHWLK1FOYT225%2F20220707%2Fap-south-1%2Fs3%2Faws4_request&amp;X-Amz-Signature=0aa4b388ea3197dd8a03253f5f7313b4209b8acf5e0a4308dc5e543801d22c73\\&quot;}]}&quot;);\n</code></pre>\n<p>Is there any look around to bring the solution.</p>\n"},{"tags":["java","maven","continuous-integration","maven-3","continuous-deployment"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1657557879,"post_id":72941601,"comment_id":128833916,"body_markdown":"Can you describe/show more in detail what you mean by: `If I change the versioning of any of the three projects [which is quite often], I need to change the versions all the 5 project pom.xml files` ???","body":"Can you describe/show more in detail what you mean by: <code>If I change the versioning of any of the three projects [which is quite often], I need to change the versions all the 5 project pom.xml files</code> ???"},{"owner":{"account_id":3793708,"reputation":7679,"user_id":3149528,"accept_rate":50,"display_name":"Slawomir Jaranowski"},"score":0,"creation_date":1657563912,"post_id":72941601,"comment_id":128835917,"body_markdown":"project - you think of Maven module? Do you have one parent pom of all with `modules` tag?","body":"project - you think of Maven module? Do you have one parent pom of all with <code>modules</code> tag?"},{"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"score":0,"creation_date":1657571673,"post_id":72941601,"comment_id":128838209,"body_markdown":"Those are all independent projects, not having any parent pom. No modules whatsoever @SlawomirJaranowski","body":"Those are all independent projects, not having any parent pom. No modules whatsoever @SlawomirJaranowski"},{"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"score":0,"creation_date":1657571819,"post_id":72941601,"comment_id":128838254,"body_markdown":"@khmarbaise I meant, if I change version of the projects (say project 1, project 2 or project 3), I would have to change the dependency of these projects everywhere they have been mentioned as dependency.","body":"@khmarbaise I meant, if I change version of the projects (say project 1, project 2 or project 3), I would have to change the dependency of these projects everywhere they have been mentioned as dependency."},{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1657584592,"post_id":72941601,"comment_id":128840777,"body_markdown":"Do you use -SNAPSHOTs?","body":"Do you use -SNAPSHOTs?"},{"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"score":0,"creation_date":1657733958,"post_id":72941601,"comment_id":128883039,"body_markdown":"I&#39;m not using Snapshot @Thorbj&#248;rnRavnAndersen. Wondering how would snapshot solve this problem?","body":"I&#39;m not using Snapshot @Thorbj&#248;rnRavnAndersen. Wondering how would snapshot solve this problem?"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657568177,"creation_date":1657568177,"answer_id":72943771,"question_id":72941601,"body_markdown":"1st solution: Put all eight projects into one multi-module project and build it together with the same version number\r\n\r\n2nd solution: Do not change the versions so often, only if you publish everything as productive version to the outside world.","title":"How to properly manage multiple independent maven projects versioning in eclipse","body":"<p>1st solution: Put all eight projects into one multi-module project and build it together with the same version number</p>\n<p>2nd solution: Do not change the versions so often, only if you publish everything as productive version to the outside world.</p>\n"}],"owner":{"account_id":127741,"reputation":434,"user_id":325118,"accept_rate":38,"display_name":"Sameer Malhotra"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657568177,"creation_date":1657556134,"question_id":72941601,"body_markdown":"This may be an easy answer for you but I&#39;ve been spending lot of my time changing the project versions. Here is my situation:\r\n\r\nI have 8 java spring projects in my eclipse workspace. 5 projects depend on the 3 other libraries.If I change the versioning of any of the three projects [which is quite often], I need to change the versions all the 5 project pom.xml files. I found it very cumbersome. I tried changing the versioning of these 3 dependent projects to a constant value [e.g. latest], then my local set up is working fine but CI/CD doesn&#39;t change the next incremental version. \r\n\r\nI&#39;m pretty sure I&#39;m not the only one who is facing this type of situation. Hoping someone can guide me on how to manage the versioning locally and in the CI/CD process. \r\n\r\nThank you for reading this!","title":"How to properly manage multiple independent maven projects versioning in eclipse","body":"<p>This may be an easy answer for you but I've been spending lot of my time changing the project versions. Here is my situation:</p>\n<p>I have 8 java spring projects in my eclipse workspace. 5 projects depend on the 3 other libraries.If I change the versioning of any of the three projects [which is quite often], I need to change the versions all the 5 project pom.xml files. I found it very cumbersome. I tried changing the versioning of these 3 dependent projects to a constant value [e.g. latest], then my local set up is working fine but CI/CD doesn't change the next incremental version.</p>\n<p>I'm pretty sure I'm not the only one who is facing this type of situation. Hoping someone can guide me on how to manage the versioning locally and in the CI/CD process.</p>\n<p>Thank you for reading this!</p>\n"},{"tags":["java","spring-boot","oauth-2.0","spring-webclient"],"owner":{"account_id":873441,"reputation":1033,"user_id":926251,"display_name":"pooya72"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657568162,"creation_date":1657568162,"question_id":72943767,"body_markdown":"I&#39;m trying to login to an API using a bearer token. The steps are as follows:\r\n\r\n 1. Send url-encoded username and password to endpoint, and cache token. The request body is:\r\n    ```\r\n     {\r\n      grant_type:password,\r\n      username:username,\r\n      password:password\r\n     }\r\n\r\n 2. Use token to call API.\r\n\r\n\r\nSo far, I have been manually doing these steps. However, I have read that Spring Boot already supports this through OAuth2. How can I configure Spring Boot to use this authentication process? There is no client-id or client secret. \r\n\r\nThanks for your help!","title":"How to setup WebClient configuration to use OAuth2 password grant type without client-id?","body":"<p>I'm trying to login to an API using a bearer token. The steps are as follows:</p>\n<ol>\n<li>Send url-encoded username and password to endpoint, and cache token. The request body is:\n<pre><code> {\n  grant_type:password,\n  username:username,\n  password:password\n }\n\n</code></pre>\n</li>\n<li>Use token to call API.</li>\n</ol>\n<p>So far, I have been manually doing these steps. However, I have read that Spring Boot already supports this through OAuth2. How can I configure Spring Boot to use this authentication process? There is no client-id or client secret.</p>\n<p>Thanks for your help!</p>\n"},{"tags":["java","java-native-interface"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1657699121,"post_id":72943364,"comment_id":128869794,"body_markdown":"If your memory management model allows it, you could keep a list of `(jobject, void *)` pairs as a cache and use `env-&gt;IsSameObject()` as a lookup function.","body":"If your memory management model allows it, you could keep a list of <code>(jobject, void *)</code> pairs as a cache and use <code>env-&gt;IsSameObject()</code> as a lookup function."}],"answers":[{"tags":[],"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1657567669,"creation_date":1657567669,"answer_id":72943689,"question_id":72943364,"body_markdown":"Java 9+ apparently makes access to the `address` field illegal via reflection.\r\n\r\nGoogle posted an issue with protobuf: [**&lt;Java&gt; JDK 9 warning: Illegal reflective access by com.google.protobuf.UnsafeUtil to field java.nio.Buffer.address #3781**](https://github.com/protocolbuffers/protobuf/issues/3781).\r\n\r\nNote the posted error message:\r\n\r\n&gt;     WARNING: An illegal reflective access operation has occurred\r\n&gt;     WARNING: Illegal reflective access by com.google.protobuf.UnsafeUtil\r\n&gt;         (file:/Users/mmueller/.gradle/caches/modules-2/files-2.1/com.google.protobuf/protobuf-java/3.4.0/b32aba0cbe737a4ca953f71688725972e3ee927c/protobuf-java-3.4.0.jar)\r\n&gt;         to field java.nio.Buffer.address\r\n&gt;     WARNING: Please consider reporting this to the maintainers of com.google.protobuf.UnsafeUtil\r\n&gt;     WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n&gt;     WARNING: All illegal access operations will be denied in a future release\r\n\r\nGiven the `All illegal access operations will be denied in a future release` warning, it appears you risk future versions of Java potentially preventing access to the field, even via JNI.\r\n\r\nIt may also be possible, depending on how you use the field&#39;s value, that the address of the underlying buffer could change out from under you.\r\n\r\nAnd finally, you&#39;re dependent on the internal implementation of the class.  Should that change, your code will be broken.\r\n\r\nYou&#39;ll have to weigh those risks against the benefits you get from accessing the field directly.","title":"Risks of directly getting DirectByteBuffer address in JNI","body":"<p>Java 9+ apparently makes access to the <code>address</code> field illegal via reflection.</p>\n<p>Google posted an issue with protobuf: <a href=\"https://github.com/protocolbuffers/protobuf/issues/3781\" rel=\"nofollow noreferrer\"><strong> JDK 9 warning: Illegal reflective access by com.google.protobuf.UnsafeUtil to field java.nio.Buffer.address #3781</strong></a>.</p>\n<p>Note the posted error message:</p>\n<blockquote>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.google.protobuf.UnsafeUtil\n    (file:/Users/mmueller/.gradle/caches/modules-2/files-2.1/com.google.protobuf/protobuf-java/3.4.0/b32aba0cbe737a4ca953f71688725972e3ee927c/protobuf-java-3.4.0.jar)\n    to field java.nio.Buffer.address\nWARNING: Please consider reporting this to the maintainers of com.google.protobuf.UnsafeUtil\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n</code></pre>\n</blockquote>\n<p>Given the <code>All illegal access operations will be denied in a future release</code> warning, it appears you risk future versions of Java potentially preventing access to the field, even via JNI.</p>\n<p>It may also be possible, depending on how you use the field's value, that the address of the underlying buffer could change out from under you.</p>\n<p>And finally, you're dependent on the internal implementation of the class.  Should that change, your code will be broken.</p>\n<p>You'll have to weigh those risks against the benefits you get from accessing the field directly.</p>\n"}],"owner":{"account_id":1397805,"reputation":10162,"user_id":1327235,"display_name":"Juan Lopes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72943689,"answer_count":1,"score":2,"last_activity_date":1657567669,"creation_date":1657565723,"question_id":72943364,"body_markdown":"I have a JNI library which accepts a DirectByteBuffer and operates over it.\r\n\r\nTo get the buffer address, I was using:\r\n\r\n```cpp\r\n(unsigned char *) env-&gt;GetDirectBufferAddress(input)\r\n```\r\n\r\nThat was good, but after profiling it I noticed that a long time was spent in `jni_IsInstanceOf`:\r\n\r\n[![profiler][1]][1].\r\n\r\nI then replaced it with direct access to `Buffer.address`\r\n\r\n```cpp\r\njava_nio_Buffer = env-&gt;FindClass(&quot;java/nio/Buffer&quot;);\r\njava_nio_Buffer_address = env-&gt;GetFieldID(java_nio_Buffer, &quot;address&quot;, &quot;J&quot;);\r\n(...)\r\n(unsigned char *) env-&gt;GetLongField(input, java_nio_Buffer_address)\r\n```\r\n\r\nThat caused a _huge_ speedup in that code. \r\n\r\nAre there any major risks in getting a DirectByteBuffer address that way, given I know my object will always be a DirectByteBuffer?\r\n\r\n  [1]: https://i.stack.imgur.com/V73yZ.png","title":"Risks of directly getting DirectByteBuffer address in JNI","body":"<p>I have a JNI library which accepts a DirectByteBuffer and operates over it.</p>\n<p>To get the buffer address, I was using:</p>\n<pre class=\"lang-cpp prettyprint-override\"><code>(unsigned char *) env-&gt;GetDirectBufferAddress(input)\n</code></pre>\n<p>That was good, but after profiling it I noticed that a long time was spent in <code>jni_IsInstanceOf</code>:</p>\n<p><a href=\"https://i.stack.imgur.com/V73yZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/V73yZ.png\" alt=\"profiler\" /></a>.</p>\n<p>I then replaced it with direct access to <code>Buffer.address</code></p>\n<pre class=\"lang-cpp prettyprint-override\"><code>java_nio_Buffer = env-&gt;FindClass(&quot;java/nio/Buffer&quot;);\njava_nio_Buffer_address = env-&gt;GetFieldID(java_nio_Buffer, &quot;address&quot;, &quot;J&quot;);\n(...)\n(unsigned char *) env-&gt;GetLongField(input, java_nio_Buffer_address)\n</code></pre>\n<p>That caused a <em>huge</em> speedup in that code.</p>\n<p>Are there any major risks in getting a DirectByteBuffer address that way, given I know my object will always be a DirectByteBuffer?</p>\n"},{"tags":["java","html","spring","spring-boot","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":25774719,"reputation":1,"user_id":19521935,"display_name":"Callz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657567594,"creation_date":1657567594,"answer_id":72943675,"question_id":72930773,"body_markdown":"So apparently for some reason template resolvers did not autoconfigure, so I needed to add this code in my configuration, and it works:\r\n\r\n     @Bean\r\n    public SpringResourceTemplateResolver templateResolver(){\r\n        SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\r\n        templateResolver.setCacheable(false);\r\n        templateResolver.setPrefix(&quot;classpath:/templates/&quot;);\r\n        templateResolver.setSuffix(&quot;.html&quot;);\r\n        return templateResolver;\r\n    }\r\n\r\n    @Bean\r\n    public SpringTemplateEngine springTemplateEngine(){\r\n        SpringTemplateEngine springTemplateEngine = new SpringTemplateEngine();\r\n        springTemplateEngine.addTemplateResolver(templateResolver());\r\n        return springTemplateEngine;\r\n    }\r\n\r\n    @Bean\r\n    public ThymeleafViewResolver viewResolver(){\r\n        ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\r\n        viewResolver.setTemplateEngine(springTemplateEngine());\r\n        viewResolver.setOrder(1);\r\n        return viewResolver;\r\n    }","title":"Thymeleaf not seeing objcet added to model with model.addObject()","body":"<p>So apparently for some reason template resolvers did not autoconfigure, so I needed to add this code in my configuration, and it works:</p>\n<pre><code> @Bean\npublic SpringResourceTemplateResolver templateResolver(){\n    SpringResourceTemplateResolver templateResolver = new SpringResourceTemplateResolver();\n    templateResolver.setCacheable(false);\n    templateResolver.setPrefix(&quot;classpath:/templates/&quot;);\n    templateResolver.setSuffix(&quot;.html&quot;);\n    return templateResolver;\n}\n\n@Bean\npublic SpringTemplateEngine springTemplateEngine(){\n    SpringTemplateEngine springTemplateEngine = new SpringTemplateEngine();\n    springTemplateEngine.addTemplateResolver(templateResolver());\n    return springTemplateEngine;\n}\n\n@Bean\npublic ThymeleafViewResolver viewResolver(){\n    ThymeleafViewResolver viewResolver = new ThymeleafViewResolver();\n    viewResolver.setTemplateEngine(springTemplateEngine());\n    viewResolver.setOrder(1);\n    return viewResolver;\n}\n</code></pre>\n"}],"owner":{"account_id":25774719,"reputation":1,"user_id":19521935,"display_name":"Callz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72943675,"answer_count":1,"score":0,"last_activity_date":1657567594,"creation_date":1657476640,"question_id":72930773,"body_markdown":"I&#39;m haveing problems with thymeleaf in Java project because it doesn&#39;t see any objects I&#39;m adding to my models. \r\n\r\nHere&#39;s my GET mapping:\r\n\r\n    @GetMapping(USER_PATH)\r\n    public ModelAndView getUserOffersView(){\r\n        ModelAndView model = new ModelAndView(&quot;/panel/user/offer-list&quot;);\r\n        List&lt;Firearm&gt; firearmList = firearmService.findAllByUserId(userService.findLogged().get().getUserId());\r\n        model.addObject(&quot;firearmList&quot;, firearmList);\r\n        return model;\r\n    }\r\n\r\nAnd that&#39;s HTML where I&#39;M tryign to access it:\r\n\r\n    &lt;div class=&quot;row&quot;&gt;\r\n                    &lt;div class=&quot;col-md-4&quot; th:each=&quot;offer : ${firearmList}&quot;&gt;\r\n                        &lt;div class=&quot;card mb-4 product-wap rounded-0&quot; style=&quot;max-width: 250px; max-height: 500px&quot;&gt;\r\n                            &lt;div class=&quot;card rounded-0&quot;&gt;\r\n                                &lt;img class=&quot;card-img rounded-0 img-fluid&quot; src=&quot;/img/shop_01.jpg&quot;&gt;\r\n                                &lt;div class=&quot;card-img-overlay rounded-0 product-overlay d-flex align-items-center justify-content-center&quot;&gt;\r\n                                    &lt;ul class=&quot;list-unstyled&quot;&gt;\r\n                                        &lt;li&gt;&lt;a class=&quot;btn btn-success text-white&quot; href=&quot;shop-single.html&quot;&gt;&lt;i class=&quot;far fa-heart&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n                                        &lt;li&gt;&lt;a class=&quot;btn btn-success text-white mt-2&quot; href=&quot;shop-single.html&quot;&gt;&lt;i class=&quot;far fa-eye&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n                                        &lt;li&gt;&lt;a class=&quot;btn btn-success text-white mt-2&quot; href=&quot;shop-single.html&quot;&gt;&lt;i class=&quot;fas fa-cart-plus&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\r\n                                    &lt;/ul&gt;\r\n                                &lt;/div&gt;\r\n                            &lt;/div&gt;\r\n                            &lt;div class=&quot;card-body&quot;&gt;\r\n                                &lt;a href=&quot;shop-single.html&quot; class=&quot;h3 text-decoration-none&quot; th:text=&quot;${offer.title}&quot;&gt;&lt;/a&gt;\r\n                                &lt;ul class=&quot;w-100 list-unstyled d-flex justify-content-between mb-0&quot;&gt;\r\n                                    &lt;li&gt;&lt;/li&gt;\r\n                                &lt;/ul&gt;\r\n                                &lt;p class=&quot;text-center mb-0&quot; th:text=&quot;${offer.price}&quot;&gt;&lt;/p&gt;\r\n                            &lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n\r\n\r\nFor some reason thymeleaf doesn&#39;t recongize any object, but sometimes if I type the object&#39;s value I&#39;m trying to access, eg *offer.price* as shown here it DOES SHOW in the browser, so it can access the data, but it does not see the object, which makes coding incredibly painful. I&#39;m not sure if that&#39;s related, but my controllers cannot find any views in the project: [PIC REL HERE][1].\r\n\r\nMy pom.xml:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    \r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n            &lt;version&gt;2.16.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.21&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludes&gt;\r\n                        &lt;exclude&gt;\r\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                        &lt;/exclude&gt;\r\n                    &lt;/excludes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QTMYD.png","title":"Thymeleaf not seeing objcet added to model with model.addObject()","body":"<p>I'm haveing problems with thymeleaf in Java project because it doesn't see any objects I'm adding to my models.</p>\n<p>Here's my GET mapping:</p>\n<pre><code>@GetMapping(USER_PATH)\npublic ModelAndView getUserOffersView(){\n    ModelAndView model = new ModelAndView(&quot;/panel/user/offer-list&quot;);\n    List&lt;Firearm&gt; firearmList = firearmService.findAllByUserId(userService.findLogged().get().getUserId());\n    model.addObject(&quot;firearmList&quot;, firearmList);\n    return model;\n}\n</code></pre>\n<p>And that's HTML where I'M tryign to access it:</p>\n<pre><code>&lt;div class=&quot;row&quot;&gt;\n                &lt;div class=&quot;col-md-4&quot; th:each=&quot;offer : ${firearmList}&quot;&gt;\n                    &lt;div class=&quot;card mb-4 product-wap rounded-0&quot; style=&quot;max-width: 250px; max-height: 500px&quot;&gt;\n                        &lt;div class=&quot;card rounded-0&quot;&gt;\n                            &lt;img class=&quot;card-img rounded-0 img-fluid&quot; src=&quot;/img/shop_01.jpg&quot;&gt;\n                            &lt;div class=&quot;card-img-overlay rounded-0 product-overlay d-flex align-items-center justify-content-center&quot;&gt;\n                                &lt;ul class=&quot;list-unstyled&quot;&gt;\n                                    &lt;li&gt;&lt;a class=&quot;btn btn-success text-white&quot; href=&quot;shop-single.html&quot;&gt;&lt;i class=&quot;far fa-heart&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n                                    &lt;li&gt;&lt;a class=&quot;btn btn-success text-white mt-2&quot; href=&quot;shop-single.html&quot;&gt;&lt;i class=&quot;far fa-eye&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n                                    &lt;li&gt;&lt;a class=&quot;btn btn-success text-white mt-2&quot; href=&quot;shop-single.html&quot;&gt;&lt;i class=&quot;fas fa-cart-plus&quot;&gt;&lt;/i&gt;&lt;/a&gt;&lt;/li&gt;\n                                &lt;/ul&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=&quot;card-body&quot;&gt;\n                            &lt;a href=&quot;shop-single.html&quot; class=&quot;h3 text-decoration-none&quot; th:text=&quot;${offer.title}&quot;&gt;&lt;/a&gt;\n                            &lt;ul class=&quot;w-100 list-unstyled d-flex justify-content-between mb-0&quot;&gt;\n                                &lt;li&gt;&lt;/li&gt;\n                            &lt;/ul&gt;\n                            &lt;p class=&quot;text-center mb-0&quot; th:text=&quot;${offer.price}&quot;&gt;&lt;/p&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n</code></pre>\n<p>For some reason thymeleaf doesn't recongize any object, but sometimes if I type the object's value I'm trying to access, eg <em>offer.price</em> as shown here it DOES SHOW in the browser, so it can access the data, but it does not see the object, which makes coding incredibly painful. I'm not sure if that's related, but my controllers cannot find any views in the project: <a href=\"https://i.stack.imgur.com/QTMYD.png\" rel=\"nofollow noreferrer\">PIC REL HERE</a>.</p>\n<p>My pom.xml:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n        &lt;version&gt;2.16.3&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n        &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;version&gt;5.6.9.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n        &lt;version&gt;5.3.21&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n        &lt;version&gt;2.7.1&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;\n                        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                    &lt;/exclude&gt;\n                &lt;/excludes&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n"},{"tags":["java","maven","spotless"],"comments":[{"owner":{"account_id":1593091,"reputation":898,"user_id":1476031,"display_name":"Sharad"},"score":0,"creation_date":1659031834,"post_id":72893968,"comment_id":129205038,"body_markdown":"https://github.com/diffplug/spotless/issues/1258#event-7003326295 Currently it is not supported .","body":"<a href=\"https://github.com/diffplug/spotless/issues/1258#event-7003326295\" rel=\"nofollow noreferrer\">github.com/diffplug/spotless/issues/1258#event-7003326295</a> Currently it is not supported ."}],"answers":[{"tags":[],"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657567507,"creation_date":1657498791,"answer_id":72932715,"question_id":72893968,"body_markdown":"# Introduction\r\nLet&#39;s consider the limitation: the Spotless formatter steps must be Java-based, i.e. avoid using external programs (`npm`, etc.).\r\n\r\nLet&#39;s consider Spotless Maven plugin `2.23.0` as the current version.\r\n\r\nLet&#39;s call Java-based JSON document formatting and validation the feature.\r\n\r\n# Analysis\r\nAccording to the [feature matrix table](https://github.com/diffplug/spotless/tree/maven/2.23.0#current-feature-matrix), the following formatter steps are available for Spotless Gradle plugin, but not available for Spotless Maven plugin:\r\n\r\n* [json.gson.GsonStep](https://github.com/diffplug/spotless/blob/maven/2.23.0/lib/src/main/java/com/diffplug/spotless/json/gson/GsonStep.java).\r\n* [json.JsonSimpleStep](https://github.com/diffplug/spotless/blob/maven/2.23.0/lib/src/main/java/com/diffplug/spotless/json/JsonSimpleStep.java).\r\n\r\nThese feature steps are Java-based.\r\n\r\n## Summary\r\nCurrently, there are no such Spotless formatter steps available for Spotless Maven plugin — the feature is absent.\r\n\r\n# Possible solutions\r\n## Implement feature\r\n1. Implement the feature.\r\n2. Create a pull request to propose and collaborate on changes to the [GitHub repository](https://github.com/diffplug/spotless).\r\n\r\n## Request feature\r\nRequest the feature by creating an issue in the [GitHub repository](https://github.com/diffplug/spotless).\r\n\r\nIt looks like there was a quick attempt to request it. Please, see the comment:\r\n\r\n* GitHub issue: [Add JVM-based JSON formatter by jamietanna &#183; Pull Request #853 &#183; diffplug/spotless](https://github.com/diffplug/spotless/pull/853).\r\n* [Comment](https://github.com/diffplug/spotless/pull/853#issuecomment-968784849).\r\n\r\n## Find and use additional formatter Maven plugin\r\nFind and use additional formatter Maven plugin that has the feature.\r\n\r\nFor example, it seems that the following formatter Maven plugin supports JSON document formatting and validation:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;net.revelc.code.formatter&lt;/groupId&gt;\r\n    &lt;artifactId&gt;formatter-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;2.19.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSome related references:\r\n\r\n* [formatter-maven-plugin – Introduction](https://code.revelc.net/formatter-maven-plugin/).\r\n* [formatter-maven-plugin – formatter:format - configJsonFile parameter](https://code.revelc.net/formatter-maven-plugin/format-mojo.html#configJsonFile).\r\n* [formatter-maven-plugin – formatter:validate - configJsonFile parameter](https://code.revelc.net/formatter-maven-plugin/validate-mojo.html#configJsonFile).\r\n* [formatter-maven-plugin/JsonFormatter.java at formatter-maven-plugin-2.19.0 &#183; revelc/formatter-maven-plugin](https://github.com/revelc/formatter-maven-plugin/blob/formatter-maven-plugin-2.19.0/src/main/java/net/revelc/code/formatter/json/JsonFormatter.java).\r\n* [formatter-maven-plugin/JsonFormatterTest.java at formatter-maven-plugin-2.19.0 &#183; revelc/formatter-maven-plugin](https://github.com/revelc/formatter-maven-plugin/blob/formatter-maven-plugin-2.19.0/src/test/java/net/revelc/code/formatter/json/JsonFormatterTest.java).","title":"JSON files formatting in Spring boot based projects","body":"<h1>Introduction</h1>\n<p>Let's consider the limitation: the Spotless formatter steps must be Java-based, i.e. avoid using external programs (<code>npm</code>, etc.).</p>\n<p>Let's consider Spotless Maven plugin <code>2.23.0</code> as the current version.</p>\n<p>Let's call Java-based JSON document formatting and validation the feature.</p>\n<h1>Analysis</h1>\n<p>According to the <a href=\"https://github.com/diffplug/spotless/tree/maven/2.23.0#current-feature-matrix\" rel=\"nofollow noreferrer\">feature matrix table</a>, the following formatter steps are available for Spotless Gradle plugin, but not available for Spotless Maven plugin:</p>\n<ul>\n<li><a href=\"https://github.com/diffplug/spotless/blob/maven/2.23.0/lib/src/main/java/com/diffplug/spotless/json/gson/GsonStep.java\" rel=\"nofollow noreferrer\">json.gson.GsonStep</a>.</li>\n<li><a href=\"https://github.com/diffplug/spotless/blob/maven/2.23.0/lib/src/main/java/com/diffplug/spotless/json/JsonSimpleStep.java\" rel=\"nofollow noreferrer\">json.JsonSimpleStep</a>.</li>\n</ul>\n<p>These feature steps are Java-based.</p>\n<h2>Summary</h2>\n<p>Currently, there are no such Spotless formatter steps available for Spotless Maven plugin — the feature is absent.</p>\n<h1>Possible solutions</h1>\n<h2>Implement feature</h2>\n<ol>\n<li>Implement the feature.</li>\n<li>Create a pull request to propose and collaborate on changes to the <a href=\"https://github.com/diffplug/spotless\" rel=\"nofollow noreferrer\">GitHub repository</a>.</li>\n</ol>\n<h2>Request feature</h2>\n<p>Request the feature by creating an issue in the <a href=\"https://github.com/diffplug/spotless\" rel=\"nofollow noreferrer\">GitHub repository</a>.</p>\n<p>It looks like there was a quick attempt to request it. Please, see the comment:</p>\n<ul>\n<li>GitHub issue: <a href=\"https://github.com/diffplug/spotless/pull/853\" rel=\"nofollow noreferrer\">Add JVM-based JSON formatter by jamietanna · Pull Request #853 · diffplug/spotless</a>.</li>\n<li><a href=\"https://github.com/diffplug/spotless/pull/853#issuecomment-968784849\" rel=\"nofollow noreferrer\">Comment</a>.</li>\n</ul>\n<h2>Find and use additional formatter Maven plugin</h2>\n<p>Find and use additional formatter Maven plugin that has the feature.</p>\n<p>For example, it seems that the following formatter Maven plugin supports JSON document formatting and validation:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;net.revelc.code.formatter&lt;/groupId&gt;\n    &lt;artifactId&gt;formatter-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.19.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Some related references:</p>\n<ul>\n<li><a href=\"https://code.revelc.net/formatter-maven-plugin/\" rel=\"nofollow noreferrer\">formatter-maven-plugin – Introduction</a>.</li>\n<li><a href=\"https://code.revelc.net/formatter-maven-plugin/format-mojo.html#configJsonFile\" rel=\"nofollow noreferrer\">formatter-maven-plugin – formatter:format - configJsonFile parameter</a>.</li>\n<li><a href=\"https://code.revelc.net/formatter-maven-plugin/validate-mojo.html#configJsonFile\" rel=\"nofollow noreferrer\">formatter-maven-plugin – formatter:validate - configJsonFile parameter</a>.</li>\n<li><a href=\"https://github.com/revelc/formatter-maven-plugin/blob/formatter-maven-plugin-2.19.0/src/main/java/net/revelc/code/formatter/json/JsonFormatter.java\" rel=\"nofollow noreferrer\">formatter-maven-plugin/JsonFormatter.java at formatter-maven-plugin-2.19.0 · revelc/formatter-maven-plugin</a>.</li>\n<li><a href=\"https://github.com/revelc/formatter-maven-plugin/blob/formatter-maven-plugin-2.19.0/src/test/java/net/revelc/code/formatter/json/JsonFormatterTest.java\" rel=\"nofollow noreferrer\">formatter-maven-plugin/JsonFormatterTest.java at formatter-maven-plugin-2.19.0 · revelc/formatter-maven-plugin</a>.</li>\n</ul>\n"}],"owner":{"account_id":1593091,"reputation":898,"user_id":1476031,"display_name":"Sharad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657567507,"creation_date":1657179571,"question_id":72893968,"body_markdown":"I have spring boot projects with lots of files in .json apart from .java files. \r\n\r\nFor java formatting, we are using pre-commit hooks with ```google-java-format``` . However, for formatting .json files I am a bit struggling. \r\n\r\nI have used a maven spotless plugin\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;${spotless.version}&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;formats&gt;\r\n            &lt;format&gt;\r\n                &lt;includes&gt;\r\n                    &lt;include&gt;*.json&lt;/include&gt;\r\n                &lt;/includes&gt;\r\n                &lt;prettier&gt;\r\n                    &lt;!-- Specify at most one of the following 3 configs: either &#39;prettierVersion&#39; (2.0.5 is default) , &#39;devDependencies&#39; or &#39;devDependencyProperties&#39;  --&gt;\r\n                    &lt;prettierVersion&gt;2.0.5&lt;/prettierVersion&gt;\r\n                    &lt;!-- Specify config file and/or inline config, the inline always trumps file --&gt;\r\n                    &lt;config&gt;\r\n                        &lt;useTabs&gt;true&lt;/useTabs&gt;\r\n                    &lt;/config&gt;\r\n                &lt;/prettier&gt;\r\n            &lt;/format&gt;\r\n        &lt;/formats&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;check&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThe problem with this approach is, that it requires ```npm``` in the machine to be installed else ```mvn clean install``` will fail. Many machines on the jenkins server don&#39;t have npm pre-installed so it fails during the build.\r\n\r\nIs there an easy way to solve this? \r\nPS: This project uses GIT as version control here.\r\n","title":"JSON files formatting in Spring boot based projects","body":"<p>I have spring boot projects with lots of files in .json apart from .java files.</p>\n<p>For java formatting, we are using pre-commit hooks with <code>google-java-format</code> . However, for formatting .json files I am a bit struggling.</p>\n<p>I have used a maven spotless plugin</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.diffplug.spotless&lt;/groupId&gt;\n    &lt;artifactId&gt;spotless-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${spotless.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;formats&gt;\n            &lt;format&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;*.json&lt;/include&gt;\n                &lt;/includes&gt;\n                &lt;prettier&gt;\n                    &lt;!-- Specify at most one of the following 3 configs: either 'prettierVersion' (2.0.5 is default) , 'devDependencies' or 'devDependencyProperties'  --&gt;\n                    &lt;prettierVersion&gt;2.0.5&lt;/prettierVersion&gt;\n                    &lt;!-- Specify config file and/or inline config, the inline always trumps file --&gt;\n                    &lt;config&gt;\n                        &lt;useTabs&gt;true&lt;/useTabs&gt;\n                    &lt;/config&gt;\n                &lt;/prettier&gt;\n            &lt;/format&gt;\n        &lt;/formats&gt;\n    &lt;/configuration&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;check&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>The problem with this approach is, that it requires <code>npm</code> in the machine to be installed else <code>mvn clean install</code> will fail. Many machines on the jenkins server don't have npm pre-installed so it fails during the build.</p>\n<p>Is there an easy way to solve this?\nPS: This project uses GIT as version control here.</p>\n"},{"tags":["java","spring-boot","lombok"],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657564586,"creation_date":1657564586,"answer_id":72943157,"question_id":72942839,"body_markdown":"The error says that they can&#39;t parse `Null` into `String`. That&#39;s very interesting error and fooled me first.\r\nYour json object with other field `null` probably looks like this:\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;John&quot;,\r\n    &quot;phone&quot;: &quot;123&quot;,\r\n    &quot;address&quot;: &quot;abc&quot;\r\n}\r\n```\r\nSo somehow this API can&#39;t just wrap quotes around `null` and tells you it&#39;s not able to parse this.\r\n\r\nTherefore I guess you need to set the value of `other` to an empty string:\r\n```java\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@Builder\r\n@ToString\r\n@JsonIgnoreProperties(ignoreUnknown=true)\r\npublic class PersonDTO {\r\n  private String name;\r\n  private String address;\r\n  private String phone;\r\n  private String other = &quot;&quot;; //empty because external api can&#39;t handle null\r\n}\r\n```","title":"How do I make fields in DTO optional using lombok?","body":"<p>The error says that they can't parse <code>Null</code> into <code>String</code>. That's very interesting error and fooled me first.\nYour json object with other field <code>null</code> probably looks like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;John&quot;,\n    &quot;phone&quot;: &quot;123&quot;,\n    &quot;address&quot;: &quot;abc&quot;\n}\n</code></pre>\n<p>So somehow this API can't just wrap quotes around <code>null</code> and tells you it's not able to parse this.</p>\n<p>Therefore I guess you need to set the value of <code>other</code> to an empty string:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Builder\n@ToString\n@JsonIgnoreProperties(ignoreUnknown=true)\npublic class PersonDTO {\n  private String name;\n  private String address;\n  private String phone;\n  private String other = &quot;&quot;; //empty because external api can't handle null\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2863588,"reputation":11468,"user_id":2458310,"display_name":"denov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657567398,"creation_date":1657565014,"answer_id":72943235,"question_id":72942839,"body_markdown":"you are using lombok&#39;s `@NoArgsConstructor` and `@AllArgsConstructor`.  So you have to use one or the other. If you don&#39;t want an all args constructor you&#39;ll have to implement your own.\r\n\r\n     \r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @ToString\r\n    @JsonIgnoreProperties(ignoreUnknown=true)\r\n    public class PersonDTO {\r\n      private String name;\r\n      private String address;\r\n      private String phone;\r\n      private String other;\r\n    \r\n      public PersonDTO(String name, String address, String phone) {\r\n        super(name, address, phone, &quot;&quot;);\r\n      }\r\n    \r\n      public PersonDTO(String name, String address, String phone, String other) {\r\n        this.name = name;\r\n        this.address = address;\r\n        this.phone = phone;\r\n        this.other = other\r\n      }\r\n    \r\n    }\r\n\r\n\r\nOr if you have control over AND this is a spring boot app, you could try using `required=false` in your controller so you can continue to use an all arg constructor.\r\n\r\n\r\n    public PersonDTO getPerson(\r\n          @PathVariable(value = &quot;name&quot;) String name,\r\n          @PathVariable(value = &quot;address&quot;) String address\r\n          @PathVariable(value = &quot;phone&quot;) String phone\r\n          @PathVariable(value = &quot;other&quot;, required = false) String other) { \r\n\r\n     ....\r\n\r\n    }","title":"How do I make fields in DTO optional using lombok?","body":"<p>you are using lombok's <code>@NoArgsConstructor</code> and <code>@AllArgsConstructor</code>.  So you have to use one or the other. If you don't want an all args constructor you'll have to implement your own.</p>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\n@Builder\n@ToString\n@JsonIgnoreProperties(ignoreUnknown=true)\npublic class PersonDTO {\n  private String name;\n  private String address;\n  private String phone;\n  private String other;\n\n  public PersonDTO(String name, String address, String phone) {\n    super(name, address, phone, &quot;&quot;);\n  }\n\n  public PersonDTO(String name, String address, String phone, String other) {\n    this.name = name;\n    this.address = address;\n    this.phone = phone;\n    this.other = other\n  }\n\n}\n</code></pre>\n<p>Or if you have control over AND this is a spring boot app, you could try using <code>required=false</code> in your controller so you can continue to use an all arg constructor.</p>\n<pre><code>public PersonDTO getPerson(\n      @PathVariable(value = &quot;name&quot;) String name,\n      @PathVariable(value = &quot;address&quot;) String address\n      @PathVariable(value = &quot;phone&quot;) String phone\n      @PathVariable(value = &quot;other&quot;, required = false) String other) { \n\n ....\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3049564,"reputation":811,"user_id":2584453,"accept_rate":52,"display_name":"Sharique"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657566388,"creation_date":1657566388,"answer_id":72943476,"question_id":72942839,"body_markdown":"If attributes are nullable then you can use `@JsonInclude(Include.NON_NULL)`. This will allow to set null value in the attributes. I guess, by default it doesn&#39;t allow null value.","title":"How do I make fields in DTO optional using lombok?","body":"<p>If attributes are nullable then you can use <code>@JsonInclude(Include.NON_NULL)</code>. This will allow to set null value in the attributes. I guess, by default it doesn't allow null value.</p>\n"},{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657566490,"creation_date":1657566490,"answer_id":72943497,"question_id":72942839,"body_markdown":"Adding `@JsonInclude(JsonInclude.Include.NON_NULL)` is the solution as you said in the comment. This annotation tells the serializer to ignore fields that are null. If you don&#39;t add this the payload will look like this:\r\n\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;John&quot;,\r\n    &quot;phone&quot;: &quot;123&quot;,\r\n    &quot;address&quot;: &quot;abc&quot;,\r\n    &quot;other&quot;: null\r\n}","title":"How do I make fields in DTO optional using lombok?","body":"<p>Adding <code>@JsonInclude(JsonInclude.Include.NON_NULL)</code> is the solution as you said in the comment. This annotation tells the serializer to ignore fields that are null. If you don't add this the payload will look like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;John&quot;,\n    &quot;phone&quot;: &quot;123&quot;,\n    &quot;address&quot;: &quot;abc&quot;,\n    &quot;other&quot;: null\n}\n</code></pre>\n"}],"owner":{"account_id":24443293,"reputation":29,"user_id":18366663,"display_name":"xorax12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2223,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72943157,"answer_count":4,"score":-1,"last_activity_date":1657567398,"creation_date":1657562544,"question_id":72942839,"body_markdown":"So I have a DTO like this,\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @ToString\r\n    @JsonIgnoreProperties(ignoreUnknown=true)\r\n    public class PersonDTO {\r\n      private String name;\r\n      private String address;\r\n      private String phone;\r\n      private String other;\r\n    }\r\n\r\nI am passing the following payload to an external API\r\n\r\n    {\r\n        &quot;name&quot;: &quot;John&quot;,\r\n        &quot;phone&quot;: &quot;123&quot;,\r\n        &quot;address&quot;: &quot;abc&quot;\r\n    }\r\n\r\nThis is throwing me 500 internal error:\r\n\r\n    HttpClientErrorException$NotFound: 404: &quot;{&lt;EOL&gt; &quot;status&quot;: &quot;Error&quot;, &lt;EOL&gt; &quot;message&quot;: &quot;Error validating JSON. Error: - Invalid type Null, expected String.&quot;}&quot;\r\n\r\nIf I comment out `other` property in DTO then I will successfully get 200 response. I thought `@JsonIgnoreProperties` annotation is supposed to ignore the properties that are not present but it seems that&#39;s not working.","title":"How do I make fields in DTO optional using lombok?","body":"<p>So I have a DTO like this,</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Builder\n@ToString\n@JsonIgnoreProperties(ignoreUnknown=true)\npublic class PersonDTO {\n  private String name;\n  private String address;\n  private String phone;\n  private String other;\n}\n</code></pre>\n<p>I am passing the following payload to an external API</p>\n<pre><code>{\n    &quot;name&quot;: &quot;John&quot;,\n    &quot;phone&quot;: &quot;123&quot;,\n    &quot;address&quot;: &quot;abc&quot;\n}\n</code></pre>\n<p>This is throwing me 500 internal error:</p>\n<pre><code>HttpClientErrorException$NotFound: 404: &quot;{&lt;EOL&gt; &quot;status&quot;: &quot;Error&quot;, &lt;EOL&gt; &quot;message&quot;: &quot;Error validating JSON. Error: - Invalid type Null, expected String.&quot;}&quot;\n</code></pre>\n<p>If I comment out <code>other</code> property in DTO then I will successfully get 200 response. I thought <code>@JsonIgnoreProperties</code> annotation is supposed to ignore the properties that are not present but it seems that's not working.</p>\n"},{"tags":["java","datetime","unix-timestamp"],"comments":[{"owner":{"account_id":13016975,"reputation":197,"user_id":9407809,"display_name":"Kevin Crum"},"score":0,"creation_date":1657560531,"post_id":72942360,"comment_id":128834827,"body_markdown":"this looks like a homework assignment, perhaps reaching out to your instructors for advice on how to identify problems in your code.","body":"this looks like a homework assignment, perhaps reaching out to your instructors for advice on how to identify problems in your code."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1657562297,"post_id":72942360,"comment_id":128835437,"body_markdown":"Start simple. A day in UTC (I assume that you are assuming UTC) is 86 400 seconds, so entering 86400 should give January 2, 1970 00:00. I got `12:00 AM  01/01/1970`. Start by finding and fixing this bug. After that there are probably more.","body":"Start simple. A day in UTC (I assume that you are assuming UTC) is 86 400 seconds, so entering 86400 should give January 2, 1970 00:00. I got <code>12:00 AM  01&#47;01&#47;1970</code>. Start by finding and fixing this bug. After that there are probably more."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1657569906,"post_id":72942360,"comment_id":128837687,"body_markdown":"If this is a schoolwork assignment, say so explicitly at the top of your Question.","body":"If this is a schoolwork assignment, say so explicitly at the top of your Question."}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657563449,"creation_date":1657561849,"answer_id":72942707,"question_id":72942360,"body_markdown":"Given\r\n&gt; UNIX time (time in seconds since 12:00 AM January 1, 1970)\r\n\r\nAssume if we convert `0` as integer timestmap in unix-epoch format to a `java.util.Date` we solved it.\r\n\r\n### Using `java.util.Date` (prior to Java 8)\r\n```java\r\nlong unixTimeInMilliseconds = 0; \r\nDate convertedDate = new java.util.Date(unixTimeInMilliseconds);\r\nSystem.out.println(convertedDate);\r\n```\r\nPrints:\r\n```text\r\nThu Jan 01 00:00:00 GMT 1970\r\n```\r\n### Using `java.time.Instant` or suitable Java 8 class \r\nYou can also use the [Java Date/Time API](https://docs.oracle.com/javase/8/docs/technotes/guides/datetime/index.html) introduced since Java 8 in a similar manner:\r\n```java\r\nlong unixTimeInMilliseconds = 0; // 0 ms\r\nInstant timestamp = Instant.ofEpochMilli(unixTimeInMilliseconds);\r\nSystem.out.println(timestamp);\r\n```\r\nPrints:\r\n```text\r\n1970-01-01T00:00:00Z\r\n```\r\n\r\n### See also\r\nhttps://stackoverflow.com/questions/535004/unix-epoch-time-to-java-date-object\r\n","title":"UNIX Time to Date and Time Conversion Problem Java","body":"<p>Given</p>\n<blockquote>\n<p>UNIX time (time in seconds since 12:00 AM January 1, 1970)</p>\n</blockquote>\n<p>Assume if we convert <code>0</code> as integer timestmap in unix-epoch format to a <code>java.util.Date</code> we solved it.</p>\n<h3>Using <code>java.util.Date</code> (prior to Java 8)</h3>\n<pre class=\"lang-java prettyprint-override\"><code>long unixTimeInMilliseconds = 0; \nDate convertedDate = new java.util.Date(unixTimeInMilliseconds);\nSystem.out.println(convertedDate);\n</code></pre>\n<p>Prints:</p>\n<pre><code>Thu Jan 01 00:00:00 GMT 1970\n</code></pre>\n<h3>Using <code>java.time.Instant</code> or suitable Java 8 class</h3>\n<p>You can also use the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/datetime/index.html\" rel=\"nofollow noreferrer\">Java Date/Time API</a> introduced since Java 8 in a similar manner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>long unixTimeInMilliseconds = 0; // 0 ms\nInstant timestamp = Instant.ofEpochMilli(unixTimeInMilliseconds);\nSystem.out.println(timestamp);\n</code></pre>\n<p>Prints:</p>\n<pre><code>1970-01-01T00:00:00Z\n</code></pre>\n<h3>See also</h3>\n<p><a href=\"https://stackoverflow.com/questions/535004/unix-epoch-time-to-java-date-object\">Unix epoch time to Java Date object</a></p>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657567146,"creation_date":1657567146,"answer_id":72943605,"question_id":72942360,"body_markdown":"You created your own code. That probably was the intent of the homework.\r\nNow pinpoint the problem. \r\n\r\nFor that you can actually create a loop generating different Unix time values.\r\nFor each of these values calculate the date using your code, in parallel calculate the date using `java.util.Date` or `java.util.Instant`. Compare the dates and print results suitable so you can pinpoint the situations where your code produces deviations. Try to understand the deviations and improve your code.\r\n\r\nWith that you would not only exercise coding date calculations but also automated testing or test driven development.","title":"UNIX Time to Date and Time Conversion Problem Java","body":"<p>You created your own code. That probably was the intent of the homework.\nNow pinpoint the problem.</p>\n<p>For that you can actually create a loop generating different Unix time values.\nFor each of these values calculate the date using your code, in parallel calculate the date using <code>java.util.Date</code> or <code>java.util.Instant</code>. Compare the dates and print results suitable so you can pinpoint the situations where your code produces deviations. Try to understand the deviations and improve your code.</p>\n<p>With that you would not only exercise coding date calculations but also automated testing or test driven development.</p>\n"}],"owner":{"account_id":25783098,"reputation":13,"user_id":19528427,"display_name":"Roy A."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72943605,"answer_count":2,"score":0,"last_activity_date":1657567146,"creation_date":1657560023,"question_id":72942360,"body_markdown":"IMPORTANT: external libraries, Date and Instant class are not allowed\r\n\r\n&gt; You may not use any library routines for manipulation of time or\r\n&gt; dates, such as converting UNIX time to a date string or for formatting\r\n&gt; date strings in general. All calculations for determining year, month,\r\n&gt; day, and time must appear in your source.\r\n\r\nI wrote this program to convert from UNIX time (time in seconds since 12:00 AM January 1, 1970) to normal date and time. At first glance it seems to work fine, but in some tests it was off by exactly one day. The hours, minutes, months, and years are always correct, but the days are one too few. \r\n\r\nFor example, when using UNIX time 1234567890 the program produces 11:31 PM  02/13/2009, which is correct! However when inputing 1111111111 (10 1&#39;s), the program produces 1:58 AM  03/17/2005, where it should output 01:58 AM 03/18/2005. 64075132196 produces 7:49 AM  06/17/4000 (correct) but 95632040996 produces 7:49 AM 06/16/5000, where it should be the 17th day instead of the 16th.\r\n\r\nIn order to check my program, I entered a date and time into https://www.unixtimestamp.com/ and entered the resulting UNIX time into my program. (This is how I managed to get exact UNIX codes in the troubleshooting above).\r\n\r\nI would appreciate help finding this error and additionally implementing a more efficient solution to this problem altogether.\r\n\r\n```\r\nimport java.util.*;\r\nclass Main {\r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;\\nEnter UNIX time&quot;);\r\n    Scanner scan = new Scanner(System.in);\r\n    int[] monthDays = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\r\n    int[] leapYearMonthDays = {31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\r\n    long unix = scan.nextLong();\r\n    int years = 0, months = 0, days = 0, hours = 0, minutes = 0;\r\n\r\n    boolean leapYear = false;\r\n    String AMPM = &quot;AM&quot;;\r\n    \r\n    while (unix &gt;= 60) {\r\n      unix -= 60;\r\n      minutes++;\r\n      \r\n      if (minutes &gt;= 60) {\r\n        minutes -= 60;\r\n        hours++;\r\n      }\r\n      if (hours &gt;= 24) {\r\n        hours -= 24;\r\n        days++;\r\n      }\r\n      if (leapYear) {\r\n        if (days &gt;= leapYearMonthDays[months]) {\r\n          days -= leapYearMonthDays[months];\r\n          months++;\r\n        }\r\n      }\r\n      else {\r\n        if (days &gt;= monthDays[months]) {\r\n          days -= monthDays[months];\r\n          months++;\r\n        }\r\n      }\r\n      if (months &gt;= 12) {\r\n        if (isLeapYear(1970 + years)) leapYear = true; else leapYear = false;\r\n        months -= 12;\r\n        years++;\r\n      }\r\n    }\r\n    \r\n    if (hours &gt; 12) {\r\n      AMPM = &quot;PM&quot;;\r\n      hours -= 12;\r\n    }\r\n    \r\n    if (days == 0) days = 1;\r\n    String daysString = String.valueOf(days);\r\n    if (daysString.length() == 1) daysString = &quot;0&quot; + daysString;\r\n    String monthsString = String.valueOf(months + 1);\r\n    if (monthsString.length() == 1) monthsString = &quot;0&quot; + monthsString;\r\n    String minutesString = String.valueOf(minutes);\r\n    if (minutesString.length() == 1) minutesString = &quot;0&quot; + minutesString;\r\n    if (hours == 0) hours = 12;\r\n\r\n    System.out.println(&quot;\\n&quot; + hours + &quot;:&quot; + minutesString + &quot; &quot; + AMPM + &quot;  &quot; + monthsString + &quot;/&quot; + daysString + &quot;/&quot; + (years + 1970));\r\n  }\r\n\r\n  public static boolean isLeapYear (int year) {\r\n    if (year % 4 == 0) {\r\n      if (year % 100 == 0) {\r\n        if (year % 400 == 0) {\r\n          return true;\r\n        }\r\n        else return false;\r\n      }\r\n      else return true;\r\n    }\r\n    return false;\r\n  }\r\n}\r\n```","title":"UNIX Time to Date and Time Conversion Problem Java","body":"<p>IMPORTANT: external libraries, Date and Instant class are not allowed</p>\n<blockquote>\n<p>You may not use any library routines for manipulation of time or\ndates, such as converting UNIX time to a date string or for formatting\ndate strings in general. All calculations for determining year, month,\nday, and time must appear in your source.</p>\n</blockquote>\n<p>I wrote this program to convert from UNIX time (time in seconds since 12:00 AM January 1, 1970) to normal date and time. At first glance it seems to work fine, but in some tests it was off by exactly one day. The hours, minutes, months, and years are always correct, but the days are one too few.</p>\n<p>For example, when using UNIX time 1234567890 the program produces 11:31 PM  02/13/2009, which is correct! However when inputing 1111111111 (10 1's), the program produces 1:58 AM  03/17/2005, where it should output 01:58 AM 03/18/2005. 64075132196 produces 7:49 AM  06/17/4000 (correct) but 95632040996 produces 7:49 AM 06/16/5000, where it should be the 17th day instead of the 16th.</p>\n<p>In order to check my program, I entered a date and time into <a href=\"https://www.unixtimestamp.com/\" rel=\"nofollow noreferrer\">https://www.unixtimestamp.com/</a> and entered the resulting UNIX time into my program. (This is how I managed to get exact UNIX codes in the troubleshooting above).</p>\n<p>I would appreciate help finding this error and additionally implementing a more efficient solution to this problem altogether.</p>\n<pre><code>import java.util.*;\nclass Main {\n  public static void main(String[] args) {\n    System.out.println(&quot;\\nEnter UNIX time&quot;);\n    Scanner scan = new Scanner(System.in);\n    int[] monthDays = {31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n    int[] leapYearMonthDays = {31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31};\n    long unix = scan.nextLong();\n    int years = 0, months = 0, days = 0, hours = 0, minutes = 0;\n\n    boolean leapYear = false;\n    String AMPM = &quot;AM&quot;;\n    \n    while (unix &gt;= 60) {\n      unix -= 60;\n      minutes++;\n      \n      if (minutes &gt;= 60) {\n        minutes -= 60;\n        hours++;\n      }\n      if (hours &gt;= 24) {\n        hours -= 24;\n        days++;\n      }\n      if (leapYear) {\n        if (days &gt;= leapYearMonthDays[months]) {\n          days -= leapYearMonthDays[months];\n          months++;\n        }\n      }\n      else {\n        if (days &gt;= monthDays[months]) {\n          days -= monthDays[months];\n          months++;\n        }\n      }\n      if (months &gt;= 12) {\n        if (isLeapYear(1970 + years)) leapYear = true; else leapYear = false;\n        months -= 12;\n        years++;\n      }\n    }\n    \n    if (hours &gt; 12) {\n      AMPM = &quot;PM&quot;;\n      hours -= 12;\n    }\n    \n    if (days == 0) days = 1;\n    String daysString = String.valueOf(days);\n    if (daysString.length() == 1) daysString = &quot;0&quot; + daysString;\n    String monthsString = String.valueOf(months + 1);\n    if (monthsString.length() == 1) monthsString = &quot;0&quot; + monthsString;\n    String minutesString = String.valueOf(minutes);\n    if (minutesString.length() == 1) minutesString = &quot;0&quot; + minutesString;\n    if (hours == 0) hours = 12;\n\n    System.out.println(&quot;\\n&quot; + hours + &quot;:&quot; + minutesString + &quot; &quot; + AMPM + &quot;  &quot; + monthsString + &quot;/&quot; + daysString + &quot;/&quot; + (years + 1970));\n  }\n\n  public static boolean isLeapYear (int year) {\n    if (year % 4 == 0) {\n      if (year % 100 == 0) {\n        if (year % 400 == 0) {\n          return true;\n        }\n        else return false;\n      }\n      else return true;\n    }\n    return false;\n  }\n}\n</code></pre>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1657566843,"post_id":72943434,"comment_id":128836747,"body_markdown":"What is crashes?  Is there a stack trace?  If so, can you add it as text to the question formatted as code?","body":"What is crashes?  Is there a stack trace?  If so, can you add it as text to the question formatted as code?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":2,"creation_date":1657572874,"post_id":72943434,"comment_id":128838531,"body_markdown":"Note that &quot;crash&quot; has a pretty standard meaning in software development. Typically, it means there was a critical and catastrophic failure that caused the entire process to terminate. Your description does not match that kind of failure. It seems you&#39;re simply seeing visual &quot;artifacts&quot;, and based on the code provided, that&#39;s caused by the improper implementation of `updateItem` in your custom cell (see link by James_D).","body":"Note that &quot;crash&quot; has a pretty standard meaning in software development. Typically, it means there was a critical and catastrophic failure that caused the entire process to terminate. Your description does not match that kind of failure. It seems you&#39;re simply seeing visual &quot;artifacts&quot;, and based on the code provided, that&#39;s caused by the improper implementation of <code>updateItem</code> in your custom cell (see link by James_D)."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1657578550,"post_id":72943434,"comment_id":128839785,"body_markdown":"Your example works if I follow the [API](https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/Cell.html#updateItem(T,boolean)), as shown [here](https://stackoverflow.com/a/26822360/230513). If this is not a duplicate, please [edit] your question to include a [mre] that shows your revised approach.","body":"Your example works if I follow the <a href=\"https://openjfx.io/javadoc/17/javafx.controls/javafx/scene/control/Cell.html#updateItem(T,boolean)\" rel=\"nofollow noreferrer\">API</a>, as shown <a href=\"https://stackoverflow.com/a/26822360/230513\">here</a>. If this is not a duplicate, please <a href=\"https://stackoverflow.com/posts/72943434/edit\">edit</a> your question to include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that shows your revised approach."},{"owner":{"account_id":14133436,"reputation":21,"user_id":10210725,"display_name":"M. Fahim"},"score":0,"creation_date":1657580233,"post_id":72943434,"comment_id":128840104,"body_markdown":"@jewelsea, thanks for the reply, there was not stack trace.","body":"@jewelsea, thanks for the reply, there was not stack trace."},{"owner":{"account_id":14133436,"reputation":21,"user_id":10210725,"display_name":"M. Fahim"},"score":1,"creation_date":1657580333,"post_id":72943434,"comment_id":128840115,"body_markdown":"Thanks @Slaw and trashgod, I think the is duplicated question. The answer you guys pointed out fixed the issue I had.","body":"Thanks @Slaw and trashgod, I think the is duplicated question. The answer you guys pointed out fixed the issue I had."},{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1657651816,"post_id":72943434,"comment_id":128860102,"body_markdown":"Also consider `TreeView&lt;File&gt;` and `TreeItem&lt;File&gt;`.","body":"Also consider <code>TreeView&lt;File&gt;</code> and <code>TreeItem&lt;File&gt;</code>."}],"owner":{"account_id":14133436,"reputation":21,"user_id":10210725,"display_name":"M. Fahim"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1657578621,"answer_count":0,"score":1,"last_activity_date":1657567001,"creation_date":1657566171,"question_id":72943434,"body_markdown":"Step to produce the bug\r\n 1. Run this code\r\n 2. Expand the root node, if not expanded\r\n 3. Collapse the root node\r\n 4. More folders (like subfolders) will appear at the end of the window\r\n\r\n----\r\n\r\n    import java.io.File;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.util.Arrays;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.event.EventHandler;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TreeCell;\r\n    import javafx.scene.control.TreeItem;\r\n    import javafx.scene.control.TreeView;\r\n    import javafx.scene.image.Image;\r\n    import javafx.scene.image.ImageView;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Callback;\r\n    \r\n    public class Main extends Application {\r\n    \r\n    \tPane box;\r\n    \tTreeView&lt;String&gt; treeView;\r\n    \r\n    \t@Override\r\n    \tpublic void start(Stage stage) {\r\n    \r\n    \t\tTreeItem&lt;String&gt; root = new TreeItem&lt;&gt;(&quot;Root&quot;);\r\n    \t\ttraverse(&quot;a folder path&quot;, root);\r\n    \t\troot.setExpanded(true);\r\n    \r\n    \t\ttreeView = new TreeView&lt;String&gt;(root);\r\n    \t\ttreeView.setShowRoot(true);\r\n    \t\ttreeView.setEditable(true);\r\n    \t\ttreeView.setPrefSize(500, 800);\r\n    \r\n    \t\ttreeView.setCellFactory(new Callback&lt;TreeView&lt;String&gt;, TreeCell&lt;String&gt;&gt;() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic TreeCell&lt;String&gt; call(TreeView&lt;String&gt; paramP) {\r\n    \t\t\t\treturn new TreeCell&lt;String&gt;() {\r\n    \t\t\t\t\t@Override\r\n    \t\t\t\t\tprotected void updateItem(String paramT, boolean paramBoolean) {\r\n    \t\t\t\t\t\tsuper.updateItem(paramT, paramBoolean);\r\n    \t\t\t\t\t\tif (!isEmpty()) {\r\n    \t\t\t\t\t\t\tsetGraphic(new Label(paramT, (Node) importImage(&quot;image path&quot;)));\r\n    \t\t\t\t\t\t\tsetOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\r\n    \t\t\t\t\t\t\t\t@Override\r\n    \t\t\t\t\t\t\t\tpublic void handle(MouseEvent event) {\r\n    \r\n    \t\t\t\t\t\t\t\t\tP.print(paramT);\r\n    \t\t\t\t\t\t\t\t\tP.print(treeView.getChildrenUnmodifiable().size());\r\n    \t\t\t\t\t\t\t\t}\r\n    \t\t\t\t\t\t\t});\r\n    \t\t\t\t\t\t}\r\n    \t\t\t\t\t}\r\n    \t\t\t\t};\r\n    \t\t\t}\r\n    \t\t});\r\n    \r\n    \t\tbox = new Pane();\r\n    \t\tbox.getChildren().add(treeView);\r\n    \t\tbox.setPrefSize(500, 800);\r\n    \r\n    \t\tScene scene = new Scene(box, 500, 800);\r\n    \r\n    \t\tstage.setTitle(&quot;Tree View Sample&quot;);\r\n    \t\tstage.setScene(scene);\r\n    \t\tstage.show();\r\n    \t}\r\n    \r\n    \tpublic void traverse(String path, TreeItem&lt;String&gt; root) {\r\n    \t\tFile file = new File(path);\r\n    \r\n    \t\tif (!file.isDirectory() || !Files.isReadable(Paths.get(path)))\r\n    \t\t\treturn;\r\n    \t\tArrays.asList(file.listFiles()).forEach(e -&gt; {\r\n    \t\t\tTreeItem&lt;String&gt; temp = new TreeItem&lt;&gt;(e.getName());\r\n    \t\t\troot.getChildren().add(temp);\r\n    \t\t\ttraverse(e.getPath(), temp);\r\n    \t\t});\r\n    \r\n    \t}\r\n    \r\n    \tpublic static ImageView importImage(String path) {\r\n    \t\tImageView image = new ImageView(new Image(path));\r\n    \t\timage.setPreserveRatio(true);\r\n    \t\timage.setFitHeight(20);\r\n    \r\n    \t\treturn image;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n","title":"Javafx TreeItem/TreeView UI crashes when collapsing the expanded node. Any help would be appreciated","body":"<p>Step to produce the bug</p>\n<ol>\n<li>Run this code</li>\n<li>Expand the root node, if not expanded</li>\n<li>Collapse the root node</li>\n<li>More folders (like subfolders) will appear at the end of the window</li>\n</ol>\n<hr />\n<pre><code>import java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.Arrays;\n\nimport javafx.application.Application;\nimport javafx.event.EventHandler;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TreeCell;\nimport javafx.scene.control.TreeItem;\nimport javafx.scene.control.TreeView;\nimport javafx.scene.image.Image;\nimport javafx.scene.image.ImageView;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Stage;\nimport javafx.util.Callback;\n\npublic class Main extends Application {\n\n    Pane box;\n    TreeView&lt;String&gt; treeView;\n\n    @Override\n    public void start(Stage stage) {\n\n        TreeItem&lt;String&gt; root = new TreeItem&lt;&gt;(&quot;Root&quot;);\n        traverse(&quot;a folder path&quot;, root);\n        root.setExpanded(true);\n\n        treeView = new TreeView&lt;String&gt;(root);\n        treeView.setShowRoot(true);\n        treeView.setEditable(true);\n        treeView.setPrefSize(500, 800);\n\n        treeView.setCellFactory(new Callback&lt;TreeView&lt;String&gt;, TreeCell&lt;String&gt;&gt;() {\n            @Override\n            public TreeCell&lt;String&gt; call(TreeView&lt;String&gt; paramP) {\n                return new TreeCell&lt;String&gt;() {\n                    @Override\n                    protected void updateItem(String paramT, boolean paramBoolean) {\n                        super.updateItem(paramT, paramBoolean);\n                        if (!isEmpty()) {\n                            setGraphic(new Label(paramT, (Node) importImage(&quot;image path&quot;)));\n                            setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\n                                @Override\n                                public void handle(MouseEvent event) {\n\n                                    P.print(paramT);\n                                    P.print(treeView.getChildrenUnmodifiable().size());\n                                }\n                            });\n                        }\n                    }\n                };\n            }\n        });\n\n        box = new Pane();\n        box.getChildren().add(treeView);\n        box.setPrefSize(500, 800);\n\n        Scene scene = new Scene(box, 500, 800);\n\n        stage.setTitle(&quot;Tree View Sample&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public void traverse(String path, TreeItem&lt;String&gt; root) {\n        File file = new File(path);\n\n        if (!file.isDirectory() || !Files.isReadable(Paths.get(path)))\n            return;\n        Arrays.asList(file.listFiles()).forEach(e -&gt; {\n            TreeItem&lt;String&gt; temp = new TreeItem&lt;&gt;(e.getName());\n            root.getChildren().add(temp);\n            traverse(e.getPath(), temp);\n        });\n\n    }\n\n    public static ImageView importImage(String path) {\n        ImageView image = new ImageView(new Image(path));\n        image.setPreserveRatio(true);\n        image.setFitHeight(20);\n\n        return image;\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","serialization","deserialization","versioning"],"comments":[{"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":0,"creation_date":1657567087,"post_id":72941830,"comment_id":128836812,"body_markdown":"Anybody using serialization: check whether you even need this. Most times I see serializable used it is out of habit, not because anything in the application requires it.","body":"Anybody using serialization: check whether you even need this. Most times I see serializable used it is out of habit, not because anything in the application requires it."}],"answers":[{"tags":[],"owner":{"account_id":24593665,"reputation":262,"user_id":18497177,"display_name":"Trizion"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657566666,"creation_date":1657562314,"answer_id":72942794,"question_id":72941830,"body_markdown":"From the [Serializable Interface Docs][1]:\r\n\r\n&gt; If a serializable class does not explicitly declare a serialVersionUID, then the serialization runtime will calculate a default serialVersionUID value for that class based on various aspects of the class, as described in the Java(TM) Object Serialization Specification. However, it is strongly recommended that all serializable classes explicitly declare serialVersionUID values, since the default serialVersionUID computation is highly sensitive to class details that may vary depending on compiler implementations, and can thus result in unexpected InvalidClassExceptions during deserialization.\r\n\r\nWhen you see a `serialVersionUID` such as `10275539472837495L`, it is most probable one that was generated by the serialization runtime.\r\n\r\nSo, why would you explicitly set the serialVersionUID to one generated by the runtime? Suppose you forgot to set the serialVersionUID to a specific value such as `1L`, and you serialized a class. After a while, you make some changes to the class implementing the Serializable interface and all out of sudden, an InvalidClassException is thrown because the generated serialVersionUIDs do not match anymore. To fix this, you can explicitly set the serialVersionUID to that generated with the previous version. This is pretty much how one might end up with these long serialVersionUIDs.\r\n\r\nTo avoid this alltogether, it is recommended to explicitly declare serialVersionUID values, as stated in the docs.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html","title":"Can Java Serialization UID numbering start at 1","body":"<p>From the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html\" rel=\"nofollow noreferrer\">Serializable Interface Docs</a>:</p>\n<blockquote>\n<p>If a serializable class does not explicitly declare a serialVersionUID, then the serialization runtime will calculate a default serialVersionUID value for that class based on various aspects of the class, as described in the Java(TM) Object Serialization Specification. However, it is strongly recommended that all serializable classes explicitly declare serialVersionUID values, since the default serialVersionUID computation is highly sensitive to class details that may vary depending on compiler implementations, and can thus result in unexpected InvalidClassExceptions during deserialization.</p>\n</blockquote>\n<p>When you see a <code>serialVersionUID</code> such as <code>10275539472837495L</code>, it is most probable one that was generated by the serialization runtime.</p>\n<p>So, why would you explicitly set the serialVersionUID to one generated by the runtime? Suppose you forgot to set the serialVersionUID to a specific value such as <code>1L</code>, and you serialized a class. After a while, you make some changes to the class implementing the Serializable interface and all out of sudden, an InvalidClassException is thrown because the generated serialVersionUIDs do not match anymore. To fix this, you can explicitly set the serialVersionUID to that generated with the previous version. This is pretty much how one might end up with these long serialVersionUIDs.</p>\n<p>To avoid this alltogether, it is recommended to explicitly declare serialVersionUID values, as stated in the docs.</p>\n"}],"owner":{"account_id":1807094,"reputation":818,"user_id":1643990,"accept_rate":79,"display_name":"MrB"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72942794,"answer_count":1,"score":2,"last_activity_date":1657566666,"creation_date":1657557404,"question_id":72941830,"body_markdown":"The vast majority of examples of a Java `serialVersionUID` I have seen has a very long `long` value - see for example [here][1] where the given example is `static final long serialVersionUID = 10275539472837495L` or even [the documentation][2] which gives an example of `static final long serialVersionUID = 42L`\r\n\r\nIs there any reason, though, that I can&#39;t call the first version of my class(es) `static final long serialVersionUID = 1L`  the second `2L` and so on?  It compliles, serialises and deserialises fine but I was wondering if there were deeper reasons that made it not best practice.\r\n\r\n\r\n  [1]: https://www.oracle.com/technical-resources/articles/java/serializationapi.html\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html","title":"Can Java Serialization UID numbering start at 1","body":"<p>The vast majority of examples of a Java <code>serialVersionUID</code> I have seen has a very long <code>long</code> value - see for example <a href=\"https://www.oracle.com/technical-resources/articles/java/serializationapi.html\" rel=\"nofollow noreferrer\">here</a> where the given example is <code>static final long serialVersionUID = 10275539472837495L</code> or even <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/io/Serializable.html\" rel=\"nofollow noreferrer\">the documentation</a> which gives an example of <code>static final long serialVersionUID = 42L</code></p>\n<p>Is there any reason, though, that I can't call the first version of my class(es) <code>static final long serialVersionUID = 1L</code>  the second <code>2L</code> and so on?  It compliles, serialises and deserialises fine but I was wondering if there were deeper reasons that made it not best practice.</p>\n"},{"tags":["java","json","eclipse","arguments","command-line-arguments"],"comments":[{"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"score":1,"creation_date":1657492879,"post_id":72932268,"comment_id":128816572,"body_markdown":"Does this code work? It looks like there&#39;s a for loop over &quot;x&quot; – `for (int x = 0...` – and then _inside_ that loop, there&#39;s a second for loop over &quot;x&quot; (and an ensuing compiler error). Elsewhere in the code, there&#39;s a call to `documents.put()` with no definition of what `documents` is, something global presumably? This might help: [How to create a Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"Does this code work? It looks like there&#39;s a for loop over &quot;x&quot; – <code>for (int x = 0...</code> – and then <i>inside</i> that loop, there&#39;s a second for loop over &quot;x&quot; (and an ensuing compiler error). Elsewhere in the code, there&#39;s a call to <code>documents.put()</code> with no definition of what <code>documents</code> is, something global presumably? This might help: <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">How to create a Minimal, Reproducible Example</a>"},{"owner":{"account_id":15285573,"reputation":1147,"user_id":11028689,"display_name":"Bluetail"},"score":0,"creation_date":1657528552,"post_id":72932268,"comment_id":128822632,"body_markdown":"it does work if I hard-code the part where I load the text file, i.e. loader.LoadTextFile(&quot;TextFile.txt&quot;)","body":"it does work if I hard-code the part where I load the text file, i.e. loader.LoadTextFile(&quot;TextFile.txt&quot;)"}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657566611,"creation_date":1657492952,"answer_id":72932338,"question_id":72932268,"body_markdown":"Whatever parameter matches, you will always overwrite the first given file:\r\n\r\n    for (int x = 0; x &lt; args.length; x++) {\r\n        if (args[x].endsWith(&quot;.json&quot;)) {\r\n            loader.SaveDocumentsToJSON(args[0]);\r\n        }\r\n    }\r\n\r\nYou need to change into \r\n\r\n    loader.SaveDocumentsToJSON(args[x]);\r\n\r\nYet there is still an imminent problem depending on the sequence of the parameters. Check how your code behaves if you first put the json file and afterwards the txt file. Similarly there is no check if you put several txt or json files. I&#39;m wondering whether all that is intended or unplanned side effects.","title":"Using command-line argument for reading and writing files to a program","body":"<p>Whatever parameter matches, you will always overwrite the first given file:</p>\n<pre><code>for (int x = 0; x &lt; args.length; x++) {\n    if (args[x].endsWith(&quot;.json&quot;)) {\n        loader.SaveDocumentsToJSON(args[0]);\n    }\n}\n</code></pre>\n<p>You need to change into</p>\n<pre><code>loader.SaveDocumentsToJSON(args[x]);\n</code></pre>\n<p>Yet there is still an imminent problem depending on the sequence of the parameters. Check how your code behaves if you first put the json file and afterwards the txt file. Similarly there is no check if you put several txt or json files. I'm wondering whether all that is intended or unplanned side effects.</p>\n"}],"owner":{"account_id":15285573,"reputation":1147,"user_id":11028689,"display_name":"Bluetail"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657566611,"creation_date":1657491834,"question_id":72932268,"body_markdown":"I am trying to use my LoadTextFile() method to read a .txt file from the command prompt in Eclipse and then use another method, SaveDocumentsToJSON, to write into a json.file (again, the name of the json file should be entered as an argument in the command prompt).\r\n\r\nMy code\r\n\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// instantiate an instance of the BTextLoader class.\r\n    \t\tBTextLoader loader = new BTextLoader();\r\n    \r\n    \t\t// Check if command line arguments are NOT empty and then enter the file names.\r\n    \t\tif (args.length &gt; 0) {\r\n    \t\t\t{\r\n    \r\n    // with hard-coded loader.LoadTextFile(&quot;TextFile.txt&quot;) the next part of the code runs as expected.\r\n    \r\n    \r\n    \t\t\t\tfor (int x = 0; x &lt; args.length; x++) {\r\n    \t\t\t\t\tif (args[x].endsWith(&quot;.txt&quot;)) {\r\n    \t\t\t\t\t\tloader.LoadTextFile(args[x]);\r\n    \t\t\t\t\t}\r\n    \r\n    \t\t\t\t\tif (args[x].endsWith(&quot;.json&quot;)) {\r\n    \r\n    \t\t\t\t\t\tloader.SaveDocumentsToJSON(args[0]);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n        \t\telse {\r\n        \t\t\t\t\t\tSystem.err.println(&quot;No valid file was given.&quot;);\r\n        \t\t}\r\n        \t}\r\n        \r\n        public void LoadTextFile(String filePath) {\r\n        \r\n        \t\ttry {\r\n        \t\t\tSystem.out.println(&quot;Loading file...&quot;);\r\n        \t\t\tFile inFile = new File(filePath);\r\n        \t\t\tBufferedReader br = new BufferedReader(new FileReader(inFile));\r\n        \r\n        \t\t\tString line = br.readLine();\r\n        \r\n        \t\t\tInteger counter = 0;\r\n        \t\t\twhile (line != null)\r\n        \r\n        \t\t\t{\r\n        \t\t\t\tif (line.trim().length() &gt; 0) {\r\n        \t\t\t\t\tdocuments.put(&quot;doc&quot; + counter, line);\r\n        \t\t\t\t\t;\r\n        \t\t\t\t\tcounter++;\r\n        \r\n        \t\t\t\t}\r\n        \t\t\t\tline = br.readLine();\r\n        \r\n        \t\t\t}\r\n        \t\t\tbr.close();\r\n        \t\t} catch (Exception e) {\r\n        \t\t\tSystem.out.println(&quot;File Load Failed&quot;);\r\n        \t\t}\r\n\r\nSo if I enter the outputFile.json file in the command prompt, and hard code &quot;TextFile.txt&quot;, then the result is as expected, with the text file remaining unaltered and a new .json file being created.\r\n\r\nHowever, if I try to use loader.LoadTextFile(args[0])  and enter &quot;TextFile.txt  outputFile.json&quot; (two file names with a space) in Eclipse, then my original TextFile.txt gets rewritten with a json structure and  outputFile.json is not created.\r\n\r\n\r\nI need help with loading my .txt file and then saving it with the names as command-line arguments. How can I avoid hard coding my .txt file for this to work?\r\n","title":"Using command-line argument for reading and writing files to a program","body":"<p>I am trying to use my LoadTextFile() method to read a .txt file from the command prompt in Eclipse and then use another method, SaveDocumentsToJSON, to write into a json.file (again, the name of the json file should be entered as an argument in the command prompt).</p>\n<p>My code</p>\n<pre><code>    public static void main(String[] args) {\n        // instantiate an instance of the BTextLoader class.\n        BTextLoader loader = new BTextLoader();\n\n        // Check if command line arguments are NOT empty and then enter the file names.\n        if (args.length &gt; 0) {\n            {\n\n// with hard-coded loader.LoadTextFile(&quot;TextFile.txt&quot;) the next part of the code runs as expected.\n\n\n                for (int x = 0; x &lt; args.length; x++) {\n                    if (args[x].endsWith(&quot;.txt&quot;)) {\n                        loader.LoadTextFile(args[x]);\n                    }\n\n                    if (args[x].endsWith(&quot;.json&quot;)) {\n\n                        loader.SaveDocumentsToJSON(args[0]);\n                    }\n                }\n            }\n        }\n            else {\n                            System.err.println(&quot;No valid file was given.&quot;);\n            }\n        }\n    \n    public void LoadTextFile(String filePath) {\n    \n            try {\n                System.out.println(&quot;Loading file...&quot;);\n                File inFile = new File(filePath);\n                BufferedReader br = new BufferedReader(new FileReader(inFile));\n    \n                String line = br.readLine();\n    \n                Integer counter = 0;\n                while (line != null)\n    \n                {\n                    if (line.trim().length() &gt; 0) {\n                        documents.put(&quot;doc&quot; + counter, line);\n                        ;\n                        counter++;\n    \n                    }\n                    line = br.readLine();\n    \n                }\n                br.close();\n            } catch (Exception e) {\n                System.out.println(&quot;File Load Failed&quot;);\n            }\n</code></pre>\n<p>So if I enter the outputFile.json file in the command prompt, and hard code &quot;TextFile.txt&quot;, then the result is as expected, with the text file remaining unaltered and a new .json file being created.</p>\n<p>However, if I try to use loader.LoadTextFile(args[0])  and enter &quot;TextFile.txt  outputFile.json&quot; (two file names with a space) in Eclipse, then my original TextFile.txt gets rewritten with a json structure and  outputFile.json is not created.</p>\n<p>I need help with loading my .txt file and then saving it with the names as command-line arguments. How can I avoid hard coding my .txt file for this to work?</p>\n"},{"tags":["java","jackson-databind"],"comments":[{"owner":{"account_id":10836,"reputation":196641,"user_id":20654,"accept_rate":80,"display_name":"OscarRyz"},"score":0,"creation_date":1657565308,"post_id":72942977,"comment_id":128836296,"body_markdown":"You have to post a question to be able to answer it. What you have currently is a requirement. StackOverflow is not intended to convert requirements into code. You can try explaining what you have tried, and what specific problems are you having and then someone might be able to help you.","body":"You have to post a question to be able to answer it. What you have currently is a requirement. StackOverflow is not intended to convert requirements into code. You can try explaining what you have tried, and what specific problems are you having and then someone might be able to help you."},{"owner":{"account_id":22913948,"reputation":72,"user_id":17050817,"display_name":"man123"},"score":0,"creation_date":1657566587,"post_id":72942977,"comment_id":128836677,"body_markdown":"@OscarRyz I have edited the code and added what i have tried out which worked but not feasible solution for my project. can you please take a look now.","body":"@OscarRyz I have edited the code and added what i have tried out which worked but not feasible solution for my project. can you please take a look now."}],"answers":[{"tags":[],"owner":{"account_id":24905680,"reputation":488,"user_id":18775765,"display_name":"luke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657564720,"creation_date":1657564720,"answer_id":72943182,"question_id":72942977,"body_markdown":"More details might help the post, but if I&#39;m understanding correctly some parameters might not be passed. This is not a problem.\r\n\r\nIf you use a website such as https://json2csharp.com/code-converters/json-to-pojo to create a base object with all parameters that could be sent, the unpassed parameters won&#39;t be defined after deserialization.\r\n\r\nThis could cause problems if you access these undefined members later, so you need some kind of indication of which members were passed (this could be a parameter that is always passed with your response, or an error-handling structure for when undefined members are accidentally accessed).","title":"Based on dynamic JSON input request need to set the parameters value in POJO class","body":"<p>More details might help the post, but if I'm understanding correctly some parameters might not be passed. This is not a problem.</p>\n<p>If you use a website such as <a href=\"https://json2csharp.com/code-converters/json-to-pojo\" rel=\"nofollow noreferrer\">https://json2csharp.com/code-converters/json-to-pojo</a> to create a base object with all parameters that could be sent, the unpassed parameters won't be defined after deserialization.</p>\n<p>This could cause problems if you access these undefined members later, so you need some kind of indication of which members were passed (this could be a parameter that is always passed with your response, or an error-handling structure for when undefined members are accidentally accessed).</p>\n"}],"owner":{"account_id":22913948,"reputation":72,"user_id":17050817,"display_name":"man123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":464,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1657566534,"creation_date":1657563464,"question_id":72942977,"body_markdown":"I can pass any dynamic JSON as the request body from Postman. For Example-\r\n\r\nJSON 1\r\n```\r\n{\r\n      &quot;controlNumber&quot;: &quot;12345&quot;,\r\n      &quot;AssociateId&quot;: &quot;1A23242aew&quot;,\r\n      &quot;EmployeeCode&quot;: &quot;ABC&quot;\r\n}\r\n```\r\nJSON 2\r\n```\r\n{\r\n      &quot;controlNumber&quot;: &quot;12345&quot;,\r\n      &quot;AssociateId&quot;: &quot;1A23242aew&quot;,\r\n}\r\n```\r\nJSON 3\r\n```\r\n{\r\n   \r\n      &quot;EmployeeCode&quot;: &quot;ABC&quot;\r\n}\r\n```\r\nBased on the input request, I want my specific POJO class properties to be set.\r\nFor example\r\nif i pass JSON 2, then I want only two property ```controlNumber``` and ```AssociateId``` to be set in the POJO class, while other property should get some default or null values.\r\n\r\nBelow is the POJO class\r\n```\r\npublic class EmployeeRequest{\r\n    public String controlNumber;\r\n    @JsonProperty(&quot;AssociateId&quot;) \r\n    public String associateId;\r\n    @JsonProperty(&quot;EmployeeCode&quot;) \r\n    public String employeeCode;\r\n}\r\n```\r\n\r\n**My try out**:\r\nI created the ```HashMap``` out from the dynamic input request, and passing this ```HashMap``` as request to the all the downstream methods.\r\n\r\n```\r\n HashMap&lt;String, String&gt; inputRequest_toMap = new HashMap&lt;&gt;();\r\n        Field[] fields = employeeRequest().getClass().getDeclaredFields();\r\n        String value = &quot;&quot;;\r\n        for (Field field : fields) {\r\n            if (field.get(employeeRequest().toString() != null)) {\r\n                value = field.get(employeeRequest()).toString();\r\n            }\r\n            String key = field.toString();\r\n            if (value != null) {\r\n                inputRequest_toMap.put(key, value);\r\n            }\r\n\r\n\r\n        }\r\n    }\r\n```\r\nPS: I want this result POJO class to be pass as parameter for the ibatis query.","title":"Based on dynamic JSON input request need to set the parameters value in POJO class","body":"<p>I can pass any dynamic JSON as the request body from Postman. For Example-</p>\n<p>JSON 1</p>\n<pre><code>{\n      &quot;controlNumber&quot;: &quot;12345&quot;,\n      &quot;AssociateId&quot;: &quot;1A23242aew&quot;,\n      &quot;EmployeeCode&quot;: &quot;ABC&quot;\n}\n</code></pre>\n<p>JSON 2</p>\n<pre><code>{\n      &quot;controlNumber&quot;: &quot;12345&quot;,\n      &quot;AssociateId&quot;: &quot;1A23242aew&quot;,\n}\n</code></pre>\n<p>JSON 3</p>\n<pre><code>{\n   \n      &quot;EmployeeCode&quot;: &quot;ABC&quot;\n}\n</code></pre>\n<p>Based on the input request, I want my specific POJO class properties to be set.\nFor example\nif i pass JSON 2, then I want only two property <code>controlNumber</code> and <code>AssociateId</code> to be set in the POJO class, while other property should get some default or null values.</p>\n<p>Below is the POJO class</p>\n<pre><code>public class EmployeeRequest{\n    public String controlNumber;\n    @JsonProperty(&quot;AssociateId&quot;) \n    public String associateId;\n    @JsonProperty(&quot;EmployeeCode&quot;) \n    public String employeeCode;\n}\n</code></pre>\n<p><strong>My try out</strong>:\nI created the <code>HashMap</code> out from the dynamic input request, and passing this <code>HashMap</code> as request to the all the downstream methods.</p>\n<pre><code> HashMap&lt;String, String&gt; inputRequest_toMap = new HashMap&lt;&gt;();\n        Field[] fields = employeeRequest().getClass().getDeclaredFields();\n        String value = &quot;&quot;;\n        for (Field field : fields) {\n            if (field.get(employeeRequest().toString() != null)) {\n                value = field.get(employeeRequest()).toString();\n            }\n            String key = field.toString();\n            if (value != null) {\n                inputRequest_toMap.put(key, value);\n            }\n\n\n        }\n    }\n</code></pre>\n<p>PS: I want this result POJO class to be pass as parameter for the ibatis query.</p>\n"},{"tags":["java","multithreading","swing","runnable"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1657568184,"post_id":72942409,"comment_id":128837160,"body_markdown":"Code that&#39;s more than 5 years old is not necessarily &quot;outdated&quot;.","body":"Code that&#39;s more than 5 years old is not necessarily &quot;outdated&quot;."},{"owner":{"account_id":17975995,"reputation":551,"user_id":13063551,"display_name":"Mr.Gomer"},"score":0,"creation_date":1657568273,"post_id":72942409,"comment_id":128837191,"body_markdown":"Well maybe not but there seems to be a. lot of new and more efficient code out now.","body":"Well maybe not but there seems to be a. lot of new and more efficient code out now."}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657566457,"creation_date":1657566457,"answer_id":72943488,"question_id":72942409,"body_markdown":"Making your JPanel implement Runnable is not the best solution.  There is no reason to expose a `run()` method to other classes.\r\n\r\nInstead, create a private void method that takes no arguments.  A method reference that refers to that method can act as a Runnable, since it will have the same arguments and return type.  You can then pass it to a Thread constructor.\r\n\r\n    public MapPanel() {\r\n        // ...\r\n\r\n        readImage();\r\n        new Thread(this::readShapes, &quot;Reading shapes&quot;).start();\r\n\r\n        // ...\r\n    }\r\n\r\n    private void readShapes() {\r\n        try {\r\n            List&lt;Shape&gt; newShapes = new ArrayList&lt;&gt;();\r\n\r\n            URL server = new URL(&quot;https://example.com/indonesia/data&quot;);\r\n            try (InputStream dataSource = server.openStream()) {\r\n                while ( /* ... */ ) {\r\n                    Shape shape = /* ... */;\r\n                    newShapes.add(shape);\r\n                }\r\n            }\r\n\r\n            EventQueue.invokeLater(() -&gt; setShapes(newShapes));\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n            EventQueue.invokeLater(() -&gt; {\r\n                JOptionPane.showMessageDialog(getTopLevelContainer(),\r\n                    &quot;Unable to retrieve data:\\n&quot; + e, &quot;Load Error&quot;,\r\n                    JOptionPane.ERROR_MESSAGE);\r\n            });\r\n        }\r\n    }\r\n\r\nNotice that calls to methods involving Swing objects are always wrapped in a call to EventQueue.invokeLater, to make sure they run on the correct thread.\r\n\r\nIt is possible to improve this by creating a progress dialog that shows while the data is being loaded, but that would make this answer much longer and would require more knowledge about the Indonesian API you’re calling.\r\n","title":"Updating JPanel based on results from slow server (Using threads to not block GUI)","body":"<p>Making your JPanel implement Runnable is not the best solution.  There is no reason to expose a <code>run()</code> method to other classes.</p>\n<p>Instead, create a private void method that takes no arguments.  A method reference that refers to that method can act as a Runnable, since it will have the same arguments and return type.  You can then pass it to a Thread constructor.</p>\n<pre><code>public MapPanel() {\n    // ...\n\n    readImage();\n    new Thread(this::readShapes, &quot;Reading shapes&quot;).start();\n\n    // ...\n}\n\nprivate void readShapes() {\n    try {\n        List&lt;Shape&gt; newShapes = new ArrayList&lt;&gt;();\n\n        URL server = new URL(&quot;https://example.com/indonesia/data&quot;);\n        try (InputStream dataSource = server.openStream()) {\n            while ( /* ... */ ) {\n                Shape shape = /* ... */;\n                newShapes.add(shape);\n            }\n        }\n\n        EventQueue.invokeLater(() -&gt; setShapes(newShapes));\n    } catch (IOException e) {\n        e.printStackTrace();\n        EventQueue.invokeLater(() -&gt; {\n            JOptionPane.showMessageDialog(getTopLevelContainer(),\n                &quot;Unable to retrieve data:\\n&quot; + e, &quot;Load Error&quot;,\n                JOptionPane.ERROR_MESSAGE);\n        });\n    }\n}\n</code></pre>\n<p>Notice that calls to methods involving Swing objects are always wrapped in a call to EventQueue.invokeLater, to make sure they run on the correct thread.</p>\n<p>It is possible to improve this by creating a progress dialog that shows while the data is being loaded, but that would make this answer much longer and would require more knowledge about the Indonesian API you’re calling.</p>\n"}],"owner":{"account_id":17975995,"reputation":551,"user_id":13063551,"display_name":"Mr.Gomer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72943488,"answer_count":1,"score":1,"last_activity_date":1657566457,"creation_date":1657560246,"question_id":72942409,"body_markdown":"So I have been looking to update one of my panels in a my client code with data that comes from a server in Indonesia. The delay is rather long (2-8) sec and Im noticing that my UI is freezing during the time it takes for the response to return from the server. \r\n\r\nThe response will be used to draw some points on a map (not yet implemented).\r\nI have been looking all over the net to find out how to do it and I have come across:\r\n\r\nInvokeLater.\r\nSwingWroker.\r\nScheduledThreadPoolExecutor.\r\nMaking the JPanel a runnable to run in its own thread(seems like best option). \r\nhttp://www.java2s.com/Tutorial/Java/0160__Thread/CreateathreadtoupdateSwing.htm\r\n\r\nBut tbh most of the data i find is out dated (more than 5 years old).\r\n\r\nHere is the JPanel class i want to update based on a server query:\r\n\r\n    public class MapPanel extends JPanel implements Pointable, Runnable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n        private List&lt;Shape&gt; shapes = new LinkedList&lt;&gt;();\r\n        private State mapPanelState;\r\n        public Shape selected;\r\n        private BufferedImage image;\r\n    \r\n    \r\n        public MapPanel() {\r\n            Commander.getInstance().addShapeContainer(this);\r\n            mapPanelState = NoState.getInstance();\r\n            MouseHandler mouseHandler = new MouseHandler(this);\r\n            KeyListener keyListener = new KeyListener();\r\n    \r\n            readImage();\r\n    \r\n            this.addMouseListener(mouseHandler);\r\n            this.addMouseMotionListener(mouseHandler);\r\n            this.addKeyListener(keyListener);\r\n            this.setBackground(Color.white);\r\n            this.setFocusable(true);\r\n            this.requestFocusInWindow();\r\n        }\r\n    \r\n        private void readImage(){\r\n            try {\r\n                image = ImageIO.read(new File(&quot;/MapCoordProject/earthmap1.jpg&quot;));\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        public void setState(State state) {\r\n            mapPanelState = state;\r\n        }\r\n    \r\n        public List&lt;Shape&gt; getShapes() { return shapes; }\r\n    \r\n        public void setShapes(List&lt;Shape&gt; shapes) {\r\n            this.shapes = shapes;\r\n        }\r\n    \r\n        public Shape getLastShape(){ return shapes.get(shapes.size()-1); }\r\n    \r\n        \r\n        public void paintComponent(Graphics g) {\r\n            super.paintComponent(g);\r\n    \r\n            g.drawImage(image, 0, 0, null);\r\n    \r\n            for (Shape shape : shapes)\r\n                shape.draw((Graphics2D) g);\r\n        }\r\n    \r\n        public void select(Point point) {\r\n            for (Shape shape : shapes) {\r\n                if (shape.intersects(point)) {\r\n                    selected = shape;\r\n                }\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public Dimension getPreferredSize() {\r\n            if (image == null) {\r\n                return super.getPreferredSize();\r\n            } else {\r\n                int w = image.getWidth();\r\n                int h = image.getHeight();\r\n                return new Dimension(w, h);\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        public void pointerDown(Point point)  {\r\n            mapPanelState.pointerDown(point, this);\r\n        }\r\n    \r\n        public void pointerUp(Point point) {\r\n            mapPanelState.pointerUp(point, this);\r\n            selected = null;\r\n        }\r\n    \r\n        public void pointerMoved(Point point, boolean pointerDown)  {\r\n            mapPanelState.pointerMoved(point, pointerDown, this);\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n            \r\n        }\r\n    }\r\n\r\nI want a method that updates the &quot;Shapes&quot; array in a separate thread to stop everything from freezing.\r\n\r\nAny suggestions? ","title":"Updating JPanel based on results from slow server (Using threads to not block GUI)","body":"<p>So I have been looking to update one of my panels in a my client code with data that comes from a server in Indonesia. The delay is rather long (2-8) sec and Im noticing that my UI is freezing during the time it takes for the response to return from the server.</p>\n<p>The response will be used to draw some points on a map (not yet implemented).\nI have been looking all over the net to find out how to do it and I have come across:</p>\n<p>InvokeLater.\nSwingWroker.\nScheduledThreadPoolExecutor.\nMaking the JPanel a runnable to run in its own thread(seems like best option).\n<a href=\"http://www.java2s.com/Tutorial/Java/0160__Thread/CreateathreadtoupdateSwing.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Tutorial/Java/0160__Thread/CreateathreadtoupdateSwing.htm</a></p>\n<p>But tbh most of the data i find is out dated (more than 5 years old).</p>\n<p>Here is the JPanel class i want to update based on a server query:</p>\n<pre><code>public class MapPanel extends JPanel implements Pointable, Runnable {\n\n    private static final long serialVersionUID = 1L;\n    private List&lt;Shape&gt; shapes = new LinkedList&lt;&gt;();\n    private State mapPanelState;\n    public Shape selected;\n    private BufferedImage image;\n\n\n    public MapPanel() {\n        Commander.getInstance().addShapeContainer(this);\n        mapPanelState = NoState.getInstance();\n        MouseHandler mouseHandler = new MouseHandler(this);\n        KeyListener keyListener = new KeyListener();\n\n        readImage();\n\n        this.addMouseListener(mouseHandler);\n        this.addMouseMotionListener(mouseHandler);\n        this.addKeyListener(keyListener);\n        this.setBackground(Color.white);\n        this.setFocusable(true);\n        this.requestFocusInWindow();\n    }\n\n    private void readImage(){\n        try {\n            image = ImageIO.read(new File(&quot;/MapCoordProject/earthmap1.jpg&quot;));\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public void setState(State state) {\n        mapPanelState = state;\n    }\n\n    public List&lt;Shape&gt; getShapes() { return shapes; }\n\n    public void setShapes(List&lt;Shape&gt; shapes) {\n        this.shapes = shapes;\n    }\n\n    public Shape getLastShape(){ return shapes.get(shapes.size()-1); }\n\n    \n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        g.drawImage(image, 0, 0, null);\n\n        for (Shape shape : shapes)\n            shape.draw((Graphics2D) g);\n    }\n\n    public void select(Point point) {\n        for (Shape shape : shapes) {\n            if (shape.intersects(point)) {\n                selected = shape;\n            }\n        }\n    }\n\n    @Override\n    public Dimension getPreferredSize() {\n        if (image == null) {\n            return super.getPreferredSize();\n        } else {\n            int w = image.getWidth();\n            int h = image.getHeight();\n            return new Dimension(w, h);\n        }\n    }\n\n\n\n    public void pointerDown(Point point)  {\n        mapPanelState.pointerDown(point, this);\n    }\n\n    public void pointerUp(Point point) {\n        mapPanelState.pointerUp(point, this);\n        selected = null;\n    }\n\n    public void pointerMoved(Point point, boolean pointerDown)  {\n        mapPanelState.pointerMoved(point, pointerDown, this);\n    }\n\n    @Override\n    public void run() {\n        \n    }\n}\n</code></pre>\n<p>I want a method that updates the &quot;Shapes&quot; array in a separate thread to stop everything from freezing.</p>\n<p>Any suggestions?</p>\n"},{"tags":["java","shell","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1511273785,"creation_date":1511269868,"answer_id":47413955,"question_id":47407943,"body_markdown":"Remove this:\r\n\r\n    Thread.sleep(1000);\r\n\r\nThe server probably times out waiting for a request from the client (JSch) and aborts the connection.","title":"&quot;session is down&quot; error when opening an SSH channel with JSch","body":"<p>Remove this:</p>\n\n<pre><code>Thread.sleep(1000);\n</code></pre>\n\n<p>The server probably times out waiting for a request from the client (JSch) and aborts the connection.</p>\n"},{"tags":[],"owner":{"account_id":5022283,"reputation":1523,"user_id":4035426,"accept_rate":100,"display_name":"Bambus"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1511274769,"creation_date":1511271510,"answer_id":47414509,"question_id":47407943,"body_markdown":"Try to use:\r\n\r\n    Properties config = new Properties();\r\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    config.put(&quot;PreferredAuthentications&quot;, &quot;password&quot;);\r\n    jschSSH.setConfig(config);\r\n\r\nand also set \r\n\r\n    sshSession.connect(connectionTimeout) to 5000 or more.\r\n\r\nalso as Martin said \r\n\r\n    remove Thread.sleep(1000);","title":"&quot;session is down&quot; error when opening an SSH channel with JSch","body":"<p>Try to use:</p>\n\n<pre><code>Properties config = new Properties();\nconfig.put(\"StrictHostKeyChecking\", \"no\");\nconfig.put(\"PreferredAuthentications\", \"password\");\njschSSH.setConfig(config);\n</code></pre>\n\n<p>and also set </p>\n\n<pre><code>sshSession.connect(connectionTimeout) to 5000 or more.\n</code></pre>\n\n<p>also as Martin said </p>\n\n<pre><code>remove Thread.sleep(1000);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15883816,"reputation":63,"user_id":11579483,"display_name":"Mike Packer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657566100,"creation_date":1657564178,"answer_id":72943084,"question_id":47407943,"body_markdown":"I was getting this exact error for a different reason. \r\n\r\nbasically I wasn&#39;t properly disconnecting and had too many sessions open.\r\n\r\nSo when I tried to connect it was giving me the exact stack trace you are getting. \r\n\r\nSimply terminating all the connections(pkill) and making a proper disconnect fixed the issue for me.","title":"&quot;session is down&quot; error when opening an SSH channel with JSch","body":"<p>I was getting this exact error for a different reason.</p>\n<p>basically I wasn't properly disconnecting and had too many sessions open.</p>\n<p>So when I tried to connect it was giving me the exact stack trace you are getting.</p>\n<p>Simply terminating all the connections(pkill) and making a proper disconnect fixed the issue for me.</p>\n"}],"owner":{"account_id":11665302,"reputation":1913,"user_id":8542187,"accept_rate":67,"display_name":"xmlParser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25154,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":47414509,"answer_count":3,"score":9,"last_activity_date":1657566100,"creation_date":1511251031,"question_id":47407943,"body_markdown":"I have made an SSH client with JSch. The client is working correctly with my Apache Mina SSH server. But when I test it with a real equipment, it fails.\r\n\r\nThis is the code of the client: \r\n\r\n    public boolean openConnection() throws ItsSshException {\r\n\r\n       boolean connectSuccess = false;\r\n       Properties config = new Properties();\r\n       config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n       jschSSH.setConfig(config);\r\n        try {\r\n         sshSession = jschSSH.getSession(username, hostname, port);\r\n         sshSession.setPassword(password);\r\n         sshSession.connect(connectionTimeout);\r\n         LOGGER.info(&quot;Connection timeout : &quot; + connectionTimeout);\r\n         Thread.sleep(1000);\r\n         sshHChannel = sshSession.openChannel(&quot;shell&quot;);\r\n         sshHChannel.connect();\r\n         in = sshHChannel.getInputStream();\r\n         out = new PrintStream(sshHChannel.getOutputStream());\r\n         clearInitialSocketState();\r\n         connectSuccess = true;\r\n       } catch (Exception e) {\r\n         LOGGER.error(&quot;Error during connecting to host: &quot; + hostname +\r\n                      &quot;, port: &quot; + port + &quot;!&quot;, e);\r\n         throw new ItsSshException(&quot;Error during connecting to host: &quot; + e.getMessage());\r\n       }\r\n       LOGGER.info(&quot;connectSuccess : &quot; + connectSuccess);\r\n       return connectSuccess;\r\n    }\r\n\r\n\r\nThe code is failing at this point:\r\n\r\n    sshHChannel = sshSession.openChannel(&quot;shell&quot;);\r\n\r\n&gt; Error during connecting to host: 127.0.0.1, port: 22!    \r\n&gt; com.jcraft.jsch.JSchException: session is down  \r\n&gt;\tat com.jcraft.jsch.Session.openChannel(Session.java:861)\r\n\r\nMy question is how to fix this problem and what can make it to occure?\r\n\r\nThis is JSch log:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    INFO: Connecting to 127.0.0.1 port 22 \r\n    INFO: Connection established \r\n    INFO: Remote version string: SSH-2.0-Mocana SSH\r\n    INFO: Local version string: SSH-2.0-JSCH-0.1.54\r\n    INFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\r\n    INFO: aes256-ctr is not available.\r\n    INFO: aes192-ctr is not available.\r\n    INFO: aes256-cbc is not available.\r\n    INFO: aes192-cbc is not available.\r\n    INFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\r\n    INFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n    INFO: SSH_MSG_KEXINIT sent\r\n    INFO: SSH_MSG_KEXINIT received\r\n    INFO: kex: server: diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\r\n    INFO: kex: server: ssh-dss,ssh-rsa\r\n    INFO: kex: server: aes256-cbc,rijndael256-cbc,aes192-cbc,rijndael192-cbc,aes128-cbc,rijndael128-cbc,3des-cbc,arcfour\r\n    INFO: kex: server: aes256-cbc,rijndael256-cbc,aes192-cbc,rijndael192-cbc,aes128-cbc,rijndael128-cbc,3des-cbc,arcfour\r\n    INFO: kex: server: hmac-sha1,hmac-sha1-96,hmac-md5,hmac-md5-96\r\n    INFO: kex: server: hmac-sha1,hmac-sha1-96,hmac-md5,hmac-md5-96\r\n    INFO: kex: server: none\r\n    INFO: kex: server: none\r\n    INFO: kex: server: \r\n    INFO: kex: server: \r\n    INFO: kex: client: diffie-hellman-group1-sha1\r\n    INFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\r\n    INFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\r\n    INFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\r\n    INFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n    INFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\r\n    INFO: kex: client: none\r\n    INFO: kex: client: none\r\n    INFO: kex: client: \r\n    INFO: kex: client: \r\n    INFO: kex: server-&gt;client aes128-cbc hmac-md5 none\r\n    INFO: kex: client-&gt;server aes128-cbc hmac-md5 none\r\n    INFO: SSH_MSG_KEXDH_INIT sent\r\n    INFO: expecting SSH_MSG_KEXDH_REPLY\r\n    INFO: ssh_rsa_verify: signature true\r\n    WARN: Permanently added &#39;127.0.0.1&#39; (RSA) to the list of known hosts.\r\n    INFO: SSH_MSG_NEWKEYS sent\r\n    INFO: SSH_MSG_NEWKEYS received\r\n    INFO: SSH_MSG_SERVICE_REQUEST sent\r\n    INFO: SSH_MSG_SERVICE_ACCEPT received\r\n    INFO: Authentications that can continue: publickey,keyboard-interactive,password\r\n    INFO: Next authentication method: publickey\r\n    INFO: Authentications that can continue: keyboard-interactive,password\r\n    INFO: Next authentication method: keyboard-interactive\r\n    INFO: Authentications that can continue: password\r\n    INFO: Next authentication method: password\r\n    INFO: Authentication succeeded (password).\r\n    INFO: Caught an exception, leaving main loop due to End of IO Stream Read\r\n    INFO: Disconnecting from 127.0.0.1 port 22\r\n","title":"&quot;session is down&quot; error when opening an SSH channel with JSch","body":"<p>I have made an SSH client with JSch. The client is working correctly with my Apache Mina SSH server. But when I test it with a real equipment, it fails.</p>\n\n<p>This is the code of the client: </p>\n\n<pre><code>public boolean openConnection() throws ItsSshException {\n\n   boolean connectSuccess = false;\n   Properties config = new Properties();\n   config.put(\"StrictHostKeyChecking\", \"no\");\n   jschSSH.setConfig(config);\n    try {\n     sshSession = jschSSH.getSession(username, hostname, port);\n     sshSession.setPassword(password);\n     sshSession.connect(connectionTimeout);\n     LOGGER.info(\"Connection timeout : \" + connectionTimeout);\n     Thread.sleep(1000);\n     sshHChannel = sshSession.openChannel(\"shell\");\n     sshHChannel.connect();\n     in = sshHChannel.getInputStream();\n     out = new PrintStream(sshHChannel.getOutputStream());\n     clearInitialSocketState();\n     connectSuccess = true;\n   } catch (Exception e) {\n     LOGGER.error(\"Error during connecting to host: \" + hostname +\n                  \", port: \" + port + \"!\", e);\n     throw new ItsSshException(\"Error during connecting to host: \" + e.getMessage());\n   }\n   LOGGER.info(\"connectSuccess : \" + connectSuccess);\n   return connectSuccess;\n}\n</code></pre>\n\n<p>The code is failing at this point:</p>\n\n<pre><code>sshHChannel = sshSession.openChannel(\"shell\");\n</code></pre>\n\n<blockquote>\n  <p>Error during connecting to host: 127.0.0.1, port: 22!<br>\n  com.jcraft.jsch.JSchException: session is down<br>\n    at com.jcraft.jsch.Session.openChannel(Session.java:861)</p>\n</blockquote>\n\n<p>My question is how to fix this problem and what can make it to occure?</p>\n\n<p>This is JSch log:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>INFO: Connecting to 127.0.0.1 port 22 \nINFO: Connection established \nINFO: Remote version string: SSH-2.0-Mocana SSH\nINFO: Local version string: SSH-2.0-JSCH-0.1.54\nINFO: CheckCiphers: aes256-ctr,aes192-ctr,aes128-ctr,aes256-cbc,aes192-cbc,aes128-cbc,3des-ctr,arcfour,arcfour128,arcfour256\nINFO: aes256-ctr is not available.\nINFO: aes192-ctr is not available.\nINFO: aes256-cbc is not available.\nINFO: aes192-cbc is not available.\nINFO: CheckKexes: diffie-hellman-group14-sha1,ecdh-sha2-nistp256,ecdh-sha2-nistp384,ecdh-sha2-nistp521\nINFO: CheckSignatures: ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: SSH_MSG_KEXINIT sent\nINFO: SSH_MSG_KEXINIT received\nINFO: kex: server: diffie-hellman-group14-sha1,diffie-hellman-group1-sha1\nINFO: kex: server: ssh-dss,ssh-rsa\nINFO: kex: server: aes256-cbc,rijndael256-cbc,aes192-cbc,rijndael192-cbc,aes128-cbc,rijndael128-cbc,3des-cbc,arcfour\nINFO: kex: server: aes256-cbc,rijndael256-cbc,aes192-cbc,rijndael192-cbc,aes128-cbc,rijndael128-cbc,3des-cbc,arcfour\nINFO: kex: server: hmac-sha1,hmac-sha1-96,hmac-md5,hmac-md5-96\nINFO: kex: server: hmac-sha1,hmac-sha1-96,hmac-md5,hmac-md5-96\nINFO: kex: server: none\nINFO: kex: server: none\nINFO: kex: server: \nINFO: kex: server: \nINFO: kex: client: diffie-hellman-group1-sha1\nINFO: kex: client: ssh-rsa,ssh-dss,ecdsa-sha2-nistp256,ecdsa-sha2-nistp384,ecdsa-sha2-nistp521\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\nINFO: kex: client: aes128-ctr,aes128-cbc,3des-ctr,3des-cbc,blowfish-cbc\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: hmac-md5,hmac-sha1,hmac-sha2-256,hmac-sha1-96,hmac-md5-96\nINFO: kex: client: none\nINFO: kex: client: none\nINFO: kex: client: \nINFO: kex: client: \nINFO: kex: server-&gt;client aes128-cbc hmac-md5 none\nINFO: kex: client-&gt;server aes128-cbc hmac-md5 none\nINFO: SSH_MSG_KEXDH_INIT sent\nINFO: expecting SSH_MSG_KEXDH_REPLY\nINFO: ssh_rsa_verify: signature true\nWARN: Permanently added '127.0.0.1' (RSA) to the list of known hosts.\nINFO: SSH_MSG_NEWKEYS sent\nINFO: SSH_MSG_NEWKEYS received\nINFO: SSH_MSG_SERVICE_REQUEST sent\nINFO: SSH_MSG_SERVICE_ACCEPT received\nINFO: Authentications that can continue: publickey,keyboard-interactive,password\nINFO: Next authentication method: publickey\nINFO: Authentications that can continue: keyboard-interactive,password\nINFO: Next authentication method: keyboard-interactive\nINFO: Authentications that can continue: password\nINFO: Next authentication method: password\nINFO: Authentication succeeded (password).\nINFO: Caught an exception, leaving main loop due to End of IO Stream Read\nINFO: Disconnecting from 127.0.0.1 port 22\n</code></pre>\n"},{"tags":["java","json","jackson","jackson-databind"],"comments":[{"owner":{"account_id":227992,"reputation":17441,"user_id":490018,"accept_rate":67,"display_name":"Sergey Vyacheslavovich Brunov"},"score":0,"creation_date":1657553271,"post_id":72938207,"comment_id":128832204,"body_markdown":"Dear @peachish11235, Welcome to Stack Overflow! Could you please provide a [minimal, complete, and verifiable example](https://stackoverflow.com/help/mcve)?","body":"Dear @peachish11235, Welcome to Stack Overflow! Could you please provide a <a href=\"https://stackoverflow.com/help/mcve\">minimal, complete, and verifiable example</a>?"}],"answers":[{"tags":[],"owner":{"account_id":8756721,"reputation":1016,"user_id":6548090,"display_name":"Ilya Sazonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657566028,"creation_date":1657566028,"answer_id":72943411,"question_id":72938207,"body_markdown":"In your code the problem is that you check value for null. But value type is MyObject. What you really want is to check for null is value.getAString() and value.getBString() . Or whatever Lombok transforms aString and bString to . \r\n\r\ninstead of \r\n```java\r\n\r\nif (value == null) {\r\n    gen.writeStartObject();\r\n    gen.writeNullField(&quot;AString&quot;);\r\n    gen.writeNullField(&quot;BString&quot;);\r\n    gen.writeEndObject();\r\n}\r\n```\r\nyour code should be\r\n\r\n```java\r\ngen.writeStartObject();\r\n\r\nif (value.getAString() == null) {          \r\n    gen.writeNullField(&quot;AString&quot;);\r\n}\r\nif (value.getBString() == null) {\r\n    gen.writeNullField(&quot;BString&quot;);\r\n}\r\n         \r\ngen.writeEndObject();\r\n```","title":"Override Jackson ObjectMapper config for certain POJOs","body":"<p>In your code the problem is that you check value for null. But value type is MyObject. What you really want is to check for null is value.getAString() and value.getBString() . Or whatever Lombok transforms aString and bString to .</p>\n<p>instead of</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nif (value == null) {\n    gen.writeStartObject();\n    gen.writeNullField(&quot;AString&quot;);\n    gen.writeNullField(&quot;BString&quot;);\n    gen.writeEndObject();\n}\n</code></pre>\n<p>your code should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>gen.writeStartObject();\n\nif (value.getAString() == null) {          \n    gen.writeNullField(&quot;AString&quot;);\n}\nif (value.getBString() == null) {\n    gen.writeNullField(&quot;BString&quot;);\n}\n         \ngen.writeEndObject();\n</code></pre>\n"}],"owner":{"account_id":17245293,"reputation":11,"user_id":12486723,"display_name":"peachish11235"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":509,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1657566028,"creation_date":1657540641,"question_id":72938207,"body_markdown":"I have an object mapper that is initialized with \r\n\r\n    this.objectMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\r\n\r\nhowever, I need it to not do that for certain POJOs where I want their null value fields. \r\n\r\nI&#39;ve tried setting `(JsonInclude.Include.AWLAYS)` on the class and the field levels of the POJO but it doesn&#39;t work. \r\n\r\nEDIT:\r\nhere is my POJO\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @Builder\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @EqualsAndHashCode\r\n    @JsonSerialize(using = MyCustomSerializer.class)\r\n    public class MyObject {\r\n    \r\n        @JsonProperty(&quot;AString&quot;)\r\n        private String aString;\r\n    \r\n        @JsonProperty(&quot;BString&quot;)\r\n        private String bString;\r\n    }\r\n\r\ni&#39;ve also written a custom serializer\r\n\r\n    public class MyCustomSerializer extends JsonSerializer&lt;MyCustomSerializer &gt; {\r\n    \r\n        @Override\r\n        public void serialize(MyObject value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\r\n            if (value == null) {\r\n                gen.writeStartObject();\r\n                gen.writeNullField(&quot;AString&quot;);\r\n                gen.writeNullField(&quot;BString&quot;);\r\n                gen.writeEndObject();\r\n            }\r\n        }\r\n    }\r\n\r\ni want the outcome to look like this \r\n\r\n    {\r\n    &quot;AString&quot;: null, \r\n    &quot;BString&quot;: null,\r\n    }\r\n\r\nhowever right now it&#39;s just like this \r\n\r\n    {\r\n    }","title":"Override Jackson ObjectMapper config for certain POJOs","body":"<p>I have an object mapper that is initialized with</p>\n<pre><code>this.objectMapper.setSerializationInclusion(JsonInclude.Include.NON_EMPTY);\n</code></pre>\n<p>however, I need it to not do that for certain POJOs where I want their null value fields.</p>\n<p>I've tried setting <code>(JsonInclude.Include.AWLAYS)</code> on the class and the field levels of the POJO but it doesn't work.</p>\n<p>EDIT:\nhere is my POJO</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n@Builder\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\n@EqualsAndHashCode\n@JsonSerialize(using = MyCustomSerializer.class)\npublic class MyObject {\n\n    @JsonProperty(&quot;AString&quot;)\n    private String aString;\n\n    @JsonProperty(&quot;BString&quot;)\n    private String bString;\n}\n</code></pre>\n<p>i've also written a custom serializer</p>\n<pre><code>public class MyCustomSerializer extends JsonSerializer&lt;MyCustomSerializer &gt; {\n\n    @Override\n    public void serialize(MyObject value, JsonGenerator gen, SerializerProvider serializers) throws IOException {\n        if (value == null) {\n            gen.writeStartObject();\n            gen.writeNullField(&quot;AString&quot;);\n            gen.writeNullField(&quot;BString&quot;);\n            gen.writeEndObject();\n        }\n    }\n}\n</code></pre>\n<p>i want the outcome to look like this</p>\n<pre><code>{\n&quot;AString&quot;: null, \n&quot;BString&quot;: null,\n}\n</code></pre>\n<p>however right now it's just like this</p>\n<pre><code>{\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":18010079,"reputation":144,"user_id":13089975,"display_name":"KubePony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657548357,"creation_date":1657548357,"answer_id":72939871,"question_id":72938880,"body_markdown":"**Parameters:**\r\n\r\npublic ConsumerRecords&lt;K,V&gt; poll(Duration timeout)\r\n\r\ntimeout - The maximum time to block (must not be greater than Long.MAX_VALUE milliseconds)\r\n\r\nAnd yes, it looks like he is blocking the partition\r\n\r\nhttps://kafka.apache.org/26/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html","title":"Kafka conumer.poll() argument","body":"<p><strong>Parameters:</strong></p>\n<p>public ConsumerRecords&lt;K,V&gt; poll(Duration timeout)</p>\n<p>timeout - The maximum time to block (must not be greater than Long.MAX_VALUE milliseconds)</p>\n<p>And yes, it looks like he is blocking the partition</p>\n<p><a href=\"https://kafka.apache.org/26/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html\" rel=\"nofollow noreferrer\">https://kafka.apache.org/26/javadoc/index.html?org/apache/kafka/clients/consumer/KafkaConsumer.html</a></p>\n"},{"tags":[],"owner":{"account_id":19112276,"reputation":777,"user_id":13958041,"display_name":"Rishabh Sharma"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657564817,"creation_date":1657564817,"answer_id":72943199,"question_id":72938880,"body_markdown":"The poll call is a blocking call from the kafka consumer. The call will return in one of the two conditions:\r\n\r\n 1. **poll duration times out**: The kafka cluster will return the consumer with all the *new* messages that have been published to the topic partition (that consumer has subscribed to) and have not been processed by the consumer.\r\n 2. **max.poll.records have been reached**: As part of kafka consumer config, max number of records to be read in a poll is configured as well. So if we are polling for 1min with max poll records as 1000, the poll call will return if 1000 new messages are available even if 1min is *NOT* over yet. \r\n","title":"Kafka conumer.poll() argument","body":"<p>The poll call is a blocking call from the kafka consumer. The call will return in one of the two conditions:</p>\n<ol>\n<li><strong>poll duration times out</strong>: The kafka cluster will return the consumer with all the <em>new</em> messages that have been published to the topic partition (that consumer has subscribed to) and have not been processed by the consumer.</li>\n<li><strong>max.poll.records have been reached</strong>: As part of kafka consumer config, max number of records to be read in a poll is configured as well. So if we are polling for 1min with max poll records as 1000, the poll call will return if 1000 new messages are available even if 1min is <em>NOT</em> over yet.</li>\n</ol>\n"}],"owner":{"account_id":10962013,"reputation":1813,"user_id":8055025,"accept_rate":67,"display_name":"Ankit Sahay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72943199,"answer_count":2,"score":1,"last_activity_date":1657565421,"creation_date":1657543779,"question_id":72938880,"body_markdown":"What does the argument in the .poll method mean?\r\n\r\n    ConsumerRecords&lt;String, String&gt; records = consumer.poll(100);\r\n\r\nDoes it mean that consumer will block the execution for 100ms when there is no data in the partition? Or does it mean that it will keep polling for 100ms and batch those data for 100ms and then return?\r\n\r\nIf I may ask it differently, does the argument hold meaning only in cases of no data in the partition or does it mean that data or no-data the consumer will block for 100ms?","title":"Kafka conumer.poll() argument","body":"<p>What does the argument in the .poll method mean?</p>\n<pre><code>ConsumerRecords&lt;String, String&gt; records = consumer.poll(100);\n</code></pre>\n<p>Does it mean that consumer will block the execution for 100ms when there is no data in the partition? Or does it mean that it will keep polling for 100ms and batch those data for 100ms and then return?</p>\n<p>If I may ask it differently, does the argument hold meaning only in cases of no data in the partition or does it mean that data or no-data the consumer will block for 100ms?</p>\n"},{"tags":["java","android","android-asynctask","java.util.concurrent"],"owner":{"account_id":11954296,"reputation":41,"user_id":13722324,"display_name":"A.Z"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657564673,"creation_date":1657564592,"question_id":72943159,"body_markdown":"I am new to this concept and trying to follow a YouTube tutorial, in the video, he used AsyncTask to add the note object to the DB and AsyncTask to retrieve the data\r\n\r\nHe used this code to add the notes to DB\r\n\r\n```\r\nclass AddNotesToDatabase extends AsyncTask&lt;Void,Void,Void&gt; {\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n            NotesDatabase.getDatabase(getApplicationContext())\r\n                                .noteDao()\r\n                                        .insertNote(note);\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Void unused) {\r\n            super.onPostExecute(unused);\r\n            //finish the activity\r\n        }\r\n    }\r\n    new AddNotesToDatabase.execute();\r\n ```\r\nWhich I easily replaced with this code after reading an answer on StackOverflow\r\nand it&#39;s working fine\r\n\r\n```\r\nExecutorService executor = Executors.newSingleThreadExecutor();\r\n            Handler handler = new Handler(Looper.getMainLooper());\r\n            executor.execute(() -&gt; {\r\n\r\n                //adding the note object to the database\r\n                NotesDatabase.getDatabase(getApplicationContext())\r\n                                .noteDao()\r\n                                        .insertNote(note);\r\n\r\n                handler.post(() -&gt; {\r\n                    //progressBar.setVisibility(GONE);\r\n                    //finish this activity and go back to my MainActivity\r\n                });\r\n            });\r\n```\r\n\r\nmy problem starts when I want to call these notes back from the database.\r\nIn the tutorial, he used this code\r\n\r\n```\r\nprivate void getNotes() {\r\n\r\n        @SuppressLint(&quot;StaticFieldLeak&quot;)\r\n        class GetNotesFromDatabaseTask extends AsyncTask&lt;Void,Void,List&lt;Note&gt;&gt; {\r\n\r\n            @Override\r\n            protected List&lt;Note&gt; doInBackground(Void... voids) {\r\n                //get the notes list from Room database\r\n                //return that list\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            protected void onPostExecute(List&lt;Note&gt; notes) {\r\n                super.onPostExecute(notes);\r\n                //assign the returned list to my original list\r\n            }\r\n        }\r\n\r\n        new GetNotesFromDatabaseTask().execute();\r\n    }\r\n```\r\n\r\nI can&#39;t figure out how would I replace this code and use ```java.util.concurrent``` instead to return a list of note objects.\r\n\r\nAny help would be much appreciated \r\n","title":"Using Executer instead of AsyncTask to Get Data From Room Database in Android","body":"<p>I am new to this concept and trying to follow a YouTube tutorial, in the video, he used AsyncTask to add the note object to the DB and AsyncTask to retrieve the data</p>\n<p>He used this code to add the notes to DB</p>\n<pre><code>class AddNotesToDatabase extends AsyncTask&lt;Void,Void,Void&gt; {\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n            NotesDatabase.getDatabase(getApplicationContext())\n                                .noteDao()\n                                        .insertNote(note);\n        }\n\n        @Override\n        protected void onPostExecute(Void unused) {\n            super.onPostExecute(unused);\n            //finish the activity\n        }\n    }\n    new AddNotesToDatabase.execute();\n</code></pre>\n<p>Which I easily replaced with this code after reading an answer on StackOverflow\nand it's working fine</p>\n<pre><code>ExecutorService executor = Executors.newSingleThreadExecutor();\n            Handler handler = new Handler(Looper.getMainLooper());\n            executor.execute(() -&gt; {\n\n                //adding the note object to the database\n                NotesDatabase.getDatabase(getApplicationContext())\n                                .noteDao()\n                                        .insertNote(note);\n\n                handler.post(() -&gt; {\n                    //progressBar.setVisibility(GONE);\n                    //finish this activity and go back to my MainActivity\n                });\n            });\n</code></pre>\n<p>my problem starts when I want to call these notes back from the database.\nIn the tutorial, he used this code</p>\n<pre><code>private void getNotes() {\n\n        @SuppressLint(&quot;StaticFieldLeak&quot;)\n        class GetNotesFromDatabaseTask extends AsyncTask&lt;Void,Void,List&lt;Note&gt;&gt; {\n\n            @Override\n            protected List&lt;Note&gt; doInBackground(Void... voids) {\n                //get the notes list from Room database\n                //return that list\n                return null;\n            }\n\n            @Override\n            protected void onPostExecute(List&lt;Note&gt; notes) {\n                super.onPostExecute(notes);\n                //assign the returned list to my original list\n            }\n        }\n\n        new GetNotesFromDatabaseTask().execute();\n    }\n</code></pre>\n<p>I can't figure out how would I replace this code and use <code>java.util.concurrent</code> instead to return a list of note objects.</p>\n<p>Any help would be much appreciated</p>\n"},{"tags":["java","mysql","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25780954,"reputation":41,"user_id":19526587,"display_name":"Pranaya Dutt"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657558517,"creation_date":1657558517,"answer_id":72942053,"question_id":72941835,"body_markdown":"In the company model give the model `@Entity` annotation above `@Table` annotation.","title":"Employee Tracker . setting table relationship using mysql and java spring boot","body":"<p>In the company model give the model <code>@Entity</code> annotation above <code>@Table</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":25778544,"reputation":66,"user_id":19524472,"display_name":"Raju Ch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657560028,"creation_date":1657560028,"answer_id":72942361,"question_id":72941835,"body_markdown":"Add below line to your system.properties file  \r\n\r\n     spring.mvc.pathmatch.matching-strategy=ant_path_matcher\r\n\r\nIn employees class use :  \r\n\r\n     @OneToMany(targetEntity = Employee.class,cascade = ALL,fetch = \r\n     FetchType.LAZY)  \r\n     @JoinColumn(name = &quot;employee_id&quot;,referencedColumnName = &quot;company_id&quot;)  \r\n     private Set&lt;Company&gt; company;  \r\n","title":"Employee Tracker . setting table relationship using mysql and java spring boot","body":"<p>Add below line to your system.properties file</p>\n<pre><code> spring.mvc.pathmatch.matching-strategy=ant_path_matcher\n</code></pre>\n<p>In employees class use :</p>\n<pre><code> @OneToMany(targetEntity = Employee.class,cascade = ALL,fetch = \n FetchType.LAZY)  \n @JoinColumn(name = &quot;employee_id&quot;,referencedColumnName = &quot;company_id&quot;)  \n private Set&lt;Company&gt; company;  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":25783517,"reputation":1,"user_id":19528777,"display_name":"Sai Yoganandh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657564530,"creation_date":1657564530,"answer_id":72943147,"question_id":72941835,"body_markdown":"You should make the company an entity because you cannot make mapping without making the model class into the entity.Use @Entity to make company class entity above @Table(name = company).\r\nAs you are trying to map from employees(many) entity to company(one)entity\r\ntry @ManyToOne mapping in the employees entity by making company_\r\nid a FOREIGN KEY in employee table\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name=&quot;id&quot;,referencedColumnName=&quot;company_id&quot;)\r\n     private Set&lt;Company&gt; company;\r\nIn the above name represents id of company in company entity and referencedColumnName represents company_id in the employee entity.\r\n\r\n","title":"Employee Tracker . setting table relationship using mysql and java spring boot","body":"<p>You should make the company an entity because you cannot make mapping without making the model class into the entity.Use @Entity to make company class entity above @Table(name = company).\nAs you are trying to map from employees(many) entity to company(one)entity\ntry @ManyToOne mapping in the employees entity by making company_\nid a FOREIGN KEY in employee table</p>\n<pre><code>@ManyToOne\n@JoinColumn(name=&quot;id&quot;,referencedColumnName=&quot;company_id&quot;)\n private Set&lt;Company&gt; company;\n</code></pre>\n<p>In the above name represents id of company in company entity and referencedColumnName represents company_id in the employee entity.</p>\n"}],"owner":{"account_id":23864588,"reputation":1,"user_id":17867115,"display_name":"Paul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1657564530,"creation_date":1657557427,"question_id":72941835,"body_markdown":"I am using Java and Sprig boot with MySQL to create an employee tracker. there are to models: Employee and Company. The Company model just has an autogenerated Id and name. The employee has first_name, last_name, address, salary, company_id, and email_id. The Employee Model belongs to Company model, and it is a oneToMany relationship (because one company has many employees. I am trying to set it up so that the Employee model is linked to the Company model. When I try and run spring boot i get this error:\r\n\r\n    Use of @OneToMany or @ManyToMany targeting an unmapped class: employeeapps.com.example.EmployeeTracker.model.Employee.company[employeeapps.com.example.EmployeeTracker.model.Company]\r\n\r\nHere is my Employee Model: \r\n\r\n    package employeeapps.com.example.EmployeeTracker.model;\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.Set;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;employees&quot;)\r\n    public class Employee {\r\n    \r\n    \r\n        //Company is one and has many employees\r\n        @OneToMany(mappedBy = &quot;employees&quot;)\r\n        private Set&lt;Company&gt; company;\r\n    \r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long companyId;\r\n    \r\n        @Column(name = &quot;first_name&quot;)\r\n        private String firstName;\r\n    \r\n        @Column(name = &quot;last_name&quot;)\r\n        private String lastName;\r\n    \r\n        @Column(name=&quot;address&quot;)\r\n        private String address;\r\n    \r\n        @Column(name=&quot;salary&quot;)\r\n        private Double salary;\r\n    \r\n        @Column(name = &quot;email_id&quot;)\r\n        private String emailId;\r\n    \r\n    \r\n        //default constructor\r\n        public Employee(){\r\n    \r\n        }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    \r\n        //create a public constructor with the appropriate parameters to be able to create a new instance of an employee\r\n        public Employee(String firstName, String lastName, String emailId, String address, Double salary){\r\n            super();\r\n            this.firstName = firstName;\r\n            this.lastName = lastName;\r\n            this.emailId = emailId;\r\n            this.salary = salary;\r\n            this.address = address;\r\n        }\r\n    \r\n        //define methods\r\n        //long data type because could be a very long numerical  data\r\n        public long getId() {\r\n            return companyId;\r\n        }\r\n    \r\n        public void setId(long companyId){\r\n            this.companyId = companyId;\r\n        }\r\n    \r\n        public String getFirstName(){\r\n            return firstName;\r\n        }\r\n        public void setFirstName(String firstName){\r\n            this.firstName = firstName;\r\n        }\r\n        public String getLastName(){\r\n            return lastName;\r\n        }\r\n        public void setLastName(String lastName){\r\n            this.lastName = lastName;\r\n        }\r\n        public String getEmailId(){\r\n            return emailId;\r\n        }\r\n        public void setEmailId(String emailId){\r\n            this.emailId = emailId;\r\n        }\r\n    \r\n        public void setAddress(String address){\r\n            this.address = address;\r\n        }\r\n    \r\n        public void setSalary(Double salary){\r\n            this.salary = salary;\r\n        }\r\n\r\nHere is my Compay Model:\r\n\r\n    package employeeapps.com.example.EmployeeTracker.model;\r\n    \r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Table(name = &quot;company&quot;)\r\n    public class Company {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private long id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n    \r\n        public Company(){\r\n    \r\n        }\r\n    \r\n        //public constructor\r\n    \r\n        public Company(String name){\r\n            this.name = name;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\n\r\nHere is my employee controller to preform REST API:\r\n\r\n    package employeeapps.com.example.EmployeeTracker.controller;\r\n    \r\n    import employeeapps.com.example.EmployeeTracker.model.Employee;\r\n    import employeeapps.com.example.EmployeeTracker.repository.employeeRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import java.util.List;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1&quot;)\r\n    public class EmployeeController {\r\n    \r\n        @Autowired\r\n       private employeeRepository employeeRepository;\r\n    \r\n    \r\n        //REST APIS\r\n        //get all employees  method name is get all\r\n    \r\n        @GetMapping(&quot;/employees&quot;)\r\n        public List&lt;Employee&gt; getAllEmployees(){\r\n            return employeeRepository.findAll();\r\n    \r\n        }\r\n    }\r\n\r\n\r\n","title":"Employee Tracker . setting table relationship using mysql and java spring boot","body":"<p>I am using Java and Sprig boot with MySQL to create an employee tracker. there are to models: Employee and Company. The Company model just has an autogenerated Id and name. The employee has first_name, last_name, address, salary, company_id, and email_id. The Employee Model belongs to Company model, and it is a oneToMany relationship (because one company has many employees. I am trying to set it up so that the Employee model is linked to the Company model. When I try and run spring boot i get this error:</p>\n<pre><code>Use of @OneToMany or @ManyToMany targeting an unmapped class: employeeapps.com.example.EmployeeTracker.model.Employee.company[employeeapps.com.example.EmployeeTracker.model.Company]\n</code></pre>\n<p>Here is my Employee Model:</p>\n<pre><code>package employeeapps.com.example.EmployeeTracker.model;\n\nimport javax.persistence.*;\nimport java.util.Set;\n\n@Entity\n@Table(name = &quot;employees&quot;)\npublic class Employee {\n\n\n    //Company is one and has many employees\n    @OneToMany(mappedBy = &quot;employees&quot;)\n    private Set&lt;Company&gt; company;\n\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long companyId;\n\n    @Column(name = &quot;first_name&quot;)\n    private String firstName;\n\n    @Column(name = &quot;last_name&quot;)\n    private String lastName;\n\n    @Column(name=&quot;address&quot;)\n    private String address;\n\n    @Column(name=&quot;salary&quot;)\n    private Double salary;\n\n    @Column(name = &quot;email_id&quot;)\n    private String emailId;\n\n\n    //default constructor\n    public Employee(){\n\n    }\n\n\n\n\n\n\n    //create a public constructor with the appropriate parameters to be able to create a new instance of an employee\n    public Employee(String firstName, String lastName, String emailId, String address, Double salary){\n        super();\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.emailId = emailId;\n        this.salary = salary;\n        this.address = address;\n    }\n\n    //define methods\n    //long data type because could be a very long numerical  data\n    public long getId() {\n        return companyId;\n    }\n\n    public void setId(long companyId){\n        this.companyId = companyId;\n    }\n\n    public String getFirstName(){\n        return firstName;\n    }\n    public void setFirstName(String firstName){\n        this.firstName = firstName;\n    }\n    public String getLastName(){\n        return lastName;\n    }\n    public void setLastName(String lastName){\n        this.lastName = lastName;\n    }\n    public String getEmailId(){\n        return emailId;\n    }\n    public void setEmailId(String emailId){\n        this.emailId = emailId;\n    }\n\n    public void setAddress(String address){\n        this.address = address;\n    }\n\n    public void setSalary(Double salary){\n        this.salary = salary;\n    }\n</code></pre>\n<p>Here is my Compay Model:</p>\n<pre><code>package employeeapps.com.example.EmployeeTracker.model;\n\n\nimport javax.persistence.*;\n\n@Table(name = &quot;company&quot;)\npublic class Company {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @Column(name = &quot;name&quot;)\n    private String name;\n\n    public Company(){\n\n    }\n\n    //public constructor\n\n    public Company(String name){\n        this.name = name;\n\n    }\n\n}\n</code></pre>\n<p>Here is my employee controller to preform REST API:</p>\n<pre><code>package employeeapps.com.example.EmployeeTracker.controller;\n\nimport employeeapps.com.example.EmployeeTracker.model.Employee;\nimport employeeapps.com.example.EmployeeTracker.repository.employeeRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class EmployeeController {\n\n    @Autowired\n   private employeeRepository employeeRepository;\n\n\n    //REST APIS\n    //get all employees  method name is get all\n\n    @GetMapping(&quot;/employees&quot;)\n    public List&lt;Employee&gt; getAllEmployees(){\n        return employeeRepository.findAll();\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","oracle","stored-procedures","jdbc"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657544874,"post_id":72939052,"comment_id":128828530,"body_markdown":"Please add the complete stack trace to your question. And what is SQLPersonArray?","body":"Please add the complete stack trace to your question. And what is SQLPersonArray?"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1657545536,"post_id":72939052,"comment_id":128828794,"body_markdown":"if that array is empty, and you try to access the first (non-existing) element of it, what exactly do you think is going to happen? Yes, that seems to be exactly what your problem is","body":"if that array is empty, and you try to access the first (non-existing) element of it, what exactly do you think is going to happen? Yes, that seems to be exactly what your problem is"},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1657545868,"post_id":72939052,"comment_id":128828942,"body_markdown":"@tgdavies Sorry, details added.","body":"@tgdavies Sorry, details added."},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1657545935,"post_id":72939052,"comment_id":128828980,"body_markdown":"@Stultuske It is not me who is trying to access it... I have no control inside Spring&#39;s `StoredProcedure.execute()`","body":"@Stultuske It is not me who is trying to access it... I have no control inside Spring&#39;s <code>StoredProcedure.execute()</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1657546735,"post_id":72939052,"comment_id":128829369,"body_markdown":"@user2526586 so this: at test.mybookingsystem.access.dao.BookingDaoJdbc.createBooking(BookingDaoJdbc.java:161)\n    is not in your code? I&#39;m fairly sure that isn&#39;t a spring package. has it occurred to you to NOT call that method if presenters is empty?","body":"@user2526586 so this: at test.mybookingsystem.access.dao.BookingDaoJdbc.createBooking&zwnj;&#8203;(BookingDaoJdbc.java&zwnj;&#8203;:161)     is not in your code? I&#39;m fairly sure that isn&#39;t a spring package. has it occurred to you to NOT call that method if presenters is empty?"},{"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"score":0,"creation_date":1657547180,"post_id":72939052,"comment_id":128829560,"body_markdown":"@Stultuske Sorry, I am not getting your point. `BookingDaoJdbc.createBooking()` is my code.   I DO want to call `CreateBookingFunction.execute()` even if `presenters` is empty, as the oracle function is designed to accept empty array. What puzzle me is why `StoredProcedure.execute()` (or its dependency objects) is trying to access elements inside `presenters` even when the array is empty.","body":"@Stultuske Sorry, I am not getting your point. <code>BookingDaoJdbc.createBooking()</code> is my code.   I DO want to call <code>CreateBookingFunction.execute()</code> even if <code>presenters</code> is empty, as the oracle function is designed to accept empty array. What puzzle me is why <code>StoredProcedure.execute()</code> (or its dependency objects) is trying to access elements inside <code>presenters</code> even when the array is empty."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1657577582,"post_id":72939052,"comment_id":128839580,"body_markdown":"As you can see from the stack trace, `test.mybookingsystem.model.SQLBooking.writeSQL(SQLBooking.java:100)\n` is involved. Please add the code for `SQLBooking` to your question.","body":"As you can see from the stack trace, <code>test.mybookingsystem.model.SQLBooking.writeSQL(SQLBooking.ja&zwnj;&#8203;va:100) </code> is involved. Please add the code for <code>SQLBooking</code> to your question."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1657605033,"post_id":72939052,"comment_id":128843773,"body_markdown":"@user2526586 according to the stacktrace you posted, that line is where the problem occurs. after the update, it points indeed to SQLBooking.java -&gt; 100. If you want us to help you understand your stacktraces, posting only partial stacktraces won&#39;t really do you any good","body":"@user2526586 according to the stacktrace you posted, that line is where the problem occurs. after the update, it points indeed to SQLBooking.java -&gt; 100. If you want us to help you understand your stacktraces, posting only partial stacktraces won&#39;t really do you any good"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1657618228,"post_id":72939052,"comment_id":128847787,"body_markdown":"The error suggests that `presenters` is an empty array, but at least one is expected. You need to show the code of `test.mybookingsystem.model.SQLBooking.writeSQL`. Likely you should not call `OracleSQLOutput.writeString` with an empty array (or string) in that code.","body":"The error suggests that <code>presenters</code> is an empty array, but at least one is expected. You need to show the code of <code>test.mybookingsystem.model.SQLBooking.writeSQL</code>. Likely you should not call <code>OracleSQLOutput.writeString</code> with an empty array (or string) in that code."}],"owner":{"account_id":2975457,"reputation":1032,"user_id":2526586,"accept_rate":33,"display_name":"user2526586"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657564221,"creation_date":1657544595,"question_id":72939052,"body_markdown":"I am stuck with an exception on a Java/Spring application. I hope someone can help.\r\n\r\nI have extended `org.springframework.jdbc.object.StoredProcedure` for an Oracle function called. \r\n```\r\npublic class CreateBookingFunction extends StoredProcedure {\r\n\tpublic CreateBookingFunction(JdbcTemplate jdbcTemplate, String procName){\r\n\t\t// initialise function.\r\n\t\tsuper(jdbcTemplate, procName);\r\n\t\tsetFunction(true);\r\n \t\t// function return.\r\n   \t    declareParameter(new SqlOutParameter(&quot;po_result&quot;, OracleTypes.VARCHAR));\r\n     \t// input parameters bookingid, presenter array, booking date array, event mail object.\r\n\t\tdeclareParameter(new SqlParameter(&quot;pi_booking&quot;,OracleTypes.STRUCT,&quot;BOOKING_TYP&quot;));\r\n\t\tdeclareParameter(new SqlParameter(&quot;pi_presenters&quot;,OracleTypes.ARRAY,&quot;PERSON_TBL_TYP&quot;));\r\n\t\t// function result DBResult object.\r\n     \tdeclareParameter(new SqlOutParameter(&quot;po_return&quot;,OracleTypes.STRUCT,&quot;RETURN_TYP&quot;,new SqlReturnSqlData(SQLDBResult.class)));\r\n\t\tallowsUnusedParameters();\r\n     \t// compile function.\r\n\t\tcompile();\r\n\t}\r\n\t\r\n\tpublic Map execute(JdbcTemplate jdbcTemplate, SQLBooking booking, SQLPerson[] presenters) {\r\n\t    Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();\r\n\t\t// pass in input parameter objects.\r\n\t\tparams.put(&quot;pi_booking&quot;, booking);\r\n\t\tparams.put(&quot;pi_presenters&quot;, new SQLPersonArray(presenters));\r\n\t\t// execute function.\r\n\t\treturn super.execute(params);\r\n    }\t\r\n}\r\n\r\n```\r\nand `SQLPersonArray` is simply an array wrapper for `AbstractSqlTypeValue`:\r\n```\r\npublic class SQLPersonArray extends AbstractSqlTypeValue {\r\n\tprivate SQLPerson[] sqlPersonArr;\r\n\t// constructor.\r\n\tpublic SQLPersonArray(SQLPerson[] sqlPersonArr){\r\n\t\tthis.sqlPersonArr = sqlPersonArr;\r\n\t}\r\n\t@Override\r\n\tprotected Object createTypeValue(Connection connection, int sqlType, String typeName)\r\n\t\t\tthrows SQLException {\r\n\t\tArrayDescriptor arrayDescriptor = new ArrayDescriptor(typeName, connection);\r\n        return new oracle.sql.ARRAY(arrayDescriptor, connection, sqlPersonArr);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nThe Oracle function and types are simply defined as:\r\n```\r\nfunction create_booking (\r\n     pi_booking      in    booking_typ  \r\n    ,pi_presenters   in    person_tbl_typ default null\r\n    ,po_return       out   return_typ\r\n  ) return integer;\r\n\r\ncreate or replace type booking_typ force as object (\r\n     booking_id          varchar2(60)\r\n    ,room_name           varchar2(500)\r\n    ,start_date          varchar2(20)\r\n    ,duration            varchar2(20)\r\n    ,constructor function booking_typ return self as result\r\n  ) not final;\r\n\r\ncreate or replace type person_tbl_typ as table of person_typ;\r\n\r\ncreate or replace type &quot;PERSON_TYP&quot; force as object (\r\n     id                  varchar2(50)   \r\n    ,name                varchar2(50)\r\n    ,constructor function person_typ return self as result\r\n  ) not final;\r\n```\r\n\r\nNow, when I do this inside `BookingDaoJdbc.createBooking()`:\r\n```\r\nSQLBooking booking = ...;\r\nSQLPerson[] presenters = ...,\r\nCreateBookingFunction bookingCreator = new CreateBookingFunction(jdbcTemplate, &quot;create_booking&quot;);\r\nMap&lt;String, Object&gt; result = bookingCreator.execute(jdbcTemplate, booking, presenters);\r\n\r\n```\r\nI get `java.lang.ArrayIndexOutOfBoundsException: 0` when it hits `bookingCreator.execute(...)`.\r\n\r\nStack trace:\r\n```\r\njava.lang.ArrayIndexOutOfBoundsException: 0\r\n\tat oracle.sql.OracleSQLOutput.writeString(OracleSQLOutput.java:144)\r\n\tat test.mybookingsystem.model.SQLBooking.writeSQL(SQLBooking.java:100)\r\n\tat oracle.sql.STRUCT.toSTRUCT(STRUCT.java:500)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.setObjectCritical(OraclePreparedStatement.java:8729)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:8251)\r\n\tat oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:8829)\r\n\tat oracle.jdbc.driver.OracleCallableStatement.setObject(OracleCallableStatement.java:4992)\r\n\tat oracle.jdbc.driver.OraclePreparedStatementWrapper.setObject(OraclePreparedStatementWrapper.java:238)\r\n\tat org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:407)\r\n\tat org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:235)\r\n\tat org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:150)\r\n\tat org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:213)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1115)\r\n\tat org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1173)\r\n\tat test.mybookingsystem.access.dao.BookingDaoJdbc.createBooking(BookingDaoJdbc.java:161)\r\n\tat test.mybookingsystem.service.BookingServiceImpl.createBooking(BookingServiceImpl.java:566)\r\n\t...\r\n\r\n```\r\n\r\nI know that `SQLPerson[] presenters` can be an empty array sometimes, but is that really why this causes `ArrayIndexOutOfBoundsException` as `org.springframework.jdbc.object.StoredProcedure` is trying access the first object of an empty array? I guess it is not that stupid, is it?\r\n\r\n----------\r\n\r\nNote 1) For people who may not have noticed, `StoredProcedure.execute()` is a method from Spring. It is not written by me, so I have no control over what happens within that method. \r\n\r\nNote 2) This is definition of `StoredProcedure.execute()` in case of someone wants to find out:\r\n```\r\n\t/**\r\n\t * Execute the stored procedure. Subclasses should define a strongly typed\r\n\t * execute method (with a meaningful name) that invokes this method, populating\r\n\t * the input map and extracting typed values from the output map. Subclass\r\n\t * execute methods will often take domain objects as arguments and return values.\r\n\t * Alternatively, they can return void.\r\n\t * @param inParams map of input parameters, keyed by name as in parameter\r\n\t * declarations. Output parameters need not (but can) be included in this map.\r\n\t * It is legal for map entries to be {@code null}, and this will produce the\r\n\t * correct behavior using a NULL argument to the stored procedure.\r\n\t * @return map of output params, keyed by name as in parameter declarations.\r\n\t * Output parameters will appear here, with their values after the\r\n\t * stored procedure has been called.\r\n\t */\r\n\tpublic Map execute(Map inParams) throws DataAccessException {\r\n\t\tvalidateParameters(inParams.values().toArray());\r\n\t\treturn getJdbcTemplate().call(newCallableStatementCreator(inParams), getDeclaredParameters());\r\n\t}\r\n\r\n```\r\nand here is the doc about `StoredProcedure`: [org.springframework.jdbc.object.StoredProcedure][1]\r\nUnder `public Map&lt;String,Object&gt; execute(Map&lt;String,?&gt; inParams)` it says it `throws org.springframework.dao.DataAccessException` but does not mention about `ArrayIndexOutOfBoundsException`\r\n\r\n\r\n  [1]: http://javadox.com/org.springframework/spring-jdbc/4.0.5.RELEASE/org/springframework/jdbc/object/StoredProcedure.html","title":"Getting array index out of bound exception from StoredProcedure.execute()?","body":"<p>I am stuck with an exception on a Java/Spring application. I hope someone can help.</p>\n<p>I have extended <code>org.springframework.jdbc.object.StoredProcedure</code> for an Oracle function called.</p>\n<pre><code>public class CreateBookingFunction extends StoredProcedure {\n    public CreateBookingFunction(JdbcTemplate jdbcTemplate, String procName){\n        // initialise function.\n        super(jdbcTemplate, procName);\n        setFunction(true);\n        // function return.\n        declareParameter(new SqlOutParameter(&quot;po_result&quot;, OracleTypes.VARCHAR));\n        // input parameters bookingid, presenter array, booking date array, event mail object.\n        declareParameter(new SqlParameter(&quot;pi_booking&quot;,OracleTypes.STRUCT,&quot;BOOKING_TYP&quot;));\n        declareParameter(new SqlParameter(&quot;pi_presenters&quot;,OracleTypes.ARRAY,&quot;PERSON_TBL_TYP&quot;));\n        // function result DBResult object.\n        declareParameter(new SqlOutParameter(&quot;po_return&quot;,OracleTypes.STRUCT,&quot;RETURN_TYP&quot;,new SqlReturnSqlData(SQLDBResult.class)));\n        allowsUnusedParameters();\n        // compile function.\n        compile();\n    }\n    \n    public Map execute(JdbcTemplate jdbcTemplate, SQLBooking booking, SQLPerson[] presenters) {\n        Map&lt;String, Object&gt; params = new HashMap&lt;String, Object&gt;();\n        // pass in input parameter objects.\n        params.put(&quot;pi_booking&quot;, booking);\n        params.put(&quot;pi_presenters&quot;, new SQLPersonArray(presenters));\n        // execute function.\n        return super.execute(params);\n    }   \n}\n\n</code></pre>\n<p>and <code>SQLPersonArray</code> is simply an array wrapper for <code>AbstractSqlTypeValue</code>:</p>\n<pre><code>public class SQLPersonArray extends AbstractSqlTypeValue {\n    private SQLPerson[] sqlPersonArr;\n    // constructor.\n    public SQLPersonArray(SQLPerson[] sqlPersonArr){\n        this.sqlPersonArr = sqlPersonArr;\n    }\n    @Override\n    protected Object createTypeValue(Connection connection, int sqlType, String typeName)\n            throws SQLException {\n        ArrayDescriptor arrayDescriptor = new ArrayDescriptor(typeName, connection);\n        return new oracle.sql.ARRAY(arrayDescriptor, connection, sqlPersonArr);\n    }\n}\n</code></pre>\n<p>The Oracle function and types are simply defined as:</p>\n<pre><code>function create_booking (\n     pi_booking      in    booking_typ  \n    ,pi_presenters   in    person_tbl_typ default null\n    ,po_return       out   return_typ\n  ) return integer;\n\ncreate or replace type booking_typ force as object (\n     booking_id          varchar2(60)\n    ,room_name           varchar2(500)\n    ,start_date          varchar2(20)\n    ,duration            varchar2(20)\n    ,constructor function booking_typ return self as result\n  ) not final;\n\ncreate or replace type person_tbl_typ as table of person_typ;\n\ncreate or replace type &quot;PERSON_TYP&quot; force as object (\n     id                  varchar2(50)   \n    ,name                varchar2(50)\n    ,constructor function person_typ return self as result\n  ) not final;\n</code></pre>\n<p>Now, when I do this inside <code>BookingDaoJdbc.createBooking()</code>:</p>\n<pre><code>SQLBooking booking = ...;\nSQLPerson[] presenters = ...,\nCreateBookingFunction bookingCreator = new CreateBookingFunction(jdbcTemplate, &quot;create_booking&quot;);\nMap&lt;String, Object&gt; result = bookingCreator.execute(jdbcTemplate, booking, presenters);\n\n</code></pre>\n<p>I get <code>java.lang.ArrayIndexOutOfBoundsException: 0</code> when it hits <code>bookingCreator.execute(...)</code>.</p>\n<p>Stack trace:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: 0\n    at oracle.sql.OracleSQLOutput.writeString(OracleSQLOutput.java:144)\n    at test.mybookingsystem.model.SQLBooking.writeSQL(SQLBooking.java:100)\n    at oracle.sql.STRUCT.toSTRUCT(STRUCT.java:500)\n    at oracle.jdbc.driver.OraclePreparedStatement.setObjectCritical(OraclePreparedStatement.java:8729)\n    at oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:8251)\n    at oracle.jdbc.driver.OraclePreparedStatement.setObjectInternal(OraclePreparedStatement.java:8829)\n    at oracle.jdbc.driver.OracleCallableStatement.setObject(OracleCallableStatement.java:4992)\n    at oracle.jdbc.driver.OraclePreparedStatementWrapper.setObject(OraclePreparedStatementWrapper.java:238)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setValue(StatementCreatorUtils.java:407)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValueInternal(StatementCreatorUtils.java:235)\n    at org.springframework.jdbc.core.StatementCreatorUtils.setParameterValue(StatementCreatorUtils.java:150)\n    at org.springframework.jdbc.core.CallableStatementCreatorFactory$CallableStatementCreatorImpl.createCallableStatement(CallableStatementCreatorFactory.java:213)\n    at org.springframework.jdbc.core.JdbcTemplate.execute(JdbcTemplate.java:1115)\n    at org.springframework.jdbc.core.JdbcTemplate.call(JdbcTemplate.java:1173)\n    at test.mybookingsystem.access.dao.BookingDaoJdbc.createBooking(BookingDaoJdbc.java:161)\n    at test.mybookingsystem.service.BookingServiceImpl.createBooking(BookingServiceImpl.java:566)\n    ...\n\n</code></pre>\n<p>I know that <code>SQLPerson[] presenters</code> can be an empty array sometimes, but is that really why this causes <code>ArrayIndexOutOfBoundsException</code> as <code>org.springframework.jdbc.object.StoredProcedure</code> is trying access the first object of an empty array? I guess it is not that stupid, is it?</p>\n<hr />\n<p>Note 1) For people who may not have noticed, <code>StoredProcedure.execute()</code> is a method from Spring. It is not written by me, so I have no control over what happens within that method.</p>\n<p>Note 2) This is definition of <code>StoredProcedure.execute()</code> in case of someone wants to find out:</p>\n<pre><code>    /**\n     * Execute the stored procedure. Subclasses should define a strongly typed\n     * execute method (with a meaningful name) that invokes this method, populating\n     * the input map and extracting typed values from the output map. Subclass\n     * execute methods will often take domain objects as arguments and return values.\n     * Alternatively, they can return void.\n     * @param inParams map of input parameters, keyed by name as in parameter\n     * declarations. Output parameters need not (but can) be included in this map.\n     * It is legal for map entries to be {@code null}, and this will produce the\n     * correct behavior using a NULL argument to the stored procedure.\n     * @return map of output params, keyed by name as in parameter declarations.\n     * Output parameters will appear here, with their values after the\n     * stored procedure has been called.\n     */\n    public Map execute(Map inParams) throws DataAccessException {\n        validateParameters(inParams.values().toArray());\n        return getJdbcTemplate().call(newCallableStatementCreator(inParams), getDeclaredParameters());\n    }\n\n</code></pre>\n<p>and here is the doc about <code>StoredProcedure</code>: <a href=\"http://javadox.com/org.springframework/spring-jdbc/4.0.5.RELEASE/org/springframework/jdbc/object/StoredProcedure.html\" rel=\"nofollow noreferrer\">org.springframework.jdbc.object.StoredProcedure</a>\nUnder <code>public Map&lt;String,Object&gt; execute(Map&lt;String,?&gt; inParams)</code> it says it <code>throws org.springframework.dao.DataAccessException</code> but does not mention about <code>ArrayIndexOutOfBoundsException</code></p>\n"},{"tags":["java","jpa","spring-data-jpa","jpql"],"answers":[{"tags":[],"owner":{"account_id":15910691,"reputation":1091,"user_id":11480721,"display_name":"Ausgefuchster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657563927,"creation_date":1657563927,"answer_id":72943044,"question_id":72942909,"body_markdown":"The constructor you expect in your query has `(long, String, Timestamp, String)`. And your constructor takes `(long, long, Profile)`.\r\n\r\nSo you need to create a matching constructor:\r\n```java\r\npublic User(long id, String username, Timestamp lastOnline, String about) {\r\n    this.id = id;\r\n    this.username = username;\r\n    this.profile = new Profile(lastOnline, about); // create new Profile with lastOnline &amp; about\r\n}\r\n```\r\nThis should work.\r\n\r\nBut may I ask why you&#39;re not using the `JpaRepository#findById(Long id)` method?","title":"JPA query couldn&#39;t find the right constructor","body":"<p>The constructor you expect in your query has <code>(long, String, Timestamp, String)</code>. And your constructor takes <code>(long, long, Profile)</code>.</p>\n<p>So you need to create a matching constructor:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public User(long id, String username, Timestamp lastOnline, String about) {\n    this.id = id;\n    this.username = username;\n    this.profile = new Profile(lastOnline, about); // create new Profile with lastOnline &amp; about\n}\n</code></pre>\n<p>This should work.</p>\n<p>But may I ask why you're not using the <code>JpaRepository#findById(Long id)</code> method?</p>\n"}],"owner":{"account_id":19601550,"reputation":25,"user_id":18143303,"display_name":"TheCrunchyPotato"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72943044,"answer_count":1,"score":0,"last_activity_date":1657563927,"creation_date":1657563001,"question_id":72942909,"body_markdown":"\r\nSo basically I try to get some data of a User by its ID and it has a field with @OneToOne relationship(bidirectional)\r\n\r\nWhen I try to create a query in JpaRepository\r\nwith @Query annotation\r\n```\r\n@Query(&quot;SELECT new com.project.model.user(u.id, u.username, u.profile.last_online, u.profile.about) FROM User u WHERE id = :id)\r\n```\r\n\r\nand a constructor \r\n```\r\nUser(long id, long username, Profile profile) {\r\n   this.id = id;\r\n   this.username = username;\r\n   this.profile = profile;\r\n}\r\n```\r\n\r\nit still can&#39;t really find the constructor and says that there is no &quot;matching constructor&quot;, is there a way to create the constructor better?","title":"JPA query couldn&#39;t find the right constructor","body":"<p>So basically I try to get some data of a User by its ID and it has a field with @OneToOne relationship(bidirectional)</p>\n<p>When I try to create a query in JpaRepository\nwith @Query annotation</p>\n<pre><code>@Query(&quot;SELECT new com.project.model.user(u.id, u.username, u.profile.last_online, u.profile.about) FROM User u WHERE id = :id)\n</code></pre>\n<p>and a constructor</p>\n<pre><code>User(long id, long username, Profile profile) {\n   this.id = id;\n   this.username = username;\n   this.profile = profile;\n}\n</code></pre>\n<p>it still can't really find the constructor and says that there is no &quot;matching constructor&quot;, is there a way to create the constructor better?</p>\n"},{"tags":["java","visual-studio-code","minecraft","minecraft-fabric"],"comments":[{"owner":{"account_id":3435599,"reputation":4037,"user_id":2878796,"display_name":"UnholySheep"},"score":4,"creation_date":1587650834,"post_id":61389153,"comment_id":108599595,"body_markdown":"You should probably include the call-stack of the crash","body":"You should probably include the call-stack of the crash"},{"owner":{"account_id":18383691,"reputation":31,"user_id":13391255,"display_name":"Cickennoodle"},"score":0,"creation_date":1587652738,"post_id":61389153,"comment_id":108600815,"body_markdown":"Call stack as in the logs? @UnholySheep","body":"Call stack as in the logs? @UnholySheep"}],"answers":[{"tags":[],"owner":{"account_id":19103376,"reputation":1007,"user_id":13951118,"display_name":"David"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595810095,"creation_date":1595810095,"answer_id":63107219,"question_id":61389153,"body_markdown":"I also had this issue when I first tried making my Fabric mod. Every time I re-open VScode and try to open Minecraft, it crashes. It says something like `cannot find library lwjgl.dll`. For me, `.\\gradlew.bat vscode` solved it; I think it&#39;s because the assets were messed up or something is wrong in the `.vscode` directory. \r\nHope it helps ;)","title":"Minecraft fabric coding issues in vscode","body":"<p>I also had this issue when I first tried making my Fabric mod. Every time I re-open VScode and try to open Minecraft, it crashes. It says something like <code>cannot find library lwjgl.dll</code>. For me, <code>.\\gradlew.bat vscode</code> solved it; I think it's because the assets were messed up or something is wrong in the <code>.vscode</code> directory.\nHope it helps ;)</p>\n"},{"tags":[],"owner":{"account_id":6100129,"reputation":6206,"user_id":4759433,"display_name":"Lonami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657563871,"creation_date":1657563871,"answer_id":72943035,"question_id":61389153,"body_markdown":"I was following the guide from [Setting up Visual Studio Code with Fabric](https://fabricmc.net/wiki/tutorial:vscode_setup), and my problem was the same as described in [The import net.minecraft cannot be resolved\r\n](https://www.reddit.com/r/fabricmc/comments/o194er/the_import_netminecraft_cannot_be_resolved/).\r\n\r\nA mixture of [using `./gradlew --refresh-dependencies`](https://www.reddit.com/r/fabricmc/comments/o194er/comment/h22x351/?context=3), along with [clearing the loom cache](https://github.com/FabricMC/fabric/issues/1281#issuecomment-766438470), `./gradlew clean` and and re-running `./gradlew vscode` seemed to help.","title":"Minecraft fabric coding issues in vscode","body":"<p>I was following the guide from <a href=\"https://fabricmc.net/wiki/tutorial:vscode_setup\" rel=\"nofollow noreferrer\">Setting up Visual Studio Code with Fabric</a>, and my problem was the same as described in <a href=\"https://www.reddit.com/r/fabricmc/comments/o194er/the_import_netminecraft_cannot_be_resolved/\" rel=\"nofollow noreferrer\">The import net.minecraft cannot be resolved\n</a>.</p>\n<p>A mixture of <a href=\"https://www.reddit.com/r/fabricmc/comments/o194er/comment/h22x351/?context=3\" rel=\"nofollow noreferrer\">using <code>./gradlew --refresh-dependencies</code></a>, along with <a href=\"https://github.com/FabricMC/fabric/issues/1281#issuecomment-766438470\" rel=\"nofollow noreferrer\">clearing the loom cache</a>, <code>./gradlew clean</code> and and re-running <code>./gradlew vscode</code> seemed to help.</p>\n"}],"owner":{"account_id":18383691,"reputation":31,"user_id":13391255,"display_name":"Cickennoodle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1953,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1657563871,"creation_date":1587650697,"question_id":61389153,"body_markdown":"Hey i&#39;m trying to learn how to code minecraft mods in VScode with Fabric mod loader. However I keep running into the same issue, I am unable to open the minecraft testing client. It keeps crashing.\r\nI have tried re-writing all the code I added after the last time I successfully ran it. Here my code:\r\n\r\n    \r\n\r\n\r\n\r\n    package net.my.first.mod;\r\n\r\n    import net.fabricmc.api.ModInitializer;\r\n    import net.minecraft.item.Item;\r\n    import net.minecraft.item.ItemGroup;\r\n    import net.minecraft.util.Identifier;\r\n    import net.minecraft.util.registry.Registry;\r\n    import net.minecraft.block.Block;\r\n\r\n    public class MyFirstMod implements ModInitializer {\r\n\r\n        public static final Item FABRIC_ITEM = new FabricItem(new Item.Settings().group(ItemGroup.MISC), null);\r\n\r\n        public static final Block FABRIC_BLOCK = new FabricBlock(new Item.Settings().group(ItemGoup.MISC), null);\r\n\r\n        @Override\r\n        public void onInitialize() {\r\n            Registry.register(Registry.ITEM, new Identifier(&quot;myfirstmod&quot;, &quot;fabric_item&quot;), FABRIC_ITEM);\r\n            Registry.register(Registry.BLOCK, new Identifier(&quot;myfirstmod&quot;, &quot;fabric_block&quot;), FABRIC_BLOCK);\r\n        }\r\n\r\n    }\r\n\r\n\r\nThanks in advance for any help anyone is able to provide!","title":"Minecraft fabric coding issues in vscode","body":"<p>Hey i'm trying to learn how to code minecraft mods in VScode with Fabric mod loader. However I keep running into the same issue, I am unable to open the minecraft testing client. It keeps crashing.\nI have tried re-writing all the code I added after the last time I successfully ran it. Here my code:</p>\n\n<pre><code>package net.my.first.mod;\n\nimport net.fabricmc.api.ModInitializer;\nimport net.minecraft.item.Item;\nimport net.minecraft.item.ItemGroup;\nimport net.minecraft.util.Identifier;\nimport net.minecraft.util.registry.Registry;\nimport net.minecraft.block.Block;\n\npublic class MyFirstMod implements ModInitializer {\n\n    public static final Item FABRIC_ITEM = new FabricItem(new Item.Settings().group(ItemGroup.MISC), null);\n\n    public static final Block FABRIC_BLOCK = new FabricBlock(new Item.Settings().group(ItemGoup.MISC), null);\n\n    @Override\n    public void onInitialize() {\n        Registry.register(Registry.ITEM, new Identifier(\"myfirstmod\", \"fabric_item\"), FABRIC_ITEM);\n        Registry.register(Registry.BLOCK, new Identifier(\"myfirstmod\", \"fabric_block\"), FABRIC_BLOCK);\n    }\n\n}\n</code></pre>\n\n<p>Thanks in advance for any help anyone is able to provide!</p>\n"},{"tags":["java","ibm-mq"],"comments":[{"owner":{"account_id":7538145,"reputation":182,"user_id":5723787,"accept_rate":67,"display_name":"Kaustubh Kadam"},"score":0,"creation_date":1657540846,"post_id":72938107,"comment_id":128826916,"body_markdown":"Do you mean the depth of a queue ?","body":"Do you mean the depth of a queue ?"},{"owner":{"account_id":895964,"reputation":15035,"user_id":933250,"accept_rate":77,"display_name":"Shashi"},"score":0,"creation_date":1657540877,"post_id":72938107,"comment_id":128826928,"body_markdown":"Answered here: https://stackoverflow.com/questions/57862719/find-the-queue-depth-of-mq. Any reason for doing so? In my opinion, your application should consume messages as long as it is running.","body":"Answered here: <a href=\"https://stackoverflow.com/questions/57862719/find-the-queue-depth-of-mq\" title=\"find the queue depth of mq\">stackoverflow.com/questions/57862719/find-the-queue-depth-of&zwnj;&#8203;-mq</a>. Any reason for doing so? In my opinion, your application should consume messages as long as it is running."},{"owner":{"account_id":17993658,"reputation":51,"user_id":13077202,"display_name":"Prasad"},"score":0,"creation_date":1657610009,"post_id":72938107,"comment_id":128845097,"body_markdown":"Yes kaustubh.. i need depth of the queue but it would change dynamically as publishers would publish messages on daily basis","body":"Yes kaustubh.. i need depth of the queue but it would change dynamically as publishers would publish messages on daily basis"},{"owner":{"account_id":17001805,"reputation":104,"user_id":12299029,"display_name":"colin paice"},"score":0,"creation_date":1657707854,"post_id":72938107,"comment_id":128872775,"body_markdown":"Browsing the queue could be very expensive.  Consider 100,000 messages on the queue. If this was a client, there would be a lot of network traffic, and high CPU cost at the backend.  For monitoring consider another task which issues display queue depth.  If queue builds up you could start more application instances.","body":"Browsing the queue could be very expensive.  Consider 100,000 messages on the queue. If this was a client, there would be a lot of network traffic, and high CPU cost at the backend.  For monitoring consider another task which issues display queue depth.  If queue builds up you could start more application instances."}],"owner":{"account_id":17993658,"reputation":51,"user_id":13077202,"display_name":"Prasad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":351,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657563715,"creation_date":1657540096,"question_id":72938107,"body_markdown":"I had written an asynchronous process to subscribe messages from IBM MQ  queue but unable to find any method to know the size of an queue \r\n\r\n```\r\n    Queue queue;\r\n\tQueueSession session;\r\n\tQueueReceiver receiver;\r\n    QueueConnection con;\r\n            con=factory.createQueueConnection(&quot;user1&quot;,&quot; password1&quot;);\r\n\t\t\tqueue= new MQQueue(&quot;myQueue&quot;);\r\n\t\t\tsession=con.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\r\n\t\t\treceiver=session.createReceiver(queue);\r\n\t\t\treceiver.setMessageListener(this);\r\n\t\t\tcon.start();\r\n\r\n```\r\n\r\nthe above is the functonality i am using , in this receiver attribute is not showing any size or length methods tro check number of messages there","title":"how to check the size of the messages in a queue in IBM MQ while writing an asynchronous process","body":"<p>I had written an asynchronous process to subscribe messages from IBM MQ  queue but unable to find any method to know the size of an queue</p>\n<pre><code>    Queue queue;\n    QueueSession session;\n    QueueReceiver receiver;\n    QueueConnection con;\n            con=factory.createQueueConnection(&quot;user1&quot;,&quot; password1&quot;);\n            queue= new MQQueue(&quot;myQueue&quot;);\n            session=con.createQueueSession(false, Session.AUTO_ACKNOWLEDGE);\n            receiver=session.createReceiver(queue);\n            receiver.setMessageListener(this);\n            con.start();\n\n</code></pre>\n<p>the above is the functonality i am using , in this receiver attribute is not showing any size or length methods tro check number of messages there</p>\n"},{"tags":["java",".net","weak-references","internals"],"answers":[{"tags":[],"owner":{"account_id":11975,"reputation":1033812,"user_id":23354,"accept_rate":100,"display_name":"Marc Gravell"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1240475572,"creation_date":1240475572,"answer_id":780801,"question_id":780738,"body_markdown":"In .NET, when a `WeakReference` is created, the GC is asked for a handle/opaque token representing the reference. Then, when needed, `WeakReference` uses this handle to ask the GC if that handle is still valid (i.e. the original object still exists) - and if so, it can get the actual object reference.\r\n\r\nSo this is building a list of tokens/handles against object addresses (and presumably maintaining that list during defragmentation etc)\r\n\r\nI&#39;m not sure I 100% understand the three bullets, so I hesitate to guess which (if any) that is closest to.","title":"How are weak references implemented?","body":"<p>In .NET, when a <code>WeakReference</code> is created, the GC is asked for a handle/opaque token representing the reference. Then, when needed, <code>WeakReference</code> uses this handle to ask the GC if that handle is still valid (i.e. the original object still exists) - and if so, it can get the actual object reference.</p>\n\n<p>So this is building a list of tokens/handles against object addresses (and presumably maintaining that list during defragmentation etc)</p>\n\n<p>I'm not sure I 100% understand the three bullets, so I hesitate to guess which (if any) that is closest to.</p>\n"},{"tags":[],"owner":{"account_id":10450,"reputation":172558,"user_id":19750,"accept_rate":100,"display_name":"Josh Lee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1240478416,"creation_date":1240478093,"answer_id":780910,"question_id":780738,"body_markdown":"Python&#39;s [PEP 205](http://www.python.org/dev/peps/pep-0205/) has a decent explanation of how weak references should behave in Python, and this gives some insight into how they can be implemented. Since a weak reference is immutable, you could have just one for each object, to which you pass out references as needed. Thus, when the object is destroyed, only one weak reference needs to be invalidated.","title":"How are weak references implemented?","body":"<p>Python's <a href=\"http://www.python.org/dev/peps/pep-0205/\" rel=\"noreferrer\">PEP 205</a> has a decent explanation of how weak references should behave in Python, and this gives some insight into how they can be implemented. Since a weak reference is immutable, you could have just one for each object, to which you pass out references as needed. Thus, when the object is destroyed, only one weak reference needs to be invalidated.</p>\n"},{"tags":[],"owner":{"account_id":7340,"reputation":12654,"user_id":12719,"display_name":"pgras"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1240487334,"creation_date":1240487334,"answer_id":781372,"question_id":780738,"body_markdown":"Not sure I understood your question, but you can have a look at the implementation for the class WeakReference and its superclass Reference in Java. It is well commented and you can see it has a field treated specially by the GC and another one used directly by the VM.","title":"How are weak references implemented?","body":"<p>Not sure I understood your question, but you can have a look at the implementation for the class WeakReference and its superclass Reference in Java. It is well commented and you can see it has a field treated specially by the GC and another one used directly by the VM.</p>\n"},{"tags":[],"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1339265398,"creation_date":1339265398,"answer_id":10963392,"question_id":780738,"body_markdown":"The normal approach, I think, is for the system to maintain some sort of list of weak references.  When the garbage collector executes, before dead objects are removed, the system iterates through the list of weak references and invalidates any reference whose target has not been tagged live.  Depending upon the system, this may occur before or after the system temporarily resurrects objects which are eligible for immediate finalization (in the case of .net, there are two kinds of `WeakReference`--one of which is effectively processed before the system scans for finalizers, meaning that it will become invalid when its target becomes eligible for finalization, and one of which is processed after).\r\n\r\nIncidentally, if I were designing a gc-based framework, I would add a couple of other goodies: (1) a means of declaring a reference-type &lt;i&gt;storage location&lt;/i&gt; as holding a reference that&#39;s primarily of interest to someone else, and (2) A variety of `WeakReference` which would could indicate that the only references to an object are in &quot;of interest to someone else&quot; storage locations.  Although `WeakReference` is a useful type, the act of turning a weak reference into a strong reference may prevent the system from ever recognizing that nobody would mind if its target disappeared.","title":"How are weak references implemented?","body":"<p>The normal approach, I think, is for the system to maintain some sort of list of weak references.  When the garbage collector executes, before dead objects are removed, the system iterates through the list of weak references and invalidates any reference whose target has not been tagged live.  Depending upon the system, this may occur before or after the system temporarily resurrects objects which are eligible for immediate finalization (in the case of .net, there are two kinds of <code>WeakReference</code>--one of which is effectively processed before the system scans for finalizers, meaning that it will become invalid when its target becomes eligible for finalization, and one of which is processed after).</p>\n\n<p>Incidentally, if I were designing a gc-based framework, I would add a couple of other goodies: (1) a means of declaring a reference-type <i>storage location</i> as holding a reference that's primarily of interest to someone else, and (2) A variety of <code>WeakReference</code> which would could indicate that the only references to an object are in \"of interest to someone else\" storage locations.  Although <code>WeakReference</code> is a useful type, the act of turning a weak reference into a strong reference may prevent the system from ever recognizing that nobody would mind if its target disappeared.</p>\n"},{"tags":[],"owner":{"account_id":231662,"reputation":6804,"user_id":496009,"accept_rate":70,"display_name":"pfalcon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1379430086,"creation_date":1375485638,"answer_id":18027558,"question_id":780738,"body_markdown":"It seems that implementation of weak references is well-kept secret in the industry ;-). For example, as of now, [wikipedia article][1] lacks any implementation details. And look at the answers above (including the accepted): &quot;go look at the source&quot; or &quot;I think&quot; ;-\\ .\r\n\r\nOf all the answers, only the one referencing Python&#39;s PEP 205 is insightful. As it says, for any single object, there can be at most one weak reference, if we treat weakref as an entity itself.\r\n\r\nThe rest describes Squirrel language implementation. So, weakref is itself an object, when you put weak reference to an object in some container, you actually put reference to weakref object. Each ref-countable object has field to store pointer to its weakref, which is NULL until weakref to that object is actually requested. Each object has method to request weakref, which either returns existing (singleton) weakref from the field, or creates it and caches in the field.\r\n\r\nOf course, weakref points to the original object. So, then you just need to go thru all the available places where references to objects are handled and add transparent handling of weakrefs (i.e. automatically dereference it). (&quot;Transparent&quot; alternative is to add virtual &quot;access&quot; method which will be identity for most objects, and actual dereference for weakref.)\r\n\r\nAnd as object has pointer to its weakref, then the object can NULLify the weakref in own destructor.\r\n\r\nThis implementation is pretty clean (no magic &quot;calls into GC&quot; and stuff) and has O(1) runtime cost. Of course, it&#39;s pretty greedy of memory - need to add +1 pointer field to each object, even though typically for 90+% objects that would be NULL. Of course, VHLLs already have large memory overhead per object, and there may be chance to compact different &quot;extra&quot; fields. For example, object type is typically a small enumeration, so it may be possible to merge type and some kind of weakref reference into single machine word (say, keep weakref objects in a separate arena, and use index to that).\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Weak_reference\r\n","title":"How are weak references implemented?","body":"<p>It seems that implementation of weak references is well-kept secret in the industry ;-). For example, as of now, <a href=\"http://en.wikipedia.org/wiki/Weak_reference\" rel=\"noreferrer\">wikipedia article</a> lacks any implementation details. And look at the answers above (including the accepted): \"go look at the source\" or \"I think\" ;-\\ .</p>\n\n<p>Of all the answers, only the one referencing Python's PEP 205 is insightful. As it says, for any single object, there can be at most one weak reference, if we treat weakref as an entity itself.</p>\n\n<p>The rest describes Squirrel language implementation. So, weakref is itself an object, when you put weak reference to an object in some container, you actually put reference to weakref object. Each ref-countable object has field to store pointer to its weakref, which is NULL until weakref to that object is actually requested. Each object has method to request weakref, which either returns existing (singleton) weakref from the field, or creates it and caches in the field.</p>\n\n<p>Of course, weakref points to the original object. So, then you just need to go thru all the available places where references to objects are handled and add transparent handling of weakrefs (i.e. automatically dereference it). (\"Transparent\" alternative is to add virtual \"access\" method which will be identity for most objects, and actual dereference for weakref.)</p>\n\n<p>And as object has pointer to its weakref, then the object can NULLify the weakref in own destructor.</p>\n\n<p>This implementation is pretty clean (no magic \"calls into GC\" and stuff) and has O(1) runtime cost. Of course, it's pretty greedy of memory - need to add +1 pointer field to each object, even though typically for 90+% objects that would be NULL. Of course, VHLLs already have large memory overhead per object, and there may be chance to compact different \"extra\" fields. For example, object type is typically a small enumeration, so it may be possible to merge type and some kind of weakref reference into single machine word (say, keep weakref objects in a separate arena, and use index to that).</p>\n"}],"owner":{"account_id":23168,"reputation":2815,"user_id":57832,"accept_rate":69,"display_name":"Michal Czardybon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4447,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":781372,"answer_count":5,"score":20,"last_activity_date":1657563484,"creation_date":1240473735,"question_id":780738,"body_markdown":"I wonder how weak references work internally, for example in .NET or in Java. My two general ideas are:\r\n\r\n 1. &quot;Intrusive&quot; - to add list of weak references to the most top class (object class). Then, when an object is destroyed, all the weak references can be iterated and set to null.\r\n 2. &quot;Non-intrusive&quot; - to maintain a hashtable of objects&#39; pointers to lists of weak references. When a weak reference A is created to an object B, there would be an entry in the hashtable modified or created, whose key would be the pointer to B.\r\n 3. &quot;Dirty&quot; - to store a special hash-value with each object, which would be zeroed when the object is destroyed. Weak references would copy that hash-value and would compare it with the object&#39;s value to check if the object is alive. This would however cause access violation errors, when used directly, so there would need to be an additional object with that hash-value, I think.\r\n\r\nEither of these solutions seems clean nor efficient. Does anyone know how it is actually done?","title":"How are weak references implemented?","body":"<p>I wonder how weak references work internally, for example in .NET or in Java. My two general ideas are:</p>\n\n<ol>\n<li>\"Intrusive\" - to add list of weak references to the most top class (object class). Then, when an object is destroyed, all the weak references can be iterated and set to null.</li>\n<li>\"Non-intrusive\" - to maintain a hashtable of objects' pointers to lists of weak references. When a weak reference A is created to an object B, there would be an entry in the hashtable modified or created, whose key would be the pointer to B.</li>\n<li>\"Dirty\" - to store a special hash-value with each object, which would be zeroed when the object is destroyed. Weak references would copy that hash-value and would compare it with the object's value to check if the object is alive. This would however cause access violation errors, when used directly, so there would need to be an additional object with that hash-value, I think.</li>\n</ol>\n\n<p>Either of these solutions seems clean nor efficient. Does anyone know how it is actually done?</p>\n"},{"tags":["java","spring-boot","rest","spring-mvc","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":23136359,"reputation":274,"user_id":17240540,"display_name":"Puneet Kundliya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657563185,"creation_date":1657562743,"answer_id":72942871,"question_id":72942249,"body_markdown":"Try using the below Array declaration for accessing the String boundary.\r\n\r\n    private String[][][] boundary;\r\n\r\nAlso, check for the data type you need(String or Double).\r\n","title":"How to handle List of multidimensional array as @RequestParam in Spring boot","body":"<p>Try using the below Array declaration for accessing the String boundary.</p>\n<pre><code>private String[][][] boundary;\n</code></pre>\n<p>Also, check for the data type you need(String or Double).</p>\n"}],"owner":{"account_id":15392811,"reputation":63,"user_id":11104911,"display_name":"Yasas Ranawaka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72942871,"answer_count":1,"score":0,"last_activity_date":1657563185,"creation_date":1657559506,"question_id":72942249,"body_markdown":"I need to get value in request body for list of multidimensional array\r\n\r\n@RequestBody CreateRequest createRequest\r\n\r\n\r\n--------------------------------------\r\n\r\n    @Getter\r\n    @Setter\r\n    public class CreateRequest {\r\n    \r\n        private String id;\r\n        private List&lt;PolygonRequest&gt; boundaries;\r\n    \r\n        @Getter\r\n        @Setter\r\n        public static class PolygonRequest {\r\n            private String[][] boundary;\r\n        }\r\n    \r\n    }\r\n\r\n--------------------------------------------------------------\r\n\r\nJSON like, \r\n\r\n    {\r\n        &quot;id&quot;: &quot;Zone 112&quot;,\r\n        &quot;boundaries&quot;: [\r\n            [\r\n                [-5.2,-6.2],\r\n                [-4.5,-7.8]\r\n            ],\r\n            [\r\n                [7.2,-1.6],\r\n                [-3.3,-8.1]\r\n            ]\r\n        ]\r\n    }\r\n\r\n\r\nWhen I create like this It is getting Bad request error\r\n\r\n    &quot;status&quot;: 400,\r\n    &quot;error&quot;: &quot;Bad Request&quot;","title":"How to handle List of multidimensional array as @RequestParam in Spring boot","body":"<p>I need to get value in request body for list of multidimensional array</p>\n<p>@RequestBody CreateRequest createRequest</p>\n<hr />\n<pre><code>@Getter\n@Setter\npublic class CreateRequest {\n\n    private String id;\n    private List&lt;PolygonRequest&gt; boundaries;\n\n    @Getter\n    @Setter\n    public static class PolygonRequest {\n        private String[][] boundary;\n    }\n\n}\n</code></pre>\n<hr />\n<p>JSON like,</p>\n<pre><code>{\n    &quot;id&quot;: &quot;Zone 112&quot;,\n    &quot;boundaries&quot;: [\n        [\n            [-5.2,-6.2],\n            [-4.5,-7.8]\n        ],\n        [\n            [7.2,-1.6],\n            [-3.3,-8.1]\n        ]\n    ]\n}\n</code></pre>\n<p>When I create like this It is getting Bad request error</p>\n<pre><code>&quot;status&quot;: 400,\n&quot;error&quot;: &quot;Bad Request&quot;\n</code></pre>\n"},{"tags":["java","database","aws-lambda","amazon-dynamodb","dynamodb-queries"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1657563169,"post_id":72942902,"comment_id":128835700,"body_markdown":"Scan the entire database. A key-value store (which dynamo is) is not designed for such a query. Alternatively set up e.g. dynamodb streams and store the information &quot;what is the latest&quot; specifically *somewhere*, e.g. under the key &quot;latest&quot; in your dynamodb.","body":"Scan the entire database. A key-value store (which dynamo is) is not designed for such a query. Alternatively set up e.g. dynamodb streams and store the information &quot;what is the latest&quot; specifically <i>somewhere</i>, e.g. under the key &quot;latest&quot; in your dynamodb."},{"owner":{"account_id":257345,"reputation":6764,"user_id":538697,"display_name":"hunterhacker"},"score":1,"creation_date":1657564829,"post_id":72942902,"comment_id":128836167,"body_markdown":"Using a timestamp as a PK is kind of weird, in that you need to know the PK before doing a query or get, and how/why would you know the timestamp in advance?","body":"Using a timestamp as a PK is kind of weird, in that you need to know the PK before doing a query or get, and how/why would you know the timestamp in advance?"},{"owner":{"account_id":8481338,"reputation":268,"user_id":6360955,"display_name":"Chris"},"score":0,"creation_date":1657568308,"post_id":72942902,"comment_id":128837213,"body_markdown":"So your formatted string looks like this: `yyyy-MM-dd&#39;T&#39;HH:mm:ss`? Then it is best practice to store the date part as PK and the Hours-Minutes-Seconds part as sort key. See [Best practices for handling time series data in DynamoDB](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/bp-time-series.html#bp-time-series-examples)","body":"So your formatted string looks like this: <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss</code>? Then it is best practice to store the date part as PK and the Hours-Minutes-Seconds part as sort key. See <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/bp-time-series.html#bp-time-series-examples\" rel=\"nofollow noreferrer\">Best practices for handling time series data in DynamoDB</a>"}],"owner":{"account_id":23411499,"reputation":48,"user_id":17473106,"display_name":"sudhan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657562951,"creation_date":1657562951,"question_id":72942902,"body_markdown":"I have a DynamoDb with the partition key as an ISO 8601 formatted string. I want to get the attributes of the most recently added (largest time) entry in the DDB table using a Java Lambda function.\r\n\r\nWhat’s the best/fastest way to do this?","title":"Getting First/Most Recent Entry in DDB using Lambda","body":"<p>I have a DynamoDb with the partition key as an ISO 8601 formatted string. I want to get the attributes of the most recently added (largest time) entry in the DDB table using a Java Lambda function.</p>\n<p>What’s the best/fastest way to do this?</p>\n"},{"tags":["java","swing","jtextfield","keyevent","keyrelease"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1657565496,"post_id":72942834,"comment_id":128836353,"body_markdown":"You should not trim the value while the user is typing, but rather should trim the value after it is committed.  A [JFormattedTextField](https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JFormattedTextField.html) is the best choice for this.","body":"You should not trim the value while the user is typing, but rather should trim the value after it is committed.  A <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.desktop/javax/swing/JFormattedTextField.html\" rel=\"nofollow noreferrer\">JFormattedTextField</a> is the best choice for this."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1657577010,"post_id":72942834,"comment_id":128839462,"body_markdown":"I&#39;m not really understanding your requirement. Maybe give an example of 1) the text from the database 2) how it is automatically resized and a substring of the text is displayed in the text field 3) Maybe you can use a DocumentFilter. The Swing tutorial on [Implementing a DocumentFilter](https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter) has a working example that limits the size of the text.","body":"I&#39;m not really understanding your requirement. Maybe give an example of 1) the text from the database 2) how it is automatically resized and a substring of the text is displayed in the text field 3) Maybe you can use a DocumentFilter. The Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/generaltext.html#filter\" rel=\"nofollow noreferrer\">Implementing a DocumentFilter</a> has a working example that limits the size of the text."},{"owner":{"account_id":7643362,"reputation":75,"user_id":5794787,"display_name":"Dinuka Kasun Medis"},"score":0,"creation_date":1657593801,"post_id":72942834,"comment_id":128842057,"body_markdown":"1) text from the db means I want to show length words in this text field, length limit not applicable for these lengthy words which already exist in the db. \n2)automatically rezice(get the sub string) when user tries to edit the text. In here I used a key release event. But the problem is if I want 10 characters I can see 11th character when I type that. Bcz I used key release event. User should not see that 11th character when he type that. \n\nI’ll try to use DocumentFilter. Thanks.","body":"1) text from the db means I want to show length words in this text field, length limit not applicable for these lengthy words which already exist in the db.  2)automatically rezice(get the sub string) when user tries to edit the text. In here I used a key release event. But the problem is if I want 10 characters I can see 11th character when I type that. Bcz I used key release event. User should not see that 11th character when he type that.   I’ll try to use DocumentFilter. Thanks."}],"owner":{"account_id":7643362,"reputation":75,"user_id":5794787,"display_name":"Dinuka Kasun Medis"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657562501,"creation_date":1657562501,"question_id":72942834,"body_markdown":"Scenario: \r\n- In the db there are existing lengthy words for this textField. I want to load that data when I do an update task. \r\n- But when I try to edit that lengthy word, it should trim to limited size(get a subString from that word).\r\n\r\nDue to the above 2 points, I can not limit the text length directly. And also I want following thing.\r\n\r\n - When I type a new character for that trimmed word, last character should not show. It means currently I am using a keyRelease event, So I can see the last character which I typed before JAVA code check the length. Therefor I want a way to find the length of the word without showing that unwanted character.\r\n\r\nPlease help me to find a better way to solve this.","title":"JTextField limit characters while typing without showing last unwanted character","body":"<p>Scenario:</p>\n<ul>\n<li>In the db there are existing lengthy words for this textField. I want to load that data when I do an update task.</li>\n<li>But when I try to edit that lengthy word, it should trim to limited size(get a subString from that word).</li>\n</ul>\n<p>Due to the above 2 points, I can not limit the text length directly. And also I want following thing.</p>\n<ul>\n<li>When I type a new character for that trimmed word, last character should not show. It means currently I am using a keyRelease event, So I can see the last character which I typed before JAVA code check the length. Therefor I want a way to find the length of the word without showing that unwanted character.</li>\n</ul>\n<p>Please help me to find a better way to solve this.</p>\n"},{"tags":["java","android","google-maps","infowindow"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657557389,"post_id":72941621,"comment_id":128833741,"body_markdown":"Write a toString() function in your data class then set the tag in marker","body":"Write a toString() function in your data class then set the tag in marker"},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657557418,"post_id":72941621,"comment_id":128833749,"body_markdown":"In info click get the tag convert to data class that&#39;s it","body":"In info click get the tag convert to data class that&#39;s it"},{"owner":{"account_id":16562277,"reputation":111,"user_id":11968932,"display_name":"maxet24"},"score":0,"creation_date":1657558113,"post_id":72941621,"comment_id":128834009,"body_markdown":"@GobuCSG That is the problem. I can&#39;t set the marker tag. I can only set MarkerOptions.","body":"@GobuCSG That is the problem. I can&#39;t set the marker tag. I can only set MarkerOptions."},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":1,"creation_date":1657558964,"post_id":72941621,"comment_id":128834272,"body_markdown":"I gotch you... Cluster have own click events Why you&#39;re using infoWindowClick?","body":"I gotch you... Cluster have own click events Why you&#39;re using infoWindowClick?"},{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1657560478,"post_id":72941621,"comment_id":128834807,"body_markdown":"See https://stackoverflow.com/a/30959578/17856705 for details - all events need to go through the cluster manager and there are setters to add your functionality.","body":"See <a href=\"https://stackoverflow.com/a/30959578/17856705\">stackoverflow.com/a/30959578/17856705</a> for details - all events need to go through the cluster manager and there are setters to add your functionality."}],"owner":{"account_id":16562277,"reputation":111,"user_id":11968932,"display_name":"maxet24"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657562432,"creation_date":1657556243,"question_id":72941621,"body_markdown":"Good afternoon! &lt;br/&gt;\r\nI have integrated Google Maps into my Android application and I have clustered points on the map. For this I created a separate class:\r\n```\r\npublic class MyClusterItem implements ClusterItem {\r\n    private final LatLng position;\r\n    public final Integer vectorId;\r\n    public List&lt;String&gt; types;\r\n\r\n    public MyClusterItem(double lat, double lng, List&lt;String&gt; types, int vectorId) {\r\n        position = new LatLng(lat, lng);\r\n        this.types = types;\r\n        this.vectorId = vectorId;\r\n    }\r\n\r\n    // some overrides\r\n\r\n    public List&lt;String&gt; getTagCluster(){ return types;}\r\n\r\n}\r\n```\r\nWhen creating a cluster object, I pass an array into it as a tag:\r\n```\r\nMyClusterItem newItem = new MyClusterItem(pointLoc.latitude, pointLoc.longitude, pointObj.types, vectorId);\r\nclusterManager.addItem(newItem);\r\n```\r\nAlso I have **InfoWindowAdapter**. I installed it like this:\r\n```\r\nmap.setInfoWindowAdapter(new CustomInfoWindowAdapter(getContext(), map));\r\n                map.setOnInfoWindowClickListener(marker -&gt; {\r\n                    // i need to get TAG here\r\n                });\r\n```\r\nOnly the object with the tag is passed to the **InfoWindowAdapter**, not **MyClusterItem**. How to get this tag inside **InfoWindowClickListener**? &lt;br/&gt;\r\n*P.S.*\r\nMy **CustomClusterItemRenderer** looks like this:\r\n```\r\nprivate class CustomClusterItemRenderer extends DefaultClusterRenderer&lt;MyClusterItem&gt; {\r\n\r\n        public CustomClusterItemRenderer(Context context, GoogleMap map, ClusterManager&lt;MyClusterItem&gt; clusterManager) {\r\n            super(context, map, clusterManager);\r\n\r\n\r\n        }\r\n\r\n        @Override\r\n        protected void onBeforeClusterItemRendered(@NonNull MyClusterItem clusterItem, MarkerOptions markerOptions) {\r\n            markerOptions.icon(bitmapDescriptorFromVector(getContext(), clusterItem.vectorId))\r\n                    .title(clusterItem.getTitle());\r\n        }\r\n        \r\n\r\n        private BitmapDescriptor bitmapDescriptorFromVector(Context context, int vectorResId) {\r\n            //a lot of code\r\n            return BitmapDescriptorFactory.fromBitmap(bitmap);\r\n        }\r\n\r\n\r\n    }\r\n```\r\nThat is, if I could insert a tag using MarkerOptions, then it would work. But this is impossible. (i think so)","title":"How to get ClusterItem inside InfoWindowClickListener?","body":"<p>Good afternoon! <br/>\nI have integrated Google Maps into my Android application and I have clustered points on the map. For this I created a separate class:</p>\n<pre><code>public class MyClusterItem implements ClusterItem {\n    private final LatLng position;\n    public final Integer vectorId;\n    public List&lt;String&gt; types;\n\n    public MyClusterItem(double lat, double lng, List&lt;String&gt; types, int vectorId) {\n        position = new LatLng(lat, lng);\n        this.types = types;\n        this.vectorId = vectorId;\n    }\n\n    // some overrides\n\n    public List&lt;String&gt; getTagCluster(){ return types;}\n\n}\n</code></pre>\n<p>When creating a cluster object, I pass an array into it as a tag:</p>\n<pre><code>MyClusterItem newItem = new MyClusterItem(pointLoc.latitude, pointLoc.longitude, pointObj.types, vectorId);\nclusterManager.addItem(newItem);\n</code></pre>\n<p>Also I have <strong>InfoWindowAdapter</strong>. I installed it like this:</p>\n<pre><code>map.setInfoWindowAdapter(new CustomInfoWindowAdapter(getContext(), map));\n                map.setOnInfoWindowClickListener(marker -&gt; {\n                    // i need to get TAG here\n                });\n</code></pre>\n<p>Only the object with the tag is passed to the <strong>InfoWindowAdapter</strong>, not <strong>MyClusterItem</strong>. How to get this tag inside <strong>InfoWindowClickListener</strong>? <br/>\n<em>P.S.</em>\nMy <strong>CustomClusterItemRenderer</strong> looks like this:</p>\n<pre><code>private class CustomClusterItemRenderer extends DefaultClusterRenderer&lt;MyClusterItem&gt; {\n\n        public CustomClusterItemRenderer(Context context, GoogleMap map, ClusterManager&lt;MyClusterItem&gt; clusterManager) {\n            super(context, map, clusterManager);\n\n\n        }\n\n        @Override\n        protected void onBeforeClusterItemRendered(@NonNull MyClusterItem clusterItem, MarkerOptions markerOptions) {\n            markerOptions.icon(bitmapDescriptorFromVector(getContext(), clusterItem.vectorId))\n                    .title(clusterItem.getTitle());\n        }\n        \n\n        private BitmapDescriptor bitmapDescriptorFromVector(Context context, int vectorResId) {\n            //a lot of code\n            return BitmapDescriptorFactory.fromBitmap(bitmap);\n        }\n\n\n    }\n</code></pre>\n<p>That is, if I could insert a tag using MarkerOptions, then it would work. But this is impossible. (i think so)</p>\n"},{"tags":["java","apache-tika"],"comments":[{"owner":{"account_id":4065611,"reputation":6614,"user_id":3340665,"display_name":"Ulrich Thomas Gabor"},"score":1,"creation_date":1409696520,"post_id":25633051,"comment_id":40049981,"body_markdown":"[`SIGTERM`](https://en.wikipedia.org/wiki/Kill_(command)#Examples) would be my first guess. Since this basically asks the process nicely to shut down if it wants to, I would consider that safe.","body":"<a href=\"https://en.wikipedia.org/wiki/Kill_(command)#Examples\" rel=\"nofollow noreferrer\"><code>SIGTERM</code></a> would be my first guess. Since this basically asks the process nicely to shut down if it wants to, I would consider that safe."},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1409741896,"post_id":25633051,"comment_id":40065711,"body_markdown":"What&#39;s wrong with hitting control+c on the window where it&#39;s running?","body":"What&#39;s wrong with hitting control+c on the window where it&#39;s running?"},{"owner":{"account_id":425053,"reputation":3443,"user_id":805417,"accept_rate":63,"display_name":"pebox11"},"score":0,"creation_date":1409742489,"post_id":25633051,"comment_id":40066023,"body_markdown":"@Gagravarr: Assume that you do not have access to that window (e.g. it is closed by another process / user).","body":"@Gagravarr: Assume that you do not have access to that window (e.g. it is closed by another process / user)."},{"owner":{"account_id":7451944,"reputation":341,"user_id":5666415,"display_name":"Jesus Gilberto Valenzuela"},"score":0,"creation_date":1492649232,"post_id":25633051,"comment_id":74071189,"body_markdown":"Where do you try to run tika-server? on windows or linux?","body":"Where do you try to run tika-server? on windows or linux?"},{"owner":{"account_id":425053,"reputation":3443,"user_id":805417,"accept_rate":63,"display_name":"pebox11"},"score":0,"creation_date":1492682921,"post_id":25633051,"comment_id":74086020,"body_markdown":"Linux machine ( Ubuntu 12 )","body":"Linux machine ( Ubuntu 12 )"}],"answers":[{"tags":[],"owner":{"account_id":918450,"reputation":1975,"user_id":950708,"display_name":"andruso"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1570125468,"creation_date":1570125468,"answer_id":58224524,"question_id":25633051,"body_markdown":"As of October 2019 there is no programmatic way to shut it down. [Documentation](https://cwiki.apache.org/confluence/display/tika/TikaJAXRS#TikaJAXRS-RunningtheTikaServer) notes:\r\n\r\n&gt; In the future, we may implement a gentler shutdown than we currently have.\r\n","title":"Stopping a Tika server properly","body":"<p>As of October 2019 there is no programmatic way to shut it down. <a href=\"https://cwiki.apache.org/confluence/display/tika/TikaJAXRS#TikaJAXRS-RunningtheTikaServer\" rel=\"nofollow noreferrer\">Documentation</a> notes:</p>\n\n<blockquote>\n  <p>In the future, we may implement a gentler shutdown than we currently have.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1202593,"reputation":9569,"user_id":1173495,"accept_rate":46,"display_name":"SANN3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656907332,"creation_date":1656907332,"answer_id":72851661,"question_id":25633051,"body_markdown":"Apache tika 2.4.1 added stop() method to TikaServerCli so that it can be run with Apache Commons Daemon.\r\n\r\nhttps://issues.apache.org/jira/browse/TIKA-1570\r\n\r\nhttps://downloads.apache.org/tika/2.4.1/CHANGES-2.4.1.txt","title":"Stopping a Tika server properly","body":"<p>Apache tika 2.4.1 added stop() method to TikaServerCli so that it can be run with Apache Commons Daemon.</p>\n<p><a href=\"https://issues.apache.org/jira/browse/TIKA-1570\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/TIKA-1570</a></p>\n<p><a href=\"https://downloads.apache.org/tika/2.4.1/CHANGES-2.4.1.txt\" rel=\"nofollow noreferrer\">https://downloads.apache.org/tika/2.4.1/CHANGES-2.4.1.txt</a></p>\n"}],"owner":{"account_id":425053,"reputation":3443,"user_id":805417,"accept_rate":63,"display_name":"pebox11"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1946,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":2,"score":10,"last_activity_date":1657561782,"creation_date":1409695145,"question_id":25633051,"body_markdown":"In order to start a Tika server that can be accessed from hosts other that localhost we know that the way to go is (say I have version 1.7 and want to run on port 9998)\r\n\r\n    java -jar tika-server-1.7-SNAPSHOT.jar -host 0.0.0.0\r\n\r\n My question is: Is there a proper way to properly stop this server with a command or is killing the process the only way?","title":"Stopping a Tika server properly","body":"<p>In order to start a Tika server that can be accessed from hosts other that localhost we know that the way to go is (say I have version 1.7 and want to run on port 9998)</p>\n\n<pre><code>java -jar tika-server-1.7-SNAPSHOT.jar -host 0.0.0.0\n</code></pre>\n\n<p>My question is: Is there a proper way to properly stop this server with a command or is killing the process the only way?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":75412,"reputation":3633,"user_id":216345,"display_name":"Thomas"},"score":0,"creation_date":1290204356,"post_id":4229710,"comment_id":4578377,"body_markdown":"Make sure you get in the habit of looking at return types. Obviously trying to set a string into a float won&#39;t work. You have to convert it as seen below in Octavian Damiean&#39;s answer.","body":"Make sure you get in the habit of looking at return types. Obviously trying to set a string into a float won&#39;t work. You have to convert it as seen below in Octavian Damiean&#39;s answer."},{"owner":{"account_id":125727,"reputation":133941,"user_id":321697,"accept_rate":97,"display_name":"Kevin Coppock"},"score":0,"creation_date":1290204527,"post_id":4229710,"comment_id":4578399,"body_markdown":"On that topic as well, he&#39;s actually trying to cast from an Editable to a float with this line, as `getText()` returns an Editable.","body":"On that topic as well, he&#39;s actually trying to cast from an Editable to a float with this line, as <code>getText()</code> returns an Editable."}],"answers":[{"tags":[],"owner":{"account_id":183046,"reputation":39445,"user_id":418183,"accept_rate":100,"display_name":"Octavian Helm"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1308740492,"creation_date":1290203611,"answer_id":4229739,"question_id":4229710,"body_markdown":"Try this.\r\n\r\n    EditText edt = (EditText) findViewById(R.id.edit_float);\r\n    float number = Float.valueOf(edt.getText().toString());\r\n\r\nYou use the `valueOf()` method if the `Float` wrapper class to convert a string to a float. IN this example I get the `Editable` object of that `EditText` with `getText()` on which I call the `toString()` method to obtain a string from it.\r\n\r\n**Update:** Totally right guys sorry. Time to increment my sheep counter.","title":"String from EditText to float","body":"<p>Try this.</p>\n\n<pre><code>EditText edt = (EditText) findViewById(R.id.edit_float);\nfloat number = Float.valueOf(edt.getText().toString());\n</code></pre>\n\n<p>You use the <code>valueOf()</code> method if the <code>Float</code> wrapper class to convert a string to a float. IN this example I get the <code>Editable</code> object of that <code>EditText</code> with <code>getText()</code> on which I call the <code>toString()</code> method to obtain a string from it.</p>\n\n<p><strong>Update:</strong> Totally right guys sorry. Time to increment my sheep counter.</p>\n"},{"tags":[],"owner":{"account_id":11876963,"reputation":26,"user_id":8691746,"display_name":"Daniel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1506626376,"creation_date":1506626376,"answer_id":46476766,"question_id":4229710,"body_markdown":"\r\n    float getFloatFrom(EditText txt) {\r\n        try {\r\n            return NumberFormat.getInstance().parse(txt.getText().toString()).floatValue();\r\n        } catch (ParseException e) {\r\n            return 0.0f;\r\n        }\r\n    }\r\n\r\nDo NOT use Float.valueOf() if you want the code to work in countries that use decimal comma instead of decimal point.","title":"String from EditText to float","body":"<pre><code>float getFloatFrom(EditText txt) {\n    try {\n        return NumberFormat.getInstance().parse(txt.getText().toString()).floatValue();\n    } catch (ParseException e) {\n        return 0.0f;\n    }\n}\n</code></pre>\n\n<p>Do NOT use Float.valueOf() if you want the code to work in countries that use decimal comma instead of decimal point.</p>\n"},{"tags":[],"owner":{"account_id":25709287,"reputation":1,"user_id":19468091,"display_name":"ISTIAK AHMMAD SHANTO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657560934,"creation_date":1657560934,"answer_id":72942550,"question_id":4229710,"body_markdown":"String stext = editText.getText().toString();\r\n\r\nfloat text = Float.parseFloat(stext);","title":"String from EditText to float","body":"<p>String stext = editText.getText().toString();</p>\n<p>float text = Float.parseFloat(stext);</p>\n"}],"owner":{"account_id":127636,"reputation":3647,"user_id":324943,"accept_rate":86,"display_name":"Espen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52544,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":4229739,"answer_count":3,"score":16,"last_activity_date":1657560934,"creation_date":1290203410,"question_id":4229710,"body_markdown":"I have an EditText for which will be using for a float number.  So I&#39;m trying to read the text from the EditText and put it into a float variable.  But I seem to have a text to float problem.  This is the line I have:\r\n\r\n    float Number = ( ( EditText )findViewById( R.id.edit_float ) ).getText();\r\n\r\nI&#39;ve tried using Float.parseFloat(string) and just general casting, but nothing seem to do it.  What can I do here?  Also, is there a way to check for a valid float number before writing it to a variable?","title":"String from EditText to float","body":"<p>I have an EditText for which will be using for a float number.  So I'm trying to read the text from the EditText and put it into a float variable.  But I seem to have a text to float problem.  This is the line I have:</p>\n\n<pre><code>float Number = ( ( EditText )findViewById( R.id.edit_float ) ).getText();\n</code></pre>\n\n<p>I've tried using Float.parseFloat(string) and just general casting, but nothing seem to do it.  What can I do here?  Also, is there a way to check for a valid float number before writing it to a variable?</p>\n"},{"tags":["java","filter","java-8","java-stream","collectors"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":1,"creation_date":1657278795,"post_id":72908774,"comment_id":128778447,"body_markdown":"The structure of your objects in not clear. There&#39;s no sample data, `objId = &quot;1,2,3&quot; and sections=&quot;2,4&quot;` - what does that mean, the two properties of a single object? No clue.  Or what does `sections=&quot;{any}&quot;` means? And it&#39;s also impossible to say whether the logic of your stream is correct because (for instance, it is not clear if it&#39;s correct to apply `skip` after filters or not). Please provide the code (with a sample data in the code) that compiles, so that everyone can copy it and reproduce your problem. [*see - MRE*](https://stackoverflow.com/help/minimal-reproducible-example).","body":"The structure of your objects in not clear. There&#39;s no sample data, <code>objId = &quot;1,2,3&quot; and sections=&quot;2,4&quot;</code> - what does that mean, the two properties of a single object? No clue.  Or what does <code>sections=&quot;{any}&quot;</code> means? And it&#39;s also impossible to say whether the logic of your stream is correct because (for instance, it is not clear if it&#39;s correct to apply <code>skip</code> after filters or not). Please provide the code (with a sample data in the code) that compiles, so that everyone can copy it and reproduce your problem. <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\"><i>see - MRE</i></a>."},{"owner":{"account_id":5848965,"reputation":25,"user_id":4608220,"display_name":"pintekus"},"score":0,"creation_date":1657295597,"post_id":72908774,"comment_id":128784266,"body_markdown":"objId and sections are both comma separated string type. They both can be split(&#39;,&#39;) into arrays separated by the comma and then do the comparison (e.g. &quot;1,2&quot; -&gt; {&quot;1,&quot;,&quot;2&quot;}. Certainly if it doesn&#39;t have to split and can do the comparison would be much easier. sections=&quot;{any}&quot; means the value can be anything which doesn&#39;t care. It is similar to a Junit syntax.","body":"objId and sections are both comma separated string type. They both can be split(&#39;,&#39;) into arrays separated by the comma and then do the comparison (e.g. &quot;1,2&quot; -&gt; {&quot;1,&quot;,&quot;2&quot;}. Certainly if it doesn&#39;t have to split and can do the comparison would be much easier. sections=&quot;{any}&quot; means the value can be anything which doesn&#39;t care. It is similar to a Junit syntax."},{"owner":{"account_id":5848965,"reputation":25,"user_id":4608220,"display_name":"pintekus"},"score":0,"creation_date":1657295668,"post_id":72908774,"comment_id":128784285,"body_markdown":"That&#39;s the main purpose is to have the filtering get done first then do the **skip** operation.","body":"That&#39;s the main purpose is to have the filtering get done first then do the <b>skip</b> operation."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1657295827,"post_id":72908774,"comment_id":128784329,"body_markdown":"Please [*update the question*](https://stackoverflow.com/posts/72908774/edit) instead of posting clarifications in the comments. Can you give the **complete runnable code** that anyone can copy-past in the IDE? Simply help others to help you.","body":"Please <a href=\"https://stackoverflow.com/posts/72908774/edit\"><i>update the question</i></a> instead of posting clarifications in the comments. Can you give the <b>complete runnable code</b> that anyone can copy-past in the IDE? Simply help others to help you."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1657302228,"post_id":72908774,"comment_id":128786291,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":5848965,"reputation":25,"user_id":4608220,"display_name":"pintekus"},"score":0,"creation_date":1657329547,"post_id":72908774,"comment_id":128791961,"body_markdown":"This is a fully executable program, but not sure why I still not getting the correct answer that I am looking for.","body":"This is a fully executable program, but not sure why I still not getting the correct answer that I am looking for."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657560325,"creation_date":1657378195,"answer_id":72922339,"question_id":72908774,"body_markdown":"`NullPointerException` is being produced in the nested stream created inside the second `filter`:\r\n```\r\n.filter(object -&gt; Arrays.stream(sections).anyMatch(object.getObjId()::contains))\r\n```\r\nIt occurs while attempting to invoke method `contains` on the property of your object retrieved by `getObjId()` and `objId` happens to be `null`.\r\n\r\nWhy `getObjId()` returns `null` ? There&#39;s an object in your sample data which has this field set to `null` and in the first `filter` you&#39;re specifically telling that you want to retain in the stream pipeline only those objects whose `objId` is `null`:\r\n```\r\nfilter(object -&gt; object.getObjId() == null)\r\n```\r\nYou might have a misconception on how `filter` works, it will retain in the stream only those elements for which the *predicate* passed to the *filter* would be evaluated to `true`, not the opposite.\r\n\r\nHere is a quote from the [*documentation*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)):\r\n\r\n&gt; Returns a stream consisting of the elements of this stream that **match the given predicate**.\r\n\r\nYou can to change the predicate in the first filter to `object.getObjId() != null`, but that can lead to incorrect results  because *Case 3* of your requirements will not be fulfilled.\r\n\r\n&gt; *Case:3* `objId` = `null` || `&quot;&quot;`  and doesn&#39;t matter what `sections` = `&quot;{any}&quot;` (meaning the contents of `sections` doesn&#39;t matter), the object should be included into the list.\r\n\r\nIf filter out only objects having non-null id, then we will lose the objects with id `null` (if any), and empty string id also might not pass the criteria. Otherwise, if we would not apply any filtering before accessing id, it will result in getting `NullPointerException`.\r\n\r\n*Conclusion:* to retain objects having id equal to `null` and to an empty string and also objects having id matching to one of the strings in the sections array, we can not use two separate filters.\r\n\r\nInstead, we need to we need to combine these filters in a single filter.\r\n\r\nTo simplify the code, we can define two *predicates*. One as `static` field for checking if the id is `null` or an empty a string. Another as a local variable because it&#39;ll depend on the sections array.\r\n\r\nThat&#39;s how it might look like (the full code provided in the link below):\r\n\r\n```\r\npublic static final Predicate&lt;Objs&gt; IS_NULL_OR_EMPTY =\r\n     object -&gt; object.getObjId() == null || object.getObjId().isEmpty();\r\n``` \r\n\r\n    private List&lt;Objs&gt; test(String section) {\r\n        String[] sections = section.split(&quot;,&quot;);\r\n        List&lt;Objs&gt; objects = getData();\r\n        \r\n        Predicate&lt;Objs&gt; hasMatchingSection =\r\n            object -&gt; Arrays.stream(sections).anyMatch(object.getObjId()::contains);\r\n        \r\n        return objects.stream()\r\n            .filter(IS_NULL_OR_EMPTY.or(hasMatchingSection))\r\n            .limit(2)\r\n            .collect(Collectors.toList());\r\n    }\r\n\r\nI didn&#39;t apply `skip()` because it doesn&#39;t make sense skipping `0` elements.\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/t7X)","title":"Filtering Object having a null property along with Objects with non-null property matching certain criteria without getting NPE","body":"<p><code>NullPointerException</code> is being produced in the nested stream created inside the second <code>filter</code>:</p>\n<pre><code>.filter(object -&gt; Arrays.stream(sections).anyMatch(object.getObjId()::contains))\n</code></pre>\n<p>It occurs while attempting to invoke method <code>contains</code> on the property of your object retrieved by <code>getObjId()</code> and <code>objId</code> happens to be <code>null</code>.</p>\n<p>Why <code>getObjId()</code> returns <code>null</code> ? There's an object in your sample data which has this field set to <code>null</code> and in the first <code>filter</code> you're specifically telling that you want to retain in the stream pipeline only those objects whose <code>objId</code> is <code>null</code>:</p>\n<pre><code>filter(object -&gt; object.getObjId() == null)\n</code></pre>\n<p>You might have a misconception on how <code>filter</code> works, it will retain in the stream only those elements for which the <em>predicate</em> passed to the <em>filter</em> would be evaluated to <code>true</code>, not the opposite.</p>\n<p>Here is a quote from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><em>documentation</em></a>:</p>\n<blockquote>\n<p>Returns a stream consisting of the elements of this stream that <strong>match the given predicate</strong>.</p>\n</blockquote>\n<p>You can to change the predicate in the first filter to <code>object.getObjId() != null</code>, but that can lead to incorrect results  because <em>Case 3</em> of your requirements will not be fulfilled.</p>\n<blockquote>\n<p><em>Case:3</em> <code>objId</code> = <code>null</code> || <code>&quot;&quot;</code>  and doesn't matter what <code>sections</code> = <code>&quot;{any}&quot;</code> (meaning the contents of <code>sections</code> doesn't matter), the object should be included into the list.</p>\n</blockquote>\n<p>If filter out only objects having non-null id, then we will lose the objects with id <code>null</code> (if any), and empty string id also might not pass the criteria. Otherwise, if we would not apply any filtering before accessing id, it will result in getting <code>NullPointerException</code>.</p>\n<p><em>Conclusion:</em> to retain objects having id equal to <code>null</code> and to an empty string and also objects having id matching to one of the strings in the sections array, we can not use two separate filters.</p>\n<p>Instead, we need to we need to combine these filters in a single filter.</p>\n<p>To simplify the code, we can define two <em>predicates</em>. One as <code>static</code> field for checking if the id is <code>null</code> or an empty a string. Another as a local variable because it'll depend on the sections array.</p>\n<p>That's how it might look like (the full code provided in the link below):</p>\n<pre><code>public static final Predicate&lt;Objs&gt; IS_NULL_OR_EMPTY =\n     object -&gt; object.getObjId() == null || object.getObjId().isEmpty();\n</code></pre>\n<pre><code>private List&lt;Objs&gt; test(String section) {\n    String[] sections = section.split(&quot;,&quot;);\n    List&lt;Objs&gt; objects = getData();\n    \n    Predicate&lt;Objs&gt; hasMatchingSection =\n        object -&gt; Arrays.stream(sections).anyMatch(object.getObjId()::contains);\n    \n    return objects.stream()\n        .filter(IS_NULL_OR_EMPTY.or(hasMatchingSection))\n        .limit(2)\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p>I didn't apply <code>skip()</code> because it doesn't make sense skipping <code>0</code> elements.</p>\n<p><a href=\"https://www.jdoodle.com/ia/t7X\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":5848965,"reputation":25,"user_id":4608220,"display_name":"pintekus"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1868,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":72922339,"answer_count":1,"score":2,"last_activity_date":1657560325,"creation_date":1657269357,"question_id":72908774,"body_markdown":"I have a list of objects `List&lt;Objs&gt;`.\r\n\r\nEach object has a property `objId` of type `String` which can be initialized with a comma-separated string like `&quot;1,2,3&quot;`.\r\n\r\nAnd I have a string array `sections` containing comma-separated strings like `&quot;2,4&quot;`.\r\n\r\nI&#39;m splitting those strings using `split(&#39;,&#39;)` into arrays and then performing comparison for each element (e.g. `&quot;1,2&quot;` -&gt; `{&quot;1,&quot;,&quot;2&quot;}`). \r\n\r\nI&#39;m trying to collect all the objects which are either match `StringUtils.isEmpty(object.getObjId)` or their `objId` match one of the `sections` values.\r\n\r\n*That is the desired behavior depending on the value of `objId`:*\r\n\r\n*Case:1* `objId` = `&quot;1,2,3&quot;` and `sections` = `&quot;2,4&quot;`, as long as both have one value match &quot;2&quot;, hence object should be included into the list.\r\n\r\n*Case:2* `objId` = `&quot;1,3&quot;` and `sections` = `&quot;2&quot;`, since both don&#39;t have match value and hence object should **not** be included into the list.\r\n\r\n*Case:3* `objId` = `null` || `&quot;&quot;`  and doesn&#39;t matter what `sections` = `&quot;{any}&quot;` (meaning the contents of `sections` doesn&#39;t matter), the object should be included into the list.\r\n\r\n*Case:4* `sections` = `null` || `&quot;&quot;`, only object having `objId` = `null` || `&quot;&quot;` should be included into the list.\r\n\r\nThe sample code below always returns me a `NullPointerException`. Could someone help to correct me?\r\n\r\n*My code:*\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class TestStream {\r\n    \r\n        private List&lt;Objs&gt; getData() {\r\n            List&lt;Objs&gt; objects = new ArrayList&lt;&gt;();\r\n            Objs objs1 = new Objs();\r\n            Objs objs2 = new Objs();\r\n            Objs objs3 = new Objs();\r\n            Objs objs4 = new Objs();\r\n            objs1.setObjId(&quot;1,2,3&quot;);\r\n            objects.add(objs1);\r\n            objs1.setObjId(&quot;4,5,6&quot;);\r\n            objects.add(objs2);\r\n            objs2.setObjId(&quot;7,84,3&quot;);\r\n            objects.add(objs3);\r\n            objs3.setObjId(null);\r\n            objects.add(objs4);\r\n            return objects;\r\n        }\r\n        private List&lt;Objs&gt; test () {\r\n            String[] sections = &quot;2,8&quot;.split(&quot;,&quot;);\r\n            List&lt;Objs&gt; objects = getData();\r\n            List&lt;Objs&gt; result = objects.stream()\r\n                .filter(object -&gt;  object.getObjId() == null)\r\n                .filter(object -&gt; Arrays.stream(sections).anyMatch(object.getObjId()::contains))\r\n                .skip(0)\r\n                .limit(2)\r\n                .collect(Collectors.toList());\r\n        return result;\r\n        }\r\n        public static void main(String[] args) {\r\n            TestStream testStream= new TestStream();\r\n            List&lt;Objs&gt; result = testStream.test();\r\n            System.out.println(Arrays.toString(result.toArray()));\r\n        }\r\n    \r\n        class Objs {\r\n            private String objId;\r\n            public void setObjId(String id) { objId = id;}\r\n            public String getObjId() { return objId;}\r\n        }\r\n    }\r\n\r\n\r\nThe `skip` and `limit` is for paging, currently I set it to skip `0` and limit for each page is `3` which means I am trying to retrieve the first page, each page can only have `3` items.","title":"Filtering Object having a null property along with Objects with non-null property matching certain criteria without getting NPE","body":"<p>I have a list of objects <code>List&lt;Objs&gt;</code>.</p>\n<p>Each object has a property <code>objId</code> of type <code>String</code> which can be initialized with a comma-separated string like <code>&quot;1,2,3&quot;</code>.</p>\n<p>And I have a string array <code>sections</code> containing comma-separated strings like <code>&quot;2,4&quot;</code>.</p>\n<p>I'm splitting those strings using <code>split(',')</code> into arrays and then performing comparison for each element (e.g. <code>&quot;1,2&quot;</code> -&gt; <code>{&quot;1,&quot;,&quot;2&quot;}</code>).</p>\n<p>I'm trying to collect all the objects which are either match <code>StringUtils.isEmpty(object.getObjId)</code> or their <code>objId</code> match one of the <code>sections</code> values.</p>\n<p><em>That is the desired behavior depending on the value of <code>objId</code>:</em></p>\n<p><em>Case:1</em> <code>objId</code> = <code>&quot;1,2,3&quot;</code> and <code>sections</code> = <code>&quot;2,4&quot;</code>, as long as both have one value match &quot;2&quot;, hence object should be included into the list.</p>\n<p><em>Case:2</em> <code>objId</code> = <code>&quot;1,3&quot;</code> and <code>sections</code> = <code>&quot;2&quot;</code>, since both don't have match value and hence object should <strong>not</strong> be included into the list.</p>\n<p><em>Case:3</em> <code>objId</code> = <code>null</code> || <code>&quot;&quot;</code>  and doesn't matter what <code>sections</code> = <code>&quot;{any}&quot;</code> (meaning the contents of <code>sections</code> doesn't matter), the object should be included into the list.</p>\n<p><em>Case:4</em> <code>sections</code> = <code>null</code> || <code>&quot;&quot;</code>, only object having <code>objId</code> = <code>null</code> || <code>&quot;&quot;</code> should be included into the list.</p>\n<p>The sample code below always returns me a <code>NullPointerException</code>. Could someone help to correct me?</p>\n<p><em>My code:</em></p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class TestStream {\n\n    private List&lt;Objs&gt; getData() {\n        List&lt;Objs&gt; objects = new ArrayList&lt;&gt;();\n        Objs objs1 = new Objs();\n        Objs objs2 = new Objs();\n        Objs objs3 = new Objs();\n        Objs objs4 = new Objs();\n        objs1.setObjId(&quot;1,2,3&quot;);\n        objects.add(objs1);\n        objs1.setObjId(&quot;4,5,6&quot;);\n        objects.add(objs2);\n        objs2.setObjId(&quot;7,84,3&quot;);\n        objects.add(objs3);\n        objs3.setObjId(null);\n        objects.add(objs4);\n        return objects;\n    }\n    private List&lt;Objs&gt; test () {\n        String[] sections = &quot;2,8&quot;.split(&quot;,&quot;);\n        List&lt;Objs&gt; objects = getData();\n        List&lt;Objs&gt; result = objects.stream()\n            .filter(object -&gt;  object.getObjId() == null)\n            .filter(object -&gt; Arrays.stream(sections).anyMatch(object.getObjId()::contains))\n            .skip(0)\n            .limit(2)\n            .collect(Collectors.toList());\n    return result;\n    }\n    public static void main(String[] args) {\n        TestStream testStream= new TestStream();\n        List&lt;Objs&gt; result = testStream.test();\n        System.out.println(Arrays.toString(result.toArray()));\n    }\n\n    class Objs {\n        private String objId;\n        public void setObjId(String id) { objId = id;}\n        public String getObjId() { return objId;}\n    }\n}\n</code></pre>\n<p>The <code>skip</code> and <code>limit</code> is for paging, currently I set it to skip <code>0</code> and limit for each page is <code>3</code> which means I am trying to retrieve the first page, each page can only have <code>3</code> items.</p>\n"},{"tags":["java","concurrency","enums","classloader"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":4,"creation_date":1657564748,"post_id":72942402,"comment_id":128836141,"body_markdown":"I mean, the most obvious reason is &quot;because there are rules in the Java language spec about initialization order, in case you do weird side-effecting things in class initialization, and you have to stay consistent with those rules.&quot;","body":"I mean, the most obvious reason is &quot;because there are rules in the Java language spec about initialization order, in case you do weird side-effecting things in class initialization, and you have to stay consistent with those rules.&quot;"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1657620690,"post_id":72942402,"comment_id":128848679,"body_markdown":"I don’t know where get the idea about the “synchronization performance hit” from, as none of the linked answers says anything about it. Since this performance hit doesn’t exist, there is no need to optimize anything about it. Besides that, it’s not clear what “the compiler” is in your reasoning. The source code compiler? It knows which enum types you’re compiling, but how is it supposed to tell the JVM to load something before starting the program? The JIT compiler? How is it supposed to know beforehand, which enum types exist in your program?","body":"I don’t know where get the idea about the “synchronization performance hit” from, as none of the linked answers says anything about it. Since this performance hit doesn’t exist, there is no need to optimize anything about it. Besides that, it’s not clear what “the compiler” is in your reasoning. The source code compiler? It knows which enum types you’re compiling, but how is it supposed to tell the JVM to load something before starting the program? The JIT compiler? How is it supposed to know beforehand, which enum types exist in your program?"},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":0,"creation_date":1657655098,"post_id":72942402,"comment_id":128861095,"body_markdown":"I admit my knowledge of the compiler and/or interpreters are very limited to try to justify my reasoning, having said this I am aware that the source code crosses multiple translations until it becomes something that the processor can understand. I thought it was in one of these steps (maybe from source to bytecode since the compiler scans the entirety of the source code for errors) that the loading process of constants was defined.\nI don&#39;t think it is a good idea to link the comment about sync here, but if you @Holger tell me there is none, I definitely trust your voice on this.","body":"I admit my knowledge of the compiler and/or interpreters are very limited to try to justify my reasoning, having said this I am aware that the source code crosses multiple translations until it becomes something that the processor can understand. I thought it was in one of these steps (maybe from source to bytecode since the compiler scans the entirety of the source code for errors) that the loading process of constants was defined. I don&#39;t think it is a good idea to link the comment about sync here, but if you @Holger tell me there is none, I definitely trust your voice on this."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1657704142,"post_id":72942402,"comment_id":128871552,"body_markdown":"But you should know that with Java, the source files get compiled to a bunch of `.class` files and that the common deployment form, `.jar` files, is just a zip file containing the `.class` files, additional resources, and some meta information. Then, you launch an application by specifying a classpath and/or module path containing one or more `.jar` files or directories containing `.class` files. The next launch, you could omit a path element or add one. This standard setup has no global registry of enum types and searching the entire path on startup would be very expensive, for little benefit","body":"But you should know that with Java, the source files get compiled to a bunch of <code>.class</code> files and that the common deployment form, <code>.jar</code> files, is just a zip file containing the <code>.class</code> files, additional resources, and some meta information. Then, you launch an application by specifying a classpath and/or module path containing one or more <code>.jar</code> files or directories containing <code>.class</code> files. The next launch, you could omit a path element or add one. This standard setup has no global registry of enum types and searching the entire path on startup would be very expensive, for little benefit"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1657705230,"post_id":72942402,"comment_id":128871892,"body_markdown":"Maybe confusion about synchronization overhead came from the fact that the specification’s guarantees wrt initialization thread safety are described formally in terms of lock acquisition but eliminating such overhead once completed is so ubiquitous that it is even [mentioned in the specification](https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-5.html#jvms-5.5-300): “*A Java Virtual Machine implementation may optimize this procedure by eliding the lock acquisition in step 1 (and release in step 4/5) when it can determine that the initialization of the class has already completed, …*”","body":"Maybe confusion about synchronization overhead came from the fact that the specification’s guarantees wrt initialization thread safety are described formally in terms of lock acquisition but eliminating such overhead once completed is so ubiquitous that it is even <a href=\"https://docs.oracle.com/javase/specs/jvms/se17/html/jvms-5.html#jvms-5.5-300\" rel=\"nofollow noreferrer\">mentioned in the specification</a>: “<i>A Java Virtual Machine implementation may optimize this procedure by eliding the lock acquisition in step 1 (and release in step 4/5) when it can determine that the initialization of the class has already completed, …</i>”"}],"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657560218,"creation_date":1657560218,"question_id":72942402,"body_markdown":"When asking When are enums first created?\r\n\r\nThe answer is: When the enum class is first loaded.\r\n\r\nThen when asking: When are enums first loaded? \r\n\r\nthe answer seems to be: When they are.\r\n\r\n[The JVM helps us instantiate enumeration types when they are loaded][1] \r\n\r\n[enum values are constants created once at runtime, during the initialization phase of the enum class loading.][2]\r\n\r\nWhen looking deep into the concept of &quot;loading&quot; we come across [&quot;Loading, Linking, and Initializing&quot;][4], and so the clear implication seems to be that loading happens [&quot;when it is first needed&quot;][3].\r\n\r\nThe reason why I am asking this is because I came across a post in which someone wrongfully thought that enums were loaded on to Metaspace before the first line of a program was executed.\r\n\r\nAnd I never even noticed it, but I realized that I had the same thought process, and some of the answers in that post seem to imply that whenever an enum or private static constant are present as a field inside a class, then that class is bound to a synchronization performance hit for each and every instance concurrently created of said class, if and only if multiple instances are being created for the first time (in a concurrent manner), so that each object gets the same instance of the enum and/or static constant.\r\n\r\nSo the question: If the compiler has all the code information before executing the program, why does it chooses to load constants and enums whenever they are first needed?\r\n\r\nIs this done out of uncertainty that maybe the code will not execute, saving memory space if it doesn&#39;t?\r\n\r\n\r\n  [1]: https://programmer.ink/think/enum-detailed-explanation-of-enumeration-classes-in-java-medium.html\r\n  [2]: https://stackoverflow.com/a/50184535/11214643\r\n  [3]: https://stackoverflow.com/questions/41656506/loading-linking-and-initializing-when-does-a-class-get-loaded\r\n  [4]: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html","title":"Would it make sense for enums and static constants to be pre loaded before usage, why aren&#39;t they?","body":"<p>When asking When are enums first created?</p>\n<p>The answer is: When the enum class is first loaded.</p>\n<p>Then when asking: When are enums first loaded?</p>\n<p>the answer seems to be: When they are.</p>\n<p><a href=\"https://programmer.ink/think/enum-detailed-explanation-of-enumeration-classes-in-java-medium.html\" rel=\"nofollow noreferrer\">The JVM helps us instantiate enumeration types when they are loaded</a></p>\n<p><a href=\"https://stackoverflow.com/a/50184535/11214643\">enum values are constants created once at runtime, during the initialization phase of the enum class loading.</a></p>\n<p>When looking deep into the concept of &quot;loading&quot; we come across <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-5.html\" rel=\"nofollow noreferrer\">&quot;Loading, Linking, and Initializing&quot;</a>, and so the clear implication seems to be that loading happens <a href=\"https://stackoverflow.com/questions/41656506/loading-linking-and-initializing-when-does-a-class-get-loaded\">&quot;when it is first needed&quot;</a>.</p>\n<p>The reason why I am asking this is because I came across a post in which someone wrongfully thought that enums were loaded on to Metaspace before the first line of a program was executed.</p>\n<p>And I never even noticed it, but I realized that I had the same thought process, and some of the answers in that post seem to imply that whenever an enum or private static constant are present as a field inside a class, then that class is bound to a synchronization performance hit for each and every instance concurrently created of said class, if and only if multiple instances are being created for the first time (in a concurrent manner), so that each object gets the same instance of the enum and/or static constant.</p>\n<p>So the question: If the compiler has all the code information before executing the program, why does it chooses to load constants and enums whenever they are first needed?</p>\n<p>Is this done out of uncertainty that maybe the code will not execute, saving memory space if it doesn't?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"score":3,"creation_date":1657560268,"post_id":72942011,"comment_id":128834732,"body_markdown":"Present your code as [example], so we can figure out what removes the new-line `\\n`.","body":"Present your code as <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, so we can figure out what removes the new-line <code>\\n</code>."}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1657560218,"creation_date":1657559916,"answer_id":72942343,"question_id":72942011,"body_markdown":"The regex [POSIX character class][1] for *puncutation* (`\\p{P}` or `\\p{Punct}`) does not remove line-breaks.\r\n\r\nSee the [demo on IDEone](https://ideone.com/znRPL0):\r\n```java\r\nString multiline = &quot;1,2,3\\n4.5\\n6.7?8&quot;;\r\nSystem.out.println(multiline.replaceAll(&quot;\\\\p{P}&quot;, &quot;&quot;));\r\n```\r\nPrints the string with line-breaks preserved:\r\n```text\r\n123\r\n45\r\n678\r\n```\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#posix","title":"why is &quot;\\n&quot; removed when I write replaceAll(&quot;\\\\p{P}&quot;, &quot;&quot;), because &quot;\\\\p{P}&quot; is a regular expression for PUNCTATION only","body":"<p>The regex <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/regex/Pattern.html#posix\" rel=\"nofollow noreferrer\">POSIX character class</a> for <em>puncutation</em> (<code>\\p{P}</code> or <code>\\p{Punct}</code>) does not remove line-breaks.</p>\n<p>See the <a href=\"https://ideone.com/znRPL0\" rel=\"nofollow noreferrer\">demo on IDEone</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String multiline = &quot;1,2,3\\n4.5\\n6.7?8&quot;;\nSystem.out.println(multiline.replaceAll(&quot;\\\\p{P}&quot;, &quot;&quot;));\n</code></pre>\n<p>Prints the string with line-breaks preserved:</p>\n<pre><code>123\n45\n678\n</code></pre>\n"}],"owner":{"account_id":25565891,"reputation":1,"user_id":19347315,"display_name":"DimaMsuVmk22"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1657560218,"creation_date":1657558334,"question_id":72942011,"body_markdown":"why is &quot;\\n&quot; removed when I write `replaceAll(&quot;\\\\p{P}&quot;, &quot;&quot;)`, because &quot;\\\\p{P}&quot; is a regular expression for PUNCTATION only. &quot;\\n&quot; line break is not a punctuation mark?\r\n\r\nFor example, after this regular expression, a group of lines\r\n```\r\n1,2,3\r\n4.5\r\n6.7?8\r\n```\r\nconverted to `12345678`\r\n\r\nwhy was the line break removed?","title":"why is &quot;\\n&quot; removed when I write replaceAll(&quot;\\\\p{P}&quot;, &quot;&quot;), because &quot;\\\\p{P}&quot; is a regular expression for PUNCTATION only","body":"<p>why is &quot;\\n&quot; removed when I write <code>replaceAll(&quot;\\\\p{P}&quot;, &quot;&quot;)</code>, because &quot;\\p{P}&quot; is a regular expression for PUNCTATION only. &quot;\\n&quot; line break is not a punctuation mark?</p>\n<p>For example, after this regular expression, a group of lines</p>\n<pre><code>1,2,3\n4.5\n6.7?8\n</code></pre>\n<p>converted to <code>12345678</code></p>\n<p>why was the line break removed?</p>\n"},{"tags":["java","discount"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":10,"creation_date":1469186746,"post_id":38525213,"comment_id":64444790,"body_markdown":"I&#39;d suggest you brush up on basic Java syntax, pronto.","body":"I&#39;d suggest you brush up on basic Java syntax, pronto."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1469187248,"post_id":38525213,"comment_id":64445082,"body_markdown":"This is not valid Java.","body":"This is not valid Java."},{"owner":{"account_id":8463381,"reputation":346,"user_id":6348267,"accept_rate":57,"display_name":"jrmullen"},"score":0,"creation_date":1469189792,"post_id":38525213,"comment_id":64446666,"body_markdown":"Are you using an IDE? You are missing a LOT of basic syntax in your code.","body":"Are you using an IDE? You are missing a LOT of basic syntax in your code."}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1469188908,"creation_date":1469188908,"answer_id":38525937,"question_id":38525213,"body_markdown":"\r\nI&#39;m usually not in favor of doing assignments for Tom Sawyer students, but in this case I think there&#39;s educational opportunity for any beginner who learns to look at the problem differently.\r\n\r\nThis is a simple class, but it&#39;s a good idea to develop good habits if you want to be a programmer.  \r\n\r\nPay a lot of attention to code formatting and readability.    Think long and hard about names for classes, methods, and variables.  You need fewer comments if the names are self-explanatory.\r\n\r\nLearn and follow [Java coding standards][1].  That will help readability.\r\n\r\nForget about input and output and the user interface - get the functionality right first.\r\n\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    /**\r\n     * CoffeePriceCalculator\r\n     * User: mduffy\r\n     * Date: 7/22/2016\r\n     * Time: 7:46 AM\r\n     * @link http://stackoverflow.com/questions/38525213/simple-discount\r\n     */\r\n    public class CoffeePriceCalculator {\r\n    \r\n        // Is double a good way to represent money?  What about units?  Conversions?\r\n        public static final double DEFAULT_UNIT_PRICE = 3.75;  // British pounds\r\n    \r\n        private static final Map&lt;Integer, Double&gt; DISCOUNT_PERCENTAGE;\r\n    \r\n        static {\r\n            DISCOUNT_PERCENTAGE = new LinkedHashMap&lt;&gt;();\r\n            DISCOUNT_PERCENTAGE.put(10, 0.05);\r\n            DISCOUNT_PERCENTAGE.put(20, 0.10);\r\n        }\r\n    \r\n        public double calculatePrice(int numBags, double unitPrice) {\r\n            if (numBags &lt; 0) throw new IllegalArgumentException(&quot;Number of bags must be positive&quot;);\r\n            if (unitPrice &lt; 0.0) throw new IllegalArgumentException(&quot;Unit price must be positive&quot;);\r\n            double price = numBags*unitPrice;\r\n            price -= calculateDiscount(numBags, price);\r\n            return price;\r\n        }\r\n    \r\n        public double calculatePrice(int numBags) {\r\n            return this.calculatePrice(numBags, DEFAULT_UNIT_PRICE);\r\n        }\r\n    \r\n        public double calculateDiscount(int numBags, double price) {\r\n            if (numBags &lt; 0) throw new IllegalArgumentException(&quot;Number of bags must be positive&quot;);\r\n            if (price &lt; 0.0) throw new IllegalArgumentException(&quot;Total price must be positive&quot;);\r\n            double discount = 0.0;\r\n            for (int minBags : DISCOUNT_PERCENTAGE.keySet()) {\r\n                if (numBags &gt;= minBags) {\r\n                    discount = price*DISCOUNT_PERCENTAGE.get(minBags);\r\n                    break;\r\n                }\r\n            }\r\n            return discount;\r\n        }\r\n    }\r\n\r\nIt&#39;s not too early to learn about [JUnit][2] and Test Driven Development.\r\n\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    \r\n    /**\r\n     * Junit test for CoffeePriceCalculator\r\n     * User: mduffy\r\n     * Date: 7/22/2016\r\n     * Time: 7:50 AM\r\n     * @link http://stackoverflow.com/questions/38525213/simple-discount\r\n     */\r\n    public class CoffeePriceCalculatorTest {\r\n    \r\n        public static final double TOLERANCE = 1.0e-3;\r\n    \r\n        @Test\r\n        public void testCalculatePrice_NoDiscount() {\r\n            // setup\r\n            CoffeePriceCalculator coffeePriceCalculator = new CoffeePriceCalculator();\r\n            int numBags = 5;\r\n            // exercise\r\n            double actual = coffeePriceCalculator.calculatePrice(numBags);\r\n            // assert\r\n            Assert.assertEquals(numBags * CoffeePriceCalculator.DEFAULT_UNIT_PRICE, actual, TOLERANCE);\r\n        }\r\n    \r\n        @Test\r\n        public void testCalculatorPrice_LowDiscount() {\r\n            // setup\r\n            CoffeePriceCalculator coffeePriceCalculator = new CoffeePriceCalculator();\r\n            int numBags = 15;\r\n            // exercise\r\n            double actual = coffeePriceCalculator.calculatePrice(numBags);\r\n            // assert\r\n            Assert.assertEquals(numBags * CoffeePriceCalculator.DEFAULT_UNIT_PRICE*0.95, actual, TOLERANCE);\r\n        }\r\n    \r\n        @Test\r\n        public void testCalculatorPrice_HighDiscount() {\r\n            // setup\r\n            CoffeePriceCalculator coffeePriceCalculator = new CoffeePriceCalculator();\r\n            int numBags = 25;\r\n            // exercise\r\n            double actual = coffeePriceCalculator.calculatePrice(numBags);\r\n            // assert\r\n            Assert.assertEquals(numBags * CoffeePriceCalculator.DEFAULT_UNIT_PRICE*0.90, actual, TOLERANCE);\r\n        }\r\n    \r\n        @Test(expected = IllegalArgumentException.class)\r\n        public void testCalculatePrice_NegativeBags() {\r\n            // setup\r\n            CoffeePriceCalculator coffeePriceCalculator = new CoffeePriceCalculator();\r\n            int numBags = -25;\r\n            // exercise\r\n            coffeePriceCalculator.calculatePrice(numBags);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://google.github.io/styleguide/javaguide.html\r\n  [2]: http://www.junit.org","title":"Simple Discount","body":"<p>I'm usually not in favor of doing assignments for Tom Sawyer students, but in this case I think there's educational opportunity for any beginner who learns to look at the problem differently.</p>\n\n<p>This is a simple class, but it's a good idea to develop good habits if you want to be a programmer.  </p>\n\n<p>Pay a lot of attention to code formatting and readability.    Think long and hard about names for classes, methods, and variables.  You need fewer comments if the names are self-explanatory.</p>\n\n<p>Learn and follow <a href=\"https://google.github.io/styleguide/javaguide.html\" rel=\"nofollow\">Java coding standards</a>.  That will help readability.</p>\n\n<p>Forget about input and output and the user interface - get the functionality right first.</p>\n\n<pre><code>import java.util.LinkedHashMap;\nimport java.util.Map;\n\n/**\n * CoffeePriceCalculator\n * User: mduffy\n * Date: 7/22/2016\n * Time: 7:46 AM\n * @link http://stackoverflow.com/questions/38525213/simple-discount\n */\npublic class CoffeePriceCalculator {\n\n    // Is double a good way to represent money?  What about units?  Conversions?\n    public static final double DEFAULT_UNIT_PRICE = 3.75;  // British pounds\n\n    private static final Map&lt;Integer, Double&gt; DISCOUNT_PERCENTAGE;\n\n    static {\n        DISCOUNT_PERCENTAGE = new LinkedHashMap&lt;&gt;();\n        DISCOUNT_PERCENTAGE.put(10, 0.05);\n        DISCOUNT_PERCENTAGE.put(20, 0.10);\n    }\n\n    public double calculatePrice(int numBags, double unitPrice) {\n        if (numBags &lt; 0) throw new IllegalArgumentException(\"Number of bags must be positive\");\n        if (unitPrice &lt; 0.0) throw new IllegalArgumentException(\"Unit price must be positive\");\n        double price = numBags*unitPrice;\n        price -= calculateDiscount(numBags, price);\n        return price;\n    }\n\n    public double calculatePrice(int numBags) {\n        return this.calculatePrice(numBags, DEFAULT_UNIT_PRICE);\n    }\n\n    public double calculateDiscount(int numBags, double price) {\n        if (numBags &lt; 0) throw new IllegalArgumentException(\"Number of bags must be positive\");\n        if (price &lt; 0.0) throw new IllegalArgumentException(\"Total price must be positive\");\n        double discount = 0.0;\n        for (int minBags : DISCOUNT_PERCENTAGE.keySet()) {\n            if (numBags &gt;= minBags) {\n                discount = price*DISCOUNT_PERCENTAGE.get(minBags);\n                break;\n            }\n        }\n        return discount;\n    }\n}\n</code></pre>\n\n<p>It's not too early to learn about <a href=\"http://www.junit.org\" rel=\"nofollow\">JUnit</a> and Test Driven Development.</p>\n\n<pre><code>import org.junit.Assert;\nimport org.junit.Test;\n\n/**\n * Junit test for CoffeePriceCalculator\n * User: mduffy\n * Date: 7/22/2016\n * Time: 7:50 AM\n * @link http://stackoverflow.com/questions/38525213/simple-discount\n */\npublic class CoffeePriceCalculatorTest {\n\n    public static final double TOLERANCE = 1.0e-3;\n\n    @Test\n    public void testCalculatePrice_NoDiscount() {\n        // setup\n        CoffeePriceCalculator coffeePriceCalculator = new CoffeePriceCalculator();\n        int numBags = 5;\n        // exercise\n        double actual = coffeePriceCalculator.calculatePrice(numBags);\n        // assert\n        Assert.assertEquals(numBags * CoffeePriceCalculator.DEFAULT_UNIT_PRICE, actual, TOLERANCE);\n    }\n\n    @Test\n    public void testCalculatorPrice_LowDiscount() {\n        // setup\n        CoffeePriceCalculator coffeePriceCalculator = new CoffeePriceCalculator();\n        int numBags = 15;\n        // exercise\n        double actual = coffeePriceCalculator.calculatePrice(numBags);\n        // assert\n        Assert.assertEquals(numBags * CoffeePriceCalculator.DEFAULT_UNIT_PRICE*0.95, actual, TOLERANCE);\n    }\n\n    @Test\n    public void testCalculatorPrice_HighDiscount() {\n        // setup\n        CoffeePriceCalculator coffeePriceCalculator = new CoffeePriceCalculator();\n        int numBags = 25;\n        // exercise\n        double actual = coffeePriceCalculator.calculatePrice(numBags);\n        // assert\n        Assert.assertEquals(numBags * CoffeePriceCalculator.DEFAULT_UNIT_PRICE*0.90, actual, TOLERANCE);\n    }\n\n    @Test(expected = IllegalArgumentException.class)\n    public void testCalculatePrice_NegativeBags() {\n        // setup\n        CoffeePriceCalculator coffeePriceCalculator = new CoffeePriceCalculator();\n        int numBags = -25;\n        // exercise\n        coffeePriceCalculator.calculatePrice(numBags);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8463381,"reputation":346,"user_id":6348267,"accept_rate":57,"display_name":"jrmullen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469448344,"creation_date":1469191289,"answer_id":38526732,"question_id":38525213,"body_markdown":"Hopefully your exam is not coming up too soon, because you have a lot of syntax to review.\r\n\r\nI don&#39;t really like giving straight up answers to homework questions, so I will fix up what you currently have, and perhaps that will point you in the right direction.\r\n\r\n\r\n\r\n\r\n    Import.java.util.scanner;\r\n\r\n    public class discount {\r\n      public static void main (String[] args){\r\n    \r\n        //Scanner input; Keep this as one line. It is good practice\r\n        Scanner input = new Scanner(System.in);\r\n        //Float bag;\r\n       int bag;\r\n        Float discount;\r\n        Double cost = 3.75;\r\n    \r\n        //Input = new Scanner(System.ini);     combined with line above.\r\n        System.out.println(&quot;Enter Numer of bag&quot;);\r\n        bag = input.nextFloat();\r\n        //If (bag ==&gt;10&amp;&amp;&lt;20) &#215; .05  incorrect Java syntax\r\n\r\n        //if(bag &gt;= 10 &amp;&amp; &lt; 20) {\r\n        if(bag &gt;= 10 &amp;&amp; bag &lt; 20) {\r\n         discount = 0.05;\r\n        }\r\n        else if(bag &gt;= 20) {\r\n          discount = 0.10;\r\n        } \r\n        else {\r\n          //discount = 0;\r\n          discount = 0.0;\r\n        }\r\n\r\n        double finalPrice;\r\n        finalPrice = (cost * bag) * (1 - discount);\r\n\r\n        //System.out.println(&quot;You ordered &quot; + bag + &quot; bags of coffee.);\r\n        System.out.println(&quot;You ordered &quot; + bag + &quot; bags of coffee.&quot;);\r\n        System.out.println(&quot;Your dicount is &quot; + discount + &quot;%&quot;);\r\n        System.out.println(&quot;Your total is: &quot; + finalPrice);\r\n      }\r\n    }\r\n\r\nRemember to keep your code clean so you do not confuse yourself. Make sure you indent your code. \r\n\r\nThink about what you are naming your variables, and do not be afraid to refactor them if you come up with something better. Using clear and logical naming will reduce the number of comments you will need to write.\r\n\r\nAnd as I mentioned before, study up on your syntax. There were a lot of syntax errors in your code, which leads me to believe that maybe you are writing your code in notepad or from the command line? If so I would recommend using an IDE such as IntelliJ, NetBeans, or Eclipse. These will underline your syntax errors and point out mistakes that you may not notice straight away.","title":"Simple Discount","body":"<p>Hopefully your exam is not coming up too soon, because you have a lot of syntax to review.</p>\n\n<p>I don't really like giving straight up answers to homework questions, so I will fix up what you currently have, and perhaps that will point you in the right direction.</p>\n\n<pre><code>Import.java.util.scanner;\n\npublic class discount {\n  public static void main (String[] args){\n\n    //Scanner input; Keep this as one line. It is good practice\n    Scanner input = new Scanner(System.in);\n    //Float bag;\n   int bag;\n    Float discount;\n    Double cost = 3.75;\n\n    //Input = new Scanner(System.ini);     combined with line above.\n    System.out.println(\"Enter Numer of bag\");\n    bag = input.nextFloat();\n    //If (bag ==&gt;10&amp;&amp;&lt;20) × .05  incorrect Java syntax\n\n    //if(bag &gt;= 10 &amp;&amp; &lt; 20) {\n    if(bag &gt;= 10 &amp;&amp; bag &lt; 20) {\n     discount = 0.05;\n    }\n    else if(bag &gt;= 20) {\n      discount = 0.10;\n    } \n    else {\n      //discount = 0;\n      discount = 0.0;\n    }\n\n    double finalPrice;\n    finalPrice = (cost * bag) * (1 - discount);\n\n    //System.out.println(\"You ordered \" + bag + \" bags of coffee.);\n    System.out.println(\"You ordered \" + bag + \" bags of coffee.\");\n    System.out.println(\"Your dicount is \" + discount + \"%\");\n    System.out.println(\"Your total is: \" + finalPrice);\n  }\n}\n</code></pre>\n\n<p>Remember to keep your code clean so you do not confuse yourself. Make sure you indent your code. </p>\n\n<p>Think about what you are naming your variables, and do not be afraid to refactor them if you come up with something better. Using clear and logical naming will reduce the number of comments you will need to write.</p>\n\n<p>And as I mentioned before, study up on your syntax. There were a lot of syntax errors in your code, which leads me to believe that maybe you are writing your code in notepad or from the command line? If so I would recommend using an IDE such as IntelliJ, NetBeans, or Eclipse. These will underline your syntax errors and point out mistakes that you may not notice straight away.</p>\n"},{"tags":[],"owner":{"account_id":5033322,"reputation":439,"user_id":4042891,"display_name":"Colin Rooney"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1469299632,"creation_date":1469299632,"answer_id":38545314,"question_id":38525213,"body_markdown":"&gt; if(bag &gt;= 10 &amp;&amp; &lt; 20)\r\n\r\nto\r\n\r\n&gt; if(bag &gt;= 10 &amp;&amp; **bag** &lt; 20)\r\n\r\nAn easy mistake for a beginner!\r\nI kinda agree with the lecturer re the editor vs ide while learning the basics.  You need to learn to read what the compiler tells you is wrong. And once you know the problem, I think you will agree, the syntax error message above gives a good indication of what is wrong.","title":"Simple Discount","body":"<blockquote>\n  <p>if(bag >= 10 &amp;&amp; &lt; 20)</p>\n</blockquote>\n\n<p>to</p>\n\n<blockquote>\n  <p>if(bag >= 10 &amp;&amp; <strong>bag</strong> &lt; 20)</p>\n</blockquote>\n\n<p>An easy mistake for a beginner!\nI kinda agree with the lecturer re the editor vs ide while learning the basics.  You need to learn to read what the compiler tells you is wrong. And once you know the problem, I think you will agree, the syntax error message above gives a good indication of what is wrong.</p>\n"}],"owner":{"account_id":7946299,"reputation":33,"user_id":5998722,"display_name":"James Ludden"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2381,"favorite_count":0,"down_vote_count":4,"up_vote_count":4,"accepted_answer_id":38545314,"answer_count":3,"score":0,"last_activity_date":1657560110,"creation_date":1469186622,"question_id":38525213,"body_markdown":"Studying for an exam and have a problem,I am a beginner.\r\nIts a discount calculator. \r\nBag of coffee costs €3.75\r\n10 bags or more 5% discount\r\n20 bags or more 10% discount\r\n\r\nWhat I have so far\r\n\r\n    import java.util.Scanner;\r\n    public class discount {\r\n    public static void main (String[] args){\r\n\r\n    //Scanner input; Keep this as one line. It is good practice\r\n    Scanner input = new Scanner(System.in);\r\n    double bag;\r\n    double discount;\r\n    double cost = 3.75;\r\n\r\n    //Input = new Scanner(System.ini);     combined with line above.\r\n    System.out.println(&quot;Enter Numer of bag&quot;);\r\n    bag = input.nextDouble();\r\n    //If (bag ==&gt;10&amp;&amp;&lt;20) &#215; .05  incorrect Java syntax\r\n\r\n    if(bag &gt;= 10 &amp;&amp; &lt; 20) {\r\n     discount = 0.05;\r\n    }\r\n    else if(bag &gt;= 20) {\r\n      discount = 0.10;\r\n    } \r\n    else {\r\n      discount = 0;\r\n    }\r\n\r\n    double finalPrice;\r\n    finalPrice = (cost * bag) * (1 - discount);\r\n\r\n    System.out.println(&quot;You ordered &quot; + bag + &quot; bags of coffee.&quot;);\r\n    System.out.println(&quot;Your dicount is &quot; + discount + &quot;%&quot;);\r\n    System.out.println(&quot;You total is: &quot; + finalPrice);\r\n  }\r\n}\r\n","title":"Simple Discount","body":"<p>Studying for an exam and have a problem,I am a beginner.\nIts a discount calculator. \nBag of coffee costs €3.75\n10 bags or more 5% discount\n20 bags or more 10% discount</p>\n\n<p>What I have so far</p>\n\n<pre><code>import java.util.Scanner;\npublic class discount {\npublic static void main (String[] args){\n\n//Scanner input; Keep this as one line. It is good practice\nScanner input = new Scanner(System.in);\ndouble bag;\ndouble discount;\ndouble cost = 3.75;\n\n//Input = new Scanner(System.ini);     combined with line above.\nSystem.out.println(\"Enter Numer of bag\");\nbag = input.nextDouble();\n//If (bag ==&gt;10&amp;&amp;&lt;20) × .05  incorrect Java syntax\n\nif(bag &gt;= 10 &amp;&amp; &lt; 20) {\n discount = 0.05;\n}\nelse if(bag &gt;= 20) {\n  discount = 0.10;\n} \nelse {\n  discount = 0;\n}\n\ndouble finalPrice;\nfinalPrice = (cost * bag) * (1 - discount);\n\nSystem.out.println(\"You ordered \" + bag + \" bags of coffee.\");\nSystem.out.println(\"Your dicount is \" + discount + \"%\");\nSystem.out.println(\"You total is: \" + finalPrice);\n</code></pre>\n\n<p>}\n}</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5299243,"reputation":1314,"user_id":4229454,"display_name":"zlakad"},"score":2,"creation_date":1518351129,"post_id":48731308,"comment_id":84461749,"body_markdown":"You don&#39;t need two loops. Try to figure out how to produce desired output using just one loop.","body":"You don&#39;t need two loops. Try to figure out how to produce desired output using just one loop."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1518351678,"post_id":48731308,"comment_id":84461902,"body_markdown":"@zlakad indeed, you don&#39;t *need* two loops; but OP doesn&#39;t need to throw away all of his code to make it do what is required. It&#39;s simple to adapt what is here already.","body":"@zlakad indeed, you don&#39;t <i>need</i> two loops; but OP doesn&#39;t need to throw away all of his code to make it do what is required. It&#39;s simple to adapt what is here already."},{"owner":{"account_id":5299243,"reputation":1314,"user_id":4229454,"display_name":"zlakad"},"score":0,"creation_date":1518351901,"post_id":48731308,"comment_id":84461973,"body_markdown":"@AndyTurner, I understand your point. It&#39;s O.K. with me, but I just gave a tip... When OP *really* think about it, he might become better and better in programming.","body":"@AndyTurner, I understand your point. It&#39;s O.K. with me, but I just gave a tip... When OP <i>really</i> think about it, he might become better and better in programming."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1518352178,"post_id":48731308,"comment_id":84462040,"body_markdown":"@zlakad and I understand yours. But i would say that to &quot;become better&quot;, it is more instructive to look at what it is about the existing code that makes it not work correctly, and think about how to correct it. After all, we don&#39;t always have the luxury of throwing it away and starting again. I mean, the changes here are pretty obvious, e.g. if you want `+` between the numbers, don&#39;t put a space between them. If you can&#39;t even work out that that needs to be changed, you&#39;re not going to be able to get very far.","body":"@zlakad and I understand yours. But i would say that to &quot;become better&quot;, it is more instructive to look at what it is about the existing code that makes it not work correctly, and think about how to correct it. After all, we don&#39;t always have the luxury of throwing it away and starting again. I mean, the changes here are pretty obvious, e.g. if you want <code>+</code> between the numbers, don&#39;t put a space between them. If you can&#39;t even work out that that needs to be changed, you&#39;re not going to be able to get very far."},{"owner":{"account_id":5299243,"reputation":1314,"user_id":4229454,"display_name":"zlakad"},"score":0,"creation_date":1518352488,"post_id":48731308,"comment_id":84462133,"body_markdown":"@AndyTurner, **of course**! It seems to me that we are not so different in opinions (like I said, I gave the tip, not an answer). Good luck, friend.","body":"@AndyTurner, <b>of course</b>! It seems to me that we are not so different in opinions (like I said, I gave the tip, not an answer). Good luck, friend."}],"answers":[{"tags":[],"owner":{"account_id":12923833,"reputation":29,"user_id":9345281,"accept_rate":33,"display_name":"Malv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528547317,"creation_date":1518351998,"answer_id":48731462,"question_id":48731308,"body_markdown":"Ok so after a few tries I found the correct code by myself. This is the solution.\r\n      \r\n\r\n    public class JavaProgram\r\n       {\r\n        public static void main(String args[])\r\n         {\r\n        int i, j, num;\r\n        for(i=1; i&lt;=5; i++)\r\n        {\r\n            num=1;\r\n            int sum=0;\r\n            for(j=1; j&lt;=i; j++)\r\n            {\r\n            \r\n                System.out.print(num+ &quot;&quot;);\r\n                \r\n                sum=sum+num;\r\n                if (num&lt;i) {\r\n                \tSystem.out.print(&quot;+&quot;);\r\n                }  \r\n                num++;\r\n                \r\n            }\r\n            \r\n            \tSystem.out.print(&quot;=&quot;+sum);\r\n            System.out.println();\r\n        }\r\n       }\r\n    }","title":"Numbers sum pattern java","body":"<p>Ok so after a few tries I found the correct code by myself. This is the solution.</p>\n\n<pre><code>public class JavaProgram\n   {\n    public static void main(String args[])\n     {\n    int i, j, num;\n    for(i=1; i&lt;=5; i++)\n    {\n        num=1;\n        int sum=0;\n        for(j=1; j&lt;=i; j++)\n        {\n\n            System.out.print(num+ \"\");\n\n            sum=sum+num;\n            if (num&lt;i) {\n                System.out.print(\"+\");\n            }  \n            num++;\n\n        }\n\n            System.out.print(\"=\"+sum);\n        System.out.println();\n    }\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13743737,"reputation":1,"user_id":9918090,"display_name":"Pradip chauhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528547273,"creation_date":1528546321,"answer_id":50774160,"question_id":48731308,"body_markdown":"    public class Test\r\n    {\r\n        public static void printStars(int n)\r\n        {\r\n            int i, j,temp = 0;\r\n    \r\n            for(i=0; i&lt;n; i++)\r\n            {\r\n                for(j=1; j&lt;=i; j++)\r\n                {\r\n                    System.out.print(j + &quot; &quot;);\r\n\r\n                }\r\n                temp = temp + j - 1;\r\n                if (temp&gt;1) {\r\n                    System.out.print(temp + &quot; &quot;);\r\n                }\r\n    \r\n                System.out.println();\r\n    \r\n            }\r\n        }\r\n        public static void main(String args[])\r\n        {\r\n            int n = 10;\r\n            printStars(n);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Numbers sum pattern java","body":"<pre><code>public class Test\n{\n    public static void printStars(int n)\n    {\n        int i, j,temp = 0;\n\n        for(i=0; i&lt;n; i++)\n        {\n            for(j=1; j&lt;=i; j++)\n            {\n                System.out.print(j + \" \");\n\n            }\n            temp = temp + j - 1;\n            if (temp&gt;1) {\n                System.out.print(temp + \" \");\n            }\n\n            System.out.println();\n\n        }\n    }\n    public static void main(String args[])\n    {\n        int n = 10;\n        printStars(n);\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16732896,"reputation":11,"user_id":12094804,"display_name":"Motasim Kazmi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578589866,"creation_date":1578583680,"answer_id":59667246,"question_id":48731308,"body_markdown":"This solution you&#39;ll find quite easier than other answers here :)\r\n\r\n    import java.util.Scanner;\r\n    public class Main {\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Write your code here\r\n            Scanner s = new Scanner(System.in);\r\n            int N = s.nextInt();\r\n            int sum=0;\r\n            for(int i=1;i&lt;=N;i++){\r\n                sum=0;\r\n                for(int j=1;j&lt;=i;j++){\r\n                    sum=sum+j;\r\n                    System.out.print(j);\r\n                    if(j&lt;i)\r\n                        System.out.print(&quot;+&quot;);\r\n                }System.out.println(&quot;=&quot; + sum);\r\n            }\r\n    \t}\r\n    }\r\n\r\n","title":"Numbers sum pattern java","body":"<p>This solution you'll find quite easier than other answers here :)</p>\n\n<pre><code>import java.util.Scanner;\npublic class Main {\n\n    public static void main(String[] args) {\n        // Write your code here\n        Scanner s = new Scanner(System.in);\n        int N = s.nextInt();\n        int sum=0;\n        for(int i=1;i&lt;=N;i++){\n            sum=0;\n            for(int j=1;j&lt;=i;j++){\n                sum=sum+j;\n                System.out.print(j);\n                if(j&lt;i)\n                    System.out.print(\"+\");\n            }System.out.println(\"=\" + sum);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25783400,"reputation":1,"user_id":19528677,"display_name":"Prince Lohia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657560088,"creation_date":1657560088,"answer_id":72942372,"question_id":48731308,"body_markdown":"Using While loops\r\n\r\n    public static void main(String[] args) {\r\n\r\n            Scanner sc = new Scanner (System.in);\r\n\r\n            int n = sc.nextInt();\r\n\r\n            int row = 1;\r\n\r\n            while(n&gt;=row){\r\n\r\n                int col = 1;\r\n                int sum = 0;\r\n\r\n                while (col&lt;=row){\r\n\r\n                    sum += col;\r\n\r\n                    System.out.print(col);\r\n\r\n                    if(row&gt;col)\r\n                        System.out.print(&quot; + &quot;);\r\n\r\n                    col++;\r\n\r\n                    }\r\n                System.out.println(&quot; = &quot; + sum);\r\n                row++;\r\n\r\n                }\r\n\r\n\r\n    }","title":"Numbers sum pattern java","body":"<p>Using While loops</p>\n<pre><code>public static void main(String[] args) {\n\n        Scanner sc = new Scanner (System.in);\n\n        int n = sc.nextInt();\n\n        int row = 1;\n\n        while(n&gt;=row){\n\n            int col = 1;\n            int sum = 0;\n\n            while (col&lt;=row){\n\n                sum += col;\n\n                System.out.print(col);\n\n                if(row&gt;col)\n                    System.out.print(&quot; + &quot;);\n\n                col++;\n\n                }\n            System.out.println(&quot; = &quot; + sum);\n            row++;\n\n            }\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":12923833,"reputation":29,"user_id":9345281,"accept_rate":33,"display_name":"Malv"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4693,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":4,"score":-1,"last_activity_date":1657560088,"creation_date":1518350847,"question_id":48731308,"body_markdown":"Hello I need to create this pattern in java \r\n\r\n![pattern][1]\r\n\r\nIm new to this and Im trying different codes but cant find out how to do it.Ive tried this one \r\n\r\n&lt;!-- begin snippet: js hide: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n     public class JavaProgram\r\n     {\r\n     public static void main(String args[])\r\n      {\r\n        int i, j, num;\r\n        for(i=1; i&lt;=5; i++)\r\n        {\r\n            num=1;\r\n            for(j=1; j&lt;=i; j++)\r\n            {\r\n                System.out.print(num+ &quot; &quot;);\r\n                num++;\r\n            }\r\n            System.out.println();\r\n        }\r\n    }}\r\n\t\r\n\t\r\n&lt;!-- end snippet --&gt;\r\n\r\nBut the result of this one is \r\n\r\n![this][2]\r\n\r\nAny help?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zvrQP.png\r\n  [2]: https://i.stack.imgur.com/kJTsu.png","title":"Numbers sum pattern java","body":"<p>Hello I need to create this pattern in java </p>\n\n<p><img src=\"https://i.stack.imgur.com/zvrQP.png\" alt=\"pattern\"></p>\n\n<p>Im new to this and Im trying different codes but cant find out how to do it.Ive tried this one </p>\n\n<pre class=\"lang-java prettyprint-override\"><code> public class JavaProgram\n {\n public static void main(String args[])\n  {\n    int i, j, num;\n    for(i=1; i&lt;=5; i++)\n    {\n        num=1;\n        for(j=1; j&lt;=i; j++)\n        {\n            System.out.print(num+ \" \");\n            num++;\n        }\n        System.out.println();\n    }\n}}\n</code></pre>\n\n<p>But the result of this one is </p>\n\n<p><img src=\"https://i.stack.imgur.com/kJTsu.png\" alt=\"this\"></p>\n\n<p>Any help?</p>\n"},{"tags":["java","spring","spring-boot","openfeign","backblaze"],"answers":[{"tags":[],"owner":{"account_id":15851,"reputation":4264,"user_id":33905,"accept_rate":75,"display_name":"metadaddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657559596,"creation_date":1653548119,"answer_id":72387905,"question_id":72383360,"body_markdown":"**From discussion in the comments**\r\n\r\nOpenFeign doesn&#39;t let you set the `Content-Type` header directly, so you have to specify:\r\n\r\n    @PostMapping(consumes = &quot;b2/x-auto&quot;, produces = &quot;application/json&quot;)\r\n\r\n**Original Answer:**\r\n\r\nIn the code you posted,\r\n\r\n    @RequestHeader(&quot;Content/Type&quot;)      String contentType,\r\n\r\nshould be\r\n\r\n    @RequestHeader(&quot;Content-Type&quot;)      String contentType,","title":"Uploading a file using the Backblaze B2 API with OpenFeign","body":"<p><strong>From discussion in the comments</strong></p>\n<p>OpenFeign doesn't let you set the <code>Content-Type</code> header directly, so you have to specify:</p>\n<pre><code>@PostMapping(consumes = &quot;b2/x-auto&quot;, produces = &quot;application/json&quot;)\n</code></pre>\n<p><strong>Original Answer:</strong></p>\n<p>In the code you posted,</p>\n<pre><code>@RequestHeader(&quot;Content/Type&quot;)      String contentType,\n</code></pre>\n<p>should be</p>\n<pre><code>@RequestHeader(&quot;Content-Type&quot;)      String contentType,\n</code></pre>\n"}],"owner":{"account_id":25390130,"reputation":13,"user_id":19201263,"display_name":"user19201263"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72387905,"answer_count":1,"score":1,"last_activity_date":1657559832,"creation_date":1653507859,"question_id":72383360,"body_markdown":"I&#39;m using Spring Boot with OpenFeign and I&#39;m trying to upload a file to Backblaze B2.\r\n\r\nI already have `b2_authorize_account` and the `b2_get_upload_url` endpoints working. Now I&#39;m trying to send a request to `b2_upload_file`.\r\n\r\nThe code I have for the Feign client request is\r\n\r\n    @PostMapping()\r\n    String b2UploadFile(URI uri,\r\n                        @RequestHeader(&quot;Authorization&quot;)     String uploadUrlToken,\r\n                        @RequestHeader(&quot;X-Bz-File-Name&quot;)    String fileName,\r\n                        @RequestHeader(&quot;Content/Type&quot;)      String contentType,\r\n                        @RequestHeader(&quot;X-Bz-Content-Sha1&quot;) String contentSha1,\r\n                        byte[] file);\r\n\r\nWhen I execute the code I get a `java.net.SocketException: Connection reset` exception. I think that the server is closing the connection.\r\n\r\nI tested the endpoint using Postman and it works, I was able to upload my file.\r\n\r\nI applied the same headers and values, the difference between Postman and OpenFeign is that in Postman I clicked Body -&gt; binary -&gt; upload file where as in OpenFeign I am passing the file using `byte[]` without any annotations.\r\n\r\nIn the API documentation it also says I need the `Content-Length` header, however when I include it in OpenFeign I am getting a number format exception. I was unable to resolve it but based on what I have read OpenFeign should do this automatically. I also did not include the header in Postman and it still works as Postman also includes it by default so I don&#39;t think that&#39;s the issue. \r\n\r\nI have tried annotating the file with `@RequestBody byte[] file`, making it a multipart file, using the file type, using string type, using outputstream and inputstream. \r\n\r\nThe API says:\r\n\r\n&gt; There are no JSON parameters allowed. The file to be uploaded is the message body and is not encoded in any way. It is not URL encoded. It is not MIME encoded.\r\n\r\n","title":"Uploading a file using the Backblaze B2 API with OpenFeign","body":"<p>I'm using Spring Boot with OpenFeign and I'm trying to upload a file to Backblaze B2.</p>\n<p>I already have <code>b2_authorize_account</code> and the <code>b2_get_upload_url</code> endpoints working. Now I'm trying to send a request to <code>b2_upload_file</code>.</p>\n<p>The code I have for the Feign client request is</p>\n<pre><code>@PostMapping()\nString b2UploadFile(URI uri,\n                    @RequestHeader(&quot;Authorization&quot;)     String uploadUrlToken,\n                    @RequestHeader(&quot;X-Bz-File-Name&quot;)    String fileName,\n                    @RequestHeader(&quot;Content/Type&quot;)      String contentType,\n                    @RequestHeader(&quot;X-Bz-Content-Sha1&quot;) String contentSha1,\n                    byte[] file);\n</code></pre>\n<p>When I execute the code I get a <code>java.net.SocketException: Connection reset</code> exception. I think that the server is closing the connection.</p>\n<p>I tested the endpoint using Postman and it works, I was able to upload my file.</p>\n<p>I applied the same headers and values, the difference between Postman and OpenFeign is that in Postman I clicked Body -&gt; binary -&gt; upload file where as in OpenFeign I am passing the file using <code>byte[]</code> without any annotations.</p>\n<p>In the API documentation it also says I need the <code>Content-Length</code> header, however when I include it in OpenFeign I am getting a number format exception. I was unable to resolve it but based on what I have read OpenFeign should do this automatically. I also did not include the header in Postman and it still works as Postman also includes it by default so I don't think that's the issue.</p>\n<p>I have tried annotating the file with <code>@RequestBody byte[] file</code>, making it a multipart file, using the file type, using string type, using outputstream and inputstream.</p>\n<p>The API says:</p>\n<blockquote>\n<p>There are no JSON parameters allowed. The file to be uploaded is the message body and is not encoded in any way. It is not URL encoded. It is not MIME encoded.</p>\n</blockquote>\n"},{"tags":["java","spring-boot","ehcache-2"],"answers":[{"tags":[],"owner":{"account_id":2229513,"reputation":5172,"user_id":1967484,"display_name":"Deadron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597286587,"creation_date":1597286587,"answer_id":63387380,"question_id":63387355,"body_markdown":"If you remove the cacheable annotation you will always get a new object.  Is there a pressing reason to cache the object in the first place? Usually constructors are cheap.  Is it possible the cache was a premature optimization?","title":"Spring Cacheable return copy of object","body":"<p>If you remove the cacheable annotation you will always get a new object.  Is there a pressing reason to cache the object in the first place? Usually constructors are cheap.  Is it possible the cache was a premature optimization?</p>\n"},{"tags":[],"owner":{"account_id":7597977,"reputation":664,"user_id":5763584,"display_name":"Thomas Turrell-Croft"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657559811,"creation_date":1657559811,"answer_id":72942316,"question_id":63387355,"body_markdown":"Do not mutate objects that are returned from the cache. \r\n\r\nInstead you should clone the object, mutate the clone and then update the cache with the new clone.\r\n\r\nYou can annotate methods that update objects in the cache with ```@CachePut```.\r\n\r\n","title":"Spring Cacheable return copy of object","body":"<p>Do not mutate objects that are returned from the cache.</p>\n<p>Instead you should clone the object, mutate the clone and then update the cache with the new clone.</p>\n<p>You can annotate methods that update objects in the cache with <code>@CachePut</code>.</p>\n"}],"owner":{"account_id":13923042,"reputation":85,"user_id":10150601,"display_name":"Max Valeev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657559811,"creation_date":1597286389,"question_id":63387355,"body_markdown":"I have a Cached method that return object of some class. My app is multithreading. When one thread get cached object and process it, another thread also can get and modify this object and first thread has a problem. \r\n\r\n    @Cacheable(value=&quot;MyCache&quot;)\r\n    Script parse(String scriptText) {\r\n        return new MyObject(scriptText);\r\n    }\r\n\r\nHow to configure it that method return a copy of cached object instead of the same object.\r\nOr how to serialize method result and deserialize when request a cached value.\r\n\r\nI am using Spring Boot with Ehcache. ","title":"Spring Cacheable return copy of object","body":"<p>I have a Cached method that return object of some class. My app is multithreading. When one thread get cached object and process it, another thread also can get and modify this object and first thread has a problem.</p>\n<pre><code>@Cacheable(value=&quot;MyCache&quot;)\nScript parse(String scriptText) {\n    return new MyObject(scriptText);\n}\n</code></pre>\n<p>How to configure it that method return a copy of cached object instead of the same object.\nOr how to serialize method result and deserialize when request a cached value.</p>\n<p>I am using Spring Boot with Ehcache.</p>\n"},{"tags":["java","spring","https","spring-webflux"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1519895038,"post_id":49045670,"comment_id":85096616,"body_markdown":"in that answer there are different answers. did you try https://stackoverflow.com/a/38829838/6565093","body":"in that answer there are different answers. did you try <a href=\"https://stackoverflow.com/a/38829838/6565093\">stackoverflow.com/a/38829838/6565093</a>"},{"owner":{"account_id":4312581,"reputation":3183,"user_id":3523298,"accept_rate":88,"display_name":"Zufar Muhamadeev"},"score":0,"creation_date":1519897135,"post_id":49045670,"comment_id":85097824,"body_markdown":"Thanks for comment @pvpkiran, I use default port 8080, and i also don&#39;t have configured security(not need secuity at this project). No `WebSecurityConfigurerAdapter` at classpath.","body":"Thanks for comment @pvpkiran, I use default port 8080, and i also don&#39;t have configured security(not need secuity at this project). No <code>WebSecurityConfigurerAdapter</code> at classpath."}],"answers":[{"tags":[],"owner":{"account_id":4312581,"reputation":3183,"user_id":3523298,"accept_rate":88,"display_name":"Zufar Muhamadeev"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1520615997,"creation_date":1520514864,"answer_id":49173990,"question_id":49045670,"body_markdown":"I found way, hope it helps somebody:\r\n\r\n    @Bean\r\n    public WebFilter httpsRedirectFilter() {\r\n        return new WebFilter() {\r\n            @Override\r\n            public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n                URI originalUri = exchange.getRequest().getURI();\r\n\r\n                //here set your condition to http-&gt;https redirect\r\n                List&lt;String&gt; forwardedValues = exchange.getRequest().getHeaders().get(&quot;x-forwarded-proto&quot;);\r\n                if (forwardedValues != null &amp;&amp; forwardedValues.contains(&quot;http&quot;)) {\r\n                    try {\r\n                        URI mutatedUri = new URI(&quot;https&quot;,\r\n                                originalUri.getUserInfo(),\r\n                                originalUri.getHost(),\r\n                                originalUri.getPort(),\r\n                                originalUri.getPath(),\r\n                                originalUri.getQuery(),\r\n                                originalUri.getFragment());\r\n                        ServerHttpResponse response = exchange.getResponse();\r\n                        response.setStatusCode(HttpStatus.MOVED_PERMANENTLY);\r\n                        response.getHeaders().setLocation(mutatedUri);\r\n                        return Mono.empty();\r\n                    } catch (URISyntaxException e) {\r\n                        throw new IllegalStateException(e.getMessage(), e);\r\n                    }\r\n                }\r\n                return chain.filter(exchange);\r\n            }\r\n        };\r\n    }","title":"Spring webflux: redirect http to https","body":"<p>I found way, hope it helps somebody:</p>\n\n<pre><code>@Bean\npublic WebFilter httpsRedirectFilter() {\n    return new WebFilter() {\n        @Override\n        public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n            URI originalUri = exchange.getRequest().getURI();\n\n            //here set your condition to http-&gt;https redirect\n            List&lt;String&gt; forwardedValues = exchange.getRequest().getHeaders().get(\"x-forwarded-proto\");\n            if (forwardedValues != null &amp;&amp; forwardedValues.contains(\"http\")) {\n                try {\n                    URI mutatedUri = new URI(\"https\",\n                            originalUri.getUserInfo(),\n                            originalUri.getHost(),\n                            originalUri.getPort(),\n                            originalUri.getPath(),\n                            originalUri.getQuery(),\n                            originalUri.getFragment());\n                    ServerHttpResponse response = exchange.getResponse();\n                    response.setStatusCode(HttpStatus.MOVED_PERMANENTLY);\n                    response.getHeaders().setLocation(mutatedUri);\n                    return Mono.empty();\n                } catch (URISyntaxException e) {\n                    throw new IllegalStateException(e.getMessage(), e);\n                }\n            }\n            return chain.filter(exchange);\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user7378863"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1540520837,"creation_date":1540520837,"answer_id":53000573,"question_id":49045670,"body_markdown":"I managed to make it work with the following. However, I doubt this is supported and it might cause issues in the future.\r\n\r\n    @Configuration\r\n    public class HttpToHttpsRedirectConfig {\r\n\r\n        @PostConstruct\r\n        public void startRedirectServer() {\r\n            NettyReactiveWebServerFactory httpNettyReactiveWebServerFactory = new NettyReactiveWebServerFactory(8080);\r\n            httpNettyReactiveWebServerFactory.getWebServer((request, response) -&gt; {\r\n                URI uri = request.getURI();\r\n                URI httpsUri;\r\n                try {\r\n                    httpsUri = new URI(&quot;https&quot;, uri.getUserInfo(), uri.getHost(), 8443, uri.getPath(), uri.getQuery(), uri.getFragment());\r\n                } catch (URISyntaxException e) {\r\n                    return Mono.error(e);\r\n                }\r\n                response.setStatusCode(HttpStatus.MOVED_PERMANENTLY);\r\n                response.getHeaders().setLocation(httpsUri);\r\n                return response.setComplete();\r\n            }).start();\r\n        }\r\n\r\n    }","title":"Spring webflux: redirect http to https","body":"<p>I managed to make it work with the following. However, I doubt this is supported and it might cause issues in the future.</p>\n\n<pre><code>@Configuration\npublic class HttpToHttpsRedirectConfig {\n\n    @PostConstruct\n    public void startRedirectServer() {\n        NettyReactiveWebServerFactory httpNettyReactiveWebServerFactory = new NettyReactiveWebServerFactory(8080);\n        httpNettyReactiveWebServerFactory.getWebServer((request, response) -&gt; {\n            URI uri = request.getURI();\n            URI httpsUri;\n            try {\n                httpsUri = new URI(\"https\", uri.getUserInfo(), uri.getHost(), 8443, uri.getPath(), uri.getQuery(), uri.getFragment());\n            } catch (URISyntaxException e) {\n                return Mono.error(e);\n            }\n            response.setStatusCode(HttpStatus.MOVED_PERMANENTLY);\n            response.getHeaders().setLocation(httpsUri);\n            return response.setComplete();\n        }).start();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":421784,"reputation":678,"user_id":800198,"display_name":"Sherwin F"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657559770,"creation_date":1657559770,"answer_id":72942312,"question_id":49045670,"body_markdown":"There is a builtin `redirectToHttps` filter that did the trick for me. It can be used as follows:\r\n\r\n    @Bean\r\n    public SecurityWebFilterChain securityWebFilterChain(final ServerHttpSecurity http) {\r\n        http\r\n            .authorizeExchange()\r\n                .anyExchange()\r\n                    .authenticated()\r\n                    .and().oauth2Login()\r\n            .redirectToHttps();\r\n\r\n        return http.build();\r\n    }\r\n\r\nDocumentation can be found [here][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/reference/reactive/exploits/http.html#webflux-http-redirect","title":"Spring webflux: redirect http to https","body":"<p>There is a builtin <code>redirectToHttps</code> filter that did the trick for me. It can be used as follows:</p>\n<pre><code>@Bean\npublic SecurityWebFilterChain securityWebFilterChain(final ServerHttpSecurity http) {\n    http\n        .authorizeExchange()\n            .anyExchange()\n                .authenticated()\n                .and().oauth2Login()\n        .redirectToHttps();\n\n    return http.build();\n}\n</code></pre>\n<p>Documentation can be found <a href=\"https://docs.spring.io/spring-security/reference/reactive/exploits/http.html#webflux-http-redirect\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":4312581,"reputation":3183,"user_id":3523298,"accept_rate":88,"display_name":"Zufar Muhamadeev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7407,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":49173990,"answer_count":3,"score":8,"last_activity_date":1657559770,"creation_date":1519893557,"question_id":49045670,"body_markdown":"How can i configure http-&gt;https redirect in spring webflux? I need all `http` request be redirected to `https`(as i understood any `http` request should have `301` http status response with change http-&gt;https). Didn&#39;t found any information about it in [documentation][1]. \r\nI found this [answer][2], but it related to tomcat. I have netty.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux\r\n  [2]: https://stackoverflow.com/questions/26655875/spring-boot-redirect-http-to-https","title":"Spring webflux: redirect http to https","body":"<p>How can i configure http->https redirect in spring webflux? I need all <code>http</code> request be redirected to <code>https</code>(as i understood any <code>http</code> request should have <code>301</code> http status response with change http->https). Didn't found any information about it in <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web-reactive.html#webflux\" rel=\"noreferrer\">documentation</a>. \nI found this <a href=\"https://stackoverflow.com/questions/26655875/spring-boot-redirect-http-to-https\">answer</a>, but it related to tomcat. I have netty.</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"score":0,"creation_date":1438253961,"post_id":31704565,"comment_id":51380248,"body_markdown":"What problem are you trying to solve?","body":"What problem are you trying to solve?"},{"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"score":0,"creation_date":1438254537,"post_id":31704565,"comment_id":51380617,"body_markdown":"@Axel : I need to create a download servlet to enable very large excel file downloads. Ideally, the download servlet should not need to store any temporary files due to various reasons (security, disk space, cluster etc.)","body":"@Axel : I need to create a download servlet to enable very large excel file downloads. Ideally, the download servlet should not need to store any temporary files due to various reasons (security, disk space, cluster etc.)"},{"owner":{"account_id":339226,"reputation":1661,"user_id":668572,"display_name":"Sedat Polat"},"score":0,"creation_date":1444375434,"post_id":31704565,"comment_id":53886362,"body_markdown":"@MRalwasser, you can delete temp files with calling SXSSFWorkbook.dispose();.","body":"@MRalwasser, you can delete temp files with calling SXSSFWorkbook.dispose();."}],"answers":[{"tags":[],"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1438185833,"creation_date":1438185833,"answer_id":31705634,"question_id":31704565,"body_markdown":"No\r\n\r\nIn order to generate a valid Excel `.xlsx` file, there are various bits of the file which need to agree with each other. These references, links, ids etc need to be updated by Apache POI when writing the file out\r\n\r\nYou therefore have two options:\r\n\r\n * XSSF - No temporary files, everything very easy to work with, everything kept in memory\r\n * SXSSF - Various restrictions, large parts streamed into temporary files, small bits in memory\r\n\r\nIf you don&#39;t want temp files, buy some more memory and use XSSF!\r\n\r\nAlso, don&#39;t forget that you can control where POI places the temporary files, if the default doesn&#39;t work well for you","title":"Apache POI: Is it possible to use SXSSF without temporary files?","body":"<p>No</p>\n\n<p>In order to generate a valid Excel <code>.xlsx</code> file, there are various bits of the file which need to agree with each other. These references, links, ids etc need to be updated by Apache POI when writing the file out</p>\n\n<p>You therefore have two options:</p>\n\n<ul>\n<li>XSSF - No temporary files, everything very easy to work with, everything kept in memory</li>\n<li>SXSSF - Various restrictions, large parts streamed into temporary files, small bits in memory</li>\n</ul>\n\n<p>If you don't want temp files, buy some more memory and use XSSF!</p>\n\n<p>Also, don't forget that you can control where POI places the temporary files, if the default doesn't work well for you</p>\n"},{"tags":[],"owner":{"account_id":14099234,"reputation":11,"user_id":10185005,"display_name":"Somanath Behera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1651205765,"creation_date":1651124143,"answer_id":72038484,"question_id":31704565,"body_markdown":"Yes we can stop the temp file generation during excel file generation. Either you have to zip the temp file or dispose the temp file. But dispose is recommended as the file will not be created again if you call the dispose method.\r\n\r\nCode Snippet \r\n\r\n    SXSSFWorkbook wb = new \r\n    SXSSFWorkbook(100);\r\n\r\n    // write your code.\r\n\r\n    wb.dispose();  \r\n    // This method will help to stop the temp file generation.","title":"Apache POI: Is it possible to use SXSSF without temporary files?","body":"<p>Yes we can stop the temp file generation during excel file generation. Either you have to zip the temp file or dispose the temp file. But dispose is recommended as the file will not be created again if you call the dispose method.</p>\n<p>Code Snippet</p>\n<pre><code>SXSSFWorkbook wb = new \nSXSSFWorkbook(100);\n\n// write your code.\n\nwb.dispose();  \n// This method will help to stop the temp file generation.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14099234,"reputation":11,"user_id":10185005,"display_name":"Somanath Behera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651124543,"creation_date":1651124543,"answer_id":72038532,"question_id":31704565,"body_markdown":"You can also compress the file\r\n\r\n    wb.setCompressTempFiles(true);\r\nIt will make a zip file of the temp file. But dispose is recommended.","title":"Apache POI: Is it possible to use SXSSF without temporary files?","body":"<p>You can also compress the file</p>\n<pre><code>wb.setCompressTempFiles(true);\n</code></pre>\n<p>It will make a zip file of the temp file. But dispose is recommended.</p>\n"},{"tags":[],"owner":{"account_id":964210,"reputation":1018,"user_id":987959,"display_name":"PJ Fanning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657558941,"creation_date":1657558941,"answer_id":72942150,"question_id":31704565,"body_markdown":"POI 5.2.+ has DeferredSXSSFWorkbook which uses fewer temp files. See https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/streaming/DeferredGeneration.java","title":"Apache POI: Is it possible to use SXSSF without temporary files?","body":"<p>POI 5.2.+ has DeferredSXSSFWorkbook which uses fewer temp files. See <a href=\"https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/streaming/DeferredGeneration.java\" rel=\"nofollow noreferrer\">https://svn.apache.org/repos/asf/poi/trunk/poi-examples/src/main/java/org/apache/poi/examples/xssf/streaming/DeferredGeneration.java</a></p>\n"}],"owner":{"account_id":127164,"reputation":15713,"user_id":324152,"accept_rate":63,"display_name":"MRalwasser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3819,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":4,"score":5,"last_activity_date":1657558941,"creation_date":1438183065,"question_id":31704565,"body_markdown":"I&#39;d like to use `SXSSF` (Streaming Usermodel API) from **Apache POI**.&lt;br&gt;\r\nWhat I don&#39;t like is that it uses temporary files.&lt;br&gt;\r\n\r\n**Question:**&lt;br&gt;&lt;br&gt;\r\nIs it possible in Apache POI to flush directly to the output stream **without the use of temporary files**?","title":"Apache POI: Is it possible to use SXSSF without temporary files?","body":"<p>I'd like to use <code>SXSSF</code> (Streaming Usermodel API) from <strong>Apache POI</strong>.<br>\nWhat I don't like is that it uses temporary files.<br></p>\n\n<p><strong>Question:</strong><br><br>\nIs it possible in Apache POI to flush directly to the output stream <strong>without the use of temporary files</strong>?</p>\n"},{"tags":["java","mysql","create-table"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1657544704,"post_id":72939050,"comment_id":128828470,"body_markdown":"`long` is not a mysql data type. The link in your [previous question](https://stackoverflow.com/questions/72936111/an-error-in-sql-syntax-creating-a-table-mysql) is still valid ;)","body":"<code>long</code> is not a mysql data type. The link in your <a href=\"https://stackoverflow.com/questions/72936111/an-error-in-sql-syntax-creating-a-table-mysql\">previous question</a> is still valid ;)"},{"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"score":0,"creation_date":1657545168,"post_id":72939050,"comment_id":128828641,"body_markdown":"For starters, you shouldn&#39;t drop and create a table.  If the structure is changing, just use `Alter Table`. If you just want to get rid of old data then `truncate table`.  `Long` isn&#39;t datatype for MySql, use `BigInt`","body":"For starters, you shouldn&#39;t drop and create a table.  If the structure is changing, just use <code>Alter Table</code>. If you just want to get rid of old data then <code>truncate table</code>.  <code>Long</code> isn&#39;t datatype for MySql, use <code>BigInt</code>"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":1,"creation_date":1657545465,"post_id":72939050,"comment_id":128828766,"body_markdown":"Looks like executeUpdate does not support multiqueries. Perform DROP and CREATE separately. Also replace LONG with BIGINT.","body":"Looks like executeUpdate does not support multiqueries. Perform DROP and CREATE separately. Also replace LONG with BIGINT."},{"owner":{"account_id":8369136,"reputation":3472,"user_id":6284785,"accept_rate":50,"display_name":"Anatoly"},"score":0,"creation_date":1657546202,"post_id":72939050,"comment_id":128829121,"body_markdown":"Yes, it works separately, thanks!","body":"Yes, it works separately, thanks!"}],"answers":[{"tags":[],"owner":{"account_id":18123440,"reputation":61,"user_id":13179161,"display_name":"Pratik Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657549892,"creation_date":1657549892,"answer_id":72940218,"question_id":72939050,"body_markdown":"The following may be the reason:\r\n\r\n 1. long is not a valid MySQL data type.\r\n 2. variable sqlCommand contains multiple statements. Each SQL statement should be terminated with a semicolon symbol. Adding a semicolon at the end of CREATE statement can solve your issue.","title":"If table exists drop table then create it - syntax in line Create","body":"<p>The following may be the reason:</p>\n<ol>\n<li>long is not a valid MySQL data type.</li>\n<li>variable sqlCommand contains multiple statements. Each SQL statement should be terminated with a semicolon symbol. Adding a semicolon at the end of CREATE statement can solve your issue.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657552230,"creation_date":1657552230,"answer_id":72940741,"question_id":72939050,"body_markdown":"By default the JDBC driver does not support multiple SQL statements in one execute call. There&#39;s a connect string option to enable it:\r\n\r\nhttps://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html#cj-conn-prop_allowMultiQueries\r\n\r\n&gt; - `allowMultiQueries`\r\n&gt; \r\n&gt;   Allow the use of &#39;;&#39; to delimit multiple queries during one statement.\r\n\r\nBut there&#39;s no good reason to use multi-queries. They make your code more complex, not simpler. Allowing multi-queries creates the opportunity for a type of SQL injection vulnerabilities that are not possible otherwise. See https://xkcd.com/327/\r\n\r\nJust run one statement per call to `executeUpdate()`.","title":"If table exists drop table then create it - syntax in line Create","body":"<p>By default the JDBC driver does not support multiple SQL statements in one execute call. There's a connect string option to enable it:</p>\n<p><a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html#cj-conn-prop_allowMultiQueries\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-connp-props-security.html#cj-conn-prop_allowMultiQueries</a></p>\n<blockquote>\n<ul>\n<li><p><code>allowMultiQueries</code></p>\n<p>Allow the use of ';' to delimit multiple queries during one statement.</p>\n</li>\n</ul>\n</blockquote>\n<p>But there's no good reason to use multi-queries. They make your code more complex, not simpler. Allowing multi-queries creates the opportunity for a type of SQL injection vulnerabilities that are not possible otherwise. See <a href=\"https://xkcd.com/327/\" rel=\"nofollow noreferrer\">https://xkcd.com/327/</a></p>\n<p>Just run one statement per call to <code>executeUpdate()</code>.</p>\n"}],"owner":{"account_id":8369136,"reputation":3472,"user_id":6284785,"accept_rate":50,"display_name":"Anatoly"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657558763,"creation_date":1657544582,"question_id":72939050,"body_markdown":"I just want to create a table, but if it exists it needs to be dropped and re-created.\r\n\r\n**I use MySQL 8.0.29** \r\n\r\nError:  \r\n\r\n&gt; You have an error in your SQL syntax; check the manual that\r\n&gt; corresponds to your MySQL server version for the right syntax to use\r\n&gt; near &#39;CREATE TABLE `users` (Id long, name varchar(100), lastName\r\n&gt; varchar(100), age tin&#39; at line 1\r\n\r\n\r\nCode:\r\n```\r\npublic static void main(String[] args) throws SQLException {\r\n     \r\n    try (Connection connection = Util.getConnection()) {\r\n\r\n        String sqlCommand = &quot;DROP TABLE IF EXISTS `users`;&quot; +\r\n                &quot;CREATE TABLE `users` (Id long, name varchar(100), lastName varchar(100), age tinyint)&quot;;\r\n        Statement statement = connection.createStatement();\r\n        statement.executeUpdate(sqlCommand);\r\n        System.out.println(&quot;table created&quot;);\r\n\r\n        int rows = statement.executeUpdate(&quot;INSERT users(Id,name,lastName,age) VALUES (101,&#39;Mike&#39;,&#39;Manson&#39;,31)&quot;);            \r\n    }\r\n}\r\n```","title":"If table exists drop table then create it - syntax in line Create","body":"<p>I just want to create a table, but if it exists it needs to be dropped and re-created.</p>\n<p><strong>I use MySQL 8.0.29</strong></p>\n<p>Error:</p>\n<blockquote>\n<p>You have an error in your SQL syntax; check the manual that\ncorresponds to your MySQL server version for the right syntax to use\nnear 'CREATE TABLE <code>users</code> (Id long, name varchar(100), lastName\nvarchar(100), age tin' at line 1</p>\n</blockquote>\n<p>Code:</p>\n<pre><code>public static void main(String[] args) throws SQLException {\n     \n    try (Connection connection = Util.getConnection()) {\n\n        String sqlCommand = &quot;DROP TABLE IF EXISTS `users`;&quot; +\n                &quot;CREATE TABLE `users` (Id long, name varchar(100), lastName varchar(100), age tinyint)&quot;;\n        Statement statement = connection.createStatement();\n        statement.executeUpdate(sqlCommand);\n        System.out.println(&quot;table created&quot;);\n\n        int rows = statement.executeUpdate(&quot;INSERT users(Id,name,lastName,age) VALUES (101,'Mike','Manson',31)&quot;);            \n    }\n}\n</code></pre>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":25492487,"reputation":25,"user_id":19287033,"display_name":"adamn2"},"score":0,"creation_date":1657552330,"post_id":72940557,"comment_id":128831764,"body_markdown":"I tried the same thing but somehow it doesn&#39;t match that $ and it is still present in there","body":"I tried the same thing but somehow it doesn&#39;t match that $ and it is still present in there"},{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":1,"creation_date":1657552384,"post_id":72940557,"comment_id":128831791,"body_markdown":"Ok you can try: `amount.replaceAll(&quot;^[$0,]+&quot;, &quot;&quot;);`","body":"Ok you can try: <code>amount.replaceAll(&quot;^[$0,]+&quot;, &quot;&quot;);</code>"},{"owner":{"account_id":25492487,"reputation":25,"user_id":19287033,"display_name":"adamn2"},"score":1,"creation_date":1657552581,"post_id":72940557,"comment_id":128831891,"body_markdown":"My bad, I didn&#39;t change it to replaceAll, now I am able to replace the $ character, thanks :)","body":"My bad, I didn&#39;t change it to replaceAll, now I am able to replace the $ character, thanks :)"},{"owner":{"account_id":25492487,"reputation":25,"user_id":19287033,"display_name":"adamn2"},"score":0,"creation_date":1657552851,"post_id":72940557,"comment_id":128832019,"body_markdown":"Similary, is there any way to handle any other unwanted characters present and replace them??","body":"Similary, is there any way to handle any other unwanted characters present and replace them??"},{"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1657554449,"post_id":72940557,"comment_id":128832680,"body_markdown":"ok in that case: `amount.replaceAll(&quot;^(?:0|[^\\\\d.])+&quot;, &quot;&quot;);`","body":"ok in that case: <code>amount.replaceAll(&quot;^(?:0|[^\\\\d.])+&quot;, &quot;&quot;);</code>"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657558684,"creation_date":1657551963,"answer_id":72940681,"question_id":72940557,"body_markdown":"Given the following string.\r\n```\r\nString str = &quot;000,000,000ab$k0b#wef$12322920292029202920456.78&quot;;\r\n```\r\n- first, get rid of the undesired leading characters including any $.\r\n- then using a repeating regex, generate the proper commas. This could also be done by modifying the &#39;,&#39; with the locale symbol for numbers.\r\n- then prepend a `$` to the result.\r\n```\r\nstr = str.replaceAll(&quot;^([0$\\\\D]+)&quot;,&quot;&quot;);\r\nSystem.out.println(str);\r\nString result = &quot;&quot;;\r\nwhile (!str.equals(result)) {\r\n\t result = str;\r\n     str = str.replaceAll(&quot;(\\\\d)(\\\\d\\\\d\\\\d)(?!\\\\d)&quot;, &quot;$1,$2&quot;);\r\n}\r\nSystem.out.println(&quot;$&quot; + result);\r\n```\r\nprints\r\n```\r\n12322920292029202920456.78\r\n$12,322,920,292,029,202,920,456.78\r\n\r\n","title":"Replace special and optional characters in a string using regex","body":"<p>Given the following string.</p>\n<pre><code>String str = &quot;000,000,000ab$k0b#wef$12322920292029202920456.78&quot;;\n</code></pre>\n<ul>\n<li>first, get rid of the undesired leading characters including any $.</li>\n<li>then using a repeating regex, generate the proper commas. This could also be done by modifying the ',' with the locale symbol for numbers.</li>\n<li>then prepend a <code>$</code> to the result.</li>\n</ul>\n<pre><code>str = str.replaceAll(&quot;^([0$\\\\D]+)&quot;,&quot;&quot;);\nSystem.out.println(str);\nString result = &quot;&quot;;\nwhile (!str.equals(result)) {\n     result = str;\n     str = str.replaceAll(&quot;(\\\\d)(\\\\d\\\\d\\\\d)(?!\\\\d)&quot;, &quot;$1,$2&quot;);\n}\nSystem.out.println(&quot;$&quot; + result);\n</code></pre>\n<p>prints</p>\n<pre><code>12322920292029202920456.78\n$12,322,920,292,029,202,920,456.78\n\n</code></pre>\n"}],"owner":{"account_id":25492487,"reputation":25,"user_id":19287033,"display_name":"adamn2"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72940681,"answer_count":1,"score":0,"last_activity_date":1657558684,"creation_date":1657551465,"question_id":72940557,"body_markdown":"I&#39;m learning regex and trying to work on a small task.\r\n\r\nI am taking an input amount as string and converting it into dollar format.\r\n\r\nThe input string looks like this\r\n```\r\n123456.78\r\n```\r\nAnd the output string looks like this\r\n```\r\n$123,456.78\r\n```\r\n\r\nUsing regex, I have tried to avoid leading zeros and commas that may be present in input amount using below regex. For example if input is like \r\n```\r\n000,000123456.78\r\n```\r\n```\r\nString amount = amount.replaceFirst(&quot;^[0,]+(?!$)&quot;, &quot;&quot;);\r\n```\r\nAnd I&#39;m producing the output dollar format with \r\n```\r\nNumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;US&quot;)).format(Float.parseFloat(amount));\r\n```\r\n\r\n**I&#39;m not able to replace any other characters that may be present apart from the leading zeros. For example, if &#39;$&#39; is already present in the input I am facing an error with the conversion. I&#39;m not sure how to handle this.**","title":"Replace special and optional characters in a string using regex","body":"<p>I'm learning regex and trying to work on a small task.</p>\n<p>I am taking an input amount as string and converting it into dollar format.</p>\n<p>The input string looks like this</p>\n<pre><code>123456.78\n</code></pre>\n<p>And the output string looks like this</p>\n<pre><code>$123,456.78\n</code></pre>\n<p>Using regex, I have tried to avoid leading zeros and commas that may be present in input amount using below regex. For example if input is like</p>\n<pre><code>000,000123456.78\n</code></pre>\n<pre><code>String amount = amount.replaceFirst(&quot;^[0,]+(?!$)&quot;, &quot;&quot;);\n</code></pre>\n<p>And I'm producing the output dollar format with</p>\n<pre><code>NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;US&quot;)).format(Float.parseFloat(amount));\n</code></pre>\n<p><strong>I'm not able to replace any other characters that may be present apart from the leading zeros. For example, if '$' is already present in the input I am facing an error with the conversion. I'm not sure how to handle this.</strong></p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"score":0,"creation_date":1657503020,"post_id":72932904,"comment_id":128817814,"body_markdown":"`userScores.get(j)` this will always be the `etUserHole1` `EditText` field since you `int j = 0` two lines before that.  Similar for `coursePars.get(j)`.  Use the `v` for the score.  For the par it will require a bit more logic.","body":"<code>userScores.get(j)</code> this will always be the <code>etUserHole1</code> <code>EditText</code> field since you <code>int j = 0</code> two lines before that.  Similar for <code>coursePars.get(j)</code>.  Use the <code>v</code> for the score.  For the par it will require a bit more logic."},{"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"score":0,"creation_date":1657503138,"post_id":72932904,"comment_id":128817828,"body_markdown":"@Gardener I can’t believe I didn’t catch that… I’ll give that a try thank you!","body":"@Gardener I can’t believe I didn’t catch that… I’ll give that a try thank you!"},{"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"score":0,"creation_date":1657508369,"post_id":72932904,"comment_id":128818379,"body_markdown":"@Gardener would you mind elaborating more if possible?","body":"@Gardener would you mind elaborating more if possible?"}],"answers":[{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657558659,"creation_date":1657558659,"answer_id":72942088,"question_id":72932904,"body_markdown":"This is a partial answer intended to give you some ideas to finalize your approach.\r\n\r\nThis line in the `onEditorAction` callback:\r\n\r\n    userSumOfHoles += Integer.parseInt(userScores.get(j).getText().toString()) - coursePars.get(j);\r\n\r\ncan be replaced with:\r\n\r\n    userSumOfHoles += Integer.parseInt(v.getText().toString()) - holeParRating;\r\n\r\nIt is not necessary to index into `userScores` for the `EditText`/`TextView` since you are provided it in the callback : `v`.  Just to be clear: when the callback is invoked the system provides the original `EditText`/`TextView` instance for convenience.  So in theory you could use only one listener for all your processing.\r\n\r\nNow the more complex part is how to &quot;lookup&quot; the par rating for the hole.  It **may** be possible (I have not tested) to use the `TextView` as a key to find the `indexOf` of the view in the `userScores` list and use that same index to get the par in the `coursePars` list - since you populated them as correlating.\r\n\r\n**may** : this assumes the equals method of a `TextView` is adequate for lookup in this scenario.\r\n\r\n\r\n    holeParRating = coursePars.get(userScores.indexOf(v));\r\n\r\nAnd so the entire listener code:\r\n\r\n    int userScoresIdx = userScores.indexOf(v);\r\n    if (userScoresIdx &gt;= 0) {\r\n        // log info for userScoresIdx to verify it properly finds proper index\r\n        holeParRating = coursePars.get(userScoresIdx);\r\n        userSumOfHoles += Integer.parseInt(v.getText().toString()) - holeParRating;\r\n        tvCurrentScoreUser.setText(String.valueOf(userSumOfHoles));\r\n    } else {\r\n        // log an error for debugging\r\n    }\r\n\r\nAnd eliminate the `j` variable since it was not used correctly.\r\n\r\nI&#39;m also assuming that `actionId` is not relevant to your processing since it was not mentioned as an issue.\r\n\r\n","title":"displaying live result from edit text to text view","body":"<p>This is a partial answer intended to give you some ideas to finalize your approach.</p>\n<p>This line in the <code>onEditorAction</code> callback:</p>\n<pre><code>userSumOfHoles += Integer.parseInt(userScores.get(j).getText().toString()) - coursePars.get(j);\n</code></pre>\n<p>can be replaced with:</p>\n<pre><code>userSumOfHoles += Integer.parseInt(v.getText().toString()) - holeParRating;\n</code></pre>\n<p>It is not necessary to index into <code>userScores</code> for the <code>EditText</code>/<code>TextView</code> since you are provided it in the callback : <code>v</code>.  Just to be clear: when the callback is invoked the system provides the original <code>EditText</code>/<code>TextView</code> instance for convenience.  So in theory you could use only one listener for all your processing.</p>\n<p>Now the more complex part is how to &quot;lookup&quot; the par rating for the hole.  It <strong>may</strong> be possible (I have not tested) to use the <code>TextView</code> as a key to find the <code>indexOf</code> of the view in the <code>userScores</code> list and use that same index to get the par in the <code>coursePars</code> list - since you populated them as correlating.</p>\n<p><strong>may</strong> : this assumes the equals method of a <code>TextView</code> is adequate for lookup in this scenario.</p>\n<pre><code>holeParRating = coursePars.get(userScores.indexOf(v));\n</code></pre>\n<p>And so the entire listener code:</p>\n<pre><code>int userScoresIdx = userScores.indexOf(v);\nif (userScoresIdx &gt;= 0) {\n    // log info for userScoresIdx to verify it properly finds proper index\n    holeParRating = coursePars.get(userScoresIdx);\n    userSumOfHoles += Integer.parseInt(v.getText().toString()) - holeParRating;\n    tvCurrentScoreUser.setText(String.valueOf(userSumOfHoles));\n} else {\n    // log an error for debugging\n}\n</code></pre>\n<p>And eliminate the <code>j</code> variable since it was not used correctly.</p>\n<p>I'm also assuming that <code>actionId</code> is not relevant to your processing since it was not mentioned as an issue.</p>\n"}],"owner":{"account_id":24919598,"reputation":79,"user_id":18788036,"display_name":"charbs29"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72942088,"answer_count":1,"score":0,"last_activity_date":1657558659,"creation_date":1657502414,"question_id":72932904,"body_markdown":"I am creating a small golf app that includes a score card. I am facing an issue displaying the user&#39;s live score in a text view. The live score consists of their score for the hole - the par. I am using `editText.setOnEditorActionListener` in a for loop with the goal that it will keep doing the subtraction until all the scores are entered. \r\n\r\nSo far, it partially works after one score is entered. By partially, I mean it will only display the user&#39;s first entered score, and if I add a score on another hole, it will just add the first score again and disregard any other input from the user. I was hoping to try with two-way data binding, but that failed. If there isn’t enough context, I’ll gladly post what ever is missing or gladly accept guidance towards proper data binding implementation. \r\n\r\nHere is the code \r\n\r\n        List&lt;EditText&gt; userScores = new ArrayList&lt;&gt;();\r\n        userScores.add(etUserHole1);\r\n        userScores.add(etUserHole2);\r\n        userScores.add(etUserHole3);\r\n        userScores.add(etUserHole4);\r\n        userScores.add(etUserHole5);\r\n        userScores.add(etUserHole6);\r\n        userScores.add(etUserHole7);\r\n        userScores.add(etUserHole8);\r\n        userScores.add(etUserHole9);\r\n\r\n        List&lt;Integer&gt; coursePars = new ArrayList&lt;&gt;();\r\n        coursePars.add(Integer.parseInt(tvPar1.getText().toString()));\r\n        coursePars.add(Integer.parseInt(tvPar2.getText().toString()));\r\n        coursePars.add(Integer.parseInt(tvPar3.getText().toString()));\r\n        coursePars.add(Integer.parseInt(tvPar4.getText().toString()));\r\n        coursePars.add(Integer.parseInt(tvPar5.getText().toString()));\r\n        coursePars.add(Integer.parseInt(tvPar6.getText().toString()));\r\n        coursePars.add(Integer.parseInt(tvPar7.getText().toString()));\r\n        coursePars.add(Integer.parseInt(tvPar8.getText().toString()));\r\n        coursePars.add(Integer.parseInt(tvPar9.getText().toString()));\r\n\r\n        for (int i = 0; i &lt; userScores.size(); i++) {\r\n            userScores.get(i).setOnEditorActionListener(new TextView.OnEditorActionListener() {\r\n                @Override\r\n                public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\r\n                    int j = 0;\r\n                    if (actionId == j) {\r\n                        userSumOfHoles += Integer.parseInt(userScores.get(j).getText().toString()) - coursePars.get(j);\r\n                        tvCurrentScoreUser.setText(String.valueOf(userSumOfHoles));\r\n                        j++;\r\n                        return true;\r\n                    }\r\n                    else {\r\n                        return false;\r\n                    }\r\n                }\r\n            });\r\n        }","title":"displaying live result from edit text to text view","body":"<p>I am creating a small golf app that includes a score card. I am facing an issue displaying the user's live score in a text view. The live score consists of their score for the hole - the par. I am using <code>editText.setOnEditorActionListener</code> in a for loop with the goal that it will keep doing the subtraction until all the scores are entered.</p>\n<p>So far, it partially works after one score is entered. By partially, I mean it will only display the user's first entered score, and if I add a score on another hole, it will just add the first score again and disregard any other input from the user. I was hoping to try with two-way data binding, but that failed. If there isn’t enough context, I’ll gladly post what ever is missing or gladly accept guidance towards proper data binding implementation.</p>\n<p>Here is the code</p>\n<pre><code>    List&lt;EditText&gt; userScores = new ArrayList&lt;&gt;();\n    userScores.add(etUserHole1);\n    userScores.add(etUserHole2);\n    userScores.add(etUserHole3);\n    userScores.add(etUserHole4);\n    userScores.add(etUserHole5);\n    userScores.add(etUserHole6);\n    userScores.add(etUserHole7);\n    userScores.add(etUserHole8);\n    userScores.add(etUserHole9);\n\n    List&lt;Integer&gt; coursePars = new ArrayList&lt;&gt;();\n    coursePars.add(Integer.parseInt(tvPar1.getText().toString()));\n    coursePars.add(Integer.parseInt(tvPar2.getText().toString()));\n    coursePars.add(Integer.parseInt(tvPar3.getText().toString()));\n    coursePars.add(Integer.parseInt(tvPar4.getText().toString()));\n    coursePars.add(Integer.parseInt(tvPar5.getText().toString()));\n    coursePars.add(Integer.parseInt(tvPar6.getText().toString()));\n    coursePars.add(Integer.parseInt(tvPar7.getText().toString()));\n    coursePars.add(Integer.parseInt(tvPar8.getText().toString()));\n    coursePars.add(Integer.parseInt(tvPar9.getText().toString()));\n\n    for (int i = 0; i &lt; userScores.size(); i++) {\n        userScores.get(i).setOnEditorActionListener(new TextView.OnEditorActionListener() {\n            @Override\n            public boolean onEditorAction(TextView v, int actionId, KeyEvent event) {\n                int j = 0;\n                if (actionId == j) {\n                    userSumOfHoles += Integer.parseInt(userScores.get(j).getText().toString()) - coursePars.get(j);\n                    tvCurrentScoreUser.setText(String.valueOf(userSumOfHoles));\n                    j++;\n                    return true;\n                }\n                else {\n                    return false;\n                }\n            }\n        });\n    }\n</code></pre>\n"},{"tags":["java","android","api","safetynet"],"comments":[{"owner":{"account_id":4470307,"reputation":6364,"user_id":3636806,"accept_rate":81,"display_name":"EAK TEAM"},"score":0,"creation_date":1576875434,"post_id":48698725,"comment_id":105048431,"body_markdown":"Did you find any solution for this ? Same thing is happening me too !","body":"Did you find any solution for this ? Same thing is happening me too !"},{"owner":{"account_id":11194127,"reputation":393,"user_id":8213400,"accept_rate":50,"display_name":"lcpr_phoenix"},"score":0,"creation_date":1578416958,"post_id":48698725,"comment_id":105428231,"body_markdown":"@EAKTEAM yes, but the solution in de google documentations it never work for me. Instead I used volley to make a request to `https://safebrowsing.googleapis.com/v4/threatMatches:find?key=your_key` to get a json. Actually their database looks like to be outdated, let me recomend you WOT api that return better results","body":"@EAKTEAM yes, but the solution in de google documentations it never work for me. Instead I used volley to make a request to <code>https:&#47;&#47;safebrowsing.googleapis.com&#47;v4&#47;threatMatches:find?ke&zwnj;&#8203;y=your_key</code> to get a json. Actually their database looks like to be outdated, let me recomend you WOT api that return better results"}],"owner":{"account_id":11194127,"reputation":393,"user_id":8213400,"accept_rate":50,"display_name":"lcpr_phoenix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":621,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1657557923,"creation_date":1518150437,"question_id":48698725,"body_markdown":"I&#39;m trying to implement a simple URL request check-in Android using the Safe Browsing guide at https://developer.android.com/training/safetynet/safebrowsing.html to get a malware or phishing threats for some URL.\r\n\r\nI&#39;m using a fragment (for a tabbed activity) to implement the API, and it&#39;s supposed to retrieve a request with the malware site information, but always is a response that the malicious site is not a true threat.\r\n\r\nfor example this site: http://malware.testing.google.test/testing/malware/\r\nusing the transparency report tool: https://transparencyreport.google.com/safe-browsing/search?url=http:%2F%2Fmalware.testing.google.test%2Ftesting%2Fmalware%2F is showing that the site is malicious, but in my app show that is a trusted site.\r\n\r\nhere is my code:\r\n\r\n    public class ThreatList extends Fragment{\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_threat, container, false);\r\n\r\n        new LoadThreatData().execute();\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void onResume(){\r\n        super.onResume();\r\n    }\r\n\r\n    @SuppressLint(&quot;StaticFieldLeak&quot;)\r\n    private class LoadThreatData extends AsyncTask&lt;Void, Integer, Void&gt;{\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n            SafetyNet.getClient(getActivity()).initSafeBrowsing();\r\n            Log.d(&quot;Threats&quot;, &quot;init&quot;);\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        protected void onPostExecute(Void result){\r\n            String url = &quot;http://malware.testing.google.test/testing/malware/&quot;; //&quot;go.trackmyclicks202.com&quot;;//&quot;http://ianfette.org/&quot;; //&quot;http://malware.wicar.org/data/eicar.com&quot;;\r\n\r\n            SafetyNet.getClient(getActivity()).lookupUri(\r\n                    url,\r\n                    &quot;MY_API_KEY_FROM_GOOGLE_DEVELOPERS_CONSOLE&quot;,\r\n                    SafeBrowsingThreat.TYPE_POTENTIALLY_HARMFUL_APPLICATION,\r\n                    SafeBrowsingThreat.TYPE_SOCIAL_ENGINEERING)\r\n                    .addOnSuccessListener(getActivity(), new OnSuccessListener&lt;SafetyNetApi.SafeBrowsingResponse&gt;() {\r\n                        @Override\r\n                        public void onSuccess(SafetyNetApi.SafeBrowsingResponse sbResponse) {\r\n                            // Indicates communication with the service was successful.\r\n                            // Identify any detected threats.\r\n                            if (sbResponse.getDetectedThreats().isEmpty()) {\r\n                                // No threats found.\r\n                                Log.e(&quot;Threats&quot;, &quot;no threats found&quot;);\r\n                                Toast.makeText(\r\n                                        getActivity(),\r\n                                        &quot;no threats&quot;,\r\n                                        Toast.LENGTH_SHORT)\r\n                                        .show();\r\n\r\n                                         //always get in here\r\n                            } else {\r\n                                // Threats found!\r\n                                Log.e(&quot;Threats&quot;, sbResponse.toString());\r\n                                Toast.makeText(\r\n                                        getActivity(),\r\n                                        sbResponse.toString(),\r\n                                        Toast.LENGTH_SHORT)\r\n                                        .show();\r\n                            }\r\n                        }\r\n                    })\r\n                    .addOnFailureListener(getActivity(), new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            // An error occurred while communicating with the service.\r\n                            if (e instanceof ApiException) {\r\n                                // An error with the Google Play Services API contains some\r\n                                // additional details.\r\n                                ApiException apiException = (ApiException) e;\r\n                                Log.d(TAG, &quot;Error: &quot; + CommonStatusCodes\r\n                                        .getStatusCodeString(apiException.getStatusCode()));\r\n                                Toast.makeText(\r\n                                        getActivity(),\r\n                                        &quot;error1&quot;,\r\n                                        Toast.LENGTH_SHORT)\r\n                                        .show();\r\n\r\n                                // Note: If the status code, apiException.getStatusCode(),\r\n                                // is SafetyNetstatusCode.SAFE_BROWSING_API_NOT_INITIALIZED,\r\n                                // you need to call initSafeBrowsing(). It means either you\r\n                                // haven&#39;t called initSafeBrowsing() before or that it needs\r\n                                // to be called again due to an internal error.\r\n                            } else {\r\n                                // A different, unknown type of error occurred.\r\n                                Log.d(TAG, &quot;Error: &quot; + e.getMessage());\r\n                                Toast.makeText(\r\n                                        getActivity(),\r\n                                        &quot;error2&quot;,\r\n                                        Toast.LENGTH_SHORT)\r\n                                        .show();\r\n                            }\r\n                        }\r\n                    });\r\n         \r\n        }\r\n    }\r\n    }\r\nIn the gradle use:\r\n\r\n    compile &#39;com.google.android.gms:play-services-safetynet:11.8.0&#39;\r\nIn the manifest put the permission:\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\nI don&#39;t know what I&#39;m doing wrong, I&#39;m using the V4 API the most recent version but no matter what URL use, always show it&#39;s not a threat, V3 API is now deprecated for that reason I don&#39;t use it.\r\n\r\nThe API is already enabled and I get my API key and all the necessary configurations but in the API panel from google developers console show that there is no traffic or usages for the specific API, any help, please!!!","title":"SafetyNet Safe Browsing not working","body":"<p>I'm trying to implement a simple URL request check-in Android using the Safe Browsing guide at <a href=\"https://developer.android.com/training/safetynet/safebrowsing.html\" rel=\"nofollow noreferrer\">https://developer.android.com/training/safetynet/safebrowsing.html</a> to get a malware or phishing threats for some URL.</p>\n\n<p>I'm using a fragment (for a tabbed activity) to implement the API, and it's supposed to retrieve a request with the malware site information, but always is a response that the malicious site is not a true threat.</p>\n\n<p>for example this site: <a href=\"http://malware.testing.google.test/testing/malware/\" rel=\"nofollow noreferrer\">http://malware.testing.google.test/testing/malware/</a>\nusing the transparency report tool: <a href=\"https://transparencyreport.google.com/safe-browsing/search?url=http:%2F%2Fmalware.testing.google.test%2Ftesting%2Fmalware%2F\" rel=\"nofollow noreferrer\">https://transparencyreport.google.com/safe-browsing/search?url=http:%2F%2Fmalware.testing.google.test%2Ftesting%2Fmalware%2F</a> is showing that the site is malicious, but in my app show that is a trusted site.</p>\n\n<p>here is my code:</p>\n\n<pre><code>public class ThreatList extends Fragment{\n\n@Override\npublic void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n}\n\n\n@Override\npublic View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    View view = inflater.inflate(R.layout.fragment_threat, container, false);\n\n    new LoadThreatData().execute();\n    return view;\n}\n\n@Override\npublic void onResume(){\n    super.onResume();\n}\n\n@SuppressLint(\"StaticFieldLeak\")\nprivate class LoadThreatData extends AsyncTask&lt;Void, Integer, Void&gt;{\n\n    @Override\n    protected Void doInBackground(Void... voids) {\n        SafetyNet.getClient(getActivity()).initSafeBrowsing();\n        Log.d(\"Threats\", \"init\");\n\n        return null;\n    }\n\n    @Override\n    protected void onPostExecute(Void result){\n        String url = \"http://malware.testing.google.test/testing/malware/\"; //\"go.trackmyclicks202.com\";//\"http://ianfette.org/\"; //\"http://malware.wicar.org/data/eicar.com\";\n\n        SafetyNet.getClient(getActivity()).lookupUri(\n                url,\n                \"MY_API_KEY_FROM_GOOGLE_DEVELOPERS_CONSOLE\",\n                SafeBrowsingThreat.TYPE_POTENTIALLY_HARMFUL_APPLICATION,\n                SafeBrowsingThreat.TYPE_SOCIAL_ENGINEERING)\n                .addOnSuccessListener(getActivity(), new OnSuccessListener&lt;SafetyNetApi.SafeBrowsingResponse&gt;() {\n                    @Override\n                    public void onSuccess(SafetyNetApi.SafeBrowsingResponse sbResponse) {\n                        // Indicates communication with the service was successful.\n                        // Identify any detected threats.\n                        if (sbResponse.getDetectedThreats().isEmpty()) {\n                            // No threats found.\n                            Log.e(\"Threats\", \"no threats found\");\n                            Toast.makeText(\n                                    getActivity(),\n                                    \"no threats\",\n                                    Toast.LENGTH_SHORT)\n                                    .show();\n\n                                     //always get in here\n                        } else {\n                            // Threats found!\n                            Log.e(\"Threats\", sbResponse.toString());\n                            Toast.makeText(\n                                    getActivity(),\n                                    sbResponse.toString(),\n                                    Toast.LENGTH_SHORT)\n                                    .show();\n                        }\n                    }\n                })\n                .addOnFailureListener(getActivity(), new OnFailureListener() {\n                    @Override\n                    public void onFailure(@NonNull Exception e) {\n                        // An error occurred while communicating with the service.\n                        if (e instanceof ApiException) {\n                            // An error with the Google Play Services API contains some\n                            // additional details.\n                            ApiException apiException = (ApiException) e;\n                            Log.d(TAG, \"Error: \" + CommonStatusCodes\n                                    .getStatusCodeString(apiException.getStatusCode()));\n                            Toast.makeText(\n                                    getActivity(),\n                                    \"error1\",\n                                    Toast.LENGTH_SHORT)\n                                    .show();\n\n                            // Note: If the status code, apiException.getStatusCode(),\n                            // is SafetyNetstatusCode.SAFE_BROWSING_API_NOT_INITIALIZED,\n                            // you need to call initSafeBrowsing(). It means either you\n                            // haven't called initSafeBrowsing() before or that it needs\n                            // to be called again due to an internal error.\n                        } else {\n                            // A different, unknown type of error occurred.\n                            Log.d(TAG, \"Error: \" + e.getMessage());\n                            Toast.makeText(\n                                    getActivity(),\n                                    \"error2\",\n                                    Toast.LENGTH_SHORT)\n                                    .show();\n                        }\n                    }\n                });\n\n    }\n}\n}\n</code></pre>\n\n<p>In the gradle use:</p>\n\n<pre><code>compile 'com.google.android.gms:play-services-safetynet:11.8.0'\n</code></pre>\n\n<p>In the manifest put the permission:</p>\n\n<pre><code>&lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n</code></pre>\n\n<p>I don't know what I'm doing wrong, I'm using the V4 API the most recent version but no matter what URL use, always show it's not a threat, V3 API is now deprecated for that reason I don't use it.</p>\n\n<p>The API is already enabled and I get my API key and all the necessary configurations but in the API panel from google developers console show that there is no traffic or usages for the specific API, any help, please!!!</p>\n"},{"tags":["java","html","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":25780954,"reputation":41,"user_id":19526587,"display_name":"Pranaya Dutt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657557884,"creation_date":1657557884,"answer_id":72941928,"question_id":72940385,"body_markdown":"Try giving typeOfAdventureHolidays `@JsonIgnore` annotation then call the controller.","title":"Spring Boot with HTML mapping specific fields","body":"<p>Try giving typeOfAdventureHolidays <code>@JsonIgnore</code> annotation then call the controller.</p>\n"}],"owner":{"account_id":25782262,"reputation":13,"user_id":19527717,"display_name":"Sefan Jankovic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657557884,"creation_date":1657550755,"question_id":72940385,"body_markdown":"I have a many controllers in Spring Boot that read my documents from collection. One of them is like this:\r\n\r\n     @GetMapping(&quot;/getRandomSummerCamps&quot;)\r\n     public List&lt;AdventureHolidays&gt; getRandomSummerCamps() {\r\n        return adventureHolidaysService.getRandomSummerCamps();\r\n    }\r\n\r\nSo its casual controller with service and repository. What is my goal for which I cant find a proper way doing it. For example, that controller is returning me API like this:\r\n\r\n    [{&quot;title&quot;:&quot;Raquette Lake Camp&quot;,&quot;description&quot;:&quot;Founded in 1916, Raquette Lake Camp enjoys a reputation as the Harvard of summer camps, with extensive programs, state of the art lodgings, required uniforms, on-site chefs, and a difficult, exclusive application process. Those who are not grandfathered in as siblings of previous members must undergo an interview process for approximately 10 to 12 extra spots per year. Divided into both a boys camp and a girls camp separated by a lake, activities are wide and varied: gymnastics, ice hockey, horseback riding, canoeing, sailing, lacrosse, baseball, and tennis are but a few of the sports offered, while the theater and arts program are also well-regarded. At the end of summer, campers participate in a weeklong Color War, divided into two groups of green and white for boys, and blue and white for girls. While the sexes are segregated and each camp is run separately, the brother and sister camps lunch together weekly.&quot;,&quot;typeOfAdventureHolidays&quot;:&quot;summerCamps&quot;}]\r\n\r\nFrom that JSON I want to consume `title` and `description`. How I can achieve that so when I call that controller it return me HTML page with just `title` and `descritpion`?\r\n\r\nThis is also model for that controller.\r\n\r\n    @Document(&quot;adventureholidays&quot;)\r\n    public class AdventureHolidays {\r\n\r\n    @Id\r\n    private String id;\r\n    private String title;\r\n    private String description;\r\n    private String typeOfAdventureHolidays;\r\n\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n\r\n    public String getDescription() {\r\n        return description;\r\n    }\r\n\r\n    public String getTypeOfAdventureHolidays() {\r\n        return typeOfAdventureHolidays;\r\n    }\r\n    \r\nThank you all in advance, and sorry for bad English, not native.","title":"Spring Boot with HTML mapping specific fields","body":"<p>I have a many controllers in Spring Boot that read my documents from collection. One of them is like this:</p>\n<pre><code> @GetMapping(&quot;/getRandomSummerCamps&quot;)\n public List&lt;AdventureHolidays&gt; getRandomSummerCamps() {\n    return adventureHolidaysService.getRandomSummerCamps();\n}\n</code></pre>\n<p>So its casual controller with service and repository. What is my goal for which I cant find a proper way doing it. For example, that controller is returning me API like this:</p>\n<pre><code>[{&quot;title&quot;:&quot;Raquette Lake Camp&quot;,&quot;description&quot;:&quot;Founded in 1916, Raquette Lake Camp enjoys a reputation as the Harvard of summer camps, with extensive programs, state of the art lodgings, required uniforms, on-site chefs, and a difficult, exclusive application process. Those who are not grandfathered in as siblings of previous members must undergo an interview process for approximately 10 to 12 extra spots per year. Divided into both a boys camp and a girls camp separated by a lake, activities are wide and varied: gymnastics, ice hockey, horseback riding, canoeing, sailing, lacrosse, baseball, and tennis are but a few of the sports offered, while the theater and arts program are also well-regarded. At the end of summer, campers participate in a weeklong Color War, divided into two groups of green and white for boys, and blue and white for girls. While the sexes are segregated and each camp is run separately, the brother and sister camps lunch together weekly.&quot;,&quot;typeOfAdventureHolidays&quot;:&quot;summerCamps&quot;}]\n</code></pre>\n<p>From that JSON I want to consume <code>title</code> and <code>description</code>. How I can achieve that so when I call that controller it return me HTML page with just <code>title</code> and <code>descritpion</code>?</p>\n<p>This is also model for that controller.</p>\n<pre><code>@Document(&quot;adventureholidays&quot;)\npublic class AdventureHolidays {\n\n@Id\nprivate String id;\nprivate String title;\nprivate String description;\nprivate String typeOfAdventureHolidays;\n\npublic String getTitle() {\n    return title;\n}\n\npublic String getDescription() {\n    return description;\n}\n\npublic String getTypeOfAdventureHolidays() {\n    return typeOfAdventureHolidays;\n}\n</code></pre>\n<p>Thank you all in advance, and sorry for bad English, not native.</p>\n"},{"tags":["javascript","java","html","css","sql"],"answers":[{"tags":[],"owner":{"account_id":16361632,"reputation":1,"user_id":11817070,"display_name":"Yashas B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657557838,"creation_date":1657205461,"answer_id":72899969,"question_id":71237362,"body_markdown":"You can use fetch api method to get the data from database and store that data in an arrya , later use that array to dynamically print the values in the list using loop \r\n\r\n     \r\n        let data\r\n        \r\n          async function fetchText() {\r\n            let response = await fetch(&#39;/ourUrl&#39;);\r\n            let dataget = await response.text();\r\n            data= dataget;\r\n        }\r\n    \r\n    //displaying your data \r\n      function dispay(data)\r\n    {\r\n    \r\n      for (let i=0;i&lt;data.length;i++)\r\n        {\r\n          let loopdata=&quot;&lt;li&gt;\r\n                    &lt;em&gt;data.value&lt;/em&gt;\r\n                    &lt;span&gt;data.value&lt;/span&gt;\r\n                  &lt;/li&gt;&quot;\r\n        }\r\n    \r\n    return loopdata;\r\n    \r\n    }","title":"I want to create a dynamic and interactive donut chart (javascript &amp; css )","body":"<p>You can use fetch api method to get the data from database and store that data in an arrya , later use that array to dynamically print the values in the list using loop</p>\n<pre><code>    let data\n    \n      async function fetchText() {\n        let response = await fetch('/ourUrl');\n        let dataget = await response.text();\n        data= dataget;\n    }\n\n//displaying your data \n  function dispay(data)\n{\n\n  for (let i=0;i&lt;data.length;i++)\n    {\n      let loopdata=&quot;&lt;li&gt;\n                &lt;em&gt;data.value&lt;/em&gt;\n                &lt;span&gt;data.value&lt;/span&gt;\n              &lt;/li&gt;&quot;\n    }\n\nreturn loopdata;\n\n}\n</code></pre>\n"}],"owner":{"account_id":24351070,"reputation":1,"user_id":18286888,"display_name":"JnrWebDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657557838,"creation_date":1645620990,"question_id":71237362,"body_markdown":"These diagrams should get data from &quot;MYSQL-DB&quot; and update it&#39;s data in live accordingly, without refreshing the page.\r\nI do not have much experience in this field, this is one of my first personal front-end projects and I would much appreciate some assistance with the subject.\r\n\r\nlink for illustrate images\r\nhttps://i.stack.imgur.com/6TOpQ.jpg\r\n\r\nthe demo below is not displayed well, which is why I included an &quot;SCSS&quot; file (link below) that should be inserted in the project as an additive.\r\nhttps://textuploader.com/tdbdd\r\n\r\n---\r\n\r\n    @keyframes bake-pie {\r\n      from {\r\n    transform: rotate(0deg) translate3d(0,0,0);\r\n      }\r\n    }\r\n\r\n    body {\r\n      font-family: &quot;Open Sans&quot;, Arial;\r\n      background: #EEE;\r\n    }\r\n    main {\r\n      width: 400px;\r\n      margin: 30px auto;\r\n    }\r\n    section {\r\n      margin-top: 30px;\r\n    }\r\n    .pieID {\r\n      display: inline-block;\r\n      vertical-align: top;\r\n    }\r\n    .pie {\r\n      height: 200px;\r\n      width: 200px;\r\n      position: relative;\r\n      margin: 0 30px 30px 0;\r\n    }\r\n    .pie::before {\r\n      content: &quot;&quot;;\r\n      display: block;\r\n      position: absolute;\r\n      z-index: 1;\r\n      width: 100px;\r\n      height: 100px;\r\n      background: #EEE;\r\n      border-radius: 50%;\r\n      top: 50px;\r\n      left: 50px;\r\n    }\r\n    .pie::after {\r\n      content: &quot;&quot;;\r\n      display: block;\r\n      width: 120px;\r\n      height: 2px;\r\n      background: rgba(0,0,0,0.1);\r\n      border-radius: 50%;\r\n      box-shadow: 0 0 3px 4px rgba(0,0,0,0.1);\r\n      margin: 220px auto;\r\n      \r\n    }\r\n    .slice {\r\n      position: absolute;\r\n      width: 200px;\r\n      height: 200px;\r\n      clip: rect(0px, 200px, 200px, 100px);\r\n      animation: bake-pie 1s;\r\n    }\r\n    .slice span {\r\n      display: block;\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      background-color: black;\r\n      width: 200px;\r\n      height: 200px;\r\n      border-radius: 50%;\r\n      clip: rect(0px, 200px, 200px, 100px);\r\n    }\r\n    .legend {\r\n      list-style-type: none;\r\n      padding: 0;\r\n      margin: 0;\r\n      background: #FFF;\r\n      padding: 15px;\r\n      font-size: 13px;\r\n      box-shadow: 1px 1px 0 #DDD,\r\n              2px 2px 0 #BBB;\r\n    }\r\n    .legend li {\r\n      width: 110px;\r\n      height: 1.25em;\r\n      margin-bottom: 0.7em;\r\n      padding-left: 0.5em;\r\n      border-left: 1.25em solid black;\r\n    }\r\n    .legend em {\r\n      font-style: normal;\r\n    }\r\n    .legend span {\r\n      float: right;\r\n    }\r\n    footer {\r\n      position: fixed;\r\n      bottom: 0;\r\n      right: 0;\r\n      font-size: 13px;\r\n      background: #DDD;\r\n      padding: 5px 10px;\r\n      margin: 5px;\r\n    }\r\n\r\n\r\n    function sliceSize(dataNum, dataTotal) {\r\n        return (dataNum / dataTotal) * 360;\r\n      }\r\n      function addSlice(sliceSize, pieElement, offset, sliceID, color) {\r\n        $(pieElement).append(&quot;&lt;div class=&#39;slice &quot;+sliceID+&quot;&#39;&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&quot;);\r\n        var offset = offset - 1;\r\n        var sizeRotation = -179 + sliceSize;\r\n\r\n\r\n        $(&quot;.&quot;+sliceID).css({\r\n          &quot;transform&quot;: &quot;rotate(&quot;+offset+&quot;deg) translate3d(0,0,0)&quot;\r\n        });\r\n        $(&quot;.&quot;+sliceID+&quot; span&quot;).css({\r\n          &quot;transform&quot;       : &quot;rotate(&quot;+sizeRotation+&quot;deg) translate3d(0,0,0)&quot;,\r\n          &quot;background-color&quot;: color\r\n        });\r\n      }\r\n      \r\n      function iterateSlices(sliceSize, pieElement, offset, dataCount, sliceCount, color) {\r\n        var sliceID = &quot;s&quot;+dataCount+&quot;-&quot;+sliceCount;\r\n        var maxSize = 179;\r\n        if(sliceSize&lt;=maxSize) {\r\n          addSlice(sliceSize, pieElement, offset, sliceID, color);\r\n        } else {\r\n          addSlice(maxSize, pieElement, offset, sliceID, color);\r\n          iterateSlices(sliceSize-maxSize, pieElement, offset+maxSize, dataCount, sliceCount+1, color);\r\n        }\r\n      }\r\n      function createPie(dataElement, pieElement) {\r\n        var listData = [];\r\n        $(dataElement+&quot; span&quot;).each(function() {\r\n          listData.push(Number($(this).html()));\r\n        });\r\n        var listTotal = 0;\r\n        for(var i=0; i&lt;listData.length; i++) {\r\n          listTotal += listData[i];\r\n        }\r\n        var offset = 0;\r\n        var color = [ \r\n          &quot;#4c1180&quot;, \r\n          &quot;#17b2bd&quot;, \r\n          &quot;#006666&quot;,\r\n        ];\r\n        for(var i=0; i&lt;listData.length; i++) {\r\n          var size = sliceSize(listData[i], listTotal);\r\n          iterateSlices(size, pieElement, offset, i, 0, color[i]);\r\n          $(dataElement+&quot; li:nth-child(&quot;+(i+1)+&quot;)&quot;).css(&quot;border-color&quot;, color[i]);\r\n          offset += size;\r\n        }\r\n      }\r\n      createPie(&quot;.pieID.legend&quot;, &quot;.pieID.pie&quot;);\r\n\r\n\r\n\r\n\r\n\r\n    @import url(https://fonts.googleapis.com/css?family=Open+Sans:400,700);\r\n    @-webkit-keyframes bake-pie {\r\n      from {\r\n        -webkit-transform: rotate(0deg) translate3d(0, 0, 0);\r\n                transform: rotate(0deg) translate3d(0, 0, 0);\r\n      }\r\n    }\r\n    @keyframes bake-pie {\r\n      from {\r\n        -webkit-transform: rotate(0deg) translate3d(0, 0, 0);\r\n                transform: rotate(0deg) translate3d(0, 0, 0);\r\n      }\r\n    }\r\n\r\n    .pieID {\r\n      display: inline-block;\r\n      vertical-align: top;\r\n    }\r\n\r\n    .pie {\r\n      height: 200px;\r\n      width: 200px;\r\n      position: relative;\r\n      border: 0.2rem solid #fff;\r\n      box-shadow: 0 0 .2rem #fff,\r\n                0 0 .2rem #fff,\r\n                0 0 2rem #0D43E3,\r\n                0 0 0.8rem #0D43E3,\r\n                0 0 2.8rem #0D43E3,\r\n                inset 0 0 1.3rem #0D43E3; \r\n                border-radius: 50%; \r\n    }\r\n\r\n    .pie::before {\r\n      content: &quot;&quot;;\r\n      display: block;\r\n      position: absolute; \r\n      z-index: 1;\r\n      width: 100px;\r\n      height: 100px;\r\n      background: rgb(41, 41, 41);\r\n      border-radius: 50%;\r\n      top: 50px;\r\n      left: 50px;\r\n    }\r\n\r\n    .pie::after {\r\n      content: &quot;&quot;;\r\n      display: block;\r\n      width: 120px;\r\n      height: 2px;\r\n      margin: 220px auto;\r\n    }    \r\n    .slice {\r\n      position: absolute;\r\n      width: 200px;\r\n      height: 200px;\r\n      clip: rect(0px, 200px, 200px, 100px);\r\n      -webkit-animation: bake-pie 1s;\r\n              animation: bake-pie 1s;\r\n    }\r\n\r\n    .slice span {\r\n      display: block;\r\n      position: absolute;\r\n      top: 0;\r\n      left: 0;\r\n      background-color: black;\r\n      width: 200px; \r\n      height: 200px;\r\n      border-radius: 50%;\r\n      clip: rect(0px, 200px, 200px, 100px);\r\n    }\r\n\r\n    .legend {\r\n      /*position: relative; right: 50%;*/ \r\n      margin-top: 2.5%;\r\n      margin-left: 2.5%;\r\n      list-style-type: none;\r\n      margin-right: 0%;\r\n      background: rgb(14, 2, 68);\r\n      color: rgb(255, 255, 255);\r\n      padding: 15px;\r\n      padding-bottom: 4px;\r\n      font-size: 16px;\r\n      border: 0.2rem solid #fff;\r\n      box-shadow: 0 0 .2rem #fff,\r\n     **strong text**               0 0 .2rem #fff,\r\n                0 0 2rem #0D43E3,\r\n                0 0 0.8rem #0D43E3,\r\n                0 0 2.8rem #0D43E3,\r\n                inset 0 0 1.3rem #0D43E3; \r\n    }\r\n\r\n    .legend li {\r\n      width: 110px;\r\n      height: 1.25em;\r\n      margin-bottom: 0.7em;\r\n      padding-left: 0.5em;\r\n      border-left: 1.25em solid black;\r\n    }\r\n\r\n    .legend em {\r\n      font-style: normal;\r\n    }\r\n\r\n    .legend span {\r\n      float: left;\r\n    }\r\n\r\n    footer {\r\n      position: fixed;\r\n      bottom: 0;\r\n      right: 0;\r\n      font-size: 13px;\r\n      background: #DDD;\r\n      padding: 5px 10px;\r\n      margin: 5px;\r\n    }\r\n    /*# sourceMappingURL=donutTotal.css.map */\r\n\r\n\r\n\r\n\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n\r\n\r\n\r\n    &lt;ul class=&quot;pieID legend&quot;&gt;\r\n                  &lt;li&gt;\r\n                    &lt;em&gt;south&lt;/em&gt;\r\n                    &lt;span&gt;192&lt;/span&gt;\r\n                  &lt;/li&gt;\r\n                  &lt;li&gt;\r\n                    &lt;em&gt;north&lt;/em&gt; \r\n                    &lt;span&gt;192&lt;/span&gt;\r\n                  &lt;/li&gt;\r\n                  &lt;li&gt;\r\n                    &lt;em&gt;center&lt;/em&gt;\r\n                    &lt;span&gt;192&lt;/span&gt;\r\n                  &lt;/li&gt;\r\n                &lt;/ul&gt; \r\n                &lt;div class=&quot;pieID pie&quot;&gt;\r\n                 &lt;/div&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"I want to create a dynamic and interactive donut chart (javascript &amp; css )","body":"<p>These diagrams should get data from &quot;MYSQL-DB&quot; and update it's data in live accordingly, without refreshing the page.\nI do not have much experience in this field, this is one of my first personal front-end projects and I would much appreciate some assistance with the subject.</p>\n<p>link for illustrate images\n<a href=\"https://i.stack.imgur.com/6TOpQ.jpg\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/6TOpQ.jpg</a></p>\n<p>the demo below is not displayed well, which is why I included an &quot;SCSS&quot; file (link below) that should be inserted in the project as an additive.\n<a href=\"https://textuploader.com/tdbdd\" rel=\"nofollow noreferrer\">https://textuploader.com/tdbdd</a></p>\n<hr />\n<pre><code>@keyframes bake-pie {\n  from {\ntransform: rotate(0deg) translate3d(0,0,0);\n  }\n}\n\nbody {\n  font-family: &quot;Open Sans&quot;, Arial;\n  background: #EEE;\n}\nmain {\n  width: 400px;\n  margin: 30px auto;\n}\nsection {\n  margin-top: 30px;\n}\n.pieID {\n  display: inline-block;\n  vertical-align: top;\n}\n.pie {\n  height: 200px;\n  width: 200px;\n  position: relative;\n  margin: 0 30px 30px 0;\n}\n.pie::before {\n  content: &quot;&quot;;\n  display: block;\n  position: absolute;\n  z-index: 1;\n  width: 100px;\n  height: 100px;\n  background: #EEE;\n  border-radius: 50%;\n  top: 50px;\n  left: 50px;\n}\n.pie::after {\n  content: &quot;&quot;;\n  display: block;\n  width: 120px;\n  height: 2px;\n  background: rgba(0,0,0,0.1);\n  border-radius: 50%;\n  box-shadow: 0 0 3px 4px rgba(0,0,0,0.1);\n  margin: 220px auto;\n  \n}\n.slice {\n  position: absolute;\n  width: 200px;\n  height: 200px;\n  clip: rect(0px, 200px, 200px, 100px);\n  animation: bake-pie 1s;\n}\n.slice span {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: black;\n  width: 200px;\n  height: 200px;\n  border-radius: 50%;\n  clip: rect(0px, 200px, 200px, 100px);\n}\n.legend {\n  list-style-type: none;\n  padding: 0;\n  margin: 0;\n  background: #FFF;\n  padding: 15px;\n  font-size: 13px;\n  box-shadow: 1px 1px 0 #DDD,\n          2px 2px 0 #BBB;\n}\n.legend li {\n  width: 110px;\n  height: 1.25em;\n  margin-bottom: 0.7em;\n  padding-left: 0.5em;\n  border-left: 1.25em solid black;\n}\n.legend em {\n  font-style: normal;\n}\n.legend span {\n  float: right;\n}\nfooter {\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  font-size: 13px;\n  background: #DDD;\n  padding: 5px 10px;\n  margin: 5px;\n}\n\n\nfunction sliceSize(dataNum, dataTotal) {\n    return (dataNum / dataTotal) * 360;\n  }\n  function addSlice(sliceSize, pieElement, offset, sliceID, color) {\n    $(pieElement).append(&quot;&lt;div class='slice &quot;+sliceID+&quot;'&gt;&lt;span&gt;&lt;/span&gt;&lt;/div&gt;&quot;);\n    var offset = offset - 1;\n    var sizeRotation = -179 + sliceSize;\n\n\n    $(&quot;.&quot;+sliceID).css({\n      &quot;transform&quot;: &quot;rotate(&quot;+offset+&quot;deg) translate3d(0,0,0)&quot;\n    });\n    $(&quot;.&quot;+sliceID+&quot; span&quot;).css({\n      &quot;transform&quot;       : &quot;rotate(&quot;+sizeRotation+&quot;deg) translate3d(0,0,0)&quot;,\n      &quot;background-color&quot;: color\n    });\n  }\n  \n  function iterateSlices(sliceSize, pieElement, offset, dataCount, sliceCount, color) {\n    var sliceID = &quot;s&quot;+dataCount+&quot;-&quot;+sliceCount;\n    var maxSize = 179;\n    if(sliceSize&lt;=maxSize) {\n      addSlice(sliceSize, pieElement, offset, sliceID, color);\n    } else {\n      addSlice(maxSize, pieElement, offset, sliceID, color);\n      iterateSlices(sliceSize-maxSize, pieElement, offset+maxSize, dataCount, sliceCount+1, color);\n    }\n  }\n  function createPie(dataElement, pieElement) {\n    var listData = [];\n    $(dataElement+&quot; span&quot;).each(function() {\n      listData.push(Number($(this).html()));\n    });\n    var listTotal = 0;\n    for(var i=0; i&lt;listData.length; i++) {\n      listTotal += listData[i];\n    }\n    var offset = 0;\n    var color = [ \n      &quot;#4c1180&quot;, \n      &quot;#17b2bd&quot;, \n      &quot;#006666&quot;,\n    ];\n    for(var i=0; i&lt;listData.length; i++) {\n      var size = sliceSize(listData[i], listTotal);\n      iterateSlices(size, pieElement, offset, i, 0, color[i]);\n      $(dataElement+&quot; li:nth-child(&quot;+(i+1)+&quot;)&quot;).css(&quot;border-color&quot;, color[i]);\n      offset += size;\n    }\n  }\n  createPie(&quot;.pieID.legend&quot;, &quot;.pieID.pie&quot;);\n\n\n\n\n\n@import url(https://fonts.googleapis.com/css?family=Open+Sans:400,700);\n@-webkit-keyframes bake-pie {\n  from {\n    -webkit-transform: rotate(0deg) translate3d(0, 0, 0);\n            transform: rotate(0deg) translate3d(0, 0, 0);\n  }\n}\n@keyframes bake-pie {\n  from {\n    -webkit-transform: rotate(0deg) translate3d(0, 0, 0);\n            transform: rotate(0deg) translate3d(0, 0, 0);\n  }\n}\n\n.pieID {\n  display: inline-block;\n  vertical-align: top;\n}\n\n.pie {\n  height: 200px;\n  width: 200px;\n  position: relative;\n  border: 0.2rem solid #fff;\n  box-shadow: 0 0 .2rem #fff,\n            0 0 .2rem #fff,\n            0 0 2rem #0D43E3,\n            0 0 0.8rem #0D43E3,\n            0 0 2.8rem #0D43E3,\n            inset 0 0 1.3rem #0D43E3; \n            border-radius: 50%; \n}\n\n.pie::before {\n  content: &quot;&quot;;\n  display: block;\n  position: absolute; \n  z-index: 1;\n  width: 100px;\n  height: 100px;\n  background: rgb(41, 41, 41);\n  border-radius: 50%;\n  top: 50px;\n  left: 50px;\n}\n\n.pie::after {\n  content: &quot;&quot;;\n  display: block;\n  width: 120px;\n  height: 2px;\n  margin: 220px auto;\n}    \n.slice {\n  position: absolute;\n  width: 200px;\n  height: 200px;\n  clip: rect(0px, 200px, 200px, 100px);\n  -webkit-animation: bake-pie 1s;\n          animation: bake-pie 1s;\n}\n\n.slice span {\n  display: block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: black;\n  width: 200px; \n  height: 200px;\n  border-radius: 50%;\n  clip: rect(0px, 200px, 200px, 100px);\n}\n\n.legend {\n  /*position: relative; right: 50%;*/ \n  margin-top: 2.5%;\n  margin-left: 2.5%;\n  list-style-type: none;\n  margin-right: 0%;\n  background: rgb(14, 2, 68);\n  color: rgb(255, 255, 255);\n  padding: 15px;\n  padding-bottom: 4px;\n  font-size: 16px;\n  border: 0.2rem solid #fff;\n  box-shadow: 0 0 .2rem #fff,\n **strong text**               0 0 .2rem #fff,\n            0 0 2rem #0D43E3,\n            0 0 0.8rem #0D43E3,\n            0 0 2.8rem #0D43E3,\n            inset 0 0 1.3rem #0D43E3; \n}\n\n.legend li {\n  width: 110px;\n  height: 1.25em;\n  margin-bottom: 0.7em;\n  padding-left: 0.5em;\n  border-left: 1.25em solid black;\n}\n\n.legend em {\n  font-style: normal;\n}\n\n.legend span {\n  float: left;\n}\n\nfooter {\n  position: fixed;\n  bottom: 0;\n  right: 0;\n  font-size: 13px;\n  background: #DDD;\n  padding: 5px 10px;\n  margin: 5px;\n}\n/*# sourceMappingURL=donutTotal.css.map */\n</code></pre>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;ul class=&quot;pieID legend&quot;&gt;\n              &lt;li&gt;\n                &lt;em&gt;south&lt;/em&gt;\n                &lt;span&gt;192&lt;/span&gt;\n              &lt;/li&gt;\n              &lt;li&gt;\n                &lt;em&gt;north&lt;/em&gt; \n                &lt;span&gt;192&lt;/span&gt;\n              &lt;/li&gt;\n              &lt;li&gt;\n                &lt;em&gt;center&lt;/em&gt;\n                &lt;span&gt;192&lt;/span&gt;\n              &lt;/li&gt;\n            &lt;/ul&gt; \n            &lt;div class=&quot;pieID pie&quot;&gt;\n             &lt;/div&gt;\n</code></pre>\n\n"},{"tags":["java","time"],"comments":[{"owner":{"account_id":232,"reputation":29734,"user_id":287,"accept_rate":91,"display_name":"basszero"},"score":0,"creation_date":1233594260,"post_id":503877,"comment_id":318742,"body_markdown":"What version of Java? On my XP machine w/ JDK1.6.0_06, nanoTime() has precision through the last decimal places. I&#39;m assuming your version returns values that always end in three zeros.","body":"What version of Java? On my XP machine w/ JDK1.6.0_06, nanoTime() has precision through the last decimal places. I&#39;m assuming your version returns values that always end in three zeros."},{"owner":{"account_id":232,"reputation":29734,"user_id":287,"accept_rate":91,"display_name":"basszero"},"score":0,"creation_date":1233594653,"post_id":503877,"comment_id":318766,"body_markdown":"Sun JVM is not enough, which VERSION of it? (Your answer was correct, I didnt&#39; ask the right question. I assum everyone uses the Sun JVM)","body":"Sun JVM is not enough, which VERSION of it? (Your answer was correct, I didnt&#39; ask the right question. I assum everyone uses the Sun JVM)"},{"owner":{"display_name":"jao"},"score":0,"creation_date":1233594775,"post_id":503877,"comment_id":318775,"body_markdown":"Java -version in the cmd gives me:\n\njava version &quot;1.7.0-ea&quot;\n\nAnd another 2 lines.\n\nEither way, it was a mistake in my code. Sorry, I couldn&#39;t find the error even after a while searching for it.","body":"Java -version in the cmd gives me:  java version &quot;1.7.0-ea&quot;  And another 2 lines.  Either way, it was a mistake in my code. Sorry, I couldn&#39;t find the error even after a while searching for it."},{"owner":{"account_id":232,"reputation":29734,"user_id":287,"accept_rate":91,"display_name":"basszero"},"score":0,"creation_date":1233595962,"post_id":503877,"comment_id":318837,"body_markdown":"brave soul, 1.7 is still WAY early","body":"brave soul, 1.7 is still WAY early"},{"owner":{"account_id":12348,"reputation":17081,"user_id":24243,"accept_rate":40,"display_name":"John Nilsson"},"score":0,"creation_date":1233596084,"post_id":503877,"comment_id":318840,"body_markdown":"Adding comment since it&#39;s OT. You should read up on how to write micro benchmarks for the JVM, ex http://www.concentric.net/~ttwang/tech/microbench.htm\nAlso, you probably want to box that 10000 integer outside the loop.","body":"Adding comment since it&#39;s OT. You should read up on how to write micro benchmarks for the JVM, ex <a href=\"http://www.concentric.net/~ttwang/tech/microbench.htm\" rel=\"nofollow noreferrer\">concentric.net/~ttwang/tech/microbench.htm</a> Also, you probably want to box that 10000 integer outside the loop."},{"owner":{"account_id":9921,"reputation":107684,"user_id":18511,"accept_rate":92,"display_name":"Kip"},"score":8,"creation_date":1233599847,"post_id":503877,"comment_id":319056,"body_markdown":"A benchmark that requires microsecond precision isn&#39;t going to be very accurate. You can add noise a microsecond time measurement with the slightest extra CPU load- if another machine on your network happens to ping your box, if you move your mouse, etc.","body":"A benchmark that requires microsecond precision isn&#39;t going to be very accurate. You can add noise a microsecond time measurement with the slightest extra CPU load- if another machine on your network happens to ping your box, if you move your mouse, etc."},{"owner":{"account_id":562,"reputation":3657,"user_id":728,"accept_rate":91,"display_name":"TJR"},"score":0,"creation_date":1319748861,"post_id":503877,"comment_id":9677033,"body_markdown":"This doesn&#39;t answer your specific question, but using this might make it unnecessary: http://code.google.com/p/caliper/","body":"This doesn&#39;t answer your specific question, but using this might make it unnecessary: <a href=\"http://code.google.com/p/caliper/\" rel=\"nofollow noreferrer\">code.google.com/p/caliper</a>"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1553325840,"creation_date":1233593725,"answer_id":503905,"question_id":503877,"body_markdown":"It&#39;s not clear to me exactly what you&#39;re benchmarking, but in general, any test which takes *such* a short amount of time to run, that accuracy lower than 50 ms is relevant, is going to be *very* prone to other disturbances.\r\n\r\nI generally try to make benchmarks run for at least 10 seconds. The framework I&#39;m writing at the moment will guess how many iterations to run so that it will take 30 seconds. That means you won&#39;t get *radically* different results just because some other process stole the CPU for a few milliseconds.\r\n\r\nRunning for longer is **almost always a better approach** than trying to measure with finer-grained accuracy.","title":"How can I measure time with microsecond precision in Java?","body":"<p>It's not clear to me exactly what you're benchmarking, but in general, any test which takes <em>such</em> a short amount of time to run, that accuracy lower than 50 ms is relevant, is going to be <em>very</em> prone to other disturbances.</p>\n\n<p>I generally try to make benchmarks run for at least 10 seconds. The framework I'm writing at the moment will guess how many iterations to run so that it will take 30 seconds. That means you won't get <em>radically</em> different results just because some other process stole the CPU for a few milliseconds.</p>\n\n<p>Running for longer is <strong>almost always a better approach</strong> than trying to measure with finer-grained accuracy.</p>\n"},{"tags":[],"owner":{"account_id":16279,"reputation":12487,"user_id":35264,"accept_rate":74,"display_name":"Sarel Botha"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1233593821,"creation_date":1233593821,"answer_id":503913,"question_id":503877,"body_markdown":"That&#39;s weird. System.nanoTime() is supposed to work. Are you using the Sun JVM?\r\n\r\nCan you just repeat your operation 1000 times and divide the time by 1000 to find out what you need to know?","title":"How can I measure time with microsecond precision in Java?","body":"<p>That's weird. System.nanoTime() is supposed to work. Are you using the Sun JVM?</p>\n\n<p>Can you just repeat your operation 1000 times and divide the time by 1000 to find out what you need to know?</p>\n"},{"tags":[],"owner":{"account_id":22429,"reputation":9517,"user_id":55283,"accept_rate":100,"display_name":"Tiago"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1553325869,"creation_date":1233594013,"answer_id":503924,"question_id":503877,"body_markdown":"You have to repeat the tests thousands of times. There are lots of things happening that will influence your measurements, like garbage collection, I/O, swap in/out, the size of the ready-queue threads, etc.","title":"How can I measure time with microsecond precision in Java?","body":"<p>You have to repeat the tests thousands of times. There are lots of things happening that will influence your measurements, like garbage collection, I/O, swap in/out, the size of the ready-queue threads, etc.</p>\n"},{"tags":[],"owner":{"account_id":10566,"reputation":29161,"user_id":20029,"display_name":"Zach Scrivena"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1233594140,"creation_date":1233594140,"answer_id":503937,"question_id":503877,"body_markdown":"My guess is that since [`System.nanoTime()`][1] uses the &quot;most precise available system timer&quot; which apparently only has millisecond-precision on your system, you can&#39;t get anything better.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/System.html#nanoTime()","title":"How can I measure time with microsecond precision in Java?","body":"<p>My guess is that since <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/System.html#nanoTime()\" rel=\"noreferrer\"><code>System.nanoTime()</code></a> uses the \"most precise available system timer\" which apparently only has millisecond-precision on your system, you can't get anything better.</p>\n"},{"tags":[],"owner":{"account_id":20562,"reputation":55673,"user_id":49246,"accept_rate":73,"display_name":"starblue"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1233594151,"creation_date":1233594151,"answer_id":503944,"question_id":503877,"body_markdown":"It may be the case that the underlying OS doesn&#39;t provide timers with nanosecond precision.\r\n\r\nThere is also an &lt;a href=&quot;https://stackoverflow.com/questions/351565/system-currenttimemillis-vs-system-nanotime&quot;&gt;older post&lt;/a&gt;.","title":"How can I measure time with microsecond precision in Java?","body":"<p>It may be the case that the underlying OS doesn't provide timers with nanosecond precision.</p>\n\n<p>There is also an <a href=\"https://stackoverflow.com/questions/351565/system-currenttimemillis-vs-system-nanotime\">older post</a>.</p>\n"},{"tags":[],"owner":{"account_id":10987,"reputation":50685,"user_id":21005,"accept_rate":78,"display_name":"Mnementh"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1258830064,"creation_date":1233594530,"answer_id":503976,"question_id":503877,"body_markdown":"Such a benchmark that relies on short time-interval gives you unreliable results. You will always get different results, because of external factors like I/O, Swapping, Process Switches, Caches, Garbage Collection etc. Additionally the JVM optimizes your calls, so it&#39;s likely that the first measured things are going slower than later call. The JVM starts more and more to optimize the commands you execute.\r\n\r\nAdditionally the method like System.nanoTime() is dependent on the timers of the underlying system. They may (and most likely will) not have the granularity to measure in that accuracy. To cite the [API][1]:\r\n&gt; This method provides nanosecond\r\n&gt; precision, but not necessarily\r\n&gt; nanosecond accuracy. No guarantees are\r\n&gt; made about how frequently values\r\n&gt; change.\r\n\r\nTo really measure with high precision you need to access an external timing hardware with guaranteed precision.\r\n\r\nTo make your benchmark more stable you need to execute it more than once and to measure bigger time-intervals than only milliseconds.\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/lang/System.html#nanoTime()\r\n","title":"How can I measure time with microsecond precision in Java?","body":"<p>Such a benchmark that relies on short time-interval gives you unreliable results. You will always get different results, because of external factors like I/O, Swapping, Process Switches, Caches, Garbage Collection etc. Additionally the JVM optimizes your calls, so it's likely that the first measured things are going slower than later call. The JVM starts more and more to optimize the commands you execute.</p>\n\n<p>Additionally the method like System.nanoTime() is dependent on the timers of the underlying system. They may (and most likely will) not have the granularity to measure in that accuracy. To cite the <a href=\"http://java.sun.com/javase/6/docs/api/java/lang/System.html#nanoTime()\" rel=\"nofollow noreferrer\">API</a>:</p>\n\n<blockquote>\n  <p>This method provides nanosecond\n  precision, but not necessarily\n  nanosecond accuracy. No guarantees are\n  made about how frequently values\n  change.</p>\n</blockquote>\n\n<p>To really measure with high precision you need to access an external timing hardware with guaranteed precision.</p>\n\n<p>To make your benchmark more stable you need to execute it more than once and to measure bigger time-intervals than only milliseconds.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1553325880,"creation_date":1233595046,"answer_id":504017,"question_id":503877,"body_markdown":"`System.nanoTime()` uses a counter in the CPU and is usually accurate to about 1 micro-second on Windows XP and Linux. \r\n\r\nNote: Windows XP is often less accurate on multi-cpu machines as it doesn&#39;t compensate for different CPUs having different counters. Linux does.\r\nNote 2: It will drift relative to the System.currentTimeMillis() as it is based on the accuracy of the clock for your CPU (which doesn&#39;t need to be so accurate over a period of time), rather than the clock you have for getting the time.(which drifts less per day, but has less granularity)\r\n\r\nIn your benchmark you are basically testing the speed at which you can create new objects. Not surprisingly your results will vary dramatically based on your GC settings and how recently a GC has been performed.\r\n\r\nTry running your tests with the following options and you should see very different results.\r\n\r\n    -verbosegc -XX:NewSize=128m -mx256m","title":"How can I measure time with microsecond precision in Java?","body":"<p><code>System.nanoTime()</code> uses a counter in the CPU and is usually accurate to about 1 micro-second on Windows XP and Linux. </p>\n\n<p>Note: Windows XP is often less accurate on multi-cpu machines as it doesn't compensate for different CPUs having different counters. Linux does.\nNote 2: It will drift relative to the System.currentTimeMillis() as it is based on the accuracy of the clock for your CPU (which doesn't need to be so accurate over a period of time), rather than the clock you have for getting the time.(which drifts less per day, but has less granularity)</p>\n\n<p>In your benchmark you are basically testing the speed at which you can create new objects. Not surprisingly your results will vary dramatically based on your GC settings and how recently a GC has been performed.</p>\n\n<p>Try running your tests with the following options and you should see very different results.</p>\n\n<pre><code>-verbosegc -XX:NewSize=128m -mx256m\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3216,"reputation":12095,"user_id":4600,"display_name":"marcospereira"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1553326084,"creation_date":1233674820,"answer_id":507534,"question_id":503877,"body_markdown":"If you want a reliable result, use a profiler. I suggest [VisualVM][1], which is easy to install and is bundled with the JDK starting from version 1.6.0_07. \r\n\r\nIt is an easy to use visual tool that integrates several commandline JDK tools and lightweight profiling capabilities. \r\n\r\n  [1]: http://en.wikipedia.org/wiki/VisualVM\r\n","title":"How can I measure time with microsecond precision in Java?","body":"<p>If you want a reliable result, use a profiler. I suggest <a href=\"http://en.wikipedia.org/wiki/VisualVM\" rel=\"nofollow noreferrer\">VisualVM</a>, which is easy to install and is bundled with the JDK starting from version 1.6.0_07. </p>\n\n<p>It is an easy to use visual tool that integrates several commandline JDK tools and lightweight profiling capabilities. </p>\n"},{"tags":[],"owner":{"account_id":390363,"reputation":7217,"user_id":750378,"accept_rate":69,"display_name":"DaveFar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1313755503,"creation_date":1313755503,"answer_id":7121284,"question_id":503877,"body_markdown":"Yes, the accuracy and precision of System.nanoTime is usually much better than System.currentTimeMillis, but without guarantee: it can become just as bad in the worst case. \r\n\r\nThreadMXBean.getCurrentThreadCpuTime tends to yield smaller times, but its resolution is unclear, and it has further disadvantages (do you really want the CPU time?, platform dependent semantics, supported on your platform?).\r\n\r\nMeasuring the time with all three techniques also has some cost, i.e. requires time itself, which can distort the measurements. The costs are highly platform dependent, but often cost(System.currentTimeMillis) &lt;&lt; cost(System.nanoTime) &lt;&lt; cost(ThreadMXBean.getCurrentThreadCpuTime).\r\n\r\n\r\nAbout micro benchmarking in general, see \r\n\r\n - https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java/513259#513259\r\n - https://stackoverflow.com/questions/6373550/create-quick-reliable-benchmark-with-java/7120803#7120803\r\n ","title":"How can I measure time with microsecond precision in Java?","body":"<p>Yes, the accuracy and precision of System.nanoTime is usually much better than System.currentTimeMillis, but without guarantee: it can become just as bad in the worst case. </p>\n\n<p>ThreadMXBean.getCurrentThreadCpuTime tends to yield smaller times, but its resolution is unclear, and it has further disadvantages (do you really want the CPU time?, platform dependent semantics, supported on your platform?).</p>\n\n<p>Measuring the time with all three techniques also has some cost, i.e. requires time itself, which can distort the measurements. The costs are highly platform dependent, but often cost(System.currentTimeMillis) &lt;&lt; cost(System.nanoTime) &lt;&lt; cost(ThreadMXBean.getCurrentThreadCpuTime).</p>\n\n<p>About micro benchmarking in general, see </p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/504103/how-do-i-write-a-correct-micro-benchmark-in-java/513259#513259\">How do I write a correct micro-benchmark in Java?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/6373550/create-quick-reliable-benchmark-with-java/7120803#7120803\">Create quick/reliable benchmark with java?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1419056,"reputation":5266,"user_id":1344070,"accept_rate":100,"display_name":"keisar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446528867,"creation_date":1444836669,"answer_id":33129567,"question_id":503877,"body_markdown":"a &quot;quick and dirty&quot; solution that I eventually went with:\r\n\r\n    TimeUnit.NANOSECONDS.toMicros(System.nanoTime());\r\n\r\nUPDATE:\r\n\r\nI originally went with System.nanoTime but then I found out it should only be used for elapsed time, I eventually changed my code to work with milliseconds or at some places use:\r\n\r\n    TimeUnit.MILLISECONDS.toMicros(System.currentTimeMillis());\r\n\r\nbut this will just add zeros at the end of the value (micros = millis * 1000)\r\n\r\nLeft this answer here as a &quot;warning sign&quot; in case someone else thinks of nanoTime :)","title":"How can I measure time with microsecond precision in Java?","body":"<p>a \"quick and dirty\" solution that I eventually went with:</p>\n\n<pre><code>TimeUnit.NANOSECONDS.toMicros(System.nanoTime());\n</code></pre>\n\n<p>UPDATE:</p>\n\n<p>I originally went with System.nanoTime but then I found out it should only be used for elapsed time, I eventually changed my code to work with milliseconds or at some places use:</p>\n\n<pre><code>TimeUnit.MILLISECONDS.toMicros(System.currentTimeMillis());\n</code></pre>\n\n<p>but this will just add zeros at the end of the value (micros = millis * 1000)</p>\n\n<p>Left this answer here as a \"warning sign\" in case someone else thinks of nanoTime :)</p>\n"},{"tags":[],"owner":{"account_id":162266,"reputation":134,"user_id":383621,"display_name":"Andrew Jessop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553326027,"creation_date":1468423276,"answer_id":38355758,"question_id":503877,"body_markdown":"For our recent profiling, I found that `ThreadMXBean.getCurrentThreadCpuTime()` and the option `-XX:+UseLinuxPosixThreadCPUClocks` did what we needed.\r\n\r\nSee http://bugs.java.com/view_bug.do?bug_id=6888526 for more details","title":"How can I measure time with microsecond precision in Java?","body":"<p>For our recent profiling, I found that <code>ThreadMXBean.getCurrentThreadCpuTime()</code> and the option <code>-XX:+UseLinuxPosixThreadCPUClocks</code> did what we needed.</p>\n\n<p>See <a href=\"http://bugs.java.com/view_bug.do?bug_id=6888526\" rel=\"nofollow noreferrer\">http://bugs.java.com/view_bug.do?bug_id=6888526</a> for more details</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1657557570,"creation_date":1487454128,"answer_id":42321000,"question_id":503877,"body_markdown":"# Using java.time\r\n\r\nFYI, Java 9 and later has a fresh implementation of [`Clock`][1] that can capture the current moment in up to nanoseconds resolution. \r\n\r\nThe [`Instant`](http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html) class represents a moment on the timeline in [UTC](https://en.wikipedia.org/wiki/Coordinated_Universal_Time) with a resolution of [nanoseconds](https://en.wikipedia.org/wiki/Nanosecond) (up to nine (9) digits of a decimal fraction). \r\n\r\nCall [`Instant.now`][2] to capture the current moment. \r\n\r\n - In Java 9 and later, you get a resolution up to [nanoseconds][3] for that current moment. \r\n - In Java 8, the current moment is captured only up to [milliseconds][4] resolution (you can indeed *hold* values with nanoseconds, but only *capture* current moment in milliseconds). \r\n\r\nCode:\r\n\r\n    Instant instant = Instant.now() ;\r\n\r\nRepresent a span of time unattached to the timeline with [`Duration`][5] class. Holds an amount of time in terms of seconds and nanoseconds.\r\n\r\n    Duration d = Duration.between( instantThen , Instant.now() );\r\n\r\nTo be clear, the [microseconds][6] resolution asked in the Question is in between the granularities of milliseconds and nanoseconds. Number of places in a decimal fraction: millis is 3 (0.123), micros is 6 (0.123456), nanos is 9 (0.123456789).\r\n\r\n# Caveat\r\n\r\nJava relies on your computer’s hardware clock. As others warned, that hardware will almost certainly capture time with **far less accuracy** and **far less resolution** than nanoseconds. \r\n\r\nBenchmarking at such fine granularity is fraught with issues and **not advisable** generally. \r\n\r\nAnd beware of [premature optimization][7].\r\n\r\nThere is a proposal to add micro-benchmarking facility to the Java platform in [JEP 230: Microbenchmark Suite][8]. Based on the [Java Microbenchmark Harness (JMH)](http://openjdk.java.net/projects/code-tools/jmh/).\r\n \r\n----------\r\n\r\n# About java.time\r\n\r\nThe [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/8/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [Joda-Time](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [Oracle Tutorial](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8) and [**SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - The [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above) for Android specifically.\r\n  - See [*How to use ThreeTenABP…*](https://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now--\r\n  [3]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [4]: https://en.wikipedia.org/wiki/Millisecond\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\r\n  [6]: https://en.wikipedia.org/wiki/Microsecond\r\n  [7]: https://en.wikipedia.org/wiki/Program_optimization\r\n  [8]: http://openjdk.java.net/jeps/230","title":"How can I measure time with microsecond precision in Java?","body":"<h1>Using java.time</h1>\n<p>FYI, Java 9 and later has a fresh implementation of <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Clock.html\" rel=\"nofollow noreferrer\"><code>Clock</code></a> that can capture the current moment in up to nanoseconds resolution.</p>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class represents a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"nofollow noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a> (up to nine (9) digits of a decimal fraction).</p>\n<p>Call <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html#now--\" rel=\"nofollow noreferrer\"><code>Instant.now</code></a> to capture the current moment.</p>\n<ul>\n<li>In Java 9 and later, you get a resolution up to <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"nofollow noreferrer\">nanoseconds</a> for that current moment.</li>\n<li>In Java 8, the current moment is captured only up to <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"nofollow noreferrer\">milliseconds</a> resolution (you can indeed <em>hold</em> values with nanoseconds, but only <em>capture</em> current moment in milliseconds).</li>\n</ul>\n<p>Code:</p>\n<pre><code>Instant instant = Instant.now() ;\n</code></pre>\n<p>Represent a span of time unattached to the timeline with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Duration.html\" rel=\"nofollow noreferrer\"><code>Duration</code></a> class. Holds an amount of time in terms of seconds and nanoseconds.</p>\n<pre><code>Duration d = Duration.between( instantThen , Instant.now() );\n</code></pre>\n<p>To be clear, the <a href=\"https://en.wikipedia.org/wiki/Microsecond\" rel=\"nofollow noreferrer\">microseconds</a> resolution asked in the Question is in between the granularities of milliseconds and nanoseconds. Number of places in a decimal fraction: millis is 3 (0.123), micros is 6 (0.123456), nanos is 9 (0.123456789).</p>\n<h1>Caveat</h1>\n<p>Java relies on your computer’s hardware clock. As others warned, that hardware will almost certainly capture time with <strong>far less accuracy</strong> and <strong>far less resolution</strong> than nanoseconds.</p>\n<p>Benchmarking at such fine granularity is fraught with issues and <strong>not advisable</strong> generally.</p>\n<p>And beware of <a href=\"https://en.wikipedia.org/wiki/Program_optimization\" rel=\"nofollow noreferrer\">premature optimization</a>.</p>\n<p>There is a proposal to add micro-benchmarking facility to the Java platform in <a href=\"http://openjdk.java.net/jeps/230\" rel=\"nofollow noreferrer\">JEP 230: Microbenchmark Suite</a>. Based on the <a href=\"http://openjdk.java.net/projects/code-tools/jmh/\" rel=\"nofollow noreferrer\">Java Microbenchmark Harness (JMH)</a>.</p>\n<hr />\n<h1>About java.time</h1>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Oracle Tutorial</a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>SE 9</strong></a> and later</li>\n<li>Built-in.</li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>SE 7</strong></a></li>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a></li>\n<li>The <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <em>ThreeTen-Backport</em> (mentioned above) for Android specifically.</li>\n<li>See <a href=\"https://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"nofollow noreferrer\">ThreeTen-Extra</a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"nofollow noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"nofollow noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"nofollow noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"nofollow noreferrer\">more</a>.</p>\n"}],"owner":{"display_name":"jao"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61444,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"answer_count":12,"score":23,"last_activity_date":1657557570,"creation_date":1233593345,"question_id":503877,"body_markdown":"I saw on the Internet that I was supposed to use `System.nanoTime()` but that doesn&#39;t work for me - it gives me the time with milliseconds precision. I just need the microseconds before and after my function executes so that I know how long it takes. I&#39;m using Windows XP.\r\n\r\nBasically, I have this code that, for example, does 1 million up to 10 millions of insertions in a java linked list. The problem is that I can&#39;t measure the precision right; sometimes it takes less time to insert everything in the smaller list.\r\n\r\nHere&#39;s an example:\r\n\r\n    class test\r\n    {\r\n    \tpublic static void main(String args[])\r\n    \t{\r\n    \t\tfor(int k=1000000; k&lt;=10000000; k+=1000000)\r\n    \t\t{\r\n    \t\t\tSystem.out.println(k);\r\n    \t\t\tLinkedList&lt;Integer&gt; aux = new LinkedList&lt;Integer&gt;();\r\n    \t\t\t//need something here to see the start time\r\n    \t\t\tfor(int i=0; i&lt;k; i++)\r\n    \t\t\t\taux.addFirst(10000);\r\n    \t\t\t//need something here to see the end time\r\n    \t\t\t//print here the difference between both times\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nI did this many times - there was an exterior loop doing it 20 times for each k - but the result aren&#39;t good. Sometimes it takes less time to to make 10 million insertions than 1 million, because I&#39;m not getting the correct measured time with what I&#39;m using now (System.nanoTime())\r\n\r\nEdit 2: Yes, I&#39;m using the Sun JVM.\r\n\r\nEdit 3: I may have done something wrong in the code, I&#39;ll see if changing it does what I want.\r\n\r\nEdit 4: My mistake, it seems System.nanoTime() works. Phew.","title":"How can I measure time with microsecond precision in Java?","body":"<p>I saw on the Internet that I was supposed to use <code>System.nanoTime()</code> but that doesn't work for me - it gives me the time with milliseconds precision. I just need the microseconds before and after my function executes so that I know how long it takes. I'm using Windows XP.</p>\n\n<p>Basically, I have this code that, for example, does 1 million up to 10 millions of insertions in a java linked list. The problem is that I can't measure the precision right; sometimes it takes less time to insert everything in the smaller list.</p>\n\n<p>Here's an example:</p>\n\n<pre><code>class test\n{\n    public static void main(String args[])\n    {\n        for(int k=1000000; k&lt;=10000000; k+=1000000)\n        {\n            System.out.println(k);\n            LinkedList&lt;Integer&gt; aux = new LinkedList&lt;Integer&gt;();\n            //need something here to see the start time\n            for(int i=0; i&lt;k; i++)\n                aux.addFirst(10000);\n            //need something here to see the end time\n            //print here the difference between both times\n        }\n    }\n}\n</code></pre>\n\n<p>I did this many times - there was an exterior loop doing it 20 times for each k - but the result aren't good. Sometimes it takes less time to to make 10 million insertions than 1 million, because I'm not getting the correct measured time with what I'm using now (System.nanoTime())</p>\n\n<p>Edit 2: Yes, I'm using the Sun JVM.</p>\n\n<p>Edit 3: I may have done something wrong in the code, I'll see if changing it does what I want.</p>\n\n<p>Edit 4: My mistake, it seems System.nanoTime() works. Phew.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":15091436,"reputation":427,"user_id":10891226,"display_name":"RIVERMAN2010"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657557399,"creation_date":1657557399,"answer_id":72941828,"question_id":72941461,"body_markdown":"The issue is that the tokenizer will not recognize an `EOL` by default. You will need to enable this functionality with `tokenizer.eolIsSignificant(true);`. \r\n\r\nAfter `parse.tokenizer = new StreamTokenizer(reader);`  add this line `parse.tokenizer.eolIsSignificant(true);` and the tokenizer should recognize `EOL`s","title":"Using a Top-Down-Parser with lookahead in Java?","body":"<p>The issue is that the tokenizer will not recognize an <code>EOL</code> by default. You will need to enable this functionality with <code>tokenizer.eolIsSignificant(true);</code>.</p>\n<p>After <code>parse.tokenizer = new StreamTokenizer(reader);</code>  add this line <code>parse.tokenizer.eolIsSignificant(true);</code> and the tokenizer should recognize <code>EOL</code>s</p>\n"}],"owner":{"account_id":25772670,"reputation":13,"user_id":19520804,"display_name":"voyoja7723"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":72941828,"answer_count":1,"score":0,"last_activity_date":1657557399,"creation_date":1657555455,"question_id":72941461,"body_markdown":"I am trying to validate the input string: (10+30i) or should I say (10+30i)\\n by using a parser, but am unable to implement StreamTokenizer.TT_EOL so that my program is done when it sees ); checks if it maches &#39;)&#39; (it does) and sees that next token is end of line EOL ( or should it be EOF?) ; and prints out &quot;Reached the end!&quot;. Here is my code, I have tried to implement EOL but was unsuccesful:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import java.io.*;\r\n    import static java.util.Objects.requireNonNull;\r\n\r\n    public class Test2 {\r\n\r\n        private int lookahead;\r\n        private StreamTokenizer tokenizer;\r\n        private final Reader input;\r\n        private final Writer output;\r\n\r\n        public Test2(Reader input, Writer output) throws IOException {\r\n            this.input = requireNonNull(input);\r\n            this.output = requireNonNull(output);\r\n            this.lookahead = this.input.read();\r\n        }\r\n\r\n        private void next() throws IOException {\r\n\r\n            lookahead = tokenizer.nextToken();\r\n\r\n            if (lookahead == StreamTokenizer.TT_EOL) {\r\n                System.out.println(&quot;Reached the end!&quot;);\r\n            }\r\n\r\n            if (tokenizer.sval != null) {\r\n                char ch = tokenizer.sval.charAt(0);\r\n                lookahead = (int) ch;\r\n            }\r\n        }\r\n\r\n        private void match(int expected) throws IOException {\r\n\r\n            if (lookahead != expected ) {\r\n\r\n                switch (expected) {\r\n\r\n                    case &#39;(&#39;:\r\n                        System.out.println(&quot;Error, missing opening round bracket.&quot;);\r\n                        break;\r\n\r\n                    case &#39;)&#39;:\r\n                        System.out.println(&quot;Error, missing closing round bracket.&quot;);\r\n                        break;\r\n\r\n                    case &#39;i&#39;:\r\n                        System.out.println(&quot;Error, missing i.&quot;);\r\n                        break;\r\n\r\n                    case &#39;+&#39;:\r\n                        System.out.println(&quot;Error, missing +&quot;);\r\n                }\r\n            }  else {\r\n                next();\r\n            }\r\n        }\r\n\r\n        private void parseExpr() throws IOException {\r\n\r\n            if (lookahead == &#39;(&#39;) {\r\n\r\n                match(&#39;(&#39;);\r\n\r\n                if (lookahead == StreamTokenizer.TT_NUMBER) {\r\n                    next();\r\n                } else {\r\n            System.out.println(&quot;Error, missing number.&quot;);\r\n                    return;\r\n                }\r\n\r\n                match(&#39;+&#39;);\r\n\r\n                if (lookahead == StreamTokenizer.TT_NUMBER) {\r\n                    next();\r\n                } else {\r\n                    System.out.println(&quot;Error, missing number.&quot;);\r\n                    return;\r\n                }\r\n\r\n                match(&#39;i&#39;);\r\n\r\n                match(&#39;)&#39;);\r\n\r\n\r\n                System.out.println(&quot;We have a complex number.&quot;);\r\n\r\n                next();\r\n\r\n                parseExpr();\r\n\r\n                if (lookahead == &#39;+&#39;) {\r\n                    next();\r\n                    parseExpr();\r\n                }\r\n\r\n\r\n            }\r\n        }\r\n\r\n\r\n        public static void main(String[] args) throws IOException {\r\n            InputStreamReader reader = new InputStreamReader(System.in);\r\n            ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n            OutputStreamWriter writer = new OutputStreamWriter(outputStream);\r\n\r\n            Test2 parse = new Test2(reader, writer);\r\n\r\n            parse.tokenizer = new StreamTokenizer(reader);\r\n\r\n            parse.parseExpr();\r\n\r\n            writer.close(); // Close and flush output stream writer.\r\n\r\n            String output = outputStream.toString();\r\n            System.out.println(&quot;Output generated by parser: &quot; + output);\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI tried debugging it , it works fine until ) is recognized as a token.\r\n\r\nThis is the last step of the debugger, then it stops working:\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ehcio.png\r\n\r\n\r\nPlease help me :( even ideas on what changes I can make to whole code would help me a lot.","title":"Using a Top-Down-Parser with lookahead in Java?","body":"<p>I am trying to validate the input string: (10+30i) or should I say (10+30i)\\n by using a parser, but am unable to implement StreamTokenizer.TT_EOL so that my program is done when it sees ); checks if it maches ')' (it does) and sees that next token is end of line EOL ( or should it be EOF?) ; and prints out &quot;Reached the end!&quot;. Here is my code, I have tried to implement EOL but was unsuccesful:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import java.io.*;\nimport static java.util.Objects.requireNonNull;\n\npublic class Test2 {\n\n    private int lookahead;\n    private StreamTokenizer tokenizer;\n    private final Reader input;\n    private final Writer output;\n\n    public Test2(Reader input, Writer output) throws IOException {\n        this.input = requireNonNull(input);\n        this.output = requireNonNull(output);\n        this.lookahead = this.input.read();\n    }\n\n    private void next() throws IOException {\n\n        lookahead = tokenizer.nextToken();\n\n        if (lookahead == StreamTokenizer.TT_EOL) {\n            System.out.println(\"Reached the end!\");\n        }\n\n        if (tokenizer.sval != null) {\n            char ch = tokenizer.sval.charAt(0);\n            lookahead = (int) ch;\n        }\n    }\n\n    private void match(int expected) throws IOException {\n\n        if (lookahead != expected ) {\n\n            switch (expected) {\n\n                case '(':\n                    System.out.println(\"Error, missing opening round bracket.\");\n                    break;\n\n                case ')':\n                    System.out.println(\"Error, missing closing round bracket.\");\n                    break;\n\n                case 'i':\n                    System.out.println(\"Error, missing i.\");\n                    break;\n\n                case '+':\n                    System.out.println(\"Error, missing +\");\n            }\n        }  else {\n            next();\n        }\n    }\n\n    private void parseExpr() throws IOException {\n\n        if (lookahead == '(') {\n\n            match('(');\n\n            if (lookahead == StreamTokenizer.TT_NUMBER) {\n                next();\n            } else {\n        System.out.println(\"Error, missing number.\");\n                return;\n            }\n\n            match('+');\n\n            if (lookahead == StreamTokenizer.TT_NUMBER) {\n                next();\n            } else {\n                System.out.println(\"Error, missing number.\");\n                return;\n            }\n\n            match('i');\n\n            match(')');\n\n\n            System.out.println(\"We have a complex number.\");\n\n            next();\n\n            parseExpr();\n\n            if (lookahead == '+') {\n                next();\n                parseExpr();\n            }\n\n\n        }\n    }\n\n\n    public static void main(String[] args) throws IOException {\n        InputStreamReader reader = new InputStreamReader(System.in);\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n        OutputStreamWriter writer = new OutputStreamWriter(outputStream);\n\n        Test2 parse = new Test2(reader, writer);\n\n        parse.tokenizer = new StreamTokenizer(reader);\n\n        parse.parseExpr();\n\n        writer.close(); // Close and flush output stream writer.\n\n        String output = outputStream.toString();\n        System.out.println(\"Output generated by parser: \" + output);\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>I tried debugging it , it works fine until ) is recognized as a token.</p>\n<p>This is the last step of the debugger, then it stops working:</p>\n<p><a href=\"https://i.stack.imgur.com/Ehcio.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Please help me :( even ideas on what changes I can make to whole code would help me a lot.</p>\n"},{"tags":["java","android","size","inputstream"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1657556930,"post_id":72941573,"comment_id":128833585,"body_markdown":"Not at all, no.","body":"Not at all, no."},{"owner":{"account_id":8006627,"reputation":1,"user_id":6039758,"display_name":"drj"},"score":0,"creation_date":1657806340,"post_id":72941573,"comment_id":128901904,"body_markdown":"Thanks, but when I run both method they return same size. I have tested it on multiple file, that why I am really confuse.","body":"Thanks, but when I run both method they return same size. I have tested it on multiple file, that why I am really confuse."}],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657557014,"creation_date":1657557014,"answer_id":72941772,"question_id":72941573,"body_markdown":"When in doubt, check the docs - [InputStream.available()][1]. To cite:\r\n\r\n&gt; Note that while some implementations of InputStream will return the total number of bytes in the stream, many will not.\r\n\r\nLooks like it&#39;s not a good idea to use `available()` to calculate size.\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html#available()","title":"can you use InputStream.available() to calculate file size","body":"<p>When in doubt, check the docs - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/io/InputStream.html#available()\" rel=\"nofollow noreferrer\">InputStream.available()</a>. To cite:</p>\n<blockquote>\n<p>Note that while some implementations of InputStream will return the total number of bytes in the stream, many will not.</p>\n</blockquote>\n<p>Looks like it's not a good idea to use <code>available()</code> to calculate size.</p>\n"}],"owner":{"account_id":8006627,"reputation":1,"user_id":6039758,"display_name":"drj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657557014,"creation_date":1657556002,"question_id":72941573,"body_markdown":"&gt; should I use inputStream to calculate file size or use parcelFileDescriptor as inputstream is faster than parcelFileDescriptor  \r\n\r\n \r\n\r\n       public static long get_file_size_using_stream(InputStream is) {\r\n               return is.available();\r\n            }\r\n    \r\n        public static long get_file_size_using_pdf(ParcelFileDescriptor pfd) {\r\n               return  pfd.getStatSize();\r\n            }","title":"can you use InputStream.available() to calculate file size","body":"<blockquote>\n<p>should I use inputStream to calculate file size or use parcelFileDescriptor as inputstream is faster than parcelFileDescriptor</p>\n</blockquote>\n<pre><code>   public static long get_file_size_using_stream(InputStream is) {\n           return is.available();\n        }\n\n    public static long get_file_size_using_pdf(ParcelFileDescriptor pfd) {\n           return  pfd.getStatSize();\n        }\n</code></pre>\n"},{"tags":["java","json","maven","spring-mvc"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1657553085,"post_id":72940816,"comment_id":128832121,"body_markdown":"Don&#39;t mix versions of libraries. Please share your Spring MVC configuration.","body":"Don&#39;t mix versions of libraries. Please share your Spring MVC configuration."},{"owner":{"account_id":25674680,"reputation":11,"user_id":19438326,"display_name":"Laustrup"},"score":0,"creation_date":1657553718,"post_id":72940816,"comment_id":128832387,"body_markdown":"Sorry, I had some dump changes made along the way, when it came to versions of libraries, I&#39;ve updated the question now.","body":"Sorry, I had some dump changes made along the way, when it came to versions of libraries, I&#39;ve updated the question now."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1657553887,"post_id":72940816,"comment_id":128832454,"body_markdown":"You haven&#39;t enabled Spring MVC&#39;s default configuration. Your controller shouldn&#39;t be invoked at the moment, you need `mvc:annotation-driven`. What else do your logs show?","body":"You haven&#39;t enabled Spring MVC&#39;s default configuration. Your controller shouldn&#39;t be invoked at the moment, you need <code>mvc:annotation-driven</code>. What else do your logs show?"},{"owner":{"account_id":25674680,"reputation":11,"user_id":19438326,"display_name":"Laustrup"},"score":0,"creation_date":1657556396,"post_id":72940816,"comment_id":128833391,"body_markdown":"Funny, actually previously I did have that, but it caused errors, but now I found the issue, which was the xsi:schemaLocation of https://www.springframework.org/schema/context/spring-mvc.xsd, where because of copy paiste I had the context instead of mvc, haha. But thank you, it was helpful to the importance of that tag. There&#39;s a lot of different things to know, if you useally have been working with Spring Boot.","body":"Funny, actually previously I did have that, but it caused errors, but now I found the issue, which was the xsi:schemaLocation of <a href=\"https://www.springframework.org/schema/context/spring-mvc.xsd\" rel=\"nofollow noreferrer\">springframework.org/schema/context/spring-mvc.xsd</a>, where because of copy paiste I had the context instead of mvc, haha. But thank you, it was helpful to the importance of that tag. There&#39;s a lot of different things to know, if you useally have been working with Spring Boot."}],"answers":[{"tags":[],"owner":{"account_id":15446818,"reputation":126,"user_id":11143525,"display_name":"SARATHI"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657554521,"creation_date":1657554521,"answer_id":72941243,"question_id":72940816,"body_markdown":"Make sure the Model file contains all the required getters and setters for the data you are trying to send in JSON format.\r\nIf everything inside the Model file is fine do take a look at the link for a detailed solution\r\n[Content type &#39;application/JSON not supported in Spring MVC and jackson][1]\r\n\r\n\r\n  [1]: https://www.javafixing.com/2021/12/fixed-content-type-not-supported-in.html","title":"Spring MVC - Content type &#39;application/json&#39; not supported","body":"<p>Make sure the Model file contains all the required getters and setters for the data you are trying to send in JSON format.\nIf everything inside the Model file is fine do take a look at the link for a detailed solution\n<a href=\"https://www.javafixing.com/2021/12/fixed-content-type-not-supported-in.html\" rel=\"nofollow noreferrer\">Content type 'application/JSON not supported in Spring MVC and jackson</a></p>\n"},{"tags":[],"owner":{"account_id":25674680,"reputation":11,"user_id":19438326,"display_name":"Laustrup"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657556644,"creation_date":1657556644,"answer_id":72941697,"question_id":72940816,"body_markdown":"As Sotirios Delimanolis mentioned, I missed a mvc:annotation tag in my -servlet.xml file and wrote something wrong about the schemaLocation, now json is supported with mvc.","title":"Spring MVC - Content type &#39;application/json&#39; not supported","body":"<p>As Sotirios Delimanolis mentioned, I missed a mvc:annotation tag in my -servlet.xml file and wrote something wrong about the schemaLocation, now json is supported with mvc.</p>\n"}],"owner":{"account_id":25674680,"reputation":11,"user_id":19438326,"display_name":"Laustrup"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":320,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72941697,"answer_count":2,"score":0,"last_activity_date":1657556644,"creation_date":1657552522,"question_id":72940816,"body_markdown":"I&#39;m writing an MVC project through Spring framework, not Spring Boot, in Eclipse Enterprise.\r\nWith Postman I&#39;m sending a json object to my method:\r\n\r\n\t@PutMapping(value = &quot;/put_in_mail&quot;, \r\n\t\t\tproduces = MediaType.APPLICATION_JSON_VALUE,\r\n\t\t\tconsumes = MediaType.APPLICATION_JSON_VALUE)\r\n\tpublic ResponseEntity&lt;Mailbox&gt; putInMailBox(@RequestBody Mail mail) {\r\n\t\treturn service.putMailInInbox(mail);\r\n\t}\r\n\r\nBut in Eclipse I&#39;m getting this error: \r\n\r\n    Jul 11, 2022 5:08:10 PM org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException\r\n    WARNING: Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type &#39;application/json&#39; not supported]\r\n\r\nI think it has something to do with my pom.xml and my dependencies:\r\n\r\n\t&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n\t  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t  &lt;groupId&gt;laustrup&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;Mailbox&lt;/artifactId&gt;\r\n\t  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\t  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t  &lt;name&gt;Mailbox Maven Webapp&lt;/name&gt;\r\n\t  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\t  \r\n\t  &lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n\t        &lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n\t        &lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n\t        &lt;version&gt;1.2&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n\t         &lt;version&gt;2.13.3&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n\t        &lt;version&gt;2.13.3&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    &lt;dependency&gt;\r\n\t        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t        &lt;version&gt;2.13.3&lt;/version&gt;\r\n\t    &lt;/dependency&gt;\r\n\t    \r\n\t  &lt;/dependencies&gt;\r\n\t  \r\n\t  &lt;build&gt;\r\n\t    &lt;finalName&gt;Mailbox&lt;/finalName&gt;\r\n\t    &lt;!-- To define the plugin version in your parent POM --&gt;\r\n\t    &lt;pluginManagement&gt;\r\n\t      &lt;plugins&gt;\r\n\t        &lt;plugin&gt;\r\n\t          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t          &lt;version&gt;3.3.2&lt;/version&gt;\r\n\t        &lt;/plugin&gt;\r\n\t      &lt;/plugins&gt;\r\n\t    &lt;/pluginManagement&gt;\r\n\t  &lt;/build&gt;\r\n\t&lt;/project&gt;\r\n\r\nIt there anything in pom.xml I should change?\r\n\r\n\r\nOther details are such - \r\nweb.xml:\r\n\r\n\t&lt;!DOCTYPE web-app PUBLIC\r\n\t &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\r\n\t &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\r\n\t\r\n\t&lt;web-app&gt;\r\n\t  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\r\n\t  \r\n\t  &lt;servlet&gt;\r\n\t  \t&lt;servlet-name&gt;frontcontroller&lt;/servlet-name&gt;\r\n\t  \t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n\t  \t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t  &lt;/servlet&gt;\r\n\t  \r\n\t  &lt;servlet-mapping&gt;\r\n\t  \t&lt;servlet-name&gt;frontcontroller&lt;/servlet-name&gt;\r\n\t  \t&lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n\t  &lt;/servlet-mapping&gt;\r\n\t&lt;/web-app&gt;\r\n\r\n-servlet.xml\r\n\r\n\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t\r\n\t&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n\t\txmlns:ctx=&quot;http://www.springframework.org/schema/context&quot;\r\n\t    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n\t    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\r\n\t    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\r\n\t        https://www.springframework.org/schema/beans/spring-beans.xsd\r\n\t        \r\n\t        http://www.springframework.org/schema/context\r\n\t        https://www.springframework.org/schema/context/spring-context.xsd\r\n\t        \r\n\t        http://www.springframework.org/schema/mvc\r\n\t        https://www.springframework.org/schema/context/spring-mvc.xsd&quot;\r\n\t    &gt;\r\n\t\r\n\t\t&lt;ctx:annotation-config&gt;&lt;/ctx:annotation-config&gt;\r\n\t\t\r\n\t\t&lt;ctx:component-scan base-package=&quot;laustrup.controllers&quot;&gt;&lt;/ctx:component-scan&gt;\r\n\t\t&lt;ctx:component-scan base-package=&quot;laustrup.models&quot;&gt;&lt;/ctx:component-scan&gt;\r\n\t\t&lt;ctx:component-scan base-package=&quot;laustrup.services&quot;&gt;&lt;/ctx:component-scan&gt;\r\n\t&lt;/beans&gt;","title":"Spring MVC - Content type &#39;application/json&#39; not supported","body":"<p>I'm writing an MVC project through Spring framework, not Spring Boot, in Eclipse Enterprise.\nWith Postman I'm sending a json object to my method:</p>\n<pre><code>@PutMapping(value = &quot;/put_in_mail&quot;, \n        produces = MediaType.APPLICATION_JSON_VALUE,\n        consumes = MediaType.APPLICATION_JSON_VALUE)\npublic ResponseEntity&lt;Mailbox&gt; putInMailBox(@RequestBody Mail mail) {\n    return service.putMailInInbox(mail);\n}\n</code></pre>\n<p>But in Eclipse I'm getting this error:</p>\n<pre><code>Jul 11, 2022 5:08:10 PM org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver logException\nWARNING: Resolved [org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/json' not supported]\n</code></pre>\n<p>I think it has something to do with my pom.xml and my dependencies:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;laustrup&lt;/groupId&gt;\n  &lt;artifactId&gt;Mailbox&lt;/artifactId&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;name&gt;Mailbox Maven Webapp&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n        &lt;version&gt;5.2.9.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n        &lt;version&gt;1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n         &lt;version&gt;2.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;version&gt;2.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;version&gt;2.13.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    \n  &lt;/dependencies&gt;\n  \n  &lt;build&gt;\n    &lt;finalName&gt;Mailbox&lt;/finalName&gt;\n    &lt;!-- To define the plugin version in your parent POM --&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3.2&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>It there anything in pom.xml I should change?</p>\n<p>Other details are such -\nweb.xml:</p>\n<pre><code>&lt;!DOCTYPE web-app PUBLIC\n &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\n\n&lt;web-app&gt;\n  &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n  \n  &lt;servlet&gt;\n    &lt;servlet-name&gt;frontcontroller&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n  &lt;/servlet&gt;\n  \n  &lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;frontcontroller&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\n  &lt;/servlet-mapping&gt;\n&lt;/web-app&gt;\n</code></pre>\n<p>-servlet.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\n    xmlns:ctx=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\n    xmlns:mvc=&quot;http://www.springframework.org/schema/mvc&quot;\n    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans\n        https://www.springframework.org/schema/beans/spring-beans.xsd\n        \n        http://www.springframework.org/schema/context\n        https://www.springframework.org/schema/context/spring-context.xsd\n        \n        http://www.springframework.org/schema/mvc\n        https://www.springframework.org/schema/context/spring-mvc.xsd&quot;\n    &gt;\n\n    &lt;ctx:annotation-config&gt;&lt;/ctx:annotation-config&gt;\n    \n    &lt;ctx:component-scan base-package=&quot;laustrup.controllers&quot;&gt;&lt;/ctx:component-scan&gt;\n    &lt;ctx:component-scan base-package=&quot;laustrup.models&quot;&gt;&lt;/ctx:component-scan&gt;\n    &lt;ctx:component-scan base-package=&quot;laustrup.services&quot;&gt;&lt;/ctx:component-scan&gt;\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","active-directory"],"answers":[{"tags":[],"owner":{"account_id":7919958,"reputation":15,"user_id":5981252,"display_name":"Manning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657556301,"creation_date":1657556301,"answer_id":72941638,"question_id":72914122,"body_markdown":"Figured it out by setting the rootDn value in my config for my ActiveDirectoryLdapAuthenticationProvider to &#39;dc=domain, dc=com&#39;\r\n\r\n","title":"Spring Security ActiveDirectory user authentication issue","body":"<p>Figured it out by setting the rootDn value in my config for my ActiveDirectoryLdapAuthenticationProvider to 'dc=domain, dc=com'</p>\n"}],"owner":{"account_id":7919958,"reputation":15,"user_id":5981252,"display_name":"Manning"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72941638,"answer_count":1,"score":0,"last_activity_date":1657556301,"creation_date":1657296355,"question_id":72914122,"body_markdown":"I&#39;m new to Spring security and trying to connect to Active Directory. \r\n\r\nI&#39;m having issues logging in with general users. When I use &#39;username@domain.com&#39; to login in, I don&#39;t get any debugs or anything\r\n\r\nIf I try the same username with a gibberish password, I get an the following error:\r\n```[nio-8080-exec-4] ctiveDirectoryLdapAuthenticationProvider : Authentication for username@domain.com failed:javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090439, comment: AcceptSecurityContext error, data 52e, v4563 ]```\r\n\r\nI know that error means the username exists but the password was bad (which is what we want). \r\n\r\nMy question is why am I getting nothing when using the correct username/password.\r\n\r\nHere is my config\r\n\r\n```\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        ActiveDirectoryLdapAuthenticationProvider adProvider = new ActiveDirectoryLdapAuthenticationProvider(null,\r\n                &quot;ldap://10.100.2.11:389&quot;);\r\n        adProvider.setConvertSubErrorCodesToExceptions(true);\r\n        adProvider.setUseAuthenticationRequestCredentials(true);\r\n        //adProvider.setSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName={0}))&quot;);\r\n//        adProvider.setSearchFilter(&quot;(|&quot; +\r\n//                &quot;(&amp;(objectClass=user)(userPrincipalName={0}))&quot; +\r\n//                &quot;(&amp;(objectClass=user)(samAccountName={1}))&quot; +\r\n//                &quot;)&quot;);\r\n\r\n        auth.authenticationProvider(adProvider);\r\n        auth.eraseCredentials(false);\r\n    }\r\n```\r\n\r\nI&#39;ve tried the commented out search filters and neither of them change any behavior. \r\n\r\nHere&#39;s the debug when I try to login with correct credentials\r\n```\r\n2022-07-08 10:56:14.066 DEBUG 4416 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /login\r\n2022-07-08 10:56:14.067 DEBUG 4416 --- [nio-8080-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n2022-07-08 10:56:14.196 DEBUG 4416 --- [nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error\r\n2022-07-08 10:56:14.197 DEBUG 4416 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\r\n2022-07-08 10:56:14.197 DEBUG 4416 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\r\n2022-07-08 10:56:14.197 DEBUG 4416 --- [nio-8080-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n2022-07-08 10:56:14.202 DEBUG 4416 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login?error\r\n2022-07-08 10:56:14.203 DEBUG 4416 --- [nio-8080-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\r\n2022-07-08 10:56:14.203 DEBUG 4416 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\r\n2022-07-08 10:56:14.203 DEBUG 4416 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\r\n2022-07-08 10:56:14.204 DEBUG 4416 --- [nio-8080-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\r\n```","title":"Spring Security ActiveDirectory user authentication issue","body":"<p>I'm new to Spring security and trying to connect to Active Directory.</p>\n<p>I'm having issues logging in with general users. When I use 'username@domain.com' to login in, I don't get any debugs or anything</p>\n<p>If I try the same username with a gibberish password, I get an the following error:\n<code>[nio-8080-exec-4] ctiveDirectoryLdapAuthenticationProvider : Authentication for username@domain.com failed:javax.naming.AuthenticationException: [LDAP: error code 49 - 80090308: LdapErr: DSID-0C090439, comment: AcceptSecurityContext error, data 52e, v4563 ]</code></p>\n<p>I know that error means the username exists but the password was bad (which is what we want).</p>\n<p>My question is why am I getting nothing when using the correct username/password.</p>\n<p>Here is my config</p>\n<pre><code>    @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        ActiveDirectoryLdapAuthenticationProvider adProvider = new ActiveDirectoryLdapAuthenticationProvider(null,\n                &quot;ldap://10.100.2.11:389&quot;);\n        adProvider.setConvertSubErrorCodesToExceptions(true);\n        adProvider.setUseAuthenticationRequestCredentials(true);\n        //adProvider.setSearchFilter(&quot;(&amp;(objectClass=user)(sAMAccountName={0}))&quot;);\n//        adProvider.setSearchFilter(&quot;(|&quot; +\n//                &quot;(&amp;(objectClass=user)(userPrincipalName={0}))&quot; +\n//                &quot;(&amp;(objectClass=user)(samAccountName={1}))&quot; +\n//                &quot;)&quot;);\n\n        auth.authenticationProvider(adProvider);\n        auth.eraseCredentials(false);\n    }\n</code></pre>\n<p>I've tried the commented out search filters and neither of them change any behavior.</p>\n<p>Here's the debug when I try to login with correct credentials</p>\n<pre><code>2022-07-08 10:56:14.066 DEBUG 4416 --- [nio-8080-exec-7] o.s.security.web.FilterChainProxy        : Securing POST /login\n2022-07-08 10:56:14.067 DEBUG 4416 --- [nio-8080-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2022-07-08 10:56:14.196 DEBUG 4416 --- [nio-8080-exec-7] o.s.s.web.DefaultRedirectStrategy        : Redirecting to /login?error\n2022-07-08 10:56:14.197 DEBUG 4416 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\n2022-07-08 10:56:14.197 DEBUG 4416 --- [nio-8080-exec-7] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\n2022-07-08 10:56:14.197 DEBUG 4416 --- [nio-8080-exec-7] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n2022-07-08 10:56:14.202 DEBUG 4416 --- [nio-8080-exec-8] o.s.security.web.FilterChainProxy        : Securing GET /login?error\n2022-07-08 10:56:14.203 DEBUG 4416 --- [nio-8080-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Set SecurityContextHolder to empty SecurityContext\n2022-07-08 10:56:14.203 DEBUG 4416 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\n2022-07-08 10:56:14.203 DEBUG 4416 --- [nio-8080-exec-8] w.c.HttpSessionSecurityContextRepository : Did not store empty SecurityContext\n2022-07-08 10:56:14.204 DEBUG 4416 --- [nio-8080-exec-8] s.s.w.c.SecurityContextPersistenceFilter : Cleared SecurityContextHolder to complete request\n</code></pre>\n"},{"tags":["java","spring","postgresql","ssl","hikaricp"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1657532746,"post_id":72936514,"comment_id":128824035,"body_markdown":"I wonder why you have your own config class and not use the defaults. Please include the **full stacktrace** not only the snippet you have now.","body":"I wonder why you have your own config class and not use the defaults. Please include the <b>full stacktrace</b> not only the snippet you have now."},{"owner":{"account_id":1906465,"reputation":39489,"user_id":1721239,"display_name":"jjanes"},"score":1,"creation_date":1657548661,"post_id":72936514,"comment_id":128830161,"body_markdown":"Check your spelling.  Factory, not Factor.","body":"Check your spelling.  Factory, not Factor."}],"answers":[{"tags":[],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1657556246,"creation_date":1657556246,"answer_id":72941622,"question_id":72936514,"body_markdown":"Thanks to Jjanes\r\ni had a typo and missing a y in the factory name\r\n\r\n    ?sslmode=verify-ca&amp;ssl=true&amp;sslrootcert=/var/lib/jetty/global-bundle.pem&amp;sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory","title":"Java Hikari How to solve SSL factory error when using org.postgresql.ssl.jdbc4.LibPQFactory","body":"<p>Thanks to Jjanes\ni had a typo and missing a y in the factory name</p>\n<pre><code>?sslmode=verify-ca&amp;ssl=true&amp;sslrootcert=/var/lib/jetty/global-bundle.pem&amp;sslfactory=org.postgresql.ssl.jdbc4.LibPQFactory\n</code></pre>\n"}],"owner":{"account_id":1551684,"reputation":1024,"user_id":1443928,"accept_rate":93,"display_name":"Hard Worker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72941622,"answer_count":1,"score":0,"last_activity_date":1657556246,"creation_date":1657532521,"question_id":72936514,"body_markdown":"\r\n\r\nI&#39;m trying to create a DB connection using Hikari data source\r\nthis is my Parameters, i need to use a sslfactory \r\nwhen i use LibPQFactor it fails with the error below, how can i solve it ?\r\ni want to clarify that i must **NOT** use `org.postgresql.ssl.NonValidatingFactory`\r\nso Please dont offer it\r\n\r\n\r\n\r\nThoese are the SSL params I use to concatenate to my JDBC URL:\r\n\r\n    &quot;?sslmode=verify-ca&amp;ssl=true&amp;sslrootcert=/opt/datorama/cert/global-bundle.pem&amp;sslfactory=org.postgresql.ssl.jdbc4.LibPQFactor&quot;;\r\n\r\nThis is the stack trace\r\n\r\n    Error creating bean with name &#39;hikariConfigDataSource&#39; defined in com.datorama.datasource.OLTPHikariDatasourceConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariConfig]: Factory method &#39;dataSource&#39; threw exception; nested exception is com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: The SSLSocketFactory class provided org.postgresql.ssl.jdbc4.LibPQFactor could not be instantiated.\r\n\r\n\r\n\r\nfull stack trace\r\n\r\n    s org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;dataSourceBase&#39; defined in com.company.datasource.OLTPHikariDatasourceConfig: Unsatisfied dependency expressed through method &#39;buildHikariDataSource&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hikariConfigDataSource&#39; defined in com.company.datasource.OLTPHikariDatasourceConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariConfig]: Factory method &#39;dataSource&#39; threw exception; nested exception is com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: The SSLSocketFactory class provided org.postgresql.ssl.jdbc4.LibPQFactor could not be instantiated.\r\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\r\n    at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\r\n    at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:706)\r\n    at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:197)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1361)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1208)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\r\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\r\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\r\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\r\n    at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\r\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307)\r\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227)\r\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcesso…&quot;,&quot;_serviceName&quot;:&quot;dtr-company-web&quot;}*\r\n\r\n* \r\n\r\n","title":"Java Hikari How to solve SSL factory error when using org.postgresql.ssl.jdbc4.LibPQFactory","body":"<p>I'm trying to create a DB connection using Hikari data source\nthis is my Parameters, i need to use a sslfactory\nwhen i use LibPQFactor it fails with the error below, how can i solve it ?\ni want to clarify that i must <strong>NOT</strong> use <code>org.postgresql.ssl.NonValidatingFactory</code>\nso Please dont offer it</p>\n<p>Thoese are the SSL params I use to concatenate to my JDBC URL:</p>\n<pre><code>&quot;?sslmode=verify-ca&amp;ssl=true&amp;sslrootcert=/opt/datorama/cert/global-bundle.pem&amp;sslfactory=org.postgresql.ssl.jdbc4.LibPQFactor&quot;;\n</code></pre>\n<p>This is the stack trace</p>\n<pre><code>Error creating bean with name 'hikariConfigDataSource' defined in com.datorama.datasource.OLTPHikariDatasourceConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariConfig]: Factory method 'dataSource' threw exception; nested exception is com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: The SSLSocketFactory class provided org.postgresql.ssl.jdbc4.LibPQFactor could not be instantiated.\n</code></pre>\n<p>full stack trace</p>\n<pre><code>s org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourceBase' defined in com.company.datasource.OLTPHikariDatasourceConfig: Unsatisfied dependency expressed through method 'buildHikariDataSource' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hikariConfigDataSource' defined in com.company.datasource.OLTPHikariDatasourceConfig: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariConfig]: Factory method 'dataSource' threw exception; nested exception is com.zaxxer.hikari.pool.HikariPool$PoolInitializationException: Failed to initialize pool: The SSLSocketFactory class provided org.postgresql.ssl.jdbc4.LibPQFactor could not be instantiated.\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:342)\nat org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:113)\nat org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:706)\nat org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:197)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1361)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1208)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:556)\nat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:516)\nat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:324)\nat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\nat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:322)\nat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)\nat org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1307)\nat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1227)\nat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcesso…&quot;,&quot;_serviceName&quot;:&quot;dtr-company-web&quot;}*\n</code></pre>\n<ul>\n<li></li>\n</ul>\n"},{"tags":["java","android","android-activity","android-theme"],"comments":[{"owner":{"account_id":1422699,"reputation":4139,"user_id":1346996,"display_name":"Ant&#243;nio Ribeiro"},"score":0,"creation_date":1455557286,"post_id":35415030,"comment_id":58531750,"body_markdown":"When are you creating the instances of `MainActivity` and `Settings`?","body":"When are you creating the instances of <code>MainActivity</code> and <code>Settings</code>?"},{"owner":{"account_id":7733383,"reputation":2830,"user_id":5855723,"accept_rate":62,"display_name":"Sid"},"score":0,"creation_date":1455557801,"post_id":35415030,"comment_id":58532038,"body_markdown":"changeToTheme method, in that settings activity is returned when user selects color from color picker dialog. Main activity&#39;s instance is not created, when i press back the activity&#39;s theme is not chanegd.","body":"changeToTheme method, in that settings activity is returned when user selects color from color picker dialog. Main activity&#39;s instance is not created, when i press back the activity&#39;s theme is not chanegd."}],"answers":[{"tags":[],"owner":{"account_id":2557581,"reputation":6571,"user_id":2219237,"accept_rate":60,"display_name":"Vasily Kabunov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1455558171,"creation_date":1455558171,"answer_id":35415722,"question_id":35415030,"body_markdown":"In your `Settings` class you are writing the selected color into `&quot;MyPrefs&quot;` preferences, but in your `MainActivity` your are reading from `&quot;MyPref&quot;` (without S) preferences.\r\n\r\nYou have already had the public constant `MyPREFERENCES`, try to use it in the `MainActivity` also.","title":"Theme not getting set on Main Activity","body":"<p>In your <code>Settings</code> class you are writing the selected color into <code>\"MyPrefs\"</code> preferences, but in your <code>MainActivity</code> your are reading from <code>\"MyPref\"</code> (without S) preferences.</p>\n\n<p>You have already had the public constant <code>MyPREFERENCES</code>, try to use it in the <code>MainActivity</code> also.</p>\n"},{"tags":[],"owner":{"account_id":25583936,"reputation":76,"user_id":19361968,"display_name":"Murat K."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657555784,"creation_date":1657555784,"answer_id":72941523,"question_id":35415030,"body_markdown":"When i changed the theme of the second activity, i couldn&#39;t change the first activities theme. \r\nI wrote this code in both activities\r\n\r\n    ChangeThemes.onActivityCreateSetTheme(this);\r\n\r\nJust right before\r\n\r\n     super.onCreate(savedInstanceState);\r\n\r\nIt worked!\r\n\r\n\r\n","title":"Theme not getting set on Main Activity","body":"<p>When i changed the theme of the second activity, i couldn't change the first activities theme.\nI wrote this code in both activities</p>\n<pre><code>ChangeThemes.onActivityCreateSetTheme(this);\n</code></pre>\n<p>Just right before</p>\n<pre><code> super.onCreate(savedInstanceState);\n</code></pre>\n<p>It worked!</p>\n"}],"owner":{"account_id":7733383,"reputation":2830,"user_id":5855723,"accept_rate":62,"display_name":"Sid"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":35415722,"answer_count":2,"score":0,"last_activity_date":1657555784,"creation_date":1455555842,"question_id":35415030,"body_markdown":"I am trying to change theme of an application dynamically. I have two activities, one is main activity and another is setting activity. \r\n\r\nIn settings activity I am changing theme from color picker dialog when color is selected, theme is changed. But theme is only getting change for the settings activity and not on main activity.\r\n\r\nI tried to send color values from settings activity to main activity , but the app dose not get start up. It&#39;s showing only blank screen.\r\n\r\nWhen I did debug, I came to know that its getting stuck on first `if(n==0){}`, and the loop goes on it dose not end.\r\n\r\nNot getting what&#39;s wrong.\r\n\r\nAlso may be main activity dose not get refreshed when I come from settings activity. How can I refresh main activity?\r\n\r\n\r\nSettings Activity:\r\n\r\n        \r\n    public class Settings extends AppCompatActivity {\r\n   \r\n        int no;\r\n    \r\n        public static final String MyPREFERENCES = &quot;MyPrefs&quot; ;\r\n        public static final int color = 0;\r\n        public static final int color_2 = 0;\r\n        public static final int color_3 = 0;\r\n        SharedPreferences sharedpreferences;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n    \r\n            Theme.onActivityCreateSetTheme(this);\r\n    \r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_settings);\r\n            Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\r\n            setSupportActionBar(toolbar);\r\n    \r\n    \r\n            sharedpreferences = getSharedPreferences(MyPREFERENCES, Context.MODE_PRIVATE);\r\n    \r\n    \r\n    \r\n            final ColorPickerDialog colorPickerDialog = new ColorPickerDialog();\r\n            colorPickerDialog.initialize(R.string.dialog_title, new int[]{Color.CYAN, Color.LTGRAY, Color.BLACK, Color.BLUE, Color.GREEN, Color.MAGENTA, Color.RED, Color.GRAY, Color.YELLOW}, Color.YELLOW, 3, 2);\r\n            colorPickerDialog.setOnColorSelectedListener(new ColorPickerSwatch.OnColorSelectedListener() {\r\n    \r\n                @Override\r\n                public void onColorSelected(int color) {\r\n    \r\n                    if (color == Color.CYAN) {\r\n                        Theme.changeToTheme(Settings.this, Theme.THEME_DEFAULT);\r\n                        no = 0;\r\n                    }\r\n                    else if (color == Color.LTGRAY)\r\n    \r\n                    {\r\n                        Theme.changeToTheme(Settings.this, Theme.THEME_WHITE);\r\n                        no = 1;\r\n                    }\r\n                    else if (color == Color.BLACK) {\r\n    \r\n                        Theme.changeToTheme(Settings.this,Theme.THEME_BLUE);\r\n                        no = 3;\r\n    \r\n                    }\r\n                    Toast.makeText(Settings.this, &quot;selectedColor : &quot; + color, Toast.LENGTH_SHORT).show();\r\n                }\r\n    \r\n            });\r\n    \r\n            SharedPreferences.Editor editor = sharedpreferences.edit();\r\n    \r\n            editor.putInt(&quot;color&quot;,no);\r\n          //  editor.putInt(&quot;color_2&quot;,no);\r\n          //  editor.putInt(&quot;color_3&quot;,no);\r\n            editor.commit();\r\n    \r\n            LinearLayout theme = (LinearLayout)findViewById(R.id.theme);\r\n    \r\n            theme.setOnClickListener(new View.OnClickListener() {\r\n    \r\n                @Override\r\n                public void onClick(View v) {\r\n                    colorPickerDialog.show(getSupportFragmentManager(), &quot;colorpicker&quot;);\r\n                }\r\n            });\r\n        }\r\n    \r\n    }\r\n\r\n\r\nTheme:\r\n\r\n        public class Theme {\r\n    \r\n        private static int sTheme;\r\n    \r\n        public final static int THEME_DEFAULT = 0;\r\n        public final static int THEME_WHITE = 1;\r\n        public final static int THEME_BLUE = 2;\r\n    \r\n        /** * Set the theme of the Activity, and restart it by creating a new Activity of the same type. */\r\n        public static void changeToTheme(Activity activity, int theme) {\r\n            sTheme = theme;\r\n            activity.finish();\r\n            Intent i = new Intent(activity,activity.getClass());\r\n            activity.startActivity(i);\r\n        }\r\n    \r\n        /** Set the theme of the activity, according to the configuration. */\r\n        public static void onActivityCreateSetTheme(Activity activity) {\r\n            switch (sTheme) {\r\n                default:\r\n    \r\n                case THEME_DEFAULT:\r\n                    activity.setTheme(R.style.AppTheme);\r\n                    break;\r\n    \r\n                case THEME_WHITE:\r\n    \r\n                    activity.setTheme(R.style.AppTheme_Solarized);\r\n                    break;\r\n    \r\n                case THEME_BLUE:\r\n    \r\n                    activity.setTheme(R.style.BlueTheme);\r\n    \r\n                    break;\r\n    \r\n            }\r\n        }\r\n    }\r\n\r\nMain Activity:\r\n\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private NavigationView navigationView;\r\n    private DrawerLayout drawerLayout;\r\n    Toolbar mToolbar;\r\n    private MainFragment mFragment;\r\n    private int no,no1,no2;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n\r\n       SharedPreferences pref = getApplicationContext().getSharedPreferences(&quot;MyPref&quot;, MODE_PRIVATE);\r\n        SharedPreferences.Editor editor = pref.edit();\r\n\r\n\r\n        no = pref.getInt(&quot;color&quot;,0);\r\n\r\n\r\n        if(no == 0)\r\n        {\r\n            setTheme(R.style.AppTheme);\r\n        }\r\n\r\n        else if(no == 1)\r\n        {\r\n            setTheme(R.style.AppTheme_Solarized);\r\n        }\r\n\r\n        else if(no == 2)\r\n        {\r\n            setTheme(R.style.BlueTheme);\r\n        }\r\n\r\n       // Theme.onActivityCreateSetTheme(this);\r\n\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\nThank you.","title":"Theme not getting set on Main Activity","body":"<p>I am trying to change theme of an application dynamically. I have two activities, one is main activity and another is setting activity. </p>\n\n<p>In settings activity I am changing theme from color picker dialog when color is selected, theme is changed. But theme is only getting change for the settings activity and not on main activity.</p>\n\n<p>I tried to send color values from settings activity to main activity , but the app dose not get start up. It's showing only blank screen.</p>\n\n<p>When I did debug, I came to know that its getting stuck on first <code>if(n==0){}</code>, and the loop goes on it dose not end.</p>\n\n<p>Not getting what's wrong.</p>\n\n<p>Also may be main activity dose not get refreshed when I come from settings activity. How can I refresh main activity?</p>\n\n<p>Settings Activity:</p>\n\n<pre><code>public class Settings extends AppCompatActivity {\n\n    int no;\n\n    public static final String MyPREFERENCES = \"MyPrefs\" ;\n    public static final int color = 0;\n    public static final int color_2 = 0;\n    public static final int color_3 = 0;\n    SharedPreferences sharedpreferences;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n\n        Theme.onActivityCreateSetTheme(this);\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_settings);\n        Toolbar toolbar = (Toolbar) findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n\n        sharedpreferences = getSharedPreferences(MyPREFERENCES, Context.MODE_PRIVATE);\n\n\n\n        final ColorPickerDialog colorPickerDialog = new ColorPickerDialog();\n        colorPickerDialog.initialize(R.string.dialog_title, new int[]{Color.CYAN, Color.LTGRAY, Color.BLACK, Color.BLUE, Color.GREEN, Color.MAGENTA, Color.RED, Color.GRAY, Color.YELLOW}, Color.YELLOW, 3, 2);\n        colorPickerDialog.setOnColorSelectedListener(new ColorPickerSwatch.OnColorSelectedListener() {\n\n            @Override\n            public void onColorSelected(int color) {\n\n                if (color == Color.CYAN) {\n                    Theme.changeToTheme(Settings.this, Theme.THEME_DEFAULT);\n                    no = 0;\n                }\n                else if (color == Color.LTGRAY)\n\n                {\n                    Theme.changeToTheme(Settings.this, Theme.THEME_WHITE);\n                    no = 1;\n                }\n                else if (color == Color.BLACK) {\n\n                    Theme.changeToTheme(Settings.this,Theme.THEME_BLUE);\n                    no = 3;\n\n                }\n                Toast.makeText(Settings.this, \"selectedColor : \" + color, Toast.LENGTH_SHORT).show();\n            }\n\n        });\n\n        SharedPreferences.Editor editor = sharedpreferences.edit();\n\n        editor.putInt(\"color\",no);\n      //  editor.putInt(\"color_2\",no);\n      //  editor.putInt(\"color_3\",no);\n        editor.commit();\n\n        LinearLayout theme = (LinearLayout)findViewById(R.id.theme);\n\n        theme.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                colorPickerDialog.show(getSupportFragmentManager(), \"colorpicker\");\n            }\n        });\n    }\n\n}\n</code></pre>\n\n<p>Theme:</p>\n\n<pre><code>    public class Theme {\n\n    private static int sTheme;\n\n    public final static int THEME_DEFAULT = 0;\n    public final static int THEME_WHITE = 1;\n    public final static int THEME_BLUE = 2;\n\n    /** * Set the theme of the Activity, and restart it by creating a new Activity of the same type. */\n    public static void changeToTheme(Activity activity, int theme) {\n        sTheme = theme;\n        activity.finish();\n        Intent i = new Intent(activity,activity.getClass());\n        activity.startActivity(i);\n    }\n\n    /** Set the theme of the activity, according to the configuration. */\n    public static void onActivityCreateSetTheme(Activity activity) {\n        switch (sTheme) {\n            default:\n\n            case THEME_DEFAULT:\n                activity.setTheme(R.style.AppTheme);\n                break;\n\n            case THEME_WHITE:\n\n                activity.setTheme(R.style.AppTheme_Solarized);\n                break;\n\n            case THEME_BLUE:\n\n                activity.setTheme(R.style.BlueTheme);\n\n                break;\n\n        }\n    }\n}\n</code></pre>\n\n<p>Main Activity:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate NavigationView navigationView;\nprivate DrawerLayout drawerLayout;\nToolbar mToolbar;\nprivate MainFragment mFragment;\nprivate int no,no1,no2;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n\n   SharedPreferences pref = getApplicationContext().getSharedPreferences(\"MyPref\", MODE_PRIVATE);\n    SharedPreferences.Editor editor = pref.edit();\n\n\n    no = pref.getInt(\"color\",0);\n\n\n    if(no == 0)\n    {\n        setTheme(R.style.AppTheme);\n    }\n\n    else if(no == 1)\n    {\n        setTheme(R.style.AppTheme_Solarized);\n    }\n\n    else if(no == 2)\n    {\n        setTheme(R.style.BlueTheme);\n    }\n\n   // Theme.onActivityCreateSetTheme(this);\n\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n</code></pre>\n\n<p>Thank you.</p>\n"},{"tags":["java","xml","tomcat","rundeck"],"comments":[{"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"score":0,"creation_date":1657128088,"post_id":72882968,"comment_id":128738532,"body_markdown":"The easiest way is to use xmlstarlet to read and modify the file in an inline script step: https://linux.die.net/man/1/xmlstarlet","body":"The easiest way is to use xmlstarlet to read and modify the file in an inline script step: <a href=\"https://linux.die.net/man/1/xmlstarlet\" rel=\"nofollow noreferrer\">linux.die.net/man/1/xmlstarlet</a>"}],"answers":[{"tags":[],"owner":{"account_id":14433269,"reputation":3831,"user_id":10426011,"display_name":"MegaDrive68k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657555559,"creation_date":1657555559,"answer_id":72941489,"question_id":72882968,"body_markdown":"You can manipulate XML files using the [xmlstarlet][1] tool in your Rundeck workflow, [this][2] answer shows you how to do it in an [inline-script][3] Rundeck step.\r\n\r\n\r\n  [1]: https://linux.die.net/man/1/xmlstarlet\r\n  [2]: https://stackoverflow.com/a/63137864/10426011\r\n  [3]: https://docs.rundeck.com/docs/manual/node-steps/builtin.html#script-step","title":"Can we read xml file and update tag value using OCP command. I have update to tomcat context.xml from rundeck job","body":"<p>You can manipulate XML files using the <a href=\"https://linux.die.net/man/1/xmlstarlet\" rel=\"nofollow noreferrer\">xmlstarlet</a> tool in your Rundeck workflow, <a href=\"https://stackoverflow.com/a/63137864/10426011\">this</a> answer shows you how to do it in an <a href=\"https://docs.rundeck.com/docs/manual/node-steps/builtin.html#script-step\" rel=\"nofollow noreferrer\">inline-script</a> Rundeck step.</p>\n"}],"owner":{"account_id":1833943,"reputation":7,"user_id":1664680,"display_name":"Anuradha Kushwaha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1657555559,"creation_date":1657107609,"question_id":72882968,"body_markdown":"Can we read xml file and update tag value using OCP command. I have to update tomcat context.xml from rundeck job.","title":"Can we read xml file and update tag value using OCP command. I have update to tomcat context.xml from rundeck job","body":"<p>Can we read xml file and update tag value using OCP command. I have to update tomcat context.xml from rundeck job.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1657392753,"post_id":72923835,"comment_id":128801547,"body_markdown":"These two options are not interchangeable - you need both","body":"These two options are not interchangeable - you need both"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1657392779,"post_id":72923835,"comment_id":128801556,"body_markdown":"You will need b) if records may be inserted from other processes, because it will create the column with default in DDL.","body":"You will need b) if records may be inserted from other processes, because it will create the column with default in DDL."},{"owner":{"account_id":4741976,"reputation":5385,"user_id":3834413,"display_name":"Eugene"},"score":0,"creation_date":1657407245,"post_id":72923835,"comment_id":128803617,"body_markdown":"Does this answer your question? [Setting default values for columns in JPA](https://stackoverflow.com/questions/197045/setting-default-values-for-columns-in-jpa)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/197045/setting-default-values-for-columns-in-jpa\">Setting default values for columns in JPA</a>"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1657553661,"post_id":72923835,"comment_id":128832366,"body_markdown":"You do not need both an initial value and defaults in the database; Doing both is duplicated overhead, as having the &#39;boolean&#39; set to true forces providers to set it to true in the insert anyway; which is required to keep your object in synch with the database data. An initial value (in the DB) ties application business logic into the database, and business logic needs can change over time - adding unnecessary risking to existing apps. Don&#39;t do DB defaults unless you have a strong need for them (like a legacy JDBC application)","body":"You do not need both an initial value and defaults in the database; Doing both is duplicated overhead, as having the &#39;boolean&#39; set to true forces providers to set it to true in the insert anyway; which is required to keep your object in synch with the database data. An initial value (in the DB) ties application business logic into the database, and business logic needs can change over time - adding unnecessary risking to existing apps. Don&#39;t do DB defaults unless you have a strong need for them (like a legacy JDBC application)"}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1657555105,"creation_date":1657409138,"answer_id":72925239,"question_id":72923835,"body_markdown":"They do two different things.\r\n\r\n`@ColumnDefault` is an Hibernate ORM specific annotation (not JPA). It identifies the default value that Hibernate will use in the column definition when it&#39;s generating the schema at start up. It means that&#39;s only used when Hibernate creates the column.\r\n\r\n```\r\nprivate boolean ind = true;\r\n```\r\n\r\nUsing a primitive type means that the value will always be `true` or `false` (I think in Java the default is `false`) during the persist or updates. So the `@ColumnDefault` doesn&#39;t really matter (unless you run custom insert queries without Hibernate ORM).\r\n\r\nIf you change the type to `Boolean`, then `ind` can be null. This means that the default value used on insertion will be the one used when the column was created. If you have created the database using Hibernate ORM, it&#39;s the value in `@ColumnDefault`.\r\n\r\nAnyway, it seems you need both.\r\n","title":"Setting default primitive boolean value","body":"<p>They do two different things.</p>\n<p><code>@ColumnDefault</code> is an Hibernate ORM specific annotation (not JPA). It identifies the default value that Hibernate will use in the column definition when it's generating the schema at start up. It means that's only used when Hibernate creates the column.</p>\n<pre><code>private boolean ind = true;\n</code></pre>\n<p>Using a primitive type means that the value will always be <code>true</code> or <code>false</code> (I think in Java the default is <code>false</code>) during the persist or updates. So the <code>@ColumnDefault</code> doesn't really matter (unless you run custom insert queries without Hibernate ORM).</p>\n<p>If you change the type to <code>Boolean</code>, then <code>ind</code> can be null. This means that the default value used on insertion will be the one used when the column was created. If you have created the database using Hibernate ORM, it's the value in <code>@ColumnDefault</code>.</p>\n<p>Anyway, it seems you need both.</p>\n"}],"owner":{"account_id":557251,"reputation":65,"user_id":919620,"display_name":"spring5150"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1738,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":72925239,"answer_count":1,"score":0,"last_activity_date":1657555105,"creation_date":1657392179,"question_id":72923835,"body_markdown":"I have a basic SpringBoot/Hibernate application that deals with a database. I have a column in an Oracle table that represents a boolean value. At the database level, it is represented this way -\r\n```P_IND CHAR(1 BYTE) DEFAULT &#39;N&#39; NOT NULL```\r\n\r\nAt the entity level, I am mapping it this way -\r\n```\r\n@Column(name = &quot;P_IND&quot;)\r\n@Type(type = &quot;yes_no&quot;)\r\nprivate boolean ind;\r\n```\r\n\r\nWhen creating new records, the default needed to be an &#39;N&#39; and this worked as expected. Now the default needs to be ```true``` (&#39;Y&#39; in the database). I could do it this way \r\n\r\na) ```private boolean ind = true;```\r\n\r\nor add this annotation\r\n\r\nb) ```@ColumnDefault(&quot;true&quot;)```\r\n\r\n \r\n1) Isn&#39;t a) more advantageous in that you could create/persist entities with both true/false values?\r\n2) Would b) allow you to create both (```ind``` is a primitive boolean) and if so, is the annotation a better way of doing it? ","title":"Setting default primitive boolean value","body":"<p>I have a basic SpringBoot/Hibernate application that deals with a database. I have a column in an Oracle table that represents a boolean value. At the database level, it is represented this way -\n<code>P_IND CHAR(1 BYTE) DEFAULT 'N' NOT NULL</code></p>\n<p>At the entity level, I am mapping it this way -</p>\n<pre><code>@Column(name = &quot;P_IND&quot;)\n@Type(type = &quot;yes_no&quot;)\nprivate boolean ind;\n</code></pre>\n<p>When creating new records, the default needed to be an 'N' and this worked as expected. Now the default needs to be <code>true</code> ('Y' in the database). I could do it this way</p>\n<p>a) <code>private boolean ind = true;</code></p>\n<p>or add this annotation</p>\n<p>b) <code>@ColumnDefault(&quot;true&quot;)</code></p>\n<ol>\n<li>Isn't a) more advantageous in that you could create/persist entities with both true/false values?</li>\n<li>Would b) allow you to create both (<code>ind</code> is a primitive boolean) and if so, is the annotation a better way of doing it?</li>\n</ol>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":2,"creation_date":1657247401,"post_id":72905619,"comment_id":128771104,"body_markdown":"Do you want an array of characters or an array of single-character strings?  Your title and your partial code are contradictory.","body":"Do you want an array of characters or an array of single-character strings?  Your title and your partial code are contradictory."},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1657254293,"post_id":72905619,"comment_id":128771973,"body_markdown":"Either `String[] arrayA = a.split(&quot;&quot;)` or `char[] chars = a.toCharArray()` - depending on what you want.","body":"Either <code>String[] arrayA = a.split(&quot;&quot;)</code> or <code>char[] chars = a.toCharArray()</code> - depending on what you want."}],"answers":[{"tags":[],"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1657241719,"creation_date":1657241719,"answer_id":72905629,"question_id":72905619,"body_markdown":"This can be done using [`toCharArray()`](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toCharArray()).\r\n\r\n```java\r\nString foo = &quot;example&quot;;\r\n\r\nchar[] fooChars = foo.toCharArray();\r\n```\r\n\r\nIf you actually want a string array for each character you can simply use `.toString()`.\r\n```java\r\nString[] fooChars = new String[foo.length()];\r\n    \r\nfor(int i = 0; i &lt; foo.length(); i++){\r\n    fooChars[i] = foo.charAt(i).toString();\r\n}\r\n```","title":"how to convert a string into an array of characters - java 8","body":"<p>This can be done using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#toCharArray()\" rel=\"nofollow noreferrer\"><code>toCharArray()</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String foo = &quot;example&quot;;\n\nchar[] fooChars = foo.toCharArray();\n</code></pre>\n<p>If you actually want a string array for each character you can simply use <code>.toString()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] fooChars = new String[foo.length()];\n    \nfor(int i = 0; i &lt; foo.length(); i++){\n    fooChars[i] = foo.charAt(i).toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25755045,"reputation":36,"user_id":19506876,"display_name":"Jordan Reiser"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657262431,"creation_date":1657243037,"answer_id":72905727,"question_id":72905619,"body_markdown":"I believe this could be solved using `String#split`.\r\n\r\n    String[] lettersOfHello = &quot;hello&quot;.split(&quot;&quot;);\r\n\r\nWill need to circle back if it is preinstalled in Java 8 or no introduced until a later package.","title":"how to convert a string into an array of characters - java 8","body":"<p>I believe this could be solved using <code>String#split</code>.</p>\n<pre><code>String[] lettersOfHello = &quot;hello&quot;.split(&quot;&quot;);\n</code></pre>\n<p>Will need to circle back if it is preinstalled in Java 8 or no introduced until a later package.</p>\n"},{"tags":[],"owner":{"account_id":7413926,"reputation":5474,"user_id":11374957,"display_name":"Kaan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657291302,"creation_date":1657249257,"answer_id":72906203,"question_id":72905619,"body_markdown":"Here&#39;s a solution that:\r\n* doesn&#39;t use any imports – _except_ for `java.util.Arrays` so that it can print out the character array for verification, but that&#39;s only for this answer, doesn&#39;t have anything to do with the code solution itself.\r\n* builds an array of Character, and not `java.lang.String` as you posted in your code – your expected output `[&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]` could be an array of Strings (double-quotes) but also looks like it would work as characters\r\n\r\n```\r\nimport java.util.Arrays;\r\n\r\nString s = &quot;hello&quot;;\r\nCharacter[] chars = new Character[s.length()];\r\nfor (int i = 0; i &lt; s.length(); i++) {\r\n    chars[i] = s.charAt(i);\r\n}\r\nSystem.out.println(&quot;chars[]: &quot; + Arrays.toString(chars));\r\n```\r\nHere&#39;s the output:\r\n```\r\nchars[]: [h, e, l, l, o]\r\n```\r\n","title":"how to convert a string into an array of characters - java 8","body":"<p>Here's a solution that:</p>\n<ul>\n<li>doesn't use any imports – <em>except</em> for <code>java.util.Arrays</code> so that it can print out the character array for verification, but that's only for this answer, doesn't have anything to do with the code solution itself.</li>\n<li>builds an array of Character, and not <code>java.lang.String</code> as you posted in your code – your expected output <code>[&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]</code> could be an array of Strings (double-quotes) but also looks like it would work as characters</li>\n</ul>\n<pre><code>import java.util.Arrays;\n\nString s = &quot;hello&quot;;\nCharacter[] chars = new Character[s.length()];\nfor (int i = 0; i &lt; s.length(); i++) {\n    chars[i] = s.charAt(i);\n}\nSystem.out.println(&quot;chars[]: &quot; + Arrays.toString(chars));\n</code></pre>\n<p>Here's the output:</p>\n<pre><code>chars[]: [h, e, l, l, o]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657554989,"creation_date":1657263093,"answer_id":72907680,"question_id":72905619,"body_markdown":"# tl;dr\r\n\r\nThe `char` type is legacy, essentially broken, and fails with most characters. See `char` fail in [live code at Ideone.com][1]. See my Comments [here](https://stackoverflow.com/questions/72905619/how-to-convert-a-string-into-an-array-of-characters-java-8/72907680#comment128785610_72905727) and [here](https://stackoverflow.com/questions/72905619/how-to-convert-a-string-into-an-array-of-characters-java-8/72907680#comment128785405_72906203) on this page.\r\n\r\nUse [code point][2] integer numbers when working with individual characters. \r\n\r\n    &quot;hello&#128075;&quot;\r\n    .codePoints()\r\n    .mapToObj( Character :: toString )\r\n    .toArray( String[]::new )\r\n\r\nSee this [code run live at Ideone.com][3].\r\n\r\n&gt; [h, e, l, l, o, &#128075;]\r\n\r\n# Code points\r\n\r\nA code point is the number assigned permanently to each character identified by Unicode.\r\n\r\n    int[] codePoints = &quot;hello&quot;.codePoints().toArray() ; \r\n\r\n&gt; [104, 101, 108, 108, 111]\r\n\r\nGet the character for each of those code points.\r\n\r\n    List&lt; String &gt; lettersOfHello = \r\n        Arrays\r\n        .stream( codePoints )\r\n        .mapToObj( Character :: toString )\r\n        .toList() \r\n    ;\r\n\r\nSee this code [run live at Ideone.com][4].\r\n\r\n&gt; [h, e, l, l, o]\r\n\r\n\r\n  [1]: https://ideone.com/BDKpKr\r\n  [2]: https://en.wikipedia.org/wiki/Code_point\r\n  [3]: https://ideone.com/Lbnkan\r\n  [4]: https://ideone.com/VziN01","title":"how to convert a string into an array of characters - java 8","body":"<h1>tl;dr</h1>\n<p>The <code>char</code> type is legacy, essentially broken, and fails with most characters. See <code>char</code> fail in <a href=\"https://ideone.com/BDKpKr\" rel=\"nofollow noreferrer\">live code at Ideone.com</a>. See my Comments <a href=\"https://stackoverflow.com/questions/72905619/how-to-convert-a-string-into-an-array-of-characters-java-8/72907680#comment128785610_72905727\">here</a> and <a href=\"https://stackoverflow.com/questions/72905619/how-to-convert-a-string-into-an-array-of-characters-java-8/72907680#comment128785405_72906203\">here</a> on this page.</p>\n<p>Use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers when working with individual characters.</p>\n<pre><code>&quot;hello👋&quot;\n.codePoints()\n.mapToObj( Character :: toString )\n.toArray( String[]::new )\n</code></pre>\n<p>See this <a href=\"https://ideone.com/Lbnkan\" rel=\"nofollow noreferrer\">code run live at Ideone.com</a>.</p>\n<blockquote>\n<p>[h, e, l, l, o, 👋]</p>\n</blockquote>\n<h1>Code points</h1>\n<p>A code point is the number assigned permanently to each character identified by Unicode.</p>\n<pre><code>int[] codePoints = &quot;hello&quot;.codePoints().toArray() ; \n</code></pre>\n<blockquote>\n<p>[104, 101, 108, 108, 111]</p>\n</blockquote>\n<p>Get the character for each of those code points.</p>\n<pre><code>List&lt; String &gt; lettersOfHello = \n    Arrays\n    .stream( codePoints )\n    .mapToObj( Character :: toString )\n    .toList() \n;\n</code></pre>\n<p>See this code <a href=\"https://ideone.com/VziN01\" rel=\"nofollow noreferrer\">run live at Ideone.com</a>.</p>\n<blockquote>\n<p>[h, e, l, l, o]</p>\n</blockquote>\n"}],"owner":{"account_id":21688910,"reputation":342,"user_id":16003814,"display_name":"jgrewal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":72905727,"answer_count":4,"score":-1,"last_activity_date":1657554989,"creation_date":1657241573,"question_id":72905619,"body_markdown":"**Passed in string:** hello\r\n\r\n**populate arrayA[] with:** [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;];\r\n\r\nWithout using any packages or imports\r\n\r\n\r\n        int size = a.length();\r\n        \r\n        String arrayA[] = new String[size];\r\n        \r\n        for(int i = 0; i&lt;size; i++){\r\n        //pass each index in the string to arrayA\r\n        }","title":"how to convert a string into an array of characters - java 8","body":"<p><strong>Passed in string:</strong> hello</p>\n<p><strong>populate arrayA[] with:</strong> [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;];</p>\n<p>Without using any packages or imports</p>\n<pre><code>    int size = a.length();\n    \n    String arrayA[] = new String[size];\n    \n    for(int i = 0; i&lt;size; i++){\n    //pass each index in the string to arrayA\n    }\n</code></pre>\n"},{"tags":["java","http","spring-security","controller","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":3146458,"reputation":81,"user_id":9523951,"display_name":"Julia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1619004024,"creation_date":1619004024,"answer_id":67194836,"question_id":67179385,"body_markdown":"After Reactor HTTP Request Body is subscribed once, the result of next subscribe is empty. This is because Reactor sets the source of HTTP Request Body as FluxRecive, which is a dynamic publisher that publishes the message body as HTTP Request. Therefore, when the HTTP Request message body is subscribed once, all subsequent subscribes are empty. Because the body of the HTTP Request is only sent once.\r\n\r\nFor me helped this article: https://www.programmersought.com/article/47663615530/","title":"How to save the request body after reading it in the ServerAuthenticationConverter?","body":"<p>After Reactor HTTP Request Body is subscribed once, the result of next subscribe is empty. This is because Reactor sets the source of HTTP Request Body as FluxRecive, which is a dynamic publisher that publishes the message body as HTTP Request. Therefore, when the HTTP Request message body is subscribed once, all subsequent subscribes are empty. Because the body of the HTTP Request is only sent once.</p>\n<p>For me helped this article: <a href=\"https://www.programmersought.com/article/47663615530/\" rel=\"nofollow noreferrer\">https://www.programmersought.com/article/47663615530/</a></p>\n"},{"tags":[],"owner":{"account_id":5266924,"reputation":798,"user_id":4206541,"display_name":"striving_coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657554874,"creation_date":1657554874,"answer_id":72941324,"question_id":67179385,"body_markdown":"I know it&#39;s a relatively old question, but there is much simpler way to deal with this - just cache retrieved body and then you can use it multiple places:\r\n\r\n    final Mono&lt;MyDto&gt; cachedBody = request.bodyToMono(MyDto.class).cache();\r\n    // later\r\n    cachedBody.flatMap(dto -&gt; repository.findByName(dto.getName()))...\r\n    // later\r\n    repository.saveAll(cachedBody)...\r\n\r\nFor more details on this method see:\r\nhttps://stackoverflow.com/questions/67487077/how-to-use-cache-method-of-mono\r\nhttps://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache--\r\nhttps://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#cache--","title":"How to save the request body after reading it in the ServerAuthenticationConverter?","body":"<p>I know it's a relatively old question, but there is much simpler way to deal with this - just cache retrieved body and then you can use it multiple places:</p>\n<pre><code>final Mono&lt;MyDto&gt; cachedBody = request.bodyToMono(MyDto.class).cache();\n// later\ncachedBody.flatMap(dto -&gt; repository.findByName(dto.getName()))...\n// later\nrepository.saveAll(cachedBody)...\n</code></pre>\n<p>For more details on this method see:\n<a href=\"https://stackoverflow.com/questions/67487077/how-to-use-cache-method-of-mono\">How to use &quot;cache&quot; method of Mono</a>\n<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache--\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#cache--</a>\n<a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#cache--\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#cache--</a></p>\n"}],"owner":{"account_id":3146458,"reputation":81,"user_id":9523951,"display_name":"Julia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67194836,"answer_count":2,"score":2,"last_activity_date":1657554874,"creation_date":1618923308,"question_id":67179385,"body_markdown":"Guys! maybe someone faced the problem of getting the request body..\r\n\r\nI am trying to friend Spring WebFlux + Security:\r\nI use SecurityConfig\r\n\r\n```\r\n@EnableWebFluxSecurity\r\n@EnableReactiveMethodSecurity\r\npublic class SecurityConfig {\r\n...\r\n```\r\n\r\nwhere I set \r\n```\r\n.addFilterAt(authenticationWebFilter(), SecurityWebFiltersOrder.AUTHENTICATION)\r\n```\r\nfor check authentication\r\n\r\n```\r\n    private AuthenticationWebFilter authenticationWebFilter() {\r\n        AuthenticationWebFilter authenticationWebFilter = new AuthenticationWebFilter(new AuthManager());\r\n        authenticationWebFilter.setServerAuthenticationConverter(new AuthDataConverter());\r\n        return authenticationWebFilter;\r\n    }\r\n```\r\n\r\nI have a custom Converter (AuthDataConverter) and a custom Manager (AuthManager).\r\nWhen I do POST http Request I am falling in Converter:\r\ninside of the Converter - I get Headers and Body of Request:\r\n\r\n```\r\nimport org.springframework.security.core.Authentication;\r\nimport org.springframework.security.web.server.authentication.ServerAuthenticationConverter;\r\nimport org.springframework.web.server.ServerWebExchange;\r\n\r\npublic class AuthDataConverter implements ServerAuthenticationConverter {\r\n...\r\n    @Override\r\n    public Mono&lt;Authentication&gt; convert(ServerWebExchange exchange) {\r\n        \r\n        HttpHeaders headers = exchange.getRequest().getHeaders();\r\n        Flux&lt;DataBuffer&gt; body = exchange.getRequest().getBody();\r\n        ...\r\n        Mono&lt;String&gt; m = decodeToString(body);\r\n\r\n        return m.map(jsonBody -&gt; {\r\n            Authentication auth = new MyAuthData(headers, jsonBody);\r\n            return auth;\r\n        });\r\n}\r\n\r\n```\r\nand all good - AuthDataConverter gets request params and send in AuthManager:\r\n\r\n```\r\nimport org.springframework.security.authentication.ReactiveAuthenticationManager;\r\nimport org.springframework.security.core.Authentication;\r\n\r\npublic class AuthManager implements ReactiveAuthenticationManager {\r\n...\r\n    @Override\r\n    public Mono&lt;Authentication&gt; authenticate(Authentication auth) {\r\n    //check auth object \r\n    }\r\n\r\n}\r\n```\r\n\r\nBut! Problem: in next step, where I am falling in Controller:\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/test&quot;)\r\npublic class TestController {\r\n\r\n    @PostMapping(&quot;/addParam&quot;)\r\n    public Response&lt;MyParam&gt; addParam(@RequestBody Mono&lt;MyParam&gt; param) {\r\n      //I can&#39;t go inside because the request body has already been read in AuthDataConverter\r\n      //How can save body of request?\r\n    }\r\n\r\n```","title":"How to save the request body after reading it in the ServerAuthenticationConverter?","body":"<p>Guys! maybe someone faced the problem of getting the request body..</p>\n<p>I am trying to friend Spring WebFlux + Security:\nI use SecurityConfig</p>\n<pre><code>@EnableWebFluxSecurity\n@EnableReactiveMethodSecurity\npublic class SecurityConfig {\n...\n</code></pre>\n<p>where I set</p>\n<pre><code>.addFilterAt(authenticationWebFilter(), SecurityWebFiltersOrder.AUTHENTICATION)\n</code></pre>\n<p>for check authentication</p>\n<pre><code>    private AuthenticationWebFilter authenticationWebFilter() {\n        AuthenticationWebFilter authenticationWebFilter = new AuthenticationWebFilter(new AuthManager());\n        authenticationWebFilter.setServerAuthenticationConverter(new AuthDataConverter());\n        return authenticationWebFilter;\n    }\n</code></pre>\n<p>I have a custom Converter (AuthDataConverter) and a custom Manager (AuthManager).\nWhen I do POST http Request I am falling in Converter:\ninside of the Converter - I get Headers and Body of Request:</p>\n<pre><code>import org.springframework.security.core.Authentication;\nimport org.springframework.security.web.server.authentication.ServerAuthenticationConverter;\nimport org.springframework.web.server.ServerWebExchange;\n\npublic class AuthDataConverter implements ServerAuthenticationConverter {\n...\n    @Override\n    public Mono&lt;Authentication&gt; convert(ServerWebExchange exchange) {\n        \n        HttpHeaders headers = exchange.getRequest().getHeaders();\n        Flux&lt;DataBuffer&gt; body = exchange.getRequest().getBody();\n        ...\n        Mono&lt;String&gt; m = decodeToString(body);\n\n        return m.map(jsonBody -&gt; {\n            Authentication auth = new MyAuthData(headers, jsonBody);\n            return auth;\n        });\n}\n\n</code></pre>\n<p>and all good - AuthDataConverter gets request params and send in AuthManager:</p>\n<pre><code>import org.springframework.security.authentication.ReactiveAuthenticationManager;\nimport org.springframework.security.core.Authentication;\n\npublic class AuthManager implements ReactiveAuthenticationManager {\n...\n    @Override\n    public Mono&lt;Authentication&gt; authenticate(Authentication auth) {\n    //check auth object \n    }\n\n}\n</code></pre>\n<p>But! Problem: in next step, where I am falling in Controller:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/test&quot;)\npublic class TestController {\n\n    @PostMapping(&quot;/addParam&quot;)\n    public Response&lt;MyParam&gt; addParam(@RequestBody Mono&lt;MyParam&gt; param) {\n      //I can't go inside because the request body has already been read in AuthDataConverter\n      //How can save body of request?\n    }\n\n</code></pre>\n"},{"tags":["java","php","apache","ssl","openssl"],"comments":[{"owner":{"account_id":85671,"reputation":40858,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1301618918,"post_id":5507878,"comment_id":6252722,"body_markdown":"That exception trace doesn&#39;t show where in your code the problem is occurring. Maybe the SSL connection has been successfully made and the problem is in your HTTP.","body":"That exception trace doesn&#39;t show where in your code the problem is occurring. Maybe the SSL connection has been successfully made and the problem is in your HTTP."},{"owner":{"account_id":47017,"reputation":1283,"user_id":139109,"accept_rate":91,"display_name":"roguenet"},"score":0,"creation_date":1301621708,"post_id":5507878,"comment_id":6253114,"body_markdown":"Where it occurs in my code varies on the method I use. It always happens either on the out.flush() or on starting to read the connection. The part I included is always the same though - the problem is in the handshake at some point.","body":"Where it occurs in my code varies on the method I use. It always happens either on the out.flush() or on starting to read the connection. The part I included is always the same though - the problem is in the handshake at some point."},{"owner":{"account_id":47017,"reputation":1283,"user_id":139109,"accept_rate":91,"display_name":"roguenet"},"score":0,"creation_date":1301621757,"post_id":5507878,"comment_id":6253121,"body_markdown":"Update: it is probably an SSL version problem. I&#39;ve discovered that the server only supports SSLv3, and Java will start at v2, and attempt to negotiate upwards, but not all servers support that type of negotiation. I&#39;ll post again when I know that this was the problem for sure.","body":"Update: it is probably an SSL version problem. I&#39;ve discovered that the server only supports SSLv3, and Java will start at v2, and attempt to negotiate upwards, but not all servers support that type of negotiation. I&#39;ll post again when I know that this was the problem for sure."},{"owner":{"account_id":47017,"reputation":1283,"user_id":139109,"accept_rate":91,"display_name":"roguenet"},"score":0,"creation_date":1301622974,"post_id":5507878,"comment_id":6253277,"body_markdown":"Yup, that was the issue. Case closed.","body":"Yup, that was the issue. Case closed."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":1,"creation_date":1301623149,"post_id":5507878,"comment_id":6253302,"body_markdown":"@Nathan: You should answer your own question with the solution and then accept your answer.  You won&#39;t get any points, but it will show up as an answered question to other people with the same problem, and might help somebody else.","body":"@Nathan: You should answer your own question with the solution and then accept your answer.  You won&#39;t get any points, but it will show up as an answered question to other people with the same problem, and might help somebody else."},{"owner":{"account_id":47017,"reputation":1283,"user_id":139109,"accept_rate":91,"display_name":"roguenet"},"score":2,"creation_date":1301679840,"post_id":5507878,"comment_id":6264846,"body_markdown":"Yeah, I answered it, but I can&#39;t accept my own answer for 48 hours. I&#39;ll do so when allowed. Thanks!","body":"Yeah, I answered it, but I can&#39;t accept my own answer for 48 hours. I&#39;ll do so when allowed. Thanks!"},{"owner":{"account_id":242066,"reputation":17256,"user_id":513342,"accept_rate":85,"display_name":"Oleg Mikheev"},"score":0,"creation_date":1383196852,"post_id":5507878,"comment_id":29260947,"body_markdown":"I had the same problem with JDK6, and it was related to self signed certificate on HTTPS server side. Did you use self signed certificate?","body":"I had the same problem with JDK6, and it was related to self signed certificate on HTTPS server side. Did you use self signed certificate?"},{"owner":{"account_id":47017,"reputation":1283,"user_id":139109,"accept_rate":91,"display_name":"roguenet"},"score":0,"creation_date":1383258907,"post_id":5507878,"comment_id":29293011,"body_markdown":"I don&#39;t believe that server had self-signed certs, but this was a couple years ago and it was a partner&#39;s server, not my own so I don&#39;t remember for sure.","body":"I don&#39;t believe that server had self-signed certs, but this was a couple years ago and it was a partner&#39;s server, not my own so I don&#39;t remember for sure."},{"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"score":0,"creation_date":1611889546,"post_id":5507878,"comment_id":116601560,"body_markdown":"I faced this error when the website SSL requires SNI","body":"I faced this error when the website SSL requires SNI"}],"answers":[{"tags":[],"owner":{"account_id":47017,"reputation":1283,"user_id":139109,"accept_rate":91,"display_name":"roguenet"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1543263473,"creation_date":1301623110,"answer_id":5508435,"question_id":5507878,"body_markdown":"It is an SSL version problem. The server only supports SSLv3, and Java will start at v2, and attempt to negotiate upwards, but not all servers support that type of negotiation. \r\n\r\nForcing java to use SSLv3 only is the only solution I&#39;m aware of.\r\n\r\nEdit, there are two ways to do this that I&#39;m aware of:\r\n\r\n - If you are creating the socket by hand, you can set the enabled protocols\r\n\r\n        socket.setEnabledProtocols(new String[] { &quot;SSLv3&quot; });\r\n\r\n - If you are using a higher level library, you probably need to set all SSL requests to use v3 only, which is accomplished with the `&quot;https.protocols&quot;` system property:\r\n\r\n        java -Dhttps.protocols=SSLv3\r\n\r\n","title":"SSL Connection Reset","body":"<p>It is an SSL version problem. The server only supports SSLv3, and Java will start at v2, and attempt to negotiate upwards, but not all servers support that type of negotiation. </p>\n\n<p>Forcing java to use SSLv3 only is the only solution I'm aware of.</p>\n\n<p>Edit, there are two ways to do this that I'm aware of:</p>\n\n<ul>\n<li><p>If you are creating the socket by hand, you can set the enabled protocols</p>\n\n<pre><code>socket.setEnabledProtocols(new String[] { \"SSLv3\" });\n</code></pre></li>\n<li><p>If you are using a higher level library, you probably need to set all SSL requests to use v3 only, which is accomplished with the <code>\"https.protocols\"</code> system property:</p>\n\n<pre><code>java -Dhttps.protocols=SSLv3\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22819267,"reputation":1,"user_id":16969398,"display_name":"The Tester of Things"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657554309,"creation_date":1657554309,"answer_id":72941205,"question_id":5507878,"body_markdown":"Maybe also try setting the HTTP version to 1.1 instead of 1.0, as there&#39;s some real advantages to the newer standard.","title":"SSL Connection Reset","body":"<p>Maybe also try setting the HTTP version to 1.1 instead of 1.0, as there's some real advantages to the newer standard.</p>\n"}],"owner":{"account_id":47017,"reputation":1283,"user_id":139109,"accept_rate":91,"display_name":"roguenet"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136040,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":5508435,"answer_count":2,"score":35,"last_activity_date":1657554309,"creation_date":1301616736,"question_id":5507878,"body_markdown":"I am attempting to connect to an HTTPS endpoint in Java. Every method I have tried (more details below) ends up generating this stack trace:\r\n\r\n    java.net.SocketException: Connection reset\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:168)\r\n\tat com.sun.net.ssl.internal.ssl.InputRecord.readFully(InputRecord.java:293)\r\n\tat com.sun.net.ssl.internal.ssl.InputRecord.read(InputRecord.java:331)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:798)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1138)\r\n\tat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:753)\r\n\tat com.sun.net.ssl.internal.ssl.AppInputStream.read(AppInputStream.java:75)\r\n\r\nI have tried:\r\n\r\n - Connecting with the javax SOAP libs and a new URL(&quot;https://...&quot;)\r\n - Connecting with new URL(&quot;https://...&quot;).openConnection()\r\n - Creating an SSL connection by hand:\r\n\r\n    \t\t\tSecurity.addProvider(new com.sun.net.ssl.internal.ssl.Provider());\r\n\t\t\tSSLSocketFactory factory = (SSLSocketFactory) SSLSocketFactory.getDefault();\r\n\r\n\t\t\tSSLSocket socket = (SSLSocket) factory.createSocket(&quot;...&quot;, 443);\r\n\r\n\t\t\tWriter out = new OutputStreamWriter(socket.getOutputStream());\r\n\t\t\t// https requires the full URL in the GET line\r\n            //\r\n\t\t\tout.write(&quot;GET / HTTP/1.0\\r\\n&quot;);\r\n\t\t\tout.write(&quot;\\r\\n&quot;);\r\n\t\t\tout.flush();\r\n\r\n\t\t\t// read response\r\n\t\t\tBufferedReader in = new BufferedReader(\r\n\t\t\t\t\t\tnew InputStreamReader(socket.getInputStream()));\r\n\t\t\tint c;\r\n\t\t\twhile ((c = in.read()) != -1) {\r\n\t\t\t\tSystem.out.write(c);\r\n\t\t\t}\r\n\r\n\t\t\tout.close();\r\n\t\t\tin.close();\r\n\t\t\tsocket.close();\r\n\r\nA few more details: \r\n\r\n - Every method I have tried has worked against other SSL servers, it&#39;s this particular server (I am not at liberty to discuss what server, it&#39;s a business partner)\r\n - I can connect to this server both with a web browser, and with a faked up SOAP request with curl; This is something Java-specific.\r\n\r\nSo, it seems pretty clear that there is some disagreement between Java and the HTTPS server over how the handshake should go down, which probably means the server has some strange SSL configuration. However, I don&#39;t have direct access to the server, and the people who do are halfway around the world, so communication is a little strained due to very different timezones.\r\n\r\nIf my assumptions there are correct, what possible SSL problems could there be? What might cause something like this? Where can I ask the people in control of the server to look for issues? When I do the request with curl, I get back these server configuration headers: \r\n\r\n    Server: Apache/2.2.9 (Debian) mod_jk/1.2.26 PHP/5.2.6-1+lenny10 with Suhosin-Patch mod_ssl/2.2.9 OpenSSL/0.9.8g mod_perl/2.0.4 Perl/v5.10.0\r\n    X-Powered-By: PHP/5.2.6-1+lenny10\r\n    X-SOAP-Server: NuSOAP/0.7.3 (1.114)\r\n\r\n\r\n\r\n\r\n","title":"SSL Connection Reset","body":"<p>I am attempting to connect to an HTTPS endpoint in Java. Every method I have tried (more details below) ends up generating this stack trace:</p>\n\n<pre><code>java.net.SocketException: Connection reset\nat java.net.SocketInputStream.read(SocketInputStream.java:168)\nat com.sun.net.ssl.internal.ssl.InputRecord.readFully(InputRecord.java:293)\nat com.sun.net.ssl.internal.ssl.InputRecord.read(InputRecord.java:331)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:798)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1138)\nat com.sun.net.ssl.internal.ssl.SSLSocketImpl.readDataRecord(SSLSocketImpl.java:753)\nat com.sun.net.ssl.internal.ssl.AppInputStream.read(AppInputStream.java:75)\n</code></pre>\n\n<p>I have tried:</p>\n\n<ul>\n<li>Connecting with the javax SOAP libs and a new URL(\"https://...\")</li>\n<li>Connecting with new URL(\"https://...\").openConnection()</li>\n<li><p>Creating an SSL connection by hand:</p>\n\n<pre><code>        Security.addProvider(new com.sun.net.ssl.internal.ssl.Provider());\n    SSLSocketFactory factory = (SSLSocketFactory) SSLSocketFactory.getDefault();\n\n    SSLSocket socket = (SSLSocket) factory.createSocket(\"...\", 443);\n\n    Writer out = new OutputStreamWriter(socket.getOutputStream());\n    // https requires the full URL in the GET line\n    //\n    out.write(\"GET / HTTP/1.0\\r\\n\");\n    out.write(\"\\r\\n\");\n    out.flush();\n\n    // read response\n    BufferedReader in = new BufferedReader(\n                new InputStreamReader(socket.getInputStream()));\n    int c;\n    while ((c = in.read()) != -1) {\n        System.out.write(c);\n    }\n\n    out.close();\n    in.close();\n    socket.close();\n</code></pre></li>\n</ul>\n\n<p>A few more details: </p>\n\n<ul>\n<li>Every method I have tried has worked against other SSL servers, it's this particular server (I am not at liberty to discuss what server, it's a business partner)</li>\n<li>I can connect to this server both with a web browser, and with a faked up SOAP request with curl; This is something Java-specific.</li>\n</ul>\n\n<p>So, it seems pretty clear that there is some disagreement between Java and the HTTPS server over how the handshake should go down, which probably means the server has some strange SSL configuration. However, I don't have direct access to the server, and the people who do are halfway around the world, so communication is a little strained due to very different timezones.</p>\n\n<p>If my assumptions there are correct, what possible SSL problems could there be? What might cause something like this? Where can I ask the people in control of the server to look for issues? When I do the request with curl, I get back these server configuration headers: </p>\n\n<pre><code>Server: Apache/2.2.9 (Debian) mod_jk/1.2.26 PHP/5.2.6-1+lenny10 with Suhosin-Patch mod_ssl/2.2.9 OpenSSL/0.9.8g mod_perl/2.0.4 Perl/v5.10.0\nX-Powered-By: PHP/5.2.6-1+lenny10\nX-SOAP-Server: NuSOAP/0.7.3 (1.114)\n</code></pre>\n"},{"tags":["java","swing","jtextpane"],"answers":[{"tags":[],"owner":{"account_id":2676855,"reputation":261,"user_id":2313060,"display_name":"Diego Cardozo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1366753940,"creation_date":1366753940,"answer_id":16179823,"question_id":16179595,"body_markdown":"First of all, there are 2 clipboards in Java (a local one and a system one, which you are using). [Here][1]&#39;s an example that uses the system clipboard. Take a look and try this  getClipboardContents method:\r\n\r\n\tpublic String getClipboardContents(Clipboard clipboard) {\r\n\t\tString result = &quot;&quot;;\r\n\t\tif (clipbloard != null){\t\t\t\r\n\t\t\t//odd: the Object param of getContents is not currently used\r\n\t\t\tTransferable contents = clipboard.getContents(null);\r\n\t\t\tboolean hasTransferableText =\r\n\t\t\t  (contents != null) &amp;&amp;\r\n\t\t\t  contents.isDataFlavorSupported(DataFlavor.stringFlavor);\r\n\t\t\tif ( hasTransferableText ) {\r\n\t\t\t  try {\r\n\t\t\t\tresult = (String)contents.getTransferData(DataFlavor.stringFlavor);\r\n\t\t\t  }\r\n\t\t\t  catch (UnsupportedFlavorException ex){\r\n\t\t\t\t//highly unlikely since we are using a standard DataFlavor\r\n\t\t\t\tSystem.out.println(ex);\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t  }\r\n\t\t\t  catch (IOException ex) {\r\n\t\t\t\tSystem.out.println(ex);\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\r\n  [1]: http://www.javapractices.com/topic/TopicAction.do?Id=82","title":"copy jTextPane text to clipboard","body":"<p>First of all, there are 2 clipboards in Java (a local one and a system one, which you are using). <a href=\"http://www.javapractices.com/topic/TopicAction.do?Id=82\" rel=\"nofollow\">Here</a>'s an example that uses the system clipboard. Take a look and try this  getClipboardContents method:</p>\n\n<pre><code>public String getClipboardContents(Clipboard clipboard) {\n    String result = \"\";\n    if (clipbloard != null){            \n        //odd: the Object param of getContents is not currently used\n        Transferable contents = clipboard.getContents(null);\n        boolean hasTransferableText =\n          (contents != null) &amp;&amp;\n          contents.isDataFlavorSupported(DataFlavor.stringFlavor);\n        if ( hasTransferableText ) {\n          try {\n            result = (String)contents.getTransferData(DataFlavor.stringFlavor);\n          }\n          catch (UnsupportedFlavorException ex){\n            //highly unlikely since we are using a standard DataFlavor\n            System.out.println(ex);\n            ex.printStackTrace();\n          }\n          catch (IOException ex) {\n            System.out.println(ex);\n            ex.printStackTrace();\n          }\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1366761851,"creation_date":1366761851,"answer_id":16181171,"question_id":16179595,"body_markdown":"When I use Ctrl+C I get text copied to the clipboard without HTML. You can use the default Action with the following code:\r\n\r\n    Action copy = new ActionMapAction(&quot;Copy&quot;, textPane, &quot;copy-to-clipboard&quot;);\r\n    JButton copyButton = new JButton(copy);\r\n\r\nSee [Action Map Action][1] for more information on how this works.\r\n\r\n\r\n  [1]: http://tips4java.wordpress.com/2008/12/06/action-map-action/","title":"copy jTextPane text to clipboard","body":"<p>When I use Ctrl+C I get text copied to the clipboard without HTML. You can use the default Action with the following code:</p>\n\n<pre><code>Action copy = new ActionMapAction(\"Copy\", textPane, \"copy-to-clipboard\");\nJButton copyButton = new JButton(copy);\n</code></pre>\n\n<p>See <a href=\"http://tips4java.wordpress.com/2008/12/06/action-map-action/\" rel=\"nofollow\">Action Map Action</a> for more information on how this works.</p>\n"},{"tags":[],"owner":{"account_id":11248609,"reputation":15,"user_id":8250475,"display_name":"Elmer Duron"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657554289,"creation_date":1657554289,"answer_id":72941201,"question_id":16179595,"body_markdown":"first you need to select all the text in the textpane and then copy.\r\n```\r\nprivate void btnCopyActionPerformed(java.awt.event.ActionEvent evt) {                                        \r\n    textPaneLogs.selectAll();\r\n    textPaneLogs.setFocusable(true);\r\n    textPaneLogs.copy();\r\n}\r\n```","title":"copy jTextPane text to clipboard","body":"<p>first you need to select all the text in the textpane and then copy.</p>\n<pre><code>private void btnCopyActionPerformed(java.awt.event.ActionEvent evt) {                                        \n    textPaneLogs.selectAll();\n    textPaneLogs.setFocusable(true);\n    textPaneLogs.copy();\n}\n</code></pre>\n"}],"owner":{"account_id":1033795,"reputation":327,"user_id":2313113,"accept_rate":50,"display_name":"Croviajo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2998,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1657554289,"creation_date":1366752926,"question_id":16179595,"body_markdown":"I have a form which contains a `jTextPane` and a `jButton`, I&#39;ve set the `jTextPane` `Accessible Description` to `text/html`, now I want when I click on the `jButton` to copy the content of the `jTextPane` to my clipboard, I tried this code :\r\n\r\n\r\n     private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n            StringSelection stringSelection = new StringSelection (jTextPane1.getText());\r\n            Clipboard clpbrd = Toolkit.getDefaultToolkit ().getSystemClipboard ();\r\n            clpbrd.setContents (stringSelection, null);\r\n        } \r\n\r\nbut when I past, it past the text as an HTML format.\r\n\r\nHow can I solve this probelm ?\r\n","title":"copy jTextPane text to clipboard","body":"<p>I have a form which contains a <code>jTextPane</code> and a <code>jButton</code>, I've set the <code>jTextPane</code> <code>Accessible Description</code> to <code>text/html</code>, now I want when I click on the <code>jButton</code> to copy the content of the <code>jTextPane</code> to my clipboard, I tried this code :</p>\n\n<pre><code> private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n        StringSelection stringSelection = new StringSelection (jTextPane1.getText());\n        Clipboard clpbrd = Toolkit.getDefaultToolkit ().getSystemClipboard ();\n        clpbrd.setContents (stringSelection, null);\n    } \n</code></pre>\n\n<p>but when I past, it past the text as an HTML format.</p>\n\n<p>How can I solve this probelm ?</p>\n"},{"tags":["java","intellij-idea","ejb","maven-2"],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1657554038,"creation_date":1657554038,"answer_id":72941155,"question_id":72937995,"body_markdown":"See the &quot;Package the application into an EAR﻿&quot; section of [Your first Java EE application](https://www.jetbrains.com/help/idea/creating-and-running-your-first-java-ee-application.html#ear) tutorial on JetBrains website. ","title":"Ejb - ear file intellij idea","body":"<p>See the &quot;Package the application into an EAR﻿&quot; section of <a href=\"https://www.jetbrains.com/help/idea/creating-and-running-your-first-java-ee-application.html#ear\" rel=\"nofollow noreferrer\">Your first Java EE application</a> tutorial on JetBrains website.</p>\n"}],"owner":{"account_id":25780814,"reputation":1,"user_id":19526462,"display_name":"Jaskaur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":426,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657554038,"creation_date":1657539564,"question_id":72937995,"body_markdown":"I am working on an existing ejb project. The git repo has the following files - ear, ejb and war in one project. Can someone please tell the steps to create an ear file using intellij. ","title":"Ejb - ear file intellij idea","body":"<p>I am working on an existing ejb project. The git repo has the following files - ear, ejb and war in one project. Can someone please tell the steps to create an ear file using intellij.</p>\n"},{"tags":["java","azure","java-8","jackson","azure-cognitive-search"],"comments":[{"owner":{"account_id":10725921,"reputation":1866,"user_id":9303470,"display_name":"Ecstasy"},"score":0,"creation_date":1657515335,"post_id":72926567,"comment_id":128819326,"body_markdown":"Does this answer your question? [Is there a way to convert a String to a Java type using Jackson and/or one of its associated libraries (csv, json, etc.)](https://stackoverflow.com/questions/63757433/is-there-a-way-to-convert-a-string-to-a-java-type-using-jackson-and-or-one-of-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/63757433/is-there-a-way-to-convert-a-string-to-a-java-type-using-jackson-and-or-one-of-it\">Is there a way to convert a String to a Java type using Jackson and/or one of its associated libraries (csv, json, etc.)</a>"},{"owner":{"account_id":2216729,"reputation":1,"user_id":1957131,"accept_rate":0,"display_name":"Raj Kishore"},"score":0,"creation_date":1657554007,"post_id":72926567,"comment_id":128832495,"body_markdown":"I saw the above approach as said it is not valid JSON nor a CSV rows. However i tried using my approach and now edited the question with my approach but it has some issue. Need to find a way ignore comma in value to get parse properly any help!","body":"I saw the above approach as said it is not valid JSON nor a CSV rows. However i tried using my approach and now edited the question with my approach but it has some issue. Need to find a way ignore comma in value to get parse properly any help!"},{"owner":{"account_id":103203,"reputation":178,"user_id":276548,"display_name":"giulianob"},"score":0,"creation_date":1657563237,"post_id":72926567,"comment_id":128835724,"body_markdown":"@RajKishore You should get valid JSON when using the [Search REST API](https://learn.microsoft.com/en-us/rest/api/searchservice/preview-api/search-documents) directly. Can you share which request returned the string in question? Azure Cognitive Search also has a [Java SDK](https://learn.microsoft.com/en-us/java/api/overview/azure/search-documents-readme?view=azure-java-stable) so you don&#39;t need to deserialize it yourself.","body":"@RajKishore You should get valid JSON when using the <a href=\"https://learn.microsoft.com/en-us/rest/api/searchservice/preview-api/search-documents\" rel=\"nofollow noreferrer\">Search REST API</a> directly. Can you share which request returned the string in question? Azure Cognitive Search also has a <a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/search-documents-readme?view=azure-java-stable\" rel=\"nofollow noreferrer\">Java SDK</a> so you don&#39;t need to deserialize it yourself."},{"owner":{"account_id":2216729,"reputation":1,"user_id":1957131,"accept_rate":0,"display_name":"Raj Kishore"},"score":0,"creation_date":1657607246,"post_id":72926567,"comment_id":128844294,"body_markdown":"@giulianob : when i integrate with JAVA code it does not seems like getting as a JSON format. i am getting serachresult response a like below.\n{CreatedBy=XYZ, ModifiedDate=null, ModifiedBy=abc,  Academic=degree, FirstName=test,\nempdetails = [{empId=abc, empName=name, empSal=100, empEmail=test@gmail.com}, {empId=xyz, empName=test,abcexample, empSal=200, empEmail=test12@gmail.com}]}\nBasically it is giving error while reading the nested rows, which is of type EDM.ComplexType , in above empdetails is the collection.\nif it is valid JSON i could have convert this with Jackson, but it is not.","body":"@giulianob : when i integrate with JAVA code it does not seems like getting as a JSON format. i am getting serachresult response a like below. {CreatedBy=XYZ, ModifiedDate=null, ModifiedBy=abc,  Academic=degree, FirstName=test, empdetails = [{empId=abc, empName=name, empSal=100, empEmail=test@gmail.com}, {empId=xyz, empName=test,abcexample, empSal=200, empEmail=test12@gmail.com}]} Basically it is giving error while reading the nested rows, which is of type EDM.ComplexType , in above empdetails is the collection. if it is valid JSON i could have convert this with Jackson, but it is not."},{"owner":{"account_id":103203,"reputation":178,"user_id":276548,"display_name":"giulianob"},"score":0,"creation_date":1657736311,"post_id":72926567,"comment_id":128883799,"body_markdown":"Can you share sample code of how you are querying the service? The SDK supports deserializing to a POJO with `searchResult.getDocument(Hotel.class)` or to directly get fields using `searchResult.get(&quot;fieldName&quot;)`, see https://learn.microsoft.com/java/api/overview/azure/search-documents-readme?view=azure-java-stable#use-java-model-class-for-search-results","body":"Can you share sample code of how you are querying the service? The SDK supports deserializing to a POJO with <code>searchResult.getDocument(Hotel.class)</code> or to directly get fields using <code>searchResult.get(&quot;fieldName&quot;)</code>, see <a href=\"https://learn.microsoft.com/java/api/overview/azure/search-documents-readme?view=azure-java-stable#use-java-model-class-for-search-results\" rel=\"nofollow noreferrer\">learn.microsoft.com/java/api/overview/azure/&hellip;</a>"},{"owner":{"account_id":2216729,"reputation":1,"user_id":1957131,"accept_rate":0,"display_name":"Raj Kishore"},"score":0,"creation_date":1657826375,"post_id":72926567,"comment_id":128909010,"body_markdown":"I have gone through APIs and will able convert what ever I received from searchdocument. Thank you","body":"I have gone through APIs and will able convert what ever I received from searchdocument. Thank you"}],"owner":{"account_id":2216729,"reputation":1,"user_id":1957131,"accept_rate":0,"display_name":"Raj Kishore"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":179,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657553850,"creation_date":1657434704,"question_id":72926567,"body_markdown":"How do I convert azure search string to List of search documents. is it possible to convert the below string using jackson. I know this is not a valid JSON.  \r\n\r\nThe below string comes from Azure search and the type is Collection Edm ComplexType.\r\n\r\n\r\nCan I able convert the below string using Jackson or simple java 8 streams ?\r\n\r\n\r\n    public class test {\r\n    \r\n    \tpublic static void main(String[] args) throws JsonMappingException, JsonProcessingException {\r\n    \t\t// TODO Auto-generated method stub\r\n    \t\tString str = &quot;[{empId=abc, empName=name, empSal=100, empEmail=test@gmail.com}, {empId=xyz, empName=test,abcexample, empSal=200, empEmail=test12@gmail.com}]&quot;;\t\t\r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tmapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\r\n    \t\tList&lt;SearchDocument&gt; arr = mapper.readValue(str, (new ArrayList&lt;SearchDocument&gt;()).getClass());\r\n    \t\tSystem.out.println(arr);\r\n    \t}\r\n    \r\n    }\r\n\r\nI tried the below approach, but a string has comma in value getting issue.\r\n\r\n&#39;String str = &quot;[{empId=abc, empName=name, empSal=100, empEmail=test@gmail.com}, {empId=xyz, empName=test,abcexample, empSal=200, empEmail=test12@gmail.com}]&quot;;\t\t\r\n\t\t\r\n\t\tString elementType = StringUtils.substringBetween(str, &quot;[&quot;, &quot;]&quot;);\r\n\t\tString regex = &quot;\\\\{|\\\\}|\\\\[|\\\\]&quot;;\r\n\r\n\t\telementType = elementType.replaceAll(regex, &quot; &quot;);\r\n\t\tStringTokenizer token = new StringTokenizer(elementType, &quot;,&quot;);\r\n\t\twhile(token.hasMoreElements()){\r\n\t\t    String str1 = token.nextToken();\r\n\t\t    StringTokenizer furtherToken = new StringTokenizer(str1,&quot;=&quot;);\r\n\t\t    while(furtherToken.hasMoreTokens()){\r\n\t\t        System.out.println(&quot;Key = &quot;\r\n\t\t                + furtherToken.nextToken() + &quot;, Value = &quot; + furtherToken.nextToken());\r\n\t\t    }\r\n\t\t}\r\n&#39; ","title":"Convert String to list of azure search documents","body":"<p>How do I convert azure search string to List of search documents. is it possible to convert the below string using jackson. I know this is not a valid JSON.</p>\n<p>The below string comes from Azure search and the type is Collection Edm ComplexType.</p>\n<p>Can I able convert the below string using Jackson or simple java 8 streams ?</p>\n<pre><code>public class test {\n\n    public static void main(String[] args) throws JsonMappingException, JsonProcessingException {\n        // TODO Auto-generated method stub\n        String str = &quot;[{empId=abc, empName=name, empSal=100, empEmail=test@gmail.com}, {empId=xyz, empName=test,abcexample, empSal=200, empEmail=test12@gmail.com}]&quot;;       \n        ObjectMapper mapper = new ObjectMapper();\n        mapper.configure(DeserializationFeature.ACCEPT_SINGLE_VALUE_AS_ARRAY, true);\n        List&lt;SearchDocument&gt; arr = mapper.readValue(str, (new ArrayList&lt;SearchDocument&gt;()).getClass());\n        System.out.println(arr);\n    }\n\n}\n</code></pre>\n<p>I tried the below approach, but a string has comma in value getting issue.</p>\n<p>'String str = &quot;[{empId=abc, empName=name, empSal=100, empEmail=test@gmail.com}, {empId=xyz, empName=test,abcexample, empSal=200, empEmail=test12@gmail.com}]&quot;;</p>\n<pre><code>    String elementType = StringUtils.substringBetween(str, &quot;[&quot;, &quot;]&quot;);\n    String regex = &quot;\\\\{|\\\\}|\\\\[|\\\\]&quot;;\n\n    elementType = elementType.replaceAll(regex, &quot; &quot;);\n    StringTokenizer token = new StringTokenizer(elementType, &quot;,&quot;);\n    while(token.hasMoreElements()){\n        String str1 = token.nextToken();\n        StringTokenizer furtherToken = new StringTokenizer(str1,&quot;=&quot;);\n        while(furtherToken.hasMoreTokens()){\n            System.out.println(&quot;Key = &quot;\n                    + furtherToken.nextToken() + &quot;, Value = &quot; + furtherToken.nextToken());\n        }\n    }\n</code></pre>\n<p>'</p>\n"},{"tags":["java","android","kotlin","android-videoview"],"comments":[{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657555468,"post_id":72941108,"comment_id":128833084,"body_markdown":"Are you expecting player or cropper? Cropper means every device have different density.","body":"Are you expecting player or cropper? Cropper means every device have different density."},{"owner":{"account_id":25316793,"reputation":3,"user_id":19138774,"display_name":"Sergio26"},"score":0,"creation_date":1657560504,"post_id":72941108,"comment_id":128834817,"body_markdown":"either is fine. just what allows me to achieve that result.  But regarding what you said maybe player would be better.","body":"either is fine. just what allows me to achieve that result.  But regarding what you said maybe player would be better."},{"owner":{"account_id":13837518,"reputation":673,"user_id":9988706,"display_name":"Gobu CSG"},"score":0,"creation_date":1657560904,"post_id":72941108,"comment_id":128834953,"body_markdown":"Check Google exo player...","body":"Check Google exo player..."}],"owner":{"account_id":25316793,"reputation":3,"user_id":19138774,"display_name":"Sergio26"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657553829,"creation_date":1657553788,"question_id":72941108,"body_markdown":"What I want to do is receive a video in a videoView, for example, stored in firebase. And I need that video to fit a vertical videoView, cutting off or not showing any excess. So if its an horizontal video just remove the sides and center it.  Something like this : [1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Rn3fZ.png","title":"Is there any way to crop a video automatically in android studio?","body":"<p>What I want to do is receive a video in a videoView, for example, stored in firebase. And I need that video to fit a vertical videoView, cutting off or not showing any excess. So if its an horizontal video just remove the sides and center it.  Something like this : <a href=\"https://i.stack.imgur.com/Rn3fZ.png\" rel=\"nofollow noreferrer\">1</a></p>\n"},{"tags":["java","struts","taglib"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1313047450,"post_id":7022189,"comment_id":8387508,"body_markdown":"Did you check the dtd or xsd for the order that elements have to be in? I also struggled with this before realizing that in many schemas the order of elements is not arbitrary (although they are quite independent).","body":"Did you check the dtd or xsd for the order that elements have to be in? I also struggled with this before realizing that in many schemas the order of elements is not arbitrary (although they are quite independent)."},{"owner":{"account_id":303774,"reputation":17523,"user_id":644073,"accept_rate":96,"display_name":"karthik"},"score":0,"creation_date":1313048789,"post_id":7022189,"comment_id":8387861,"body_markdown":"@beny: I added web.xml code.Please do me the favour for me.","body":"@beny: I added web.xml code.Please do me the favour for me."},{"owner":{"account_id":80298,"reputation":34530,"user_id":227140,"accept_rate":80,"display_name":"beny23"},"score":0,"creation_date":1313050304,"post_id":7022189,"comment_id":8388215,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/3775264/why-is-taglib-giving-me-a-problem-in-my-web-xml","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/3775264/why-is-taglib-giving-me-a-problem-in-my-web-xml\" title=\"why is taglib giving me a problem in my web xml\">stackoverflow.com/questions/3775264/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":150309,"reputation":233,"user_id":363422,"accept_rate":100,"display_name":"romesub"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1313051206,"creation_date":1313051206,"answer_id":7022911,"question_id":7022189,"body_markdown":"Taglib is no longer required to be declared in web.xml , please read http://wiki.metawerx.net/wiki/RemovingTaglibFromWeb.xml\r\n\r\nYou are using Servlet 2.5, so the instructions should work for you","title":"XSD validation error: TagLib tag in web.xml is not found","body":"<p>Taglib is no longer required to be declared in web.xml , please read <a href=\"http://wiki.metawerx.net/wiki/RemovingTaglibFromWeb.xml\" rel=\"nofollow\">http://wiki.metawerx.net/wiki/RemovingTaglibFromWeb.xml</a></p>\n\n<p>You are using Servlet 2.5, so the instructions should work for you</p>\n"},{"tags":[],"owner":{"account_id":113326,"reputation":2445,"user_id":298522,"accept_rate":71,"display_name":"Logan"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1326377121,"creation_date":1313053267,"answer_id":7023316,"question_id":7022189,"body_markdown":"Modify your web.xml so that all the taglib tags are contained in jsp-config tag. i.e:\r\n\r\n\r\n\r\n     &lt;jsp-config&gt;\r\n         &lt;taglib&gt;\r\n             &lt;taglib-uri&gt;&lt;/taglib-uri&gt;\r\n             &lt;taglib-location&gt;&lt;/taglib-location&gt;\r\n         &lt;/taglib&gt;\r\n     &lt;/jsp-config&gt;","title":"XSD validation error: TagLib tag in web.xml is not found","body":"<p>Modify your web.xml so that all the taglib tags are contained in jsp-config tag. i.e:</p>\n\n<pre><code> &lt;jsp-config&gt;\n     &lt;taglib&gt;\n         &lt;taglib-uri&gt;&lt;/taglib-uri&gt;\n         &lt;taglib-location&gt;&lt;/taglib-location&gt;\n     &lt;/taglib&gt;\n &lt;/jsp-config&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4676070,"reputation":699,"user_id":3844545,"display_name":"Farid Ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471583795,"creation_date":1471583795,"answer_id":39031577,"question_id":7022189,"body_markdown":"//within: web.xml file\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd&quot;\r\n         version=&quot;3.1&quot;&gt;\r\n    \r\n    &lt;jsp-config&gt;\r\n        &lt;taglib&gt;\r\n            &lt;taglib-uri&gt;/taglib&lt;/taglib-uri&gt;\r\n            &lt;taglib-location&gt;/WEB-INF/tlds/taglib.tld&lt;/taglib-location&gt;\r\n        &lt;/taglib&gt;\r\n    &lt;/jsp-config&gt;\r\n   \r\n    \r\n&lt;/web-app&gt;\r\n","title":"XSD validation error: TagLib tag in web.xml is not found","body":"<p>//within: web.xml file</p>\n\n\n\n<p>http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd\"\n         version=\"3.1\"></p>\n\n<pre><code>&lt;jsp-config&gt;\n    &lt;taglib&gt;\n        &lt;taglib-uri&gt;/taglib&lt;/taglib-uri&gt;\n        &lt;taglib-location&gt;/WEB-INF/tlds/taglib.tld&lt;/taglib-location&gt;\n    &lt;/taglib&gt;\n&lt;/jsp-config&gt;\n</code></pre>\n\n<p></p>\n"}],"owner":{"account_id":303774,"reputation":17523,"user_id":644073,"accept_rate":96,"display_name":"karthik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31693,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":7022911,"answer_count":3,"score":5,"last_activity_date":1657552859,"creation_date":1313047071,"question_id":7022189,"body_markdown":"I show the error in detail as follows.\r\n\r\n**cvc-complex-type.2.4.a:** Invalid content was found starting with element `&#39;taglib&#39;`. \r\n\r\nOne of {\r\n\r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:description,\r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:display-name,\r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:icon,\r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:distributable,\r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:context-param, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:filter,\r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:filter-mapping, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:listener,\r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:servlet, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:servlet-mapping, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:session-config, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:mime-mapping, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:welcome-file-list, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:error-page, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:jsp-config, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:security-constraint, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:login-config, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:security-role, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:env-entry, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:ejb-ref, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:ejb-local-ref, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:service-ref, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:resource-ref, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:resource-env-ref, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:message-destination-ref, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:persistence-context-ref, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:persistence-unit-ref, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:post-construct, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:pre-destroy, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:message-destination, \r\n- &quot;http://java.sun.com/xml/ns/javaee&quot;:locale-encoding-mapping-list\r\n\r\n}\r\n\r\n**web.xml**:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n  \r\n\t&lt;display-name&gt;Hello World Struts Application&lt;/display-name&gt;\r\n\r\n\t&lt;servlet&gt;\r\n\t\t&lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n\t\t&lt;servlet-class&gt;org.apache.struts.action.ActionServlet&lt;/servlet-class&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;config&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;/WEB-INF/struts-config.xml&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;debug&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;3&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;init-param&gt;\r\n\t\t\t&lt;param-name&gt;detail&lt;/param-name&gt;\r\n\t\t\t&lt;param-value&gt;3&lt;/param-value&gt;\r\n\t\t&lt;/init-param&gt;\r\n\t\t&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n\t&lt;/servlet&gt;\r\n\r\n\t&lt;servlet-mapping&gt;\r\n\t\t&lt;servlet-name&gt;action&lt;/servlet-name&gt;\r\n\t\t&lt;url-pattern&gt;*.do&lt;/url-pattern&gt;\r\n\t&lt;/servlet-mapping&gt;\r\n\r\n\t&lt;welcome-file-list&gt;\r\n\t\t&lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n\t&lt;/welcome-file-list&gt;\r\n\r\n\t&lt;taglib&gt;\r\n\t\t&lt;taglib-uri&gt;/WEB-INF/struts-html.tld&lt;/taglib-uri&gt;\r\n\t\t&lt;taglib-location&gt;/WEB-INF/struts-html.tld&lt;/taglib-location&gt;\r\n\t&lt;/taglib&gt;\r\n\r\n\t&lt;taglib&gt;\r\n\t\t&lt;taglib-uri&gt;/WEB-INF/struts-bean.tld&lt;/taglib-uri&gt;\r\n\t\t&lt;taglib-location&gt;/WEB-INF/struts-bean.tld&lt;/taglib-location&gt;\r\n\t&lt;/taglib&gt;\r\n\r\n\t&lt;taglib&gt;\r\n\t\t&lt;taglib-uri&gt;/WEB-INF/struts-logic.tld&lt;/taglib-uri&gt;\r\n\t\t&lt;taglib-location&gt;/WEB-INF/struts-logic.tld&lt;/taglib-location&gt;\r\n\t&lt;/taglib&gt;\r\n\r\n\t&lt;taglib&gt;\r\n\t\t&lt;taglib-uri&gt;/WEB-INF/struts-tiles.tld&lt;/taglib-uri&gt;\r\n\t\t&lt;taglib-location&gt;/WEB-INF/struts-tiles.tld&lt;/taglib-location&gt;\r\n\t&lt;/taglib&gt;\r\n\r\n&lt;/web-app&gt;\r\n```","title":"XSD validation error: TagLib tag in web.xml is not found","body":"<p>I show the error in detail as follows.</p>\n<p><strong>cvc-complex-type.2.4.a:</strong> Invalid content was found starting with element <code>'taglib'</code>.</p>\n<p>One of {</p>\n<ul>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:description,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:display-name,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:icon,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:distributable,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:context-param,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:filter,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:filter-mapping,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:listener,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:servlet,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:servlet-mapping,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:session-config,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:mime-mapping,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:welcome-file-list,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:error-page,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:jsp-config,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:security-constraint,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:login-config,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:security-role,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:env-entry,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:ejb-ref,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:ejb-local-ref,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:service-ref,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:resource-ref,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:resource-env-ref,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:message-destination-ref,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:persistence-context-ref,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:persistence-unit-ref,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:post-construct,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:pre-destroy,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:message-destination,</li>\n<li>&quot;http://java.sun.com/xml/ns/javaee&quot;:locale-encoding-mapping-list</li>\n</ul>\n<p>}</p>\n<p><strong>web.xml</strong>:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\n  \n    &lt;display-name&gt;Hello World Struts Application&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.apache.struts.action.ActionServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;config&lt;/param-name&gt;\n            &lt;param-value&gt;/WEB-INF/struts-config.xml&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;debug&lt;/param-name&gt;\n            &lt;param-value&gt;3&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;detail&lt;/param-name&gt;\n            &lt;param-value&gt;3&lt;/param-value&gt;\n        &lt;/init-param&gt;\n        &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;action&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.do&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n    &lt;welcome-file-list&gt;\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;/welcome-file-list&gt;\n\n    &lt;taglib&gt;\n        &lt;taglib-uri&gt;/WEB-INF/struts-html.tld&lt;/taglib-uri&gt;\n        &lt;taglib-location&gt;/WEB-INF/struts-html.tld&lt;/taglib-location&gt;\n    &lt;/taglib&gt;\n\n    &lt;taglib&gt;\n        &lt;taglib-uri&gt;/WEB-INF/struts-bean.tld&lt;/taglib-uri&gt;\n        &lt;taglib-location&gt;/WEB-INF/struts-bean.tld&lt;/taglib-location&gt;\n    &lt;/taglib&gt;\n\n    &lt;taglib&gt;\n        &lt;taglib-uri&gt;/WEB-INF/struts-logic.tld&lt;/taglib-uri&gt;\n        &lt;taglib-location&gt;/WEB-INF/struts-logic.tld&lt;/taglib-location&gt;\n    &lt;/taglib&gt;\n\n    &lt;taglib&gt;\n        &lt;taglib-uri&gt;/WEB-INF/struts-tiles.tld&lt;/taglib-uri&gt;\n        &lt;taglib-location&gt;/WEB-INF/struts-tiles.tld&lt;/taglib-location&gt;\n    &lt;/taglib&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","java-time","timezone-offset","offsetdatetime"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1657570712,"post_id":72940135,"comment_id":128837932,"body_markdown":"FYI, `OffsetDateTime.parse(&quot;2022-07-09T12:30:34+01:00&quot;, DateTimeFormatter.ISO_OFFSET_DATE_TIME)` is redundant, as that formatter is used by default in `OffsetDateTime.parse(&quot;2022-07-09T12:30:34+01:00&quot;)`.","body":"FYI, <code>OffsetDateTime.parse(&quot;2022-07-09T12:30:34+01:00&quot;, DateTimeFormatter.ISO_OFFSET_DATE_TIME)</code> is redundant, as that formatter is used by default in <code>OffsetDateTime.parse(&quot;2022-07-09T12:30:34+01:00&quot;)</code>."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1657570855,"post_id":72940135,"comment_id":128837977,"body_markdown":"&quot;when I would had expected an Instant of 2022-07-09T13:30:34&quot; — The `+01:00` in &quot;2022-07-09T12:30:34+01:00&quot; means an hour *ahead* of UTC, per the ISO 8601 standard used in *java.time*. So moving from there to UTC means moving the clock *backwards*, from 12:xx hour to 11:xx hour. Your expectation of moving forward an hour is incorrect in *java.time*, being inconsistent with ISO 8601. Be aware that some date-time protocols parse the offset in a manner opposite that of ISO 8601, and in those protocols your expectation would be correct. Isn&#39;t date-time work fun?","body":"&quot;when I would had expected an Instant of 2022-07-09T13:30:34&quot; — The <code>+01:00</code> in &quot;2022-07-09T12:30:34+01:00&quot; means an hour <i>ahead</i> of UTC, per the ISO 8601 standard used in <i>java.time</i>. So moving from there to UTC means moving the clock <i>backwards</i>, from 12:xx hour to 11:xx hour. Your expectation of moving forward an hour is incorrect in <i>java.time</i>, being inconsistent with ISO 8601. Be aware that some date-time protocols parse the offset in a manner opposite that of ISO 8601, and in those protocols your expectation would be correct. Isn&#39;t date-time work fun?"},{"owner":{"account_id":7551185,"reputation":1317,"user_id":5732539,"accept_rate":53,"display_name":"Greşanu Emanuel - Vasile"},"score":0,"creation_date":1657627451,"post_id":72940135,"comment_id":128851008,"body_markdown":"Great answer. Thank you. Yes, it is a bit weird because I need to constantly check the date-time parse protocol, but now, thank to you all, I do have the knowledge to know how to see things.","body":"Great answer. Thank you. Yes, it is a bit weird because I need to constantly check the date-time parse protocol, but now, thank to you all, I do have the knowledge to know how to see things."}],"owner":{"account_id":7551185,"reputation":1317,"user_id":5732539,"accept_rate":53,"display_name":"Greşanu Emanuel - Vasile"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1657549978,"answer_count":0,"score":0,"last_activity_date":1657552829,"creation_date":1657549548,"question_id":72940135,"body_markdown":"I would need the community&#39;s help because I could not find the answer in the Java documentation. I don&#39;t understand how the offset is taken into the math calculations when I try to convert an OffsetDateTime (ex: `2022-07-09T11:30:34`) object to an Instant object. For example:\r\n\r\n\r\nIf we would run on OpenJDK 1.8 the command in a main function: `OffsetDateTime.parse(&quot;2022-07-09T12:30:34+01:00&quot;, DateTimeFormatter.ISO_OFFSET_DATE_TIME).toInstant()` the outcome would be an Instance of date-and-time `2022-07-09T11:30:34` when I would had expected an Instant of `2022-07-09T13:30:34`. The difference is the `hour`. Why do I get it like this?\r\n\r\nAnd the opposite using `-01:00` will do the revet. \r\n\r\n\r\nI apologize for not formatting my text correctly or if I missed something. I would appreciate it if my post would not be marked us not worthy. And sorry if the answer was already answered in a different thread, which I could not find.\r\n\r\nThank you in advance.","title":"Offset not calculated correctly at OffsetDateTime to Instant conversion in Java 8","body":"<p>I would need the community's help because I could not find the answer in the Java documentation. I don't understand how the offset is taken into the math calculations when I try to convert an OffsetDateTime (ex: <code>2022-07-09T11:30:34</code>) object to an Instant object. For example:</p>\n<p>If we would run on OpenJDK 1.8 the command in a main function: <code>OffsetDateTime.parse(&quot;2022-07-09T12:30:34+01:00&quot;, DateTimeFormatter.ISO_OFFSET_DATE_TIME).toInstant()</code> the outcome would be an Instance of date-and-time <code>2022-07-09T11:30:34</code> when I would had expected an Instant of <code>2022-07-09T13:30:34</code>. The difference is the <code>hour</code>. Why do I get it like this?</p>\n<p>And the opposite using <code>-01:00</code> will do the revet.</p>\n<p>I apologize for not formatting my text correctly or if I missed something. I would appreciate it if my post would not be marked us not worthy. And sorry if the answer was already answered in a different thread, which I could not find.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","spring","hibernate","for-loop"],"answers":[{"tags":[],"owner":{"account_id":3174884,"reputation":618,"user_id":2683003,"accept_rate":50,"display_name":"ChicagoMike"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1427807920,"creation_date":1427807920,"answer_id":29369677,"question_id":29369624,"body_markdown":"I believe you have to create a new LoanFinance object for each string you iterate through.","title":"save operation inside for loop","body":"<p>I believe you have to create a new LoanFinance object for each string you iterate through.</p>\n"},{"tags":[],"owner":{"account_id":4968334,"reputation":543,"user_id":3996943,"display_name":"Giovanni"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1427807990,"creation_date":1427807990,"answer_id":29369704,"question_id":29369624,"body_markdown":"You are saving the same object over and over. If you want to insert 5 different element you need to create a new element at each iteration.\r\n \r\n\r\n     for (String string : loanIds) {  \r\n            loanFinance = new LoanFinance();               \r\n            loanFinance.setFundingBankId(bankId);\r\n            loanFinance.setIdFundsProductPurpose(Long.valueOf(68449));\r\n            loanFinance.setLoanId(Long.parseLong(string));\r\n            loanFinance.setLastModifiedBy(user.getId());\r\n            loanFinance.setIdEntityloan(Long.parseLong(string));\r\n            loanFinance.setAmount(10000.00);\r\n            loanFinance.setStatus(&quot;A&quot;); \r\n\r\n            commonRepository.save(loanFinance);     \r\n            System.out.println(&quot;Saved Datas&quot;);\r\n        }","title":"save operation inside for loop","body":"<p>You are saving the same object over and over. If you want to insert 5 different element you need to create a new element at each iteration.</p>\n\n<pre><code> for (String string : loanIds) {  \n        loanFinance = new LoanFinance();               \n        loanFinance.setFundingBankId(bankId);\n        loanFinance.setIdFundsProductPurpose(Long.valueOf(68449));\n        loanFinance.setLoanId(Long.parseLong(string));\n        loanFinance.setLastModifiedBy(user.getId());\n        loanFinance.setIdEntityloan(Long.parseLong(string));\n        loanFinance.setAmount(10000.00);\n        loanFinance.setStatus(\"A\"); \n\n        commonRepository.save(loanFinance);     \n        System.out.println(\"Saved Datas\");\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8677796,"reputation":374,"user_id":6494711,"accept_rate":0,"display_name":"chandrashekar.n"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1500709029,"creation_date":1500709029,"answer_id":45252004,"question_id":29369624,"body_markdown":"Extention answer for GIOVANNI\r\n\r\n@PostMapping(&quot;multiplevents&quot;)\r\n\tpublic void createStgSlobMultiEvents(@RequestBody EcStgSlobEvents createEcStgSlobEvents\r\n\t\t\t) {\r\n\r\n\t\tlogger.info(&quot; createEcStgSlobEvents ---&gt;   &quot; + createEcStgSlobEvents);\r\n\r\n\t\tlogger.info(&quot; EcStgSlobEventController::: createStgSlobMultiEvents ()  &quot;);\r\n\r\n\t\tList&lt;Integer&gt; eventids = createEcStgSlobEvents.getEvenIds();\r\n\t\tEcStgSlobEvents ecStgSlobEvents =null;\r\n\t\tfor (Integer eventId : eventids) {\r\n\t\t\t ecStgSlobEvents = new EcStgSlobEvents();\r\n\r\n\t\t\tecStgSlobEvents.setCliCode(createEcStgSlobEvents.getCliCode());\r\n\t\t\tecStgSlobEvents.setEventId(eventId);\r\n\t\t\tecStgSlobEvents.setLineOfBusiness(createEcStgSlobEvents.getLineOfBusiness());\r\n\t\t\tecStgSlobEvents.setSlobEventId(createEcStgSlobEvents.getSlobEventId());\r\n\t\t\tecStgSlobEvents.setSublineOfBusiness(createEcStgSlobEvents.getSublineOfBusiness());\r\n\r\n\t\t\tcreateEcStgSlobEvents.setEventId(eventId);\r\n\t\t\tlogger.info(&quot; EcStgSlobEventController::: EventId  &quot; + eventId);\r\n\t\t\teventConfigurerepo.save(ecStgSlobEvents);\r\n\t\t}\r\n\t\tlogger.info(&quot; EcStgSlobEventController::: createStgSlobEvents - multiplevents()  &quot;);\r\n\r\n\t}","title":"save operation inside for loop","body":"<p>Extention answer for GIOVANNI</p>\n\n<p>@PostMapping(\"multiplevents\")\n    public void createStgSlobMultiEvents(@RequestBody EcStgSlobEvents createEcStgSlobEvents\n            ) {</p>\n\n<pre><code>    logger.info(\" createEcStgSlobEvents ---&gt;   \" + createEcStgSlobEvents);\n\n    logger.info(\" EcStgSlobEventController::: createStgSlobMultiEvents ()  \");\n\n    List&lt;Integer&gt; eventids = createEcStgSlobEvents.getEvenIds();\n    EcStgSlobEvents ecStgSlobEvents =null;\n    for (Integer eventId : eventids) {\n         ecStgSlobEvents = new EcStgSlobEvents();\n\n        ecStgSlobEvents.setCliCode(createEcStgSlobEvents.getCliCode());\n        ecStgSlobEvents.setEventId(eventId);\n        ecStgSlobEvents.setLineOfBusiness(createEcStgSlobEvents.getLineOfBusiness());\n        ecStgSlobEvents.setSlobEventId(createEcStgSlobEvents.getSlobEventId());\n        ecStgSlobEvents.setSublineOfBusiness(createEcStgSlobEvents.getSublineOfBusiness());\n\n        createEcStgSlobEvents.setEventId(eventId);\n        logger.info(\" EcStgSlobEventController::: EventId  \" + eventId);\n        eventConfigurerepo.save(ecStgSlobEvents);\n    }\n    logger.info(\" EcStgSlobEventController::: createStgSlobEvents - multiplevents()  \");\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8195918,"reputation":119,"user_id":6168777,"display_name":"Tony Banks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657552607,"creation_date":1657552607,"answer_id":72940837,"question_id":29369624,"body_markdown":"    for (String string : loanIds) {  \r\n\r\n        loanFinance = new LoanFinance(); // This should be in the loop too.\r\n              \r\n        loanFinance.setFundingBankId(bankId);\r\n        loanFinance.setIdFundsProductPurpose(Long.valueOf(68449));\r\n        loanFinance.setLoanId(Long.parseLong(string));\r\n        loanFinance.setLastModifiedBy(user.getId());\r\n        loanFinance.setIdEntityloan(Long.parseLong(string));\r\n        loanFinance.setAmount(10000.00);\r\n        loanFinance.setStatus(&quot;A&quot;); \r\n\r\n        commonRepository.save(loanFinance);     \r\n        System.out.println(&quot;Saved Datas&quot;);\r\n    }","title":"save operation inside for loop","body":"<pre><code>for (String string : loanIds) {  \n\n    loanFinance = new LoanFinance(); // This should be in the loop too.\n          \n    loanFinance.setFundingBankId(bankId);\n    loanFinance.setIdFundsProductPurpose(Long.valueOf(68449));\n    loanFinance.setLoanId(Long.parseLong(string));\n    loanFinance.setLastModifiedBy(user.getId());\n    loanFinance.setIdEntityloan(Long.parseLong(string));\n    loanFinance.setAmount(10000.00);\n    loanFinance.setStatus(&quot;A&quot;); \n\n    commonRepository.save(loanFinance);     \n    System.out.println(&quot;Saved Datas&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":2259259,"reputation":1070,"user_id":1989722,"accept_rate":83,"display_name":"DevGo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2973,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":29369704,"answer_count":4,"score":0,"last_activity_date":1657552607,"creation_date":1427807773,"question_id":29369624,"body_markdown":"I am working in spring mvc + hibernate.....\r\n\r\nI am making create operation inside for loop, but its executed only once. here is my sample code.\r\n\r\n\t\t\tString[] loanIds = request.getParameterValues(&quot;loanId&quot;);\r\n\r\nloanIds value is 5\r\n\r\n\t        for (String string : loanIds) { \t            \r\n                loanFinance.setFundingBankId(bankId);\r\n                loanFinance.setIdFundsProductPurpose(Long.valueOf(68449));\r\n                loanFinance.setLoanId(Long.parseLong(string));\r\n                loanFinance.setLastModifiedBy(user.getId());\r\n                loanFinance.setIdEntityloan(Long.parseLong(string));\r\n                loanFinance.setAmount(10000.00);\r\n\t\t\t\tloanFinance.setStatus(&quot;A&quot;);\t\r\n\t\r\n\t\t\t\tcommonRepository.save(loanFinance);\t\t\r\n\t\t\t\tSystem.out.println(&quot;Saved Datas&quot;);\r\n\t        }\r\n\t\t\t\r\nI catalina.out I can see &quot;Saved Datas&quot; prints 5 times.... but table inserted only once.\r\n\r\nCan anyone give me advice in this, what I am doing wrong here..","title":"save operation inside for loop","body":"<p>I am working in spring mvc + hibernate.....</p>\n\n<p>I am making create operation inside for loop, but its executed only once. here is my sample code.</p>\n\n<pre><code>        String[] loanIds = request.getParameterValues(\"loanId\");\n</code></pre>\n\n<p>loanIds value is 5</p>\n\n<pre><code>        for (String string : loanIds) {                 \n            loanFinance.setFundingBankId(bankId);\n            loanFinance.setIdFundsProductPurpose(Long.valueOf(68449));\n            loanFinance.setLoanId(Long.parseLong(string));\n            loanFinance.setLastModifiedBy(user.getId());\n            loanFinance.setIdEntityloan(Long.parseLong(string));\n            loanFinance.setAmount(10000.00);\n            loanFinance.setStatus(\"A\"); \n\n            commonRepository.save(loanFinance);     \n            System.out.println(\"Saved Datas\");\n        }\n</code></pre>\n\n<p>I catalina.out I can see \"Saved Datas\" prints 5 times.... but table inserted only once.</p>\n\n<p>Can anyone give me advice in this, what I am doing wrong here..</p>\n"},{"tags":["java","date","datetime","time"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1657441802,"post_id":72927092,"comment_id":128807238,"body_markdown":"`LocalDateTime.now().minus(30, ChronoUnit.MINUTES)`","body":"<code>LocalDateTime.now().minus(30, ChronoUnit.MINUTES)</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1657443690,"post_id":72927092,"comment_id":128807502,"body_markdown":"is the input string really `&quot;202207**10*****0015***&quot;` with all that `*` ; or was it (an attempt) to use the bold format?","body":"is the input string really <code>&quot;202207**10*****0015***&quot;</code> with all that <code>*</code> ; or was it (an attempt) to use the bold format?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1657442126,"creation_date":1657442126,"answer_id":72927175,"question_id":72927092,"body_markdown":"What you want doesn&#39;t make sense. 2022-07-10 00:15 minus 30 minutes? That&#39;s not 2022-07-09 23:45. Not neccessarily, anyway. Maybe a timezone shift means it&#39;s 2022-07-10 00:45 (but, _before_ the timezone change). Or it&#39;s 2022-07-09 22:45. Or perhaps it&#39;s 2022-07-01 23:45 - it&#39;s been a good long while but a locale can skip a day (last time: When one of the islands in the pacific decided to hop across the date line), or even half a month (last time: Russian revolution. It&#39;s still in the 1900s).\r\n\r\nYou can&#39;t &#39;do&#39; date-diff math on _Local_ date/time concepts; __a time zone is required__.\r\n\r\nOnce you&#39;ve established one this is trivial:\r\n\r\n1. First, parse whatever you have into a `LocalDate`, `LocalDateTime`, `OffsetDateTime`, `Instant`, or `ZonedDateTime` object. These are all fundamentally different concepts - a key part of doing any time-based anything is figuring out what concept you&#39;re dealing with. For example, you seem to believe you&#39;re dealing with local date/times (no timezone), and yet also with a concept that can &#39;do&#39; date diff math (which is mutually exclusive, hence, some more analysis of the situation is required).\r\n2. Then, transform what you have into the date/time concept you need to do the operation.\r\n3. Do the operation.\r\n4. Transform some more if needed.\r\n5. `format` it back to a string if you want.\r\n\r\nIf you try to shortcut and skip steps, it&#39;ll work, until it doesn&#39;t. Because date/time is just that hard.\r\n\r\nFor example:\r\n\r\n```\r\nDateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuuMM**dd*****HHmm***&quot;);\r\n\r\nLocalDateTime ldt = LocalDateTime.parse(&quot;202207**10*****0015***&quot;, dtf);\r\n```\r\n\r\nThis is a good start; you now have an LDT object with the right year, month, day, minute, and hour.\r\n\r\nLet&#39;s localize it somewhere and do the math:\r\n\r\n```\r\nZonedDateTime zdt = ldt.atZone(ZoneId.of(&quot;Europe/Amsterdam&quot;));\r\nzdt = zdt.minusMinutes(30);\r\nSystem.out.println(zdt.format(dtf));\r\n```\r\n\r\nPrints `202207**09*****2345***`; I assume that&#39;s what you want.\r\n\r\n","title":"how to get the calculated date and time in java?","body":"<p>What you want doesn't make sense. 2022-07-10 00:15 minus 30 minutes? That's not 2022-07-09 23:45. Not neccessarily, anyway. Maybe a timezone shift means it's 2022-07-10 00:45 (but, <em>before</em> the timezone change). Or it's 2022-07-09 22:45. Or perhaps it's 2022-07-01 23:45 - it's been a good long while but a locale can skip a day (last time: When one of the islands in the pacific decided to hop across the date line), or even half a month (last time: Russian revolution. It's still in the 1900s).</p>\n<p>You can't 'do' date-diff math on <em>Local</em> date/time concepts; <strong>a time zone is required</strong>.</p>\n<p>Once you've established one this is trivial:</p>\n<ol>\n<li>First, parse whatever you have into a <code>LocalDate</code>, <code>LocalDateTime</code>, <code>OffsetDateTime</code>, <code>Instant</code>, or <code>ZonedDateTime</code> object. These are all fundamentally different concepts - a key part of doing any time-based anything is figuring out what concept you're dealing with. For example, you seem to believe you're dealing with local date/times (no timezone), and yet also with a concept that can 'do' date diff math (which is mutually exclusive, hence, some more analysis of the situation is required).</li>\n<li>Then, transform what you have into the date/time concept you need to do the operation.</li>\n<li>Do the operation.</li>\n<li>Transform some more if needed.</li>\n<li><code>format</code> it back to a string if you want.</li>\n</ol>\n<p>If you try to shortcut and skip steps, it'll work, until it doesn't. Because date/time is just that hard.</p>\n<p>For example:</p>\n<pre><code>DateTimeFormatter dtf = DateTimeFormatter.ofPattern(&quot;uuuuMM**dd*****HHmm***&quot;);\n\nLocalDateTime ldt = LocalDateTime.parse(&quot;202207**10*****0015***&quot;, dtf);\n</code></pre>\n<p>This is a good start; you now have an LDT object with the right year, month, day, minute, and hour.</p>\n<p>Let's localize it somewhere and do the math:</p>\n<pre><code>ZonedDateTime zdt = ldt.atZone(ZoneId.of(&quot;Europe/Amsterdam&quot;));\nzdt = zdt.minusMinutes(30);\nSystem.out.println(zdt.format(dtf));\n</code></pre>\n<p>Prints <code>202207**09*****2345***</code>; I assume that's what you want.</p>\n"},{"tags":[],"owner":{"account_id":4565343,"reputation":12775,"user_id":3710490,"accept_rate":64,"display_name":"Valijon"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1657552182,"creation_date":1657442591,"answer_id":72927222,"question_id":72927092,"body_markdown":"You need to use `LocalDateTime.minus` method:\r\n\r\n    DateTimeFormatter DATEFORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;);\r\n    LocalDateTime d  = LocalDateTime.parse(&quot;2022-07-10 00:10&quot;, DATEFORMATTER);\r\n    d.atZone(ZoneId.systemDefault());\r\n\r\n    LocalDateTime d2 = d.minus(Duration.ofMinutes(30));\r\n    LocalDateTime d3 = d.minus(30, ChronoUnit.MINUTES);\r\n        \r\n    System.out.println(d2); //2022-07-09T23:40\r\n    System.out.println(d3); //2022-07-09T23:40","title":"how to get the calculated date and time in java?","body":"<p>You need to use <code>LocalDateTime.minus</code> method:</p>\n<pre><code>DateTimeFormatter DATEFORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm&quot;);\nLocalDateTime d  = LocalDateTime.parse(&quot;2022-07-10 00:10&quot;, DATEFORMATTER);\nd.atZone(ZoneId.systemDefault());\n\nLocalDateTime d2 = d.minus(Duration.ofMinutes(30));\nLocalDateTime d3 = d.minus(30, ChronoUnit.MINUTES);\n    \nSystem.out.println(d2); //2022-07-09T23:40\nSystem.out.println(d3); //2022-07-09T23:40\n</code></pre>\n"}],"owner":{"account_id":22826798,"reputation":1,"user_id":16975934,"display_name":"John J"},"comment_count":2,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1657472192,"accepted_answer_id":72927222,"answer_count":2,"score":-2,"last_activity_date":1657552182,"creation_date":1657441180,"question_id":72927092,"body_markdown":"I have a date say 2022-07-10 as date (YYY/MM/dd) and time as 00:15\r\n\r\nie. `202207**10*****0015***`\r\n\r\nafter subtracting **30** mins from above the result must be\r\n\r\n2022-07-09 and time as 23:45\r\n\r\nie. `202207**09***2345***`\r\n\r\n\r\nother scenarios:\r\n \r\n202207100030 --&gt;202207100000\r\n\r\n\r\n202207100010 --&gt;202207092340\r\n\r\n\r\n202207100035 --&gt;202207100005\r\n\r\n\r\nCould you please help me out with this.","title":"how to get the calculated date and time in java?","body":"<p>I have a date say 2022-07-10 as date (YYY/MM/dd) and time as 00:15</p>\n<p>ie. <code>202207**10*****0015***</code></p>\n<p>after subtracting <strong>30</strong> mins from above the result must be</p>\n<p>2022-07-09 and time as 23:45</p>\n<p>ie. <code>202207**09***2345***</code></p>\n<p>other scenarios:</p>\n<p>202207100030 --&gt;202207100000</p>\n<p>202207100010 --&gt;202207092340</p>\n<p>202207100035 --&gt;202207100005</p>\n<p>Could you please help me out with this.</p>\n"},{"tags":["java","android","kotlin","dialogfragment"],"comments":[{"owner":{"account_id":5628423,"reputation":199,"user_id":4456038,"accept_rate":50,"display_name":"asdcvf"},"score":0,"creation_date":1566447426,"post_id":57600487,"comment_id":101660561,"body_markdown":"you can get FragmentManager object from an FragmentActivity object, should make activity object in your Application class","body":"you can get FragmentManager object from an FragmentActivity object, should make activity object in your Application class"}],"answers":[{"tags":[],"owner":{"account_id":14082156,"reputation":2612,"user_id":10172915,"display_name":"Akaki Kapanadze"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566457033,"creation_date":1566457033,"answer_id":57603619,"question_id":57600487,"body_markdown":"You can register an `ActivityLifecycleCallbacks` in the `Application` class to know which activity is currently running, and get the `FragmentManager`:\r\n\r\n    class MyApplication : Application() {\r\n        \r\n        private var currentActivityRef : WeakReference&lt;FragmentActivity?&gt;? = null\r\n\r\n        private val supportFragmentManager : FragmentManager? \r\n            get() = currentActivityRef?.get()?.supportFragmentManager\r\n\r\n        override fun onCreate() {\r\n            super.onCreate()\r\n        \r\n            registerActivityLifecycleCallbacks(object : ActivityLifecycleCallbacks {\r\n        \r\n                override fun onActivityStarted(activity: Activity?) {\r\n                    currentActivityRef = WeakReference(activity as? FragmentActivity)\r\n                }\r\n        \r\n                override fun onActivityStopped(activity: Activity?) {\r\n                    currentActivityRef = null\r\n                }\r\n        \r\n                override fun onActivityPaused(activity: Activity?) {}\r\n        \r\n                override fun onActivityResumed(activity: Activity?) {}\r\n        \r\n                override fun onActivityDestroyed(activity: Activity?) {}\r\n        \r\n                override fun onActivitySaveInstanceState(activity: Activity?,\r\n                                                         outState: Bundle?) {\r\n                }\r\n        \r\n                override fun onActivityCreated(activity: Activity?,\r\n                                               savedInstanceState: Bundle?) {\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n","title":"Bind custom DialogFragment to service initialized into Application scope","body":"<p>You can register an <code>ActivityLifecycleCallbacks</code> in the <code>Application</code> class to know which activity is currently running, and get the <code>FragmentManager</code>:</p>\n\n<pre><code>class MyApplication : Application() {\n\n    private var currentActivityRef : WeakReference&lt;FragmentActivity?&gt;? = null\n\n    private val supportFragmentManager : FragmentManager? \n        get() = currentActivityRef?.get()?.supportFragmentManager\n\n    override fun onCreate() {\n        super.onCreate()\n\n        registerActivityLifecycleCallbacks(object : ActivityLifecycleCallbacks {\n\n            override fun onActivityStarted(activity: Activity?) {\n                currentActivityRef = WeakReference(activity as? FragmentActivity)\n            }\n\n            override fun onActivityStopped(activity: Activity?) {\n                currentActivityRef = null\n            }\n\n            override fun onActivityPaused(activity: Activity?) {}\n\n            override fun onActivityResumed(activity: Activity?) {}\n\n            override fun onActivityDestroyed(activity: Activity?) {}\n\n            override fun onActivitySaveInstanceState(activity: Activity?,\n                                                     outState: Bundle?) {\n            }\n\n            override fun onActivityCreated(activity: Activity?,\n                                           savedInstanceState: Bundle?) {\n            }\n        })\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16437138,"reputation":1,"user_id":11874447,"display_name":"Alexsius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657551671,"creation_date":1566431836,"question_id":57600487,"body_markdown":"I&#39;m working to an application that makes some webcalls and I want to add a DialogFragment (with a ProgressBar at the center) that shows when I&#39;m waiting for the call to complete.\r\n\r\nWebcalls are extended from AsyncTask with a private library that gives an interface (*DialogInterface*) to set what to do when the dialog it&#39;s shown and hidden.\r\nFor the DialogFragment I&#39;ve found some nice code from here:  \r\nhttps://code.luasoftware.com/tutorials/android/android-show-loading-and-prevent-touch/\r\n\r\nIt works without problems from an Activity class, but the DialogInterface has to be set to the WebService builder which is initialized into the Application class\r\n\r\nThis is the init sequence in the Application class\r\n\r\n    WebService.init(\r\n        WebServiceBuilder(this)\r\n            .setBaseUrlTest(&quot;http://google.it/&quot;)\r\n            .setUrlType(UrlType.TEST)\r\n            .setDialogInterface(object : DialogInterface {\r\n                override fun showDialog(context: Context?) {\r\n                    if (context != null)\r\n               \r\n                    val busyDialog = BusyDialogFragment.show(supportFragmentManager)\r\n                \r\n                }\r\n                override fun hideDialog() {\r\n                    //code that hide the DialogFragment\r\n                }\r\n            })\r\n\r\n\r\nObviously in the Application class I cannot get the FragmentManager so this code doesn&#39;t works.","title":"Bind custom DialogFragment to service initialized into Application scope","body":"<p>I'm working to an application that makes some webcalls and I want to add a DialogFragment (with a ProgressBar at the center) that shows when I'm waiting for the call to complete.</p>\n<p>Webcalls are extended from AsyncTask with a private library that gives an interface (<em>DialogInterface</em>) to set what to do when the dialog it's shown and hidden.\nFor the DialogFragment I've found some nice code from here:<br />\n<a href=\"https://code.luasoftware.com/tutorials/android/android-show-loading-and-prevent-touch/\" rel=\"nofollow noreferrer\">https://code.luasoftware.com/tutorials/android/android-show-loading-and-prevent-touch/</a></p>\n<p>It works without problems from an Activity class, but the DialogInterface has to be set to the WebService builder which is initialized into the Application class</p>\n<p>This is the init sequence in the Application class</p>\n<pre><code>WebService.init(\n    WebServiceBuilder(this)\n        .setBaseUrlTest(&quot;http://google.it/&quot;)\n        .setUrlType(UrlType.TEST)\n        .setDialogInterface(object : DialogInterface {\n            override fun showDialog(context: Context?) {\n                if (context != null)\n           \n                val busyDialog = BusyDialogFragment.show(supportFragmentManager)\n            \n            }\n            override fun hideDialog() {\n                //code that hide the DialogFragment\n            }\n        })\n</code></pre>\n<p>Obviously in the Application class I cannot get the FragmentManager so this code doesn't works.</p>\n"},{"tags":["java","arrays","hashcode"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":0,"creation_date":1294853306,"post_id":4671858,"comment_id":5148779,"body_markdown":"You&#39;re referring to `deepHashCode()` in `java.util.Arrays`, I assume?","body":"You&#39;re referring to <code>deepHashCode()</code> in <code>java.util.Arrays</code>, I assume?"}],"answers":[{"tags":[],"owner":{"account_id":268636,"reputation":8124,"user_id":557500,"display_name":"rfeak"},"down_vote_count":1,"up_vote_count":9,"is_accepted":true,"score":8,"last_activity_date":1657551333,"creation_date":1294853788,"answer_id":4671959,"question_id":4671858,"body_markdown":"First off, no need for &quot;Deep&quot;. It&#39;s a primitive. You don&#39;t need Deep.\r\n\r\nJust use [`Arrays.hashCode(byte[] yourArray)`][1].\r\n\r\nDeep implies delving into the Objects contained within the array. Given that you are dealing with a primitive, you just need to use the primitive value itself in the calculation. That&#39;s why none of the Deep methods revolve around primitives.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#hashCode(byte[])","title":"deepHashCode with byte array","body":"<p>First off, no need for &quot;Deep&quot;. It's a primitive. You don't need Deep.</p>\n<p>Just use <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#hashCode(byte%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.hashCode(byte[] yourArray)</code></a>.</p>\n<p>Deep implies delving into the Objects contained within the array. Given that you are dealing with a primitive, you just need to use the primitive value itself in the calculation. That's why none of the Deep methods revolve around primitives.</p>\n"},{"tags":[],"owner":{"account_id":28454,"reputation":1638,"user_id":76039,"display_name":"Smerity"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1301559432,"creation_date":1301559432,"answer_id":5496982,"question_id":4671858,"body_markdown":"Using **deepHashCode** is indeed correct if you want two byte arrays containing the same bytes to have equivalent hash codes, you just need some additional casting for the byte[] array.\r\n\r\n    import java.utils.Arrays;\r\n\r\n    public class A {\r\n      public static void main(String[] args) {\r\n        byte[] a = {10,32,-43,80};\r\n        byte[] b = {13,-40};\r\n        byte[] c = {10,32,-43,80};\r\n        // A and C will have different hash codes\r\n        System.out.println(a.hashCode());\r\n        System.out.println(b.hashCode());\r\n        System.out.println(c.hashCode());\r\n        // A and C will now have equivalent hash codes\r\n        System.out.println(Arrays.deepHashCode(new Object[]{a}));\r\n        System.out.println(Arrays.deepHashCode(new Object[]{b}));\r\n        System.out.println(Arrays.deepHashCode(new Object[]{c}));\r\n      }\r\n    }\r\n\r\nThis results in output similar to...\r\n\r\n    // Hash Codes\r\n    a = 16130931\r\n    b = 26315233\r\n    c = 32716405\r\n    // Deep hash codes\r\n    a = 1250961\r\n    b = 1355\r\n    c = 1250961","title":"deepHashCode with byte array","body":"<p>Using <strong>deepHashCode</strong> is indeed correct if you want two byte arrays containing the same bytes to have equivalent hash codes, you just need some additional casting for the byte[] array.</p>\n\n<pre><code>import java.utils.Arrays;\n\npublic class A {\n  public static void main(String[] args) {\n    byte[] a = {10,32,-43,80};\n    byte[] b = {13,-40};\n    byte[] c = {10,32,-43,80};\n    // A and C will have different hash codes\n    System.out.println(a.hashCode());\n    System.out.println(b.hashCode());\n    System.out.println(c.hashCode());\n    // A and C will now have equivalent hash codes\n    System.out.println(Arrays.deepHashCode(new Object[]{a}));\n    System.out.println(Arrays.deepHashCode(new Object[]{b}));\n    System.out.println(Arrays.deepHashCode(new Object[]{c}));\n  }\n}\n</code></pre>\n\n<p>This results in output similar to...</p>\n\n<pre><code>// Hash Codes\na = 16130931\nb = 26315233\nc = 32716405\n// Deep hash codes\na = 1250961\nb = 1355\nc = 1250961\n</code></pre>\n"},{"tags":[],"owner":{"account_id":191004,"reputation":5546,"user_id":431296,"display_name":"Stan Kurdziel"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1366312329,"creation_date":1366312329,"answer_id":16091241,"question_id":4671858,"body_markdown":"The accepted answer is correct: using **Arrays.hashCode** gives identical results for byte[] with the same values.\r\n**Arrays.deepHashCode** is necessary if you have a nested (deep) structure.\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class A {\r\n\r\n        public static void main(String[] args) {\r\n            byte[] a = {10, 32, -43, 80};\r\n            byte[] b = {13, -40};\r\n            byte[] c = {10, 32, -43, 80};\r\n\r\n            System.out.println(&quot;NOTE: A and C have identical values, B differs&quot;);\r\n            System.out.println(&quot;Using byte[].hashCode(): A and C have different hash codes&quot;);\r\n            System.out.println(&quot;a = &quot; + a.hashCode());\r\n            System.out.println(&quot;b = &quot; + b.hashCode());\r\n            System.out.println(&quot;c = &quot; + c.hashCode());\r\n\r\n            System.out.println(&quot;Using Arrays.hashCode(): A and C have identical hash codes&quot;);\r\n            System.out.println(&quot;a = &quot; + Arrays.hashCode(a));\r\n            System.out.println(&quot;b = &quot; + Arrays.hashCode(b));\r\n            System.out.println(&quot;c = &quot; + Arrays.hashCode(c));\r\n\r\n            System.out.println(&quot;Using Arrays.deepHashCode(): A and C have identical hash codes&quot;);\r\n            System.out.println(&quot;a = &quot; + Arrays.deepHashCode(new Object[]{a}));\r\n            System.out.println(&quot;b = &quot; + Arrays.deepHashCode(new Object[]{b}));\r\n            System.out.println(&quot;c = &quot; + Arrays.deepHashCode(new Object[]{c}));\r\n        }\r\n    }\r\n\r\nThis results in output:\r\n\r\n    NOTE: A and C have identical values, B differs\r\n    Using byte[].hashCode(): A and C have different hash codes\r\n    a = 141847843\r\n    b = 329849131\r\n    c = 1119051810\r\n    Using Arrays.hashCode(): A and C have identical hash codes\r\n    a = 1250930\r\n    b = 1324\r\n    c = 1250930\r\n    Using Arrays.deepHashCode(): A and C have identical hash codes\r\n    a = 1250961\r\n    b = 1355\r\n    c = 1250961\r\n\r\nHere&#39;s an example of when **Arrays.deepHashCode** is necessary\r\n\r\n    import java.util.Arrays;\r\n\r\n    public class B {\r\n        public static void main(String[] args) {\r\n            Object[] d = {&quot;abc&quot;, &quot;def&quot;, new String[]{&quot;ghi&quot;}};\r\n            Object[] e = {&quot;abc&quot;, &quot;def&quot;, new String[]{&quot;ghi&quot;}};\r\n\r\n            System.out.println(&quot;NOTE: D and E have identical nested values&quot;);\r\n            System.out.println(&quot;Using Object[].hashCode(): different&quot;);\r\n            System.out.println(&quot;d = &quot; + d.hashCode());\r\n            System.out.println(&quot;f = &quot; + e.hashCode());\r\n\r\n            System.out.println(&quot;Using Arrays.hashCode(): still different&quot;);\r\n            System.out.println(&quot;d = &quot; + Arrays.hashCode(d));\r\n            System.out.println(&quot;e = &quot; + Arrays.hashCode(e));\r\n\r\n            System.out.println(&quot;Using Arrays.deepHashCode(): identical&quot;);\r\n            System.out.println(&quot;d = &quot; + Arrays.deepHashCode(d));\r\n            System.out.println(&quot;e = &quot; + Arrays.deepHashCode(e));\r\n        }\r\n    }\r\n\r\noutput:\r\n\r\n    NOTE: D and E have identical nested values\r\n    Using Object[].hashCode(): different\r\n    d = 241990244\r\n    f = 1943487137\r\n    Using Arrays.hashCode(): still different\r\n    d = 1057745997\r\n    e = 709187068\r\n    Using Arrays.deepHashCode(): identical\r\n    d = 95807651\r\n    e = 95807651","title":"deepHashCode with byte array","body":"<p>The accepted answer is correct: using <strong>Arrays.hashCode</strong> gives identical results for byte[] with the same values.\n<strong>Arrays.deepHashCode</strong> is necessary if you have a nested (deep) structure.</p>\n\n<pre><code>import java.util.Arrays;\n\npublic class A {\n\n    public static void main(String[] args) {\n        byte[] a = {10, 32, -43, 80};\n        byte[] b = {13, -40};\n        byte[] c = {10, 32, -43, 80};\n\n        System.out.println(\"NOTE: A and C have identical values, B differs\");\n        System.out.println(\"Using byte[].hashCode(): A and C have different hash codes\");\n        System.out.println(\"a = \" + a.hashCode());\n        System.out.println(\"b = \" + b.hashCode());\n        System.out.println(\"c = \" + c.hashCode());\n\n        System.out.println(\"Using Arrays.hashCode(): A and C have identical hash codes\");\n        System.out.println(\"a = \" + Arrays.hashCode(a));\n        System.out.println(\"b = \" + Arrays.hashCode(b));\n        System.out.println(\"c = \" + Arrays.hashCode(c));\n\n        System.out.println(\"Using Arrays.deepHashCode(): A and C have identical hash codes\");\n        System.out.println(\"a = \" + Arrays.deepHashCode(new Object[]{a}));\n        System.out.println(\"b = \" + Arrays.deepHashCode(new Object[]{b}));\n        System.out.println(\"c = \" + Arrays.deepHashCode(new Object[]{c}));\n    }\n}\n</code></pre>\n\n<p>This results in output:</p>\n\n<pre><code>NOTE: A and C have identical values, B differs\nUsing byte[].hashCode(): A and C have different hash codes\na = 141847843\nb = 329849131\nc = 1119051810\nUsing Arrays.hashCode(): A and C have identical hash codes\na = 1250930\nb = 1324\nc = 1250930\nUsing Arrays.deepHashCode(): A and C have identical hash codes\na = 1250961\nb = 1355\nc = 1250961\n</code></pre>\n\n<p>Here's an example of when <strong>Arrays.deepHashCode</strong> is necessary</p>\n\n<pre><code>import java.util.Arrays;\n\npublic class B {\n    public static void main(String[] args) {\n        Object[] d = {\"abc\", \"def\", new String[]{\"ghi\"}};\n        Object[] e = {\"abc\", \"def\", new String[]{\"ghi\"}};\n\n        System.out.println(\"NOTE: D and E have identical nested values\");\n        System.out.println(\"Using Object[].hashCode(): different\");\n        System.out.println(\"d = \" + d.hashCode());\n        System.out.println(\"f = \" + e.hashCode());\n\n        System.out.println(\"Using Arrays.hashCode(): still different\");\n        System.out.println(\"d = \" + Arrays.hashCode(d));\n        System.out.println(\"e = \" + Arrays.hashCode(e));\n\n        System.out.println(\"Using Arrays.deepHashCode(): identical\");\n        System.out.println(\"d = \" + Arrays.deepHashCode(d));\n        System.out.println(\"e = \" + Arrays.deepHashCode(e));\n    }\n}\n</code></pre>\n\n<p>output:</p>\n\n<pre><code>NOTE: D and E have identical nested values\nUsing Object[].hashCode(): different\nd = 241990244\nf = 1943487137\nUsing Arrays.hashCode(): still different\nd = 1057745997\ne = 709187068\nUsing Arrays.deepHashCode(): identical\nd = 95807651\ne = 95807651\n</code></pre>\n"}],"owner":{"account_id":146529,"reputation":3870,"user_id":357023,"accept_rate":69,"display_name":"Dig"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5916,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":4671959,"answer_count":3,"score":4,"last_activity_date":1657551333,"creation_date":1294853218,"question_id":4671858,"body_markdown":"For some reason, `Arrays.deepHashCode()` cannot work with `byte[]`.  \r\nIs there any other equivalent?\r\n","title":"deepHashCode with byte array","body":"<p>For some reason, <code>Arrays.deepHashCode()</code> cannot work with <code>byte[]</code>.<br>\nIs there any other equivalent?</p>\n"},{"tags":["java","arrays","size","inputstream"],"answers":[{"tags":[],"owner":{"account_id":18638,"reputation":6820,"user_id":42902,"display_name":"Andrew Duffy"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1247490551,"creation_date":1247490551,"answer_id":1119346,"question_id":1119332,"body_markdown":"You can&#39;t determine the amount of data in a stream without reading it; you can, however, ask for the size of a file:\r\n\r\n[http://java.sun.com/javase/6/docs/api/java/io/File.html#length()][1]\r\n\r\nIf that isn&#39;t possible, you can write the bytes you read from the input stream to a [ByteArrayOutputStream][2] which will grow as required.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/io/File.html#length()\r\n  [2]: http://java.sun.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html","title":"Determine the size of an InputStream","body":"<p>You can't determine the amount of data in a stream without reading it; you can, however, ask for the size of a file:</p>\n\n<p><a href=\"http://java.sun.com/javase/6/docs/api/java/io/File.html#length()\" rel=\"noreferrer\">http://java.sun.com/javase/6/docs/api/java/io/File.html#length()</a></p>\n\n<p>If that isn't possible, you can write the bytes you read from the input stream to a <a href=\"http://java.sun.com/javase/6/docs/api/java/io/ByteArrayOutputStream.html\" rel=\"noreferrer\">ByteArrayOutputStream</a> which will grow as required.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":2,"up_vote_count":46,"is_accepted":false,"score":44,"last_activity_date":1433196158,"creation_date":1247490613,"answer_id":1119354,"question_id":1119332,"body_markdown":"I would read into a [ByteArrayOutputStream][1] and then call [toByteArray()][2] to get the resultant byte array. You don&#39;t need to define the size in advance (although it&#39;s possibly an optimisation *if you know it*. In many cases you won&#39;t)\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayOutputStream.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayOutputStream.html#toByteArray--","title":"Determine the size of an InputStream","body":"<p>I would read into a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayOutputStream.html\" rel=\"noreferrer\">ByteArrayOutputStream</a> and then call <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/ByteArrayOutputStream.html#toByteArray--\" rel=\"noreferrer\">toByteArray()</a> to get the resultant byte array. You don't need to define the size in advance (although it's possibly an optimisation <em>if you know it</em>. In many cases you won't)</p>\n"},{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1247492252,"creation_date":1247490739,"answer_id":1119364,"question_id":1119332,"body_markdown":"I just wanted to add, Apache Commons IO has stream support utilities to perform the copy. (Btw, what do you mean by placing the file into an inputstream? Can you show us your code?)\r\n\r\n**Edit:**\r\n\r\nOkay, what do you want to do with the contents of the item?\r\nThere is an `item.get()` [which returns][1] the entire thing in a byte array.\r\n\r\n**Edit2**\r\n\r\n`item.getSize()` will return the uploaded [file size][2].\r\n\r\n  [1]: http://commons.apache.org/fileupload/apidocs/org/apache/commons/fileupload/FileItem.html#get()\r\n  [2]: http://commons.apache.org/fileupload/apidocs/org/apache/commons/fileupload/FileItem.html#getSize()","title":"Determine the size of an InputStream","body":"<p>I just wanted to add, Apache Commons IO has stream support utilities to perform the copy. (Btw, what do you mean by placing the file into an inputstream? Can you show us your code?)</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>Okay, what do you want to do with the contents of the item?\nThere is an <code>item.get()</code> <a href=\"http://commons.apache.org/fileupload/apidocs/org/apache/commons/fileupload/FileItem.html#get()\" rel=\"noreferrer\">which returns</a> the entire thing in a byte array.</p>\n\n<p><strong>Edit2</strong></p>\n\n<p><code>item.getSize()</code> will return the uploaded <a href=\"http://commons.apache.org/fileupload/apidocs/org/apache/commons/fileupload/FileItem.html#getSize()\" rel=\"noreferrer\">file size</a>.</p>\n"},{"tags":[],"owner":{"account_id":378262,"reputation":397,"user_id":730876,"accept_rate":25,"display_name":"Gnanam R"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1363867916,"creation_date":1363867916,"answer_id":15547186,"question_id":1119332,"body_markdown":"you can get the size of InputStream using getBytes(inputStream) of Utils.java check this following link\r\n\r\n[Get Bytes from Inputstream][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Tutorial/Java/0180__File/GetbytesfromInputStream.htm","title":"Determine the size of an InputStream","body":"<p>you can get the size of InputStream using getBytes(inputStream) of Utils.java check this following link</p>\n\n<p><a href=\"http://www.java2s.com/Tutorial/Java/0180__File/GetbytesfromInputStream.htm\" rel=\"nofollow\">Get Bytes from Inputstream</a></p>\n"},{"tags":[],"owner":{"account_id":1743415,"reputation":1652,"user_id":1594167,"display_name":"W. B. Reed"},"down_vote_count":61,"up_vote_count":150,"is_accepted":false,"score":89,"last_activity_date":1575990678,"creation_date":1376497807,"answer_id":18237279,"question_id":1119332,"body_markdown":"This is a REALLY old thread, but it was still the first thing to pop up when I googled the issue.  So I just wanted to add this:\r\n\r\n    InputStream inputStream = conn.getInputStream();\r\n    int length = inputStream.available();\r\n\r\nWorked for me.  And MUCH simpler than the other answers here.  \r\n\r\n**Warning** This solution does not provide reliable results regarding the total size of a stream. Except from the JavaDoc:\r\n\r\n&gt; Note that while some implementations of {@code InputStream} will return\r\n     * the total number of bytes in the stream, many will not.","title":"Determine the size of an InputStream","body":"<p>This is a REALLY old thread, but it was still the first thing to pop up when I googled the issue.  So I just wanted to add this:</p>\n\n<pre><code>InputStream inputStream = conn.getInputStream();\nint length = inputStream.available();\n</code></pre>\n\n<p>Worked for me.  And MUCH simpler than the other answers here.  </p>\n\n<p><strong>Warning</strong> This solution does not provide reliable results regarding the total size of a stream. Except from the JavaDoc:</p>\n\n<blockquote>\n  <p>Note that while some implementations of {@code InputStream} will return\n       * the total number of bytes in the stream, many will not.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6115219,"reputation":409,"user_id":4770468,"accept_rate":56,"display_name":"Carlos.V"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1488362428,"creation_date":1447197424,"answer_id":33641507,"question_id":1119332,"body_markdown":"Use this method, you just have to pass the InputStream\r\n\r\n    public String readIt(InputStream is) {\r\n        if (is != null) {\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(is, &quot;utf-8&quot;), 8);\r\n    \r\n            StringBuilder sb = new StringBuilder();\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                sb.append(line).append(&quot;\\n&quot;);\r\n            }\r\n            is.close();\r\n            return sb.toString();\r\n        }\r\n        return &quot;error: &quot;;\r\n    }","title":"Determine the size of an InputStream","body":"<p>Use this method, you just have to pass the InputStream</p>\n\n<pre><code>public String readIt(InputStream is) {\n    if (is != null) {\n        BufferedReader reader = new BufferedReader(new InputStreamReader(is, \"utf-8\"), 8);\n\n        StringBuilder sb = new StringBuilder();\n        String line;\n        while ((line = reader.readLine()) != null) {\n            sb.append(line).append(\"\\n\");\n        }\n        is.close();\n        return sb.toString();\n    }\n    return \"error: \";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":408701,"reputation":2491,"user_id":779521,"display_name":"Sverrir Sigmundarson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1506074725,"creation_date":1506074725,"answer_id":46362088,"question_id":1119332,"body_markdown":"When explicitly dealing with a `ByteArrayInputStream` then contrary to some of the comments on this page you can use the `.available()` function to get the size. Just have to do it before you start reading from it.\r\n\r\nFrom the JavaDocs:\r\n&gt; Returns the number of remaining bytes that can be read (or skipped\r\n&gt; over) from this input stream. The value returned is count - pos, which\r\n&gt; is the number of bytes remaining to be read from the input buffer.\r\n\r\nhttps://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayInputStream.html#available()\r\n","title":"Determine the size of an InputStream","body":"<p>When explicitly dealing with a <code>ByteArrayInputStream</code> then contrary to some of the comments on this page you can use the <code>.available()</code> function to get the size. Just have to do it before you start reading from it.</p>\n\n<p>From the JavaDocs:</p>\n\n<blockquote>\n  <p>Returns the number of remaining bytes that can be read (or skipped\n  over) from this input stream. The value returned is count - pos, which\n  is the number of bytes remaining to be read from the input buffer.</p>\n</blockquote>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayInputStream.html#available()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/io/ByteArrayInputStream.html#available()</a></p>\n"},{"tags":[],"owner":{"account_id":1312849,"reputation":400,"user_id":3820361,"display_name":"Ashnet"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1512489778,"creation_date":1512489365,"answer_id":47657686,"question_id":1119332,"body_markdown":"        try {\r\n            InputStream connInputStream = connection.getInputStream();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        int size = connInputStream.available();\r\n\r\nint available ()\r\nReturns an estimate of the number of bytes that can be read (or skipped over) from this input stream without blocking by the next invocation of a method for this input stream. The next invocation might be the same thread or another thread. A single read or skip of this many bytes will not block, but may read or skip fewer bytes.\r\n\r\n[InputStream - Android SDK | Android Developers][1]\r\n\r\n  [1]: https://developer.android.com/reference/java/io/InputStream.html#available()","title":"Determine the size of an InputStream","body":"<pre><code>    try {\n        InputStream connInputStream = connection.getInputStream();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    int size = connInputStream.available();\n</code></pre>\n\n<p>int available ()\nReturns an estimate of the number of bytes that can be read (or skipped over) from this input stream without blocking by the next invocation of a method for this input stream. The next invocation might be the same thread or another thread. A single read or skip of this many bytes will not block, but may read or skip fewer bytes.</p>\n\n<p><a href=\"https://developer.android.com/reference/java/io/InputStream.html#available()\" rel=\"nofollow noreferrer\">InputStream - Android SDK | Android Developers</a></p>\n"},{"tags":[],"owner":{"account_id":1522148,"reputation":597,"user_id":1421518,"accept_rate":100,"display_name":"amstegraf"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1598092059,"creation_date":1542981595,"answer_id":53448077,"question_id":1119332,"body_markdown":"For InputStream\r\n\r\n    org.apache.commons.io.IoUtils.toByteArray(inputStream).length()\r\n\r\nFor Optional &lt; MultipartFile &gt;\r\n\r\n    Stream.of(multipartFile.get()).mapToLong(file-&gt;file.getSize()).findFirst().getAsLong()","title":"Determine the size of an InputStream","body":"<p>For InputStream</p>\n<pre><code>org.apache.commons.io.IoUtils.toByteArray(inputStream).length()\n</code></pre>\n<p>For Optional &lt; MultipartFile &gt;</p>\n<pre><code>Stream.of(multipartFile.get()).mapToLong(file-&gt;file.getSize()).findFirst().getAsLong()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":959704,"reputation":8465,"user_id":984335,"accept_rate":85,"display_name":"Travis Parks"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554920698,"creation_date":1554920698,"answer_id":55619076,"question_id":1119332,"body_markdown":"If you know that your `InputStream` is a `FileInputStream` or a `ByteArrayInputStream`, you can use a little reflection to get at the stream size **without reading the entire contents**. Here&#39;s an example method:\r\n\r\n```java\r\nstatic long getInputLength(InputStream inputStream) {\r\n    try {\r\n        if (inputStream instanceof FilterInputStream) {\r\n            FilterInputStream filtered = (FilterInputStream)inputStream;\r\n            Field field = FilterInputStream.class.getDeclaredField(&quot;in&quot;);\r\n            field.setAccessible(true);\r\n            InputStream internal = (InputStream) field.get(filtered);\r\n            return getInputLength(internal);\r\n        } else if (inputStream instanceof ByteArrayInputStream) {\r\n            ByteArrayInputStream wrapper = (ByteArrayInputStream)inputStream;\r\n            Field field = ByteArrayInputStream.class.getDeclaredField(&quot;buf&quot;);\r\n            field.setAccessible(true);\r\n            byte[] buffer = (byte[])field.get(wrapper);\r\n            return buffer.length;\r\n        } else if (inputStream instanceof FileInputStream) {\r\n            FileInputStream fileStream = (FileInputStream)inputStream;\r\n            return fileStream.getChannel().size();\r\n        }\r\n    } catch (NoSuchFieldException | IllegalAccessException | IOException exception) {\r\n        // Ignore all errors and just return -1.\r\n    }\r\n    return -1;\r\n}\r\n```\r\n\r\nThis could be extended to support additional input streams, I am sure.","title":"Determine the size of an InputStream","body":"<p>If you know that your <code>InputStream</code> is a <code>FileInputStream</code> or a <code>ByteArrayInputStream</code>, you can use a little reflection to get at the stream size <strong>without reading the entire contents</strong>. Here's an example method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>static long getInputLength(InputStream inputStream) {\n    try {\n        if (inputStream instanceof FilterInputStream) {\n            FilterInputStream filtered = (FilterInputStream)inputStream;\n            Field field = FilterInputStream.class.getDeclaredField(\"in\");\n            field.setAccessible(true);\n            InputStream internal = (InputStream) field.get(filtered);\n            return getInputLength(internal);\n        } else if (inputStream instanceof ByteArrayInputStream) {\n            ByteArrayInputStream wrapper = (ByteArrayInputStream)inputStream;\n            Field field = ByteArrayInputStream.class.getDeclaredField(\"buf\");\n            field.setAccessible(true);\n            byte[] buffer = (byte[])field.get(wrapper);\n            return buffer.length;\n        } else if (inputStream instanceof FileInputStream) {\n            FileInputStream fileStream = (FileInputStream)inputStream;\n            return fileStream.getChannel().size();\n        }\n    } catch (NoSuchFieldException | IllegalAccessException | IOException exception) {\n        // Ignore all errors and just return -1.\n    }\n    return -1;\n}\n</code></pre>\n\n<p>This could be extended to support additional input streams, I am sure.</p>\n"},{"tags":[],"owner":{"account_id":23827,"reputation":16963,"user_id":60020,"accept_rate":85,"display_name":"Samuel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1614660432,"creation_date":1614660432,"answer_id":66433490,"question_id":1119332,"body_markdown":"The function below should work with any `InputStream`. As other answers have hinted, you can&#39;t reliably find the length of an `InputStream` without reading through it, but unlike other answers, you _should not_ attempt to hold the entire stream in memory by reading into a `ByteArrayOutputStream`, nor is there any reason to. Instead of reading the stream, you should ideally rely on other API for stream sizes, for example getting the size of a file using the `File` API.\r\n\r\n```\r\npublic static int length(InputStream inputStream, int chunkSize) throws IOException {\r\n    byte[] buffer = new byte[chunkSize];\r\n    int chunkBytesRead = 0;\r\n    int length = 0;\r\n    while((chunkBytesRead = inputStream.read(buffer)) != -1) {\r\n        length += chunkBytesRead;\r\n    }\r\n    return length;\r\n}\r\n```\r\nChoose a reasonable value for `chunkSize` appropriate to the kind of `InputStream`. E.g. reading from disk it would not be efficient to have too small a value for `chunkSize`.","title":"Determine the size of an InputStream","body":"<p>The function below should work with any <code>InputStream</code>. As other answers have hinted, you can't reliably find the length of an <code>InputStream</code> without reading through it, but unlike other answers, you <em>should not</em> attempt to hold the entire stream in memory by reading into a <code>ByteArrayOutputStream</code>, nor is there any reason to. Instead of reading the stream, you should ideally rely on other API for stream sizes, for example getting the size of a file using the <code>File</code> API.</p>\n<pre><code>public static int length(InputStream inputStream, int chunkSize) throws IOException {\n    byte[] buffer = new byte[chunkSize];\n    int chunkBytesRead = 0;\n    int length = 0;\n    while((chunkBytesRead = inputStream.read(buffer)) != -1) {\n        length += chunkBytesRead;\n    }\n    return length;\n}\n</code></pre>\n<p>Choose a reasonable value for <code>chunkSize</code> appropriate to the kind of <code>InputStream</code>. E.g. reading from disk it would not be efficient to have too small a value for <code>chunkSize</code>.</p>\n"},{"tags":[],"owner":{"account_id":387941,"reputation":6875,"user_id":974531,"accept_rate":88,"display_name":"Rok Strniša"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1639337565,"creation_date":1639337565,"answer_id":70327014,"question_id":1119332,"body_markdown":"If you need to stream the data to another object that doesn&#39;t allow you to directly determine the size (e.g. `javax.imageio.ImageIO`), then you can wrap your `InputStream` within a [`CountingInputStream`](https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/input/CountingInputStream.html) (Apache Commons IO), and then read the size:\r\n\r\n    CountingInputStream countingInputStream = new CountingInputStream(inputStream);\r\n    // ... process the whole stream ...\r\n    int size = countingInputStream.getCount();","title":"Determine the size of an InputStream","body":"<p>If you need to stream the data to another object that doesn't allow you to directly determine the size (e.g. <code>javax.imageio.ImageIO</code>), then you can wrap your <code>InputStream</code> within a <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.5/org/apache/commons/io/input/CountingInputStream.html\" rel=\"nofollow noreferrer\"><code>CountingInputStream</code></a> (Apache Commons IO), and then read the size:</p>\n<pre><code>CountingInputStream countingInputStream = new CountingInputStream(inputStream);\n// ... process the whole stream ...\nint size = countingInputStream.getCount();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21226874,"reputation":1,"user_id":15612397,"display_name":"Bruno Vidotto"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657550845,"creation_date":1657550845,"answer_id":72940400,"question_id":1119332,"body_markdown":"Add to your pom.xml:\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.5&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\nUse to get the content type lenght (InputStream file): \r\n\r\n    IOUtils.toByteArray(file).length\r\n\r\n\r\n","title":"Determine the size of an InputStream","body":"<p>Add to your pom.xml:</p>\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;commons-io&lt;/groupId&gt;\n    &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;version&gt;2.5&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>Use to get the content type lenght (InputStream file):</p>\n<pre><code>IOUtils.toByteArray(file).length\n</code></pre>\n"}],"owner":{"account_id":46024,"reputation":1259,"user_id":135856,"accept_rate":80,"display_name":"ChronoXIII"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300304,"favorite_count":0,"down_vote_count":0,"up_vote_count":109,"accepted_answer_id":1119364,"answer_count":13,"score":109,"last_activity_date":1657550845,"creation_date":1247490333,"question_id":1119332,"body_markdown":"My current situation is: I have to read a file and put the contents into `InputStream`. Afterwards I need to place the contents of the `InputStream` into a byte array which requires (as far as I know) the size of the `InputStream`. Any ideas?\r\n\r\nAs requested, I will show the input stream that I am creating from an uploaded file\r\n\r\n    InputStream uploadedStream = null;\r\n    FileItemFactory factory = new DiskFileItemFactory();\r\n    ServletFileUpload upload = new ServletFileUpload(factory);\r\n    java.util.List items = upload.parseRequest(request);\t  \r\n    java.util.Iterator iter = items.iterator();\r\n\t  \r\n    while (iter.hasNext()) {\r\n        FileItem item = (FileItem) iter.next();\r\n        if (!item.isFormField()) {\r\n            uploadedStream = item.getInputStream();\r\n            //CHANGE uploadedStreambyte = item.get()\r\n        }\r\n    }\r\nThe request is a `HttpServletRequest` object, which is like the `FileItemFactory` and `ServletFileUpload` is from the Apache Commons FileUpload package.","title":"Determine the size of an InputStream","body":"<p>My current situation is: I have to read a file and put the contents into <code>InputStream</code>. Afterwards I need to place the contents of the <code>InputStream</code> into a byte array which requires (as far as I know) the size of the <code>InputStream</code>. Any ideas?</p>\n\n<p>As requested, I will show the input stream that I am creating from an uploaded file</p>\n\n<pre><code>InputStream uploadedStream = null;\nFileItemFactory factory = new DiskFileItemFactory();\nServletFileUpload upload = new ServletFileUpload(factory);\njava.util.List items = upload.parseRequest(request);      \njava.util.Iterator iter = items.iterator();\n\nwhile (iter.hasNext()) {\n    FileItem item = (FileItem) iter.next();\n    if (!item.isFormField()) {\n        uploadedStream = item.getInputStream();\n        //CHANGE uploadedStreambyte = item.get()\n    }\n}\n</code></pre>\n\n<p>The request is a <code>HttpServletRequest</code> object, which is like the <code>FileItemFactory</code> and <code>ServletFileUpload</code> is from the Apache Commons FileUpload package.</p>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1657547091,"post_id":72939416,"comment_id":128829519,"body_markdown":"`1.234E-5` is just the display format. The underlying data is still `0.00001234` which you will also get back if you perform a request","body":"<code>1.234E-5</code> is just the display format. The underlying data is still <code>0.00001234</code> which you will also get back if you perform a request"},{"owner":{"account_id":9225619,"reputation":1240,"user_id":9107502,"display_name":"0x1C1B"},"score":0,"creation_date":1657552150,"post_id":72939416,"comment_id":128831677,"body_markdown":"Just for clarification, you&#39;re inserting a double via JPA into a relational database, and if you take a look at the database&#39;s table, let&#39;s say using an SQL client like &#39;MySQL Workbench&#39; or &#39;Data Grip&#39;, the number is displayed in this format `1.234E-5`. What&#39;s the problem? It&#39;s just how the SQL client displays it. If you fetch this number later on again via JPA you can display it without scientific notation.","body":"Just for clarification, you&#39;re inserting a double via JPA into a relational database, and if you take a look at the database&#39;s table, let&#39;s say using an SQL client like &#39;MySQL Workbench&#39; or &#39;Data Grip&#39;, the number is displayed in this format <code>1.234E-5</code>. What&#39;s the problem? It&#39;s just how the SQL client displays it. If you fetch this number later on again via JPA you can display it without scientific notation."},{"owner":{"account_id":14706862,"reputation":917,"user_id":10621296,"display_name":"Jetto Mart&#237;nez"},"score":0,"creation_date":1657552744,"post_id":72939416,"comment_id":128831975,"body_markdown":"Even if its a lot of work, I recommend you consider a change form Double to BigDecimal/Decimal. In my current work, we deal with money and a lot of operations including taxes and such. Our models use Double, but we found how troublesome sometimes it can be to work with it. We had to program a whole math layer that takes Double as input, &quot;cast&quot; them to BigDecimal, do the math and return it as a Double truncated for the cents to avoid errors. I suspect your case needs more precision, so yeah, please at least consider it.","body":"Even if its a lot of work, I recommend you consider a change form Double to BigDecimal/Decimal. In my current work, we deal with money and a lot of operations including taxes and such. Our models use Double, but we found how troublesome sometimes it can be to work with it. We had to program a whole math layer that takes Double as input, &quot;cast&quot; them to BigDecimal, do the math and return it as a Double truncated for the cents to avoid errors. I suspect your case needs more precision, so yeah, please at least consider it."}],"answers":[{"tags":[],"owner":{"account_id":25779450,"reputation":11,"user_id":19525278,"display_name":"Ravikiran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657550669,"creation_date":1657547422,"answer_id":72939661,"question_id":72939416,"body_markdown":"You can try like this in java\r\n\r\nBigDecimal bd = new BigDecimal(&quot;1.234E-5&quot;);\r\n\r\nString number=bd.toString();\r\nThis will convert bigDEcimal to String.\r\n\r\nSystem.out.println(bd);\r\n\r\nIt will give you output like this 0.00001234","title":"Spring JPA - inserting double value without exponential value","body":"<p>You can try like this in java</p>\n<p>BigDecimal bd = new BigDecimal(&quot;1.234E-5&quot;);</p>\n<p>String number=bd.toString();\nThis will convert bigDEcimal to String.</p>\n<p>System.out.println(bd);</p>\n<p>It will give you output like this 0.00001234</p>\n"},{"tags":[],"owner":{"account_id":25781655,"reputation":109,"user_id":19527184,"display_name":"gaurav jha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657547891,"creation_date":1657547891,"answer_id":72939767,"question_id":72939416,"body_markdown":"String.format(&quot;%,.8f&quot;, d);\r\nthis will convert your double 1.234E-5 to string &quot;0.00001234&quot;.","title":"Spring JPA - inserting double value without exponential value","body":"<p>String.format(&quot;%,.8f&quot;, d);\nthis will convert your double 1.234E-5 to string &quot;0.00001234&quot;.</p>\n"}],"owner":{"account_id":7080850,"reputation":139,"user_id":5419322,"accept_rate":0,"display_name":"dhasan k"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":640,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1657550669,"creation_date":1657546334,"question_id":72939416,"body_markdown":"I am working on a spring boot project with JPA where i am facing an issue. \r\n\r\nFrom UI i will get a string of 4 length and i have to append 4 zeros as prefix and save it in a table. The data type of this column in entity is Double.\r\n\r\neg, String from UI is 1234, then i have to make it as 0.00001234 and insert into a table. \r\n```\r\nDouble d = new Double(&quot;0.00001234&quot;);\r\n````\r\n\r\nafter inserting into table, i can see the value is inserted as 1.234E-5. But i want to insert the value as 0.00001234.\r\n\r\nWorst case, if we cannot insert as 0.00001234, is there a way where i can get the 1.234E-5 value from db and get just the last 4 digits from that value and send it back to UI as string? I tried DecimalFormat formatting but not exactly getting what i want.\r\n\r\nAlso i cannot change the data type as BigDecimal since lot of other code also use this entity.\r\n\r\nThanks.\r\n\r\n","title":"Spring JPA - inserting double value without exponential value","body":"<p>I am working on a spring boot project with JPA where i am facing an issue.</p>\n<p>From UI i will get a string of 4 length and i have to append 4 zeros as prefix and save it in a table. The data type of this column in entity is Double.</p>\n<p>eg, String from UI is 1234, then i have to make it as 0.00001234 and insert into a table.</p>\n<pre><code>Double d = new Double(&quot;0.00001234&quot;);\n</code></pre>\n<p>after inserting into table, i can see the value is inserted as 1.234E-5. But i want to insert the value as 0.00001234.</p>\n<p>Worst case, if we cannot insert as 0.00001234, is there a way where i can get the 1.234E-5 value from db and get just the last 4 digits from that value and send it back to UI as string? I tried DecimalFormat formatting but not exactly getting what i want.</p>\n<p>Also i cannot change the data type as BigDecimal since lot of other code also use this entity.</p>\n<p>Thanks.</p>\n"},{"tags":["java","android","opencv","opengl-es"],"answers":[{"tags":[],"owner":{"account_id":2835471,"reputation":19598,"user_id":2436175,"accept_rate":81,"display_name":"Antonio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384336892,"creation_date":1384336892,"answer_id":19950729,"question_id":19950442,"body_markdown":"If I understand correctly your problem, you need to use one of these functions:\r\n\r\n- [fillpoly][1]\r\n- [fillconvexpoly][2]\r\n\r\n\r\n[1]:http://docs.opencv.org/modules/core/doc/drawing_functions.html#fillpoly\r\n[2]:http://docs.opencv.org/modules/core/doc/drawing_functions.html#fillconvexpoly\r\n","title":"how to get pixels within fixed boundary and changing the color of the pixels","body":"<p>If I understand correctly your problem, you need to use one of these functions:</p>\n\n<ul>\n<li><a href=\"http://docs.opencv.org/modules/core/doc/drawing_functions.html#fillpoly\" rel=\"nofollow\">fillpoly</a></li>\n<li><a href=\"http://docs.opencv.org/modules/core/doc/drawing_functions.html#fillconvexpoly\" rel=\"nofollow\">fillconvexpoly</a></li>\n</ul>\n"}],"owner":{"account_id":1503647,"reputation":426,"user_id":1407554,"accept_rate":0,"display_name":"chethan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":632,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1657550356,"creation_date":1384336069,"question_id":19950442,"body_markdown":"I&#39;m using openCV library to detect facial features like lips and eye.i&#39;have drawn points over lip and eye. now i want to get pixels within the lips and need to change the color of this pixels through the color filter. i know the coordinates where the lips located, using these coordinates how i can get pixels inside lip, how i can change the color and make that changes to reflect on original image. please see the attached screen shot - http://www.flickr.com/photos/108570354@N02/10834522165/","title":"how to get pixels within fixed boundary and changing the color of the pixels","body":"<p>I'm using openCV library to detect facial features like lips and eye.i'have drawn points over lip and eye. now i want to get pixels within the lips and need to change the color of this pixels through the color filter. i know the coordinates where the lips located, using these coordinates how i can get pixels inside lip, how i can change the color and make that changes to reflect on original image. please see the attached screen shot - <a href=\"http://www.flickr.com/photos/108570354@N02/10834522165/\" rel=\"nofollow\">http://www.flickr.com/photos/108570354@N02/10834522165/</a></p>\n"},{"tags":["java","itext","pdf-generation","flying-saucer","xhtmlrenderer"],"comments":[{"owner":{"account_id":1008655,"reputation":8966,"user_id":1021720,"accept_rate":60,"display_name":"obourgain"},"score":0,"creation_date":1657529638,"post_id":72913322,"comment_id":128822976,"body_markdown":"Can you show the result of your test? I did the test on my computer and didn&#39;t see any problem with Arial.","body":"Can you show the result of your test? I did the test on my computer and didn&#39;t see any problem with Arial."},{"owner":{"account_id":6120687,"reputation":363,"user_id":4774302,"display_name":"Zak FST"},"score":0,"creation_date":1657550360,"post_id":72913322,"comment_id":128830897,"body_markdown":"@obourgain I just added a screenshot","body":"@obourgain I just added a screenshot"}],"owner":{"account_id":6120687,"reputation":363,"user_id":4774302,"display_name":"Zak FST"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1657550302,"creation_date":1657292330,"question_id":72913322,"body_markdown":"I am using flying saucer (xhtmlrenderer) 9.1.22 to create PDF files from HTML content, \r\n\r\nbut the bold text in PDF looks blurry.\r\n\r\nthis is my code snippet:\r\n\r\n    ITextRenderer renderer = new ITextRenderer();\r\n    renderer.getFontResolver().addFont(&quot;arial.ttf&quot;, BaseFont.CP1252, BaseFont.EMBEDDED);\r\n    renderer.setDocumentFromString(htmlAsString);\r\n    renderer.layout():\r\n    renderer.createPDF(output);\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fgWxU.jpg","title":"HTML to PDF using flying saucer: bold text is blurry","body":"<p>I am using flying saucer (xhtmlrenderer) 9.1.22 to create PDF files from HTML content,</p>\n<p>but the bold text in PDF looks blurry.</p>\n<p>this is my code snippet:</p>\n<pre><code>ITextRenderer renderer = new ITextRenderer();\nrenderer.getFontResolver().addFont(&quot;arial.ttf&quot;, BaseFont.CP1252, BaseFont.EMBEDDED);\nrenderer.setDocumentFromString(htmlAsString);\nrenderer.layout():\nrenderer.createPDF(output);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/fgWxU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fgWxU.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","oracle","spring-data-jpa","h2","spring-boot-test"],"comments":[{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":1,"creation_date":1657505014,"post_id":72932843,"comment_id":128818022,"body_markdown":"You shouldn&#39;t use `ROWNUM` pagination in H2. Your problem has another reason: Hibernate ORM 5 doesn&#39;t work well with some compatibility modes of new versions of H2, you need Hibernate ORM 6 (6.1.1.Final, for example), it generates standard `OFFSET` / `FETCH` available in all compatibility modes of H2 instead of PosgreSQL/MySQL-style `LIMIT` / `OFFSET` generated by old versions of Hibernate ORM, this is a known issue: https://hibernate.atlassian.net/browse/HHH-15318","body":"You shouldn&#39;t use <code>ROWNUM</code> pagination in H2. Your problem has another reason: Hibernate ORM 5 doesn&#39;t work well with some compatibility modes of new versions of H2, you need Hibernate ORM 6 (6.1.1.Final, for example), it generates standard <code>OFFSET</code> / <code>FETCH</code> available in all compatibility modes of H2 instead of PosgreSQL/MySQL-style <code>LIMIT</code> / <code>OFFSET</code> generated by old versions of Hibernate ORM, this is a known issue: <a href=\"https://hibernate.atlassian.net/browse/HHH-15318\" rel=\"nofollow noreferrer\">hibernate.atlassian.net/browse/HHH-15318</a>"},{"owner":{"account_id":16247179,"reputation":7205,"user_id":11731987,"display_name":"Evgenij Ryazanov"},"score":0,"creation_date":1657505126,"post_id":72932843,"comment_id":128818036,"body_markdown":"You can also try to use the workaround described here: https://groups.google.com/g/h2-database/c/yxnv64Ak-u8","body":"You can also try to use the workaround described here: <a href=\"https://groups.google.com/g/h2-database/c/yxnv64Ak-u8\" rel=\"nofollow noreferrer\">groups.google.com/g/h2-database/c/yxnv64Ak-u8</a>"}],"answers":[{"tags":[],"owner":{"account_id":10381620,"reputation":864,"user_id":8405699,"accept_rate":100,"display_name":"Aldo In&#225;cio da Silva"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1657549998,"creation_date":1657549654,"answer_id":72940158,"question_id":72932843,"body_markdown":"As @Evegnij said the problem is that the LIMIT on H2 and Oracle mode is not compatible with Hibernate ORM 5. I&#39;ve tried to upgrade to hibernate-core 6.1.1.Final but I ran into another problem since spring-boot 2.7.0 is not compatible with this version. So the last solution was to set H2 limit to true by programatically.\r\n\r\n```\r\n@Configuration\r\n@EnableJpaRepositories\r\n@EnableTransactionManagement\r\npublic class H2TestJPAConfig {\r\n\r\n    @Bean\r\n    public DataSource dataSource() {\r\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);\r\n        dataSource.setUrl(&quot;jdbc:h2:mem:CSM_SECURITY;MODE=Oracle;DB_CLOSE_DELAY=-1;INIT=CREATE SCHEMA IF NOT EXISTS CSM_SECURITY&quot;);\r\n        dataSource.setUsername(&quot;sa&quot;);\r\n        dataSource.setPassword(&quot;sa&quot;);\r\n\r\n        // Ref https://groups.google.com/g/h2-database/c/yxnv64Ak-u8/m/n-kqYV_yBQAJ\r\n        org.h2.engine.Mode mode = org.h2.engine.Mode.getInstance(&quot;ORACLE&quot;);\r\n        mode.limit = true;\r\n        return dataSource;\r\n    }\r\n\r\n}\r\n```\r\n\r\n**PS: Please note that this workaround uses internals of H2, they may be modified in every version of H2 without a notice.**","title":"JpaRepository - Oracle Pagination - Limit and Offset","body":"<p>As @Evegnij said the problem is that the LIMIT on H2 and Oracle mode is not compatible with Hibernate ORM 5. I've tried to upgrade to hibernate-core 6.1.1.Final but I ran into another problem since spring-boot 2.7.0 is not compatible with this version. So the last solution was to set H2 limit to true by programatically.</p>\n<pre><code>@Configuration\n@EnableJpaRepositories\n@EnableTransactionManagement\npublic class H2TestJPAConfig {\n\n    @Bean\n    public DataSource dataSource() {\n        DriverManagerDataSource dataSource = new DriverManagerDataSource();\n        dataSource.setDriverClassName(&quot;org.h2.Driver&quot;);\n        dataSource.setUrl(&quot;jdbc:h2:mem:CSM_SECURITY;MODE=Oracle;DB_CLOSE_DELAY=-1;INIT=CREATE SCHEMA IF NOT EXISTS CSM_SECURITY&quot;);\n        dataSource.setUsername(&quot;sa&quot;);\n        dataSource.setPassword(&quot;sa&quot;);\n\n        // Ref https://groups.google.com/g/h2-database/c/yxnv64Ak-u8/m/n-kqYV_yBQAJ\n        org.h2.engine.Mode mode = org.h2.engine.Mode.getInstance(&quot;ORACLE&quot;);\n        mode.limit = true;\n        return dataSource;\n    }\n\n}\n</code></pre>\n<p><strong>PS: Please note that this workaround uses internals of H2, they may be modified in every version of H2 without a notice.</strong></p>\n"}],"owner":{"account_id":10381620,"reputation":864,"user_id":8405699,"accept_rate":100,"display_name":"Aldo In&#225;cio da Silva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1682,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72940158,"answer_count":1,"score":1,"last_activity_date":1657549998,"creation_date":1657501246,"question_id":72932843,"body_markdown":"I&#39;m trying to use H2 with Oracle mode since I&#39;m using Oracle 11G on my application but I&#39;m getting an error because when I use pagination the query puts limit and offset on sql.\r\n\r\napplication.properties\r\n```\r\n....\r\nspring.datasource.driver-class-name = org.h2.Driver\r\nspring.sql.init.platform = h2\r\nspring.datasource.name = CSM_SECURITY\r\nspring.datasource.url = jdbc:h2:mem:CSM_SECURITY;MODE=Oracle;DB_CLOSE_DELAY=-1;INIT=CREATE SCHEMA IF NOT EXISTS CSM_SECURITY\r\nspring.sql.init.mode = embedded\r\n...\r\n```\r\n\r\nJpaRepository method:\r\n```\r\n@Query(value = &quot;&quot;&quot;\r\nselect distinct new com.closeupinternational.csmsecurity.models.entities.Person\r\n            (p.id, p.email, p.personName, p.sysAdmin, p.defaultLanguage,\r\n             p.wso2Id, p.sysAdminCountry, p.sysAdminCountryId)\r\n        from Person p\r\n            left join CompanyPerson cp on cp.person.id = p.id\r\n            left join CompanyCountry cc on cc.id = cp.companyCountry.id\r\n        where cc.company.id = :companyId and cc.country.id like :countryId and p.personName like :name&quot;&quot;&quot;,\r\n        countQuery = &quot;&quot;&quot;\r\n             select count(p) from Person p \r\n             left join CompanyPerson cp on cp.person.id = p.id left join CompanyCountry cc on cc.id = cp.companyCountry.id \r\n             where cc.company.id = :companyId and cc.country.id like :countryId and p.personName like :name&quot;&quot;&quot;)\r\nOptional&lt;Page&lt;Person&gt;&gt; findByNameAndCompanyAndCountry(@Param(&quot;name&quot;)String name, @Param(&quot;countryId&quot;) String countryId,\r\n                                                      @Param(&quot;companyId&quot;) Long companyId, PageRequest page);\r\n```\r\nI put **countQuery** but it still uses limit and offset. \r\n\r\nGenerated query:\r\n```\r\nselect distinct person0_.id as col_0_0_, person0_.email as col_1_0_, person0_.person_name as col_2_0_, person0_.sys_admin as col_3_0_, \r\nperson0_.default_language as col_4_0_, person0_.wso2_id as col_5_0_, person0_.sys_admin_country as col_6_0_, person0_.sys_adm_country_id as col_7_0_ \r\nfrom CSM_SECURITY.csm_person person0_ left outer \r\njoin CSM_SECURITY.csm_company_person companyper1_ on (companyper1_.csm_person_id_fk=person0_.id) left outer join CSM_SECURITY.csm_company_country companycou2_ on (companycou2_.id=companyper1_.csm_company_country_id_fk) \r\nwhere companycou2_.csm_company_id_fk=? and (companycou2_.csm_country_id_fk like ?) and (person0_.person_name like ?) \r\nlimit ? offset ?\r\n```\r\n\r\nError:\r\n```\r\norg.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select ... r1_.csm_person_id_fk=person0_.id) \r\nleft outer join CSM_SECURITY.csm_company_country companycou2_ on (companycou2_.id=companyper1_.csm_company_country_id_fk) \r\nwhere companycou2_.csm_company_id_fk=? and (companycou2_.csm_country_id_fk like ?) and (person0_.person_name like ?) \r\nlimit ? offset ?]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n```\r\n\r\nHow can I solve to JpaRespository use rownum and offset on Oracle pagination?","title":"JpaRepository - Oracle Pagination - Limit and Offset","body":"<p>I'm trying to use H2 with Oracle mode since I'm using Oracle 11G on my application but I'm getting an error because when I use pagination the query puts limit and offset on sql.</p>\n<p>application.properties</p>\n<pre><code>....\nspring.datasource.driver-class-name = org.h2.Driver\nspring.sql.init.platform = h2\nspring.datasource.name = CSM_SECURITY\nspring.datasource.url = jdbc:h2:mem:CSM_SECURITY;MODE=Oracle;DB_CLOSE_DELAY=-1;INIT=CREATE SCHEMA IF NOT EXISTS CSM_SECURITY\nspring.sql.init.mode = embedded\n...\n</code></pre>\n<p>JpaRepository method:</p>\n<pre><code>@Query(value = &quot;&quot;&quot;\nselect distinct new com.closeupinternational.csmsecurity.models.entities.Person\n            (p.id, p.email, p.personName, p.sysAdmin, p.defaultLanguage,\n             p.wso2Id, p.sysAdminCountry, p.sysAdminCountryId)\n        from Person p\n            left join CompanyPerson cp on cp.person.id = p.id\n            left join CompanyCountry cc on cc.id = cp.companyCountry.id\n        where cc.company.id = :companyId and cc.country.id like :countryId and p.personName like :name&quot;&quot;&quot;,\n        countQuery = &quot;&quot;&quot;\n             select count(p) from Person p \n             left join CompanyPerson cp on cp.person.id = p.id left join CompanyCountry cc on cc.id = cp.companyCountry.id \n             where cc.company.id = :companyId and cc.country.id like :countryId and p.personName like :name&quot;&quot;&quot;)\nOptional&lt;Page&lt;Person&gt;&gt; findByNameAndCompanyAndCountry(@Param(&quot;name&quot;)String name, @Param(&quot;countryId&quot;) String countryId,\n                                                      @Param(&quot;companyId&quot;) Long companyId, PageRequest page);\n</code></pre>\n<p>I put <strong>countQuery</strong> but it still uses limit and offset.</p>\n<p>Generated query:</p>\n<pre><code>select distinct person0_.id as col_0_0_, person0_.email as col_1_0_, person0_.person_name as col_2_0_, person0_.sys_admin as col_3_0_, \nperson0_.default_language as col_4_0_, person0_.wso2_id as col_5_0_, person0_.sys_admin_country as col_6_0_, person0_.sys_adm_country_id as col_7_0_ \nfrom CSM_SECURITY.csm_person person0_ left outer \njoin CSM_SECURITY.csm_company_person companyper1_ on (companyper1_.csm_person_id_fk=person0_.id) left outer join CSM_SECURITY.csm_company_country companycou2_ on (companycou2_.id=companyper1_.csm_company_country_id_fk) \nwhere companycou2_.csm_company_id_fk=? and (companycou2_.csm_country_id_fk like ?) and (person0_.person_name like ?) \nlimit ? offset ?\n</code></pre>\n<p>Error:</p>\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select ... r1_.csm_person_id_fk=person0_.id) \nleft outer join CSM_SECURITY.csm_company_country companycou2_ on (companycou2_.id=companyper1_.csm_company_country_id_fk) \nwhere companycou2_.csm_company_id_fk=? and (companycou2_.csm_country_id_fk like ?) and (person0_.person_name like ?) \nlimit ? offset ?]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\n</code></pre>\n<p>How can I solve to JpaRespository use rownum and offset on Oracle pagination?</p>\n"},{"tags":["java","selenium","xpath"],"comments":[{"owner":{"account_id":20045561,"reputation":641,"user_id":14695308,"display_name":"DonnyFlaw"},"score":0,"creation_date":1657550863,"post_id":72939998,"comment_id":128831113,"body_markdown":"Rows number could be set after some calculations. So `span` could be empty initially. Try to use Wait","body":"Rows number could be set after some calculations. So <code>span</code> could be empty initially. Try to use Wait"}],"answers":[{"tags":[],"owner":{"account_id":17698173,"reputation":15901,"user_id":12848411,"display_name":"Md. Fazlul Hoque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657549500,"creation_date":1657549500,"answer_id":72940116,"question_id":72939998,"body_markdown":"`span` tag is the child node of `ul` tag. So you can try it as follows:\r\n\r\n    //ul[@class=&#39;pager&#39;]/span\r\n\r\n\r\nSee the result from [here](http://xpather.com/b78HJleK)","title":"Selenium find text of span","body":"<p><code>span</code> tag is the child node of <code>ul</code> tag. So you can try it as follows:</p>\n<pre><code>//ul[@class='pager']/span\n</code></pre>\n<p>See the result from <a href=\"http://xpather.com/b78HJleK\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":4111326,"reputation":47,"user_id":3422485,"display_name":"user3422485"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1657549500,"creation_date":1657548976,"question_id":72939998,"body_markdown":"    &lt;td style=&quot;border-bottom: transparent;padding-bottom:0px;&quot; colspan=&quot;14&quot;&gt;\r\n     &lt;ul class=&quot;pager&quot;&gt;\r\n      &lt;span&gt; Total number of rows: 3926 (page 1 of 79)&lt;/span&gt;\r\n    &lt;/ul&gt;\r\n    &lt;/td&gt;\r\n\r\nI found the element from pager class,\r\n\r\n      List&lt;WebElement&gt; webElement = getDriver().findElements(By.xpath(&quot;//ul[@class=&#39;pager&#39;]&quot;));\r\n              List&lt;WebElement&gt; childElements = webElement.get(0).findElements(By.xpath(&quot;./child::*&quot;));\r\n              sout(&quot;childElement text &quot; + childElements.get(0).getAttribute(&quot;innerHTML&quot;)); // returns empty String\r\n              sout(&quot;childElement text &quot; + childElements.get(0).getTagName()); // returns &quot;span&quot;\r\n\r\nalso tried this, in chrome it marks with yellow color what I need, but selenium driver cant find it\r\n\r\n     //*[contains(text(),&#39; Total number of rows&#39;)]\r\n   ","title":"Selenium find text of span","body":"<pre><code>&lt;td style=&quot;border-bottom: transparent;padding-bottom:0px;&quot; colspan=&quot;14&quot;&gt;\n &lt;ul class=&quot;pager&quot;&gt;\n  &lt;span&gt; Total number of rows: 3926 (page 1 of 79)&lt;/span&gt;\n&lt;/ul&gt;\n&lt;/td&gt;\n</code></pre>\n<p>I found the element from pager class,</p>\n<pre><code>  List&lt;WebElement&gt; webElement = getDriver().findElements(By.xpath(&quot;//ul[@class='pager']&quot;));\n          List&lt;WebElement&gt; childElements = webElement.get(0).findElements(By.xpath(&quot;./child::*&quot;));\n          sout(&quot;childElement text &quot; + childElements.get(0).getAttribute(&quot;innerHTML&quot;)); // returns empty String\n          sout(&quot;childElement text &quot; + childElements.get(0).getTagName()); // returns &quot;span&quot;\n</code></pre>\n<p>also tried this, in chrome it marks with yellow color what I need, but selenium driver cant find it</p>\n<pre><code> //*[contains(text(),' Total number of rows')]\n</code></pre>\n"},{"tags":["java","oracle","jstack"],"answers":[{"tags":[],"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1657549407,"creation_date":1657549407,"answer_id":72940090,"question_id":72939907,"body_markdown":"The `jstack` command is part of the JDK. You can find it very quick and easy by checking out the JDK source code: https://github.com/openjdk/jdk/blob/master/src/jdk.jcmd/share/classes/sun/tools/jstack/JStack.java","title":"download source of jstack.exe (tool for making jvm tradedump)","body":"<p>The <code>jstack</code> command is part of the JDK. You can find it very quick and easy by checking out the JDK source code: <a href=\"https://github.com/openjdk/jdk/blob/master/src/jdk.jcmd/share/classes/sun/tools/jstack/JStack.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/jdk.jcmd/share/classes/sun/tools/jstack/JStack.java</a></p>\n"}],"owner":{"account_id":23317836,"reputation":88,"user_id":17396222,"display_name":"Ignat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1657553197,"accepted_answer_id":72940090,"answer_count":1,"score":-2,"last_activity_date":1657549407,"creation_date":1657548501,"question_id":72939907,"body_markdown":"I&#39;ve looked on oracle site, googled, but haven&#39;t found any download link. only doc and tutorials\r\n\r\nCould somebody share the download link, please","title":"download source of jstack.exe (tool for making jvm tradedump)","body":"<p>I've looked on oracle site, googled, but haven't found any download link. only doc and tutorials</p>\n<p>Could somebody share the download link, please</p>\n"},{"tags":["java","list","generics","reflection","casting"],"comments":[{"owner":{"account_id":357343,"reputation":54520,"user_id":697449,"accept_rate":82,"display_name":"Paul Bellora"},"score":2,"creation_date":1374686233,"post_id":17840483,"comment_id":26041757,"body_markdown":"Do you want the list to be populated via reflection? Otherwise just use `new ArrayList&lt;&gt;()`.","body":"Do you want the list to be populated via reflection? Otherwise just use <code>new ArrayList&lt;&gt;()</code>."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":154,"is_accepted":true,"score":154,"last_activity_date":1374687459,"creation_date":1374685568,"answer_id":17840541,"question_id":17840483,"body_markdown":"    private Object actuallyT;\r\n\r\n    public &lt;T&gt; List&lt;T&gt; magicalListGetter(Class&lt;T&gt; klazz) {\r\n        List&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n        list.add(klazz.cast(actuallyT));\r\n        try {\r\n            list.add(klazz.getConstructor().newInstance()); // If default constructor\r\n        } ...\r\n        return list;\r\n    }\r\n\r\nOne can give a generic type parameter to a method too. You have correctly deduced that one needs the correct class instance, to create things (`klazz.getConstructor().newInstance()`).","title":"How to have Java method return generic list of any type?","body":"<pre><code>private Object actuallyT;\n\npublic &lt;T&gt; List&lt;T&gt; magicalListGetter(Class&lt;T&gt; klazz) {\n    List&lt;T&gt; list = new ArrayList&lt;&gt;();\n    list.add(klazz.cast(actuallyT));\n    try {\n        list.add(klazz.getConstructor().newInstance()); // If default constructor\n    } ...\n    return list;\n}\n</code></pre>\n\n<p>One can give a generic type parameter to a method too. You have correctly deduced that one needs the correct class instance, to create things (<code>klazz.getConstructor().newInstance()</code>).</p>\n"},{"tags":[],"owner":{"account_id":2183673,"reputation":12897,"user_id":1932588,"display_name":"Lee Meador"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374685608,"creation_date":1374685608,"answer_id":17840556,"question_id":17840483,"body_markdown":"You can use the old way:\r\n\r\n    public List magicalListGetter() {\r\n        List list = doMagicalVooDooHere();\r\n    \r\n        return list;\r\n    }\r\n\r\nor you can use `Object` and the parent class of everything:\r\n\r\n    public List&lt;Object&gt; magicalListGetter() {\r\n        List&lt;Object&gt; list = doMagicalVooDooHere();\r\n    \r\n        return list;\r\n    }\r\n\r\n*Note* Perhaps there is a better parent class for all the objects you will put in the list. For example, `Number` would allow you to put `Double` and `Integer` in there.\r\n\r\n","title":"How to have Java method return generic list of any type?","body":"<p>You can use the old way:</p>\n\n<pre><code>public List magicalListGetter() {\n    List list = doMagicalVooDooHere();\n\n    return list;\n}\n</code></pre>\n\n<p>or you can use <code>Object</code> and the parent class of everything:</p>\n\n<pre><code>public List&lt;Object&gt; magicalListGetter() {\n    List&lt;Object&gt; list = doMagicalVooDooHere();\n\n    return list;\n}\n</code></pre>\n\n<p><em>Note</em> Perhaps there is a better parent class for all the objects you will put in the list. For example, <code>Number</code> would allow you to put <code>Double</code> and <code>Integer</code> in there.</p>\n"},{"tags":[],"owner":{"account_id":2052678,"reputation":134073,"user_id":1831293,"accept_rate":91,"display_name":"Evgeniy Dorofeev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1374685689,"creation_date":1374685689,"answer_id":17840575,"question_id":17840483,"body_markdown":"Something like this\r\n\r\n\tpubliс &lt;T&gt; List&lt;T&gt; magicalListGetter(Class&lt;T&gt; clazz) {\r\n\t    List list = doMagicalVooDooHere();\r\n\t    return list;\r\n\t}\r\n","title":"How to have Java method return generic list of any type?","body":"<p>Something like this</p>\n\n<pre><code>publiс &lt;T&gt; List&lt;T&gt; magicalListGetter(Class&lt;T&gt; clazz) {\n    List list = doMagicalVooDooHere();\n    return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2931439,"reputation":59,"user_id":2511564,"display_name":"koZmiZm"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1374687213,"creation_date":1374686729,"answer_id":17840859,"question_id":17840483,"body_markdown":"I&#39;m pretty sure you can completely delete the   &amp;lt;stuff&amp;gt;   , which will generate a warning and you can use an, @ suppress warnings. If you really want it to be generic, but to use any of its elements you will have to do type casting. For instance, I made a simple bubble sort function and it uses a generic type when sorting the list, which is actually an array of Comparable in this case. If you wish to use an item, do something like: System.out.println((Double)arrayOfDoubles[0] + (Double)arrayOfDoubles[1]); because I stuffed Double(s) into Comparable(s) which is polymorphism since all Double(s) inherit from Comparable to allow easy sorting through Collections.sort()\r\n\r\n\r\n        \t//INDENT TO DISPLAY CODE ON STACK-OVERFLOW\r\n\t@SuppressWarnings(&quot;unchecked&quot;)\r\n\tpublic static void simpleBubbleSort_ascending(@SuppressWarnings(&quot;rawtypes&quot;) Comparable[] arrayOfDoubles)\r\n\t{\r\n\t//VARS\r\n\t\t//looping\r\n\t\tint end      =      arrayOfDoubles.length - 1;//the last index in our loops\r\n\t\tint iterationsMax = arrayOfDoubles.length - 1;\r\n\t\t\r\n\t\t//swapping\r\n\t\t@SuppressWarnings(&quot;rawtypes&quot;)\r\n\t\tComparable tempSwap = 0.0;//a temporary double used in the swap process\r\n\t\tint elementP1 = 1;//element + 1,   an index for comparing and swapping\r\n\t\t\r\n\t\t\r\n\t//CODE\r\n\t\t//do up to &#39;iterationsMax&#39; many iterations\r\n\t\tfor (int iteration = 0; iteration &lt; iterationsMax; iteration++)\r\n\t\t{\r\n\t\t\t//go through each element and compare it to the next element\r\n\t\t\tfor (int element = 0; element &lt; end; element++)\r\n\t\t\t{\r\n\t\t\t\telementP1 = element + 1;\r\n\t\t\t\t\r\n\t\t\t\t//if the elements need to be swapped, swap them\r\n\t\t\t\tif (arrayOfDoubles[element].compareTo(arrayOfDoubles[elementP1])==1)\r\n\t\t\t\t{\r\n\t\t\t\t\t//swap\r\n\t\t\t\t\ttempSwap = arrayOfDoubles[element];\r\n\t\t\t\t\tarrayOfDoubles[element] = arrayOfDoubles[elementP1];\r\n\t\t\t\t\tarrayOfDoubles[elementP1] = tempSwap;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}//END public static void simpleBubbleSort_ascending(double[] arrayOfDoubles)\r\n","title":"How to have Java method return generic list of any type?","body":"<p>I'm pretty sure you can completely delete the   &lt;stuff&gt;   , which will generate a warning and you can use an, @ suppress warnings. If you really want it to be generic, but to use any of its elements you will have to do type casting. For instance, I made a simple bubble sort function and it uses a generic type when sorting the list, which is actually an array of Comparable in this case. If you wish to use an item, do something like: System.out.println((Double)arrayOfDoubles[0] + (Double)arrayOfDoubles[1]); because I stuffed Double(s) into Comparable(s) which is polymorphism since all Double(s) inherit from Comparable to allow easy sorting through Collections.sort()</p>\n\n<pre><code>        //INDENT TO DISPLAY CODE ON STACK-OVERFLOW\n@SuppressWarnings(\"unchecked\")\npublic static void simpleBubbleSort_ascending(@SuppressWarnings(\"rawtypes\") Comparable[] arrayOfDoubles)\n{\n//VARS\n    //looping\n    int end      =      arrayOfDoubles.length - 1;//the last index in our loops\n    int iterationsMax = arrayOfDoubles.length - 1;\n\n    //swapping\n    @SuppressWarnings(\"rawtypes\")\n    Comparable tempSwap = 0.0;//a temporary double used in the swap process\n    int elementP1 = 1;//element + 1,   an index for comparing and swapping\n\n\n//CODE\n    //do up to 'iterationsMax' many iterations\n    for (int iteration = 0; iteration &lt; iterationsMax; iteration++)\n    {\n        //go through each element and compare it to the next element\n        for (int element = 0; element &lt; end; element++)\n        {\n            elementP1 = element + 1;\n\n            //if the elements need to be swapped, swap them\n            if (arrayOfDoubles[element].compareTo(arrayOfDoubles[elementP1])==1)\n            {\n                //swap\n                tempSwap = arrayOfDoubles[element];\n                arrayOfDoubles[element] = arrayOfDoubles[elementP1];\n                arrayOfDoubles[elementP1] = tempSwap;\n            }\n        }\n    }\n}//END public static void simpleBubbleSort_ascending(double[] arrayOfDoubles)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1374727989,"creation_date":1374727989,"answer_id":17849271,"question_id":17840483,"body_markdown":"No need to even pass the class:\r\n\r\n    public &lt;T&gt; List&lt;T&gt; magicalListGetter() {\r\n        return new ArrayList&lt;T&gt;();\r\n    }","title":"How to have Java method return generic list of any type?","body":"<p>No need to even pass the class:</p>\n\n<pre><code>public &lt;T&gt; List&lt;T&gt; magicalListGetter() {\n    return new ArrayList&lt;T&gt;();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":80663,"reputation":1904,"user_id":227955,"display_name":"TjeerdJan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1438761707,"creation_date":1438761707,"answer_id":31826697,"question_id":17840483,"body_markdown":"Another option is doing the following:\r\n\r\n    public class UserList extends List&lt;User&gt;{\r\n    \r\n    }\r\n \r\n    public &lt;T&gt; T magicalListGetter(Class&lt;T&gt; clazz) {\r\n        List&lt;?&gt; list = doMagicalVooDooHere();\r\n        return (T)list;\r\n    }\r\n\r\n    List&lt;User&gt; users = magicalListGetter(UserList.class);\r\n\r\n\r\n`","title":"How to have Java method return generic list of any type?","body":"<p>Another option is doing the following:</p>\n\n<pre><code>public class UserList extends List&lt;User&gt;{\n\n}\n\npublic &lt;T&gt; T magicalListGetter(Class&lt;T&gt; clazz) {\n    List&lt;?&gt; list = doMagicalVooDooHere();\n    return (T)list;\n}\n\nList&lt;User&gt; users = magicalListGetter(UserList.class);\n</code></pre>\n\n<p>`</p>\n"},{"tags":[],"owner":{"account_id":3063996,"reputation":5861,"user_id":2596109,"accept_rate":50,"display_name":"Oleg Mikhailov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1455958651,"creation_date":1455958651,"answer_id":35521085,"question_id":17840483,"body_markdown":"Let us have `List&lt;Object&gt; objectList` which we want to cast to `List&lt;T&gt;` \r\n\r\n    public &lt;T&gt; List&lt;T&gt; list(Class&lt;T&gt; c, List&lt;Object&gt; objectList){        \r\n        List&lt;T&gt; list = new ArrayList&lt;&gt;();       \r\n        for (Object o : objectList){\r\n            T t = c.cast(o);\r\n            list.add(t);\r\n        }\r\n        return list;\r\n    }","title":"How to have Java method return generic list of any type?","body":"<p>Let us have <code>List&lt;Object&gt; objectList</code> which we want to cast to <code>List&lt;T&gt;</code> </p>\n\n<pre><code>public &lt;T&gt; List&lt;T&gt; list(Class&lt;T&gt; c, List&lt;Object&gt; objectList){        \n    List&lt;T&gt; list = new ArrayList&lt;&gt;();       \n    for (Object o : objectList){\n        T t = c.cast(o);\n        list.add(t);\n    }\n    return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7935600,"reputation":1441,"user_id":5991749,"display_name":"K. Gol"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488969741,"creation_date":1488969741,"answer_id":42669107,"question_id":17840483,"body_markdown":"You can simply cast to List&lt;T&gt; and then check if every element can be casted to T.\r\n\r\n    public &lt;T&gt; List&lt;T&gt; asList(final Class&lt;T&gt; clazz) {\r\n        List&lt;T&gt; values = (List&lt;T&gt;) this.value;\r\n        values.forEach(clazz::cast);\r\n        return values;\r\n    }","title":"How to have Java method return generic list of any type?","body":"<p>You can simply cast to List and then check if every element can be casted to T.</p>\n\n<pre><code>public &lt;T&gt; List&lt;T&gt; asList(final Class&lt;T&gt; clazz) {\n    List&lt;T&gt; values = (List&lt;T&gt;) this.value;\n    values.forEach(clazz::cast);\n    return values;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7281,"reputation":248647,"user_id":12597,"accept_rate":76,"display_name":"Ian Boyd"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1657549032,"creation_date":1657549032,"answer_id":72940009,"question_id":17840483,"body_markdown":"Given some legacy code that returns an untyped `List`\r\n\r\n    List list = database.GetCustomers(); //legacy code returns untyped list\r\n\r\nwe will use a helper function:\r\n\r\n```\r\npublic static &lt;T&gt; @NotNull List&lt;T&gt; castList(final @NotNull Iterable sourceList)\r\n{\r\n\tList&lt;T&gt; result = new ArrayList&lt;&gt;();\r\n\tfor (Object o : sourceList)\r\n\t\tresult.add((T)o);\r\n\r\n\treturn result;\r\n}\r\n```\r\n\r\nto convert the returned list to a generic typed `List&lt;T&gt;`:\r\n\r\n    List&lt;Customer&gt; = castList(database.GetCustomers()); //cast the list the appropriate type\r\n\r\nWhy Java doesn&#39;t have extension methods is quite beyond me.","title":"How to have Java method return generic list of any type?","body":"<p>Given some legacy code that returns an untyped <code>List</code></p>\n<pre><code>List list = database.GetCustomers(); //legacy code returns untyped list\n</code></pre>\n<p>we will use a helper function:</p>\n<pre><code>public static &lt;T&gt; @NotNull List&lt;T&gt; castList(final @NotNull Iterable sourceList)\n{\n    List&lt;T&gt; result = new ArrayList&lt;&gt;();\n    for (Object o : sourceList)\n        result.add((T)o);\n\n    return result;\n}\n</code></pre>\n<p>to convert the returned list to a generic typed <code>List&lt;T&gt;</code>:</p>\n<pre><code>List&lt;Customer&gt; = castList(database.GetCustomers()); //cast the list the appropriate type\n</code></pre>\n<p>Why Java doesn't have extension methods is quite beyond me.</p>\n"}],"owner":{"display_name":"user1768830"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245775,"favorite_count":0,"down_vote_count":1,"up_vote_count":81,"accepted_answer_id":17840541,"answer_count":9,"score":80,"last_activity_date":1657549032,"creation_date":1374685401,"question_id":17840483,"body_markdown":"I would like to write a method that would return a `java.util.List` of any type **without the need to typecast anything**:\r\n\r\n    List&lt;User&gt; users = magicalListGetter(User.class);\r\n\r\n    List&lt;Vehicle&gt; vehicles = magicalListGetter(Vehicle.class);\r\n\r\n    List&lt;String&gt; strings = magicalListGetter(String.class);\r\n\r\nWhat would the method signature look like? Something like this, perhaps(?):\r\n\r\n    public List&lt;&lt;?&gt; ?&gt; magicalListGetter(Class&lt;?&gt; clazz) {\r\n        List&lt;?&gt; list = doMagicalVooDooHere();\r\n\r\n        return list;\r\n    }","title":"How to have Java method return generic list of any type?","body":"<p>I would like to write a method that would return a <code>java.util.List</code> of any type <strong>without the need to typecast anything</strong>:</p>\n<pre><code>List&lt;User&gt; users = magicalListGetter(User.class);\n\nList&lt;Vehicle&gt; vehicles = magicalListGetter(Vehicle.class);\n\nList&lt;String&gt; strings = magicalListGetter(String.class);\n</code></pre>\n<p>What would the method signature look like? Something like this, perhaps(?):</p>\n<pre><code>public List&lt;&lt;?&gt; ?&gt; magicalListGetter(Class&lt;?&gt; clazz) {\n    List&lt;?&gt; list = doMagicalVooDooHere();\n\n    return list;\n}\n</code></pre>\n"},{"tags":["java","spring","timezone"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":3,"creation_date":1655434279,"post_id":72653784,"comment_id":128336866,"body_markdown":"It&#39;s impossible to answer this question unless you can show us the code that you&#39;re worried about.","body":"It&#39;s impossible to answer this question unless you can show us the code that you&#39;re worried about."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1655438411,"post_id":72653784,"comment_id":128337349,"body_markdown":"FYI, `TimeZone` is one of the tragically flawed legacy date-time classes that were years ago supplanted by the modern *java.time* classes. Specifically, replaced by `ZoneId` and `ZoneOffset`. If you shared actual code, or a simplified contrived version of your code, we could show you how to solve your conundrum while converting back and forth between the legacy and modern classes.","body":"FYI, <code>TimeZone</code> is one of the tragically flawed legacy date-time classes that were years ago supplanted by the modern <i>java.time</i> classes. Specifically, replaced by <code>ZoneId</code> and <code>ZoneOffset</code>. If you shared actual code, or a simplified contrived version of your code, we could show you how to solve your conundrum while converting back and forth between the legacy and modern classes."},{"owner":{"account_id":16126285,"reputation":159,"user_id":11640962,"display_name":"바보린"},"score":0,"creation_date":1655438993,"post_id":72653784,"comment_id":128337443,"body_markdown":"Edited the content. Can you check again?","body":"Edited the content. Can you check again?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1655439969,"post_id":72653784,"comment_id":128337588,"body_markdown":"I still don’t see the class or method for which you want your time zone to apply. So all we can say is: yes, for time zone sensitive operations it is generally possible to specify time zone.","body":"I still don’t see the class or method for which you want your time zone to apply. So all we can say is: yes, for time zone sensitive operations it is generally possible to specify time zone."}],"answers":[{"tags":[],"owner":{"account_id":12142871,"reputation":97,"user_id":8866086,"display_name":"sjy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655440193,"creation_date":1655438445,"answer_id":72654199,"question_id":72653784,"body_markdown":"LocaDate.now allow with zone id.\r\nhttps://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#now-java.time.ZoneId-\r\n\r\nIf its date use zone Id  date.toInstant().atZone(ZoneId.of(&quot;&quot;)).toLocalDateTime()\r\n\r\nhttps://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--\r\n\r\nUse Instant and zone id\r\n\r\n    Instant instant = Instant.parse(&quot;2022-06-18 00:00&quot;);\r\n    ZoneId zoneId = ZoneId.of(&quot;Asia/Tokyo&quot;);\r\n    LocalDateTime value LocalDateTime.ofInstant(instant, zoneId);","title":"Is there a way to set TimeZone only for a specific class or method?","body":"<p>LocaDate.now allow with zone id.\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#now-java.time.ZoneId-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#now-java.time.ZoneId-</a></p>\n<p>If its date use zone Id  date.toInstant().atZone(ZoneId.of(&quot;&quot;)).toLocalDateTime()</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--</a></p>\n<p>Use Instant and zone id</p>\n<pre><code>Instant instant = Instant.parse(&quot;2022-06-18 00:00&quot;);\nZoneId zoneId = ZoneId.of(&quot;Asia/Tokyo&quot;);\nLocalDateTime value LocalDateTime.ofInstant(instant, zoneId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16126285,"reputation":159,"user_id":11640962,"display_name":"바보린"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657548891,"creation_date":1655443986,"answer_id":72654714,"question_id":72653784,"body_markdown":"### Intent and cause of the question\r\n\r\nThe time in UTC is entered in the DB.\r\ntime : 2022-06-17 15:00\r\n\r\nI wanted to convert this to Asia time in a Zoned `LocalDateTime`.\r\n(+09:00 is required.)\r\n\r\nThe time I want: 2022-06-18 00:00\r\n\r\nHowever, no matter which method was used, the time in UTC standard was output as it is.\r\n\r\n`getMyTime.atZone(...).toLocalDateTime ..`\r\nOutput: 2022-06-17 15:00\r\n\r\nWhile looking for a way, I found that LocalDateTime ignores (or deletes) the &quot;zone&quot; information.\r\n\r\nWhen creating time, it can be created with zone information, but zone information has no meaning after it has already been created.\r\n\r\n### The solution\r\n\r\nFrom then on, I got closer to the answer, and I found it.\r\n\r\n    ZonedDateTime.of(localDateTime,ZoneId.systemDefault())\r\n            .withZoneSameInstant(ZoneId.of(&quot;Asia/Seoul&quot;))\r\n            .toLocalDateTime();\r\n\r\nGet the zoneDateTime of the base time.\r\n\r\nand the key\r\n\r\nCreate an instant with zone information through `withZoneSameInstant` and create it as `LocalDateTime`.\r\n\r\nThis works perfectly for me.","title":"Is there a way to set TimeZone only for a specific class or method?","body":"<h3>Intent and cause of the question</h3>\n<p>The time in UTC is entered in the DB.\ntime : 2022-06-17 15:00</p>\n<p>I wanted to convert this to Asia time in a Zoned <code>LocalDateTime</code>.\n(+09:00 is required.)</p>\n<p>The time I want: 2022-06-18 00:00</p>\n<p>However, no matter which method was used, the time in UTC standard was output as it is.</p>\n<p><code>getMyTime.atZone(...).toLocalDateTime ..</code>\nOutput: 2022-06-17 15:00</p>\n<p>While looking for a way, I found that LocalDateTime ignores (or deletes) the &quot;zone&quot; information.</p>\n<p>When creating time, it can be created with zone information, but zone information has no meaning after it has already been created.</p>\n<h3>The solution</h3>\n<p>From then on, I got closer to the answer, and I found it.</p>\n<pre><code>ZonedDateTime.of(localDateTime,ZoneId.systemDefault())\n        .withZoneSameInstant(ZoneId.of(&quot;Asia/Seoul&quot;))\n        .toLocalDateTime();\n</code></pre>\n<p>Get the zoneDateTime of the base time.</p>\n<p>and the key</p>\n<p>Create an instant with zone information through <code>withZoneSameInstant</code> and create it as <code>LocalDateTime</code>.</p>\n<p>This works perfectly for me.</p>\n"}],"owner":{"account_id":16126285,"reputation":159,"user_id":11640962,"display_name":"바보린"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1655464798,"answer_count":2,"score":-1,"last_activity_date":1657548891,"creation_date":1655433343,"question_id":72653784,"body_markdown":"I inherited the code developed by my predecessor.\r\n\r\nI put the code I developed here, but the time problem occurs because of TimeZone.\r\n\r\nThe problem is that if you set TimeZone globally, it is predicted that there will be problems in the existing code.\r\n\r\nSo I want to set TimeZone only for my code\r\n\r\nIs there a way to specify Timezone only in my class file or my method?\r\n\r\nFirst of all, my web server operates based on UTC, and existing codes are also based on that standard.\r\n\r\n    TimeZone.setDefault(TimeZone.getTimeZone(&quot;Asia/Seoul&quot;));\r\n\r\nUsing this, my webserver is pointed to Asia/Seoul and I get the time I want.\r\n\r\nHowever, since this is set globally, there is concern that code written in UTC will have problems.\r\n\r\nSo it cannot be used.\r\n\r\nAlso `LocalDateTime.now(Zone...);` I can get the results I want by using .\r\n\r\nHowever, the zone should be reflected in the already created (DB) time, not now.\r\n\r\nIn other words, 2022-06-17 15:00 is considered my time as 2022-06-18 00:00.\r\n\r\nRather than specifying +09:00 directly, I want a way that 2022-06-17 15:00 with TimeZone etc can be considered as 2022-06-18 00:00 by the server.","title":"Is there a way to set TimeZone only for a specific class or method?","body":"<p>I inherited the code developed by my predecessor.</p>\n<p>I put the code I developed here, but the time problem occurs because of TimeZone.</p>\n<p>The problem is that if you set TimeZone globally, it is predicted that there will be problems in the existing code.</p>\n<p>So I want to set TimeZone only for my code</p>\n<p>Is there a way to specify Timezone only in my class file or my method?</p>\n<p>First of all, my web server operates based on UTC, and existing codes are also based on that standard.</p>\n<pre><code>TimeZone.setDefault(TimeZone.getTimeZone(&quot;Asia/Seoul&quot;));\n</code></pre>\n<p>Using this, my webserver is pointed to Asia/Seoul and I get the time I want.</p>\n<p>However, since this is set globally, there is concern that code written in UTC will have problems.</p>\n<p>So it cannot be used.</p>\n<p>Also <code>LocalDateTime.now(Zone...);</code> I can get the results I want by using .</p>\n<p>However, the zone should be reflected in the already created (DB) time, not now.</p>\n<p>In other words, 2022-06-17 15:00 is considered my time as 2022-06-18 00:00.</p>\n<p>Rather than specifying +09:00 directly, I want a way that 2022-06-17 15:00 with TimeZone etc can be considered as 2022-06-18 00:00 by the server.</p>\n"},{"tags":["java","jpa","bigdecimal"],"comments":[{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":2,"creation_date":1657547630,"post_id":72939606,"comment_id":128829756,"body_markdown":"`BigDecimal` is analogous to an arbitrary bitlength `double`, so the decimal place being printed would be expected. If you want the integer form of that number, consider using either `BigInteger` or using a proper scale and precision for your `NUMBER` datatype.","body":"<code>BigDecimal</code> is analogous to an arbitrary bitlength <code>double</code>, so the decimal place being printed would be expected. If you want the integer form of that number, consider using either <code>BigInteger</code> or using a proper scale and precision for your <code>NUMBER</code> datatype."},{"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"score":0,"creation_date":1657547838,"post_id":72939606,"comment_id":128829841,"body_markdown":"That&#39;s is the thing, I want the data returned from database to be handled accordingly, when it&#39;s decimal with 5 numbers after the dot, do it as it is now with bigDecimal, but when the result is integer, keep it that way","body":"That&#39;s is the thing, I want the data returned from database to be handled accordingly, when it&#39;s decimal with 5 numbers after the dot, do it as it is now with bigDecimal, but when the result is integer, keep it that way"},{"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"score":0,"creation_date":1657549713,"post_id":72939606,"comment_id":128830633,"body_markdown":"Yes, Added this line as a condition  and it works: number.stripTrailingZeros().scale() &lt;= 0","body":"Yes, Added this line as a condition  and it works: number.stripTrailingZeros().scale() &lt;= 0"}],"answers":[{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657548650,"creation_date":1657548650,"answer_id":72939929,"question_id":72939606,"body_markdown":"You could do something like this to output either an integer or a decimal with the precision you need:\r\n\r\n```\r\nString cellData;\r\nBigDecimal number = rs.getBigDecimal(i);\r\nBigDecimal integerValue = null;\r\nif (number != null) {\r\n    int scale = rsMetadata.getScale(i);\r\n    int precision = rsMetadata.getPrecision(i);\r\n    number.setScale(scale, BigDecimal.ROUND_HALF_UP);\r\n    // something else?\r\n    if (Types.INTEGER) {\r\n        integerValue = number.toBigInteger(); // or number.toBigIntegerExact();\r\n    }\r\n}\r\n// store decimal or integer\r\n```","title":"Query results printed as decimals instead of integers on Java","body":"<p>You could do something like this to output either an integer or a decimal with the precision you need:</p>\n<pre><code>String cellData;\nBigDecimal number = rs.getBigDecimal(i);\nBigDecimal integerValue = null;\nif (number != null) {\n    int scale = rsMetadata.getScale(i);\n    int precision = rsMetadata.getPrecision(i);\n    number.setScale(scale, BigDecimal.ROUND_HALF_UP);\n    // something else?\n    if (Types.INTEGER) {\n        integerValue = number.toBigInteger(); // or number.toBigIntegerExact();\n    }\n}\n// store decimal or integer\n</code></pre>\n"}],"owner":{"account_id":12585926,"reputation":357,"user_id":9154835,"display_name":"elads11"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":337,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1657550506,"answer_count":1,"score":0,"last_activity_date":1657548650,"creation_date":1657547202,"question_id":72939606,"body_markdown":"In my project, there is a function that gets the query results depending on the column type.\r\nIn this case, the column type is defined in the Oracle database as: NUMBER(15, 5).\r\nBut the actual query result is an integer number such as : 2000\r\nBut the problem is, that in the code, we convert it to decimal and the result will be changed to: 2000.00000\r\n\r\nWe use BigDecimal, and we put the scale on the result. Is there a short, correct way to deal with all results from database within the column type of: NUMBER(15, 5) ? \r\nWhen the result is Integer is will be Integer, and when it&#39;s a decimal with scale of 5 then the result will be like this.\r\nThis is the case within our switch case that deals with it:\r\n                         \r\n                        String cellData;\r\n                        case Types.DECIMAL:\r\n                            BigDecimal number = rs.getBigDecimal(i);\r\n                            if (number != null) {\r\n                                int scale = rsMetadata.getScale(i);\r\n                                int precision = rsMetadata.getPrecision(i);\r\n                                cellData = number.setScale(scale).toPlainString();\r\n    \r\n\r\nMaybe something to do with the precision? Because now we only use the scale. ","title":"Query results printed as decimals instead of integers on Java","body":"<p>In my project, there is a function that gets the query results depending on the column type.\nIn this case, the column type is defined in the Oracle database as: NUMBER(15, 5).\nBut the actual query result is an integer number such as : 2000\nBut the problem is, that in the code, we convert it to decimal and the result will be changed to: 2000.00000</p>\n<p>We use BigDecimal, and we put the scale on the result. Is there a short, correct way to deal with all results from database within the column type of: NUMBER(15, 5) ?\nWhen the result is Integer is will be Integer, and when it's a decimal with scale of 5 then the result will be like this.\nThis is the case within our switch case that deals with it:</p>\n<pre><code>                    String cellData;\n                    case Types.DECIMAL:\n                        BigDecimal number = rs.getBigDecimal(i);\n                        if (number != null) {\n                            int scale = rsMetadata.getScale(i);\n                            int precision = rsMetadata.getPrecision(i);\n                            cellData = number.setScale(scale).toPlainString();\n</code></pre>\n<p>Maybe something to do with the precision? Because now we only use the scale.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8797,"page":1195,"page_size":100}
