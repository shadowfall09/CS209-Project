{"items":[{"tags":["java","spring","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669046638,"post_id":74521511,"comment_id":131548547,"body_markdown":"You aren&#39;t mocking anything. Also as the `HttpClient` is configured inside the method you cannot mock it. Instead you should inject it that way you can mock it. Or use the spring `RestTemplate` or `WebClient` and configure that with Apache HTTP Client and use the testing/mocking support for that.","body":"You aren&#39;t mocking anything. Also as the <code>HttpClient</code> is configured inside the method you cannot mock it. Instead you should inject it that way you can mock it. Or use the spring <code>RestTemplate</code> or <code>WebClient</code> and configure that with Apache HTTP Client and use the testing/mocking support for that."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1669543345,"post_id":74521511,"comment_id":131660939,"body_markdown":"[Why is my class not calling my mocked methods in unit test?](https://stackoverflow.com/q/74027324/112968) shares some useful insights (and a solution to your problem too). If you move the creation of your `HttpClient` to a different class an and instance of this class is injected into your class, testing becomes straightforward.","body":"<a href=\"https://stackoverflow.com/q/74027324/112968\">Why is my class not calling my mocked methods in unit test?</a> shares some useful insights (and a solution to your problem too). If you move the creation of your <code>HttpClient</code> to a different class an and instance of this class is injected into your class, testing becomes straightforward."}],"answers":[{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669046632,"creation_date":1669046632,"answer_id":74521691,"question_id":74521511,"body_markdown":"You can&#39;t do it using the current code structure. httpclient object is getting created within the method under test. So it can&#39;t be mocked.\r\n\r\nYou need to delegate httpclient object creation to another method with belongs to a different class (something similar to HttpClientFactory class). That HttpClientFactory class should only be responsible for creating httpClient instances. If you need you can write separate unit test case for the class.\r\n\r\n\r\n     @Inject\r\n     private HttpClientFactory httpClientFactory;\r\n    \r\n          public String doRequest(ClassicHttpRequest request) {\r\n            String result = null;\r\n        \r\n                try (CloseableHttpClient httpclient = httpClientFactory.getInstance()) {\r\n        \r\n                    final HttpClientContext clientContext = HttpClientContext.create();\r\n        \r\n                    try (CloseableHttpResponse response = httpclient.execute(request, clientContext)) {\r\n        \r\n                        result = EntityUtils.toString(response.getEntity());\r\n                    \r\n                    }\r\n                } catch (URISyntaxException e) {\r\n                    log.error(&quot;Invalid URI {}&quot;, e);\r\n                } catch (IOException e) {\r\n                    log.error(&quot;Failed to make HTTP Request {}&quot;, e);\r\n                } catch (ParseException e) {\r\n                    log.error(&quot;Failed parsing response body {}&quot;, e);\r\n                }\r\n        \r\n                return result;\r\n            }\r\n\r\nNow you can mock response like below:\r\n\r\n     @Mock\r\n     private HttpClientFactory httpClientFactory;\r\n    \r\n    public String testDoRequest(ClassicHttpRequest request) {\r\n    ....\r\n        CloseableHttpClient mockedClient = mock(CloseableHttpClient.class);\r\n        CloseableHttpResponse mockedResponse = mock(CloseableHttpResponse.class);\r\n        when(httpClientFactory.getInstance()).thenReturn(mockedClient);\r\n        when(mockedClient.execute(eq(request), any(clientContext))).thenReturn(mockedResponse);\r\n    ....}\r\n\r\n","title":"Mocking a Nested Object in Junit","body":"<p>You can't do it using the current code structure. httpclient object is getting created within the method under test. So it can't be mocked.</p>\n<p>You need to delegate httpclient object creation to another method with belongs to a different class (something similar to HttpClientFactory class). That HttpClientFactory class should only be responsible for creating httpClient instances. If you need you can write separate unit test case for the class.</p>\n<pre><code> @Inject\n private HttpClientFactory httpClientFactory;\n\n      public String doRequest(ClassicHttpRequest request) {\n        String result = null;\n    \n            try (CloseableHttpClient httpclient = httpClientFactory.getInstance()) {\n    \n                final HttpClientContext clientContext = HttpClientContext.create();\n    \n                try (CloseableHttpResponse response = httpclient.execute(request, clientContext)) {\n    \n                    result = EntityUtils.toString(response.getEntity());\n                \n                }\n            } catch (URISyntaxException e) {\n                log.error(&quot;Invalid URI {}&quot;, e);\n            } catch (IOException e) {\n                log.error(&quot;Failed to make HTTP Request {}&quot;, e);\n            } catch (ParseException e) {\n                log.error(&quot;Failed parsing response body {}&quot;, e);\n            }\n    \n            return result;\n        }\n</code></pre>\n<p>Now you can mock response like below:</p>\n<pre><code> @Mock\n private HttpClientFactory httpClientFactory;\n\npublic String testDoRequest(ClassicHttpRequest request) {\n....\n    CloseableHttpClient mockedClient = mock(CloseableHttpClient.class);\n    CloseableHttpResponse mockedResponse = mock(CloseableHttpResponse.class);\n    when(httpClientFactory.getInstance()).thenReturn(mockedClient);\n    when(mockedClient.execute(eq(request), any(clientContext))).thenReturn(mockedResponse);\n....}\n</code></pre>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74521691,"answer_count":1,"score":0,"last_activity_date":1669046632,"creation_date":1669045679,"question_id":74521511,"body_markdown":"I have a service I am mocking like this:\r\n\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyServiceTest {\r\n    \r\n    @InjectMocks\r\n    MyService myService;\r\n\r\n   \r\n\r\n        @Test\r\n        void testSendRec() {\r\n           myService.sendDocRec(.. pass params..);\r\n        }\r\n}\r\n\r\n\r\nthe service:\r\n\r\n    @Service\r\n    public class MyService {\r\n\r\n        String sendDocRec( params ) {\r\n\r\n           // builds request\r\n           HttpUriRequestBase request = getRequest(  params );\r\n\r\n            String response = doRequest(request);\r\n        }\r\n\r\n        public String doRequest(ClassicHttpRequest request) {\r\n        String result = null;\r\n\r\n            try (CloseableHttpClient httpclient = HttpClients.custom()\r\n                    .setConnectionManager(this.connectionManager)\r\n                    .setConnectionManagerShared(true) \r\n                    .setDefaultRequestConfig(this.requestConfig)\r\n                    .build()) {\r\n\r\n                final HttpClientContext clientContext = HttpClientContext.create();\r\n\r\n                try (CloseableHttpResponse response = httpclient.execute(request, clientContext)) {\r\n\r\n                    result = EntityUtils.toString(response.getEntity());\r\n                \r\n                }\r\n            } catch (URISyntaxException e) {\r\n                log.error(&quot;Invalid URI {}&quot;, e);\r\n            } catch (IOException e) {\r\n                log.error(&quot;Failed to make HTTP Request {}&quot;, e);\r\n            } catch (ParseException e) {\r\n                log.error(&quot;Failed parsing response body {}&quot;, e);\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n    }\r\n\r\nI need to be able to mock the &quot;CloseableHttpResponse response = httpclient.execute(request, clientContext)&quot;, such that the &quot;response&quot; object is something I create ahead of time. I am hoping some mocking when/then constructs would work for this? I would grateful for ideas on how to do this. Thanks!","title":"Mocking a Nested Object in Junit","body":"<p>I have a service I am mocking like this:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyServiceTest {\n\n@InjectMocks\nMyService myService;\n\n\n\n    @Test\n    void testSendRec() {\n       myService.sendDocRec(.. pass params..);\n    }\n</code></pre>\n<p>}</p>\n<p>the service:</p>\n<pre><code>@Service\npublic class MyService {\n\n    String sendDocRec( params ) {\n\n       // builds request\n       HttpUriRequestBase request = getRequest(  params );\n\n        String response = doRequest(request);\n    }\n\n    public String doRequest(ClassicHttpRequest request) {\n    String result = null;\n\n        try (CloseableHttpClient httpclient = HttpClients.custom()\n                .setConnectionManager(this.connectionManager)\n                .setConnectionManagerShared(true) \n                .setDefaultRequestConfig(this.requestConfig)\n                .build()) {\n\n            final HttpClientContext clientContext = HttpClientContext.create();\n\n            try (CloseableHttpResponse response = httpclient.execute(request, clientContext)) {\n\n                result = EntityUtils.toString(response.getEntity());\n            \n            }\n        } catch (URISyntaxException e) {\n            log.error(&quot;Invalid URI {}&quot;, e);\n        } catch (IOException e) {\n            log.error(&quot;Failed to make HTTP Request {}&quot;, e);\n        } catch (ParseException e) {\n            log.error(&quot;Failed parsing response body {}&quot;, e);\n        }\n\n        return result;\n    }\n\n}\n</code></pre>\n<p>I need to be able to mock the &quot;CloseableHttpResponse response = httpclient.execute(request, clientContext)&quot;, such that the &quot;response&quot; object is something I create ahead of time. I am hoping some mocking when/then constructs would work for this? I would grateful for ideas on how to do this. Thanks!</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1669042751,"post_id":74520799,"comment_id":131546975,"body_markdown":"Does this answer your question? [How to get hyperlink address from a cell in excel by using java?](https://stackoverflow.com/questions/17987028/how-to-get-hyperlink-address-from-a-cell-in-excel-by-using-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17987028/how-to-get-hyperlink-address-from-a-cell-in-excel-by-using-java\">How to get hyperlink address from a cell in excel by using java?</a>"},{"owner":{"account_id":14166407,"reputation":658,"user_id":10234240,"display_name":"tupac shakur"},"score":0,"creation_date":1669043129,"post_id":74520799,"comment_id":131547115,"body_markdown":"Thank you @XtremeBaumer , I saw this solution and tried it and it did not give me any value.","body":"Thank you @XtremeBaumer , I saw this solution and tried it and it did not give me any value."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1669043724,"post_id":74520799,"comment_id":131547346,"body_markdown":"`getHypertextLink` is not a valid method for [`Cell`](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html)","body":"<code>getHypertextLink</code> is not a valid method for <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html\" rel=\"nofollow noreferrer\"><code>Cell</code></a>"},{"owner":{"account_id":8920168,"reputation":137,"user_id":6657073,"display_name":"Umang Soni"},"score":0,"creation_date":1670088113,"post_id":74520799,"comment_id":131793739,"body_markdown":"Cell cell = sheet.getRow(i).getCell(j); sysOut(cell.toString()); Can you please try this one ?","body":"Cell cell = sheet.getRow(i).getCell(j); sysOut(cell.toString()); Can you please try this one ?"}],"owner":{"account_id":14166407,"reputation":658,"user_id":10234240,"display_name":"tupac shakur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669046545,"creation_date":1669042468,"question_id":74520799,"body_markdown":"This is the code which iterate through the excel file and extract the value from the cells:\r\n\r\n    public static &lt;R&gt; List&lt;R&gt; readAdvancedStudentSearchFromCSV(String fileName, CSVParser&lt;R&gt; parser) throws IOException {\r\n            List&lt;R&gt; rowsList = new ArrayList&lt;&gt;();\r\n            FileInputStream fis = new FileInputStream(fileName);\r\n            //Create Workbook instance for xlsx/xls file input stream\r\n            XSSFWorkbook workbook = null;\r\n            if(fileName.toLowerCase().endsWith(&quot;xlsx&quot;)){\r\n                workbook = new XSSFWorkbook(fis);\r\n            }\r\n   \r\n            int numberOfSheets = workbook.getNumberOfSheets();\r\n            XSSFSheet sheet = workbook.getSheet(&quot;data&quot;);\r\n    \r\n            int rowCount = sheet.getPhysicalNumberOfRows();\r\n            StringBuilder line = new StringBuilder();\r\n            for(int i=2; i&lt;rowCount; i++){\r\n                String cellValue = &quot;&quot;;\r\n                for(int j=0; j&lt;10; j++){\r\n                    try {\r\n                        cellValue = sheet.getRow(i).getCell(j).getStringCellValue();\r\n                        System.out.println(cellValue);\r\n                    }catch(NullPointerException e){\r\n                        cellValue = &quot;&quot;;\r\n                    }\r\n                    if(cellValue.equals(&quot;&quot;)){\r\n                        line.append(&quot; &quot;).append(&quot; &quot;).append(&quot;,&quot;);\r\n                    }else {\r\n                        line.append(&quot; &quot;).append(cellValue).append(&quot;,&quot;);\r\n                    }\r\n                }\r\n                String[] attributes = line.toString().split(&quot;,&quot;);\r\n                R row = parser.toRow(attributes);\r\n                rowsList.add(row);\r\n            }\r\n    \r\n            //close file input stream\r\n            fis.close();\r\n            return rowsList;\r\n        }\r\nAnd this is how the excel file look like:\r\n[![enter image description here][1]][1]\r\n\r\nProblem:\r\n\r\nWhen I reach cell No.7 (trying to get column named &quot;Resume&quot;) with the value but I am getting empty string instead of getting the actual hypertextlink  (as string or as link it is not important).\r\nI have tried to use *getHypertextLink* method from *Cell* class but this did not help as well.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aUoh3.png\r\n\r\nI have looked at: https://stackoverflow.com/questions/17987028/how-to-get-hyperlink-address-from-a-cell-in-excel-by-using-java\r\nwhich did not solve my issue. ","title":"Converting excel (.xslx) file to java with cell that has hyperlink text won&#39;t be recognized and result is cell with empty value","body":"<p>This is the code which iterate through the excel file and extract the value from the cells:</p>\n<pre><code>public static &lt;R&gt; List&lt;R&gt; readAdvancedStudentSearchFromCSV(String fileName, CSVParser&lt;R&gt; parser) throws IOException {\n        List&lt;R&gt; rowsList = new ArrayList&lt;&gt;();\n        FileInputStream fis = new FileInputStream(fileName);\n        //Create Workbook instance for xlsx/xls file input stream\n        XSSFWorkbook workbook = null;\n        if(fileName.toLowerCase().endsWith(&quot;xlsx&quot;)){\n            workbook = new XSSFWorkbook(fis);\n        }\n\n        int numberOfSheets = workbook.getNumberOfSheets();\n        XSSFSheet sheet = workbook.getSheet(&quot;data&quot;);\n\n        int rowCount = sheet.getPhysicalNumberOfRows();\n        StringBuilder line = new StringBuilder();\n        for(int i=2; i&lt;rowCount; i++){\n            String cellValue = &quot;&quot;;\n            for(int j=0; j&lt;10; j++){\n                try {\n                    cellValue = sheet.getRow(i).getCell(j).getStringCellValue();\n                    System.out.println(cellValue);\n                }catch(NullPointerException e){\n                    cellValue = &quot;&quot;;\n                }\n                if(cellValue.equals(&quot;&quot;)){\n                    line.append(&quot; &quot;).append(&quot; &quot;).append(&quot;,&quot;);\n                }else {\n                    line.append(&quot; &quot;).append(cellValue).append(&quot;,&quot;);\n                }\n            }\n            String[] attributes = line.toString().split(&quot;,&quot;);\n            R row = parser.toRow(attributes);\n            rowsList.add(row);\n        }\n\n        //close file input stream\n        fis.close();\n        return rowsList;\n    }\n</code></pre>\n<p>And this is how the excel file look like:\n<a href=\"https://i.stack.imgur.com/aUoh3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aUoh3.png\" alt=\"enter image description here\" /></a></p>\n<p>Problem:</p>\n<p>When I reach cell No.7 (trying to get column named &quot;Resume&quot;) with the value but I am getting empty string instead of getting the actual hypertextlink  (as string or as link it is not important).\nI have tried to use <em>getHypertextLink</em> method from <em>Cell</em> class but this did not help as well.</p>\n<p>I have looked at: <a href=\"https://stackoverflow.com/questions/17987028/how-to-get-hyperlink-address-from-a-cell-in-excel-by-using-java\">How to get hyperlink address from a cell in excel by using java?</a>\nwhich did not solve my issue.</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-pubsub"],"answers":[{"tags":[],"owner":{"account_id":1136268,"reputation":15739,"user_id":1121288,"display_name":"Kamal Aboul-Hosn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669046288,"creation_date":1669046288,"answer_id":74521626,"question_id":74493804,"body_markdown":"The [documentation][1] calls out specifically the need to have lots of pull requests outstanding simultaneously to achieve high throughput and low latency:\r\n\r\n&quot;To achieve low message delivery latency with synchronous pull, it is important to have many simultaneously outstanding pull requests. As the throughput of the topic increases, more pull requests are necessary. In general, asynchronous pull is preferable for latency-sensitive applications.&quot;\r\n\r\nMaking a single, synchronous pull request at a time is not going to be an efficient way to pull messages. The Pub/Sub service tries to trade off full pull responses with latency, preferring to send some messages back quickly rather than a full pull response, which is why you see fewer than 100 messages returned. If you make a lot more pull requests simultaneously, you are more likely to get full responses as the service will recognize that the subscriber can handle more load and fetch more messages to fulfill the pull requests.\r\n\r\nIf you want to maximize throughput and minimize latency, you should instead use [asynchronous streaming pull][2].\r\n\r\n\r\n  [1]: https://cloud.google.com/pubsub/docs/pull#synchronous_pull\r\n  [2]: https://cloud.google.com/pubsub/docs/pull#asynchronous-pull","title":"High latency in fetching the messages from google pubsub pull model through java client","body":"<p>The <a href=\"https://cloud.google.com/pubsub/docs/pull#synchronous_pull\" rel=\"nofollow noreferrer\">documentation</a> calls out specifically the need to have lots of pull requests outstanding simultaneously to achieve high throughput and low latency:</p>\n<p>&quot;To achieve low message delivery latency with synchronous pull, it is important to have many simultaneously outstanding pull requests. As the throughput of the topic increases, more pull requests are necessary. In general, asynchronous pull is preferable for latency-sensitive applications.&quot;</p>\n<p>Making a single, synchronous pull request at a time is not going to be an efficient way to pull messages. The Pub/Sub service tries to trade off full pull responses with latency, preferring to send some messages back quickly rather than a full pull response, which is why you see fewer than 100 messages returned. If you make a lot more pull requests simultaneously, you are more likely to get full responses as the service will recognize that the subscriber can handle more load and fetch more messages to fulfill the pull requests.</p>\n<p>If you want to maximize throughput and minimize latency, you should instead use <a href=\"https://cloud.google.com/pubsub/docs/pull#asynchronous-pull\" rel=\"nofollow noreferrer\">asynchronous streaming pull</a>.</p>\n"}],"owner":{"account_id":10017789,"reputation":171,"user_id":7408451,"display_name":"saivasanth528"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669046288,"creation_date":1668795168,"question_id":74493804,"body_markdown":"We have one application which navigates the bigquery logs to pubsub topic, and we have one pull subscription on that topic. I have implemented [synchronous pull with lease management][1], in that I set the maxMessages to 100, which indicates pulling 100 messages at max from the topic in one request. \r\n\r\nI had ran a terraform script which will run hundreds of jobs concurrently and that will generate hundreds of logs within in few seconds, My pull mechanism will fetch the messages every 30 seconds. Since there are a lot of logs, I expected 100 messages in one request, but that was not happening, in every request, I am getting arbitrary no of messages like 14, 7, 10, and 3. It takes a lot of time to fetch all the messages about my jobs. I don&#39;t know what exactly the issue.\r\n\r\nPlease help me in identifying how to get the desired messages and decrease my latency when there are a lot of messages on the topic. Is PubSub service throttling the response or any configuration I have to do on my end? \r\n\r\n\r\n    public List&lt;ReceivedMessage&gt; getMessagesFromSubscription(String projectId, String subscriptionId, int numOfMessages,\r\n                                                             CredentialsProvider credentialsProvider) {\r\n     \r\n        List&lt;ReceivedMessage&gt; receivedMessages = new ArrayList&lt;&gt;();\r\n        try {\r\n            SubscriberStubSettings subscriberStubSettings = getSubscriberStubSettings(credentialsProvider);\r\n            try (SubscriberStub subscriber = GrpcSubscriberStub.create(subscriberStubSettings)) {\r\n                String subscriptionName = ProjectSubscriptionName.format(projectId, subscriptionId);\r\n                PullRequest pullRequest = PullRequest.newBuilder()\r\n                        .setMaxMessages(100)\r\n                        .setSubscription(mypubsub)\r\n                        .build();\r\n                PullResponse pullResponse = subscriber.pullCallable().call(pullRequest);\r\n                List&lt;String&gt; ackIds = new ArrayList&lt;&gt;();\r\n                for (ReceivedMessage message : pullResponse.getReceivedMessagesList()) {\r\n                    ackIds.add(message.getAckId());\r\n                    ModifyAckDeadlineRequest modifyAckDeadlineRequest = ModifyAckDeadlineRequest.newBuilder()\r\n                            .setSubscription(subscriptionName)\r\n                            .addAckIds(message.getAckId())\r\n                            .setAckDeadlineSeconds(30)\r\n                            .build();\r\n                    subscriber.modifyAckDeadlineCallable().call(modifyAckDeadlineRequest);\r\n                }\r\n                if (ackIds.isEmpty()) {\r\n                 // my logic\r\n                } else {\r\n                    AcknowledgeRequest acknowledgeRequest = AcknowledgeRequest.newBuilder()\r\n                            .setSubscription(subscriptionName)\r\n                            .addAllAckIds(ackIds)\r\n                            .build();\r\n                    subscriber.acknowledgeCallable().call(acknowledgeRequest);\r\n                    receivedMessages = new ArrayList&lt;&gt;(pullResponse.getReceivedMessagesList());\r\n                }\r\n            }\r\n            LOG.info(&quot;getMessagesFromSubscription: Received {} Messages for Project Id: {} and&quot; +\r\n                    &quot; Subscription Id: {}.&quot;, receivedMessages.size(), projectId, subscriptionId);\r\n        } catch (Exception e) {\r\n            LOG.error(&quot;getMessagesFromSubscription: Error while pulling message from Pub/Sub &quot; +\r\n                    &quot;from Project ID: {} and Subscription ID: {}&quot;, projectId, subscriptionId, e);\r\n        }\r\n        return receivedMessages;\r\n    }\r\n\r\n    private SubscriberStubSettings getSubscriberStubSettings(CredentialsProvider credentialsProvider) throws IOException {\r\n        SubscriberStubSettings.Builder subscriberStubSettingsBuilder = SubscriberStubSettings\r\n                .newBuilder()\r\n                .setTransportChannelProvider(SubscriberStubSettings\r\n                        .defaultGrpcTransportProviderBuilder()\r\n                        .setMaxInboundMessageSize(20 &lt;&lt; 20)\r\n                        .build());\r\n        if (credentialsProvider != null) {\r\n            subscriberStubSettingsBuilder = subscriberStubSettingsBuilder.setCredentialsProvider(credentialsProvider);\r\n        }\r\n        return subscriberStubSettingsBuilder.build();\r\n    }\r\n\r\n  [1]: https://cloud.google.com/pubsub/docs/pull#synchronous_pull_with_lease_management","title":"High latency in fetching the messages from google pubsub pull model through java client","body":"<p>We have one application which navigates the bigquery logs to pubsub topic, and we have one pull subscription on that topic. I have implemented <a href=\"https://cloud.google.com/pubsub/docs/pull#synchronous_pull_with_lease_management\" rel=\"nofollow noreferrer\">synchronous pull with lease management</a>, in that I set the maxMessages to 100, which indicates pulling 100 messages at max from the topic in one request.</p>\n<p>I had ran a terraform script which will run hundreds of jobs concurrently and that will generate hundreds of logs within in few seconds, My pull mechanism will fetch the messages every 30 seconds. Since there are a lot of logs, I expected 100 messages in one request, but that was not happening, in every request, I am getting arbitrary no of messages like 14, 7, 10, and 3. It takes a lot of time to fetch all the messages about my jobs. I don't know what exactly the issue.</p>\n<p>Please help me in identifying how to get the desired messages and decrease my latency when there are a lot of messages on the topic. Is PubSub service throttling the response or any configuration I have to do on my end?</p>\n<pre><code>public List&lt;ReceivedMessage&gt; getMessagesFromSubscription(String projectId, String subscriptionId, int numOfMessages,\n                                                         CredentialsProvider credentialsProvider) {\n \n    List&lt;ReceivedMessage&gt; receivedMessages = new ArrayList&lt;&gt;();\n    try {\n        SubscriberStubSettings subscriberStubSettings = getSubscriberStubSettings(credentialsProvider);\n        try (SubscriberStub subscriber = GrpcSubscriberStub.create(subscriberStubSettings)) {\n            String subscriptionName = ProjectSubscriptionName.format(projectId, subscriptionId);\n            PullRequest pullRequest = PullRequest.newBuilder()\n                    .setMaxMessages(100)\n                    .setSubscription(mypubsub)\n                    .build();\n            PullResponse pullResponse = subscriber.pullCallable().call(pullRequest);\n            List&lt;String&gt; ackIds = new ArrayList&lt;&gt;();\n            for (ReceivedMessage message : pullResponse.getReceivedMessagesList()) {\n                ackIds.add(message.getAckId());\n                ModifyAckDeadlineRequest modifyAckDeadlineRequest = ModifyAckDeadlineRequest.newBuilder()\n                        .setSubscription(subscriptionName)\n                        .addAckIds(message.getAckId())\n                        .setAckDeadlineSeconds(30)\n                        .build();\n                subscriber.modifyAckDeadlineCallable().call(modifyAckDeadlineRequest);\n            }\n            if (ackIds.isEmpty()) {\n             // my logic\n            } else {\n                AcknowledgeRequest acknowledgeRequest = AcknowledgeRequest.newBuilder()\n                        .setSubscription(subscriptionName)\n                        .addAllAckIds(ackIds)\n                        .build();\n                subscriber.acknowledgeCallable().call(acknowledgeRequest);\n                receivedMessages = new ArrayList&lt;&gt;(pullResponse.getReceivedMessagesList());\n            }\n        }\n        LOG.info(&quot;getMessagesFromSubscription: Received {} Messages for Project Id: {} and&quot; +\n                &quot; Subscription Id: {}.&quot;, receivedMessages.size(), projectId, subscriptionId);\n    } catch (Exception e) {\n        LOG.error(&quot;getMessagesFromSubscription: Error while pulling message from Pub/Sub &quot; +\n                &quot;from Project ID: {} and Subscription ID: {}&quot;, projectId, subscriptionId, e);\n    }\n    return receivedMessages;\n}\n\nprivate SubscriberStubSettings getSubscriberStubSettings(CredentialsProvider credentialsProvider) throws IOException {\n    SubscriberStubSettings.Builder subscriberStubSettingsBuilder = SubscriberStubSettings\n            .newBuilder()\n            .setTransportChannelProvider(SubscriberStubSettings\n                    .defaultGrpcTransportProviderBuilder()\n                    .setMaxInboundMessageSize(20 &lt;&lt; 20)\n                    .build());\n    if (credentialsProvider != null) {\n        subscriberStubSettingsBuilder = subscriberStubSettingsBuilder.setCredentialsProvider(credentialsProvider);\n    }\n    return subscriberStubSettingsBuilder.build();\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1669036711,"post_id":74519437,"comment_id":131544655,"body_markdown":"I would suggest to not use `BeanUtils`, as the documentation states it is mainly for internal framework usage and links to other suggestions. To add to that I suggest to use something like MapStruct for this to generate dedicated mappers for code instead of relying on reflection.","body":"I would suggest to not use <code>BeanUtils</code>, as the documentation states it is mainly for internal framework usage and links to other suggestions. To add to that I suggest to use something like MapStruct for this to generate dedicated mappers for code instead of relying on reflection."},{"owner":{"account_id":18201618,"reputation":204,"user_id":13245658,"display_name":"Limon"},"score":0,"creation_date":1669041628,"post_id":74519437,"comment_id":131546515,"body_markdown":"Can you maybe provide the Throwable causing the FatalBeanException?","body":"Can you maybe provide the Throwable causing the FatalBeanException?"}],"answers":[{"tags":[],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669046126,"creation_date":1669046126,"answer_id":74521594,"question_id":74519437,"body_markdown":"Thanks for all the answers so far. It turned out that a missing null check in the setter of the collection caused the error. BeanUtils.copyProperties() worked just like it was supposed to do. ","title":"BeanUtils.copyProperties() throws org.springframework.beans.FatalBeanException: Could not copy property &#39;xyz&#39; from source to target;","body":"<p>Thanks for all the answers so far. It turned out that a missing null check in the setter of the collection caused the error. BeanUtils.copyProperties() worked just like it was supposed to do.</p>\n"}],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669046126,"creation_date":1669035974,"question_id":74519437,"body_markdown":"Just upgraded from Spring 4.x to 5.3 and Hibernate 3.x to 5.6. I have one instance of my code where I get unexpected errors. More specifically, it is Spring&#39;s BeanUtils.CopyProperties() method that causes the error. \r\n\r\nIt wants to invoke a setter for a `PersistentSet` (I think that&#39;s a Hibernate datatype) with the value `null` and throws a FatalBeanException. \r\n\r\nAny idea how to solve that kind of errors?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mzIYc.png","title":"BeanUtils.copyProperties() throws org.springframework.beans.FatalBeanException: Could not copy property &#39;xyz&#39; from source to target;","body":"<p>Just upgraded from Spring 4.x to 5.3 and Hibernate 3.x to 5.6. I have one instance of my code where I get unexpected errors. More specifically, it is Spring's BeanUtils.CopyProperties() method that causes the error.</p>\n<p>It wants to invoke a setter for a <code>PersistentSet</code> (I think that's a Hibernate datatype) with the value <code>null</code> and throws a FatalBeanException.</p>\n<p>Any idea how to solve that kind of errors?</p>\n<p><a href=\"https://i.stack.imgur.com/mzIYc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mzIYc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","kotlin","kotlinx.serialization"],"answers":[{"tags":[],"owner":{"account_id":3934490,"reputation":805,"user_id":3251429,"display_name":"undermark5"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669045898,"creation_date":1669045898,"answer_id":74521549,"question_id":74512090,"body_markdown":"You should not add `@Serializable` to the interface, see the [documentation][1] regarding polymorphic seriliazation. Instead you must annotate the implementations and possibly register the corresponding serializers.\r\n\r\n  [1]: https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/polymorphism.md#serializing-interfaces","title":"Error: Class is not registered for polymorphic serialization in the scope of its interface","body":"<p>You should not add <code>@Serializable</code> to the interface, see the <a href=\"https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/polymorphism.md#serializing-interfaces\" rel=\"nofollow noreferrer\">documentation</a> regarding polymorphic seriliazation. Instead you must annotate the implementations and possibly register the corresponding serializers.</p>\n"}],"owner":{"account_id":25075804,"reputation":23,"user_id":18929240,"display_name":"rjunovskii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74521549,"answer_count":1,"score":0,"last_activity_date":1669045898,"creation_date":1668979149,"question_id":74512090,"body_markdown":"I need set serializable interface for using any data class in methods, example data:\r\n\r\n    @Serializable\r\n    interface Todo{}\r\n\r\n    @Serializable\r\n    data class userDataForRegistration(val name: String, val number: String, val password: String): Todo\r\n\r\n    @Serializable\r\n    data class userDataForLogin(val number: String, val password: String): Todo\r\n\r\n    @Serializable\r\n    data class contactForRemove(val id: String, val number: String): Todo\r\n\r\n    @Serializable\r\n    data class userData(val number: String)\r\n\r\n    @Serializable\r\n    data class message(val message: String)\r\n\r\nexample method, where body - some of the above data classes :\r\n\r\n    class Connection {\r\n       val client = OkHttpClient()\r\n       // params: login, registration, contact\r\n       fun sendData(url: String, param: String, body: Todo){\r\n           var json = Json.encodeToString(body)\r\n           var reqBody = RequestBody.create(&quot;application/json; charset=utf-8&quot;.toMediaTypeOrNull(), json)\r\n\r\n           val request = Request.Builder()\r\n               .url(url)\r\n               .post(reqBody)\r\n               .build()\r\n\r\n           client.newCall(request).enqueue(object : Callback {\r\n               override fun onFailure(call: Call, e: IOException) {\r\n                   println(&quot;error&quot; + e)\r\n               }\r\n               override fun onResponse(call: Call, response: Response){\r\n                   var res = response.body?.string()\r\n                   when(param){\r\n                       &quot;login&quot;, &quot;registration&quot; -&gt; {\r\n                           try{\r\n                               val objUser = Json.decodeFromString&lt;User&gt;(res.toString())\r\n                               returnUser(objUser)\r\n                        }\r\n                           catch(e: Exception){\r\n                               val mes = Json.decodeFromString&lt;message&gt;(res.toString())\r\n                               returnMessage(mes)\r\n                           }\r\n                       }   \r\n                       &quot;contact&quot; -&gt;{\r\n                           val mes = Json.decodeFromString&lt;message&gt;(res.toString())\r\n                           returnMessage(mes)\r\n                       }\r\n                   }\r\n               }\r\n           })\r\n       }\r\nbut if i calling method:\r\n\r\n    val userDataForLogin = userDataForLogin(etv_name.text.toString(), etv_pass.text.toString())\r\n    val response = connection.sendData(&quot;${ip_static.ip}/user/login&quot;, &quot;login&quot;, userDataForLogin)\r\ni get error:\r\n\r\n    @Serializable annotation is ignored because it is impossible to serialize automatically interfaces or enums. Provide serializer manually via e.g. companion object\r\n\r\nI need use only TODO interface to use any data class in methods, object and abstract class will doesnt working, because it use data class\r\n\r\nAlso my plugins in build.gradle:\r\n\r\n    plugins {\r\n    id &#39;com.android.application&#39; version &#39;7.2.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.2&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.6.10&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.plugin.serialization&#39; version &#39;1.6.21&#39;\r\n}\r\n\r\nI read, that kotlin.plugin.serialization 1.6.2+ working with serialization interface, but idk whats wrong with me...\r\nThank you in advance!)\r\n\r\n","title":"Error: Class is not registered for polymorphic serialization in the scope of its interface","body":"<p>I need set serializable interface for using any data class in methods, example data:</p>\n<pre><code>@Serializable\ninterface Todo{}\n\n@Serializable\ndata class userDataForRegistration(val name: String, val number: String, val password: String): Todo\n\n@Serializable\ndata class userDataForLogin(val number: String, val password: String): Todo\n\n@Serializable\ndata class contactForRemove(val id: String, val number: String): Todo\n\n@Serializable\ndata class userData(val number: String)\n\n@Serializable\ndata class message(val message: String)\n</code></pre>\n<p>example method, where body - some of the above data classes :</p>\n<pre><code>class Connection {\n   val client = OkHttpClient()\n   // params: login, registration, contact\n   fun sendData(url: String, param: String, body: Todo){\n       var json = Json.encodeToString(body)\n       var reqBody = RequestBody.create(&quot;application/json; charset=utf-8&quot;.toMediaTypeOrNull(), json)\n\n       val request = Request.Builder()\n           .url(url)\n           .post(reqBody)\n           .build()\n\n       client.newCall(request).enqueue(object : Callback {\n           override fun onFailure(call: Call, e: IOException) {\n               println(&quot;error&quot; + e)\n           }\n           override fun onResponse(call: Call, response: Response){\n               var res = response.body?.string()\n               when(param){\n                   &quot;login&quot;, &quot;registration&quot; -&gt; {\n                       try{\n                           val objUser = Json.decodeFromString&lt;User&gt;(res.toString())\n                           returnUser(objUser)\n                    }\n                       catch(e: Exception){\n                           val mes = Json.decodeFromString&lt;message&gt;(res.toString())\n                           returnMessage(mes)\n                       }\n                   }   \n                   &quot;contact&quot; -&gt;{\n                       val mes = Json.decodeFromString&lt;message&gt;(res.toString())\n                       returnMessage(mes)\n                   }\n               }\n           }\n       })\n   }\n</code></pre>\n<p>but if i calling method:</p>\n<pre><code>val userDataForLogin = userDataForLogin(etv_name.text.toString(), etv_pass.text.toString())\nval response = connection.sendData(&quot;${ip_static.ip}/user/login&quot;, &quot;login&quot;, userDataForLogin)\n</code></pre>\n<p>i get error:</p>\n<pre><code>@Serializable annotation is ignored because it is impossible to serialize automatically interfaces or enums. Provide serializer manually via e.g. companion object\n</code></pre>\n<p>I need use only TODO interface to use any data class in methods, object and abstract class will doesnt working, because it use data class</p>\n<p>Also my plugins in build.gradle:</p>\n<pre><code>plugins {\nid 'com.android.application' version '7.2.2' apply false\nid 'com.android.library' version '7.2.2' apply false\nid 'org.jetbrains.kotlin.android' version '1.6.10' apply false\nid 'org.jetbrains.kotlin.plugin.serialization' version '1.6.21'\n</code></pre>\n<p>}</p>\n<p>I read, that kotlin.plugin.serialization 1.6.2+ working with serialization interface, but idk whats wrong with me...\nThank you in advance!)</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669043061,"post_id":74497722,"comment_id":131547086,"body_markdown":"If you are “looking for a specific entry in the map”, you should just use `get` instead of a linear search through the entire map, e.g. `String[] result = map.get(&quot;colors&quot;).split(&quot;, &quot;);` If inconsistent use of uppercase and lowercase really is a requirement for your software, you can simply use a `TreeMap` instead of a `HashMap`. Then, `get(&quot;Colors&quot;)` will also work.","body":"If you are “looking for a specific entry in the map”, you should just use <code>get</code> instead of a linear search through the entire map, e.g. <code>String[] result = map.get(&quot;colors&quot;).split(&quot;, &quot;);</code> If inconsistent use of uppercase and lowercase really is a requirement for your software, you can simply use a <code>TreeMap</code> instead of a <code>HashMap</code>. Then, <code>get(&quot;Colors&quot;)</code> will also work."}],"answers":[{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668836517,"creation_date":1668835454,"answer_id":74497755,"question_id":74497722,"body_markdown":"Try this.\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\r\n    map.put(&quot;colors&quot;, &quot;Red, Green, Blue, Purple&quot;);\r\n    map.put(&quot;numbers&quot;, &quot;One, Two, Three&quot;);\r\n    map.put(&quot;COLORS&quot;, &quot;Yellow, Magenta, Cyan&quot;);\r\n\r\n    String[] result = map.entrySet().stream()\r\n        .filter(entry -&gt; entry.getKey().equalsIgnoreCase(&quot;Colors&quot;))\r\n        .map(entry -&gt; entry.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;))\r\n        .flatMap(Stream::of)\r\n        .toArray(String[]::new);\r\n\r\n    System.out.println(Arrays.toString(result));\r\n\r\noutput:\r\n\r\n    [Yellow, Magenta, Cyan, Red, Green, Blue, Purple]\r\n\r\nif you only want the first match\r\n\r\n    String[] result = map.entrySet().stream()\r\n        .filter(entry -&gt; entry.getKey().equalsIgnoreCase(&quot;Colors&quot;))\r\n        .map(entry -&gt; entry.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;))\r\n        .findFirst().orElse(new String[0]);\r\n\r\n    System.out.println(Arrays.toString(result));\r\n\r\noutput:\r\n\r\n    [Yellow, Magenta, Cyan]\r\n","title":"How to get a string array out of a string stream which gets generated as an intermediary result?","body":"<p>Try this.</p>\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\nmap.put(&quot;colors&quot;, &quot;Red, Green, Blue, Purple&quot;);\nmap.put(&quot;numbers&quot;, &quot;One, Two, Three&quot;);\nmap.put(&quot;COLORS&quot;, &quot;Yellow, Magenta, Cyan&quot;);\n\nString[] result = map.entrySet().stream()\n    .filter(entry -&gt; entry.getKey().equalsIgnoreCase(&quot;Colors&quot;))\n    .map(entry -&gt; entry.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;))\n    .flatMap(Stream::of)\n    .toArray(String[]::new);\n\nSystem.out.println(Arrays.toString(result));\n</code></pre>\n<p>output:</p>\n<pre><code>[Yellow, Magenta, Cyan, Red, Green, Blue, Purple]\n</code></pre>\n<p>if you only want the first match</p>\n<pre><code>String[] result = map.entrySet().stream()\n    .filter(entry -&gt; entry.getKey().equalsIgnoreCase(&quot;Colors&quot;))\n    .map(entry -&gt; entry.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;))\n    .findFirst().orElse(new String[0]);\n\nSystem.out.println(Arrays.toString(result));\n</code></pre>\n<p>output:</p>\n<pre><code>[Yellow, Magenta, Cyan]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669045892,"creation_date":1668860944,"answer_id":74499988,"question_id":74497722,"body_markdown":"# Java 8 - [`Pattern.splitAsStream()`][splitAsStream]\r\n\r\nYou can split a `String` on *non-alphabetic* characters by using regular expression `&quot;^\\\\p{Alpha}+&quot;` (*captures one or more non-alphabetic character*) and Java 8 method `Pattern.splitAsStream()`. Which generates a Stream of elements identical to the ones produced by `String.split()`. The difference is that `Pattern.splitAsStream()` creates a stream directly from the regex engine **without** allocating an intermediate array in memory (which is an advantage).\r\n\r\n*There&#39;s one **edge-case**:* the very first element would be an empty string. It could happen, for instance, when there&#39;s a leading white space at the beginning of the string. Since we don&#39;t need it appear in the result, we can discard it using [`dropWhile()`][dropWhile].\r\n\r\n***Note** that the same issue would arise with* `String.split()` *used in another answer, where it&#39;s not handled.*\r\n\r\nThen to apply the same transformation as in the previous example with one small addition: we need to address the edge-case when the givens string starts with a white-space. In such case, the very first element would be an empty string, and we can use to discard such string.\r\n\r\nTo avoid recompiling the regex pattern multiple times, it makes sense to store in the static final variable.\r\n\r\n    public static final Pattern NON_ALPHA = Pattern.compile(&quot;[^\\\\p{Alpha}]+&quot;);\r\n\r\n```\r\nMap&lt;String, String&gt; colorsByKey = // initializing the map\r\n    \r\nString[] result = colorsByKey.entrySet().stream()\r\n    .filter(e -&gt; e.getKey().equalsIgnoreCase(&quot;colors&quot;))\r\n    .flatMap(e -&gt; NON_ALPHA.splitAsStream(e.getValue()).dropWhile(String::isEmpty))\r\n    .toArray(String[]::new);\r\n```\r\n\r\n&lt;h3&gt;Note:&lt;/h3&gt;\r\n\r\nIn case if colors can contain white-spaces somewhere in the middle, i.e. there could be strings like `&quot;Red, Dark Blue&quot;`, which should result in colors `&quot;Red` and `&quot;DarkBlue&quot;`, you can change the pattern to `&quot;\\\\s*,\\\\s*&quot;` (*coma surrounded by optional white spaces*). And `map()` operation should be added to the pipeline to remove the white spaces from the middle of each string before collecting into the array:\r\n\r\n```\r\n.map(s -&gt; s.replaceAll(&quot;\\\\s*&quot;, &quot;&quot;))\r\n``` \r\n\r\n# Java 9 - [`Matcher.results()`][results]\r\n\r\nAnother option is to capture sequences of *alphabetic characters* with a regular expression `&quot;\\\\p{Alpha}+&quot;` and using Java 9 method `Matcher.results()` generate a `Stream` of `MatchResult`s, which is an object containing information about the matching group of characters.\r\n\r\nTo extract the matching substring from a `MatchResult` we can use method [`MatchResult.group()`][group].\r\n\r\n    public static final Pattern ALPHA = Pattern.compile(&quot;\\\\p{Alpha}+&quot;);\r\n\r\n```\r\nMap&lt;String, String&gt; colorsByKey = // initializing the map\r\n    \r\nString[] result = colorsByKey.entrySet().stream()\r\n    .filter(e -&gt; e.getKey().equalsIgnoreCase(&quot;colors&quot;))\r\n    .flatMap(e -&gt; ALPHA.matcher(e.getValue()).results())\r\n    .map(MatchResult::group)\r\n    .toArray(String[]::new);\r\n```\r\n\r\n&lt;h3&gt;Note:&lt;/h3&gt;\r\n\r\nAs it has been said in the note to previous solution, in case if strings like `&quot;Red, Dark Blue&quot;` are valid, the pattern needs to be changed, a possible option would be `&quot;[\\\\p{Alpha}\\\\p{Space}]+&quot;` (*white spaces and alphabetic character*). And similarly, `map()` operation should be added to the pipeline:\r\n\r\n```\r\n.map(s -&gt; s.replaceAll(&quot;\\\\s*&quot;, &quot;&quot;))\r\n``` \r\n\r\n\r\n\r\n   [results]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\r\n\r\n   [splitAsStream]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)\r\n\r\n   [dropWhile]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#dropWhile(java.util.function.Predicate)\r\n\r\n   [group]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html#group()","title":"How to get a string array out of a string stream which gets generated as an intermediary result?","body":"<h1>Java 8 - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>Pattern.splitAsStream()</code></a></h1>\n<p>You can split a <code>String</code> on <em>non-alphabetic</em> characters by using regular expression <code>&quot;^\\\\p{Alpha}+&quot;</code> (<em>captures one or more non-alphabetic character</em>) and Java 8 method <code>Pattern.splitAsStream()</code>. Which generates a Stream of elements identical to the ones produced by <code>String.split()</code>. The difference is that <code>Pattern.splitAsStream()</code> creates a stream directly from the regex engine <strong>without</strong> allocating an intermediate array in memory (which is an advantage).</p>\n<p><em>There's one <strong>edge-case</strong>:</em> the very first element would be an empty string. It could happen, for instance, when there's a leading white space at the beginning of the string. Since we don't need it appear in the result, we can discard it using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#dropWhile(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>dropWhile()</code></a>.</p>\n<p><em><strong>Note</strong> that the same issue would arise with</em> <code>String.split()</code> <em>used in another answer, where it's not handled.</em></p>\n<p>Then to apply the same transformation as in the previous example with one small addition: we need to address the edge-case when the givens string starts with a white-space. In such case, the very first element would be an empty string, and we can use to discard such string.</p>\n<p>To avoid recompiling the regex pattern multiple times, it makes sense to store in the static final variable.</p>\n<pre><code>public static final Pattern NON_ALPHA = Pattern.compile(&quot;[^\\\\p{Alpha}]+&quot;);\n</code></pre>\n<pre><code>Map&lt;String, String&gt; colorsByKey = // initializing the map\n    \nString[] result = colorsByKey.entrySet().stream()\n    .filter(e -&gt; e.getKey().equalsIgnoreCase(&quot;colors&quot;))\n    .flatMap(e -&gt; NON_ALPHA.splitAsStream(e.getValue()).dropWhile(String::isEmpty))\n    .toArray(String[]::new);\n</code></pre>\n<h3>Note:</h3>\n<p>In case if colors can contain white-spaces somewhere in the middle, i.e. there could be strings like <code>&quot;Red, Dark Blue&quot;</code>, which should result in colors <code>&quot;Red</code> and <code>&quot;DarkBlue&quot;</code>, you can change the pattern to <code>&quot;\\\\s*,\\\\s*&quot;</code> (<em>coma surrounded by optional white spaces</em>). And <code>map()</code> operation should be added to the pipeline to remove the white spaces from the middle of each string before collecting into the array:</p>\n<pre><code>.map(s -&gt; s.replaceAll(&quot;\\\\s*&quot;, &quot;&quot;))\n</code></pre>\n<h1>Java 9 - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\" rel=\"nofollow noreferrer\"><code>Matcher.results()</code></a></h1>\n<p>Another option is to capture sequences of <em>alphabetic characters</em> with a regular expression <code>&quot;\\\\p{Alpha}+&quot;</code> and using Java 9 method <code>Matcher.results()</code> generate a <code>Stream</code> of <code>MatchResult</code>s, which is an object containing information about the matching group of characters.</p>\n<p>To extract the matching substring from a <code>MatchResult</code> we can use method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html#group()\" rel=\"nofollow noreferrer\"><code>MatchResult.group()</code></a>.</p>\n<pre><code>public static final Pattern ALPHA = Pattern.compile(&quot;\\\\p{Alpha}+&quot;);\n</code></pre>\n<pre><code>Map&lt;String, String&gt; colorsByKey = // initializing the map\n    \nString[] result = colorsByKey.entrySet().stream()\n    .filter(e -&gt; e.getKey().equalsIgnoreCase(&quot;colors&quot;))\n    .flatMap(e -&gt; ALPHA.matcher(e.getValue()).results())\n    .map(MatchResult::group)\n    .toArray(String[]::new);\n</code></pre>\n<h3>Note:</h3>\n<p>As it has been said in the note to previous solution, in case if strings like <code>&quot;Red, Dark Blue&quot;</code> are valid, the pattern needs to be changed, a possible option would be <code>&quot;[\\\\p{Alpha}\\\\p{Space}]+&quot;</code> (<em>white spaces and alphabetic character</em>). And similarly, <code>map()</code> operation should be added to the pipeline:</p>\n<pre><code>.map(s -&gt; s.replaceAll(&quot;\\\\s*&quot;, &quot;&quot;))\n</code></pre>\n"}],"owner":{"account_id":21687113,"reputation":109,"user_id":16002380,"display_name":"Shri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669045892,"creation_date":1668834888,"question_id":74497722,"body_markdown":"I have this below code:\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Demo {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String,  String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;colors&quot;, &quot;Red, Green, Blue, Purple&quot;);\r\n\r\n        map.entrySet()\r\n           .stream()\r\n           .filter(entrySet -&gt; entrySet.getKey().equalsIgnoreCase(&quot;Colors&quot;))\r\n           .map(entrySet -&gt; entrySet.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;));\r\n    }\r\n}\r\n```\r\nAs you can see I am looking for a specific entry in the map and then extracting the value associated with that entry. The value is a String (i.e. `Red, Green, Blue, Purple`) and I require these comma-delimited colors as a String array. Also, I am removing any white space before splitting this String. Using Streams I was able to get this `Stream&lt;String[]&gt;` from the above code.\r\n\r\nBut ultimately I need a String array that contains these colors so can anyone tell me how I can collect a String array from this `Stream&lt;String[]&gt;`?\r\n\r\nAnd I want to use just streams, no `for` loop or enhanced `for` loop.","title":"How to get a string array out of a string stream which gets generated as an intermediary result?","body":"<p>I have this below code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class Demo {\n\n    public static void main(String[] args) {\n        Map&lt;String,  String&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;colors&quot;, &quot;Red, Green, Blue, Purple&quot;);\n\n        map.entrySet()\n           .stream()\n           .filter(entrySet -&gt; entrySet.getKey().equalsIgnoreCase(&quot;Colors&quot;))\n           .map(entrySet -&gt; entrySet.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;));\n    }\n}\n</code></pre>\n<p>As you can see I am looking for a specific entry in the map and then extracting the value associated with that entry. The value is a String (i.e. <code>Red, Green, Blue, Purple</code>) and I require these comma-delimited colors as a String array. Also, I am removing any white space before splitting this String. Using Streams I was able to get this <code>Stream&lt;String[]&gt;</code> from the above code.</p>\n<p>But ultimately I need a String array that contains these colors so can anyone tell me how I can collect a String array from this <code>Stream&lt;String[]&gt;</code>?</p>\n<p>And I want to use just streams, no <code>for</code> loop or enhanced <code>for</code> loop.</p>\n"},{"tags":["java","jar"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1439765887,"post_id":32040720,"comment_id":51982035,"body_markdown":"Possible duplicate: [What does “Could not find or load main class” mean?](http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean).","body":"Possible duplicate: <a href=\"http://stackoverflow.com/questions/18093928/what-does-could-not-find-or-load-main-class-mean\">What does “Could not find or load main class” mean?</a>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1439765890,"post_id":32040720,"comment_id":51982038,"body_markdown":"Anyway lets start from beginning. Did you check MANIFEST in the JAR file? Which class does it point as main-class? Based on error message it may look like it is `pl.baczkowicz.mqttspy.Main`. Does your Jar contain `pl/baczkowicz/mqttspy/Main.class` structure?","body":"Anyway lets start from beginning. Did you check MANIFEST in the JAR file? Which class does it point as main-class? Based on error message it may look like it is <code>pl.baczkowicz.mqttspy.Main</code>. Does your Jar contain <code>pl&#47;baczkowicz&#47;mqttspy&#47;Main.class</code> structure?"},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1439766058,"post_id":32040720,"comment_id":51982067,"body_markdown":"I&#39;ve downloaded the latest version (0.2.0) and works with no problems in my machine. Using HotSpot 1.8.0_45.","body":"I&#39;ve downloaded the latest version (0.2.0) and works with no problems in my machine. Using HotSpot 1.8.0_45."},{"owner":{"account_id":3008929,"reputation":580,"user_id":2627529,"display_name":"Marcin Gałczyński"},"score":0,"creation_date":1439766361,"post_id":32040720,"comment_id":51982126,"body_markdown":"Luiggi - thanks! At least that gives me some hope :)\nPshemo - In manifest: Main-Class: pl.baczkowicz.mqttspy.Main, after unpacking the jar i get to see the class file is there:\n`nathan@nthlx:~/mqtt-spy$ ls pl/baczkowicz/mqttspy/\n\napplication.css  connectivity  logger      scripts  tasks      utils\ncommon           events        Main.class  stats    testcases  versions\nconfiguration    exceptions    messages    storage  ui         xml`","body":"Luiggi - thanks! At least that gives me some hope :) Pshemo - In manifest: Main-Class: pl.baczkowicz.mqttspy.Main, after unpacking the jar i get to see the class file is there: <code>nathan@nthlx:~&#47;mqtt-spy$ ls pl&#47;baczkowicz&#47;mqttspy&#47;  application.css  connectivity  logger      scripts  tasks      utils common           events        Main.class  stats    testcases  versions configuration    exceptions    messages    storage  ui         xml</code>"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1439766787,"post_id":32040720,"comment_id":51982211,"body_markdown":"After Luiggi&#39;s comment if you wouldn&#39;t have this structure and manifest it would simply mean you didn&#39;t download same file. Actually maybe it is worth checking if your file is not corrupted, so that Main.class couldn&#39;t be loaded properly. Did you try redownloading this jar, or downloading it from different location?","body":"After Luiggi&#39;s comment if you wouldn&#39;t have this structure and manifest it would simply mean you didn&#39;t download same file. Actually maybe it is worth checking if your file is not corrupted, so that Main.class couldn&#39;t be loaded properly. Did you try redownloading this jar, or downloading it from different location?"},{"owner":{"account_id":3008929,"reputation":580,"user_id":2627529,"display_name":"Marcin Gałczyński"},"score":0,"creation_date":1439766935,"post_id":32040720,"comment_id":51982239,"body_markdown":"Thanks for the advice. I downloaded the file using another link (there are 2 distinct on the page) and I get the same result. Also, if my download would be corrupted, I would probably get an error while extracting the contents of JAR file.","body":"Thanks for the advice. I downloaded the file using another link (there are 2 distinct on the page) and I get the same result. Also, if my download would be corrupted, I would probably get an error while extracting the contents of JAR file."},{"owner":{"account_id":3008929,"reputation":580,"user_id":2627529,"display_name":"Marcin Gałczyński"},"score":0,"creation_date":1439767045,"post_id":32040720,"comment_id":51982257,"body_markdown":"For all the friendly people out there - Yes, I have also tried re-booting my computer ;)","body":"For all the friendly people out there - Yes, I have also tried re-booting my computer ;)"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1439767134,"post_id":32040720,"comment_id":51982271,"body_markdown":"Damn it. That was my next question https://www.youtube.com/watch?v=p85xwZ_OLX0. Anyway since I am not working on Ubuntu and don&#39;t have it installed I can&#39;t help you more with testing what went wrong. Sorry. For now try using `java -cp yourJar pl.baczkowicz.mqttspy.Main` and see if it helps.","body":"Damn it. That was my next question <a href=\"https://www.youtube.com/watch?v=p85xwZ_OLX0\" rel=\"nofollow noreferrer\">youtube.com/watch?v=p85xwZ_OLX0</a>. Anyway since I am not working on Ubuntu and don&#39;t have it installed I can&#39;t help you more with testing what went wrong. Sorry. For now try using <code>java -cp yourJar pl.baczkowicz.mqttspy.Main</code> and see if it helps."},{"owner":{"account_id":3008929,"reputation":580,"user_id":2627529,"display_name":"Marcin Gałczyński"},"score":0,"creation_date":1439767463,"post_id":32040720,"comment_id":51982356,"body_markdown":"I have tried this option already. Thanks","body":"I have tried this option already. Thanks"}],"answers":[{"tags":[],"owner":{"account_id":3008929,"reputation":580,"user_id":2627529,"display_name":"Marcin Gałczyński"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1439774064,"creation_date":1439774064,"answer_id":32041511,"question_id":32040720,"body_markdown":"The solution that worked in my case was to use HotSpot Java 8, from Oracle.","title":"How to find root of &quot;Could not find or load main class&quot; error when running JAR","body":"<p>The solution that worked in my case was to use HotSpot Java 8, from Oracle.</p>\n"},{"tags":[],"owner":{"account_id":8648321,"reputation":36,"user_id":6474870,"display_name":"Ines"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1466084850,"creation_date":1466082951,"answer_id":37860415,"question_id":32040720,"body_markdown":"Thank you it was very helpful for me. I had exactly the same problem, and looking [the solution here as well](https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04)\r\n\r\nMy fix was:\r\n\r\n    sudo add-apt-repository ppa:webupd8team/java\r\n    \r\n    sudo apt-get update\r\n\r\nthen, install the JDK Oracle 8\r\n\r\n    sudo apt-get install oracle-java8-installer\r\n\r\nand then, checking java:\r\n\r\n\r\n    sudo update-alternatives --config java\r\n\r\nIt is displayed between other choices:\r\n\r\n\r\n     0            /usr/lib/jvm/java-8-oracle/jre/bin/java          1082 \r\n         auto mode\r\n    ......\r\n\r\nPress &lt;enter&gt; to keep the current choice`[*]`, or type selection number:  \r\n\r\nI keep the 0 current choice `[*]`\r\n\r\nthen, running mqttspy worked just fine :-)\r\n\r\n    java -jar mqtt-spy-0.5.1-jar-with-dependencies.jar\r\n\r\n","title":"How to find root of &quot;Could not find or load main class&quot; error when running JAR","body":"<p>Thank you it was very helpful for me. I had exactly the same problem, and looking <a href=\"https://www.digitalocean.com/community/tutorials/how-to-install-java-with-apt-get-on-ubuntu-16-04\" rel=\"nofollow\">the solution here as well</a></p>\n\n<p>My fix was:</p>\n\n<pre><code>sudo add-apt-repository ppa:webupd8team/java\n\nsudo apt-get update\n</code></pre>\n\n<p>then, install the JDK Oracle 8</p>\n\n<pre><code>sudo apt-get install oracle-java8-installer\n</code></pre>\n\n<p>and then, checking java:</p>\n\n<pre><code>sudo update-alternatives --config java\n</code></pre>\n\n<p>It is displayed between other choices:</p>\n\n<pre><code> 0            /usr/lib/jvm/java-8-oracle/jre/bin/java          1082 \n     auto mode\n......\n</code></pre>\n\n<p>Press  to keep the current choice<code>[*]</code>, or type selection number:  </p>\n\n<p>I keep the 0 current choice <code>[*]</code></p>\n\n<p>then, running mqttspy worked just fine :-)</p>\n\n<pre><code>java -jar mqtt-spy-0.5.1-jar-with-dependencies.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1648244,"reputation":83,"user_id":1519329,"display_name":"MoreIT"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1538564008,"creation_date":1485858673,"answer_id":41955262,"question_id":32040720,"body_markdown":"Additionally install Java FX, since this is required and worked for me (Ubuntu 16: package openfx):\r\n\r\n    apt install openjfx\r\n\r\nSee also this issue:\r\nhttps://github.com/kamilfb/mqtt-spy/issues/88\r\n\r\nI currently successfully run it on openjdk version &quot;1.8.0_121&quot; here.","title":"How to find root of &quot;Could not find or load main class&quot; error when running JAR","body":"<p>Additionally install Java FX, since this is required and worked for me (Ubuntu 16: package openfx):</p>\n\n<pre><code>apt install openjfx\n</code></pre>\n\n<p>See also this issue:\n<a href=\"https://github.com/kamilfb/mqtt-spy/issues/88\" rel=\"nofollow noreferrer\">https://github.com/kamilfb/mqtt-spy/issues/88</a></p>\n\n<p>I currently successfully run it on openjdk version \"1.8.0_121\" here.</p>\n"},{"tags":[],"owner":{"account_id":12576631,"reputation":11,"user_id":9148833,"display_name":"Chandan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669045596,"creation_date":1669045596,"answer_id":74521490,"question_id":32040720,"body_markdown":"Just in case you have multiple java versions, you can run the jar file by giving the java file path as well.\r\n\r\n    brew install --cask liberica-jdk@17-full\r\n    brew install --cask liberica-jdk17-full\r\n    /Library/Java/JavaVirtualMachines/liberica-jdk-17-full.jdk/Contents/Home/bin/java -jar mqtt-spy-1.0.1-beta-b18-jar-with-dependencies.jar\r\n\r\n","title":"How to find root of &quot;Could not find or load main class&quot; error when running JAR","body":"<p>Just in case you have multiple java versions, you can run the jar file by giving the java file path as well.</p>\n<pre><code>brew install --cask liberica-jdk@17-full\nbrew install --cask liberica-jdk17-full\n/Library/Java/JavaVirtualMachines/liberica-jdk-17-full.jdk/Contents/Home/bin/java -jar mqtt-spy-1.0.1-beta-b18-jar-with-dependencies.jar\n</code></pre>\n"}],"owner":{"account_id":3008929,"reputation":580,"user_id":2627529,"display_name":"Marcin Gałczyński"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3967,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":37860415,"answer_count":4,"score":2,"last_activity_date":1669045596,"creation_date":1439765635,"question_id":32040720,"body_markdown":"I have seen this question asked so many times, but there was no precise answer to my problem. My story is simple - I downloaded a legitimate JAR file, for a functioning and advertised application, from here: https://github.com/kamilfb/mqtt-spy/wiki/Downloads.\r\n\r\nThe application brings the obvious instruction to start it as &lt;code&gt;java -jar mqtt-spy-0.2.0-jar-with-dependencies.jar&lt;/code&gt; but that results in the well known error, being in my case &lt;code&gt;Error: Could not find or load main class pl.baczkowicz.mqttspy.Main&lt;/code&gt;\r\n\r\nMy system is Ubuntu 15.04, Java version is\r\n&lt;code&gt;openjdk version &quot;1.8.0_45-internal&quot;\r\nOpenJDK Runtime Environment (build 1.8.0_45-internal-b14)\r\nOpenJDK 64-Bit Server VM (build 25.45-b02, mixed mode)&lt;/code&gt;\r\n\r\nI don&#39;t have another computer to test it elsewhere. I did some checks and the JAR file looks pretty much normal. I even tried de-compressing it and running the class directly, it won&#39;t budge, same error message. I tried some online .class analysis tools, nothing caught my attention. Also I reviewed about a dozen of pages referring to &quot;Could not find or load&quot; problem. No luck so far.\r\n\r\nNot sure if anyone bothers, but I did my Java Programmers certification with Sun yet in 2005... and I feel frustrated now. While I hope there is an easy solution for my problem, e.g. some nice Ubuntu issue ;-), I am ready to dig deeper, and looking for any hints that would guide me to finding the root cause of  this issue.\r\n","title":"How to find root of &quot;Could not find or load main class&quot; error when running JAR","body":"<p>I have seen this question asked so many times, but there was no precise answer to my problem. My story is simple - I downloaded a legitimate JAR file, for a functioning and advertised application, from here: <a href=\"https://github.com/kamilfb/mqtt-spy/wiki/Downloads\" rel=\"nofollow\">https://github.com/kamilfb/mqtt-spy/wiki/Downloads</a>.</p>\n\n<p>The application brings the obvious instruction to start it as <code>java -jar mqtt-spy-0.2.0-jar-with-dependencies.jar</code> but that results in the well known error, being in my case <code>Error: Could not find or load main class pl.baczkowicz.mqttspy.Main</code></p>\n\n<p>My system is Ubuntu 15.04, Java version is\n<code>openjdk version \"1.8.0_45-internal\"\nOpenJDK Runtime Environment (build 1.8.0_45-internal-b14)\nOpenJDK 64-Bit Server VM (build 25.45-b02, mixed mode)</code></p>\n\n<p>I don't have another computer to test it elsewhere. I did some checks and the JAR file looks pretty much normal. I even tried de-compressing it and running the class directly, it won't budge, same error message. I tried some online .class analysis tools, nothing caught my attention. Also I reviewed about a dozen of pages referring to \"Could not find or load\" problem. No luck so far.</p>\n\n<p>Not sure if anyone bothers, but I did my Java Programmers certification with Sun yet in 2005... and I feel frustrated now. While I hope there is an easy solution for my problem, e.g. some nice Ubuntu issue ;-), I am ready to dig deeper, and looking for any hints that would guide me to finding the root cause of  this issue.</p>\n"},{"tags":["java","unit-testing","groovy","enums","spock"],"comments":[{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1669041563,"post_id":74518038,"comment_id":131546487,"body_markdown":"&quot; want to assert each employeeType name() and employeeTypeId here&quot; - What assertion would you like to make about each of them?","body":"&quot; want to assert each employeeType name() and employeeTypeId here&quot; - What assertion would you like to make about each of them?"},{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1669042802,"post_id":74518038,"comment_id":131546989,"body_markdown":"employeeType.name() == &#39;PERMANENT&#39; employeeType.employeeTypeId == &#39;10&#39; like this I want to assert the every employeeType","body":"employeeType.name() == &#39;PERMANENT&#39; employeeType.employeeTypeId == &#39;10&#39; like this I want to assert the every employeeType"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1669042921,"post_id":74518038,"comment_id":131547034,"body_markdown":"Why is it that you want to test `name()`?","body":"Why is it that you want to test <code>name()</code>?"},{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1669043051,"post_id":74518038,"comment_id":131547081,"body_markdown":"not specifically name(). want to assert every property of the each enum","body":"not specifically name(). want to assert every property of the each enum"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":0,"creation_date":1669043150,"post_id":74518038,"comment_id":131547125,"body_markdown":"I wouldn&#39;t use `.value()` in the `where` block to test the sort of thing you are talking about testing.  I would probably write the test like `EmployeeType.PERMANENT. employeeTypeId == &#39;10&#39;` etc.","body":"I wouldn&#39;t use <code>.value()</code> in the <code>where</code> block to test the sort of thing you are talking about testing.  I would probably write the test like <code>EmployeeType.PERMANENT. employeeTypeId == &#39;10&#39;</code> etc."},{"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"score":0,"creation_date":1669043467,"post_id":74518038,"comment_id":131547243,"body_markdown":"got your point. instead of doing this EmployeeType.PERMANENT. employeeTypeId == &#39;10&#39;, I am trying to find the solution with where block to test the each enum values","body":"got your point. instead of doing this EmployeeType.PERMANENT. employeeTypeId == &#39;10&#39;, I am trying to find the solution with where block to test the each enum values"},{"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"score":1,"creation_date":1669043784,"post_id":74518038,"comment_id":131547370,"body_markdown":"&quot;I am trying to find the solution with where block to test the each enum values&quot; - I understand.  The reason I didn&#39;t post my comment as an answer is it doesn&#39;t tell you how to do that.  I am saying that doing that probably isn&#39;t a good idea.","body":"&quot;I am trying to find the solution with where block to test the each enum values&quot; - I understand.  The reason I didn&#39;t post my comment as an answer is it doesn&#39;t tell you how to do that.  I am saying that doing that probably isn&#39;t a good idea."}],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669045427,"creation_date":1669045427,"answer_id":74521450,"question_id":74518038,"body_markdown":"Something like this will probably end up making more sense than `employeeType &lt;&lt; EmployeeType.values()`:\r\n\r\n\r\n    def &quot;Test enum values&quot;() {\r\n        expect:\r\n        value.employeeTypeId == typeId\r\n\r\n        where:\r\n        // could have more columns here if the enum\r\n        // had more properties...\r\n        value                  | typeId\r\n        EmployeeType.PERMANENT | &#39;10&#39;\r\n        EmployeeType.TEMPORARY | &#39;20&#39;\r\n        EmployeeType.PART_TIME | &#39;30&#39;\r\n    }","title":"How to add unit test for enum in spock?","body":"<p>Something like this will probably end up making more sense than <code>employeeType &lt;&lt; EmployeeType.values()</code>:</p>\n<pre><code>def &quot;Test enum values&quot;() {\n    expect:\n    value.employeeTypeId == typeId\n\n    where:\n    // could have more columns here if the enum\n    // had more properties...\n    value                  | typeId\n    EmployeeType.PERMANENT | '10'\n    EmployeeType.TEMPORARY | '20'\n    EmployeeType.PART_TIME | '30'\n}\n</code></pre>\n"}],"owner":{"account_id":6364484,"reputation":534,"user_id":4938849,"display_name":"Remo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":207,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74521450,"answer_count":1,"score":0,"last_activity_date":1669045427,"creation_date":1669029234,"question_id":74518038,"body_markdown":"I am having below enum class\r\n\r\n```\r\npublic enum EmployeeType {\r\n\r\n    PERMANENT(&quot;10&quot;),\r\n    TEMPORARY(&quot;20&quot;),\r\n    PART_TIME(&quot;30&quot;);\r\n\r\n    private final String employeeTypeId;\r\n\r\n    EmployeeType(final String employeeTypeId) {\r\n        this.employeeTypeId = employeeTypeId;\r\n    }\r\n\r\n    public String getEmployeeTypeId() {\r\n        return employeeTypeId;\r\n    }\r\n}\r\n```\r\n\r\nTrying with below spec \r\n\r\n```\r\nclass EmployeeTypeSpec extends Specification {\r\n    \r\n    @Unroll\r\n    def &quot;validate emp type&quot;(EmployeeType employeeType) {\r\n        expect:\r\n        // want to assert each employeeType name() and employeeTypeId here\r\n        employeeType.name()\r\n        employeeType.employeeTypeId\r\n\r\n        where:\r\n        employeeType &lt;&lt; EmployeeType.values()\r\n    }\r\n}\r\n```\r\n\r\nHere, I am passing each enum values using values() method. but not sure how to assert the name and employeeTypeId for each enums?","title":"How to add unit test for enum in spock?","body":"<p>I am having below enum class</p>\n<pre><code>public enum EmployeeType {\n\n    PERMANENT(&quot;10&quot;),\n    TEMPORARY(&quot;20&quot;),\n    PART_TIME(&quot;30&quot;);\n\n    private final String employeeTypeId;\n\n    EmployeeType(final String employeeTypeId) {\n        this.employeeTypeId = employeeTypeId;\n    }\n\n    public String getEmployeeTypeId() {\n        return employeeTypeId;\n    }\n}\n</code></pre>\n<p>Trying with below spec</p>\n<pre><code>class EmployeeTypeSpec extends Specification {\n    \n    @Unroll\n    def &quot;validate emp type&quot;(EmployeeType employeeType) {\n        expect:\n        // want to assert each employeeType name() and employeeTypeId here\n        employeeType.name()\n        employeeType.employeeTypeId\n\n        where:\n        employeeType &lt;&lt; EmployeeType.values()\n    }\n}\n</code></pre>\n<p>Here, I am passing each enum values using values() method. but not sure how to assert the name and employeeTypeId for each enums?</p>\n"},{"tags":["java","vaadin"],"answers":[{"tags":[],"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1668886734,"creation_date":1668886734,"answer_id":74503091,"question_id":74501655,"body_markdown":"You may have to continue the same way.  This means, you would have to\r\nswitch to the `dark` variant too in your theme.\r\n\r\nE.g. add `@Theme(value = &#39;app-theme&#39;, variant = &quot;dark&quot;)` and then add in\r\nyour `frontend/themes/app-theme/styles.css` something like:\r\n\r\n```css\r\n[theme~=&quot;dark&quot;] {\r\n    --lumo-base-color: hsl(0, 0%, 0%);\r\n    --lumo-primary-color: hsl(122, 96%, 47%);\r\n    --lumo-primary-color-50pct: hsl(122, 96%, 47%, 0.5);\r\n    --lumo-primary-color-10pct: hsl(122, 96%, 47%, 0.1);\r\n}\r\n```\r\n\r\nThen continue to do so for the components (add `[theme~=&quot;dark&quot;]`); you\r\nmight want to have a peek at the browser dev-console to make sure, you\r\nare getting the overrides right.\r\n\r\nYou could start from the dark theme `--lumo...` vars in your own theme\r\nand hope, that the calculations work down all the way; but there are\r\noptimizations for `dark` all over the place, and IMHO you are better off\r\ndoing it this way.\r\n","title":"How to set lumo dark theme as base theme and then override using custom theme","body":"<p>You may have to continue the same way.  This means, you would have to\nswitch to the <code>dark</code> variant too in your theme.</p>\n<p>E.g. add <code>@Theme(value = 'app-theme', variant = &quot;dark&quot;)</code> and then add in\nyour <code>frontend/themes/app-theme/styles.css</code> something like:</p>\n<pre class=\"lang-css prettyprint-override\"><code>[theme~=&quot;dark&quot;] {\n    --lumo-base-color: hsl(0, 0%, 0%);\n    --lumo-primary-color: hsl(122, 96%, 47%);\n    --lumo-primary-color-50pct: hsl(122, 96%, 47%, 0.5);\n    --lumo-primary-color-10pct: hsl(122, 96%, 47%, 0.1);\n}\n</code></pre>\n<p>Then continue to do so for the components (add <code>[theme~=&quot;dark&quot;]</code>); you\nmight want to have a peek at the browser dev-console to make sure, you\nare getting the overrides right.</p>\n<p>You could start from the dark theme <code>--lumo...</code> vars in your own theme\nand hope, that the calculations work down all the way; but there are\noptimizations for <code>dark</code> all over the place, and IMHO you are better off\ndoing it this way.</p>\n"}],"owner":{"account_id":11926310,"reputation":627,"user_id":8727518,"display_name":"Michael Kročka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74503091,"answer_count":1,"score":0,"last_activity_date":1669045383,"creation_date":1668874691,"question_id":74501655,"body_markdown":"I want to have lumo dark theme as default theme and then in some aspect modify components using my custom theme. I have the theme set using `@Theme(&quot;myTheme&quot;)` and I think it should be possible to set parent theme using `theme.json` and setting the parent parameter but I cannot find out if this is correct or how to do this properly.\r\n\r\nEDIT: I followed the advice from the accepted answer and here is the resulting &quot;dark&quot; theme containing the exact same values for lumo-dark:\r\n\r\n    html {\r\n        /* Base (background) */\r\n        --lumo-base-color: hsl(214, 35%, 21%);\r\n    \r\n        /* Tint */\r\n        --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);\r\n        --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);\r\n        --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);\r\n        --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);\r\n        --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);\r\n        --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);\r\n        --lumo-tint-60pct: hsla(214, 82%, 90%, 0.58);\r\n        --lumo-tint-70pct: hsla(214, 87%, 92%, 0.69);\r\n        --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);\r\n        --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);\r\n        --lumo-tint: hsl(214, 100%, 98%);\r\n    \r\n        /* Shade */\r\n        --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);\r\n        --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);\r\n        --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);\r\n        --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);\r\n        --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);\r\n        --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);\r\n        --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);\r\n        --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);\r\n        --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);\r\n        --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);\r\n        --lumo-shade: hsl(214, 33%, 13%);\r\n    \r\n        /* Contrast */\r\n        --lumo-contrast-5pct: var(--lumo-tint-5pct);\r\n        --lumo-contrast-10pct: var(--lumo-tint-10pct);\r\n        --lumo-contrast-20pct: var(--lumo-tint-20pct);\r\n        --lumo-contrast-30pct: var(--lumo-tint-30pct);\r\n        --lumo-contrast-40pct: var(--lumo-tint-40pct);\r\n        --lumo-contrast-50pct: var(--lumo-tint-50pct);\r\n        --lumo-contrast-60pct: var(--lumo-tint-60pct);\r\n        --lumo-contrast-70pct: var(--lumo-tint-70pct);\r\n        --lumo-contrast-80pct: var(--lumo-tint-80pct);\r\n        --lumo-contrast-90pct: var(--lumo-tint-90pct);\r\n        --lumo-contrast: var(--lumo-tint);\r\n    \r\n        /* Text */\r\n        --lumo-header-text-color: var(--lumo-contrast);\r\n        --lumo-body-text-color: var(--lumo-contrast-90pct);\r\n        --lumo-secondary-text-color: var(--lumo-contrast-70pct);\r\n        --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\r\n        --lumo-disabled-text-color: var(--lumo-contrast-30pct);\r\n    \r\n        /* Primary */\r\n        --lumo-primary-color: hsl(214, 90%, 48%);\r\n        --lumo-primary-color-50pct: hsla(214, 90%, 70%, 0.69);\r\n        --lumo-primary-color-10pct: hsla(214, 90%, 55%, 0.13);\r\n        --lumo-primary-text-color: hsl(214, 90%, 77%);\r\n        --lumo-primary-contrast-color: #fff;\r\n    \r\n        /* Error */\r\n        --lumo-error-color: hsl(3, 79%, 49%);\r\n        --lumo-error-color-50pct: hsla(3, 75%, 62%, 0.5);\r\n        --lumo-error-color-10pct: hsla(3, 75%, 62%, 0.14);\r\n        --lumo-error-text-color: hsl(3, 100%, 80%);\r\n    \r\n        /* Success */\r\n        --lumo-success-color: hsl(145, 72%, 30%);\r\n        --lumo-success-color-50pct: hsla(145, 92%, 51%, 0.5);\r\n        --lumo-success-color-10pct: hsla(145, 92%, 51%, 0.1);\r\n        --lumo-success-text-color: hsl(145, 85%, 46%);\r\n    }","title":"How to set lumo dark theme as base theme and then override using custom theme","body":"<p>I want to have lumo dark theme as default theme and then in some aspect modify components using my custom theme. I have the theme set using <code>@Theme(&quot;myTheme&quot;)</code> and I think it should be possible to set parent theme using <code>theme.json</code> and setting the parent parameter but I cannot find out if this is correct or how to do this properly.</p>\n<p>EDIT: I followed the advice from the accepted answer and here is the resulting &quot;dark&quot; theme containing the exact same values for lumo-dark:</p>\n<pre><code>html {\n    /* Base (background) */\n    --lumo-base-color: hsl(214, 35%, 21%);\n\n    /* Tint */\n    --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);\n    --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);\n    --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);\n    --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);\n    --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);\n    --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);\n    --lumo-tint-60pct: hsla(214, 82%, 90%, 0.58);\n    --lumo-tint-70pct: hsla(214, 87%, 92%, 0.69);\n    --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);\n    --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);\n    --lumo-tint: hsl(214, 100%, 98%);\n\n    /* Shade */\n    --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);\n    --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);\n    --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);\n    --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);\n    --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);\n    --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);\n    --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);\n    --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);\n    --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);\n    --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);\n    --lumo-shade: hsl(214, 33%, 13%);\n\n    /* Contrast */\n    --lumo-contrast-5pct: var(--lumo-tint-5pct);\n    --lumo-contrast-10pct: var(--lumo-tint-10pct);\n    --lumo-contrast-20pct: var(--lumo-tint-20pct);\n    --lumo-contrast-30pct: var(--lumo-tint-30pct);\n    --lumo-contrast-40pct: var(--lumo-tint-40pct);\n    --lumo-contrast-50pct: var(--lumo-tint-50pct);\n    --lumo-contrast-60pct: var(--lumo-tint-60pct);\n    --lumo-contrast-70pct: var(--lumo-tint-70pct);\n    --lumo-contrast-80pct: var(--lumo-tint-80pct);\n    --lumo-contrast-90pct: var(--lumo-tint-90pct);\n    --lumo-contrast: var(--lumo-tint);\n\n    /* Text */\n    --lumo-header-text-color: var(--lumo-contrast);\n    --lumo-body-text-color: var(--lumo-contrast-90pct);\n    --lumo-secondary-text-color: var(--lumo-contrast-70pct);\n    --lumo-tertiary-text-color: var(--lumo-contrast-50pct);\n    --lumo-disabled-text-color: var(--lumo-contrast-30pct);\n\n    /* Primary */\n    --lumo-primary-color: hsl(214, 90%, 48%);\n    --lumo-primary-color-50pct: hsla(214, 90%, 70%, 0.69);\n    --lumo-primary-color-10pct: hsla(214, 90%, 55%, 0.13);\n    --lumo-primary-text-color: hsl(214, 90%, 77%);\n    --lumo-primary-contrast-color: #fff;\n\n    /* Error */\n    --lumo-error-color: hsl(3, 79%, 49%);\n    --lumo-error-color-50pct: hsla(3, 75%, 62%, 0.5);\n    --lumo-error-color-10pct: hsla(3, 75%, 62%, 0.14);\n    --lumo-error-text-color: hsl(3, 100%, 80%);\n\n    /* Success */\n    --lumo-success-color: hsl(145, 72%, 30%);\n    --lumo-success-color-50pct: hsla(145, 92%, 51%, 0.5);\n    --lumo-success-color-10pct: hsla(145, 92%, 51%, 0.1);\n    --lumo-success-text-color: hsl(145, 85%, 46%);\n}\n</code></pre>\n"},{"tags":["java","c","random"],"comments":[{"owner":{"account_id":14709065,"reputation":9457,"user_id":10622916,"display_name":"Bodo"},"score":0,"creation_date":1669027307,"post_id":74517483,"comment_id":131541371,"body_markdown":"You should [edit] your question and explain your algorithm. Tell us the purpose of the code, not what it does. I think it is way too complicated, and `(x + y ) % 0x100000000` should be sufficient. For the modulo operation you need 1 more than the maximum value of a `uint32_t`: `0x100000000` or `4294967296`. The same for the multiplication: `(x * y) % 0x100000000`, or combined `(next * 1103515245 + 12345) % 0x100000000`.","body":"You should <a href=\"https://stackoverflow.com/posts/74517483/edit\">edit</a> your question and explain your algorithm. Tell us the purpose of the code, not what it does. I think it is way too complicated, and <code>(x + y ) % 0x100000000</code> should be sufficient. For the modulo operation you need 1 more than the maximum value of a <code>uint32_t</code>: <code>0x100000000</code> or <code>4294967296</code>. The same for the multiplication: <code>(x * y) % 0x100000000</code>, or combined <code>(next * 1103515245 + 12345) % 0x100000000</code>."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669029205,"post_id":74517483,"comment_id":131541996,"body_markdown":"Or use bitwise and","body":"Or use bitwise and"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1669045689,"post_id":74517483,"comment_id":131548156,"body_markdown":"Java can simulate an unsigned int by basically covering your eyes and ears and pretending the sign bit is just a normal bit. The mathematics will work out the same and can be displayed using `Integer#toUnsignedString`. Alternatively, you can just use a `long` if you&#39;re okay with a little extra memory cost.","body":"Java can simulate an unsigned int by basically covering your eyes and ears and pretending the sign bit is just a normal bit. The mathematics will work out the same and can be displayed using <code>Integer#toUnsignedString</code>. Alternatively, you can just use a <code>long</code> if you&#39;re okay with a little extra memory cost."}],"answers":[{"tags":[],"owner":{"account_id":1437198,"reputation":15509,"user_id":1358308,"accept_rate":56,"display_name":"Sam Mason"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669045372,"creation_date":1669045372,"answer_id":74521437,"question_id":74517483,"body_markdown":"You don&#39;t actually need to do much.  The way Java represents integers means that those operations will overflow to the same value as in C.  It&#39;s just that the return value would need to be converted to `long` in order not to get negative values out (i.e. due to its use of [two&#39;s complement](https://en.wikipedia.org/wiki/Two%27s_complement) integers).\r\n\r\n```\r\nclass RandC {\r\n    private static int state = 1;\r\n\r\n    public static long next() {\r\n        state = state * 1103515245 + 12345;\r\n        return state &amp; 0xffffffffl;\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n        System.out.println(next());\r\n        System.out.println(next());\r\n        System.out.println(next());\r\n    }\r\n}\r\n```\r\ngives me:\r\n```none\r\n1103527590\r\n2524885223\r\n662824084\r\n```\r\nwhich are the values I&#39;d expect.\r\n","title":"How to port this C &quot;Random generator&quot; code to Java?","body":"<p>You don't actually need to do much.  The way Java represents integers means that those operations will overflow to the same value as in C.  It's just that the return value would need to be converted to <code>long</code> in order not to get negative values out (i.e. due to its use of <a href=\"https://en.wikipedia.org/wiki/Two%27s_complement\" rel=\"nofollow noreferrer\">two's complement</a> integers).</p>\n<pre><code>class RandC {\n    private static int state = 1;\n\n    public static long next() {\n        state = state * 1103515245 + 12345;\n        return state &amp; 0xffffffffl;\n    }\n\n    public static void main(String args[]) {\n        System.out.println(next());\n        System.out.println(next());\n        System.out.println(next());\n    }\n}\n</code></pre>\n<p>gives me:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1103527590\n2524885223\n662824084\n</code></pre>\n<p>which are the values I'd expect.</p>\n"}],"owner":{"account_id":21688526,"reputation":53,"user_id":16075374,"display_name":"Heil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1669045372,"creation_date":1669026619,"question_id":74517483,"body_markdown":"It&#39;s a pretty simple code, but I do not know what to do about the unsigned int, since java does not have unsigned int.  Is there a way to &quot;simulate&quot; an unsigned int in Java?\r\n\r\n```\r\n\tuint32_t myrand() {\r\n\t\tstatic uint32_t next = 1;\r\n\t\tnext = next * 1103515245 + 12345;\r\n\t\treturn next;\r\n\t}\r\n```\r\n\r\nHow can I create a method in java that will return the same values? What to do about the unsigned int?\r\n\r\nI coded a form to handle the summation problem, but the did not come up with a solution to the multiplication part.\r\n\r\nThe limit is the limit of the unsigned int (4294967295).\r\n\r\nMy algorithm basically whenever the summation is equal to 4294967296 it turns into 0 e starts all over again.\r\n\r\n```\r\n\r\n\tpublic long add(long x, long y) {\r\n\r\n\t\tlong result = 0L;\r\n\r\n\t\tif (x + y &lt; this.limit) {\r\n\r\n\t\t\tif ((x + y) % this.limit == 0) {\r\n\t\t\t\tresult = (x + y) / 2;\r\n\t\t\t} else {\r\n\t\t\t\tresult = (x + y) % this.limit;\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif ((x + y) % this.limit == 0) {\r\n\t\t\t\tresult = (x + y) / (Math.max(x, y) / Math.min(x, y)) - 1;\r\n\t\t\t} else {\r\n\t\t\t\tresult = (x + y) % this.limit - 1;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn result;\r\n\t}\r\n```","title":"How to port this C &quot;Random generator&quot; code to Java?","body":"<p>It's a pretty simple code, but I do not know what to do about the unsigned int, since java does not have unsigned int.  Is there a way to &quot;simulate&quot; an unsigned int in Java?</p>\n<pre><code>    uint32_t myrand() {\n        static uint32_t next = 1;\n        next = next * 1103515245 + 12345;\n        return next;\n    }\n</code></pre>\n<p>How can I create a method in java that will return the same values? What to do about the unsigned int?</p>\n<p>I coded a form to handle the summation problem, but the did not come up with a solution to the multiplication part.</p>\n<p>The limit is the limit of the unsigned int (4294967295).</p>\n<p>My algorithm basically whenever the summation is equal to 4294967296 it turns into 0 e starts all over again.</p>\n<pre><code>\n    public long add(long x, long y) {\n\n        long result = 0L;\n\n        if (x + y &lt; this.limit) {\n\n            if ((x + y) % this.limit == 0) {\n                result = (x + y) / 2;\n            } else {\n                result = (x + y) % this.limit;\n            }\n\n        } else {\n\n            if ((x + y) % this.limit == 0) {\n                result = (x + y) / (Math.max(x, y) / Math.min(x, y)) - 1;\n            } else {\n                result = (x + y) % this.limit - 1;\n            }\n\n        }\n\n        return result;\n    }\n</code></pre>\n"},{"tags":["java","null","annotations"],"comments":[{"owner":{"account_id":25113175,"reputation":321,"user_id":18962551,"display_name":"Eskapone"},"score":0,"creation_date":1669042182,"post_id":74520668,"comment_id":131546740,"body_markdown":"Marking a parameter with as not nullable isn&#39;t done for no reason. Another dev deciding to misuse your code should be out of discussion. But someone maybe overlooking it will find a precise error message very helpful.\nIn the end it&#39;s a preference, but I&#39;d go with checking it and throwing an exception with a fitting message so it&#39;s transparent and clear.","body":"Marking a parameter with as not nullable isn&#39;t done for no reason. Another dev deciding to misuse your code should be out of discussion. But someone maybe overlooking it will find a precise error message very helpful. In the end it&#39;s a preference, but I&#39;d go with checking it and throwing an exception with a fitting message so it&#39;s transparent and clear."},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1669042695,"post_id":74520668,"comment_id":131546953,"body_markdown":"You always only want to handle `null` where it *makes sense*. That is mostly on application boundaries. I.e. when providing or consuming an API. There you want to validate and check for `null` (and possibly other stuff). But internally you can probably drop all the `null` checks. As you&#39;re the one that&#39;s developing the code base and you know best whether null can happen or not. So using an annotation is fine. Just the enforcement is not necessary everywhere","body":"You always only want to handle <code>null</code> where it <i>makes sense</i>. That is mostly on application boundaries. I.e. when providing or consuming an API. There you want to validate and check for <code>null</code> (and possibly other stuff). But internally you can probably drop all the <code>null</code> checks. As you&#39;re the one that&#39;s developing the code base and you know best whether null can happen or not. So using an annotation is fine. Just the enforcement is not necessary everywhere"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1669042725,"post_id":74520668,"comment_id":131546964,"body_markdown":"Also you may want to have a look at `java.util.Objects.requireNonNull(Object)` which is a *handy* one liner for explicit null checks","body":"Also you may want to have a look at <code>java.util.Objects.requireNonNull(Object)</code> which is a <i>handy</i> one liner for explicit null checks"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669044987,"creation_date":1669044987,"answer_id":74521341,"question_id":74520668,"body_markdown":"This is an unsolved problem in the nullity annotation space. There are 2 viewpoints that sound identical but result, in fact, in the exact opposite. Given a parameter `void foo(@NonNull String param)`, what does that imply?\r\n\r\n* It&#39;s compiler-checkable documentation that indicates you _should not_ pass `null` as `param` here. It does not mean that it is impossible to do this, or that one ought to consider it impossible. Simply that one should not - it&#39;s compiler-checkable documentation that the method has no defined useful behaviour if you pass `null` here.\r\n* The compiler is extended to support these annotations to treat it as a single type - the type of `param` is `@NonNull String` - and the compiler knows what that means and will in fact ensure this. The type of the parameter is `@NonNull String` and therefore __cannot__ be `null`, just like it can&#39;t be, say, an InputStream instance either.\r\n\r\nCrucially, then, the latter means __a `null` check is flagged as silly code__, whereas the former means ___lack_ of a `null` check is marked as bad__. Hence, opposites. The former considered a nullcheck a warnable offense (with something along the lines of _`param` can never be `null` here_), for the same reason this is silly code:\r\n\r\n```\r\nvoid foo(String arg) {\r\n  if (!(arg instanceof String)) throw new IllegalArgumentException(&quot;arg&quot;);\r\n}\r\n```\r\n\r\nThat if clause cannot possibly fire. The mindset of various nullchecker frameworks is identical here, and therefore flags it as silly code:\r\n\r\n```\r\nvoid foo(@NonNull String arg) {\r\n  if (arg == null) throw new NullPointerException(&quot;arg&quot;);\r\n}\r\n```\r\n\r\nThe simple fact is, plenty of java devs do not enable annotation-based nullity checking, and even if they did, there are at least 10 competing annotations and many of them mean completely different things, and work completely differently. The vast majority will not be using a checking framework that works as you think it should, therefore, _the advice to remove the nullcheck because it is silly is actively __a bad thing___ - you _should_ add that nullcheck. The linting tools that flag this down are misguided; they want to pretend to live in a world where every java programmer on the planet uses their tool. This isn&#39;t try and is unlikely to ever become true, hence, wrong.\r\n\r\nA few null checking frameworks are sort of living both lives and will allow you to test if an argument marked as `@NonNull` is `null`, but only if the `if` body starts with `throw`, otherwise it&#39;s flagged.\r\n\r\nTo answer your questions:\r\n\r\n* You _should_ nullcheck. After all, other developers that use your code may not get the nullity warnings from the nullcheck tool (either other team members working on the same code base but using slightly different tools and/or configurations of those tools, _or_, your code is a library and another project uses it, a more obvious route to a situation with different tools/configs). The best way to handle a null failure is a compile time error. A close second is an exception that is clear about the problem and whose stack trace can be used to very quickly solve the bug. A distant third is random bizarreness that takes a whole to debug - and that explicit nullcheck means you get nice fallback: If for whatever reason the write-time tooling doesn&#39;t catch the problem, the check will then simply turn it into the second, still quite acceptable case of an exception at the point of failure that is clear about what happened and where to fix it.\r\n\r\n* Lombok&#39;s [`@NonNull`](https://projectlombok.org/features/NonNull) annotation can generate it for you, if you want. Now you have the best of both worlds: Just a `@NonNull` annotation (no clutter) and yet a runtime exception if someone does pass null anyway (DISCLAIMER: I&#39;m one of the core contributors to Lombok).\r\n\r\n* If your linting tool complains about &#39;pointless null check&#39; on the line `if (param == null) throw new NullPointerException(&quot;param&quot;);`, find the option in the linting tool to exclude if-checks that result in `throw` statements. If the linting tool cannot be configured to ignore this case, __do not use the linting tool__, find a better one.\r\n\r\n* Note that modern JVMs will throw a NullPointerException _with_ the name of the expression as message if you dereference a null pointer, which may obviate the need to write an explicit check. However, now you&#39;re dependent on that method always dereferencing that variable forever more; if ever someone changes it and e.g. assigns it to a field and returns, now you have a problem: It should have thrown the exception, in order to ensure the bug is found quickly and with an exception that explains what happened and where to go and fix the problem. Hence I wouldn&#39;t rely on the JVM feature for your NPEs.\r\n\r\n* Error messages should be as short as they can be whilst not skimping on detail. They should also not end in punctuation; especially exclamation marks. Every exception tends to be noteworthy enough to warrant an exclamation mark - but it gets tedious to read them, so __do not__ add them. In fact, the proper thing to throw, is this: `throw new NullPointerException(&quot;o&quot;)`. - and you might want to rename that parameter to something more readable if you find `o` ugly. Parameters are mostly public API info (JVM-technically they are not, but javadoc does include them, which is the basis of API docs, so you should consider them public, and therefore, they should have clear names. Which you can then reuse). That exception conveys all relevant information to a programmer: The nature of the problem (`null` was sent to code that does not know how to handle this), and where (the stack trace does that automatically), and the specifics (which thing was `null`). Your message is much longer and doesn&#39;t add anything more. At best you can say your message might be understood by a non-coder, except this is both not true (as if a stack trace is something random joe computeruser is going to understand), and irrelevant (it&#39;s not like they can fix the problem even if they do know what it means). Using exception messages as UI output just doesn&#39;t work, so don&#39;t try.\r\n\r\n* You may want to adjust your style guides and allow braceless `if` statements provided that the `if` expression is simple (no `&amp;&amp;` or `||`). Possibly add an additional rule that the single statement is a control statement - `break;`, `continue;`, `return (something);`, or `throw something;`. This will significantly improve readability for multiparams. The point of a style guide is to create legible code. Surely this:\r\n\r\n```\r\nif (param1 == null) throw new NullPointerException(&quot;param1&quot;);\r\nif (param2 == null) throw new NullPointerException(&quot;param2&quot;);\r\n```\r\n\r\nis far more legible, especially considering this method has more lines than just those two, than this:\r\n\r\n```\r\nif (param1 == null) {\r\n  throw new NullPointerException(&quot;param1&quot;);\r\n}\r\n\r\nif (param2 == null) {\r\n  throw new NullPointerException(&quot;param2&quot;);\r\n}\r\n```\r\n\r\nStyleguides are just a tool. If your styleguide is leading to less productivity and harder to read code, the answer should be obvious. Fix or replace the tool.","title":"Handling null, even if annotations are used","body":"<p>This is an unsolved problem in the nullity annotation space. There are 2 viewpoints that sound identical but result, in fact, in the exact opposite. Given a parameter <code>void foo(@NonNull String param)</code>, what does that imply?</p>\n<ul>\n<li>It's compiler-checkable documentation that indicates you <em>should not</em> pass <code>null</code> as <code>param</code> here. It does not mean that it is impossible to do this, or that one ought to consider it impossible. Simply that one should not - it's compiler-checkable documentation that the method has no defined useful behaviour if you pass <code>null</code> here.</li>\n<li>The compiler is extended to support these annotations to treat it as a single type - the type of <code>param</code> is <code>@NonNull String</code> - and the compiler knows what that means and will in fact ensure this. The type of the parameter is <code>@NonNull String</code> and therefore <strong>cannot</strong> be <code>null</code>, just like it can't be, say, an InputStream instance either.</li>\n</ul>\n<p>Crucially, then, the latter means <strong>a <code>null</code> check is flagged as silly code</strong>, whereas the former means <strong><em>lack</em> of a <code>null</code> check is marked as bad</strong>. Hence, opposites. The former considered a nullcheck a warnable offense (with something along the lines of <em><code>param</code> can never be <code>null</code> here</em>), for the same reason this is silly code:</p>\n<pre><code>void foo(String arg) {\n  if (!(arg instanceof String)) throw new IllegalArgumentException(&quot;arg&quot;);\n}\n</code></pre>\n<p>That if clause cannot possibly fire. The mindset of various nullchecker frameworks is identical here, and therefore flags it as silly code:</p>\n<pre><code>void foo(@NonNull String arg) {\n  if (arg == null) throw new NullPointerException(&quot;arg&quot;);\n}\n</code></pre>\n<p>The simple fact is, plenty of java devs do not enable annotation-based nullity checking, and even if they did, there are at least 10 competing annotations and many of them mean completely different things, and work completely differently. The vast majority will not be using a checking framework that works as you think it should, therefore, <em>the advice to remove the nullcheck because it is silly is actively <strong>a bad thing</strong></em> - you <em>should</em> add that nullcheck. The linting tools that flag this down are misguided; they want to pretend to live in a world where every java programmer on the planet uses their tool. This isn't try and is unlikely to ever become true, hence, wrong.</p>\n<p>A few null checking frameworks are sort of living both lives and will allow you to test if an argument marked as <code>@NonNull</code> is <code>null</code>, but only if the <code>if</code> body starts with <code>throw</code>, otherwise it's flagged.</p>\n<p>To answer your questions:</p>\n<ul>\n<li><p>You <em>should</em> nullcheck. After all, other developers that use your code may not get the nullity warnings from the nullcheck tool (either other team members working on the same code base but using slightly different tools and/or configurations of those tools, <em>or</em>, your code is a library and another project uses it, a more obvious route to a situation with different tools/configs). The best way to handle a null failure is a compile time error. A close second is an exception that is clear about the problem and whose stack trace can be used to very quickly solve the bug. A distant third is random bizarreness that takes a whole to debug - and that explicit nullcheck means you get nice fallback: If for whatever reason the write-time tooling doesn't catch the problem, the check will then simply turn it into the second, still quite acceptable case of an exception at the point of failure that is clear about what happened and where to fix it.</p>\n</li>\n<li><p>Lombok's <a href=\"https://projectlombok.org/features/NonNull\" rel=\"nofollow noreferrer\"><code>@NonNull</code></a> annotation can generate it for you, if you want. Now you have the best of both worlds: Just a <code>@NonNull</code> annotation (no clutter) and yet a runtime exception if someone does pass null anyway (DISCLAIMER: I'm one of the core contributors to Lombok).</p>\n</li>\n<li><p>If your linting tool complains about 'pointless null check' on the line <code>if (param == null) throw new NullPointerException(&quot;param&quot;);</code>, find the option in the linting tool to exclude if-checks that result in <code>throw</code> statements. If the linting tool cannot be configured to ignore this case, <strong>do not use the linting tool</strong>, find a better one.</p>\n</li>\n<li><p>Note that modern JVMs will throw a NullPointerException <em>with</em> the name of the expression as message if you dereference a null pointer, which may obviate the need to write an explicit check. However, now you're dependent on that method always dereferencing that variable forever more; if ever someone changes it and e.g. assigns it to a field and returns, now you have a problem: It should have thrown the exception, in order to ensure the bug is found quickly and with an exception that explains what happened and where to go and fix the problem. Hence I wouldn't rely on the JVM feature for your NPEs.</p>\n</li>\n<li><p>Error messages should be as short as they can be whilst not skimping on detail. They should also not end in punctuation; especially exclamation marks. Every exception tends to be noteworthy enough to warrant an exclamation mark - but it gets tedious to read them, so <strong>do not</strong> add them. In fact, the proper thing to throw, is this: <code>throw new NullPointerException(&quot;o&quot;)</code>. - and you might want to rename that parameter to something more readable if you find <code>o</code> ugly. Parameters are mostly public API info (JVM-technically they are not, but javadoc does include them, which is the basis of API docs, so you should consider them public, and therefore, they should have clear names. Which you can then reuse). That exception conveys all relevant information to a programmer: The nature of the problem (<code>null</code> was sent to code that does not know how to handle this), and where (the stack trace does that automatically), and the specifics (which thing was <code>null</code>). Your message is much longer and doesn't add anything more. At best you can say your message might be understood by a non-coder, except this is both not true (as if a stack trace is something random joe computeruser is going to understand), and irrelevant (it's not like they can fix the problem even if they do know what it means). Using exception messages as UI output just doesn't work, so don't try.</p>\n</li>\n<li><p>You may want to adjust your style guides and allow braceless <code>if</code> statements provided that the <code>if</code> expression is simple (no <code>&amp;&amp;</code> or <code>||</code>). Possibly add an additional rule that the single statement is a control statement - <code>break;</code>, <code>continue;</code>, <code>return (something);</code>, or <code>throw something;</code>. This will significantly improve readability for multiparams. The point of a style guide is to create legible code. Surely this:</p>\n</li>\n</ul>\n<pre><code>if (param1 == null) throw new NullPointerException(&quot;param1&quot;);\nif (param2 == null) throw new NullPointerException(&quot;param2&quot;);\n</code></pre>\n<p>is far more legible, especially considering this method has more lines than just those two, than this:</p>\n<pre><code>if (param1 == null) {\n  throw new NullPointerException(&quot;param1&quot;);\n}\n\nif (param2 == null) {\n  throw new NullPointerException(&quot;param2&quot;);\n}\n</code></pre>\n<p>Styleguides are just a tool. If your styleguide is leading to less productivity and harder to read code, the answer should be obvious. Fix or replace the tool.</p>\n"}],"owner":{"account_id":24179619,"reputation":25,"user_id":18140495,"display_name":"BlackMonkee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74521341,"answer_count":1,"score":1,"last_activity_date":1669044987,"creation_date":1669041809,"question_id":74520668,"body_markdown":"I started using javax.annotation especially to warn the next developer who maybe will be working with my code in the future.\r\n\r\nBut while I was using the javax.annotation @Nonnull annotation, a question came into my mind: \r\n\r\nIf you mark f.e. a parameter of a method thorugh the @Nonnull annotation that it haves to have a value, \\\r\ndo you still need to handle the case, that the next developer who is using your code could be parsing null to your function?\r\n\r\nIf found one con argument and one pro argument to still handle the special cases.\r\n\r\ncon: The code is cleaner, especially if you have multiple parameters that you mark with @Nonnull\r\n\r\n```\r\nprivate void foo(@Nonnull Object o)\r\n{\r\n    /*do something*/\r\n}\r\n```\r\nvs\r\n\r\n```\r\npublic void foo(Object o)\r\n    throws NullPointerException\r\n{\r\n    if (o == null)\r\n    {\r\n        throw new NullPointerException(&quot;Given Object must have a value!&quot;);\r\n    }\r\n    /*do something*/\r\n}\r\n```\r\n\r\npro: It could cause unhandled errors if the next developer ignore the annotations.","title":"Handling null, even if annotations are used","body":"<p>I started using javax.annotation especially to warn the next developer who maybe will be working with my code in the future.</p>\n<p>But while I was using the javax.annotation @Nonnull annotation, a question came into my mind:</p>\n<p>If you mark f.e. a parameter of a method thorugh the @Nonnull annotation that it haves to have a value, <br />\ndo you still need to handle the case, that the next developer who is using your code could be parsing null to your function?</p>\n<p>If found one con argument and one pro argument to still handle the special cases.</p>\n<p>con: The code is cleaner, especially if you have multiple parameters that you mark with @Nonnull</p>\n<pre><code>private void foo(@Nonnull Object o)\n{\n    /*do something*/\n}\n</code></pre>\n<p>vs</p>\n<pre><code>public void foo(Object o)\n    throws NullPointerException\n{\n    if (o == null)\n    {\n        throw new NullPointerException(&quot;Given Object must have a value!&quot;);\n    }\n    /*do something*/\n}\n</code></pre>\n<p>pro: It could cause unhandled errors if the next developer ignore the annotations.</p>\n"},{"tags":["java","aop","aspectj"],"comments":[{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1669018752,"post_id":74514234,"comment_id":131538522,"body_markdown":"Native AspectJ or Spring AOP? The answers would be different. If AspectJ, native or annotation-based syntax?","body":"Native AspectJ or Spring AOP? The answers would be different. If AspectJ, native or annotation-based syntax?"},{"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"score":0,"creation_date":1669020225,"post_id":74514234,"comment_id":131539024,"body_markdown":"@kriegaex native AspectJ with annotation-based syntax","body":"@kriegaex native AspectJ with annotation-based syntax"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1669022885,"post_id":74514234,"comment_id":131539893,"body_markdown":"Oh, too bad. Native syntax is much more elegant and concise. But OK, I can create an answer for @AspectJ syntax, too. But please also put your question into context, explaining what exactly you want to achieve, not just focusing on how (suppress aspect execution) you want to achieve it. That way, you are limiting the space of possible solutions. This is called the [XY problem](https://meta.stackexchange.com/a/66378/309898). Otherwise, my answer will be correct, but maybe will does not help you much.","body":"Oh, too bad. Native syntax is much more elegant and concise. But OK, I can create an answer for @AspectJ syntax, too. But please also put your question into context, explaining what exactly you want to achieve, not just focusing on how (suppress aspect execution) you want to achieve it. That way, you are limiting the space of possible solutions. This is called the <a href=\"https://meta.stackexchange.com/a/66378/309898\">XY problem</a>. Otherwise, my answer will be correct, but maybe will does not help you much."},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1669026747,"post_id":74514234,"comment_id":131541195,"body_markdown":"Thanks, I can answer later after work. But one remark first: _&quot;AuditAspect logic should only be executed if access is allowed.&quot;_ That sounds illogical. The audit aspect probably is meant to determine whether access is allowed or not, is it not? Therefore, it always has to be executed. I rather guess that the audit aspect should prevent the **target method** from being executed. Correct?","body":"Thanks, I can answer later after work. But one remark first: <i>&quot;AuditAspect logic should only be executed if access is allowed.&quot;</i> That sounds illogical. The audit aspect probably is meant to determine whether access is allowed or not, is it not? Therefore, it always has to be executed. I rather guess that the audit aspect should prevent the <b>target method</b> from being executed. Correct?"},{"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"score":0,"creation_date":1669027563,"post_id":74514234,"comment_id":131541442,"body_markdown":"&quot;Secured&quot; aspect is meant to determine whether access is allowed or not. If access is not allowed, neither the target method nor the audit logic should be executed. Thanks!","body":"&quot;Secured&quot; aspect is meant to determine whether access is allowed or not. If access is not allowed, neither the target method nor the audit logic should be executed. Thanks!"},{"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"score":0,"creation_date":1669028543,"post_id":74514234,"comment_id":131541766,"body_markdown":"Oh OK. You did not explicitly mention the secured aspect in your enumeration, only implicitly. So actually, you have 3 aspects, not just 2. See, this is the problem about questions without [MCVE](https://stackoverflow.com/help/mcve). The annotations as such do not do anything, nor are they necessary for aspects to kick in, because aspects can also determine joinpoints in other ways than filtering for annotations. Using marker annotations is completely optional. I really don&#39;t know why so many developers think they need annotations for each and every aspect. I hardly use them at all.","body":"Oh OK. You did not explicitly mention the secured aspect in your enumeration, only implicitly. So actually, you have 3 aspects, not just 2. See, this is the problem about questions without <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a>. The annotations as such do not do anything, nor are they necessary for aspects to kick in, because aspects can also determine joinpoints in other ways than filtering for annotations. Using marker annotations is completely optional. I really don&#39;t know why so many developers think they need annotations for each and every aspect. I hardly use them at all."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669044880,"creation_date":1669044880,"answer_id":74521322,"question_id":74514234,"body_markdown":"You want to use a combination of\r\n  * `@Around` advice in your aspects and\r\n  * [`@DeclarePrecedence`](https://www.eclipse.org/aspectj/doc/released/adk15notebook/ataspectj-declare.html) for declaring aspect precedence.\r\n\r\nThis way, you can chain advice execution exactly the way you want to and dynamically decide whether each advice should\r\n  * proceed to the next advice in the chain depending on its precedence (or to the target method, if there is no more advice in the chain), or\r\n  * not to proceed but return a result calculated by the advice itself, or\r\n  * to throw an exception instead of returning something.\r\n\r\nOf course, you can combine these things, e.g. proceed but discard or modify the result or proceed, but depending on the result still throw an exception.\r\n\r\nIf you just want to decide to either throw an exception or just pass through the call and its result unchanged, depending on authorisation status, of course a simple `@Before` advice will also do and `@Around` is unnecessary.\r\n\r\nHere is a simple example with 2 aspects, which you can easily adapt to your situation. Feel free to ask directly related follow-up questions in comments, if anything is unclear about the sample code.\r\n\r\n```java\r\npackage de.scrum_master.app;\r\n\r\npublic class Application {\r\n  public static void main(String[] args) {\r\n    for (int i = 0; i &lt; 10; i++) {\r\n      System.out.println(&quot;  &quot; + doSomething());\r\n    }\r\n  }\r\n\r\n  public static String doSomething() {\r\n    return &quot;doing something&quot;;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\nimport java.util.Random;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\n\r\n@Aspect\r\npublic class FirstAspect {\r\n  private static final Random RANDOM = new Random();\r\n\r\n  @Around(&quot;execution(String doSomething())&quot;)\r\n  public Object myAdvice(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    System.out.println(&quot;FirstAspect&quot;);\r\n    switch (RANDOM.nextInt(3)) {\r\n      // Do not proceed to 2nd aspect, create own return value\r\n      case 0: return &quot;1st aspect&quot;;\r\n      // Proceed to 2nd aspect, modify response\r\n      case 1: return joinPoint.proceed() + &quot; - 1st aspect&quot;;\r\n      // Proceed to 2nd aspect, return response unchanged\r\n      default: return joinPoint.proceed();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n```java\r\npackage de.scrum_master.aspect;\r\n\r\nimport java.util.Random;\r\n\r\nimport org.aspectj.lang.ProceedingJoinPoint;\r\nimport org.aspectj.lang.annotation.Around;\r\nimport org.aspectj.lang.annotation.Aspect;\r\nimport org.aspectj.lang.annotation.DeclarePrecedence;\r\n\r\n@Aspect\r\n@DeclarePrecedence(&quot;FirstAspect, SecondAspect&quot;)\r\npublic class SecondAspect {\r\n  private static final Random RANDOM = new Random();\r\n\r\n  @Around(&quot;execution(String doSomething())&quot;)\r\n  public Object myAdvice(ProceedingJoinPoint joinPoint) throws Throwable {\r\n    System.out.println(&quot;SecondAspect&quot;);\r\n    switch (RANDOM.nextInt(3)) {\r\n      // Do not proceed to target method, create own return value\r\n      case 0: return &quot;2nd aspect&quot;;\r\n      // Proceed to target method, but modify return value\r\n      case 1: return joinPoint.proceed() + &quot; - 2nd aspect&quot;;\r\n      // Proceed to target method, return response unchanged\r\n      default: return joinPoint.proceed();\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe console log might look like this:\r\n\r\n```none\r\nFirstAspect\r\nSecondAspect\r\n  doing something - 2nd aspect - 1st aspect\r\nFirstAspect\r\n  1st aspect\r\nFirstAspect\r\nSecondAspect\r\n  2nd aspect - 1st aspect\r\nFirstAspect\r\nSecondAspect\r\n  doing something - 1st aspect\r\nFirstAspect\r\n  1st aspect\r\nFirstAspect\r\nSecondAspect\r\n  doing something\r\nFirstAspect\r\n  1st aspect\r\nFirstAspect\r\nSecondAspect\r\n  doing something - 1st aspect\r\nFirstAspect\r\n  1st aspect\r\nFirstAspect\r\nSecondAspect\r\n  doing something - 2nd aspect\r\n```\r\n\r\nYou can see how sometimes the result is passed through unchanged by both aspects, sometimes only one of the aspect or both aspects modify the result or how sometimes the second aspect is not even called, because the first one does not proceed. Instead of not proceeding, throwing an exception would also be possible.","title":"Is it possible with AspectJ to prevent the next aspect from executing in order?","body":"<p>You want to use a combination of</p>\n<ul>\n<li><code>@Around</code> advice in your aspects and</li>\n<li><a href=\"https://www.eclipse.org/aspectj/doc/released/adk15notebook/ataspectj-declare.html\" rel=\"nofollow noreferrer\"><code>@DeclarePrecedence</code></a> for declaring aspect precedence.</li>\n</ul>\n<p>This way, you can chain advice execution exactly the way you want to and dynamically decide whether each advice should</p>\n<ul>\n<li>proceed to the next advice in the chain depending on its precedence (or to the target method, if there is no more advice in the chain), or</li>\n<li>not to proceed but return a result calculated by the advice itself, or</li>\n<li>to throw an exception instead of returning something.</li>\n</ul>\n<p>Of course, you can combine these things, e.g. proceed but discard or modify the result or proceed, but depending on the result still throw an exception.</p>\n<p>If you just want to decide to either throw an exception or just pass through the call and its result unchanged, depending on authorisation status, of course a simple <code>@Before</code> advice will also do and <code>@Around</code> is unnecessary.</p>\n<p>Here is a simple example with 2 aspects, which you can easily adapt to your situation. Feel free to ask directly related follow-up questions in comments, if anything is unclear about the sample code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.app;\n\npublic class Application {\n  public static void main(String[] args) {\n    for (int i = 0; i &lt; 10; i++) {\n      System.out.println(&quot;  &quot; + doSomething());\n    }\n  }\n\n  public static String doSomething() {\n    return &quot;doing something&quot;;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Random;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\n\n@Aspect\npublic class FirstAspect {\n  private static final Random RANDOM = new Random();\n\n  @Around(&quot;execution(String doSomething())&quot;)\n  public Object myAdvice(ProceedingJoinPoint joinPoint) throws Throwable {\n    System.out.println(&quot;FirstAspect&quot;);\n    switch (RANDOM.nextInt(3)) {\n      // Do not proceed to 2nd aspect, create own return value\n      case 0: return &quot;1st aspect&quot;;\n      // Proceed to 2nd aspect, modify response\n      case 1: return joinPoint.proceed() + &quot; - 1st aspect&quot;;\n      // Proceed to 2nd aspect, return response unchanged\n      default: return joinPoint.proceed();\n    }\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>package de.scrum_master.aspect;\n\nimport java.util.Random;\n\nimport org.aspectj.lang.ProceedingJoinPoint;\nimport org.aspectj.lang.annotation.Around;\nimport org.aspectj.lang.annotation.Aspect;\nimport org.aspectj.lang.annotation.DeclarePrecedence;\n\n@Aspect\n@DeclarePrecedence(&quot;FirstAspect, SecondAspect&quot;)\npublic class SecondAspect {\n  private static final Random RANDOM = new Random();\n\n  @Around(&quot;execution(String doSomething())&quot;)\n  public Object myAdvice(ProceedingJoinPoint joinPoint) throws Throwable {\n    System.out.println(&quot;SecondAspect&quot;);\n    switch (RANDOM.nextInt(3)) {\n      // Do not proceed to target method, create own return value\n      case 0: return &quot;2nd aspect&quot;;\n      // Proceed to target method, but modify return value\n      case 1: return joinPoint.proceed() + &quot; - 2nd aspect&quot;;\n      // Proceed to target method, return response unchanged\n      default: return joinPoint.proceed();\n    }\n  }\n}\n</code></pre>\n<p>The console log might look like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>FirstAspect\nSecondAspect\n  doing something - 2nd aspect - 1st aspect\nFirstAspect\n  1st aspect\nFirstAspect\nSecondAspect\n  2nd aspect - 1st aspect\nFirstAspect\nSecondAspect\n  doing something - 1st aspect\nFirstAspect\n  1st aspect\nFirstAspect\nSecondAspect\n  doing something\nFirstAspect\n  1st aspect\nFirstAspect\nSecondAspect\n  doing something - 1st aspect\nFirstAspect\n  1st aspect\nFirstAspect\nSecondAspect\n  doing something - 2nd aspect\n</code></pre>\n<p>You can see how sometimes the result is passed through unchanged by both aspects, sometimes only one of the aspect or both aspects modify the result or how sometimes the second aspect is not even called, because the first one does not proceed. Instead of not proceeding, throwing an exception would also be possible.</p>\n"}],"owner":{"account_id":8510347,"reputation":382,"user_id":6380596,"accept_rate":50,"display_name":"Rinat"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74521322,"answer_count":1,"score":0,"last_activity_date":1669044880,"creation_date":1669004737,"question_id":74514234,"body_markdown":"**ORIGINAL QUESTION:**\r\n\r\nI have a method annotated with two aspects:\r\n\r\n    @Aspect1Annotation\r\n    @Aspect2Annotation\r\n    public SomeResult handle() {\r\n        // some code\r\n        return null;\r\n    }\r\n\r\nI would like the first annotaion to execute and based on its results prevent execution of the second aspects logic.\r\n\r\nHow to do it with AspectJ? Please help.\r\n\r\n**EDIT:**\r\n\r\nI am developing an application which has multiple methods with these annotations:\r\n\r\n \r\n\r\n    @Monitored\r\n    @Secured(Permission.SOME_PERMISSION)\r\n    @Audited\r\n    public SomeResult handle() {\r\n        // some code\r\n        return null;\r\n    }\r\n\r\n1) The MonitoringAspect logic must always run despite security permissions.\r\n2) The permission check should be done after the MonitoringAspect and if access is denied, a runtime exception should be thrown.\r\n3) AuditAspect logic should only be executed if access is allowed. \r\n","title":"Is it possible with AspectJ to prevent the next aspect from executing in order?","body":"<p><strong>ORIGINAL QUESTION:</strong></p>\n<p>I have a method annotated with two aspects:</p>\n<pre><code>@Aspect1Annotation\n@Aspect2Annotation\npublic SomeResult handle() {\n    // some code\n    return null;\n}\n</code></pre>\n<p>I would like the first annotaion to execute and based on its results prevent execution of the second aspects logic.</p>\n<p>How to do it with AspectJ? Please help.</p>\n<p><strong>EDIT:</strong></p>\n<p>I am developing an application which has multiple methods with these annotations:</p>\n<pre><code>@Monitored\n@Secured(Permission.SOME_PERMISSION)\n@Audited\npublic SomeResult handle() {\n    // some code\n    return null;\n}\n</code></pre>\n<ol>\n<li>The MonitoringAspect logic must always run despite security permissions.</li>\n<li>The permission check should be done after the MonitoringAspect and if access is denied, a runtime exception should be thrown.</li>\n<li>AuditAspect logic should only be executed if access is allowed.</li>\n</ol>\n"},{"tags":["java","intellij-idea","comments","automated-refactoring"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1669044630,"post_id":74521215,"comment_id":131547738,"body_markdown":"Replace the string &quot;//       &quot; with &quot;// &quot; maybe?","body":"Replace the string &quot;//       &quot; with &quot;// &quot; maybe?"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669044664,"creation_date":1669044664,"answer_id":74521266,"question_id":74521215,"body_markdown":"There may be a way to do this via editor settings.  But you could remedy this using a regex replace all:\r\n\r\n    Find:    //\\s{2,}(.*)$\r\n    Replace: // $1\r\n\r\nThis would be under the assumption that once a `//` style comment has been declared, the remainder of that line belongs to the comment.\r\n\r\nNote that you could even apply the above replacement to all files in the project, or all Java source files in the project, module, etc.","title":"How do i reformat java comments, to remove whitespaces in intellij?","body":"<p>There may be a way to do this via editor settings.  But you could remedy this using a regex replace all:</p>\n<pre><code>Find:    //\\s{2,}(.*)$\nReplace: // $1\n</code></pre>\n<p>This would be under the assumption that once a <code>//</code> style comment has been declared, the remainder of that line belongs to the comment.</p>\n<p>Note that you could even apply the above replacement to all files in the project, or all Java source files in the project, module, etc.</p>\n"}],"owner":{"account_id":24923694,"reputation":21,"user_id":18791723,"display_name":"Igor Velikopopovetsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":74521266,"answer_count":1,"score":-1,"last_activity_date":1669044664,"creation_date":1669044437,"question_id":74521215,"body_markdown":"What IntelliJ format setting should be set to automatically change line comments to look like:\r\n``` \r\n    validcode();\r\n    // comment1\r\n    // comment2\r\n    validCode();\r\n```\r\nfrom lookin like this:\r\n```\r\n    validcode();\r\n    //       comment1\r\n    //       comment2\r\n    validCode();\r\n```\r\n\r\n\r\n\r\n\r\nNo result with all the settings i have tried.","title":"How do i reformat java comments, to remove whitespaces in intellij?","body":"<p>What IntelliJ format setting should be set to automatically change line comments to look like:</p>\n<pre><code>    validcode();\n    // comment1\n    // comment2\n    validCode();\n</code></pre>\n<p>from lookin like this:</p>\n<pre><code>    validcode();\n    //       comment1\n    //       comment2\n    validCode();\n</code></pre>\n<p>No result with all the settings i have tried.</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669047463,"post_id":74521252,"comment_id":131548826,"body_markdown":"Not quite sure what you are after; I hope it isn&#39;t putting enterprise &#39;data&#39; into the Audit entity/table. You can filter audits on what ever you want in queries: &quot;select a from Audit a join a.enterprise e where e.name LIKE CONCAT(&#39;%&#39;, :searchTerm, &#39;%&#39;)&quot;.","body":"Not quite sure what you are after; I hope it isn&#39;t putting enterprise &#39;data&#39; into the Audit entity/table. You can filter audits on what ever you want in queries: &quot;select a from Audit a join a.enterprise e where e.name LIKE CONCAT(&#39;%&#39;, :searchTerm, &#39;%&#39;)&quot;."},{"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"score":0,"creation_date":1669048163,"post_id":74521252,"comment_id":131549071,"body_markdown":"Thank you! That was it. I&#39;m just bad ad queries,a and hadn&#39;t came across this pattern","body":"Thank you! That was it. I&#39;m just bad ad queries,a and hadn&#39;t came across this pattern"}],"owner":{"account_id":26810839,"reputation":57,"user_id":20401498,"display_name":"Kiemoon"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669044579,"creation_date":1669044579,"question_id":74521252,"body_markdown":"Spring + MySQL\r\n\r\nEntities Audit and Enterprise are mapped by relation @ManyToOne by their Id&#39;s (int).\r\nIn my aplication I want to filter Audits by Enterprise&#39;s name. Both respectively have service, ad DAO classes. Since I have query for filtering Enterprises by name:\r\n```\r\n@Query(&quot;SELECT e FROM Enterprise e WHERE e.name LIKE CONCAT(&#39;%&#39;, :searchTerm, &#39;%&#39;)&quot;)\r\nList&lt;Enterprise&gt; findByName(@Param(&quot;searchTerm&quot;) String searchTerm);\r\n```\r\nI thought that the simplest way would be to add column to Audit class that contains Enterprise&#39;s name, and do similar thing. \r\nIs there a way to do this type of doble mapping, or way to automatically generate this column?\r\nOr maybe the whole concept is just wrong, and I should do this other way round? \r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;ENTERPRISES&quot;)\r\npublic class Enterprise {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @NotNull\r\n    @Column(unique = true)\r\n    int enterpriseId;\r\n\r\n    @Column\r\n    String name;\r\n\r\n    @OneToMany(\r\n            targetEntity = Audit.class,\r\n            mappedBy = &quot;enterprise&quot;,\r\n            cascade = CascadeType.ALL,\r\n            fetch = FetchType.LAZY\r\n    )\r\n    List&lt;Audit&gt; audits = new ArrayList&lt;&gt;();\r\n\r\n}\r\n```\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Entity\r\n@Table\r\npublic class Audit {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    @NotNull\r\n    @Column(unique = true)\r\n    public int auditId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;ENTERPRISE_ID&quot;)\r\n    public Enterprise enterprise;\r\n\r\n}\r\n```\r\n\r\n\r\nSince the question is half technical half theoretical, and I&#39;m new to programming in general I didn&#39;t try to do much in this matter. I was wondering that maybe @Generated() annotation would work with @Column(columnDefinition = ... ), but still I don&#39;t know how to define this column. ","title":"Joining more than one Column between mapped Entities","body":"<p>Spring + MySQL</p>\n<p>Entities Audit and Enterprise are mapped by relation @ManyToOne by their Id's (int).\nIn my aplication I want to filter Audits by Enterprise's name. Both respectively have service, ad DAO classes. Since I have query for filtering Enterprises by name:</p>\n<pre><code>@Query(&quot;SELECT e FROM Enterprise e WHERE e.name LIKE CONCAT('%', :searchTerm, '%')&quot;)\nList&lt;Enterprise&gt; findByName(@Param(&quot;searchTerm&quot;) String searchTerm);\n</code></pre>\n<p>I thought that the simplest way would be to add column to Audit class that contains Enterprise's name, and do similar thing.\nIs there a way to do this type of doble mapping, or way to automatically generate this column?\nOr maybe the whole concept is just wrong, and I should do this other way round?</p>\n<pre><code>@Getter\n@Setter\n@Entity\n@Table(name = &quot;ENTERPRISES&quot;)\npublic class Enterprise {\n\n    @Id\n    @GeneratedValue\n    @NotNull\n    @Column(unique = true)\n    int enterpriseId;\n\n    @Column\n    String name;\n\n    @OneToMany(\n            targetEntity = Audit.class,\n            mappedBy = &quot;enterprise&quot;,\n            cascade = CascadeType.ALL,\n            fetch = FetchType.LAZY\n    )\n    List&lt;Audit&gt; audits = new ArrayList&lt;&gt;();\n\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\n@Entity\n@Table\npublic class Audit {\n\n    @Id\n    @GeneratedValue\n    @NotNull\n    @Column(unique = true)\n    public int auditId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;ENTERPRISE_ID&quot;)\n    public Enterprise enterprise;\n\n}\n</code></pre>\n<p>Since the question is half technical half theoretical, and I'm new to programming in general I didn't try to do much in this matter. I was wondering that maybe @Generated() annotation would work with @Column(columnDefinition = ... ), but still I don't know how to define this column.</p>\n"},{"tags":["java","postgresql","servlets","auto-increment"],"comments":[{"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"score":0,"creation_date":1354227941,"post_id":13635812,"comment_id":18704935,"body_markdown":"If you want to stick with varchar, you realize that with a length of 4 you aren&#39;t going to be able to handle more than 10k comments, right?","body":"If you want to stick with varchar, you realize that with a length of 4 you aren&#39;t going to be able to handle more than 10k comments, right?"}],"answers":[{"tags":[],"owner":{"account_id":26084,"reputation":26325,"user_id":67598,"accept_rate":79,"display_name":"digitaljoel"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1354227720,"creation_date":1354227720,"answer_id":13635844,"question_id":13635812,"body_markdown":"You don&#39;t want to use a VARCHAR for your id column. In postgres you can create a sequence and then get the next value of that sequence for each insert.\r\n\r\n[here are the docs][1]\r\n\r\nBasically, you do something like\r\n\r\n    CREATE SEQUENCE mysequence START 101\r\n\r\nThen, when you insert you do something like\r\n\r\n    INSERT INTO my_comment values (nextval(&#39;mysequence&#39;), &#39;this is my comment&#39;);\r\n\r\n\r\n\r\n  [1]: http://www.postgresql.org/docs/9.1/static/sql-createsequence.html","title":"How to increment ID for each INSERT?","body":"<p>You don't want to use a VARCHAR for your id column. In postgres you can create a sequence and then get the next value of that sequence for each insert.</p>\n\n<p><a href=\"http://www.postgresql.org/docs/9.1/static/sql-createsequence.html\">here are the docs</a></p>\n\n<p>Basically, you do something like</p>\n\n<pre><code>CREATE SEQUENCE mysequence START 101\n</code></pre>\n\n<p>Then, when you insert you do something like</p>\n\n<pre><code>INSERT INTO my_comment values (nextval('mysequence'), 'this is my comment');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":904738,"reputation":617045,"user_id":939860,"accept_rate":100,"display_name":"Erwin Brandstetter"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1668901756,"creation_date":1354228892,"answer_id":13636098,"question_id":13635812,"body_markdown":"**Update**: in Postgres 10 or later, consider an **`IDENTITY`** column instead. See:\r\n\r\n- https://stackoverflow.com/questions/9875223/auto-increment-table-column/9875517#9875517\r\n\r\n___\r\n\r\nUse the [**`serial`** pseudo data type][1] to begin with. It creates and attaches the sequence object automatically and sets the `DEFAULT` to `nextval()` from the sequence. It does all you need. Effective type for the column is `integer`. There is also `bigserial` and `smallserial` (in Postgres 9.2+). Just follow the link to the manual.\r\n\r\n~~~pgsql\r\nCREATE TABLE comments (\r\n  comment_id serial PRIMARY KEY\r\n, comment text NOT NULL\r\n);\r\n~~~\r\n\r\nYou can ignore the column for `INSERT` commands:\r\n\r\n    INSERT INTO my_comment (comment)\r\n    VALUES (&#39;My comment here&#39;);\r\n\r\n`comment_id` is filled in automatically.\r\n\r\nBut you should *always* provide a target column list for an `INSERT` command. If you later change table layout, your query may break in hurtful ways. It may be ok to skip the column list for ad-hoc commands or when the table structure is guaranteed (like when you created the table in the same line of code). Other than that, provide a column list!\r\n\r\nIf you want the resulting `comment_id` back, without another round trip to the server:\r\n\r\n&lt;pre&gt;INSERT INTO my_comment (comment)\r\nVALUES (&#39;My comment here&#39;);\r\n&lt;b&gt;RETURNING&lt;/b&gt; comment_id;&lt;/pre&gt;\r\n\r\nDetails in the manual [here][2].\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/datatype-numeric.html#DATATYPE-SERIAL\r\n  [2]: https://www.postgresql.org/docs/current/sql-insert.html","title":"How to increment ID for each INSERT?","body":"<p><strong>Update</strong>: in Postgres 10 or later, consider an <strong><code>IDENTITY</code></strong> column instead. See:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/9875223/auto-increment-table-column/9875517#9875517\">Auto increment table column</a></li>\n</ul>\n<hr />\n<p>Use the <a href=\"https://www.postgresql.org/docs/current/datatype-numeric.html#DATATYPE-SERIAL\" rel=\"nofollow noreferrer\"><strong><code>serial</code></strong> pseudo data type</a> to begin with. It creates and attaches the sequence object automatically and sets the <code>DEFAULT</code> to <code>nextval()</code> from the sequence. It does all you need. Effective type for the column is <code>integer</code>. There is also <code>bigserial</code> and <code>smallserial</code> (in Postgres 9.2+). Just follow the link to the manual.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE comments (\n  comment_id serial PRIMARY KEY\n, comment text NOT NULL\n);\n</code></pre>\n<p>You can ignore the column for <code>INSERT</code> commands:</p>\n<pre><code>INSERT INTO my_comment (comment)\nVALUES ('My comment here');\n</code></pre>\n<p><code>comment_id</code> is filled in automatically.</p>\n<p>But you should <em>always</em> provide a target column list for an <code>INSERT</code> command. If you later change table layout, your query may break in hurtful ways. It may be ok to skip the column list for ad-hoc commands or when the table structure is guaranteed (like when you created the table in the same line of code). Other than that, provide a column list!</p>\n<p>If you want the resulting <code>comment_id</code> back, without another round trip to the server:</p>\n<pre>INSERT INTO my_comment (comment)\nVALUES ('My comment here');\n<b>RETURNING</b> comment_id;</pre>\n<p>Details in the manual <a href=\"https://www.postgresql.org/docs/current/sql-insert.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":908759,"reputation":79,"user_id":943104,"accept_rate":75,"display_name":"RyanH"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3633,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":13635844,"answer_count":2,"score":2,"last_activity_date":1669043901,"creation_date":1354227551,"question_id":13635812,"body_markdown":"In PostgreSQL I have table `comments` with primary key `comment_id` (`VARCHAR` of length 4). I have a form to insert a comment. How to get my Java Servlet to increment `comment_id` for each INSERT (0001 to 0002)?","title":"How to increment ID for each INSERT?","body":"<p>In PostgreSQL I have table <code>comments</code> with primary key <code>comment_id</code> (<code>VARCHAR</code> of length 4). I have a form to insert a comment. How to get my Java Servlet to increment <code>comment_id</code> for each INSERT (0001 to 0002)?</p>\n"},{"tags":["java","visual-studio-code"],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622166685,"creation_date":1622166685,"answer_id":67731907,"question_id":67730700,"body_markdown":"`java.home` specifies the folder path to the JDK, which should be like `/usr/java/jdk16`.\r\n\r\nDespite manually pointing to the path, we can click it from GUI. Open **Command Palette** and choose **Java: Configure Java Runtime**. Below the option **Java Tooling Runtime**, the value of `JDK for Language Server` is equal to `java.home`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf there&#39;s no optional path there, check if you&#39;ve added java to PATH. \r\n\r\nReference: [Installation of JDK on Linux Platforms.][2] and [Using Java runtime configuration wizard][3].\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jl78c.png\r\n  [2]: https://docs.oracle.com/en/java/javase/16/install/installation-jdk-linux-platforms.html#GUID-737A84E4-2EFF-4D38-8E60-3E29D1B884B8\r\n  [3]: https://code.visualstudio.com/docs/java/java-tutorial#_using-java-runtime-configuration-wizard","title":"VSCode can&#39;t setup Java Runtime (tried a few settings json approaches)","body":"<p><code>java.home</code> specifies the folder path to the JDK, which should be like <code>/usr/java/jdk16</code>.</p>\n<p>Despite manually pointing to the path, we can click it from GUI. Open <strong>Command Palette</strong> and choose <strong>Java: Configure Java Runtime</strong>. Below the option <strong>Java Tooling Runtime</strong>, the value of <code>JDK for Language Server</code> is equal to <code>java.home</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/jl78c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jl78c.png\" alt=\"enter image description here\" /></a></p>\n<p>If there's no optional path there, check if you've added java to PATH.</p>\n<p>Reference: <a href=\"https://docs.oracle.com/en/java/javase/16/install/installation-jdk-linux-platforms.html#GUID-737A84E4-2EFF-4D38-8E60-3E29D1B884B8\" rel=\"nofollow noreferrer\">Installation of JDK on Linux Platforms.</a> and <a href=\"https://code.visualstudio.com/docs/java/java-tutorial#_using-java-runtime-configuration-wizard\" rel=\"nofollow noreferrer\">Using Java runtime configuration wizard</a>.</p>\n"},{"tags":[],"owner":{"account_id":16443760,"reputation":372,"user_id":11879205,"display_name":"t7e"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1659363006,"creation_date":1659363006,"answer_id":73195005,"question_id":67730700,"body_markdown":"Install the required Java version.\r\nCheck what is under `/usr/lib/jvm/`\r\n```\r\n$ ls /usr/lib/jvm/\r\ndefault-java               java-1.17.0-openjdk-amd64  java-17-openjdk-amd64  openjdk-17\r\njava-1.11.0-openjdk-amd64  java-11-openjdk-amd64      openjdk-11\r\n```\r\n\r\nThen check in VSCode this settings file:\r\n\r\n```\r\n/home/user/.vscode-server/data/Machine/settings.json\r\n```\r\n```\r\n{\r\n    &quot;editor.bracketPairColorization.enabled&quot;: true,\r\n    &quot;java.jdt.ls.java.home&quot;: &quot;/usr/lib/jvm/default-java&quot;,\r\n    &quot;java.configuration.runtimes&quot;: [\r\n    \r\n    ]\r\n}\r\n```\r\nChange to your JVM version:\r\n\r\n```\r\n{\r\n    &quot;editor.bracketPairColorization.enabled&quot;: true,\r\n    &quot;java.jdt.ls.java.home&quot;: &quot;/usr/lib/jvm/java-1.17.0-openjdk-amd64&quot;,\r\n    &quot;java.configuration.runtimes&quot;: [\r\n    \r\n    ]\r\n}\r\n```\r\nReload VSCode.","title":"VSCode can&#39;t setup Java Runtime (tried a few settings json approaches)","body":"<p>Install the required Java version.\nCheck what is under <code>/usr/lib/jvm/</code></p>\n<pre><code>$ ls /usr/lib/jvm/\ndefault-java               java-1.17.0-openjdk-amd64  java-17-openjdk-amd64  openjdk-17\njava-1.11.0-openjdk-amd64  java-11-openjdk-amd64      openjdk-11\n</code></pre>\n<p>Then check in VSCode this settings file:</p>\n<pre><code>/home/user/.vscode-server/data/Machine/settings.json\n</code></pre>\n<pre><code>{\n    &quot;editor.bracketPairColorization.enabled&quot;: true,\n    &quot;java.jdt.ls.java.home&quot;: &quot;/usr/lib/jvm/default-java&quot;,\n    &quot;java.configuration.runtimes&quot;: [\n    \n    ]\n}\n</code></pre>\n<p>Change to your JVM version:</p>\n<pre><code>{\n    &quot;editor.bracketPairColorization.enabled&quot;: true,\n    &quot;java.jdt.ls.java.home&quot;: &quot;/usr/lib/jvm/java-1.17.0-openjdk-amd64&quot;,\n    &quot;java.configuration.runtimes&quot;: [\n    \n    ]\n}\n</code></pre>\n<p>Reload VSCode.</p>\n"}],"owner":{"account_id":5779366,"reputation":2567,"user_id":4560509,"accept_rate":58,"display_name":"Michael Paccione"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13635,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67731907,"answer_count":2,"score":2,"last_activity_date":1669043338,"creation_date":1622154482,"question_id":67730700,"body_markdown":"I installed Java via terminal. I am on Linux 5.8.0-53-generic Kubuntu\r\n\r\nJava --version outputs\r\n```\r\nopenjdk 16.0.1 2021-04-20\r\nOpenJDK Runtime Environment (build 16.0.1+9-Ubuntu-120.10)\r\nOpenJDK 64-Bit Server VM (build 16.0.1+9-Ubuntu-120.10, mixed mode, sharing)\r\n```\r\n\r\nMy VSCode settings point to\r\n```\r\n&quot;java.home&quot;: &quot;/usr/lib/jvm/java-16-openjdk-amd64&quot;\r\n```\r\n\r\nHowever I get an error saying &quot;The java.home variable defined in Visual Studio Code settings (/usr/lib/jvm/java-16-openjdk-amd64) does not point to a JDK.","title":"VSCode can&#39;t setup Java Runtime (tried a few settings json approaches)","body":"<p>I installed Java via terminal. I am on Linux 5.8.0-53-generic Kubuntu</p>\n<p>Java --version outputs</p>\n<pre><code>openjdk 16.0.1 2021-04-20\nOpenJDK Runtime Environment (build 16.0.1+9-Ubuntu-120.10)\nOpenJDK 64-Bit Server VM (build 16.0.1+9-Ubuntu-120.10, mixed mode, sharing)\n</code></pre>\n<p>My VSCode settings point to</p>\n<pre><code>&quot;java.home&quot;: &quot;/usr/lib/jvm/java-16-openjdk-amd64&quot;\n</code></pre>\n<p>However I get an error saying &quot;The java.home variable defined in Visual Studio Code settings (/usr/lib/jvm/java-16-openjdk-amd64) does not point to a JDK.</p>\n"},{"tags":["java","spring-boot","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1669049661,"post_id":74520891,"comment_id":131549609,"body_markdown":"Can you show `Table` class","body":"Can you show <code>Table</code> class"},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":1,"creation_date":1669049834,"post_id":74520891,"comment_id":131549665,"body_markdown":"Does this helps https://stackoverflow.com/a/38455540/1460591?","body":"Does this helps <a href=\"https://stackoverflow.com/a/38455540/1460591\">stackoverflow.com/a/38455540/1460591</a>?"}],"answers":[{"tags":[],"owner":{"account_id":18829226,"reputation":223,"user_id":13733426,"display_name":"tstdplt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1669043056,"creation_date":1669043056,"answer_id":74520930,"question_id":74520891,"body_markdown":"Correct native query statement:\r\n```\r\n@Modifying\r\n@Query(value = &quot;update Table_name u set u.id = :table.id, u.event_date = :table.event_date, u.client_id = :table.client_id, u.status = :table.status, u.status_date = :table.status_date, u.creation_date = :table.creation_date, u.last_update_date = :table.last_update_date where u.id = :table.id&quot;,\r\n    nativeQuery = true)\r\nvoid updateEntity(@Param(&quot;table&quot;) Table table);\r\n```\r\n\r\nSince you&#39;re using a native query instead of a JPQL-Query, you have to write :table.event_date instead of :table.eventDate. Same counts for example :table.clientId, it has to be :table.client_id.\r\nHope it&#39;ll work!\r\n\r\nNative Queries: Always snake_case instead of camelCase, unless your column names are in camelCase, but I doubt that. :)\r\n","title":"Parameter not bound in Hibernate Query","body":"<p>Correct native query statement:</p>\n<pre><code>@Modifying\n@Query(value = &quot;update Table_name u set u.id = :table.id, u.event_date = :table.event_date, u.client_id = :table.client_id, u.status = :table.status, u.status_date = :table.status_date, u.creation_date = :table.creation_date, u.last_update_date = :table.last_update_date where u.id = :table.id&quot;,\n    nativeQuery = true)\nvoid updateEntity(@Param(&quot;table&quot;) Table table);\n</code></pre>\n<p>Since you're using a native query instead of a JPQL-Query, you have to write :table.event_date instead of :table.eventDate. Same counts for example :table.clientId, it has to be :table.client_id.\nHope it'll work!</p>\n<p>Native Queries: Always snake_case instead of camelCase, unless your column names are in camelCase, but I doubt that. :)</p>\n"}],"owner":{"account_id":27003139,"reputation":11,"user_id":20564098,"display_name":"cristiiiii"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669043056,"creation_date":1669042858,"question_id":74520891,"body_markdown":"I tried to make a query withSpring data for updating an entry by id and I tried a lot options but still I can&#39;t get rid of this:\r\n```\r\nNamed parameter not bound : table.eventDate\r\n```\r\n```\r\n@Modifying\r\n@Query(value = &quot;update Table_name u set u.id = :table.id, u.event_date = :table.eventDate, u.client_id = :table.clientId, u.status = :table.status, u.status_date = :table.statusDate, u.creation_date = :table.creationDate, u.last_update_date = :table.lastUpdateDate where u.id = :table.id&quot;,\r\n    nativeQuery = true)\r\nvoid updateEntity(@Param(&quot;table&quot;) Table table);\r\n\r\n\r\n```\r\n\r\nHow should I write the query in order to get rid of this?\r\n\r\n I tried a lot of posibilities online to write the query but nothing worked.","title":"Parameter not bound in Hibernate Query","body":"<p>I tried to make a query withSpring data for updating an entry by id and I tried a lot options but still I can't get rid of this:</p>\n<pre><code>Named parameter not bound : table.eventDate\n</code></pre>\n<pre><code>@Modifying\n@Query(value = &quot;update Table_name u set u.id = :table.id, u.event_date = :table.eventDate, u.client_id = :table.clientId, u.status = :table.status, u.status_date = :table.statusDate, u.creation_date = :table.creationDate, u.last_update_date = :table.lastUpdateDate where u.id = :table.id&quot;,\n    nativeQuery = true)\nvoid updateEntity(@Param(&quot;table&quot;) Table table);\n\n\n</code></pre>\n<p>How should I write the query in order to get rid of this?</p>\n<p>I tried a lot of posibilities online to write the query but nothing worked.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4678774,"reputation":956,"user_id":3788166,"accept_rate":100,"display_name":"Irfan"},"score":0,"creation_date":1459228211,"post_id":36275580,"comment_id":60178355,"body_markdown":"can you post your earlier code witho out FlowTextView","body":"can you post your earlier code witho out FlowTextView"},{"owner":{"account_id":2358112,"reputation":1052,"user_id":2065490,"accept_rate":40,"display_name":"rusted brain"},"score":0,"creation_date":1459228297,"post_id":36275580,"comment_id":60178380,"body_markdown":"It looks ugly? Please post a screenshot of it, probably you can change some styles of EdidText and TextView to make it look good.","body":"It looks ugly? Please post a screenshot of it, probably you can change some styles of EdidText and TextView to make it look good."}],"answers":[{"tags":[],"owner":{"account_id":395651,"reputation":941,"user_id":758710,"accept_rate":50,"display_name":"AndroidEnthusiastic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459433213,"creation_date":1459433213,"answer_id":36335772,"question_id":36275580,"body_markdown":"Hi please try this,\r\n\r\n    android:gravity=&quot;left&quot;\r\n    \r\n    android:textAlignment=&quot;gravity&quot;","title":"How to create Flow TextView","body":"<p>Hi please try this,</p>\n\n<pre><code>android:gravity=\"left\"\n\nandroid:textAlignment=\"gravity\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7581817,"reputation":1770,"user_id":5752290,"display_name":"Pradeep Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669042978,"creation_date":1459433684,"answer_id":36335948,"question_id":36275580,"body_markdown":"Try this,\r\n\r\n    public class HorizontalFlowLayout extends RelativeLayout {\r\n\r\n\t  /**\r\n\t   * Constructor to use when creating View from code.\r\n\t   */\r\n\t  public HorizontalFlowLayout(Context context) {\r\n\t    super(context);\r\n\t  }\r\n\r\n\t  /**\r\n\t   * Constructor that is called when inflating View from XML.\r\n\t   */\r\n\t  public HorizontalFlowLayout(Context context, AttributeSet attrs) {\r\n\t    super(context, attrs);\r\n\t  }\r\n\r\n\t  /**\r\n\t   * Perform inflation from XML and apply a class-specific base style.\r\n\t   */\r\n\t  public HorizontalFlowLayout(Context context, AttributeSet attrs, int defStyle) {\r\n\t    super(context, attrs, defStyle);\r\n\t  }\r\n\r\n\t  @Override\r\n\t  protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n\t    // need to call super.onMeasure(...) otherwise get some funny behaviour\r\n\t    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\r\n\r\n\t    final int width = MeasureSpec.getSize(widthMeasureSpec);\r\n\t    int height = MeasureSpec.getSize(heightMeasureSpec);\r\n\r\n\t    // increment the x position as we progress through a line\r\n\t    int xpos = getPaddingLeft();\r\n\t    // increment the y position as we progress through the lines\r\n\t    int ypos = getPaddingTop();\r\n\t    // the height of the current line\r\n\t    int line_height = 0;\r\n\r\n\t    // go through children\r\n\t    // to work out the height required for this view\r\n\r\n\t    // call to measure size of children not needed I think?!\r\n\t    // getting child&#39;s measured height/width seems to work okay without it\r\n\t    //measureChildren(widthMeasureSpec, heightMeasureSpec);\r\n\r\n\t    View child;\r\n\t    MarginLayoutParams childMarginLayoutParams;\r\n\t    int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\r\n\r\n\t    for (int i = 0; i &lt; getChildCount(); i++) {\r\n\t      child = getChildAt(i);\r\n\r\n\t      if (child.getVisibility() != GONE) {\r\n\t        childWidth = child.getMeasuredWidth();\r\n\t        childHeight = child.getMeasuredHeight();\r\n\r\n\t        if (child.getLayoutParams() != null\r\n\t            &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\r\n\t          childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\r\n\r\n\t          childMarginLeft = childMarginLayoutParams.leftMargin;\r\n\t          childMarginRight = childMarginLayoutParams.rightMargin;\r\n\t          childMarginTop = childMarginLayoutParams.topMargin;\r\n\t          childMarginBottom = childMarginLayoutParams.bottomMargin;\r\n\t        }\r\n\t        else {\r\n\t          childMarginLeft = 0;\r\n\t          childMarginRight = 0;\r\n\t          childMarginTop = 0;\r\n\t          childMarginBottom = 0;\r\n\t        }\r\n\r\n\t        if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; width) {\r\n\t          // this child will need to go on a new line\r\n\r\n\t          xpos = getPaddingLeft();\r\n\t          ypos += line_height;\r\n\r\n\t          line_height = childMarginTop + childHeight + childMarginBottom;\r\n\t        }\r\n\t        else {\r\n\t          // enough space for this child on the current line\r\n\t          line_height = Math.max(\r\n\t              line_height,\r\n\t              childMarginTop + childHeight + childMarginBottom);\r\n\t        }\r\n\r\n\t        xpos += childMarginLeft + childWidth + childMarginRight;\r\n\t      }\r\n\t    }\r\n\r\n\t    ypos += line_height + getPaddingBottom();\r\n\r\n\t    if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.UNSPECIFIED) {\r\n\t      // set height as measured since there&#39;s no height restrictions\r\n\t      height = ypos;\r\n\t    }\r\n\t    else if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST\r\n\t        &amp;&amp; ypos &lt; height) {\r\n\t      // set height as measured since it&#39;s less than the maximum allowed\r\n\t      height = ypos;\r\n\t    }\r\n\r\n\t    setMeasuredDimension(width, height);\r\n\t  }\r\n\r\n\t  @Override\r\n\t  protected void onLayout(boolean changed, int l, int t, int r, int b) {\r\n\t    // increment the x position as we progress through a line\r\n\t    int xpos = getPaddingLeft();\r\n\t    // increment the y position as we progress through the lines\r\n\t    int ypos = getPaddingTop();\r\n\t    // the height of the current line\r\n\t    int line_height = 0;\r\n\r\n\t    View child;\r\n\t    MarginLayoutParams childMarginLayoutParams;\r\n\t    int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\r\n\r\n\t    for (int i = 0; i &lt; getChildCount(); i++) {\r\n\t      child = getChildAt(i);\r\n\r\n\t      if (child.getVisibility() != GONE) {\r\n\t        childWidth = child.getMeasuredWidth();\r\n\t        childHeight = child.getMeasuredHeight();\r\n\r\n\t        if (child.getLayoutParams() != null\r\n\t            &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\r\n\t          childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\r\n\r\n\t          childMarginLeft = childMarginLayoutParams.leftMargin;\r\n\t          childMarginRight = childMarginLayoutParams.rightMargin;\r\n\t          childMarginTop = childMarginLayoutParams.topMargin;\r\n\t          childMarginBottom = childMarginLayoutParams.bottomMargin;\r\n\t        }\r\n\t        else {\r\n\t          childMarginLeft = 0;\r\n\t          childMarginRight = 0;\r\n\t          childMarginTop = 0;\r\n\t          childMarginBottom = 0;\r\n\t        }\r\n\r\n\t        if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; r - l) {\r\n\t          // this child will need to go on a new line\r\n\r\n\t          xpos = getPaddingLeft();\r\n\t          ypos += line_height;\r\n\r\n\t          line_height = childHeight + childMarginTop + childMarginBottom;\r\n\t        }\r\n\t        else {\r\n\t          // enough space for this child on the current line\r\n\t          line_height = Math.max(\r\n\t              line_height,\r\n\t              childMarginTop + childHeight + childMarginBottom);\r\n\t        }\r\n\r\n\t        child.layout(\r\n\t            xpos + childMarginLeft,\r\n\t            ypos + childMarginTop,\r\n\t            xpos + childMarginLeft + childWidth,\r\n\t            ypos + childMarginTop + childHeight);\r\n\r\n\t        xpos += childMarginLeft + childWidth + childMarginRight;\r\n\t      }\r\n\t    }\r\n\t  }\r\n\t}\r\n\t \r\nAnd use in XML Layout:\r\n\r\n     &lt;com.test.widget.HorizontalFlowLayout\r\n                android:id=&quot;@+id/horizontal_flow_layout&quot;\r\n                android:layout_width=&quot;fill_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:paddingLeft=&quot;@dimen/size_5&quot;\r\n                android:paddingRight=&quot;@dimen/size_5&quot;&gt;\r\n\r\n     &lt;TextView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:paddingRight=&quot;5dp&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:text=&quot;блабла&quot;\r\n        android:id=&quot;@+id/textView1&quot;/&gt;\r\n\r\n     &lt;EditText\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/name&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:inputType=&quot;textCapSentences&quot;\r\n        android:ems=&quot;5&quot;/&gt;\r\n     &lt;/com.test.widget.HorizontalFlowLayout&gt;","title":"How to create Flow TextView","body":"<p>Try this,</p>\n<pre><code>public class HorizontalFlowLayout extends RelativeLayout {\n\n  /**\n   * Constructor to use when creating View from code.\n   */\n  public HorizontalFlowLayout(Context context) {\n    super(context);\n  }\n\n  /**\n   * Constructor that is called when inflating View from XML.\n   */\n  public HorizontalFlowLayout(Context context, AttributeSet attrs) {\n    super(context, attrs);\n  }\n\n  /**\n   * Perform inflation from XML and apply a class-specific base style.\n   */\n  public HorizontalFlowLayout(Context context, AttributeSet attrs, int defStyle) {\n    super(context, attrs, defStyle);\n  }\n\n  @Override\n  protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n    // need to call super.onMeasure(...) otherwise get some funny behaviour\n    super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n\n    final int width = MeasureSpec.getSize(widthMeasureSpec);\n    int height = MeasureSpec.getSize(heightMeasureSpec);\n\n    // increment the x position as we progress through a line\n    int xpos = getPaddingLeft();\n    // increment the y position as we progress through the lines\n    int ypos = getPaddingTop();\n    // the height of the current line\n    int line_height = 0;\n\n    // go through children\n    // to work out the height required for this view\n\n    // call to measure size of children not needed I think?!\n    // getting child's measured height/width seems to work okay without it\n    //measureChildren(widthMeasureSpec, heightMeasureSpec);\n\n    View child;\n    MarginLayoutParams childMarginLayoutParams;\n    int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\n\n    for (int i = 0; i &lt; getChildCount(); i++) {\n      child = getChildAt(i);\n\n      if (child.getVisibility() != GONE) {\n        childWidth = child.getMeasuredWidth();\n        childHeight = child.getMeasuredHeight();\n\n        if (child.getLayoutParams() != null\n            &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\n          childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\n\n          childMarginLeft = childMarginLayoutParams.leftMargin;\n          childMarginRight = childMarginLayoutParams.rightMargin;\n          childMarginTop = childMarginLayoutParams.topMargin;\n          childMarginBottom = childMarginLayoutParams.bottomMargin;\n        }\n        else {\n          childMarginLeft = 0;\n          childMarginRight = 0;\n          childMarginTop = 0;\n          childMarginBottom = 0;\n        }\n\n        if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; width) {\n          // this child will need to go on a new line\n\n          xpos = getPaddingLeft();\n          ypos += line_height;\n\n          line_height = childMarginTop + childHeight + childMarginBottom;\n        }\n        else {\n          // enough space for this child on the current line\n          line_height = Math.max(\n              line_height,\n              childMarginTop + childHeight + childMarginBottom);\n        }\n\n        xpos += childMarginLeft + childWidth + childMarginRight;\n      }\n    }\n\n    ypos += line_height + getPaddingBottom();\n\n    if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.UNSPECIFIED) {\n      // set height as measured since there's no height restrictions\n      height = ypos;\n    }\n    else if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST\n        &amp;&amp; ypos &lt; height) {\n      // set height as measured since it's less than the maximum allowed\n      height = ypos;\n    }\n\n    setMeasuredDimension(width, height);\n  }\n\n  @Override\n  protected void onLayout(boolean changed, int l, int t, int r, int b) {\n    // increment the x position as we progress through a line\n    int xpos = getPaddingLeft();\n    // increment the y position as we progress through the lines\n    int ypos = getPaddingTop();\n    // the height of the current line\n    int line_height = 0;\n\n    View child;\n    MarginLayoutParams childMarginLayoutParams;\n    int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\n\n    for (int i = 0; i &lt; getChildCount(); i++) {\n      child = getChildAt(i);\n\n      if (child.getVisibility() != GONE) {\n        childWidth = child.getMeasuredWidth();\n        childHeight = child.getMeasuredHeight();\n\n        if (child.getLayoutParams() != null\n            &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\n          childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\n\n          childMarginLeft = childMarginLayoutParams.leftMargin;\n          childMarginRight = childMarginLayoutParams.rightMargin;\n          childMarginTop = childMarginLayoutParams.topMargin;\n          childMarginBottom = childMarginLayoutParams.bottomMargin;\n        }\n        else {\n          childMarginLeft = 0;\n          childMarginRight = 0;\n          childMarginTop = 0;\n          childMarginBottom = 0;\n        }\n\n        if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; r - l) {\n          // this child will need to go on a new line\n\n          xpos = getPaddingLeft();\n          ypos += line_height;\n\n          line_height = childHeight + childMarginTop + childMarginBottom;\n        }\n        else {\n          // enough space for this child on the current line\n          line_height = Math.max(\n              line_height,\n              childMarginTop + childHeight + childMarginBottom);\n        }\n\n        child.layout(\n            xpos + childMarginLeft,\n            ypos + childMarginTop,\n            xpos + childMarginLeft + childWidth,\n            ypos + childMarginTop + childHeight);\n\n        xpos += childMarginLeft + childWidth + childMarginRight;\n      }\n    }\n  }\n}\n \n</code></pre>\n<p>And use in XML Layout:</p>\n<pre><code> &lt;com.test.widget.HorizontalFlowLayout\n            android:id=&quot;@+id/horizontal_flow_layout&quot;\n            android:layout_width=&quot;fill_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:paddingLeft=&quot;@dimen/size_5&quot;\n            android:paddingRight=&quot;@dimen/size_5&quot;&gt;\n\n &lt;TextView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:paddingRight=&quot;5dp&quot;\n    android:textSize=&quot;20sp&quot;\n    android:text=&quot;блабла&quot;\n    android:id=&quot;@+id/textView1&quot;/&gt;\n\n &lt;EditText\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/name&quot;\n    android:textSize=&quot;20sp&quot;\n    android:inputType=&quot;textCapSentences&quot;\n    android:ems=&quot;5&quot;/&gt;\n &lt;/com.test.widget.HorizontalFlowLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":216810,"reputation":16569,"user_id":472270,"accept_rate":87,"display_name":"Barmaley"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459844718,"creation_date":1459844718,"answer_id":36420924,"question_id":36275580,"body_markdown":"Here&#39;s full source code for `FlowLayout` with reference to actual author. I&#39;m using this implementation and it works:\r\n\r\n    /**  @author RAW\r\n     * @reference http://nishantvnair.wordpress.com/2010/09/28/flowlayout-in-android/\r\n     * Some changes applied, i.e. default horz and vert spacings...\r\n     * */\r\n    \r\n     public class FlowLayout extends ViewGroup {\r\n        private static int DEFAULT_HORIZONTAL_SPACING=5;\r\n        private static int DEFAULT_VERTICAL_SPACING=5;\r\n        private int line_height;\r\n    \r\n        public static class LayoutParams extends ViewGroup.LayoutParams {\r\n            public final int horizontal_spacing;\r\n            public final int vertical_spacing;\r\n    \r\n            /** @param horizontal_spacing Pixels between items, horizontally\r\n             *  @param vertical_spacing Pixels between items, vertically          */\r\n            public LayoutParams(int horizontal_spacing, int vertical_spacing) {\r\n                super(0, 0);\r\n                this.horizontal_spacing = horizontal_spacing;\r\n                this.vertical_spacing = vertical_spacing;\r\n            }\r\n        }\r\n    \r\n        public FlowLayout(Context context) {\r\n            super(context);\r\n        }\r\n    \r\n        public FlowLayout(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n    \r\n        @Override\r\n        protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n            assert (MeasureSpec.getMode(widthMeasureSpec) != MeasureSpec.UNSPECIFIED);\r\n            final int width = MeasureSpec.getSize(widthMeasureSpec) - getPaddingLeft() - getPaddingRight();\r\n            int height = MeasureSpec.getSize(heightMeasureSpec) - getPaddingTop() - getPaddingBottom();\r\n            final int count = getChildCount();\r\n            int line_height = 0;\r\n            int xpos = getPaddingLeft();\r\n            int ypos = getPaddingTop();\r\n            int childHeightMeasureSpec;\r\n            if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST) {\r\n                childHeightMeasureSpec = MeasureSpec.makeMeasureSpec(height, MeasureSpec.AT_MOST);\r\n            }\r\n            else {\r\n                childHeightMeasureSpec = MeasureSpec.makeMeasureSpec(0, MeasureSpec.UNSPECIFIED);\r\n            }\r\n            for (int i = 0; i &lt; count; i++) {\r\n                final View child = getChildAt(i);\r\n                if (child.getVisibility() != GONE) {\r\n                    int horizontal_spacing, vertical_spacing;\r\n                    final ViewGroup.LayoutParams lp = child.getLayoutParams();\r\n                    if(lp instanceof LayoutParams) {\r\n                        horizontal_spacing=((LayoutParams )lp).horizontal_spacing;\r\n                        vertical_spacing=((LayoutParams )lp).vertical_spacing;\r\n                    } else {\r\n                        horizontal_spacing=DEFAULT_HORIZONTAL_SPACING;\r\n                        vertical_spacing=DEFAULT_VERTICAL_SPACING;\r\n                    }\r\n                    child.measure(MeasureSpec.makeMeasureSpec(width, MeasureSpec.AT_MOST), childHeightMeasureSpec);\r\n                    final int childw = child.getMeasuredWidth();\r\n                    line_height = Math.max(line_height, child.getMeasuredHeight() + vertical_spacing);\r\n                    if (xpos + childw &gt; width) {\r\n                        xpos = getPaddingLeft();\r\n                        ypos += line_height;\r\n                    }\r\n                    xpos += childw + horizontal_spacing;\r\n                }\r\n            }\r\n            this.line_height = line_height;\r\n            if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.UNSPECIFIED) {\r\n                height = ypos + line_height;\r\n            }\r\n            else if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST) {\r\n                if (ypos + line_height &lt; height) {\r\n                    height = ypos + line_height;\r\n                }\r\n            }\r\n            setMeasuredDimension(width, height);\r\n        }\r\n    \r\n        @Override\r\n        protected ViewGroup.LayoutParams generateDefaultLayoutParams() {\r\n            return new LayoutParams(1, 1); // default of 1px spacing\r\n        }\r\n    \r\n        @Override\r\n        protected boolean checkLayoutParams(ViewGroup.LayoutParams p) {\r\n            if (p instanceof LayoutParams) {\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        @Override\r\n        protected void onLayout(boolean changed, int l, int t, int r, int b) {\r\n            final int count = getChildCount();\r\n            final int width = r - l;\r\n            int xpos = getPaddingLeft();\r\n            int ypos = getPaddingTop();\r\n            for (int i = 0; i &lt; count; i++) {\r\n                final View child = getChildAt(i);\r\n                if (child.getVisibility() != GONE) {\r\n                    final int childw = child.getMeasuredWidth();\r\n                    final int childh = child.getMeasuredHeight();\r\n                    final ViewGroup.LayoutParams lp = child.getLayoutParams();\r\n                    if (xpos + childw &gt; width) {\r\n                        xpos = getPaddingLeft();\r\n                        ypos += line_height;\r\n                    }\r\n                    child.layout(xpos, ypos, xpos + childw, ypos + childh);\r\n                    if(lp instanceof LayoutParams)\r\n                        xpos += childw + ((LayoutParams)lp).horizontal_spacing;\r\n                    else\r\n                        xpos += childw + DEFAULT_HORIZONTAL_SPACING;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nUsage kinda:\r\n\r\n    &lt;com.mydomain.FlowLayout\r\n            android:id=&quot;@+id/recipientsList&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot; &gt;\r\n\r\n","title":"How to create Flow TextView","body":"<p>Here's full source code for <code>FlowLayout</code> with reference to actual author. I'm using this implementation and it works:</p>\n\n<pre><code>/**  @author RAW\n * @reference http://nishantvnair.wordpress.com/2010/09/28/flowlayout-in-android/\n * Some changes applied, i.e. default horz and vert spacings...\n * */\n\n public class FlowLayout extends ViewGroup {\n    private static int DEFAULT_HORIZONTAL_SPACING=5;\n    private static int DEFAULT_VERTICAL_SPACING=5;\n    private int line_height;\n\n    public static class LayoutParams extends ViewGroup.LayoutParams {\n        public final int horizontal_spacing;\n        public final int vertical_spacing;\n\n        /** @param horizontal_spacing Pixels between items, horizontally\n         *  @param vertical_spacing Pixels between items, vertically          */\n        public LayoutParams(int horizontal_spacing, int vertical_spacing) {\n            super(0, 0);\n            this.horizontal_spacing = horizontal_spacing;\n            this.vertical_spacing = vertical_spacing;\n        }\n    }\n\n    public FlowLayout(Context context) {\n        super(context);\n    }\n\n    public FlowLayout(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        assert (MeasureSpec.getMode(widthMeasureSpec) != MeasureSpec.UNSPECIFIED);\n        final int width = MeasureSpec.getSize(widthMeasureSpec) - getPaddingLeft() - getPaddingRight();\n        int height = MeasureSpec.getSize(heightMeasureSpec) - getPaddingTop() - getPaddingBottom();\n        final int count = getChildCount();\n        int line_height = 0;\n        int xpos = getPaddingLeft();\n        int ypos = getPaddingTop();\n        int childHeightMeasureSpec;\n        if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST) {\n            childHeightMeasureSpec = MeasureSpec.makeMeasureSpec(height, MeasureSpec.AT_MOST);\n        }\n        else {\n            childHeightMeasureSpec = MeasureSpec.makeMeasureSpec(0, MeasureSpec.UNSPECIFIED);\n        }\n        for (int i = 0; i &lt; count; i++) {\n            final View child = getChildAt(i);\n            if (child.getVisibility() != GONE) {\n                int horizontal_spacing, vertical_spacing;\n                final ViewGroup.LayoutParams lp = child.getLayoutParams();\n                if(lp instanceof LayoutParams) {\n                    horizontal_spacing=((LayoutParams )lp).horizontal_spacing;\n                    vertical_spacing=((LayoutParams )lp).vertical_spacing;\n                } else {\n                    horizontal_spacing=DEFAULT_HORIZONTAL_SPACING;\n                    vertical_spacing=DEFAULT_VERTICAL_SPACING;\n                }\n                child.measure(MeasureSpec.makeMeasureSpec(width, MeasureSpec.AT_MOST), childHeightMeasureSpec);\n                final int childw = child.getMeasuredWidth();\n                line_height = Math.max(line_height, child.getMeasuredHeight() + vertical_spacing);\n                if (xpos + childw &gt; width) {\n                    xpos = getPaddingLeft();\n                    ypos += line_height;\n                }\n                xpos += childw + horizontal_spacing;\n            }\n        }\n        this.line_height = line_height;\n        if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.UNSPECIFIED) {\n            height = ypos + line_height;\n        }\n        else if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST) {\n            if (ypos + line_height &lt; height) {\n                height = ypos + line_height;\n            }\n        }\n        setMeasuredDimension(width, height);\n    }\n\n    @Override\n    protected ViewGroup.LayoutParams generateDefaultLayoutParams() {\n        return new LayoutParams(1, 1); // default of 1px spacing\n    }\n\n    @Override\n    protected boolean checkLayoutParams(ViewGroup.LayoutParams p) {\n        if (p instanceof LayoutParams) {\n            return true;\n        }\n        return false;\n    }\n\n    @Override\n    protected void onLayout(boolean changed, int l, int t, int r, int b) {\n        final int count = getChildCount();\n        final int width = r - l;\n        int xpos = getPaddingLeft();\n        int ypos = getPaddingTop();\n        for (int i = 0; i &lt; count; i++) {\n            final View child = getChildAt(i);\n            if (child.getVisibility() != GONE) {\n                final int childw = child.getMeasuredWidth();\n                final int childh = child.getMeasuredHeight();\n                final ViewGroup.LayoutParams lp = child.getLayoutParams();\n                if (xpos + childw &gt; width) {\n                    xpos = getPaddingLeft();\n                    ypos += line_height;\n                }\n                child.layout(xpos, ypos, xpos + childw, ypos + childh);\n                if(lp instanceof LayoutParams)\n                    xpos += childw + ((LayoutParams)lp).horizontal_spacing;\n                else\n                    xpos += childw + DEFAULT_HORIZONTAL_SPACING;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Usage kinda:</p>\n\n<pre><code>&lt;com.mydomain.FlowLayout\n        android:id=\"@+id/recipientsList\"\n        android:layout_width=\"match_parent\"\n        android:layout_height=\"wrap_content\" &gt;\n</code></pre>\n"}],"owner":{"account_id":5917247,"reputation":1655,"user_id":4655668,"accept_rate":52,"display_name":"JohnPix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1690,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":3,"score":14,"last_activity_date":1669042978,"creation_date":1459226423,"question_id":36275580,"body_markdown":"Working on app where user has to put some data in `EditText`, but in front and behind this `EditText` I have `TextViews`. For that I use `(horizontal)` `LinearLayout` where I put `TextView` `EditText` `TextView`. I faced with problem of line transfer. Please, help me to find a solution.\r\n\r\nIt looks like this now:\r\n\r\n    |blabla_______tatata|\r\n    |             tatata|\r\n\r\nI need like this:\r\n\r\n    |blabla_______tatata|\r\n    |tatata             |\r\n\r\nI tried to use [FlowTextView][1] but it didn&#39;t help, It looks ugly, usable for pictures only. \r\n\r\n[![enter image description here][2]][2]\r\n\r\n3rd way by using Flow Layout\r\n----------------------------\r\n\r\nThe problem is: it moves to the second line if it doesn&#39;t have enough space. Please help me to make some correction here: \r\n\r\n[![enter image description here][3]][3]\r\n\r\nManifest\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        package=&quot;com.example.nikolai.app&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    \r\n    &lt;/manifest&gt;\r\n\r\nMain Activity\r\n\r\n        public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    }\r\n\r\nHorizontalFlowLayout\r\n\r\n    public class HorizontalFlowLayout extends RelativeLayout {\r\n    \r\n        /**\r\n         * Constructor to use when creating View from code.\r\n         */\r\n        public HorizontalFlowLayout(Context context) {\r\n            super(context);\r\n        }\r\n    \r\n        /**\r\n         * Constructor that is called when inflating View from XML.\r\n         */\r\n        public HorizontalFlowLayout(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n        }\r\n    \r\n        /**\r\n         * Perform inflation from XML and apply a class-specific base style.\r\n         */\r\n        public HorizontalFlowLayout(Context context, AttributeSet attrs, int defStyle) {\r\n            super(context, attrs, defStyle);\r\n        }\r\n    \r\n        @Override\r\n        protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\r\n            // need to call super.onMeasure(...) otherwise get some funny behaviour\r\n            super.onMeasure(widthMeasureSpec, heightMeasureSpec);\r\n    \r\n            final int width = MeasureSpec.getSize(widthMeasureSpec);\r\n            int height = MeasureSpec.getSize(heightMeasureSpec);\r\n    \r\n            // increment the x position as we progress through a line\r\n            int xpos = getPaddingLeft();\r\n            // increment the y position as we progress through the lines\r\n            int ypos = getPaddingTop();\r\n            // the height of the current line\r\n            int line_height = 0;\r\n    \r\n            // go through children\r\n            // to work out the height required for this view\r\n    \r\n            // call to measure size of children not needed I think?!\r\n            // getting child&#39;s measured height/width seems to work okay without it\r\n            //measureChildren(widthMeasureSpec, heightMeasureSpec);\r\n    \r\n            View child;\r\n            MarginLayoutParams childMarginLayoutParams;\r\n            int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\r\n    \r\n            for (int i = 0; i &lt; getChildCount(); i++) {\r\n                child = getChildAt(i);\r\n    \r\n                if (child.getVisibility() != GONE) {\r\n                    childWidth = child.getMeasuredWidth();\r\n                    childHeight = child.getMeasuredHeight();\r\n    \r\n                    if (child.getLayoutParams() != null\r\n                            &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\r\n                        childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\r\n    \r\n                        childMarginLeft = childMarginLayoutParams.leftMargin;\r\n                        childMarginRight = childMarginLayoutParams.rightMargin;\r\n                        childMarginTop = childMarginLayoutParams.topMargin;\r\n                        childMarginBottom = childMarginLayoutParams.bottomMargin;\r\n                    }\r\n                    else {\r\n                        childMarginLeft = 0;\r\n                        childMarginRight = 0;\r\n                        childMarginTop = 0;\r\n                        childMarginBottom = 0;\r\n                    }\r\n    \r\n                    if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; width) {\r\n                        // this child will need to go on a new line\r\n    \r\n                        xpos = getPaddingLeft();\r\n                        ypos += line_height;\r\n    \r\n                        line_height = childMarginTop + childHeight + childMarginBottom;\r\n                    }\r\n                    else {\r\n                        // enough space for this child on the current line\r\n                        line_height = Math.max(\r\n                                line_height,\r\n                                childMarginTop + childHeight + childMarginBottom);\r\n                    }\r\n    \r\n                    xpos += childMarginLeft + childWidth + childMarginRight;\r\n                }\r\n            }\r\n    \r\n            ypos += line_height + getPaddingBottom();\r\n    \r\n            if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.UNSPECIFIED) {\r\n                // set height as measured since there&#39;s no height restrictions\r\n                height = ypos;\r\n            }\r\n            else if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST\r\n                    &amp;&amp; ypos &lt; height) {\r\n                // set height as measured since it&#39;s less than the maximum allowed\r\n                height = ypos;\r\n            }\r\n    \r\n            setMeasuredDimension(width, height);\r\n        }\r\n    \r\n        @Override\r\n        protected void onLayout(boolean changed, int l, int t, int r, int b) {\r\n            // increment the x position as we progress through a line\r\n            int xpos = getPaddingLeft();\r\n            // increment the y position as we progress through the lines\r\n            int ypos = getPaddingTop();\r\n            // the height of the current line\r\n            int line_height = 0;\r\n    \r\n            View child;\r\n            MarginLayoutParams childMarginLayoutParams;\r\n            int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\r\n    \r\n            for (int i = 0; i &lt; getChildCount(); i++) {\r\n                child = getChildAt(i);\r\n    \r\n                if (child.getVisibility() != GONE) {\r\n                    childWidth = child.getMeasuredWidth();\r\n                    childHeight = child.getMeasuredHeight();\r\n    \r\n                    if (child.getLayoutParams() != null\r\n                            &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\r\n                        childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\r\n    \r\n                        childMarginLeft = childMarginLayoutParams.leftMargin;\r\n                        childMarginRight = childMarginLayoutParams.rightMargin;\r\n                        childMarginTop = childMarginLayoutParams.topMargin;\r\n                        childMarginBottom = childMarginLayoutParams.bottomMargin;\r\n                    }\r\n                    else {\r\n                        childMarginLeft = 0;\r\n                        childMarginRight = 0;\r\n                        childMarginTop = 0;\r\n                        childMarginBottom = 0;\r\n                    }\r\n    \r\n                    if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; r - l) {\r\n                        // this child will need to go on a new line\r\n    \r\n                        xpos = getPaddingLeft();\r\n                        ypos += line_height;\r\n    \r\n                        line_height = childHeight + childMarginTop + childMarginBottom;\r\n                    }\r\n                    else {\r\n                        // enough space for this child on the current line\r\n                        line_height = Math.max(\r\n                                line_height,\r\n                                childMarginTop + childHeight + childMarginBottom);\r\n                    }\r\n    \r\n                    child.layout(\r\n                            xpos + childMarginLeft,\r\n                            ypos + childMarginTop,\r\n                            xpos + childMarginLeft + childWidth,\r\n                            ypos + childMarginTop + childHeight);\r\n    \r\n                    xpos += childMarginLeft + childWidth + childMarginRight;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nMy XML\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n        android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n        android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n        tools:context=&quot;com.example.nikolai.app.MainActivity&quot;&gt;\r\n    \r\n        &lt;com.example.nikolai.app.HorizontalFlowLayout\r\n            android:id=&quot;@+id/horizontal_flow_layout&quot;\r\n            android:layout_width=&quot;fill_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:paddingLeft=&quot;@dimen/size_5&quot;\r\n            android:paddingRight=&quot;@dimen/size_5&quot;&gt;\r\n    \r\n       \r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textSize=&quot;20dp&quot;\r\n                android:text=&quot;blablabla&quot;/&gt;\r\n    \r\n            &lt;EditText\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textSize=&quot;20dp&quot;\r\n                android:ems=&quot;7&quot;/&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textSize=&quot;20dp&quot;\r\n                android:text=&quot;tatatatatatatatata&quot;/&gt;\r\n        \r\n        &lt;/com.example.nikolai.app.HorizontalFlowLayout&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://github.com/deano2390/FlowTextView\r\n  [2]: http://i.stack.imgur.com/rnI4p.png\r\n  [3]: http://i.stack.imgur.com/A8Eok.jpg","title":"How to create Flow TextView","body":"<p>Working on app where user has to put some data in <code>EditText</code>, but in front and behind this <code>EditText</code> I have <code>TextViews</code>. For that I use <code>(horizontal)</code> <code>LinearLayout</code> where I put <code>TextView</code> <code>EditText</code> <code>TextView</code>. I faced with problem of line transfer. Please, help me to find a solution.</p>\n\n<p>It looks like this now:</p>\n\n<pre><code>|blabla_______tatata|\n|             tatata|\n</code></pre>\n\n<p>I need like this:</p>\n\n<pre><code>|blabla_______tatata|\n|tatata             |\n</code></pre>\n\n<p>I tried to use <a href=\"https://github.com/deano2390/FlowTextView\" rel=\"noreferrer\">FlowTextView</a> but it didn't help, It looks ugly, usable for pictures only. </p>\n\n<p><a href=\"https://i.stack.imgur.com/rnI4p.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/rnI4p.png\" alt=\"enter image description here\"></a></p>\n\n<h2>3rd way by using Flow Layout</h2>\n\n<p>The problem is: it moves to the second line if it doesn't have enough space. Please help me to make some correction here: </p>\n\n<p><a href=\"https://i.stack.imgur.com/A8Eok.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/A8Eok.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Manifest</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"com.example.nikolai.app\"&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n\n<p>Main Activity</p>\n\n<pre><code>    public class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n\n<p>HorizontalFlowLayout</p>\n\n<pre><code>public class HorizontalFlowLayout extends RelativeLayout {\n\n    /**\n     * Constructor to use when creating View from code.\n     */\n    public HorizontalFlowLayout(Context context) {\n        super(context);\n    }\n\n    /**\n     * Constructor that is called when inflating View from XML.\n     */\n    public HorizontalFlowLayout(Context context, AttributeSet attrs) {\n        super(context, attrs);\n    }\n\n    /**\n     * Perform inflation from XML and apply a class-specific base style.\n     */\n    public HorizontalFlowLayout(Context context, AttributeSet attrs, int defStyle) {\n        super(context, attrs, defStyle);\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {\n        // need to call super.onMeasure(...) otherwise get some funny behaviour\n        super.onMeasure(widthMeasureSpec, heightMeasureSpec);\n\n        final int width = MeasureSpec.getSize(widthMeasureSpec);\n        int height = MeasureSpec.getSize(heightMeasureSpec);\n\n        // increment the x position as we progress through a line\n        int xpos = getPaddingLeft();\n        // increment the y position as we progress through the lines\n        int ypos = getPaddingTop();\n        // the height of the current line\n        int line_height = 0;\n\n        // go through children\n        // to work out the height required for this view\n\n        // call to measure size of children not needed I think?!\n        // getting child's measured height/width seems to work okay without it\n        //measureChildren(widthMeasureSpec, heightMeasureSpec);\n\n        View child;\n        MarginLayoutParams childMarginLayoutParams;\n        int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\n\n        for (int i = 0; i &lt; getChildCount(); i++) {\n            child = getChildAt(i);\n\n            if (child.getVisibility() != GONE) {\n                childWidth = child.getMeasuredWidth();\n                childHeight = child.getMeasuredHeight();\n\n                if (child.getLayoutParams() != null\n                        &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\n                    childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\n\n                    childMarginLeft = childMarginLayoutParams.leftMargin;\n                    childMarginRight = childMarginLayoutParams.rightMargin;\n                    childMarginTop = childMarginLayoutParams.topMargin;\n                    childMarginBottom = childMarginLayoutParams.bottomMargin;\n                }\n                else {\n                    childMarginLeft = 0;\n                    childMarginRight = 0;\n                    childMarginTop = 0;\n                    childMarginBottom = 0;\n                }\n\n                if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; width) {\n                    // this child will need to go on a new line\n\n                    xpos = getPaddingLeft();\n                    ypos += line_height;\n\n                    line_height = childMarginTop + childHeight + childMarginBottom;\n                }\n                else {\n                    // enough space for this child on the current line\n                    line_height = Math.max(\n                            line_height,\n                            childMarginTop + childHeight + childMarginBottom);\n                }\n\n                xpos += childMarginLeft + childWidth + childMarginRight;\n            }\n        }\n\n        ypos += line_height + getPaddingBottom();\n\n        if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.UNSPECIFIED) {\n            // set height as measured since there's no height restrictions\n            height = ypos;\n        }\n        else if (MeasureSpec.getMode(heightMeasureSpec) == MeasureSpec.AT_MOST\n                &amp;&amp; ypos &lt; height) {\n            // set height as measured since it's less than the maximum allowed\n            height = ypos;\n        }\n\n        setMeasuredDimension(width, height);\n    }\n\n    @Override\n    protected void onLayout(boolean changed, int l, int t, int r, int b) {\n        // increment the x position as we progress through a line\n        int xpos = getPaddingLeft();\n        // increment the y position as we progress through the lines\n        int ypos = getPaddingTop();\n        // the height of the current line\n        int line_height = 0;\n\n        View child;\n        MarginLayoutParams childMarginLayoutParams;\n        int childWidth, childHeight, childMarginLeft, childMarginRight, childMarginTop, childMarginBottom;\n\n        for (int i = 0; i &lt; getChildCount(); i++) {\n            child = getChildAt(i);\n\n            if (child.getVisibility() != GONE) {\n                childWidth = child.getMeasuredWidth();\n                childHeight = child.getMeasuredHeight();\n\n                if (child.getLayoutParams() != null\n                        &amp;&amp; child.getLayoutParams() instanceof MarginLayoutParams) {\n                    childMarginLayoutParams = (MarginLayoutParams)child.getLayoutParams();\n\n                    childMarginLeft = childMarginLayoutParams.leftMargin;\n                    childMarginRight = childMarginLayoutParams.rightMargin;\n                    childMarginTop = childMarginLayoutParams.topMargin;\n                    childMarginBottom = childMarginLayoutParams.bottomMargin;\n                }\n                else {\n                    childMarginLeft = 0;\n                    childMarginRight = 0;\n                    childMarginTop = 0;\n                    childMarginBottom = 0;\n                }\n\n                if (xpos + childMarginLeft + childWidth + childMarginRight + getPaddingRight() &gt; r - l) {\n                    // this child will need to go on a new line\n\n                    xpos = getPaddingLeft();\n                    ypos += line_height;\n\n                    line_height = childHeight + childMarginTop + childMarginBottom;\n                }\n                else {\n                    // enough space for this child on the current line\n                    line_height = Math.max(\n                            line_height,\n                            childMarginTop + childHeight + childMarginBottom);\n                }\n\n                child.layout(\n                        xpos + childMarginLeft,\n                        ypos + childMarginTop,\n                        xpos + childMarginLeft + childWidth,\n                        ypos + childMarginTop + childHeight);\n\n                xpos += childMarginLeft + childWidth + childMarginRight;\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>My XML</p>\n\n<pre><code>    &lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;RelativeLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:paddingBottom=\"@dimen/activity_vertical_margin\"\n    android:paddingLeft=\"@dimen/activity_horizontal_margin\"\n    android:paddingRight=\"@dimen/activity_horizontal_margin\"\n    android:paddingTop=\"@dimen/activity_vertical_margin\"\n    tools:context=\"com.example.nikolai.app.MainActivity\"&gt;\n\n    &lt;com.example.nikolai.app.HorizontalFlowLayout\n        android:id=\"@+id/horizontal_flow_layout\"\n        android:layout_width=\"fill_parent\"\n        android:layout_height=\"wrap_content\"\n        android:paddingLeft=\"@dimen/size_5\"\n        android:paddingRight=\"@dimen/size_5\"&gt;\n\n\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:textSize=\"20dp\"\n            android:text=\"blablabla\"/&gt;\n\n        &lt;EditText\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:textSize=\"20dp\"\n            android:ems=\"7\"/&gt;\n        &lt;TextView\n            android:layout_width=\"wrap_content\"\n            android:layout_height=\"wrap_content\"\n            android:textSize=\"20dp\"\n            android:text=\"tatatatatatatatata\"/&gt;\n\n    &lt;/com.example.nikolai.app.HorizontalFlowLayout&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/A8Eok.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/A8Eok.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","email","intellij-idea","smtp"],"answers":[{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615226784,"creation_date":1615226784,"answer_id":66534925,"question_id":66534689,"body_markdown":"Basically like my code.\r\n - It is just a proof of concept, and quite unsafe and inefficient\r\n - I&#39;m using lombok. The `read()` method is basically a `BufferedReader.readLine()` call on the socket&#39;s InputStream.\r\n - send() is a writeLine\r\n - My entry point `handleSocket()` is when the Socket connection is established.\r\n - The String.toNLine() method is a Lombok extension, you can replace it with string.replace(&quot;\\r\\n&quot; , &quot;\\n&quot;);\r\n\r\nBe aware that this is simply a stupid implementation that can be fooled easily, but it enables basic email receiving. You get ALL the communication in the StringBuilder. You could take that final whole text apart with MIME classes (Header / newline / newline body method that is used by HTTP, SMTP etc).\r\n\r\nThis approach collects the whole comunication first, then later (outside given code) handles the actual MIME part. You could also implement it differently, as in the code knows the current state of transmission and details of the MIME object it&#39;s currently receiving, and updates its status/workflow with each line. That would be much more efficient, but the code would be a bit more complex.\r\n\r\n\r\n    package jc.lib.io.net.email.smtp.server.receiver;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    import jc.lib.aop.lombok.java.lang.JcAString;\r\n    import jc.lib.collection.tuples.JcTriple;\r\n    import jc.lib.io.net.email.JcEMailBasics;\r\n    import jc.lib.io.net.email.util.JcAServerSocketHandlerBase;\r\n    import jc.lib.lang.thread.event.JcEvent;\r\n    import lombok.experimental.ExtensionMethod;\r\n    \r\n    @ExtensionMethod({ JcAString.class })\r\n    public class JcSmtpReceiverSocketHandler extends JcAServerSocketHandlerBase {\r\n    \r\n    \r\n    \r\n    \tpublic final JcEvent&lt;JcTriple&lt;JcSmtpReceiver, JcSmtpReceiverSocketHandler, File&gt;&gt; EVENT_EMAIL_RECEIVED = new JcEvent&lt;&gt;();\r\n    \r\n    \r\n    \r\n    \tprivate final JcSmtpReceiver mJcAServerBase;\r\n    \r\n    \tprivate boolean mReceivingData;\r\n    \r\n    \tpublic JcSmtpReceiverSocketHandler(final JcSmtpReceiver pJcAServerBase, final ServerSocket pServerSocket, final Socket pSocket) throws IOException {\r\n    \t\tsuper(pServerSocket, pSocket);\r\n    \t\tmJcAServerBase = pJcAServerBase;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t@Override protected void handleSocket() throws IOException {\r\n    \t\tsend(&quot;220 cbsoft.dev SMTP &quot; + JcEMailBasics.NAME);\r\n    \r\n    \t\tfinal StringBuilder sb = new StringBuilder();\r\n    \r\n    \t\tmainLoop: while (!mSocket.isClosed()) {\r\n    \t\t\tfinal String read = read();\r\n    \t\t\tif (read == null) break;\r\n    \r\n    \t\t\tswitch (read) {\r\n    \t\t\t\tcase JcEMailBasics.COMMAND_DATA: {\r\n    \t\t\t\t\tsend(&quot;354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;&quot;);\r\n    \t\t\t\t\tmReceivingData = true;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tcase JcEMailBasics.COMMAND_END_OF_DATA: {\r\n    \t\t\t\t\tsend(&quot;250 OK&quot;);\r\n    \t\t\t\t\tmReceivingData = false;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tcase JcEMailBasics.COMMAND_QUIT: {\r\n    \t\t\t\t\tsend(&quot;221 &quot; + JcEMailBasics.NAME + &quot; signing off&quot;);\r\n    \t\t\t\t\tbreak mainLoop;\r\n    \t\t\t\t}\r\n    \t\t\t\tdefault: {\r\n    \t\t\t\t\tfinal String correctedRead = read.startsWith(&quot;.&quot;) ? read.substring(1) : read;\r\n    \t\t\t\t\tsb.append(correctedRead + &quot;\\n&quot;);\r\n    \t\t\t\t\tif (!mReceivingData) send(&quot;250 Ok&quot;);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tfinal SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd_HH-mm-ss&quot;);\r\n    \t\tfinal File file = new File(&quot;mails/inc_&quot; + sdf.format(new Date()) + &quot;.email.txt&quot;);\r\n    \t\tfile.getParentFile().mkdirs();\r\n    \r\n    \t\tString msg = sb.toString();\r\n    \t\tmsg = msg.toNLineBreak();\r\n    \t\tfinal String header = msg.subStringBefore(&quot;\\n\\n&quot;);\r\n    \t\tSystem.out.println(&quot;header:&quot;);\r\n    \r\n    \r\n    \r\n    \t\ttry (FileOutputStream fos = new FileOutputStream(file)) {\r\n    \t\t\tfos.write(msg.getBytes());\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;File saved as &quot; + file.getCanonicalPath());\r\n    \r\n    \t\tEVENT_EMAIL_RECEIVED.trigger(new JcTriple&lt;&gt;(mJcAServerBase, this, file));\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nCheck out this file for some ports and other info.\r\n\r\n\r\n    package jc.lib.io.net.email;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    \r\n    import jc.lib.io.net.email.util.JcAServerBase;\r\n    import jc.lib.lang.JcUArray;\r\n    \r\n    public class JcEMailBasics {\r\n    \r\n    \r\n    \r\n    \tstatic public final int\t\tSMTP_PORT_1\t= 25;\r\n    \tstatic public final int\t\tSMTP_PORT_2\t= 587;\r\n    \tstatic public final int\t\tSMTP_PORT_3\t= 465;\r\n    \tstatic public final int[]\tSMTP_PORTS\t= { SMTP_PORT_1, SMTP_PORT_2, SMTP_PORT_3 };\r\n    \r\n    \tstatic public final int\t\tPOP_PORT_1\t\t\t= 110;\r\n    \tstatic public final int\t\tPOP_PORT_SSL\t\t= 995;\r\n    \tstatic public final int\t\tPOP_PORT_KERBEROS\t= 1109;\r\n    \tstatic public final int[]\tPOP_PORTS\t\t\t= { POP_PORT_1, POP_PORT_SSL, POP_PORT_KERBEROS };\r\n    \r\n    \t// netstat -aon | findstr &#39;587&#39;\r\n    \r\n    \r\n    \r\n    \tstatic public final String DEFAULT_CHARSET_SMTP_POP3 = &quot;8859_1&quot;;\r\n    \r\n    \tstatic public final String\tNAME\t\t\t\t= &quot;JC Oblivionat0r POP3 Server&quot;;\r\n    \tstatic public final String\tSERVICE_ADDRESS\t\t= &quot;oblivionat0r@cbsoft.dev&quot;;\r\n    \tstatic public final String\tCONNECTION_CLOSED\t= &quot;CONNECTION_CLOSED_dtnt495n3479r5zb3tr47c3b49c3&quot;;\r\n    \tstatic public final String\tCOMMAND_QUIT\t\t= &quot;QUIT&quot;;\r\n    \tstatic public final String\tCOMMAND_DATA\t\t= &quot;DATA&quot;;\r\n    \tstatic public final String\tCOMMAND_END_OF_DATA\t= &quot;.&quot;;\r\n    \r\n    \r\n    \r\n    \tstatic public void send(final BufferedWriter pBufferedWriter, final String pMessage) throws IOException {\r\n    \t\tpBufferedWriter.write(pMessage + &quot;\\n&quot;);\r\n    \t\tpBufferedWriter.flush();\r\n    \t\tif (JcAServerBase.DEBUG) System.out.println(&quot;SENT:\\t&quot; + pMessage);\r\n    \t}\r\n    \tstatic public String sendExpect(final BufferedWriter pBufferedWriter, final String pMessage, final BufferedReader pBufferedReader, final String... pExpectedResponsePrefixes) throws IOException {\r\n    \t\tsend(pBufferedWriter, pMessage);\r\n    \t\tfinal String read = read(pBufferedReader);\r\n    \t\tfor (final String erp : pExpectedResponsePrefixes) {\r\n    \t\t\tif (read.startsWith(erp)) return read;\r\n    \t\t}\r\n    \t\tthrow new IllegalStateException(&quot;Bad response: Expected [&quot; + JcUArray.toString(&quot;, &quot;, pExpectedResponsePrefixes) + &quot;] got [&quot; + read + &quot;] instead!&quot;);\r\n    \t}\r\n    \r\n    \tstatic public String read(final BufferedReader pBufferedReader) throws IOException {\r\n    \t\tfinal String reply = pBufferedReader.readLine();\r\n    \t\tif (JcAServerBase.DEBUG) System.out.println(&quot;RECV:\\t&quot; + reply);\r\n    \t\treturn reply;\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n","title":"How do I code my own SMTP Server using Java?","body":"<p>Basically like my code.</p>\n<ul>\n<li>It is just a proof of concept, and quite unsafe and inefficient</li>\n<li>I'm using lombok. The <code>read()</code> method is basically a <code>BufferedReader.readLine()</code> call on the socket's InputStream.</li>\n<li>send() is a writeLine</li>\n<li>My entry point <code>handleSocket()</code> is when the Socket connection is established.</li>\n<li>The String.toNLine() method is a Lombok extension, you can replace it with string.replace(&quot;\\r\\n&quot; , &quot;\\n&quot;);</li>\n</ul>\n<p>Be aware that this is simply a stupid implementation that can be fooled easily, but it enables basic email receiving. You get ALL the communication in the StringBuilder. You could take that final whole text apart with MIME classes (Header / newline / newline body method that is used by HTTP, SMTP etc).</p>\n<p>This approach collects the whole comunication first, then later (outside given code) handles the actual MIME part. You could also implement it differently, as in the code knows the current state of transmission and details of the MIME object it's currently receiving, and updates its status/workflow with each line. That would be much more efficient, but the code would be a bit more complex.</p>\n<pre><code>package jc.lib.io.net.email.smtp.server.receiver;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport jc.lib.aop.lombok.java.lang.JcAString;\nimport jc.lib.collection.tuples.JcTriple;\nimport jc.lib.io.net.email.JcEMailBasics;\nimport jc.lib.io.net.email.util.JcAServerSocketHandlerBase;\nimport jc.lib.lang.thread.event.JcEvent;\nimport lombok.experimental.ExtensionMethod;\n\n@ExtensionMethod({ JcAString.class })\npublic class JcSmtpReceiverSocketHandler extends JcAServerSocketHandlerBase {\n\n\n\n    public final JcEvent&lt;JcTriple&lt;JcSmtpReceiver, JcSmtpReceiverSocketHandler, File&gt;&gt; EVENT_EMAIL_RECEIVED = new JcEvent&lt;&gt;();\n\n\n\n    private final JcSmtpReceiver mJcAServerBase;\n\n    private boolean mReceivingData;\n\n    public JcSmtpReceiverSocketHandler(final JcSmtpReceiver pJcAServerBase, final ServerSocket pServerSocket, final Socket pSocket) throws IOException {\n        super(pServerSocket, pSocket);\n        mJcAServerBase = pJcAServerBase;\n    }\n\n\n\n    @Override protected void handleSocket() throws IOException {\n        send(&quot;220 cbsoft.dev SMTP &quot; + JcEMailBasics.NAME);\n\n        final StringBuilder sb = new StringBuilder();\n\n        mainLoop: while (!mSocket.isClosed()) {\n            final String read = read();\n            if (read == null) break;\n\n            switch (read) {\n                case JcEMailBasics.COMMAND_DATA: {\n                    send(&quot;354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;&quot;);\n                    mReceivingData = true;\n                    break;\n                }\n                case JcEMailBasics.COMMAND_END_OF_DATA: {\n                    send(&quot;250 OK&quot;);\n                    mReceivingData = false;\n                    break;\n                }\n                case JcEMailBasics.COMMAND_QUIT: {\n                    send(&quot;221 &quot; + JcEMailBasics.NAME + &quot; signing off&quot;);\n                    break mainLoop;\n                }\n                default: {\n                    final String correctedRead = read.startsWith(&quot;.&quot;) ? read.substring(1) : read;\n                    sb.append(correctedRead + &quot;\\n&quot;);\n                    if (!mReceivingData) send(&quot;250 Ok&quot;);\n                }\n            }\n        }\n\n        final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd_HH-mm-ss&quot;);\n        final File file = new File(&quot;mails/inc_&quot; + sdf.format(new Date()) + &quot;.email.txt&quot;);\n        file.getParentFile().mkdirs();\n\n        String msg = sb.toString();\n        msg = msg.toNLineBreak();\n        final String header = msg.subStringBefore(&quot;\\n\\n&quot;);\n        System.out.println(&quot;header:&quot;);\n\n\n\n        try (FileOutputStream fos = new FileOutputStream(file)) {\n            fos.write(msg.getBytes());\n        }\n        System.out.println(&quot;File saved as &quot; + file.getCanonicalPath());\n\n        EVENT_EMAIL_RECEIVED.trigger(new JcTriple&lt;&gt;(mJcAServerBase, this, file));\n    }\n\n\n\n}\n</code></pre>\n<p>Check out this file for some ports and other info.</p>\n<pre><code>package jc.lib.io.net.email;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\n\nimport jc.lib.io.net.email.util.JcAServerBase;\nimport jc.lib.lang.JcUArray;\n\npublic class JcEMailBasics {\n\n\n\n    static public final int     SMTP_PORT_1 = 25;\n    static public final int     SMTP_PORT_2 = 587;\n    static public final int     SMTP_PORT_3 = 465;\n    static public final int[]   SMTP_PORTS  = { SMTP_PORT_1, SMTP_PORT_2, SMTP_PORT_3 };\n\n    static public final int     POP_PORT_1          = 110;\n    static public final int     POP_PORT_SSL        = 995;\n    static public final int     POP_PORT_KERBEROS   = 1109;\n    static public final int[]   POP_PORTS           = { POP_PORT_1, POP_PORT_SSL, POP_PORT_KERBEROS };\n\n    // netstat -aon | findstr '587'\n\n\n\n    static public final String DEFAULT_CHARSET_SMTP_POP3 = &quot;8859_1&quot;;\n\n    static public final String  NAME                = &quot;JC Oblivionat0r POP3 Server&quot;;\n    static public final String  SERVICE_ADDRESS     = &quot;oblivionat0r@cbsoft.dev&quot;;\n    static public final String  CONNECTION_CLOSED   = &quot;CONNECTION_CLOSED_dtnt495n3479r5zb3tr47c3b49c3&quot;;\n    static public final String  COMMAND_QUIT        = &quot;QUIT&quot;;\n    static public final String  COMMAND_DATA        = &quot;DATA&quot;;\n    static public final String  COMMAND_END_OF_DATA = &quot;.&quot;;\n\n\n\n    static public void send(final BufferedWriter pBufferedWriter, final String pMessage) throws IOException {\n        pBufferedWriter.write(pMessage + &quot;\\n&quot;);\n        pBufferedWriter.flush();\n        if (JcAServerBase.DEBUG) System.out.println(&quot;SENT:\\t&quot; + pMessage);\n    }\n    static public String sendExpect(final BufferedWriter pBufferedWriter, final String pMessage, final BufferedReader pBufferedReader, final String... pExpectedResponsePrefixes) throws IOException {\n        send(pBufferedWriter, pMessage);\n        final String read = read(pBufferedReader);\n        for (final String erp : pExpectedResponsePrefixes) {\n            if (read.startsWith(erp)) return read;\n        }\n        throw new IllegalStateException(&quot;Bad response: Expected [&quot; + JcUArray.toString(&quot;, &quot;, pExpectedResponsePrefixes) + &quot;] got [&quot; + read + &quot;] instead!&quot;);\n    }\n\n    static public String read(final BufferedReader pBufferedReader) throws IOException {\n        final String reply = pBufferedReader.readLine();\n        if (JcAServerBase.DEBUG) System.out.println(&quot;RECV:\\t&quot; + reply);\n        return reply;\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1615306665,"creation_date":1615306665,"answer_id":66550697,"question_id":66534689,"body_markdown":"Okay, found this early-development standalone version.\r\nUse this INSTEAD of your code; does everything your code does an more.\r\nSingle-threaded ServerSocket handling, so only one connection at a time.\r\n\r\n    package jc.lib.io.net.email.smtp.test1;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.io.OutputStreamWriter;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.net.SocketTimeoutException;\r\n    import java.net.UnknownHostException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    import jc.lib.io.net.email.JcEMailBasics;\r\n    \r\n    public class Test_SMTP_Server {\r\n    \r\n    \r\n    \r\n    \tstatic public boolean DEBUG = true;\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String s[]) throws UnknownHostException, IOException {\r\n    \t\tfinal Test_SMTP_Server server = new Test_SMTP_Server(JcEMailBasics.SMTP_PORTS);\r\n    \t\tserver.start();\r\n    \r\n    \t\ttry {\r\n    \t\t\tThread.sleep(1 * 60 * 60 * 1000);\r\n    \t\t} catch (final InterruptedException e) { /* */ }\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/*\r\n    \t * OBJECT\r\n    \t */\r\n    \r\n    \tprivate final ServerSocket[]\tmSockets;\r\n    \tprivate volatile boolean\t\tmStopRequested;\r\n    \tprivate static boolean\t\t\tmReceivingData;\r\n    \r\n    \r\n    \r\n    \tpublic Test_SMTP_Server(final int[] pPorts) throws IOException {\r\n    \t\tmSockets = new ServerSocket[pPorts.length];\r\n    \t\tfor (int i = 0; i &lt; pPorts.length; i++) {\r\n    \t\t\tfinal int port = pPorts[i];\r\n    \t\t\ttry {\r\n    \t\t\t\tmSockets[i] = new ServerSocket(port);\r\n    \t\t\t} catch (final java.net.BindException e) {\r\n    \t\t\t\tnew java.net.BindException(&quot;When mountin port &quot; + port + &quot;: &quot; + e.getMessage()).printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(&quot;Created server socket on port &quot; + port);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic void start() {\r\n    \t\tmStopRequested = false;\r\n    \t\tfor (final ServerSocket ss : mSockets) {\r\n    \t\t\tif (ss == null) continue;\r\n    \r\n    \t\t\tfinal Thread t = new Thread(() -&gt; handleServerSocket(ss), &quot;handleServerSocket(&quot; + ss.getLocalPort() + &quot;)&quot;);\r\n    \t\t\tt.setDaemon(true);\r\n    \t\t\tt.start();\r\n    \t\t}\r\n    \t}\r\n    \tprivate void handleServerSocket(final ServerSocket pSS) {\r\n    \t\tfinal String name = &quot;handleServerSocket(&quot; + pSS.getLocalPort() + &quot;)&quot;;\r\n    \t\twhile (!mStopRequested) {\r\n    \t\t\tSystem.out.println(name + &quot;\\tListening for connection...&quot;);\r\n    \t\t\ttry (final Socket socket = pSS.accept();\r\n    \t\t\t\t\tfinal BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream(), JcEMailBasics.DEFAULT_CHARSET_SMTP_POP3));\r\n    \t\t\t\t\tfinal BufferedWriter out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream(), JcEMailBasics.DEFAULT_CHARSET_SMTP_POP3));) {\r\n    \t\t\t\tSystem.out.println(name + &quot;\\tGot new Socket.&quot;);\r\n    \t\t\t\thandle(socket, in, out);\r\n    \t\t\t\tSystem.out.println(name + &quot;\\tClosing Socket.&quot;);\r\n    \t\t\t} catch (final IOException e) {\r\n    \t\t\t\tSystem.err.println(&quot;In &quot; + name + &quot;:&quot;);\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println(name + &quot;\\tComm Done.&quot;);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tpublic void stop() {\r\n    \t\tmStopRequested = true;\r\n    \t\tfor (final ServerSocket ss : mSockets) {\r\n    \t\t\ttry {\r\n    \t\t\t\tss.close();\r\n    \t\t\t} catch (final Exception e) { /* */ }\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tstatic private void handle(final Socket pSocket, final BufferedReader pBR, final BufferedWriter pBW) throws IOException {\r\n    \t\t//\t\tsend(&quot;+OK POP3 server ready &lt;&quot; + Test_EMails.SERVICE_ADDRESS + &quot;&gt;&quot;, out);\r\n    \t\tsend(&quot;220 cbsoft.dev SMTP &quot; + JcEMailBasics.NAME, pBW);\r\n    \r\n    \t\tfinal StringBuilder sb = new StringBuilder();\r\n    \r\n    \t\tmainLoop: while (!pSocket.isClosed()) {\r\n    \t\t\tfinal String read = read(pBR);\r\n    \t\t\tif (read == null) break;\r\n    \r\n    \t\t\tswitch (read) {\r\n    \t\t\t\tcase JcEMailBasics.COMMAND_DATA: {\r\n    \t\t\t\t\tsend(&quot;354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;&quot;, pBW);\r\n    \t\t\t\t\tmReceivingData = true;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tcase JcEMailBasics.COMMAND_END_OF_DATA: {\r\n    \t\t\t\t\tsend(&quot;250 OK&quot;, pBW);\r\n    \t\t\t\t\tmReceivingData = false;\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\tcase JcEMailBasics.COMMAND_QUIT: {\r\n    \t\t\t\t\tsend(&quot;221 &quot; + JcEMailBasics.NAME + &quot; signing off&quot;, pBW);\r\n    \t\t\t\t\tbreak mainLoop;\r\n    \t\t\t\t}\r\n    \t\t\t\tdefault: {\r\n    \t\t\t\t\tfinal String correctedRead = read.startsWith(&quot;.&quot;) ? read.substring(1) : read;\r\n    \t\t\t\t\tsb.append(correctedRead + &quot;\\n&quot;);\r\n    \t\t\t\t\tif (!mReceivingData) send(&quot;250 Ok&quot;, pBW);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tfinal SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd_HH-mm-ss&quot;);\r\n    \t\tfinal File file = new File(&quot;mails/inc_&quot; + sdf.format(new Date()) + &quot;.email.txt&quot;);\r\n    \t\tfile.getParentFile().mkdirs();\r\n    \t\tfinal String msg = sb.toString();\r\n    \t\ttry (FileOutputStream fos = new FileOutputStream(file)) {\r\n    \t\t\tfos.write(msg.getBytes());\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;File saved as &quot; + file.getCanonicalPath());\r\n    \t}\r\n    \r\n    \tstatic private void send(final String pMessage, final BufferedWriter pBW) {\r\n    \t\ttry {\r\n    \t\t\tpBW.write(pMessage + &quot;\\n&quot;);\r\n    \t\t\tpBW.flush();\r\n    \t\t\tif (DEBUG) System.out.println(&quot;SENT:\\t&quot; + pMessage);\r\n    \t\t} catch (final Exception e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tstatic private String read(final BufferedReader pBR) throws IOException {\r\n    \t\ttry {\r\n    \t\t\tfinal String reply = pBR.readLine();\r\n    \t\t\tif (DEBUG) System.out.println(&quot;RECV:\\t&quot; + reply);\r\n    \t\t\treturn reply;\r\n    \r\n    \t\t} catch (final SocketTimeoutException e) {\r\n    \t\t\tSystem.err.println(&quot;SERVER TIMEOUT&quot;);\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\nthe only additional file you will need (also included in my previous answer; edited a bit):\r\n\r\n\r\n    package jc.lib.io.net.email;\r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.BufferedWriter;\r\n    import java.io.IOException;\r\n    \r\n    \r\n    public class JcEMailBasics {\r\n    \r\n    \r\n    \r\n    \tstatic public final int\t\tSMTP_PORT_1\t= 25;\r\n    \tstatic public final int\t\tSMTP_PORT_2\t= 587;\r\n    \tstatic public final int\t\tSMTP_PORT_3\t= 465;\r\n    \tstatic public final int[]\tSMTP_PORTS\t= { SMTP_PORT_1, SMTP_PORT_2, SMTP_PORT_3 };\r\n    \r\n    \tstatic public final int\t\tPOP_PORT_1\t\t\t= 110;\r\n    \tstatic public final int\t\tPOP_PORT_SSL\t\t= 995;\r\n    \tstatic public final int\t\tPOP_PORT_KERBEROS\t= 1109;\r\n    \tstatic public final int[]\tPOP_PORTS\t\t\t= { POP_PORT_1, POP_PORT_SSL, POP_PORT_KERBEROS };\r\n    \r\n    \t// netstat -aon | findstr &#39;587&#39;\r\n    \r\n    \r\n    \r\n    \tstatic public final String DEFAULT_CHARSET_SMTP_POP3 = &quot;8859_1&quot;;\r\n    \r\n    \tstatic public final String\tNAME\t\t\t\t= &quot;JC Oblivionat0r POP3 Server&quot;;\r\n    \tstatic public final String\tSERVICE_ADDRESS\t\t= &quot;oblivionat0r@cbsoft.dev&quot;;\r\n    \tstatic public final String\tCONNECTION_CLOSED\t= &quot;CONNECTION_CLOSED_dtnt495n3479r5zb3tr47c3b49c3&quot;;\r\n    \tstatic public final String\tCOMMAND_QUIT\t\t= &quot;QUIT&quot;;\r\n    \tstatic public final String\tCOMMAND_DATA\t\t= &quot;DATA&quot;;\r\n    \tstatic public final String\tCOMMAND_END_OF_DATA\t= &quot;.&quot;;\r\n    \r\n    \r\n    \r\n    \tstatic public void send(final BufferedWriter pBufferedWriter, final String pMessage) throws IOException {\r\n    \t\tpBufferedWriter.write(pMessage + &quot;\\n&quot;);\r\n    \t\tpBufferedWriter.flush();\r\n    \t\tSystem.out.println(&quot;SENT:\\t&quot; + pMessage);\r\n    \t}\r\n    \tstatic public String sendExpect(final BufferedWriter pBufferedWriter, final String pMessage, final BufferedReader pBufferedReader, final String... pExpectedResponsePrefixes) throws IOException {\r\n    \t\tsend(pBufferedWriter, pMessage);\r\n    \t\tfinal String read = read(pBufferedReader);\r\n    \t\tfor (final String erp : pExpectedResponsePrefixes) {\r\n    \t\t\tif (read.startsWith(erp)) return read;\r\n    \t\t}\r\n    \t\tthrow new IllegalStateException(&quot;Bad response: Expected [&quot; + toString(&quot;, &quot;, pExpectedResponsePrefixes) + &quot;] got [&quot; + read + &quot;] instead!&quot;);\r\n    \t}\r\n    \r\n    \tstatic public String read(final BufferedReader pBufferedReader) throws IOException {\r\n    \t\tfinal String reply = pBufferedReader.readLine();\r\n    \t\tSystem.out.println(&quot;RECV:\\t&quot; + reply);\r\n    \t\treturn reply;\r\n    \t}\r\n    \r\n    \t@SafeVarargs public static &lt;T&gt; String toString(final String pSeparator, final T... pObjects) {\r\n    \t\tif (pObjects == null) return null;\r\n    \t\tfinal StringBuilder ret = new StringBuilder();\r\n    \t\tfor (final T o : pObjects) {\r\n    \t\t\tret.append(o + pSeparator);\r\n    \t\t}\r\n    \t\tif (ret.length() &gt; 0) ret.setLength(ret.length() - pSeparator.length());\r\n    \t\treturn ret.toString();\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n","title":"How do I code my own SMTP Server using Java?","body":"<p>Okay, found this early-development standalone version.\nUse this INSTEAD of your code; does everything your code does an more.\nSingle-threaded ServerSocket handling, so only one connection at a time.</p>\n<pre><code>package jc.lib.io.net.email.smtp.test1;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.io.OutputStreamWriter;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketTimeoutException;\nimport java.net.UnknownHostException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\nimport jc.lib.io.net.email.JcEMailBasics;\n\npublic class Test_SMTP_Server {\n\n\n\n    static public boolean DEBUG = true;\n\n\n\n    public static void main(final String s[]) throws UnknownHostException, IOException {\n        final Test_SMTP_Server server = new Test_SMTP_Server(JcEMailBasics.SMTP_PORTS);\n        server.start();\n\n        try {\n            Thread.sleep(1 * 60 * 60 * 1000);\n        } catch (final InterruptedException e) { /* */ }\n    }\n\n\n\n    /*\n     * OBJECT\n     */\n\n    private final ServerSocket[]    mSockets;\n    private volatile boolean        mStopRequested;\n    private static boolean          mReceivingData;\n\n\n\n    public Test_SMTP_Server(final int[] pPorts) throws IOException {\n        mSockets = new ServerSocket[pPorts.length];\n        for (int i = 0; i &lt; pPorts.length; i++) {\n            final int port = pPorts[i];\n            try {\n                mSockets[i] = new ServerSocket(port);\n            } catch (final java.net.BindException e) {\n                new java.net.BindException(&quot;When mountin port &quot; + port + &quot;: &quot; + e.getMessage()).printStackTrace();\n            }\n            System.out.println(&quot;Created server socket on port &quot; + port);\n        }\n    }\n\n\n\n    public void start() {\n        mStopRequested = false;\n        for (final ServerSocket ss : mSockets) {\n            if (ss == null) continue;\n\n            final Thread t = new Thread(() -&gt; handleServerSocket(ss), &quot;handleServerSocket(&quot; + ss.getLocalPort() + &quot;)&quot;);\n            t.setDaemon(true);\n            t.start();\n        }\n    }\n    private void handleServerSocket(final ServerSocket pSS) {\n        final String name = &quot;handleServerSocket(&quot; + pSS.getLocalPort() + &quot;)&quot;;\n        while (!mStopRequested) {\n            System.out.println(name + &quot;\\tListening for connection...&quot;);\n            try (final Socket socket = pSS.accept();\n                    final BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream(), JcEMailBasics.DEFAULT_CHARSET_SMTP_POP3));\n                    final BufferedWriter out = new BufferedWriter(new OutputStreamWriter(socket.getOutputStream(), JcEMailBasics.DEFAULT_CHARSET_SMTP_POP3));) {\n                System.out.println(name + &quot;\\tGot new Socket.&quot;);\n                handle(socket, in, out);\n                System.out.println(name + &quot;\\tClosing Socket.&quot;);\n            } catch (final IOException e) {\n                System.err.println(&quot;In &quot; + name + &quot;:&quot;);\n                e.printStackTrace();\n            }\n            System.out.println(name + &quot;\\tComm Done.&quot;);\n        }\n    }\n\n    public void stop() {\n        mStopRequested = true;\n        for (final ServerSocket ss : mSockets) {\n            try {\n                ss.close();\n            } catch (final Exception e) { /* */ }\n        }\n    }\n\n\n\n    static private void handle(final Socket pSocket, final BufferedReader pBR, final BufferedWriter pBW) throws IOException {\n        //      send(&quot;+OK POP3 server ready &lt;&quot; + Test_EMails.SERVICE_ADDRESS + &quot;&gt;&quot;, out);\n        send(&quot;220 cbsoft.dev SMTP &quot; + JcEMailBasics.NAME, pBW);\n\n        final StringBuilder sb = new StringBuilder();\n\n        mainLoop: while (!pSocket.isClosed()) {\n            final String read = read(pBR);\n            if (read == null) break;\n\n            switch (read) {\n                case JcEMailBasics.COMMAND_DATA: {\n                    send(&quot;354 End data with &lt;CR&gt;&lt;LF&gt;.&lt;CR&gt;&lt;LF&gt;&quot;, pBW);\n                    mReceivingData = true;\n                    break;\n                }\n                case JcEMailBasics.COMMAND_END_OF_DATA: {\n                    send(&quot;250 OK&quot;, pBW);\n                    mReceivingData = false;\n                    break;\n                }\n                case JcEMailBasics.COMMAND_QUIT: {\n                    send(&quot;221 &quot; + JcEMailBasics.NAME + &quot; signing off&quot;, pBW);\n                    break mainLoop;\n                }\n                default: {\n                    final String correctedRead = read.startsWith(&quot;.&quot;) ? read.substring(1) : read;\n                    sb.append(correctedRead + &quot;\\n&quot;);\n                    if (!mReceivingData) send(&quot;250 Ok&quot;, pBW);\n                }\n            }\n        }\n\n        final SimpleDateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd_HH-mm-ss&quot;);\n        final File file = new File(&quot;mails/inc_&quot; + sdf.format(new Date()) + &quot;.email.txt&quot;);\n        file.getParentFile().mkdirs();\n        final String msg = sb.toString();\n        try (FileOutputStream fos = new FileOutputStream(file)) {\n            fos.write(msg.getBytes());\n        }\n        System.out.println(&quot;File saved as &quot; + file.getCanonicalPath());\n    }\n\n    static private void send(final String pMessage, final BufferedWriter pBW) {\n        try {\n            pBW.write(pMessage + &quot;\\n&quot;);\n            pBW.flush();\n            if (DEBUG) System.out.println(&quot;SENT:\\t&quot; + pMessage);\n        } catch (final Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    static private String read(final BufferedReader pBR) throws IOException {\n        try {\n            final String reply = pBR.readLine();\n            if (DEBUG) System.out.println(&quot;RECV:\\t&quot; + reply);\n            return reply;\n\n        } catch (final SocketTimeoutException e) {\n            System.err.println(&quot;SERVER TIMEOUT&quot;);\n        }\n        return null;\n    }\n\n\n\n}\n</code></pre>\n<p>the only additional file you will need (also included in my previous answer; edited a bit):</p>\n<pre><code>package jc.lib.io.net.email;\n\nimport java.io.BufferedReader;\nimport java.io.BufferedWriter;\nimport java.io.IOException;\n\n\npublic class JcEMailBasics {\n\n\n\n    static public final int     SMTP_PORT_1 = 25;\n    static public final int     SMTP_PORT_2 = 587;\n    static public final int     SMTP_PORT_3 = 465;\n    static public final int[]   SMTP_PORTS  = { SMTP_PORT_1, SMTP_PORT_2, SMTP_PORT_3 };\n\n    static public final int     POP_PORT_1          = 110;\n    static public final int     POP_PORT_SSL        = 995;\n    static public final int     POP_PORT_KERBEROS   = 1109;\n    static public final int[]   POP_PORTS           = { POP_PORT_1, POP_PORT_SSL, POP_PORT_KERBEROS };\n\n    // netstat -aon | findstr '587'\n\n\n\n    static public final String DEFAULT_CHARSET_SMTP_POP3 = &quot;8859_1&quot;;\n\n    static public final String  NAME                = &quot;JC Oblivionat0r POP3 Server&quot;;\n    static public final String  SERVICE_ADDRESS     = &quot;oblivionat0r@cbsoft.dev&quot;;\n    static public final String  CONNECTION_CLOSED   = &quot;CONNECTION_CLOSED_dtnt495n3479r5zb3tr47c3b49c3&quot;;\n    static public final String  COMMAND_QUIT        = &quot;QUIT&quot;;\n    static public final String  COMMAND_DATA        = &quot;DATA&quot;;\n    static public final String  COMMAND_END_OF_DATA = &quot;.&quot;;\n\n\n\n    static public void send(final BufferedWriter pBufferedWriter, final String pMessage) throws IOException {\n        pBufferedWriter.write(pMessage + &quot;\\n&quot;);\n        pBufferedWriter.flush();\n        System.out.println(&quot;SENT:\\t&quot; + pMessage);\n    }\n    static public String sendExpect(final BufferedWriter pBufferedWriter, final String pMessage, final BufferedReader pBufferedReader, final String... pExpectedResponsePrefixes) throws IOException {\n        send(pBufferedWriter, pMessage);\n        final String read = read(pBufferedReader);\n        for (final String erp : pExpectedResponsePrefixes) {\n            if (read.startsWith(erp)) return read;\n        }\n        throw new IllegalStateException(&quot;Bad response: Expected [&quot; + toString(&quot;, &quot;, pExpectedResponsePrefixes) + &quot;] got [&quot; + read + &quot;] instead!&quot;);\n    }\n\n    static public String read(final BufferedReader pBufferedReader) throws IOException {\n        final String reply = pBufferedReader.readLine();\n        System.out.println(&quot;RECV:\\t&quot; + reply);\n        return reply;\n    }\n\n    @SafeVarargs public static &lt;T&gt; String toString(final String pSeparator, final T... pObjects) {\n        if (pObjects == null) return null;\n        final StringBuilder ret = new StringBuilder();\n        for (final T o : pObjects) {\n            ret.append(o + pSeparator);\n        }\n        if (ret.length() &gt; 0) ret.setLength(ret.length() - pSeparator.length());\n        return ret.toString();\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27003126,"reputation":1,"user_id":20564085,"display_name":"Arjan Luiten"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669042937,"creation_date":1669042937,"answer_id":74520908,"question_id":66534689,"body_markdown":"You need to communicate with the client. &lt;br&gt;\r\nFirst let the server send something like &quot;220 Smtp server&quot; (only 220 matters) to the client. &lt;br&gt;\r\nI used PrintWriter: \r\n\r\n    PrintWriter out = new PrintWriter(client.getOutputStream(), true);\r\n    out.println(&quot;220 Smtp server&quot;);\r\n\r\nThen you will receive an EHLO from the client while getting lines from the inputStream. \r\n\r\nHere you can find an example of the communication between server an client  (without the starting message from the server (220)):\r\nhttps://postmarkapp.com/guides/everything-you-need-to-know-about-smtp#basic-smtp-commands\r\n","title":"How do I code my own SMTP Server using Java?","body":"<p>You need to communicate with the client. <br>\nFirst let the server send something like &quot;220 Smtp server&quot; (only 220 matters) to the client. <br>\nI used PrintWriter:</p>\n<pre><code>PrintWriter out = new PrintWriter(client.getOutputStream(), true);\nout.println(&quot;220 Smtp server&quot;);\n</code></pre>\n<p>Then you will receive an EHLO from the client while getting lines from the inputStream.</p>\n<p>Here you can find an example of the communication between server an client  (without the starting message from the server (220)):\n<a href=\"https://postmarkapp.com/guides/everything-you-need-to-know-about-smtp#basic-smtp-commands\" rel=\"nofollow noreferrer\">https://postmarkapp.com/guides/everything-you-need-to-know-about-smtp#basic-smtp-commands</a></p>\n"}],"owner":{"account_id":20756256,"reputation":57,"user_id":15242627,"display_name":"Jimmy665566"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1331,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66550697,"answer_count":3,"score":1,"last_activity_date":1669042937,"creation_date":1615225716,"question_id":66534689,"body_markdown":"So I have a client written in Java that i want to use to test out sending email but instead of using an already existing SMTP like google, i want to have my own local server to test out sending mock emails between two mock emails. \r\n\r\nI&#39;ve been trying to look all over the internet for good sources on how to code a simple SMTP Server but i&#39;ve had zero luck. \r\n\r\nI do have a basic server code that when i run it, i can connect my Client to it but at the moment it won&#39;t handle any email functionality. \r\n\r\nTCPServer.java\r\n```\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStreamReader;\r\nimport java.net.InetAddress;\r\nimport java.net.ServerSocket;\r\nimport java.net.Socket;\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class TCPServer{\r\n    private ServerSocket server;\r\n\r\n    /**\r\n     * The TCPServer constructor initiate the socket\r\n     * @param ipAddress\r\n     * @param port\r\n     * @throws Exception\r\n     */\r\n    public TCPServer(String ipAddress, int port) throws Exception {\r\n        if (ipAddress != null &amp;&amp; !ipAddress.isEmpty())\r\n            this.server = new ServerSocket(port, 1, InetAddress.getByName(ipAddress));\r\n        else\r\n            this.server = new ServerSocket(0, 1, InetAddress.getLocalHost());\r\n    }\r\n\r\n    /**\r\n     * The listen method listen to incoming client&#39;s datagrams and requests\r\n     * @throws Exception\r\n     */\r\n    private void listen() throws Exception {\r\n        // listen to incoming client&#39;s requests via the ServerSocket\r\n        //add your code here\r\n        String data = null;\r\n        Socket client = this.server.accept();\r\n        String clientAddress = client.getInetAddress().getHostAddress();\r\n        System.out.println(&quot;\\r\\nNew client connection from &quot; + clientAddress);\r\n\r\n        // print received datagrams from client\r\n        //add your code here\r\n        BufferedReader in = new BufferedReader(new InputStreamReader(client.getInputStream()));\r\n        while ( (data = in.readLine()) != null ) {\r\n            System.out.println(&quot;\\r\\nMessage from &quot; + clientAddress + &quot;: &quot; + data);\r\n            client.sendUrgentData(1);\r\n        }\r\n    }\r\n\r\n    public InetAddress getSocketAddress() {\r\n        return this.server.getInetAddress();\r\n    }\r\n\r\n    public int getPort() {\r\n        return this.server.getLocalPort();\r\n    }\r\n\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // set the server address (IP) and port number\r\n        //add your code here\r\n        String serverIP = &quot;192.168.1.235&quot;; // local IP address\r\n        int port = 8088;\r\n\r\n        if (args.length &gt; 0) {\r\n            serverIP = args[0];\r\n            port = Integer.parseInt(args[1]);\r\n        }\r\n        // call the constructor and pass the IP and port\r\n        //add your code here\r\n        TCPServer server = new TCPServer(serverIP, port);\r\n        System.out.println(&quot;\\r\\nRunning Server: &quot; +\r\n                &quot;Host=&quot; + server.getSocketAddress().getHostAddress() +\r\n                &quot; Port=&quot; + server.getPort());\r\n        server.listen();\r\n    }\r\n\r\n}\r\n```\r\nWhat can i add to my existing server code to make it handle email for my Client. I&#39;ll also post my email client as well.\r\n\r\nClientTester.java\r\n```\r\n\r\nimport java.io.*;\r\nimport java.net.DatagramSocket;\r\nimport java.net.InetAddress;\r\nimport java.net.Socket;\r\nimport java.util.Scanner;\r\n\r\n/**\r\n * This program demonstrates a TCP client\r\n * @author jl922223\r\n * @version 1.0\r\n * @since 2020-12-12\r\n */\r\n\r\npublic class ClientTester{\r\n    private Socket tcpSocket;\r\n    private InetAddress serverAddress;\r\n    private int serverPort;\r\n    private Scanner scanner;\r\n\r\n    /**\r\n     * @param serverAddress\r\n     * @param serverPort\r\n     * @throws Exception\r\n     */\r\n    private ClientTester(InetAddress serverAddress, int serverPort) throws Exception {\r\n        this.serverAddress = serverAddress;\r\n        this.serverPort = serverPort;\r\n\r\n        //Initiate the connection with the server using Socket.\r\n        //For this, creates a stream socket and connects it to the specified port number at the specified IP address.\r\n        //add your code here\r\n        this.tcpSocket = new Socket(this.serverAddress, this.serverPort);\r\n        this.scanner = new Scanner(System.in);\r\n    }\r\n\r\n    /**\r\n     * The start method connect to the server and datagrams\r\n     * @throws IOException\r\n     */\r\n/*    private void start() throws IOException {\r\n        String input;\r\n        //create a new PrintWriter from an existing OutputStream (i.e., tcpSocket).\r\n        //This convenience constructor creates the necessary intermediateOutputStreamWriter, which will convert characters into bytes using the default character encoding\r\n        //You may add your code in a loop so that client can keep send datagrams to server\r\n        //add your code here\r\n        while (true) {\r\n            System.out.print (&quot;C:&quot;);\r\n            input = scanner.nextLine();\r\n            PrintWriter output = new PrintWriter(this.tcpSocket.getOutputStream(), true);\r\n            output.println(input);\r\n            output.flush();\r\n        }\r\n    }*/\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        // set the server address (IP) and port number\r\n        //add your code here\r\n        //IP: 192.168.1.235\r\n        //Port: 8088\r\n        InetAddress serverIP = InetAddress.getByName(&quot;smtp.google.com&quot;); // local IP address\r\n        int port = 25;\r\n        if (args.length &gt; 0) {\r\n            serverIP = InetAddress.getByName(args[0]);\r\n            port = Integer.parseInt(args[1]);\r\n        }\r\n\r\n        // call the constructor and pass the IP and port\r\n        //add your code here\r\n        ClientTester client = new ClientTester(serverIP, port);\r\n\r\n//        client.start();\r\n\r\n        try{\r\n\r\n            client = new ClientTester(serverIP, port);\r\n\r\n            System.out.println(&quot;\\r\\n Connected to Server: &quot; + client.tcpSocket.getInetAddress());\r\n\r\n            BufferedReader stdin;\r\n            stdin = new BufferedReader (new InputStreamReader (System.in));\r\n\r\n            InputStream is = client.tcpSocket.getInputStream ();\r\n            BufferedReader sockin;\r\n            sockin = new BufferedReader (new InputStreamReader (is));\r\n\r\n            OutputStream os = client.tcpSocket.getOutputStream();\r\n            PrintWriter sockout;\r\n            sockout = new PrintWriter (os, true);\r\n\r\n            System.out.println (&quot;S:&quot; + sockin.readLine ());\r\n\r\n            while (true){\r\n                System.out.print (&quot;C:&quot;);\r\n\r\n                String cmd = stdin.readLine ();\r\n\r\n                sockout.println (cmd);\r\n\r\n                String reply = sockin.readLine ();\r\n\r\n                System.out.println (&quot;S:&quot; + reply);\r\n                if (cmd.toLowerCase ().startsWith (&quot;data&quot;) &amp;&amp;\r\n                        reply.substring (0, 3).equals (&quot;354&quot;))\r\n                {\r\n                    do\r\n                    {\r\n                        cmd = stdin.readLine ();\r\n\r\n                        if (cmd != null &amp;&amp; cmd.length () &gt; 1 &amp;&amp;\r\n                                cmd.charAt (0) == &#39;.&#39;)\r\n                            cmd = &quot;.&quot;; // Must be no chars after . char.\r\n\r\n                        sockout.println (cmd);\r\n\r\n                        if (cmd.equals (&quot;.&quot;))\r\n                            break;\r\n                    }\r\n                    while (true);\r\n\r\n                    // Read a reply string from the SMTP server program.\r\n\r\n                    reply = sockin.readLine ();\r\n\r\n                    // Display the first line of this reply string.\r\n\r\n                    System.out.println (&quot;S:&quot; + reply);\r\n\r\n                    continue;\r\n                }\r\n\r\n                // If the QUIT command was entered, quit.\r\n\r\n                if (cmd.toLowerCase ().startsWith (&quot;quit&quot;))\r\n                    break;\r\n            }\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            System.out.println (e.toString ());\r\n        }\r\n        finally\r\n        {\r\n            try\r\n            {\r\n                // Attempt to close the client socket.\r\n\r\n                if (client != null)\r\n                    client.tcpSocket.close();\r\n            }\r\n            catch (IOException e)\r\n            {\r\n            }\r\n            }\r\n    }\r\n}\r\n```\r\nThe good news is that the ClientTester works when i connect it to `smtp.google.com` but i don&#39;t want to use Googles, i want to have my own basic Email server in java.","title":"How do I code my own SMTP Server using Java?","body":"<p>So I have a client written in Java that i want to use to test out sending email but instead of using an already existing SMTP like google, i want to have my own local server to test out sending mock emails between two mock emails.</p>\n<p>I've been trying to look all over the internet for good sources on how to code a simple SMTP Server but i've had zero luck.</p>\n<p>I do have a basic server code that when i run it, i can connect my Client to it but at the moment it won't handle any email functionality.</p>\n<p>TCPServer.java</p>\n<pre><code>\nimport java.io.BufferedReader;\nimport java.io.InputStreamReader;\nimport java.net.InetAddress;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.io.*;\nimport java.net.*;\n\npublic class TCPServer{\n    private ServerSocket server;\n\n    /**\n     * The TCPServer constructor initiate the socket\n     * @param ipAddress\n     * @param port\n     * @throws Exception\n     */\n    public TCPServer(String ipAddress, int port) throws Exception {\n        if (ipAddress != null &amp;&amp; !ipAddress.isEmpty())\n            this.server = new ServerSocket(port, 1, InetAddress.getByName(ipAddress));\n        else\n            this.server = new ServerSocket(0, 1, InetAddress.getLocalHost());\n    }\n\n    /**\n     * The listen method listen to incoming client's datagrams and requests\n     * @throws Exception\n     */\n    private void listen() throws Exception {\n        // listen to incoming client's requests via the ServerSocket\n        //add your code here\n        String data = null;\n        Socket client = this.server.accept();\n        String clientAddress = client.getInetAddress().getHostAddress();\n        System.out.println(&quot;\\r\\nNew client connection from &quot; + clientAddress);\n\n        // print received datagrams from client\n        //add your code here\n        BufferedReader in = new BufferedReader(new InputStreamReader(client.getInputStream()));\n        while ( (data = in.readLine()) != null ) {\n            System.out.println(&quot;\\r\\nMessage from &quot; + clientAddress + &quot;: &quot; + data);\n            client.sendUrgentData(1);\n        }\n    }\n\n    public InetAddress getSocketAddress() {\n        return this.server.getInetAddress();\n    }\n\n    public int getPort() {\n        return this.server.getLocalPort();\n    }\n\n\n    public static void main(String[] args) throws Exception {\n        // set the server address (IP) and port number\n        //add your code here\n        String serverIP = &quot;192.168.1.235&quot;; // local IP address\n        int port = 8088;\n\n        if (args.length &gt; 0) {\n            serverIP = args[0];\n            port = Integer.parseInt(args[1]);\n        }\n        // call the constructor and pass the IP and port\n        //add your code here\n        TCPServer server = new TCPServer(serverIP, port);\n        System.out.println(&quot;\\r\\nRunning Server: &quot; +\n                &quot;Host=&quot; + server.getSocketAddress().getHostAddress() +\n                &quot; Port=&quot; + server.getPort());\n        server.listen();\n    }\n\n}\n</code></pre>\n<p>What can i add to my existing server code to make it handle email for my Client. I'll also post my email client as well.</p>\n<p>ClientTester.java</p>\n<pre><code>\nimport java.io.*;\nimport java.net.DatagramSocket;\nimport java.net.InetAddress;\nimport java.net.Socket;\nimport java.util.Scanner;\n\n/**\n * This program demonstrates a TCP client\n * @author jl922223\n * @version 1.0\n * @since 2020-12-12\n */\n\npublic class ClientTester{\n    private Socket tcpSocket;\n    private InetAddress serverAddress;\n    private int serverPort;\n    private Scanner scanner;\n\n    /**\n     * @param serverAddress\n     * @param serverPort\n     * @throws Exception\n     */\n    private ClientTester(InetAddress serverAddress, int serverPort) throws Exception {\n        this.serverAddress = serverAddress;\n        this.serverPort = serverPort;\n\n        //Initiate the connection with the server using Socket.\n        //For this, creates a stream socket and connects it to the specified port number at the specified IP address.\n        //add your code here\n        this.tcpSocket = new Socket(this.serverAddress, this.serverPort);\n        this.scanner = new Scanner(System.in);\n    }\n\n    /**\n     * The start method connect to the server and datagrams\n     * @throws IOException\n     */\n/*    private void start() throws IOException {\n        String input;\n        //create a new PrintWriter from an existing OutputStream (i.e., tcpSocket).\n        //This convenience constructor creates the necessary intermediateOutputStreamWriter, which will convert characters into bytes using the default character encoding\n        //You may add your code in a loop so that client can keep send datagrams to server\n        //add your code here\n        while (true) {\n            System.out.print (&quot;C:&quot;);\n            input = scanner.nextLine();\n            PrintWriter output = new PrintWriter(this.tcpSocket.getOutputStream(), true);\n            output.println(input);\n            output.flush();\n        }\n    }*/\n\n    public static void main(String[] args) throws Exception {\n        // set the server address (IP) and port number\n        //add your code here\n        //IP: 192.168.1.235\n        //Port: 8088\n        InetAddress serverIP = InetAddress.getByName(&quot;smtp.google.com&quot;); // local IP address\n        int port = 25;\n        if (args.length &gt; 0) {\n            serverIP = InetAddress.getByName(args[0]);\n            port = Integer.parseInt(args[1]);\n        }\n\n        // call the constructor and pass the IP and port\n        //add your code here\n        ClientTester client = new ClientTester(serverIP, port);\n\n//        client.start();\n\n        try{\n\n            client = new ClientTester(serverIP, port);\n\n            System.out.println(&quot;\\r\\n Connected to Server: &quot; + client.tcpSocket.getInetAddress());\n\n            BufferedReader stdin;\n            stdin = new BufferedReader (new InputStreamReader (System.in));\n\n            InputStream is = client.tcpSocket.getInputStream ();\n            BufferedReader sockin;\n            sockin = new BufferedReader (new InputStreamReader (is));\n\n            OutputStream os = client.tcpSocket.getOutputStream();\n            PrintWriter sockout;\n            sockout = new PrintWriter (os, true);\n\n            System.out.println (&quot;S:&quot; + sockin.readLine ());\n\n            while (true){\n                System.out.print (&quot;C:&quot;);\n\n                String cmd = stdin.readLine ();\n\n                sockout.println (cmd);\n\n                String reply = sockin.readLine ();\n\n                System.out.println (&quot;S:&quot; + reply);\n                if (cmd.toLowerCase ().startsWith (&quot;data&quot;) &amp;&amp;\n                        reply.substring (0, 3).equals (&quot;354&quot;))\n                {\n                    do\n                    {\n                        cmd = stdin.readLine ();\n\n                        if (cmd != null &amp;&amp; cmd.length () &gt; 1 &amp;&amp;\n                                cmd.charAt (0) == '.')\n                            cmd = &quot;.&quot;; // Must be no chars after . char.\n\n                        sockout.println (cmd);\n\n                        if (cmd.equals (&quot;.&quot;))\n                            break;\n                    }\n                    while (true);\n\n                    // Read a reply string from the SMTP server program.\n\n                    reply = sockin.readLine ();\n\n                    // Display the first line of this reply string.\n\n                    System.out.println (&quot;S:&quot; + reply);\n\n                    continue;\n                }\n\n                // If the QUIT command was entered, quit.\n\n                if (cmd.toLowerCase ().startsWith (&quot;quit&quot;))\n                    break;\n            }\n        }\n        catch (IOException e)\n        {\n            System.out.println (e.toString ());\n        }\n        finally\n        {\n            try\n            {\n                // Attempt to close the client socket.\n\n                if (client != null)\n                    client.tcpSocket.close();\n            }\n            catch (IOException e)\n            {\n            }\n            }\n    }\n}\n</code></pre>\n<p>The good news is that the ClientTester works when i connect it to <code>smtp.google.com</code> but i don't want to use Googles, i want to have my own basic Email server in java.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":2,"creation_date":1669040625,"post_id":74520398,"comment_id":131546154,"body_markdown":"You forgot to ask a question. Please [edit] your post accordingly.","body":"You forgot to ask a question. Please <a href=\"https://stackoverflow.com/posts/74520398/edit\">edit</a> your post accordingly."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1669040679,"post_id":74520398,"comment_id":131546171,"body_markdown":"You can use an `if/else` statement to check if it is in range: `if (number &gt;= 1 &amp;&amp; number &lt;= 1000) { ... } else { ... }`","body":"You can use an <code>if&#47;else</code> statement to check if it is in range: <code>if (number &gt;= 1 &amp;&amp; number &lt;= 1000) { ... } else { ... }</code>"}],"answers":[{"tags":[],"owner":{"account_id":27002657,"reputation":46,"user_id":20563704,"display_name":"ElishevaMiler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669042715,"creation_date":1669042715,"answer_id":74520863,"question_id":74520398,"body_markdown":"  \r\n\r\n    public static void main(String[] args)\r\n        {\r\n            Scanner reader = new Scanner(System.in);\r\n            double number;\r\n                System.out.print(&quot;Enter a number from 1.00 to 1,000.00: &quot;);\r\n                number= reader.nextDouble();\r\n            //As long as the input is not within the range requests a new input\r\n            while (!(number&gt;=1.00 &amp;&amp; number&lt;=1000.00)){\r\n                System.out.print(&quot;Input arrival!\\nEnter a number from 1.00 to 1,000.00: &quot;);\r\n                number= reader.nextDouble();\r\n            }\r\n            System.out.println(&quot;You entered: &quot; + number);\r\n        }\r\nnote: The number range you specified corresponds to a double type\r\n\r\n","title":"How to add to java code that will ask user to enter an amount from 1 to 1000","body":"<pre><code>public static void main(String[] args)\n    {\n        Scanner reader = new Scanner(System.in);\n        double number;\n            System.out.print(&quot;Enter a number from 1.00 to 1,000.00: &quot;);\n            number= reader.nextDouble();\n        //As long as the input is not within the range requests a new input\n        while (!(number&gt;=1.00 &amp;&amp; number&lt;=1000.00)){\n            System.out.print(&quot;Input arrival!\\nEnter a number from 1.00 to 1,000.00: &quot;);\n            number= reader.nextDouble();\n        }\n        System.out.println(&quot;You entered: &quot; + number);\n    }\n</code></pre>\n<p>note: The number range you specified corresponds to a double type</p>\n"}],"owner":{"display_name":"user16621915"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74520863,"answer_count":1,"score":2,"last_activity_date":1669042715,"creation_date":1669040564,"question_id":74520398,"body_markdown":"Java program that will:\r\n1.\tUser can input an amount from 1.00 to 1,000.00 \r\n2.\tAny amount beyond the allowed range will display an error. \r\n  \r\n\r\nThis block of code below is prints the number entered by an user:\r\n\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class HelloWorld {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            // Creates a reader instance which takes\r\n            // input from standard input - keyboard\r\n            Scanner reader = new Scanner(System.in);\r\n            System.out.print(&quot;Enter a number: &quot;);\r\n    \r\n            // nextInt() reads the next integer from the keyboard\r\n            int number = reader.nextInt();\r\n    \r\n            // println() prints the following line to the output screen\r\n            System.out.println(&quot;You entered: &quot; + number);\r\n        }\r\n    }","title":"How to add to java code that will ask user to enter an amount from 1 to 1000","body":"<p>Java program that will:</p>\n<ol>\n<li>User can input an amount from 1.00 to 1,000.00</li>\n<li>Any amount beyond the allowed range will display an error.</li>\n</ol>\n<p>This block of code below is prints the number entered by an user:</p>\n<pre><code>import java.util.Scanner;\n\npublic class HelloWorld {\n\n    public static void main(String[] args) {\n\n        // Creates a reader instance which takes\n        // input from standard input - keyboard\n        Scanner reader = new Scanner(System.in);\n        System.out.print(&quot;Enter a number: &quot;);\n\n        // nextInt() reads the next integer from the keyboard\n        int number = reader.nextInt();\n\n        // println() prints the following line to the output screen\n        System.out.println(&quot;You entered: &quot; + number);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","interceptor","spring-restcontroller"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1444870009,"post_id":33137687,"comment_id":54087338,"body_markdown":"How do you handle the request if the parameter does exist? What does your handler look like?","body":"How do you handle the request if the parameter does exist? What does your handler look like?"}],"answers":[{"tags":[],"owner":{"account_id":5700484,"reputation":402,"user_id":4505616,"accept_rate":79,"display_name":"Albert Pinto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444876869,"creation_date":1444870811,"answer_id":33138103,"question_id":33137687,"body_markdown":"**STEP1:** Use spring validator annotation like @valid to validate your request.\r\n\r\n**STEP 2:** Write your custom validator class. which will be responsible to check the header and see if it has value or it has the expected value.\r\n\r\n**STEP 3:** If the request is not correct validator throws your custom exception.\r\n\r\n**STEP 4:** write your exception handler class. In the class define what response must me returned if the exception in STEP 3 is caught.\r\n\r\nFor more information on [Exception Handling in Spring][1].\r\n\r\n\r\n  [1]: https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\r\n\r\nIn our current projet we do use a java interceptor to authenticate the request but nothing beyound that. \r\n","title":"how to return a response body when header is missing in spring REST api","body":"<p><strong>STEP1:</strong> Use spring validator annotation like @valid to validate your request.</p>\n\n<p><strong>STEP 2:</strong> Write your custom validator class. which will be responsible to check the header and see if it has value or it has the expected value.</p>\n\n<p><strong>STEP 3:</strong> If the request is not correct validator throws your custom exception.</p>\n\n<p><strong>STEP 4:</strong> write your exception handler class. In the class define what response must me returned if the exception in STEP 3 is caught.</p>\n\n<p>For more information on <a href=\"https://spring.io/blog/2013/11/01/exception-handling-in-spring-mvc\" rel=\"nofollow\">Exception Handling in Spring</a>.</p>\n\n<p>In our current projet we do use a java interceptor to authenticate the request but nothing beyound that. </p>\n"},{"tags":[],"owner":{"account_id":964648,"reputation":304,"user_id":988303,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1455724753,"creation_date":1455724753,"answer_id":35461679,"question_id":33137687,"body_markdown":"Another approach would be using Spring Interceptors (`HandlerInterceptorAdapter`), as you mentioned in your question, with `@ControllerAdvice` and return your JSON in an `@ExceptionHandler` method.\r\n\r\nTake a look at the following post: http://www.journaldev.com/2651/spring-mvc-exception-handling-exceptionhandler-controlleradvice-handlerexceptionresolver-json-response-example","title":"how to return a response body when header is missing in spring REST api","body":"<p>Another approach would be using Spring Interceptors (<code>HandlerInterceptorAdapter</code>), as you mentioned in your question, with <code>@ControllerAdvice</code> and return your JSON in an <code>@ExceptionHandler</code> method.</p>\n\n<p>Take a look at the following post: <a href=\"http://www.journaldev.com/2651/spring-mvc-exception-handling-exceptionhandler-controlleradvice-handlerexceptionresolver-json-response-example\" rel=\"nofollow\">http://www.journaldev.com/2651/spring-mvc-exception-handling-exceptionhandler-controlleradvice-handlerexceptionresolver-json-response-example</a></p>\n"},{"tags":[],"owner":{"account_id":6729228,"reputation":71,"user_id":5186203,"display_name":"Shreyas Keote"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1509089714,"creation_date":1509089714,"answer_id":46969788,"question_id":33137687,"body_markdown":"Write a method with the annotation @ExceptionHandler and use ServletRequestBindingException.class as this exception is thrown in case of miss. You can return any type of object from this method.\r\n\r\nFor example\r\n\r\n    @ExceptionHandler(ServletRequestBindingException.class)\r\n    public ResponseEntity&lt;ResponseObject&gt; handleHeaderError(){\r\n\r\n        ResponseObject responseObject=new ResponseObject();\r\n        responseObject.setStatus(Constants.ResponseStatus.FAILURE.getStatus());\r\n        responseObject.setMessage(header_missing_message);\r\n\r\n        ResponseEntity&lt;ResponseObject&gt; responseEntity=new ResponseEntity&lt;ResponseObject&gt;(responseObject, HttpStatus.BAD_REQUEST);\r\n        return responseEntity;\r\n    }\r\n","title":"how to return a response body when header is missing in spring REST api","body":"<p>Write a method with the annotation @ExceptionHandler and use ServletRequestBindingException.class as this exception is thrown in case of miss. You can return any type of object from this method.</p>\n\n<p>For example</p>\n\n<pre><code>@ExceptionHandler(ServletRequestBindingException.class)\npublic ResponseEntity&lt;ResponseObject&gt; handleHeaderError(){\n\n    ResponseObject responseObject=new ResponseObject();\n    responseObject.setStatus(Constants.ResponseStatus.FAILURE.getStatus());\n    responseObject.setMessage(header_missing_message);\n\n    ResponseEntity&lt;ResponseObject&gt; responseEntity=new ResponseEntity&lt;ResponseObject&gt;(responseObject, HttpStatus.BAD_REQUEST);\n    return responseEntity;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21139901,"reputation":1,"user_id":15542550,"display_name":"Festus Audu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669042317,"creation_date":1669042009,"answer_id":74520719,"question_id":33137687,"body_markdown":"This is coming late but then, a very straightforward way to deal with this type of issue is to use a Controller Advice class which allows you to handle exceptions across the whole application in one global handling component.\r\n\r\nThe exception throw by spring is the MissingRequestHeaderException which you can then provide a custom handler in your controller advice class.\r\n\r\n```Java\r\n@Slf4j\r\n@RestControllerAdvice\r\npublic class ControllerAdvice {\r\n\r\n    @ExceptionHandler(MissingRequestHeaderException.class)\r\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\r\n    public ErrorResponse handleMissingRequestHeaderException(MissingRequestHeaderException ex) {\r\n        log.error(ex.getMessage(), ex);\r\n        return new ErrorResponse(&quot;Missing request header: &quot; + ex.getHeaderName());\r\n    }\r\n\r\n}\r\n```\r\n\r\n```java\r\npublic class ErrorResponse implements Serializable {\r\n    \r\n    private String message;\r\n\r\n    public ErrorResponse(String message) {\r\n        this.message = message;\r\n    }\r\n}","title":"how to return a response body when header is missing in spring REST api","body":"<p>This is coming late but then, a very straightforward way to deal with this type of issue is to use a Controller Advice class which allows you to handle exceptions across the whole application in one global handling component.</p>\n<p>The exception throw by spring is the MissingRequestHeaderException which you can then provide a custom handler in your controller advice class.</p>\n<pre><code>@Slf4j\n@RestControllerAdvice\npublic class ControllerAdvice {\n\n    @ExceptionHandler(MissingRequestHeaderException.class)\n    @ResponseStatus(value = HttpStatus.BAD_REQUEST)\n    public ErrorResponse handleMissingRequestHeaderException(MissingRequestHeaderException ex) {\n        log.error(ex.getMessage(), ex);\n        return new ErrorResponse(&quot;Missing request header: &quot; + ex.getHeaderName());\n    }\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ErrorResponse implements Serializable {\n    \n    private String message;\n\n    public ErrorResponse(String message) {\n        this.message = message;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2132178,"reputation":2011,"user_id":1892775,"accept_rate":16,"display_name":"user1892775"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4229,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1669042317,"creation_date":1444867446,"question_id":33137687,"body_markdown":"I am passing a header to a spring REST api like:\r\n\r\n    @RequestHeader(value=&quot;test-header&quot;)\r\n\r\nheader is mandatory here for the API, so I do not want to keep it optional.\r\nwhen no header is passed, any call to the API returns a standard 400 error indicating that request is syntantically wrong and then it does not enter the REST API. But, I want to construct a proper ResponseBody and return a json for this error. I am not sure about the best way to do this. I thought about using spring interceptor and check if this header was passed or not, but then I am not sure if I can create a responsebody from here. Atleast I could not figure out how to do so. \r\n\r\nwill interceptor approach work for this? If yes, how? If not, then what are the options? Can someone please help on this? \r\n\r\nUpdate:\r\n\r\nThis is how the REST API is:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public void methodA(@RequestHeader(value=&quot;test-header&quot;) String header, @RequestBody User user, HttpServletRequest httpRequest, HttpServletResponse httpResponse) {\r\n    ...\r\n    ...\r\n    \r\n    } \r\n\r\nWhen the header is present, it will enter the REST API and continue with the logic. But, if the header is not present, it does not enter the API and simply returns a standard 400 error.\r\n\r\nThe interceptor that I wrote is like:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    public class XXXInterceptor extends HandlerInterceptorAdapter { \r\n        @Override\r\n        public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\r\n    ...\r\n    ...\r\n    ...\r\n    \r\n    return true;\r\n    }\r\n\r\n}","title":"how to return a response body when header is missing in spring REST api","body":"<p>I am passing a header to a spring REST api like:</p>\n\n<pre><code>@RequestHeader(value=\"test-header\")\n</code></pre>\n\n<p>header is mandatory here for the API, so I do not want to keep it optional.\nwhen no header is passed, any call to the API returns a standard 400 error indicating that request is syntantically wrong and then it does not enter the REST API. But, I want to construct a proper ResponseBody and return a json for this error. I am not sure about the best way to do this. I thought about using spring interceptor and check if this header was passed or not, but then I am not sure if I can create a responsebody from here. Atleast I could not figure out how to do so. </p>\n\n<p>will interceptor approach work for this? If yes, how? If not, then what are the options? Can someone please help on this? </p>\n\n<p>Update:</p>\n\n<p>This is how the REST API is:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public void methodA(@RequestHeader(value=\"test-header\") String header, @RequestBody User user, HttpServletRequest httpRequest, HttpServletResponse httpResponse) {\n...\n...\n\n} \n</code></pre>\n\n<p>When the header is present, it will enter the REST API and continue with the logic. But, if the header is not present, it does not enter the API and simply returns a standard 400 error.</p>\n\n<p>The interceptor that I wrote is like:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class XXXInterceptor extends HandlerInterceptorAdapter { \n    @Override\n    public boolean preHandle(HttpServletRequest request, HttpServletResponse response, Object handler) throws Exception {\n...\n...\n...\n\nreturn true;\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":2805582,"reputation":5186,"user_id":2412895,"accept_rate":47,"display_name":"KarelG"},"score":0,"creation_date":1519217999,"post_id":48906552,"comment_id":84818784,"body_markdown":"Is it me or is your code here incomplete ? How is `sum`, `count` and `avg` being initialized?","body":"Is it me or is your code here incomplete ? How is <code>sum</code>, <code>count</code> and <code>avg</code> being initialized?"},{"owner":{"account_id":112612,"reputation":89615,"user_id":296974,"accept_rate":100,"display_name":"glglgl"},"score":0,"creation_date":1519218028,"post_id":48906552,"comment_id":84818806,"body_markdown":"Did you have a look at the Streams API? It tells you what methods exist. And there are lots, lots of informations at the Oracle site.","body":"Did you have a look at the Streams API? It tells you what methods exist. And there are lots, lots of informations at the Oracle site."},{"owner":{"account_id":2805582,"reputation":5186,"user_id":2412895,"accept_rate":47,"display_name":"KarelG"},"score":2,"creation_date":1519218052,"post_id":48906552,"comment_id":84818828,"body_markdown":"Also [`.count()`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#count--) from a streamable gives you the _number_  of elements in that stream.","body":"Also <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#count--\" rel=\"nofollow noreferrer\"><code>.count()</code></a> from a streamable gives you the <i>number</i>  of elements in that stream."},{"owner":{"account_id":11292791,"reputation":683,"user_id":8281218,"accept_rate":20,"display_name":"KingJinho"},"score":0,"creation_date":1519218098,"post_id":48906552,"comment_id":84818861,"body_markdown":"it is incomplete, so i need lines of code to work out those system.out.println() and i don`t know how to get the sum, avg, and sort.","body":"it is incomplete, so i need lines of code to work out those system.out.println() and i don`t know how to get the sum, avg, and sort."},{"owner":{"account_id":876647,"reputation":1405,"user_id":44605,"accept_rate":75,"display_name":"AlexC"},"score":3,"creation_date":1519218261,"post_id":48906552,"comment_id":84818965,"body_markdown":"Start here: https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html   the example even shows sample code of a sum.","body":"Start here: <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/stream/&hellip;</a>   the example even shows sample code of a sum."},{"owner":{"account_id":10436649,"reputation":5754,"user_id":7694740,"display_name":"Juan Carlos Mendoza"},"score":0,"creation_date":1521059010,"post_id":48906552,"comment_id":85577093,"body_markdown":"If one of the answers solved the problem, can you [accept one of them](https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work) as the correct solution? (and upvote on the useful ones)","body":"If one of the answers solved the problem, can you <a href=\"https://meta.stackexchange.com/questions/5234/how-does-accepting-an-answer-work\">accept one of them</a> as the correct solution? (and upvote on the useful ones)"}],"answers":[{"tags":[],"owner":{"account_id":1305468,"reputation":446,"user_id":1254552,"display_name":"Yaroslav"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1519219104,"creation_date":1519218421,"answer_id":48906726,"question_id":48906552,"body_markdown":"You can do just like this:\r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(5,3,4,1,2);\r\n            System.out.println(&quot;sum by using Stream : &quot; + list.stream().mapToInt(Integer::intValue).sum());\r\n            System.out .println(&quot;count by using Stream: &quot; + list.stream().mapToInt(Integer::intValue).count());\r\n            System.out.println(&quot;average by using Stream : &quot; + list.stream().mapToInt(Integer::intValue).average());\r\n            System.out.println(&quot;sort by using Stream: &quot; + list.stream().sorted().collect(Collectors.toList()));","title":"using java Stream to get a sum, average, and sort","body":"<p>You can do just like this:</p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(5,3,4,1,2);\n        System.out.println(\"sum by using Stream : \" + list.stream().mapToInt(Integer::intValue).sum());\n        System.out .println(\"count by using Stream: \" + list.stream().mapToInt(Integer::intValue).count());\n        System.out.println(\"average by using Stream : \" + list.stream().mapToInt(Integer::intValue).average());\n        System.out.println(\"sort by using Stream: \" + list.stream().sorted().collect(Collectors.toList()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1519222439,"creation_date":1519218553,"answer_id":48906784,"question_id":48906552,"body_markdown":"    IntSummaryStatistics stats = Arrays.asList(1,2,3,4)\r\n        .stream()\r\n        .mapToInt(Integer::intValue)\r\n        .summaryStatistics();\r\n        \r\n    stats.getSum();\r\n    stats.getCount();\r\n    stats.getAverage();\r\n\r\n\r\nFor the sorted, you will have to stream again.","title":"using java Stream to get a sum, average, and sort","body":"<pre><code>IntSummaryStatistics stats = Arrays.asList(1,2,3,4)\n    .stream()\n    .mapToInt(Integer::intValue)\n    .summaryStatistics();\n\nstats.getSum();\nstats.getCount();\nstats.getAverage();\n</code></pre>\n\n<p>For the sorted, you will have to stream again.</p>\n"},{"tags":[],"owner":{"account_id":5557928,"reputation":2328,"user_id":4408619,"display_name":"Azzabi Haythem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1519220718,"creation_date":1519218844,"answer_id":48906909,"question_id":48906552,"body_markdown":"You should use `mapToInt` or `mapToDouble` \r\n\r\nand you can print list by `forEach(System.out::println)`\r\n\r\n \r\n\r\n    List&lt;Integer&gt; list = Arrays.asList(5,3,4,1,2);\r\n\r\n    System.out.println(&quot;sum by using Stream : &quot; + list.stream().mapToInt(Integer::intValue).sum());\r\n\r\n    System.out .println(&quot;count by using Stream: &quot; + list.stream().count());\r\n\r\n    System.out.println(&quot;average by using Stream : &quot; + list.stream().mapToInt(Integer::intValue).average());\r\n\r\n    System.out.println(&quot;sort by using Stream: &quot; );\r\n\r\n    list.stream().sorted().forEach(System.out::println);","title":"using java Stream to get a sum, average, and sort","body":"<p>You should use <code>mapToInt</code> or <code>mapToDouble</code> </p>\n\n<p>and you can print list by <code>forEach(System.out::println)</code></p>\n\n<pre><code>List&lt;Integer&gt; list = Arrays.asList(5,3,4,1,2);\n\nSystem.out.println(\"sum by using Stream : \" + list.stream().mapToInt(Integer::intValue).sum());\n\nSystem.out .println(\"count by using Stream: \" + list.stream().count());\n\nSystem.out.println(\"average by using Stream : \" + list.stream().mapToInt(Integer::intValue).average());\n\nSystem.out.println(\"sort by using Stream: \" );\n\nlist.stream().sorted().forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10436649,"reputation":5754,"user_id":7694740,"display_name":"Juan Carlos Mendoza"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1519219646,"creation_date":1519218967,"answer_id":48906959,"question_id":48906552,"body_markdown":"The reason of why `list.stream().count()` works but `list.stream().sum()` doesn&#39;t is because `list.stream()` returns a [`Stream&lt;Integer&gt;`][1] and there is a [`Stream::count`][2] method, but there isn&#39;t a `Stream::sum` or `Stream::average`.\r\n\r\nTo get the sum and avg first you have to map each integer value in the `Stream&lt;Integer&gt;` that you get when you do `list.stream()` to an [`IntStream`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html). This is the int primitive specialization of Stream. This can be done using the [`Stream::mapToInt`][3] method:\r\n\r\n    list.stream().mapToInt(Integer::intValue)\r\n\r\nDoing this you can use the methods [`IntStream::sum`][4] and [`IntStream::average`][5]:\r\n\r\n    System.out.println(&quot;sum by using Stream : &quot; + list.stream().mapToInt(Integer::intValue).sum());\r\n    System.out.println(&quot;average by using Stream : &quot; + list.stream().mapToInt(Integer::intValue).average());\r\n\r\nOr even better, you can use the [`IntStream::summaryStatistics`][6] to get the sum, count and avg together (also the min and the max value):\r\n\r\n    System.out.println(&quot;sum, count, avg, min and max using Stream : &quot; + list.stream().mapToInt(Integer::intValue).summaryStatistics());\r\n\r\nTo sort the values you can use the [`Stream::sorted`][7] method:\r\n\r\n    System.out.println(&quot;sort by using Stream: &quot; + list.stream().sorted().collect(Collectors.toList()));\r\n\r\n[Here][8] is a good post that can help you to understand how to use the Java 8 Stream Api.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#count--\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToInt-java.util.function.ToIntFunction-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#sum--\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#average--\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#summaryStatistics--\r\n  [7]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted-java.util.Comparator-\r\n  [8]: http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html","title":"using java Stream to get a sum, average, and sort","body":"<p>The reason of why <code>list.stream().count()</code> works but <code>list.stream().sum()</code> doesn't is because <code>list.stream()</code> returns a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html\" rel=\"noreferrer\"><code>Stream&lt;Integer&gt;</code></a> and there is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#count--\" rel=\"noreferrer\"><code>Stream::count</code></a> method, but there isn't a <code>Stream::sum</code> or <code>Stream::average</code>.</p>\n\n<p>To get the sum and avg first you have to map each integer value in the <code>Stream&lt;Integer&gt;</code> that you get when you do <code>list.stream()</code> to an <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html\" rel=\"noreferrer\"><code>IntStream</code></a>. This is the int primitive specialization of Stream. This can be done using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#mapToInt-java.util.function.ToIntFunction-\" rel=\"noreferrer\"><code>Stream::mapToInt</code></a> method:</p>\n\n<pre><code>list.stream().mapToInt(Integer::intValue)\n</code></pre>\n\n<p>Doing this you can use the methods <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#sum--\" rel=\"noreferrer\"><code>IntStream::sum</code></a> and <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#average--\" rel=\"noreferrer\"><code>IntStream::average</code></a>:</p>\n\n<pre><code>System.out.println(\"sum by using Stream : \" + list.stream().mapToInt(Integer::intValue).sum());\nSystem.out.println(\"average by using Stream : \" + list.stream().mapToInt(Integer::intValue).average());\n</code></pre>\n\n<p>Or even better, you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#summaryStatistics--\" rel=\"noreferrer\"><code>IntStream::summaryStatistics</code></a> to get the sum, count and avg together (also the min and the max value):</p>\n\n<pre><code>System.out.println(\"sum, count, avg, min and max using Stream : \" + list.stream().mapToInt(Integer::intValue).summaryStatistics());\n</code></pre>\n\n<p>To sort the values you can use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#sorted-java.util.Comparator-\" rel=\"noreferrer\"><code>Stream::sorted</code></a> method:</p>\n\n<pre><code>System.out.println(\"sort by using Stream: \" + list.stream().sorted().collect(Collectors.toList()));\n</code></pre>\n\n<p><a href=\"http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html\" rel=\"noreferrer\">Here</a> is a good post that can help you to understand how to use the Java 8 Stream Api.</p>\n"}],"owner":{"account_id":11292791,"reputation":683,"user_id":8281218,"accept_rate":20,"display_name":"KingJinho"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25031,"favorite_count":0,"down_vote_count":2,"up_vote_count":18,"answer_count":4,"score":16,"last_activity_date":1669041250,"creation_date":1519217906,"question_id":48906552,"body_markdown":"I am studying java Stream and having hard time solving questions below. The reason why I got stuck is because I have no idea about dealing with `Stream&lt;Integer&gt;`.\r\n\r\nI stumbled upon a solution of &quot;count&quot; by doing `list.stream().count()`, but other than this, I can&#39;t proceed further. Please help me how to deal with these problems and tell me why `list.stream().count()` works in this situation. So far, I&#39;ve tried everything I&#39;ve learned.\r\n\r\n    public class Question {\r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt;list = Arrays.asList(5,3,4,1,2);\r\n            System.out.println(&quot;sum by using Stream : &quot; + sum);\r\n            System.out.println(&quot;count by using Stream: &quot; + count);\r\n            System.out.println(&quot;average by using Stream : &quot; + avg);\r\n            System.out.println(&quot;sort by using Stream&quot;);\r\n        }\r\n    }","title":"using java Stream to get a sum, average, and sort","body":"<p>I am studying java Stream and having hard time solving questions below. The reason why I got stuck is because I have no idea about dealing with <code>Stream&lt;Integer&gt;</code>.</p>\n\n<p>I stumbled upon a solution of \"count\" by doing <code>list.stream().count()</code>, but other than this, I can't proceed further. Please help me how to deal with these problems and tell me why <code>list.stream().count()</code> works in this situation. So far, I've tried everything I've learned.</p>\n\n<pre><code>public class Question {\n    public static void main(String[] args) {\n        List&lt;Integer&gt;list = Arrays.asList(5,3,4,1,2);\n        System.out.println(\"sum by using Stream : \" + sum);\n        System.out.println(\"count by using Stream: \" + count);\n        System.out.println(\"average by using Stream : \" + avg);\n        System.out.println(\"sort by using Stream\");\n    }\n}\n</code></pre>\n"},{"tags":["java","mysql","hibernate"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1669035235,"post_id":74519128,"comment_id":131544122,"body_markdown":"Something like `Query name = session.createQuery(&quot;SELECT username, password, email FROM Accounts WHERE username = :username AND password = :password)&quot;);` -- and then bind the username and password.","body":"Something like <code>Query name = session.createQuery(&quot;SELECT username, password, email FROM Accounts WHERE username = :username AND password = :password)&quot;);</code> -- and then bind the username and password."}],"answers":[{"tags":[],"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669041095,"creation_date":1669041095,"answer_id":74520518,"question_id":74519128,"body_markdown":"User Elliot Frisch helped me, I solved this problem and added a loop to read everything I get and there was no error.\r\n\r\nQuery:\r\n\r\n    users = session.createQuery(&quot;SELECT username, password FROM Accounts WHERE username = &#39;&quot; + user[2] + &quot;&#39; and password = &#39;&quot; + user[3] + &quot;&#39;&quot;);\r\n\r\nCicle:\r\n\r\n    for (Object[] profile : data1) {\r\n        u = (String)profile[0];\r\n        p = (String)profile[1];\r\n    }","title":"how to get two values from a table in one row","body":"<p>User Elliot Frisch helped me, I solved this problem and added a loop to read everything I get and there was no error.</p>\n<p>Query:</p>\n<pre><code>users = session.createQuery(&quot;SELECT username, password FROM Accounts WHERE username = '&quot; + user[2] + &quot;' and password = '&quot; + user[3] + &quot;'&quot;);\n</code></pre>\n<p>Cicle:</p>\n<pre><code>for (Object[] profile : data1) {\n    u = (String)profile[0];\n    p = (String)profile[1];\n}\n</code></pre>\n"}],"owner":{"account_id":24709336,"reputation":15,"user_id":18599720,"display_name":"Maksim1251"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74520518,"answer_count":1,"score":0,"last_activity_date":1669041095,"creation_date":1669034587,"question_id":74519128,"body_markdown":"I want to get two values from the same row in the database, but my query reads all the passwords that match the table.\r\n\r\nexample:\r\n\r\nUsername: Max, password: 1234\r\nLogin: Alex, password: 5678\r\n\r\nOtherwise, I try to log into Max&#39;s account by typing the password: 5678 and log into it without problems. This is the situation with Alex too, I know my request is so bad and I know it&#39;s a problem, I read all the passwords but I only need to read Max&#39;s password, how do I do that?\r\n\r\nQuery:\r\n\r\n    Query name = session.createQuery(&quot;SELECT username FROM Accounts WHERE NOT EXISTS ( SELECT username FROM Accounts WHERE username = &#39;&quot; + user[2] + &quot;&#39;)&quot;);\r\n    Query pass = session.createQuery(&quot;SELECT password FROM Accounts WHERE password = &#39;&quot; + user[3] + &quot;&#39;&quot;);\r\n    Query mail = session.createQuery(&quot;SELECT email FROM Accounts WHERE NOT EXISTS ( SELECT email FROM Accounts WHERE email = &#39;&quot; + user[3] + &quot;&#39;)&quot;);","title":"how to get two values from a table in one row","body":"<p>I want to get two values from the same row in the database, but my query reads all the passwords that match the table.</p>\n<p>example:</p>\n<p>Username: Max, password: 1234\nLogin: Alex, password: 5678</p>\n<p>Otherwise, I try to log into Max's account by typing the password: 5678 and log into it without problems. This is the situation with Alex too, I know my request is so bad and I know it's a problem, I read all the passwords but I only need to read Max's password, how do I do that?</p>\n<p>Query:</p>\n<pre><code>Query name = session.createQuery(&quot;SELECT username FROM Accounts WHERE NOT EXISTS ( SELECT username FROM Accounts WHERE username = '&quot; + user[2] + &quot;')&quot;);\nQuery pass = session.createQuery(&quot;SELECT password FROM Accounts WHERE password = '&quot; + user[3] + &quot;'&quot;);\nQuery mail = session.createQuery(&quot;SELECT email FROM Accounts WHERE NOT EXISTS ( SELECT email FROM Accounts WHERE email = '&quot; + user[3] + &quot;')&quot;);\n</code></pre>\n"},{"tags":["java","android","simpledateformat"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1668702283,"post_id":74478332,"comment_id":131475569,"body_markdown":"By the way… You are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes.","body":"By the way… You are using terrible date-time classes that were years ago supplanted by the modern <i>java.time</i> classes."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668702515,"post_id":74478332,"comment_id":131475665,"body_markdown":"Give example inputs and outputs. Explain how the results do not match your expectations.","body":"Give example inputs and outputs. Explain how the results do not match your expectations."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1668702643,"post_id":74478332,"comment_id":131475705,"body_markdown":"If parsing is not a problem, delete from your Question.","body":"If parsing is not a problem, delete from your Question."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668712540,"post_id":74478332,"comment_id":131479151,"body_markdown":"Not answering your question, I recommend you consider throwing away the classes `Date` and `SimplerDateFormat`. They are troublesome and long outdated. You should prefer java.time, the modern Java date and time API. If developing for older Android too (below API level 26), you can use it through [desugaring](https://developer.android.com/studio/write/java8-support).","body":"Not answering your question, I recommend you consider throwing away the classes <code>Date</code> and <code>SimplerDateFormat</code>. They are troublesome and long outdated. You should prefer java.time, the modern Java date and time API. If developing for older Android too (below API level 26), you can use it through <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">desugaring</a>."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668740545,"post_id":74478332,"comment_id":131485537,"body_markdown":"The difference must be due to different locale data in the device and the emulator. Where each gets its locale data from, I don’t know. As an aside, according to [this Wikipedia article](https://sv.wikipedia.org/wiki/12-timmarsklocka) it should be `f.m.` rather than `FM` in Swedish (sorry, everyone, the article is in Swedish too).","body":"The difference must be due to different locale data in the device and the emulator. Where each gets its locale data from, I don’t know. As an aside, according to <a href=\"https://sv.wikipedia.org/wiki/12-timmarsklocka\" rel=\"nofollow noreferrer\">this Wikipedia article</a> it should be <code>f.m.</code> rather than <code>FM</code> in Swedish (sorry, everyone, the article is in Swedish too)."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668741308,"post_id":74478332,"comment_id":131485637,"body_markdown":"Allow me to take a step back and ask: Are you trying a too literal translation of the American 12-hours times that you have got to Swedish where your Swedish users would really be happier with a 24-hour format common in Sweden and among Swedish-speaking people? I believe that standard format/notation in Swedish is like `21:23`. Or are your users telling you that they have these very specific and non-standard wishes for how you display time to them?","body":"Allow me to take a step back and ask: Are you trying a too literal translation of the American 12-hours times that you have got to Swedish where your Swedish users would really be happier with a 24-hour format common in Sweden and among Swedish-speaking people? I believe that standard format/notation in Swedish is like <code>21:23</code>. Or are your users telling you that they have these very specific and non-standard wishes for how you display time to them?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668743134,"post_id":74478332,"comment_id":131485837,"body_markdown":"[My suggestion in Java code running online.](https://ideone.com/2Mi2fH)","body":"<a href=\"https://ideone.com/2Mi2fH\" rel=\"nofollow noreferrer\">My suggestion in Java code running online.</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668804399,"post_id":74478332,"comment_id":131503432,"body_markdown":"If your users insist on `FM` and `EM` and you want to be sure to give them that, with java.time you may use a `DateTimeFormatterBuilder` and its overloaded `appendText(TemporalField, Map&lt;Long, String&gt;)` method. There’s an example of that in my answer [here](https://stackoverflow.com/a/57183455/5772882).","body":"If your users insist on <code>FM</code> and <code>EM</code> and you want to be sure to give them that, with java.time you may use a <code>DateTimeFormatterBuilder</code> and its overloaded <code>appendText(TemporalField, Map&lt;Long, String&gt;)</code> method. There’s an example of that in my answer <a href=\"https://stackoverflow.com/a/57183455/5772882\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1668716054,"creation_date":1668716054,"answer_id":74481569,"question_id":74478332,"body_markdown":"First of all, the ***java.util*** date-time API and their formatting API, `SimpleDateFormat` are outdated and error-prone. It is recommended to stop using them completely and switch to the [modern date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html).\r\n\r\nIrrespective of whichever API you go with, the most likely cause of the problem is initializing `Locale` with one parameter. You should use `new Locale(&quot;sv&quot;,&quot;SE&quot;)` instead of `new Locale(&quot;sv&quot;)`.\r\n\r\n**Demo with java.time API**:\r\n\r\n    import java.time.LocalDate;\r\n    import java.time.LocalTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Arrays;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.US);\r\n            DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, new Locale(&quot;sv&quot;, &quot;SE&quot;));\r\n            LocalTime time = LocalTime.parse(&quot;06:45 AM&quot;, parser);\r\n            String formatted = time.format(formatter);\r\n            System.out.println(formatted);\r\n        }\r\n    }\r\n\r\n**Output**:\r\n\r\n    06:45 fm\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"SimpleDateFormat time conversion from US to Swedish doesn&#39;t work on real device but works on emulator","body":"<p>First of all, the <em><strong>java.util</strong></em> date-time API and their formatting API, <code>SimpleDateFormat</code> are outdated and error-prone. It is recommended to stop using them completely and switch to the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">modern date-time API</a>.</p>\n<p>Irrespective of whichever API you go with, the most likely cause of the problem is initializing <code>Locale</code> with one parameter. You should use <code>new Locale(&quot;sv&quot;,&quot;SE&quot;)</code> instead of <code>new Locale(&quot;sv&quot;)</code>.</p>\n<p><strong>Demo with java.time API</strong>:</p>\n<pre><code>import java.time.LocalDate;\nimport java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Arrays;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        DateTimeFormatter parser = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, Locale.US);\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;hh:mm a&quot;, new Locale(&quot;sv&quot;, &quot;SE&quot;));\n        LocalTime time = LocalTime.parse(&quot;06:45 AM&quot;, parser);\n        String formatted = time.format(formatter);\n        System.out.println(formatted);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>06:45 fm\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1668798397,"creation_date":1668728223,"answer_id":74483379,"question_id":74478332,"body_markdown":"The [Answer by Arvind Kumar Avinash][1] is correct and smart. \r\n\r\nIn addition, we can let *java.time* automatically localize rather than hard-code a format.\r\n\r\n# Automatic localization\r\n\r\n## tl;dr\r\n\r\n    localTime\r\n    .format(\r\n        DateTimeFormatter\r\n        .ofLocalizedTime( FormatStyle.SHORT )\r\n        .withLocale( new Locale( &quot;sv&quot; , &quot;SE&quot; ) )  // Swedish language, Sweden culture.\r\n    )\r\n\r\nSee this code [run at Ideone.com][2].\r\n\r\n&gt;06:45\r\n\r\n## Details\r\n\r\nYou appear to be interested in only the hour and minute, but not the second or fractional second. So we can truncate the value.\r\n\r\n    LocalTime localTime = localTime.truncatedTo( ChronoUnit.MINUTES ) ;\r\n\r\nWe can examine a few locales, for comparison. We will try Sweden, United States, and Canada (French).\r\n\r\n    List &lt; Locale &gt; locales = List.of( new Locale( &quot;sv&quot; , &quot;SE&quot; ) , Locale.US , Locale.CANADA_FRENCH );\r\n\r\n\r\nLoop the locales. For each locale, loop the various `FormatStyle` enum object that can work with a time-of-day only value (`SHORT` &amp; `MEDIUM`).\r\n\r\n```java\r\nfor ( Locale locale : locales )\r\n{\r\n    System.out.println( &quot;-------|  &quot; + locale + &quot;  |--------&quot; );\r\n    for ( FormatStyle formatStyle : List.of( FormatStyle.SHORT , FormatStyle.MEDIUM ) )\r\n    {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofLocalizedTime( formatStyle ).withLocale( locale );\r\n        String output = localTimeTruncated.format( formatter );\r\n        System.out.println( formatter + &quot; ➠ &quot; + output );\r\n    }\r\n}\r\n```\r\n\r\nWhen run:\r\n\r\n```none\r\nlocalTime = 06:45:07\r\nlocalTimeTruncated = 06:45\r\n-------|  sv_SE  |--------\r\nLocalized(,SHORT) ➠ 06:45\r\nLocalized(,MEDIUM) ➠ 06:45:00\r\n-------|  en_US  |--------\r\nLocalized(,SHORT) ➠ 6:45 AM\r\nLocalized(,MEDIUM) ➠ 6:45:00 AM\r\n-------|  fr_CA  |--------\r\nLocalized(,SHORT) ➠ 06 h 45\r\nLocalized(,MEDIUM) ➠ 06 h 45 min 00 s\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/74481569/642706\r\n  [2]: https://ideone.com/6vvpgm","title":"SimpleDateFormat time conversion from US to Swedish doesn&#39;t work on real device but works on emulator","body":"<p>The <a href=\"https://stackoverflow.com/a/74481569/642706\">Answer by Arvind Kumar Avinash</a> is correct and smart.</p>\n<p>In addition, we can let <em>java.time</em> automatically localize rather than hard-code a format.</p>\n<h1>Automatic localization</h1>\n<h2>tl;dr</h2>\n<pre><code>localTime\n.format(\n    DateTimeFormatter\n    .ofLocalizedTime( FormatStyle.SHORT )\n    .withLocale( new Locale( &quot;sv&quot; , &quot;SE&quot; ) )  // Swedish language, Sweden culture.\n)\n</code></pre>\n<p>See this code <a href=\"https://ideone.com/6vvpgm\" rel=\"nofollow noreferrer\">run at Ideone.com</a>.</p>\n<blockquote>\n<p>06:45</p>\n</blockquote>\n<h2>Details</h2>\n<p>You appear to be interested in only the hour and minute, but not the second or fractional second. So we can truncate the value.</p>\n<pre><code>LocalTime localTime = localTime.truncatedTo( ChronoUnit.MINUTES ) ;\n</code></pre>\n<p>We can examine a few locales, for comparison. We will try Sweden, United States, and Canada (French).</p>\n<pre><code>List &lt; Locale &gt; locales = List.of( new Locale( &quot;sv&quot; , &quot;SE&quot; ) , Locale.US , Locale.CANADA_FRENCH );\n</code></pre>\n<p>Loop the locales. For each locale, loop the various <code>FormatStyle</code> enum object that can work with a time-of-day only value (<code>SHORT</code> &amp; <code>MEDIUM</code>).</p>\n<pre class=\"lang-java prettyprint-override\"><code>for ( Locale locale : locales )\n{\n    System.out.println( &quot;-------|  &quot; + locale + &quot;  |--------&quot; );\n    for ( FormatStyle formatStyle : List.of( FormatStyle.SHORT , FormatStyle.MEDIUM ) )\n    {\n        DateTimeFormatter formatter = DateTimeFormatter.ofLocalizedTime( formatStyle ).withLocale( locale );\n        String output = localTimeTruncated.format( formatter );\n        System.out.println( formatter + &quot; ➠ &quot; + output );\n    }\n}\n</code></pre>\n<p>When run:</p>\n<pre class=\"lang-none prettyprint-override\"><code>localTime = 06:45:07\nlocalTimeTruncated = 06:45\n-------|  sv_SE  |--------\nLocalized(,SHORT) ➠ 06:45\nLocalized(,MEDIUM) ➠ 06:45:00\n-------|  en_US  |--------\nLocalized(,SHORT) ➠ 6:45 AM\nLocalized(,MEDIUM) ➠ 6:45:00 AM\n-------|  fr_CA  |--------\nLocalized(,SHORT) ➠ 06 h 45\nLocalized(,MEDIUM) ➠ 06 h 45 min 00 s\n</code></pre>\n"}],"owner":{"account_id":14879349,"reputation":525,"user_id":10744522,"display_name":"Shobhith"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1669041076,"creation_date":1668700078,"question_id":74478332,"body_markdown":"I am working on SimpleDatFormat on android.\r\nI tried to convert time from US locale to Swedish. It is working fine in emulator but when I tested it on Samsung devices it is not working. On rest of the devices and versions it is working fine.\r\n\r\n    SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;hh:mm a&quot;, Locale.US);\r\n    SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;hh:mm a&quot;, new Locale(&quot;sv&quot;));\r\n    try {\r\n        return outputFormat.format(inputFormat.parse(date));\r\n    } catch (ParseException e) {e.printStackTrace();}\r\n    return null;\r\n\r\n**Actual Result** \r\n\r\nExample input :- 06:45 AM\r\n\r\nO/p in emulator :- 06:45 FM\r\n\r\nO/p in real device :- 06:45 AM\r\n\r\n**Expected Result** \r\n\r\nExample input :- 06:45 AM\r\n\r\nO/p in emulator :- 06:45 FM\r\n\r\nO/p in real device :- 06:45 FM\r\n\r\n\r\nNote : This issue only happens for Time locale conversion. The date conversion works fine in both real and emulator devices.\r\n\r\n\r\nThanks in advance.","title":"SimpleDateFormat time conversion from US to Swedish doesn&#39;t work on real device but works on emulator","body":"<p>I am working on SimpleDatFormat on android.\nI tried to convert time from US locale to Swedish. It is working fine in emulator but when I tested it on Samsung devices it is not working. On rest of the devices and versions it is working fine.</p>\n<pre><code>SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;hh:mm a&quot;, Locale.US);\nSimpleDateFormat outputFormat = new SimpleDateFormat(&quot;hh:mm a&quot;, new Locale(&quot;sv&quot;));\ntry {\n    return outputFormat.format(inputFormat.parse(date));\n} catch (ParseException e) {e.printStackTrace();}\nreturn null;\n</code></pre>\n<p><strong>Actual Result</strong></p>\n<p>Example input :- 06:45 AM</p>\n<p>O/p in emulator :- 06:45 FM</p>\n<p>O/p in real device :- 06:45 AM</p>\n<p><strong>Expected Result</strong></p>\n<p>Example input :- 06:45 AM</p>\n<p>O/p in emulator :- 06:45 FM</p>\n<p>O/p in real device :- 06:45 FM</p>\n<p>Note : This issue only happens for Time locale conversion. The date conversion works fine in both real and emulator devices.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","feign","openfeign"],"owner":{"account_id":1913116,"reputation":2266,"user_id":1726366,"accept_rate":75,"display_name":"user1726366"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1669040926,"creation_date":1669040926,"question_id":74520480,"body_markdown":"I found that feign would run into an error(error message &quot;ERROR HttpRetryException: cannot retry due to redirection, in streaming mode&quot;) if I used it to send a POST request with a body value to a server which would return an HTTP 302 status code to redirect. If the body value is not added, then feign would follow redirection with success. It seems to be a limitation from sun.net.www.protocol.http.HttpURLConnection, which blocks the POST redirection with the body. So is there any way to customize feign to make it follow redirection in such a case?\r\n\r\nThe code and error logs are shown below.\r\n\r\n    public interface FeignPostRedirectClient {\r\n      @RequestLine(&quot;POST /redirect-server&quot;)\r\n      void sendPostRequestWithBodyToRedirectServer(Map&lt;String, ?&gt; formBodyParams);  //follow redirection FAIL\r\n      //void sendPostRequestWithBodyToRedirectServer();  //follow redirection OK\r\n    }\r\n\r\n    @Configuration\r\n    public class FeignConfiguration {\r\n        @Bean\r\n        public FeignPostRedirectClient feignPostRedirectClient() {\r\n            return Feign.builder()\r\n                    .logLevel(Logger.Level.FULL)\r\n                    .logger(new Slf4jLogger())\r\n                    .encoder(new JacksonEncoder())\r\n                    .decoder(new JacksonDecoder())\r\n                    .options(new Request.Options(10, TimeUnit.SECONDS, 10, TimeUnit.SECONDS, true))\r\n                    .target(FeignPostRedirectClient.class, &quot;http://localhost:8082&quot;);\r\n        }\r\n    }\r\n\r\n    Map&lt;String, String&gt; formParams = new HashMap&lt;&gt;();\r\n    formParams.put(&quot;Username&quot;, &quot;alice&quot;);\r\n    formParams.put(&quot;Password&quot;, &quot;pass&quot;);\r\n    feignPostRedirectClient.sendPostRequestWithBodyToRedirectServer(formParams);\r\n\r\n\r\n&gt; 2022-11-21 21:53:49.880 DEBUG 3944 --- [           main] feign.Logger \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; ---&gt; POST http://localhost:8082/redirect-server HTTP/1.1 2022-11-21 21:53:49.880 DEBUG 3944 --- [           main] feign.Logger            \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; Content-Length: 49 2022-11-21 21:53:49.880 DEBUG 3944 --- [          \r\n&gt; main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] \r\n&gt; 2022-11-21 21:53:49.880 DEBUG 3944 --- [           main] feign.Logger \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] { \r\n&gt; &quot;Username&quot; : &quot;alice&quot;,   &quot;Password&quot; : &quot;pass&quot; } 2022-11-21 21:53:49.881\r\n&gt; DEBUG 3944 --- [           main] feign.Logger                         \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; ---&gt; END HTTP (49-byte body) 2022-11-21 21:53:54.368 DEBUG 3944 --- [           main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] &lt;---\r\n&gt; ERROR HttpRetryException: cannot retry due to redirection, in\r\n&gt; streaming mode (4485ms) 2022-11-21 21:53:54.371 DEBUG 3944 --- [      \r\n&gt; main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; java.net.HttpRetryException: cannot retry due to redirection, in\r\n&gt; streaming mode \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.followRedirect0(HttpURLConnection.java:2682)\r\n&gt; \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.followRedirect(HttpURLConnection.java:2668)\r\n&gt; \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1847)\r\n&gt; \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1505)\r\n&gt; \tat\r\n&gt; java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\r\n&gt; \tat feign.Client$Default.convertResponse(Client.java:110) \tat\r\n&gt; feign.Client$Default.execute(Client.java:106) \tat\r\n&gt; feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:102)\r\n&gt; \tat\r\n&gt; feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:72)\r\n&gt; \tat\r\n&gt; feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:109)\r\n&gt; \tat\r\n&gt; com.sun.proxy.$Proxy71.sendPostRequestWithBodyToRedirectServer(Unknown\r\n&gt; Source) \tat\r\n&gt; com.kingsoo.online.store.service.OnlineStoreServiceApplication.run(OnlineStoreServiceApplication.java:28)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n&gt; \tat\r\n&gt; com.kingsoo.online.store.service.OnlineStoreServiceApplication.main(OnlineStoreServiceApplication.java:19)\r\n&gt; \r\n&gt; 2022-11-21 21:53:54.371 DEBUG 3944 --- [           main] feign.Logger \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; &lt;--- END ERROR 2022-11-21 21:53:54.588 DEBUG 3944 --- [          \r\n&gt; main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\r\n&gt; RETRYING 2022-11-21 21:53:54.589 DEBUG 3944 --- [           main]\r\n&gt; feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\r\n&gt; POST http://localhost:8082/redirect-server HTTP/1.1 2022-11-21\r\n&gt; 21:53:54.591 DEBUG 3944 --- [           main] feign.Logger            \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; Content-Length: 49 2022-11-21 21:53:54.591 DEBUG 3944 --- [          \r\n&gt; main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] \r\n&gt; 2022-11-21 21:53:54.592 DEBUG 3944 --- [           main] feign.Logger \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] { \r\n&gt; &quot;Username&quot; : &quot;alice&quot;,   &quot;Password&quot; : &quot;pass&quot; } 2022-11-21 21:53:54.592\r\n&gt; DEBUG 3944 --- [           main] feign.Logger                         \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; ---&gt; END HTTP (49-byte body) 2022-11-21 21:54:54.606 DEBUG 3944 --- [           main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] &lt;---\r\n&gt; ERROR SocketTimeoutException: Read timed out (60010ms) 2022-11-21\r\n&gt; 21:54:54.609 DEBUG 3944 --- [           main] feign.Logger            \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; java.net.SocketTimeoutException: Read timed out \tat\r\n&gt; java.net.SocketInputStream.socketRead0(Native Method) \tat\r\n&gt; java.net.SocketInputStream.socketRead(SocketInputStream.java:116) \tat\r\n&gt; java.net.SocketInputStream.read(SocketInputStream.java:171) \tat\r\n&gt; java.net.SocketInputStream.read(SocketInputStream.java:141) \tat\r\n&gt; java.io.BufferedInputStream.fill(BufferedInputStream.java:246) \tat\r\n&gt; java.io.BufferedInputStream.read1(BufferedInputStream.java:286) \tat\r\n&gt; java.io.BufferedInputStream.read(BufferedInputStream.java:345) \tat\r\n&gt; sun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:743) \tat\r\n&gt; sun.net.www.http.HttpClient.parseHTTP(HttpClient.java:678) \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1600)\r\n&gt; \tat\r\n&gt; sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1505)\r\n&gt; \tat\r\n&gt; java.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\r\n&gt; \tat feign.Client$Default.convertResponse(Client.java:110) \tat\r\n&gt; feign.Client$Default.execute(Client.java:106) \tat\r\n&gt; feign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:102)\r\n&gt; \tat\r\n&gt; feign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:72)\r\n&gt; \tat\r\n&gt; feign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:109)\r\n&gt; \tat\r\n&gt; com.sun.proxy.$Proxy71.sendPostRequestWithBodyToRedirectServer(Unknown\r\n&gt; Source) \tat\r\n&gt; com.kingsoo.online.store.service.OnlineStoreServiceApplication.run(OnlineStoreServiceApplication.java:28)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\r\n&gt; \tat\r\n&gt; org.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\r\n&gt; \tat\r\n&gt; com.kingsoo.online.store.service.OnlineStoreServiceApplication.main(OnlineStoreServiceApplication.java:19)\r\n&gt; \r\n&gt; 2022-11-21 21:54:54.609 DEBUG 3944 --- [           main] feign.Logger \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; &lt;--- END ERROR 2022-11-21 21:54:54.840 DEBUG 3944 --- [          \r\n&gt; main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\r\n&gt; RETRYING 2022-11-21 21:54:54.842 DEBUG 3944 --- [           main]\r\n&gt; feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\r\n&gt; POST http://localhost:8082/redirect-server HTTP/1.1 2022-11-21\r\n&gt; 21:54:54.842 DEBUG 3944 --- [           main] feign.Logger            \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; Content-Length: 49 2022-11-21 21:54:54.842 DEBUG 3944 --- [          \r\n&gt; main] feign.Logger                             :\r\n&gt; [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] \r\n&gt; 2022-11-21 21:54:54.842 DEBUG 3944 --- [           main] feign.Logger \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] { \r\n&gt; &quot;Username&quot; : &quot;alice&quot;,   &quot;Password&quot; : &quot;pass&quot; } 2022-11-21 21:54:54.842\r\n&gt; DEBUG 3944 --- [           main] feign.Logger                         \r\n&gt; : [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\r\n&gt; ---&gt; END HTTP (49-byte body)","title":"How to use openFeign to follow redirection of a HTTP POST request with body?","body":"<p>I found that feign would run into an error(error message &quot;ERROR HttpRetryException: cannot retry due to redirection, in streaming mode&quot;) if I used it to send a POST request with a body value to a server which would return an HTTP 302 status code to redirect. If the body value is not added, then feign would follow redirection with success. It seems to be a limitation from sun.net.www.protocol.http.HttpURLConnection, which blocks the POST redirection with the body. So is there any way to customize feign to make it follow redirection in such a case?</p>\n<p>The code and error logs are shown below.</p>\n<pre><code>public interface FeignPostRedirectClient {\n  @RequestLine(&quot;POST /redirect-server&quot;)\n  void sendPostRequestWithBodyToRedirectServer(Map&lt;String, ?&gt; formBodyParams);  //follow redirection FAIL\n  //void sendPostRequestWithBodyToRedirectServer();  //follow redirection OK\n}\n\n@Configuration\npublic class FeignConfiguration {\n    @Bean\n    public FeignPostRedirectClient feignPostRedirectClient() {\n        return Feign.builder()\n                .logLevel(Logger.Level.FULL)\n                .logger(new Slf4jLogger())\n                .encoder(new JacksonEncoder())\n                .decoder(new JacksonDecoder())\n                .options(new Request.Options(10, TimeUnit.SECONDS, 10, TimeUnit.SECONDS, true))\n                .target(FeignPostRedirectClient.class, &quot;http://localhost:8082&quot;);\n    }\n}\n\nMap&lt;String, String&gt; formParams = new HashMap&lt;&gt;();\nformParams.put(&quot;Username&quot;, &quot;alice&quot;);\nformParams.put(&quot;Password&quot;, &quot;pass&quot;);\nfeignPostRedirectClient.sendPostRequestWithBodyToRedirectServer(formParams);\n</code></pre>\n<blockquote>\n<p>2022-11-21 21:53:49.880 DEBUG 3944 --- [           main] feign.Logger\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n---&gt; POST http://localhost:8082/redirect-server HTTP/1.1 2022-11-21 21:53:49.880 DEBUG 3944 --- [           main] feign.Logger<br />\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\nContent-Length: 49 2022-11-21 21:53:49.880 DEBUG 3944 --- [<br />\nmain] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n2022-11-21 21:53:49.880 DEBUG 3944 --- [           main] feign.Logger\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] {\n&quot;Username&quot; : &quot;alice&quot;,   &quot;Password&quot; : &quot;pass&quot; } 2022-11-21 21:53:49.881\nDEBUG 3944 --- [           main] feign.Logger<br />\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n---&gt; END HTTP (49-byte body) 2022-11-21 21:53:54.368 DEBUG 3944 --- [           main] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] &lt;---\nERROR HttpRetryException: cannot retry due to redirection, in\nstreaming mode (4485ms) 2022-11-21 21:53:54.371 DEBUG 3944 --- [<br />\nmain] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\njava.net.HttpRetryException: cannot retry due to redirection, in\nstreaming mode    at\nsun.net.www.protocol.http.HttpURLConnection.followRedirect0(HttpURLConnection.java:2682)\nat\nsun.net.www.protocol.http.HttpURLConnection.followRedirect(HttpURLConnection.java:2668)\nat\nsun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1847)\nat\nsun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1505)\nat\njava.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\nat feign.Client$Default.convertResponse(Client.java:110)    at\nfeign.Client$Default.execute(Client.java:106)     at\nfeign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:102)\nat\nfeign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:72)\nat\nfeign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:109)\nat\ncom.sun.proxy.$Proxy71.sendPostRequestWithBodyToRedirectServer(Unknown\nSource)   at\ncom.kingsoo.online.store.service.OnlineStoreServiceApplication.run(OnlineStoreServiceApplication.java:28)\nat\norg.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\nat\norg.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:315)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\nat\ncom.kingsoo.online.store.service.OnlineStoreServiceApplication.main(OnlineStoreServiceApplication.java:19)</p>\n<p>2022-11-21 21:53:54.371 DEBUG 3944 --- [           main] feign.Logger\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n&lt;--- END ERROR 2022-11-21 21:53:54.588 DEBUG 3944 --- [<br />\nmain] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\nRETRYING 2022-11-21 21:53:54.589 DEBUG 3944 --- [           main]\nfeign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\nPOST http://localhost:8082/redirect-server HTTP/1.1 2022-11-21\n21:53:54.591 DEBUG 3944 --- [           main] feign.Logger<br />\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\nContent-Length: 49 2022-11-21 21:53:54.591 DEBUG 3944 --- [<br />\nmain] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n2022-11-21 21:53:54.592 DEBUG 3944 --- [           main] feign.Logger\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] {\n&quot;Username&quot; : &quot;alice&quot;,   &quot;Password&quot; : &quot;pass&quot; } 2022-11-21 21:53:54.592\nDEBUG 3944 --- [           main] feign.Logger<br />\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n---&gt; END HTTP (49-byte body) 2022-11-21 21:54:54.606 DEBUG 3944 --- [           main] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] &lt;---\nERROR SocketTimeoutException: Read timed out (60010ms) 2022-11-21\n21:54:54.609 DEBUG 3944 --- [           main] feign.Logger<br />\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\njava.net.SocketTimeoutException: Read timed out   at\njava.net.SocketInputStream.socketRead0(Native Method)     at\njava.net.SocketInputStream.socketRead(SocketInputStream.java:116)     at\njava.net.SocketInputStream.read(SocketInputStream.java:171)   at\njava.net.SocketInputStream.read(SocketInputStream.java:141)   at\njava.io.BufferedInputStream.fill(BufferedInputStream.java:246)    at\njava.io.BufferedInputStream.read1(BufferedInputStream.java:286)   at\njava.io.BufferedInputStream.read(BufferedInputStream.java:345)    at\nsun.net.www.http.HttpClient.parseHTTPHeader(HttpClient.java:743)  at\nsun.net.www.http.HttpClient.parseHTTP(HttpClient.java:678)    at\nsun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1600)\nat\nsun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1505)\nat\njava.net.HttpURLConnection.getResponseCode(HttpURLConnection.java:480)\nat feign.Client$Default.convertResponse(Client.java:110)    at\nfeign.Client$Default.execute(Client.java:106)     at\nfeign.SynchronousMethodHandler.executeAndDecode(SynchronousMethodHandler.java:102)\nat\nfeign.SynchronousMethodHandler.invoke(SynchronousMethodHandler.java:72)\nat\nfeign.ReflectiveFeign$FeignInvocationHandler.invoke(ReflectiveFeign.java:109)\nat\ncom.sun.proxy.$Proxy71.sendPostRequestWithBodyToRedirectServer(Unknown\nSource)   at\ncom.kingsoo.online.store.service.OnlineStoreServiceApplication.run(OnlineStoreServiceApplication.java:28)\nat\norg.springframework.boot.SpringApplication.callRunner(SpringApplication.java:771)\nat\norg.springframework.boot.SpringApplication.callRunners(SpringApplication.java:755)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:315)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1306)\nat\norg.springframework.boot.SpringApplication.run(SpringApplication.java:1295)\nat\ncom.kingsoo.online.store.service.OnlineStoreServiceApplication.main(OnlineStoreServiceApplication.java:19)</p>\n<p>2022-11-21 21:54:54.609 DEBUG 3944 --- [           main] feign.Logger\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n&lt;--- END ERROR 2022-11-21 21:54:54.840 DEBUG 3944 --- [<br />\nmain] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\nRETRYING 2022-11-21 21:54:54.842 DEBUG 3944 --- [           main]\nfeign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] ---&gt;\nPOST http://localhost:8082/redirect-server HTTP/1.1 2022-11-21\n21:54:54.842 DEBUG 3944 --- [           main] feign.Logger<br />\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\nContent-Length: 49 2022-11-21 21:54:54.842 DEBUG 3944 --- [<br />\nmain] feign.Logger                             :\n[FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n2022-11-21 21:54:54.842 DEBUG 3944 --- [           main] feign.Logger\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer] {\n&quot;Username&quot; : &quot;alice&quot;,   &quot;Password&quot; : &quot;pass&quot; } 2022-11-21 21:54:54.842\nDEBUG 3944 --- [           main] feign.Logger<br />\n: [FeignPostRedirectClient#sendPostRequestWithBodyToRedirectServer]\n---&gt; END HTTP (49-byte body)</p>\n</blockquote>\n"},{"tags":["java","mariadb","database-migration","flyway"],"answers":[{"tags":[],"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668692854,"creation_date":1668692854,"answer_id":74476572,"question_id":74476440,"body_markdown":"You can launch application against clean test database, Flyway will run all migrations and save the records to `flyway_schema_history` table. Then you manually create `flyway_schema_history` on prod database, populate it with records taken from test table. When you launch prod application, Flyway will scan `flyway_schema_history` table and consider that all migrations are already executed, and will not run your scripts so data will not be corrupted.","title":"Will Flyway execute all migrations from the beginning on an existing database?","body":"<p>You can launch application against clean test database, Flyway will run all migrations and save the records to <code>flyway_schema_history</code> table. Then you manually create <code>flyway_schema_history</code> on prod database, populate it with records taken from test table. When you launch prod application, Flyway will scan <code>flyway_schema_history</code> table and consider that all migrations are already executed, and will not run your scripts so data will not be corrupted.</p>\n"},{"tags":[],"owner":{"account_id":55854,"reputation":5789,"user_id":167364,"display_name":"David Atkinson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668695935,"creation_date":1668695935,"answer_id":74477293,"question_id":74476440,"body_markdown":"Flyway will by default try to execute all migrations that haven&#39;t been logged as run in the flyway_schema_history table.\r\n\r\nBut... there is a [flyway baseline][1] feature which instructs Flyway to ignore any migrations that have a version equal to or lower than a specified version.\r\n\r\nSo assuming the &quot;already run migrations&quot; are given an earlier version number (which is baked into the filename), and you ensure that you set a baselineVersion to be a number that is above these run migrations, then you should be good to go.\r\n\r\n  [1]: https://flywaydb.org/documentation/command/baseline","title":"Will Flyway execute all migrations from the beginning on an existing database?","body":"<p>Flyway will by default try to execute all migrations that haven't been logged as run in the flyway_schema_history table.</p>\n<p>But... there is a <a href=\"https://flywaydb.org/documentation/command/baseline\" rel=\"nofollow noreferrer\">flyway baseline</a> feature which instructs Flyway to ignore any migrations that have a version equal to or lower than a specified version.</p>\n<p>So assuming the &quot;already run migrations&quot; are given an earlier version number (which is baked into the filename), and you ensure that you set a baselineVersion to be a number that is above these run migrations, then you should be good to go.</p>\n"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":710,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74476572,"answer_count":2,"score":1,"last_activity_date":1669040670,"creation_date":1668692286,"question_id":74476440,"body_markdown":"I have a a strange question to ask. I started working on a project and I need to integrate flyway to make it execute any new migrations on application start-up. The flyway dependency and config exists, pointing at a batch of migration scripts, but these were previously executed against the target &#39;by hand&#39; without flyway having been used. The prod database full of user data. I can not tell you why it was organised like this.\r\n\r\nWhat I want to do is to integrate flyway to make it check that migration folder and to add a command to the pipeline. And I have a concern that if I don&#39;t configure flyway properly will it execute all those migrations from the beginning on start-up? (this can corrupt existing data) Or it will it only execute newly added migrations?","title":"Will Flyway execute all migrations from the beginning on an existing database?","body":"<p>I have a a strange question to ask. I started working on a project and I need to integrate flyway to make it execute any new migrations on application start-up. The flyway dependency and config exists, pointing at a batch of migration scripts, but these were previously executed against the target 'by hand' without flyway having been used. The prod database full of user data. I can not tell you why it was organised like this.</p>\n<p>What I want to do is to integrate flyway to make it check that migration folder and to add a command to the pipeline. And I have a concern that if I don't configure flyway properly will it execute all those migrations from the beginning on start-up? (this can corrupt existing data) Or it will it only execute newly added migrations?</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1668946509,"post_id":74504404,"comment_id":131524830,"body_markdown":"Can you add the relevant part from your controller?","body":"Can you add the relevant part from your controller?"}],"answers":[{"tags":[],"owner":{"account_id":16255308,"reputation":401,"user_id":13695861,"display_name":"Marc Bannout"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669040364,"creation_date":1669040364,"answer_id":74520358,"question_id":74504404,"body_markdown":"The direction should be in the sort param :\r\n\r\n`?page=0&amp;size=4&amp;sort=district,desc`\r\n\r\nYou can find more examples [here](https://www.bezkoder.com/spring-boot-pagination-sorting-example/)\r\n","title":"Why Jpa sorting is not working with Pageable in Spring?","body":"<p>The direction should be in the sort param :</p>\n<p><code>?page=0&amp;size=4&amp;sort=district,desc</code></p>\n<p>You can find more examples <a href=\"https://www.bezkoder.com/spring-boot-pagination-sorting-example/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":1314578,"reputation":1907,"user_id":1261764,"accept_rate":94,"display_name":"abidinberkay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1638,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74520358,"answer_count":1,"score":0,"last_activity_date":1669040364,"creation_date":1668898685,"question_id":74504404,"body_markdown":"Paging is working good but I cannot sort the data according to a specific field.\r\nMy repository method `Page&lt;AdvertSearch&gt; findAll(Pageable pageable);`\r\n\r\nMy entity class is:\r\n\r\n    public class AdvertSearch {\r\n    \r\n        @Id\r\n        @GeneratedValue(generator = &quot;uuid2&quot;)\r\n        @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n        @Column(name = &quot;id&quot;, nullable = false, columnDefinition = &quot;VARCHAR(36)&quot;)\r\n        private String id;\r\n    \r\n        private String advertId;\r\n        private String officeId;\r\n        private String officeName;\r\n    \r\n        //TODO: type hangi Point olacak hangi class olacak karar verilecek\r\n        @Column(nullable = false, columnDefinition = &quot;POINT SRID 4326&quot;)\r\n        private Point location;\r\n    \r\n        private OfficeType officeType;\r\n        private String city;\r\n        private String district;\r\n        private String mainOfficeId;\r\n        private Integer facilityCount;\r\n        private Integer virtualPackageCount;\r\n        private BuildingType buildingType;\r\n        private Integer securityCount;\r\n        private Double monthlyPrice;\r\n        private String currency;\r\n        private Integer capacity;\r\n    \r\n        //TODO: officelerde rating olmayacak diye konustuk bunun da netlestirilmesi gerek\r\n        private Double rating;\r\n        private Integer ratingCount;\r\n    }\r\n\r\nMy postman request is: `http://localhost:8080/advertsearch/findallbypage?page=0&amp;size=4&amp;sort=district&amp;direction=desc`\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs you see I want to sort the data according to district but it is not working. Is my request wrong ? Or is it about `Pageable` in JPA ?\r\n\r\n  [1]: https://i.stack.imgur.com/DXWzu.png","title":"Why Jpa sorting is not working with Pageable in Spring?","body":"<p>Paging is working good but I cannot sort the data according to a specific field.\nMy repository method <code>Page&lt;AdvertSearch&gt; findAll(Pageable pageable);</code></p>\n<p>My entity class is:</p>\n<pre><code>public class AdvertSearch {\n\n    @Id\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n    @Column(name = &quot;id&quot;, nullable = false, columnDefinition = &quot;VARCHAR(36)&quot;)\n    private String id;\n\n    private String advertId;\n    private String officeId;\n    private String officeName;\n\n    //TODO: type hangi Point olacak hangi class olacak karar verilecek\n    @Column(nullable = false, columnDefinition = &quot;POINT SRID 4326&quot;)\n    private Point location;\n\n    private OfficeType officeType;\n    private String city;\n    private String district;\n    private String mainOfficeId;\n    private Integer facilityCount;\n    private Integer virtualPackageCount;\n    private BuildingType buildingType;\n    private Integer securityCount;\n    private Double monthlyPrice;\n    private String currency;\n    private Integer capacity;\n\n    //TODO: officelerde rating olmayacak diye konustuk bunun da netlestirilmesi gerek\n    private Double rating;\n    private Integer ratingCount;\n}\n</code></pre>\n<p>My postman request is: <code>http://localhost:8080/advertsearch/findallbypage?page=0&amp;size=4&amp;sort=district&amp;direction=desc</code></p>\n<p><a href=\"https://i.stack.imgur.com/DXWzu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DXWzu.png\" alt=\"enter image description here\" /></a></p>\n<p>As you see I want to sort the data according to district but it is not working. Is my request wrong ? Or is it about <code>Pageable</code> in JPA ?</p>\n"},{"tags":["java","key","linkedhashmap"],"comments":[{"owner":{"account_id":342405,"reputation":1433,"user_id":673544,"display_name":"Nodebody"},"score":0,"creation_date":1669038105,"post_id":74519738,"comment_id":131545181,"body_markdown":"You almost did a good job on your first question. Even better would be if you had included what behavior you observe with your code - errors, unexpected output, etc.. \nThat being said: Shouldn&#39;t your emptySlotsOfString-array be (at least) as big as the highest index+1 in your map and not only as big as your historgram, because your array is only 8 long while your string&#39;s length is 12.","body":"You almost did a good job on your first question. Even better would be if you had included what behavior you observe with your code - errors, unexpected output, etc..  That being said: Shouldn&#39;t your emptySlotsOfString-array be (at least) as big as the highest index+1 in your map and not only as big as your historgram, because your array is only 8 long while your string&#39;s length is 12."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669040271,"creation_date":1669040271,"answer_id":74520330,"question_id":74519738,"body_markdown":"The length of the initial `String` is **not** equal to the size of the `Map` since each character might be encountered multiple times. To calculate the string&#39;s length you need to add up the sizes of all the lists of indices in the Map.\r\n\r\n    public int getLength() {\r\n        int length = 0;\r\n        for (List&lt;Integer&gt; indices : lettersHistogram.values()) {\r\n            length += indices.size();\r\n        }\r\n        return length;\r\n    }\r\n\r\nThen to restore the initial string, you can iterate over the entries of the `Map` using a nested `for`-loop. In the inner loop, iterate over the values (i.e. a list of indices) of each entry and assign the Key of the entry (character) to every corresponding index in the array.\r\n\r\nFinally, use constructor [`String(char[])`][constructor] to turn the char array into a `String`.\r\n\r\n    public String convertToOldString() {\r\n        char[] chars = new char[getLength()];\r\n        for (var entry : lettersHistogram.entrySet()) {\r\n            for (int index : entry.getValue())\r\n            chars[index] = entry.getKey();\r\n        }\r\n        return new String(chars);\r\n    }\r\n\r\n\r\n\r\n   [constructor]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#%3Cinit%3E(char%5B%5D)","title":"Create a new String with the characters as Key by each Value from LinkedHashMap","body":"<p>The length of the initial <code>String</code> is <strong>not</strong> equal to the size of the <code>Map</code> since each character might be encountered multiple times. To calculate the string's length you need to add up the sizes of all the lists of indices in the Map.</p>\n<pre><code>public int getLength() {\n    int length = 0;\n    for (List&lt;Integer&gt; indices : lettersHistogram.values()) {\n        length += indices.size();\n    }\n    return length;\n}\n</code></pre>\n<p>Then to restore the initial string, you can iterate over the entries of the <code>Map</code> using a nested <code>for</code>-loop. In the inner loop, iterate over the values (i.e. a list of indices) of each entry and assign the Key of the entry (character) to every corresponding index in the array.</p>\n<p>Finally, use constructor <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#%3Cinit%3E(char%5B%5D)\" rel=\"nofollow noreferrer\"><code>String(char[])</code></a> to turn the char array into a <code>String</code>.</p>\n<pre><code>public String convertToOldString() {\n    char[] chars = new char[getLength()];\n    for (var entry : lettersHistogram.entrySet()) {\n        for (int index : entry.getValue())\n        chars[index] = entry.getKey();\n    }\n    return new String(chars);\n}\n</code></pre>\n"}],"owner":{"display_name":"user13084927"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669040271,"creation_date":1669037612,"question_id":74519738,"body_markdown":"```\r\npublic class StringManagement {  \r\n    private String str;\r\n    private Map&lt;Character, List&lt;Integer&gt;&gt; lettersHistogram = new LinkedHashMap&lt;&gt;();\r\n    //private Map&lt;Character, Integer&gt; numCount = new LinkedHashMap&lt;Character, Integer();\r\n\r\n    public void convertToOldString(){\r\n        String oldString;\r\n        char emptySlotsOfString[] = new char[lettersHistogram.size()];\r\n        for(int i=0; i&lt;emptySlotsOfString.length; i++){\r\n            Arrays.fill(emptySlotsOfString, &#39; &#39;);\r\n        }\r\n\r\n}\r\n```\r\n\r\nI need to create a function that will read the characters with the location information, from the structure stored, will recompose the string back to its original form situation by placing the necessary blanks and then it will print it.\r\n\r\nfor example if i add the string &quot;HELLO SAMOS!&quot; right now returns me \r\n{H=[0], E=[1], L=[2, 3], O=[4, 9], S=[6, 10], A=[7], M=[8], !=[11]}\r\nit saves every character with each position in the linkedhashmap.\r\n\r\nI just thought that i have to create an empty char[] table that will fill with spaces &#39; &#39; same length as the size of the map and replace the &#39; &#39; with characters from the map by each value.. please some help..","title":"Create a new String with the characters as Key by each Value from LinkedHashMap","body":"<pre><code>public class StringManagement {  \n    private String str;\n    private Map&lt;Character, List&lt;Integer&gt;&gt; lettersHistogram = new LinkedHashMap&lt;&gt;();\n    //private Map&lt;Character, Integer&gt; numCount = new LinkedHashMap&lt;Character, Integer();\n\n    public void convertToOldString(){\n        String oldString;\n        char emptySlotsOfString[] = new char[lettersHistogram.size()];\n        for(int i=0; i&lt;emptySlotsOfString.length; i++){\n            Arrays.fill(emptySlotsOfString, ' ');\n        }\n\n}\n</code></pre>\n<p>I need to create a function that will read the characters with the location information, from the structure stored, will recompose the string back to its original form situation by placing the necessary blanks and then it will print it.</p>\n<p>for example if i add the string &quot;HELLO SAMOS!&quot; right now returns me\n{H=[0], E=[1], L=[2, 3], O=[4, 9], S=[6, 10], A=[7], M=[8], !=[11]}\nit saves every character with each position in the linkedhashmap.</p>\n<p>I just thought that i have to create an empty char[] table that will fill with spaces ' ' same length as the size of the map and replace the ' ' with characters from the map by each value.. please some help..</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669040261,"creation_date":1669040261,"answer_id":74520323,"question_id":74510273,"body_markdown":"Yes, the paused state of the container is not considered when deciding to emit idle events.\r\n\r\nHowever, the event contains a property...\r\n\r\n```java\r\n/**\r\n * Return true if the consumer was paused at the time the idle event was published.\r\n * @return paused.\r\n * @since 2.1.5\r\n */\r\npublic boolean isPaused() {\r\n\treturn this.paused;\r\n}\r\n```\r\n","title":"In spring kafka if the listener container is paused then can it emit ListenerContainerIdleEvent (idle event)?","body":"<p>Yes, the paused state of the container is not considered when deciding to emit idle events.</p>\n<p>However, the event contains a property...</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Return true if the consumer was paused at the time the idle event was published.\n * @return paused.\n * @since 2.1.5\n */\npublic boolean isPaused() {\n    return this.paused;\n}\n</code></pre>\n"}],"owner":{"account_id":6089074,"reputation":63,"user_id":8324957,"display_name":"slick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669040261,"creation_date":1668964550,"question_id":74510273,"body_markdown":"If the listener container has been paused will it still emit ListenerContainerIdleEvent after the threshold set in setIdleEventInterval has exceeded ?","title":"In spring kafka if the listener container is paused then can it emit ListenerContainerIdleEvent (idle event)?","body":"<p>If the listener container has been paused will it still emit ListenerContainerIdleEvent after the threshold set in setIdleEventInterval has exceeded ?</p>\n"},{"tags":["java","elasticsearch"],"owner":{"account_id":22071184,"reputation":33,"user_id":16332139,"display_name":"Bhavin "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669039955,"creation_date":1669039955,"question_id":74520256,"body_markdown":"I have service in which I am calling elastic server and whatever response I get, I iterate over it and filter records on depending upon criteria, if after filtering I get records size as same input_size I return the result or else I again call the elastic by changing query and increasing offset. Code is somewhat like below.\r\n\r\n```\r\nSearchCriteria {\r\n    private int offset;\r\n    private int limit;\r\n    private Filters filter;\r\n}\r\n\r\nElasticService {\r\n    private ResultObj getDataFromElastic(SearchCriteria criteria){\r\n         List&lt;Document&gt; op = new ArrayList&lt;&gt;();\r\n         do {\r\n             SearchRequest searchReq = buildElasticQuery(criteria, offset, limit);\r\n             Page&lt;Document&gt; res = repository.search(searchReq);\r\n             count = 0;\r\n             for(Document r:res){\r\n                if(r.getStatus() != &quot;Ready&quot;){\r\n                   continue; }\r\n             count +=1;\r\n             op.add(r);\r\n             }\r\n         if(count &lt;= limit){\r\n             offset = offset + 10;\r\n             }\r\n         }while(count &lt;= Limit);\r\n\r\n}\r\n}\r\n\r\n```\r\n\r\nNow the main issue is when I pass offset as 0 and limit as 10 it goes for 2nd elastic call because count didn&#39;t match the limit. But elastic returns **empty response for 2nd call.**\r\n\r\n```\r\n2022-11-21 17:59:05.130  INFO 11951 ---ElasticService    : Search Service :-- Offset and limit for this call 0 , 10\r\n2022-11-21 17:59:05.131  INFO 11951 ---ElasticService    : Query - Pagegable : Page request [number: 1, size 10, sort: Id.keyword: ASC, NULLS_FIRST]\r\n2022-11-21 17:59:18.634  INFO 11951 ---ElasticService    : Search Service :-- Result size is 3\r\n2022-11-21 17:59:05.130  INFO 11951 ---ElasticService    : Search Service :-- Offset and limit for this call 10 , 10\r\n2022-11-21 17:59:05.131  INFO 11951 ---ElasticService    : Query - Pagegable : **Page request [number: 1, size 10, sort: Id.keyword: ASC, NULLS_FIRST]**\r\n2022-11-21 17:59:18.634  INFO 11951 ---ElasticService    : Search Service :-- Result size is 0\r\n```\r\nbut I send seperate request with offset as 10 and limit 10, elastic returns data with some size.\r\n\r\n\r\n```\r\n2022-11-21 17:65:05.130  INFO 11951 ---ElasticService    : Search Service :-- Offset and limit for this call 10 , 10\r\n2022-11-21 17:65:05.131  INFO 11951 ---ElasticService    : Query - Pagegable : **Page request [number: 1, size 10, sort: Id.keyword: ASC, NULLS_FIRST]**\r\n2022-11-21 17:65:18.634  INFO 11951 ---ElasticService    : Search Service :-- Result size is 3\r\n```\r\n\r\nI tried changing the way I am calling elastic client from repository class that extends `ElasticsearchRepository` to using high level Rest client `RestHighLevelClient` .\r\n```\r\nresultList = leadIndexRepository.search(searchQuery);\r\n```\r\n\r\n```\r\nsearchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\r\n```\r\n\r\nI also tried by changing the how we use the Pagination thing. First I tried with \r\n\r\n```\r\nreturn new NativeSearchQueryBuilder()\r\n                .withQuery(baseQueryBuilder)\r\n                .withPageable(PageRequest.of(pageNumber, limit, buildSort(criteria)))\r\n                .build();\r\n```\r\n\r\nthen I removed the withPageable from here and added \r\n\r\n```\r\nSearchQuery searchQuery = buildSearchQuery(criteria, limit, pageNumber);\r\nSearchSourceBuilder source = new SearchSourceBuilder()\r\n         .query(searchQuery.getQuery()).from(offset).size(limit);\r\nSearchRequest searchRequest=new SearchRequest(leadDocumentProperties.getName()).source(source);\r\n```\r\nI also tried few others way but none of it worked.","title":"Java ElasticSearch : Getting empty result when calling with different offset in same call","body":"<p>I have service in which I am calling elastic server and whatever response I get, I iterate over it and filter records on depending upon criteria, if after filtering I get records size as same input_size I return the result or else I again call the elastic by changing query and increasing offset. Code is somewhat like below.</p>\n<pre><code>SearchCriteria {\n    private int offset;\n    private int limit;\n    private Filters filter;\n}\n\nElasticService {\n    private ResultObj getDataFromElastic(SearchCriteria criteria){\n         List&lt;Document&gt; op = new ArrayList&lt;&gt;();\n         do {\n             SearchRequest searchReq = buildElasticQuery(criteria, offset, limit);\n             Page&lt;Document&gt; res = repository.search(searchReq);\n             count = 0;\n             for(Document r:res){\n                if(r.getStatus() != &quot;Ready&quot;){\n                   continue; }\n             count +=1;\n             op.add(r);\n             }\n         if(count &lt;= limit){\n             offset = offset + 10;\n             }\n         }while(count &lt;= Limit);\n\n}\n}\n\n</code></pre>\n<p>Now the main issue is when I pass offset as 0 and limit as 10 it goes for 2nd elastic call because count didn't match the limit. But elastic returns <strong>empty response for 2nd call.</strong></p>\n<pre><code>2022-11-21 17:59:05.130  INFO 11951 ---ElasticService    : Search Service :-- Offset and limit for this call 0 , 10\n2022-11-21 17:59:05.131  INFO 11951 ---ElasticService    : Query - Pagegable : Page request [number: 1, size 10, sort: Id.keyword: ASC, NULLS_FIRST]\n2022-11-21 17:59:18.634  INFO 11951 ---ElasticService    : Search Service :-- Result size is 3\n2022-11-21 17:59:05.130  INFO 11951 ---ElasticService    : Search Service :-- Offset and limit for this call 10 , 10\n2022-11-21 17:59:05.131  INFO 11951 ---ElasticService    : Query - Pagegable : **Page request [number: 1, size 10, sort: Id.keyword: ASC, NULLS_FIRST]**\n2022-11-21 17:59:18.634  INFO 11951 ---ElasticService    : Search Service :-- Result size is 0\n</code></pre>\n<p>but I send seperate request with offset as 10 and limit 10, elastic returns data with some size.</p>\n<pre><code>2022-11-21 17:65:05.130  INFO 11951 ---ElasticService    : Search Service :-- Offset and limit for this call 10 , 10\n2022-11-21 17:65:05.131  INFO 11951 ---ElasticService    : Query - Pagegable : **Page request [number: 1, size 10, sort: Id.keyword: ASC, NULLS_FIRST]**\n2022-11-21 17:65:18.634  INFO 11951 ---ElasticService    : Search Service :-- Result size is 3\n</code></pre>\n<p>I tried changing the way I am calling elastic client from repository class that extends <code>ElasticsearchRepository</code> to using high level Rest client <code>RestHighLevelClient</code> .</p>\n<pre><code>resultList = leadIndexRepository.search(searchQuery);\n</code></pre>\n<pre><code>searchResponse = client.search(searchRequest, RequestOptions.DEFAULT);\n</code></pre>\n<p>I also tried by changing the how we use the Pagination thing. First I tried with</p>\n<pre><code>return new NativeSearchQueryBuilder()\n                .withQuery(baseQueryBuilder)\n                .withPageable(PageRequest.of(pageNumber, limit, buildSort(criteria)))\n                .build();\n</code></pre>\n<p>then I removed the withPageable from here and added</p>\n<pre><code>SearchQuery searchQuery = buildSearchQuery(criteria, limit, pageNumber);\nSearchSourceBuilder source = new SearchSourceBuilder()\n         .query(searchQuery.getQuery()).from(offset).size(limit);\nSearchRequest searchRequest=new SearchRequest(leadDocumentProperties.getName()).source(source);\n</code></pre>\n<p>I also tried few others way but none of it worked.</p>\n"},{"tags":["java","sql","maven","liquibase","changelog"],"comments":[{"owner":{"account_id":474169,"reputation":4184,"user_id":883679,"accept_rate":54,"display_name":"6ton"},"score":0,"creation_date":1433349216,"post_id":30625734,"comment_id":49317520,"body_markdown":"Maybe this can help http://forum.liquibase.org/topic/liquibase-generatechangelog-failed-org-yaml-snakeyaml-representer-representer","body":"Maybe this can help <a href=\"http://forum.liquibase.org/topic/liquibase-generatechangelog-failed-org-yaml-snakeyaml-representer-representer\" rel=\"nofollow noreferrer\">forum.liquibase.org/topic/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":131902,"reputation":6273,"user_id":332248,"accept_rate":62,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1433414601,"creation_date":1433414601,"answer_id":30641722,"question_id":30625734,"body_markdown":"`&lt;outputChangeLogFile&gt;` is not a `true/false` boolean but a `String` where you are supposed to hand in a complete file path for the changeLogFile, e.g.: \r\n\r\n    &lt;outputChangeLogFile&gt;c:/tmp/myGeneratedChangeLogFile.xml&lt;/outputChangeLogFile&gt;\r\n\r\n","title":"No serializer associated with the filename or extension &quot;true&quot;?","body":"<p><code>&lt;outputChangeLogFile&gt;</code> is not a <code>true/false</code> boolean but a <code>String</code> where you are supposed to hand in a complete file path for the changeLogFile, e.g.: </p>\n\n<pre><code>&lt;outputChangeLogFile&gt;c:/tmp/myGeneratedChangeLogFile.xml&lt;/outputChangeLogFile&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12121117,"reputation":199,"user_id":8852522,"display_name":"H.Karatsanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669039420,"creation_date":1669039420,"answer_id":74520131,"question_id":30625734,"body_markdown":"What *Jens* suggested is true for your case but the error &quot;No serializer associated with the filename or extension&quot; can also happen when you are trying e.g. to generate the output changelog through the ```liquibase-maven-plugin``` with the command \r\n```\r\nmvn liquibase:generateChangeLog\r\n```\r\n\r\n and have specified only the plugin without the dependency in the ```pom.xml``` file, e.g.:\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n  &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;4.16.1&lt;/version&gt;\r\n  &lt;configuration&gt;\r\n     &lt;propertyFile&gt;src/main/resources/config/application.yml&lt;/propertyFile&gt;\r\n     &lt;changeLogFile&gt;src/main/resources/db/changelog/db.changelog-root.xml&lt;/changeLogFile&gt;\r\n     &lt;url&gt;jdbc:h2:file:~/test2;DB_CLOSE_ON_EXIT=FALSE&lt;/url&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nBut after specifying the dependency in the dependencies section as well e.g.:\r\n```\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n  &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;4.16.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nand after correctly specifying the path for the output changelog, the error should not appear anymore. (Just as an observation for future readers)","title":"No serializer associated with the filename or extension &quot;true&quot;?","body":"<p>What <em>Jens</em> suggested is true for your case but the error &quot;No serializer associated with the filename or extension&quot; can also happen when you are trying e.g. to generate the output changelog through the <code>liquibase-maven-plugin</code> with the command</p>\n<pre><code>mvn liquibase:generateChangeLog\n</code></pre>\n<p>and have specified only the plugin without the dependency in the <code>pom.xml</code> file, e.g.:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n  &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;4.16.1&lt;/version&gt;\n  &lt;configuration&gt;\n     &lt;propertyFile&gt;src/main/resources/config/application.yml&lt;/propertyFile&gt;\n     &lt;changeLogFile&gt;src/main/resources/db/changelog/db.changelog-root.xml&lt;/changeLogFile&gt;\n     &lt;url&gt;jdbc:h2:file:~/test2;DB_CLOSE_ON_EXIT=FALSE&lt;/url&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>But after specifying the dependency in the dependencies section as well e.g.:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n  &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;4.16.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>and after correctly specifying the path for the output changelog, the error should not appear anymore. (Just as an observation for future readers)</p>\n"}],"owner":{"account_id":5221563,"reputation":65,"user_id":4174871,"accept_rate":27,"display_name":"user4174871"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1669039420,"creation_date":1433348927,"question_id":30625734,"body_markdown":"I get that error when I run the command &quot;mvn liquibase:generateChangeLog&quot;. I have\r\n \r\n      &lt;outputChangeLogFile&gt;true&lt;/outputChangeLogFile&gt;\r\nin order to print the output in a changeLog file rather than the command prompt. If I remove that line, there is no error. These are my properties\r\n\r\n    &lt;changeLogFile&gt;src/main/Resources/liquibase-3.3.3-bin/db.changelog.xml&lt;/changeLogFile&gt;\r\n        &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\r\n        &lt;url&gt;jdbc:mysql://localhost/test&lt;/url&gt;\r\n        &lt;username&gt;****&lt;/username&gt;\r\n        &lt;password&gt;********&lt;/password&gt;\r\n\t&lt;promptOnNonLocalDatabase&gt;false&lt;/promptOnNonLocalDatabase&gt;\r\n\t&lt;outputChangeLogFile&gt;true&lt;/outputChangeLogFile&gt;\r\n\r\nFor dependencies I have mysql-connector, liquibase-core and snakeyaml.\r\n\r\n[INFO] Can not use class liquibase.serializer.core.json.JsonChangeLogSerializer as a Liquibase service because org.yaml.snakeyaml.representer.Representer is not in the classpath.\r\n\r\n","title":"No serializer associated with the filename or extension &quot;true&quot;?","body":"<p>I get that error when I run the command \"mvn liquibase:generateChangeLog\". I have</p>\n\n<pre><code>  &lt;outputChangeLogFile&gt;true&lt;/outputChangeLogFile&gt;\n</code></pre>\n\n<p>in order to print the output in a changeLog file rather than the command prompt. If I remove that line, there is no error. These are my properties</p>\n\n<pre><code>&lt;changeLogFile&gt;src/main/Resources/liquibase-3.3.3-bin/db.changelog.xml&lt;/changeLogFile&gt;\n    &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\n    &lt;url&gt;jdbc:mysql://localhost/test&lt;/url&gt;\n    &lt;username&gt;****&lt;/username&gt;\n    &lt;password&gt;********&lt;/password&gt;\n&lt;promptOnNonLocalDatabase&gt;false&lt;/promptOnNonLocalDatabase&gt;\n&lt;outputChangeLogFile&gt;true&lt;/outputChangeLogFile&gt;\n</code></pre>\n\n<p>For dependencies I have mysql-connector, liquibase-core and snakeyaml.</p>\n\n<p>[INFO] Can not use class liquibase.serializer.core.json.JsonChangeLogSerializer as a Liquibase service because org.yaml.snakeyaml.representer.Representer is not in the classpath.</p>\n"},{"tags":["java","javafx","raspberry-pi","java-13"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1669075078,"post_id":74520060,"comment_id":131556430,"body_markdown":"Maybe just upgrade your JavaFX version.  [This answer (potential duplicate)](https://stackoverflow.com/a/62249425/1155209) notes that some versions of JavaFX (e.g. 11) did not have media support for the Pi.  But the answer also notes that JavaFX 14 from Bellsoft/Liberica does provide support for mp3 playback via JavaFX media.   The answer also notes certain bugs even in some of the media playback for mp3s on Pi, e.g. filenames with spaces don&#39;t work, so perhaps use the most recent version of JavaFX available for the platform, in case some of those bugs were subsequently fixed.","body":"Maybe just upgrade your JavaFX version.  <a href=\"https://stackoverflow.com/a/62249425/1155209\">This answer (potential duplicate)</a> notes that some versions of JavaFX (e.g. 11) did not have media support for the Pi.  But the answer also notes that JavaFX 14 from Bellsoft/Liberica does provide support for mp3 playback via JavaFX media.   The answer also notes certain bugs even in some of the media playback for mp3s on Pi, e.g. filenames with spaces don&#39;t work, so perhaps use the most recent version of JavaFX available for the platform, in case some of those bugs were subsequently fixed."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1669075289,"post_id":74520060,"comment_id":131556471,"body_markdown":"[Related post on BellSoft&#39;s site](https://bell-sw.com/announcements/2019/09/12/JDK-JavaFX-Video-Preview/): &quot;Using Liberica JDK 13 EA to play Media with OpenJFX 13 on the Raspberry Pi 4&quot;.","body":"<a href=\"https://bell-sw.com/announcements/2019/09/12/JDK-JavaFX-Video-Preview/\" rel=\"nofollow noreferrer\">Related post on BellSoft&#39;s site</a>: &quot;Using Liberica JDK 13 EA to play Media with OpenJFX 13 on the Raspberry Pi 4&quot;."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1669075801,"post_id":74520060,"comment_id":131556539,"body_markdown":"Liberica currently offer &quot;Liberica Full JRE 19 arm 32 for Linux&quot;, from their download page.  I&#39;m not sure if that is a version that works on a Pi, as I haven&#39;t used a Pi, but it may be if you use the deb package installer for it.","body":"Liberica currently offer &quot;Liberica Full JRE 19 arm 32 for Linux&quot;, from their download page.  I&#39;m not sure if that is a version that works on a Pi, as I haven&#39;t used a Pi, but it may be if you use the deb package installer for it."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1669077079,"post_id":74520060,"comment_id":131556720,"body_markdown":"Alternately, you may be able to follow the [embedded instructions from gluon](https://docs.gluonhq.com/#platforms_embedded).","body":"Alternately, you may be able to follow the <a href=\"https://docs.gluonhq.com/#platforms_embedded\" rel=\"nofollow noreferrer\">embedded instructions from gluon</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1669092792,"post_id":74520060,"comment_id":131558980,"body_markdown":"If using liberica, ARMv7 Hard-Float (32 bit), the [release notes](https://bell-sw.com/pages/supported-configurations/) state: “EGL, SW (direct framebuffer) and GTK pipelines are supported. Media functionality is supported in LibericaFX since 11.0.8 and 14.0.2. libavcodec and libavformat packages (such as available in Raspbian Buster) are required for Media functionality in X11. Media functionality for EGL and SW rendering is not supported. Webkit is not supported.”.  LibericaFX is included in “Full JDK” and “Full JRE” releases.","body":"If using liberica, ARMv7 Hard-Float (32 bit), the <a href=\"https://bell-sw.com/pages/supported-configurations/\" rel=\"nofollow noreferrer\">release notes</a> state: “EGL, SW (direct framebuffer) and GTK pipelines are supported. Media functionality is supported in LibericaFX since 11.0.8 and 14.0.2. libavcodec and libavformat packages (such as available in Raspbian Buster) are required for Media functionality in X11. Media functionality for EGL and SW rendering is not supported. Webkit is not supported.”.  LibericaFX is included in “Full JDK” and “Full JRE” releases."}],"owner":{"account_id":7952912,"reputation":111,"user_id":6003204,"accept_rate":100,"display_name":"Дмитрий"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669039104,"creation_date":1669039104,"question_id":74520060,"body_markdown":"I&#39;m trying to create simple audio player for mp3 files which i&#39;m going to use on my Raspberry Pi 4.\r\nBecause of default OpenJDK which installed on Raspberry Pi not included JavaFX framework, i&#39;ve installed Java 13 from Bellsoft/Liberica (it can be important for another raspberry users) which have JavaFx on board.\r\n\r\nBut code below is not working and throwing errors:\r\n\r\n    media = new Media(&quot;path/to/mp3-file&quot;);\r\n    MediaPlayer mp = new MediaPlayer(media);\r\n\r\n```\r\nException in Application init method\r\njava.lang.reflect.InvocationTargetException\r\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\r\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\r\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n at java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\r\nCaused by: java.lang.RuntimeException: Exception in Application init method\r\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:895)\r\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\r\n at java.base/java.lang.Thread.run(Thread.java:830)\r\nCaused by: MediaException: UNKNOWN : com.sun.media.jfxmedia.MediaException: Could not create player! : com.sun.media.jfxmedia.MediaException: Could not create player!\r\n at javafx.media/javafx.scene.media.MediaException.exceptionToMediaException(MediaException.java:146)\r\n at javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:518)\r\n at javafx.media/javafx.scene.media.MediaPlayer.&lt;init&gt;(MediaPlayer.java:421)\r\n at sample.FX_Player.init(FX_Player.java:86)\r\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:824)\r\n ... 2 more\r\nCaused by: com.sun.media.jfxmedia.MediaException: Could not create player!\r\n at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.getPlayer(NativeMediaManager.java:295)\r\n at javafx.media/com.sun.media.jfxmedia.MediaManager.getPlayer(MediaManager.java:118)\r\n at javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:474)\r\n ... 5 more\r\nException running application sample.FX_Player\r\n\r\n```  \r\nI have read that trouble could be because of bad file path but i&#39;ve tried different ways and no one is not working\r\n```\r\nfile:///home/pi/test.mp3\r\nfile:/home/pi/test.mp3\r\n/home/pi/test.mp3\r\n```\r\n\r\ni faced similar questions:  \r\n&lt;https://stackoverflow.com/questions/26625362/javafx-and-mediaexception-unknown-could-not-create-player&gt;  \r\n&lt;https://stackoverflow.com/questions/26896798/javafx-media-player-not-working&gt;  \r\nbut different paths i tried and i use java version higher than 9\r\n\r\nCan someone explain how to solve this trouble? \r\n","title":"JavaFX mp3 on Raspberry OS","body":"<p>I'm trying to create simple audio player for mp3 files which i'm going to use on my Raspberry Pi 4.\nBecause of default OpenJDK which installed on Raspberry Pi not included JavaFX framework, i've installed Java 13 from Bellsoft/Liberica (it can be important for another raspberry users) which have JavaFx on board.</p>\n<p>But code below is not working and throwing errors:</p>\n<pre><code>media = new Media(&quot;path/to/mp3-file&quot;);\nMediaPlayer mp = new MediaPlayer(media);\n</code></pre>\n<pre><code>Exception in Application init method\njava.lang.reflect.InvocationTargetException\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplicationWithArgs(LauncherImpl.java:464)\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication(LauncherImpl.java:363)\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n at java.base/sun.launcher.LauncherHelper$FXHelper.main(LauncherHelper.java:1051)\nCaused by: java.lang.RuntimeException: Exception in Application init method\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:895)\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.lambda$launchApplication$2(LauncherImpl.java:195)\n at java.base/java.lang.Thread.run(Thread.java:830)\nCaused by: MediaException: UNKNOWN : com.sun.media.jfxmedia.MediaException: Could not create player! : com.sun.media.jfxmedia.MediaException: Could not create player!\n at javafx.media/javafx.scene.media.MediaException.exceptionToMediaException(MediaException.java:146)\n at javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:518)\n at javafx.media/javafx.scene.media.MediaPlayer.&lt;init&gt;(MediaPlayer.java:421)\n at sample.FX_Player.init(FX_Player.java:86)\n at javafx.graphics/com.sun.javafx.application.LauncherImpl.launchApplication1(LauncherImpl.java:824)\n ... 2 more\nCaused by: com.sun.media.jfxmedia.MediaException: Could not create player!\n at javafx.media/com.sun.media.jfxmediaimpl.NativeMediaManager.getPlayer(NativeMediaManager.java:295)\n at javafx.media/com.sun.media.jfxmedia.MediaManager.getPlayer(MediaManager.java:118)\n at javafx.media/javafx.scene.media.MediaPlayer.init(MediaPlayer.java:474)\n ... 5 more\nException running application sample.FX_Player\n\n</code></pre>\n<p>I have read that trouble could be because of bad file path but i've tried different ways and no one is not working</p>\n<pre><code>file:///home/pi/test.mp3\nfile:/home/pi/test.mp3\n/home/pi/test.mp3\n</code></pre>\n<p>i faced similar questions:<br />\n<a href=\"https://stackoverflow.com/questions/26625362/javafx-and-mediaexception-unknown-could-not-create-player\">JavaFX and &quot;MediaException: UNKNOWN ... Could not create player!&quot;</a><br />\n<a href=\"https://stackoverflow.com/questions/26896798/javafx-media-player-not-working\">JavaFX Media Player not working</a><br />\nbut different paths i tried and i use java version higher than 9</p>\n<p>Can someone explain how to solve this trouble?</p>\n"},{"tags":["java","image"],"comments":[{"owner":{"account_id":5765228,"reputation":3329,"user_id":4550393,"accept_rate":100,"display_name":"Norman"},"score":1,"creation_date":1460366140,"post_id":36544362,"comment_id":60689942,"body_markdown":"Everything is possible. What did you try so far?","body":"Everything is possible. What did you try so far?"},{"owner":{"account_id":8154096,"reputation":117,"user_id":6140227,"accept_rate":100,"display_name":"ezzitt"},"score":0,"creation_date":1460367783,"post_id":36544362,"comment_id":60691118,"body_markdown":"thank you Norman, private Image createImage(){\n    BufferedImage bi = new BufferedImage(800,480,BufferedImage.TYPE_INT_RGB);\n    Graphics2D g = (Graphics2D) bi.getGraphics();\n\tg.fillRect(0, 0, bi.getWidth(), bi.getHeight());","body":"thank you Norman, private Image createImage(){     BufferedImage bi = new BufferedImage(800,480,BufferedImage.TYPE_INT_RGB);     Graphics2D g = (Graphics2D) bi.getGraphics(); \tg.fillRect(0, 0, bi.getWidth(), bi.getHeight());"}],"answers":[{"tags":[],"owner":{"account_id":2715546,"reputation":7607,"user_id":2343011,"accept_rate":64,"display_name":"flavio.donze"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1669039082,"creation_date":1460366158,"answer_id":36544519,"question_id":36544362,"body_markdown":"You could use the `BufferedImage`, do the following to get a subimage:\r\n\r\n\tBufferedImage img = ImageIO.read(new File(&quot;yourPath&quot;));\r\n\tBufferedImage subimage = img.getSubimage(115, 235, 580, 202);\r\n\tImageIO.write(subimage, &quot;png&quot;, new File(&quot;outputPath&quot;));\r\n\r\nThis example works with the filesystem, you could also use streams.\r\n\r\n[JavaDoc][1]:\r\n\r\n    public BufferedImage getSubimage(int x, int y, int w, int h)\r\n\r\n**Parameters:**&lt;br&gt;\r\nx - the X coordinate of the upper-left corner of the specified rectangular region&lt;br&gt;\r\ny - the Y coordinate of the upper-left corner of the specified rectangular region&lt;br&gt;\r\nw - the width of the specified rectangular region&lt;br&gt;\r\nh - the height of the specified rectangular region&lt;br&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getSubimage(int,%20int,%20int,%20int)","title":"Creating a sub image in Java","body":"<p>You could use the <code>BufferedImage</code>, do the following to get a subimage:</p>\n<pre><code>BufferedImage img = ImageIO.read(new File(&quot;yourPath&quot;));\nBufferedImage subimage = img.getSubimage(115, 235, 580, 202);\nImageIO.write(subimage, &quot;png&quot;, new File(&quot;outputPath&quot;));\n</code></pre>\n<p>This example works with the filesystem, you could also use streams.</p>\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getSubimage(int,%20int,%20int,%20int)\" rel=\"nofollow noreferrer\">JavaDoc</a>:</p>\n<pre><code>public BufferedImage getSubimage(int x, int y, int w, int h)\n</code></pre>\n<p><strong>Parameters:</strong><br>\nx - the X coordinate of the upper-left corner of the specified rectangular region<br>\ny - the Y coordinate of the upper-left corner of the specified rectangular region<br>\nw - the width of the specified rectangular region<br>\nh - the height of the specified rectangular region<br></p>\n"}],"owner":{"account_id":8154096,"reputation":117,"user_id":6140227,"accept_rate":100,"display_name":"ezzitt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8126,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36544519,"answer_count":1,"score":3,"last_activity_date":1669039082,"creation_date":1460365749,"question_id":36544362,"body_markdown":"I have an image 800x480. How do I create a new sub image of the following coordinates?\r\n\r\n&gt; 115, 235, 580, 202 (x, y, width, height)","title":"Creating a sub image in Java","body":"<p>I have an image 800x480. How do I create a new sub image of the following coordinates?</p>\n\n<blockquote>\n  <p>115, 235, 580, 202 (x, y, width, height)</p>\n</blockquote>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","embedded-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669039072,"creation_date":1669039072,"answer_id":74520054,"question_id":74497483,"body_markdown":"You cannot; producers and consumers are independent; `acks` are simply to acknowledge that the broker has received and secured the record; it has nothing to do with the consumer side.\r\n\r\nYou need your own logic for the consumer to tell the producer it has received the record.","title":"Spring EmbeddedKafka producer not waiting for consumer acknowledgement","body":"<p>You cannot; producers and consumers are independent; <code>acks</code> are simply to acknowledge that the broker has received and secured the record; it has nothing to do with the consumer side.</p>\n<p>You need your own logic for the consumer to tell the producer it has received the record.</p>\n"}],"owner":{"account_id":3137985,"reputation":71,"user_id":2654096,"display_name":"user2654096"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74520054,"answer_count":1,"score":0,"last_activity_date":1669039072,"creation_date":1668830804,"question_id":74497483,"body_markdown":"I want the producer in my test to wait until the consumer in the class-under-test has acknowledged by calling `Acknowledgement.acknowledge()`. My consumer is initialized with the following properties:\r\n\r\n    spring:\r\n      kafka:\r\n        consumer:\r\n          group-id: test-group\r\n          bootstrap-servers: ${spring.embedded.kafka.brokers}\r\n          enable-auto-commit: false\r\n          auto-offset-reset: earliest\r\n          max-poll-records: 1\r\n\r\nMy `kafkaListenerContainerFactory` is initialized as follows:\r\n\r\n    @Bean\r\n        public ConcurrentKafkaListenerContainerFactory&lt;String, MessageType&gt; kafkaListenerContainerFactory(\r\n                ConsumerFactory&lt;String, MessageType&gt; consumerFactory)\r\n        {\r\n            ConcurrentKafkaListenerContainerFactory&lt;String, MessageType&gt; factory =\r\n                    new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n            factory.setConsumerFactory(consumerFactory);\r\n            factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n            factory.setErrorHandler(new LoggingErrorHandler());\r\n            factory.setConcurrency(numListeners);\r\n            return factory;\r\n        }\r\n\r\nI have also set `acks` in my producer config to `all`. The producer doesn&#39;t seem to block though even though I&#39;m waiting on the future returned.\r\n\r\n    producer.send(new ProducerRecord&lt;Integer, String&gt;(TOPIC, key, value)).get();\r\n\r\nHow can I get the producer in my test to block until the consumer acknowledges without adding some sort of `sleep`?","title":"Spring EmbeddedKafka producer not waiting for consumer acknowledgement","body":"<p>I want the producer in my test to wait until the consumer in the class-under-test has acknowledged by calling <code>Acknowledgement.acknowledge()</code>. My consumer is initialized with the following properties:</p>\n<pre><code>spring:\n  kafka:\n    consumer:\n      group-id: test-group\n      bootstrap-servers: ${spring.embedded.kafka.brokers}\n      enable-auto-commit: false\n      auto-offset-reset: earliest\n      max-poll-records: 1\n</code></pre>\n<p>My <code>kafkaListenerContainerFactory</code> is initialized as follows:</p>\n<pre><code>@Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, MessageType&gt; kafkaListenerContainerFactory(\n            ConsumerFactory&lt;String, MessageType&gt; consumerFactory)\n    {\n        ConcurrentKafkaListenerContainerFactory&lt;String, MessageType&gt; factory =\n                new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory);\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n        factory.setErrorHandler(new LoggingErrorHandler());\n        factory.setConcurrency(numListeners);\n        return factory;\n    }\n</code></pre>\n<p>I have also set <code>acks</code> in my producer config to <code>all</code>. The producer doesn't seem to block though even though I'm waiting on the future returned.</p>\n<pre><code>producer.send(new ProducerRecord&lt;Integer, String&gt;(TOPIC, key, value)).get();\n</code></pre>\n<p>How can I get the producer in my test to block until the consumer acknowledges without adding some sort of <code>sleep</code>?</p>\n"},{"tags":["java","image","mouse"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1366650543,"post_id":16152710,"comment_id":23080120,"body_markdown":"For better help sooner, post an [SSCCE](http://sscce.org/).","body":"For better help sooner, post an <a href=\"http://sscce.org/\" rel=\"nofollow noreferrer\">SSCCE</a>."},{"owner":{"account_id":2498957,"reputation":199,"user_id":2174631,"accept_rate":64,"display_name":"programmer"},"score":0,"creation_date":1366651715,"post_id":16152710,"comment_id":23080692,"body_markdown":"@RobWatts Yes they are","body":"@RobWatts Yes they are"},{"owner":{"account_id":2554254,"reputation":6916,"user_id":2216621,"accept_rate":61,"display_name":"Rob Watts"},"score":0,"creation_date":1366652281,"post_id":16152710,"comment_id":23080976,"body_markdown":"Should bullets follow the cursor, or head in the direction of where the cursor was when they were fired?","body":"Should bullets follow the cursor, or head in the direction of where the cursor was when they were fired?"},{"owner":{"account_id":2498957,"reputation":199,"user_id":2174631,"accept_rate":64,"display_name":"programmer"},"score":0,"creation_date":1366652338,"post_id":16152710,"comment_id":23081006,"body_markdown":"@RobWatts head in the direction of where the cursor was when they were fired","body":"@RobWatts head in the direction of where the cursor was when they were fired"}],"answers":[{"tags":[],"owner":{"account_id":2554254,"reputation":6916,"user_id":2216621,"accept_rate":61,"display_name":"Rob Watts"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1366656937,"creation_date":1366652744,"answer_id":16153423,"question_id":16152710,"body_markdown":"In order to make the bullets move directly toward the cursor and not always in 45 degree paths, use `double` for your internal representation of X and Y. Also, since you want the bullet to head in a certain direction, you&#39;ll want to compute the X velocity and Y velocity when you first create the bullet.\r\n\r\nFor example:\r\n\r\n    double deltaX = player.getX() - point.getX();\r\n    double deltaY = player.getY() - point.getY();\r\n    double magnitude = Math.sqrt(deltaX*deltaX + deltaY*deltaY);\r\n    \r\n    // It&#39;s possible for magnitude to be zero (cursor is over the person)\r\n    // Decide what you want the default direction to be to handle that case\r\n    double xVelocity = 1;\r\n    double yVelocity = 0;\r\n    if (magnitude != 0) {\r\n        xVelocity = deltaX / magnitude;\r\n        yVelocity = deltaY / magnitude;\r\n    }\r\n\r\nWith the velocities computed when you first create the bullet, at each tick you just need to use `xPosition += xVelocity` and `yPosition += yVelocity`.","title":"Making image travel towards mouse cursor","body":"<p>In order to make the bullets move directly toward the cursor and not always in 45 degree paths, use <code>double</code> for your internal representation of X and Y. Also, since you want the bullet to head in a certain direction, you'll want to compute the X velocity and Y velocity when you first create the bullet.</p>\n\n<p>For example:</p>\n\n<pre><code>double deltaX = player.getX() - point.getX();\ndouble deltaY = player.getY() - point.getY();\ndouble magnitude = Math.sqrt(deltaX*deltaX + deltaY*deltaY);\n\n// It's possible for magnitude to be zero (cursor is over the person)\n// Decide what you want the default direction to be to handle that case\ndouble xVelocity = 1;\ndouble yVelocity = 0;\nif (magnitude != 0) {\n    xVelocity = deltaX / magnitude;\n    yVelocity = deltaY / magnitude;\n}\n</code></pre>\n\n<p>With the velocities computed when you first create the bullet, at each tick you just need to use <code>xPosition += xVelocity</code> and <code>yPosition += yVelocity</code>.</p>\n"}],"owner":{"account_id":2498957,"reputation":199,"user_id":2174631,"accept_rate":64,"display_name":"programmer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":902,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":16153423,"answer_count":1,"score":0,"last_activity_date":1669038392,"creation_date":1366650354,"question_id":16152710,"body_markdown":"In the game im making I want to use the mouse cursor to aim with. This is the code I have for know to make the bullet move towards the mouse cursor:\r\n\r\nLocating the mouse position\r\n    private PointerInfo mouse = MouseInfo.getPointerInfo();\r\n    private Point point = new Point(mouse.getLocation());\r\nMaking the bullet kinda move towards the mouse cursor\r\n\r\n    if(point.getX() &gt; player.getX()){\r\n            setX(getX() + 1);\r\n    }\r\n    if(point.getX() &lt; player.getX()){\r\n            setX(getX() - 1);\r\n    }\r\n    if(point.getY() &gt; player.getY()){\r\n            setY(getY() + 1);\r\n    }\r\n    if(point.getY() &lt; player.getY()){\r\n            setY(getY() - 1);\r\n    }\r\nThe problem is that the bullet won&#39;t travel precisly to the mouse cursor but travel in a 45 degree path dow to the left if the mouse cursor is somewhere in that area, the same thing goes for up to the left, down to the right and up to the right.","title":"Making image travel towards mouse cursor","body":"<p>In the game im making I want to use the mouse cursor to aim with. This is the code I have for know to make the bullet move towards the mouse cursor:</p>\n\n<p>Locating the mouse position\n    private PointerInfo mouse = MouseInfo.getPointerInfo();\n    private Point point = new Point(mouse.getLocation());\nMaking the bullet kinda move towards the mouse cursor</p>\n\n<pre><code>if(point.getX() &gt; player.getX()){\n        setX(getX() + 1);\n}\nif(point.getX() &lt; player.getX()){\n        setX(getX() - 1);\n}\nif(point.getY() &gt; player.getY()){\n        setY(getY() + 1);\n}\nif(point.getY() &lt; player.getY()){\n        setY(getY() - 1);\n}\n</code></pre>\n\n<p>The problem is that the bullet won't travel precisly to the mouse cursor but travel in a 45 degree path dow to the left if the mouse cursor is somewhere in that area, the same thing goes for up to the left, down to the right and up to the right.</p>\n"},{"tags":["java","spring-boot","intellij-idea","intellij-14"],"comments":[{"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1669038942,"post_id":74518283,"comment_id":131545507,"body_markdown":"`/users/riccardo/library/java/javavirtualmachines/azul-16.0.2-1/contents/home/bin/java: no such file or directory`\n\nAdd information regarding the IntelliJ version, whether it&#39;s a community edition or an ultimate edition, the result of `java -version` on the terminal window etc.","body":"<code>&#47;users&#47;riccardo&#47;library&#47;java&#47;javavirtualmachines&#47;azul-16.0.2&zwnj;&#8203;-1&#47;contents&#47;home&#47;bin&zwnj;&#8203;&#47;java: no such file or directory</code>  Add information regarding the IntelliJ version, whether it&#39;s a community edition or an ultimate edition, the result of <code>java -version</code> on the terminal window etc."}],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669038131,"creation_date":1669038131,"answer_id":74519834,"question_id":74518283,"body_markdown":"First check for language version. Go to `File &gt; Project Structure` select `Project` under the `Project Settings` check the language version. Then you can do  `Invalidate Cache and Restart`","title":"Setup intellij on spring boot","body":"<p>First check for language version. Go to <code>File &gt; Project Structure</code> select <code>Project</code> under the <code>Project Settings</code> check the language version. Then you can do  <code>Invalidate Cache and Restart</code></p>\n"}],"owner":{"account_id":10212020,"reputation":1516,"user_id":10278268,"display_name":"riki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669038131,"creation_date":1669030502,"question_id":74518283,"body_markdown":"The error below is thrown when I try to start a spring boot project on my m1 Macbook Pro. How can I fix this, and what is the reason for this?\r\n**Error:**\r\n\r\n       Abnormal build process termination:\r\n    nice -n 10 /users/riccardo/library/java/javavirtualmachines/azul-16.0.2-1/contents/home/bin/java -xmx700m -djava. Awt. Headless=true --add-opens jdk. Compiler/com. Sun. Tools. Javac. Api=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Util=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Code=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Comp=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. File=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Main=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Model=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Parser=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Processing=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Tree=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Jvm=all-unnamed -dpreload. Project. Path=/users/riccardo/desktop/progetti/personali/quotereportserver &quot;-dpreload. Config. Path=/users/riccardo/library/application support/jetbrains/ideaic2022.2/options&quot; -dcompile. Parallel=false -drebuild. On. Dependency. Change=true -didea. Inttointbtree. Page. Size=32768 -djdt. Compiler. Usesinglethread=true -daether. Connector. Resumedownloads=false -dio. Netty. Initialseeduniquifier=3479120019962095349 -dfile. Encoding=utf-8 -duser. Language=en -duser. Country=it -didea. Paths. Selector=ideaic2022.2 &quot;-didea. Home. Path=/applications/intellij idea ce. App/contents&quot; &quot;-didea. Config. Path=/users/riccardo/library/application support/jetbrains/ideaic2022.2&quot; &quot;-didea. Plugins. Path=/users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins&quot; -djps. Log. Dir=/users/riccardo/library/logs/jetbrains/ideaic2022.2/build-log &quot;-djps. Fallback. Jdk. Home=/applications/intellij idea ce. App/contents/jbr/contents/home&quot; -djps. Fallback. Jdk. Version=17.0.4.1 -dio. Netty. Nounsafe=true -djava. Io. Tmpdir=/users/riccardo/library/caches/jetbrains/ideaic2022.2/compile-server/quotereportserver_35242acb/_temp_ -djps. Backward. Ref. Index. Builder=true -dkotlin. Incremental. Compilation=true -dkotlin. Incremental. Compilation. Js=true -dkotlin. Daemon. Enabled -dkotlin. Daemon. Client. Alive. Path=\\&quot;/var/folders/rt/m71wvw7s6yj5_d479mj15bym0000gp/t/kotlin-idea-16691048973323777495-is-running\\&quot; &quot;-djps. Kotlin. Home=/users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/kotlin/kotlinc&quot; -dtmh. Instrument. Annotations=true -dtmh. Generate. Line. Numbers=true -dcompile. Parallel. Max. Threads=4 -dcompile. Parallel=true --add-opens java. Base/java. Util=all-unnamed -dscala. Compile. Server. System. Dir=/users/riccardo/library/caches/jetbrains/ideaic2022.2/scala-compile-server -dscala. Compile. Server. Socket. Connect. Timeout. Milliseconds=10000 -dscala. Compiler. Indices. Rebuild=true -dide. Propagate. Context=false -classpath &quot;/applications/intellij idea ce. App/contents/plugins/java/lib/jps-launcher. Jar&quot; org. Jetbrains. Jps. Cmdline. Launcher &quot;/applications/intellij idea ce. App/contents/plugins/java/lib/jps-builders. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/jps-builders-6. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/jps-javac-extension. Jar: /applications/intellij idea ce. App/contents/lib/util. Jar: /applications/intellij idea ce. App/contents/lib/util_rt. Jar: /applications/intellij idea ce. App/contents/lib/annotations. Jar: /applications/intellij idea ce. App/contents/lib/3rd-party-rt. Jar: /applications/intellij idea ce. App/contents/lib/jna. Jar: /applications/intellij idea ce. App/contents/lib/lz4-java. Jar: /applications/intellij idea ce. App/contents/lib/protobuf. Jar: /applications/intellij idea ce. App/contents/lib/jps-model. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/javac2. Jar: /applications/intellij idea ce. App/contents/lib/forms_rt. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/aether-dependency-resolver. Jar: /applications/intellij idea ce. App/contents/lib/idea_rt. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/kotlin/lib/jps/kotlin-jps-plugin. Jar: /applications/intellij idea ce. App/contents/lib/util. Jar: /applications/intellij idea ce. App/contents/plugins/javafx/lib/javafx-jps. Jar: /applications/intellij idea ce. App/contents/plugins/javafx/lib/javafx-common. Jar: /applications/intellij idea ce. App/contents/plugins/eclipse/lib/eclipse-jps. Jar: /applications/intellij idea ce. App/contents/plugins/eclipse/lib/eclipse-common. Jar: /applications/intellij idea ce. App/contents/plugins/space/lib/space-java-jps. Jar: /applications/intellij idea ce. App/contents/plugins/uidesigner/lib/jps/java-guiforms-jps. Jar: /applications/intellij idea ce. App/contents/plugins/intellilang/lib/java-langinjection-\r\n    jps. Jar: /applications/intellij idea ce. App/contents/plugins/groovy/lib/groovy-jps. Jar: /applications/intellij idea ce. App/contents/plugins/groovy/lib/groovy-constants-rt. Jar: /applications/intellij idea ce. App/contents/plugins/devkit/lib/devkit-jps. Jar: /applications/intellij idea ce. App/contents/plugins/ant/lib/ant-jps. Jar: /applications/intellij idea ce. App/contents/plugins/maven/lib/maven-jps. Jar: /applications/intellij idea ce. App/contents/plugins/gradle-java/lib/gradle-jps. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/scala-library. Jar: /users/riccardo/library/application\r\n    \r\n    support/jetbrains/ideaic2022.2/plugins/scala/lib/compiler-shared. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/nailgun. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/compiler-jps. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/sbt-interface. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/incremental-compiler. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/scala-parallel-collections. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/spray-json_2.13-1.3.5. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/scala-compiler-indices-protocol_2.12-0.1.1. Jar&quot; org. Jetbrains. Jps. Cmdline. Buildmain 127.0.0.1 61152 4782dc89-f679-499a-950d-566b6c03131e /users/riccardo/library/caches/jetbrains/ideaic2022.2/compile-server\r\n    nice: /users/riccardo/library/java/javavirtualmachines/azul-16.0.2-1/contents/home/bin/java: no such file or directory","title":"Setup intellij on spring boot","body":"<p>The error below is thrown when I try to start a spring boot project on my m1 Macbook Pro. How can I fix this, and what is the reason for this?\n<strong>Error:</strong></p>\n<pre><code>   Abnormal build process termination:\nnice -n 10 /users/riccardo/library/java/javavirtualmachines/azul-16.0.2-1/contents/home/bin/java -xmx700m -djava. Awt. Headless=true --add-opens jdk. Compiler/com. Sun. Tools. Javac. Api=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Util=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Code=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Comp=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. File=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Main=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Model=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Parser=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Processing=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Tree=all-unnamed --add-opens jdk. Compiler/com. Sun. Tools. Javac. Jvm=all-unnamed -dpreload. Project. Path=/users/riccardo/desktop/progetti/personali/quotereportserver &quot;-dpreload. Config. Path=/users/riccardo/library/application support/jetbrains/ideaic2022.2/options&quot; -dcompile. Parallel=false -drebuild. On. Dependency. Change=true -didea. Inttointbtree. Page. Size=32768 -djdt. Compiler. Usesinglethread=true -daether. Connector. Resumedownloads=false -dio. Netty. Initialseeduniquifier=3479120019962095349 -dfile. Encoding=utf-8 -duser. Language=en -duser. Country=it -didea. Paths. Selector=ideaic2022.2 &quot;-didea. Home. Path=/applications/intellij idea ce. App/contents&quot; &quot;-didea. Config. Path=/users/riccardo/library/application support/jetbrains/ideaic2022.2&quot; &quot;-didea. Plugins. Path=/users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins&quot; -djps. Log. Dir=/users/riccardo/library/logs/jetbrains/ideaic2022.2/build-log &quot;-djps. Fallback. Jdk. Home=/applications/intellij idea ce. App/contents/jbr/contents/home&quot; -djps. Fallback. Jdk. Version=17.0.4.1 -dio. Netty. Nounsafe=true -djava. Io. Tmpdir=/users/riccardo/library/caches/jetbrains/ideaic2022.2/compile-server/quotereportserver_35242acb/_temp_ -djps. Backward. Ref. Index. Builder=true -dkotlin. Incremental. Compilation=true -dkotlin. Incremental. Compilation. Js=true -dkotlin. Daemon. Enabled -dkotlin. Daemon. Client. Alive. Path=\\&quot;/var/folders/rt/m71wvw7s6yj5_d479mj15bym0000gp/t/kotlin-idea-16691048973323777495-is-running\\&quot; &quot;-djps. Kotlin. Home=/users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/kotlin/kotlinc&quot; -dtmh. Instrument. Annotations=true -dtmh. Generate. Line. Numbers=true -dcompile. Parallel. Max. Threads=4 -dcompile. Parallel=true --add-opens java. Base/java. Util=all-unnamed -dscala. Compile. Server. System. Dir=/users/riccardo/library/caches/jetbrains/ideaic2022.2/scala-compile-server -dscala. Compile. Server. Socket. Connect. Timeout. Milliseconds=10000 -dscala. Compiler. Indices. Rebuild=true -dide. Propagate. Context=false -classpath &quot;/applications/intellij idea ce. App/contents/plugins/java/lib/jps-launcher. Jar&quot; org. Jetbrains. Jps. Cmdline. Launcher &quot;/applications/intellij idea ce. App/contents/plugins/java/lib/jps-builders. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/jps-builders-6. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/jps-javac-extension. Jar: /applications/intellij idea ce. App/contents/lib/util. Jar: /applications/intellij idea ce. App/contents/lib/util_rt. Jar: /applications/intellij idea ce. App/contents/lib/annotations. Jar: /applications/intellij idea ce. App/contents/lib/3rd-party-rt. Jar: /applications/intellij idea ce. App/contents/lib/jna. Jar: /applications/intellij idea ce. App/contents/lib/lz4-java. Jar: /applications/intellij idea ce. App/contents/lib/protobuf. Jar: /applications/intellij idea ce. App/contents/lib/jps-model. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/javac2. Jar: /applications/intellij idea ce. App/contents/lib/forms_rt. Jar: /applications/intellij idea ce. App/contents/plugins/java/lib/aether-dependency-resolver. Jar: /applications/intellij idea ce. App/contents/lib/idea_rt. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/kotlin/lib/jps/kotlin-jps-plugin. Jar: /applications/intellij idea ce. App/contents/lib/util. Jar: /applications/intellij idea ce. App/contents/plugins/javafx/lib/javafx-jps. Jar: /applications/intellij idea ce. App/contents/plugins/javafx/lib/javafx-common. Jar: /applications/intellij idea ce. App/contents/plugins/eclipse/lib/eclipse-jps. Jar: /applications/intellij idea ce. App/contents/plugins/eclipse/lib/eclipse-common. Jar: /applications/intellij idea ce. App/contents/plugins/space/lib/space-java-jps. Jar: /applications/intellij idea ce. App/contents/plugins/uidesigner/lib/jps/java-guiforms-jps. Jar: /applications/intellij idea ce. App/contents/plugins/intellilang/lib/java-langinjection-\njps. Jar: /applications/intellij idea ce. App/contents/plugins/groovy/lib/groovy-jps. Jar: /applications/intellij idea ce. App/contents/plugins/groovy/lib/groovy-constants-rt. Jar: /applications/intellij idea ce. App/contents/plugins/devkit/lib/devkit-jps. Jar: /applications/intellij idea ce. App/contents/plugins/ant/lib/ant-jps. Jar: /applications/intellij idea ce. App/contents/plugins/maven/lib/maven-jps. Jar: /applications/intellij idea ce. App/contents/plugins/gradle-java/lib/gradle-jps. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/scala-library. Jar: /users/riccardo/library/application\n\nsupport/jetbrains/ideaic2022.2/plugins/scala/lib/compiler-shared. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/nailgun. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/compiler-jps. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/sbt-interface. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/incremental-compiler. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/jps/scala-parallel-collections. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/spray-json_2.13-1.3.5. Jar: /users/riccardo/library/application support/jetbrains/ideaic2022.2/plugins/scala/lib/scala-compiler-indices-protocol_2.12-0.1.1. Jar&quot; org. Jetbrains. Jps. Cmdline. Buildmain 127.0.0.1 61152 4782dc89-f679-499a-950d-566b6c03131e /users/riccardo/library/caches/jetbrains/ideaic2022.2/compile-server\nnice: /users/riccardo/library/java/javavirtualmachines/azul-16.0.2-1/contents/home/bin/java: no such file or directory\n</code></pre>\n"},{"tags":["java","hibernate","jpa","projection"],"comments":[{"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"score":0,"creation_date":1622190725,"post_id":67735467,"comment_id":119726226,"body_markdown":"JPA expects a @NoArgsConstructor too.","body":"JPA expects a @NoArgsConstructor too."},{"owner":{"account_id":5946474,"reputation":162,"user_id":4675824,"accept_rate":50,"display_name":"J-Eibe"},"score":0,"creation_date":1622191700,"post_id":67735467,"comment_id":119726627,"body_markdown":"Then I get &quot;No converter found capable of converting from type House to HouseView&quot;","body":"Then I get &quot;No converter found capable of converting from type House to HouseView&quot;"},{"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"score":2,"creation_date":1622198743,"post_id":67735467,"comment_id":119729525,"body_markdown":"@J-Eibe hibernate projections do not support collections in result set, see for example [this answer](https://stackoverflow.com/a/67488816/6277104).","body":"@J-Eibe hibernate projections do not support collections in result set, see for example <a href=\"https://stackoverflow.com/a/67488816/6277104\">this answer</a>."}],"answers":[{"tags":[],"owner":{"account_id":21735536,"reputation":40,"user_id":16043578,"display_name":"Howie S. Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622191007,"creation_date":1622191007,"answer_id":67735579,"question_id":67735467,"body_markdown":"Let trying not using lombok and see if it works","title":"JPA Projection @OneToMany not working &#39;Unable to locate appropriate constructor&#39;","body":"<p>Let trying not using lombok and see if it works</p>\n"},{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622451972,"creation_date":1622451972,"answer_id":67770825,"question_id":67735467,"body_markdown":"Spring Data Projections do not support collections but I think this is a perfect use case for [Blaze-Persistence Entity Views][1].\r\n\r\nI created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.\r\n\r\nA DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:\r\n\r\n    @EntityView(House.class)\r\n    public interface HouseView {\r\n        @IdMapping\r\n        Long getObjnr();\r\n        Set&lt;AddressView&gt; getIdentAddressen();\r\n\r\n        @EntityView(Address.class)\r\n        interface AddressView {\r\n            @IdMapping\r\n            Long getId();\r\n            String getName();\r\n        }\r\n    }\r\n\r\nQuerying is a matter of applying the entity view to a query, the simplest being just a query by id.\r\n\r\n`HouseView a = entityViewManager.find(entityManager, HouseView.class, id);`\r\n\r\nThe Spring Data integration allows you to use it almost like Spring Data Projections: https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\r\n\r\n    Page&lt;HouseView&gt; findAll(Pageable pageable);\r\n\t\r\nThe best part is, it will only fetch the state that is actually necessary!\r\n\r\n  [1]: https://github.com/Blazebit/blaze-persistence#entity-view-usage","title":"JPA Projection @OneToMany not working &#39;Unable to locate appropriate constructor&#39;","body":"<p>Spring Data Projections do not support collections but I think this is a perfect use case for <a href=\"https://github.com/Blazebit/blaze-persistence#entity-view-usage\" rel=\"nofollow noreferrer\">Blaze-Persistence Entity Views</a>.</p>\n<p>I created the library to allow easy mapping between JPA models and custom interface or abstract class defined models, something like Spring Data Projections on steroids. The idea is that you define your target structure(domain model) the way you like and map attributes(getters) via JPQL expressions to the entity model.</p>\n<p>A DTO model for your use case could look like the following with Blaze-Persistence Entity-Views:</p>\n<pre><code>@EntityView(House.class)\npublic interface HouseView {\n    @IdMapping\n    Long getObjnr();\n    Set&lt;AddressView&gt; getIdentAddressen();\n\n    @EntityView(Address.class)\n    interface AddressView {\n        @IdMapping\n        Long getId();\n        String getName();\n    }\n}\n</code></pre>\n<p>Querying is a matter of applying the entity view to a query, the simplest being just a query by id.</p>\n<p><code>HouseView a = entityViewManager.find(entityManager, HouseView.class, id);</code></p>\n<p>The Spring Data integration allows you to use it almost like Spring Data Projections: <a href=\"https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features\" rel=\"nofollow noreferrer\">https://persistence.blazebit.com/documentation/entity-view/manual/en_US/index.html#spring-data-features</a></p>\n<pre><code>Page&lt;HouseView&gt; findAll(Pageable pageable);\n</code></pre>\n<p>The best part is, it will only fetch the state that is actually necessary!</p>\n"},{"tags":[],"owner":{"account_id":8460458,"reputation":1,"user_id":6346406,"display_name":"Adeeb Khalid Ch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669037870,"creation_date":1669037870,"answer_id":74519784,"question_id":67735467,"body_markdown":"What you can do is to write custom query on HouseRepository as \r\n```@Query(&quot;SELECT new com.packagename.HouseView(hos) from House hos&quot;)```\r\nthen house view class can be as follows \r\n```\r\npublic class HouseView {\r\n    private Long objnr;\r\n    private List&lt;Address&gt; identAdressen;\r\n    public HouseView(House house) {\r\n         identAdressen = house.identAdressen;\r\n    }\r\n}\r\n```\r\n\r\nHope it will work :) You can add more fields into constructor from join tables if required. It might help others coming late on post.","title":"JPA Projection @OneToMany not working &#39;Unable to locate appropriate constructor&#39;","body":"<p>What you can do is to write custom query on HouseRepository as\n<code>@Query(&quot;SELECT new com.packagename.HouseView(hos) from House hos&quot;)</code>\nthen house view class can be as follows</p>\n<pre><code>public class HouseView {\n    private Long objnr;\n    private List&lt;Address&gt; identAdressen;\n    public HouseView(House house) {\n         identAdressen = house.identAdressen;\n    }\n}\n</code></pre>\n<p>Hope it will work :) You can add more fields into constructor from join tables if required. It might help others coming late on post.</p>\n"}],"owner":{"account_id":5946474,"reputation":162,"user_id":4675824,"accept_rate":50,"display_name":"J-Eibe"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":484,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1669037870,"creation_date":1622190559,"question_id":67735467,"body_markdown":"I have a large entity-class with many, many fields and a projection-class which should be a part of the large one.\r\n\r\nEverything works fine, except the @OneToMany field. The @OneToMany field should be a list of addresses, but when converting it to the projection-class I always get the error &quot;Unable to locate appropriate constructor [...] Expected arguments are: long, [...], ***.entity.Address&quot;. \r\n\r\nThe converter is searching for a single address Object instead of a List of Address Objects, and I don&#39;t understand why. I use lombok @Data and @AllArgsConstructor, so Getter and Setter should be there.\r\n\r\n```\r\n@Entity\r\n@Data\r\npublic class House implements Serializable {\r\n\r\n    @Id\r\n    @Column(name = &quot;ID&quot;, precision = 5)\r\n    private Long id;\r\n\r\n    @OneToMany\r\n    @JoinColumn(name = &quot;HouseID&quot;)\r\n    private List&lt;Address&gt; identAdressen;\r\n}\r\n\r\n/// ----------------\r\n@Data\r\n@AllArgsConstructor\r\npublic class HouseView {\r\n    private Long objnr;\r\n    private List&lt;Address&gt; identAdressen;\r\n}\r\n```\r\n\r\nWhen I remove the &quot;List&quot; in the HouseView-class it works as long as there are only single addresses, but when there are multiple it crashes too.\r\n\r\nI don&#39;t get it why he tries to find a HouseView-Constructor with an single address-object, when in both classes there are Lists of Addresses.","title":"JPA Projection @OneToMany not working &#39;Unable to locate appropriate constructor&#39;","body":"<p>I have a large entity-class with many, many fields and a projection-class which should be a part of the large one.</p>\n<p>Everything works fine, except the @OneToMany field. The @OneToMany field should be a list of addresses, but when converting it to the projection-class I always get the error &quot;Unable to locate appropriate constructor [...] Expected arguments are: long, [...], ***.entity.Address&quot;.</p>\n<p>The converter is searching for a single address Object instead of a List of Address Objects, and I don't understand why. I use lombok @Data and @AllArgsConstructor, so Getter and Setter should be there.</p>\n<pre><code>@Entity\n@Data\npublic class House implements Serializable {\n\n    @Id\n    @Column(name = &quot;ID&quot;, precision = 5)\n    private Long id;\n\n    @OneToMany\n    @JoinColumn(name = &quot;HouseID&quot;)\n    private List&lt;Address&gt; identAdressen;\n}\n\n/// ----------------\n@Data\n@AllArgsConstructor\npublic class HouseView {\n    private Long objnr;\n    private List&lt;Address&gt; identAdressen;\n}\n</code></pre>\n<p>When I remove the &quot;List&quot; in the HouseView-class it works as long as there are only single addresses, but when there are multiple it crashes too.</p>\n<p>I don't get it why he tries to find a HouseView-Constructor with an single address-object, when in both classes there are Lists of Addresses.</p>\n"},{"tags":["java","spring-boot","apache-camel"],"comments":[{"owner":{"account_id":3049953,"reputation":1893,"user_id":2584754,"accept_rate":50,"display_name":"Jazzwave06"},"score":1,"creation_date":1472503105,"post_id":39213708,"comment_id":65768339,"body_markdown":"You can do that with virtual ips, and probably with a load balancer/reverse proxy. Failovers should never be handled by the application server itself.","body":"You can do that with virtual ips, and probably with a load balancer/reverse proxy. Failovers should never be handled by the application server itself."}],"owner":{"account_id":140395,"reputation":2725,"user_id":346666,"accept_rate":59,"display_name":"Tyler Murry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1841,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669037757,"creation_date":1472498742,"question_id":39213708,"body_markdown":"I have a Spring Boot application that houses a Camel route with an integration to our vendor. \r\n\r\nThe way our server architecture is setup, we have two nodes that the application is deployed to. However, our requirements are that we have a single instance running at a time, failing over to the secondary node when the primary goes down.\r\n\r\nPreviously, our application was deployed in a Fuse environment and this was all handled behind the scenes nicely. Is there an active/passive or clustering mechanism available for Spring Boot that we can utilize?","title":"Spring Boot Active/Passive Failover Mechanism","body":"<p>I have a Spring Boot application that houses a Camel route with an integration to our vendor. </p>\n\n<p>The way our server architecture is setup, we have two nodes that the application is deployed to. However, our requirements are that we have a single instance running at a time, failing over to the secondary node when the primary goes down.</p>\n\n<p>Previously, our application was deployed in a Fuse environment and this was all handled behind the scenes nicely. Is there an active/passive or clustering mechanism available for Spring Boot that we can utilize?</p>\n"},{"tags":["java","maven","pom.xml","executable","executable-jar"],"comments":[{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1668862383,"post_id":74500005,"comment_id":131511743,"body_markdown":"maven-assembly-plugin will do this.","body":"maven-assembly-plugin will do this."},{"owner":{"account_id":26983366,"reputation":31,"user_id":20547393,"display_name":"YoungUnexpiredMaster"},"score":0,"creation_date":1669026442,"post_id":74500005,"comment_id":131541093,"body_markdown":"Didn&#39;t work, it created jar-with-dependencies but inside .jar there is no dependency\n@ChristophDahlen","body":"Didn&#39;t work, it created jar-with-dependencies but inside .jar there is no dependency @ChristophDahlen"}],"answers":[{"tags":[],"owner":{"account_id":26983366,"reputation":31,"user_id":20547393,"display_name":"YoungUnexpiredMaster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669037499,"creation_date":1669037499,"answer_id":74519714,"question_id":74500005,"body_markdown":"What works for me.\r\n\r\nAdd local dependency\r\n```\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;testlib&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testlib&lt;/artifactId&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;version&gt;1&lt;/version&gt;\r\n      &lt;systemPath&gt;${basedir}/libs/testlib.jar&lt;/systemPath&gt;\r\n &lt;/dependency&gt;\r\n```\r\nIn &lt;systemPath&gt; add path to your .jar, and remember version.\r\nThen in &lt;build&gt; add these two plugins. First copy dependencies inside target, second make it executable\r\n```\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n              &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n              &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;mainClass&gt;TEST.App&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n            &lt;manifestEntries&gt;\r\n              &lt;Class-Path&gt;lib/testlib-1.jar&lt;/Class-Path&gt;\r\n            &lt;/manifestEntries&gt;\r\n\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n```\r\nIn &lt;outputDirectory&gt; you name a folder in target where will be dependencies. In &lt;manifest&gt; you should enter main class. In &lt;Class-Path&gt; you should enter the path in targer, notice that Maven will add version, in my case testlib.jar =&gt; testlib-1.jar","title":"How to make an executable .jar file using maven with local external libraries inside through pom without IDE?","body":"<p>What works for me.</p>\n<p>Add local dependency</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;testlib&lt;/groupId&gt;\n      &lt;artifactId&gt;testlib&lt;/artifactId&gt;\n      &lt;scope&gt;system&lt;/scope&gt;\n      &lt;version&gt;1&lt;/version&gt;\n      &lt;systemPath&gt;${basedir}/libs/testlib.jar&lt;/systemPath&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>In  add path to your .jar, and remember version.\nThen in  add these two plugins. First copy dependencies inside target, second make it executable</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;copy-dependencies&lt;/id&gt;\n            &lt;phase&gt;prepare-package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n              &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n              &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n              &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;mainClass&gt;TEST.App&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n            &lt;manifestEntries&gt;\n              &lt;Class-Path&gt;lib/testlib-1.jar&lt;/Class-Path&gt;\n            &lt;/manifestEntries&gt;\n\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n</code></pre>\n<p>In  you name a folder in target where will be dependencies. In  you should enter main class. In  you should enter the path in targer, notice that Maven will add version, in my case testlib.jar =&gt; testlib-1.jar</p>\n"}],"owner":{"account_id":26983366,"reputation":31,"user_id":20547393,"display_name":"YoungUnexpiredMaster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74519714,"answer_count":1,"score":0,"last_activity_date":1669037499,"creation_date":1668861054,"question_id":74500005,"body_markdown":"I&#39;m learning java without an IDE, I want to build a project with FX, and there are several libs, so I want to connect them in a &quot;rough&quot; way.\r\nFor training, I created a simple program with one method \r\n```\r\npublic void go() {\r\n        JFrame frame = new JFrame();\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(400,100);\r\n        frame.add(new JLabel(&quot;Test Lib&quot;));\r\n        frame.setVisible(true);\r\n    }\r\n```\r\nwhich makes a simple swing-window, calls it Lib, builds it with maven, has testlib.JAR.\r\nThen created another program, just \r\n```\r\nimport TEST.Lib;\r\npublic static void main( String[] args )\r\n    {\r\n        new Lib().go();\r\n    }\r\n```\r\n\r\nthen edited pom, added a plugin to make it executable (it works fine without external libs), added a dependency, and maven created a .jar, but when I run it, it shows no window, when I put code before an external method, it works\r\n\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;testlib&lt;/groupId&gt;\r\n      &lt;artifactId&gt;testlib&lt;/artifactId&gt;\r\n      &lt;scope&gt;system&lt;/scope&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n      &lt;systemPath&gt;${basedir}\\libs\\testlib.jar&lt;/systemPath&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n```\r\n     &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;  &lt;!-- for warnings --&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;classpathPrefix&gt;libs/&lt;/classpathPrefix&gt;\r\n              &lt;mainClass&gt;\r\n                  TEST.App                          \r\n              &lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n```\r\nIn the end, when I run it through cmd, it works fine\r\n```\r\njavac -cp &quot;path\\to\\jar\\testlib.jar&quot; TEST\\App.java\r\njava -cp &quot;path\\to\\jar\\testlib.jar&quot; TEST.App\r\n```\r\n\r\n\r\n\r\n\r\nHow to make it work?","title":"How to make an executable .jar file using maven with local external libraries inside through pom without IDE?","body":"<p>I'm learning java without an IDE, I want to build a project with FX, and there are several libs, so I want to connect them in a &quot;rough&quot; way.\nFor training, I created a simple program with one method</p>\n<pre><code>public void go() {\n        JFrame frame = new JFrame();\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(400,100);\n        frame.add(new JLabel(&quot;Test Lib&quot;));\n        frame.setVisible(true);\n    }\n</code></pre>\n<p>which makes a simple swing-window, calls it Lib, builds it with maven, has testlib.JAR.\nThen created another program, just</p>\n<pre><code>import TEST.Lib;\npublic static void main( String[] args )\n    {\n        new Lib().go();\n    }\n</code></pre>\n<p>then edited pom, added a plugin to make it executable (it works fine without external libs), added a dependency, and maven created a .jar, but when I run it, it shows no window, when I put code before an external method, it works</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;testlib&lt;/groupId&gt;\n      &lt;artifactId&gt;testlib&lt;/artifactId&gt;\n      &lt;scope&gt;system&lt;/scope&gt;\n      &lt;version&gt;1.0&lt;/version&gt;\n      &lt;systemPath&gt;${basedir}\\libs\\testlib.jar&lt;/systemPath&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<pre><code>     &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;  &lt;!-- for warnings --&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;classpathPrefix&gt;libs/&lt;/classpathPrefix&gt;\n              &lt;mainClass&gt;\n                  TEST.App                          \n              &lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n</code></pre>\n<p>In the end, when I run it through cmd, it works fine</p>\n<pre><code>javac -cp &quot;path\\to\\jar\\testlib.jar&quot; TEST\\App.java\njava -cp &quot;path\\to\\jar\\testlib.jar&quot; TEST.App\n</code></pre>\n<p>How to make it work?</p>\n"},{"tags":["java","xml","spring","xml-parsing","xml-to-json"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669034069,"post_id":74519008,"comment_id":131543650,"body_markdown":"ok. and what is stopping you from doing this?","body":"ok. and what is stopping you from doing this?"},{"owner":{"account_id":14255272,"reputation":123,"user_id":10297685,"display_name":"Ramanuj"},"score":0,"creation_date":1669034478,"post_id":74519008,"comment_id":131543794,"body_markdown":"I&#39;m able to map other element (id,userId, id ) with @XmlAttribute but not able tp map inside &lt;value&gt;element&lt;/value&gt;","body":"I&#39;m able to map other element (id,userId, id ) with @XmlAttribute but not able tp map inside &lt;value&gt;element&lt;/value&gt;"}],"answers":[{"tags":[],"owner":{"account_id":21169347,"reputation":171,"user_id":15566000,"display_name":"changuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669037418,"creation_date":1669037418,"answer_id":74519703,"question_id":74519008,"body_markdown":"You can use `Jaxb` library like below.\r\n\r\nEntities.class\r\n```\r\n@XmlRootElement(name = &quot;entities&quot;)\r\npublic class Entities {\r\n\t@XmlElement(name = &quot;entity&quot;)\r\n\tprivate List&lt;Entity&gt; entityList;\r\n}\r\n```\r\n\r\nEntity.class\r\n```\r\n@XmlRootElement(name = &quot;entity&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Entity {\r\n\t@XmlAttribute(name = &quot;id&quot;)\r\n\tprivate String id;\r\n\r\n\t@XmlAttribute(name = &quot;userId&quot;)\r\n\tprivate String userId;\r\n\r\n\t@XmlAttribute(name = &quot;parent&quot;)\r\n\tprivate String parent;\r\n\r\n\t@XmlElement(name = &quot;name&quot;)\r\n\tprivate String name;\r\n\r\n\t@XmlElementWrapper(name = &quot;values&quot;)\r\n\t@XmlElement(name = &quot;value&quot;)\r\n\tprivate List&lt;Value&gt; valueList;\r\n}\r\n```\r\n\r\nValue.class\r\n```\r\n@XmlRootElement(name = &quot;value&quot;)\r\npublic class Value {\r\n\t@XmlAttribute(name = &quot;id&quot;)\r\n\tprivate String id;\r\n\r\n\t@XmlAttribute(name = &quot;ID&quot;)\r\n\tprivate String ID;\r\n\r\n\t@XmlAttribute(name = &quot;Changed&quot;)\r\n\tprivate String changed;\r\n\r\n\t@XmlValue\r\n\tprivate String text;\r\n}\r\n```\r\n\r\nYou can see how to use `Jaxb` library in the reference below.\r\n\r\n&gt; https://www.baeldung.com/jaxb","title":"How to convert below XML to Java Object in Java","body":"<p>You can use <code>Jaxb</code> library like below.</p>\n<p>Entities.class</p>\n<pre><code>@XmlRootElement(name = &quot;entities&quot;)\npublic class Entities {\n    @XmlElement(name = &quot;entity&quot;)\n    private List&lt;Entity&gt; entityList;\n}\n</code></pre>\n<p>Entity.class</p>\n<pre><code>@XmlRootElement(name = &quot;entity&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Entity {\n    @XmlAttribute(name = &quot;id&quot;)\n    private String id;\n\n    @XmlAttribute(name = &quot;userId&quot;)\n    private String userId;\n\n    @XmlAttribute(name = &quot;parent&quot;)\n    private String parent;\n\n    @XmlElement(name = &quot;name&quot;)\n    private String name;\n\n    @XmlElementWrapper(name = &quot;values&quot;)\n    @XmlElement(name = &quot;value&quot;)\n    private List&lt;Value&gt; valueList;\n}\n</code></pre>\n<p>Value.class</p>\n<pre><code>@XmlRootElement(name = &quot;value&quot;)\npublic class Value {\n    @XmlAttribute(name = &quot;id&quot;)\n    private String id;\n\n    @XmlAttribute(name = &quot;ID&quot;)\n    private String ID;\n\n    @XmlAttribute(name = &quot;Changed&quot;)\n    private String changed;\n\n    @XmlValue\n    private String text;\n}\n</code></pre>\n<p>You can see how to use <code>Jaxb</code> library in the reference below.</p>\n<blockquote>\n<p><a href=\"https://www.baeldung.com/jaxb\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jaxb</a></p>\n</blockquote>\n"}],"owner":{"account_id":14255272,"reputation":123,"user_id":10297685,"display_name":"Ramanuj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669037418,"creation_date":1669034039,"question_id":74519008,"body_markdown":"\r\nI want to read the values under value tag \r\ni.e. **Yes**, **750,3500**,  **AL**,**Real**, **Approved**, **G**, **140**, **GT**  these values i want to map with java object.\r\n\r\n        &lt;entities&gt;\r\n    &lt;entity id=&quot;1234&quot; userId=&quot;RD&quot; parent=&quot;TestID&quot;&gt;\r\n        &lt;name&gt;AL&lt;/name&gt;\r\n        &lt;values&gt;\r\n            &lt;value id=&quot;testA&quot; id=&quot;Y&quot;&gt;Yes&lt;/value&gt;\r\n            &lt;value id=&quot;testB&quot;&gt;750&lt;/value&gt;\r\n            &lt;value id=&quot;testC&quot;&gt;3500&lt;/value&gt;\r\n            &lt;value id=&quot;testD&quot;&gt;AL&lt;/value&gt;\r\n            &lt;value id=&quot;testE&quot;&gt;Real&lt;/value&gt;\r\n            &lt;value id=&quot;testF&quot; ID=&quot;A&quot; Changed=&quot;true&quot;&gt;Approved&lt;/value&gt;\r\n            &lt;value id=&quot;testF&quot;&gt;G&lt;/value&gt;\r\n            &lt;value id=&quot;testG&quot;&gt;140&lt;/value&gt;\r\n            &lt;value id=&quot;testF&quot;&gt;GT&lt;/value&gt;\r\n        &lt;/values&gt;\r\n    &lt;/entity&gt;\r\n    &lt;/entities&gt;","title":"How to convert below XML to Java Object in Java","body":"<p>I want to read the values under value tag\ni.e. <strong>Yes</strong>, <strong>750,3500</strong>,  <strong>AL</strong>,<strong>Real</strong>, <strong>Approved</strong>, <strong>G</strong>, <strong>140</strong>, <strong>GT</strong>  these values i want to map with java object.</p>\n<pre><code>    &lt;entities&gt;\n&lt;entity id=&quot;1234&quot; userId=&quot;RD&quot; parent=&quot;TestID&quot;&gt;\n    &lt;name&gt;AL&lt;/name&gt;\n    &lt;values&gt;\n        &lt;value id=&quot;testA&quot; id=&quot;Y&quot;&gt;Yes&lt;/value&gt;\n        &lt;value id=&quot;testB&quot;&gt;750&lt;/value&gt;\n        &lt;value id=&quot;testC&quot;&gt;3500&lt;/value&gt;\n        &lt;value id=&quot;testD&quot;&gt;AL&lt;/value&gt;\n        &lt;value id=&quot;testE&quot;&gt;Real&lt;/value&gt;\n        &lt;value id=&quot;testF&quot; ID=&quot;A&quot; Changed=&quot;true&quot;&gt;Approved&lt;/value&gt;\n        &lt;value id=&quot;testF&quot;&gt;G&lt;/value&gt;\n        &lt;value id=&quot;testG&quot;&gt;140&lt;/value&gt;\n        &lt;value id=&quot;testF&quot;&gt;GT&lt;/value&gt;\n    &lt;/values&gt;\n&lt;/entity&gt;\n&lt;/entities&gt;\n</code></pre>\n"},{"tags":["java","arrays","io","java-stream","inputstream"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":1,"creation_date":1669036243,"post_id":74519421,"comment_id":131544498,"body_markdown":"No, you cannot reopen a stream after it is closed.  It is unclear why or how you are trying to reuse the InputStream so it is hard to suggest a strategy for how you can share one.","body":"No, you cannot reopen a stream after it is closed.  It is unclear why or how you are trying to reuse the InputStream so it is hard to suggest a strategy for how you can share one."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669042116,"post_id":74519421,"comment_id":131546705,"body_markdown":"You can re-read an input stream, but not after it&#39;s *closed*","body":"You can re-read an input stream, but not after it&#39;s <i>closed</i>"}],"answers":[{"tags":[],"owner":{"account_id":16122678,"reputation":86,"user_id":11638256,"display_name":"Fogux"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669037278,"creation_date":1669036806,"answer_id":74519594,"question_id":74519421,"body_markdown":"There is no way to use the `InputStream` after it is closed in Java, this is the purpose of closed. \r\nIf you want to keep a usable `InputStream` outside of your `try{}` block, you should not use a [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) method, and just close it in a `catch` block. \r\nBut then you need to think about what will happen if you get an exception outside of the `try` block.\r\n\r\nIf the same resource has to be used by multiple methods and you want to make sure it is closed if you get any kind of error, you should have a `try{}` block that encapsulates all the methods that follow and closes your resources.","title":"Is there anyway to use the inputStream after it closed in java?","body":"<p>There is no way to use the <code>InputStream</code> after it is closed in Java, this is the purpose of closed.\nIf you want to keep a usable <code>InputStream</code> outside of your <code>try{}</code> block, you should not use a <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> method, and just close it in a <code>catch</code> block.\nBut then you need to think about what will happen if you get an exception outside of the <code>try</code> block.</p>\n<p>If the same resource has to be used by multiple methods and you want to make sure it is closed if you get any kind of error, you should have a <code>try{}</code> block that encapsulates all the methods that follow and closes your resources.</p>\n"}],"owner":{"account_id":23501581,"reputation":1,"user_id":17551411,"display_name":"Thalaimalai Pandiyan T"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669037278,"creation_date":1669035882,"question_id":74519421,"body_markdown":"Need to use the inputStream of a file in various methods but I used the inputStream in try-with-resources so that it results in stream is closed error. Is there anyway to use the inputStream to another method after it closed in java ?  ","title":"Is there anyway to use the inputStream after it closed in java?","body":"<p>Need to use the inputStream of a file in various methods but I used the inputStream in try-with-resources so that it results in stream is closed error. Is there anyway to use the inputStream to another method after it closed in java ?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669036640,"post_id":74519524,"comment_id":131544626,"body_markdown":"what has &quot;coding by hand&quot; (whatever that is) to do with using JFrames or not? If you want those two classes to communicate with each other, they&#39;ll need to have access to each others instances","body":"what has &quot;coding by hand&quot; (whatever that is) to do with using JFrames or not? If you want those two classes to communicate with each other, they&#39;ll need to have access to each others instances"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1669036803,"post_id":74519524,"comment_id":131544689,"body_markdown":"Also this is unrelated to JavaFX since you&#39;re using Swing.","body":"Also this is unrelated to JavaFX since you&#39;re using Swing."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1669036822,"post_id":74519524,"comment_id":131544698,"body_markdown":"@Stultuske they wrote &quot;_JForms_&quot;, not &quot;JFrames&quot;.","body":"@Stultuske they wrote &quot;<i>JForms</i>&quot;, not &quot;JFrames&quot;."},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1669037006,"post_id":74519524,"comment_id":131544764,"body_markdown":"I suggest you look into a UI design pattern like [MVP](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93presenter). It solves your concrete problem as well as many others you will find in your way.","body":"I suggest you look into a UI design pattern like <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93presenter\" rel=\"nofollow noreferrer\">MVP</a>. It solves your concrete problem as well as many others you will find in your way."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1669037071,"post_id":74519524,"comment_id":131544786,"body_markdown":"@maloomeister thanks for the correction, I misread the comment :)","body":"@maloomeister thanks for the correction, I misread the comment :)"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1669037105,"post_id":74519524,"comment_id":131544802,"body_markdown":"I&#39;m not sure what `Home.setVisible(true);` in your `ActionListener` implementation is supposed to do. What you are probably looking for is [`CardLayout`](https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html). This allows you to switch `JPanel`s, according to what has to be shown on screen without the need of multiple `JFrame`s (which is considered bad practice). Working through the java swing basics with the [Tutorial](https://docs.oracle.com/javase/tutorial/uiswing/) is also probably a good idea.","body":"I&#39;m not sure what <code>Home.setVisible(true);</code> in your <code>ActionListener</code> implementation is supposed to do. What you are probably looking for is <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/card.html\" rel=\"nofollow noreferrer\"><code>CardLayout</code></a>. This allows you to switch <code>JPanel</code>s, according to what has to be shown on screen without the need of multiple <code>JFrame</code>s (which is considered bad practice). Working through the java swing basics with the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/\" rel=\"nofollow noreferrer\">Tutorial</a> is also probably a good idea."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":2,"creation_date":1669039299,"post_id":74519524,"comment_id":131545645,"body_markdown":"[mcve] please .. mind the __M__! And (though most probably unrelated  :) - __don&#39;t__ use static scope for anything, __don&#39;t__ disable automatic layouts (by null the manager)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. mind the <b>M</b>! And (though most probably unrelated  :) - <b>don&#39;t</b> use static scope for anything, <b>don&#39;t</b> disable automatic layouts (by null the manager)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1669059882,"post_id":74519524,"comment_id":131552793,"body_markdown":"By the way, if you are able to use JavaFX, then no need for Swing. JavaFX is the successor to Swing, and is under active development. Swing is now in maintenance-mode.","body":"By the way, if you are able to use JavaFX, then no need for Swing. JavaFX is the successor to Swing, and is under active development. Swing is now in maintenance-mode."}],"owner":{"account_id":27002028,"reputation":15,"user_id":20563168,"display_name":"Kate Murphy"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1669036812,"creation_date":1669036460,"question_id":74519524,"body_markdown":"I am creating an Invoice System to fit a unique invoice machine and using Javafx with Swing. I am only at the beginning of my project, and have created a signup page that is attached to an SQLite database. currently, i am trying to connect my signup page (Invoice1.java) to the Home page (home.java) \r\nCurrently I have a button on the signup page that when clicked, a popup window saying that the account is created and the &#39;OK&#39; button on the popup is supposed to bring you to the Home page. I have the button able to make the signup page invisable, however now instead of bringing up the home page, it brings up a blank window.\r\nWould anyone know how to connect my two windows. I am trying to not use JForms, as for my project, it counts as low code, so would like to code it by hand. \r\n\r\nthis is my Invoice 1 class\r\n\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage invoice1;\r\n\r\nimport java.awt.event.ActionEvent;\r\nimport java.awt.event.ActionListener;\r\nimport java.sql.*;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JOptionPane;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JTextField;\r\n/**\r\n *\r\n * @author kate3\r\n */\r\n\r\npublic class Invoice1 extends Home {\r\n    private static JLabel nameLabel;\r\n    private static JTextField nameText;\r\n    private static JLabel passwordLabel;\r\n    private static JTextField passwordText;\r\n    private static JButton button;\r\n   \r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n \r\n    public static void main(String[] args) {\r\n       \r\n            /*Creating  the signup form, part of code used from: https://www.youtube.com/watch?v=iE8tZ0hn2Ws) \r\n            */ \r\n                JPanel panel = new JPanel();\r\n                JFrame frame = new JFrame();\r\n                frame.setSize(350, 200);\r\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n                frame.add(panel);\r\n                                \r\n                panel.setLayout(null);\r\n                \r\n                nameLabel = new JLabel(&quot;Business Name&quot;);\r\n                nameLabel.setBounds(10, 20, 80, 25);\r\n                panel.add(nameLabel);\r\n                \r\n                nameText = new JTextField(40);\r\n                nameText.setBounds(100, 20, 165, 25);\r\n                panel.add(nameText);\r\n                \r\n                passwordLabel = new JLabel (&quot;Create Password&quot;);\r\n                passwordLabel.setBounds (10, 50, 80, 25);\r\n                panel.add(passwordLabel);\r\n                \r\n                passwordText = new JTextField(20);\r\n                passwordText.setBounds(100, 50, 165, 25);\r\n                panel.add(passwordText);\r\n               \r\n                button = new JButton(&quot;Create Account&quot;);\r\n                button.setBounds(130, 110, 80, 25);\r\n                        frame.setVisible(true);\r\n                button.addActionListener(new ActionListener(){\r\n                    \r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e){\r\n                        String name = nameText.getText();\r\n                        String password = passwordText.getText();\r\n                        addToDB(name, password);\r\n                        \r\n                        \r\n                        JOptionPane.showMessageDialog(frame, &quot;Account Created!&quot;);\r\n                        panel.setVisible(false);\r\n                        Home.setVisible(true);\r\n                    }\r\n                });\r\n                panel.add(button);\r\n                frame.setVisible(true);\r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    \r\n    /* keeping in file in case needed in future\r\n    \r\n    public void buttonPerformed(ActionEvent e) {\r\n        String name = nameText.getText();\r\n        String password = passwordText.getText();\r\n        \r\n        if(name.equals(&quot;kate&quot;) &amp;&amp; password.equals(&quot;password&quot;)){\r\n            successful.setText(&quot;Login successful!&quot;);\r\n        }\r\n      \r\n    }*/\r\n    \r\n    //adding data inputted to database\r\n    public static void addToDB ( String un, String pass){\r\n            Connection dbCon = null;\r\n        \r\n        String strUrl = &quot;jdbc:sqlite:testDB.db&quot;;\r\n        try{\r\n            dbCon = DriverManager.getConnection(strUrl, &quot;root&quot;, &quot;root&quot;);\r\n            System.out.println(&quot;Connected&quot;);\r\n            \r\n              Statement st = dbCon.createStatement();\r\n              \r\n              PreparedStatement stmt = dbCon.prepareStatement(&quot;Select * From loginDetails&quot;);\r\n                st.executeUpdate(&quot;insert into loginDetails (username, password)&quot;\r\n                    + &quot; values (&#39;&quot; + un + &quot;&#39; , &#39;&quot; + pass + &quot;&#39;)&quot;);\r\n                \r\n            ResultSet rs = stmt.executeQuery();\r\n            while(rs.next()){\r\n                System.out.println(rs.getString(1));\r\n                System.out.println(rs.getString(2));\r\n            }\r\n            \r\n            \r\n        }catch(SQLException e){\r\n        \r\n    }\r\n\r\n}\r\n  /*\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n    }\r\n*/\r\n }\r\n\r\n```\r\nThis then is my home.java class\r\n\r\n```\r\n/*\r\n * To change this license header, choose License Headers in Project Properties.\r\n * To change this template file, choose Tools | Templates\r\n * and open the template in the editor.\r\n */\r\npackage invoice1;\r\n\r\nimport java.awt.PopupMenu;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\n\r\n/**\r\n *\r\n * @author kate3\r\n */\r\npublic class Home {\r\n    private static JLabel homeLabel ;\r\n    private static JButton invoiceButton;\r\n    private static JButton invoiceHistory;\r\n    private static JButton statementButton;\r\n    private static JButton statementHistory;\r\n    private static JButton productButton;\r\n    private static JButton customerButton;\r\n    \r\n    \r\n    public static void main(String[] args) {\r\n        JPanel home = new JPanel();\r\n        \r\n        //linking Invoice1 JFrame\r\n        Home.getInvoice1();\r\n        \r\n       // frame.setSize(350, 200);\r\n        Home.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        \r\n        home.setLayout(null);\r\n        \r\n        homeLabel = new JLabel(&quot;HOME&quot;);\r\n        homeLabel.setBounds(100, 20, 80, 25);\r\n        home.add(homeLabel);\r\n        \r\n        invoiceButton = new JButton(&quot;Create Invoice&quot;);\r\n        invoiceButton.setBounds(100, 50, 80, 25);\r\n        home.add(invoiceButton);\r\n        \r\n        statementButton = new JButton(&quot;Create Statement&quot;);\r\n        statementButton.setBounds(100, 80, 80, 25);\r\n        home.add(statementButton);\r\n        \r\n        invoiceHistory = new JButton(&quot;Invoice History&quot;);\r\n        invoiceHistory.setBounds(100, 80, 80, 25);\r\n        home.add(invoiceHistory);\r\n        \r\n        statementHistory = new JButton(&quot;Statement History&quot;);\r\n        statementHistory.setBounds(100, 140, 80, 25);\r\n        home.add(statementHistory);\r\n        \r\n        productButton = new JButton(&quot;Products&quot;);\r\n        productButton.setBounds(100, 170, 80, 25);\r\n        home.add(productButton);\r\n        \r\n        customerButton = new JButton(&quot;Customers&quot;);\r\n        customerButton.setBounds(100, 200, 80, 25);\r\n        home.add(customerButton);\r\n        \r\n        Home.setVisible(true);\r\n    }\r\n\r\n    private static void setDefaultCloseOperation(int EXIT_ON_CLOSE) {\r\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\r\n    }\r\n\r\n    static class Invoice1 extends Home {\r\n\r\n        PopupMenu Invoice1;\r\n\r\n        public Invoice1() {\r\n        }\r\n    }\r\n\r\n    static void setVisible(boolean b) {\r\n    }\r\n\r\n    \r\n    private static void getInvoice1() {\r\n    }\r\n    \r\n}\r\n\r\n```\r\n\r\n","title":"Connecting java swing classes","body":"<p>I am creating an Invoice System to fit a unique invoice machine and using Javafx with Swing. I am only at the beginning of my project, and have created a signup page that is attached to an SQLite database. currently, i am trying to connect my signup page (Invoice1.java) to the Home page (home.java)\nCurrently I have a button on the signup page that when clicked, a popup window saying that the account is created and the 'OK' button on the popup is supposed to bring you to the Home page. I have the button able to make the signup page invisable, however now instead of bringing up the home page, it brings up a blank window.\nWould anyone know how to connect my two windows. I am trying to not use JForms, as for my project, it counts as low code, so would like to code it by hand.</p>\n<p>this is my Invoice 1 class</p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage invoice1;\n\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport java.sql.*;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JOptionPane;\nimport javax.swing.JPanel;\nimport javax.swing.JTextField;\n/**\n *\n * @author kate3\n */\n\npublic class Invoice1 extends Home {\n    private static JLabel nameLabel;\n    private static JTextField nameText;\n    private static JLabel passwordLabel;\n    private static JTextField passwordText;\n    private static JButton button;\n   \n    /**\n     * @param args the command line arguments\n     */\n \n    public static void main(String[] args) {\n       \n            /*Creating  the signup form, part of code used from: https://www.youtube.com/watch?v=iE8tZ0hn2Ws) \n            */ \n                JPanel panel = new JPanel();\n                JFrame frame = new JFrame();\n                frame.setSize(350, 200);\n                frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n                frame.add(panel);\n                                \n                panel.setLayout(null);\n                \n                nameLabel = new JLabel(&quot;Business Name&quot;);\n                nameLabel.setBounds(10, 20, 80, 25);\n                panel.add(nameLabel);\n                \n                nameText = new JTextField(40);\n                nameText.setBounds(100, 20, 165, 25);\n                panel.add(nameText);\n                \n                passwordLabel = new JLabel (&quot;Create Password&quot;);\n                passwordLabel.setBounds (10, 50, 80, 25);\n                panel.add(passwordLabel);\n                \n                passwordText = new JTextField(20);\n                passwordText.setBounds(100, 50, 165, 25);\n                panel.add(passwordText);\n               \n                button = new JButton(&quot;Create Account&quot;);\n                button.setBounds(130, 110, 80, 25);\n                        frame.setVisible(true);\n                button.addActionListener(new ActionListener(){\n                    \n                    @Override\n                    public void actionPerformed(ActionEvent e){\n                        String name = nameText.getText();\n                        String password = passwordText.getText();\n                        addToDB(name, password);\n                        \n                        \n                        JOptionPane.showMessageDialog(frame, &quot;Account Created!&quot;);\n                        panel.setVisible(false);\n                        Home.setVisible(true);\n                    }\n                });\n                panel.add(button);\n                frame.setVisible(true);\n    }\n    \n    \n    \n    \n    \n    /* keeping in file in case needed in future\n    \n    public void buttonPerformed(ActionEvent e) {\n        String name = nameText.getText();\n        String password = passwordText.getText();\n        \n        if(name.equals(&quot;kate&quot;) &amp;&amp; password.equals(&quot;password&quot;)){\n            successful.setText(&quot;Login successful!&quot;);\n        }\n      \n    }*/\n    \n    //adding data inputted to database\n    public static void addToDB ( String un, String pass){\n            Connection dbCon = null;\n        \n        String strUrl = &quot;jdbc:sqlite:testDB.db&quot;;\n        try{\n            dbCon = DriverManager.getConnection(strUrl, &quot;root&quot;, &quot;root&quot;);\n            System.out.println(&quot;Connected&quot;);\n            \n              Statement st = dbCon.createStatement();\n              \n              PreparedStatement stmt = dbCon.prepareStatement(&quot;Select * From loginDetails&quot;);\n                st.executeUpdate(&quot;insert into loginDetails (username, password)&quot;\n                    + &quot; values ('&quot; + un + &quot;' , '&quot; + pass + &quot;')&quot;);\n                \n            ResultSet rs = stmt.executeQuery();\n            while(rs.next()){\n                System.out.println(rs.getString(1));\n                System.out.println(rs.getString(2));\n            }\n            \n            \n        }catch(SQLException e){\n        \n    }\n\n}\n  /*\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\n    }\n*/\n }\n\n</code></pre>\n<p>This then is my home.java class</p>\n<pre><code>/*\n * To change this license header, choose License Headers in Project Properties.\n * To change this template file, choose Tools | Templates\n * and open the template in the editor.\n */\npackage invoice1;\n\nimport java.awt.PopupMenu;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\n/**\n *\n * @author kate3\n */\npublic class Home {\n    private static JLabel homeLabel ;\n    private static JButton invoiceButton;\n    private static JButton invoiceHistory;\n    private static JButton statementButton;\n    private static JButton statementHistory;\n    private static JButton productButton;\n    private static JButton customerButton;\n    \n    \n    public static void main(String[] args) {\n        JPanel home = new JPanel();\n        \n        //linking Invoice1 JFrame\n        Home.getInvoice1();\n        \n       // frame.setSize(350, 200);\n        Home.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        home.setLayout(null);\n        \n        homeLabel = new JLabel(&quot;HOME&quot;);\n        homeLabel.setBounds(100, 20, 80, 25);\n        home.add(homeLabel);\n        \n        invoiceButton = new JButton(&quot;Create Invoice&quot;);\n        invoiceButton.setBounds(100, 50, 80, 25);\n        home.add(invoiceButton);\n        \n        statementButton = new JButton(&quot;Create Statement&quot;);\n        statementButton.setBounds(100, 80, 80, 25);\n        home.add(statementButton);\n        \n        invoiceHistory = new JButton(&quot;Invoice History&quot;);\n        invoiceHistory.setBounds(100, 80, 80, 25);\n        home.add(invoiceHistory);\n        \n        statementHistory = new JButton(&quot;Statement History&quot;);\n        statementHistory.setBounds(100, 140, 80, 25);\n        home.add(statementHistory);\n        \n        productButton = new JButton(&quot;Products&quot;);\n        productButton.setBounds(100, 170, 80, 25);\n        home.add(productButton);\n        \n        customerButton = new JButton(&quot;Customers&quot;);\n        customerButton.setBounds(100, 200, 80, 25);\n        home.add(customerButton);\n        \n        Home.setVisible(true);\n    }\n\n    private static void setDefaultCloseOperation(int EXIT_ON_CLOSE) {\n        throw new UnsupportedOperationException(&quot;Not supported yet.&quot;); //To change body of generated methods, choose Tools | Templates.\n    }\n\n    static class Invoice1 extends Home {\n\n        PopupMenu Invoice1;\n\n        public Invoice1() {\n        }\n    }\n\n    static void setVisible(boolean b) {\n    }\n\n    \n    private static void getInvoice1() {\n    }\n    \n}\n\n</code></pre>\n"},{"tags":["java","maven","build","jar","pom.xml"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1668585259,"post_id":74454485,"comment_id":131438389,"body_markdown":"A JAR file does not contain dependencies which means if you like to have a jar file which contains the dependencies you have to create a so called executable jar. This can be achieved by using maven-assembly-plugin or via maven-shade-plugin.... This is unrelated to Mac/Linux/Windows...","body":"A JAR file does not contain dependencies which means if you like to have a jar file which contains the dependencies you have to create a so called executable jar. This can be achieved by using maven-assembly-plugin or via maven-shade-plugin.... This is unrelated to Mac/Linux/Windows..."}],"answers":[{"tags":[],"owner":{"account_id":23072807,"reputation":53,"user_id":17186197,"display_name":"NewBond007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669036713,"creation_date":1669036713,"answer_id":74519573,"question_id":74454485,"body_markdown":"Solution was to use Maven-shade-plugin. Here is my final POM.\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Helloworld&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;  \r\n                &lt;!-- Build an executable JAR --&gt;  \r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  \r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;  \r\n                &lt;version&gt;3.1.0&lt;/version&gt;  \r\n                &lt;configuration&gt;  \r\n                    &lt;archive&gt;  \r\n                        &lt;manifest&gt;  \r\n                            &lt;mainClass&gt;com.test.HelloWorld&lt;/mainClass&gt;  \r\n                        &lt;/manifest&gt;  \r\n                    &lt;/archive&gt;  \r\n                &lt;/configuration&gt;  \r\n            &lt;/plugin&gt;  \r\n            &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.4.1&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n    \t&lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n  &lt;/project&gt;","title":"How to run a maven project on mac","body":"<p>Solution was to use Maven-shade-plugin. Here is my final POM.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;Helloworld&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;  \n            &lt;!-- Build an executable JAR --&gt;  \n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;  \n            &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;  \n            &lt;version&gt;3.1.0&lt;/version&gt;  \n            &lt;configuration&gt;  \n                &lt;archive&gt;  \n                    &lt;manifest&gt;  \n                        &lt;mainClass&gt;com.test.HelloWorld&lt;/mainClass&gt;  \n                    &lt;/manifest&gt;  \n                &lt;/archive&gt;  \n            &lt;/configuration&gt;  \n        &lt;/plugin&gt;  \n        &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n  \n"}],"owner":{"account_id":23072807,"reputation":53,"user_id":17186197,"display_name":"NewBond007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74519573,"answer_count":1,"score":0,"last_activity_date":1669036713,"creation_date":1668566062,"question_id":74454485,"body_markdown":"I am trying to run a simple maven project from the mac terminal. \r\nHere is my pom.xml\r\n\r\n        &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;HelloWorld&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.0&lt;/version&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;build&gt;\r\n    \t&lt;plugins&gt;\r\n    \t&lt;plugin&gt;\r\n    \t\t&lt;!-- Build an executable JAR --&gt;\r\n    \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.0&lt;/version&gt;\r\n    \t\t&lt;configuration&gt;\r\n    \t\t\t&lt;archive&gt;\r\n    \t\t\t\t&lt;manifest&gt;\r\n    \t\t\t\t\t&lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n    \t\t\t\t\t&lt;!-- here we specify that we want to use the main method within the Controller class --&gt;\r\n    \t\t\t\t\t&lt;mainClass&gt;com.helloworld.Countries&lt;/mainClass&gt;\r\n    \t\t\t\t&lt;/manifest&gt;\r\n    \t\t\t&lt;/archive&gt;\r\n    \t\t&lt;/configuration&gt;\r\n    \t&lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n     &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\nI did maven package.\r\nand when I try to run: \r\n\r\n```bash\r\njava -jar target/HelloWorld-1.0.jar \r\n```\r\n\r\n… I get this error:\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/json/simple/JSONValue\r\n```\r\n\r\nIs the `java.lang.NoClassDefFoundError` only on macOS? I did the same project on Windows and it works fine. \r\n\r\nIs there anyway that we can make this independent of OS?\r\n","title":"How to run a maven project on mac","body":"<p>I am trying to run a simple maven project from the mac terminal.\nHere is my pom.xml</p>\n<pre><code>    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;HelloWorld&lt;/artifactId&gt;\n    &lt;version&gt;1.0&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;build&gt;\n    &lt;plugins&gt;\n    &lt;plugin&gt;\n        &lt;!-- Build an executable JAR --&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;archive&gt;\n                &lt;manifest&gt;\n                    &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                    &lt;!-- here we specify that we want to use the main method within the Controller class --&gt;\n                    &lt;mainClass&gt;com.helloworld.Countries&lt;/mainClass&gt;\n                &lt;/manifest&gt;\n            &lt;/archive&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n&lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;!-- https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n            &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I did maven package.\nand when I try to run:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java -jar target/HelloWorld-1.0.jar \n</code></pre>\n<p>… I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/json/simple/JSONValue\n</code></pre>\n<p>Is the <code>java.lang.NoClassDefFoundError</code> only on macOS? I did the same project on Windows and it works fine.</p>\n<p>Is there anyway that we can make this independent of OS?</p>\n"},{"tags":["java","json","serialization","nullable","openapi-generator-maven-plugin"],"owner":{"account_id":24823704,"reputation":11,"user_id":18703766,"display_name":"Pandemonius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":925,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669036690,"creation_date":1669036690,"question_id":74519567,"body_markdown":"i&#39;m using &quot;openapi-generator-maven-plugin&quot; version 6.2.1 for generate modules from a YAML file and consume a RestAPI.\r\n\r\nThe code that is generated from the plugin looks fine and it work great with &quot;GET&quot; requests, the problem that i&#39;ve encountered so far, is on &quot;POST&quot; requests. Apparently when I pass an object with null values (even if they are nullable) it throws &quot;Unable to serialize property&quot; from [org.eclipse.yasson.internal.Marshaller], even if the object is Serializable.\r\n\r\nMore specific:\r\n\r\nI&#39;ve this object generated from the plugin.\r\n\r\n    /*\r\n     * MS00140\r\n     * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\r\n     *\r\n     * The version of the OpenAPI document: 1.0\r\n     * \r\n     *\r\n     * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\r\n     * https://openapi-generator.tech\r\n     * Do not edit the class manually.\r\n     */\r\n    \r\n    \r\n    package org.openapitools.client.model;\r\n    \r\n    import java.util.Objects;\r\n    import java.util.Arrays;\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.annotation.JsonCreator;\r\n    import com.fasterxml.jackson.annotation.JsonTypeName;\r\n    import com.fasterxml.jackson.annotation.JsonValue;\r\n    import io.swagger.annotations.ApiModel;\r\n    import io.swagger.annotations.ApiModelProperty;\r\n    import org.openapitools.jackson.nullable.JsonNullable;\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import org.openapitools.jackson.nullable.JsonNullable;\r\n    import java.util.NoSuchElementException;\r\n    import java.io.Serializable;\r\n    import com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n    import com.fasterxml.jackson.annotation.JsonTypeName;\r\n    \r\n    /**\r\n     * ModelFile\r\n     */\r\n    @JsonPropertyOrder({\r\n      ModelFile.JSON_PROPERTY_LINK,\r\n      ModelFile.JSON_PROPERTY_NAME,\r\n      ModelFile.JSON_PROPERTY_MIME_TYPE,\r\n      ModelFile.JSON_PROPERTY_DATA\r\n    })\r\n    @JsonTypeName(&quot;File&quot;)\r\n    @javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaClientCodegen&quot;, date = &quot;2022-11-21T13:50:57.834020300+01:00[Europe/Berlin]&quot;)\r\n    public class ModelFile implements Serializable {\r\n      private static final long serialVersionUID = 1L;\r\n    \r\n      public static final String JSON_PROPERTY_LINK = &quot;link&quot;;\r\n      private JsonNullable&lt;String&gt; link = JsonNullable.&lt;String&gt;undefined();\r\n    \r\n      public static final String JSON_PROPERTY_NAME = &quot;name&quot;;\r\n      private JsonNullable&lt;String&gt; name = JsonNullable.&lt;String&gt;undefined();\r\n    \r\n      public static final String JSON_PROPERTY_MIME_TYPE = &quot;mimeType&quot;;\r\n      private JsonNullable&lt;String&gt; mimeType = JsonNullable.&lt;String&gt;undefined();\r\n    \r\n      public static final String JSON_PROPERTY_DATA = &quot;data&quot;;\r\n      private JsonNullable&lt;byte[]&gt; data = JsonNullable.&lt;byte[]&gt;undefined();\r\n    \r\n      public ModelFile() {\r\n      }\r\n    \r\n      public ModelFile link(String link) {\r\n        this.link = JsonNullable.&lt;String&gt;of(link);\r\n        \r\n        return this;\r\n      }\r\n    \r\n       /**\r\n       * Get link\r\n       * @return link\r\n      **/\r\n      @javax.annotation.Nullable\r\n      @ApiModelProperty(value = &quot;&quot;)\r\n      @JsonIgnore\r\n    \r\n      public String getLink() {\r\n            return link.orElse(null);\r\n      }\r\n    \r\n      @JsonProperty(JSON_PROPERTY_LINK)\r\n      @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\r\n    \r\n      public JsonNullable&lt;String&gt; getLink_JsonNullable() {\r\n        return link;\r\n      }\r\n      \r\n      @JsonProperty(JSON_PROPERTY_LINK)\r\n      public void setLink_JsonNullable(JsonNullable&lt;String&gt; link) {\r\n        this.link = link;\r\n      }\r\n    \r\n      public void setLink(String link) {\r\n        this.link = JsonNullable.&lt;String&gt;of(link);\r\n      }\r\n    \r\n    \r\n      public ModelFile name(String name) {\r\n        this.name = JsonNullable.&lt;String&gt;of(name);\r\n        \r\n        return this;\r\n      }\r\n    \r\n       /**\r\n       * Get name\r\n       * @return name\r\n      **/\r\n      @javax.annotation.Nullable\r\n      @ApiModelProperty(value = &quot;&quot;)\r\n      @JsonIgnore\r\n    \r\n      public String getName() {\r\n            return name.orElse(null);\r\n      }\r\n    \r\n      @JsonProperty(JSON_PROPERTY_NAME)\r\n      @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\r\n    \r\n      public JsonNullable&lt;String&gt; getName_JsonNullable() {\r\n        return name;\r\n      }\r\n      \r\n      @JsonProperty(JSON_PROPERTY_NAME)\r\n      public void setName_JsonNullable(JsonNullable&lt;String&gt; name) {\r\n        this.name = name;\r\n      }\r\n    \r\n      public void setName(String name) {\r\n        this.name = JsonNullable.&lt;String&gt;of(name);\r\n      }\r\n    \r\n    \r\n      public ModelFile mimeType(String mimeType) {\r\n        this.mimeType = JsonNullable.&lt;String&gt;of(mimeType);\r\n        \r\n        return this;\r\n      }\r\n    \r\n       /**\r\n       * Get mimeType\r\n       * @return mimeType\r\n      **/\r\n      @javax.annotation.Nullable\r\n      @ApiModelProperty(value = &quot;&quot;)\r\n      @JsonIgnore\r\n    \r\n      public String getMimeType() {\r\n            return mimeType.orElse(null);\r\n      }\r\n    \r\n      @JsonProperty(JSON_PROPERTY_MIME_TYPE)\r\n      @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\r\n    \r\n      public JsonNullable&lt;String&gt; getMimeType_JsonNullable() {\r\n        return mimeType;\r\n      }\r\n      \r\n      @JsonProperty(JSON_PROPERTY_MIME_TYPE)\r\n      public void setMimeType_JsonNullable(JsonNullable&lt;String&gt; mimeType) {\r\n        this.mimeType = mimeType;\r\n      }\r\n    \r\n      public void setMimeType(String mimeType) {\r\n        this.mimeType = JsonNullable.&lt;String&gt;of(mimeType);\r\n      }\r\n    \r\n    \r\n      public ModelFile data(byte[] data) {\r\n        this.data = JsonNullable.&lt;byte[]&gt;of(data);\r\n        \r\n        return this;\r\n      }\r\n    \r\n       /**\r\n       * Get data\r\n       * @return data\r\n      **/\r\n      @javax.annotation.Nullable\r\n      @ApiModelProperty(value = &quot;&quot;)\r\n      @JsonIgnore\r\n    \r\n      public byte[] getData() {\r\n            return data.orElse(null);\r\n      }\r\n    \r\n      @JsonProperty(JSON_PROPERTY_DATA)\r\n      @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\r\n    \r\n      public JsonNullable&lt;byte[]&gt; getData_JsonNullable() {\r\n        return data;\r\n      }\r\n      \r\n      @JsonProperty(JSON_PROPERTY_DATA)\r\n      public void setData_JsonNullable(JsonNullable&lt;byte[]&gt; data) {\r\n        this.data = data;\r\n      }\r\n    \r\n      public void setData(byte[] data) {\r\n        this.data = JsonNullable.&lt;byte[]&gt;of(data);\r\n      }\r\n    \r\n    \r\n      @Override\r\n      public boolean equals(Object o) {\r\n        if (this == o) {\r\n          return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass()) {\r\n          return false;\r\n        }\r\n        ModelFile _file = (ModelFile) o;\r\n        return equalsNullable(this.link, _file.link) &amp;&amp;\r\n            equalsNullable(this.name, _file.name) &amp;&amp;\r\n            equalsNullable(this.mimeType, _file.mimeType) &amp;&amp;\r\n            equalsNullable(this.data, _file.data);\r\n      }\r\n    \r\n      private static &lt;T&gt; boolean equalsNullable(JsonNullable&lt;T&gt; a, JsonNullable&lt;T&gt; b) {\r\n        return a == b || (a != null &amp;&amp; b != null &amp;&amp; a.isPresent() &amp;&amp; b.isPresent() &amp;&amp; Objects.deepEquals(a.get(), b.get()));\r\n      }\r\n    \r\n      @Override\r\n      public int hashCode() {\r\n        return Objects.hash(hashCodeNullable(link), hashCodeNullable(name), hashCodeNullable(mimeType), hashCodeNullable(data));\r\n      }\r\n    \r\n      private static &lt;T&gt; int hashCodeNullable(JsonNullable&lt;T&gt; a) {\r\n        if (a == null) {\r\n          return 1;\r\n        }\r\n        return a.isPresent() ? Arrays.deepHashCode(new Object[]{a.get()}) : 31;\r\n      }\r\n    \r\n      @Override\r\n      public String toString() {\r\n        StringBuilder sb = new StringBuilder();\r\n        sb.append(&quot;class ModelFile {\\n&quot;);\r\n        sb.append(&quot;    link: &quot;).append(toIndentedString(link)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    name: &quot;).append(toIndentedString(name)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    mimeType: &quot;).append(toIndentedString(mimeType)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;    data: &quot;).append(toIndentedString(data)).append(&quot;\\n&quot;);\r\n        sb.append(&quot;}&quot;);\r\n        return sb.toString();\r\n      }\r\n    \r\n      /**\r\n       * Convert the given object to string with each line indented by 4 spaces\r\n       * (except the first line).\r\n       */\r\n      private String toIndentedString(Object o) {\r\n        if (o == null) {\r\n          return &quot;null&quot;;\r\n        }\r\n        return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\r\n      }\r\n    \r\n    }\r\n\r\n\r\nWhen I make the request the only property that I set for the moment is the &quot;link&quot; property, because the REST service knows what to do.\r\n\r\n    public File getFileByLink(String link) throws WebServiceException, DataNotFoundException {\r\n    \t\t\r\n    \t\tlog.debug(&quot;Executing---&gt; getFileByLink()&quot;);\r\n    \t\t\r\n    \t\tFile file;\r\n    \t\t\t\r\n    \t\ttry {\r\n    \t\t\t\r\n    \t\t\tModelFile inputFile = new ModelFile();\r\n    \t\t\t\r\n    \t\t\tinputFile.setLink(link);\r\n    \t\t\t\r\n    \t\t\tfile = utilityApi.apiUtilityGetFileByLinkPost(inputFile);\r\n    \t\t\t\r\n    \t\t\tif (file == null) {\r\n    \t\t\t\tthrow new DataNotFoundException(&quot;Error!&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t} catch (ApiException e) {\r\n    \t\t\tthrow new WebServiceException(e.getCode() + &quot; - &quot; + e.getMessage());\t\t\t\r\n    \t\t} catch (DataNotFoundException e) {\r\n    \t\t\tthrow e;\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tthrow new WebServiceException(e);\r\n    \t\t}\r\n    \t\t\r\n    \t\tlog.debug(&quot;Leaving ---&gt; getFileByLink()&quot;);\r\n    \t\t\r\n    \t\treturn file;\t\t\r\n    \t}\r\n\r\nNow when it perform the actual request and try to serialize the object throws this error:\r\n\r\n        13:55:36,124 SEVERE [org.eclipse.yasson.internal.Marshaller] (default task-1) Unable to serialize property &#39;data_JsonNullable&#39; from org.openapitools.client.model.ModelFile\r\n        13:55:36,133 SEVERE [org.eclipse.yasson.internal.Marshaller] (default task-1) Generating incomplete JSON\r\n        13:55:36,145 ERROR [it.inps.itg.web.exception.WebServiceException] (default task-1) WebServiceException in Class: TemplateAction.java and Method: executeAction Message: RESTEASY004655: Unable to invoke request: javax.ws.rs.ProcessingException: RESTEASY008205: JSON Binding serialization error javax.json.bind.JsonbException: Unable to serialize property &#39;data_JsonNullable&#39; from org.openapitools.client.model.ModelFile Cause: javax.ws.rs.ProcessingException: RESTEASY008205: JSON Binding serialization error javax.json.bind.JsonbException: Unable to serialize property &#39;data_JsonNullable&#39; from org.openapitools.client.model.ModelFile\r\n\r\nAt first I didn&#39;t use the property `&lt;serializableModel&gt;true&lt;/serializableModel&gt;`, and I thought that the object could not be searialized for this problem, but even if the class implement the Serializable interface the problem still occur.\r\n\r\nIf can help, I&#39;ve tried to set values to all the object&#39;s properties and as long as they are not null, there&#39;s non serialization problems. The problem occur when there&#39;s at least one property that is null.","title":"Unable to serialize property [OpenApi maven codgen plugin]","body":"<p>i'm using &quot;openapi-generator-maven-plugin&quot; version 6.2.1 for generate modules from a YAML file and consume a RestAPI.</p>\n<p>The code that is generated from the plugin looks fine and it work great with &quot;GET&quot; requests, the problem that i've encountered so far, is on &quot;POST&quot; requests. Apparently when I pass an object with null values (even if they are nullable) it throws &quot;Unable to serialize property&quot; from [org.eclipse.yasson.internal.Marshaller], even if the object is Serializable.</p>\n<p>More specific:</p>\n<p>I've this object generated from the plugin.</p>\n<pre><code>/*\n * MS00140\n * No description provided (generated by Openapi Generator https://github.com/openapitools/openapi-generator)\n *\n * The version of the OpenAPI document: 1.0\n * \n *\n * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).\n * https://openapi-generator.tech\n * Do not edit the class manually.\n */\n\n\npackage org.openapitools.client.model;\n\nimport java.util.Objects;\nimport java.util.Arrays;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonTypeName;\nimport com.fasterxml.jackson.annotation.JsonValue;\nimport io.swagger.annotations.ApiModel;\nimport io.swagger.annotations.ApiModelProperty;\nimport org.openapitools.jackson.nullable.JsonNullable;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport org.openapitools.jackson.nullable.JsonNullable;\nimport java.util.NoSuchElementException;\nimport java.io.Serializable;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\nimport com.fasterxml.jackson.annotation.JsonTypeName;\n\n/**\n * ModelFile\n */\n@JsonPropertyOrder({\n  ModelFile.JSON_PROPERTY_LINK,\n  ModelFile.JSON_PROPERTY_NAME,\n  ModelFile.JSON_PROPERTY_MIME_TYPE,\n  ModelFile.JSON_PROPERTY_DATA\n})\n@JsonTypeName(&quot;File&quot;)\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaClientCodegen&quot;, date = &quot;2022-11-21T13:50:57.834020300+01:00[Europe/Berlin]&quot;)\npublic class ModelFile implements Serializable {\n  private static final long serialVersionUID = 1L;\n\n  public static final String JSON_PROPERTY_LINK = &quot;link&quot;;\n  private JsonNullable&lt;String&gt; link = JsonNullable.&lt;String&gt;undefined();\n\n  public static final String JSON_PROPERTY_NAME = &quot;name&quot;;\n  private JsonNullable&lt;String&gt; name = JsonNullable.&lt;String&gt;undefined();\n\n  public static final String JSON_PROPERTY_MIME_TYPE = &quot;mimeType&quot;;\n  private JsonNullable&lt;String&gt; mimeType = JsonNullable.&lt;String&gt;undefined();\n\n  public static final String JSON_PROPERTY_DATA = &quot;data&quot;;\n  private JsonNullable&lt;byte[]&gt; data = JsonNullable.&lt;byte[]&gt;undefined();\n\n  public ModelFile() {\n  }\n\n  public ModelFile link(String link) {\n    this.link = JsonNullable.&lt;String&gt;of(link);\n    \n    return this;\n  }\n\n   /**\n   * Get link\n   * @return link\n  **/\n  @javax.annotation.Nullable\n  @ApiModelProperty(value = &quot;&quot;)\n  @JsonIgnore\n\n  public String getLink() {\n        return link.orElse(null);\n  }\n\n  @JsonProperty(JSON_PROPERTY_LINK)\n  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\n\n  public JsonNullable&lt;String&gt; getLink_JsonNullable() {\n    return link;\n  }\n  \n  @JsonProperty(JSON_PROPERTY_LINK)\n  public void setLink_JsonNullable(JsonNullable&lt;String&gt; link) {\n    this.link = link;\n  }\n\n  public void setLink(String link) {\n    this.link = JsonNullable.&lt;String&gt;of(link);\n  }\n\n\n  public ModelFile name(String name) {\n    this.name = JsonNullable.&lt;String&gt;of(name);\n    \n    return this;\n  }\n\n   /**\n   * Get name\n   * @return name\n  **/\n  @javax.annotation.Nullable\n  @ApiModelProperty(value = &quot;&quot;)\n  @JsonIgnore\n\n  public String getName() {\n        return name.orElse(null);\n  }\n\n  @JsonProperty(JSON_PROPERTY_NAME)\n  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\n\n  public JsonNullable&lt;String&gt; getName_JsonNullable() {\n    return name;\n  }\n  \n  @JsonProperty(JSON_PROPERTY_NAME)\n  public void setName_JsonNullable(JsonNullable&lt;String&gt; name) {\n    this.name = name;\n  }\n\n  public void setName(String name) {\n    this.name = JsonNullable.&lt;String&gt;of(name);\n  }\n\n\n  public ModelFile mimeType(String mimeType) {\n    this.mimeType = JsonNullable.&lt;String&gt;of(mimeType);\n    \n    return this;\n  }\n\n   /**\n   * Get mimeType\n   * @return mimeType\n  **/\n  @javax.annotation.Nullable\n  @ApiModelProperty(value = &quot;&quot;)\n  @JsonIgnore\n\n  public String getMimeType() {\n        return mimeType.orElse(null);\n  }\n\n  @JsonProperty(JSON_PROPERTY_MIME_TYPE)\n  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\n\n  public JsonNullable&lt;String&gt; getMimeType_JsonNullable() {\n    return mimeType;\n  }\n  \n  @JsonProperty(JSON_PROPERTY_MIME_TYPE)\n  public void setMimeType_JsonNullable(JsonNullable&lt;String&gt; mimeType) {\n    this.mimeType = mimeType;\n  }\n\n  public void setMimeType(String mimeType) {\n    this.mimeType = JsonNullable.&lt;String&gt;of(mimeType);\n  }\n\n\n  public ModelFile data(byte[] data) {\n    this.data = JsonNullable.&lt;byte[]&gt;of(data);\n    \n    return this;\n  }\n\n   /**\n   * Get data\n   * @return data\n  **/\n  @javax.annotation.Nullable\n  @ApiModelProperty(value = &quot;&quot;)\n  @JsonIgnore\n\n  public byte[] getData() {\n        return data.orElse(null);\n  }\n\n  @JsonProperty(JSON_PROPERTY_DATA)\n  @JsonInclude(value = JsonInclude.Include.USE_DEFAULTS)\n\n  public JsonNullable&lt;byte[]&gt; getData_JsonNullable() {\n    return data;\n  }\n  \n  @JsonProperty(JSON_PROPERTY_DATA)\n  public void setData_JsonNullable(JsonNullable&lt;byte[]&gt; data) {\n    this.data = data;\n  }\n\n  public void setData(byte[] data) {\n    this.data = JsonNullable.&lt;byte[]&gt;of(data);\n  }\n\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) {\n      return true;\n    }\n    if (o == null || getClass() != o.getClass()) {\n      return false;\n    }\n    ModelFile _file = (ModelFile) o;\n    return equalsNullable(this.link, _file.link) &amp;&amp;\n        equalsNullable(this.name, _file.name) &amp;&amp;\n        equalsNullable(this.mimeType, _file.mimeType) &amp;&amp;\n        equalsNullable(this.data, _file.data);\n  }\n\n  private static &lt;T&gt; boolean equalsNullable(JsonNullable&lt;T&gt; a, JsonNullable&lt;T&gt; b) {\n    return a == b || (a != null &amp;&amp; b != null &amp;&amp; a.isPresent() &amp;&amp; b.isPresent() &amp;&amp; Objects.deepEquals(a.get(), b.get()));\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(hashCodeNullable(link), hashCodeNullable(name), hashCodeNullable(mimeType), hashCodeNullable(data));\n  }\n\n  private static &lt;T&gt; int hashCodeNullable(JsonNullable&lt;T&gt; a) {\n    if (a == null) {\n      return 1;\n    }\n    return a.isPresent() ? Arrays.deepHashCode(new Object[]{a.get()}) : 31;\n  }\n\n  @Override\n  public String toString() {\n    StringBuilder sb = new StringBuilder();\n    sb.append(&quot;class ModelFile {\\n&quot;);\n    sb.append(&quot;    link: &quot;).append(toIndentedString(link)).append(&quot;\\n&quot;);\n    sb.append(&quot;    name: &quot;).append(toIndentedString(name)).append(&quot;\\n&quot;);\n    sb.append(&quot;    mimeType: &quot;).append(toIndentedString(mimeType)).append(&quot;\\n&quot;);\n    sb.append(&quot;    data: &quot;).append(toIndentedString(data)).append(&quot;\\n&quot;);\n    sb.append(&quot;}&quot;);\n    return sb.toString();\n  }\n\n  /**\n   * Convert the given object to string with each line indented by 4 spaces\n   * (except the first line).\n   */\n  private String toIndentedString(Object o) {\n    if (o == null) {\n      return &quot;null&quot;;\n    }\n    return o.toString().replace(&quot;\\n&quot;, &quot;\\n    &quot;);\n  }\n\n}\n</code></pre>\n<p>When I make the request the only property that I set for the moment is the &quot;link&quot; property, because the REST service knows what to do.</p>\n<pre><code>public File getFileByLink(String link) throws WebServiceException, DataNotFoundException {\n        \n        log.debug(&quot;Executing---&gt; getFileByLink()&quot;);\n        \n        File file;\n            \n        try {\n            \n            ModelFile inputFile = new ModelFile();\n            \n            inputFile.setLink(link);\n            \n            file = utilityApi.apiUtilityGetFileByLinkPost(inputFile);\n            \n            if (file == null) {\n                throw new DataNotFoundException(&quot;Error!&quot;);\n            }\n            \n        } catch (ApiException e) {\n            throw new WebServiceException(e.getCode() + &quot; - &quot; + e.getMessage());            \n        } catch (DataNotFoundException e) {\n            throw e;\n        } catch (Exception e) {\n            throw new WebServiceException(e);\n        }\n        \n        log.debug(&quot;Leaving ---&gt; getFileByLink()&quot;);\n        \n        return file;        \n    }\n</code></pre>\n<p>Now when it perform the actual request and try to serialize the object throws this error:</p>\n<pre><code>    13:55:36,124 SEVERE [org.eclipse.yasson.internal.Marshaller] (default task-1) Unable to serialize property 'data_JsonNullable' from org.openapitools.client.model.ModelFile\n    13:55:36,133 SEVERE [org.eclipse.yasson.internal.Marshaller] (default task-1) Generating incomplete JSON\n    13:55:36,145 ERROR [it.inps.itg.web.exception.WebServiceException] (default task-1) WebServiceException in Class: TemplateAction.java and Method: executeAction Message: RESTEASY004655: Unable to invoke request: javax.ws.rs.ProcessingException: RESTEASY008205: JSON Binding serialization error javax.json.bind.JsonbException: Unable to serialize property 'data_JsonNullable' from org.openapitools.client.model.ModelFile Cause: javax.ws.rs.ProcessingException: RESTEASY008205: JSON Binding serialization error javax.json.bind.JsonbException: Unable to serialize property 'data_JsonNullable' from org.openapitools.client.model.ModelFile\n</code></pre>\n<p>At first I didn't use the property <code>&lt;serializableModel&gt;true&lt;/serializableModel&gt;</code>, and I thought that the object could not be searialized for this problem, but even if the class implement the Serializable interface the problem still occur.</p>\n<p>If can help, I've tried to set values to all the object's properties and as long as they are not null, there's non serialization problems. The problem occur when there's at least one property that is null.</p>\n"},{"tags":["java","rest","netsuite"],"comments":[{"owner":{"account_id":8564588,"reputation":1250,"user_id":6417470,"display_name":"Humble Bee"},"score":0,"creation_date":1665997076,"post_id":74094759,"comment_id":130821930,"body_markdown":"You&#39;ve got to add query params to your url: https://12345.suitetalk.api.netsuite.com/services/rest/record/v1/employee?q=empNum==101 (I made up empNum)","body":"You&#39;ve got to add query params to your url: <a href=\"https://12345.suitetalk.api.netsuite.com/services/rest/record/v1/employee?q=empNum==101\" rel=\"nofollow noreferrer\">12345.suitetalk.api.netsuite.com/services/rest/record/v1/&hellip;</a> (I made up empNum)"},{"owner":{"account_id":25363982,"reputation":21,"user_id":19178818,"display_name":"Shubham Kumar"},"score":0,"creation_date":1666003001,"post_id":74094759,"comment_id":130823957,"body_markdown":"tried multiple combination of it. Like &quot;/record/v1/employee?q=entityid IS 3031&quot; and &quot;/record/v1/employee?q=entityid=3031&quot; but nothing worked. always get &quot;Invalid search query. Provide a valid search query&quot; error","body":"tried multiple combination of it. Like &quot;/record/v1/employee?q=entityid IS 3031&quot; and &quot;/record/v1/employee?q=entityid=3031&quot; but nothing worked. always get &quot;Invalid search query. Provide a valid search query&quot; error"},{"owner":{"account_id":8564588,"reputation":1250,"user_id":6417470,"display_name":"Humble Bee"},"score":0,"creation_date":1666083636,"post_id":74094759,"comment_id":130845669,"body_markdown":"Do you have the API specification link where I can look for its documentation?","body":"Do you have the API specification link where I can look for its documentation?"},{"owner":{"account_id":25363982,"reputation":21,"user_id":19178818,"display_name":"Shubham Kumar"},"score":0,"creation_date":1666089437,"post_id":74094759,"comment_id":130847654,"body_markdown":"https://docs.oracle.com/en/cloud/saas/netsuite/ns-online-help/section_1545141500.html This is the official documentation URL. but i have checked in the documentation and I have tried the approach given in the documentation.","body":"<a href=\"https://docs.oracle.com/en/cloud/saas/netsuite/ns-online-help/section_1545141500.html\" rel=\"nofollow noreferrer\">docs.oracle.com/en/cloud/saas/netsuite/ns-online-help/&hellip;</a> This is the official documentation URL. but i have checked in the documentation and I have tried the approach given in the documentation."}],"answers":[{"tags":[],"owner":{"account_id":26741618,"reputation":21,"user_id":20342321,"display_name":"Paul Orozco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669036282,"creation_date":1668640318,"answer_id":74468367,"question_id":74094759,"body_markdown":"https://youracc.suitetalk.api.netsuite.com/services/rest/record/v1/employee\r\n\r\nto use that api you must send a &quot;GET&quot; request with a JSON body like this:\r\n\r\n    {}\r\n\r\n[![POSTMAN example][1]][1]\r\n\r\n\r\nYour role must have access to employees to see this \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UvAen.png","title":"how to find employee in netsuite via name using the RestAPI","body":"<p><a href=\"https://youracc.suitetalk.api.netsuite.com/services/rest/record/v1/employee\" rel=\"nofollow noreferrer\">https://youracc.suitetalk.api.netsuite.com/services/rest/record/v1/employee</a></p>\n<p>to use that api you must send a &quot;GET&quot; request with a JSON body like this:</p>\n<pre><code>{}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/UvAen.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UvAen.png\" alt=\"POSTMAN example\" /></a></p>\n<p>Your role must have access to employees to see this</p>\n"}],"owner":{"account_id":25363982,"reputation":21,"user_id":19178818,"display_name":"Shubham Kumar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":627,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669036282,"creation_date":1665996854,"question_id":74094759,"body_markdown":"I am trying to integrate the netsuite using RestAPI. But when trying to fetch employee record i am not able to get a response. The API keeps giving me the following error.\r\n\r\n    {\r\n     &quot;title&quot;: &quot;Bad Request&quot;,\r\n     &quot;status&quot;: 400,\r\n     &quot;o:errorDetails&quot;: [\r\n        &quot;detail&quot;: &quot;Invalid search query. Detailed unprocessed description follows. Search error occurred: Record &#39;employee&#39; was not found.&quot;,\r\n        &quot;o:errorQueryParam&quot;: &quot;q&quot;,\r\n        &quot;o:errorCode&quot;: &quot;INVALID_PARAMETER&quot;\r\n        ]\r\n    }\r\n\r\nI am able to get other records and fields but not employee. URL I am using: **https://12345.suitetalk.api.netsuite.com/services/rest/record/v1/employee**","title":"how to find employee in netsuite via name using the RestAPI","body":"<p>I am trying to integrate the netsuite using RestAPI. But when trying to fetch employee record i am not able to get a response. The API keeps giving me the following error.</p>\n<pre><code>{\n &quot;title&quot;: &quot;Bad Request&quot;,\n &quot;status&quot;: 400,\n &quot;o:errorDetails&quot;: [\n    &quot;detail&quot;: &quot;Invalid search query. Detailed unprocessed description follows. Search error occurred: Record 'employee' was not found.&quot;,\n    &quot;o:errorQueryParam&quot;: &quot;q&quot;,\n    &quot;o:errorCode&quot;: &quot;INVALID_PARAMETER&quot;\n    ]\n}\n</code></pre>\n<p>I am able to get other records and fields but not employee. URL I am using: <strong><a href=\"https://12345.suitetalk.api.netsuite.com/services/rest/record/v1/employee\" rel=\"nofollow noreferrer\">https://12345.suitetalk.api.netsuite.com/services/rest/record/v1/employee</a></strong></p>\n"},{"tags":["java","jpa","join","projection","querydsl"],"answers":[{"tags":[],"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669036126,"creation_date":1669036126,"answer_id":74519462,"question_id":74517407,"body_markdown":"Turns out this was not working well due to my use of fetch joins, which prevented me from using projections. Solving it was a matter of using a basic join instead and manually reconstructing the relationship.\r\n\r\n    Collection&lt;Tuple&gt; tuples = new JPAQuery&lt;&gt;(entityManager)\r\n                    .select(QCategoryEntity.categoryEntity, Projections.constructor(UserEntity.class, &lt;constructor arguments&gt;)\r\n                    .from(QCategoryEntity.categoryEntity)\r\n                    .join(QCategoryEntity.categoryEntity.users, QUserEntity.userEntity)\r\n                    .where(somePredicate);","title":"QueryDSL, specify projection for join","body":"<p>Turns out this was not working well due to my use of fetch joins, which prevented me from using projections. Solving it was a matter of using a basic join instead and manually reconstructing the relationship.</p>\n<pre><code>Collection&lt;Tuple&gt; tuples = new JPAQuery&lt;&gt;(entityManager)\n                .select(QCategoryEntity.categoryEntity, Projections.constructor(UserEntity.class, &lt;constructor arguments&gt;)\n                .from(QCategoryEntity.categoryEntity)\n                .join(QCategoryEntity.categoryEntity.users, QUserEntity.userEntity)\n                .where(somePredicate);\n</code></pre>\n"}],"owner":{"account_id":20409536,"reputation":63,"user_id":14973287,"display_name":"Bruno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":201,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74519462,"answer_count":1,"score":0,"last_activity_date":1669036126,"creation_date":1669026294,"question_id":74517407,"body_markdown":"I&#39;m trying to use QueryDSL to fetch a collection of entities (table Category) where each entity has a @OneToMany association with an other type of entity (table User), and a join is used to get it all in one go. \r\n\r\nProblem is that the second entity (the users) contains CLOB fields which should not be included. I don&#39;t want to include them in my query. Given the following QueryDSL query : \r\n\r\n    JPAQuery&lt;CategoryEntity&gt; baseQuery = new JPAQuery&lt;&gt;(entityManager)\r\n                    .select(QCategoryEntity.categoryEntity)\r\n                    .from(QCategoryEntity.categoryEntity)\r\n                    .leftJoin(QCategoryEntity.categoryEntity.users, QUserEntity.userEntity)\r\n                    .where(somePredicate);\r\n\r\nQueryDSL will generate something like \r\n\r\n    SELECT categoryen0_.id, (...), useren0_.id, (...) \r\n    FROM category categoryen0 \r\n    LEFT OUTER JOIN user useren0 ON ...\r\n    WHERE ...\r\n\r\n*How can a specific projection be applied to this query such that the CLOB data is excluded?* \r\n\r\nNotes : \r\n\r\n - I&#39;m trying to avoid native queries and changing the domain model.  \r\n - I have not found a way to use Projections on the join\r\n   itself.  \r\n - Using subqueries inside joins is not supported by JPQL hence\r\n   it&#39;s not supported by QueryDSL either.\r\n\r\n","title":"QueryDSL, specify projection for join","body":"<p>I'm trying to use QueryDSL to fetch a collection of entities (table Category) where each entity has a @OneToMany association with an other type of entity (table User), and a join is used to get it all in one go.</p>\n<p>Problem is that the second entity (the users) contains CLOB fields which should not be included. I don't want to include them in my query. Given the following QueryDSL query :</p>\n<pre><code>JPAQuery&lt;CategoryEntity&gt; baseQuery = new JPAQuery&lt;&gt;(entityManager)\n                .select(QCategoryEntity.categoryEntity)\n                .from(QCategoryEntity.categoryEntity)\n                .leftJoin(QCategoryEntity.categoryEntity.users, QUserEntity.userEntity)\n                .where(somePredicate);\n</code></pre>\n<p>QueryDSL will generate something like</p>\n<pre><code>SELECT categoryen0_.id, (...), useren0_.id, (...) \nFROM category categoryen0 \nLEFT OUTER JOIN user useren0 ON ...\nWHERE ...\n</code></pre>\n<p><em>How can a specific projection be applied to this query such that the CLOB data is excluded?</em></p>\n<p>Notes :</p>\n<ul>\n<li>I'm trying to avoid native queries and changing the domain model.</li>\n<li>I have not found a way to use Projections on the join\nitself.</li>\n<li>Using subqueries inside joins is not supported by JPQL hence\nit's not supported by QueryDSL either.</li>\n</ul>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"score":0,"creation_date":1573558224,"post_id":58812220,"comment_id":103912942,"body_markdown":"can the string contain multiple numbers (scattered across the string) or just one?","body":"can the string contain multiple numbers (scattered across the string) or just one?"},{"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"score":0,"creation_date":1574004775,"post_id":58812220,"comment_id":104067264,"body_markdown":"could we help you?","body":"could we help you?"}],"answers":[{"tags":[],"owner":{"account_id":1125918,"reputation":9500,"user_id":1113211,"accept_rate":59,"display_name":"salmanwahed"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1573536011,"creation_date":1573536011,"answer_id":58812481,"question_id":58812220,"body_markdown":"   Your code is working fine. Here `string` is immutable. So it&#39;s value can&#39;t be changed. But you can assign another variable to the replaced string. \r\n\r\n    fun main(args: Array&lt;String&gt;) {\r\n        var string = &quot;vsdhfnmsdbvfuf121535435aewr&quot;\r\n        var res = string.replace(&quot;[^0-9]&quot;.toRegex(), &quot;&quot;)\r\n        println(res)\r\n    }","title":"Extract numbers from a string kotlin","body":"<p>Your code is working fine. Here <code>string</code> is immutable. So it's value can't be changed. But you can assign another variable to the replaced string. </p>\n\n<pre><code>fun main(args: Array&lt;String&gt;) {\n    var string = \"vsdhfnmsdbvfuf121535435aewr\"\n    var res = string.replace(\"[^0-9]\".toRegex(), \"\")\n    println(res)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10832388,"reputation":1265,"user_id":7966313,"display_name":"Enzo Lizama"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573557067,"creation_date":1573536044,"answer_id":58812484,"question_id":58812220,"body_markdown":"The `replace` method returns a new `String`, not modify the base. You can try this [here](https://play.kotlinlang.org/), and will work for you.\r\n\r\n    var s1 = &quot;vsdhfnmsdbvfuf121535435aewr&quot;  \r\n\tvar s2 = s1.replace(&quot;[^0-9]&quot;.toRegex(), &quot;&quot;)\r\n    print(s2)","title":"Extract numbers from a string kotlin","body":"<p>The <code>replace</code> method returns a new <code>String</code>, not modify the base. You can try this <a href=\"https://play.kotlinlang.org/\" rel=\"nofollow noreferrer\">here</a>, and will work for you.</p>\n\n<pre><code>var s1 = \"vsdhfnmsdbvfuf121535435aewr\"  \nvar s2 = s1.replace(\"[^0-9]\".toRegex(), \"\")\nprint(s2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573558510,"creation_date":1573557982,"answer_id":58817730,"question_id":58812220,"body_markdown":"`replace` will not mutate the String `str`, that&#39;s why it is ok for `str` to be immutable (`val`) which it should be.\r\n\r\n    val str = &quot;vsdhfnmsdbvfuf121535435aewr&quot;\r\n    val num = str.replace(Regex(&quot;[^0-9]&quot;), &quot;&quot;)\r\n    println(num)\r\n\r\nOutput:\r\n\r\n&gt; 4545121535435\r\n\r\n---\r\n\r\nSince the title of your questions reads &quot;numbers&quot;: In case you have multiple numbers scattered across the String you can use [Regex.findAll][1]. This is also a more fail safe solution because if you just remove what is around numbers then you might end up interpreting &quot;a1b2c3&quot; as &quot;123&quot; instead of as &quot;[1 ,2 ,3]&quot;.\r\n\r\n    val str = &quot;vsdhfn4545msdbvfuf121535435aewr&quot;\r\n    val numbers = Regex(&quot;[0-9]+&quot;).findAll(str)\r\n            .map(MatchResult::value)\r\n            .toList()\r\n\r\n    println(numbers)\r\n\r\nOutput:\r\n\r\n&gt; [4545, 121535435]\r\n\r\n  [1]: https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/find-all.html","title":"Extract numbers from a string kotlin","body":"<p><code>replace</code> will not mutate the String <code>str</code>, that's why it is ok for <code>str</code> to be immutable (<code>val</code>) which it should be.</p>\n\n<pre><code>val str = \"vsdhfnmsdbvfuf121535435aewr\"\nval num = str.replace(Regex(\"[^0-9]\"), \"\")\nprintln(num)\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>4545121535435</p>\n</blockquote>\n\n<hr>\n\n<p>Since the title of your questions reads \"numbers\": In case you have multiple numbers scattered across the String you can use <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.text/-regex/find-all.html\" rel=\"nofollow noreferrer\">Regex.findAll</a>. This is also a more fail safe solution because if you just remove what is around numbers then you might end up interpreting \"a1b2c3\" as \"123\" instead of as \"[1 ,2 ,3]\".</p>\n\n<pre><code>val str = \"vsdhfn4545msdbvfuf121535435aewr\"\nval numbers = Regex(\"[0-9]+\").findAll(str)\n        .map(MatchResult::value)\n        .toList()\n\nprintln(numbers)\n</code></pre>\n\n<p>Output:</p>\n\n<blockquote>\n  <p>[4545, 121535435]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":36197,"reputation":2260,"user_id":103131,"accept_rate":40,"display_name":"jj."},"down_vote_count":0,"up_vote_count":107,"is_accepted":false,"score":107,"last_activity_date":1582762229,"creation_date":1582762229,"answer_id":60424457,"question_id":58812220,"body_markdown":"You could also take advantage of Kotlin&#39;s String.filter:\r\n```\r\nvar string = &quot;vsdhfnmsdbvfuf121535435aewr&quot;\r\nvar result = string.filter { it.isDigit() }\r\n```\r\n\r\nI got this from here: https://stackoverflow.com/a/57316352","title":"Extract numbers from a string kotlin","body":"<p>You could also take advantage of Kotlin's String.filter:</p>\n\n<pre><code>var string = \"vsdhfnmsdbvfuf121535435aewr\"\nvar result = string.filter { it.isDigit() }\n</code></pre>\n\n<p>I got this from here: <a href=\"https://stackoverflow.com/a/57316352\">https://stackoverflow.com/a/57316352</a></p>\n"},{"tags":[],"owner":{"account_id":12528313,"reputation":481,"user_id":9117355,"display_name":"Th&#224;nh H&#224; Văn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582769343,"creation_date":1582769343,"answer_id":60425322,"question_id":58812220,"body_markdown":"The replace function does not modify your string, but it return a new string. Your code will be fine:\r\n\r\n - `val result = replace(&quot;[^0-9]&quot;.toRegex(), &quot;&quot;)`","title":"Extract numbers from a string kotlin","body":"<p>The replace function does not modify your string, but it return a new string. Your code will be fine:</p>\n\n<ul>\n<li><code>val result = replace(\"[^0-9]\".toRegex(), \"\")</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":16547758,"reputation":143,"user_id":11956865,"display_name":"Muhammad Mubeen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582782762,"creation_date":1582782762,"answer_id":60427026,"question_id":58812220,"body_markdown":"Try this example:\r\n\r\n**Code**\r\n\r\n      try {\r\n            val p = Pattern.compile(&quot;\\\\d+&quot;)\r\n            var m = p.matcher(&quot;string1234more567string890&quot;)\r\n             while (m.find()) {\r\n               System.out.println(m.group())\r\n              }\r\n          }catch (ex:java.lang.Exception){\r\n          }","title":"Extract numbers from a string kotlin","body":"<p>Try this example:</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>  try {\n        val p = Pattern.compile(\"\\\\d+\")\n        var m = p.matcher(\"string1234more567string890\")\n         while (m.find()) {\n           System.out.println(m.group())\n          }\n      }catch (ex:java.lang.Exception){\n      }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5733200,"reputation":3462,"user_id":4528126,"display_name":"Prasad"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1595921360,"creation_date":1595920952,"answer_id":63128932,"question_id":58812220,"body_markdown":"For some cases like if the text contains formatted amount, then the above answers might fail. For example, if the text is &quot;*Rs. 1,00,000.00*&quot; and if we only filter **.** and **digit**, then the output we get is .100000.00 this will be a wrong amount. So better first extract the string between digits and then filter for digit and Dot.\r\n\r\n\r\n        fun String.getAmount(): String {\r\n        return substring(indexOfFirst { it.isDigit() }, indexOfLast { it.isDigit() } + 1)\r\n            .filter { it.isDigit() || it == &#39;.&#39; }\r\n        }\r\n\r\nFollowing cases will be covered using above code\r\n\r\n&gt;       println(&quot;Rs. 123&quot;.getAmount())\r\n&gt;       println(&quot;Rs. 123.23&quot;.getAmount())\r\n&gt;       println(&quot;Rs. 123.23/-&quot;.getAmount())\r\n&gt;       println(&quot;INR123.23&quot;.getAmount())\r\n&gt;       println(&quot;123.23INR&quot;.getAmount())\r\n&gt;       println(&quot;$100,000.00&quot;.getAmount())\r\n&gt;       println(&quot;Rs.100,000.00&quot;.getAmount())\r\n","title":"Extract numbers from a string kotlin","body":"<p>For some cases like if the text contains formatted amount, then the above answers might fail. For example, if the text is &quot;<em>Rs. 1,00,000.00</em>&quot; and if we only filter <strong>.</strong> and <strong>digit</strong>, then the output we get is .100000.00 this will be a wrong amount. So better first extract the string between digits and then filter for digit and Dot.</p>\n<pre><code>    fun String.getAmount(): String {\n    return substring(indexOfFirst { it.isDigit() }, indexOfLast { it.isDigit() } + 1)\n        .filter { it.isDigit() || it == '.' }\n    }\n</code></pre>\n<p>Following cases will be covered using above code</p>\n<blockquote>\n<pre><code>  println(&quot;Rs. 123&quot;.getAmount())\n  println(&quot;Rs. 123.23&quot;.getAmount())\n  println(&quot;Rs. 123.23/-&quot;.getAmount())\n  println(&quot;INR123.23&quot;.getAmount())\n  println(&quot;123.23INR&quot;.getAmount())\n  println(&quot;$100,000.00&quot;.getAmount())\n  println(&quot;Rs.100,000.00&quot;.getAmount())\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":11259570,"reputation":916,"user_id":8258305,"accept_rate":60,"display_name":"Mohd Qasim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626543774,"creation_date":1626543774,"answer_id":68422929,"question_id":58812220,"body_markdown":"Try this we will get result\r\n\r\n    val digit:Int = Regex(&quot;[^0-9]&quot;).replace(bindAyatSearch.ayatSearchSp.selectedItem.toString(), &quot;&quot;).toInt()","title":"Extract numbers from a string kotlin","body":"<p>Try this we will get result</p>\n<pre><code>val digit:Int = Regex(&quot;[^0-9]&quot;).replace(bindAyatSearch.ayatSearchSp.selectedItem.toString(), &quot;&quot;).toInt()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20360662,"reputation":101,"user_id":14935078,"display_name":"Juan Martinez"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1656266765,"creation_date":1656266765,"answer_id":72764052,"question_id":58812220,"body_markdown":"if you looking for take out the numbers here is the solution\r\n\r\n    var string = &quot;vsdhfnmsdbvfuf121535435aewr&quot;\r\n    var result = string.filter { it.isLetter() }\r\n    \r\n\r\ninstead of .isdigit type .isletter and it should work fine","title":"Extract numbers from a string kotlin","body":"<p>if you looking for take out the numbers here is the solution</p>\n<pre><code>var string = &quot;vsdhfnmsdbvfuf121535435aewr&quot;\nvar result = string.filter { it.isLetter() }\n</code></pre>\n<p>instead of .isdigit type .isletter and it should work fine</p>\n"},{"tags":[],"owner":{"account_id":5585617,"reputation":3922,"user_id":4426075,"accept_rate":50,"display_name":"Semyon Tikhonenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669036092,"creation_date":1669036092,"answer_id":74519456,"question_id":58812220,"body_markdown":"Using https://github.com/tiksem/KotlinSpirit library\r\n\r\n    string.replaceAll(int, &quot;&quot;)","title":"Extract numbers from a string kotlin","body":"<p>Using <a href=\"https://github.com/tiksem/KotlinSpirit\" rel=\"nofollow noreferrer\">https://github.com/tiksem/KotlinSpirit</a> library</p>\n<pre><code>string.replaceAll(int, &quot;&quot;)\n</code></pre>\n"}],"owner":{"account_id":17080404,"reputation":402,"user_id":12358951,"display_name":"Ho Binh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41707,"favorite_count":0,"down_vote_count":2,"up_vote_count":40,"answer_count":10,"score":38,"last_activity_date":1669036092,"creation_date":1573534265,"question_id":58812220,"body_markdown":"`String.replaceAll` is not running and is unsupported in Kotlin. So I suggest a demo example, I hope it help. \r\n\r\n    var string = &quot;vsdhfnmsdbvfuf121535435aewr&quot;  \r\n    string.replace(&quot;[^0-9]&quot;.toRegex(), &quot;&quot;)","title":"Extract numbers from a string kotlin","body":"<p><code>String.replaceAll</code> is not running and is unsupported in Kotlin. So I suggest a demo example, I hope it help. </p>\n\n<pre><code>var string = \"vsdhfnmsdbvfuf121535435aewr\"  \nstring.replace(\"[^0-9]\".toRegex(), \"\")\n</code></pre>\n"},{"tags":["java","jvm","bcel","java-13","javaoptions"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1668961168,"post_id":74509774,"comment_id":131527815,"body_markdown":"Does this answer your question? [64-Bit Server VM Warning: Options -Xverify:none and -noverify were deprecated in JDK 13. Safe to delete -Xverify:none from Environment Variables?](https://stackoverflow.com/questions/60103574/64-bit-server-vm-warning-options-xverifynone-and-noverify-were-deprecated-in)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60103574/64-bit-server-vm-warning-options-xverifynone-and-noverify-were-deprecated-in\">64-Bit Server VM Warning: Options -Xverify:none and -noverify were deprecated in JDK 13. Safe to delete -Xverify:none from Environment Variables?</a>"},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1668968556,"post_id":74509774,"comment_id":131529454,"body_markdown":"Not sure how I can use AppCDS to skip class verification?","body":"Not sure how I can use AppCDS to skip class verification?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1669056310,"post_id":74509774,"comment_id":131551690,"body_markdown":"You are asking the wrong question. You should ask, how you can fix your broken code generation.","body":"You are asking the wrong question. You should ask, how you can fix your broken code generation."},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1669065257,"post_id":74509774,"comment_id":131554278,"body_markdown":"@Holger your answer totally makes sense but such revamping of the project won&#39;t be accepted by maintainer for now, we must raise the code coverage first, which is too low.","body":"@Holger your answer totally makes sense but such revamping of the project won&#39;t be accepted by maintainer for now, we must raise the code coverage first, which is too low."},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1669097275,"post_id":74509774,"comment_id":131559783,"body_markdown":"The closest replacement for `-noverify` is `-XX:+CrashJVMAtRandomTimes`, for example, see [this](https://stackoverflow.com/questions/40321205/jvm-crash-problematic-frame-canonicalizerdo-if) and [this](https://stackoverflow.com/questions/58855063/jvm-exception-access-violation-crash-in-spring-boot-application).","body":"The closest replacement for <code>-noverify</code> is <code>-XX:+CrashJVMAtRandomTimes</code>, for example, see <a href=\"https://stackoverflow.com/questions/40321205/jvm-crash-problematic-frame-canonicalizerdo-if\">this</a> and <a href=\"https://stackoverflow.com/questions/58855063/jvm-exception-access-violation-crash-in-spring-boot-application\">this</a>."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669105674,"post_id":74509774,"comment_id":131562024,"body_markdown":"@Sybuser that’s a strange point of view. A code generator whose output doesn’t pass the verifier, is *broken* and if “maintainer” means “maintainer of that software”, accepting a request to fix the software is not a matter of choice at all.","body":"@Sybuser that’s a strange point of view. A code generator whose output doesn’t pass the verifier, is <i>broken</i> and if “maintainer” means “maintainer of that software”, accepting a request to fix the software is not a matter of choice at all."},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1669108016,"post_id":74509774,"comment_id":131562743,"body_markdown":"@Holger better code coverage will help fix this safely limiting side effects, such fix will eventually be accepted.","body":"@Holger better code coverage will help fix this safely limiting side effects, such fix will eventually be accepted."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669208302,"post_id":74509774,"comment_id":131591685,"body_markdown":"The bug is there and is reproducible. I don’t know what you mean with “better code coverage” in this context. What you are asking for, is a way to hide the problem. It’s not clear, how this should help fixing the bug in any way. You should do the opposite, remove the `-noverify` option from the testcases, to demonstrate that the problem occurs in all versions. And again, you used the word “accepted” as if it was a matter of choice whether serious bugs like this have to be fixed. This is not a matter of opinion. You don’t have to beg for acceptance.","body":"The bug is there and is reproducible. I don’t know what you mean with “better code coverage” in this context. What you are asking for, is a way to hide the problem. It’s not clear, how this should help fixing the bug in any way. You should do the opposite, remove the <code>-noverify</code> option from the testcases, to demonstrate that the problem occurs in all versions. And again, you used the word “accepted” as if it was a matter of choice whether serious bugs like this have to be fixed. This is not a matter of opinion. You don’t have to beg for acceptance."},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1669227415,"post_id":74509774,"comment_id":131599069,"body_markdown":"There&#39;s no bug here. It&#39;s just that the stack map frames are not supported yet in bcel. And I may or may not do something about it.","body":"There&#39;s no bug here. It&#39;s just that the stack map frames are not supported yet in bcel. And I may or may not do something about it."},{"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"score":0,"creation_date":1669232607,"post_id":74509774,"comment_id":131600560,"body_markdown":"&quot;BCEL ought to automatically build and maintain the StackMapTable in a manner similar to the LineNumberTable and the LocalVariableTable. However, for historical reasons, it does not.&quot; http://plumelib.org/bcel-util/api/org/plumelib/bcelutil/StackMapUtils.html https://github.com/plume-lib/bcel-util/blob/master/src/main/java/org/plumelib/bcelutil/StackMapUtils.java","body":"&quot;BCEL ought to automatically build and maintain the StackMapTable in a manner similar to the LineNumberTable and the LocalVariableTable. However, for historical reasons, it does not.&quot; <a href=\"http://plumelib.org/bcel-util/api/org/plumelib/bcelutil/StackMapUtils.html\" rel=\"nofollow noreferrer\">plumelib.org/bcel-util/api/org/plumelib/bcelutil/&hellip;</a> <a href=\"https://github.com/plume-lib/bcel-util/blob/master/src/main/java/org/plumelib/bcelutil/StackMapUtils.java\" rel=\"nofollow noreferrer\">github.com/plume-lib/bcel-util/blob/master/src/main/java/org&zwnj;&#8203;/&hellip;</a>"}],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669035896,"creation_date":1668960834,"question_id":74509774,"body_markdown":"The project I&#39;m working on creates `.class` files that are not exactly the same as what produces JDK compiler. In particular, there&#39;s a part of the project that allows to programmatically create a .class file, and for testing, I take as input a compiler-generated class `A.class` and produce as output a `B.class` that is supposed to be almost the same. The `javap` outputs actually match except for indexes in the constant pool (they use the same constants but with different indexes).\r\n\r\nWhen I try to launch B.class with java command without `-noverify` option, I have the following error:\r\n\r\n    java.lang.VerifyError: Expecting a stackmap frame at branch target 70\r\n    Exception Details:\r\n      Location:\r\n        ...; @10: ifeq\r\n      Reason:\r\n        Expected stackmap frame at this location.\r\n\r\nIf I launch with `-noverify` option, the java command runs successfully, but I have this warning:\r\n\r\n    Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\r\n\r\nAlso there seems to be a new option AppCDS where classes are found in a shared archive in which no verification is performed. It seems a bit out of scope for my need. What combination of options will give me the same result as noverify ?\r\n\r\nI just have a unit test to run, for now I just disabled it for JDK 13+.\r\nTests run on CI on various JDKs from 8 to 17.","title":"Is there a replacement for deprecated options -Xverify:none and -noverify that were deprecated in JDK 13?","body":"<p>The project I'm working on creates <code>.class</code> files that are not exactly the same as what produces JDK compiler. In particular, there's a part of the project that allows to programmatically create a .class file, and for testing, I take as input a compiler-generated class <code>A.class</code> and produce as output a <code>B.class</code> that is supposed to be almost the same. The <code>javap</code> outputs actually match except for indexes in the constant pool (they use the same constants but with different indexes).</p>\n<p>When I try to launch B.class with java command without <code>-noverify</code> option, I have the following error:</p>\n<pre><code>java.lang.VerifyError: Expecting a stackmap frame at branch target 70\nException Details:\n  Location:\n    ...; @10: ifeq\n  Reason:\n    Expected stackmap frame at this location.\n</code></pre>\n<p>If I launch with <code>-noverify</code> option, the java command runs successfully, but I have this warning:</p>\n<pre><code>Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\n</code></pre>\n<p>Also there seems to be a new option AppCDS where classes are found in a shared archive in which no verification is performed. It seems a bit out of scope for my need. What combination of options will give me the same result as noverify ?</p>\n<p>I just have a unit test to run, for now I just disabled it for JDK 13+.\nTests run on CI on various JDKs from 8 to 17.</p>\n"},{"tags":["java","mysql","spring-boot","migration","flyway"],"comments":[{"owner":{"account_id":10929,"reputation":545317,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1668875862,"post_id":74501644,"comment_id":131514788,"body_markdown":"I found conflicting information on the Redgate site about which edition supports the undo command. One page says it is supported in Flyway for Teams, another page says it is supported in Flyway Enterprise. Either way, it seems it does not work in Flyway Community Edition.","body":"I found conflicting information on the Redgate site about which edition supports the undo command. One page says it is supported in Flyway for Teams, another page says it is supported in Flyway Enterprise. Either way, it seems it does not work in Flyway Community Edition."}],"answers":[{"tags":[],"owner":{"account_id":22130704,"reputation":11,"user_id":16382288,"display_name":"mrmarkymarkyk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669033895,"creation_date":1669031159,"answer_id":74518403,"question_id":74501644,"body_markdown":"Undo command is supported in both the [Teams and Enterprise edition][1] . Flyway Enterprise is the only version with auto generation of Undo scripts though. Bill, could you point me towards where the information is conflicting?\r\n\r\n\r\n  [1]: https://www.red-gate.com/products/flyway/editions","title":"How to undo a migration using Flyway?","body":"<p>Undo command is supported in both the <a href=\"https://www.red-gate.com/products/flyway/editions\" rel=\"nofollow noreferrer\">Teams and Enterprise edition</a> . Flyway Enterprise is the only version with auto generation of Undo scripts though. Bill, could you point me towards where the information is conflicting?</p>\n"},{"tags":[],"owner":{"account_id":23806171,"reputation":81,"user_id":17815671,"display_name":"L&#233;o Freitas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669035525,"creation_date":1669035525,"answer_id":74519347,"question_id":74501644,"body_markdown":"I find out a way to resolve this problem, I went to the FlyWay table and deleted the last row, when I ran the project the FlyWay applied the migration again.","title":"How to undo a migration using Flyway?","body":"<p>I find out a way to resolve this problem, I went to the FlyWay table and deleted the last row, when I ran the project the FlyWay applied the migration again.</p>\n"}],"owner":{"account_id":23806171,"reputation":81,"user_id":17815671,"display_name":"L&#233;o Freitas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3689,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1669035525,"creation_date":1668874614,"question_id":74501644,"body_markdown":"I am working on a Spring project and I have FlyWay as a dependency to manage my migrations, I made a mistake on the SQL command. When I ran the project I got an error showing a problem with the script, a silly mistake that was easy to fix, I misspelled a column name. However, the undo command from the flyway is not working.\r\n\r\nI was trying to undo a migration using FlyWay and I follow the tutorial from FlyWay documentation: [link-flyway](https://flywaydb.org/documentation/concepts/migrations#undo-migrations)\r\n\r\n#### However, I got this output:\r\n\r\n```bash\r\nC:\\Users\\leonardo.freitas\\Documents\\workspace\\api&gt;C:\\Users\\leonardo.freitas\\Documents\\workspace\\flyway-9.8.1\\flyway undo\r\nA new version of Flyway is available\r\nUpgrade to Flyway 9.8.2: https://rd.gt/2X0gakb\r\nERROR: The command &#39;undo&#39; was not recognized. Make sure you have added &#39;flyway-proprietary&#39; as a dependency.\r\nCaused by: No command extension found to handle command: undo\r\n```\r\n\r\n#### That&#39;s my migration history:\r\n\r\n```bash\r\nC:\\Users\\leonardo.freitas\\Documents\\workspace\\api&gt;C:\\Users\\leonardo.freitas\\Documents\\workspace\\flyway-9.8.1\\flyway info\r\nA new version of Flyway is available\r\nUpgrade to Flyway 9.8.2: https://rd.gt/2X0gakb\r\nFlyway Community Edition 9.8.1 by Redgate\r\nSee what&#39;s new here: https://flywaydb.org/documentation/learnmore/releaseNotes#9.8.1\r\n\r\nERROR: Skipping filesystem location: sql (not found)\r\nDatabase: jdbc:mysql://localhost:3306/volimed (MySQL 8.0)\r\nSchema version: 5\r\n\r\n+-----------+---------+----------------------------------------+------+---------------------+-----------------+----------+\r\n| Category  | Version | Description                            | Type | Installed On        | State           | Undoable |\r\n\r\nC:\\Users\\leonardo.freitas\\Documents\\workspace\\api&gt;C:\\Users\\leonardo.freitas\\Documents\\workspace\\flyway-9.8.1\\flyway info \r\nA new version of Flyway is available\r\nUpgrade to Flyway 9.8.2: https://rd.gt/2X0gakb\r\nFlyway Community Edition 9.8.1 by Redgate                                           \r\nSee what&#39;s new here: https://flywaydb.org/documentation/learnmore/releaseNotes#9.8.1\r\n\r\nERROR: Skipping filesystem location: sql (not found)\r\nDatabase: jdbc:mysql://localhost:3306/volimed (MySQL 8.0)\r\nSchema version: 5                                                                                                         \r\n                                                                                                                          \r\n+-----------+---------+----------------------------------------+------+---------------------+-----------------+----------+\r\n| Category  | Version | Description                            | Type | Installed On        | State           | Undoable |\r\n+-----------+---------+----------------------------------------+------+---------------------+-----------------+----------+\r\n| Versioned | 1       | create-table-medicos                   | SQL  | 2022-11-19 03:12:19 | Future          | No       |\r\n| Versioned | 2       | alter-table-medicos-add-telefone       | SQL  | 2022-11-19 13:32:45 | Future          | No       |\r\n| Versioned | 3       | create-table-pacientes                 | SQL  | 2022-11-19 13:46:17 | Future          | No       |\r\n| Versioned | 4       | alter-table-medicos-add-column-active  | SQL  | 2022-11-19 15:28:46 | Future          | No       |\r\n| Versioned | 5       | alter-table-paciente-add-column-active | SQL  | 2022-11-19 15:45:28 | Failed (Future) | No       |\r\n+-----------+---------+----------------------------------------+------+---------------------+-----------------+----------+\r\n```\r\n\r\n#### And I want to redu the last migration.","title":"How to undo a migration using Flyway?","body":"<p>I am working on a Spring project and I have FlyWay as a dependency to manage my migrations, I made a mistake on the SQL command. When I ran the project I got an error showing a problem with the script, a silly mistake that was easy to fix, I misspelled a column name. However, the undo command from the flyway is not working.</p>\n<p>I was trying to undo a migration using FlyWay and I follow the tutorial from FlyWay documentation: <a href=\"https://flywaydb.org/documentation/concepts/migrations#undo-migrations\" rel=\"nofollow noreferrer\">link-flyway</a></p>\n<h4>However, I got this output:</h4>\n<pre class=\"lang-bash prettyprint-override\"><code>C:\\Users\\leonardo.freitas\\Documents\\workspace\\api&gt;C:\\Users\\leonardo.freitas\\Documents\\workspace\\flyway-9.8.1\\flyway undo\nA new version of Flyway is available\nUpgrade to Flyway 9.8.2: https://rd.gt/2X0gakb\nERROR: The command 'undo' was not recognized. Make sure you have added 'flyway-proprietary' as a dependency.\nCaused by: No command extension found to handle command: undo\n</code></pre>\n<h4>That's my migration history:</h4>\n<pre class=\"lang-bash prettyprint-override\"><code>C:\\Users\\leonardo.freitas\\Documents\\workspace\\api&gt;C:\\Users\\leonardo.freitas\\Documents\\workspace\\flyway-9.8.1\\flyway info\nA new version of Flyway is available\nUpgrade to Flyway 9.8.2: https://rd.gt/2X0gakb\nFlyway Community Edition 9.8.1 by Redgate\nSee what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#9.8.1\n\nERROR: Skipping filesystem location: sql (not found)\nDatabase: jdbc:mysql://localhost:3306/volimed (MySQL 8.0)\nSchema version: 5\n\n+-----------+---------+----------------------------------------+------+---------------------+-----------------+----------+\n| Category  | Version | Description                            | Type | Installed On        | State           | Undoable |\n\nC:\\Users\\leonardo.freitas\\Documents\\workspace\\api&gt;C:\\Users\\leonardo.freitas\\Documents\\workspace\\flyway-9.8.1\\flyway info \nA new version of Flyway is available\nUpgrade to Flyway 9.8.2: https://rd.gt/2X0gakb\nFlyway Community Edition 9.8.1 by Redgate                                           \nSee what's new here: https://flywaydb.org/documentation/learnmore/releaseNotes#9.8.1\n\nERROR: Skipping filesystem location: sql (not found)\nDatabase: jdbc:mysql://localhost:3306/volimed (MySQL 8.0)\nSchema version: 5                                                                                                         \n                                                                                                                          \n+-----------+---------+----------------------------------------+------+---------------------+-----------------+----------+\n| Category  | Version | Description                            | Type | Installed On        | State           | Undoable |\n+-----------+---------+----------------------------------------+------+---------------------+-----------------+----------+\n| Versioned | 1       | create-table-medicos                   | SQL  | 2022-11-19 03:12:19 | Future          | No       |\n| Versioned | 2       | alter-table-medicos-add-telefone       | SQL  | 2022-11-19 13:32:45 | Future          | No       |\n| Versioned | 3       | create-table-pacientes                 | SQL  | 2022-11-19 13:46:17 | Future          | No       |\n| Versioned | 4       | alter-table-medicos-add-column-active  | SQL  | 2022-11-19 15:28:46 | Future          | No       |\n| Versioned | 5       | alter-table-paciente-add-column-active | SQL  | 2022-11-19 15:45:28 | Failed (Future) | No       |\n+-----------+---------+----------------------------------------+------+---------------------+-----------------+----------+\n</code></pre>\n<h4>And I want to redu the last migration.</h4>\n"},{"tags":["java","json","file"],"comments":[{"owner":{"account_id":1856264,"reputation":2950,"user_id":1681772,"display_name":"yellowB"},"score":0,"creation_date":1526605202,"post_id":50402343,"comment_id":87820449,"body_markdown":"Which library you are using in your code? Where is `org.json.simple.JSONObject` from?","body":"Which library you are using in your code? Where is <code>org.json.simple.JSONObject</code> from?"},{"owner":{"account_id":2788358,"reputation":571,"user_id":2399158,"accept_rate":64,"display_name":"user2399158"},"score":0,"creation_date":1526605236,"post_id":50402343,"comment_id":87820458,"body_markdown":"https://simplejson.readthedocs.io/en/latest/","body":"<a href=\"https://simplejson.readthedocs.io/en/latest/\" rel=\"nofollow noreferrer\">simplejson.readthedocs.io/en/latest</a>"},{"owner":{"account_id":1856264,"reputation":2950,"user_id":1681772,"display_name":"yellowB"},"score":0,"creation_date":1526605524,"post_id":50402343,"comment_id":87820518,"body_markdown":"the website you provided shows it is a python library. But your code is wriiten by Java?","body":"the website you provided shows it is a python library. But your code is wriiten by Java?"},{"owner":{"account_id":2788358,"reputation":571,"user_id":2399158,"accept_rate":64,"display_name":"user2399158"},"score":0,"creation_date":1526605710,"post_id":50402343,"comment_id":87820565,"body_markdown":"doesn&#39;t matter, just to let u know the library is from that company, so anyway to write the code?","body":"doesn&#39;t matter, just to let u know the library is from that company, so anyway to write the code?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1526605764,"post_id":50402343,"comment_id":87820579,"body_markdown":"visit https://jsonlint.com/ as see that the json you require is not valid.  It looks like you need an array","body":"visit <a href=\"https://jsonlint.com/\" rel=\"nofollow noreferrer\">jsonlint.com</a> as see that the json you require is not valid.  It looks like you need an array"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1526605805,"post_id":50402343,"comment_id":87820593,"body_markdown":"Also *It is not working* is not a valid description of what is wrong","body":"Also <i>It is not working</i> is not a valid description of what is wrong"}],"answers":[{"tags":[],"owner":{"account_id":1856264,"reputation":2950,"user_id":1681772,"display_name":"yellowB"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1526619686,"creation_date":1526606861,"answer_id":50402567,"question_id":50402343,"body_markdown":"## Update\r\nOh seems I forgot to post the original json file. Pls put the `student.json` with below content: (Need to wrap with `[` &amp; `]` to make it an array)\r\n\r\n    [{&quot;name&quot;:&quot;Mahesh&quot;,&quot;age&quot;:10}]\r\n\r\nBecause you can not just append objects to original object, it will violate JSON syntax, the way to make it correct is to put them into an array.\r\n\r\n## Original answer\r\n\r\nYou should change to use an array to store multiple objects. And use FileWriter to output.\r\n\r\nPls try this code, it works in my locl env:\r\n\r\n\r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;\r\n    \r\n    import org.json.simple.parser.JSONParser;\r\n    import org.json.simple.parser.ParseException;\r\n    \r\n    import java.io.*;\r\n    \r\n    public class JsonWritingProject {\r\n    \r\n        public static void main(String[] args) {\r\n            JSONParser jsonParser = new JSONParser();\r\n    \r\n            try {\r\n                Object obj = jsonParser.parse(new FileReader(&quot;D:\\\\student.json&quot;));\r\n                JSONArray jsonArray = (JSONArray)obj;\r\n    \r\n                System.out.println(jsonArray);\r\n    \r\n                JSONObject student1 = new JSONObject();\r\n                student1.put(&quot;name&quot;, &quot;BROCK&quot;);\r\n                student1.put(&quot;age&quot;, new Integer(3));\r\n    \r\n                JSONObject student2 = new JSONObject();\r\n                student2.put(&quot;name&quot;, &quot;Joe&quot;);\r\n                student2.put(&quot;age&quot;, new Integer(4));\r\n    \r\n                jsonArray.add(student1);\r\n                jsonArray.add(student2);\r\n    \r\n                System.out.println(jsonArray);\r\n    \r\n                FileWriter file = new FileWriter(&quot;D:\\\\student.json&quot;);\r\n                file.write(jsonArray.toJSONString());\r\n                file.flush();\r\n                file.close();\r\n                \r\n            } catch (ParseException | IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\nAnd the library dependency is:\r\n\r\n    dependencies {\r\n        compile group: &#39;com.googlecode.json-simple&#39;, name: &#39;json-simple&#39;, version: &#39;1.1&#39;\r\n    }\r\n\r\n","title":"How to append data on a existing Json file using Java?","body":"<h2>Update</h2>\n\n<p>Oh seems I forgot to post the original json file. Pls put the <code>student.json</code> with below content: (Need to wrap with <code>[</code> &amp; <code>]</code> to make it an array)</p>\n\n<pre><code>[{\"name\":\"Mahesh\",\"age\":10}]\n</code></pre>\n\n<p>Because you can not just append objects to original object, it will violate JSON syntax, the way to make it correct is to put them into an array.</p>\n\n<h2>Original answer</h2>\n\n<p>You should change to use an array to store multiple objects. And use FileWriter to output.</p>\n\n<p>Pls try this code, it works in my locl env:</p>\n\n<pre><code>import org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;\n\nimport org.json.simple.parser.JSONParser;\nimport org.json.simple.parser.ParseException;\n\nimport java.io.*;\n\npublic class JsonWritingProject {\n\n    public static void main(String[] args) {\n        JSONParser jsonParser = new JSONParser();\n\n        try {\n            Object obj = jsonParser.parse(new FileReader(\"D:\\\\student.json\"));\n            JSONArray jsonArray = (JSONArray)obj;\n\n            System.out.println(jsonArray);\n\n            JSONObject student1 = new JSONObject();\n            student1.put(\"name\", \"BROCK\");\n            student1.put(\"age\", new Integer(3));\n\n            JSONObject student2 = new JSONObject();\n            student2.put(\"name\", \"Joe\");\n            student2.put(\"age\", new Integer(4));\n\n            jsonArray.add(student1);\n            jsonArray.add(student2);\n\n            System.out.println(jsonArray);\n\n            FileWriter file = new FileWriter(\"D:\\\\student.json\");\n            file.write(jsonArray.toJSONString());\n            file.flush();\n            file.close();\n\n        } catch (ParseException | IOException e) {\n            e.printStackTrace();\n        }\n\n    }\n}\n</code></pre>\n\n<p>And the library dependency is:</p>\n\n<pre><code>dependencies {\n    compile group: 'com.googlecode.json-simple', name: 'json-simple', version: '1.1'\n}\n</code></pre>\n"}],"owner":{"account_id":2788358,"reputation":571,"user_id":2399158,"accept_rate":64,"display_name":"user2399158"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17714,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":50402567,"answer_count":1,"score":-1,"last_activity_date":1669035373,"creation_date":1526604882,"question_id":50402343,"body_markdown":"This is my current Json data in a Json file call **student.json**\r\n\r\n    {&quot;name&quot;:&quot;Mahesh&quot;,&quot;age&quot;:10}\r\n\r\nI want to Append to the following data, output should be like this\r\n\r\n    {&quot;name&quot;:&quot;Mahesh&quot;,&quot;age&quot;:10}, {&quot;name&quot;:&quot;BROCK&quot;,&quot;age&quot;:3}, {&quot;name&quot;:&quot;Joe&quot;,&quot;age&quot;:4}\r\n\r\n\r\nThis my current code\r\n\r\n    import org.json.simple.JSONArray;\r\n    import org.json.simple.JSONObject;  \r\n    \r\n    public class JsonWritingProject\r\n    {\r\n    \r\n    \tpublic static void main(String[] args)\r\n    \t{\r\n    \t\tJSONObject main = new JSONObject();\r\n    \t        \r\n            JsonParser jsonParser = new JsonParser();\r\n    \r\n            try\r\n    \t\t{\r\n    \t\t\tObject obj = jsonParser.parse(new FileReader(&quot;student.json&quot;));\r\n    \t\t\t\r\n    \t\t\tJSONObject jsonObject = (JSONObject) obj;\r\n    \t\t\t\r\n    \t\t\tjsonObject.put(&quot;BROCK&quot;, 3);\r\n    \t\t\tjsonObject.put(&quot;Joe&quot;, 4);\r\n    \t\t\tSystem.out.println(jsonObject.toString());\r\n    \t\t} catch (JsonIOException | JsonSyntaxException | FileNotFoundException e)\r\n    \t\t{\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\t\r\n    \t\t\r\n    \r\n    \t   } \r\n    \t\r\nIt is not working, what should I do? Please advise\r\n","title":"How to append data on a existing Json file using Java?","body":"<p>This is my current Json data in a Json file call <strong>student.json</strong></p>\n\n<pre><code>{\"name\":\"Mahesh\",\"age\":10}\n</code></pre>\n\n<p>I want to Append to the following data, output should be like this</p>\n\n<pre><code>{\"name\":\"Mahesh\",\"age\":10}, {\"name\":\"BROCK\",\"age\":3}, {\"name\":\"Joe\",\"age\":4}\n</code></pre>\n\n<p>This my current code</p>\n\n<pre><code>import org.json.simple.JSONArray;\nimport org.json.simple.JSONObject;  \n\npublic class JsonWritingProject\n{\n\n    public static void main(String[] args)\n    {\n        JSONObject main = new JSONObject();\n\n        JsonParser jsonParser = new JsonParser();\n\n        try\n        {\n            Object obj = jsonParser.parse(new FileReader(\"student.json\"));\n\n            JSONObject jsonObject = (JSONObject) obj;\n\n            jsonObject.put(\"BROCK\", 3);\n            jsonObject.put(\"Joe\", 4);\n            System.out.println(jsonObject.toString());\n        } catch (JsonIOException | JsonSyntaxException | FileNotFoundException e)\n        {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n\n\n\n       } \n</code></pre>\n\n<p>It is not working, what should I do? Please advise</p>\n"},{"tags":["java","loops","methods","return","division"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1669033718,"post_id":74518903,"comment_id":131543546,"body_markdown":"Why do you have a while loop at all? Why are you printing at all? If you&#39;re meant to return &quot;the number divided by two&quot; why are you doing *anything* other than returning the result of dividing the parameter by two? Hint: what *are* you returning at the moment? If you call `divideByTwo(8)`, what&#39;s the result?","body":"Why do you have a while loop at all? Why are you printing at all? If you&#39;re meant to return &quot;the number divided by two&quot; why are you doing <i>anything</i> other than returning the result of dividing the parameter by two? Hint: what <i>are</i> you returning at the moment? If you call <code>divideByTwo(8)</code>, what&#39;s the result?"}],"answers":[{"tags":[],"owner":{"account_id":23832769,"reputation":84,"user_id":17838848,"display_name":"Zero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669034562,"creation_date":1669033970,"answer_id":74518989,"question_id":74518903,"body_markdown":"The reason why you are getting 51 when you&#39;re entering 10 in the example is because it prints 10/2 = 5 and then it returns i which is 1. Then you are printing the method with parameter 10 which prints 5 in the method and then 1 as the return value. If you just want to divide the number by two, then all you need to write in the method is `return a/2;` and then just print the method `divideByTwo(a);`.","title":"how to make a method that divides the integer of the parameter with 2? (new to java)","body":"<p>The reason why you are getting 51 when you're entering 10 in the example is because it prints 10/2 = 5 and then it returns i which is 1. Then you are printing the method with parameter 10 which prints 5 in the method and then 1 as the return value. If you just want to divide the number by two, then all you need to write in the method is <code>return a/2;</code> and then just print the method <code>divideByTwo(a);</code>.</p>\n"},{"tags":[],"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669035125,"creation_date":1669035125,"answer_id":74519245,"question_id":74518903,"body_markdown":"You are out-thinking yourself.  The method has a simple purpose - divide the value provided by 2 and return that result.\r\n\r\n - remove the print statement - there is nothing to print\r\n - remove the loop and loop variable - there is nothing to loop over\r\n\r\nThat leaves you with...\r\n\r\n    public static int divideByTwo(int a) {\r\n      return a;\r\n    }\r\n\r\n... but we don&#39;t want `a` - we want `a` divided by 2.  You did the division in your print statement so do that division in the return statement and you are done.\r\n\r\n    public static int divideByTwo(int a) {\r\n      return a/2;\r\n    }\r\n\r\nThe answer was in you all along!\r\n","title":"how to make a method that divides the integer of the parameter with 2? (new to java)","body":"<p>You are out-thinking yourself.  The method has a simple purpose - divide the value provided by 2 and return that result.</p>\n<ul>\n<li>remove the print statement - there is nothing to print</li>\n<li>remove the loop and loop variable - there is nothing to loop over</li>\n</ul>\n<p>That leaves you with...</p>\n<pre><code>public static int divideByTwo(int a) {\n  return a;\n}\n</code></pre>\n<p>... but we don't want <code>a</code> - we want <code>a</code> divided by 2.  You did the division in your print statement so do that division in the return statement and you are done.</p>\n<pre><code>public static int divideByTwo(int a) {\n  return a/2;\n}\n</code></pre>\n<p>The answer was in you all along!</p>\n"}],"owner":{"account_id":26382046,"reputation":11,"user_id":20035146,"display_name":"Angela "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1669035125,"creation_date":1669033555,"question_id":74518903,"body_markdown":"Im supposed to write a method divideByTwo that takes an integer as a parameter and returns the number divided by 2. and i need to try to solve the problem with a single program statement in the method. I don&#39;t know how to fix the problem, i&#39;ve used modulo, while loop, changed the return value but still don&#39;t know what i am doing wrong. Any kind of help appreciated!\r\n\r\nthis is what i&#39;ve done so far:\r\n\r\n\r\n```\r\npublic static int divideByTwo(int a){\r\n    \r\n    \r\n    \r\n \r\n    \r\n    int i = 0;\r\n    \r\n    while(i &lt; 1){\r\n        System.out.print(a/2);\r\n        i++;\r\n        \r\n        \r\n    }\r\n     return a;   \r\n\r\n}\r\n```\r\n\r\n\r\n[expected output](https://i.stack.imgur.com/1yRuF.png)","title":"how to make a method that divides the integer of the parameter with 2? (new to java)","body":"<p>Im supposed to write a method divideByTwo that takes an integer as a parameter and returns the number divided by 2. and i need to try to solve the problem with a single program statement in the method. I don't know how to fix the problem, i've used modulo, while loop, changed the return value but still don't know what i am doing wrong. Any kind of help appreciated!</p>\n<p>this is what i've done so far:</p>\n<pre><code>public static int divideByTwo(int a){\n    \n    \n    \n \n    \n    int i = 0;\n    \n    while(i &lt; 1){\n        System.out.print(a/2);\n        i++;\n        \n        \n    }\n     return a;   \n\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/1yRuF.png\" rel=\"nofollow noreferrer\">expected output</a></p>\n"},{"tags":["java","azure-blob-storage"],"comments":[{"owner":{"account_id":2201149,"reputation":14423,"user_id":1945525,"display_name":"rickvdbosch"},"score":0,"creation_date":1669034017,"post_id":74518525,"comment_id":131543634,"body_markdown":"Hi and welcome to Stack Overflow. This is not a one-stop-code-shop, nor is it a place where you can dump code and hope someone fixes it. Please have a look at the [tour] and see if you can create a [mcve].","body":"Hi and welcome to Stack Overflow. This is not a one-stop-code-shop, nor is it a place where you can dump code and hope someone fixes it. Please have a look at the <a href=\"https://stackoverflow.com/tour\">tour</a> and see if you can create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":25323437,"reputation":5152,"user_id":19144428,"display_name":"Venkatesan"},"score":1,"creation_date":1669034553,"post_id":74518525,"comment_id":131543841,"body_markdown":"Mention the code in code format not in images.","body":"Mention the code in code format not in images."},{"owner":{"account_id":2201149,"reputation":14423,"user_id":1945525,"display_name":"rickvdbosch"},"score":0,"creation_date":1669034661,"post_id":74518525,"comment_id":131543879,"body_markdown":"Does this answer your question? https://stackoverflow.com/questions/60589689/the-exception-java-lang-nosuchmethoderror-thrown-when-invoking-azure-storage-rel","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60589689/the-exception-java-lang-nosuchmethoderror-thrown-when-invoking-azure-storage-rel\" title=\"the exception java lang nosuchmethoderror thrown when invoking azure storage rel\">stackoverflow.com/questions/60589689/&hellip;</a>"},{"owner":{"account_id":27001234,"reputation":17,"user_id":20562483,"display_name":"marshmellow"},"score":0,"creation_date":1669039699,"post_id":74518525,"comment_id":131545781,"body_markdown":"-no......Failed to read artifact descriptor for com.amazonaws:aws-java-sdk:jar:1.11.327:","body":"-no......Failed to read artifact descriptor for com.amazonaws:aws-java-sdk:jar:1.11.327:"}],"answers":[{"tags":[],"owner":{"account_id":25323437,"reputation":5152,"user_id":19144428,"display_name":"Venkatesan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669034697,"creation_date":1669034697,"answer_id":74519153,"question_id":74518525,"body_markdown":"**I tried in my environment and got below results:**\r\n\r\n**Code:**\r\n\r\n    package com.blobs.quickstart;\r\n    import com.azure.storage.blob.*;\r\n    \r\n    import  com.azure.storage.blob.BlobServiceClient;\r\n    public  class  App\r\n    {\r\n    public  static  void  main( String[] args )\r\n    \r\n    {\r\n    \r\n    String  connectStr = &quot;&lt; Connection string&gt;&quot;;\r\n    BlobServiceClient  blobServiceClient = new  BlobServiceClientBuilder().connectionString(connectStr).buildClient();\r\n    String  containerName = &quot;test&quot;;\r\n    BlobContainerClient  containerClient = blobServiceClient.getBlobContainerClient(containerName);\r\n    String  localPath = &quot;C:\\\\Users\\\\v-vsettu\\\\Documents\\\\Venkat\\\\barcode.docx&quot;;\r\n    BlobClient  blobClient = containerClient.getBlobClient(&quot;barcode.docx&quot;);\r\n    blobClient.uploadFromFile(localPath);\r\n    System.out.println(&quot;File uploaded!!!!&quot;);\r\n    }\r\n    }\r\n\r\n\r\nPlease follow the [MS-DOCS](https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell,managed-identity,roles-azure-portal,sign-in-azure-cli) to start java with azure blob storage. you will get pom.xml using document instruction.\r\n\r\n**Pom.xml:**\r\nIn pom.xml file you need add the dependency:\r\n\r\n    &lt;dependency&gt;\r\n           &lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n           &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n          &lt;version&gt;12.10.0&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\n**Console:(pom.xml)** \r\n\r\n![enter image description here](https://i.stack.imgur.com/Qy3WI.png)\r\n\r\n**Console(Output):**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**Portal:**\r\n![enter image description here](https://i.stack.imgur.com/qZnSj.png)\r\nIn portal the local file is uploaded successfully to azure blob storage portal.\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wAdLg.png","title":"Problem while uploading from local to blob storage","body":"<p><strong>I tried in my environment and got below results:</strong></p>\n<p><strong>Code:</strong></p>\n<pre><code>package com.blobs.quickstart;\nimport com.azure.storage.blob.*;\n\nimport  com.azure.storage.blob.BlobServiceClient;\npublic  class  App\n{\npublic  static  void  main( String[] args )\n\n{\n\nString  connectStr = &quot;&lt; Connection string&gt;&quot;;\nBlobServiceClient  blobServiceClient = new  BlobServiceClientBuilder().connectionString(connectStr).buildClient();\nString  containerName = &quot;test&quot;;\nBlobContainerClient  containerClient = blobServiceClient.getBlobContainerClient(containerName);\nString  localPath = &quot;C:\\\\Users\\\\v-vsettu\\\\Documents\\\\Venkat\\\\barcode.docx&quot;;\nBlobClient  blobClient = containerClient.getBlobClient(&quot;barcode.docx&quot;);\nblobClient.uploadFromFile(localPath);\nSystem.out.println(&quot;File uploaded!!!!&quot;);\n}\n}\n</code></pre>\n<p>Please follow the <a href=\"https://learn.microsoft.com/en-us/azure/storage/blobs/storage-quickstart-blobs-java?tabs=powershell,managed-identity,roles-azure-portal,sign-in-azure-cli\" rel=\"nofollow noreferrer\">MS-DOCS</a> to start java with azure blob storage. you will get pom.xml using document instruction.</p>\n<p><strong>Pom.xml:</strong>\nIn pom.xml file you need add the dependency:</p>\n<pre><code>&lt;dependency&gt;\n       &lt;groupId&gt;com.azure&lt;/groupId&gt;\n       &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n      &lt;version&gt;12.10.0&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p><strong>Console:(pom.xml)</strong></p>\n<p><img src=\"https://i.stack.imgur.com/Qy3WI.png\" alt=\"enter image description here\" /></p>\n<p><strong>Console(Output):</strong></p>\n<p><a href=\"https://i.stack.imgur.com/wAdLg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wAdLg.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Portal:</strong>\n<img src=\"https://i.stack.imgur.com/qZnSj.png\" alt=\"enter image description here\" />\nIn portal the local file is uploaded successfully to azure blob storage portal.</p>\n"}],"owner":{"account_id":27001234,"reputation":17,"user_id":20562483,"display_name":"marshmellow"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669034697,"creation_date":1669031785,"question_id":74518525,"body_markdown":"I tried to copy a file from local to blob storage but its showing error in a specific line which I&#39;m not able to figure out.\r\n\r\nHere&#39;s the code:\r\n\r\n```java\r\nBlobServiceClient blobServiceClient = new BlobServiceClientBuilder().connectionString(connectStr).buildClient();\r\nString containerName = &quot;test-db&quot;;\r\n\r\nBlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(containerName);\r\n\r\nBlobClient blobClient = containerClient.getBlobClient(values);\r\n\r\nSystem.out.println(&quot;\\nUploading to Blob storage as blob:\\n\\t&quot; + blobClient.getUrl());\r\nblobClient.uploadFromFile(localPath+values);\r\n```\r\n\r\nAnd this is the message I get:\r\n\r\n[![Error message](https://i.stack.imgur.com/YrUcT.png)](https://i.stack.imgur.com/YrUcT.png)","title":"Problem while uploading from local to blob storage","body":"<p>I tried to copy a file from local to blob storage but its showing error in a specific line which I'm not able to figure out.</p>\n<p>Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BlobServiceClient blobServiceClient = new BlobServiceClientBuilder().connectionString(connectStr).buildClient();\nString containerName = &quot;test-db&quot;;\n\nBlobContainerClient containerClient = blobServiceClient.getBlobContainerClient(containerName);\n\nBlobClient blobClient = containerClient.getBlobClient(values);\n\nSystem.out.println(&quot;\\nUploading to Blob storage as blob:\\n\\t&quot; + blobClient.getUrl());\nblobClient.uploadFromFile(localPath+values);\n</code></pre>\n<p>And this is the message I get:</p>\n<p><a href=\"https://i.stack.imgur.com/YrUcT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YrUcT.png\" alt=\"Error message\" /></a></p>\n"},{"tags":["java","assertion"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":1,"creation_date":1669029446,"post_id":74518037,"comment_id":131542071,"body_markdown":"&quot;comparing the byte arrays file&quot; =&gt; what do you mean?","body":"&quot;comparing the byte arrays file&quot; =&gt; what do you mean?"},{"owner":{"account_id":14488222,"reputation":71,"user_id":10465401,"display_name":"Shakesbeer"},"score":0,"creation_date":1669033638,"post_id":74518037,"comment_id":131543515,"body_markdown":"@assylias sry that was a typo.","body":"@assylias sry that was a typo."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":1,"creation_date":1669033816,"post_id":74518037,"comment_id":131543574,"body_markdown":"I&#39;d suggest using a tool that can show you a hash or checksum of each file... my guess is that they really are different, maybe just by line breaks (CRLF vs LF)","body":"I&#39;d suggest using a tool that can show you a hash or checksum of each file... my guess is that they really are different, maybe just by line breaks (CRLF vs LF)"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1669033857,"post_id":74518037,"comment_id":131543589,"body_markdown":"Your line-by-line comparison code has an obvious flaw: it fails to report if one file is a subset of the other. e.g. If one file has a single line and the other is blank, the while-loop will never execute.","body":"Your line-by-line comparison code has an obvious flaw: it fails to report if one file is a subset of the other. e.g. If one file has a single line and the other is blank, the while-loop will never execute."},{"owner":{"account_id":2663825,"reputation":21876,"user_id":2302862,"accept_rate":100,"display_name":"Siguza"},"score":0,"creation_date":1669033979,"post_id":74518037,"comment_id":131543620,"body_markdown":"Iterate over the array contents and print any index and bytes that are different (after making sure the lengths are equal).","body":"Iterate over the array contents and print any index and bytes that are different (after making sure the lengths are equal)."},{"owner":{"account_id":14488222,"reputation":71,"user_id":10465401,"display_name":"Shakesbeer"},"score":0,"creation_date":1669036025,"post_id":74518037,"comment_id":131544425,"body_markdown":"Indeed @Jon Skeet, they just differ by single line break","body":"Indeed @Jon Skeet, they just differ by single line break"}],"answers":[{"tags":[],"owner":{"account_id":150703,"reputation":5062,"user_id":364082,"accept_rate":63,"display_name":"Woody"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669034485,"creation_date":1669034485,"answer_id":74519104,"question_id":74518037,"body_markdown":"ReadAllBytes will do what it says, it will read all bytes in the file, including the byte order marker (BOM) of a unicode file.\r\nYou are almost certainly reading this. \r\n\r\nhttps://en.wikipedia.org/wiki/Byte_order_mark\r\n\r\nTo ensure the files are the same, look at them in a binary file editor and see if they are the same","title":"Java: readAllBytes reads metadata?","body":"<p>ReadAllBytes will do what it says, it will read all bytes in the file, including the byte order marker (BOM) of a unicode file.\nYou are almost certainly reading this.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Byte_order_mark</a></p>\n<p>To ensure the files are the same, look at them in a binary file editor and see if they are the same</p>\n"}],"owner":{"account_id":14488222,"reputation":71,"user_id":10465401,"display_name":"Shakesbeer"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669034635,"creation_date":1669029234,"question_id":74518037,"body_markdown":"I&#39;m comparing the content of two files as follows:\r\n\r\n    byte[] expectedContent = Files.readAllBytes(expectedPath);\r\n\tbyte[] generatedContent = Files.readAllBytes(generatedPath);\r\n    Assertions.assertTrue(Arrays.equals(expectedContent, generatedContent), &quot;Content not equal)\r\n\r\nIntelliJ show that both files are identical (also with regards to white-space, formatting etc)\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlso comparing line by line works fine.\r\n\r\n    Scanner input1  = new Scanner(new File(expectedPath.toString()));\r\n\tScanner input2  = new Scanner(new File(generatedPath.toString()));\r\n\twhile(input1.hasNextLine() &amp;&amp; input2.hasNextLine()){\r\n\t\tString first = input1.nextLine();\r\n\t\tString second = input2.nextLine();\r\n\r\n\t\tAssertions.assertTrue(first.equals(second), &quot;Differences found: &quot;+&quot;\\n&quot;+first+&#39;\\n&#39;+second);\r\n\t}\r\n\r\nHowever, comparing the byte arrays (`expectedContent` and `generatedContent`) fails. Why is that? Does `readAllBytes` read some metadata?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LNbY5.png","title":"Java: readAllBytes reads metadata?","body":"<p>I'm comparing the content of two files as follows:</p>\n<pre><code>byte[] expectedContent = Files.readAllBytes(expectedPath);\nbyte[] generatedContent = Files.readAllBytes(generatedPath);\nAssertions.assertTrue(Arrays.equals(expectedContent, generatedContent), &quot;Content not equal)\n</code></pre>\n<p>IntelliJ show that both files are identical (also with regards to white-space, formatting etc)</p>\n<p><a href=\"https://i.stack.imgur.com/LNbY5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LNbY5.png\" alt=\"enter image description here\" /></a></p>\n<p>Also comparing line by line works fine.</p>\n<pre><code>Scanner input1  = new Scanner(new File(expectedPath.toString()));\nScanner input2  = new Scanner(new File(generatedPath.toString()));\nwhile(input1.hasNextLine() &amp;&amp; input2.hasNextLine()){\n    String first = input1.nextLine();\n    String second = input2.nextLine();\n\n    Assertions.assertTrue(first.equals(second), &quot;Differences found: &quot;+&quot;\\n&quot;+first+'\\n'+second);\n}\n</code></pre>\n<p>However, comparing the byte arrays (<code>expectedContent</code> and <code>generatedContent</code>) fails. Why is that? Does <code>readAllBytes</code> read some metadata?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669035127,"post_id":74519129,"comment_id":131544086,"body_markdown":"Dumping 2 links in the body, with a large title trying to be a question. Please read https://stackoverflow.com/help/how-to-ask on how to properly ask a question.","body":"Dumping 2 links in the body, with a large title trying to be a question. Please read <a href=\"https://stackoverflow.com/help/how-to-ask\">stackoverflow.com/help/how-to-ask</a> on how to properly ask a question."},{"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"score":0,"creation_date":1669037811,"post_id":74519129,"comment_id":131545063,"body_markdown":"This is empty array, meaning no records. This is not really empty body.","body":"This is empty array, meaning no records. This is not really empty body."}],"owner":{"account_id":26760531,"reputation":11,"user_id":20395207,"display_name":"Rishabh Singh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1669034594,"creation_date":1669034594,"question_id":74519129,"body_markdown":"[[enter image description here](https://i.stack.imgur.com/HzWlC.png)](https://i.stack.imgur.com/ednDZ.png)\r\n\r\n\r\n","title":"Getting 200 response with empty body in postman and in my spring boot it is giving Fetching Admin_user location whenever i hit get request in postman","body":"<p>[<a href=\"https://i.stack.imgur.com/HzWlC.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/ednDZ.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ednDZ.png</a>)</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1669034946,"post_id":74519126,"comment_id":131544003,"body_markdown":"the idea is correct. how is it not working? do you get an error? do you just not get any results? what is the result of running the query in your database client?","body":"the idea is correct. how is it not working? do you get an error? do you just not get any results? what is the result of running the query in your database client?"},{"owner":{"account_id":14989806,"reputation":11,"user_id":10821328,"display_name":"Jamal Harb"},"score":0,"creation_date":1669035870,"post_id":74519126,"comment_id":131544363,"body_markdown":"@TomElias I don&#39;t get a reasonable result. On browser, I get nested objects and in STS console I get this\n[31mERROR[0;39m [35m4308[0;39m [2m---[0;39m [2m[nio-8080-exec-5][0;39m [36ms.e.ErrorMvcAutoConfiguration$StaticView[0;39m [2m:[0;39m Cannot render error page for request [/halls/search] and exception [Could not write JSON: Infinite recursion (StackOverflowError); nested exception ... and way to many text.","body":"@TomElias I don&#39;t get a reasonable result. On browser, I get nested objects and in STS console I get this [31mERROR[0;39m [35m4308[0;39m [2m---[0;39m [2m[nio-8080-exec-5][0;39m [36ms.e.ErrorMvcAutoConfiguration$StaticView[0;39m [2m:[0;39m Cannot render error page for request [/halls/search] and exception [Could not write JSON: Infinite recursion (StackOverflowError); nested exception ... and way to many text."},{"owner":{"account_id":25121309,"reputation":1105,"user_id":18969611,"display_name":"void void"},"score":0,"creation_date":1669037971,"post_id":74519126,"comment_id":131545129,"body_markdown":"@JamalHarb You are probably returning entities in your controller. `Hall` has a reference to `City` and `City` has a reference to `Hall` which causes an infinite mapping recursion.","body":"@JamalHarb You are probably returning entities in your controller. <code>Hall</code> has a reference to <code>City</code> and <code>City</code> has a reference to <code>Hall</code> which causes an infinite mapping recursion."},{"owner":{"account_id":14989806,"reputation":11,"user_id":10821328,"display_name":"Jamal Harb"},"score":0,"creation_date":1669039295,"post_id":74519126,"comment_id":131545642,"body_markdown":"@voidvoid Not really. The references are for one to many relationship.","body":"@voidvoid Not really. The references are for one to many relationship."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669039300,"post_id":74519126,"comment_id":131545646,"body_markdown":"Ditch that method and use the criteria API instead, this is pretty easy with Spring Data and its `Predicate` interface. That way you can build a dynamic query based on the input. Instead of trying to shoehorn it all into a single query with a bunch of conditionals.","body":"Ditch that method and use the criteria API instead, this is pretty easy with Spring Data and its <code>Predicate</code> interface. That way you can build a dynamic query based on the input. Instead of trying to shoehorn it all into a single query with a bunch of conditionals."},{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":0,"creation_date":1669043028,"post_id":74519126,"comment_id":131547072,"body_markdown":"Hall should not have a reference to his City. that is bad design in relational data.\nyou can have a &quot;connection table&quot; with columns city ID, Hall ID","body":"Hall should not have a reference to his City. that is bad design in relational data. you can have a &quot;connection table&quot; with columns city ID, Hall ID"},{"owner":{"account_id":14989806,"reputation":11,"user_id":10821328,"display_name":"Jamal Harb"},"score":0,"creation_date":1669057452,"post_id":74519126,"comment_id":131552052,"body_markdown":"@TomElias By &quot;connection table&quot; do you mean an intermediate table? I think you do that if the relationship is many to many. Can you elaborate more?","body":"@TomElias By &quot;connection table&quot; do you mean an intermediate table? I think you do that if the relationship is many to many. Can you elaborate more?"},{"owner":{"account_id":14989806,"reputation":11,"user_id":10821328,"display_name":"Jamal Harb"},"score":0,"creation_date":1669057887,"post_id":74519126,"comment_id":131552177,"body_markdown":"And by the way, I added @JsonIgnore to both classes and now the query works fine. I&#39;m not quite sure what it has to do with the solution.","body":"And by the way, I added @JsonIgnore to both classes and now the query works fine. I&#39;m not quite sure what it has to do with the solution."}],"owner":{"account_id":14989806,"reputation":11,"user_id":10821328,"display_name":"Jamal Harb"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669125756,"answer_count":0,"score":0,"last_activity_date":1669034572,"creation_date":1669034572,"question_id":74519126,"body_markdown":"`Hall.java`\r\n\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;halls&quot;)\r\npublic class Hall {\r\n\t@Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\t\r\n\t@NotEmpty(message = &quot;Hall name should be provided.&quot;)\r\n\tprivate String name;\r\n\t\r\n\t@NotNull\r\n\t@Min(value = 1, message = &quot;Price must be greater than zero.&quot;)\r\n\tprivate Integer basicPrice;\r\n\t\r\n\t@NotNull\r\n\t@Min(value = 1, message = &quot;capacity must be greater than zero.&quot;)\r\n\tprivate Integer capacity;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n\t@JoinColumn(name = &quot;city_id&quot;)\r\n\tprivate City city;\r\n\r\n    // Other fields, constructor, getters and setters removed\r\n}\r\n```\r\n\r\n`City.java`\r\n\r\n```\r\n@Entity\r\n@Table(name=&quot;cities&quot;)\r\npublic class City {\r\n\t@Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\t\r\n\t@NotNull\r\n\tprivate String cityName;\r\n\t\r\n\t@OneToMany(mappedBy=&quot;city&quot;, fetch=FetchType.LAZY)\r\n\tprivate List&lt;Hall&gt; halls;\r\n\r\n    // Other fields, constructor, getters and setters removed\r\n}\r\n```\r\n\r\nI would like to let a user search halls based on filters in the front end. If a user passes a city it should return halls in that city regardless of price and capacity. The user can also search for halls with prices in a range. I have tried the following\r\n\r\n`HallRepo.java` \r\n\r\n```\r\n@Repository\r\npublic interface HallRepo extends CrudRepository&lt;Hall, Long&gt; {\r\n\t\r\n\t@Query(value = &quot;SELECT * FROM halls JOIN cities ON cities.id = halls.city_id WHERE &quot;\r\n\t\t\t+ &quot;(cities.city_name = :cityName OR :cityName IS null) &quot;\r\n\t\t\t+ &quot;AND (halls.basic_price BETWEEN :minP AND :maxP OR (:minP IS null AND :maxP IS null)) &quot;\r\n\t\t\t+ &quot;AND (halls.capacity BETWEEN :minC AND :maxC OR (:minC IS null AND :maxC IS null))&quot;,\r\n\t\t\tnativeQuery = true)\r\n\tList&lt;Hall&gt; findByQuery(\r\n\t\t\t@Param(&quot;cityName&quot;) String cityName,\r\n\t\t\t@Param(&quot;minP&quot;) Integer minPrice,\r\n\t\t\t@Param(&quot;maxP&quot;) Integer maxPrice,\r\n\t\t\t@Param(&quot;minC&quot;) Integer minCapacity,\r\n\t\t\t@Param(&quot;maxC&quot;) Integer maxCapacity);\r\n}\r\n```\r\nIt&#39;s not Working. How to do it?","title":"spring boot - query on a subset of parameters - ingore parameters not passed in front end","body":"<p><code>Hall.java</code></p>\n<pre><code>@Entity\n@Table(name=&quot;halls&quot;)\npublic class Hall {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @NotEmpty(message = &quot;Hall name should be provided.&quot;)\n    private String name;\n    \n    @NotNull\n    @Min(value = 1, message = &quot;Price must be greater than zero.&quot;)\n    private Integer basicPrice;\n    \n    @NotNull\n    @Min(value = 1, message = &quot;capacity must be greater than zero.&quot;)\n    private Integer capacity;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;city_id&quot;)\n    private City city;\n\n    // Other fields, constructor, getters and setters removed\n}\n</code></pre>\n<p><code>City.java</code></p>\n<pre><code>@Entity\n@Table(name=&quot;cities&quot;)\npublic class City {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    \n    @NotNull\n    private String cityName;\n    \n    @OneToMany(mappedBy=&quot;city&quot;, fetch=FetchType.LAZY)\n    private List&lt;Hall&gt; halls;\n\n    // Other fields, constructor, getters and setters removed\n}\n</code></pre>\n<p>I would like to let a user search halls based on filters in the front end. If a user passes a city it should return halls in that city regardless of price and capacity. The user can also search for halls with prices in a range. I have tried the following</p>\n<p><code>HallRepo.java</code></p>\n<pre><code>@Repository\npublic interface HallRepo extends CrudRepository&lt;Hall, Long&gt; {\n    \n    @Query(value = &quot;SELECT * FROM halls JOIN cities ON cities.id = halls.city_id WHERE &quot;\n            + &quot;(cities.city_name = :cityName OR :cityName IS null) &quot;\n            + &quot;AND (halls.basic_price BETWEEN :minP AND :maxP OR (:minP IS null AND :maxP IS null)) &quot;\n            + &quot;AND (halls.capacity BETWEEN :minC AND :maxC OR (:minC IS null AND :maxC IS null))&quot;,\n            nativeQuery = true)\n    List&lt;Hall&gt; findByQuery(\n            @Param(&quot;cityName&quot;) String cityName,\n            @Param(&quot;minP&quot;) Integer minPrice,\n            @Param(&quot;maxP&quot;) Integer maxPrice,\n            @Param(&quot;minC&quot;) Integer minCapacity,\n            @Param(&quot;maxC&quot;) Integer maxCapacity);\n}\n</code></pre>\n<p>It's not Working. How to do it?</p>\n"},{"tags":["java","arrays","sorting","input","output"],"comments":[{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1669032924,"post_id":74518684,"comment_id":131543293,"body_markdown":"The code is stopping to take inputs, it&#39;s just that you print the &quot;Enter the number...&quot; message only once so you think it&#39;s not (but it is).","body":"The code is stopping to take inputs, it&#39;s just that you print the &quot;Enter the number...&quot; message only once so you think it&#39;s not (but it is)."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1669033005,"post_id":74518684,"comment_id":131543319,"body_markdown":"As for the size, arrays are initialized with a size and you can&#39;t resize them (not without creating a new array and copying the previous values into it). If you want to dynamically size your collection, you should use something like a List","body":"As for the size, arrays are initialized with a size and you can&#39;t resize them (not without creating a new array and copying the previous values into it). If you want to dynamically size your collection, you should use something like a List"}],"answers":[{"tags":[],"owner":{"account_id":19742037,"reputation":602,"user_id":14455278,"display_name":"FilipA"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1669034211,"creation_date":1669034211,"answer_id":74519049,"question_id":74518684,"body_markdown":"I think you missed the closure of the first `for() loop`. And also you had some indexing issues.\r\n\r\nI checked and fixed the code. Please compare it with your current code and learn from it.\r\n\r\n    import java.util.*;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            System.out.print(&quot;Enter the size of array: &quot;);\r\n            int n = sc.nextInt();\r\n            int arr[] = new int[n];\r\n    \r\n            System.out.print(&quot;Enter the elements of array: &quot;);\r\n            for (int i = 0; i &lt; n; i++) {\r\n                arr[i] = sc.nextInt();\r\n            }\r\n    \r\n            int idx = 0;\r\n            int ans[] = new int[n];\r\n            for (int i = 0; i &lt; n; i++) {\r\n                if (arr[i] &gt;= 0) {\r\n                    ans[idx] = arr[i];\r\n                    idx++;\r\n                }\r\n            }\r\n    \r\n            for (int i = 0; i &lt; arr.length; i++) {\r\n                if (arr[i] &lt; 0) {\r\n                    ans[idx] = arr[i];\r\n                    idx++;\r\n                }\r\n            }\r\n            for (int k = 0; k &lt; n; k++) {\r\n                System.out.print(ans[k] + &quot; &quot;);\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n","title":"Why array showing blank output?","body":"<p>I think you missed the closure of the first <code>for() loop</code>. And also you had some indexing issues.</p>\n<p>I checked and fixed the code. Please compare it with your current code and learn from it.</p>\n<pre><code>import java.util.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter the size of array: &quot;);\n        int n = sc.nextInt();\n        int arr[] = new int[n];\n\n        System.out.print(&quot;Enter the elements of array: &quot;);\n        for (int i = 0; i &lt; n; i++) {\n            arr[i] = sc.nextInt();\n        }\n\n        int idx = 0;\n        int ans[] = new int[n];\n        for (int i = 0; i &lt; n; i++) {\n            if (arr[i] &gt;= 0) {\n                ans[idx] = arr[i];\n                idx++;\n            }\n        }\n\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (arr[i] &lt; 0) {\n                ans[idx] = arr[i];\n                idx++;\n            }\n        }\n        for (int k = 0; k &lt; n; k++) {\n            System.out.print(ans[k] + &quot; &quot;);\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26431266,"reputation":11,"user_id":20077393,"display_name":"Uday Deshmukh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74519049,"answer_count":1,"score":0,"last_activity_date":1669034211,"creation_date":1669032621,"question_id":74518684,"body_markdown":"```\r\nimport java.util.*;\r\n\r\npublic class javabasics {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter the size of array: &quot;);\r\n        int n = sc.nextInt();\r\n        int arr[] = new int[n];\r\n\r\n        System.out.print(&quot;Enter the elements of array: &quot;);\r\n        for (int i = 0; i &lt; n; i++) {\r\n            arr[i] = sc.nextInt();\r\n        }\r\n\r\n        int idx = 0;\r\n        int ans[] = new int[n];\r\n        for (int i = 0; i &lt; n; i++) {\r\n            if (arr[i] &gt;= 0) {\r\n                ans[idx] = arr[i];\r\n                idx++;\r\n            }\r\n            for (int j = 0; j &lt; n; j++) {\r\n                if (arr[i] &lt; 0) {\r\n                    ans[idx] = arr[i];\r\n                    idx++;\r\n                }\r\n            }\r\n            for (int k = 0; k &lt; n; k++) {\r\n                System.out.print(ans[i] + &quot; &quot;);\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe Question is :\r\nGiven an unsorted array arr[] of size N having both negative and positive integers, place \r\n all negative elements at the end of array without changing the order of positive elements \r\n and negative elements.\r\nInput :\r\n\r\nN = 8\r\n\r\narr[] = {1, -1, 3, 2, -7, -5, 11, 6 }\r\n\r\nOutput :\r\n\r\n1 3 2 11 6 -1 -7 -5\r\n\r\n-----------------------------------------------------------------------------------------------------\r\nthe code is not stoping to take input from the code and if i want to add greater than the size of array it bounces what should i do ?  ","title":"Why array showing blank output?","body":"<pre><code>import java.util.*;\n\npublic class javabasics {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter the size of array: &quot;);\n        int n = sc.nextInt();\n        int arr[] = new int[n];\n\n        System.out.print(&quot;Enter the elements of array: &quot;);\n        for (int i = 0; i &lt; n; i++) {\n            arr[i] = sc.nextInt();\n        }\n\n        int idx = 0;\n        int ans[] = new int[n];\n        for (int i = 0; i &lt; n; i++) {\n            if (arr[i] &gt;= 0) {\n                ans[idx] = arr[i];\n                idx++;\n            }\n            for (int j = 0; j &lt; n; j++) {\n                if (arr[i] &lt; 0) {\n                    ans[idx] = arr[i];\n                    idx++;\n                }\n            }\n            for (int k = 0; k &lt; n; k++) {\n                System.out.print(ans[i] + &quot; &quot;);\n            }\n\n        }\n    }\n}\n\n</code></pre>\n<p>The Question is :\nGiven an unsorted array arr[] of size N having both negative and positive integers, place\nall negative elements at the end of array without changing the order of positive elements\nand negative elements.\nInput :</p>\n<p>N = 8</p>\n<p>arr[] = {1, -1, 3, 2, -7, -5, 11, 6 }</p>\n<p>Output :</p>\n<p>1 3 2 11 6 -1 -7 -5</p>\n<hr />\n<p>the code is not stoping to take input from the code and if i want to add greater than the size of array it bounces what should i do ?</p>\n"},{"tags":["java","annotations","code-formatting","conventions"],"comments":[{"owner":{"account_id":136944,"reputation":680,"user_id":340810,"accept_rate":75,"display_name":"somid3"},"score":1,"creation_date":1302627189,"post_id":5638312,"comment_id":6428018,"body_markdown":"alphabetical, or in reverse hex order =)","body":"alphabetical, or in reverse hex order =)"}],"answers":[{"tags":[],"owner":{"account_id":114991,"reputation":69738,"user_id":302139,"accept_rate":75,"display_name":"Edwin Buck"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1302624704,"creation_date":1302624704,"answer_id":5638349,"question_id":5638312,"body_markdown":"If you must impose an order, alphabetical?\r\n\r\nWithout some sort of knowledge about the annotations you are using, it&#39;s hard to suggest a rational ordering.  Perhaps a better ordering would suit you and your team better; and if so, if you document what&#39;s the agreed order, the only thing left is to verify it follows the team agreed ordering.\r\n\r\nAfter talking to your whole team, you might find you don&#39;t need to order them after all.","title":"Are there any conventions for how to order Java annotations?","body":"<p>If you must impose an order, alphabetical?</p>\n\n<p>Without some sort of knowledge about the annotations you are using, it's hard to suggest a rational ordering.  Perhaps a better ordering would suit you and your team better; and if so, if you document what's the agreed order, the only thing left is to verify it follows the team agreed ordering.</p>\n\n<p>After talking to your whole team, you might find you don't need to order them after all.</p>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1669034195,"creation_date":1302624881,"answer_id":5638388,"question_id":5638312,"body_markdown":"I&#39;m going to say there&#39;s not. I could be proven wrong on this.\r\n\r\nMy reasoning is there are hundreds of projects that have annotations, in addition to the ones baked into Java, and the ones baked into our IDEs (specifically Eclipse but I&#39;m sure others have them too.)\r\n\r\nSo, with all these libraries potentially competitng for &quot;whose on top&quot; I doubt they would agree on a standard.\r\n\r\nI would encourage your team to sit down and make decisions about what&#39;s best for you guys.\r\n\r\nFactors I would consider:\r\n\r\n 1. Which annotations are most important? They should be near the top.\r\n 2. Which annotations are most likely to be indicative of potential bugs? They should be near the top.\r\n 3. Which annotations are likely to be on every method in the class? They should be near the bottom.","title":"Are there any conventions for how to order Java annotations?","body":"<p>I'm going to say there's not. I could be proven wrong on this.</p>\n<p>My reasoning is there are hundreds of projects that have annotations, in addition to the ones baked into Java, and the ones baked into our IDEs (specifically Eclipse but I'm sure others have them too.)</p>\n<p>So, with all these libraries potentially competitng for &quot;whose on top&quot; I doubt they would agree on a standard.</p>\n<p>I would encourage your team to sit down and make decisions about what's best for you guys.</p>\n<p>Factors I would consider:</p>\n<ol>\n<li>Which annotations are most important? They should be near the top.</li>\n<li>Which annotations are most likely to be indicative of potential bugs? They should be near the top.</li>\n<li>Which annotations are likely to be on every method in the class? They should be near the bottom.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1062360,"reputation":37721,"user_id":1063716,"accept_rate":94,"display_name":"Steve Chambers"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1652868459,"creation_date":1421415229,"answer_id":27985121,"question_id":5638312,"body_markdown":"Not an exact science but I try to arrange annotations from a &quot;wide scope&quot; at the top to a &quot;narrow scope&quot; at the bottom. Here&#39;s an example:\r\n\r\n    @RadioDomain\r\n    @Entity\r\n    @Table(name = &quot;receiver&quot;)\r\n    @ReceiverConstraintCheck\r\n    @SuppressWarnings(&quot;PMD.ShortVariable&quot;)\r\n    public class Receiver {\r\n        // ...\r\n    }\r\n","title":"Are there any conventions for how to order Java annotations?","body":"<p>Not an exact science but I try to arrange annotations from a &quot;wide scope&quot; at the top to a &quot;narrow scope&quot; at the bottom. Here's an example:</p>\n<pre><code>@RadioDomain\n@Entity\n@Table(name = &quot;receiver&quot;)\n@ReceiverConstraintCheck\n@SuppressWarnings(&quot;PMD.ShortVariable&quot;)\npublic class Receiver {\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":75696,"reputation":14036,"user_id":217071,"accept_rate":85,"display_name":"Lenik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6255,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"accepted_answer_id":5638388,"answer_count":3,"score":19,"last_activity_date":1669034195,"creation_date":1302624498,"question_id":5638312,"body_markdown":"For projects heavily used of Java annotations, is there any suggestion on the annotation order? So as to uniform the code style in the team.","title":"Are there any conventions for how to order Java annotations?","body":"<p>For projects heavily used of Java annotations, is there any suggestion on the annotation order? So as to uniform the code style in the team.</p>\n"},{"tags":["java","spring","spring-mvc","spring-restcontroller"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1434478174,"post_id":30874954,"comment_id":49791373,"body_markdown":"Can you enable DEBUG logging and check to which URL the requests are going?","body":"Can you enable DEBUG logging and check to which URL the requests are going?"},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1434478837,"post_id":30874954,"comment_id":49791790,"body_markdown":"Why not to use the same method for the controller?","body":"Why not to use the same method for the controller?"},{"owner":{"account_id":3931957,"reputation":10912,"user_id":3250087,"accept_rate":88,"display_name":"spiderman"},"score":0,"creation_date":1434481762,"post_id":30874954,"comment_id":49793470,"body_markdown":"the request is going to `/invalidRequest`","body":"the request is going to <code>&#47;invalidRequest</code>"},{"owner":{"account_id":2268219,"reputation":1637,"user_id":1996296,"accept_rate":69,"display_name":"igreenfield"},"score":0,"creation_date":1434482015,"post_id":30874954,"comment_id":49793601,"body_markdown":"you are forwarding POST to GET???? you should use something like redirect [link](http://stackoverflow.com/a/11960845/1996296)","body":"you are forwarding POST to GET???? you should use something like redirect <a href=\"http://stackoverflow.com/a/11960845/1996296\">link</a>"},{"owner":{"account_id":3931957,"reputation":10912,"user_id":3250087,"accept_rate":88,"display_name":"spiderman"},"score":0,"creation_date":1434482882,"post_id":30874954,"comment_id":49794065,"body_markdown":"thanks, but I don&#39;t want to populate any data. The link inside that answer is a broken link. How do I say redirect to this request &quot;/invalidRequest&quot; ? and Why is this inconsistent? Most of the times my code is working","body":"thanks, but I don&#39;t want to populate any data. The link inside that answer is a broken link. How do I say redirect to this request &quot;/invalidRequest&quot; ? and Why is this inconsistent? Most of the times my code is working"},{"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1434483436,"post_id":30874954,"comment_id":49794369,"body_markdown":"Who&#39;s calling it? A human or a robot? Just check access logs.","body":"Who&#39;s calling it? A human or a robot? Just check access logs."},{"owner":{"account_id":2268219,"reputation":1637,"user_id":1996296,"accept_rate":69,"display_name":"igreenfield"},"score":0,"creation_date":1434484223,"post_id":30874954,"comment_id":49794791,"body_markdown":"something like that `return &quot;redirect:success.html&quot;;` you can look at the link I put in the comment","body":"something like that <code>return &quot;redirect:success.html&quot;;</code> you can look at the link I put in the comment"},{"owner":{"account_id":1571583,"reputation":2828,"user_id":1459174,"accept_rate":88,"display_name":"prem30488"},"score":0,"creation_date":1434518934,"post_id":30874954,"comment_id":49806478,"body_markdown":"use `@Modelattribute` in `@Valid @RequestBody Employee emp`. You should do something like `@Valid @RequestBody @ModelAttribute(&quot;emp&quot;) Employee emp`","body":"use <code>@Modelattribute</code> in <code>@Valid @RequestBody Employee emp</code>. You should do something like <code>@Valid @RequestBody @ModelAttribute(&quot;emp&quot;) Employee emp</code>"},{"owner":{"account_id":1571583,"reputation":2828,"user_id":1459174,"accept_rate":88,"display_name":"prem30488"},"score":0,"creation_date":1434519050,"post_id":30874954,"comment_id":49806533,"body_markdown":"Sometimes means session is ended? are you using csrf tokens? If yes, try refereshing page before submission.","body":"Sometimes means session is ended? are you using csrf tokens? If yes, try refereshing page before submission."}],"owner":{"account_id":3931957,"reputation":10912,"user_id":3250087,"accept_rate":88,"display_name":"spiderman"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2949,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669034008,"creation_date":1434477940,"question_id":30874954,"body_markdown":"Using Spring REST API [Spring MVC]\r\n\r\n**Scenario:**\r\n\r\nwhen request comes to the `EmployeeController` , it is forced to forward the request/response to another URI,if it falls under a specific logic.\r\nThe controller method has `RequestMapping` set with &#39;`RequestMethod.POST`&#39; and the destination controller- `SpecialController` has the  `method` named `invalidRequest()` that has `RequestMapping` set with &#39;`RequestMethod.GET`&#39;\r\n\r\n\r\n**EmployeeController:**\r\n\r\n    @RestController\r\n    @RequestMapping(value = &quot;/employee&quot;)\r\n    public class EmployeeController {\r\n\r\n        String res = null;\r\n    \r\n    \t@RequestMapping(value = &quot;/update&quot;, method = RequestMethod.POST)\r\n    \tpublic String updateEmployeeDetails(HttpServletRequest httpRequest, HttpServletResponse httpResponse,\r\n    \t\t\t@Valid @RequestBody Employee emp) throws ServletException, IOException {\r\n\t         // based on logic, forward the request to a different controller that handles invalid request\r\n\r\n        if( ...) { // condition checking\r\n            RequestDispatcher requestDispatcher = httpRequest.getServletContext().getRequestDispatcher(&quot;/invalidRequest&quot;);\r\n        \trequestDispatcher.forward(httpRequest, httpResponse);\r\n        \r\n        }\r\n    \r\n       if(..someother condition..) {\r\n            String res = &quot;something&quot;;\r\n       }\r\n    return res;\r\n\r\n\r\n**Destination Controller:**\r\n\t\r\n\r\n    @RestController\r\n    \t@RequestMapping(value = &quot;/invalidRequest&quot;)\r\n    \tpublic class SpecialController {\r\n    \r\n    \t\t@RequestMapping(value = &quot;&quot;, method = RequestMethod.GET)\r\n    \t\tpublic String invalidRequest(HttpServletRequest httpRequest, HttpServletResponse httpResponse) {\r\n    \t\t\thttpResponse.setStatus(401);\r\n    \t\t\treturn &quot;invalidRequest&quot;;\r\n    \t\t}\r\n    \r\n    \t}\r\n\r\n\r\n**Question:** **Inconsistency Problem [Actual Problem]:**\r\n\r\nIn 90% of the times, this is working, but a few times very rarely, I get the below error.\r\nIf I am getting this error always, then it would have made some meaning and I would have the below mentioned &#39;*possible fix*&#39;\r\nBut since it is working most of the times, and not working only sometimes, I need your help in finding out why?\r\n\r\n\r\n    &gt; org.springframework.web.HttpRequestMethodNotSupportedException:\r\n    &gt; Request method &#39;POST&#39; not supported\r\n    &gt;         at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:198)\r\n    &gt;         at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:286)\r\n    &gt;         at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:233)\r\n    &gt;         at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:56)\r\n    &gt;         at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:300)\r\n    &gt;         at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1101)\r\n    &gt;         at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:916)\r\n    &gt;         at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:876)\r\n    &gt;         at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\r\n    &gt;         at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:863)\r\n\r\n**possible fix if the error was consistent:**\r\n\r\n\t\r\n\r\n    @RestController\r\n    \t@RequestMapping(value = &quot;/invalidRequest&quot;)\r\n    \tpublic class SpecialController {\r\n    \r\n    \t\t@RequestMapping(value = &quot;&quot;, method = RequestMethod.GET)\r\n    \t\tpublic String invalidRequest(HttpServletRequest httpRequest, HttpServletResponse httpResponse) {\r\n    \t\t\thttpResponse.setStatus(401);\r\n    \t\t\treturn &quot;invalidRequest&quot;;\r\n    \t\t}\r\n    \t\t\r\n    \t\t@RequestMapping(value = &quot;&quot;, method = RequestMethod.POST)\r\n    \t\tpublic String invalidRequest2(HttpServletRequest httpRequest, HttpServletResponse httpResponse) {\r\n    \t\t\treturn invalidRequest(httpRequest, httpResponse);\r\n    \t\t}\r\n    \r\n    \t}\r\n\t\r\n\r\n","title":"Inconsistent error: Request method &#39;POST&#39; not supported","body":"<p>Using Spring REST API [Spring MVC]</p>\n<p><strong>Scenario:</strong></p>\n<p>when request comes to the <code>EmployeeController</code> , it is forced to forward the request/response to another URI,if it falls under a specific logic.\nThe controller method has <code>RequestMapping</code> set with '<code>RequestMethod.POST</code>' and the destination controller- <code>SpecialController</code> has the  <code>method</code> named <code>invalidRequest()</code> that has <code>RequestMapping</code> set with '<code>RequestMethod.GET</code>'</p>\n<p><strong>EmployeeController:</strong></p>\n<pre><code>@RestController\n@RequestMapping(value = &quot;/employee&quot;)\npublic class EmployeeController {\n\n    String res = null;\n\n    @RequestMapping(value = &quot;/update&quot;, method = RequestMethod.POST)\n    public String updateEmployeeDetails(HttpServletRequest httpRequest, HttpServletResponse httpResponse,\n            @Valid @RequestBody Employee emp) throws ServletException, IOException {\n         // based on logic, forward the request to a different controller that handles invalid request\n\n    if( ...) { // condition checking\n        RequestDispatcher requestDispatcher = httpRequest.getServletContext().getRequestDispatcher(&quot;/invalidRequest&quot;);\n        requestDispatcher.forward(httpRequest, httpResponse);\n    \n    }\n\n   if(..someother condition..) {\n        String res = &quot;something&quot;;\n   }\nreturn res;\n</code></pre>\n<p><strong>Destination Controller:</strong></p>\n<pre><code>@RestController\n    @RequestMapping(value = &quot;/invalidRequest&quot;)\n    public class SpecialController {\n\n        @RequestMapping(value = &quot;&quot;, method = RequestMethod.GET)\n        public String invalidRequest(HttpServletRequest httpRequest, HttpServletResponse httpResponse) {\n            httpResponse.setStatus(401);\n            return &quot;invalidRequest&quot;;\n        }\n\n    }\n</code></pre>\n<p><strong>Question:</strong> <strong>Inconsistency Problem [Actual Problem]:</strong></p>\n<p>In 90% of the times, this is working, but a few times very rarely, I get the below error.\nIf I am getting this error always, then it would have made some meaning and I would have the below mentioned '<em>possible fix</em>'\nBut since it is working most of the times, and not working only sometimes, I need your help in finding out why?</p>\n<pre><code>&gt; org.springframework.web.HttpRequestMethodNotSupportedException:\n&gt; Request method 'POST' not supported\n&gt;         at org.springframework.web.servlet.mvc.method.RequestMappingInfoHandlerMapping.handleNoMatch(RequestMappingInfoHandlerMapping.java:198)\n&gt;         at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.lookupHandlerMethod(AbstractHandlerMethodMapping.java:286)\n&gt;         at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:233)\n&gt;         at org.springframework.web.servlet.handler.AbstractHandlerMethodMapping.getHandlerInternal(AbstractHandlerMethodMapping.java:56)\n&gt;         at org.springframework.web.servlet.handler.AbstractHandlerMapping.getHandler(AbstractHandlerMapping.java:300)\n&gt;         at org.springframework.web.servlet.DispatcherServlet.getHandler(DispatcherServlet.java:1101)\n&gt;         at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:916)\n&gt;         at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:876)\n&gt;         at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\n&gt;         at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:863)\n</code></pre>\n<p><strong>possible fix if the error was consistent:</strong></p>\n<pre><code>@RestController\n    @RequestMapping(value = &quot;/invalidRequest&quot;)\n    public class SpecialController {\n\n        @RequestMapping(value = &quot;&quot;, method = RequestMethod.GET)\n        public String invalidRequest(HttpServletRequest httpRequest, HttpServletResponse httpResponse) {\n            httpResponse.setStatus(401);\n            return &quot;invalidRequest&quot;;\n        }\n        \n        @RequestMapping(value = &quot;&quot;, method = RequestMethod.POST)\n        public String invalidRequest2(HttpServletRequest httpRequest, HttpServletResponse httpResponse) {\n            return invalidRequest(httpRequest, httpResponse);\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","ssl","https","ssl-certificate"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1669033785,"post_id":74518563,"comment_id":131543562,"body_markdown":"That depends on how the server is configured. If it sends in it&#39;s SERVER_HELLO the certificate of B and C (which is the correct approach) then everything should still work if A is in the configured trust store on client side. But often server are misconfigured and only send C which then leads to the problem that A has no connection to C if B is missing.","body":"That depends on how the server is configured. If it sends in it&#39;s SERVER_HELLO the certificate of B and C (which is the correct approach) then everything should still work if A is in the configured trust store on client side. But often server are misconfigured and only send C which then leads to the problem that A has no connection to C if B is missing."}],"answers":[{"tags":[],"owner":{"account_id":20029130,"reputation":21,"user_id":14682329,"display_name":"Pradeesh Kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669033822,"creation_date":1669033822,"answer_id":74518957,"question_id":74518563,"body_markdown":"Yes. Just adding the root certificate to your client trust store suffice to create the HTTPs successful connection. During the handshake, the certificate is validated from bottom-up way. It means that your Intermediate certificate must be signed by the root CA, and your leaf certificate must be signed by your intermediate CA. As long as your root CA is valid and present in your client&#39;s trust store, the connection will be successful.","title":"Java, Certificates in trustStores","body":"<p>Yes. Just adding the root certificate to your client trust store suffice to create the HTTPs successful connection. During the handshake, the certificate is validated from bottom-up way. It means that your Intermediate certificate must be signed by the root CA, and your leaf certificate must be signed by your intermediate CA. As long as your root CA is valid and present in your client's trust store, the connection will be successful.</p>\n"}],"owner":{"account_id":170241,"reputation":853,"user_id":396812,"accept_rate":38,"display_name":"Mark Gargan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669033822,"creation_date":1669031961,"question_id":74518563,"body_markdown":"I have a root ca, A that issues an intermediate cert B that in turn issues a specific cert C\r\n\r\nA -&gt; B -&gt; C\r\n\r\nI start up a server which has these certs in it&#39;s p12 as the keychain\r\n\r\nIf I then have a java client which has all three certs in its trustStore it can access the cert over https successfully.\r\n\r\nIf cert C expires but I still have A &amp; B in the trustStore, HTTPs is still successful.\r\n\r\nIf I remove A &amp; C from the trustStore and just have B HTTPs is still successful. \r\n\r\nMy question is, if I only have A in the trustStore, the original Root CA, will HTTPs access still be successful? \r\n\r\nThanks,\r\nMark. ","title":"Java, Certificates in trustStores","body":"<p>I have a root ca, A that issues an intermediate cert B that in turn issues a specific cert C</p>\n<p>A -&gt; B -&gt; C</p>\n<p>I start up a server which has these certs in it's p12 as the keychain</p>\n<p>If I then have a java client which has all three certs in its trustStore it can access the cert over https successfully.</p>\n<p>If cert C expires but I still have A &amp; B in the trustStore, HTTPs is still successful.</p>\n<p>If I remove A &amp; C from the trustStore and just have B HTTPs is still successful.</p>\n<p>My question is, if I only have A in the trustStore, the original Root CA, will HTTPs access still be successful?</p>\n<p>Thanks,\nMark.</p>\n"},{"tags":["java","google-analytics","google-analytics-api","google-api-java-client"],"comments":[{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":1,"creation_date":1669021286,"post_id":74515816,"comment_id":131539327,"body_markdown":"24 - 48 hours the same as UA.","body":"24 - 48 hours the same as UA."},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":0,"creation_date":1669021610,"post_id":74515816,"comment_id":131539430,"body_markdown":"so to be safe it is better to set the dates 48 hours ago?","body":"so to be safe it is better to set the dates 48 hours ago?"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":1,"creation_date":1669021756,"post_id":74515816,"comment_id":131539479,"body_markdown":"That&#39;s what i normally do yes.","body":"That&#39;s what i normally do yes."},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":1,"creation_date":1669021931,"post_id":74515816,"comment_id":131539546,"body_markdown":"I am trying to get your question reopened and i will post a full answer for you if it does.","body":"I am trying to get your question reopened and i will post a full answer for you if it does."},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":2,"creation_date":1669023479,"post_id":74515816,"comment_id":131540084,"body_markdown":"I have also contacted the team Im not seeing any Official documentation on the latency for GA4 just for UA.   I do remember a discussion with the team from a while ago that it was the same.  I am going to try and get it documented for you.","body":"I have also contacted the team Im not seeing any Official documentation on the latency for GA4 just for UA.   I do remember a discussion with the team from a while ago that it was the same.  I am going to try and get it documented for you."},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":2,"creation_date":1669023686,"post_id":74515816,"comment_id":131540163,"body_markdown":"Apparently I was off its only 12 hours now [Data freshness](https://support.google.com/analytics/answer/11198161?hl=en)","body":"Apparently I was off its only 12 hours now <a href=\"https://support.google.com/analytics/answer/11198161?hl=en\" rel=\"nofollow noreferrer\">Data freshness</a>"},{"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"score":1,"creation_date":1669029579,"post_id":74515816,"comment_id":131542118,"body_markdown":"The question is reopened","body":"The question is reopened"},{"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":1,"creation_date":1669033739,"post_id":74515816,"comment_id":131543550,"body_markdown":"I improved your title a little hope you dont mind.","body":"I improved your title a little hope you dont mind."}],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669031155,"creation_date":1669031155,"answer_id":74518402,"question_id":74515816,"body_markdown":"The Google analytics data api has the same limitations as to when data has completed processing as the old Google analytics reporting api for UA.\r\n\r\nThe main difference is that with the old reporting api we could see that processing was complete by checking the is golden field.\r\n\r\nUnfortunately I have been informed by the google analytics api team that there is no plans at this time to add an is golden option to the Google analytics data api response for GA4.\r\n\r\nBecause of this I always ensure that I give enough time for data to have completed processing before I request data from the api.\r\n\r\nif you check the [data freshness](https://support.google.com/analytics/answer/11198161?hl=en) chart\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIt says that for all reports everything should be processed in 12 hours but it will depend greatly on the size of the properly. That being how many its your account is getting.   If its a large account it could take more then 24 hours.\r\n\r\nSo how long you should weight will greatly depend upon how must data you have. Only you can decide.  If its a big account with millions of hits a day i would go with the old 24 - 48 hour rule.\r\n\r\nYou could ofcouse just run a few tests.  Check the data now store it and see what you get in two days if the data is the same then you will know your account processes faster then the 24 - 48 hour.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M1u3H.png","title":"What is the data processing latency for the Google Analytics data api for (GA4)?","body":"<p>The Google analytics data api has the same limitations as to when data has completed processing as the old Google analytics reporting api for UA.</p>\n<p>The main difference is that with the old reporting api we could see that processing was complete by checking the is golden field.</p>\n<p>Unfortunately I have been informed by the google analytics api team that there is no plans at this time to add an is golden option to the Google analytics data api response for GA4.</p>\n<p>Because of this I always ensure that I give enough time for data to have completed processing before I request data from the api.</p>\n<p>if you check the <a href=\"https://support.google.com/analytics/answer/11198161?hl=en\" rel=\"nofollow noreferrer\">data freshness</a> chart</p>\n<p><a href=\"https://i.stack.imgur.com/M1u3H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M1u3H.png\" alt=\"enter image description here\" /></a></p>\n<p>It says that for all reports everything should be processed in 12 hours but it will depend greatly on the size of the properly. That being how many its your account is getting.   If its a large account it could take more then 24 hours.</p>\n<p>So how long you should weight will greatly depend upon how must data you have. Only you can decide.  If its a big account with millions of hits a day i would go with the old 24 - 48 hour rule.</p>\n<p>You could ofcouse just run a few tests.  Check the data now store it and see what you get in two days if the data is the same then you will know your account processes faster then the 24 - 48 hour.</p>\n"}],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":804,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74518402,"answer_count":1,"score":1,"last_activity_date":1669033721,"creation_date":1669017873,"question_id":74515816,"body_markdown":"I am reading the analytics data using API call found in this link [\r\nGoogle Analytics Data API (GA4)\r\n][1]\r\nWhat is the google delay to return all the info? for example, at 5 Am can I be sure I am receiving all the info regarding yesterday?\r\nfollowing is the piece of code I send the request to Google. offset is 0 and limit is 10000. \r\nSince I want to read the info related to each date separately start date and end date are the same.\r\n\r\n    DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\tCalendar calendar  = Calendar.getInstance();\r\n\t\t\t\r\n\tcalendar.add(Calendar.DAY_OF_MONTH, -1);\r\n\tString yesterday=dateFormat.format(calendar.getTime()); \r\n\r\n    RunReportRequest request =\r\n\t\t\t\tRunReportRequest.newBuilder()\r\n\t\t\t\t.setProperty(&quot;properties/&quot; + propertyId)\r\n\t\t\t\t.addDateRanges(DateRange.newBuilder().setStartDate(yesterday).setEndDate(yesterday))\r\n\r\n\r\n\r\n\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;date&quot;)) \r\n\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;eventName&quot;))\r\n\t\t\t\t.addDimensions(Dimension.newBuilder().setName(&quot;fullPageUrl&quot;)) \r\n\r\n\r\n\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;eventCount&quot;))\r\n\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;eventsPerSession&quot;))\r\n\t\t\t\t.addMetrics(Metric.newBuilder().setName(&quot;eventValue&quot;))\r\n\t\t\t\t.setOffset(offset)\r\n\t\t\t\t.setLimit(limit)\r\n\t\t\t\t.build();\r\n\r\n\r\n  [1]: https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries#java_1","title":"What is the data processing latency for the Google Analytics data api for (GA4)?","body":"<p>I am reading the analytics data using API call found in this link <a href=\"https://developers.google.com/analytics/devguides/reporting/data/v1/quickstart-client-libraries#java_1\" rel=\"nofollow noreferrer\">\nGoogle Analytics Data API (GA4)\n</a>\nWhat is the google delay to return all the info? for example, at 5 Am can I be sure I am receiving all the info regarding yesterday?\nfollowing is the piece of code I send the request to Google. offset is 0 and limit is 10000.\nSince I want to read the info related to each date separately start date and end date are the same.</p>\n<pre><code>DateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\nCalendar calendar  = Calendar.getInstance();\n        \ncalendar.add(Calendar.DAY_OF_MONTH, -1);\nString yesterday=dateFormat.format(calendar.getTime()); \n\nRunReportRequest request =\n            RunReportRequest.newBuilder()\n            .setProperty(&quot;properties/&quot; + propertyId)\n            .addDateRanges(DateRange.newBuilder().setStartDate(yesterday).setEndDate(yesterday))\n\n\n\n            .addDimensions(Dimension.newBuilder().setName(&quot;date&quot;)) \n            .addDimensions(Dimension.newBuilder().setName(&quot;eventName&quot;))\n            .addDimensions(Dimension.newBuilder().setName(&quot;fullPageUrl&quot;)) \n\n\n            .addMetrics(Metric.newBuilder().setName(&quot;eventCount&quot;))\n            .addMetrics(Metric.newBuilder().setName(&quot;eventsPerSession&quot;))\n            .addMetrics(Metric.newBuilder().setName(&quot;eventValue&quot;))\n            .setOffset(offset)\n            .setLimit(limit)\n            .build();\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":4,"creation_date":1669032257,"post_id":74518520,"comment_id":131543026,"body_markdown":"You should try telling us what the code is supposed to do, [] are special characters in regular expressions and need to be escaped, check out regex at: \n\nhttps://www.w3schools.com/java/java_regex.asp","body":"You should try telling us what the code is supposed to do, [] are special characters in regular expressions and need to be escaped, check out regex at:   <a href=\"https://www.w3schools.com/java/java_regex.asp\" rel=\"nofollow noreferrer\">w3schools.com/java/java_regex.asp</a>"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669033673,"creation_date":1669032105,"answer_id":74518594,"question_id":74518520,"body_markdown":"Special symbols which are used in the regular expressions need to be either escaped using `\\` or entire expression should be treated as a string literal with the help of `Pattern.quote` which basically surrounds the regex with the pair of `\\Q` and `\\E`.\r\n\r\nAlso, in the presented code `delStr` would include the pair of the square brackets, thus the replacement should occur for the regexp `[[aaa]]`, and unexpected match -- first `a` in the first occurrence of `[aaa]` -- is found and replaced for such pattern instead of implied replacement.  Then for the following iterations the `cal` looks like `[1aa] * [aaa] + [bbb]` and `cal.indexOf(&quot;[&quot;)` bring the same first occurrence several times.\r\n\r\nSo, the following escape of the special symbols described above works fine:\r\n```java\r\nString delStr = &quot;&quot;;\r\n\r\nfor (int i = 0; i &lt; cnt; i++) {\r\n    delStr = cal.substring(cal.indexOf(&quot;[&quot;), cal.indexOf(&quot;]&quot;) + 1);\r\n\r\n    cal = cal.replaceFirst(&quot;\\\\Q&quot; + delStr + &quot;\\\\E&quot;, &quot;1&quot;); // literal mode\r\n    // or cal = cal.replaceFirst(Pattern.quote(delStr), &quot;1&quot;);\r\n}\r\n```\r\n\r\nAlso, this solution may be refactored to completely get rid of the loop and `String::indexOf` / `String::replaceFirst` methods, because the _implied_ result means that **all** the substrings between `[` and `]` including the brackets should be replaced with `1`, that is, `String::replaceAll` would do the entire job:\r\n```java\r\ncal = cal.replaceAll(&quot;\\\\[[^]]*\\\\]&quot;, &quot;1&quot;); // 1 * 1 + 1\r\n```","title":"replaceFirst , Why can&#39;t special symbols be replaced?","body":"<p>Special symbols which are used in the regular expressions need to be either escaped using <code>\\</code> or entire expression should be treated as a string literal with the help of <code>Pattern.quote</code> which basically surrounds the regex with the pair of <code>\\Q</code> and <code>\\E</code>.</p>\n<p>Also, in the presented code <code>delStr</code> would include the pair of the square brackets, thus the replacement should occur for the regexp <code>[[aaa]]</code>, and unexpected match -- first <code>a</code> in the first occurrence of <code>[aaa]</code> -- is found and replaced for such pattern instead of implied replacement.  Then for the following iterations the <code>cal</code> looks like <code>[1aa] * [aaa] + [bbb]</code> and <code>cal.indexOf(&quot;[&quot;)</code> bring the same first occurrence several times.</p>\n<p>So, the following escape of the special symbols described above works fine:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String delStr = &quot;&quot;;\n\nfor (int i = 0; i &lt; cnt; i++) {\n    delStr = cal.substring(cal.indexOf(&quot;[&quot;), cal.indexOf(&quot;]&quot;) + 1);\n\n    cal = cal.replaceFirst(&quot;\\\\Q&quot; + delStr + &quot;\\\\E&quot;, &quot;1&quot;); // literal mode\n    // or cal = cal.replaceFirst(Pattern.quote(delStr), &quot;1&quot;);\n}\n</code></pre>\n<p>Also, this solution may be refactored to completely get rid of the loop and <code>String::indexOf</code> / <code>String::replaceFirst</code> methods, because the <em>implied</em> result means that <strong>all</strong> the substrings between <code>[</code> and <code>]</code> including the brackets should be replaced with <code>1</code>, that is, <code>String::replaceAll</code> would do the entire job:</p>\n<pre class=\"lang-java prettyprint-override\"><code>cal = cal.replaceAll(&quot;\\\\[[^]]*\\\\]&quot;, &quot;1&quot;); // 1 * 1 + 1\n</code></pre>\n"}],"owner":{"account_id":18942997,"reputation":15,"user_id":13822581,"display_name":"ych1215"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":74518594,"answer_count":1,"score":-2,"last_activity_date":1669033673,"creation_date":1669031758,"question_id":74518520,"body_markdown":"replaceFirst   , Why can&#39;t special symbols be replaced?\r\n\r\nSystem.out.println(cal); // 1 * 1 + 1 &lt;==== ???\r\n\r\n\r\n\r\n```\r\npackage com;\r\n\r\nimport org.apache.commons.lang.StringUtils;\r\n\r\npublic class Test {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString cal = &quot;[aaa] * [aaa] + [bbb]&quot;;\r\n\r\n\t\tint cnt = StringUtils.countMatches(cal, &quot;[&quot;);\r\n\r\n\t\tString delStr = &quot;&quot;;\r\n\r\n\t\tfor (int i = 0; i &lt; cnt; i++) {\r\n\t\t\tdelStr = cal.substring(cal.indexOf(&quot;[&quot;), cal.indexOf(&quot;]&quot;) + 1);\r\n\t\t\tcal = cal.replaceFirst(&quot;[&quot;+delStr +&quot;]&quot;, &quot;1&quot;);\r\n\t\t}\r\n\r\n\t\tSystem.out.println(cal); // 1 * 1 + 1 &lt;==== ???\r\n\t}\r\n}\r\n\r\n```\r\n","title":"replaceFirst , Why can&#39;t special symbols be replaced?","body":"<p>replaceFirst   , Why can't special symbols be replaced?</p>\n<p>System.out.println(cal); // 1 * 1 + 1 &lt;==== ???</p>\n<pre><code>package com;\n\nimport org.apache.commons.lang.StringUtils;\n\npublic class Test {\n\n    public static void main(String[] args) {\n\n        String cal = &quot;[aaa] * [aaa] + [bbb]&quot;;\n\n        int cnt = StringUtils.countMatches(cal, &quot;[&quot;);\n\n        String delStr = &quot;&quot;;\n\n        for (int i = 0; i &lt; cnt; i++) {\n            delStr = cal.substring(cal.indexOf(&quot;[&quot;), cal.indexOf(&quot;]&quot;) + 1);\n            cal = cal.replaceFirst(&quot;[&quot;+delStr +&quot;]&quot;, &quot;1&quot;);\n        }\n\n        System.out.println(cal); // 1 * 1 + 1 &lt;==== ???\n    }\n}\n\n</code></pre>\n"},{"tags":["java","csv","unit-testing","integration-testing","opencsv"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1669065902,"post_id":74518891,"comment_id":131554464,"body_markdown":"This can be good as first attempt, but as soon as you will need to handle more CSV, you will need to add a lot of code in this CsvHelper class. So I think you should create a more Generic method using Java Generics. You will benefit from that in the future.","body":"This can be good as first attempt, but as soon as you will need to handle more CSV, you will need to add a lot of code in this CsvHelper class. So I think you should create a more Generic method using Java Generics. You will benefit from that in the future."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669069373,"post_id":74518891,"comment_id":131555291,"body_markdown":"@PaulMarcelinBejan Thanks a lot Paul, I generated a generic classes by following **Template Method Design Pattern**. But, your reply actually is not cover my 2 questions. So, may I get your opinions for these 2 questions above?","body":"@PaulMarcelinBejan Thanks a lot Paul, I generated a generic classes by following <b>Template Method Design Pattern</b>. But, your reply actually is not cover my 2 questions. So, may I get your opinions for these 2 questions above?"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":1,"creation_date":1669152915,"post_id":74518891,"comment_id":131578780,"body_markdown":"I don&#39;t understand how unittesting can benefit from making the method `static`. In contrast it will make the code using your utility *harder* to test since you cannot simply pass a test dummy of `CsvHelper` to isolate the other code from it.","body":"I don&#39;t understand how unittesting can benefit from making the method <code>static</code>. In contrast it will make the code using your utility <i>harder</i> to test since you cannot simply pass a test dummy of <code>CsvHelper</code> to isolate the other code from it."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669190534,"post_id":74518891,"comment_id":131585586,"body_markdown":"@TimothyTruckle I mean it makes unit testing harder and that is why I am asking the question. Then, do you mean that I should not make the method static? And inject the helper class or service class where I keep CSV method to my controller?","body":"@TimothyTruckle I mean it makes unit testing harder and that is why I am asking the question. Then, do you mean that I should not make the method static? And inject the helper class or service class where I keep CSV method to my controller?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669190564,"post_id":74518891,"comment_id":131585593,"body_markdown":"@TimothyTruckle What about answering my 2 questions?","body":"@TimothyTruckle What about answering my 2 questions?"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":1,"creation_date":1669214885,"post_id":74518891,"comment_id":131594332,"body_markdown":"*&quot; Then, do you mean that I should not make the method static?&quot;* **--** Yes. **/** *&quot;And inject the helper class or service class where I keep CSV method to my controller?&quot;* **--** Yes. **/** *&quot;1. Should I define csvToEmployees method in this Helper class as static?&quot;* **--** No. **/** *&quot;Or should I write only Integration test for that?&quot;* **--** No. UnitTest have a different scope and purpose then integration tests. You cannot exchange one test type for the other.","body":"<i>&quot; Then, do you mean that I should not make the method static?&quot;</i> <b>--</b> Yes. <b>/</b> <i>&quot;And inject the helper class or service class where I keep CSV method to my controller?&quot;</i> <b>--</b> Yes. <b>/</b> <i>&quot;1. Should I define csvToEmployees method in this Helper class as static?&quot;</i> <b>--</b> No. <b>/</b> <i>&quot;Or should I write only Integration test for that?&quot;</i> <b>--</b> No. UnitTest have a different scope and purpose then integration tests. You cannot exchange one test type for the other."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669219043,"post_id":74518891,"comment_id":131596020,"body_markdown":"@TimothyTruckle  Perfect explanations, thanks a lot for detailed and clear replies :)","body":"@TimothyTruckle  Perfect explanations, thanks a lot for detailed and clear replies :)"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1669219069,"post_id":74518891,"comment_id":131596029,"body_markdown":"@TimothyTruckle By the way, if do you have an idea, may I get your valuable comments for this? https://stackoverflow.com/questions/74544030/should-i-prefer-filereader-to-bufferedreader-while-reading-csv/74544248#74544248","body":"@TimothyTruckle By the way, if do you have an idea, may I get your valuable comments for this? <a href=\"https://stackoverflow.com/questions/74544030/should-i-prefer-filereader-to-bufferedreader-while-reading-csv/74544248#74544248\" title=\"should i prefer filereader to bufferedreader while reading csv\">stackoverflow.com/questions/74544030/&hellip;</a>"},{"owner":{"account_id":9443335,"reputation":15252,"user_id":7023245,"accept_rate":25,"display_name":"Timothy Truckle"},"score":0,"creation_date":1669222913,"post_id":74518891,"comment_id":131597510,"body_markdown":"I agree with the answer of @Chaosfire.","body":"I agree with the answer of @Chaosfire."}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669033506,"creation_date":1669033506,"question_id":74518891,"body_markdown":"I am trying to implement an Helper class using OpenCSV and I am thinking to define the related methods as static like this:\r\n\r\n```\r\npublic class CsvHelper {\r\n\r\n    private enum Headers {\r\n        ID,\r\n        NAME,\r\n        EMAIL,\r\n        COUNTRY\r\n    }\r\n\r\n    public static List&lt;EmployeeRequest&gt; csvToEmployees(InputStream is) throws IllegalAccessException {\r\n        try (BufferedReader reader = new BufferedReader(new InputStreamReader(is, StandardCharsets.UTF_8));\r\n             CSVParser parser = new CSVParser(reader,\r\n                     CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim())) {\r\n\r\n            List&lt;EmployeeRequest&gt; employees = new ArrayList&lt;&gt;();\r\n            Iterable&lt;CSVRecord&gt; records = parser.getRecords();\r\n\r\n            for (CSVRecord rec : records) {\r\n                EmployeeRequest employee = new EmployeeRequest(\r\n                        Long.parseLong(rec.get(Headers.ID)),\r\n                        rec.get(Headers.NAME),\r\n                        rec.get(Headers.EMAIL),\r\n                        rec.get(Headers.COUNTRY)\r\n                );\r\n                employees.add(employee);\r\n            }\r\n            return employees;\r\n        } catch (IOException e) {\r\n            throw new IllegalAccessException(&quot;Failed: &quot; + e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nHowever, I am not sure if I should define csvToEmployees method without static in a service class for proper testing. So:\r\n\r\n**1.** Should I define `csvToEmployees` method in this Helper class as static? Or should I define it in y service as the other service methods (without static)?\r\n\r\n**2.** Can I write Unit and Integration test for reading data from CSV file? Or should I write only Integration test for that? ","title":"Should I implement CSV reader methods as static for better Testing in Java?","body":"<p>I am trying to implement an Helper class using OpenCSV and I am thinking to define the related methods as static like this:</p>\n<pre><code>public class CsvHelper {\n\n    private enum Headers {\n        ID,\n        NAME,\n        EMAIL,\n        COUNTRY\n    }\n\n    public static List&lt;EmployeeRequest&gt; csvToEmployees(InputStream is) throws IllegalAccessException {\n        try (BufferedReader reader = new BufferedReader(new InputStreamReader(is, StandardCharsets.UTF_8));\n             CSVParser parser = new CSVParser(reader,\n                     CSVFormat.DEFAULT.withFirstRecordAsHeader().withIgnoreHeaderCase().withTrim())) {\n\n            List&lt;EmployeeRequest&gt; employees = new ArrayList&lt;&gt;();\n            Iterable&lt;CSVRecord&gt; records = parser.getRecords();\n\n            for (CSVRecord rec : records) {\n                EmployeeRequest employee = new EmployeeRequest(\n                        Long.parseLong(rec.get(Headers.ID)),\n                        rec.get(Headers.NAME),\n                        rec.get(Headers.EMAIL),\n                        rec.get(Headers.COUNTRY)\n                );\n                employees.add(employee);\n            }\n            return employees;\n        } catch (IOException e) {\n            throw new IllegalAccessException(&quot;Failed: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>However, I am not sure if I should define csvToEmployees method without static in a service class for proper testing. So:</p>\n<p><strong>1.</strong> Should I define <code>csvToEmployees</code> method in this Helper class as static? Or should I define it in y service as the other service methods (without static)?</p>\n<p><strong>2.</strong> Can I write Unit and Integration test for reading data from CSV file? Or should I write only Integration test for that?</p>\n"},{"tags":["java","xml","logging","configuration","log4j"],"comments":[{"owner":{"account_id":240659,"reputation":16549,"user_id":2003986,"accept_rate":75,"display_name":"ToYonos"},"score":0,"creation_date":1412863086,"post_id":26280337,"comment_id":41232532,"body_markdown":"Have you yet a  log4j.xml /  log4j.properties file ?","body":"Have you yet a  log4j.xml /  log4j.properties file ?"},{"owner":{"account_id":1098379,"reputation":14720,"user_id":1091466,"accept_rate":78,"display_name":"Marco Acierno"},"score":0,"creation_date":1412863101,"post_id":26280337,"comment_id":41232539,"body_markdown":"Check your log4j.properties?","body":"Check your log4j.properties?"},{"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"score":0,"creation_date":1412863157,"post_id":26280337,"comment_id":41232574,"body_markdown":"I use a log4j.xml taken from `www.mkyong.com/logging/log4j-xml-example/`\nOK to use log4j.properties file as well if works.","body":"I use a log4j.xml taken from <code>www.mkyong.com&#47;logging&#47;log4j-xml-example&#47;</code> OK to use log4j.properties file as well if works."}],"answers":[{"tags":[],"owner":{"account_id":240659,"reputation":16549,"user_id":2003986,"accept_rate":75,"display_name":"ToYonos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1412864448,"creation_date":1412863546,"answer_id":26280547,"question_id":26280337,"body_markdown":"Redirect all the third party lib logs in a target appender, use another appender for your app\r\n\r\n    log4j.rootLogger=debug,thirdPartyLibAppender \r\n    log4j.logger.com.yourapp=debug, yourAppAppender\r\n    log4j.additivity.com.yourapp=false\r\n\r\n    # define where do you want third party lib logs to land : in a file\r\n    log4j.appender.thirdPartyLibAppender=org.apache.log4j.FileAppender\r\n    log4j.appender.thirdPartyLibAppender.append=true\r\n    log4j.appender.thirdPartyLibAppender.file=/tmp/app.log\r\n    log4j.appender.thirdPartyLibAppender.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.thirdPartyLibAppender.layout.ConversionPattern=[%p] %c:%m%n\r\n\r\n    # define where do you want your app logs to land : stdout\r\n    log4j.appender.yourAppAppender=org.apache.log4j.ConsoleAppender\r\n    log4j.appender.yourAppAppender.layout=org.apache.log4j.PatternLayout\r\n    log4j.appender.yourAppAppender.layout.ConversionPattern=[%p] %c:%m%n\r\n\r\nSetting additivity to false will prevent that your app logs end in the `thirdPartyLibAppender`\r\n\r\n**In those 2 lines, don&#39;t forget to replace com.yourapp by the top level package name**\r\n\r\n    log4j.logger.com.yourapp=debug, yourAppAppender\r\n    log4j.additivity.com.yourapp=false","title":"Stop displaying logger output to console from dependencies","body":"<p>Redirect all the third party lib logs in a target appender, use another appender for your app</p>\n\n<pre><code>log4j.rootLogger=debug,thirdPartyLibAppender \nlog4j.logger.com.yourapp=debug, yourAppAppender\nlog4j.additivity.com.yourapp=false\n\n# define where do you want third party lib logs to land : in a file\nlog4j.appender.thirdPartyLibAppender=org.apache.log4j.FileAppender\nlog4j.appender.thirdPartyLibAppender.append=true\nlog4j.appender.thirdPartyLibAppender.file=/tmp/app.log\nlog4j.appender.thirdPartyLibAppender.layout=org.apache.log4j.PatternLayout\nlog4j.appender.thirdPartyLibAppender.layout.ConversionPattern=[%p] %c:%m%n\n\n# define where do you want your app logs to land : stdout\nlog4j.appender.yourAppAppender=org.apache.log4j.ConsoleAppender\nlog4j.appender.yourAppAppender.layout=org.apache.log4j.PatternLayout\nlog4j.appender.yourAppAppender.layout.ConversionPattern=[%p] %c:%m%n\n</code></pre>\n\n<p>Setting additivity to false will prevent that your app logs end in the <code>thirdPartyLibAppender</code></p>\n\n<p><strong>In those 2 lines, don't forget to replace com.yourapp by the top level package name</strong></p>\n\n<pre><code>log4j.logger.com.yourapp=debug, yourAppAppender\nlog4j.additivity.com.yourapp=false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669033388,"creation_date":1413180092,"answer_id":26333805,"question_id":26280337,"body_markdown":"It looks like the `log4j2.xml` was overriding all other configs. As of now, I have switched that dependency off. Maybe `log4j2 &gt; log4j` hence the issue. Also, `XML` gets a higher priority over `properties` as I have seen somewhere.","title":"Stop displaying logger output to console from dependencies","body":"<p>It looks like the <code>log4j2.xml</code> was overriding all other configs. As of now, I have switched that dependency off. Maybe <code>log4j2 &gt; log4j</code> hence the issue. Also, <code>XML</code> gets a higher priority over <code>properties</code> as I have seen somewhere.</p>\n"}],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2896,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26333805,"answer_count":2,"score":4,"last_activity_date":1669033388,"creation_date":1412862997,"question_id":26280337,"body_markdown":"I have a few Maven dependencies in my Java project that clutter the console output with redundant log info. I want to disable such logging.\r\n\r\nSetting the `additivity` property to `false` might help. But could not use it properly.\r\n\r\nI am looking for a `log4j.xml` config that will only print log output (`warn`, `error`, ...) from my project and not from any dependencies.  ","title":"Stop displaying logger output to console from dependencies","body":"<p>I have a few Maven dependencies in my Java project that clutter the console output with redundant log info. I want to disable such logging.</p>\n<p>Setting the <code>additivity</code> property to <code>false</code> might help. But could not use it properly.</p>\n<p>I am looking for a <code>log4j.xml</code> config that will only print log output (<code>warn</code>, <code>error</code>, ...) from my project and not from any dependencies.</p>\n"},{"tags":["java","android","junit","intellij-idea"],"comments":[{"owner":{"account_id":34618,"reputation":33031,"user_id":97901,"accept_rate":62,"display_name":"benstpierre"},"score":0,"creation_date":1268297095,"post_id":2422378,"comment_id":2406391,"body_markdown":"Intellij 9, the latest patch.","body":"Intellij 9, the latest patch."},{"owner":{"account_id":3123220,"reputation":712,"user_id":2642612,"display_name":"voronnenok"},"score":1,"creation_date":1440754972,"post_id":2422378,"comment_id":52414728,"body_markdown":"I have solution here\nhttp://stackoverflow.com/questions/29172698/junit-version-3-8-or-later-expected/32267762#32267762","body":"I have solution here <a href=\"http://stackoverflow.com/questions/29172698/junit-version-3-8-or-later-expected/32267762#32267762\" title=\"junit version 3 8 or later expected\">stackoverflow.com/questions/29172698/&hellip;</a>"},{"owner":{"account_id":98471,"reputation":15227,"user_id":266531,"accept_rate":100,"display_name":"Kirby"},"score":0,"creation_date":1520291517,"post_id":2422378,"comment_id":85247417,"body_markdown":"honestly I finally punted on using Android plugin in IntelliJ and bit the bullet and use the latest Android Studio. all is fine","body":"honestly I finally punted on using Android plugin in IntelliJ and bit the bullet and use the latest Android Studio. all is fine"},{"owner":{"account_id":9910462,"reputation":176,"user_id":7337391,"display_name":"recepinanc"},"score":0,"creation_date":1574449717,"post_id":2422378,"comment_id":104250949,"body_markdown":"Incase someone else came here without having &quot;Test&quot; in their Test class&#39; name; you should add &quot;Test&quot; brother. Naming your class &quot;GameEngine&quot; would cause the same error, you can solve it by making it &quot;GameEngineTest&quot;. Cheers!","body":"Incase someone else came here without having &quot;Test&quot; in their Test class&#39; name; you should add &quot;Test&quot; brother. Naming your class &quot;GameEngine&quot; would cause the same error, you can solve it by making it &quot;GameEngineTest&quot;. Cheers!"}],"answers":[{"tags":[],"owner":{"account_id":39531,"reputation":187638,"user_id":114066,"accept_rate":90,"display_name":"Janusz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1268299701,"creation_date":1268299701,"answer_id":2423808,"question_id":2422378,"body_markdown":"There are two thing I could imagine to happen\r\n\r\n - If your IDE tries to start an Android\r\n   Junit test that directly runs on the\r\n   emulator you can&#39;t use Junit4.\r\n - If you accidentally used the junit classes provided from the android jar they can&#39;t run on a normal jvm because there are only real compiled classes for the android dalvik vm. ","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>There are two thing I could imagine to happen</p>\n\n<ul>\n<li>If your IDE tries to start an Android\nJunit test that directly runs on the\nemulator you can't use Junit4.</li>\n<li>If you accidentally used the junit classes provided from the android jar they can't run on a normal jvm because there are only real compiled classes for the android dalvik vm. </li>\n</ul>\n"},{"tags":[],"owner":{"account_id":36734,"reputation":392127,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":3,"up_vote_count":368,"is_accepted":true,"score":365,"last_activity_date":1371243838,"creation_date":1268383830,"answer_id":2431427,"question_id":2422378,"body_markdown":"This problem happens because Android Platform (`android.jar`) already contains JUnit classes. IDEA test runner loads these classes and sees that they are from the old JUnit, while you are trying to use annotated tests which is a feature of the new JUnit, therefore you get the error from the test runner.\r\n\r\nThe solution is simple, open the `Project Structure` | `Modules` | `Dependencies`, and move the `junit-4.7.jar` up, so that it comes **before** `Android 1.6 Platform` in the classpath. Now the test runner will be happy as it loads the new JUnit version.","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>This problem happens because Android Platform (<code>android.jar</code>) already contains JUnit classes. IDEA test runner loads these classes and sees that they are from the old JUnit, while you are trying to use annotated tests which is a feature of the new JUnit, therefore you get the error from the test runner.</p>\n\n<p>The solution is simple, open the <code>Project Structure</code> | <code>Modules</code> | <code>Dependencies</code>, and move the <code>junit-4.7.jar</code> up, so that it comes <strong>before</strong> <code>Android 1.6 Platform</code> in the classpath. Now the test runner will be happy as it loads the new JUnit version.</p>\n"},{"tags":[],"owner":{"account_id":2256306,"reputation":439,"user_id":1987425,"display_name":"rontho"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1423816789,"creation_date":1418633361,"answer_id":27480250,"question_id":2422378,"body_markdown":"For everyone who is reading this post and still have the same issue with AndroidStudio 1.0. You cannot change the dependency order in AndroidStudio has the IDE re-write them automatically. And, even if you manage to change the order by modifying the .iml file, you will get a &quot;class not found...&quot;. This is because the Test output path cannot be set on AndroidStudio.\r\n\r\nActually, there is solution to make AndroidStudio, Junit and Robolectric working together. Take a look at this https://github.com/JCAndKSolutions/android-unit-test and use this plugin as well : https://github.com/evant/android-studio-unit-test-plugin\r\n\r\nWorks perfectly for me.","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>For everyone who is reading this post and still have the same issue with AndroidStudio 1.0. You cannot change the dependency order in AndroidStudio has the IDE re-write them automatically. And, even if you manage to change the order by modifying the .iml file, you will get a \"class not found...\". This is because the Test output path cannot be set on AndroidStudio.</p>\n\n<p>Actually, there is solution to make AndroidStudio, Junit and Robolectric working together. Take a look at this <a href=\"https://github.com/JCAndKSolutions/android-unit-test\" rel=\"nofollow\">https://github.com/JCAndKSolutions/android-unit-test</a> and use this plugin as well : <a href=\"https://github.com/evant/android-studio-unit-test-plugin\" rel=\"nofollow\">https://github.com/evant/android-studio-unit-test-plugin</a></p>\n\n<p>Works perfectly for me.</p>\n"},{"tags":[],"owner":{"account_id":4013975,"reputation":13817,"user_id":3306656,"display_name":"ZahiC"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1423398457,"creation_date":1423397778,"answer_id":28393815,"question_id":2422378,"body_markdown":"For Android Studio - starting from [Android Studio 1.1 Beta 4][1], Google has added support for Android [Gradle plugin 1.1.0-RC][2]. The new plugin supports Unit Testing through Android Studio using junit 4+.\r\n\r\nThis is still experimental and there are some [manual steps][2] to set this up.\r\n\r\n\r\n  [1]: http://tools.android.com/recent/androidstudio11betaavailable\r\n  [2]: http://tools.android.com/tech-docs/unit-testing-support","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>For Android Studio - starting from <a href=\"http://tools.android.com/recent/androidstudio11betaavailable\" rel=\"noreferrer\">Android Studio 1.1 Beta 4</a>, Google has added support for Android <a href=\"http://tools.android.com/tech-docs/unit-testing-support\" rel=\"noreferrer\">Gradle plugin 1.1.0-RC</a>. The new plugin supports Unit Testing through Android Studio using junit 4+.</p>\n\n<p>This is still experimental and there are some <a href=\"http://tools.android.com/tech-docs/unit-testing-support\" rel=\"noreferrer\">manual steps</a> to set this up.</p>\n"},{"tags":[],"owner":{"account_id":30438,"reputation":359,"user_id":83028,"display_name":"Yossi Shmueli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427867896,"creation_date":1427867896,"answer_id":29383806,"question_id":2422378,"body_markdown":"This happened to me as well in Android Studio 1.1 - although it should support unit tests without a plugin.\r\n\r\nOn other machines (same project, same version of AS) I found that when running unit tests, the IDE does not add the android.jar file to the classpath, while in my machine it does.\r\n\r\nMy best guess was that due to the conversion we did from Maven to Gradle and moving from intellij to AS some cache of settings remained somewhere in my machine that caused android.jar to be added to the classpath.\r\n\r\nWhat I did is to clear all android related caches from my machine (under the c:\\users\\USRE_NAME folder):\r\n.android\r\n.AndroidStudio\r\n.gradle\r\n.m2\r\n\r\nAfter that I reopened the project and the tests worked.\r\n\r\nStill trying to understand what went wrong, but this should do the trick for now.","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>This happened to me as well in Android Studio 1.1 - although it should support unit tests without a plugin.</p>\n\n<p>On other machines (same project, same version of AS) I found that when running unit tests, the IDE does not add the android.jar file to the classpath, while in my machine it does.</p>\n\n<p>My best guess was that due to the conversion we did from Maven to Gradle and moving from intellij to AS some cache of settings remained somewhere in my machine that caused android.jar to be added to the classpath.</p>\n\n<p>What I did is to clear all android related caches from my machine (under the c:\\users\\USRE_NAME folder):\n.android\n.AndroidStudio\n.gradle\n.m2</p>\n\n<p>After that I reopened the project and the tests worked.</p>\n\n<p>Still trying to understand what went wrong, but this should do the trick for now.</p>\n"},{"tags":[],"owner":{"account_id":1014277,"reputation":517,"user_id":1026194,"display_name":"Uwe Post"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1430225814,"creation_date":1430225814,"answer_id":29920196,"question_id":2422378,"body_markdown":"I had this problem with a multi module project (libgdx). One module is pure Java and has tests.\r\nMy solution was to set &quot;use alternative JRE&quot; to &quot;Java 1.8&quot; in the run configuration of my unit tests. This makes sure no android.jar is on the classpath and the junit 4.x runner is used.","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>I had this problem with a multi module project (libgdx). One module is pure Java and has tests.\nMy solution was to set \"use alternative JRE\" to \"Java 1.8\" in the run configuration of my unit tests. This makes sure no android.jar is on the classpath and the junit 4.x runner is used.</p>\n"},{"tags":[],"owner":{"account_id":3472792,"reputation":1260,"user_id":2906739,"accept_rate":70,"display_name":"Matthias T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453199525,"creation_date":1453199525,"answer_id":34874440,"question_id":2422378,"body_markdown":"I had this issue in Android Studio 1.5, because I did not know that I had to switch the &quot;Test Artifact&quot; setting in the &quot;Build Variants&quot; (lower left corner of  the main window) from &quot;Android Instrumentation Tests&quot; to &quot;Unit Tests&quot;. When you do, you can see an ExampleUnitTest.java file in the Project window.","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>I had this issue in Android Studio 1.5, because I did not know that I had to switch the \"Test Artifact\" setting in the \"Build Variants\" (lower left corner of  the main window) from \"Android Instrumentation Tests\" to \"Unit Tests\". When you do, you can see an ExampleUnitTest.java file in the Project window.</p>\n"},{"tags":[],"owner":{"account_id":62808,"reputation":8358,"user_id":186334,"accept_rate":76,"display_name":"CallMeLaNN"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1455127869,"creation_date":1455127869,"answer_id":35322810,"question_id":2422378,"body_markdown":"I got the same error when creating both `Unit Test` and `Android Instrument Test` in Android Studio 1.4+ and it started to get confused. To avoid this error **make sure your test class is fall under `Android Tests` on `Run/Debug Configurations`**\r\n\r\n1. Make sure you follow the instruction properly https://developer.android.com/training/testing/unit-testing/instrumented-unit-tests.html\r\n2. Make sure `Test Artifact` in `Build Variants` is set to `Android Instrumentation Tests`\r\n3. Click menu `Run` &gt; `Edit Configuration`\r\n4. Make sure your class/method name is inside `Android Tests` instead of `JUnit`\r\n5. If it is in `JUnit` simply delete the config and right click on the file you want to test and `Run` again. It will then create the config under `Android Tests` section and it run on device/emulator.","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>I got the same error when creating both <code>Unit Test</code> and <code>Android Instrument Test</code> in Android Studio 1.4+ and it started to get confused. To avoid this error <strong>make sure your test class is fall under <code>Android Tests</code> on <code>Run/Debug Configurations</code></strong></p>\n\n<ol>\n<li>Make sure you follow the instruction properly <a href=\"https://developer.android.com/training/testing/unit-testing/instrumented-unit-tests.html\" rel=\"noreferrer\">https://developer.android.com/training/testing/unit-testing/instrumented-unit-tests.html</a></li>\n<li>Make sure <code>Test Artifact</code> in <code>Build Variants</code> is set to <code>Android Instrumentation Tests</code></li>\n<li>Click menu <code>Run</code> > <code>Edit Configuration</code></li>\n<li>Make sure your class/method name is inside <code>Android Tests</code> instead of <code>JUnit</code></li>\n<li>If it is in <code>JUnit</code> simply delete the config and right click on the file you want to test and <code>Run</code> again. It will then create the config under <code>Android Tests</code> section and it run on device/emulator.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7609722,"reputation":3939,"user_id":5771029,"accept_rate":100,"display_name":"Winter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491867020,"creation_date":1491867020,"answer_id":43334445,"question_id":2422378,"body_markdown":"I had the same problem but for another reason. I was on IntelliJ with a regular java gradle project (not android) but the JDK was set to the Android SDK in `Project Structure` (was the default JDK for some reasons). This is really dumb but IntelliJ wasn&#39;t nice enough to indicate me what&#39;s wrong, so I got stuck on that.","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>I had the same problem but for another reason. I was on IntelliJ with a regular java gradle project (not android) but the JDK was set to the Android SDK in <code>Project Structure</code> (was the default JDK for some reasons). This is really dumb but IntelliJ wasn't nice enough to indicate me what's wrong, so I got stuck on that.</p>\n"},{"tags":[],"owner":{"account_id":1897481,"reputation":1530,"user_id":1714102,"display_name":"PrzemekTom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1496391018,"creation_date":1496391018,"answer_id":44323911,"question_id":2422378,"body_markdown":"In Android project I had `minifyEnabled = true`, after I changed it to `false` everything worked.","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>In Android project I had <code>minifyEnabled = true</code>, after I changed it to <code>false</code> everything worked.</p>\n"},{"tags":[],"owner":{"account_id":3314914,"reputation":3432,"user_id":2787507,"accept_rate":23,"display_name":"nutella_eater"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1515454572,"creation_date":1497340869,"answer_id":44515592,"question_id":2422378,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/WsD70.png\r\n\r\nmy module is a java library module, so changing JRE to 1.8 java solved the issue.\r\n\r\nOr, you can also do it globally via Module Settings &gt; SDK Location &gt; JDK, specifying Oracle&#39;s JDK 8 instead of Android SDK&#39;s copy.","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p><a href=\"https://i.stack.imgur.com/WsD70.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/WsD70.png\" alt=\"enter image description here\"></a></p>\n\n<p>my module is a java library module, so changing JRE to 1.8 java solved the issue.</p>\n\n<p>Or, you can also do it globally via Module Settings > SDK Location > JDK, specifying Oracle's JDK 8 instead of Android SDK's copy.</p>\n"},{"tags":[],"owner":{"account_id":936763,"reputation":1877,"user_id":965569,"display_name":"Chiara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1498725877,"creation_date":1498725877,"answer_id":44820309,"question_id":2422378,"body_markdown":"If you remove\r\n\r\n    testOptions {\r\n        unitTests.returnDefaultValues = true\r\n    }\r\n\r\nfrom your `build.gradle` it will work","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>If you remove</p>\n\n<pre><code>testOptions {\n    unitTests.returnDefaultValues = true\n}\n</code></pre>\n\n<p>from your <code>build.gradle</code> it will work</p>\n"},{"tags":[],"owner":{"account_id":3083445,"reputation":16847,"user_id":2611161,"accept_rate":57,"display_name":"Kevin ABRIOUX"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1503665757,"creation_date":1503665757,"answer_id":45881960,"question_id":2422378,"body_markdown":"I have got the same error when i have create my own junit package\r\n\r\n[![enter image description here][1]][1]\r\n\r\nTo fix this, i have added these two lines in my app gradle file as it&#39;s explained [here][2] :\r\n\r\n    dependencies {\r\n        ...\r\n        // Required -- JUnit 4 framework\r\n        testCompile &#39;junit:junit:4.12&#39;\r\n        // Optional -- Mockito framework\r\n        testCompile &#39;org.mockito:mockito-core:1.10.19&#39;\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UZluB.png\r\n  [2]: https://developer.android.com/training/testing/unit-testing/local-unit-tests.html#build","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>I have got the same error when i have create my own junit package</p>\n\n<p><a href=\"https://i.stack.imgur.com/UZluB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UZluB.png\" alt=\"enter image description here\"></a></p>\n\n<p>To fix this, i have added these two lines in my app gradle file as it's explained <a href=\"https://developer.android.com/training/testing/unit-testing/local-unit-tests.html#build\" rel=\"nofollow noreferrer\">here</a> :</p>\n\n<pre><code>dependencies {\n    ...\n    // Required -- JUnit 4 framework\n    testCompile 'junit:junit:4.12'\n    // Optional -- Mockito framework\n    testCompile 'org.mockito:mockito-core:1.10.19'\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6736185,"reputation":1154,"user_id":5190902,"accept_rate":91,"display_name":"liminal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1511585058,"creation_date":1511585058,"answer_id":47482685,"question_id":2422378,"body_markdown":"This is how I solved it:\r\n\r\nEdit Configurations -&gt; Defaults -&gt; Android JUnit -&gt; Add the following to Working Directory:\r\n\r\n$MODULE_DIR$","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>This is how I solved it:</p>\n\n<p>Edit Configurations -> Defaults -> Android JUnit -> Add the following to Working Directory:</p>\n\n<p>$MODULE_DIR$</p>\n"},{"tags":[],"owner":{"account_id":5156984,"reputation":289,"user_id":4129966,"display_name":"Lin W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516737546,"creation_date":1516737546,"answer_id":48409855,"question_id":2422378,"body_markdown":"Go to Project Structure -&gt; Platform Setting, change SDKs to 1.8\r\nsolved my problem.","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>Go to Project Structure -> Platform Setting, change SDKs to 1.8\nsolved my problem.</p>\n"},{"tags":[],"owner":{"account_id":4469997,"reputation":3994,"user_id":3636561,"display_name":"Abdul Rizwan"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1530081125,"creation_date":1530081125,"answer_id":51055996,"question_id":2422378,"body_markdown":"I was also facing the same issue, after changing into build.gradle it&#39;s working fine for me.\r\n\r\n**change your junit version inside build.gradle to:** \r\n\r\n        testImplementation &#39;junit:junit:3.8&#39;\r\n","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>I was also facing the same issue, after changing into build.gradle it's working fine for me.</p>\n\n<p><strong>change your junit version inside build.gradle to:</strong> </p>\n\n<pre><code>    testImplementation 'junit:junit:3.8'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7424453,"reputation":13,"user_id":5647470,"display_name":"Ayman Harake"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548685457,"creation_date":1548685457,"answer_id":54404014,"question_id":2422378,"body_markdown":"I followed CrazyCoder&#39;s answer but there was no junit file shown in dependencies. so i downloaded one from http://www.java2s.com/Code/Jar/j/Downloadjunitjar.htm, then added it by pressing the plus button on the right. And it worked","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>I followed CrazyCoder's answer but there was no junit file shown in dependencies. so i downloaded one from <a href=\"http://www.java2s.com/Code/Jar/j/Downloadjunitjar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/j/Downloadjunitjar.htm</a>, then added it by pressing the plus button on the right. And it worked</p>\n"},{"tags":[],"owner":{"account_id":4298746,"reputation":469,"user_id":3513016,"display_name":"Wojciech Sadurski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550080734,"creation_date":1550080734,"answer_id":54676605,"question_id":2422378,"body_markdown":"Turning off &quot;Use embedded JDK&quot; in Project Structure/SDK Location is what helped in my case but I don&#39;t know exactly what was the reason it was failing in the first place.","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>Turning off \"Use embedded JDK\" in Project Structure/SDK Location is what helped in my case but I don't know exactly what was the reason it was failing in the first place.</p>\n"},{"tags":[],"owner":{"account_id":7768865,"reputation":403,"user_id":5879171,"display_name":"DB377"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561440341,"creation_date":1561440341,"answer_id":56747322,"question_id":2422378,"body_markdown":"Replace your **android.jar** in **libs** folder with the latest one.\r\nYou can download it from  [here][1]\r\n\r\n\r\n  [1]: https://jar-download.com/artifacts/com.google.android/android","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>Replace your <strong>android.jar</strong> in <strong>libs</strong> folder with the latest one.\nYou can download it from  <a href=\"https://jar-download.com/artifacts/com.google.android/android\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":16391147,"reputation":1,"user_id":11839853,"display_name":"CrazyLiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564124803,"creation_date":1564122032,"answer_id":57214189,"question_id":2422378,"body_markdown":"In AndroidStudio, `Open Project Structure -&gt; SDK Location`, you can see `JDK` location, change use **&quot;Use embedded JDK&quot;** to you own `JDK` to apply, then change back to **&quot;Use embedded JDK&quot;**, it&#39;s maybe work","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>In AndroidStudio, <code>Open Project Structure -&gt; SDK Location</code>, you can see <code>JDK</code> location, change use <strong>\"Use embedded JDK\"</strong> to you own <code>JDK</code> to apply, then change back to <strong>\"Use embedded JDK\"</strong>, it's maybe work</p>\n"},{"tags":[],"owner":{"account_id":5431205,"reputation":858,"user_id":4322022,"display_name":"shocking"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1564704919,"creation_date":1564704919,"answer_id":57318492,"question_id":2422378,"body_markdown":"For me this problem was caused by an outdated/broken run configuration for the tests. I simply had to delete the configuration, then create a new one and the problem was fixed.\r\n\r\n[![Delete the old test configuration][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jGL1C.png","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>For me this problem was caused by an outdated/broken run configuration for the tests. I simply had to delete the configuration, then create a new one and the problem was fixed.</p>\n\n<p><a href=\"https://i.stack.imgur.com/jGL1C.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jGL1C.png\" alt=\"Delete the old test configuration\"></a></p>\n"},{"tags":[],"owner":{"account_id":12578480,"reputation":933,"user_id":9150068,"display_name":"Chenhe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1583758558,"creation_date":1583758558,"answer_id":60601036,"question_id":2422378,"body_markdown":"In my case, change `JRE` in `Run Configurations` dose solve the problem, but when I click the run button next to the test function, the `JRE` options will reset to default.\r\n\r\nFinally, similar to @CrazyLiu &#39;s answer, in `Project Structure - SDK Location - JDK`, select `Embedded JDK`. Because there is no checkbox in Android Studio 3.6.","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>In my case, change <code>JRE</code> in <code>Run Configurations</code> dose solve the problem, but when I click the run button next to the test function, the <code>JRE</code> options will reset to default.</p>\n\n<p>Finally, similar to @CrazyLiu 's answer, in <code>Project Structure - SDK Location - JDK</code>, select <code>Embedded JDK</code>. Because there is no checkbox in Android Studio 3.6.</p>\n"},{"tags":[],"owner":{"account_id":5642273,"reputation":1631,"user_id":4465690,"display_name":"Olli"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1590145304,"creation_date":1590145304,"answer_id":61953518,"question_id":2422378,"body_markdown":"I got the same message\r\n```\r\nJUnit version 3.8 or later expected\r\n```\r\nby a simple beginner&#39;s mistake. I had used the same package names and class names on src/main and src/test for a class (the HomeController class in my case):\r\n```\r\nmy-test-project\r\n  +--pom.xml\r\n  +--src\r\n    +--main\r\n      +--com\r\n        +--example\r\n          +--Application.java\r\n          +--controller\r\n            +--HomeController.java\r\n    +--test\r\n      +--com\r\n        +--example\r\n          +--ApplicationTest.java\r\n          +--controller\r\n            +--HomeController.java  &lt;---- same package and class name: not good!\r\n```\r\nWith that, the src/main HomeController class, as well as the src/test HomeController class, had the same full path:\r\n```\r\ncom.example.controller.HomeController.class\r\n```\r\nThe result: any tests that were dependent on the HomeController class have failed.\r\n\r\nEither changing the package name and/or the class name has resolved the issue. Here the example, when both, the package name and the class name is changed:\r\n\r\n```\r\nmy-test-project\r\n  +--pom.xml\r\n  +--src\r\n    +--main\r\n      +--com\r\n        +--example\r\n          +--Application.java\r\n          +--controller\r\n            +--HomeController.java\r\n    +--test\r\n      +--com\r\n        +--example\r\n          +--test                       &lt;---- added (optional)\r\n            +--ApplicationTest.java\r\n            +--controller\r\n              +--HomeControllerTest.java    &lt;---- changed\r\n```\r\nNow the fully qualified class names differ. The src/main HomeController class name is:\r\n```\r\ncom.example.controller.HomeController.class\r\n```\r\nand the src/test HomeHontrollerTest class name is:\r\n```\r\ncom.example.test.controller.HomeControllerTest.class\r\n```\r\nWith the fully qualified class names being unique, the problem disappears.\r\n","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>I got the same message</p>\n\n<pre><code>JUnit version 3.8 or later expected\n</code></pre>\n\n<p>by a simple beginner's mistake. I had used the same package names and class names on src/main and src/test for a class (the HomeController class in my case):</p>\n\n<pre><code>my-test-project\n  +--pom.xml\n  +--src\n    +--main\n      +--com\n        +--example\n          +--Application.java\n          +--controller\n            +--HomeController.java\n    +--test\n      +--com\n        +--example\n          +--ApplicationTest.java\n          +--controller\n            +--HomeController.java  &lt;---- same package and class name: not good!\n</code></pre>\n\n<p>With that, the src/main HomeController class, as well as the src/test HomeController class, had the same full path:</p>\n\n<pre><code>com.example.controller.HomeController.class\n</code></pre>\n\n<p>The result: any tests that were dependent on the HomeController class have failed.</p>\n\n<p>Either changing the package name and/or the class name has resolved the issue. Here the example, when both, the package name and the class name is changed:</p>\n\n<pre><code>my-test-project\n  +--pom.xml\n  +--src\n    +--main\n      +--com\n        +--example\n          +--Application.java\n          +--controller\n            +--HomeController.java\n    +--test\n      +--com\n        +--example\n          +--test                       &lt;---- added (optional)\n            +--ApplicationTest.java\n            +--controller\n              +--HomeControllerTest.java    &lt;---- changed\n</code></pre>\n\n<p>Now the fully qualified class names differ. The src/main HomeController class name is:</p>\n\n<pre><code>com.example.controller.HomeController.class\n</code></pre>\n\n<p>and the src/test HomeHontrollerTest class name is:</p>\n\n<pre><code>com.example.test.controller.HomeControllerTest.class\n</code></pre>\n\n<p>With the fully qualified class names being unique, the problem disappears.</p>\n"},{"tags":[],"owner":{"account_id":6980823,"reputation":639,"user_id":5353824,"display_name":"SystemsInCode"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1601998187,"creation_date":1601998187,"answer_id":64229016,"question_id":2422378,"body_markdown":"None of the above worked for me (Intellij 2019.3.5\r\nBuild #IU-193.7288.26), finally using &#39;re-import all projects&#39; button on the maven pane worked.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gikOj.png","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>None of the above worked for me (Intellij 2019.3.5\nBuild #IU-193.7288.26), finally using 're-import all projects' button on the maven pane worked.\n<a href=\"https://i.stack.imgur.com/gikOj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gikOj.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":17043227,"reputation":691,"user_id":12330595,"display_name":"Timur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616589877,"creation_date":1616589877,"answer_id":66781328,"question_id":2422378,"body_markdown":"For me, i did delete **useLibrary &#39;android.test.runner&#39;** line in **android {}** block at **bulid.gradle** module file and everything worked fine.","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>For me, i did delete <strong>useLibrary 'android.test.runner'</strong> line in <strong>android {}</strong> block at <strong>bulid.gradle</strong> module file and everything worked fine.</p>\n"},{"tags":[],"owner":{"account_id":1381104,"reputation":704,"user_id":1314077,"display_name":"inferno"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1630572246,"creation_date":1630572246,"answer_id":69026932,"question_id":2422378,"body_markdown":"Worked when I update IDEA version to 2021.2.1.","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>Worked when I update IDEA version to 2021.2.1.</p>\n"},{"tags":[],"owner":{"account_id":16816966,"reputation":1,"user_id":12158545,"display_name":"David Martinez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669033289,"creation_date":1669033263,"answer_id":74518841,"question_id":2422378,"body_markdown":"I had the same problem in a Java 11 with Spring project, turns out when I tried to run the test, I put the wrong &quot;shorten command&quot; option.\r\n\r\nUsing the &quot;JAR Manifest&quot; option fixed the issue.\r\n\r\n[IntelliJ shorten command options][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mDOw2.png","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>I had the same problem in a Java 11 with Spring project, turns out when I tried to run the test, I put the wrong &quot;shorten command&quot; option.</p>\n<p>Using the &quot;JAR Manifest&quot; option fixed the issue.</p>\n<p><a href=\"https://i.stack.imgur.com/mDOw2.png\" rel=\"nofollow noreferrer\">IntelliJ shorten command options</a></p>\n"}],"owner":{"account_id":34618,"reputation":33031,"user_id":97901,"accept_rate":62,"display_name":"benstpierre"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94030,"favorite_count":0,"down_vote_count":0,"up_vote_count":219,"accepted_answer_id":2431427,"answer_count":27,"score":219,"last_activity_date":1669033289,"creation_date":1268278691,"question_id":2422378,"body_markdown":"When I attempt to run the following test in [IntelliJ IDEA][1] I get the message:\r\n\r\n&gt; &quot;!!! JUnit version 3.8 or later expected:&quot;\r\n\r\nIt should be noted that this is an [Android][2] project I am working on in IntelliJ IDEA 9.\r\n\r\n    public class GameScoreUtilTest {\r\n        @Test\r\n        public void testCalculateResults() throws Exception {\r\n            final Game game = new Game();\r\n\r\n            final Player player1 = new Player();\r\n            {\r\n                final PlayedHole playedHole = new PlayedHole();\r\n                playedHole.setScore(1);\r\n                game.getHoleScoreMap().put(player1, playedHole);\r\n            }\r\n            {\r\n                final PlayedHole playedHole = new PlayedHole();\r\n                playedHole.setScore(3);\r\n                game.getHoleScoreMap().put(player1, playedHole);\r\n            }\r\n            final GameResults gameResults = GameScoreUtil.calculateResults(game);\r\n\r\n            assertEquals(4, gameResults.getScore());\r\n        }\r\n    }\r\n\r\nThe full stack trace looks like this...\r\n\r\n    !!! JUnit version 3.8 or later expected:\r\n    \r\n    java.lang.RuntimeException: Stub!\r\n        at junit.runner.BaseTestRunner.&lt;init&gt;(BaseTestRunner.java:5)\r\n        at junit.textui.TestRunner.&lt;init&gt;(TestRunner.java:54)\r\n        at junit.textui.TestRunner.&lt;init&gt;(TestRunner.java:48)\r\n        at junit.textui.TestRunner.&lt;init&gt;(TestRunner.java:41)\r\n        at com.intellij.rt.execution.junit.JUnitStarter.junitVersionChecks(JUnitStarter.java:152)\r\n        at com.intellij.rt.execution.junit.JUnitStarter.canWorkWithJUnitVersion(JUnitStarter.java:136)\r\n        at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:49)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\r\n        at java.lang.reflect.Method.invoke(Method.java:597)\r\n        at com.intellij.rt.execution.application.AppMain.main(AppMain.java:110)\r\n\r\n    Process finished with exit code -3\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [2]: http://en.wikipedia.org/wiki/Android_%28operating_system%29","title":"IntelliJ IDEA with Junit 4.7 &quot;!!! JUnit version 3.8 or later expected:&quot;","body":"<p>When I attempt to run the following test in <a href=\"http://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"noreferrer\">IntelliJ IDEA</a> I get the message:</p>\n\n<blockquote>\n  <p>\"!!! JUnit version 3.8 or later expected:\"</p>\n</blockquote>\n\n<p>It should be noted that this is an <a href=\"http://en.wikipedia.org/wiki/Android_%28operating_system%29\" rel=\"noreferrer\">Android</a> project I am working on in IntelliJ IDEA 9.</p>\n\n<pre><code>public class GameScoreUtilTest {\n    @Test\n    public void testCalculateResults() throws Exception {\n        final Game game = new Game();\n\n        final Player player1 = new Player();\n        {\n            final PlayedHole playedHole = new PlayedHole();\n            playedHole.setScore(1);\n            game.getHoleScoreMap().put(player1, playedHole);\n        }\n        {\n            final PlayedHole playedHole = new PlayedHole();\n            playedHole.setScore(3);\n            game.getHoleScoreMap().put(player1, playedHole);\n        }\n        final GameResults gameResults = GameScoreUtil.calculateResults(game);\n\n        assertEquals(4, gameResults.getScore());\n    }\n}\n</code></pre>\n\n<p>The full stack trace looks like this...</p>\n\n<pre><code>!!! JUnit version 3.8 or later expected:\n\njava.lang.RuntimeException: Stub!\n    at junit.runner.BaseTestRunner.&lt;init&gt;(BaseTestRunner.java:5)\n    at junit.textui.TestRunner.&lt;init&gt;(TestRunner.java:54)\n    at junit.textui.TestRunner.&lt;init&gt;(TestRunner.java:48)\n    at junit.textui.TestRunner.&lt;init&gt;(TestRunner.java:41)\n    at com.intellij.rt.execution.junit.JUnitStarter.junitVersionChecks(JUnitStarter.java:152)\n    at com.intellij.rt.execution.junit.JUnitStarter.canWorkWithJUnitVersion(JUnitStarter.java:136)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:49)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)\n    at java.lang.reflect.Method.invoke(Method.java:597)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:110)\n\nProcess finished with exit code -3\n</code></pre>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1645535062,"post_id":71221778,"comment_id":125892255,"body_markdown":"This `Apache Maven 3.6.3 ..Maven home: /usr/share/maven` show that is not original Apache Maven. This is an installation by the OS. Remove the installation. Download from here: https://maven.apache.org/download.cgi (Also I would recommend to use the most recent version of Maven and not an old one)","body":"This <code>Apache Maven 3.6.3 ..Maven home: &#47;usr&#47;share&#47;maven</code> show that is not original Apache Maven. This is an installation by the OS. Remove the installation. Download from here: <a href=\"https://maven.apache.org/download.cgi\" rel=\"nofollow noreferrer\">maven.apache.org/download.cgi</a> (Also I would recommend to use the most recent version of Maven and not an old one)"}],"answers":[{"tags":[],"owner":{"account_id":20171356,"reputation":349,"user_id":14794107,"display_name":"MrKleeblatt"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1658747812,"creation_date":1658747812,"answer_id":73108335,"question_id":71221778,"body_markdown":"The problem is that you maven version is too old, similar to [this qustion][1].\r\nTry updating maven manually.\r\nIf you have curl installed, run\r\n\r\n    curl -O https://dlcdn.apache.org/maven/maven-3/3.8.6/binaries/apache-maven-3.8.6-bin.zip\r\nin the directory that should contain maven at the end. Unzip it with\r\n\r\n    unzip apache-maven-3.8.6-bin.zip\r\nThere should now be a new directory called `apache-maven-3.8.6`. Now add `apache-maven-3.8.6/bin` to your PATH. If you don&#39;t know how to do this: add\r\n\r\n    export PATH=&quot;$PATH:YOURPATH/apache-maven-3.8.6/bin&quot;\r\nto `~/.profile`. But remember to change `YOURPATH` to the path where the `apache-maven-3.8.6` directory is located.\r\n\r\n  [1]: https://stackoverflow.com/a/67880794/14794107","title":"Maven error: Unable to load cache item not working on vps but works locally","body":"<p>The problem is that you maven version is too old, similar to <a href=\"https://stackoverflow.com/a/67880794/14794107\">this qustion</a>.\nTry updating maven manually.\nIf you have curl installed, run</p>\n<pre><code>curl -O https://dlcdn.apache.org/maven/maven-3/3.8.6/binaries/apache-maven-3.8.6-bin.zip\n</code></pre>\n<p>in the directory that should contain maven at the end. Unzip it with</p>\n<pre><code>unzip apache-maven-3.8.6-bin.zip\n</code></pre>\n<p>There should now be a new directory called <code>apache-maven-3.8.6</code>. Now add <code>apache-maven-3.8.6/bin</code> to your PATH. If you don't know how to do this: add</p>\n<pre><code>export PATH=&quot;$PATH:YOURPATH/apache-maven-3.8.6/bin&quot;\n</code></pre>\n<p>to <code>~/.profile</code>. But remember to change <code>YOURPATH</code> to the path where the <code>apache-maven-3.8.6</code> directory is located.</p>\n"},{"tags":[],"owner":{"account_id":16319704,"reputation":1245,"user_id":11785852,"display_name":"Ruchira Nawarathna"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669032976,"creation_date":1669032976,"answer_id":74518761,"question_id":71221778,"body_markdown":"Your maven version and java version are not compatible. You have two options to follow. \r\n\r\n**1. Update maven version**\r\nFor this may be you can follow steps mentioned in [MrKleeblatt&#39;s answer][1] above. \r\n\r\n**2. Change java version**\r\nIn my case I had to follow this method as I was working in a legacy project. \r\n\r\nStep 1: Select java version\r\n\r\n    sudo update-alternatives --config java\r\n\r\n    There are 3 choices for the alternative java (providing /usr/bin/java).\r\n      Selection    Path                                            Priority   Status\r\n    ------------------------------------------------------------\r\n    * 0            /usr/lib/jvm/java-17-openjdk-amd64/bin/java      1711      auto mode\r\n    1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      manual mode    \r\n    2            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode\r\n\r\n    Press &lt;enter&gt; to keep the current choice[*], or type selection number: 2\r\n    update-alternatives: using /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java to provide /usr/bin/java (java) in manual mode\r\n\r\n\r\nStep 2: Set environment variables\r\n\r\n    export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\n    export JRE_HOME=/usr/lib/jvm/java-8-openjdk-amd64\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/73108335/11785852","title":"Maven error: Unable to load cache item not working on vps but works locally","body":"<p>Your maven version and java version are not compatible. You have two options to follow.</p>\n<p><strong>1. Update maven version</strong>\nFor this may be you can follow steps mentioned in <a href=\"https://stackoverflow.com/a/73108335/11785852\">MrKleeblatt's answer</a> above.</p>\n<p><strong>2. Change java version</strong>\nIn my case I had to follow this method as I was working in a legacy project.</p>\n<p>Step 1: Select java version</p>\n<pre><code>sudo update-alternatives --config java\n\nThere are 3 choices for the alternative java (providing /usr/bin/java).\n  Selection    Path                                            Priority   Status\n------------------------------------------------------------\n* 0            /usr/lib/jvm/java-17-openjdk-amd64/bin/java      1711      auto mode\n1            /usr/lib/jvm/java-11-openjdk-amd64/bin/java      1111      manual mode    \n2            /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java   1081      manual mode\n\nPress &lt;enter&gt; to keep the current choice[*], or type selection number: 2\nupdate-alternatives: using /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java to provide /usr/bin/java (java) in manual mode\n</code></pre>\n<p>Step 2: Set environment variables</p>\n<pre><code>export JAVA_HOME=/usr/lib/jvm/java-8-openjdk-amd64\nexport JRE_HOME=/usr/lib/jvm/java-8-openjdk-amd64\n</code></pre>\n"}],"owner":{"account_id":12512970,"reputation":121,"user_id":9107365,"display_name":"Lenn Van Haverbeke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10630,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1669032976,"creation_date":1645534772,"question_id":71221778,"body_markdown":"So I have been trying to compile my maven project on a VPS and made sure that all the versions of maven and jdk are the same as on my system. I even use the same system yet when I compile it on the VPS I get the error:\r\n\r\n```\r\n[ERROR] Error executing Maven.\r\n[ERROR] java.lang.IllegalStateException: Unable to load cache item\r\n[ERROR] Caused by: Unable to load cache item\r\n[ERROR] Caused by: Could not initialize class com.google.inject.internal.cglib.core.$MethodWrapper\r\n```\r\n\r\nthe output of `mvn -v` is:\r\n```\r\nApache Maven 3.6.3\r\nMaven home: /usr/share/maven\r\nJava version: 17.0.1, vendor: Oracle Corporation, runtime: /usr/lib/jvm/java-17-oracle\r\nDefault locale: en, platform encoding: UTF-8\r\nOS name: &quot;linux&quot;, version: &quot;5.4.0-97-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\r\n```\r\n\r\noutput of `java -version` is:\r\n```\r\njava version &quot;17.0.1&quot; 2021-10-19 LTS\r\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\r\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\r\n```","title":"Maven error: Unable to load cache item not working on vps but works locally","body":"<p>So I have been trying to compile my maven project on a VPS and made sure that all the versions of maven and jdk are the same as on my system. I even use the same system yet when I compile it on the VPS I get the error:</p>\n<pre><code>[ERROR] Error executing Maven.\n[ERROR] java.lang.IllegalStateException: Unable to load cache item\n[ERROR] Caused by: Unable to load cache item\n[ERROR] Caused by: Could not initialize class com.google.inject.internal.cglib.core.$MethodWrapper\n</code></pre>\n<p>the output of <code>mvn -v</code> is:</p>\n<pre><code>Apache Maven 3.6.3\nMaven home: /usr/share/maven\nJava version: 17.0.1, vendor: Oracle Corporation, runtime: /usr/lib/jvm/java-17-oracle\nDefault locale: en, platform encoding: UTF-8\nOS name: &quot;linux&quot;, version: &quot;5.4.0-97-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;\n</code></pre>\n<p>output of <code>java -version</code> is:</p>\n<pre><code>java version &quot;17.0.1&quot; 2021-10-19 LTS\nJava(TM) SE Runtime Environment (build 17.0.1+12-LTS-39)\nJava HotSpot(TM) 64-Bit Server VM (build 17.0.1+12-LTS-39, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","spring-boot","keycloak"],"comments":[{"owner":{"account_id":190623,"reputation":2204,"user_id":430718,"display_name":"Hakan Dilek"},"score":1,"creation_date":1590744509,"post_id":62082685,"comment_id":109802340,"body_markdown":"did you checkout the REST API? https://www.keycloak.org/docs-api/10.0/rest-api/index.html","body":"did you checkout the REST API? <a href=\"https://www.keycloak.org/docs-api/10.0/rest-api/index.html\" rel=\"nofollow noreferrer\">keycloak.org/docs-api/10.0/rest-api/index.html</a>"},{"owner":{"account_id":6552450,"reputation":1002,"user_id":5066389,"accept_rate":33,"display_name":"michealAtmi"},"score":1,"creation_date":1590757679,"post_id":62082685,"comment_id":109809416,"body_markdown":"thanks, i will check that","body":"thanks, i will check that"}],"answers":[{"tags":[],"owner":{"account_id":13097427,"reputation":41,"user_id":9462935,"display_name":"Wassim M&#39;hamdi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1590746608,"creation_date":1590746608,"answer_id":62083431,"question_id":62082685,"body_markdown":"You can use the REST API by getting an access token from:\r\n\r\n@POST `${yourHost}/auth/realms/${yourRealm}/protocol/openid-connect/token`\r\n\r\nwith @RequestBody\r\n\r\n    {\r\n      &quot;client_id&quot;: &quot;admin-cli&quot;,\r\n      &quot;username&quot;: &quot;admin&quot;,\r\n      &quot;password&quot;: &quot;secret&quot;,\r\n      &quot;grant_type&quot;: &quot;password&quot;\r\n    }\r\n\r\n\r\nThen, call `${_HOST}/auth/admin/realms/${_REALM}/users`\r\n\r\nusing that token as a Header&#39;s parameter `&quot;Authorization: bearer &quot; + ${_TOKEN}`\r\n\r\nDo the same to get userByID, but by calling: `${_HOST}/auth/admin/realms/${_REALM}/users/${_USER_ID}`","title":"How to get user details from keycloak (not logged in user but any user by his id)","body":"<p>You can use the REST API by getting an access token from:</p>\n\n<p>@POST <code>${yourHost}/auth/realms/${yourRealm}/protocol/openid-connect/token</code></p>\n\n<p>with @RequestBody</p>\n\n<pre><code>{\n  \"client_id\": \"admin-cli\",\n  \"username\": \"admin\",\n  \"password\": \"secret\",\n  \"grant_type\": \"password\"\n}\n</code></pre>\n\n<p>Then, call <code>${_HOST}/auth/admin/realms/${_REALM}/users</code></p>\n\n<p>using that token as a Header's parameter <code>\"Authorization: bearer \" + ${_TOKEN}</code></p>\n\n<p>Do the same to get userByID, but by calling: <code>${_HOST}/auth/admin/realms/${_REALM}/users/${_USER_ID}</code></p>\n"}],"owner":{"account_id":6552450,"reputation":1002,"user_id":5066389,"accept_rate":33,"display_name":"michealAtmi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2506,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":62083431,"answer_count":1,"score":0,"last_activity_date":1669032953,"creation_date":1590744336,"question_id":62082685,"body_markdown":"In my Java web application with Spring Boot I have Keycloak authentication done but now I need to get user details of some user by id (not user that is logged in). Is it possible ? I want to get his roles, groups and data from Java code.\r\n ","title":"How to get user details from keycloak (not logged in user but any user by his id)","body":"<p>In my Java web application with Spring Boot I have Keycloak authentication done but now I need to get user details of some user by id (not user that is logged in). Is it possible ? I want to get his roles, groups and data from Java code.</p>\n"},{"tags":["java","asynchronous","spring-boot","threadpool"],"comments":[{"owner":{"account_id":3700031,"reputation":6378,"user_id":3080094,"display_name":"vanOekel"},"score":0,"creation_date":1481500019,"post_id":41068812,"comment_id":69389768,"body_markdown":"`ThreadPoolTaskExecutor` does not use `SimpleAsyncTaskExecutor`, it uses Java&#39;s standard [`ThreadPoolExecutor`](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html) (see the [implementation](https://github.com/spring-projects/spring-framework/blob/master/spring-context/src/main/java/org/springframework/scheduling/concurrent/ThreadPoolTaskExecutor.java)). So you are already sort of using the `ConcurrentTaskExecutor`.","body":"<code>ThreadPoolTaskExecutor</code> does not use <code>SimpleAsyncTaskExecutor</code>, it uses Java&#39;s standard <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ThreadPoolExecutor.html\" rel=\"nofollow noreferrer\"><code>ThreadPoolExecutor</code></a> (see the <a href=\"https://github.com/spring-projects/spring-framework/blob/master/spring-context/src/main/java/org/springframework/scheduling/concurrent/ThreadPoolTaskExecutor.java\" rel=\"nofollow noreferrer\">implementation</a>). So you are already sort of using the <code>ConcurrentTaskExecutor</code>."}],"answers":[{"tags":[],"owner":{"account_id":101108,"reputation":13957,"user_id":272180,"accept_rate":62,"display_name":"yglodt"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1587301006,"creation_date":1587227501,"answer_id":61292577,"question_id":41068812,"body_markdown":"To make your custom Executor work, make sure it&#39;s registered as a Bean, and reference it on the method annotated with `@Async`:\r\n\r\n\t@Bean(name = &quot;transcodingPoolTaskExecutor&quot;)\r\n\tpublic Executor transcodingPoolTaskExecutor() {\r\n\t\tfinal ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n\t\texecutor.setCorePoolSize(2);\r\n\t\texecutor.setMaxPoolSize(2);\r\n\t\texecutor.setQueueCapacity(500);\r\n\t\texecutor.setThreadNamePrefix(&quot;transcoder-&quot;);\r\n\t\texecutor.initialize();\r\n\t\treturn executor;\r\n\t}\r\n\r\nAnd in the `@Service` which is holding the method:\r\n\r\n\t@Async(&quot;transcodingPoolTaskExecutor&quot;)\r\n\tpublic void transcodeVideo(UUID fileId) {\r\n\t\tmediaFileService.transcodeVideo(fileId);\r\n\t}\r\n","title":"Custom ThreadPoolTaskExecutor with Spring Boot Async","body":"<p>To make your custom Executor work, make sure it's registered as a Bean, and reference it on the method annotated with <code>@Async</code>:</p>\n\n<pre><code>@Bean(name = \"transcodingPoolTaskExecutor\")\npublic Executor transcodingPoolTaskExecutor() {\n    final ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n    executor.setCorePoolSize(2);\n    executor.setMaxPoolSize(2);\n    executor.setQueueCapacity(500);\n    executor.setThreadNamePrefix(\"transcoder-\");\n    executor.initialize();\n    return executor;\n}\n</code></pre>\n\n<p>And in the <code>@Service</code> which is holding the method:</p>\n\n<pre><code>@Async(\"transcodingPoolTaskExecutor\")\npublic void transcodeVideo(UUID fileId) {\n    mediaFileService.transcodeVideo(fileId);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6257712,"reputation":443,"user_id":4865750,"accept_rate":80,"display_name":"iChrome"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1642333100,"creation_date":1642333100,"answer_id":70729659,"question_id":41068812,"body_markdown":"You can also redefine the default executor by creating a Configuration class which implements `AsyncConfigurer`. Something like this:\r\n\r\n    @EnableAsync\r\n    @Configuration\r\n    public class AsyncConfig implements AsyncConfigurer {\r\n        @Value(&quot;${async.executor.corePoolSize:20}&quot;)\r\n        private int corePoolSize;\r\n    \r\n        @Value(&quot;${async.executor.maxPoolSize:100}&quot;)\r\n        private int maxPoolSize;\r\n    \r\n        @Value(&quot;${async.executor.queueCapacity:50}&quot;)\r\n        private int queueCapacity;\r\n    \r\n        @Override\r\n        public Executor getAsyncExecutor() {\r\n            ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n            executor.setCorePoolSize(corePoolSize);\r\n            executor.setMaxPoolSize(maxPoolSize);\r\n            executor.setQueueCapacity(queueCapacity);\r\n            executor.setThreadNamePrefix(&quot;Async Executor -&quot;);\r\n            executor.initialize();\r\n            return executor;\r\n        }\r\n    }\r\n\r\nIn this case you wouldn&#39;t need to specify the executor name in `@Async` annotation. Spring will take executor, which you defined in `AsyncConfig`. \r\n    \r\nIt&#39;s very similar to the solution provided by yglodt, but in this case you don&#39;t need to specify the name of executor in every @Async annotation, so it removes potential misspelling in the executor name.","title":"Custom ThreadPoolTaskExecutor with Spring Boot Async","body":"<p>You can also redefine the default executor by creating a Configuration class which implements <code>AsyncConfigurer</code>. Something like this:</p>\n<pre><code>@EnableAsync\n@Configuration\npublic class AsyncConfig implements AsyncConfigurer {\n    @Value(&quot;${async.executor.corePoolSize:20}&quot;)\n    private int corePoolSize;\n\n    @Value(&quot;${async.executor.maxPoolSize:100}&quot;)\n    private int maxPoolSize;\n\n    @Value(&quot;${async.executor.queueCapacity:50}&quot;)\n    private int queueCapacity;\n\n    @Override\n    public Executor getAsyncExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(corePoolSize);\n        executor.setMaxPoolSize(maxPoolSize);\n        executor.setQueueCapacity(queueCapacity);\n        executor.setThreadNamePrefix(&quot;Async Executor -&quot;);\n        executor.initialize();\n        return executor;\n    }\n}\n</code></pre>\n<p>In this case you wouldn't need to specify the executor name in <code>@Async</code> annotation. Spring will take executor, which you defined in <code>AsyncConfig</code>.</p>\n<p>It's very similar to the solution provided by yglodt, but in this case you don't need to specify the name of executor in every @Async annotation, so it removes potential misspelling in the executor name.</p>\n"}],"owner":{"account_id":205049,"reputation":73345,"user_id":453596,"accept_rate":76,"display_name":"kamaci"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8263,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":2,"score":8,"last_activity_date":1669032722,"creation_date":1481317237,"question_id":41068812,"body_markdown":"I have a Spring Boot application which is responsible for answering requests via REST. I also push metrics about my application call. Since this is a separate task and I have to response users immediately, I want to make that metrics publishing asynchronously. So I&#39;ve used that:\r\n\r\n    ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n    executor.setCorePoolSize(2);\r\n    executor.setMaxPoolSize(2);\r\n    executor.setQueueCapacity(500);\r\n    executor.setThreadNamePrefix(&quot;MyApp-&quot;);\r\n    executor.initialize();\r\n    return executor;\r\n\r\nHowever, this one uses `SimpleAsyncTaskExecutor` and does not reuse any threads.\r\n\r\n1) How can I use `ConcurrentTaskExecutor` instead of `SimpleAsyncTaskExecutor`?\r\n\r\n2) Which implementation could best fit for my needs? ","title":"Custom ThreadPoolTaskExecutor with Spring Boot Async","body":"<p>I have a Spring Boot application which is responsible for answering requests via REST. I also push metrics about my application call. Since this is a separate task and I have to response users immediately, I want to make that metrics publishing asynchronously. So I've used that:</p>\n\n<pre><code>ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\nexecutor.setCorePoolSize(2);\nexecutor.setMaxPoolSize(2);\nexecutor.setQueueCapacity(500);\nexecutor.setThreadNamePrefix(\"MyApp-\");\nexecutor.initialize();\nreturn executor;\n</code></pre>\n\n<p>However, this one uses <code>SimpleAsyncTaskExecutor</code> and does not reuse any threads.</p>\n\n<p>1) How can I use <code>ConcurrentTaskExecutor</code> instead of <code>SimpleAsyncTaskExecutor</code>?</p>\n\n<p>2) Which implementation could best fit for my needs? </p>\n"},{"tags":["java","gradle","intellij-idea"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1669040698,"post_id":74518671,"comment_id":131546178,"body_markdown":"It is not recommended to set content roots via IDE settings when using Maven/Gradle because these settings will be lost after the project reimport. Please use build.gradle for that purpose. See also https://docs.gradle.org/current/userguide/organizing_gradle_projects.html","body":"It is not recommended to set content roots via IDE settings when using Maven/Gradle because these settings will be lost after the project reimport. Please use build.gradle for that purpose. See also <a href=\"https://docs.gradle.org/current/userguide/organizing_gradle_projects.html\" rel=\"nofollow noreferrer\">docs.gradle.org/current/userguide/&hellip;</a>"},{"owner":{"account_id":25489317,"reputation":259,"user_id":19284394,"display_name":"nicku"},"score":0,"creation_date":1669122508,"post_id":74518671,"comment_id":131567958,"body_markdown":"@EgorKlepikov the top folder `auto` is a module and the one under it `auto-api` is a directory. I am not sure how do I add code inside the directory because if I right click on it I only see options to create Files and Directories","body":"@EgorKlepikov the top folder <code>auto</code> is a module and the one under it <code>auto-api</code> is a directory. I am not sure how do I add code inside the directory because if I right click on it I only see options to create Files and Directories"}],"owner":{"account_id":25489317,"reputation":259,"user_id":19284394,"display_name":"nicku"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669032540,"creation_date":1669032540,"question_id":74518671,"body_markdown":"When I set the src folder in Intellij as `Set as source root` the folders under it main-&gt;java-&gt;restservice all becomes packages. In a standalone project it would not be the case and only the last folder `restservice` would become the package. I made my project in a new IntelliJ Gradle project. But then I had to put it into a new repository under a folder. The final structure looks like this:    \r\n[![enter image description here][1]][1]  \r\n  \r\nHere the files Application, Controller, Model.java, Utils, and the above folder structure is what I have added. The new repo `auto` had an empty `auto-api` folder and also some Gradle files. Since I created the files under `restservice` package in a separate IntelliJ. It had its own Gradle files.  \r\n**Some questions:**  \r\n- I am not sure if I should put them there or use the Gradle files in the top folder.\r\n- Apart from that, there is some issue with the folder structure which is causing the main and java folders also be treated as packages\r\n- Is it a good idea to create the `auto-api` as a module rather than a directory? Then it will be a submodule inside the `auto` module\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dEnuk.png","title":"Setting up multi module packages in Intellij","body":"<p>When I set the src folder in Intellij as <code>Set as source root</code> the folders under it main-&gt;java-&gt;restservice all becomes packages. In a standalone project it would not be the case and only the last folder <code>restservice</code> would become the package. I made my project in a new IntelliJ Gradle project. But then I had to put it into a new repository under a folder. The final structure looks like this:<br />\n<a href=\"https://i.stack.imgur.com/dEnuk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dEnuk.png\" alt=\"enter image description here\" /></a></p>\n<p>Here the files Application, Controller, Model.java, Utils, and the above folder structure is what I have added. The new repo <code>auto</code> had an empty <code>auto-api</code> folder and also some Gradle files. Since I created the files under <code>restservice</code> package in a separate IntelliJ. It had its own Gradle files.<br />\n<strong>Some questions:</strong></p>\n<ul>\n<li>I am not sure if I should put them there or use the Gradle files in the top folder.</li>\n<li>Apart from that, there is some issue with the folder structure which is causing the main and java folders also be treated as packages</li>\n<li>Is it a good idea to create the <code>auto-api</code> as a module rather than a directory? Then it will be a submodule inside the <code>auto</code> module</li>\n</ul>\n"},{"tags":["java","arrays","list","hashmap","time-complexity"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1668991540,"post_id":74513144,"comment_id":131534004,"body_markdown":"The goal is to check if the lists have exactly the same employees? If so your existing implementation doesn&#39;t do that at all.","body":"The goal is to check if the lists have exactly the same employees? If so your existing implementation doesn&#39;t do that at all."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1668991753,"post_id":74513144,"comment_id":131534031,"body_markdown":"But yes, you can use hash maps or hash sets to do this faster, whichever you intend. Think about how long it will take to load one entire list into into a hash map, then what you can do with each element of the other list using that hash map","body":"But yes, you can use hash maps or hash sets to do this faster, whichever you intend. Think about how long it will take to load one entire list into into a hash map, then what you can do with each element of the other list using that hash map"},{"owner":{"account_id":14499351,"reputation":77,"user_id":10473011,"display_name":"Aakash Choudhary"},"score":0,"creation_date":1668992148,"post_id":74513144,"comment_id":131534075,"body_markdown":"@EdwardPeters Could you please share the Map or set implementation?","body":"@EdwardPeters Could you please share the Map or set implementation?"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1668992196,"post_id":74513144,"comment_id":131534080,"body_markdown":"Try it yourself, and if you run into errors I&#39;ll help you understand and solve them.","body":"Try it yourself, and if you run into errors I&#39;ll help you understand and solve them."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669032146,"creation_date":1669031805,"answer_id":74518530,"question_id":74513144,"body_markdown":"You can use `HashSet` for that purpose. But for that, you need the `equals/hashCode` contract to be properly implemented.\r\n\r\nHere&#39;s an example:\r\n\r\n    public class EmployeeData {\r\n        private String name;\r\n        private String lastName;\r\n        private String joiningDate;\r\n        private String promotionDate;\r\n        \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            \r\n            return o instanceof EmployeeData other\r\n                &amp;&amp; Objects.equals(name, other.name)\r\n                &amp;&amp; Objects.equals(lastName, other.lastName)\r\n                &amp;&amp; Objects.equals(joiningDate, other.joiningDate)\r\n                &amp;&amp; Objects.equals(promotionDate, other.promotionDate);\r\n        }\r\n        \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(name, lastName, joiningDate, promotionDate);\r\n        }\r\n    }\r\n\r\nNow to check if at least one employee from the `currentEmployee` list is present in the `allEmployees` you can dump the contents of `allEmployees` into a `HashSet` and iterate over `currentEmployee` checking the elements against the set. Such check has an amortized cost of **O(1)**, therefore the overall time complexity would be **O(n)** (*n - represents the number of elements in the `currentEmployee` list).\r\n\r\n    public static boolean containsAny(List&lt;EmployeeData&gt; allEmployees,\r\n                                      List&lt;EmployeeData&gt; currentEmployees) {\r\n        \r\n        Set&lt;EmployeeData&gt; allEmp = new HashSet&lt;&gt;(allEmployees);\r\n    \r\n        for (EmployeeData currentEmployee : currentEmployees) {\r\n            if (allEmp.contains(currentEmployee)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nWe can make this code very concise by using Stream API.\r\n\r\n    public static boolean containsAny(List&lt;EmployeeData&gt; allEmployees,\r\n                                      List&lt;EmployeeData&gt; currentEmployees) {\r\n        \r\n        Set&lt;EmployeeData&gt; allEmp = new HashSet&lt;&gt;(allEmployees);\r\n        \r\n        return currentEmployees.stream().anyMatch(allEmp::contains);\r\n    }\r\n\r\n**Note:** this code behaves in exactly the same way as the snippet you&#39;re provided, i.e. it would return after the first match.\r\n\r\nIt you want to find out whether **all elements** from the `currentEmployee` list are present in the `currentEmployee`, then you can make use of the method `Collection.containsAll()`:\r\n\r\n    public static boolean containsAll(List&lt;EmployeeData&gt; allEmployees,\r\n                                      List&lt;EmployeeData&gt; currentEmployees) {\r\n        \r\n        Set&lt;EmployeeData&gt; allEmp = new HashSet&lt;&gt;(allEmployees);\r\n        \r\n        return allEmp.containsAll(currentEmployees);\r\n    }","title":"how to reduce the time complexity of two nested loop by using Map in java","body":"<p>You can use <code>HashSet</code> for that purpose. But for that, you need the <code>equals/hashCode</code> contract to be properly implemented.</p>\n<p>Here's an example:</p>\n<pre><code>public class EmployeeData {\n    private String name;\n    private String lastName;\n    private String joiningDate;\n    private String promotionDate;\n    \n    @Override\n    public boolean equals(Object o) {\n        \n        return o instanceof EmployeeData other\n            &amp;&amp; Objects.equals(name, other.name)\n            &amp;&amp; Objects.equals(lastName, other.lastName)\n            &amp;&amp; Objects.equals(joiningDate, other.joiningDate)\n            &amp;&amp; Objects.equals(promotionDate, other.promotionDate);\n    }\n    \n    @Override\n    public int hashCode() {\n        return Objects.hash(name, lastName, joiningDate, promotionDate);\n    }\n}\n</code></pre>\n<p>Now to check if at least one employee from the <code>currentEmployee</code> list is present in the <code>allEmployees</code> you can dump the contents of <code>allEmployees</code> into a <code>HashSet</code> and iterate over <code>currentEmployee</code> checking the elements against the set. Such check has an amortized cost of <strong>O(1)</strong>, therefore the overall time complexity would be <strong>O(n)</strong> (*n - represents the number of elements in the <code>currentEmployee</code> list).</p>\n<pre><code>public static boolean containsAny(List&lt;EmployeeData&gt; allEmployees,\n                                  List&lt;EmployeeData&gt; currentEmployees) {\n    \n    Set&lt;EmployeeData&gt; allEmp = new HashSet&lt;&gt;(allEmployees);\n\n    for (EmployeeData currentEmployee : currentEmployees) {\n        if (allEmp.contains(currentEmployee)) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n<p>We can make this code very concise by using Stream API.</p>\n<pre><code>public static boolean containsAny(List&lt;EmployeeData&gt; allEmployees,\n                                  List&lt;EmployeeData&gt; currentEmployees) {\n    \n    Set&lt;EmployeeData&gt; allEmp = new HashSet&lt;&gt;(allEmployees);\n    \n    return currentEmployees.stream().anyMatch(allEmp::contains);\n}\n</code></pre>\n<p><strong>Note:</strong> this code behaves in exactly the same way as the snippet you're provided, i.e. it would return after the first match.</p>\n<p>It you want to find out whether <strong>all elements</strong> from the <code>currentEmployee</code> list are present in the <code>currentEmployee</code>, then you can make use of the method <code>Collection.containsAll()</code>:</p>\n<pre><code>public static boolean containsAll(List&lt;EmployeeData&gt; allEmployees,\n                                  List&lt;EmployeeData&gt; currentEmployees) {\n    \n    Set&lt;EmployeeData&gt; allEmp = new HashSet&lt;&gt;(allEmployees);\n    \n    return allEmp.containsAll(currentEmployees);\n}\n</code></pre>\n"}],"owner":{"account_id":14499351,"reputation":77,"user_id":10473011,"display_name":"Aakash Choudhary"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":373,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669032146,"creation_date":1668991253,"question_id":74513144,"body_markdown":"I have two List of employeeData object \r\n\r\n```\r\nList&lt;EmployeeDatas&gt; allEmployees\r\nList&lt;EmployeeDatas&gt; currentEmployees\r\n\r\nClass EmployeeDatas {\r\nString name;\r\nString lastName;\r\nString joiningDate;\r\nString promotionDate;\r\n}\r\n\r\n```\r\nI want to compare the second list data with the first one without using the double nested loop\r\n\r\nif the data matched return true otherwise false.\r\n\r\n\r\n```\r\nfor (allEmployee : allEmployees) {\r\n    for ( currentEmployee : currentEmployees ) {\r\n         if(allEmployee.name.equal(currentEmployee.name) &amp;&amp;   \r\n                allEmployee.lastName.equal(currentEmployee.lastName) &amp;&amp; \r\n                allEmployee.joiningDate.equal(currentEmployee.joiningDate) &amp;&amp;\r\n                allEmployee.promotionDate.equal(currentEmployee.promotionDate)) {\r\n                     return true;\r\n                }\r\n    }\r\n}\r\n        \r\n\r\n```\r\nis it possible to use Map and solve it in O(N) time rather O(N^2)","title":"how to reduce the time complexity of two nested loop by using Map in java","body":"<p>I have two List of employeeData object</p>\n<pre><code>List&lt;EmployeeDatas&gt; allEmployees\nList&lt;EmployeeDatas&gt; currentEmployees\n\nClass EmployeeDatas {\nString name;\nString lastName;\nString joiningDate;\nString promotionDate;\n}\n\n</code></pre>\n<p>I want to compare the second list data with the first one without using the double nested loop</p>\n<p>if the data matched return true otherwise false.</p>\n<pre><code>for (allEmployee : allEmployees) {\n    for ( currentEmployee : currentEmployees ) {\n         if(allEmployee.name.equal(currentEmployee.name) &amp;&amp;   \n                allEmployee.lastName.equal(currentEmployee.lastName) &amp;&amp; \n                allEmployee.joiningDate.equal(currentEmployee.joiningDate) &amp;&amp;\n                allEmployee.promotionDate.equal(currentEmployee.promotionDate)) {\n                     return true;\n                }\n    }\n}\n        \n\n</code></pre>\n<p>is it possible to use Map and solve it in O(N) time rather O(N^2)</p>\n"},{"tags":["java","search","data-structures","overlap","date-range"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1668946446,"post_id":74492972,"comment_id":131524826,"body_markdown":"Special tree data structures for such situations exist. I believe that [*k*-d tree](https://en.wikipedia.org/wiki/K-d_tree) is one. Search for more.","body":"Special tree data structures for such situations exist. I believe that <a href=\"https://en.wikipedia.org/wiki/K-d_tree\" rel=\"nofollow noreferrer\"><i>k</i>-d tree</a> is one. Search for more."}],"answers":[{"tags":[],"owner":{"account_id":954755,"reputation":1794,"user_id":980270,"accept_rate":100,"display_name":"TilmannZ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669032024,"creation_date":1669032024,"answer_id":74518576,"question_id":74492972,"body_markdown":"There are specialized temporal data structures and databases that can do that. However, I think very few of them have free open-source implementations. The keyword to search for is *&quot;spatio-temporal indexing&quot;*.\r\n\r\nAs an alternative I think you can simply use any spatial index by encoding your data into two-dimensional &quot;rectangles&quot;, the first dimension is distance, the second is time. Then you can use window queries to find any &quot;rectangle&quot; (=event) that overlap with your any given event.\r\n\r\nIf you are looking for spatial data structures in Java, there is for example the [Tinspin Index Library][1] (disclaimer: I am the maintainer). I suggest trying the R-Tree, quadtree (qtplain or qthypercube) or the PH-tree.\r\n\r\nIf you have *a lot* of data and spatial indexing is not fast enough, you may want to look into *spatial join* indexing and querying.\r\n\r\n  [1]: https://github.com/tzaeschke/tinspin-indexes","title":"Best Data Structure in java to search all overlapt between two spatio temporal event","body":"<p>There are specialized temporal data structures and databases that can do that. However, I think very few of them have free open-source implementations. The keyword to search for is <em>&quot;spatio-temporal indexing&quot;</em>.</p>\n<p>As an alternative I think you can simply use any spatial index by encoding your data into two-dimensional &quot;rectangles&quot;, the first dimension is distance, the second is time. Then you can use window queries to find any &quot;rectangle&quot; (=event) that overlap with your any given event.</p>\n<p>If you are looking for spatial data structures in Java, there is for example the <a href=\"https://github.com/tzaeschke/tinspin-indexes\" rel=\"nofollow noreferrer\">Tinspin Index Library</a> (disclaimer: I am the maintainer). I suggest trying the R-Tree, quadtree (qtplain or qthypercube) or the PH-tree.</p>\n<p>If you have <em>a lot</em> of data and spatial indexing is not fast enough, you may want to look into <em>spatial join</em> indexing and querying.</p>\n"}],"owner":{"account_id":13462399,"reputation":7,"user_id":9713932,"display_name":"Andrea Bencini"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669032024,"creation_date":1668790458,"question_id":74492972,"body_markdown":"I have two different event defined in two different space and time range.\r\nThey are defined in the space by KilometerInitial, KilometerFinal.\r\nIn the time by InstantDateInitial and InstantDateFinal.\r\n\r\nI&#39;d like to finde the most efficent solution to find all overlap between one Event vs allEvent saved in the data structure.\r\n\r\nI am searching something like DataStructureEvents.Overlapping( Event )  \r\n\r\n\r\nI tried to use Treeset data structure , I used headset  to cut Event in spatial dimension that are started after the end of the event.\r\nAfter that i scroll backwards to find another event enpoint untill I reach a theshold that I define using business rules.\r\n\r\nBut I Hope that there are more efficent way to do it!","title":"Best Data Structure in java to search all overlapt between two spatio temporal event","body":"<p>I have two different event defined in two different space and time range.\nThey are defined in the space by KilometerInitial, KilometerFinal.\nIn the time by InstantDateInitial and InstantDateFinal.</p>\n<p>I'd like to finde the most efficent solution to find all overlap between one Event vs allEvent saved in the data structure.</p>\n<p>I am searching something like DataStructureEvents.Overlapping( Event )</p>\n<p>I tried to use Treeset data structure , I used headset  to cut Event in spatial dimension that are started after the end of the event.\nAfter that i scroll backwards to find another event enpoint untill I reach a theshold that I define using business rules.</p>\n<p>But I Hope that there are more efficent way to do it!</p>\n"},{"tags":["java","spring","spring-boot","ftps","apache-commons-net"],"owner":{"account_id":27001191,"reputation":21,"user_id":20562442,"display_name":"LazareC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1669031978,"creation_date":1669031978,"question_id":74518566,"body_markdown":"I have a problem on a spring boot project\r\n\r\nI need to retrieve files periodically on a FTPs but spring can&#39;t list the files\r\n\r\n\r\n\r\nI have followed the updated documentation (https://docs.spring.io/spring-integration/docs/current/reference/html/ftp.html)\r\n\r\nI made a java configuration\r\n\r\n```Java\r\n    @Bean\r\n    public DefaultFtpsSessionFactory sf() {\r\n        DefaultFtpsSessionFactory sf = new DefaultFtpsSessionFactory();\r\n        sf.setHost(this.host);\r\n        sf.setPort(this.port);\r\n        sf.setFileType(FTP.ASCII_FILE_TYPE);\r\n        sf.setUseClientMode(true);\r\n        sf.setProtocol(&quot;SSL&quot;);\r\n        sf.setUsername(this.username);\r\n        sf.setPassword(this.password);\r\n        sf.setNeedClientAuth(true);\r\n        sf.setClientMode(FTPClient.PASSIVE_LOCAL_DATA_CONNECTION_MODE);\r\n        return sf;\r\n    }\r\n```\r\n(I tried [SSL shared](https://docs.spring.io/spring-integration/docs/current/reference/html/ftp.html#ftps-and-shared-sslsession) with the same result)\r\n\r\nand a periodic reading\r\n\r\n\r\n```Java\r\n  @Bean\r\n    public IntegrationFlow ftpInboundFlow(DefaultFtpsSessionFactory sf) {\r\n\r\n        return IntegrationFlows\r\n                .from(Ftp.inboundAdapter(sf)\r\n                                .preserveTimestamp(true)\r\n                                .remoteDirectory(&quot;foo&quot;)\r\n                                .maxFetchSize(1)\r\n                                .regexFilter(&quot;.*\\\\.txt$&quot;)\r\n                        .autoCreateLocalDirectory(true)\r\n                                .localFilename(f -&gt; f.toUpperCase() + &quot;.a&quot;)\r\n                                .localDirectory(new File(&quot;C:\\\\\\\\var\\\\ftp&quot;)),\r\n                        e -&gt; e.id(&quot;ftpInboundAdapter&quot;)\r\n                                .autoStartup(true)\r\n                                .poller(Pollers.fixedDelay(10000)))\r\n                .handle(m -&gt; System.out.println(m.getPayload()))\r\n                .get();\r\n    }\r\n\r\n```\r\n\r\n\r\nI have as error:\r\n```\r\n2022-11-21 12:43:56.018 ERROR 33448 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : org.springframework.messaging.MessagingException: Problem occurred while synchronizing &#39;foo&#39; to local directory; nested exception is org.springframework.messaging.MessagingException: Failed to execute on session; nested exception is org.apache.commons.net.ftp.FTPConnectionClosedException: Connection closed without indication.\r\n\tat org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.synchronizeToLocalDirectory(AbstractInboundFileSynchronizer.java:348)\r\n\tat org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizingMessageSource.doReceive(AbstractInboundFileSynchronizingMessageSource.java:267)\r\n\tat org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizingMessageSource.doReceive(AbstractInboundFileSynchronizingMessageSource.java:69)\r\n\tat org.springframework.integration.endpoint.AbstractFetchLimitingMessageSource.doReceive(AbstractFetchLimitingMessageSource.java:47)\r\n\tat org.springframework.integration.endpoint.AbstractMessageSource.receive(AbstractMessageSource.java:142)\r\n\tat org.springframework.integration.endpoint.SourcePollingChannelAdapter.receiveMessage(SourcePollingChannelAdapter.java:212)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:444)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:413)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)\r\n\tat java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589)\r\nCaused by: org.springframework.messaging.MessagingException: Failed to execute on session; nested exception is org.apache.commons.net.ftp.FTPConnectionClosedException: Connection closed without indication.\r\n\tat org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:461)\r\n\tat org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.synchronizeToLocalDirectory(AbstractInboundFileSynchronizer.java:341)\r\n\t... 21 more\r\nCaused by: org.apache.commons.net.ftp.FTPConnectionClosedException: Connection closed without indication.\r\n\tat org.apache.commons.net.ftp.FTP.getReply(FTP.java:314)\r\n\tat org.apache.commons.net.ftp.FTP.getReply(FTP.java:719)\r\n\tat org.apache.commons.net.ftp.FTPClient.completePendingCommand(FTPClient.java:1366)\r\n\tat org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:2270)\r\n\tat org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:2390)\r\n\tat org.apache.commons.net.ftp.FTPClient.listFiles(FTPClient.java:2651)\r\n\tat org.springframework.integration.ftp.session.FtpSession.list(FtpSession.java:74)\r\n\tat org.springframework.integration.ftp.session.FtpSession.list(FtpSession.java:45)\r\n\tat org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.transferFilesFromRemoteToLocal(AbstractInboundFileSynchronizer.java:356)\r\n\tat org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.lambda$synchronizeToLocalDirectory$0(AbstractInboundFileSynchronizer.java:342)\r\n\tat org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:452)\r\n\t... 22 more\r\n\r\n```\r\n\r\nFor your information my ftps works very well with WinSCP  \r\n\r\nThe logs of my local docker for FTPs:\r\n```\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [INFO] New connection from 172.19.0.1\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 220---------- Welcome to Pure-FTPd [privsep] [TLS] ----------\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 220-You are user number 1 of 5 allowed.\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 220-Local time is now 11:53. Server port: 21.\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 220-This is a private system - No anonymous login\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 220-IPv6 connections are also welcome on this server.\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 220 You will be disconnected after 15 minutes of inactivity.\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] Command [auth] [TLS]\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 234 AUTH TLS OK.\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [INFO] TLS: Enabled TLSv1.3 with TLS_AES_256_GCM_SHA384, 256 secret bits cipher\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] Command [user] [root]\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 331 User root OK. Password required\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] Command [pass] [&lt;*&gt;]\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [INFO] root is now logged in\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] 230 OK. Current directory is /\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] Command [pbsz] [0]\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] 200 PBSZ=0\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] Command [prot] [P]\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] 200 Data protection level set to &quot;private&quot;\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] Command [type] [A]\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] 200 TYPE is now ASCII\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] Command [syst] []\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] 215 UNIX Type: L8\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] Command [pasv] []\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] 227 Entering Passive Mode (127,0,0,1,117,50)\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] Command [list] [foo]\r\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] 150 Accepted data connection\r\n```\r\n\r\nMy docker configuration:\r\n\r\n```YAML\r\n\r\n  ftp:\r\n    image: stilliard/pure-ftpd\r\n    restart: always\r\n    tty: true\r\n    stdin_open: true\r\n    environment:\r\n      - FTP_USER_NAME=root\r\n      - FTP_USER_PASS=root\r\n      - FTP_USER_HOME=/home/ftpusers\r\n      - PUBLICHOST=127.0.0.1\r\n      - TLS_USE_DSAPRAM=true\r\n      - ADDED_FLAGS=-d -d --tls=2 \r\n    ports:\r\n      - 21:21\r\n      - 30000-30009:30000-30009\r\n    volumes:\r\n      - type: bind\r\n        source: ./ftp\r\n        target: /home/ftpusers\r\n      - type: bind\r\n        source: ./ssl\r\n        target: /etc/ssl/private\r\n```\r\n\r\nI am in OpenJDK 19.0.1\r\n\r\nThank you in advance for your responses\r\n\r\n\r\n","title":"Spring integration FTPs Unable to list files","body":"<p>I have a problem on a spring boot project</p>\n<p>I need to retrieve files periodically on a FTPs but spring can't list the files</p>\n<p>I have followed the updated documentation (<a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/ftp.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/ftp.html</a>)</p>\n<p>I made a java configuration</p>\n<pre><code>    @Bean\n    public DefaultFtpsSessionFactory sf() {\n        DefaultFtpsSessionFactory sf = new DefaultFtpsSessionFactory();\n        sf.setHost(this.host);\n        sf.setPort(this.port);\n        sf.setFileType(FTP.ASCII_FILE_TYPE);\n        sf.setUseClientMode(true);\n        sf.setProtocol(&quot;SSL&quot;);\n        sf.setUsername(this.username);\n        sf.setPassword(this.password);\n        sf.setNeedClientAuth(true);\n        sf.setClientMode(FTPClient.PASSIVE_LOCAL_DATA_CONNECTION_MODE);\n        return sf;\n    }\n</code></pre>\n<p>(I tried <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/ftp.html#ftps-and-shared-sslsession\" rel=\"nofollow noreferrer\">SSL shared</a> with the same result)</p>\n<p>and a periodic reading</p>\n<pre><code>  @Bean\n    public IntegrationFlow ftpInboundFlow(DefaultFtpsSessionFactory sf) {\n\n        return IntegrationFlows\n                .from(Ftp.inboundAdapter(sf)\n                                .preserveTimestamp(true)\n                                .remoteDirectory(&quot;foo&quot;)\n                                .maxFetchSize(1)\n                                .regexFilter(&quot;.*\\\\.txt$&quot;)\n                        .autoCreateLocalDirectory(true)\n                                .localFilename(f -&gt; f.toUpperCase() + &quot;.a&quot;)\n                                .localDirectory(new File(&quot;C:\\\\\\\\var\\\\ftp&quot;)),\n                        e -&gt; e.id(&quot;ftpInboundAdapter&quot;)\n                                .autoStartup(true)\n                                .poller(Pollers.fixedDelay(10000)))\n                .handle(m -&gt; System.out.println(m.getPayload()))\n                .get();\n    }\n\n</code></pre>\n<p>I have as error:</p>\n<pre><code>2022-11-21 12:43:56.018 ERROR 33448 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : org.springframework.messaging.MessagingException: Problem occurred while synchronizing 'foo' to local directory; nested exception is org.springframework.messaging.MessagingException: Failed to execute on session; nested exception is org.apache.commons.net.ftp.FTPConnectionClosedException: Connection closed without indication.\n    at org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.synchronizeToLocalDirectory(AbstractInboundFileSynchronizer.java:348)\n    at org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizingMessageSource.doReceive(AbstractInboundFileSynchronizingMessageSource.java:267)\n    at org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizingMessageSource.doReceive(AbstractInboundFileSynchronizingMessageSource.java:69)\n    at org.springframework.integration.endpoint.AbstractFetchLimitingMessageSource.doReceive(AbstractFetchLimitingMessageSource.java:47)\n    at org.springframework.integration.endpoint.AbstractMessageSource.receive(AbstractMessageSource.java:142)\n    at org.springframework.integration.endpoint.SourcePollingChannelAdapter.receiveMessage(SourcePollingChannelAdapter.java:212)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:444)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:413)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\n    at org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\n    at org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\n    at org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\n    at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\n    at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:577)\n    at java.base/java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:317)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)\n    at java.base/java.lang.Thread.run(Thread.java:1589)\nCaused by: org.springframework.messaging.MessagingException: Failed to execute on session; nested exception is org.apache.commons.net.ftp.FTPConnectionClosedException: Connection closed without indication.\n    at org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:461)\n    at org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.synchronizeToLocalDirectory(AbstractInboundFileSynchronizer.java:341)\n    ... 21 more\nCaused by: org.apache.commons.net.ftp.FTPConnectionClosedException: Connection closed without indication.\n    at org.apache.commons.net.ftp.FTP.getReply(FTP.java:314)\n    at org.apache.commons.net.ftp.FTP.getReply(FTP.java:719)\n    at org.apache.commons.net.ftp.FTPClient.completePendingCommand(FTPClient.java:1366)\n    at org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:2270)\n    at org.apache.commons.net.ftp.FTPClient.initiateListParsing(FTPClient.java:2390)\n    at org.apache.commons.net.ftp.FTPClient.listFiles(FTPClient.java:2651)\n    at org.springframework.integration.ftp.session.FtpSession.list(FtpSession.java:74)\n    at org.springframework.integration.ftp.session.FtpSession.list(FtpSession.java:45)\n    at org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.transferFilesFromRemoteToLocal(AbstractInboundFileSynchronizer.java:356)\n    at org.springframework.integration.file.remote.synchronizer.AbstractInboundFileSynchronizer.lambda$synchronizeToLocalDirectory$0(AbstractInboundFileSynchronizer.java:342)\n    at org.springframework.integration.file.remote.RemoteFileTemplate.execute(RemoteFileTemplate.java:452)\n    ... 22 more\n\n</code></pre>\n<p>For your information my ftps works very well with WinSCP</p>\n<p>The logs of my local docker for FTPs:</p>\n<pre><code>Nov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [INFO] New connection from 172.19.0.1\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 220---------- Welcome to Pure-FTPd [privsep] [TLS] ----------\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 220-You are user number 1 of 5 allowed.\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 220-Local time is now 11:53. Server port: 21.\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 220-This is a private system - No anonymous login\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 220-IPv6 connections are also welcome on this server.\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 220 You will be disconnected after 15 minutes of inactivity.\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] Command [auth] [TLS]\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 234 AUTH TLS OK.\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [INFO] TLS: Enabled TLSv1.3 with TLS_AES_256_GCM_SHA384, 256 secret bits cipher\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] Command [user] [root]\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] 331 User root OK. Password required\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [DEBUG] Command [pass] [&lt;*&gt;]\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (?@172.19.0.1) [INFO] root is now logged in\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] 230 OK. Current directory is /\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] Command [pbsz] [0]\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] 200 PBSZ=0\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] Command [prot] [P]\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] 200 Data protection level set to &quot;private&quot;\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] Command [type] [A]\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] 200 TYPE is now ASCII\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] Command [syst] []\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] 215 UNIX Type: L8\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] Command [pasv] []\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] 227 Entering Passive Mode (127,0,0,1,117,50)\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] Command [list] [foo]\nNov 21 11:53:33 2d1468cc9968 pure-ftpd: (root@172.19.0.1) [DEBUG] 150 Accepted data connection\n</code></pre>\n<p>My docker configuration:</p>\n<pre><code>\n  ftp:\n    image: stilliard/pure-ftpd\n    restart: always\n    tty: true\n    stdin_open: true\n    environment:\n      - FTP_USER_NAME=root\n      - FTP_USER_PASS=root\n      - FTP_USER_HOME=/home/ftpusers\n      - PUBLICHOST=127.0.0.1\n      - TLS_USE_DSAPRAM=true\n      - ADDED_FLAGS=-d -d --tls=2 \n    ports:\n      - 21:21\n      - 30000-30009:30000-30009\n    volumes:\n      - type: bind\n        source: ./ftp\n        target: /home/ftpusers\n      - type: bind\n        source: ./ssl\n        target: /etc/ssl/private\n</code></pre>\n<p>I am in OpenJDK 19.0.1</p>\n<p>Thank you in advance for your responses</p>\n"},{"tags":["java","hibernate","hibernate-criteria"],"answers":[{"tags":[],"owner":{"account_id":5925754,"reputation":145,"user_id":4661650,"display_name":"Martin_0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669031920,"creation_date":1669031920,"answer_id":74518554,"question_id":74488239,"body_markdown":"I had a look at the source-code and how the root-alias is handled by Hibernate.\r\n\r\nThe list-method in SessionImpl, which is called from my method, creates a new CriteriaLoader-object, which also calls the constructor of the CriteriaQueryTranslator-object, where also the default root alias is set.\r\n\r\nIn the **CriteriaQueryTranslator**-constructor the following method is called\r\nwhich is responsible for setting up the alias in the query. \r\n\r\n```java\r\nprivate void createCriteriaSQLAliasMap() {\r\n\tint i = 0;\r\n\tIterator criteriaIterator = criteriaEntityNames.entrySet().iterator();\r\n\twhile ( criteriaIterator.hasNext() ) {\r\n\t\tMap.Entry me = ( Map.Entry ) criteriaIterator.next();\r\n\t\tCriteria crit = ( Criteria ) me.getKey();\r\n\t\tString alias = crit.getAlias();\r\n\t\tif ( alias == null ) {\r\n\t\t\talias = ( String ) me.getValue(); // the entity name\r\n\t\t}\r\n\t\tcriteriaSQLAliasMap.put( crit, StringHelper.generateAlias( alias, i++ ) );\r\n\t}\r\n\tcriteriaSQLAliasMap.put( rootCriteria, rootSQLAlias );\r\n}\r\n```\r\n\r\nIn this method my alias is added to the map in the while-loop, but afterwards gets replaced in the map because of the identical key, which is the class of my Entity in form of a criteria.","title":"Stuck with default table-alias in root criteria Hibernate 3.6","body":"<p>I had a look at the source-code and how the root-alias is handled by Hibernate.</p>\n<p>The list-method in SessionImpl, which is called from my method, creates a new CriteriaLoader-object, which also calls the constructor of the CriteriaQueryTranslator-object, where also the default root alias is set.</p>\n<p>In the <strong>CriteriaQueryTranslator</strong>-constructor the following method is called\nwhich is responsible for setting up the alias in the query.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void createCriteriaSQLAliasMap() {\n    int i = 0;\n    Iterator criteriaIterator = criteriaEntityNames.entrySet().iterator();\n    while ( criteriaIterator.hasNext() ) {\n        Map.Entry me = ( Map.Entry ) criteriaIterator.next();\n        Criteria crit = ( Criteria ) me.getKey();\n        String alias = crit.getAlias();\n        if ( alias == null ) {\n            alias = ( String ) me.getValue(); // the entity name\n        }\n        criteriaSQLAliasMap.put( crit, StringHelper.generateAlias( alias, i++ ) );\n    }\n    criteriaSQLAliasMap.put( rootCriteria, rootSQLAlias );\n}\n</code></pre>\n<p>In this method my alias is added to the map in the while-loop, but afterwards gets replaced in the map because of the identical key, which is the class of my Entity in form of a criteria.</p>\n"}],"owner":{"account_id":5925754,"reputation":145,"user_id":4661650,"display_name":"Martin_0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669031920,"creation_date":1668767240,"question_id":74488239,"body_markdown":"I want to change the table-alias of the executed sql to `temp` instead of `this`. \r\nHowever, setting the new alias with `getSession().createCriteria(Vehicle.class, &quot;temp&quot;);` won&#39;t change the outcome.\r\n\r\nAs stated I&#39;m using Hibernate Criteria API.\r\n\r\nI&#39;m stuck with Hibernate **3.6.10.Final** at the moment.\r\n\r\nwhat I got:\r\n```sql\r\n/* criteria query */ select this_.vehicle_id as y0_, this_.vin as y1_,this_.initial_registration as y2_ from vehicle this_ where this_.vin=?\r\n```\r\n\r\nwhat I was expecting:\r\n```sql\r\n/* criteria query */ select temp.vehicle_id as y0_, temp.vin as y1_,temp.initial_registration as y2_ from vehicle temp where temp.vin=?\r\n```\r\n\r\nsimplified example \r\n```java\r\nprotected List&lt;T&gt; findByProjectionCriteria() {\r\n\r\n\tCriteria cr = getSession().createCriteria(Vehicle.class, &quot;temp&quot;);\r\n\tcr.setResultTransformer(Transformers.aliasToBean(Vehicle.class));\r\n\r\n\tProjectionList projectionList = Projections.projectionList();\r\n\tprojectionList.add(Projections.property(&quot;vehicleId&quot;), &quot;vehicleId&quot;);\r\n\tprojectionList.add(Projections.property(&quot;vin&quot;), &quot;vin&quot;);\r\n\tprojectionList.add(Projections.property(&quot;initialRegistration&quot;), &quot;initialRegistration&quot;);\r\n\tcr.setProjection(projectionList);\r\n\r\n\tcr.add(Restrictions.eq(&quot;vin&quot;, &quot;WVW29343249702776&quot;));\r\n\t\t\t\r\n\tbegin();\r\n\t\r\n\tList&lt;T&gt; list = null;\r\n\ttry {\r\n\t\tlist = cr.list();\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n\tif (list == null)\r\n\t\tlist = new ArrayList&lt;T&gt;();\r\n\r\n\tcommit();\r\n\treturn list;\r\n}\r\n```\r\n\r\nentity\r\n```java\r\nimport static javax.persistence.GenerationType.IDENTITY;\r\n\r\nimport javax.persistence.*;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;vehicle&quot;)\r\npublic class Vehicle {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = IDENTITY)\r\n\t@Column(name = &quot;vehicle_id&quot;, unique = true, nullable = false)\r\n\tprivate int vehicleId;\r\n\t\r\n\t@Column(nullable = false, length = 17)\r\n\tprivate String vin;\r\n\t\r\n\t@Temporal(TemporalType.TIMESTAMP)\r\n\t@Column(name = &quot;initial_registration&quot;)\r\n\tprivate Date initialRegistration;\r\n\t\r\n}\r\n\r\n```\r\n\r\nWhat can I do to enforce the desired behavior? ","title":"Stuck with default table-alias in root criteria Hibernate 3.6","body":"<p>I want to change the table-alias of the executed sql to <code>temp</code> instead of <code>this</code>.\nHowever, setting the new alias with <code>getSession().createCriteria(Vehicle.class, &quot;temp&quot;);</code> won't change the outcome.</p>\n<p>As stated I'm using Hibernate Criteria API.</p>\n<p>I'm stuck with Hibernate <strong>3.6.10.Final</strong> at the moment.</p>\n<p>what I got:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>/* criteria query */ select this_.vehicle_id as y0_, this_.vin as y1_,this_.initial_registration as y2_ from vehicle this_ where this_.vin=?\n</code></pre>\n<p>what I was expecting:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>/* criteria query */ select temp.vehicle_id as y0_, temp.vin as y1_,temp.initial_registration as y2_ from vehicle temp where temp.vin=?\n</code></pre>\n<p>simplified example</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected List&lt;T&gt; findByProjectionCriteria() {\n\n    Criteria cr = getSession().createCriteria(Vehicle.class, &quot;temp&quot;);\n    cr.setResultTransformer(Transformers.aliasToBean(Vehicle.class));\n\n    ProjectionList projectionList = Projections.projectionList();\n    projectionList.add(Projections.property(&quot;vehicleId&quot;), &quot;vehicleId&quot;);\n    projectionList.add(Projections.property(&quot;vin&quot;), &quot;vin&quot;);\n    projectionList.add(Projections.property(&quot;initialRegistration&quot;), &quot;initialRegistration&quot;);\n    cr.setProjection(projectionList);\n\n    cr.add(Restrictions.eq(&quot;vin&quot;, &quot;WVW29343249702776&quot;));\n            \n    begin();\n    \n    List&lt;T&gt; list = null;\n    try {\n        list = cr.list();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    if (list == null)\n        list = new ArrayList&lt;T&gt;();\n\n    commit();\n    return list;\n}\n</code></pre>\n<p>entity</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static javax.persistence.GenerationType.IDENTITY;\n\nimport javax.persistence.*;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;vehicle&quot;)\npublic class Vehicle {\n\n    @Id\n    @GeneratedValue(strategy = IDENTITY)\n    @Column(name = &quot;vehicle_id&quot;, unique = true, nullable = false)\n    private int vehicleId;\n    \n    @Column(nullable = false, length = 17)\n    private String vin;\n    \n    @Temporal(TemporalType.TIMESTAMP)\n    @Column(name = &quot;initial_registration&quot;)\n    private Date initialRegistration;\n    \n}\n\n</code></pre>\n<p>What can I do to enforce the desired behavior?</p>\n"},{"tags":["java","scala","amazon-web-services","amazon-kinesis"],"comments":[{"owner":{"account_id":1253491,"reputation":845,"user_id":1213425,"accept_rate":70,"display_name":"Erve1879"},"score":0,"creation_date":1413204274,"post_id":25890937,"comment_id":41342768,"body_markdown":"I too am having similar issues - though for me, I get duplicate records on each iteration (using both AT_SEQUENCE_NUMBER and FROM_SEQUENCE_NUMBER), despite using the NextShardIterator value from each response. The docs are somewhat cryptic on this issue.... I&#39;d also love to know what &quot;untrimmed&quot; means (w.r.t TRIM_HORIZON).","body":"I too am having similar issues - though for me, I get duplicate records on each iteration (using both AT_SEQUENCE_NUMBER and FROM_SEQUENCE_NUMBER), despite using the NextShardIterator value from each response. The docs are somewhat cryptic on this issue.... I&#39;d also love to know what &quot;untrimmed&quot; means (w.r.t TRIM_HORIZON)."},{"owner":{"account_id":2128240,"reputation":1155,"user_id":1889767,"accept_rate":78,"display_name":"Yuval Herziger"},"score":0,"creation_date":1413209352,"post_id":25890937,"comment_id":41346028,"body_markdown":"For the record, I did something difference in the mean time - I took an existing Scala consumer that listens to the stream continuously and just ported it back to pure Java  for my purposes. Here&#39;s the Scala app, originally developed by SnowPlow https://github.com/snowplow/kinesis-example-scala-consumer","body":"For the record, I did something difference in the mean time - I took an existing Scala consumer that listens to the stream continuously and just ported it back to pure Java  for my purposes. Here&#39;s the Scala app, originally developed by SnowPlow <a href=\"https://github.com/snowplow/kinesis-example-scala-consumer\" rel=\"nofollow noreferrer\">github.com/snowplow/kinesis-example-scala-consumer</a>"},{"owner":{"account_id":1253491,"reputation":845,"user_id":1213425,"accept_rate":70,"display_name":"Erve1879"},"score":0,"creation_date":1413211794,"post_id":25890937,"comment_id":41347452,"body_markdown":"Sadly, I&#39;m not java-friendly.....! I just wish there was language-agnostic, clear guidelines on how to ensure idempotency and 100% &quot;coverage&quot; of records whilst permitting consumer restarts, crashes etc. It seems to negate the purpose of Kinesis if we have to save and check against the SequenceNumber of all previously-fetched records to ensure no duplication. I&#39;m sure I&#39;m missing something though.......","body":"Sadly, I&#39;m not java-friendly.....! I just wish there was language-agnostic, clear guidelines on how to ensure idempotency and 100% &quot;coverage&quot; of records whilst permitting consumer restarts, crashes etc. It seems to negate the purpose of Kinesis if we have to save and check against the SequenceNumber of all previously-fetched records to ensure no duplication. I&#39;m sure I&#39;m missing something though......."},{"owner":{"account_id":1778937,"reputation":3589,"user_id":1622134,"display_name":"az3"},"score":0,"creation_date":1413294592,"post_id":25890937,"comment_id":41382804,"body_markdown":"Did you try Amazon&#39;s own libraries?\nhttps://github.com/awslabs/amazon-kinesis-connectors\nhttps://github.com/awslabs/amazon-kinesis-client\nThese libraries (especially connector) handles all the cumbersome stuff like pinpointing the checkpoint, continue processing the shard, etc.","body":"Did you try Amazon&#39;s own libraries? <a href=\"https://github.com/awslabs/amazon-kinesis-connectors\" rel=\"nofollow noreferrer\">github.com/awslabs/amazon-kinesis-connectors</a> <a href=\"https://github.com/awslabs/amazon-kinesis-client\" rel=\"nofollow noreferrer\">github.com/awslabs/amazon-kinesis-client</a> These libraries (especially connector) handles all the cumbersome stuff like pinpointing the checkpoint, continue processing the shard, etc."},{"owner":{"account_id":2128240,"reputation":1155,"user_id":1889767,"accept_rate":78,"display_name":"Yuval Herziger"},"score":0,"creation_date":1413361472,"post_id":25890937,"comment_id":41410796,"body_markdown":"I actually did, last night. I just needed the time to investigate the ins and outs of Kinesis, KCL is an amazing library. I&#39;ll soon answer my own question here, turns out it was all about the checkpoints.","body":"I actually did, last night. I just needed the time to investigate the ins and outs of Kinesis, KCL is an amazing library. I&#39;ll soon answer my own question here, turns out it was all about the checkpoints."},{"owner":{"account_id":199675,"reputation":170,"user_id":1682615,"display_name":"Buzzware"},"score":1,"creation_date":1426896924,"post_id":25890937,"comment_id":46572964,"body_markdown":"I get similar issues using the JSON api without KCL. I want to get the last record as a checkpoint. LATEST gives me an empty array. TRIM_HORIZON gives me 8 records at present. I could iterate through all the records (could be thousands) to get the last one, but that seems ridiculous. How is latest supposed to work?\nWhatever KCL is doing, it should be using the very same API, saying &quot;use KCL&quot; isn&#39;t answering the question, and its checkpointing should only be based on this API and stored results.","body":"I get similar issues using the JSON api without KCL. I want to get the last record as a checkpoint. LATEST gives me an empty array. TRIM_HORIZON gives me 8 records at present. I could iterate through all the records (could be thousands) to get the last one, but that seems ridiculous. How is latest supposed to work? Whatever KCL is doing, it should be using the very same API, saying &quot;use KCL&quot; isn&#39;t answering the question, and its checkpointing should only be based on this API and stored results."}],"answers":[{"tags":[],"owner":{"account_id":199675,"reputation":170,"user_id":1682615,"display_name":"Buzzware"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1427073976,"creation_date":1427073976,"answer_id":29201989,"question_id":25890937,"body_markdown":"I understand the confusion above, and I had the same issues, but I think I&#39;ve figured it out now. Note that I am using the [JSON API][1] directly without KCL.\r\n\r\nI seems that the API gives clients 2 basic choices of iterators when they begin consuming a stream :\r\n\r\nA) TRIM_HORIZON: for reading PAST records delayed between many minutes (even hours) and 24 hours old. It doesn&#39;t return recently put records. Using AFTER_SEQUENCE_NUMBER on the last record seen by this iterator returns an empty array even when records have been recently PUT.\r\n\r\nB) LATEST: for reading FUTURE records in real time (immediately after they are PUT). I was tricked by the only sentence of documentation I could find on this &quot;Start reading just after the most recent record in the shard, so that you always read the most recent data in the shard.&quot; You were getting an empty array because no records had been PUT since getting the iterator. If you get this type of iterator, and then PUT a record, that record will be immediately available.\r\n\r\nLastly, if you know the sequence id of a recently put record, you can get it immediately using AT_SEQUENCE_NUMBER, and you can get later records using AFTER_SEQUENCE_NUMBER even though they wont appear to a TRIM_HORIZON iterator. \r\n\r\nThe above does mean that if you want to read all known past records and future records in real time, you have to use a combination of A and B, with logic to cope with the records in between (the recent past). The KCL may well smooth over this.\r\n\r\n\r\n  [1]: http://docs.aws.amazon.com/kinesis/latest/APIReference/API_GetShardIterator.html","title":"Explain Kinesis Shard Iterator - AWS Java SDK","body":"<p>I understand the confusion above, and I had the same issues, but I think I've figured it out now. Note that I am using the <a href=\"http://docs.aws.amazon.com/kinesis/latest/APIReference/API_GetShardIterator.html\" rel=\"noreferrer\">JSON API</a> directly without KCL.</p>\n\n<p>I seems that the API gives clients 2 basic choices of iterators when they begin consuming a stream :</p>\n\n<p>A) TRIM_HORIZON: for reading PAST records delayed between many minutes (even hours) and 24 hours old. It doesn't return recently put records. Using AFTER_SEQUENCE_NUMBER on the last record seen by this iterator returns an empty array even when records have been recently PUT.</p>\n\n<p>B) LATEST: for reading FUTURE records in real time (immediately after they are PUT). I was tricked by the only sentence of documentation I could find on this \"Start reading just after the most recent record in the shard, so that you always read the most recent data in the shard.\" You were getting an empty array because no records had been PUT since getting the iterator. If you get this type of iterator, and then PUT a record, that record will be immediately available.</p>\n\n<p>Lastly, if you know the sequence id of a recently put record, you can get it immediately using AT_SEQUENCE_NUMBER, and you can get later records using AFTER_SEQUENCE_NUMBER even though they wont appear to a TRIM_HORIZON iterator. </p>\n\n<p>The above does mean that if you want to read all known past records and future records in real time, you have to use a combination of A and B, with logic to cope with the records in between (the recent past). The KCL may well smooth over this.</p>\n"},{"tags":[],"owner":{"account_id":45250,"reputation":2447,"user_id":133330,"display_name":"Darren Bishop"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669031416,"creation_date":1669031416,"answer_id":74518452,"question_id":25890937,"body_markdown":"A lot of time has passed and maybe Kinesis bugs that may have once existed have since been resolved.\r\n\r\nOffering a little visualisation:\r\n\r\n```\r\noldest-records          &lt;-- time --&gt;             newest-records\r\n|&lt;-- TRIM_HORIZON             |&lt;-- AT_SEQUENCE_NUMBER(n+15)   |&lt;-- LATEST\r\nn                             n+15                          n+30\r\n| | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | ?\r\n                                n+15+1                        eos\r\n                                |&lt;--AFTER_SEQUENCE_NUMBER(n+15)\r\n```\r\nWhere `n` is the sequence-number of the oldest record for the corresponding shard.  \r\n\r\n* `TRIM_HORIZON` and `LATEST` ought to be self-explanatory\r\n  * Perhaps `EARLIEST` would have been more intuitive than `TRIM_HORIZON`\r\n  * `LATEST` could be considered synonymous to\r\n    * `AFTER_SEQUENCE_NUMBER` for `n+30`\r\n    * `AT_SEQUENCE_NUMBER` for `eos`.\r\n* The choice between `AFTER_SEQUENCE_NUMBER` vs `AT_SEQUENCE_NUMBER` I imagine would be determined by if you ***have*** vs ***have not***, respectively, already processed the record at that sequence number\r\n\r\nWith sound use of the respective APIs (i.e. no-PEBKAC), I&#39;d expect `TRIM_HORIZON` to return everything currently available.","title":"Explain Kinesis Shard Iterator - AWS Java SDK","body":"<p>A lot of time has passed and maybe Kinesis bugs that may have once existed have since been resolved.</p>\n<p>Offering a little visualisation:</p>\n<pre><code>oldest-records          &lt;-- time --&gt;             newest-records\n|&lt;-- TRIM_HORIZON             |&lt;-- AT_SEQUENCE_NUMBER(n+15)   |&lt;-- LATEST\nn                             n+15                          n+30\n| | | | | | | | | | | | | | | | | | | | | | | | | | | | | | | ?\n                                n+15+1                        eos\n                                |&lt;--AFTER_SEQUENCE_NUMBER(n+15)\n</code></pre>\n<p>Where <code>n</code> is the sequence-number of the oldest record for the corresponding shard.</p>\n<ul>\n<li><code>TRIM_HORIZON</code> and <code>LATEST</code> ought to be self-explanatory\n<ul>\n<li>Perhaps <code>EARLIEST</code> would have been more intuitive than <code>TRIM_HORIZON</code></li>\n<li><code>LATEST</code> could be considered synonymous to\n<ul>\n<li><code>AFTER_SEQUENCE_NUMBER</code> for <code>n+30</code></li>\n<li><code>AT_SEQUENCE_NUMBER</code> for <code>eos</code>.</li>\n</ul>\n</li>\n</ul>\n</li>\n<li>The choice between <code>AFTER_SEQUENCE_NUMBER</code> vs <code>AT_SEQUENCE_NUMBER</code> I imagine would be determined by if you <em><strong>have</strong></em> vs <em><strong>have not</strong></em>, respectively, already processed the record at that sequence number</li>\n</ul>\n<p>With sound use of the respective APIs (i.e. no-PEBKAC), I'd expect <code>TRIM_HORIZON</code> to return everything currently available.</p>\n"}],"owner":{"account_id":2128240,"reputation":1155,"user_id":1889767,"accept_rate":78,"display_name":"Yuval Herziger"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9337,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":2,"score":12,"last_activity_date":1669031416,"creation_date":1410957898,"question_id":25890937,"body_markdown":"OK, I&#39;ll start with an elaborated use-case and will explain my question:\r\n\r\n1. I use a 3rd party web analytics platform which utilizes **AWS Kinesis** streams in order to pass data from the client into the final destination - a Kinesis stream;\r\n2. The web analytics platform uses 2 streams:\r\n    1. A data collector stream (single shard stream);\r\n    2. A second stream to enrich the raw data from the collector stream (single shard stream); Most importantly, this stream consumes the raw data from the first stream using `TRIM_HORIZON` iterator type;\r\n3. I consume the data from the stream using **AWS Java SDK**, secifically using the `GetShardIteratorRequest` class; \r\n4. I&#39;m currently developing the extraction class, so this is done synchronously, meaning I consume data only when I compile my class;\r\n5. The class surprisingly works, although there are some things that I fail to understand, specifically with respect to how the data is consumed from the stream and the meaning of each one of iterator types;\r\n\r\n**My problem** is that the data I retrieve is inconsistent and has no chronological logic in it. \r\n\r\n- When I use `AT_SEQUENCE_NUMBER` and provide the first sequence number from the shard with         \r\n\r\n    .getSequenceNumberRange().getStartingSequenceNumber();\r\n\r\n  ... as the ``, I&#39;m not getting all records. Similarly, `AFTER_SEQUENCE_NUMBER`;\r\n- When I use `LATEST`, I&#39;m getting zero results;\r\n- When I use `TRIM_HORIZON`, which should make sense to use, it doesn&#39;t seem to be working fine. It used to provide me the data, and then I&#39;ve added new &quot;events&quot; (records to the final stream) and I received zero records. Mystery.\r\n\r\n**My questions are:** \r\n\r\n1. How can I safely consume data from the stream, without having to worry about missed records? \r\n2. Is there an alternative to the `ShardIteratorRequest`? \r\n3. If there is, how can I just &quot;browse&quot; the stream and see what&#39;s inside it for debugging references?\r\n4. What am I missing with the `TRIM_HORIZON` method?\r\n\r\nThanks in advance, I&#39;d really love to learn a bit more about data consumption from a Kinesis stream.\r\n\r\n","title":"Explain Kinesis Shard Iterator - AWS Java SDK","body":"<p>OK, I'll start with an elaborated use-case and will explain my question:</p>\n\n<ol>\n<li>I use a 3rd party web analytics platform which utilizes <strong>AWS Kinesis</strong> streams in order to pass data from the client into the final destination - a Kinesis stream;</li>\n<li>The web analytics platform uses 2 streams:\n<ol>\n<li>A data collector stream (single shard stream);</li>\n<li>A second stream to enrich the raw data from the collector stream (single shard stream); Most importantly, this stream consumes the raw data from the first stream using <code>TRIM_HORIZON</code> iterator type;</li>\n</ol></li>\n<li>I consume the data from the stream using <strong>AWS Java SDK</strong>, secifically using the <code>GetShardIteratorRequest</code> class; </li>\n<li>I'm currently developing the extraction class, so this is done synchronously, meaning I consume data only when I compile my class;</li>\n<li>The class surprisingly works, although there are some things that I fail to understand, specifically with respect to how the data is consumed from the stream and the meaning of each one of iterator types;</li>\n</ol>\n\n<p><strong>My problem</strong> is that the data I retrieve is inconsistent and has no chronological logic in it. </p>\n\n<ul>\n<li><p>When I use <code>AT_SEQUENCE_NUMBER</code> and provide the first sequence number from the shard with         </p>\n\n<p>.getSequenceNumberRange().getStartingSequenceNumber();</p>\n\n<p>... as the ``, I'm not getting all records. Similarly, <code>AFTER_SEQUENCE_NUMBER</code>;</p></li>\n<li>When I use <code>LATEST</code>, I'm getting zero results;</li>\n<li>When I use <code>TRIM_HORIZON</code>, which should make sense to use, it doesn't seem to be working fine. It used to provide me the data, and then I've added new \"events\" (records to the final stream) and I received zero records. Mystery.</li>\n</ul>\n\n<p><strong>My questions are:</strong> </p>\n\n<ol>\n<li>How can I safely consume data from the stream, without having to worry about missed records? </li>\n<li>Is there an alternative to the <code>ShardIteratorRequest</code>? </li>\n<li>If there is, how can I just \"browse\" the stream and see what's inside it for debugging references?</li>\n<li>What am I missing with the <code>TRIM_HORIZON</code> method?</li>\n</ol>\n\n<p>Thanks in advance, I'd really love to learn a bit more about data consumption from a Kinesis stream.</p>\n"},{"tags":["java","spring","spring-boot","openapi"],"owner":{"account_id":2435506,"reputation":710,"user_id":2125520,"display_name":"Islam Azab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669031392,"creation_date":1669031392,"question_id":74518448,"body_markdown":"I have a simple controller like this\r\n\r\n```\r\n  @GetMapping(&quot;/employees/{id}&quot;)\r\n  Employee getEmployee(@PathVariable Long id) {\r\n    return employeeService.getEmployee(id);\r\n  }\r\n\r\n  @GetMapping(&quot;/employees&quot;)\r\n  List&lt;Employee&gt; getAllEmployees() {\r\n    return employeeService.getEmployees();\r\n  }\r\n\r\n...\r\n\r\n  @ResponseBody\r\n  @ResponseStatus(value = HttpStatus.NOT_FOUND, reason = &quot;Employee not found&quot;)\r\n  @ExceptionHandler(EmployeeNotFoundException.class)\r\n  public ResponseEntity&lt;ErrorData&gt; employeeNotFoundHandler(EmployeeNotFoundException ex) {\r\n    log.error(ex.getMessage());\r\n    ErrorData errorData = new ErrorData(ex.getMessage());\r\n    return new ResponseEntity&lt;&gt;(errorData, HttpStatus.NOT_FOUND);\r\n  }\r\n\r\n  // For post requests \r\n  @ResponseBody\r\n  @ResponseStatus(value = HttpStatus.UNPROCESSABLE_ENTITY, reason = &quot;Some message&quot;)\r\n  @ExceptionHandler(SomeException.class)\r\n  ResponseEntity&lt;ErrorData&gt; someExceptionHandler(SomeException ex) {\r\n    log.error(ex.getMessage());\r\n    ErrorData errorData = new ErrorData(ex.getMessage());\r\n    return new ResponseEntity&lt;&gt;(errorData, HttpStatus.UNPROCESSABLE_ENTITY);\r\n  }\r\n```\r\n\r\n**The problem** &lt;br/&gt;\r\nwhen I check OpenAPI&#39;s output, it shows that &lt;br/&gt;\r\n`GET /employees` could return (`200`, `404`  or `422`), &lt;br/&gt;\r\nand `GET /employees/{id}` could return (`200`, `404`  or `422`)\r\n\r\nShouldn&#39;t it be only `200` for `GET /employees`? &lt;br/&gt;\r\nand (`200` or `404`) for `GET /employees/{id}`?","title":"openapi showing wrong status codes for different methods","body":"<p>I have a simple controller like this</p>\n<pre><code>  @GetMapping(&quot;/employees/{id}&quot;)\n  Employee getEmployee(@PathVariable Long id) {\n    return employeeService.getEmployee(id);\n  }\n\n  @GetMapping(&quot;/employees&quot;)\n  List&lt;Employee&gt; getAllEmployees() {\n    return employeeService.getEmployees();\n  }\n\n...\n\n  @ResponseBody\n  @ResponseStatus(value = HttpStatus.NOT_FOUND, reason = &quot;Employee not found&quot;)\n  @ExceptionHandler(EmployeeNotFoundException.class)\n  public ResponseEntity&lt;ErrorData&gt; employeeNotFoundHandler(EmployeeNotFoundException ex) {\n    log.error(ex.getMessage());\n    ErrorData errorData = new ErrorData(ex.getMessage());\n    return new ResponseEntity&lt;&gt;(errorData, HttpStatus.NOT_FOUND);\n  }\n\n  // For post requests \n  @ResponseBody\n  @ResponseStatus(value = HttpStatus.UNPROCESSABLE_ENTITY, reason = &quot;Some message&quot;)\n  @ExceptionHandler(SomeException.class)\n  ResponseEntity&lt;ErrorData&gt; someExceptionHandler(SomeException ex) {\n    log.error(ex.getMessage());\n    ErrorData errorData = new ErrorData(ex.getMessage());\n    return new ResponseEntity&lt;&gt;(errorData, HttpStatus.UNPROCESSABLE_ENTITY);\n  }\n</code></pre>\n<p><strong>The problem</strong> <br/>\nwhen I check OpenAPI's output, it shows that <br/>\n<code>GET /employees</code> could return (<code>200</code>, <code>404</code>  or <code>422</code>), <br/>\nand <code>GET /employees/{id}</code> could return (<code>200</code>, <code>404</code>  or <code>422</code>)</p>\n<p>Shouldn't it be only <code>200</code> for <code>GET /employees</code>? <br/>\nand (<code>200</code> or <code>404</code>) for <code>GET /employees/{id}</code>?</p>\n"},{"tags":["java","android","arrays","listview"],"comments":[{"owner":{"account_id":21138619,"reputation":192,"user_id":15541550,"display_name":"Tanishq Chawda"},"score":0,"creation_date":1668970802,"post_id":74510979,"comment_id":131529956,"body_markdown":"can you please elaborate what issue exactly you are facing?? well I wanted to know that you api call is successful or not and also the response is stored in your model or not??","body":"can you please elaborate what issue exactly you are facing?? well I wanted to know that you api call is successful or not and also the response is stored in your model or not??"},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1668974845,"post_id":74510979,"comment_id":131531003,"body_markdown":"If that `catch` block is running, it means something went wrong in the `try` where you&#39;re parsing the JSON. Look at the stacktrace for the `JSONException` in your logs, it will tell you what the problem is. (Add it to your answer if you need help working it out)","body":"If that <code>catch</code> block is running, it means something went wrong in the <code>try</code> where you&#39;re parsing the JSON. Look at the stacktrace for the <code>JSONException</code> in your logs, it will tell you what the problem is. (Add it to your answer if you need help working it out)"},{"owner":{"account_id":26993797,"reputation":1,"user_id":20556255,"display_name":"Chazzy"},"score":0,"creation_date":1668982504,"post_id":74510979,"comment_id":131532574,"body_markdown":"@Tanishq Chawda The problem is nothing appear in the listview. I add some Toast in the Catch of doInBackGroud and no Toast appear.","body":"@Tanishq Chawda The problem is nothing appear in the listview. I add some Toast in the Catch of doInBackGroud and no Toast appear."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1668982547,"post_id":74510979,"comment_id":131532582,"body_markdown":"That&#39;s not the stacktrace for your `JSONException`, that&#39;s just some random logging. Run your app, make the &quot;catch&quot; toast pop up, then go to logcat (maybe filter by *Error* log level) and find the stacktrace. Check the timestamp if you have to. You want the lines that say `JSONException` and `Caused by` etc, all that stuff. Just edit your question, don&#39;t post answers!","body":"That&#39;s not the stacktrace for your <code>JSONException</code>, that&#39;s just some random logging. Run your app, make the &quot;catch&quot; toast pop up, then go to logcat (maybe filter by <i>Error</i> log level) and find the stacktrace. Check the timestamp if you have to. You want the lines that say <code>JSONException</code> and <code>Caused by</code> etc, all that stuff. Just edit your question, don&#39;t post answers!"}],"answers":[{"tags":[],"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1668987253,"creation_date":1668987253,"answer_id":74512862,"question_id":74510979,"body_markdown":"Here&#39;s the bit in your stacktrace that says where it&#39;s going wrong:\r\n\r\n````\r\norg.json.JSONException: No value for null\r\n     at org.json.JSONObject.get(JSONObject.java:399)\r\n     at org.json.JSONObject.getJSONArray(JSONObject.java:594)\r\n     at com.example.parsingjson.MainActivity$GetData.onPostExecute(MainActivity.java:107)\r\n````\r\n\r\nSo at *line 107* in `MainActivity`, in your `onPostExecute` function, you&#39;re calling `getJSONArray()`. The exception is *no value for null* which implies you&#39;re passing *null* to that call.\r\n\r\nI don&#39;t know which is line *107* specifically, but I&#39;m assuming it&#39;s this:\r\n\r\n````\r\nJSONArray jsonArray = jsonObject.getJSONArray(Friends);\r\n````\r\n\r\nand if you&#39;re passing *null* into that, then `Friends` must be null. And from the code you&#39;ve posted, that&#39;s true - you create the variable\r\n\r\n````\r\n// no value assigned - null by default\r\nString Friends;\r\n````\r\n\r\nbut then you don&#39;t actually assign a `String` to it anywhere. I&#39;m guessing you meant to assign the JSON key to it\r\n\r\n````\r\nString Friends = &quot;Friends&quot;;\r\n````\r\n\r\nAlso the variable name should really be `friends` - only classes and interfaces should start with a capital letter. Just makes it easier to tell what&#39;s happening!","title":"Arraylist does not display anything","body":"<p>Here's the bit in your stacktrace that says where it's going wrong:</p>\n<pre><code>org.json.JSONException: No value for null\n     at org.json.JSONObject.get(JSONObject.java:399)\n     at org.json.JSONObject.getJSONArray(JSONObject.java:594)\n     at com.example.parsingjson.MainActivity$GetData.onPostExecute(MainActivity.java:107)\n</code></pre>\n<p>So at <em>line 107</em> in <code>MainActivity</code>, in your <code>onPostExecute</code> function, you're calling <code>getJSONArray()</code>. The exception is <em>no value for null</em> which implies you're passing <em>null</em> to that call.</p>\n<p>I don't know which is line <em>107</em> specifically, but I'm assuming it's this:</p>\n<pre><code>JSONArray jsonArray = jsonObject.getJSONArray(Friends);\n</code></pre>\n<p>and if you're passing <em>null</em> into that, then <code>Friends</code> must be null. And from the code you've posted, that's true - you create the variable</p>\n<pre><code>// no value assigned - null by default\nString Friends;\n</code></pre>\n<p>but then you don't actually assign a <code>String</code> to it anywhere. I'm guessing you meant to assign the JSON key to it</p>\n<pre><code>String Friends = &quot;Friends&quot;;\n</code></pre>\n<p>Also the variable name should really be <code>friends</code> - only classes and interfaces should start with a capital letter. Just makes it easier to tell what's happening!</p>\n"}],"owner":{"account_id":26993797,"reputation":1,"user_id":20556255,"display_name":"Chazzy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":74512862,"answer_count":1,"score":-1,"last_activity_date":1669030729,"creation_date":1668970341,"question_id":74510979,"body_markdown":"I want to know why my Arraylist does not display anything:\r\n\r\n    {&quot;Friends&quot;:[{&quot;name&quot;:&quot;Java&quot;,&quot;age&quot;:&quot;18&quot;},{&quot;name&quot;:&quot;Python&quot;,&quot;age&quot;:&quot;35&quot;},{&quot;name&quot;:&quot;Denis&quot;,&quot;age&quot;:&quot;45&quot;}]}\r\n\r\nMainActivity (toast in `catch` of `OnPostExecute` appears, named &quot;CATCH OF THE TRY&quot;):\r\n\r\n```\r\npackage com.example.parsingjson;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.AsyncTask;\r\nimport android.os.Bundle;\r\nimport android.widget.ListAdapter;\r\nimport android.widget.ListView;\r\nimport android.widget.SimpleAdapter;\r\nimport android.widget.Toast;\r\nimport org.json.JSONArray;\r\nimport org.json.JSONException;\r\nimport org.json.JSONObject;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.net.HttpURLConnection;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private ListView lv;\r\n    String Friends;\r\n    String namey, age;\r\n    private static String JSON_URL=&quot;https://run.mocky.io/v3/9c0d17c6-c9a4-41d9-89cc-ac43e44f2b88&quot;;\r\n    ArrayList&lt;HashMap&lt;String,String&gt;&gt; friendsList;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        friendsList = new ArrayList&lt;&gt;();\r\n        lv = findViewById(R.id.listview);\r\n        GetData getData = new GetData();\r\n        getData.execute();\r\n    }\r\n\r\n    public class GetData extends AsyncTask&lt;String, String, String&gt;{\r\n\r\n        @Override\r\n        protected String doInBackground(String... strings) {\r\n            String current = &quot;&quot;;\r\n\r\n            try {\r\n                URL url;\r\n                HttpURLConnection urlConnection = null;\r\n\r\n                try {\r\n                    url = new URL(JSON_URL);\r\n                    urlConnection = (HttpURLConnection) url.openConnection();\r\n                    InputStream in = urlConnection.getInputStream();\r\n                    InputStreamReader isr = new InputStreamReader(in);\r\n                    int data = isr.read();\r\n                    while (data != -1) {\r\n                        current += (char) data;\r\n                        data = isr.read();\r\n                    }\r\n\r\n                    return current;\r\n                } catch (MalformedURLException e) {\r\n                    e.printStackTrace();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                } finally {\r\n                    if (urlConnection != null) {\r\n                        urlConnection.disconnect();\r\n                    }\r\n                }\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n             return current;\r\n            }\r\n\r\n        @Override\r\n        protected void onPostExecute(String s) {\r\n//            Toast.makeText(getApplicationContext(), &quot;POST EXECUTE&quot;, Toast.LENGTH_LONG).show();\r\n            try{\r\n //               Toast.makeText(getApplicationContext(), &quot;TRY&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                JSONObject jsonObject = new JSONObject(s);\r\n                JSONArray jsonArray = jsonObject.getJSONArray(Friends);\r\n                for (int i = 0; i&lt; jsonArray.length() ; i++){\r\n\r\n                    Toast.makeText(getApplicationContext(), &quot;FOR&quot;, Toast.LENGTH_LONG).show();\r\n                    JSONObject jsonObject1 = jsonArray.getJSONObject(i);\r\n\r\n                namey = jsonObject1.getString(&quot;name&quot;);\r\n                age = jsonObject1.getString(&quot;age&quot;);\r\n                //HashMap\r\n                    HashMap&lt;String, String&gt; friends = new HashMap&lt;&gt;();\r\n\r\n                    friends.put(&quot;name&quot;,&quot;namey&quot;);\r\n                    friends.put(&quot;age&quot;,&quot;age&quot;);\r\n                    friendsList.add(friends);\r\n//                    Toast.makeText(getApplicationContext(), &quot;OPERATION SUCCESSFUL&quot;, Toast.LENGTH_LONG).show();\r\n                }\r\n //                   Toast.makeText(getApplicationContext(), &quot;APRES FOR&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        } catch (JSONException e) {\r\n                e.printStackTrace();\r\n                Toast.makeText(getApplicationContext(), &quot;CATCH OF THE TRY&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n            // Displaying the results\r\n            ListAdapter adapter = new SimpleAdapter(\r\n                    MainActivity.this,\r\n                    friendsList,\r\n                    R.layout.row_layout,\r\n                    new String[]{&quot;name&quot;, &quot;age&quot;},\r\n                    new int []{R.id.textView, R.id.textView2});\r\n\r\n            lv.setAdapter(adapter);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nrow_layout.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;16dp&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:fontFamily=&quot;sans-serif-black&quot;\r\n        android:text=&quot;TextView&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:textSize=&quot;36sp&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginEnd=&quot;24dp&quot;\r\n        android:text=&quot;TextView&quot;\r\n        android:textSize=&quot;30sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nActivity_Main.xml:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;ListView\r\n        android:id=&quot;@+id/listview&quot;\r\n        android:layout_width=&quot;409dp&quot;\r\n        android:layout_height=&quot;729dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nOnly toast I&#39;m not able to show is located in `for (int i = ...`. Toast in `catch` is showing.\r\n\r\n````\r\n org.json.JSONException: No value for null\r\n     at org.json.JSONObject.get(JSONObject.java:399)\r\n     at org.json.JSONObject.getJSONArray(JSONObject.java:594)\r\n     at com.example.parsingjson.MainActivity$GetData.onPostExecute(MainActivity.java:107)\r\n     at com.example.parsingjson.MainActivity$GetData.onPostExecute(MainActivity.java:52)\r\n     at android.os.AsyncTask.finish(AsyncTask.java:755)\r\n     at android.os.AsyncTask.access$900(AsyncTask.java:192)\r\n     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:772)\r\n     at android.os.Handler.dispatchMessage(Handler.java:107)\r\n     at android.os.Looper.loop(Looper.java:214)\r\n     at android.app.ActivityThread.main(ActivityThread.java:7356)\r\n     at java.lang.reflect.Method.invoke(Native Method)\r\n     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\r\n````","title":"Arraylist does not display anything","body":"<p>I want to know why my Arraylist does not display anything:</p>\n<pre><code>{&quot;Friends&quot;:[{&quot;name&quot;:&quot;Java&quot;,&quot;age&quot;:&quot;18&quot;},{&quot;name&quot;:&quot;Python&quot;,&quot;age&quot;:&quot;35&quot;},{&quot;name&quot;:&quot;Denis&quot;,&quot;age&quot;:&quot;45&quot;}]}\n</code></pre>\n<p>MainActivity (toast in <code>catch</code> of <code>OnPostExecute</code> appears, named &quot;CATCH OF THE TRY&quot;):</p>\n<pre><code>package com.example.parsingjson;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.widget.ListAdapter;\nimport android.widget.ListView;\nimport android.widget.SimpleAdapter;\nimport android.widget.Toast;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private ListView lv;\n    String Friends;\n    String namey, age;\n    private static String JSON_URL=&quot;https://run.mocky.io/v3/9c0d17c6-c9a4-41d9-89cc-ac43e44f2b88&quot;;\n    ArrayList&lt;HashMap&lt;String,String&gt;&gt; friendsList;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        friendsList = new ArrayList&lt;&gt;();\n        lv = findViewById(R.id.listview);\n        GetData getData = new GetData();\n        getData.execute();\n    }\n\n    public class GetData extends AsyncTask&lt;String, String, String&gt;{\n\n        @Override\n        protected String doInBackground(String... strings) {\n            String current = &quot;&quot;;\n\n            try {\n                URL url;\n                HttpURLConnection urlConnection = null;\n\n                try {\n                    url = new URL(JSON_URL);\n                    urlConnection = (HttpURLConnection) url.openConnection();\n                    InputStream in = urlConnection.getInputStream();\n                    InputStreamReader isr = new InputStreamReader(in);\n                    int data = isr.read();\n                    while (data != -1) {\n                        current += (char) data;\n                        data = isr.read();\n                    }\n\n                    return current;\n                } catch (MalformedURLException e) {\n                    e.printStackTrace();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                } finally {\n                    if (urlConnection != null) {\n                        urlConnection.disconnect();\n                    }\n                }\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n             return current;\n            }\n\n        @Override\n        protected void onPostExecute(String s) {\n//            Toast.makeText(getApplicationContext(), &quot;POST EXECUTE&quot;, Toast.LENGTH_LONG).show();\n            try{\n //               Toast.makeText(getApplicationContext(), &quot;TRY&quot;, Toast.LENGTH_LONG).show();\n\n                JSONObject jsonObject = new JSONObject(s);\n                JSONArray jsonArray = jsonObject.getJSONArray(Friends);\n                for (int i = 0; i&lt; jsonArray.length() ; i++){\n\n                    Toast.makeText(getApplicationContext(), &quot;FOR&quot;, Toast.LENGTH_LONG).show();\n                    JSONObject jsonObject1 = jsonArray.getJSONObject(i);\n\n                namey = jsonObject1.getString(&quot;name&quot;);\n                age = jsonObject1.getString(&quot;age&quot;);\n                //HashMap\n                    HashMap&lt;String, String&gt; friends = new HashMap&lt;&gt;();\n\n                    friends.put(&quot;name&quot;,&quot;namey&quot;);\n                    friends.put(&quot;age&quot;,&quot;age&quot;);\n                    friendsList.add(friends);\n//                    Toast.makeText(getApplicationContext(), &quot;OPERATION SUCCESSFUL&quot;, Toast.LENGTH_LONG).show();\n                }\n //                   Toast.makeText(getApplicationContext(), &quot;APRES FOR&quot;, Toast.LENGTH_LONG).show();\n\n        } catch (JSONException e) {\n                e.printStackTrace();\n                Toast.makeText(getApplicationContext(), &quot;CATCH OF THE TRY&quot;, Toast.LENGTH_LONG).show();\n            }\n            // Displaying the results\n            ListAdapter adapter = new SimpleAdapter(\n                    MainActivity.this,\n                    friendsList,\n                    R.layout.row_layout,\n                    new String[]{&quot;name&quot;, &quot;age&quot;},\n                    new int []{R.id.textView, R.id.textView2});\n\n            lv.setAdapter(adapter);\n        }\n    }\n}\n</code></pre>\n<p>row_layout.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginStart=&quot;16dp&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:fontFamily=&quot;sans-serif-black&quot;\n        android:text=&quot;TextView&quot;\n        android:textColor=&quot;#000000&quot;\n        android:textSize=&quot;36sp&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/textView2&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginEnd=&quot;24dp&quot;\n        android:text=&quot;TextView&quot;\n        android:textSize=&quot;30sp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Activity_Main.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;ListView\n        android:id=&quot;@+id/listview&quot;\n        android:layout_width=&quot;409dp&quot;\n        android:layout_height=&quot;729dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>Only toast I'm not able to show is located in <code>for (int i = ...</code>. Toast in <code>catch</code> is showing.</p>\n<pre><code> org.json.JSONException: No value for null\n     at org.json.JSONObject.get(JSONObject.java:399)\n     at org.json.JSONObject.getJSONArray(JSONObject.java:594)\n     at com.example.parsingjson.MainActivity$GetData.onPostExecute(MainActivity.java:107)\n     at com.example.parsingjson.MainActivity$GetData.onPostExecute(MainActivity.java:52)\n     at android.os.AsyncTask.finish(AsyncTask.java:755)\n     at android.os.AsyncTask.access$900(AsyncTask.java:192)\n     at android.os.AsyncTask$InternalHandler.handleMessage(AsyncTask.java:772)\n     at android.os.Handler.dispatchMessage(Handler.java:107)\n     at android.os.Looper.loop(Looper.java:214)\n     at android.app.ActivityThread.main(ActivityThread.java:7356)\n     at java.lang.reflect.Method.invoke(Native Method)\n     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\n     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n"},{"tags":["java","parquet"],"comments":[{"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"score":0,"creation_date":1669017076,"post_id":74514129,"comment_id":131538047,"body_markdown":"You have put the spark tag. Do you want to do that in Spark?","body":"You have put the spark tag. Do you want to do that in Spark?"},{"owner":{"account_id":18122509,"reputation":21,"user_id":13178349,"display_name":"maya"},"score":0,"creation_date":1669030060,"post_id":74514129,"comment_id":131542281,"body_markdown":"no without spark","body":"no without spark"}],"owner":{"account_id":18122509,"reputation":21,"user_id":13178349,"display_name":"maya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669030228,"creation_date":1669003527,"question_id":74514129,"body_markdown":"I need to get information like get maximum length of a string if the type is string and distinct count from parquet without reading the whole file in Java not using Avro Parquet reader.\r\n\r\n```\r\nParquetFileReader parquetFileReader = ParquetFileReader.open(inputFile);\r\n\r\nList&lt;BlockMetaData&gt; fileMetaData = parquetFileReader.getFooter().getBlocks();\r\n```\r\n\r\nIn this block metaData holds only stats like min max value or row count. I need distinct count and in case of String types max length String.","title":"How to get Distinct count from parquet file without reading whole file Using Java ParquetFileReader","body":"<p>I need to get information like get maximum length of a string if the type is string and distinct count from parquet without reading the whole file in Java not using Avro Parquet reader.</p>\n<pre><code>ParquetFileReader parquetFileReader = ParquetFileReader.open(inputFile);\n\nList&lt;BlockMetaData&gt; fileMetaData = parquetFileReader.getFooter().getBlocks();\n</code></pre>\n<p>In this block metaData holds only stats like min max value or row count. I need distinct count and in case of String types max length String.</p>\n"},{"tags":["java","jvm","g1gc"],"comments":[{"owner":{"account_id":10158538,"reputation":2222,"user_id":7502800,"accept_rate":100,"display_name":"usuario"},"score":0,"creation_date":1668755271,"post_id":74485213,"comment_id":131487818,"body_markdown":"Could you please elaborate `the JVM hangs`?. is there any log, OOM, ... ?","body":"Could you please elaborate <code>the JVM hangs</code>?. is there any log, OOM, ... ?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1668781779,"post_id":74485213,"comment_id":131496390,"body_markdown":"What is “OpenJDK LL”? And how can the Eden space ever be 50GB, when you have at max 2GB?","body":"What is “OpenJDK LL”? And how can the Eden space ever be 50GB, when you have at max 2GB?"},{"owner":{"account_id":1537916,"reputation":195,"user_id":1433374,"display_name":"user1433374"},"score":0,"creation_date":1668937851,"post_id":74485213,"comment_id":131523524,"body_markdown":"@usuario There is no OOM. Application has a background job, which usually took 30ms to complete a task, but during the issue time, it gradually increases to more than a minute (or minutes) and after some time there is no response (the last job started and was not completed). By the time, we have restarted the application.","body":"@usuario There is no OOM. Application has a background job, which usually took 30ms to complete a task, but during the issue time, it gradually increases to more than a minute (or minutes) and after some time there is no response (the last job started and was not completed). By the time, we have restarted the application."},{"owner":{"account_id":1537916,"reputation":195,"user_id":1433374,"display_name":"user1433374"},"score":0,"creation_date":1668937885,"post_id":74485213,"comment_id":131523528,"body_markdown":"@Holger It is typo, corrected.","body":"@Holger It is typo, corrected."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669028402,"post_id":74485213,"comment_id":131541722,"body_markdown":"It’s still not clear what this double-lowercase-L is supposed to mean. A Roman two, an obfuscated eleven, or something else.","body":"It’s still not clear what this double-lowercase-L is supposed to mean. A Roman two, an obfuscated eleven, or something else."}],"owner":{"account_id":1537916,"reputation":195,"user_id":1433374,"display_name":"user1433374"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669029880,"creation_date":1668748706,"question_id":74485213,"body_markdown":"We are using open-jdk 11 and 2GB is used as the max heap size. The application works smoother till it has enough Eden space and performance starts to degrade when the Eden space shrinks to less than 300MB. Whenever the oldgen reaches 1GB (50%), the Eden space is shrunk to less than 50GB.  When the Eden space goes less than 50MB, the JVM hangs. After restarting only, the application is back to its normal state.\r\n\r\nPlease help me to understand why it is not expanding more than 1GB (50%) since we have 2GB of the max heap size.\r\n","title":"Performance Impacted - Eden space starvation when old gen grows","body":"<p>We are using open-jdk 11 and 2GB is used as the max heap size. The application works smoother till it has enough Eden space and performance starts to degrade when the Eden space shrinks to less than 300MB. Whenever the oldgen reaches 1GB (50%), the Eden space is shrunk to less than 50GB.  When the Eden space goes less than 50MB, the JVM hangs. After restarting only, the application is back to its normal state.</p>\n<p>Please help me to understand why it is not expanding more than 1GB (50%) since we have 2GB of the max heap size.</p>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":3155855,"reputation":920,"user_id":4058604,"display_name":"Mert"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669029662,"creation_date":1669029662,"answer_id":74518125,"question_id":74510140,"body_markdown":"You need below structure to make it work:\r\n```\r\n    private lateinit var binding: ActivityMainBinding\r\n    private lateinit var mNavController: NavController\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        binding = ActivityMainBinding.inflate(layoutInflater)\r\n        setContentView(binding.root)\r\n\r\n        val bottomNavView: BottomNavigationView = binding.bottomNavView\r\n        mNavController = findNavController(R.id.fragment_host)\r\n        // Add your navHost fragment\r\n        val appBarConfiguration = AppBarConfiguration(\r\n            setOf(\r\n                R.id.homeFragment,\r\n                R.id.dashboardFragment,\r\n                R.id.profileFragment\r\n            )\r\n        )\r\n        //Change fragments with yours\r\n        setupActionBarWithNavController(mNavController, appBarConfiguration)\r\n        bottomNavView.setupWithNavController(mNavController)\r\n\r\n        bottomNavView.setOnItemSelectedListener { item -&gt;\r\n            NavigationUI.onNavDestinationSelected(item, mNavController)\r\n            mNavController.popBackStack(item.itemId, inclusive = false)\r\n            true\r\n        }\r\n\r\n    }\r\n```","title":"navView.setOnNavigationItemSelectedListener(onNavigationItemSelectedListener)","body":"<p>You need below structure to make it work:</p>\n<pre><code>    private lateinit var binding: ActivityMainBinding\n    private lateinit var mNavController: NavController\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        binding = ActivityMainBinding.inflate(layoutInflater)\n        setContentView(binding.root)\n\n        val bottomNavView: BottomNavigationView = binding.bottomNavView\n        mNavController = findNavController(R.id.fragment_host)\n        // Add your navHost fragment\n        val appBarConfiguration = AppBarConfiguration(\n            setOf(\n                R.id.homeFragment,\n                R.id.dashboardFragment,\n                R.id.profileFragment\n            )\n        )\n        //Change fragments with yours\n        setupActionBarWithNavController(mNavController, appBarConfiguration)\n        bottomNavView.setupWithNavController(mNavController)\n\n        bottomNavView.setOnItemSelectedListener { item -&gt;\n            NavigationUI.onNavDestinationSelected(item, mNavController)\n            mNavController.popBackStack(item.itemId, inclusive = false)\n            true\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":26993752,"reputation":19,"user_id":20556218,"display_name":"wexles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1669029662,"creation_date":1668963460,"question_id":74510140,"body_markdown":"[enter image description here](https://i.stack.imgur.com/NKhN8.png)\r\nhow can i run &quot;navView.setOnNavigationItemSelectedListener(onNavigationItemSelectedListener)&quot;\r\ncode\r\n\r\n\r\ni tried everything but i cant find a solution","title":"navView.setOnNavigationItemSelectedListener(onNavigationItemSelectedListener)","body":"<p><a href=\"https://i.stack.imgur.com/NKhN8.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nhow can i run &quot;navView.setOnNavigationItemSelectedListener(onNavigationItemSelectedListener)&quot;\ncode</p>\n<p>i tried everything but i cant find a solution</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka","server-sent-events"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1668952882,"post_id":74501015,"comment_id":131526057,"body_markdown":"How are you tracking when SSE clients join?","body":"How are you tracking when SSE clients join?"},{"owner":{"account_id":8783676,"reputation":55,"user_id":6566511,"display_name":"Subham Agrawal"},"score":0,"creation_date":1669029695,"post_id":74501015,"comment_id":131542160,"body_markdown":"I&#39;m not tracking it manually at the moment, but I can use a map \n`private final Map&lt;String, SseEmitter&gt; emitters = new ConcurrentHashMap&lt;&gt;();`\nto track the clients, and redirect kafka messages there","body":"I&#39;m not tracking it manually at the moment, but I can use a map  <code>private final Map&lt;String, SseEmitter&gt; emitters = new ConcurrentHashMap&lt;&gt;();</code> to track the clients, and redirect kafka messages there"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1669048618,"post_id":74501015,"comment_id":131549237,"body_markdown":"Okay, well, you&#39;ll need to track somewhere to find &quot;new clients&quot; vs &quot;existing clients&quot;, but I wouldn&#39;t suggest a Map unless clients must always reconnect when your Spring app restarts.","body":"Okay, well, you&#39;ll need to track somewhere to find &quot;new clients&quot; vs &quot;existing clients&quot;, but I wouldn&#39;t suggest a Map unless clients must always reconnect when your Spring app restarts."},{"owner":{"account_id":8783676,"reputation":55,"user_id":6566511,"display_name":"Subham Agrawal"},"score":0,"creation_date":1669057841,"post_id":74501015,"comment_id":131552165,"body_markdown":"so we have this orgID field in the Kafka message, and I take the same orgID in the path variable for the SSE client&#39;s request. Now I have to filter out messages with timestamp seeks and send it to the new clients. Let&#39;s say we find a way to track new vs existing clients somehow, how can we achieve this?","body":"so we have this orgID field in the Kafka message, and I take the same orgID in the path variable for the SSE client&#39;s request. Now I have to filter out messages with timestamp seeks and send it to the new clients. Let&#39;s say we find a way to track new vs existing clients somehow, how can we achieve this?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1669129336,"post_id":74501015,"comment_id":131570747,"body_markdown":"Isn&#39;t that what you&#39;re code already is doing? You&#39;ve not shown your seekToTimestamp method, but seems to me like any orgId will always seek the exact same data, so what tests have you done for multiple requests coming at the same time?","body":"Isn&#39;t that what you&#39;re code already is doing? You&#39;ve not shown your seekToTimestamp method, but seems to me like any orgId will always seek the exact same data, so what tests have you done for multiple requests coming at the same time?"},{"owner":{"account_id":8783676,"reputation":55,"user_id":6566511,"display_name":"Subham Agrawal"},"score":0,"creation_date":1669135930,"post_id":74501015,"comment_id":131573489,"body_markdown":"i am using the &#39;seekToTimestamp&#39; method provided by the AbstractConsumerSeekAware class","body":"i am using the &#39;seekToTimestamp&#39; method provided by the AbstractConsumerSeekAware class"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1669158986,"post_id":74501015,"comment_id":131580183,"body_markdown":"Sure, but your app only has one consumer? So all GET requests for any org will seek the same consumer? And then recreate **all** ServiceEvent objects in the last 2 minutes (not only those specific to the org)? Basically, I think you want an in memory database that tracks what clients are registered, then run a window scan query against that. Only use Kafka consumer to dump to that database, not send out SSE","body":"Sure, but your app only has one consumer? So all GET requests for any org will seek the same consumer? And then recreate <b>all</b> ServiceEvent objects in the last 2 minutes (not only those specific to the org)? Basically, I think you want an in memory database that tracks what clients are registered, then run a window scan query against that. Only use Kafka consumer to dump to that database, not send out SSE"},{"owner":{"account_id":8783676,"reputation":55,"user_id":6566511,"display_name":"Subham Agrawal"},"score":0,"creation_date":1669192438,"post_id":74501015,"comment_id":131586128,"body_markdown":"agreed, I was thinking in that direction as well. But wanted to discuss what if I have multiple instances of this service. Should I treat each replica as a different consumer? Otherwise, I will have to store somehow a mapping of which SSE consumer has connected to which service replica and keep the Kafka event in the corresponding one.","body":"agreed, I was thinking in that direction as well. But wanted to discuss what if I have multiple instances of this service. Should I treat each replica as a different consumer? Otherwise, I will have to store somehow a mapping of which SSE consumer has connected to which service replica and keep the Kafka event in the corresponding one."},{"owner":{"account_id":8783676,"reputation":55,"user_id":6566511,"display_name":"Subham Agrawal"},"score":0,"creation_date":1669193787,"post_id":74501015,"comment_id":131586556,"body_markdown":"one more thing is, I obviously don&#39;t want to keep all the Kafka records in the in-memory DB forever, so I would need an eviction strategy for it as well. Do you think we can utilize any out-of-box solution for that?","body":"one more thing is, I obviously don&#39;t want to keep all the Kafka records in the in-memory DB forever, so I would need an eviction strategy for it as well. Do you think we can utilize any out-of-box solution for that?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1669209725,"post_id":74501015,"comment_id":131592168,"body_markdown":"You could try using Kafka Streams interactive queries. Then send tombstone events to evict records from those tables. Otherwise, any database that supports range queries should work fine","body":"You could try using Kafka Streams interactive queries. Then send tombstone events to evict records from those tables. Otherwise, any database that supports range queries should work fine"}],"owner":{"account_id":8783676,"reputation":55,"user_id":6566511,"display_name":"Subham Agrawal"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669029650,"creation_date":1668869383,"question_id":74501015,"body_markdown":"Is there a way to broadcast Kafka messages from a specific timestamp (e.g., currentTimestamp - 2 min) to a new Server-Sent-Event (SSE) consumer? \r\n\r\nI have one multi-partition Kafka topic and multiple SSE client. I tried implementing AbstractConsumerSeekAware and use seekToTimestamp in the SSE controller but that&#39;s not working out. Its basically broadcasting the seek to all the SSE clients.\r\n\r\nI want it only for the SSE client that newly joined.\r\n\r\nBelow is my code:\r\n\r\n    public class ServerController extends AbstractConsumerSeekAware {\r\n\r\n    ......\r\n\r\n    @GetMapping(path = &quot;/stream/{orgid}&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n        Flux&lt;ServerSentEvent&lt;ServiceEvent&gt;&gt; getFolderWatch(@PathVariable String orgid) {\r\n            return Flux.create(sink -&gt; {\r\n                        this.seekToTimestamp(System.currentTimeMillis() - 2 * 60 * 1000);\r\n                        MessageHandler handler = message -&gt; sink.next((ServiceEvent) message.getPayload());\r\n                        sink.onCancel(() -&gt; subscribableChannel.unsubscribe(handler));\r\n                        subscribableChannel.subscribe(handler);\r\n                    }, FluxSink.OverflowStrategy.LATEST)\r\n                    .filter(receiveRecord -&gt; {\r\n                        ServiceEvent event = (ServiceEvent) receiveRecord;\r\n                        return event.getOrgId().equals(orgid);\r\n                    }).map(e -&gt; {\r\n                        ServiceEvent event = (ServiceEvent) e;\r\n                        return ServerSentEvent.&lt;ServiceEvent&gt;builder(event).build();\r\n                    });\r\n        }\r\n    \r\n        @KafkaListener(topics = &quot;${topic.name.consumer}&quot;, groupId = &quot;my-sse-application&quot;)\r\n        public void listenGroupFoo(@Payload String content) {\r\n            logger.info(&quot;Received Message in group foo: &quot; + content);\r\n            subscribableChannel.send(new GenericMessage&lt;&gt;(new ServiceEvent(this, content)));\r\n        }\r\n    }","title":"Is there a way to broadcast Kafka messages from a specific timestamp (currentTimeStamp - 2 min) to a new SSE consumer","body":"<p>Is there a way to broadcast Kafka messages from a specific timestamp (e.g., currentTimestamp - 2 min) to a new Server-Sent-Event (SSE) consumer?</p>\n<p>I have one multi-partition Kafka topic and multiple SSE client. I tried implementing AbstractConsumerSeekAware and use seekToTimestamp in the SSE controller but that's not working out. Its basically broadcasting the seek to all the SSE clients.</p>\n<p>I want it only for the SSE client that newly joined.</p>\n<p>Below is my code:</p>\n<pre><code>public class ServerController extends AbstractConsumerSeekAware {\n\n......\n\n@GetMapping(path = &quot;/stream/{orgid}&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    Flux&lt;ServerSentEvent&lt;ServiceEvent&gt;&gt; getFolderWatch(@PathVariable String orgid) {\n        return Flux.create(sink -&gt; {\n                    this.seekToTimestamp(System.currentTimeMillis() - 2 * 60 * 1000);\n                    MessageHandler handler = message -&gt; sink.next((ServiceEvent) message.getPayload());\n                    sink.onCancel(() -&gt; subscribableChannel.unsubscribe(handler));\n                    subscribableChannel.subscribe(handler);\n                }, FluxSink.OverflowStrategy.LATEST)\n                .filter(receiveRecord -&gt; {\n                    ServiceEvent event = (ServiceEvent) receiveRecord;\n                    return event.getOrgId().equals(orgid);\n                }).map(e -&gt; {\n                    ServiceEvent event = (ServiceEvent) e;\n                    return ServerSentEvent.&lt;ServiceEvent&gt;builder(event).build();\n                });\n    }\n\n    @KafkaListener(topics = &quot;${topic.name.consumer}&quot;, groupId = &quot;my-sse-application&quot;)\n    public void listenGroupFoo(@Payload String content) {\n        logger.info(&quot;Received Message in group foo: &quot; + content);\n        subscribableChannel.send(new GenericMessage&lt;&gt;(new ServiceEvent(this, content)));\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","java-8"],"answers":[{"tags":[],"owner":{"account_id":2075778,"reputation":249,"user_id":1849165,"display_name":"Senthil"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1611830854,"creation_date":1611830854,"answer_id":65935540,"question_id":65935419,"body_markdown":"In Spring, One solution could be, you can inject the resources array from a folder which is part of classpath\r\n\r\n    @Value(&quot;classpath:path/*&quot;)\r\n    private Resource[] files;","title":"Spring boot - list all the files in the classpath","body":"<p>In Spring, One solution could be, you can inject the resources array from a folder which is part of classpath</p>\n<pre><code>@Value(&quot;classpath:path/*&quot;)\nprivate Resource[] files;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611831421,"creation_date":1611831421,"answer_id":65935710,"question_id":65935419,"body_markdown":"Assuming your code is built into an executable jar, there’s no `src/main/resources` in the jar. What you can do is list the contents of the jar file, and then based on the path of each entry, select the ones with `csvfiles` in the path.\r\n\r\nTo find out which jar a class is from, see [this](https://stackoverflow.com/q/1983839/839733). To list the contents of a jar file, see [this](https://stackoverflow.com/q/1529611/839733).\r\n\r\nObviously, this won’t work when running locally, so you need an alternative. You can find the location of the class file with [this](https://nakov.com/blog/2008/06/11/finding-the-directory-where-your-java-class-file-is-loaded-from/) and then navigate to the `csvfiles` directory relative to it.","title":"Spring boot - list all the files in the classpath","body":"<p>Assuming your code is built into an executable jar, there’s no <code>src/main/resources</code> in the jar. What you can do is list the contents of the jar file, and then based on the path of each entry, select the ones with <code>csvfiles</code> in the path.</p>\n<p>To find out which jar a class is from, see <a href=\"https://stackoverflow.com/q/1983839/839733\">this</a>. To list the contents of a jar file, see <a href=\"https://stackoverflow.com/q/1529611/839733\">this</a>.</p>\n<p>Obviously, this won’t work when running locally, so you need an alternative. You can find the location of the class file with <a href=\"https://nakov.com/blog/2008/06/11/finding-the-directory-where-your-java-class-file-is-loaded-from/\" rel=\"nofollow noreferrer\">this</a> and then navigate to the <code>csvfiles</code> directory relative to it.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611831581,"creation_date":1611831581,"answer_id":65935746,"question_id":65935419,"body_markdown":"It&#39;s `YourClass.class.getResourceAsStream`, not `getClass()`, which has the potential to break if you subclass stuff.\r\n\r\nthe getResource mechanism fundamentally doesn&#39;t know what folders are and cannot give you a listing. Period. ClassLoaders are an abstraction, they can be implemented as reading jar files, directories on a disk, but also loading from a network, retrieving from a database, or generated on the fly, and crucially, there simply is no _please list folder contents_ option, so whatever you find out there (and there&#39;s some libraries and such) are hacks that fail to work in such cases.\r\n\r\nThe common solution is to create a text file that lists the resources. Now you are no longer dependent on the unavailable &#39;list files&#39; operation: Instead, you ask for all editions of that text file on any classpath entry, and then just read every file so listed. When applied to classes, this is called the SPI system (Service Provider Interface). Built into `java.*` itself is the ability to read them, though they are designed for classes, not files, so I&#39;m not sure the SPI system directly applies here. The principle works fine, though.\r\n\r\nIf you want this to be automated, as part of your build you&#39;d have to generate that file automatically. Not sure how you&#39;d do that with spring boot, you may have to maintain it by hand.\r\n\r\nAn example:\r\n\r\n```\r\nclass CsvResource {\r\n  \r\n  public CsvResource(String name) {\r\n    try (var in = CsvResource.class.getResourceAsStream(&quot;/csvfiles/&quot; + name)) {\r\n      read(in); // you write this one.\r\n    }\r\n  }\r\n\r\n  public static List&lt;String&gt; getAvailableNames() {\r\n    try (var in = CsvResource.class.getResourceAsStream(&quot;/csvfiles/listing.txt&quot;)) {\r\n      Arrays.stream(\r\n        new String(in.readAllBytes, StandardCharsets.UTF_8).split(&quot;\\s*\\\\n\\s*&quot;))\r\n        .filter(x -&gt; !x.isEmpty())\r\n        .filter(x -&gt; !x.startsWith(&quot;#&quot;))\r\n        .collect(Collectors.toList());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIt would be fair to catch IOException, especially for missing csvfiles, and rewrap into a runtime exception - that file not being there at runtime is a developer or devops error, and those should be Errors or at least RuntimeExceptions.\r\n","title":"Spring boot - list all the files in the classpath","body":"<p>It's <code>YourClass.class.getResourceAsStream</code>, not <code>getClass()</code>, which has the potential to break if you subclass stuff.</p>\n<p>the getResource mechanism fundamentally doesn't know what folders are and cannot give you a listing. Period. ClassLoaders are an abstraction, they can be implemented as reading jar files, directories on a disk, but also loading from a network, retrieving from a database, or generated on the fly, and crucially, there simply is no <em>please list folder contents</em> option, so whatever you find out there (and there's some libraries and such) are hacks that fail to work in such cases.</p>\n<p>The common solution is to create a text file that lists the resources. Now you are no longer dependent on the unavailable 'list files' operation: Instead, you ask for all editions of that text file on any classpath entry, and then just read every file so listed. When applied to classes, this is called the SPI system (Service Provider Interface). Built into <code>java.*</code> itself is the ability to read them, though they are designed for classes, not files, so I'm not sure the SPI system directly applies here. The principle works fine, though.</p>\n<p>If you want this to be automated, as part of your build you'd have to generate that file automatically. Not sure how you'd do that with spring boot, you may have to maintain it by hand.</p>\n<p>An example:</p>\n<pre><code>class CsvResource {\n  \n  public CsvResource(String name) {\n    try (var in = CsvResource.class.getResourceAsStream(&quot;/csvfiles/&quot; + name)) {\n      read(in); // you write this one.\n    }\n  }\n\n  public static List&lt;String&gt; getAvailableNames() {\n    try (var in = CsvResource.class.getResourceAsStream(&quot;/csvfiles/listing.txt&quot;)) {\n      Arrays.stream(\n        new String(in.readAllBytes, StandardCharsets.UTF_8).split(&quot;\\s*\\\\n\\s*&quot;))\n        .filter(x -&gt; !x.isEmpty())\n        .filter(x -&gt; !x.startsWith(&quot;#&quot;))\n        .collect(Collectors.toList());\n    }\n  }\n}\n</code></pre>\n<p>It would be fair to catch IOException, especially for missing csvfiles, and rewrap into a runtime exception - that file not being there at runtime is a developer or devops error, and those should be Errors or at least RuntimeExceptions.</p>\n"},{"tags":[],"owner":{"account_id":9090413,"reputation":783,"user_id":10796610,"display_name":"jeeva nantham"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669029447,"creation_date":1669029447,"answer_id":74518089,"question_id":65935419,"body_markdown":"    List&lt;File&gt; result = Files.walk(Paths.get(&quot;classpathname&quot;))\r\n    .filter(Files::isRegularFile)\r\n    .map(Path::toFile)\r\n    .collect(Collectors.toList());\r\n\r\nThis result will gives you list of file and their content.\r\n","title":"Spring boot - list all the files in the classpath","body":"<pre><code>List&lt;File&gt; result = Files.walk(Paths.get(&quot;classpathname&quot;))\n.filter(Files::isRegularFile)\n.map(Path::toFile)\n.collect(Collectors.toList());\n</code></pre>\n<p>This result will gives you list of file and their content.</p>\n"}],"owner":{"account_id":19948553,"reputation":29,"user_id":14618698,"display_name":"xbwxlvn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4521,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1669029447,"creation_date":1611830359,"question_id":65935419,"body_markdown":"In a spring boot application, I have application.yaml file with properties as\r\n\r\n    files:\r\n      paths: /csvfiles/\r\n\r\nWhile in `src/main/resource`, we have a folder named csvfiles which contains the list of csv files which I want to read.\r\n\r\nI am trying to search the same, but didn&#39;t get any proper way to achieve the same.\r\n\r\n`getClass().getResourceAsStream(&quot;/files/paths&quot;)` cal only be used to get the particular file but not the list of files.\r\n\r\nAfter listing all the files, I want read them sequentially","title":"Spring boot - list all the files in the classpath","body":"<p>In a spring boot application, I have application.yaml file with properties as</p>\n<pre><code>files:\n  paths: /csvfiles/\n</code></pre>\n<p>While in <code>src/main/resource</code>, we have a folder named csvfiles which contains the list of csv files which I want to read.</p>\n<p>I am trying to search the same, but didn't get any proper way to achieve the same.</p>\n<p><code>getClass().getResourceAsStream(&quot;/files/paths&quot;)</code> cal only be used to get the particular file but not the list of files.</p>\n<p>After listing all the files, I want read them sequentially</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1553855786,"post_id":55415252,"comment_id":97549945,"body_markdown":"Please post the full error, you have a duplicated class somewhere.","body":"Please post the full error, you have a duplicated class somewhere."},{"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"score":0,"creation_date":1553856059,"post_id":55415252,"comment_id":97550139,"body_markdown":"Done, Also this was working fine until this update, This mapperImpl class gets autogenerated by mapstruct library, i have checked there is no duplicate class.","body":"Done, Also this was working fine until this update, This mapperImpl class gets autogenerated by mapstruct library, i have checked there is no duplicate class."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1553856092,"post_id":55415252,"comment_id":97550155,"body_markdown":"Have you tried to clean/rebuild your project and run &quot;File | Invalidate Caches&quot;?","body":"Have you tried to clean/rebuild your project and run &quot;File | Invalidate Caches&quot;?"},{"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"score":0,"creation_date":1553856372,"post_id":55415252,"comment_id":97550306,"body_markdown":"What does `grep GMapperImpl -R &lt;path/to/project/directory&gt;` print? What are the files that define the duplicated `GMapperImpl` class?","body":"What does <code>grep GMapperImpl -R &lt;path&#47;to&#47;project&#47;directory&gt;</code> print? What are the files that define the duplicated <code>GMapperImpl</code> class?"},{"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"score":0,"creation_date":1554097388,"post_id":55415252,"comment_id":97611826,"body_markdown":"@KarolDowbecki `.out` directory causing this problem, I deleted it and it started working fine.","body":"@KarolDowbecki <code>.out</code> directory causing this problem, I deleted it and it started working fine."},{"owner":{"account_id":1360570,"reputation":5872,"user_id":1298028,"accept_rate":85,"display_name":"Łukasz Rzeszotarski"},"score":0,"creation_date":1570464559,"post_id":55415252,"comment_id":102913365,"body_markdown":"@y.bedrov Why cache invalidation should help? For me it still looks like IntelliJ bug, even if cache invalidation works, but I see yourtrack for this issue has been closed.","body":"@y.bedrov Why cache invalidation should help? For me it still looks like IntelliJ bug, even if cache invalidation works, but I see yourtrack for this issue has been closed."}],"answers":[{"tags":[],"owner":{"account_id":5541876,"reputation":2031,"user_id":4398100,"display_name":"Anshul Singhal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557310651,"creation_date":1557310651,"answer_id":56038408,"question_id":55415252,"body_markdown":"I was facing similar issue for my classes and it got resolved by performing `maven clean` from inside `intellij` by clicking on `clean` lifecycle phase on maven project where this error is coming and then build the project again from `intellij`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AZX1o.jpg","title":"Compilation error: duplicate class with MapStruct in IntelliJ IDEA 2019.1","body":"<p>I was facing similar issue for my classes and it got resolved by performing <code>maven clean</code> from inside <code>intellij</code> by clicking on <code>clean</code> lifecycle phase on maven project where this error is coming and then build the project again from <code>intellij</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/AZX1o.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AZX1o.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1519017,"reputation":833,"user_id":1419261,"display_name":"user1419261"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606705055,"creation_date":1606705055,"answer_id":65067578,"question_id":55415252,"body_markdown":"Try deleting the .java file if it already exists in the original package and if you copied in a previous run and then run and a new copy will be found under the target folder and this will eliminate the duplicate class error.\r\nEven if the error appears it still doesn&#39;t hurt since the new class will always be generated under target -&gt; generated-sources-&gt;annotation folder. Once you copy this over and delete the copy under target folder you should be good.","title":"Compilation error: duplicate class with MapStruct in IntelliJ IDEA 2019.1","body":"<p>Try deleting the .java file if it already exists in the original package and if you copied in a previous run and then run and a new copy will be found under the target folder and this will eliminate the duplicate class error.\nEven if the error appears it still doesn't hurt since the new class will always be generated under target -&gt; generated-sources-&gt;annotation folder. Once you copy this over and delete the copy under target folder you should be good.</p>\n"},{"tags":[],"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1643621779,"creation_date":1643621779,"answer_id":70923774,"question_id":55415252,"body_markdown":" `.out` directory was causing this problem, I deleted it and it started working fine","title":"Compilation error: duplicate class with MapStruct in IntelliJ IDEA 2019.1","body":"<p><code>.out</code> directory was causing this problem, I deleted it and it started working fine</p>\n"},{"tags":[],"owner":{"account_id":25181206,"reputation":1,"user_id":19022689,"display_name":"Ronald van Uffelen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651568496,"creation_date":1651568496,"answer_id":72097059,"question_id":55415252,"body_markdown":"In my case (a multi module project) it was because the project configuration messed up: in the module configuration (F4) there was a second source root pointing to the master pom. Removing that was enough.","title":"Compilation error: duplicate class with MapStruct in IntelliJ IDEA 2019.1","body":"<p>In my case (a multi module project) it was because the project configuration messed up: in the module configuration (F4) there was a second source root pointing to the master pom. Removing that was enough.</p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669029385,"creation_date":1669029385,"answer_id":74518076,"question_id":55415252,"body_markdown":"I removed the `target` folder and everything working fine.","title":"Compilation error: duplicate class with MapStruct in IntelliJ IDEA 2019.1","body":"<p>I removed the <code>target</code> folder and everything working fine.</p>\n"}],"owner":{"account_id":3785624,"reputation":7670,"user_id":3143670,"accept_rate":50,"display_name":"Neeraj Jain"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4286,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":70923774,"answer_count":5,"score":8,"last_activity_date":1669029385,"creation_date":1553854909,"question_id":55415252,"body_markdown":"I am using [Mapstruct](http://mapstruct.org/) for mapping between different Java Beans, but after installing the latest IntelliJ update, Compilation is getting failed with error: \r\n\r\n```\r\nCompilation error: duplicate class\r\n```\r\n\r\nHere are the version details of IntelliJ\r\n```\r\nIntelliJ IDEA 2019.1 (Ultimate Edition)\r\nBuild #IU-191.6183.87, built on March 27, 2019\r\nJRE: 1.8.0_202-release-1483-b39 x86_64\r\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\nmacOS 10.14.3\r\n```\r\n\r\nCompilation Error : \r\n```\r\nError:(14, 8) java: duplicate class: com.company.mapper.GMapperImpl\r\n```","title":"Compilation error: duplicate class with MapStruct in IntelliJ IDEA 2019.1","body":"<p>I am using <a href=\"http://mapstruct.org/\" rel=\"noreferrer\">Mapstruct</a> for mapping between different Java Beans, but after installing the latest IntelliJ update, Compilation is getting failed with error: </p>\n\n<pre><code>Compilation error: duplicate class\n</code></pre>\n\n<p>Here are the version details of IntelliJ</p>\n\n<pre><code>IntelliJ IDEA 2019.1 (Ultimate Edition)\nBuild #IU-191.6183.87, built on March 27, 2019\nJRE: 1.8.0_202-release-1483-b39 x86_64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nmacOS 10.14.3\n</code></pre>\n\n<p>Compilation Error : </p>\n\n<pre><code>Error:(14, 8) java: duplicate class: com.company.mapper.GMapperImpl\n</code></pre>\n"},{"tags":["java","string","escaping"],"comments":[{"owner":{"account_id":11089,"reputation":400030,"user_id":21234,"accept_rate":91,"display_name":"skaffman"},"score":13,"creation_date":1251893590,"post_id":1367322,"comment_id":25556345,"body_markdown":"This is in the [Java Language Spec](http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.6)","body":"This is in the <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-3.html#jls-3.10.6\" rel=\"nofollow noreferrer\">Java Language Spec</a>"},{"owner":{"account_id":2756241,"reputation":998,"user_id":2374233,"accept_rate":75,"display_name":"jaredad7"},"score":2,"creation_date":1626286594,"post_id":1367322,"comment_id":120855138,"body_markdown":"@user207421 though it is nice for the rest of us to find while googling.","body":"@user207421 though it is nice for the rest of us to find while googling."}],"answers":[{"tags":[],"owner":{"account_id":9151,"reputation":11662,"user_id":16787,"accept_rate":100,"display_name":"rtperson"},"down_vote_count":4,"up_vote_count":219,"is_accepted":true,"score":215,"last_activity_date":1658500697,"creation_date":1251893671,"answer_id":1367339,"question_id":1367322,"body_markdown":"You can find the full list [here][1].\r\n\r\n  - `\\t` \tInsert a tab in the text at this point.\r\n  - `\\b` \tInsert a backspace in the text at this point.\r\n  - `\\n`\tInsert a newline in the text at this point.\r\n  - `\\r` \tInsert a carriage return in the text at this point.\r\n  - `\\f` \tInsert a formfeed in the text at this point.\r\n  - `\\s` \tInsert a space in the text at this point.\r\n  - `\\&#39;` \tInsert a single quote character in the text at this point.\r\n  - `\\&quot;` \tInsert a double quote character in the text at this point.\r\n  - `\\\\`\tInsert a backslash character in the text at this point.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/data/characters.html","title":"What are all the escape characters?","body":"<p>You can find the full list <a href=\"http://docs.oracle.com/javase/tutorial/java/data/characters.html\" rel=\"noreferrer\">here</a>.</p>\n<ul>\n<li><code>\\t</code>    Insert a tab in the text at this point.</li>\n<li><code>\\b</code>    Insert a backspace in the text at this point.</li>\n<li><code>\\n</code>    Insert a newline in the text at this point.</li>\n<li><code>\\r</code>    Insert a carriage return in the text at this point.</li>\n<li><code>\\f</code>    Insert a formfeed in the text at this point.</li>\n<li><code>\\s</code>    Insert a space in the text at this point.</li>\n<li><code>\\'</code>    Insert a single quote character in the text at this point.</li>\n<li><code>\\&quot;</code>    Insert a double quote character in the text at this point.</li>\n<li><code>\\\\</code>    Insert a backslash character in the text at this point.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":948111,"reputation":1930,"user_id":974907,"accept_rate":64,"display_name":"Ehryk"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1448000623,"creation_date":1426444134,"answer_id":29064518,"question_id":1367322,"body_markdown":"    Java Escape Sequences:\r\n\r\n    \\u{0000-FFFF}  /* Unicode [Basic Multilingual Plane only, see below] hex value \r\n                      does not handle unicode values higher than 0xFFFF (65535),\r\n                      the high surrogate has to be separate: \\uD852\\uDF62\r\n                      Four hex characters only (no variable width) */\r\n    \\b             /* \\u0008: backspace (BS) */\r\n    \\t             /* \\u0009: horizontal tab (HT) */\r\n    \\n             /* \\u000a: linefeed (LF) */\r\n    \\f             /* \\u000c: form feed (FF) */\r\n    \\r             /* \\u000d: carriage return (CR) */\r\n    \\&quot;             /* \\u0022: double quote (&quot;) */\r\n    \\&#39;             /* \\u0027: single quote (&#39;) */\r\n    \\\\             /* \\u005c: backslash (\\) */\r\n    \\{0-377}       /* \\u0000 to \\u00ff: from octal value \r\n                      1 to 3 octal digits (variable width) */\r\n\r\nThe [Basic Multilingual Plane](http://en.wikipedia.org/wiki/Plane_%28Unicode%29#Basic_Multilingual_Plane) is the unicode values from 0x0000 - 0xFFFF (0 - 65535). Additional planes can only be specified in Java by multiple characters: the egyptian heiroglyph A054 (laying down dude) is `U+1303F` / `&amp;#77887;` and would have to be broken into `&quot;\\uD80C\\uDC3F&quot;` (UTF-16) for Java strings. Some other languages support higher planes with `&quot;\\U0001303F&quot;`.","title":"What are all the escape characters?","body":"<pre><code>Java Escape Sequences:\n\n\\u{0000-FFFF}  /* Unicode [Basic Multilingual Plane only, see below] hex value \n                  does not handle unicode values higher than 0xFFFF (65535),\n                  the high surrogate has to be separate: \\uD852\\uDF62\n                  Four hex characters only (no variable width) */\n\\b             /* \\u0008: backspace (BS) */\n\\t             /* \\u0009: horizontal tab (HT) */\n\\n             /* \\u000a: linefeed (LF) */\n\\f             /* \\u000c: form feed (FF) */\n\\r             /* \\u000d: carriage return (CR) */\n\\\"             /* \\u0022: double quote (\") */\n\\'             /* \\u0027: single quote (') */\n\\\\             /* \\u005c: backslash (\\) */\n\\{0-377}       /* \\u0000 to \\u00ff: from octal value \n                  1 to 3 octal digits (variable width) */\n</code></pre>\n\n<p>The <a href=\"http://en.wikipedia.org/wiki/Plane_%28Unicode%29#Basic_Multilingual_Plane\" rel=\"noreferrer\">Basic Multilingual Plane</a> is the unicode values from 0x0000 - 0xFFFF (0 - 65535). Additional planes can only be specified in Java by multiple characters: the egyptian heiroglyph A054 (laying down dude) is <code>U+1303F</code> / <code>&amp;#77887;</code> and would have to be broken into <code>\"\\uD80C\\uDC3F\"</code> (UTF-16) for Java strings. Some other languages support higher planes with <code>\"\\U0001303F\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":6477823,"reputation":151,"user_id":5015895,"display_name":"manisha mulchandani"},"down_vote_count":4,"up_vote_count":4,"is_accepted":false,"score":0,"last_activity_date":1458152204,"creation_date":1434731479,"answer_id":30943013,"question_id":1367322,"body_markdown":"Yes, below is a link of docs.Oracle where you can find complete list of escape characters in Java.\r\n\r\nEscape characters are always **preceded with &quot;\\&quot;** and used to perform some specific task like go to next line etc.\r\n\r\n**For more Details on Escape Character Refer following link:**\r\n\r\nhttps://docs.oracle.com/javase/tutorial/java/data/characters.html","title":"What are all the escape characters?","body":"<p>Yes, below is a link of docs.Oracle where you can find complete list of escape characters in Java.</p>\n\n<p>Escape characters are always <strong>preceded with \"\\\"</strong> and used to perform some specific task like go to next line etc.</p>\n\n<p><strong>For more Details on Escape Character Refer following link:</strong></p>\n\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/data/characters.html\" rel=\"nofollow\">https://docs.oracle.com/javase/tutorial/java/data/characters.html</a></p>\n"},{"tags":[],"owner":{"account_id":7803174,"reputation":712,"user_id":5901831,"accept_rate":100,"display_name":"Hemin"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1520508728,"creation_date":1486378347,"answer_id":42065997,"question_id":1367322,"body_markdown":"These are escape characters which are used to manipulate string.\r\n\r\n    \\t\tInsert a tab in the text at this point.\r\n    \\b\tInsert a backspace in the text at this point.\r\n    \\n\tInsert a newline in the text at this point.\r\n    \\r\tInsert a carriage return in the text at this point.\r\n    \\f\tInsert a form feed in the text at this point.\r\n    \\&#39;\tInsert a single quote character in the text at this point.\r\n    \\&quot;\tInsert a double quote character in the text at this point.\r\n    \\\\\tInsert a backslash character in the text at this point.\r\n\r\nRead more about them from here.\r\n\r\nhttp://docs.oracle.com/javase/tutorial/java/data/characters.html","title":"What are all the escape characters?","body":"<p>These are escape characters which are used to manipulate string.</p>\n\n<pre><code>\\t  Insert a tab in the text at this point.\n\\b  Insert a backspace in the text at this point.\n\\n  Insert a newline in the text at this point.\n\\r  Insert a carriage return in the text at this point.\n\\f  Insert a form feed in the text at this point.\n\\'  Insert a single quote character in the text at this point.\n\\\"  Insert a double quote character in the text at this point.\n\\\\  Insert a backslash character in the text at this point.\n</code></pre>\n\n<p>Read more about them from here.</p>\n\n<p><a href=\"http://docs.oracle.com/javase/tutorial/java/data/characters.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/tutorial/java/data/characters.html</a></p>\n"},{"tags":[],"owner":{"account_id":171978,"reputation":1460,"user_id":399723,"accept_rate":25,"display_name":"Douglas Held"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1653167542,"creation_date":1653167542,"answer_id":72333247,"question_id":1367322,"body_markdown":"Well additionally, older versions of Java supported `\\v` for form feed.\r\n\r\nFrom: java/util/regex/Pattern.java:\r\n\r\n    2600         case &#39;v&#39;:\r\n    2601             // &#39;\\v&#39; was implemented as VT/0x0B in releases &lt; 1.8 (though\r\n    2602             // undocumented). In JDK8 &#39;\\v&#39; is specified as a predefined\r\n    2603             // character class for all vertical whitespace characters.\r\n    2604             // So [-1, root=VertWS node] pair is returned (instead of a\r\n    2605             // single 0x0B). This breaks the range if &#39;\\v&#39; is used as\r\n    2606             // the start or end value, such as [\\v-...] or [...-\\v], in\r\n    2607             // which a single definite value (0x0B) is expected. For\r\n    2608             // compatibility concern &#39;\\013&#39;/0x0B is returned if","title":"What are all the escape characters?","body":"<p>Well additionally, older versions of Java supported <code>\\v</code> for form feed.</p>\n<p>From: java/util/regex/Pattern.java:</p>\n<pre><code>2600         case 'v':\n2601             // '\\v' was implemented as VT/0x0B in releases &lt; 1.8 (though\n2602             // undocumented). In JDK8 '\\v' is specified as a predefined\n2603             // character class for all vertical whitespace characters.\n2604             // So [-1, root=VertWS node] pair is returned (instead of a\n2605             // single 0x0B). This breaks the range if '\\v' is used as\n2606             // the start or end value, such as [\\v-...] or [...-\\v], in\n2607             // which a single definite value (0x0B) is expected. For\n2608             // compatibility concern '\\013'/0x0B is returned if\n</code></pre>\n"}],"owner":{"account_id":746,"reputation":50421,"user_id":974,"accept_rate":82,"display_name":"izb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":607269,"favorite_count":0,"down_vote_count":1,"up_vote_count":144,"accepted_answer_id":1367339,"answer_count":5,"score":143,"last_activity_date":1669028685,"creation_date":1251893446,"question_id":1367322,"body_markdown":"I know some of the escape characters in Java, e.g.\r\n\r\n    \\n : Newline\r\n    \\r : Carriage return\r\n    \\t : Tab\r\n    \\\\ : Backslash\r\n    ...\r\n\r\nIs there a complete list somewhere?","title":"What are all the escape characters?","body":"<p>I know some of the escape characters in Java, e.g.</p>\n\n<pre><code>\\n : Newline\n\\r : Carriage return\n\\t : Tab\n\\\\ : Backslash\n...\n</code></pre>\n\n<p>Is there a complete list somewhere?</p>\n"},{"tags":["java","postgresql","stored-procedures"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1669021864,"post_id":74516443,"comment_id":131539524,"body_markdown":"I don&#39;t think `executeUpdate()` will return the number of affected rows (not columns btw) if the UPDATEs are &quot;hidden&quot; behind a stored procedure. You would either need to use a function that returns the number of affected rows or use an `OUT` parameter in your stored procedure.","body":"I don&#39;t think <code>executeUpdate()</code> will return the number of affected rows (not columns btw) if the UPDATEs are &quot;hidden&quot; behind a stored procedure. You would either need to use a function that returns the number of affected rows or use an <code>OUT</code> parameter in your stored procedure."},{"owner":{"account_id":13184602,"reputation":207,"user_id":9523051,"display_name":"Hamza Khadhri"},"score":0,"creation_date":1669022092,"post_id":74516443,"comment_id":131539616,"body_markdown":"Would you please post your stored procedure &#39;spsaveuser&#39; ?","body":"Would you please post your stored procedure &#39;spsaveuser&#39; ?"},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1669027829,"post_id":74516443,"comment_id":131541543,"body_markdown":"@a_horse_with_no_name : You are right , I think we need to use some return on condition inside the SP to the ```OUT``` and then we can compare.","body":"@a_horse_with_no_name : You are right , I think we need to use some return on condition inside the SP to the <code>OUT</code> and then we can compare."},{"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"score":0,"creation_date":1669027876,"post_id":74516443,"comment_id":131541556,"body_markdown":"@HamzaKhadhri : It is very big doing lots of stuffs creating temp table here and there and then inserting or updating the db tables.","body":"@HamzaKhadhri : It is very big doing lots of stuffs creating temp table here and there and then inserting or updating the db tables."}],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":240,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669027763,"creation_date":1669021511,"question_id":74516443,"body_markdown":"I have a SP in **postgresql** database, which saves/updates USER specific data for a system.\r\nThe SP doesn&#39;t return anything when it is called.\r\n\r\nNow from Java I am trying to call the SP , however I am confused about the return value.\r\n\r\nMy Code :\r\n\r\n            Connection conn = DatabaseConnection.connect();\r\n\t\t\tPreparedStatement stmt = conn.prepareStatement(&quot;call public.spsaveuser (?,?,?,?,?);&quot;);\r\n\t\t\t// CallableStatement stmt = conn.prepareCall(&quot;{CALL public.spsaveuser (?,?,?,?,?) }&quot;);\r\n\r\n\r\n\t\t\tstmt.setString(1, userName);\r\n\t\t\tstmt.setString(2, someString);\r\n\t\t\tstmt.setString(3, anotheString);\r\n\t\t\tstmt.setBoolean(4, someBoolean);\r\n\t\t\tstmt.setInt(5, someIntegerVal);\r\n\r\n\t\t\t\r\n\t\t\tint numColsAffected = stmt.executeUpdate();\r\n\t\t\tSystem.out.println(&quot;numColsAffected : &quot; + numColsAffected);\r\n\t\t\t\r\n\t\t\treturn (numColsAffected &gt; 0);\r\n\r\nI always get this ```numColsAffected ``` as 0 however in the Database the tables gets updated.\r\n\r\nSo what return type can I compare here in my case to confirm Success / Failure\r\n\r\n**UPDATE**\r\n\r\nAccording to this [sql server doc][1] \r\n\r\n***Return Value in SQL Server Stored Procedure***\r\n\r\n&gt; In default, when we execute a stored procedure in SQL Server, it\r\n&gt; returns an integer value and this value indicates the execution status\r\n&gt; of the stored procedure. The 0 value indicates, the procedure is\r\n&gt; completed successfully and the non-zero values indicate an error. The\r\n&gt; following query will create a very simple stored procedure to get\r\n&gt; departments’ information. Let’s understand this concept better with an\r\n&gt; example.\r\n\r\nAnd according to [Postgresql doc][2]  there is no such definite return mentioned.\r\n\r\n\r\n\r\n  [1]: https://www.sqlshack.com/using-stored-procedures-with-return-values/\r\n  [2]: https://www.postgresql.org/docs/current/xproc.html","title":"Calling a Stored Procedure in Postgresql From JAVA without any return","body":"<p>I have a SP in <strong>postgresql</strong> database, which saves/updates USER specific data for a system.\nThe SP doesn't return anything when it is called.</p>\n<p>Now from Java I am trying to call the SP , however I am confused about the return value.</p>\n<p>My Code :</p>\n<pre><code>        Connection conn = DatabaseConnection.connect();\n        PreparedStatement stmt = conn.prepareStatement(&quot;call public.spsaveuser (?,?,?,?,?);&quot;);\n        // CallableStatement stmt = conn.prepareCall(&quot;{CALL public.spsaveuser (?,?,?,?,?) }&quot;);\n\n\n        stmt.setString(1, userName);\n        stmt.setString(2, someString);\n        stmt.setString(3, anotheString);\n        stmt.setBoolean(4, someBoolean);\n        stmt.setInt(5, someIntegerVal);\n\n        \n        int numColsAffected = stmt.executeUpdate();\n        System.out.println(&quot;numColsAffected : &quot; + numColsAffected);\n        \n        return (numColsAffected &gt; 0);\n</code></pre>\n<p>I always get this <code>numColsAffected </code> as 0 however in the Database the tables gets updated.</p>\n<p>So what return type can I compare here in my case to confirm Success / Failure</p>\n<p><strong>UPDATE</strong></p>\n<p>According to this <a href=\"https://www.sqlshack.com/using-stored-procedures-with-return-values/\" rel=\"nofollow noreferrer\">sql server doc</a></p>\n<p><em><strong>Return Value in SQL Server Stored Procedure</strong></em></p>\n<blockquote>\n<p>In default, when we execute a stored procedure in SQL Server, it\nreturns an integer value and this value indicates the execution status\nof the stored procedure. The 0 value indicates, the procedure is\ncompleted successfully and the non-zero values indicate an error. The\nfollowing query will create a very simple stored procedure to get\ndepartments’ information. Let’s understand this concept better with an\nexample.</p>\n</blockquote>\n<p>And according to <a href=\"https://www.postgresql.org/docs/current/xproc.html\" rel=\"nofollow noreferrer\">Postgresql doc</a>  there is no such definite return mentioned.</p>\n"},{"tags":["java","azure","unit-testing","cosmosclient"],"answers":[{"tags":[],"owner":{"account_id":10978081,"reputation":28,"user_id":8066164,"display_name":"Mouli Sanketh Maturi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669027755,"creation_date":1669013790,"answer_id":74515223,"question_id":73529141,"body_markdown":"CosmosClient is a final class, and to mock final classes, you need to configure a Mockito feature using the below steps:\r\n\r\nCreate a file in the following path:\r\n\r\n    src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker\r\n\r\nwith the following content:\r\n\r\n    mock-maker-inline\r\n\r\nThis should enable Mocking of final classes.","title":"Mock CosmosClient in Java junits","body":"<p>CosmosClient is a final class, and to mock final classes, you need to configure a Mockito feature using the below steps:</p>\n<p>Create a file in the following path:</p>\n<pre><code>src/test/resources/mockito-extensions/org.mockito.plugins.MockMaker\n</code></pre>\n<p>with the following content:</p>\n<pre><code>mock-maker-inline\n</code></pre>\n<p>This should enable Mocking of final classes.</p>\n"}],"owner":{"account_id":6180465,"reputation":101,"user_id":4816131,"display_name":"Wafa Saba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":785,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74515223,"answer_count":1,"score":0,"last_activity_date":1669027755,"creation_date":1661777791,"question_id":73529141,"body_markdown":"We have a requirement where we are fetching few records from Azure-CosmosDB - sql api\r\nFor increasing coverage, we want to mock but have searched a lot but didn&#39;t find for Java.\r\nCould you please guide here\r\n\r\nMy DAO class is as below\r\n\r\n```\r\nprivate CosmosClient client;\r\n\r\n@Autowired\r\npublic DAO(CosmosClient client) {\r\n\tthis.client = client;\r\n}\r\n\r\nCosmosDatabase database;\r\nCosmosContainer container;\r\n\r\n\tprivate static final String DATABASE = &quot;test-db&quot;;\r\n\tprivate static final String CONTAINER = &quot;test-container&quot;;\r\n\r\n   /**\r\n\t * Test method\r\n\t */\r\n\tpublic List&lt;TestVO&gt; fetchTestData() {\r\n\r\n       // create database\r\n\t\tCosmosDatabaseResponse databaseResponse = client.createDatabaseIfNotExists(DATABASE);\r\n\t\tdatabase = client.getDatabase(databaseResponse.getProperties().getId());\r\n\r\n      // create container\r\n\t\tCosmosContainerProperties containerProperties = new CosmosContainerProperties(CONTAINER, &quot;/pkey&quot;);\r\n\t\tCosmosContainerResponse containerResponse = database.createContainerIfNotExists(containerProperties,\r\n\t\t\t\tthroughputProperties);\r\n\t\tcontainer = database.getContainer(containerResponse.getProperties().getId());\r\n\r\n           // Form querySpec\r\n\t\t\tIterable&lt;FeedResponse&lt;Test&gt;&gt; feedRespIter = container\r\n\t\t\t\t\t.queryItems(querySpec, queryOptions, Test.class).iterableByPage(continuationToken, pageSize);\r\n\r\n            // iterate list of documents to return shipping list\r\n\t\t\tif (feedRespIter .iterator().hasNext()) {\r\n                // Some business logic\r\n            }\r\n\t}\r\n```\r\n\r\nOn injecting mock to cosmosClient or just mocking, I get error \r\n```\r\nCannot mock/spy class com.azure.cosmos.CosmosClient\r\nMockito cannot mock/spy because\r\n - final class\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.initMocks(MockitoTestExecutionListener.java:83)\r\n\tat org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:60)\r\n```","title":"Mock CosmosClient in Java junits","body":"<p>We have a requirement where we are fetching few records from Azure-CosmosDB - sql api\nFor increasing coverage, we want to mock but have searched a lot but didn't find for Java.\nCould you please guide here</p>\n<p>My DAO class is as below</p>\n<pre><code>private CosmosClient client;\n\n@Autowired\npublic DAO(CosmosClient client) {\n    this.client = client;\n}\n\nCosmosDatabase database;\nCosmosContainer container;\n\n    private static final String DATABASE = &quot;test-db&quot;;\n    private static final String CONTAINER = &quot;test-container&quot;;\n\n   /**\n     * Test method\n     */\n    public List&lt;TestVO&gt; fetchTestData() {\n\n       // create database\n        CosmosDatabaseResponse databaseResponse = client.createDatabaseIfNotExists(DATABASE);\n        database = client.getDatabase(databaseResponse.getProperties().getId());\n\n      // create container\n        CosmosContainerProperties containerProperties = new CosmosContainerProperties(CONTAINER, &quot;/pkey&quot;);\n        CosmosContainerResponse containerResponse = database.createContainerIfNotExists(containerProperties,\n                throughputProperties);\n        container = database.getContainer(containerResponse.getProperties().getId());\n\n           // Form querySpec\n            Iterable&lt;FeedResponse&lt;Test&gt;&gt; feedRespIter = container\n                    .queryItems(querySpec, queryOptions, Test.class).iterableByPage(continuationToken, pageSize);\n\n            // iterate list of documents to return shipping list\n            if (feedRespIter .iterator().hasNext()) {\n                // Some business logic\n            }\n    }\n</code></pre>\n<p>On injecting mock to cosmosClient or just mocking, I get error</p>\n<pre><code>Cannot mock/spy class com.azure.cosmos.CosmosClient\nMockito cannot mock/spy because\n - final class\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.initMocks(MockitoTestExecutionListener.java:83)\n    at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:60)\n</code></pre>\n"},{"tags":["java","apple-m1"],"comments":[{"owner":{"account_id":178970,"reputation":5078,"user_id":411282,"accept_rate":67,"display_name":"Joshua Goldberg"},"score":0,"creation_date":1685977942,"post_id":74517575,"comment_id":134732844,"body_markdown":"Does this answer your question? [How do I detect apple silicon (M1) vs. intel in java?](https://stackoverflow.com/questions/74315665/how-do-i-detect-apple-silicon-m1-vs-intel-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74315665/how-do-i-detect-apple-silicon-m1-vs-intel-in-java\">How do I detect apple silicon (M1) vs. intel in java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":14867049,"reputation":412,"user_id":10735779,"display_name":"Christian G. Faraone"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669027427,"creation_date":1669027427,"answer_id":74517655,"question_id":74517575,"body_markdown":"In Java you can get informations about the system running the JVM using the following:\r\n\r\n     //Operating system name\r\n     System.out.println(&quot;Your OS name -&gt; &quot; + System.getProperty(&quot;os.name&quot;));\r\n\r\n     //Operating system version\r\n     System.out.println(&quot;Your OS version -&gt; &quot; + System.getProperty(&quot;os.version&quot;));\r\n\r\n     //Operating system architecture\r\n     System.out.println(&quot;Your OS Architecture -&gt; &quot; + System.getProperty(&quot;os.arch&quot;));\r\n\r\nSo you should build your logics around the last method, the returned values are Strings.\r\n\r\nOn your M1 Mac you should get an output like this:\r\n\r\n    Your OS Architecture -&gt; aarch64","title":"Java - Need to Conditionally enable a Unit test dependent on whether the device is a Mac M1","body":"<p>In Java you can get informations about the system running the JVM using the following:</p>\n<pre><code> //Operating system name\n System.out.println(&quot;Your OS name -&gt; &quot; + System.getProperty(&quot;os.name&quot;));\n\n //Operating system version\n System.out.println(&quot;Your OS version -&gt; &quot; + System.getProperty(&quot;os.version&quot;));\n\n //Operating system architecture\n System.out.println(&quot;Your OS Architecture -&gt; &quot; + System.getProperty(&quot;os.arch&quot;));\n</code></pre>\n<p>So you should build your logics around the last method, the returned values are Strings.</p>\n<p>On your M1 Mac you should get an output like this:</p>\n<pre><code>Your OS Architecture -&gt; aarch64\n</code></pre>\n"}],"owner":{"account_id":27000529,"reputation":23,"user_id":20561880,"display_name":"Glen Campbell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74517655,"answer_count":1,"score":1,"last_activity_date":1669027427,"creation_date":1669027054,"question_id":74517575,"body_markdown":"I need to enable a test whenever the system running the test is not an m1 mac.\r\n\r\nStruggling to find a way to identify when the device is an m1","title":"Java - Need to Conditionally enable a Unit test dependent on whether the device is a Mac M1","body":"<p>I need to enable a test whenever the system running the test is not an m1 mac.</p>\n<p>Struggling to find a way to identify when the device is an m1</p>\n"},{"tags":["java","functional-programming"],"comments":[{"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"score":0,"creation_date":1669012789,"post_id":74511192,"comment_id":131537056,"body_markdown":"Is it possible to simplify the code to a minimal example that doesn&#39;t have a dependency on 3rd party libraries?","body":"Is it possible to simplify the code to a minimal example that doesn&#39;t have a dependency on 3rd party libraries?"}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8917,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669027326,"creation_date":1669016989,"answer_id":74515693,"question_id":74511192,"body_markdown":"This simplest way would be to replace your `SingleParamPagingApi` interface with one that has a method that just takes the page no and size as parameters (`PagingApi`). And replace `SingleParamPageableCall` with a class that just takes a `PagingApi` argument. Then you can create the variants of `PagingApi` for 1 parameter, 2 parameters etc by immediately binding the method to the argument 0, argument 1 etc, thereby creating a `PagingApi` instance (the `of` methods).\r\n\r\n```java\r\npublic interface PagingApi1&lt;T, A0&gt; {\r\n    ResponseEntity&lt;IVDPagedResponseOf&lt;T&gt;&gt; callFeignApi(A0 arg0, int page, int size) throws RuntimeException;\r\n}\r\n\r\npublic interface PagingApi2&lt;T, A0, A1&gt; {\r\n    ResponseEntity&lt;IVDPagedResponseOf&lt;T&gt;&gt; callFeignApi(A0 arg0, A1 arg1, int page, int size) throws RuntimeException;\r\n}\r\n\r\npublic interface PagingApi&lt;T&gt; {\r\n    static &lt;T, A0&gt; PagingApi&lt;T&gt; of(PagingApi1&lt;T, A0&gt; api, A0 arg0) {\r\n        return (p, s) -&gt; api.callFeignApi(arg0, p, s);\r\n    }\r\n\r\n    static &lt;T, A0, A1&gt; PagingApi&lt;T&gt; of(PagingApi2&lt;T, A0, A1&gt; api, A0 arg0, A1 arg1,) {\r\n        return (p, s) -&gt; api.callFeignApi(arg0, arg1, p, s);\r\n    }\r\n\r\n    ResponseEntity&lt;IVDPagedResponseOf&lt;T&gt;&gt; callFeignApi(int page, int size) throws RuntimeException;\r\n}\r\n\r\n\r\npublic static class PageableCall&lt;T&gt; implements PagedCall&lt;T&gt; {\r\n    PagingApi&lt;T&gt; fun;\r\n\r\n    public PageableCall(PagingApi&lt;T&gt; fun) {\r\n        this.fun = fun;\r\n    }\r\n\r\n    @Override\r\n    public BaseFeignResult&lt;T&gt; call(int p, int s) {\r\n        BaseFeignResult.BaseFeignResultBuilder&lt;T&gt; builder = BaseFeignResult.builder();\r\n\r\n        try {\r\n            builder.resp(fun.callFeignApi(p, s));\r\n        } catch (RuntimeException e) {\r\n            builder.excp(e);\r\n        }\r\n\r\n        return builder.build();\r\n    }\r\n}\r\n```\r\n\r\nYou would call it as follows:\r\n\r\n```java\r\ndrainFeignPageableCall(\r\n        new PageableCall&lt;GetOrderInfoDto&gt;(\r\n                PagingApi.of(ordersFeignClient::getOrdersBySampleIds, &quot;34596&quot;)\r\n        )\r\n);\r\n```\r\n\r\nAs a further simplifcation, you could probably collapse `PagingApi` and `PagedCall` into a single interface.\r\n\r\nI would also suggest replacing the recursive calls in `drainFeignPageableCall` with a simple for loop. You might think recursion is more &quot;functional&quot; but it&#39;s needlessly complex and inefficient here.\r\n","title":"descriptive way of calling various feign APIs","body":"<p>This simplest way would be to replace your <code>SingleParamPagingApi</code> interface with one that has a method that just takes the page no and size as parameters (<code>PagingApi</code>). And replace <code>SingleParamPageableCall</code> with a class that just takes a <code>PagingApi</code> argument. Then you can create the variants of <code>PagingApi</code> for 1 parameter, 2 parameters etc by immediately binding the method to the argument 0, argument 1 etc, thereby creating a <code>PagingApi</code> instance (the <code>of</code> methods).</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface PagingApi1&lt;T, A0&gt; {\n    ResponseEntity&lt;IVDPagedResponseOf&lt;T&gt;&gt; callFeignApi(A0 arg0, int page, int size) throws RuntimeException;\n}\n\npublic interface PagingApi2&lt;T, A0, A1&gt; {\n    ResponseEntity&lt;IVDPagedResponseOf&lt;T&gt;&gt; callFeignApi(A0 arg0, A1 arg1, int page, int size) throws RuntimeException;\n}\n\npublic interface PagingApi&lt;T&gt; {\n    static &lt;T, A0&gt; PagingApi&lt;T&gt; of(PagingApi1&lt;T, A0&gt; api, A0 arg0) {\n        return (p, s) -&gt; api.callFeignApi(arg0, p, s);\n    }\n\n    static &lt;T, A0, A1&gt; PagingApi&lt;T&gt; of(PagingApi2&lt;T, A0, A1&gt; api, A0 arg0, A1 arg1,) {\n        return (p, s) -&gt; api.callFeignApi(arg0, arg1, p, s);\n    }\n\n    ResponseEntity&lt;IVDPagedResponseOf&lt;T&gt;&gt; callFeignApi(int page, int size) throws RuntimeException;\n}\n\n\npublic static class PageableCall&lt;T&gt; implements PagedCall&lt;T&gt; {\n    PagingApi&lt;T&gt; fun;\n\n    public PageableCall(PagingApi&lt;T&gt; fun) {\n        this.fun = fun;\n    }\n\n    @Override\n    public BaseFeignResult&lt;T&gt; call(int p, int s) {\n        BaseFeignResult.BaseFeignResultBuilder&lt;T&gt; builder = BaseFeignResult.builder();\n\n        try {\n            builder.resp(fun.callFeignApi(p, s));\n        } catch (RuntimeException e) {\n            builder.excp(e);\n        }\n\n        return builder.build();\n    }\n}\n</code></pre>\n<p>You would call it as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>drainFeignPageableCall(\n        new PageableCall&lt;GetOrderInfoDto&gt;(\n                PagingApi.of(ordersFeignClient::getOrdersBySampleIds, &quot;34596&quot;)\n        )\n);\n</code></pre>\n<p>As a further simplifcation, you could probably collapse <code>PagingApi</code> and <code>PagedCall</code> into a single interface.</p>\n<p>I would also suggest replacing the recursive calls in <code>drainFeignPageableCall</code> with a simple for loop. You might think recursion is more &quot;functional&quot; but it's needlessly complex and inefficient here.</p>\n"}],"owner":{"account_id":1216174,"reputation":1214,"user_id":1183729,"accept_rate":49,"display_name":"greengold"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74515693,"answer_count":1,"score":1,"last_activity_date":1669027326,"creation_date":1668971930,"question_id":74511192,"body_markdown":"I want to create a construct that would work with pageable `feign` api calls and dry them from the first page of declared size available to the last one.\r\n\r\nTo take in account:\r\n - the feign method calls can differ in arg. count tho last two is always page and it&#39;s size\r\n - data structure returned is similar to the extent of paging information, but core data list received type differs\r\n\r\nThis is what I did:\r\n\r\nmethod that is a base for draining a particular api call:\r\n```\r\n    public &lt;T&gt; List&lt;BaseFeignResult&lt;T&gt;&gt; drainFeignPageableCall(\r\n            PagedCall&lt;T&gt; feignCall\r\n    ) {\r\n        BaseFeignResult&lt;T&gt; firstPage = feignCall.call(0, 10);\r\n        List&lt;BaseFeignResult&lt;T&gt;&gt; baseFeignResults = drainFeignPageableCall(feignCall, firstPage, Lists.newArrayList(firstPage), 1);\r\n\r\n        return baseFeignResults;\r\n    }\r\n```\r\n\r\nIt&#39;s overload and continuation:\r\n```\r\n    &lt;T&gt; List&lt;BaseFeignResult&lt;T&gt;&gt; drainFeignPageableCall(\r\n            PagedCall&lt;T&gt; feignCall,\r\n            BaseFeignResult&lt;T&gt; dataPage,\r\n            List&lt;BaseFeignResult&lt;T&gt;&gt; acc,\r\n            int page\r\n    ) {\r\n        if (dataPage.resp.getBody().getData().size() % 10 &gt; 0)\r\n            return acc;\r\n\r\n        BaseFeignResult&lt;T&gt; res = feignCall.call(page, 10);\r\n        acc.add(res);\r\n\r\n        return drainFeignPageableCall(feignCall, res, acc, ++page);\r\n    }\r\n```\r\n\r\nAnd the definitions:\r\n```\r\n    public static class SingleParamPageableCall&lt;T&gt; implements PagedCall&lt;T&gt; {\r\n        SingleParamPagingApi&lt;T&gt; fun;\r\n        String param;\r\n\r\n        public SingleParamPageableCall(SingleParamPagingApi&lt;T&gt; fun, String param) {\r\n            this.fun = fun;\r\n            this.param = param;\r\n        }\r\n\r\n        @Override\r\n        public BaseFeignResult&lt;T&gt; call(int p, int s) {\r\n            BaseFeignResult.BaseFeignResultBuilder&lt;T&gt; builder = BaseFeignResult.builder();\r\n\r\n            try {\r\n                builder.resp(fun.callFeignApi(param, p, s));\r\n            } catch (RuntimeException e) {\r\n                builder.excp(e);\r\n            }\r\n\r\n            return builder.build();\r\n        }\r\n    }\r\n\r\n    public interface PagedCall&lt;T&gt; {\r\n        BaseFeignResult&lt;T&gt; call(int p, int s);\r\n    }\r\n\r\n    @Builder\r\n    public static class BaseFeignResult&lt;T&gt; {\r\n        private final ResponseEntity&lt;IVDPagedResponseOf&lt;T&gt;&gt; resp;\r\n        private final RuntimeException excp;\r\n    }\r\n\r\n    public interface SingleParamPagingApi&lt;T&gt; {\r\n        ResponseEntity&lt;IVDPagedResponseOf&lt;T&gt;&gt; callFeignApi(String arg, int page, int size) throws RuntimeException;\r\n    }\r\n```\r\n\r\nThis can be arbitraliry called as:\r\n```\r\ndrainFeignPageableCall(new BaseService.SingleParamPageableCall&lt;GetOrderInfoDto&gt;(ordersFeignClient::getOrdersBySampleIds, &quot;34596&quot;));\r\n```\r\nand works as expected.\r\n\r\n\r\nSo as you can see, if I want to keep some sort of abstraction above various drain-able _per api_ calls, I need to introduce definitions like `SingleParamPagingApi` and class implementation of `SingleParamPageableCall&lt;T&gt;`. so with every other api to be treated this way, I would need to redefine those.\r\n\r\nMy question here is: how to do this in purely descripive way, or how to reimplement this as a functional programming?\r\nto be clear: I would like to have code impl. in which I would describe _how to map parameters to the method call_ (that can and will vary) and return a common data structure with the data being of generic type.\r\n\r\n\r\nBasically I am looking for the most descriptive way of re-implementing this in Java without defining heavy objects like `SingleParamPagingApi&lt;T&gt;`, but describing how to mount params called with to API params itself rather.\r\n\r\nThank you!","title":"descriptive way of calling various feign APIs","body":"<p>I want to create a construct that would work with pageable <code>feign</code> api calls and dry them from the first page of declared size available to the last one.</p>\n<p>To take in account:</p>\n<ul>\n<li>the feign method calls can differ in arg. count tho last two is always page and it's size</li>\n<li>data structure returned is similar to the extent of paging information, but core data list received type differs</li>\n</ul>\n<p>This is what I did:</p>\n<p>method that is a base for draining a particular api call:</p>\n<pre><code>    public &lt;T&gt; List&lt;BaseFeignResult&lt;T&gt;&gt; drainFeignPageableCall(\n            PagedCall&lt;T&gt; feignCall\n    ) {\n        BaseFeignResult&lt;T&gt; firstPage = feignCall.call(0, 10);\n        List&lt;BaseFeignResult&lt;T&gt;&gt; baseFeignResults = drainFeignPageableCall(feignCall, firstPage, Lists.newArrayList(firstPage), 1);\n\n        return baseFeignResults;\n    }\n</code></pre>\n<p>It's overload and continuation:</p>\n<pre><code>    &lt;T&gt; List&lt;BaseFeignResult&lt;T&gt;&gt; drainFeignPageableCall(\n            PagedCall&lt;T&gt; feignCall,\n            BaseFeignResult&lt;T&gt; dataPage,\n            List&lt;BaseFeignResult&lt;T&gt;&gt; acc,\n            int page\n    ) {\n        if (dataPage.resp.getBody().getData().size() % 10 &gt; 0)\n            return acc;\n\n        BaseFeignResult&lt;T&gt; res = feignCall.call(page, 10);\n        acc.add(res);\n\n        return drainFeignPageableCall(feignCall, res, acc, ++page);\n    }\n</code></pre>\n<p>And the definitions:</p>\n<pre><code>    public static class SingleParamPageableCall&lt;T&gt; implements PagedCall&lt;T&gt; {\n        SingleParamPagingApi&lt;T&gt; fun;\n        String param;\n\n        public SingleParamPageableCall(SingleParamPagingApi&lt;T&gt; fun, String param) {\n            this.fun = fun;\n            this.param = param;\n        }\n\n        @Override\n        public BaseFeignResult&lt;T&gt; call(int p, int s) {\n            BaseFeignResult.BaseFeignResultBuilder&lt;T&gt; builder = BaseFeignResult.builder();\n\n            try {\n                builder.resp(fun.callFeignApi(param, p, s));\n            } catch (RuntimeException e) {\n                builder.excp(e);\n            }\n\n            return builder.build();\n        }\n    }\n\n    public interface PagedCall&lt;T&gt; {\n        BaseFeignResult&lt;T&gt; call(int p, int s);\n    }\n\n    @Builder\n    public static class BaseFeignResult&lt;T&gt; {\n        private final ResponseEntity&lt;IVDPagedResponseOf&lt;T&gt;&gt; resp;\n        private final RuntimeException excp;\n    }\n\n    public interface SingleParamPagingApi&lt;T&gt; {\n        ResponseEntity&lt;IVDPagedResponseOf&lt;T&gt;&gt; callFeignApi(String arg, int page, int size) throws RuntimeException;\n    }\n</code></pre>\n<p>This can be arbitraliry called as:</p>\n<pre><code>drainFeignPageableCall(new BaseService.SingleParamPageableCall&lt;GetOrderInfoDto&gt;(ordersFeignClient::getOrdersBySampleIds, &quot;34596&quot;));\n</code></pre>\n<p>and works as expected.</p>\n<p>So as you can see, if I want to keep some sort of abstraction above various drain-able <em>per api</em> calls, I need to introduce definitions like <code>SingleParamPagingApi</code> and class implementation of <code>SingleParamPageableCall&lt;T&gt;</code>. so with every other api to be treated this way, I would need to redefine those.</p>\n<p>My question here is: how to do this in purely descripive way, or how to reimplement this as a functional programming?\nto be clear: I would like to have code impl. in which I would describe <em>how to map parameters to the method call</em> (that can and will vary) and return a common data structure with the data being of generic type.</p>\n<p>Basically I am looking for the most descriptive way of re-implementing this in Java without defining heavy objects like <code>SingleParamPagingApi&lt;T&gt;</code>, but describing how to mount params called with to API params itself rather.</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring","hibernate","converters","native-sql"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669033969,"post_id":74517506,"comment_id":131543617,"body_markdown":"Show the test. Show your entities what is `something.c1` for datatype in your database. How are you testing, actual database or in-memory. In short too little information to answre.","body":"Show the test. Show your entities what is <code>something.c1</code> for datatype in your database. How are you testing, actual database or in-memory. In short too little information to answre."}],"owner":{"account_id":11514885,"reputation":631,"user_id":8438513,"accept_rate":70,"display_name":"HowToTellAChild"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669027125,"creation_date":1669026702,"question_id":74517506,"body_markdown":"I have java spring (v2.7.1) application and I want to test my database (H2 DB) layer.\r\nI have the following query:\r\n\r\n    @Query(value =\r\n            &quot;SELECT something.c1 &quot; +\r\n            &quot;FROM &quot; +\r\n                &quot;(SELECT Count(c1) AS Count, c1 &quot; +\r\n                    &quot;FROM Table1 &quot; +\r\n                    &quot;WHERE c2 IN (:thing2Ids) &quot; +\r\n                    &quot;GROUP BY c1) &quot; +\r\n            &quot;AS something &quot; +\r\n            &quot;WHERE something.Count = :thingCount&quot;,\r\n            nativeQuery = true)\r\n    List&lt;UUID&gt; findThings(@Param(&quot;thingCount&quot;) Integer thingCount, @Param(&quot;thing2Ids&quot;) List&lt;String&gt; thing2Ids);\r\n\r\nAt the end of my query I want to get back a list of UUIDs. When I run this query (i.e. I build and run the application and call this method) it is working fine. But when I try to test this, I got the following error:\r\n\r\n    org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.util.ArrayList&lt;?&gt;] to type [@org.springframework.data.jpa.repository.Query java.util.List&lt;java.util.UUID&gt;] for value &#39;[[somevalue1, [somevalue2]&#39;; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [byte[]] to type [@org.springframework.data.jpa.repository.Query java.util.UUID]\r\n\r\nWhy my code needs converter at testing time but runtim don&#39;t? I don&#39;t get the point here.\r\nI have checked [this][1], [this][2] articles already but I don&#39;t want to write a converter just because of testing my app. Anyone did come across similar case? \r\n\r\n\r\n  [1]: https://thorben-janssen.com/spring-data-jpa-dto-native-queries/\r\n  [2]: https://stackoverflow.com/questions/64061403/jpql-in-clause-with-convert","title":"ConverterNotFoundException only in Testing time","body":"<p>I have java spring (v2.7.1) application and I want to test my database (H2 DB) layer.\nI have the following query:</p>\n<pre><code>@Query(value =\n        &quot;SELECT something.c1 &quot; +\n        &quot;FROM &quot; +\n            &quot;(SELECT Count(c1) AS Count, c1 &quot; +\n                &quot;FROM Table1 &quot; +\n                &quot;WHERE c2 IN (:thing2Ids) &quot; +\n                &quot;GROUP BY c1) &quot; +\n        &quot;AS something &quot; +\n        &quot;WHERE something.Count = :thingCount&quot;,\n        nativeQuery = true)\nList&lt;UUID&gt; findThings(@Param(&quot;thingCount&quot;) Integer thingCount, @Param(&quot;thing2Ids&quot;) List&lt;String&gt; thing2Ids);\n</code></pre>\n<p>At the end of my query I want to get back a list of UUIDs. When I run this query (i.e. I build and run the application and call this method) it is working fine. But when I try to test this, I got the following error:</p>\n<pre><code>org.springframework.core.convert.ConversionFailedException: Failed to convert from type [java.util.ArrayList&lt;?&gt;] to type [@org.springframework.data.jpa.repository.Query java.util.List&lt;java.util.UUID&gt;] for value '[[somevalue1, [somevalue2]'; nested exception is org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [byte[]] to type [@org.springframework.data.jpa.repository.Query java.util.UUID]\n</code></pre>\n<p>Why my code needs converter at testing time but runtim don't? I don't get the point here.\nI have checked <a href=\"https://thorben-janssen.com/spring-data-jpa-dto-native-queries/\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://stackoverflow.com/questions/64061403/jpql-in-clause-with-convert\">this</a> articles already but I don't want to write a converter just because of testing my app. Anyone did come across similar case?</p>\n"},{"tags":["java","spring","spring-boot","rest"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1668601146,"post_id":74459703,"comment_id":131443972,"body_markdown":"Please *ever avoid* re-using class names from `java.lang.*`!!! (`Object` is the worse possible class name in java! (which do you mean??))","body":"Please <i>ever avoid</i> re-using class names from <code>java.lang.*</code>!!! (<code>Object</code> is the worse possible class name in java! (which do you mean??))"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668601410,"post_id":74459703,"comment_id":131444074,"body_markdown":"Add annoations for JAXB so it knows what to map to what.","body":"Add annoations for JAXB so it knows what to map to what."},{"owner":{"account_id":26492725,"reputation":95,"user_id":20130938,"display_name":"Matt"},"score":1,"creation_date":1668606388,"post_id":74459703,"comment_id":131445992,"body_markdown":"I&#39;m not using object just named that for the example @xerx593","body":"I&#39;m not using object just named that for the example @xerx593"},{"owner":{"account_id":26492725,"reputation":95,"user_id":20130938,"display_name":"Matt"},"score":0,"creation_date":1668606398,"post_id":74459703,"comment_id":131446000,"body_markdown":"which JAXB annotation you mean @M.Deinum","body":"which JAXB annotation you mean @M.Deinum"}],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1668599637,"creation_date":1668599017,"answer_id":74459887,"question_id":74459703,"body_markdown":"I suppose you&#39;re using Jackson for (de)serialization... Did you add jackson xml module?\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd add *@JsonIgnoreProperties* to your pojo to omit unmapped fields\r\n\r\n    @JsonIgnoreProperties\r\n    public class Object{\r\n\r\nFor deserializing to list try...\r\n\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    private List&lt;Object&gt; object; // same name as in xml\r\n\r\nhttps://www.baeldung.com/jackson-xml-serialization-and-deserialization\r\n\r\n","title":"Using RestTemplate to get a list of XML objects","body":"<p>I suppose you're using Jackson for (de)serialization... Did you add jackson xml module?</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And add <em>@JsonIgnoreProperties</em> to your pojo to omit unmapped fields</p>\n<pre><code>@JsonIgnoreProperties\npublic class Object{\n</code></pre>\n<p>For deserializing to list try...</p>\n<pre><code>@JacksonXmlElementWrapper(useWrapping = false)\nprivate List&lt;Object&gt; object; // same name as in xml\n</code></pre>\n<p><a href=\"https://www.baeldung.com/jackson-xml-serialization-and-deserialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-xml-serialization-and-deserialization</a></p>\n"}],"owner":{"account_id":26492725,"reputation":95,"user_id":20130938,"display_name":"Matt"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74459887,"answer_count":1,"score":1,"last_activity_date":1669027060,"creation_date":1668598141,"question_id":74459703,"body_markdown":"I&#39;m wondering how, calling an external API service to get a list of object mapped by my class.\r\n\r\nThis is what the XML looks like\r\n```xml\r\n&lt;ArrayOfObject&gt;\r\n    &lt;Object&gt;\r\n        &lt;id&gt;&lt;/id&gt;\r\n        &lt;name&gt;&lt;/name&gt;\r\n        &lt;var1&gt;&lt;/var1&gt;\r\n        &lt;var2&gt;&lt;/var2&gt;\r\n        &lt;var3&gt;&lt;/var3&gt;\r\n    &lt;/Object&gt;\r\n    &lt;Object&gt;\r\n       &lt;id&gt;&lt;/id&gt;\r\n       &lt;name&gt;&lt;/name&gt;\r\n       &lt;var1&gt;&lt;/var1&gt;\r\n       &lt;var2&gt;&lt;/var2&gt;\r\n       &lt;var3&gt;&lt;/var3&gt;\r\n   &lt;/Object&gt;\r\n  \r\n   ...\r\n\r\n&lt;/ArrayOfObject&gt;\r\n```\r\n\r\nI&#39;m trying to get only the id and name so i&#39;ve tried to map in my class only theese two fields (tried even with all of them but didn&#39;t work, not expecting that):\r\n\r\n```java\r\npublic class Object{\r\n\tpublic String id, name;\r\n\t\r\n\tpublic Object() {}\r\n\tpublic Object(String id, String name) {\r\n\t\tthis.id = id;\r\n\t\tthis.name= name;\r\n\t}\r\n\r\n\r\n\tpublic String getId() {return id;}\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {return name;}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n```\r\n\r\nand wrap it into\r\n\r\n```java\r\n\r\npublic class ArrayOfObject {\r\n\t\r\n    private List&lt;Object&gt; objects;\r\n\t\r\n    public ArrayOfObject () {\r\n        object = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n\t\r\n    public List&lt;Object&gt; getObjects() {return objects;}\r\n    public void setObjects(List&lt;Object&gt; objects) {\r\n\tthis.objects = objects;\r\n    }\t\r\n}\r\n```\r\n\r\n\r\n\r\nSo now this is what my controller looks like\r\n\r\n```java\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\n@RestController\r\n@RequestMapping\r\npublic class RestCall {\r\n\r\n    @GetMapping(&quot;/objects&quot;)\r\n    public List&lt;Object&gt; getObject(){\r\n        final String uri = &quot;&quot;;\r\n\t\t\r\n\tRestTemplate rt = new RestTemplate();\r\n\t\t\r\n\tArrayOfObject result = rt.getForObject(uri, ArrayOfObject.class);\r\n\treturn result.getObjects();\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen it comes time to test the results are:\r\n```\r\norg.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class it.me.model.ArrayOfObject] and content type [text/xml;charset=utf-8]\r\n```\r\n\r\nDid i do something wrong or am i missing something?\r\n\r\n**Moved** to a [new question](https://stackoverflow.com/questions/74462594/using-resttemplate-to-get-a-list-of-xml-objects-gives-back-an-empty-list) and **Solved**","title":"Using RestTemplate to get a list of XML objects","body":"<p>I'm wondering how, calling an external API service to get a list of object mapped by my class.</p>\n<p>This is what the XML looks like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ArrayOfObject&gt;\n    &lt;Object&gt;\n        &lt;id&gt;&lt;/id&gt;\n        &lt;name&gt;&lt;/name&gt;\n        &lt;var1&gt;&lt;/var1&gt;\n        &lt;var2&gt;&lt;/var2&gt;\n        &lt;var3&gt;&lt;/var3&gt;\n    &lt;/Object&gt;\n    &lt;Object&gt;\n       &lt;id&gt;&lt;/id&gt;\n       &lt;name&gt;&lt;/name&gt;\n       &lt;var1&gt;&lt;/var1&gt;\n       &lt;var2&gt;&lt;/var2&gt;\n       &lt;var3&gt;&lt;/var3&gt;\n   &lt;/Object&gt;\n  \n   ...\n\n&lt;/ArrayOfObject&gt;\n</code></pre>\n<p>I'm trying to get only the id and name so i've tried to map in my class only theese two fields (tried even with all of them but didn't work, not expecting that):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Object{\n    public String id, name;\n    \n    public Object() {}\n    public Object(String id, String name) {\n        this.id = id;\n        this.name= name;\n    }\n\n\n    public String getId() {return id;}\n    public void setId(String id) {\n        this.id = id;\n    }\n    public String getName() {return name;}\n    public void setName(String name) {\n        this.name = name;\n    }\n</code></pre>\n<p>and wrap it into</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class ArrayOfObject {\n    \n    private List&lt;Object&gt; objects;\n    \n    public ArrayOfObject () {\n        object = new ArrayList&lt;&gt;();\n    }\n\n    \n    public List&lt;Object&gt; getObjects() {return objects;}\n    public void setObjects(List&lt;Object&gt; objects) {\n    this.objects = objects;\n    }   \n}\n</code></pre>\n<p>So now this is what my controller looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\n\n@RestController\n@RequestMapping\npublic class RestCall {\n\n    @GetMapping(&quot;/objects&quot;)\n    public List&lt;Object&gt; getObject(){\n        final String uri = &quot;&quot;;\n        \n    RestTemplate rt = new RestTemplate();\n        \n    ArrayOfObject result = rt.getForObject(uri, ArrayOfObject.class);\n    return result.getObjects();\n    }\n}\n\n</code></pre>\n<p>When it comes time to test the results are:</p>\n<pre><code>org.springframework.web.client.UnknownContentTypeException: Could not extract response: no suitable HttpMessageConverter found for response type [class it.me.model.ArrayOfObject] and content type [text/xml;charset=utf-8]\n</code></pre>\n<p>Did i do something wrong or am i missing something?</p>\n<p><strong>Moved</strong> to a <a href=\"https://stackoverflow.com/questions/74462594/using-resttemplate-to-get-a-list-of-xml-objects-gives-back-an-empty-list\">new question</a> and <strong>Solved</strong></p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":10958861,"reputation":504,"user_id":8052787,"display_name":"FredvN"},"score":0,"creation_date":1669030585,"post_id":74517534,"comment_id":131542435,"body_markdown":"You can look for the minimum value of start and the maximum value of end. Loop once through your boolean array and test if the value is true and which query it will match. If it is more efficient depends on the ranges in your queries","body":"You can look for the minimum value of start and the maximum value of end. Loop once through your boolean array and test if the value is true and which query it will match. If it is more efficient depends on the ranges in your queries"},{"owner":{"account_id":1359686,"reputation":12150,"user_id":1297272,"accept_rate":86,"display_name":"Javier"},"score":0,"creation_date":1669031237,"post_id":74517534,"comment_id":131542646,"body_markdown":"See https://github.com/RoaringBitmap/RoaringBitmap","body":"See <a href=\"https://github.com/RoaringBitmap/RoaringBitmap\" rel=\"nofollow noreferrer\">github.com/RoaringBitmap/RoaringBitmap</a>"}],"owner":{"account_id":9089731,"reputation":782,"user_id":6766146,"accept_rate":0,"display_name":"Lalit Verma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669026830,"creation_date":1669026830,"question_id":74517534,"body_markdown":"I have some results stored in a boolean array of size 10^6. \r\nThere are given some queries i.e. indexes (start index and end index) to find total number of true values in given index range in boolean array. \r\nI tried but all could figure out is O(n) solution.\r\n\r\nIs there any way to optimize the answer as i can observe overlapping in given queries. \r\n\r\nThere could be overlapping queries also\r\n\r\n**Example**\r\n\r\n            boolean[] ArrayBool=new boolean[1000000];\r\n            for(int i=0;i&lt;1000000;i++)\r\n            {\r\n            //Random True/False assigned to ArrayBool\r\n            }\r\n        while(no. of querires)\r\n        {\r\n    i1 (start index)\r\n    i2 (end index)\r\n    \r\n    output: Total no. of True in Bool array\r\n    \r\n        \r\n        }\r\n    \r\n \r\n\r\nExample input: Given ranges [1,100], [50,1000], [20,50000] etc.\r\n\r\nAnswer total True values in given range.\r\n\r\n\r\nIs there any efficient approach to iterate through array other than O(n).","title":"Iterating an Array for overlapping ranges","body":"<p>I have some results stored in a boolean array of size 10^6.\nThere are given some queries i.e. indexes (start index and end index) to find total number of true values in given index range in boolean array.\nI tried but all could figure out is O(n) solution.</p>\n<p>Is there any way to optimize the answer as i can observe overlapping in given queries.</p>\n<p>There could be overlapping queries also</p>\n<p><strong>Example</strong></p>\n<pre><code>        boolean[] ArrayBool=new boolean[1000000];\n        for(int i=0;i&lt;1000000;i++)\n        {\n        //Random True/False assigned to ArrayBool\n        }\n    while(no. of querires)\n    {\ni1 (start index)\ni2 (end index)\n\noutput: Total no. of True in Bool array\n\n    \n    }\n</code></pre>\n<p>Example input: Given ranges [1,100], [50,1000], [20,50000] etc.</p>\n<p>Answer total True values in given range.</p>\n<p>Is there any efficient approach to iterate through array other than O(n).</p>\n"},{"tags":["java","xml","spring","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668613869,"post_id":74462594,"comment_id":131449280,"body_markdown":"This code doesn&#39;t even compile.","body":"This code doesn&#39;t even compile."},{"owner":{"account_id":26492725,"reputation":95,"user_id":20130938,"display_name":"Matt"},"score":0,"creation_date":1668614084,"post_id":74462594,"comment_id":131449376,"body_markdown":"that&#39;s not the whole project anyway i didn&#39;t post the external api url so what didn&#39;t work?","body":"that&#39;s not the whole project anyway i didn&#39;t post the external api url so what didn&#39;t work?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668667885,"post_id":74462594,"comment_id":131462602,"body_markdown":"Names don&#39;t match up, and appear made up, so probably a dummed down version of some code you are running.","body":"Names don&#39;t match up, and appear made up, so probably a dummed down version of some code you are running."},{"owner":{"account_id":26492725,"reputation":95,"user_id":20130938,"display_name":"Matt"},"score":0,"creation_date":1668670622,"post_id":74462594,"comment_id":131463341,"body_markdown":"Which ones @M.Deinum, can you be more specific? I&#39;m trying to get if i messed up on my code or in the question when i changed all names of classes/variables","body":"Which ones @M.Deinum, can you be more specific? I&#39;m trying to get if i messed up on my code or in the question when i changed all names of classes/variables"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1668671909,"post_id":74462594,"comment_id":131463737,"body_markdown":"Your getter returns `objects` but that doesn&#39;t exist. So ou are messing around with names. Generally trying to generate a dumbed down/renamed version is problematic as it generally doesn&#39;t show the actual problem at hand.","body":"Your getter returns <code>objects</code> but that doesn&#39;t exist. So ou are messing around with names. Generally trying to generate a dumbed down/renamed version is problematic as it generally doesn&#39;t show the actual problem at hand."}],"answers":[{"tags":[],"owner":{"account_id":26492725,"reputation":95,"user_id":20130938,"display_name":"Matt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669026798,"creation_date":1669026798,"answer_id":74517528,"question_id":74462594,"body_markdown":"Don&#39;t know if anybody cares but i&#39;ve solved adding a few annotations and now looks like:\r\n\r\n```java\r\npackage it.me.model;\r\n\r\nimport java.io.Serializable;\r\n\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\r\n\r\n@JacksonXmlRootElement(localName = &quot;Object&quot;)\r\npublic class Object implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\t@JacksonXmlProperty\r\n\tprivate String id;\r\n\t\r\n\t@JacksonXmlProperty\r\n\tprivate String name;\r\n\t\r\n\t@JacksonXmlProperty\r\n\tprivate String var1;\r\n\t\r\n\t@JacksonXmlProperty\r\n\tprivate String var2;\r\n\t\r\n\t@JacksonXmlProperty\r\n\tprivate String var3;\r\n\t\r\n\tpublic Object() {}\r\n\tpublic Object(String id, String name, String var1, String var2, String var3) {\r\n\t\tthis.id = id;\r\n\t\tthis.name = name;\r\n\t\tthis.var1= var1;\r\n\t\tthis.var2= var2;\r\n\t\tthis.var3= var3;\r\n\t\t\r\n\t}\r\n\t\r\n    //getters n setters\r\n\tpublic static long getSerialversionuid() {return serialVersionUID;}\r\n\t\r\n\t\r\n    //tostring, equals, hashcode overrides\r\n\r\n}\r\n```\r\nThat&#39;s the wrapper class:\r\n\r\n```java\r\npackage it.me.model;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\r\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\r\n\r\n@JacksonXmlRootElement\r\npublic class ArrayOfObject implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\t@JacksonXmlProperty(localName = &quot;Object&quot;)\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    private List&lt;Object&gt; ArrayOfObject = new ArrayList&lt;&gt;();\r\n\r\n\tpublic ArrayOfObject() {}\r\n\tpublic ArrayOfObject(List&lt;Object&gt; arrayOfObject) {\r\n\t\tArrayOfObject = arrayOfObject;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic List&lt;Object&gt; getArrayOfObject() {return ArrayOfObject;}\r\n\tpublic void setArrayOfObject(List&lt;Object&gt; arrayOfObject) {\r\n\t\tArrayOfObject = arrayOfObject;\r\n\t\t\r\n\t}\r\n\tpublic static long getSerialversionuid() {return serialVersionUID;}\r\n\r\n}\r\n```\r\n\r\nIn needed in my ```pom.xml``` thoose:      (not sure about the 2nd one)\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nFinally that&#39;s the controller:\r\n\r\n```java\r\npackage it.me.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\nimport it.me.model.ArrayOfObject;\r\n\r\n@RestController\r\n@RequestMapping\r\npublic class Controller {\r\n\t\r\n\t@GetMapping(&quot;/objects&quot;)\r\n\tpublic ArrayOfObject getObjects(){\r\n\r\n\t\tfinal String uri = &quot;&quot;\r\n\t\t\r\n\t\tRestTemplate rt = new RestTemplate();\r\n\t\t\r\n\t\tArrayOfObject result = rt.getForObject(uri, ArrayOfObject.class);\r\n\t\treturn result;\r\n\t}\r\n\r\n}\r\n```","title":"Using RestTemplate to get a list of XML objects gives back an empty list","body":"<p>Don't know if anybody cares but i've solved adding a few annotations and now looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package it.me.model;\n\nimport java.io.Serializable;\n\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\n\n@JacksonXmlRootElement(localName = &quot;Object&quot;)\npublic class Object implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n    \n    @JacksonXmlProperty\n    private String id;\n    \n    @JacksonXmlProperty\n    private String name;\n    \n    @JacksonXmlProperty\n    private String var1;\n    \n    @JacksonXmlProperty\n    private String var2;\n    \n    @JacksonXmlProperty\n    private String var3;\n    \n    public Object() {}\n    public Object(String id, String name, String var1, String var2, String var3) {\n        this.id = id;\n        this.name = name;\n        this.var1= var1;\n        this.var2= var2;\n        this.var3= var3;\n        \n    }\n    \n    //getters n setters\n    public static long getSerialversionuid() {return serialVersionUID;}\n    \n    \n    //tostring, equals, hashcode overrides\n\n}\n</code></pre>\n<p>That's the wrapper class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package it.me.model;\n\nimport java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlElementWrapper;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlProperty;\nimport com.fasterxml.jackson.dataformat.xml.annotation.JacksonXmlRootElement;\n\n@JacksonXmlRootElement\npublic class ArrayOfObject implements Serializable{\n\n    private static final long serialVersionUID = 1L;\n\n    @JacksonXmlProperty(localName = &quot;Object&quot;)\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;Object&gt; ArrayOfObject = new ArrayList&lt;&gt;();\n\n    public ArrayOfObject() {}\n    public ArrayOfObject(List&lt;Object&gt; arrayOfObject) {\n        ArrayOfObject = arrayOfObject;\n        \n    }\n    \n    public List&lt;Object&gt; getArrayOfObject() {return ArrayOfObject;}\n    public void setArrayOfObject(List&lt;Object&gt; arrayOfObject) {\n        ArrayOfObject = arrayOfObject;\n        \n    }\n    public static long getSerialversionuid() {return serialVersionUID;}\n\n}\n</code></pre>\n<p>In needed in my <code>pom.xml</code> thoose:      (not sure about the 2nd one)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Finally that's the controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package it.me.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\n\nimport it.me.model.ArrayOfObject;\n\n@RestController\n@RequestMapping\npublic class Controller {\n    \n    @GetMapping(&quot;/objects&quot;)\n    public ArrayOfObject getObjects(){\n\n        final String uri = &quot;&quot;\n        \n        RestTemplate rt = new RestTemplate();\n        \n        ArrayOfObject result = rt.getForObject(uri, ArrayOfObject.class);\n        return result;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26492725,"reputation":95,"user_id":20130938,"display_name":"Matt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74517528,"answer_count":1,"score":0,"last_activity_date":1669026798,"creation_date":1668610299,"question_id":74462594,"body_markdown":"I&#39;m wondering how, calling an external API service to get a list of object mapped by my class.\r\n\r\nThis is what the XML looks like\r\n```xml\r\n&lt;ArrayOfObject&gt;\r\n    &lt;Object&gt;\r\n        &lt;id&gt;&lt;/id&gt;\r\n        &lt;name&gt;&lt;/name&gt;\r\n        &lt;var1&gt;&lt;/var1&gt;\r\n        &lt;var2&gt;&lt;/var2&gt;\r\n        &lt;var3&gt;&lt;/var3&gt;\r\n    &lt;/Object&gt;\r\n    &lt;Object&gt;\r\n       &lt;id&gt;&lt;/id&gt;\r\n       &lt;name&gt;&lt;/name&gt;\r\n       &lt;var1&gt;&lt;/var1&gt;\r\n       &lt;var2&gt;&lt;/var2&gt;\r\n       &lt;var3&gt;&lt;/var3&gt;\r\n   &lt;/Object&gt;\r\n  \r\n   ...\r\n\r\n&lt;/ArrayOfObject&gt;\r\n```\r\n\r\nI&#39;m trying to get only the id and name so i&#39;ve tried to map in my class only theese two fields with `@JsonIgnoreProperties` annotation:\r\n\r\n```java\r\n@JsonIgnoreProperties\r\npublic class Object{\r\n\tpublic String id, name;\r\n\t\r\n\tpublic Object() {}\r\n\tpublic Object(String id, String name) {\r\n\t\tthis.id = id;\r\n\t\tthis.name= name;\r\n\t}\r\n\r\n\r\n\tpublic String getId() {return id;}\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\tpublic String getName() {return name;}\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n```\r\n\r\nand wrap it into\r\n\r\n```java\r\n\r\npublic class ArrayOfObject {\r\n\r\n\t@JacksonXmlElementWrapper(useWrapping = false)\r\n    private List&lt;Object&gt; object;\r\n\t\r\n    public ArrayOfObject () {\r\n        object = new ArrayList&lt;&gt;();\r\n    }\r\n\r\n\t\r\n    public List&lt;Object&gt; getObjects() {return objects;}\r\n    public void setObjects(List&lt;Object&gt; objects) {\r\n\tthis.object = objects;\r\n    }\t\r\n}\r\n```\r\n\r\n\r\n\r\nSo now this is what my controller looks like\r\n\r\n```java\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.client.RestTemplate;\r\n\r\n@RestController\r\n@RequestMapping\r\npublic class RestCall {\r\n\r\n    @GetMapping(&quot;/objects&quot;)\r\n    public List&lt;Object&gt; getObject(){\r\n        final String uri = &quot;&quot;;\r\n\t\t\r\n\tRestTemplate rt = new RestTemplate();\r\n\t\t\r\n\tArrayOfObject result = rt.getForObject(uri, ArrayOfObject.class);\r\n\treturn result.getObjects();\r\n    }\r\n}\r\n\r\n```\r\n\r\nthat&#39;s my `pom.xml`\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.7.5&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;it.me&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;Reading-test&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;Reading-test&lt;/name&gt;\r\n\t&lt;description&gt;Service&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t    &lt;version&gt;3.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t    &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\r\n\t\t    &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nI&#39;m wondering why it gives back an empty list, am i missing something in the serialization or could be something else?\r\n\r\nIt would be easier to use a for loop and adding those object to a list?\r\nIf it would how can i implement something like that?\r\n\r\nThis is part of a [previous question][1] but not a duplicate.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74459703/using-resttemplate-to-get-a-list-of-xml-objects","title":"Using RestTemplate to get a list of XML objects gives back an empty list","body":"<p>I'm wondering how, calling an external API service to get a list of object mapped by my class.</p>\n<p>This is what the XML looks like</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;ArrayOfObject&gt;\n    &lt;Object&gt;\n        &lt;id&gt;&lt;/id&gt;\n        &lt;name&gt;&lt;/name&gt;\n        &lt;var1&gt;&lt;/var1&gt;\n        &lt;var2&gt;&lt;/var2&gt;\n        &lt;var3&gt;&lt;/var3&gt;\n    &lt;/Object&gt;\n    &lt;Object&gt;\n       &lt;id&gt;&lt;/id&gt;\n       &lt;name&gt;&lt;/name&gt;\n       &lt;var1&gt;&lt;/var1&gt;\n       &lt;var2&gt;&lt;/var2&gt;\n       &lt;var3&gt;&lt;/var3&gt;\n   &lt;/Object&gt;\n  \n   ...\n\n&lt;/ArrayOfObject&gt;\n</code></pre>\n<p>I'm trying to get only the id and name so i've tried to map in my class only theese two fields with <code>@JsonIgnoreProperties</code> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonIgnoreProperties\npublic class Object{\n    public String id, name;\n    \n    public Object() {}\n    public Object(String id, String name) {\n        this.id = id;\n        this.name= name;\n    }\n\n\n    public String getId() {return id;}\n    public void setId(String id) {\n        this.id = id;\n    }\n    public String getName() {return name;}\n    public void setName(String name) {\n        this.name = name;\n    }\n</code></pre>\n<p>and wrap it into</p>\n<pre class=\"lang-java prettyprint-override\"><code>\npublic class ArrayOfObject {\n\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;Object&gt; object;\n    \n    public ArrayOfObject () {\n        object = new ArrayList&lt;&gt;();\n    }\n\n    \n    public List&lt;Object&gt; getObjects() {return objects;}\n    public void setObjects(List&lt;Object&gt; objects) {\n    this.object = objects;\n    }   \n}\n</code></pre>\n<p>So now this is what my controller looks like</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.client.RestTemplate;\n\n@RestController\n@RequestMapping\npublic class RestCall {\n\n    @GetMapping(&quot;/objects&quot;)\n    public List&lt;Object&gt; getObject(){\n        final String uri = &quot;&quot;;\n        \n    RestTemplate rt = new RestTemplate();\n        \n    ArrayOfObject result = rt.getForObject(uri, ArrayOfObject.class);\n    return result.getObjects();\n    }\n}\n\n</code></pre>\n<p>that's my <code>pom.xml</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.5&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;it.me&lt;/groupId&gt;\n    &lt;artifactId&gt;Reading-test&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Reading-test&lt;/name&gt;\n    &lt;description&gt;Service&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.dataformat&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-dataformat-xml&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I'm wondering why it gives back an empty list, am i missing something in the serialization or could be something else?</p>\n<p>It would be easier to use a for loop and adding those object to a list?\nIf it would how can i implement something like that?</p>\n<p>This is part of a <a href=\"https://stackoverflow.com/questions/74459703/using-resttemplate-to-get-a-list-of-xml-objects\">previous question</a> but not a duplicate.</p>\n"},{"tags":["java","random"],"comments":[{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1669020219,"post_id":74516175,"comment_id":131539019,"body_markdown":"Any reason why you want to generate a random number lower than the previous one?","body":"Any reason why you want to generate a random number lower than the previous one?"}],"answers":[{"tags":[],"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669026698,"creation_date":1669020638,"answer_id":74516266,"question_id":74516175,"body_markdown":"You can do it by running the following:\r\n\r\n    firstNumbereasy = randN.nextInt(MAX_RANDOM_NUM_NUMBER) + 2;\r\n    secondNumbereasy= randN.nextInt(firstNumbereasy - 1);\r\n\r\nNote that the 1st number can never by 0 as otherwise you might get an exception while trying to generate the 2nd number, and that&#39;s why you always add 1 to the result...","title":"Trying to generate second random number less than first random number","body":"<p>You can do it by running the following:</p>\n<pre><code>firstNumbereasy = randN.nextInt(MAX_RANDOM_NUM_NUMBER) + 2;\nsecondNumbereasy= randN.nextInt(firstNumbereasy - 1);\n</code></pre>\n<p>Note that the 1st number can never by 0 as otherwise you might get an exception while trying to generate the 2nd number, and that's why you always add 1 to the result...</p>\n"},{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669021009,"creation_date":1669021009,"answer_id":74516339,"question_id":74516175,"body_markdown":"The answer is in the [Random.nextInt(bound)](https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#nextInt-int-) docs.\r\n\r\nTo cite:\r\n\r\n&gt; Returns a pseudorandom, uniformly distributed int value between 0\r\n&gt; (inclusive) and the specified value (exclusive)\r\n\r\nAnd\r\n&gt; bound - the upper bound (exclusive). Must be positive.\r\n\r\nParameter `bound` must be strictly greater than 0. If your first `nextInt()` call generaters `0` or `1`, the next bound parameter will be invalid value (0 or -1) and this results in exception.","title":"Trying to generate second random number less than first random number","body":"<p>The answer is in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html#nextInt-int-\" rel=\"nofollow noreferrer\">Random.nextInt(bound)</a> docs.</p>\n<p>To cite:</p>\n<blockquote>\n<p>Returns a pseudorandom, uniformly distributed int value between 0\n(inclusive) and the specified value (exclusive)</p>\n</blockquote>\n<p>And</p>\n<blockquote>\n<p>bound - the upper bound (exclusive). Must be positive.</p>\n</blockquote>\n<p>Parameter <code>bound</code> must be strictly greater than 0. If your first <code>nextInt()</code> call generaters <code>0</code> or <code>1</code>, the next bound parameter will be invalid value (0 or -1) and this results in exception.</p>\n"}],"owner":{"account_id":26981642,"reputation":35,"user_id":20545889,"display_name":"Lau"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74516266,"answer_count":2,"score":1,"last_activity_date":1669026698,"creation_date":1669020007,"question_id":74516175,"body_markdown":"Ive been trying to generate a second random number less than my first random number in every scenario, but the code keeps breaking or sometimes returning null\r\n\r\n```\r\n\t \r\n\tRandom randN = new Random();\r\n\t\r\n\t int firstNumbereasy; //declaring variables  for easy mode\r\n         int secondNumbereasy;\r\n\t\r\n\tfirstNumbereasy = randN.nextInt(11); // \r\n\tsecondNumbereasy= randN.nextInt(firstNumbereasy-1); \r\n```","title":"Trying to generate second random number less than first random number","body":"<p>Ive been trying to generate a second random number less than my first random number in every scenario, but the code keeps breaking or sometimes returning null</p>\n<pre><code>     \n    Random randN = new Random();\n    \n     int firstNumbereasy; //declaring variables  for easy mode\n         int secondNumbereasy;\n    \n    firstNumbereasy = randN.nextInt(11); // \n    secondNumbereasy= randN.nextInt(firstNumbereasy-1); \n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":26900313,"reputation":83,"user_id":20477563,"display_name":"Syed Asad Manzoor"},"score":0,"creation_date":1669026222,"post_id":74517302,"comment_id":131541031,"body_markdown":"the curly brack at start of string shows its an array of Strings? and I gues &#39;inseam&#39; is typo for inStream?","body":"the curly brack at start of string shows its an array of Strings? and I gues &#39;inseam&#39; is typo for inStream?"}],"answers":[{"tags":[],"owner":{"account_id":9455787,"reputation":644,"user_id":7031148,"display_name":"Alex Karamfilov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669026331,"creation_date":1669026331,"answer_id":74517418,"question_id":74517302,"body_markdown":"```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n```\r\nJsonPath.parse(Inseam).read(&quot;$.key&quot;);\r\n```\r\nFull example:\r\n```\r\n    public static void main(String[] args) {\r\n        String inseam = &quot;{\\&quot;value\\&quot;:\\&quot;30inch\\&quot;, \\&quot;key\\&quot;:\\&quot;31.0\\&quot;}&quot;;\r\n        String keyValue = JsonPath.parse(inseam).read(&quot;$.key&quot;);\r\n        System.out.println(keyValue);\r\n    }\r\n```\r\nOutput:\r\n```\r\n31.0\r\n```","title":"How to extract double value from a string in java","body":"<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n    &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n    &lt;version&gt;2.4.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>JsonPath.parse(Inseam).read(&quot;$.key&quot;);\n</code></pre>\n<p>Full example:</p>\n<pre><code>    public static void main(String[] args) {\n        String inseam = &quot;{\\&quot;value\\&quot;:\\&quot;30inch\\&quot;, \\&quot;key\\&quot;:\\&quot;31.0\\&quot;}&quot;;\n        String keyValue = JsonPath.parse(inseam).read(&quot;$.key&quot;);\n        System.out.println(keyValue);\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>31.0\n</code></pre>\n"}],"owner":{"account_id":26782688,"reputation":1,"user_id":20377312,"display_name":"Mahesh Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669026331,"creation_date":1669025663,"question_id":74517302,"body_markdown":"Below is total string i have but i want to extract 31.0, could someone help on this. \r\n\r\nString Inseam = {&quot;value&quot;:&quot;30inch\\&quot;-33inch\\&quot; Shorts&quot;,&quot;key&quot;:&quot;31.0&quot;}\r\n\r\nI need 31.0 as an output to use the value some where ","title":"How to extract double value from a string in java","body":"<p>Below is total string i have but i want to extract 31.0, could someone help on this.</p>\n<p>String Inseam = {&quot;value&quot;:&quot;30inch&quot;-33inch&quot; Shorts&quot;,&quot;key&quot;:&quot;31.0&quot;}</p>\n<p>I need 31.0 as an output to use the value some where</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1545378065,"post_id":53880904,"comment_id":94608495,"body_markdown":"`x` is not boolean, so you can&#39;t compare it to `false`","body":"<code>x</code> is not boolean, so you can&#39;t compare it to <code>false</code>"}],"answers":[{"tags":[],"owner":{"account_id":1969648,"reputation":1644,"user_id":1768967,"display_name":"mkjh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1545378118,"creation_date":1545378118,"answer_id":53880923,"question_id":53880904,"body_markdown":"x is a Node object and it cannot be compared with false which is boolean","title":"Java error: bad operand types for binary operator &#39;!=&#39;","body":"<p>x is a Node object and it cannot be compared with false which is boolean</p>\n"},{"tags":[],"owner":{"account_id":3370948,"reputation":4617,"user_id":2830167,"accept_rate":100,"display_name":"ZhaoGang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545378478,"creation_date":1545378478,"answer_id":53880985,"question_id":53880904,"body_markdown":"the compiler tells you everything:\r\n\r\n`bad operand types for binary operator &#39;!=&#39;`\r\n\r\n`first type: Node second type: boolean`\r\n\r\nI guess you are trying to write `x!=null`?\r\n","title":"Java error: bad operand types for binary operator &#39;!=&#39;","body":"<p>the compiler tells you everything:</p>\n\n<p><code>bad operand types for binary operator '!='</code></p>\n\n<p><code>first type: Node second type: boolean</code></p>\n\n<p>I guess you are trying to write <code>x!=null</code>?</p>\n"},{"tags":[],"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669025610,"creation_date":1545378903,"answer_id":53881058,"question_id":53880904,"body_markdown":"Since Java is strongly typed, you need to make sure that the two variables you are comparing are actually comparable, in order to use binary operators like `+ - / * != == &gt; &lt; &gt;= &lt;=`. In your secific case, you are comparing an object of type `Node` to an object of type `boolean`. Firstly, boolean is a *primitive type*. Among other things, this means that it does not inherit `Object`, which is the root from which all non-primitive types in Java stem.  \r\n\r\nIf you take an `int` to a `long`, the `int` will be implicitly converted to a `long` and then compared.  \r\n\r\ne.g.\r\n\r\n    int a = 9;\r\n    long b = 9;\r\n    if(a == b){\r\n      System.out.print(&quot;same&quot;);\r\n    } else {\r\n      System.out.print(&quot;different&quot;);\r\n    }\r\n\r\nWill return &quot;same&quot;.  \r\n\r\nIf it is not possible to implicitly cast the type, then you will get the error you experienced.\r\n\r\nYou need to figure out how to get the comparison you need. For instance, if you want to see if the object is a node, check with `typeof`","title":"Java error: bad operand types for binary operator &#39;!=&#39;","body":"<p>Since Java is strongly typed, you need to make sure that the two variables you are comparing are actually comparable, in order to use binary operators like <code>+ - / * != == &gt; &lt; &gt;= &lt;=</code>. In your secific case, you are comparing an object of type <code>Node</code> to an object of type <code>boolean</code>. Firstly, boolean is a <em>primitive type</em>. Among other things, this means that it does not inherit <code>Object</code>, which is the root from which all non-primitive types in Java stem.</p>\n<p>If you take an <code>int</code> to a <code>long</code>, the <code>int</code> will be implicitly converted to a <code>long</code> and then compared.</p>\n<p>e.g.</p>\n<pre><code>int a = 9;\nlong b = 9;\nif(a == b){\n  System.out.print(&quot;same&quot;);\n} else {\n  System.out.print(&quot;different&quot;);\n}\n</code></pre>\n<p>Will return &quot;same&quot;.</p>\n<p>If it is not possible to implicitly cast the type, then you will get the error you experienced.</p>\n<p>You need to figure out how to get the comparison you need. For instance, if you want to see if the object is a node, check with <code>typeof</code></p>\n"}],"owner":{"account_id":13853555,"reputation":11,"user_id":10000913,"display_name":"Terry Shin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8113,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1669025610,"creation_date":1545378014,"question_id":53880904,"body_markdown":"when I run the code below, but it doesn&#39;t work and error like this\r\n\r\n`java:47: error: bad operand types for binary operator &#39;!=&#39;\r\n        if ( x != false &amp;&amp; x != p &amp;&amp; x != q){\r\n               ^\r\n  first type:  Node\r\n  second type: boolean\r\n\r\n\r\n\r\n\r\n    import java.util.*;\r\n\r\n    class Tree{\r\n    static class Node {\r\n        int data;\r\n        Node left;\r\n        Node right;\r\n        Node parent;\r\n        Node (int data){\r\n            this.data = data;\r\n        }\r\n    }\r\n    Node root;\r\n    HashMap&lt;Integer, Node&gt; rootMap;\r\n    Tree ( int size ){\r\n        rootMap = new HashMap&lt;Integer, Node&gt;();\r\n        root = makeBST(0, size - 1, null);\r\n    }\r\n    Node makeBST(int start, int end, Node parent){\r\n        if ( start &gt; end) return null;\r\n        int mid = (start + end) / 2;\r\n        Node node = new Node(mid);\r\n        node.left = makeBST(start, mid -1, node);\r\n        node.right = makeBST(mid + 1, end, node);\r\n        node.parent = parent;\r\n        rootMap.put(mid, node);\r\n        return node;\r\n    }\r\n    Node getNode(int data){\r\n        return rootMap.get(data);\r\n    }\r\n\r\n    Node commonAncestor( int d1, int d2){\r\n        Node p = getNode(d1);\r\n        Node q = getNode(d2);\r\n        return commonAncestor(root, p, q);\r\n    }\r\n    Node commonAncestor(Node root, Node p, Node q){\r\n        if ( root == null ) return null;\r\n        if ( root == p &amp;&amp; root == q) return root;\r\n        Node x = commonAncestor(root.left, p, q);\r\n        if ( x != false  &amp;&amp;  x != p  &amp;&amp;  x != q){\r\n            return x;\r\n        }\r\n        Node y = commonAncestor(root.right, p, q);\r\n        if ( y != null &amp;&amp; y != p &amp;&amp; y != q){\r\n            return y;\r\n        }\r\n        if ( x != null &amp;&amp; y != null){\r\n            return root;\r\n        }else if ( root == p || root == q){\r\n            return root;\r\n        } else {\r\n            return x == null ? y : x;\r\n        }\r\n    }\r\n    }\r\n    public class FindAncestor4{\r\n        public static void main (String[] args){\r\n            Tree t = new Tree(10);\r\n            Tree.Node fa = t.commonAncestor(5, 8);\r\n            System.out.println(&quot;The first common ancestor is &quot; + fa.data);\r\n        }\r\n    }`\r\n\r\n\r\nWhat should I do? I&#39;m really like to appreciate to answer me the reason why occur this error, and how to solve it.","title":"Java error: bad operand types for binary operator &#39;!=&#39;","body":"<p>when I run the code below, but it doesn't work and error like this</p>\n\n<p>`java:47: error: bad operand types for binary operator '!='\n        if ( x != false &amp;&amp; x != p &amp;&amp; x != q){\n               ^\n  first type:  Node\n  second type: boolean</p>\n\n<pre><code>import java.util.*;\n\nclass Tree{\nstatic class Node {\n    int data;\n    Node left;\n    Node right;\n    Node parent;\n    Node (int data){\n        this.data = data;\n    }\n}\nNode root;\nHashMap&lt;Integer, Node&gt; rootMap;\nTree ( int size ){\n    rootMap = new HashMap&lt;Integer, Node&gt;();\n    root = makeBST(0, size - 1, null);\n}\nNode makeBST(int start, int end, Node parent){\n    if ( start &gt; end) return null;\n    int mid = (start + end) / 2;\n    Node node = new Node(mid);\n    node.left = makeBST(start, mid -1, node);\n    node.right = makeBST(mid + 1, end, node);\n    node.parent = parent;\n    rootMap.put(mid, node);\n    return node;\n}\nNode getNode(int data){\n    return rootMap.get(data);\n}\n\nNode commonAncestor( int d1, int d2){\n    Node p = getNode(d1);\n    Node q = getNode(d2);\n    return commonAncestor(root, p, q);\n}\nNode commonAncestor(Node root, Node p, Node q){\n    if ( root == null ) return null;\n    if ( root == p &amp;&amp; root == q) return root;\n    Node x = commonAncestor(root.left, p, q);\n    if ( x != false  &amp;&amp;  x != p  &amp;&amp;  x != q){\n        return x;\n    }\n    Node y = commonAncestor(root.right, p, q);\n    if ( y != null &amp;&amp; y != p &amp;&amp; y != q){\n        return y;\n    }\n    if ( x != null &amp;&amp; y != null){\n        return root;\n    }else if ( root == p || root == q){\n        return root;\n    } else {\n        return x == null ? y : x;\n    }\n}\n}\npublic class FindAncestor4{\n    public static void main (String[] args){\n        Tree t = new Tree(10);\n        Tree.Node fa = t.commonAncestor(5, 8);\n        System.out.println(\"The first common ancestor is \" + fa.data);\n    }\n}`\n</code></pre>\n\n<p>What should I do? I'm really like to appreciate to answer me the reason why occur this error, and how to solve it.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":1515972,"reputation":6720,"user_id":1416970,"accept_rate":85,"display_name":"Rndm"},"score":0,"creation_date":1384442967,"post_id":19981634,"comment_id":29746264,"body_markdown":"Do you get the error in eclipse ?","body":"Do you get the error in eclipse ?"},{"owner":{"account_id":248514,"reputation":3221,"user_id":523908,"accept_rate":80,"display_name":"Lucas"},"score":0,"creation_date":1384443031,"post_id":19981634,"comment_id":29746303,"body_markdown":"would be nice to see what code causes this problem","body":"would be nice to see what code causes this problem"},{"owner":{"account_id":3107599,"reputation":451,"user_id":2630086,"accept_rate":25,"display_name":"lisa"},"score":0,"creation_date":1384443067,"post_id":19981634,"comment_id":29746332,"body_markdown":"Yes i got the error from eclipse\n@Lucas i don&#39;t know which part of my code causes this problem, its very strange...","body":"Yes i got the error from eclipse @Lucas i don&#39;t know which part of my code causes this problem, its very strange..."},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1384443170,"post_id":19981634,"comment_id":29746403,"body_markdown":"Seems like your Eclipse env is messed up. Copy the source (only!) to a fresh folder and &quot;create a new project from existing source&quot;.","body":"Seems like your Eclipse env is messed up. Copy the source (only!) to a fresh folder and &quot;create a new project from existing source&quot;."},{"owner":{"account_id":3107599,"reputation":451,"user_id":2630086,"accept_rate":25,"display_name":"lisa"},"score":0,"creation_date":1384443329,"post_id":19981634,"comment_id":29746522,"body_markdown":"@alfasin i get the same error with each project!! Don&#39;t tell me i have to uninstall eclipse :(","body":"@alfasin i get the same error with each project!! Don&#39;t tell me i have to uninstall eclipse :("},{"owner":{"account_id":1054395,"reputation":53333,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"score":1,"creation_date":1384443473,"post_id":19981634,"comment_id":29746609,"body_markdown":"@lisa if that&#39;s the case then I&#39;m afraid you&#39;ll have to re-install eclipse. Do not override the existing installation: install it in a new folder!","body":"@lisa if that&#39;s the case then I&#39;m afraid you&#39;ll have to re-install eclipse. Do not override the existing installation: install it in a new folder!"},{"owner":{"account_id":3107599,"reputation":451,"user_id":2630086,"accept_rate":25,"display_name":"lisa"},"score":0,"creation_date":1384445392,"post_id":19981634,"comment_id":29747914,"body_markdown":"@alfasin- how should i re-install it? should i run eclipse in a new workspace or what do you mean?","body":"@alfasin- how should i re-install it? should i run eclipse in a new workspace or what do you mean?"},{"owner":{"account_id":3107599,"reputation":451,"user_id":2630086,"accept_rate":25,"display_name":"lisa"},"score":0,"creation_date":1384508665,"post_id":19981634,"comment_id":29774398,"body_markdown":"@alfasin i re-installed eclipse in a new folder and i have no problem anymore! thanks as lot  :-)","body":"@alfasin i re-installed eclipse in a new folder and i have no problem anymore! thanks as lot  :-)"},{"owner":{"account_id":200015,"reputation":4010,"user_id":445651,"accept_rate":82,"display_name":"Wolfpack&#39;08"},"score":0,"creation_date":1556863877,"post_id":19981634,"comment_id":98579111,"body_markdown":"Re-installing to a new folder does not work.  This happens when creating a new java project out-of-the-box in Eclipse 19.","body":"Re-installing to a new folder does not work.  This happens when creating a new java project out-of-the-box in Eclipse 19."}],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1384443638,"creation_date":1384443638,"answer_id":19981908,"question_id":19981634,"body_markdown":"Your .metadata probably got corrupted.\r\n\r\nSee this blog post for instructions how to clean this up: http://blog.pdark.de/2011/09/02/restoring-a-corrupted-workspace-in-eclipse/","title":"Errors running builder &#39;Java Builder &#39;","body":"<p>Your .metadata probably got corrupted.</p>\n\n<p>See this blog post for instructions how to clean this up: <a href=\"http://blog.pdark.de/2011/09/02/restoring-a-corrupted-workspace-in-eclipse/\" rel=\"noreferrer\">http://blog.pdark.de/2011/09/02/restoring-a-corrupted-workspace-in-eclipse/</a></p>\n"},{"tags":[],"owner":{"account_id":1909651,"reputation":1288,"user_id":1723819,"accept_rate":0,"display_name":"Bilal Rabbani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422864717,"creation_date":1422864717,"answer_id":28273435,"question_id":19981634,"body_markdown":"If it is an Android application then follow these steps;\r\n\r\n 1. Right click your project\r\n 2. Goto &quot;Android tools&quot;\r\n 3. Fix Project Properties\r\n\r\nAlways work for me.","title":"Errors running builder &#39;Java Builder &#39;","body":"<p>If it is an Android application then follow these steps;</p>\n\n<ol>\n<li>Right click your project</li>\n<li>Goto \"Android tools\"</li>\n<li>Fix Project Properties</li>\n</ol>\n\n<p>Always work for me.</p>\n"},{"tags":[],"owner":{"account_id":7246552,"reputation":466,"user_id":5528262,"display_name":"Umar Kayondo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448258085,"creation_date":1448258085,"answer_id":33864518,"question_id":19981634,"body_markdown":"I solved my build error in eclipse juno by restoring my eclipse work space. Reason being, the .metadata was corrupted so whenever i could try to build the project it could sometimes fail.\r\nTherefore you have to backup yr projects in a folder outside the main work space then deleted the whole work space folder.\r\nRestart eclipse and create a new work space and import yr projects into yr new work space.\r\nEverything will work normally after that.\r\n\r\nThanks Umark","title":"Errors running builder &#39;Java Builder &#39;","body":"<p>I solved my build error in eclipse juno by restoring my eclipse work space. Reason being, the .metadata was corrupted so whenever i could try to build the project it could sometimes fail.\nTherefore you have to backup yr projects in a folder outside the main work space then deleted the whole work space folder.\nRestart eclipse and create a new work space and import yr projects into yr new work space.\nEverything will work normally after that.</p>\n\n<p>Thanks Umark</p>\n"},{"tags":[],"owner":{"account_id":7875227,"reputation":221,"user_id":5951218,"display_name":"rohit verma"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1455887197,"creation_date":1455887197,"answer_id":35506092,"question_id":19981634,"body_markdown":"This kind of problem is very rare but we have the solution,\r\nIf you are using gradle or maven then first close your project and delete from eclipse (remember don&#39;t delete from disk),\r\nthen delete the files and directories from your project:\r\n\r\n 1. .settings/\r\n 2. .project\r\n 3. .classpath\r\n 4. .gradle/\r\n\r\nthen reimport the project in eclipse and you are done. you will no longer face the error like &quot;**Errors running builder &#39;Java Builder &#39;** &quot;\r\n\r\n\r\nCheers.............","title":"Errors running builder &#39;Java Builder &#39;","body":"<p>This kind of problem is very rare but we have the solution,\nIf you are using gradle or maven then first close your project and delete from eclipse (remember don't delete from disk),\nthen delete the files and directories from your project:</p>\n\n<ol>\n<li>.settings/</li>\n<li>.project</li>\n<li>.classpath</li>\n<li>.gradle/</li>\n</ol>\n\n<p>then reimport the project in eclipse and you are done. you will no longer face the error like \"<strong>Errors running builder 'Java Builder '</strong> \"</p>\n\n<p>Cheers.............</p>\n"},{"tags":[],"owner":{"account_id":3594777,"reputation":900,"user_id":2999868,"accept_rate":89,"display_name":"keith.g"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1485472164,"creation_date":1485472164,"answer_id":41884612,"question_id":19981634,"body_markdown":"I resolved this by reverting the .cproject file in my project folder to an older version (which was created when I setup the project for the first time)","title":"Errors running builder &#39;Java Builder &#39;","body":"<p>I resolved this by reverting the .cproject file in my project folder to an older version (which was created when I setup the project for the first time)</p>\n"},{"tags":[],"owner":{"account_id":16105492,"reputation":11,"user_id":11625118,"display_name":"Prasang Ramnani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560164487,"creation_date":1560162606,"answer_id":56524628,"question_id":19981634,"body_markdown":"While creating the java project on field **-use an execution environment** select `javaSE-1.8` then it will run","title":"Errors running builder &#39;Java Builder &#39;","body":"<p>While creating the java project on field <strong>-use an execution environment</strong> select <code>javaSE-1.8</code> then it will run</p>\n"},{"tags":[],"owner":{"account_id":4136535,"reputation":4099,"user_id":3393095,"display_name":"Rodrigo L&#243;pez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645210740,"creation_date":1645210740,"answer_id":71178592,"question_id":19981634,"body_markdown":"I faced a similar issue when I updated my STS4 version while using old lombok jar version. \r\nMy problem was solved by updating lombok version to its latest.","title":"Errors running builder &#39;Java Builder &#39;","body":"<p>I faced a similar issue when I updated my STS4 version while using old lombok jar version.\nMy problem was solved by updating lombok version to its latest.</p>\n"},{"tags":[],"owner":{"account_id":15763432,"reputation":163,"user_id":11374561,"display_name":"Vikcen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669025537,"creation_date":1669025537,"answer_id":74517275,"question_id":19981634,"body_markdown":"In my case this line on *SpringToolSuite4.ini* produced that error when i tried to do *Clean* on my project:\r\n\r\n    -Xbootclasspath/a:lombok.jar\r\n\r\nSolution for me: i deleted that line.","title":"Errors running builder &#39;Java Builder &#39;","body":"<p>In my case this line on <em>SpringToolSuite4.ini</em> produced that error when i tried to do <em>Clean</em> on my project:</p>\n<pre><code>-Xbootclasspath/a:lombok.jar\n</code></pre>\n<p>Solution for me: i deleted that line.</p>\n"}],"owner":{"account_id":3107599,"reputation":451,"user_id":2630086,"accept_rate":25,"display_name":"lisa"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124936,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":8,"score":25,"last_activity_date":1669025537,"creation_date":1384442870,"question_id":19981634,"body_markdown":"Has anyone run into this issue and if so how do you fix it? This has been plaguing me for a while now.\r\n\r\nHere is the full error:\r\n\r\n![enter image description here][1]\r\n\r\n  [1]: http://i.stack.imgur.com/H97yv.jpg\r\n\r\nI don&#39;t understand the problem. Please help me. \r\n\r\n&gt; I found an issue thanks @alfasin!!!:  \r\n&gt;      I re-installed eclipse in a new folder and import my projects in this new Eclipse and everything is allright :)\r\n\r\n  ","title":"Errors running builder &#39;Java Builder &#39;","body":"<p>Has anyone run into this issue and if so how do you fix it? This has been plaguing me for a while now.</p>\n\n<p>Here is the full error:</p>\n\n<p><img src=\"https://i.stack.imgur.com/H97yv.jpg\" alt=\"enter image description here\"></p>\n\n<p>I don't understand the problem. Please help me. </p>\n\n<blockquote>\n  <p>I found an issue thanks @alfasin!!!:<br>\n       I re-installed eclipse in a new folder and import my projects in this new Eclipse and everything is allright :)</p>\n</blockquote>\n"},{"tags":["java","spring-boot","elasticsearch"],"comments":[{"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"score":0,"creation_date":1669007701,"post_id":74514468,"comment_id":131536116,"body_markdown":"Can you please put the code sinppet which you are using to query to elasticsearch ?","body":"Can you please put the code sinppet which you are using to query to elasticsearch ?"}],"answers":[{"tags":[],"owner":{"account_id":7187902,"reputation":5118,"user_id":5489276,"accept_rate":20,"display_name":"Sagar Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669025536,"creation_date":1669008178,"answer_id":74514563,"question_id":74514468,"body_markdown":"I will suggest to not change the `index.max_result_window` as it have impact on performance. You can read more about this [here][1].\r\n\r\nYou can use [Search After][2] functionality of elasticsearch to retrive more data from elastic. You can see java example [here][3].\r\n\r\nYou can enabled track total hits in your query request so it will return number of total result found. You can check [this][4] documentation.\r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/reference/current/paginate-search-results.html#search-after\r\n  [3]: https://stackoverflow.com/questions/58141155/how-to-use-search-after-in-elastic-high-level-rest-client-for-pagination\r\n  [4]: https://www.elastic.co/guide/en/elasticsearch/reference/current/search-your-data.html#track-total-hits","title":"Update the query limit of elasticsearch using java spring boot","body":"<p>I will suggest to not change the <code>index.max_result_window</code> as it have impact on performance. You can read more about this <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/index-modules.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>You can use <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/paginate-search-results.html#search-after\" rel=\"nofollow noreferrer\">Search After</a> functionality of elasticsearch to retrive more data from elastic. You can see java example <a href=\"https://stackoverflow.com/questions/58141155/how-to-use-search-after-in-elastic-high-level-rest-client-for-pagination\">here</a>.</p>\n<p>You can enabled track total hits in your query request so it will return number of total result found. You can check <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/search-your-data.html#track-total-hits\" rel=\"nofollow noreferrer\">this</a> documentation.</p>\n"}],"owner":{"account_id":26997053,"reputation":31,"user_id":20558980,"display_name":"Hue Minh Nguyen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":418,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669025536,"creation_date":1669007270,"question_id":74514468,"body_markdown":"I am trying to update the limit for number of results returned from elasticsearch in my java spring boot application\r\n```\r\nindex.max_result_window: 15000\r\n```\r\n\r\n\r\nI have tried by doing \r\n\r\n```\r\nUpdateSettingsRequest updateSettingsRequest = new UpdateSettingsRequest(&quot;index&quot;);\r\nupdateSettingsRequest.settings(Settings.builder()\r\n        .put(&quot;index.max_result_window&quot;, 15000)\r\n);\r\nelsRestClient.indices().putSettings(updateSettingsRequest, RequestOptions.DEFAULT);\r\n```\r\nBut it does not work and the total results returned are still 10000. I haven&#39;t found the solution for this.\r\n\r\n","title":"Update the query limit of elasticsearch using java spring boot","body":"<p>I am trying to update the limit for number of results returned from elasticsearch in my java spring boot application</p>\n<pre><code>index.max_result_window: 15000\n</code></pre>\n<p>I have tried by doing</p>\n<pre><code>UpdateSettingsRequest updateSettingsRequest = new UpdateSettingsRequest(&quot;index&quot;);\nupdateSettingsRequest.settings(Settings.builder()\n        .put(&quot;index.max_result_window&quot;, 15000)\n);\nelsRestClient.indices().putSettings(updateSettingsRequest, RequestOptions.DEFAULT);\n</code></pre>\n<p>But it does not work and the total results returned are still 10000. I haven't found the solution for this.</p>\n"},{"tags":["java","eclipse","apache-poi"],"comments":[{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1669024824,"post_id":74517091,"comment_id":131540538,"body_markdown":"Try run parameter -Xmx?g, where ? = number of gigabytes of maximum heap size.","body":"Try run parameter -Xmx?g, where ? = number of gigabytes of maximum heap size."},{"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1669025159,"post_id":74517091,"comment_id":131540653,"body_markdown":"@szeak my eclipse.ini is alreayd at max limit. -Xms256m\n-Xmx2048m","body":"@szeak my eclipse.ini is alreayd at max limit. -Xms256m -Xmx2048m"},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1669025900,"post_id":74517091,"comment_id":131540907,"body_markdown":"I was thinking put this in `Run-&gt;Run...-&gt;VM arguments` section.","body":"I was thinking put this in <code>Run-&gt;Run...-&gt;VM arguments</code> section."},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1669026366,"post_id":74517091,"comment_id":131541069,"body_markdown":"It is more memory friendly, when you thinking in other way of processing the data. e.g. convert it to CSV, than read and process the csv line-by-line.","body":"It is more memory friendly, when you thinking in other way of processing the data. e.g. convert it to CSV, than read and process the csv line-by-line."},{"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1669026507,"post_id":74517091,"comment_id":131541111,"body_markdown":"@szeak i added the arguments, still facing the same issue. i added -Xms256m\n-Xmx8g","body":"@szeak i added the arguments, still facing the same issue. i added -Xms256m -Xmx8g"},{"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"score":0,"creation_date":1669026570,"post_id":74517091,"comment_id":131541138,"body_markdown":"@szeak dont think i can convert to CSV, because i need to open the excel first, which i having issue on that line","body":"@szeak dont think i can convert to CSV, because i need to open the excel first, which i having issue on that line"},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1669026985,"post_id":74517091,"comment_id":131541268,"body_markdown":"We have a good answer here: [Processing large xlsx file](https://stackoverflow.com/questions/4897766/processing-large-xlsx-file)","body":"We have a good answer here: <a href=\"https://stackoverflow.com/questions/4897766/processing-large-xlsx-file\">Processing large xlsx file</a>"},{"owner":{"account_id":1748063,"reputation":315,"user_id":1597791,"display_name":"szeak"},"score":0,"creation_date":1669027025,"post_id":74517091,"comment_id":131541286,"body_markdown":"Does this answer your question? [Processing large xlsx file](https://stackoverflow.com/questions/4897766/processing-large-xlsx-file)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/4897766/processing-large-xlsx-file\">Processing large xlsx file</a>"},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1669027849,"post_id":74517091,"comment_id":131541550,"body_markdown":"Note: The settings in the eclipse.ini are just for Eclipse itself, they are nothing to do with programs you run from Eclipse - those are set in the Run Configuration.","body":"Note: The settings in the eclipse.ini are just for Eclipse itself, they are nothing to do with programs you run from Eclipse - those are set in the Run Configuration."}],"owner":{"account_id":10290358,"reputation":127,"user_id":7592295,"accept_rate":0,"display_name":"poojay"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3857,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1669025178,"creation_date":1669024613,"question_id":74517091,"body_markdown":"I am facing an issue when trying to open and read an xlsx file size of around 100MB, 650k rows and about a total of 10,400,000 cells count.\r\n\r\nThis is the issue i get:\r\n\r\n    org.apache.poi.util.RecordFormatException: Tried to read data but the maximum length for this record type is 100,000,000.\r\n    If the file is not corrupt and not large, please open an issue on bugzilla to request \r\n    increasing the maximum allowable size for this record type.\r\n    You can set a higher override value with IOUtils.setByteArrayMaxOverride()\r\n\r\nIt hit error on this code:\r\n\r\n    FileInputStream fis = new FileInputStream(file);\r\n    XSSFWorkbook newWorkbook = new XSSFWorkbook(fis);\r\n\r\nI tried using InputStream instead of FileInputStream, same issue. And if i add \r\n\r\n    IOUtils.setByteArrayMaxOverride(1000000000);\r\n\r\n\r\nI get the java heap space error:\r\n\r\n    Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space\r\n\r\nMy eclipse.ini settings already at max 2GB heap space (-Xms256m\r\n-Xmx2048m). Are there anything that i can do to read more than the maximum length ?\r\n\r\n","title":"Reading large size excel using apache poi","body":"<p>I am facing an issue when trying to open and read an xlsx file size of around 100MB, 650k rows and about a total of 10,400,000 cells count.</p>\n<p>This is the issue i get:</p>\n<pre><code>org.apache.poi.util.RecordFormatException: Tried to read data but the maximum length for this record type is 100,000,000.\nIf the file is not corrupt and not large, please open an issue on bugzilla to request \nincreasing the maximum allowable size for this record type.\nYou can set a higher override value with IOUtils.setByteArrayMaxOverride()\n</code></pre>\n<p>It hit error on this code:</p>\n<pre><code>FileInputStream fis = new FileInputStream(file);\nXSSFWorkbook newWorkbook = new XSSFWorkbook(fis);\n</code></pre>\n<p>I tried using InputStream instead of FileInputStream, same issue. And if i add</p>\n<pre><code>IOUtils.setByteArrayMaxOverride(1000000000);\n</code></pre>\n<p>I get the java heap space error:</p>\n<pre><code>Exception in thread &quot;AWT-EventQueue-0&quot; java.lang.OutOfMemoryError: Java heap space\n</code></pre>\n<p>My eclipse.ini settings already at max 2GB heap space (-Xms256m\n-Xmx2048m). Are there anything that i can do to read more than the maximum length ?</p>\n"},{"tags":["java","spring","documents4j"],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589440270,"creation_date":1589440270,"answer_id":61791353,"question_id":61754526,"body_markdown":"documents4j can work on Linux but not all of its converters. If you are using MS Word or MS Excel, naturally, you will have to use Windows.","title":"How can use documents4j on linux?","body":"<p>documents4j can work on Linux but not all of its converters. If you are using MS Word or MS Excel, naturally, you will have to use Windows.</p>\n"},{"tags":[],"owner":{"account_id":10120468,"reputation":355,"user_id":8777941,"display_name":"Anmol Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669025157,"creation_date":1663125855,"answer_id":73711174,"question_id":61754526,"body_markdown":"documents4j works only if you have MS Word installed in your system, which is not possible on linux. I suggest you to do this : \r\nInstall libre office on linux and run this :\r\n\r\n```\r\n  String command = &quot;libreoffice --headless --convert-to pdf &quot; + inputWordFilePath + &quot; --outdir &quot; + outputPdfPath;\r\n \r\n try {\r\n         Runtime.getRuntime().exec(command);\r\n      } catch (IOException e) {\r\n         e.printStackTrace();\r\n      }\r\n```","title":"How can use documents4j on linux?","body":"<p>documents4j works only if you have MS Word installed in your system, which is not possible on linux. I suggest you to do this :\nInstall libre office on linux and run this :</p>\n<pre><code>  String command = &quot;libreoffice --headless --convert-to pdf &quot; + inputWordFilePath + &quot; --outdir &quot; + outputPdfPath;\n \n try {\n         Runtime.getRuntime().exec(command);\n      } catch (IOException e) {\n         e.printStackTrace();\n      }\n</code></pre>\n"}],"owner":{"account_id":7195792,"reputation":15,"user_id":5494679,"display_name":"Ozdenur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1698,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73711174,"answer_count":2,"score":1,"last_activity_date":1669025157,"creation_date":1589294174,"question_id":61754526,"body_markdown":"I am working on spring mvc web project on windows and my server is installed on linux. I am using documents4j for docx file convert to pdf file and it works fine on windows but when i put the code to the server it doesn&#39;t work because my server is on linux. Can documents4j work on linux? Or which library can I use instead of documents4j?","title":"How can use documents4j on linux?","body":"<p>I am working on spring mvc web project on windows and my server is installed on linux. I am using documents4j for docx file convert to pdf file and it works fine on windows but when i put the code to the server it doesn't work because my server is on linux. Can documents4j work on linux? Or which library can I use instead of documents4j?</p>\n"},{"tags":["java","swing","prolog","inno-setup"],"comments":[{"owner":{"account_id":453710,"reputation":192093,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"score":4,"creation_date":1668875299,"post_id":74501307,"comment_id":131514658,"body_markdown":"That&#39;s too broad to me. The way your question is posted, you will need someone with both [tag:prolog] and [tag:inno-setup] knowledge. You may have problems finding someone to answer such question. – If you tell us step-by-step, what does installing prolog and your jar files involve, we can help you implementing that in Inno Setup.","body":"That&#39;s too broad to me. The way your question is posted, you will need someone with both <a href=\"https://stackoverflow.com/questions/tagged/prolog\">prolog</a> and <a href=\"https://stackoverflow.com/questions/tagged/inno-setup\">inno-setup</a> knowledge. You may have problems finding someone to answer such question. – If you tell us step-by-step, what does installing prolog and your jar files involve, we can help you implementing that in Inno Setup."},{"owner":{"account_id":6605,"reputation":61212,"user_id":11182,"display_name":"Lex Li"},"score":1,"creation_date":1668880620,"post_id":74501307,"comment_id":131515831,"body_markdown":"First you need to know clearly how your application and its dependencies can be installed on a clean machine manually, and then any installer technology (Inno Setup or not) is just there to automate the steps. Up-to-now, I cannot tell if you know the manual steps yet and if the answer is no you should go back and learn more about your own app.","body":"First you need to know clearly how your application and its dependencies can be installed on a clean machine manually, and then any installer technology (Inno Setup or not) is just there to automate the steps. Up-to-now, I cannot tell if you know the manual steps yet and if the answer is no you should go back and learn more about your own app."}],"owner":{"account_id":19093931,"reputation":151,"user_id":13943637,"display_name":"Arotiana RANDRIANASOLO"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1669024808,"creation_date":1668872006,"question_id":74501307,"body_markdown":"I&#39;m creating a project that generates a prolog file that will be audited by swi prolog using the old java swing, how can I create an installer that packs jar files and prolog compiler together?\r\nSo that the user no more needs to install SWI prolog separately\r\n\r\nThis is how the project runs in development:\r\n\r\n1- install swi prolog (in my case it was with an exe)\r\n\r\n2- create a swing program that generates prolog code \r\n\r\n3-  this program write the prolog code in a separate file, created by the java swing file writer.\r\n\r\n4- Add a jar file that links the swing program to swi prolog \r\n\r\nThe file in step 3 is audited by swi prolog through the jar library\r\n\r\nand response from swi pass through this jar library.\r\n\r\nthen these response are displayed in the program.\r\n\r\n\r\n\r\n ","title":"How to create an installer for a project generating PROLOG code?","body":"<p>I'm creating a project that generates a prolog file that will be audited by swi prolog using the old java swing, how can I create an installer that packs jar files and prolog compiler together?\nSo that the user no more needs to install SWI prolog separately</p>\n<p>This is how the project runs in development:</p>\n<p>1- install swi prolog (in my case it was with an exe)</p>\n<p>2- create a swing program that generates prolog code</p>\n<p>3-  this program write the prolog code in a separate file, created by the java swing file writer.</p>\n<p>4- Add a jar file that links the swing program to swi prolog</p>\n<p>The file in step 3 is audited by swi prolog through the jar library</p>\n<p>and response from swi pass through this jar library.</p>\n<p>then these response are displayed in the program.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":0,"creation_date":1669021511,"post_id":74516070,"comment_id":131539392,"body_markdown":"Why do you use an old alpha version of the plugin? Does it still fail when using version 1.1.0?","body":"Why do you use an old alpha version of the plugin? Does it still fail when using version 1.1.0?"},{"owner":{"account_id":26671785,"reputation":354,"user_id":20283130,"display_name":"MJG"},"score":0,"creation_date":1669021870,"post_id":74516070,"comment_id":131539525,"body_markdown":"You have to be sure of the order of the phases where the goals are executed. If multiple executions have the same phase, the order on the POM is relevant. The install phase is quite late, so if the flyway happens before, perhaps the properties will not be loaded at that time.","body":"You have to be sure of the order of the phases where the goals are executed. If multiple executions have the same phase, the order on the POM is relevant. The install phase is quite late, so if the flyway happens before, perhaps the properties will not be loaded at that time."},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1669022056,"post_id":74516070,"comment_id":131539606,"body_markdown":"@MJG tried 1.1.0 version - same thing","body":"@MJG tried 1.1.0 version - same thing"},{"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"score":0,"creation_date":1669022190,"post_id":74516070,"comment_id":131539654,"body_markdown":"@MJG remained  just one phase - validate. no progress, tried also initialize, but no success","body":"@MJG remained  just one phase - validate. no progress, tried also initialize, but no success"}],"owner":{"account_id":11371334,"reputation":744,"user_id":8336836,"accept_rate":85,"display_name":"Sam Fisher"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669024537,"creation_date":1669019430,"question_id":74516070,"body_markdown":"In project I have file `src/main/resources/build.properties` and I want to read database props from it using Maven.\r\nIn file I have these params:\r\n\r\n    flyway.url\r\n    flyway.user\r\n    flyway.password\r\n    flyway.schemas\r\n\r\n\r\nIn POM file I added:\r\n \r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.0-alpha-2&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;read properties on clean&lt;/id&gt;\r\n                            &lt;phase&gt;clean&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;read-project-properties&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;files&gt;\r\n                                    &lt;file&gt;${basedir}/src/main/resources/build.properties&lt;/file&gt;\r\n                                &lt;/files&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;read properties on install&lt;/id&gt;\r\n                            &lt;phase&gt;install&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;read-project-properties&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;files&gt;\r\n                                    &lt;file&gt;${basedir}/src/main/resources/build.properties&lt;/file&gt;\r\n                                &lt;/files&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n\r\nI&#39;m using Flyway and I added:\r\n\r\n    &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${flyway.version}&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;url&gt;${flyway.url}&lt;/url&gt;\r\n                        &lt;user&gt;${flyway.user}&lt;/user&gt;\r\n                        &lt;password&gt;${flyway.password}&lt;/password&gt;\r\n                        &lt;schemas&gt;\r\n                            &lt;schema&gt;${flyway.schemas}&lt;/schema&gt;\r\n                        &lt;/schemas&gt;\r\n                    &lt;/configuration&gt;\r\n                    &lt;dependencies&gt;\r\n                        &lt;dependency&gt;\r\n                            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n                            &lt;version&gt;${maria.db.java.client.version}&lt;/version&gt;\r\n                        &lt;/dependency&gt;\r\n                    &lt;/dependencies&gt;\r\n                &lt;/plugin&gt;\r\n\r\nSo, it can not define database url and user. Two questions regarding to this case:\r\n\r\n 1. What I&#39;m doing wrong?Why it does not see my properties?\r\n 2. Is it possible to work with .env files using this properties-plugin?","title":"Why Maven can not read properties from props file?","body":"<p>In project I have file <code>src/main/resources/build.properties</code> and I want to read database props from it using Maven.\nIn file I have these params:</p>\n<pre><code>flyway.url\nflyway.user\nflyway.password\nflyway.schemas\n</code></pre>\n<p>In POM file I added:</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;properties-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.0-alpha-2&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;read properties on clean&lt;/id&gt;\n                        &lt;phase&gt;clean&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;read-project-properties&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;files&gt;\n                                &lt;file&gt;${basedir}/src/main/resources/build.properties&lt;/file&gt;\n                            &lt;/files&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;read properties on install&lt;/id&gt;\n                        &lt;phase&gt;install&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;read-project-properties&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;files&gt;\n                                &lt;file&gt;${basedir}/src/main/resources/build.properties&lt;/file&gt;\n                            &lt;/files&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>I'm using Flyway and I added:</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n                &lt;artifactId&gt;flyway-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${flyway.version}&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;url&gt;${flyway.url}&lt;/url&gt;\n                    &lt;user&gt;${flyway.user}&lt;/user&gt;\n                    &lt;password&gt;${flyway.password}&lt;/password&gt;\n                    &lt;schemas&gt;\n                        &lt;schema&gt;${flyway.schemas}&lt;/schema&gt;\n                    &lt;/schemas&gt;\n                &lt;/configuration&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n                        &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n                        &lt;version&gt;${maria.db.java.client.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n            &lt;/plugin&gt;\n</code></pre>\n<p>So, it can not define database url and user. Two questions regarding to this case:</p>\n<ol>\n<li>What I'm doing wrong?Why it does not see my properties?</li>\n<li>Is it possible to work with .env files using this properties-plugin?</li>\n</ol>\n"},{"tags":["java","jira","jira-rest-java-api"],"answers":[{"tags":[],"owner":{"account_id":4237332,"reputation":1500,"user_id":3468135,"accept_rate":50,"display_name":"stuck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669024400,"creation_date":1669024400,"answer_id":74517055,"question_id":74492889,"body_markdown":"The error you get is related with that custom field &quot;Test Type&quot;. You are getting that error because whether the &quot;Test Type&quot; field is not in the create/edit page of issue type or the user that you perform has no create/edit permission for that project.\r\n\r\nProbably it is the first one. So, you should handle it within workflow or you should place the field to the screen.","title":"How do I set the value of a custom field in Jira Server using the REST API via JRJC?","body":"<p>The error you get is related with that custom field &quot;Test Type&quot;. You are getting that error because whether the &quot;Test Type&quot; field is not in the create/edit page of issue type or the user that you perform has no create/edit permission for that project.</p>\n<p>Probably it is the first one. So, you should handle it within workflow or you should place the field to the screen.</p>\n"}],"owner":{"account_id":5595224,"reputation":379,"user_id":4433208,"display_name":"beer geek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":254,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669024400,"creation_date":1668790003,"question_id":74492889,"body_markdown":"I&#39;m trying to use JRJC to create an issue, and I must set a custom field before that is successful. I tried searching for examples, but did not find any.\r\nHere&#39;s the code I am using to create the issue:\r\n\r\n    Long testIssueTypeId = getTestIssueTypeId(projectKey);\r\n    \r\n    IssueInputBuilder builder = new IssueInputBuilder()\r\n        .setProjectKey(projectKey)\r\n        .setIssueTypeId(testIssueTypeId)\r\n        .setSummary(summary)\r\n        .setDescription(description);\r\n    \r\n    IssueInput input = builder.build();\r\n    \r\n    return jira.getIssueClient().createIssue(input).claim();\r\n\r\n To the list of attributes, I need to set a custom field called &quot;Application&quot;. In the JSON of a similar issue it appears like this:\r\n\r\n    {\r\n      &quot;self&quot;: &quot;https://jira.web.labs.att.com/rest/api/2/customFieldOption/14314&quot;,\r\n      &quot;value&quot;:&quot;NA:12345&quot;,\r\n      &quot;id&quot;: &quot;14314&quot;,\r\n      &quot;disabled&quot;: false\r\n    }\r\n\r\n \r\nHere&#39;s what I&#39;ve tried (for another custom field):\r\n\r\n    IssueInputBuilder builder = new IssueInputBuilder()\r\n        .setProjectKey(projectKey)\r\n        .setIssueTypeId(testIssueTypeId)\r\n        .setSummary(summary)\r\n        .setDescription(description)\r\n        .setFieldValue(&quot;Test Type&quot;, \r\n           new CustomFieldOption(14314L, null, &quot;Functional&quot;, null, null));\r\n \r\nWith this code, I get the following error:\r\n```\r\nRestClientException{statusCode=Optional.of(400), errorCollections=[ErrorCollection{status=400, errors={Test Type=Field &#39;Test Type&#39; cannot be set. It is not on the appropriate screen, or unknown.}, errorMessages=[]}]}\r\n```\r\n\r\nWhat code do I need to add to the IssueInputBuilder to set this field&#39;s value? Or is there another, more preferred approach?\r\nThanks!\r\n\r\n\r\n","title":"How do I set the value of a custom field in Jira Server using the REST API via JRJC?","body":"<p>I'm trying to use JRJC to create an issue, and I must set a custom field before that is successful. I tried searching for examples, but did not find any.\nHere's the code I am using to create the issue:</p>\n<pre><code>Long testIssueTypeId = getTestIssueTypeId(projectKey);\n\nIssueInputBuilder builder = new IssueInputBuilder()\n    .setProjectKey(projectKey)\n    .setIssueTypeId(testIssueTypeId)\n    .setSummary(summary)\n    .setDescription(description);\n\nIssueInput input = builder.build();\n\nreturn jira.getIssueClient().createIssue(input).claim();\n</code></pre>\n<p>To the list of attributes, I need to set a custom field called &quot;Application&quot;. In the JSON of a similar issue it appears like this:</p>\n<pre><code>{\n  &quot;self&quot;: &quot;https://jira.web.labs.att.com/rest/api/2/customFieldOption/14314&quot;,\n  &quot;value&quot;:&quot;NA:12345&quot;,\n  &quot;id&quot;: &quot;14314&quot;,\n  &quot;disabled&quot;: false\n}\n</code></pre>\n<p>Here's what I've tried (for another custom field):</p>\n<pre><code>IssueInputBuilder builder = new IssueInputBuilder()\n    .setProjectKey(projectKey)\n    .setIssueTypeId(testIssueTypeId)\n    .setSummary(summary)\n    .setDescription(description)\n    .setFieldValue(&quot;Test Type&quot;, \n       new CustomFieldOption(14314L, null, &quot;Functional&quot;, null, null));\n</code></pre>\n<p>With this code, I get the following error:</p>\n<pre><code>RestClientException{statusCode=Optional.of(400), errorCollections=[ErrorCollection{status=400, errors={Test Type=Field 'Test Type' cannot be set. It is not on the appropriate screen, or unknown.}, errorMessages=[]}]}\n</code></pre>\n<p>What code do I need to add to the IssueInputBuilder to set this field's value? Or is there another, more preferred approach?\nThanks!</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9125,"page":867,"page_size":100}
