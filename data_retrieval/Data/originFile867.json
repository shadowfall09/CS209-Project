{"items":[{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1668003573,"post_id":74366585,"comment_id":131302555,"body_markdown":"Re *&quot;Missiles, Tanks, and Board&quot;*: What is the fourth class?","body":"Re <i>&quot;Missiles, Tanks, and Board&quot;</i>: What is the fourth class?"},{"owner":{"account_id":21484309,"reputation":189,"user_id":15831176,"display_name":"Aytida"},"score":0,"creation_date":1668008744,"post_id":74366585,"comment_id":131304702,"body_markdown":"Missile and Tank classes extend Tankset","body":"Missile and Tank classes extend Tankset"}],"answers":[{"comments":[{"owner":{"account_id":21484309,"reputation":189,"user_id":15831176,"display_name":"Aytida"},"score":0,"creation_date":1667938756,"post_id":74366664,"comment_id":131286663,"body_markdown":"do you suggest that I should have a list of tanks? and then allot commands accordingly. Because eventually I want to make this into a multiplayer game.","body":"do you suggest that I should have a list of tanks? and then allot commands accordingly. Because eventually I want to make this into a multiplayer game."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1667938827,"post_id":74366664,"comment_id":131286691,"body_markdown":"KeyListener? Please no","body":"KeyListener? Please no"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1667939580,"post_id":74366664,"comment_id":131286928,"body_markdown":"If you want a multiplayer game, then it depends how you receive your events: Some player at the console may use a joystick, another the mouse and maybe two more the keyboard. You could also receive events to move the tank via network sockets. Use listeners as you feel the need for it. But each of them needs to know which tank to control. So far I was assuming there are only two.","body":"If you want a multiplayer game, then it depends how you receive your events: Some player at the console may use a joystick, another the mouse and maybe two more the keyboard. You could also receive events to move the tank via network sockets. Use listeners as you feel the need for it. But each of them needs to know which tank to control. So far I was assuming there are only two."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667950431,"post_id":74366664,"comment_id":131289624,"body_markdown":"@HiranChaudhuri Hovercraft&#39;s comment is based on `KeyListener` been a poor choice for monitoring keyboard events and that there are better options available in Swing.  Too many questions abound about &quot;why does my `KeyListener` not work&quot;, when a solution exists which will fix it.  Key bindings also support a better concept of a decouple input, so you have keyboard, joy stick, controller or what ever acting as the input and the workflow can be easily decoupled to support them - just saying","body":"@HiranChaudhuri Hovercraft&#39;s comment is based on <code>KeyListener</code> been a poor choice for monitoring keyboard events and that there are better options available in Swing.  Too many questions abound about &quot;why does my <code>KeyListener</code> not work&quot;, when a solution exists which will fix it.  Key bindings also support a better concept of a decouple input, so you have keyboard, joy stick, controller or what ever acting as the input and the workflow can be easily decoupled to support them - just saying"},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1667974842,"post_id":74366664,"comment_id":131293135,"body_markdown":"@MadProgrammer I do not object - instead I edited my post. My response was related to Aytida&#39;s comment about a multiplayer game.","body":"@MadProgrammer I do not object - instead I edited my post. My response was related to Aytida&#39;s comment about a multiplayer game."}],"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":5,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667939658,"creation_date":1667938561,"answer_id":74366664,"question_id":74366585,"body_markdown":"If your tanks move/rotate synchronously I guess the reason is that they all receive the same key events and react the same way.\r\n\r\nPut the keylistener (or even better KeyBindings as suggested in another answer) into your Board class. The listener will check which key is pressed/released and give the correct tank the command to move or turn or whatever. This way you can make one tank react to WASD, while the other reacts on up/down/left/right.\r\n\r\nThe methods in the tank class however do not react to key events but could be named like forward, backward, turnleft, turnright.\r\n\r\nThe doDrawing method should do exactly as it&#39;s name suggests: just perform the drawing. This can happen any amount of times to get good screen refresh rates or redraw the board after another window no longer hides your game.","title":"Is there a way I can rotate one object and not both of them?","body":"<p>If your tanks move/rotate synchronously I guess the reason is that they all receive the same key events and react the same way.</p>\n<p>Put the keylistener (or even better KeyBindings as suggested in another answer) into your Board class. The listener will check which key is pressed/released and give the correct tank the command to move or turn or whatever. This way you can make one tank react to WASD, while the other reacts on up/down/left/right.</p>\n<p>The methods in the tank class however do not react to key events but could be named like forward, backward, turnleft, turnright.</p>\n<p>The doDrawing method should do exactly as it's name suggests: just perform the drawing. This can happen any amount of times to get good screen refresh rates or redraw the board after another window no longer hides your game.</p>\n"},{"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1667939024,"creation_date":1667939024,"answer_id":74366745,"question_id":74366585,"body_markdown":"Recommendations:\r\n=\r\n1. Keep logic separate from display using a model-view code structure\r\n2. In keeping with that, create a Tank *logical* class, one that knows its own position *and its own orientation* (or angle), and save your `java.util.List&lt;Tank&gt;` in the program&#39;s model.\r\n3. Change the Tank position and orientation within a listener.\r\n4. Use the View classes (the GUI classes) only to a) draw the state of the class&#39;s model and b) get input from the user.\r\n5. Side recommendation: If this is Swing, avoid KeyListeners and instead use [Key Bindings](https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html)\r\n6. You can use separate affine transforms for each tank","title":"Is there a way I can rotate one object and not both of them?","body":"<h1>Recommendations:</h1>\n<ol>\n<li>Keep logic separate from display using a model-view code structure</li>\n<li>In keeping with that, create a Tank <em>logical</em> class, one that knows its own position <em>and its own orientation</em> (or angle), and save your <code>java.util.List&lt;Tank&gt;</code> in the program's model.</li>\n<li>Change the Tank position and orientation within a listener.</li>\n<li>Use the View classes (the GUI classes) only to a) draw the state of the class's model and b) get input from the user.</li>\n<li>Side recommendation: If this is Swing, avoid KeyListeners and instead use <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/misc/keybinding.html\" rel=\"nofollow noreferrer\">Key Bindings</a></li>\n<li>You can use separate affine transforms for each tank</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1667939803,"post_id":74366853,"comment_id":131286991,"body_markdown":"Maybe the tank rotates by having different images. The global transformation might be to rotate the map?","body":"Maybe the tank rotates by having different images. The global transformation might be to rotate the map?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667939925,"post_id":74366853,"comment_id":131287035,"body_markdown":"@HiranChaudhuri Maybe we don&#39;t have enough information available to fully understand the problem and much of what is been suggest is speculation - but in the context of the question, if the OP wants to rotate the tanks individual, this is the way to get started.  They could apply compounding rotations if they want to rotate the board AND the tank, but that is beyond the available scope","body":"@HiranChaudhuri Maybe we don&#39;t have enough information available to fully understand the problem and much of what is been suggest is speculation - but in the context of the question, if the OP wants to rotate the tanks individual, this is the way to get started.  They could apply compounding rotations if they want to rotate the board AND the tank, but that is beyond the available scope"},{"owner":{"account_id":21484309,"reputation":189,"user_id":15831176,"display_name":"Aytida"},"score":0,"creation_date":1667948065,"post_id":74366853,"comment_id":131289173,"body_markdown":"Thank you, the tanks rotate together but don&#39;t move together. How can I stop them from rotating together?","body":"Thank you, the tanks rotate together but don&#39;t move together. How can I stop them from rotating together?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667950253,"post_id":74366853,"comment_id":131289596,"body_markdown":"@Aytida As has been stated by me and Hovercraft, the rotation information needs to be isolated to each tank instance. You then need to isolate the rendering workflow per tank and make sure they have the &quot;base&quot; graphics context and that they create a copy before applying new transformations","body":"@Aytida As has been stated by me and Hovercraft, the rotation information needs to be isolated to each tank instance. You then need to isolate the rendering workflow per tank and make sure they have the &quot;base&quot; graphics context and that they create a copy before applying new transformations"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1667950282,"post_id":74366853,"comment_id":131289602,"body_markdown":"@Aytida And also look at the comment `// rot should be derived from the tank ... no idea where this is`","body":"@Aytida And also look at the comment <code>&#47;&#47; rot should be derived from the tank ... no idea where this is</code>"},{"owner":{"account_id":21484309,"reputation":189,"user_id":15831176,"display_name":"Aytida"},"score":0,"creation_date":1667950489,"post_id":74366853,"comment_id":131289635,"body_markdown":"It&#39;s in the tank class. But thanks, I understood what you&#39;re saying. And similarly, have a different class/instance for missiles?","body":"It&#39;s in the tank class. But thanks, I understood what you&#39;re saying. And similarly, have a different class/instance for missiles?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1667950880,"post_id":74366853,"comment_id":131289715,"body_markdown":"@Aytida I would think that the projectiles need to be seperate entities, as their state needs to be managed individually.  You might find that the missile needs to know about how fired it.  In my example, I removed the tank rotation before drawing the projectiles, as you can do some basic trig to determine what direction they should facing based on source and target points","body":"@Aytida I would think that the projectiles need to be seperate entities, as their state needs to be managed individually.  You might find that the missile needs to know about how fired it.  In my example, I removed the tank rotation before drawing the projectiles, as you can do some basic trig to determine what direction they should facing based on source and target points"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":7,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669084347,"creation_date":1667939645,"answer_id":74366853,"question_id":74366585,"body_markdown":"So, just looking at...\r\n\r\n    private void doDrawing(Graphics g)\r\n    {\r\n        //...\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        g2d.translate(w, h);\r\n        g2d.rotate(rot, tank1.getX(), tank1.getY());\r\n    \r\n        AffineTransform backup = g2d.getTransform();\r\n        AffineTransform trans = new AffineTransform();\r\n        \r\n        g2d.setTransform(backup);\r\n        //g2d.drawImage(tank1.getImage(), tank1.getX(), tank1.getY(), this);\r\n        \r\n        trans.setToIdentity();\r\n        trans.rotate(rot, h, w); \r\n        trans.translate(h,w);\r\n        trans.setTransform(backup);\r\n                    \r\n        g2d.drawImage(tank1.getImage(), tank1.getX(), tank1.getY(), this);\r\n        g2d.drawImage(tank2.getImage(), tank2.getX(), tank2.getY(), this);\r\n        //...\r\n    }\r\n\r\nIt&#39;s immediately obvious that you&#39;re applying a transformation to the `Graphics` context which is never undone, so everything painted after it will have the same transformation applied to it.\r\n\r\nThe first thing you need to do is break the paint logic down so that it can paint a single entity.\r\n\r\nThe second thing you need to do is create a copy of the `Graphics` context before you make any modifications to it, this will prevent the parent copy from carrying those modifications forward which will then be compounded with future modifications.\r\n\r\nMaybe something like...\r\n\r\n    private void doDrawing(Graphics g) {\r\n        // Because I don&#39;t trust anybody\r\n        Graphics2D g2d = (Graphics2D) g.create();\r\n        drawTank(tank1, g2d);\r\n        g2d.dispose();\r\n        g2d = (Graphics2D) g.create();\r\n        drawTank(tank2, g2d);\r\n        g2d.dispose();\r\n    }\r\n    \r\n    private void drawTank(Tank tank, Graphics2D g) {\r\n        final double rads = Math.toRadians(120);\r\n        final double sin = Math.abs(Math.sin(rads));\r\n        final double cos = Math.abs(Math.cos(rads));\r\n        final int w = (int) Math.floor(tank.getX() * cos + tank.getX() * sin);\r\n        final int h = (int) Math.floor(tank.getY() * cos + tank.getY() * sin);\r\n\r\n        Graphics2D g2d = (Graphics2D) g.create();\r\n        g2d.translate(w, h);\r\n        // `rot` should be derived from the tank ... no idea where this is\r\n        g2d.translate(tank.getX(), tank.getY());\r\n        // Origin has now been translated to the tanks position\r\n        g2d.rotate(rot, 0, 0);\r\n        g2d.drawImage(tank.getImage(), 0, 0, this);\r\n        \r\n        // We no longer to need to keep these resources\r\n        g2d.dispose();\r\n        // Create a new &quot;clean&quot; copy\r\n        g2d = (Graphics2D) g.create();\r\n        // I don&#39;t know if it&#39;s needed, but I would, personally, calculate\r\n        // any required rotation again, but that&#39;s me\r\n        List&lt;Missile&gt; missiles = tank1.getMissiles();\r\n        for (Missile missile : missiles) {\r\n            g2d.drawImage(missile.getImage(), missile.getX(), missile.getY() - 7, this);\r\n        }\r\n    }\r\n\r\nFor example, see:\r\n\r\n* https://stackoverflow.com/questions/31129385/java-rotate-image-in-place/31130133#31130133\r\n* https://stackoverflow.com/questions/72411743/how-to-move-paint-graphics-along-slope/72412859#72412859\r\n","title":"Is there a way I can rotate one object and not both of them?","body":"<p>So, just looking at...</p>\n<pre><code>private void doDrawing(Graphics g)\n{\n    //...\n    Graphics2D g2d = (Graphics2D) g;\n    g2d.translate(w, h);\n    g2d.rotate(rot, tank1.getX(), tank1.getY());\n\n    AffineTransform backup = g2d.getTransform();\n    AffineTransform trans = new AffineTransform();\n    \n    g2d.setTransform(backup);\n    //g2d.drawImage(tank1.getImage(), tank1.getX(), tank1.getY(), this);\n    \n    trans.setToIdentity();\n    trans.rotate(rot, h, w); \n    trans.translate(h,w);\n    trans.setTransform(backup);\n                \n    g2d.drawImage(tank1.getImage(), tank1.getX(), tank1.getY(), this);\n    g2d.drawImage(tank2.getImage(), tank2.getX(), tank2.getY(), this);\n    //...\n}\n</code></pre>\n<p>It's immediately obvious that you're applying a transformation to the <code>Graphics</code> context which is never undone, so everything painted after it will have the same transformation applied to it.</p>\n<p>The first thing you need to do is break the paint logic down so that it can paint a single entity.</p>\n<p>The second thing you need to do is create a copy of the <code>Graphics</code> context before you make any modifications to it, this will prevent the parent copy from carrying those modifications forward which will then be compounded with future modifications.</p>\n<p>Maybe something like...</p>\n<pre><code>private void doDrawing(Graphics g) {\n    // Because I don't trust anybody\n    Graphics2D g2d = (Graphics2D) g.create();\n    drawTank(tank1, g2d);\n    g2d.dispose();\n    g2d = (Graphics2D) g.create();\n    drawTank(tank2, g2d);\n    g2d.dispose();\n}\n\nprivate void drawTank(Tank tank, Graphics2D g) {\n    final double rads = Math.toRadians(120);\n    final double sin = Math.abs(Math.sin(rads));\n    final double cos = Math.abs(Math.cos(rads));\n    final int w = (int) Math.floor(tank.getX() * cos + tank.getX() * sin);\n    final int h = (int) Math.floor(tank.getY() * cos + tank.getY() * sin);\n\n    Graphics2D g2d = (Graphics2D) g.create();\n    g2d.translate(w, h);\n    // `rot` should be derived from the tank ... no idea where this is\n    g2d.translate(tank.getX(), tank.getY());\n    // Origin has now been translated to the tanks position\n    g2d.rotate(rot, 0, 0);\n    g2d.drawImage(tank.getImage(), 0, 0, this);\n    \n    // We no longer to need to keep these resources\n    g2d.dispose();\n    // Create a new &quot;clean&quot; copy\n    g2d = (Graphics2D) g.create();\n    // I don't know if it's needed, but I would, personally, calculate\n    // any required rotation again, but that's me\n    List&lt;Missile&gt; missiles = tank1.getMissiles();\n    for (Missile missile : missiles) {\n        g2d.drawImage(missile.getImage(), missile.getX(), missile.getY() - 7, this);\n    }\n}\n</code></pre>\n<p>For example, see:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/31129385/java-rotate-image-in-place/31130133#31130133\">Java - rotate image in place</a></li>\n<li><a href=\"https://stackoverflow.com/questions/72411743/how-to-move-paint-graphics-along-slope/72412859#72412859\">How to move paint graphics along slope?</a></li>\n</ul>\n"}],"owner":{"account_id":21484309,"reputation":189,"user_id":15831176,"display_name":"Aytida"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74366853,"answer_count":3,"score":1,"last_activity_date":1669084347,"creation_date":1667938128,"question_id":74366585,"body_markdown":"I am working on a project that has a GUI and tanks that move. While tanks move fine, I am not able to figure out how to move/rotate them individually. I also need to clean my code as I feel I have a lot of extra stuff going on.\r\n\r\nHere is some code, and here&#39;s what I tried.\r\n\r\nI have four classes. *Missiles*, *Tanks*, and *Board*. I am calling keylisteners in the *Tank* class. Should I do that in the doDrawing method? The doDrawing method is in the *Board* class.\r\n\r\n    private void doDrawing(Graphics g)\r\n    {\r\n        final double rads = Math.toRadians(120);\r\n        final double sin = Math.abs(Math.sin(rads));\r\n        final double cos = Math.abs(Math.cos(rads));\r\n        final int w = (int) Math.floor(tank1.getX() * cos + tank1.getX() * sin);\r\n        final int h = (int) Math.floor(tank1.getY() * cos + tank1.getY() * sin);\r\n\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        g2d.translate(w, h);\r\n        g2d.rotate(rot, tank1.getX(), tank1.getY());\r\n\r\n        AffineTransform backup = g2d.getTransform();\r\n        AffineTransform trans = new AffineTransform();\r\n\r\n        g2d.setTransform(backup);\r\n        //g2d.drawImage(tank1.getImage(), tank1.getX(), tank1.getY(), this);\r\n\r\n        trans.setToIdentity();\r\n        trans.rotate(rot, h, w);\r\n        trans.translate(h, w);\r\n        trans.setTransform(backup);\r\n\r\n        g2d.drawImage(tank1.getImage(), tank1.getX(), tank1.getY(), this);\r\n\r\n        //g2d.drawImage(tank1.getImage(), tank1.getX(), tank1.getY(), this);\r\n        g2d.drawImage(tank2.getImage(), tank2.getX(), tank2.getY(), this);\r\n\r\n        List&lt;Missile&gt; missiles = tank1.getMissiles();\r\n\r\n        for (Missile missile : missiles)\r\n        {\r\n            //trans.rotate(Math.toRadians(rads), w/2, h/2);\r\n            g2d.drawImage(missile.getImage(), missile.getX(), missile.getY() - 7, this);\r\n            //g2d.rotate(rot, missile.getX(), missile.getY() - 7);\r\n        }\r\n    }\r\n\r\n","title":"Is there a way I can rotate one object and not both of them?","body":"<p>I am working on a project that has a GUI and tanks that move. While tanks move fine, I am not able to figure out how to move/rotate them individually. I also need to clean my code as I feel I have a lot of extra stuff going on.</p>\n<p>Here is some code, and here's what I tried.</p>\n<p>I have four classes. <em>Missiles</em>, <em>Tanks</em>, and <em>Board</em>. I am calling keylisteners in the <em>Tank</em> class. Should I do that in the doDrawing method? The doDrawing method is in the <em>Board</em> class.</p>\n<pre><code>private void doDrawing(Graphics g)\n{\n    final double rads = Math.toRadians(120);\n    final double sin = Math.abs(Math.sin(rads));\n    final double cos = Math.abs(Math.cos(rads));\n    final int w = (int) Math.floor(tank1.getX() * cos + tank1.getX() * sin);\n    final int h = (int) Math.floor(tank1.getY() * cos + tank1.getY() * sin);\n\n    Graphics2D g2d = (Graphics2D) g;\n    g2d.translate(w, h);\n    g2d.rotate(rot, tank1.getX(), tank1.getY());\n\n    AffineTransform backup = g2d.getTransform();\n    AffineTransform trans = new AffineTransform();\n\n    g2d.setTransform(backup);\n    //g2d.drawImage(tank1.getImage(), tank1.getX(), tank1.getY(), this);\n\n    trans.setToIdentity();\n    trans.rotate(rot, h, w);\n    trans.translate(h, w);\n    trans.setTransform(backup);\n\n    g2d.drawImage(tank1.getImage(), tank1.getX(), tank1.getY(), this);\n\n    //g2d.drawImage(tank1.getImage(), tank1.getX(), tank1.getY(), this);\n    g2d.drawImage(tank2.getImage(), tank2.getX(), tank2.getY(), this);\n\n    List&lt;Missile&gt; missiles = tank1.getMissiles();\n\n    for (Missile missile : missiles)\n    {\n        //trans.rotate(Math.toRadians(rads), w/2, h/2);\n        g2d.drawImage(missile.getImage(), missile.getX(), missile.getY() - 7, this);\n        //g2d.rotate(rot, missile.getX(), missile.getY() - 7);\n    }\n}\n</code></pre>\n"},{"tags":["java","dom","sax"],"comments":[{"owner":{"account_id":14396250,"reputation":412,"user_id":10399467,"display_name":"qingmu"},"score":0,"creation_date":1571584253,"post_id":58474256,"comment_id":103281805,"body_markdown":"ok, I have attached My XML","body":"ok, I have attached My XML"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":0,"creation_date":1571585592,"post_id":58474256,"comment_id":103282121,"body_markdown":"The XML seems to be OK, it could be parsed with Xerces DOM parser. Most likely the problem is the format of the file in the file system. This problem may come due to the byte order mark in the file. Refer https://stackoverflow.com/questions/1772321/what-is-xml-bom-and-how-do-i-detect-it","body":"The XML seems to be OK, it could be parsed with Xerces DOM parser. Most likely the problem is the format of the file in the file system. This problem may come due to the byte order mark in the file. Refer <a href=\"https://stackoverflow.com/questions/1772321/what-is-xml-bom-and-how-do-i-detect-it\" title=\"what is xml bom and how do i detect it\">stackoverflow.com/questions/1772321/&hellip;</a>"},{"owner":{"account_id":14396250,"reputation":412,"user_id":10399467,"display_name":"qingmu"},"score":0,"creation_date":1571626190,"post_id":58474256,"comment_id":103290592,"body_markdown":"When I try to delete the compiled folder with the target name and re-execute, the result is correct.May be really a problem with the file system！","body":"When I try to delete the compiled folder with the target name and re-execute, the result is correct.May be really a problem with the file system！"}],"answers":[{"tags":[],"owner":{"account_id":14396250,"reputation":412,"user_id":10399467,"display_name":"qingmu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1571626503,"creation_date":1571626503,"answer_id":58479220,"question_id":58474256,"body_markdown":"\r\n   When I try to delete the compiled folder with the **target** name and re-execute, the result is correct. May be really a problem with the file system!\r\n   [Project structure][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Wun6d.png","title":"What is the cause of the &quot;Premature end of file, org. xml. sax. SAXParseException&quot; exception?","body":"<p>When I try to delete the compiled folder with the <strong>target</strong> name and re-execute, the result is correct. May be really a problem with the file system!\n   <a href=\"https://i.stack.imgur.com/Wun6d.png\" rel=\"nofollow noreferrer\">Project structure</a></p>\n"}],"owner":{"account_id":14396250,"reputation":412,"user_id":10399467,"display_name":"qingmu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":58479220,"answer_count":1,"score":0,"last_activity_date":1669084026,"creation_date":1571583702,"question_id":58474256,"body_markdown":"I am using sax to create an xml file, but when I run the program, the following error occurs:\r\n\r\n```console\r\n[Fatal Error] :-1:-1: Premature end of file.\r\norg.xml.sax.SAXParseException; Premature end of file.\r\n\tat org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\r\n\tat org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\r\n\tat javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:205)\r\n```\r\n\r\nI checked the files written, but I didn&#39;t see any problems.The following is my code and the xml file of the operation.\r\n\r\n **1. Code**\r\n\r\nThe main logic of the following code is: create an XML node, and then append this node to the old file.\r\n\r\n```java\r\n\r\nimport org.w3c.dom.Document;\r\nimport org.w3c.dom.Element;\r\nimport org.w3c.dom.Text;\r\n\r\nimport javax.xml.transform.Transformer;\r\nimport javax.xml.transform.TransformerException;\r\nimport javax.xml.transform.TransformerFactory;\r\nimport javax.xml.transform.dom.DOMSource;\r\nimport javax.xml.transform.stream.StreamResult;\r\nimport java.io.File;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.Objects;\r\n\r\npublic class XmlWriterByDom {\r\n\r\n    private static final XMLConfigUtils xmlConfig = XMLConfigUtils.getInstance();\r\n\r\n    public void xmlInsert(Map&lt;String, String&gt; xmlNode, String xmlPath) {\r\n        Document doc = xmlConfig.getDocument(xmlPath);\r\n        Text nodeValue;\r\n\r\n        Element root = doc.getDocumentElement();\r\n        Element food = doc.createElement(XmlTag.FOOD);\r\n        Element name = doc.createElement(XmlTag.NAME);\r\n        Element price = doc.createElement(XmlTag.PRICE);\r\n        Element desc = doc.createElement(XmlTag.DESC);\r\n\r\n        nodeValue = doc.createTextNode(xmlNode.get(XmlTag.FOOD));\r\n        name.appendChild(nodeValue);\r\n        food.appendChild(name);\r\n\r\n        nodeValue = doc.createTextNode(xmlNode.get(XmlTag.PRICE));\r\n        price.appendChild(nodeValue);\r\n        food.appendChild(price);\r\n\r\n        nodeValue = doc.createTextNode(xmlNode.get(XmlTag.DESC));\r\n        desc.appendChild(nodeValue);\r\n        food.appendChild(desc);\r\n\r\n        root.appendChild(food);\r\n\r\n        try {\r\n            xmlPath = Objects.requireNonNull(               this.getClass().getClassLoader().getResource(xmlPath)).getPath();\r\n            TransformerFactory transformer = TransformerFactory.newInstance();\r\n            Transformer trans = transformer.newTransformer();\r\n            DOMSource source = new DOMSource(doc);\r\n            StreamResult result = new StreamResult(new File(xmlPath).toURI().getPath());\r\n            trans.transform(source, result);\r\n        } catch (TransformerException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; xmlNode = new HashMap&lt;&gt;(3);\r\n        xmlNode.put(&quot;name&quot;, &quot;tomato&quot;);\r\n        xmlNode.put(&quot;price&quot;, &quot;$10&quot;);\r\n        xmlNode.put(&quot;description&quot;, &quot;dishes&quot;);\r\n\r\n        new XmlWriterByDom().xmlInsert(xmlNode, &quot;xml/henan-dishes.xml&quot;);\r\n    }\r\n}\r\n```\r\n\r\n **2. XML**\r\n\r\n```XML\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;menu&gt;\r\n    &lt;food&gt;\r\n        &lt;name&gt;1&lt;/name&gt;\r\n        &lt;price&gt;18$&lt;/price&gt;\r\n        &lt;description&gt;2&lt;/description&gt;\r\n    &lt;/food&gt;\r\n    &lt;food&gt;\r\n        &lt;name&gt;1&lt;/name&gt;\r\n        &lt;price&gt;59$&lt;/price&gt;\r\n        &lt;description&gt;2&lt;/description&gt;\r\n    &lt;/food&gt;\r\n&lt;/menu&gt;\r\n```","title":"What is the cause of the &quot;Premature end of file, org. xml. sax. SAXParseException&quot; exception?","body":"<p>I am using sax to create an xml file, but when I run the program, the following error occurs:</p>\n<pre><code>[Fatal Error] :-1:-1: Premature end of file.\norg.xml.sax.SAXParseException; Premature end of file.\n    at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)\n    at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)\n    at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:205)\n</code></pre>\n<p>I checked the files written, but I didn't see any problems.The following is my code and the xml file of the operation.</p>\n<p><strong>1. Code</strong></p>\n<p>The main logic of the following code is: create an XML node, and then append this node to the old file.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nimport org.w3c.dom.Document;\nimport org.w3c.dom.Element;\nimport org.w3c.dom.Text;\n\nimport javax.xml.transform.Transformer;\nimport javax.xml.transform.TransformerException;\nimport javax.xml.transform.TransformerFactory;\nimport javax.xml.transform.dom.DOMSource;\nimport javax.xml.transform.stream.StreamResult;\nimport java.io.File;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Objects;\n\npublic class XmlWriterByDom {\n\n    private static final XMLConfigUtils xmlConfig = XMLConfigUtils.getInstance();\n\n    public void xmlInsert(Map&lt;String, String&gt; xmlNode, String xmlPath) {\n        Document doc = xmlConfig.getDocument(xmlPath);\n        Text nodeValue;\n\n        Element root = doc.getDocumentElement();\n        Element food = doc.createElement(XmlTag.FOOD);\n        Element name = doc.createElement(XmlTag.NAME);\n        Element price = doc.createElement(XmlTag.PRICE);\n        Element desc = doc.createElement(XmlTag.DESC);\n\n        nodeValue = doc.createTextNode(xmlNode.get(XmlTag.FOOD));\n        name.appendChild(nodeValue);\n        food.appendChild(name);\n\n        nodeValue = doc.createTextNode(xmlNode.get(XmlTag.PRICE));\n        price.appendChild(nodeValue);\n        food.appendChild(price);\n\n        nodeValue = doc.createTextNode(xmlNode.get(XmlTag.DESC));\n        desc.appendChild(nodeValue);\n        food.appendChild(desc);\n\n        root.appendChild(food);\n\n        try {\n            xmlPath = Objects.requireNonNull(               this.getClass().getClassLoader().getResource(xmlPath)).getPath();\n            TransformerFactory transformer = TransformerFactory.newInstance();\n            Transformer trans = transformer.newTransformer();\n            DOMSource source = new DOMSource(doc);\n            StreamResult result = new StreamResult(new File(xmlPath).toURI().getPath());\n            trans.transform(source, result);\n        } catch (TransformerException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        Map&lt;String, String&gt; xmlNode = new HashMap&lt;&gt;(3);\n        xmlNode.put(&quot;name&quot;, &quot;tomato&quot;);\n        xmlNode.put(&quot;price&quot;, &quot;$10&quot;);\n        xmlNode.put(&quot;description&quot;, &quot;dishes&quot;);\n\n        new XmlWriterByDom().xmlInsert(xmlNode, &quot;xml/henan-dishes.xml&quot;);\n    }\n}\n</code></pre>\n<p><strong>2. XML</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;menu&gt;\n    &lt;food&gt;\n        &lt;name&gt;1&lt;/name&gt;\n        &lt;price&gt;18$&lt;/price&gt;\n        &lt;description&gt;2&lt;/description&gt;\n    &lt;/food&gt;\n    &lt;food&gt;\n        &lt;name&gt;1&lt;/name&gt;\n        &lt;price&gt;59$&lt;/price&gt;\n        &lt;description&gt;2&lt;/description&gt;\n    &lt;/food&gt;\n&lt;/menu&gt;\n</code></pre>\n"},{"tags":["java","computer-science"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1669077912,"post_id":74526299,"comment_id":131556845,"body_markdown":"There&#39;s no problem with your code (at least not the one you mention)","body":"There&#39;s no problem with your code (at least not the one you mention)"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1669077954,"post_id":74526299,"comment_id":131556850,"body_markdown":"*It took 85 tries to match*","body":"<i>It took 85 tries to match</i>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1669078007,"post_id":74526299,"comment_id":131556858,"body_markdown":"And it always will. To see why, you need to look into what random *&quot;seeding&quot;* is","body":"And it always will. To see why, you need to look into what random <i>&quot;seeding&quot;</i> is"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1669078040,"post_id":74526299,"comment_id":131556861,"body_markdown":"The `if` and `break` are redundant, because they are at the end of the loop. Immediately after the if statement the loop condition will be checked as the loop decides whether to run again.","body":"The <code>if</code> and <code>break</code> are redundant, because they are at the end of the loop. Immediately after the if statement the loop condition will be checked as the loop decides whether to run again."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669078084,"post_id":74526299,"comment_id":131556870,"body_markdown":"@g00se or one try if the user is lucky :-)","body":"@g00se or one try if the user is lucky :-)"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669078390,"post_id":74526299,"comment_id":131556911,"body_markdown":"@tgdavies Hehe: yes. 86 is my lucky number!","body":"@tgdavies Hehe: yes. 86 is my lucky number!"}],"answers":[{"tags":[],"owner":{"account_id":26254848,"reputation":21,"user_id":19927038,"display_name":"xercase"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669083968,"creation_date":1669083842,"answer_id":74526864,"question_id":74526299,"body_markdown":"Update: I was able to get it. I had the &quot;guess&quot; and the chosen &quot;number&quot; switched around. I thought you were supposed to create the chosen number yourself but you were supposed to read it in from the output given in the assignment.\r\n```\r\nimport java.util.*;\r\nimport java.util.Random;\r\n\r\npublic class FeelingLucky {\r\npublic static void main(String [] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        Random random = new Random(1);\r\n        \r\n        int theGuess = 0;\r\n        System.out.print(&quot;Pick a number between 1 and 100: &quot;);\r\n        final int theNumber = scanner.nextInt();\r\n\t\t\r\n\t\tint Tries = 0;\r\n        while (theGuess != theNumber) {\r\n        \ttheGuess= random.nextInt(100) + 1;\r\n            System.out.println(theGuess);\r\n            Tries++;\r\n        }\r\n\r\n        System.out.println(&quot;It took &quot; + Tries + &quot; tries to match&quot;);\r\n    }\r\n}\r\n```","title":"What would I need to change to make this random number generator code stop when it generates the &quot;Chosen number&quot;?","body":"<p>Update: I was able to get it. I had the &quot;guess&quot; and the chosen &quot;number&quot; switched around. I thought you were supposed to create the chosen number yourself but you were supposed to read it in from the output given in the assignment.</p>\n<pre><code>import java.util.*;\nimport java.util.Random;\n\npublic class FeelingLucky {\npublic static void main(String [] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        Random random = new Random(1);\n        \n        int theGuess = 0;\n        System.out.print(&quot;Pick a number between 1 and 100: &quot;);\n        final int theNumber = scanner.nextInt();\n        \n        int Tries = 0;\n        while (theGuess != theNumber) {\n            theGuess= random.nextInt(100) + 1;\n            System.out.println(theGuess);\n            Tries++;\n        }\n\n        System.out.println(&quot;It took &quot; + Tries + &quot; tries to match&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26254848,"reputation":21,"user_id":19927038,"display_name":"xercase"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1670824129,"accepted_answer_id":74526864,"answer_count":1,"score":0,"last_activity_date":1669083968,"creation_date":1669077541,"question_id":74526299,"body_markdown":"The code I am trying to execute records guesses from numbers 1 to 100 using .randomNextInt(100) + 1. It is meant to do so only until the chosen number has been generated. Then, a message with the number of tries it took to generate is created. \r\n\r\nThis is my current code: \r\n```\r\nimport java.util.*;\r\nimport java.util.Random;\r\n\r\npublic class FeelingLucky {\r\npublic static void main(String [] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        Random random = new Random(1);\r\n        final int theNumber = random.nextInt(100) + 1;\r\n        \r\n        int Tries = 1;\r\n        System.out.print(&quot;Pick a number between 1 and 100: &quot;);\r\n        int theGuess = scanner.nextInt();\r\n\r\n\r\n        while (theGuess != theNumber) {\r\n            theGuess = random.nextInt(100) + 1;\r\n            System.out.println(theGuess);\r\n            Tries++;\r\n            if (theGuess == theNumber)\r\n            break;\r\n        }\r\n\r\n        System.out.println(&quot;It took &quot; + Tries + &quot; tries to match&quot;);\r\n    }\r\n}\r\n\r\n```\r\nI tried using the if and break statment after Tries++ to see if that would make it stop at the chosen number, however it did not seem to do anything. Help would be appreciated, thank you.\r\n","title":"What would I need to change to make this random number generator code stop when it generates the &quot;Chosen number&quot;?","body":"<p>The code I am trying to execute records guesses from numbers 1 to 100 using .randomNextInt(100) + 1. It is meant to do so only until the chosen number has been generated. Then, a message with the number of tries it took to generate is created.</p>\n<p>This is my current code:</p>\n<pre><code>import java.util.*;\nimport java.util.Random;\n\npublic class FeelingLucky {\npublic static void main(String [] args) {\n        Scanner scanner = new Scanner(System.in);\n\n        Random random = new Random(1);\n        final int theNumber = random.nextInt(100) + 1;\n        \n        int Tries = 1;\n        System.out.print(&quot;Pick a number between 1 and 100: &quot;);\n        int theGuess = scanner.nextInt();\n\n\n        while (theGuess != theNumber) {\n            theGuess = random.nextInt(100) + 1;\n            System.out.println(theGuess);\n            Tries++;\n            if (theGuess == theNumber)\n            break;\n        }\n\n        System.out.println(&quot;It took &quot; + Tries + &quot; tries to match&quot;);\n    }\n}\n\n</code></pre>\n<p>I tried using the if and break statment after Tries++ to see if that would make it stop at the chosen number, however it did not seem to do anything. Help would be appreciated, thank you.</p>\n"},{"tags":["java","selenium","google-chrome","sts"],"comments":[{"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"score":0,"creation_date":1641542765,"post_id":70617478,"comment_id":124835644,"body_markdown":"Did you try updating `chromedriver.exe` or any other solution for this issue?","body":"Did you try updating <code>chromedriver.exe</code> or any other solution for this issue?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1642274187,"post_id":70617478,"comment_id":125029250,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":11618219,"reputation":31,"user_id":8510244,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641962337,"creation_date":1641962337,"answer_id":70676385,"question_id":70617478,"body_markdown":"I have faced same issue as well today and finally fix it. I have tried some steps as below, hope this will help you.\r\n1. check your chrome real version, if you see &quot;Relaunch&quot; button after version info, it means your browser was updated automatically, you have to click Relaunch and check your browser&#39;s real version.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ePHSk.jpg\r\n2. Go to https://chromedriver.storage.googleapis.com/index.html, download corresponding version of chromedriver\r\n3. unzip and replace it\r\n4. restart your project","title":"org.openqa.selenium.SessionNotCreatedException:Could not start a new session.Response code 500.Message:unknown error: Failed to create Chrome process","body":"<p>I have faced same issue as well today and finally fix it. I have tried some steps as below, hope this will help you.</p>\n<ol>\n<li>check your chrome real version, if you see &quot;Relaunch&quot; button after version info, it means your browser was updated automatically, you have to click Relaunch and check your browser's real version.\n<a href=\"https://i.stack.imgur.com/ePHSk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ePHSk.jpg\" alt=\"enter image description here\" /></a></li>\n</ol>\n<p>2. Go to <a href=\"https://chromedriver.storage.googleapis.com/index.html\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/index.html</a>, download corresponding version of chromedriver\n3. unzip and replace it\n4. restart your project</p>\n"}],"owner":{"account_id":6276138,"reputation":31,"user_id":4878772,"display_name":"Aneesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35686,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1669082795,"creation_date":1641537810,"question_id":70617478,"body_markdown":"    Starting ChromeDriver 95.0.4638.69 (6a1600ed572fedecd573b6c2b90a22fe6392a410-refs/branch-heads/4638@{#984}) on port 60167\r\n    Only local connections are allowed.\r\n    Please see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\r\n    ChromeDriver was started successfully.\r\n    2022-01-07 12:00:30.163 ERROR 22000 --- [nio-8090-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Failed to create Chrome process.\r\n    Build info: version: &#39;4.1.1&#39;, revision: &#39;e8fcc2cecf&#39;\r\n    System info: host: &#39;USOM2YJ4F6&#39;, ip: &#39;192.168.1.3&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.1&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--incognito], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--incognito], extensions: []}}}]] with root cause\r\n    \r\n    org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Failed to create Chrome process.\r\n    Build info: version: &#39;4.1.1&#39;, revision: &#39;e8fcc2cecf&#39;\r\n    System info: host: &#39;USOM2YJ4F6&#39;, ip: &#39;192.168.1.3&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;17.0.1&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Command: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--incognito], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--incognito], extensions: []}}}]\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:126) ~[selenium-remote-driver-4.1.1.jar:na]\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:84) ~[selenium-remote-driver-4.1.1.jar:na]\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:62) ~[selenium-remote-driver-4.1.1.jar:na]\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156) ~[selenium-remote-driver-4.1.1.jar:na]\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167) ~[selenium-remote-driver-4.1.1.jar:na]\r\n    \tat org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142) ~[selenium-remote-driver-4.1.1.jar:na]\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543) ~[selenium-remote-driver-4.1.1.jar:na]\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:230) ~[selenium-remote-driver-4.1.1.jar:na]\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:151) ~[selenium-remote-driver-4.1.1.jar:na]\r\n    \tat org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:108) ~[selenium-chromium-driver-4.1.1.jar:na]\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:104) ~[selenium-chrome-driver-4.1.1.jar:na]\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:91) ~[selenium-chrome-driver-4.1.1.jar:na]\r\n    \tat org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:80) ~[selenium-chrome-driver-4.1.1.jar:na]\r\n    \tat com.example.pocdemo.POCDemoController.login(POCDemoController.java:42) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.2.jar:2.6.2]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n\r\n","title":"org.openqa.selenium.SessionNotCreatedException:Could not start a new session.Response code 500.Message:unknown error: Failed to create Chrome process","body":"<pre><code>Starting ChromeDriver 95.0.4638.69 (6a1600ed572fedecd573b6c2b90a22fe6392a410-refs/branch-heads/4638@{#984}) on port 60167\nOnly local connections are allowed.\nPlease see https://chromedriver.chromium.org/security-considerations for suggestions on keeping ChromeDriver safe.\nChromeDriver was started successfully.\n2022-01-07 12:00:30.163 ERROR 22000 --- [nio-8090-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Failed to create Chrome process.\nBuild info: version: '4.1.1', revision: 'e8fcc2cecf'\nSystem info: host: 'USOM2YJ4F6', ip: '192.168.1.3', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--incognito], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--incognito], extensions: []}}}]] with root cause\n\norg.openqa.selenium.SessionNotCreatedException: Could not start a new session. Response code 500. Message: unknown error: Failed to create Chrome process.\nBuild info: version: '4.1.1', revision: 'e8fcc2cecf'\nSystem info: host: 'USOM2YJ4F6', ip: '192.168.1.3', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '17.0.1'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome, goog:chromeOptions: {args: [--incognito], extensions: []}}], desiredCapabilities=Capabilities {browserName: chrome, goog:chromeOptions: {args: [--incognito], extensions: []}}}]\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:126) ~[selenium-remote-driver-4.1.1.jar:na]\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:84) ~[selenium-remote-driver-4.1.1.jar:na]\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:62) ~[selenium-remote-driver-4.1.1.jar:na]\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:156) ~[selenium-remote-driver-4.1.1.jar:na]\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.invokeExecute(DriverCommandExecutor.java:167) ~[selenium-remote-driver-4.1.1.jar:na]\n    at org.openqa.selenium.remote.service.DriverCommandExecutor.execute(DriverCommandExecutor.java:142) ~[selenium-remote-driver-4.1.1.jar:na]\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543) ~[selenium-remote-driver-4.1.1.jar:na]\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:230) ~[selenium-remote-driver-4.1.1.jar:na]\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:151) ~[selenium-remote-driver-4.1.1.jar:na]\n    at org.openqa.selenium.chromium.ChromiumDriver.&lt;init&gt;(ChromiumDriver.java:108) ~[selenium-chromium-driver-4.1.1.jar:na]\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:104) ~[selenium-chrome-driver-4.1.1.jar:na]\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:91) ~[selenium-chrome-driver-4.1.1.jar:na]\n    at org.openqa.selenium.chrome.ChromeDriver.&lt;init&gt;(ChromeDriver.java:80) ~[selenium-chrome-driver-4.1.1.jar:na]\n    at com.example.pocdemo.POCDemoController.login(POCDemoController.java:42) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:681) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883) ~[spring-webmvc-5.3.14.jar:5.3.14]\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:764) ~[tomcat-embed-core-9.0.56.jar:4.0.FR]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96) ~[spring-boot-actuator-2.6.2.jar:2.6.2]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117) ~[spring-web-5.3.14.jar:5.3.14]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n"},{"tags":["java","selenium","maven","jenkins"],"owner":{"account_id":19982432,"reputation":13,"user_id":14645242,"display_name":"Pathfinder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669082368,"creation_date":1669078282,"question_id":74526357,"body_markdown":"```none\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test (default-test) on project HawthorneEffectAutomation: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test failed: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\r\n[ERROR] Command was /bin/sh -c cd /var/lib/jenkins/workspace/HE_HQ_Automaton &amp;&amp; /usr/lib/jvm/java-11-openjdk-11.0.13.0.8-1.amzn2.0.3.x86_64/bin/java -jar /var/lib/jenkins/workspace/HE_HQ_Automaton/target/surefire/surefirebooter14653655313054336893.jar /var/lib/jenkins/workspace/HE_HQ_Automaton/target/surefire/surefire15702145916035405804tmp /var/lib/jenkins/workspace/HE_HQ_Automaton/target/surefire/surefire_083360849272140865tmp\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\r\n[JENKINS] Archiving /var/lib/jenkins/workspace/HE_HQ_Automaton/pom.xml to org.example/HawthorneEffectAutomation/1.0-SNAPSHOT/HawthorneEffectAutomation-1.0-SNAPSHOT.pom\r\nchannel stopped\r\n[CucumberReport] Using Cucumber Reports version 5.7.1\r\n[CucumberReport] JSON report directory is &quot;&quot;\r\n[CucumberReport] Copied 8 properties files from workspace &quot;/var/lib/jenkins/workspace/HE_HQ_Automaton&quot; to reports directory &quot;/var/lib/jenkins/jobs/HE_HQ_Automaton/builds/143/cucumber-html-reports/.cache&quot;\r\n[CucumberReport] Copied 2 files from workspace &quot;/var/lib/jenkins/workspace/HE_HQ_Automaton&quot; to reports directory &quot;/var/lib/jenkins/jobs/HE_HQ_Automaton/builds/143/cucumber-html-reports/.cache&quot;\r\n[CucumberReport] Processing 2 json files:\r\n[CucumberReport] /var/lib/jenkins/jobs/HE_HQ_Automaton/builds/143/cucumber-html-reports/.cache/target/cucumber-reports/report.json\r\n[CucumberReport] /var/lib/jenkins/jobs/HE_HQ_Automaton/builds/143/cucumber-html-reports/.cache/target/cucumber.json\r\n[CucumberReport] Missing report result - the report was not successfully completed\r\n[CucumberReport] Build status is left unchanged\r\nFinished: FAILURE\r\n```\r\n\r\n\r\nI did check the plugin version and dependency version and all are up to date and matching with each other","title":"Build Failure with maven sure fire plugin error on Jenkins: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?","body":"<pre class=\"lang-none prettyprint-override\"><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test (default-test) on project HawthorneEffectAutomation: Execution default-test of goal org.apache.maven.plugins:maven-surefire-plugin:2.19.1:test failed: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?\n[ERROR] Command was /bin/sh -c cd /var/lib/jenkins/workspace/HE_HQ_Automaton &amp;&amp; /usr/lib/jvm/java-11-openjdk-11.0.13.0.8-1.amzn2.0.3.x86_64/bin/java -jar /var/lib/jenkins/workspace/HE_HQ_Automaton/target/surefire/surefirebooter14653655313054336893.jar /var/lib/jenkins/workspace/HE_HQ_Automaton/target/surefire/surefire15702145916035405804tmp /var/lib/jenkins/workspace/HE_HQ_Automaton/target/surefire/surefire_083360849272140865tmp\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/PluginExecutionException\n[JENKINS] Archiving /var/lib/jenkins/workspace/HE_HQ_Automaton/pom.xml to org.example/HawthorneEffectAutomation/1.0-SNAPSHOT/HawthorneEffectAutomation-1.0-SNAPSHOT.pom\nchannel stopped\n[CucumberReport] Using Cucumber Reports version 5.7.1\n[CucumberReport] JSON report directory is &quot;&quot;\n[CucumberReport] Copied 8 properties files from workspace &quot;/var/lib/jenkins/workspace/HE_HQ_Automaton&quot; to reports directory &quot;/var/lib/jenkins/jobs/HE_HQ_Automaton/builds/143/cucumber-html-reports/.cache&quot;\n[CucumberReport] Copied 2 files from workspace &quot;/var/lib/jenkins/workspace/HE_HQ_Automaton&quot; to reports directory &quot;/var/lib/jenkins/jobs/HE_HQ_Automaton/builds/143/cucumber-html-reports/.cache&quot;\n[CucumberReport] Processing 2 json files:\n[CucumberReport] /var/lib/jenkins/jobs/HE_HQ_Automaton/builds/143/cucumber-html-reports/.cache/target/cucumber-reports/report.json\n[CucumberReport] /var/lib/jenkins/jobs/HE_HQ_Automaton/builds/143/cucumber-html-reports/.cache/target/cucumber.json\n[CucumberReport] Missing report result - the report was not successfully completed\n[CucumberReport] Build status is left unchanged\nFinished: FAILURE\n</code></pre>\n<p>I did check the plugin version and dependency version and all are up to date and matching with each other</p>\n"},{"tags":["java","maven","pom.xml","nexus"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1446641708,"post_id":33522364,"comment_id":54826087,"body_markdown":"The repositories which will be used should be put into settings.xml (which results in using the corporate nexus)...The distributionManagement should be put into corpoprate pom file (best is to use some properties for the url) which can be overritten simply in your CI server...","body":"The repositories which will be used should be put into settings.xml (which results in using the corporate nexus)...The distributionManagement should be put into corpoprate pom file (best is to use some properties for the url) which can be overritten simply in your CI server..."},{"owner":{"account_id":1416429,"reputation":4267,"user_id":1342006,"accept_rate":79,"display_name":"JDC"},"score":0,"creation_date":1446642011,"post_id":33522364,"comment_id":54826294,"body_markdown":"Thanks already for the comment. For the local development I would put the properties inside a profile inside the `settings.xml` then?","body":"Thanks already for the comment. For the local development I would put the properties inside a profile inside the <code>settings.xml</code> then?"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1446650176,"post_id":33522364,"comment_id":54832036,"body_markdown":"@user1342006 Please see my edit regarding sites.","body":"@user1342006 Please see my edit regarding sites."}],"answers":[{"comments":[{"owner":{"account_id":1416429,"reputation":4267,"user_id":1342006,"accept_rate":79,"display_name":"JDC"},"score":0,"creation_date":1446643475,"post_id":33522751,"comment_id":54827219,"body_markdown":"Thank you for your detailed answer, this already helps! But there is still one point I can&#39;t seem to get working using this approach. If I now have an actual child project inheriting from this pom, it will be released into the `example-releases` repository. How do I handle the fact that different projects should get their own repositories? (https://books.sonatype.com/nexus-book/reference/best.html - repositories per project/team) Or would you suggest the &quot;Partition shared repositories&quot;? And whats the point of including the `&lt;distributionMgmt&gt;` but not `&lt;repositories&gt;`? Isnt this also bad then?","body":"Thank you for your detailed answer, this already helps! But there is still one point I can&#39;t seem to get working using this approach. If I now have an actual child project inheriting from this pom, it will be released into the <code>example-releases</code> repository. How do I handle the fact that different projects should get their own repositories? (<a href=\"https://books.sonatype.com/nexus-book/reference/best.html\" rel=\"nofollow noreferrer\">books.sonatype.com/nexus-book/reference/best.html</a> - repositories per project/team) Or would you suggest the &quot;Partition shared repositories&quot;? And whats the point of including the <code>&lt;distributionMgmt&gt;</code> but not <code>&lt;repositories&gt;</code>? Isnt this also bad then?"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1446643666,"post_id":33522751,"comment_id":54827342,"body_markdown":"@user1342006 We do also have this usecase and have rather chosen &quot;Repositories Per Project/Team&quot; better repo per production site. What you will ultimately do is leave the corpoporate POM as-is and override the distribution management information in your Project POM. You are done. You can always validat your POM with `mvn help:effective-pom`. It gives you the interpolated POM as Maven would see it.\n\nPlease keep in mind that if you use Nexus you have centralized user management, i.e., you can keep the server id always the same and refer to it in your `settings.xml`.","body":"@user1342006 We do also have this usecase and have rather chosen &quot;Repositories Per Project/Team&quot; better repo per production site. What you will ultimately do is leave the corpoporate POM as-is and override the distribution management information in your Project POM. You are done. You can always validat your POM with <code>mvn help:effective-pom</code>. It gives you the interpolated POM as Maven would see it.  Please keep in mind that if you use Nexus you have centralized user management, i.e., you can keep the server id always the same and refer to it in your <code>settings.xml</code>."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1446643915,"post_id":33522751,"comment_id":54827491,"body_markdown":"Not doing so would ultimately mean to duplicate credentials which is really annoying. See [MNG-5913](https://issues.apache.org/jira/browse/MNG-5913).","body":"Not doing so would ultimately mean to duplicate credentials which is really annoying. See <a href=\"https://issues.apache.org/jira/browse/MNG-5913\" rel=\"nofollow noreferrer\">MNG-5913</a>."},{"owner":{"account_id":1416429,"reputation":4267,"user_id":1342006,"accept_rate":79,"display_name":"JDC"},"score":0,"creation_date":1446644471,"post_id":33522751,"comment_id":54827866,"body_markdown":"Ok I think I mostly understand, thank you! But still, if I imagine having e.g. 50 different projects (just to exaggerate) that all override the &#39; `&lt;distributionManagement`&gt; section, and the nexus url changes, this would be a real worst case scenario. Would it be an idea to specify the base-url in the corporate pom followed by a property (e.g. `${project.uid})` that is then set inside the child poms? Would this work and make sense?","body":"Ok I think I mostly understand, thank you! But still, if I imagine having e.g. 50 different projects (just to exaggerate) that all override the &#39; <code>&lt;distributionManagement</code>&gt; section, and the nexus url changes, this would be a real worst case scenario. Would it be an idea to specify the base-url in the corporate pom followed by a property (e.g. <code>${project.uid})</code> that is then set inside the child poms? Would this work and make sense?"},{"owner":{"account_id":1416429,"reputation":4267,"user_id":1342006,"accept_rate":79,"display_name":"JDC"},"score":0,"creation_date":1446644739,"post_id":33522751,"comment_id":54828037,"body_markdown":"Regarding the chaning nexus url: Or would this be an IT problem then and we should just use an alias url to be sure... ?","body":"Regarding the chaning nexus url: Or would this be an IT problem then and we should just use an alias url to be sure... ?"},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1446645445,"post_id":33522751,"comment_id":54828519,"body_markdown":"If you plan to use exactly one repo for one project, that would be a mess (IMHO). I would reather logically group projects into one repo and work with target permissions in Nexus if you need them. Your approach `${project.uid}` makes sense and would actually work. Though, I have never tried this approach. At the end of the day, you should assess both options with your devs and admins and use the approach with the least amount of work. Ultimately, a few big repos might be a better solution and your Nexus admin will do the rest.","body":"If you plan to use exactly one repo for one project, that would be a mess (IMHO). I would reather logically group projects into one repo and work with target permissions in Nexus if you need them. Your approach <code>${project.uid}</code> makes sense and would actually work. Though, I have never tried this approach. At the end of the day, you should assess both options with your devs and admins and use the approach with the least amount of work. Ultimately, a few big repos might be a better solution and your Nexus admin will do the rest."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1446645551,"post_id":33522751,"comment_id":54828594,"body_markdown":"Aliasing URLs wih Apache webserver would either mean to work with redirects (time-consuming) or real location aliases but that would still be additional admin work.","body":"Aliasing URLs wih Apache webserver would either mean to work with redirects (time-consuming) or real location aliases but that would still be additional admin work."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1446645600,"post_id":33522751,"comment_id":54828626,"body_markdown":"You can update your question by sharing your preferred solution and I or others can share their thoghts.","body":"You can update your question by sharing your preferred solution and I or others can share their thoghts."},{"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"score":0,"creation_date":1446650773,"post_id":33522751,"comment_id":54832473,"body_markdown":"does someone actually use only *one* corporate pom? we have inheritance structure of lots of poms, maybe about 17 when you consider all the dependency poms... each for different use cases.","body":"does someone actually use only <i>one</i> corporate pom? we have inheritance structure of lots of poms, maybe about 17 when you consider all the dependency poms... each for different use cases."},{"owner":{"account_id":1416429,"reputation":4267,"user_id":1342006,"accept_rate":79,"display_name":"JDC"},"score":1,"creation_date":1446653820,"post_id":33522751,"comment_id":54834735,"body_markdown":"@eis I think you&#39;re right and actually this is one of the next steps I wanted to evaluate. But first of all I needed the most basic pom/nexus structure to get started. The next steps will of course involve finding commonalities and providing different parent poms for different use cases (e.g. jee-application, desktop-application, etc.), whereas those again inherit from the base pom.","body":"@eis I think you&#39;re right and actually this is one of the next steps I wanted to evaluate. But first of all I needed the most basic pom/nexus structure to get started. The next steps will of course involve finding commonalities and providing different parent poms for different use cases (e.g. jee-application, desktop-application, etc.), whereas those again inherit from the base pom."},{"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"score":0,"creation_date":1446666979,"post_id":33522751,"comment_id":54843177,"body_markdown":"@user1342006 If you think my answer was helpful, consider upvoting/accepting it.","body":"@user1342006 If you think my answer was helpful, consider upvoting/accepting it."}],"tags":[],"owner":{"account_id":356850,"reputation":18179,"user_id":696632,"accept_rate":62,"display_name":"Michael-O"},"comment_count":11,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1447440560,"creation_date":1446642437,"answer_id":33522751,"question_id":33522364,"body_markdown":"You can have a look at the Apache Parent POM or the Maven Parent POM. A minimal corporate POM should look like this:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n      &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;example-parent&lt;/artifactId&gt;\r\n      &lt;version&gt;1-SNAPSHOT&lt;/version&gt;\r\n      &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;Exmaple Parent POM&lt;/name&gt;\r\n      &lt;organization&gt;\r\n        &lt;name&gt;Example Inc.&lt;/name&gt;\r\n      &lt;/organization&gt;\r\n    \r\n      &lt;!-- This marked as deprecated for Maven 3.x. This is checked by maven-enforcer-plugin --&gt;\r\n      &lt;!-- http://jira.codehaus.org/browse/MNG-5297 --&gt;\r\n      &lt;prerequisites&gt;\r\n        &lt;maven&gt;${maven.version}&lt;/maven&gt;\r\n      &lt;/prerequisites&gt;\r\n    \r\n      &lt;scm&gt;\r\n        &lt;connection&gt;scm:svn:https://example.com/repos/svn/ExmapleJava/example-parent/trunk/&lt;/connection&gt;\r\n        &lt;developerConnection&gt;scm:svn:https://example.com/repos/svn/ExmapleJava/example-parent/trunk/&lt;/developerConnection&gt;\r\n        &lt;url&gt;https://example.com/repos/websvn/browse/ExmapleJava/example-parent/trunk/&lt;/url&gt;\r\n      &lt;/scm&gt;\r\n    \r\n      &lt;distributionManagement&gt;\r\n        &lt;repository&gt;\r\n          &lt;id&gt;nexus-example&lt;/id&gt;\r\n          &lt;name&gt;Nexus Exmaple Release Repository&lt;/name&gt;\r\n          &lt;url&gt;https://example.com/nexus/content/repositories/example-releases&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;snapshotRepository&gt;\r\n          &lt;id&gt;nexus-example&lt;/id&gt;\r\n          &lt;name&gt;Nexus Exmaple Snapshot Repository&lt;/name&gt;\r\n          &lt;url&gt;https://example.com/nexus/content/repositories/example-snapshots&lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n      &lt;/distributionManagement&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;maven.version&gt;3.2&lt;/maven.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;surefire.version&gt;2.19&lt;/surefire.version&gt;\r\n        &lt;javadoc.version&gt;2.10.3&lt;/javadoc.version&gt;\r\n      &lt;/properties&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;pluginManagement&gt;\r\n          &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.3&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.4&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;excludeResources&gt;true&lt;/excludeResources&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.5.3&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;mavenExecutorId&gt;forked-path&lt;/mavenExecutorId&gt;\r\n                &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\r\n                &lt;useReleaseProfile&gt;false&lt;/useReleaseProfile&gt;\r\n                &lt;tagNameFormat&gt;@{project.version}&lt;/tagNameFormat&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;${javadoc.version}&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;quiet&gt;true&lt;/quiet&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.7&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;${surefire.version}&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.6&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.10&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.6.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;3.4&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n              &lt;artifactId&gt;buildnumber-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;1.4&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;buildNumberPropertyName&gt;buildRevision&lt;/buildNumberPropertyName&gt;\r\n                &lt;timestampPropertyName&gt;buildTimestamp&lt;/timestampPropertyName&gt;\r\n                &lt;scmBranchPropertyName&gt;buildScmBranch&lt;/scmBranchPropertyName&gt;\r\n                &lt;revisionOnScmFailure&gt;non-SCM&lt;/revisionOnScmFailure&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n              &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;2.2&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;generateBackupPoms&gt;false&lt;/generateBackupPoms&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n              &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;1.10&lt;/version&gt;\r\n              &lt;configuration&gt;\r\n                &lt;includeConfigurationDirectoryInClasspath&gt;false&lt;/includeConfigurationDirectoryInClasspath&gt;\r\n              &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n              &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;1.9.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;1.4.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n              &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\r\n              &lt;version&gt;1.8&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n          &lt;/plugins&gt;\r\n        &lt;/pluginManagement&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;enforce-maven&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;enforce&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;rules&gt;\r\n                    &lt;requireMavenVersion&gt;\r\n                      &lt;version&gt;${maven.version}&lt;/version&gt;\r\n                      &lt;message&gt;This project requires at least Maven ${maven.version}&lt;/message&gt;\r\n                    &lt;/requireMavenVersion&gt;\r\n                  &lt;/rules&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    \r\n      &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n          &lt;id&gt;example-release&lt;/id&gt;\r\n          &lt;build&gt;\r\n            &lt;plugins&gt;\r\n              &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;attach-sources&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;jar-no-fork&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n              &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;jar&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n          &lt;/build&gt;\r\n        &lt;/profile&gt;\r\n      &lt;/profiles&gt;\r\n    &lt;/project&gt;\r\n    \r\nThe plugins of course should vary for your company but this gets you started. This is actually our parent just removed our local information.\r\n\r\nThere is no information for the site deployment because we don&#39;t use it. Set it if you use it.\r\n\r\nAt *no* time your POM should contain `&lt;repositories&gt;` and `&lt;pluginRepositories&gt;` because this is bad practice. Ideally, your work with a repo group in Nexus mirroring (in `settings.xml`) all of your requests.\r\n\r\nInherit from and be happy.\r\n\r\nHow to handle sites:\r\nGenerally, each project has its own site and should be overridden in the dist mngt section. This is different to the artifacts. Whether your will host on Nexus or on a webserver like Apache is up to you. The bottom line is that every project site needs its distinct URL.","title":"Nexus &amp; Maven Corporate Pom - What should it contain?","body":"<p>You can have a look at the Apache Parent POM or the Maven Parent POM. A minimal corporate POM should look like this:</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd\"&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;example-parent&lt;/artifactId&gt;\n  &lt;version&gt;1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;pom&lt;/packaging&gt;\n\n  &lt;name&gt;Exmaple Parent POM&lt;/name&gt;\n  &lt;organization&gt;\n    &lt;name&gt;Example Inc.&lt;/name&gt;\n  &lt;/organization&gt;\n\n  &lt;!-- This marked as deprecated for Maven 3.x. This is checked by maven-enforcer-plugin --&gt;\n  &lt;!-- http://jira.codehaus.org/browse/MNG-5297 --&gt;\n  &lt;prerequisites&gt;\n    &lt;maven&gt;${maven.version}&lt;/maven&gt;\n  &lt;/prerequisites&gt;\n\n  &lt;scm&gt;\n    &lt;connection&gt;scm:svn:https://example.com/repos/svn/ExmapleJava/example-parent/trunk/&lt;/connection&gt;\n    &lt;developerConnection&gt;scm:svn:https://example.com/repos/svn/ExmapleJava/example-parent/trunk/&lt;/developerConnection&gt;\n    &lt;url&gt;https://example.com/repos/websvn/browse/ExmapleJava/example-parent/trunk/&lt;/url&gt;\n  &lt;/scm&gt;\n\n  &lt;distributionManagement&gt;\n    &lt;repository&gt;\n      &lt;id&gt;nexus-example&lt;/id&gt;\n      &lt;name&gt;Nexus Exmaple Release Repository&lt;/name&gt;\n      &lt;url&gt;https://example.com/nexus/content/repositories/example-releases&lt;/url&gt;\n    &lt;/repository&gt;\n    &lt;snapshotRepository&gt;\n      &lt;id&gt;nexus-example&lt;/id&gt;\n      &lt;name&gt;Nexus Exmaple Snapshot Repository&lt;/name&gt;\n      &lt;url&gt;https://example.com/nexus/content/repositories/example-snapshots&lt;/url&gt;\n    &lt;/snapshotRepository&gt;\n  &lt;/distributionManagement&gt;\n\n  &lt;properties&gt;\n    &lt;maven.version&gt;3.2&lt;/maven.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;surefire.version&gt;2.19&lt;/surefire.version&gt;\n    &lt;javadoc.version&gt;2.10.3&lt;/javadoc.version&gt;\n  &lt;/properties&gt;\n\n  &lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.3&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.4&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;excludeResources&gt;true&lt;/excludeResources&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-release-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.3&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;mavenExecutorId&gt;forked-path&lt;/mavenExecutorId&gt;\n            &lt;autoVersionSubmodules&gt;true&lt;/autoVersionSubmodules&gt;\n            &lt;useReleaseProfile&gt;false&lt;/useReleaseProfile&gt;\n            &lt;tagNameFormat&gt;@{project.version}&lt;/tagNameFormat&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.8.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-help-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${javadoc.version}&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;quiet&gt;true&lt;/quiet&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.7&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n          &lt;version&gt;${surefire.version}&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.6&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.10&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.6.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-site-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.4&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n          &lt;artifactId&gt;buildnumber-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.4&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;buildNumberPropertyName&gt;buildRevision&lt;/buildNumberPropertyName&gt;\n            &lt;timestampPropertyName&gt;buildTimestamp&lt;/timestampPropertyName&gt;\n            &lt;scmBranchPropertyName&gt;buildScmBranch&lt;/scmBranchPropertyName&gt;\n            &lt;revisionOnScmFailure&gt;non-SCM&lt;/revisionOnScmFailure&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n          &lt;artifactId&gt;versions-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;2.2&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;generateBackupPoms&gt;false&lt;/generateBackupPoms&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n          &lt;artifactId&gt;appassembler-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.10&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;includeConfigurationDirectoryInClasspath&gt;false&lt;/includeConfigurationDirectoryInClasspath&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n          &lt;artifactId&gt;build-helper-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.9.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.4.1&lt;/version&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n          &lt;artifactId&gt;maven-antrun-plugin&lt;/artifactId&gt;\n          &lt;version&gt;1.8&lt;/version&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;enforce-maven&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;rules&gt;\n                &lt;requireMavenVersion&gt;\n                  &lt;version&gt;${maven.version}&lt;/version&gt;\n                  &lt;message&gt;This project requires at least Maven ${maven.version}&lt;/message&gt;\n                &lt;/requireMavenVersion&gt;\n              &lt;/rules&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n\n  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;example-release&lt;/id&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;attach-sources&lt;/id&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;jar-no-fork&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;attach-javadocs&lt;/id&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;jar&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>The plugins of course should vary for your company but this gets you started. This is actually our parent just removed our local information.</p>\n\n<p>There is no information for the site deployment because we don't use it. Set it if you use it.</p>\n\n<p>At <em>no</em> time your POM should contain <code>&lt;repositories&gt;</code> and <code>&lt;pluginRepositories&gt;</code> because this is bad practice. Ideally, your work with a repo group in Nexus mirroring (in <code>settings.xml</code>) all of your requests.</p>\n\n<p>Inherit from and be happy.</p>\n\n<p>How to handle sites:\nGenerally, each project has its own site and should be overridden in the dist mngt section. This is different to the artifacts. Whether your will host on Nexus or on a webserver like Apache is up to you. The bottom line is that every project site needs its distinct URL.</p>\n"}],"owner":{"account_id":1416429,"reputation":4267,"user_id":1342006,"accept_rate":79,"display_name":"JDC"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2044,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":33522751,"answer_count":1,"score":3,"last_activity_date":1669081476,"creation_date":1446641224,"question_id":33522364,"body_markdown":"We are currently evaluating to establish an internal company nexus repository for our java development.\r\n\r\nUnfortunately there are still some questions unanswered, but maybe you can help.\r\n\r\nA parent pom for all projects inside the company seems to be best practice. What is not clear is what this pom should contain, besides the `&lt;organization&gt;`section.\r\n\r\nIs it best practice to also specify the `&lt;distributionManagement&gt;` inside this pom? If yes, what should it contain and what should it look like if we want to reference the company nexus (`&lt;site&gt;`, `&lt;repository&gt;`, `&lt;snapshotRepository&gt;`) ?\r\n\r\nHow to handle the fact that (according to sonatype) it is best practice that each project has its own repository without the need to specify the nexus root path in each pom?\r\n\r\nShould we specify also the `&lt;repositories&gt;` and `&lt;pluginRepositories&gt;` section there (referencing our internal nexus)?\r\n\r\nAdditionally we want that basically each project can deploy it&#39;s own site, could we specify this also inside the parent pom? And if yes, what should the site plugin configuration look like?\r\n\r\nThe best would be if someone could provide a full, examplary corporate pom that can be used with an internal nexus repository.\r\n\r\nOr is it even better to put this stuff inside the `settings.xml` to not bind the project to a certain repository? But as far as I know the `&lt;distributionManagement&gt;` can&#39;t be specified inside the settings.xml? Also this will be a tedious work to update if the nexus url changes someday?\r\n\r\nI am really confused about this whole stuff, eventhough I tried to read a lot about it.\r\n\r\nThank you in advance!\r\n\r\n  \r\n\r\n\r\n----------\r\n\r\n\r\n  \r\nUPDATE/Solution\r\n---------------\r\n\r\n  \r\n  \r\nThanks to [Michael-O][1]&#39;s answer below I have the information I need.\r\n\r\n 1. `&lt;repositories&gt;` and `&lt;pluginRepositories&gt;` tag belong to the\r\n    `settings.xml`. This is the place to specify the nexus repository\r\n    for **&quot;Downloading&quot;** (optionally include credentials using `&lt;servers&gt;`\r\n 2. `&lt;distributionManagement&gt;` belongs to the corporate base pom,\r\n    referencing a basic Nexus repository for releases and snapshots. This is the place to specify the nexus repository for **&quot;Uploading&quot;** (deploying).\r\n 3. If sub-repositories (for logically grouping projects) are needed, they are specified inside the projects `pom.xml` and therefore override the ones inside the company pom. To simplify this and for keeping the basic nexus url only inside the corporate pom (beware of url changes) it might be useful/possible to specify the repositories inside `&lt;distributionManagement&gt;` in the following manner:\r\n\r\n        &lt;repository&gt;\r\n          &lt;id&gt;company-repository&lt;/id&gt;\r\n          &lt;name&gt;Internal Releases&lt;/name&gt;\r\n          &lt;url&gt;http://my.nexus.repo/releases/${subRepositoryId}-releases&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n\r\n 4. An exemplary corporate pom can be found in [this post][2]\r\n 5. To prevent configuration changes inside the pom files or settings one could use an alias for the nexus url. Though this would mean additional effort from the administrative side.\r\n 6. If a site for a project is needed no general definition inside the corporate pom can be used, it has to be declared individually for each project pom. To simplify this process the site nexus url could be stored inside a property of the corporate pom that can then be referenced inside the site distribution management of the project poms.  \r\n  \r\nThe corporate pom could contain something similar to this:\r\n\r\n      &lt;project&gt;\r\n        ....\r\n        &lt;properties&gt;\r\n          &lt;repository.group&gt;common&lt;/repository.group&gt;\r\n          &lt;repository.url.base&gt;http://my.nexus:port/nexus/content&lt;/repository.url.base&gt;\r\n          &lt;repository.url.repositories&gt;${repository.url.base}/repositories&lt;/repository.url.repositories&gt;\r\n          &lt;repository.url.sites&gt;${repository.url.base}/sites&lt;/repository.url.sites&gt;\r\n        &lt;/properties&gt;\r\n        \r\n        &lt;distributionManagement&gt;\r\n          &lt;repository&gt;\r\n            &lt;id&gt;company-repository&lt;/id&gt;\r\n            &lt;name&gt;Internal Releases&lt;/name&gt;\r\n            &lt;url&gt;${repository.url.repositories}/${repository.group}-releases&lt;/url&gt;\r\n          &lt;/repository&gt;\r\n          &lt;snapshotRepository&gt;\r\n            &lt;id&gt;company-repository&lt;/id&gt;\r\n            &lt;name&gt;Internal Snapshots&lt;/name&gt;\r\n            &lt;url&gt;${repository.url.repositories}/${repository.group}-snapshots&lt;/url&gt;\r\n          &lt;/snapshotRepository&gt;\r\n        &lt;/distributionManagement&gt;\r\n        ....\r\n      &lt;/project&gt;\r\n\r\nThe project pom similiar to this:\r\n\r\n      &lt;project&gt;\r\n        ...\r\n        &lt;properties&gt;\r\n          &lt;repository.group&gt;project-group&lt;/repository.group&gt;\r\n        &lt;/properties&gt;\r\n          \r\n        &lt;distributionManagement&gt;\r\n          &lt;site&gt;\r\n            &lt;id&gt;company-repository&lt;/id&gt;\r\n            &lt;name&gt;Internal Releases&lt;/name&gt;\r\n            &lt;url&gt;dav:${repository.url.sites}/project-site&lt;/url&gt;\r\n          &lt;/site&gt;\r\n        &lt;/distributionManagement&gt;\r\n        ...\r\n      &lt;/project&gt;\r\n  \r\n  \r\n\r\n\r\n----------\r\n\r\n\r\n**WARNING:** One might wonder why to not directly include the site part into the corporate pom. This is not possible, as you can&#39;t deploy multiple sites to the same site repository without creating a mess. Using the way above one does not need to create a repository for each project, but is able to group them logically together into larger groups or leave them in the common-releases/snapshots group/repository.\r\n  \r\n  [1]: https://stackoverflow.com/users/696632/michael-o\r\n  [2]: https://stackoverflow.com/a/33522751/1342006","title":"Nexus &amp; Maven Corporate Pom - What should it contain?","body":"<p>We are currently evaluating to establish an internal company nexus repository for our java development.</p>\n\n<p>Unfortunately there are still some questions unanswered, but maybe you can help.</p>\n\n<p>A parent pom for all projects inside the company seems to be best practice. What is not clear is what this pom should contain, besides the <code>&lt;organization&gt;</code>section.</p>\n\n<p>Is it best practice to also specify the <code>&lt;distributionManagement&gt;</code> inside this pom? If yes, what should it contain and what should it look like if we want to reference the company nexus (<code>&lt;site&gt;</code>, <code>&lt;repository&gt;</code>, <code>&lt;snapshotRepository&gt;</code>) ?</p>\n\n<p>How to handle the fact that (according to sonatype) it is best practice that each project has its own repository without the need to specify the nexus root path in each pom?</p>\n\n<p>Should we specify also the <code>&lt;repositories&gt;</code> and <code>&lt;pluginRepositories&gt;</code> section there (referencing our internal nexus)?</p>\n\n<p>Additionally we want that basically each project can deploy it's own site, could we specify this also inside the parent pom? And if yes, what should the site plugin configuration look like?</p>\n\n<p>The best would be if someone could provide a full, examplary corporate pom that can be used with an internal nexus repository.</p>\n\n<p>Or is it even better to put this stuff inside the <code>settings.xml</code> to not bind the project to a certain repository? But as far as I know the <code>&lt;distributionManagement&gt;</code> can't be specified inside the settings.xml? Also this will be a tedious work to update if the nexus url changes someday?</p>\n\n<p>I am really confused about this whole stuff, eventhough I tried to read a lot about it.</p>\n\n<p>Thank you in advance!</p>\n\n<hr>\n\n<h2>UPDATE/Solution</h2>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/users/696632/michael-o\">Michael-O</a>'s answer below I have the information I need.</p>\n\n<ol>\n<li><code>&lt;repositories&gt;</code> and <code>&lt;pluginRepositories&gt;</code> tag belong to the\n<code>settings.xml</code>. This is the place to specify the nexus repository\nfor <strong>\"Downloading\"</strong> (optionally include credentials using <code>&lt;servers&gt;</code></li>\n<li><code>&lt;distributionManagement&gt;</code> belongs to the corporate base pom,\nreferencing a basic Nexus repository for releases and snapshots. This is the place to specify the nexus repository for <strong>\"Uploading\"</strong> (deploying).</li>\n<li><p>If sub-repositories (for logically grouping projects) are needed, they are specified inside the projects <code>pom.xml</code> and therefore override the ones inside the company pom. To simplify this and for keeping the basic nexus url only inside the corporate pom (beware of url changes) it might be useful/possible to specify the repositories inside <code>&lt;distributionManagement&gt;</code> in the following manner:</p>\n\n<pre><code>&lt;repository&gt;\n  &lt;id&gt;company-repository&lt;/id&gt;\n  &lt;name&gt;Internal Releases&lt;/name&gt;\n  &lt;url&gt;http://my.nexus.repo/releases/${subRepositoryId}-releases&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre></li>\n<li><p>An exemplary corporate pom can be found in <a href=\"https://stackoverflow.com/a/33522751/1342006\">this post</a></p></li>\n<li>To prevent configuration changes inside the pom files or settings one could use an alias for the nexus url. Though this would mean additional effort from the administrative side.</li>\n<li>If a site for a project is needed no general definition inside the corporate pom can be used, it has to be declared individually for each project pom. To simplify this process the site nexus url could be stored inside a property of the corporate pom that can then be referenced inside the site distribution management of the project poms.  </li>\n</ol>\n\n<p>The corporate pom could contain something similar to this:</p>\n\n<pre><code>  &lt;project&gt;\n    ....\n    &lt;properties&gt;\n      &lt;repository.group&gt;common&lt;/repository.group&gt;\n      &lt;repository.url.base&gt;http://my.nexus:port/nexus/content&lt;/repository.url.base&gt;\n      &lt;repository.url.repositories&gt;${repository.url.base}/repositories&lt;/repository.url.repositories&gt;\n      &lt;repository.url.sites&gt;${repository.url.base}/sites&lt;/repository.url.sites&gt;\n    &lt;/properties&gt;\n\n    &lt;distributionManagement&gt;\n      &lt;repository&gt;\n        &lt;id&gt;company-repository&lt;/id&gt;\n        &lt;name&gt;Internal Releases&lt;/name&gt;\n        &lt;url&gt;${repository.url.repositories}/${repository.group}-releases&lt;/url&gt;\n      &lt;/repository&gt;\n      &lt;snapshotRepository&gt;\n        &lt;id&gt;company-repository&lt;/id&gt;\n        &lt;name&gt;Internal Snapshots&lt;/name&gt;\n        &lt;url&gt;${repository.url.repositories}/${repository.group}-snapshots&lt;/url&gt;\n      &lt;/snapshotRepository&gt;\n    &lt;/distributionManagement&gt;\n    ....\n  &lt;/project&gt;\n</code></pre>\n\n<p>The project pom similiar to this:</p>\n\n<pre><code>  &lt;project&gt;\n    ...\n    &lt;properties&gt;\n      &lt;repository.group&gt;project-group&lt;/repository.group&gt;\n    &lt;/properties&gt;\n\n    &lt;distributionManagement&gt;\n      &lt;site&gt;\n        &lt;id&gt;company-repository&lt;/id&gt;\n        &lt;name&gt;Internal Releases&lt;/name&gt;\n        &lt;url&gt;dav:${repository.url.sites}/project-site&lt;/url&gt;\n      &lt;/site&gt;\n    &lt;/distributionManagement&gt;\n    ...\n  &lt;/project&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>WARNING:</strong> One might wonder why to not directly include the site part into the corporate pom. This is not possible, as you can't deploy multiple sites to the same site repository without creating a mess. Using the way above one does not need to create a repository for each project, but is able to group them logically together into larger groups or leave them in the common-releases/snapshots group/repository.</p>\n"},{"tags":["java","network-programming"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1369770325,"post_id":16800060,"comment_id":24212924,"body_markdown":"Your coroporate network probably has no DNS for external domains, and the resolution is done via a proxy. So, no DNS for you! And you need to go through a proxy to do your HTTP stuff.","body":"Your coroporate network probably has no DNS for external domains, and the resolution is done via a proxy. So, no DNS for you! And you need to go through a proxy to do your HTTP stuff."},{"owner":{"account_id":1734919,"reputation":1179,"user_id":1587716,"accept_rate":44,"display_name":"Dan"},"score":0,"creation_date":1369771314,"post_id":16800060,"comment_id":24213366,"body_markdown":"You should really take a look at Spring and JaxB, way easier approach then the demo in that tutorial.  Google about Spring&#39;s RestTemplate and how to marshall/unmarshall with JaxB.","body":"You should really take a look at Spring and JaxB, way easier approach then the demo in that tutorial.  Google about Spring&#39;s RestTemplate and how to marshall/unmarshall with JaxB."}],"answers":[{"comments":[{"owner":{"account_id":2827642,"reputation":51,"user_id":2429932,"display_name":"SeanYang15"},"score":0,"creation_date":1369770982,"post_id":16800097,"comment_id":24213242,"body_markdown":"I got DNS request timed out when I tried nslookup. I used auto obtain in the wifi&#39;s TCP/IP setting. Not sure what DNS I should use if I need to change that.","body":"I got DNS request timed out when I tried nslookup. I used auto obtain in the wifi&#39;s TCP/IP setting. Not sure what DNS I should use if I need to change that."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1369772497,"post_id":16800097,"comment_id":24213952,"body_markdown":"@SeanYang15 see my comment to your question. Basically, you can&#39;t ping and have to go through a proxy.","body":"@SeanYang15 see my comment to your question. Basically, you can&#39;t ping and have to go through a proxy."}],"tags":[],"owner":{"account_id":974068,"reputation":47448,"user_id":995926,"accept_rate":90,"display_name":"rekire"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369769979,"creation_date":1369769979,"answer_id":16800097,"question_id":16800060,"body_markdown":"You should check the network settings of your system. You need to confirm that your have set a DNS server and a default gateway.\r\n\r\nIf in general your network configuration is correct you can try to use the command `nslookup google.com 8.8.8.8`. That will try to resolve the ip of google with one of their public dns servers.","title":"Got java.net.UnknownHostException, can&#39;t ping any website, but can browse normally","body":"<p>You should check the network settings of your system. You need to confirm that your have set a DNS server and a default gateway.</p>\n\n<p>If in general your network configuration is correct you can try to use the command <code>nslookup google.com 8.8.8.8</code>. That will try to resolve the ip of google with one of their public dns servers.</p>\n"},{"comments":[{"owner":{"account_id":2827642,"reputation":51,"user_id":2429932,"display_name":"SeanYang15"},"score":0,"creation_date":1369850281,"post_id":16800738,"comment_id":24249145,"body_markdown":"Ravi and @fge You are correct. The browser is using the proxy setting done on the company computer, and it&#39;s using a automatic configuration script. Is there a way to have the program using the scirpt as well? Since I see multiple hosts for different situations in the script and I&#39;m not sure which one I should use here.","body":"Ravi and @fge You are correct. The browser is using the proxy setting done on the company computer, and it&#39;s using a automatic configuration script. Is there a way to have the program using the scirpt as well? Since I see multiple hosts for different situations in the script and I&#39;m not sure which one I should use here."},{"owner":{"account_id":2827642,"reputation":51,"user_id":2429932,"display_name":"SeanYang15"},"score":0,"creation_date":1369850840,"post_id":16800738,"comment_id":24249450,"body_markdown":"On another note: Since the first part of the proxy script has &quot;if ((host == &quot;127.0.0.1&quot;) ||\n(host == &quot;localhost&quot;))\n{\nreturn &quot;DIRECT&quot;;&quot; I tried to ping 127.0.0.1 and I got reply. But I added System.getProperties().put(&quot;http.proxyHost&quot;, &quot;127.0.0.1&quot;); in my program and it didn&#39;t solve the problem","body":"On another note: Since the first part of the proxy script has &quot;if ((host == &quot;127.0.0.1&quot;) || (host == &quot;localhost&quot;)) { return &quot;DIRECT&quot;;&quot; I tried to ping 127.0.0.1 and I got reply. But I added System.getProperties().put(&quot;http.proxyHost&quot;, &quot;127.0.0.1&quot;); in my program and it didn&#39;t solve the problem"},{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":0,"creation_date":1369850971,"post_id":16800738,"comment_id":24249511,"body_markdown":"127.0.0.1 and localhost are loopback addresses i.e. they point back to your own machine. So, setting them as proxy host won&#39;t help. Do you see any other host or ip address configured in the script?","body":"127.0.0.1 and localhost are loopback addresses i.e. they point back to your own machine. So, setting them as proxy host won&#39;t help. Do you see any other host or ip address configured in the script?"},{"owner":{"account_id":2827642,"reputation":51,"user_id":2429932,"display_name":"SeanYang15"},"score":0,"creation_date":1369877219,"post_id":16800738,"comment_id":24259550,"body_markdown":"Okay, I found the following in my PAC file &quot;function FindProxyForURL(url, host) {\nif(!((url.substring(0,5) == &quot;http:&quot;) ||\n(url.substring(0,4) == &quot;ftp:&quot;) ||\n(url.substring(0,6) == &quot;https:&quot;)))\n{\nreturn &quot;DIRECT&quot;;&quot; which I think it means that http requests are not going through proxy. Is that correct?","body":"Okay, I found the following in my PAC file &quot;function FindProxyForURL(url, host) { if(!((url.substring(0,5) == &quot;http:&quot;) || (url.substring(0,4) == &quot;ftp:&quot;) || (url.substring(0,6) == &quot;https:&quot;))) { return &quot;DIRECT&quot;;&quot; which I think it means that http requests are not going through proxy. Is that correct?"},{"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"score":0,"creation_date":1369893424,"post_id":16800738,"comment_id":24263429,"body_markdown":"You missed the not `!` operator. `if(!(` means if the protocol being used is NOT http, ftp or https then don&#39;t use the proxy. What&#39;s in the else?","body":"You missed the not <code>!</code> operator. <code>if(!(</code> means if the protocol being used is NOT http, ftp or https then don&#39;t use the proxy. What&#39;s in the else?"}],"tags":[],"owner":{"account_id":1283501,"reputation":51335,"user_id":1237040,"display_name":"Ravi K Thapliyal"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1369772628,"creation_date":1369772275,"answer_id":16800738,"question_id":16800060,"body_markdown":"You&#39;re able to browse the net without any problems because your browser must be configured to use a proxy. We can configure the JVM to use the same proxy and then open HTTP connections successfully.\r\n\r\nOpen your web browser&#39;s Network Settings and note down your Proxy Server and Port.\r\n\r\n&gt; For Firefox go to Tools &gt; Options &gt; Advanced &gt; Network &gt; Connection &gt; Settings\r\n\r\nNow, in your Java program before you open the HTTP connection set up your JVM to use this Proxy.\r\n\r\n    System.getProperties().put(&quot;proxySet&quot;, &quot;true&quot;);\r\n    System.getProperties().put(&quot;http.proxyHost&quot;, &quot;10.1.0.11&quot;);\r\n    System.getProperties().put(&quot;http.proxyPort&quot;, &quot;8080&quot;);\r\n\r\nWith the above properties set your program should be able to open connections. If your proxy needs authentication then you&#39;d also have to setup a default `Authenticator` with a `ProxyAuth` object.\r\n\r\nIdeally you should clear these properties before your program exits.","title":"Got java.net.UnknownHostException, can&#39;t ping any website, but can browse normally","body":"<p>You're able to browse the net without any problems because your browser must be configured to use a proxy. We can configure the JVM to use the same proxy and then open HTTP connections successfully.</p>\n\n<p>Open your web browser's Network Settings and note down your Proxy Server and Port.</p>\n\n<blockquote>\n  <p>For Firefox go to Tools > Options > Advanced > Network > Connection > Settings</p>\n</blockquote>\n\n<p>Now, in your Java program before you open the HTTP connection set up your JVM to use this Proxy.</p>\n\n<pre><code>System.getProperties().put(\"proxySet\", \"true\");\nSystem.getProperties().put(\"http.proxyHost\", \"10.1.0.11\");\nSystem.getProperties().put(\"http.proxyPort\", \"8080\");\n</code></pre>\n\n<p>With the above properties set your program should be able to open connections. If your proxy needs authentication then you'd also have to setup a default <code>Authenticator</code> with a <code>ProxyAuth</code> object.</p>\n\n<p>Ideally you should clear these properties before your program exits.</p>\n"},{"tags":[],"owner":{"account_id":9024192,"reputation":1,"user_id":6724090,"display_name":"P Cherian"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517447615,"creation_date":1517447615,"answer_id":48553915,"question_id":16800060,"body_markdown":"You are most likely behind a firewall. \r\n\r\nYour firewall is preventing you to connect to internet using web scraping tools like Jsoup. Try connecting to a intranet site if you are in a corporate network.","title":"Got java.net.UnknownHostException, can&#39;t ping any website, but can browse normally","body":"<p>You are most likely behind a firewall. </p>\n\n<p>Your firewall is preventing you to connect to internet using web scraping tools like Jsoup. Try connecting to a intranet site if you are in a corporate network.</p>\n"}],"owner":{"account_id":2827642,"reputation":51,"user_id":2429932,"display_name":"SeanYang15"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3084,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1669081335,"creation_date":1369769869,"question_id":16800060,"body_markdown":"I&#39;m trying to write a program to send XML request via HTTP to a vendor server, and I used the example code from [this link][1].\r\n\r\nThen I got the error `java.net.UnknownHostException` when running the code\r\nThen I tried to ping the vendor host, and then `www.google.com`. None of them works. I got: \r\n\r\n&gt; &quot;ping request could not find host www.google.com&quot;\r\n\r\nI&#39;m using corporate network. I can browse, and download and communicate to the vendor server with their web application normally. Any idea how to fix this?\r\n\r\n  [1]: http://www.xyzws.com/Javafaq/how-to-use-httpurlconnection-post-data-to-web-server/139","title":"Got java.net.UnknownHostException, can&#39;t ping any website, but can browse normally","body":"<p>I'm trying to write a program to send XML request via HTTP to a vendor server, and I used the example code from <a href=\"http://www.xyzws.com/Javafaq/how-to-use-httpurlconnection-post-data-to-web-server/139\" rel=\"noreferrer\">this link</a>.</p>\n\n<p>Then I got the error <code>java.net.UnknownHostException</code> when running the code\nThen I tried to ping the vendor host, and then <code>www.google.com</code>. None of them works. I got: </p>\n\n<blockquote>\n  <p>\"ping request could not find host www.google.com\"</p>\n</blockquote>\n\n<p>I'm using corporate network. I can browse, and download and communicate to the vendor server with their web application normally. Any idea how to fix this?</p>\n"},{"tags":["java","spring","jpa","mariadb"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669081428,"post_id":74526598,"comment_id":131557379,"body_markdown":"`value` is a reserved word. See http://www.h2database.com/html/advanced.html#keywords","body":"<code>value</code> is a reserved word. See <a href=\"http://www.h2database.com/html/advanced.html#keywords\" rel=\"nofollow noreferrer\">h2database.com/html/advanced.html#keywords</a>"},{"owner":{"account_id":20966560,"reputation":63,"user_id":15404655,"display_name":"swz"},"score":0,"creation_date":1669081784,"post_id":74526598,"comment_id":131557432,"body_markdown":"@gdavies Thanks to answer, but when I change value=&gt;myvalue, it has same error.","body":"@gdavies Thanks to answer, but when I change value=&gt;myvalue, it has same error."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1669082133,"post_id":74526598,"comment_id":131557498,"body_markdown":"By the way, your config says you are using mariadb, but the error message says h2.","body":"By the way, your config says you are using mariadb, but the error message says h2."},{"owner":{"account_id":20966560,"reputation":63,"user_id":15404655,"display_name":"swz"},"score":0,"creation_date":1669082666,"post_id":74526598,"comment_id":131557592,"body_markdown":"@tgdavies Thanks. There is h2 dependency. I thin h2 is kind of hibernate. There is error too, but I&#39;ll try again. Thanks.","body":"@tgdavies Thanks. There is h2 dependency. I thin h2 is kind of hibernate. There is error too, but I&#39;ll try again. Thanks."},{"owner":{"account_id":20070097,"reputation":124,"user_id":14715055,"display_name":"Umut Emre &#214;nder"},"score":1,"creation_date":1669084112,"post_id":74526598,"comment_id":131557811,"body_markdown":"This error is caused by h2, not by mariaDB. If you add ```@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)``` to your Test class it will be fixed.","body":"This error is caused by h2, not by mariaDB. If you add <code>@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)</code> to your Test class it will be fixed."},{"owner":{"account_id":20966560,"reputation":63,"user_id":15404655,"display_name":"swz"},"score":0,"creation_date":1669084961,"post_id":74526598,"comment_id":131557904,"body_markdown":"Oh, I have error, and I fix it. It&#39;s solution is your answer, amazing @UmutEmre&#214;nder Emre &#214;nder","body":"Oh, I have error, and I fix it. It&#39;s solution is your answer, amazing @UmutEmre&#214;nder Emre &#214;nder"}],"owner":{"account_id":20966560,"reputation":63,"user_id":15404655,"display_name":"swz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669108139,"answer_count":0,"score":0,"last_activity_date":1669080892,"creation_date":1669080892,"question_id":74526598,"body_markdown":"When I use findAll() method, there is error.\r\n\r\n1. DB(mariadb)\r\n```sql\r\nuse database myjpa;\r\nCREATE TABLE table_name (\r\n    pk INT PRIMARY KEY,\r\n    value VARCHAR,\r\n);\r\nINSERT INTO mytable\r\nVALUES (1,&#39;hello111&#39;);\r\nINSERT INTO mytable\r\nVALUES (2,&#39;hello222&#39;);\r\n```\r\nIt is simple table. there is no error\r\n\r\n2. application.yml\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: org.mariadb.jdbc.Driver\r\n    url: &quot;jdbc:mariadb://localhost:3306/myjpa?autoReconnect=true&amp;&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC&amp;tinyInt1isBit=false&quot;\r\n    username: -\r\n    password: -\r\n    hikari:\r\n      auto-commit: false\r\n      connection-test-query: SELECT 1\r\n      minimum-idle: 10\r\n      maximum-pool-size: 20\r\n      transaction-isolation: TRANSACTION_READ_UNCOMMITTED\r\n      pool-name: pool-swtodo\r\n  jpa:\r\n    database-platform: org.hibernate.dialect.MariaDB103Dialect\r\n    properties:\r\n      hibernate:\r\n        &quot;[format_sql]&quot;: true\r\n        &quot;[hbm2ddl.auto]&quot;: update\r\n        &quot;[implicit_naming_strategy]&quot;: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\r\n        &quot;[physical_naming_strategy]&quot;: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\r\n    open-in-view: false\r\n    show-sql: true\r\n```\r\n\r\n3. Entity\r\n```java\r\n@Entity\r\n@Getter\r\n@Setter\r\n@Table(name=&quot;mytable&quot;)\r\npublic class MyTableEntity {\r\n    @Id\r\n    private int pk;\r\n    \r\n    private String value;\r\n\r\n    @Override\r\n    public String toString(){\r\n        return &quot;pk&quot;+&quot; value&quot;;\r\n    }\r\n}\r\n```\r\nEntity is easy too, but i attach it.\r\n\r\n4. repository\r\n```java\r\npublic interface MyTableRepository extends JpaRepository&lt;MyTableEntity,Long&gt;{\r\n}\r\n```\r\nRepository has no method.\r\n\r\n5. Test\r\n```java\r\n@DataJpaTest\r\nclass MyjpaApplicationTests {\r\n\r\n\t@Autowired\r\n\tMyTableRepository myTableRepository;\r\n\r\n\t@Test\r\n\t@Rollback(true)\r\n\tvoid contextLoads() {\r\n\t\tList&lt;MyTableEntity&gt; allTable = myTableRepository.findAll();\r\n\r\n\t\tfor (MyTableEntity myTableEntity : allTable) {\r\n\t\t\tSystem.out.println(myTableEntity);\r\n\t\t}\r\n\t}\r\n}\r\n```\r\nTest Code is just printing mytable&#39;s all data.\r\nBut there is error in myTableRepository.findAll().\r\n\r\n6. Error Msg\r\n```\r\nCaused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;select mytableent0_.pk as pk1_0_, mytableent0_.[*]value as value2_0_ from mytable mytableent0_&quot;; expected &quot;identifier&quot;; SQL statement:\r\nselect mytableent0_.pk as pk1_0_, mytableent0_.value as value2_0_ from mytable mytableent0_ [42001-214]\r\n```\r\n\r\nI cant find reason. Why there is error?","title":"In spring jpa, there is error in findAll() method","body":"<p>When I use findAll() method, there is error.</p>\n<ol>\n<li>DB(mariadb)</li>\n</ol>\n<pre class=\"lang-sql prettyprint-override\"><code>use database myjpa;\nCREATE TABLE table_name (\n    pk INT PRIMARY KEY,\n    value VARCHAR,\n);\nINSERT INTO mytable\nVALUES (1,'hello111');\nINSERT INTO mytable\nVALUES (2,'hello222');\n</code></pre>\n<p>It is simple table. there is no error</p>\n<ol start=\"2\">\n<li>application.yml</li>\n</ol>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.mariadb.jdbc.Driver\n    url: &quot;jdbc:mariadb://localhost:3306/myjpa?autoReconnect=true&amp;&amp;useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC&amp;tinyInt1isBit=false&quot;\n    username: -\n    password: -\n    hikari:\n      auto-commit: false\n      connection-test-query: SELECT 1\n      minimum-idle: 10\n      maximum-pool-size: 20\n      transaction-isolation: TRANSACTION_READ_UNCOMMITTED\n      pool-name: pool-swtodo\n  jpa:\n    database-platform: org.hibernate.dialect.MariaDB103Dialect\n    properties:\n      hibernate:\n        &quot;[format_sql]&quot;: true\n        &quot;[hbm2ddl.auto]&quot;: update\n        &quot;[implicit_naming_strategy]&quot;: org.springframework.boot.orm.jpa.hibernate.SpringImplicitNamingStrategy\n        &quot;[physical_naming_strategy]&quot;: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\n    open-in-view: false\n    show-sql: true\n</code></pre>\n<ol start=\"3\">\n<li>Entity</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Getter\n@Setter\n@Table(name=&quot;mytable&quot;)\npublic class MyTableEntity {\n    @Id\n    private int pk;\n    \n    private String value;\n\n    @Override\n    public String toString(){\n        return &quot;pk&quot;+&quot; value&quot;;\n    }\n}\n</code></pre>\n<p>Entity is easy too, but i attach it.</p>\n<ol start=\"4\">\n<li>repository</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyTableRepository extends JpaRepository&lt;MyTableEntity,Long&gt;{\n}\n</code></pre>\n<p>Repository has no method.</p>\n<ol start=\"5\">\n<li>Test</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@DataJpaTest\nclass MyjpaApplicationTests {\n\n    @Autowired\n    MyTableRepository myTableRepository;\n\n    @Test\n    @Rollback(true)\n    void contextLoads() {\n        List&lt;MyTableEntity&gt; allTable = myTableRepository.findAll();\n\n        for (MyTableEntity myTableEntity : allTable) {\n            System.out.println(myTableEntity);\n        }\n    }\n}\n</code></pre>\n<p>Test Code is just printing mytable's all data.\nBut there is error in myTableRepository.findAll().</p>\n<ol start=\"6\">\n<li>Error Msg</li>\n</ol>\n<pre><code>Caused by: org.h2.jdbc.JdbcSQLSyntaxErrorException: Syntax error in SQL statement &quot;select mytableent0_.pk as pk1_0_, mytableent0_.[*]value as value2_0_ from mytable mytableent0_&quot;; expected &quot;identifier&quot;; SQL statement:\nselect mytableent0_.pk as pk1_0_, mytableent0_.value as value2_0_ from mytable mytableent0_ [42001-214]\n</code></pre>\n<p>I cant find reason. Why there is error?</p>\n"},{"tags":["java","recursion","quicksort","partition"],"comments":[{"owner":{"account_id":7230627,"reputation":1424,"user_id":5517612,"display_name":"Todd Sewell"},"score":1,"creation_date":1487145484,"post_id":42243597,"comment_id":71645584,"body_markdown":"Have you tried going though it with a debugger to see what&#39;s wrong?","body":"Have you tried going though it with a debugger to see what&#39;s wrong?"}],"answers":[{"tags":[],"owner":{"account_id":1890132,"reputation":6513,"user_id":1794706,"display_name":"anacron"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1487145812,"creation_date":1487145812,"answer_id":42243716,"question_id":42243597,"body_markdown":"In your `partition` method you have assigned `j` to `hi - 1`. It should be set to `hi` only.\r\n\r\n    static int partition(int[] a, int low , int hi)\r\n    {\r\n        int pivot = hi;\r\n        int i =low;\r\n    //  int j = hi-1; // CHANGE THIS TO \r\n        int j = hi; // THIS \r\n        while(i&lt;j)\r\n\r\n---\r\n\r\nI got this output after I made that change:\r\n\r\n    [0, 1, 2, 3, 3, 3, 4, 4, 5, 5, 7, 7, 8, 9, 12, 88, 99]\r\n\r\n---\r\n\r\nHope this helps!","title":"Recursive Quick Sort in java","body":"<p>In your <code>partition</code> method you have assigned <code>j</code> to <code>hi - 1</code>. It should be set to <code>hi</code> only.</p>\n\n<pre><code>static int partition(int[] a, int low , int hi)\n{\n    int pivot = hi;\n    int i =low;\n//  int j = hi-1; // CHANGE THIS TO \n    int j = hi; // THIS \n    while(i&lt;j)\n</code></pre>\n\n<hr>\n\n<p>I got this output after I made that change:</p>\n\n<pre><code>[0, 1, 2, 3, 3, 3, 4, 4, 5, 5, 7, 7, 8, 9, 12, 88, 99]\n</code></pre>\n\n<hr>\n\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":4392529,"reputation":376,"user_id":3580481,"accept_rate":80,"display_name":"codeCruncher"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487146309,"creation_date":1487146309,"answer_id":42243854,"question_id":42243597,"body_markdown":"This is a very good implementation and is much more `Java` standard. Maybe you want to take a look here, obviously all credits go to the original author. \r\n\r\nhttp://www.vogella.com/tutorials/JavaAlgorithmsQuicksort/article.html","title":"Recursive Quick Sort in java","body":"<p>This is a very good implementation and is much more <code>Java</code> standard. Maybe you want to take a look here, obviously all credits go to the original author. </p>\n\n<p><a href=\"http://www.vogella.com/tutorials/JavaAlgorithmsQuicksort/article.html\" rel=\"nofollow noreferrer\">http://www.vogella.com/tutorials/JavaAlgorithmsQuicksort/article.html</a></p>\n"},{"tags":[],"owner":{"account_id":11582687,"reputation":125,"user_id":8486036,"display_name":"Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570765365,"creation_date":1570741456,"answer_id":58331068,"question_id":42243597,"body_markdown":"This is C# code:\r\n\r\n     public void RecursiveQuickSort(int[] array, int start, int end)\r\n        {\r\n            if (start &lt; end)\r\n            {\r\n                int pivot = start;\r\n                int left = start + 1;\r\n                int right = end;\r\n\r\n                while (true)\r\n                {\r\n                    while (array[left] &lt;= array[pivot] &amp;&amp; left &lt; right)\r\n                        left++;\r\n                    while (array[right] &gt; array[pivot] &amp;&amp; left &lt; right)\r\n                        right--;\r\n                    if (left &lt; right)\r\n                    {\r\n                        Swap(array, left, right);\r\n                    }\r\n                    else\r\n                    {\r\n                        pivot = (array[pivot] &gt; array[left]) ? left : left - 1;\r\n                        Swap(array, start, pivot);\r\n                        RecursiveQuickSort(array, start, pivot - 1);\r\n                        RecursiveQuickSort(array, pivot + 1, end);\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        private void Swap(int[] array, int index1, int index2)\r\n        {\r\n            int temp = array[index1];\r\n            array[index1] = array[index2];\r\n            array[index2] = temp;\r\n        }","title":"Recursive Quick Sort in java","body":"<p>This is C# code:</p>\n\n<pre><code> public void RecursiveQuickSort(int[] array, int start, int end)\n    {\n        if (start &lt; end)\n        {\n            int pivot = start;\n            int left = start + 1;\n            int right = end;\n\n            while (true)\n            {\n                while (array[left] &lt;= array[pivot] &amp;&amp; left &lt; right)\n                    left++;\n                while (array[right] &gt; array[pivot] &amp;&amp; left &lt; right)\n                    right--;\n                if (left &lt; right)\n                {\n                    Swap(array, left, right);\n                }\n                else\n                {\n                    pivot = (array[pivot] &gt; array[left]) ? left : left - 1;\n                    Swap(array, start, pivot);\n                    RecursiveQuickSort(array, start, pivot - 1);\n                    RecursiveQuickSort(array, pivot + 1, end);\n                    return;\n                }\n            }\n        }\n    }\n\n    private void Swap(int[] array, int index1, int index2)\n    {\n        int temp = array[index1];\n        array[index1] = array[index2];\n        array[index2] = temp;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14904626,"reputation":23,"user_id":14479029,"display_name":"Juan David Salas Camargo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669080814,"creation_date":1669080814,"answer_id":74526589,"question_id":42243597,"body_markdown":"this is how I made it C:\r\n\r\n    private static List&lt;Integer&gt; recursive_quick_sort (List&lt;Integer&gt; list){\r\n        if (list.size()&lt; 2){\r\n            return list;\r\n        }else {\r\n            int pivot = list.get(0);\r\n            List&lt;Integer&gt; less  = list.stream().filter(element -&gt; element  &lt; pivot ).collect(Collectors.toList());\r\n            List &lt;Integer&gt; greater  = list.stream().filter(element -&gt; element  &gt; pivot ).collect(Collectors.toList());\r\n            List&lt;Integer&gt; newList = Stream.of(recursive_quick_sort(less),List.of(pivot),recursive_quick_sort(greater))\r\n                            .flatMap(Collection::stream)\r\n                            .collect(Collectors.toList());\r\n        return newList;\r\n        }\r\n    }","title":"Recursive Quick Sort in java","body":"<p>this is how I made it C:</p>\n<pre><code>private static List&lt;Integer&gt; recursive_quick_sort (List&lt;Integer&gt; list){\n    if (list.size()&lt; 2){\n        return list;\n    }else {\n        int pivot = list.get(0);\n        List&lt;Integer&gt; less  = list.stream().filter(element -&gt; element  &lt; pivot ).collect(Collectors.toList());\n        List &lt;Integer&gt; greater  = list.stream().filter(element -&gt; element  &gt; pivot ).collect(Collectors.toList());\n        List&lt;Integer&gt; newList = Stream.of(recursive_quick_sort(less),List.of(pivot),recursive_quick_sort(greater))\n                        .flatMap(Collection::stream)\n                        .collect(Collectors.toList());\n    return newList;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10253980,"reputation":21,"user_id":7567314,"display_name":"CodeJunkie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10385,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1669080814,"creation_date":1487145420,"question_id":42243597,"body_markdown":"This is my quicksort Code. It gives me a wrong answer but i think my partition function is correct. \r\n\r\n    public class Quick_Sort {\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\r\n\t\tint a[] = {99,88,5,4,3,2,1,0,12,3,7,9,8,3,4,5,7};\r\n\t\t\tquicksort(a, 0, a.length-1);\r\n\t}\r\n\t\r\n\tstatic int partition(int[] a, int low , int hi)\r\n\t{\r\n\t\tint pivot = hi;\r\n\t\tint i =low;\r\n\t\tint j = hi-1;\r\n\t\twhile(i&lt;j)\r\n\t\t{\r\n\t\t\tif(a[i]&lt;=a[pivot])\r\n\t\t\t{\r\n\t\t\t\ti++;\r\n\t\t\t}\r\n\t\t\tif(a[i]&gt;a[pivot])\r\n\t\t\t{\t\r\n\t\t\tif((a[i]&gt;a[pivot]) &amp;&amp; (a[j]&lt;=a[pivot]))\r\n\t\t\t{\r\n\t\t\t\tint temp= a[i];\r\n\t\t\t\ta[i]=a[j];\r\n\t\t\t\ta[j]=temp;\r\n\t\t\t\ti++;\t\r\n\t\t\t}\r\n\t\t\tif(a[j]&gt;a[pivot])\r\n\t\t\t{\r\n\t\t\t\tj--;\r\n\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tint temp= a[i];\r\n\t\ta[i]=a[pivot];\r\n\t\ta[pivot]=temp;\r\n\t\treturn i;\r\n\t}\r\n\tstatic void quicksort(int[] a, int low, int hi)\r\n\t{\r\n\t\tif(low&gt;=hi)\r\n\t\t{\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tint split = partition(a, low, hi);\r\n\t\tquicksort(a, low, split-1);\r\n\t\tquicksort(a, split+1, hi);\r\n\t}\r\n    }\r\n\r\nThis is the final output:\r\n\r\n1 0 3 2 3 4 4 5 5 7 3 7 8 9 12 88 99 \r\n\r\nTried dry running it, couldn&#39;t see the error","title":"Recursive Quick Sort in java","body":"<p>This is my quicksort Code. It gives me a wrong answer but i think my partition function is correct. </p>\n\n<pre><code>public class Quick_Sort {\n\npublic static void main(String[] args) \n{\n\n    int a[] = {99,88,5,4,3,2,1,0,12,3,7,9,8,3,4,5,7};\n        quicksort(a, 0, a.length-1);\n}\n\nstatic int partition(int[] a, int low , int hi)\n{\n    int pivot = hi;\n    int i =low;\n    int j = hi-1;\n    while(i&lt;j)\n    {\n        if(a[i]&lt;=a[pivot])\n        {\n            i++;\n        }\n        if(a[i]&gt;a[pivot])\n        {   \n        if((a[i]&gt;a[pivot]) &amp;&amp; (a[j]&lt;=a[pivot]))\n        {\n            int temp= a[i];\n            a[i]=a[j];\n            a[j]=temp;\n            i++;    \n        }\n        if(a[j]&gt;a[pivot])\n        {\n            j--;\n        }\n        }\n    }\n    int temp= a[i];\n    a[i]=a[pivot];\n    a[pivot]=temp;\n    return i;\n}\nstatic void quicksort(int[] a, int low, int hi)\n{\n    if(low&gt;=hi)\n    {\n        return;\n    }\n    int split = partition(a, low, hi);\n    quicksort(a, low, split-1);\n    quicksort(a, split+1, hi);\n}\n}\n</code></pre>\n\n<p>This is the final output:</p>\n\n<p>1 0 3 2 3 4 4 5 5 7 3 7 8 9 12 88 99 </p>\n\n<p>Tried dry running it, couldn't see the error</p>\n"},{"tags":["java","android","android-studio","mobile","android-recyclerview"],"answers":[{"comments":[{"owner":{"account_id":26701726,"reputation":3,"user_id":20308672,"display_name":"ThalesCaruso"},"score":0,"creation_date":1669080131,"post_id":74526481,"comment_id":131557170,"body_markdown":"I&#39;m using Java, isn&#39;t kapt just for Kotlin?","body":"I&#39;m using Java, isn&#39;t kapt just for Kotlin?"},{"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"score":0,"creation_date":1669080662,"post_id":74526481,"comment_id":131557256,"body_markdown":"Yeah, you&#39;ll want to use `annotationProcessor` if you are in a Java project. I&#39;ve corrected the answer.","body":"Yeah, you&#39;ll want to use <code>annotationProcessor</code> if you are in a Java project. I&#39;ve corrected the answer."}],"tags":[],"owner":{"account_id":1849514,"reputation":193878,"user_id":1676363,"accept_rate":100,"display_name":"ianhanniballake"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669080645,"creation_date":1669079524,"answer_id":74526481,"question_id":74526316,"body_markdown":"You&#39;re using\r\n\r\n    implementation &#39;androidx.room:room-compiler:2.5.0-beta02&#39;\r\n\r\nAs per the [Room Declaring Dependencies guide][1], you need to be using `annotationProcessor` for Java projects, not `implementation`:\r\n\r\n    annotationProcessor &#39;androidx.room:room-compiler:2.5.0-beta02&#39;\r\n\r\n\r\n  [1]: https://developer.android.com/jetpack/androidx/releases/room#declaring_dependencies","title":"AndroidRuntime: FATAL EXCEPTION: main Caused by: java.lang.RuntimeException","body":"<p>You're using</p>\n<pre><code>implementation 'androidx.room:room-compiler:2.5.0-beta02'\n</code></pre>\n<p>As per the <a href=\"https://developer.android.com/jetpack/androidx/releases/room#declaring_dependencies\" rel=\"nofollow noreferrer\">Room Declaring Dependencies guide</a>, you need to be using <code>annotationProcessor</code> for Java projects, not <code>implementation</code>:</p>\n<pre><code>annotationProcessor 'androidx.room:room-compiler:2.5.0-beta02'\n</code></pre>\n"}],"owner":{"account_id":26701726,"reputation":3,"user_id":20308672,"display_name":"ThalesCaruso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74526481,"answer_count":1,"score":0,"last_activity_date":1669080645,"creation_date":1669077707,"question_id":74526316,"body_markdown":"```\r\nLots of errors and I can&#39;t find the solution, it&#39;s a college project for mobile apps\r\n```\r\nhttps://github.com/ThalesCaruso/Lista-de-Mercado\r\n\r\n[enter image description here](https://i.stack.imgur.com/Gwcap.png)\r\n[enter image description here](https://i.stack.imgur.com/hEFik.png)\r\n\r\nWatched a lot of youtube tutorials but didnt work","title":"AndroidRuntime: FATAL EXCEPTION: main Caused by: java.lang.RuntimeException","body":"<pre><code>Lots of errors and I can't find the solution, it's a college project for mobile apps\n</code></pre>\n<p><a href=\"https://github.com/ThalesCaruso/Lista-de-Mercado\" rel=\"nofollow noreferrer\">https://github.com/ThalesCaruso/Lista-de-Mercado</a></p>\n<p><a href=\"https://i.stack.imgur.com/Gwcap.png\" rel=\"nofollow noreferrer\">enter image description here</a>\n<a href=\"https://i.stack.imgur.com/hEFik.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Watched a lot of youtube tutorials but didnt work</p>\n"},{"tags":["java","multithreading","concurrency"],"answers":[{"comments":[{"owner":{"account_id":229760,"reputation":3177,"user_id":492936,"accept_rate":88,"display_name":"kms333"},"score":0,"creation_date":1669105470,"post_id":74526485,"comment_id":131561966,"body_markdown":"note that `accountDeletionTaskExecutor` has a queue capacity of 50 so I don&#39;t think we are queueing 1000s of jobs. I&#39;ve tried to replace `join` with `sleep` but the result is the same, 60 records got processed, then it just hangs","body":"note that <code>accountDeletionTaskExecutor</code> has a queue capacity of 50 so I don&#39;t think we are queueing 1000s of jobs. I&#39;ve tried to replace <code>join</code> with <code>sleep</code> but the result is the same, 60 records got processed, then it just hangs"},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1669112784,"post_id":74526485,"comment_id":131564552,"body_markdown":"oh, right, I did not notice the queue size. So, the observed behavior is weird. I will probably delete the answer, or I might modify it if we manage to find a solution by troubleshooting.  So, what happens if you alter the length of the existing `Sleep` in your code?","body":"oh, right, I did not notice the queue size. So, the observed behavior is weird. I will probably delete the answer, or I might modify it if we manage to find a solution by troubleshooting.  So, what happens if you alter the length of the existing <code>Sleep</code> in your code?"},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1669112940,"post_id":74526485,"comment_id":131564604,"body_markdown":"Also: I do not remember the exact behavior of threadpoolexecutor but it is possible that any exception thrown by your tasks gets swallowed, which means that any failure in your tasks is a silent failure. So, can you please rearrange your code so that no exception is ever propagated to the threadpoolexecutor?  (Wrap everything in try..catch, and print the stack trace of any exception thrown. Do this for both anonymous task classes)","body":"Also: I do not remember the exact behavior of threadpoolexecutor but it is possible that any exception thrown by your tasks gets swallowed, which means that any failure in your tasks is a silent failure. So, can you please rearrange your code so that no exception is ever propagated to the threadpoolexecutor?  (Wrap everything in try..catch, and print the stack trace of any exception thrown. Do this for both anonymous task classes)"},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1669118555,"post_id":74526485,"comment_id":131566558,"body_markdown":"I am saying this because even though it might be reasonable to expect that once the queue becomes full, the enqueuing operation will block waiting for the queue to become non-full, rumor has it that what happens instead is that any attempts to queue new tasks once the queue is full are rejected. In java, &quot;rejected&quot; usually means that an exception is thrown, and the way your code is written you would not know.","body":"I am saying this because even though it might be reasonable to expect that once the queue becomes full, the enqueuing operation will block waiting for the queue to become non-full, rumor has it that what happens instead is that any attempts to queue new tasks once the queue is full are rejected. In java, &quot;rejected&quot; usually means that an exception is thrown, and the way your code is written you would not know."},{"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"score":0,"creation_date":1669194113,"post_id":74526485,"comment_id":131586674,"body_markdown":"Hello kms333, are you still there or did we lose you?","body":"Hello kms333, are you still there or did we lose you?"}],"tags":[],"owner":{"account_id":404649,"reputation":57192,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669079567,"creation_date":1669079567,"answer_id":74526485,"question_id":74522533,"body_markdown":"If that comment &quot;return 1000s integers&quot; means that you have thousands of ids, then the code you have written will queue thousands of tasks to the threadpool and then proceed to `Thread.currentThread().join()` which does absolutely nothing, because joining the current thread to itself is meaningless: you can only join different threads. \r\n\r\nThen, I presume you exit the application, and the default behavior is probably to terminate all threadpools on application exit. (I am not sure about that, I am speculating.) \r\n\r\nThe 60 tasks that you observe getting started probably manage to start while the remaining thousands of tasks are being queued.\r\n\r\nTo verify that this is what is happening, you can try replacing that call to `join()` with a `Thread.sleep( 1000 )` and see if you observe more tasks being started.\r\n\r\nIf that is the case, then one approach to solve your problem might be to add proper graceful threadpool shut-down (of the kind that waits for all queued tasks to complete first.)\r\n","title":"ThreadPoolTaskExecutor blocks feeder thread forever","body":"<p>If that comment &quot;return 1000s integers&quot; means that you have thousands of ids, then the code you have written will queue thousands of tasks to the threadpool and then proceed to <code>Thread.currentThread().join()</code> which does absolutely nothing, because joining the current thread to itself is meaningless: you can only join different threads.</p>\n<p>Then, I presume you exit the application, and the default behavior is probably to terminate all threadpools on application exit. (I am not sure about that, I am speculating.)</p>\n<p>The 60 tasks that you observe getting started probably manage to start while the remaining thousands of tasks are being queued.</p>\n<p>To verify that this is what is happening, you can try replacing that call to <code>join()</code> with a <code>Thread.sleep( 1000 )</code> and see if you observe more tasks being started.</p>\n<p>If that is the case, then one approach to solve your problem might be to add proper graceful threadpool shut-down (of the kind that waits for all queued tasks to complete first.)</p>\n"}],"owner":{"account_id":229760,"reputation":3177,"user_id":492936,"accept_rate":88,"display_name":"kms333"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669079567,"creation_date":1669050585,"question_id":74522533,"body_markdown":"I&#39;m trying to have a single thread loading records (say from a database). This thread feeds records into a thread pool that processes these individual tasks.\r\n\r\nI was expecting this code to work, but it prints number until 60 and then stops.\r\n\r\n\r\n    ThreadPoolTaskExecutor accountLoaderTaskExecutor = new ThreadPoolTaskExecutor();\r\n    accountLoaderTaskExecutor.setCorePoolSize(1);\r\n    accountLoaderTaskExecutor.setMaxPoolSize(1);\r\n    accountLoaderTaskExecutor.initialize();\r\n\r\n    ThreadPoolTaskExecutor accountDeletionTaskExecutor = new ThreadPoolTaskExecutor();\r\n    accountDeletionTaskExecutor.setCorePoolSize(10);\r\n    accountDeletionTaskExecutor.setMaxPoolSize(10);\r\n    accountDeletionTaskExecutor.setQueueCapacity(50);\r\n    accountDeletionTaskExecutor.initialize();\r\n\r\n    accountLoaderTaskExecutor.submit(() -&gt; {\r\n        List&lt;Integer&gt; customerAccountIds = getCustomerAccountIds();  // return 1000s integers\r\n        customerAccountIds.forEach(id -&gt; {\r\n            accountDeletionTaskExecutor.submit(() -&gt; {\r\n                try {\r\n                    System.out.println(id);\r\n                    Thread.sleep(500);\r\n                } catch (InterruptedException e) {\r\n                    throw new RuntimeException(e);\r\n                }\r\n            });\r\n        });\r\n    });\r\n\r\n    Thread.currentThread().join();\r\n\r\nI was expecting the `accountLoaderTaskExecutor` thread to block on `accountDeletionTaskExecutor.submit` but then continue as records are being processed until it exhausts all customerAccountIds. \r\n\r\n\r\n","title":"ThreadPoolTaskExecutor blocks feeder thread forever","body":"<p>I'm trying to have a single thread loading records (say from a database). This thread feeds records into a thread pool that processes these individual tasks.</p>\n<p>I was expecting this code to work, but it prints number until 60 and then stops.</p>\n<pre><code>ThreadPoolTaskExecutor accountLoaderTaskExecutor = new ThreadPoolTaskExecutor();\naccountLoaderTaskExecutor.setCorePoolSize(1);\naccountLoaderTaskExecutor.setMaxPoolSize(1);\naccountLoaderTaskExecutor.initialize();\n\nThreadPoolTaskExecutor accountDeletionTaskExecutor = new ThreadPoolTaskExecutor();\naccountDeletionTaskExecutor.setCorePoolSize(10);\naccountDeletionTaskExecutor.setMaxPoolSize(10);\naccountDeletionTaskExecutor.setQueueCapacity(50);\naccountDeletionTaskExecutor.initialize();\n\naccountLoaderTaskExecutor.submit(() -&gt; {\n    List&lt;Integer&gt; customerAccountIds = getCustomerAccountIds();  // return 1000s integers\n    customerAccountIds.forEach(id -&gt; {\n        accountDeletionTaskExecutor.submit(() -&gt; {\n            try {\n                System.out.println(id);\n                Thread.sleep(500);\n            } catch (InterruptedException e) {\n                throw new RuntimeException(e);\n            }\n        });\n    });\n});\n\nThread.currentThread().join();\n</code></pre>\n<p>I was expecting the <code>accountLoaderTaskExecutor</code> thread to block on <code>accountDeletionTaskExecutor.submit</code> but then continue as records are being processed until it exhausts all customerAccountIds.</p>\n"},{"tags":["javascript","java","arrays","google-apps-script","google-sheets"],"answers":[{"comments":[{"owner":{"account_id":26590804,"reputation":37,"user_id":20214066,"display_name":"Shironeki"},"score":0,"creation_date":1669116023,"post_id":74526446,"comment_id":131565698,"body_markdown":"Hi Tanaike, Thank you for your reply ! You&#39;re script works ! Effectively, i can&#39;t use API but i  have asked my IT support to have permission. I wait  a reply about that but i&#39;m not sure i will can use this...\nThank you for have take care about this incovenient in your script.","body":"Hi Tanaike, Thank you for your reply ! You&#39;re script works ! Effectively, i can&#39;t use API but i  have asked my IT support to have permission. I wait  a reply about that but i&#39;m not sure i will can use this... Thank you for have take care about this incovenient in your script."},{"owner":{"account_id":9571025,"reputation":187024,"user_id":7108653,"display_name":"Tanaike"},"score":0,"creation_date":1669117802,"post_id":74526446,"comment_id":131566304,"body_markdown":"@Shironeki Thank you for replying. I&#39;m glad your issue was resolved. Thank you, too. And, I understood your situation. When you can use Drive API, I think that you can test my answer to your previous question. [Ref](https://stackoverflow.com/a/74369154)","body":"@Shironeki Thank you for replying. I&#39;m glad your issue was resolved. Thank you, too. And, I understood your situation. When you can use Drive API, I think that you can test my answer to your previous question. <a href=\"https://stackoverflow.com/a/74369154\">Ref</a>"}],"tags":[],"owner":{"account_id":9571025,"reputation":187024,"user_id":7108653,"display_name":"Tanaike"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669079007,"creation_date":1669079007,"answer_id":74526446,"question_id":74518062,"body_markdown":"I believe your goal is as follows.\r\n\r\n- You want to reduce the process cost of your 1st script in your question.\r\n\r\nWhen `appendRow` and `deleteRow` are used in the loop, the process cost will become high. [Ref (Author: me)](https://gist.github.com/tanaikech/d102c9600ba12a162c667287d2f20fe4) In this case, how about the following flow?\r\n\r\n1. Retrieve values from the source sheet.\r\n2. Filtering the values with the 1st column.\r\n3. Overwriting the source sheet with the filtered values.\r\n4. Put the filtered values in the destination sheet.\r\n\r\nWhen this flow is reflected in your script, how about the following modification?\r\n\r\n### Modified script:\r\n```javascript\r\nfunction moveRows() {\r\n  var ss = SpreadsheetApp.getActive();\r\n  var srcSheet = ss.getSheetByName(&#39;Source sheet&#39;);\r\n  var dstSheet = ss.getSheetByName(&#39;Target&#39;);\r\n  var srcRange = srcSheet.getDataRange();\r\n  var values = srcRange.getValues();\r\n  var { src, dst } = values.reduce((o, r) =&gt; {\r\n    o[r[0] == &quot;OK&quot; ? &quot;dst&quot; : &quot;src&quot;].push(r);\r\n    return o;\r\n  }, { src: [], dst: [[new Date(), ...Array(values[0].length - 1).fill(null)]] });\r\n  if (dst.length == 0) return;\r\n  srcRange.clearContent().offset(0, 0, src.length, src[0].length).setValues(src);\r\n  dstSheet.getRange(dstSheet.getLastRow() + 1, 1, dst.length, dst[0].length).setValues(dst);\r\n}\r\n```\r\n\r\n- When this script is run, the same result as your 1st script is obtained by reducing the process cost.\r\n\r\n\r\n### Note:\r\n- When Sheets API is used, the process cost for moving rows can be reduced. But, from your previous question, I&#39;m worried that you might not be able to use Sheets API. [Ref](https://stackoverflow.com/a/74369154/7108653) So, I proposed the above script without using Sheets API.\r\n\r\n### Reference:\r\n- [reduce()](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce)\r\n","title":"How to speed up moveRows script","body":"<p>I believe your goal is as follows.</p>\n<ul>\n<li>You want to reduce the process cost of your 1st script in your question.</li>\n</ul>\n<p>When <code>appendRow</code> and <code>deleteRow</code> are used in the loop, the process cost will become high. <a href=\"https://gist.github.com/tanaikech/d102c9600ba12a162c667287d2f20fe4\" rel=\"nofollow noreferrer\">Ref (Author: me)</a> In this case, how about the following flow?</p>\n<ol>\n<li>Retrieve values from the source sheet.</li>\n<li>Filtering the values with the 1st column.</li>\n<li>Overwriting the source sheet with the filtered values.</li>\n<li>Put the filtered values in the destination sheet.</li>\n</ol>\n<p>When this flow is reflected in your script, how about the following modification?</p>\n<h3>Modified script:</h3>\n<pre class=\"lang-js prettyprint-override\"><code>function moveRows() {\n  var ss = SpreadsheetApp.getActive();\n  var srcSheet = ss.getSheetByName('Source sheet');\n  var dstSheet = ss.getSheetByName('Target');\n  var srcRange = srcSheet.getDataRange();\n  var values = srcRange.getValues();\n  var { src, dst } = values.reduce((o, r) =&gt; {\n    o[r[0] == &quot;OK&quot; ? &quot;dst&quot; : &quot;src&quot;].push(r);\n    return o;\n  }, { src: [], dst: [[new Date(), ...Array(values[0].length - 1).fill(null)]] });\n  if (dst.length == 0) return;\n  srcRange.clearContent().offset(0, 0, src.length, src[0].length).setValues(src);\n  dstSheet.getRange(dstSheet.getLastRow() + 1, 1, dst.length, dst[0].length).setValues(dst);\n}\n</code></pre>\n<ul>\n<li>When this script is run, the same result as your 1st script is obtained by reducing the process cost.</li>\n</ul>\n<h3>Note:</h3>\n<ul>\n<li>When Sheets API is used, the process cost for moving rows can be reduced. But, from your previous question, I'm worried that you might not be able to use Sheets API. <a href=\"https://stackoverflow.com/a/74369154/7108653\">Ref</a> So, I proposed the above script without using Sheets API.</li>\n</ul>\n<h3>Reference:</h3>\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\">reduce()</a></li>\n</ul>\n"}],"owner":{"account_id":26590804,"reputation":37,"user_id":20214066,"display_name":"Shironeki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74526446,"answer_count":1,"score":1,"last_activity_date":1669079007,"creation_date":1669029340,"question_id":74518062,"body_markdown":"I use a script how move rows in other sheet and delete them if condition match. It works but sometimes it&#39;s long. How can i speed up this please ?\r\n\r\n```\r\nfunction moveRows(){\r\n  var ss=SpreadsheetApp.getActive();\r\n  var sh0=ss.getSheetByName(&#39;Source sheet&#39;);\r\n  var sheet = SpreadsheetApp.getActive().getSheetByName(&#39;Target&#39;);\r\n  var lastRow = sheet.getLastRow() + 1;\r\n  var rg0=sh0.getDataRange();\r\n  var sh1=ss.getSheetByName(&#39;Target&#39;);\r\n  var vals=rg0.getValues();\r\n  sheet.getRange(lastRow, 1).setValue(new Date())\r\n  for(var i=vals.length-1;i&gt;0;i--)\r\n  {\r\n    if(vals[i][0]==&#39;OK&#39;)\r\n    {\r\n      sh1.appendRow(vals[i]);\r\n      sh0.deleteRow(i+1)\r\n    }\r\n  }\r\n} \r\n```\r\n\r\nI try this but it&#39;s not working. I think i can&#39;t combine sh1.getRange(sh1.getLastRow()+1, 1,vals.lenght , vals\\[0\\].length).setValues(result) with sh0.deleteRows(i+1) or the problem is for (var i=vals.lenght-1;i\\&gt;0;i--) ??\r\n\r\n```\r\nfunction moveRows(){\r\n  var ss=SpreadsheetApp.getActive();\r\n  var sh0=ss.getSheetByName(&#39;Source sheet&#39;);\r\n  var sheet = SpreadsheetApp.getActive().getSheetByName(&#39;Target&#39;);\r\n  var lastRow = sheet.getLastRow() + 1;\r\n  var rg0=sh0.getDataRange();\r\n  var sh1=ss.getSheetByName(&#39;Target&#39;);\r\n  var vals=rg0.getValues();\r\n  var v = []\r\n  sheet.getRange(lastRow, 1).setValue(new Date())\r\n  for(var i=vals.length-1;i&gt;0;i--)\r\n  {\r\n    if(vals[i][0]==&#39;OK&#39;){\r\n      v.push(vals[i])\r\n\r\n    }\r\n    {\r\n      sh1.getRange(sh1.getLastRow()+1, 1, v.length; v[0].length).setValues(v)\r\n      sh0.deleteRow(i+1)\r\n    }\r\n  }\r\n} \r\n```","title":"How to speed up moveRows script","body":"<p>I use a script how move rows in other sheet and delete them if condition match. It works but sometimes it's long. How can i speed up this please ?</p>\n<pre><code>function moveRows(){\n  var ss=SpreadsheetApp.getActive();\n  var sh0=ss.getSheetByName('Source sheet');\n  var sheet = SpreadsheetApp.getActive().getSheetByName('Target');\n  var lastRow = sheet.getLastRow() + 1;\n  var rg0=sh0.getDataRange();\n  var sh1=ss.getSheetByName('Target');\n  var vals=rg0.getValues();\n  sheet.getRange(lastRow, 1).setValue(new Date())\n  for(var i=vals.length-1;i&gt;0;i--)\n  {\n    if(vals[i][0]=='OK')\n    {\n      sh1.appendRow(vals[i]);\n      sh0.deleteRow(i+1)\n    }\n  }\n} \n</code></pre>\n<p>I try this but it's not working. I think i can't combine sh1.getRange(sh1.getLastRow()+1, 1,vals.lenght , vals[0].length).setValues(result) with sh0.deleteRows(i+1) or the problem is for (var i=vals.lenght-1;i&gt;0;i--) ??</p>\n<pre><code>function moveRows(){\n  var ss=SpreadsheetApp.getActive();\n  var sh0=ss.getSheetByName('Source sheet');\n  var sheet = SpreadsheetApp.getActive().getSheetByName('Target');\n  var lastRow = sheet.getLastRow() + 1;\n  var rg0=sh0.getDataRange();\n  var sh1=ss.getSheetByName('Target');\n  var vals=rg0.getValues();\n  var v = []\n  sheet.getRange(lastRow, 1).setValue(new Date())\n  for(var i=vals.length-1;i&gt;0;i--)\n  {\n    if(vals[i][0]=='OK'){\n      v.push(vals[i])\n\n    }\n    {\n      sh1.getRange(sh1.getLastRow()+1, 1, v.length; v[0].length).setValues(v)\n      sh0.deleteRow(i+1)\n    }\n  }\n} \n</code></pre>\n"},{"tags":["java","json","spring","spring-data-mongodb"],"answers":[{"tags":[],"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1669077795,"creation_date":1641877438,"answer_id":70661869,"question_id":70656129,"body_markdown":"It can be easily done by adding a custom key serializer to `SimpleModule`, then register it to `ObjectMapper` as follows:  \r\n\r\nCreate a class `SnakeCaseSerializer` which extends `JsonSerializer` to override `serialize()` to modify the key from **lower camel case** to **lower underscore case** (aka snake case) with Google Guava library - [CaseFormat](https://guava.dev/releases/20.0/api/docs/com/google/common/base/CaseFormat.html).\r\n```java\r\npublic class SnakeCaseSerializer extends JsonSerializer&lt;String&gt; {\r\n    @Override\r\n    public void serialize(String s, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\r\n        String fieldNameNew = CaseFormat.LOWER_CAMEL.to(CaseFormat.LOWER_UNDERSCORE, s);\r\n        jsonGenerator.writeFieldName(fieldNameNew);\r\n    }\r\n}\r\n```\r\nAdd this class into `SimpleModule` as custom key serializer, then register the module to your `ObjectMapper`. (This way is going to change **ALL** the field names, but it doesn&#39;t matter because the field names belong to first level are already in snake case.)\r\n```java\r\nSimpleModule simpleModule = new SimpleModule();\r\nsimpleModule.addKeySerializer(String.class, new SnakeCaseSerializer());\r\n\r\nObjectMapper objectMapper = new ObjectMapper();\r\nobjectMapper.registerModule(simpleModule);\r\n\r\nSystem.out.println(objectMapper.writerWithDefaultPrettyPrinter()\r\n        .writeValueAsString(objectMapper.readValue(jsonStr, Object.class)));\r\n```\r\nConsole output:\r\n```json\r\n{\r\n  &quot;project_data&quot; : [ {\r\n    &quot;color&quot; : &quot;#ffcd03&quot;,\r\n    &quot;board_id&quot; : &quot;30022&quot;\r\n  }, {\r\n    &quot;color&quot; : &quot;#ffcd03&quot;,\r\n    &quot;board_id&quot; : &quot;1559427&quot;\r\n  } ],\r\n  &quot;type&quot; : &quot;Standard&quot;,\r\n  &quot;enterprise_id&quot; : &quot;30000&quot;,\r\n  &quot;version&quot; : &quot;10&quot;,\r\n  &quot;card_type_id&quot; : &quot;30017&quot;,\r\n  &quot;owner_type&quot; : &quot;Org&quot;,\r\n  &quot;timestamp&quot; : &quot;1640901794509&quot;\r\n}\r\n```","title":"Convert nested map fields to snake case","body":"<p>It can be easily done by adding a custom key serializer to <code>SimpleModule</code>, then register it to <code>ObjectMapper</code> as follows:</p>\n<p>Create a class <code>SnakeCaseSerializer</code> which extends <code>JsonSerializer</code> to override <code>serialize()</code> to modify the key from <strong>lower camel case</strong> to <strong>lower underscore case</strong> (aka snake case) with Google Guava library - <a href=\"https://guava.dev/releases/20.0/api/docs/com/google/common/base/CaseFormat.html\" rel=\"nofollow noreferrer\">CaseFormat</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SnakeCaseSerializer extends JsonSerializer&lt;String&gt; {\n    @Override\n    public void serialize(String s, JsonGenerator jsonGenerator, SerializerProvider serializerProvider) throws IOException {\n        String fieldNameNew = CaseFormat.LOWER_CAMEL.to(CaseFormat.LOWER_UNDERSCORE, s);\n        jsonGenerator.writeFieldName(fieldNameNew);\n    }\n}\n</code></pre>\n<p>Add this class into <code>SimpleModule</code> as custom key serializer, then register the module to your <code>ObjectMapper</code>. (This way is going to change <strong>ALL</strong> the field names, but it doesn't matter because the field names belong to first level are already in snake case.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>SimpleModule simpleModule = new SimpleModule();\nsimpleModule.addKeySerializer(String.class, new SnakeCaseSerializer());\n\nObjectMapper objectMapper = new ObjectMapper();\nobjectMapper.registerModule(simpleModule);\n\nSystem.out.println(objectMapper.writerWithDefaultPrettyPrinter()\n        .writeValueAsString(objectMapper.readValue(jsonStr, Object.class)));\n</code></pre>\n<p>Console output:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;project_data&quot; : [ {\n    &quot;color&quot; : &quot;#ffcd03&quot;,\n    &quot;board_id&quot; : &quot;30022&quot;\n  }, {\n    &quot;color&quot; : &quot;#ffcd03&quot;,\n    &quot;board_id&quot; : &quot;1559427&quot;\n  } ],\n  &quot;type&quot; : &quot;Standard&quot;,\n  &quot;enterprise_id&quot; : &quot;30000&quot;,\n  &quot;version&quot; : &quot;10&quot;,\n  &quot;card_type_id&quot; : &quot;30017&quot;,\n  &quot;owner_type&quot; : &quot;Org&quot;,\n  &quot;timestamp&quot; : &quot;1640901794509&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":105679,"reputation":1979,"user_id":281870,"accept_rate":70,"display_name":"Anadi Misra"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70661869,"answer_count":1,"score":0,"last_activity_date":1669077795,"creation_date":1641833903,"question_id":70656129,"body_markdown":"how to convert all the nested fields of the following object rendered as json to snake_case? Given it&#39;s read as a `org.bson.Document`, jackson object mapper won&#39;t work as it&#39;s designed for POJOs and it&#39;s not possible to have POJOs here as the records are schema-less\r\n\r\n    {\r\n       &quot;project_data&quot;:[\r\n          {\r\n             &quot;color&quot;:&quot;#ffcd03&quot;,\r\n             &quot;boardId&quot;:&quot;30022&quot;\r\n          },\r\n          {\r\n             &quot;color&quot;:&quot;#ffcd03&quot;,\r\n             &quot;boardId&quot;:&quot;1559427&quot;\r\n          }\r\n       ],\r\n       &quot;type&quot;:&quot;Standard&quot;,\r\n       &quot;enterprise_id&quot;:&quot;30000&quot;,\r\n       &quot;version&quot;:&quot;10&quot;,\r\n       &quot;card_type_id&quot;:&quot;30017&quot;,\r\n       &quot;owner_type&quot;:&quot;Org&quot;,\r\n       &quot;timestamp&quot;:&quot;1640901794509&quot;\r\n    }","title":"Convert nested map fields to snake case","body":"<p>how to convert all the nested fields of the following object rendered as json to snake_case? Given it's read as a <code>org.bson.Document</code>, jackson object mapper won't work as it's designed for POJOs and it's not possible to have POJOs here as the records are schema-less</p>\n<pre><code>{\n   &quot;project_data&quot;:[\n      {\n         &quot;color&quot;:&quot;#ffcd03&quot;,\n         &quot;boardId&quot;:&quot;30022&quot;\n      },\n      {\n         &quot;color&quot;:&quot;#ffcd03&quot;,\n         &quot;boardId&quot;:&quot;1559427&quot;\n      }\n   ],\n   &quot;type&quot;:&quot;Standard&quot;,\n   &quot;enterprise_id&quot;:&quot;30000&quot;,\n   &quot;version&quot;:&quot;10&quot;,\n   &quot;card_type_id&quot;:&quot;30017&quot;,\n   &quot;owner_type&quot;:&quot;Org&quot;,\n   &quot;timestamp&quot;:&quot;1640901794509&quot;\n}\n</code></pre>\n"},{"tags":["java","oracle-cloud-infrastructure"],"answers":[{"comments":[{"owner":{"account_id":8993922,"reputation":13,"user_id":9662730,"display_name":"Gonzo"},"score":0,"creation_date":1669122354,"post_id":74526236,"comment_id":131567886,"body_markdown":"Hi, thanks!\nThis is what I&#39;m starting to think.\nThe use case is to invoke Data science Rest API related calls that uses headers like: Authorization -&gt; signature, which is signed settings like tenancy/passphrase/private key etc.\nDate -&gt;\nBut I couldn&#39;t find the documentation for that for Java","body":"Hi, thanks! This is what I&#39;m starting to think. The use case is to invoke Data science Rest API related calls that uses headers like: Authorization -&gt; signature, which is signed settings like tenancy/passphrase/private key etc. Date -&gt; But I couldn&#39;t find the documentation for that for Java"},{"owner":{"account_id":8993922,"reputation":13,"user_id":9662730,"display_name":"Gonzo"},"score":0,"creation_date":1669207442,"post_id":74526236,"comment_id":131591392,"body_markdown":"An update:\n\nI&#39;ve found a relevant documentation:\n\nhttps://docs.oracle.com/en-us/iaas/Content/API/Concepts/signingrequests.htm#seven__Java\n\nBut if there&#39;s an example of implementation in Java, it would be great, thanks!","body":"An update:  I&#39;ve found a relevant documentation:  <a href=\"https://docs.oracle.com/en-us/iaas/Content/API/Concepts/signingrequests.htm#seven__Java\" rel=\"nofollow noreferrer\">docs.oracle.com/en-us/iaas/Content/API/Concepts/&hellip;</a>  But if there&#39;s an example of implementation in Java, it would be great, thanks!"}],"tags":[],"owner":{"account_id":24218980,"reputation":136,"user_id":18174425,"display_name":"Karthik Hegde"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669076856,"creation_date":1669076856,"answer_id":74526236,"question_id":74508060,"body_markdown":"Can you specify the use case for getting the token and then plug it into rest api calls without the need for the sdk? Is there something that is not supported in sdk for your use case?\r\n\r\nOCI Java SDK provides a raw request signer, so you could use that instead of using other tools -&gt; https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/javasdkconcepts.htm#rawrequests","title":"How do I get token for Oracle OCI with Java SDK","body":"<p>Can you specify the use case for getting the token and then plug it into rest api calls without the need for the sdk? Is there something that is not supported in sdk for your use case?</p>\n<p>OCI Java SDK provides a raw request signer, so you could use that instead of using other tools -&gt; <a href=\"https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/javasdkconcepts.htm#rawrequests\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/javasdkconcepts.htm#rawrequests</a></p>\n"}],"owner":{"account_id":8993922,"reputation":13,"user_id":9662730,"display_name":"Gonzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669076856,"creation_date":1668946982,"question_id":74508060,"body_markdown":"I&#39;m trying to understand how do I get **Oracle OCI** token with **Java SDK**.\r\n\r\nAnd then use it (in headers, &#39;**Authorization**&#39; and &#39;**Date**&#39;)\r\n\r\nI went over the [documentation](https://docs.oracle.com/en-us/iaas/Content/API/Concepts/sdk_authentication_methods.htm) and that as well [documentation2](https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/javasdkgettingstarted.htm#Configur).\r\n\r\nBut none of those methods answered my question:\r\n\r\nHow do I get the &#39;**token**&#39; and &#39;**date**&#39; so I can use them in a Rest API call (put them in the headers).\r\n\r\nDid anybody used Oracle OCI with Java SDK to get that?\r\n\r\nThanks!\r\n\r\nI&#39;ve tried couple of the **SDK **methods in the documentation.\r\nBut I couldn&#39;t found a method that get the &#39;**token**&#39; and &#39;**date**&#39; so I can use them in a **Rest API** call (put them in the headers).\r\n","title":"How do I get token for Oracle OCI with Java SDK","body":"<p>I'm trying to understand how do I get <strong>Oracle OCI</strong> token with <strong>Java SDK</strong>.</p>\n<p>And then use it (in headers, '<strong>Authorization</strong>' and '<strong>Date</strong>')</p>\n<p>I went over the <a href=\"https://docs.oracle.com/en-us/iaas/Content/API/Concepts/sdk_authentication_methods.htm\" rel=\"nofollow noreferrer\">documentation</a> and that as well <a href=\"https://docs.oracle.com/en-us/iaas/Content/API/SDKDocs/javasdkgettingstarted.htm#Configur\" rel=\"nofollow noreferrer\">documentation2</a>.</p>\n<p>But none of those methods answered my question:</p>\n<p>How do I get the '<strong>token</strong>' and '<strong>date</strong>' so I can use them in a Rest API call (put them in the headers).</p>\n<p>Did anybody used Oracle OCI with Java SDK to get that?</p>\n<p>Thanks!</p>\n<p>I've tried couple of the **SDK **methods in the documentation.\nBut I couldn't found a method that get the '<strong>token</strong>' and '<strong>date</strong>' so I can use them in a <strong>Rest API</strong> call (put them in the headers).</p>\n"},{"tags":["java","zip"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669070764,"post_id":74525530,"comment_id":131555635,"body_markdown":"*ZipService.zipMediaFilesWithExtension(files)* that&#39;s missing from your post","body":"<i>ZipService.zipMediaFilesWithExtension(files)</i> that&#39;s missing from your post"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1669072076,"post_id":74525530,"comment_id":131555915,"body_markdown":"If the zip file is there but empty, the problem is usually not properly closing stuff, e.g. not using try-with. The relevant code is the code that _makes_ the ZipOutputStream (and the OutputStream representing the file that it wraps around) - you didn&#39;t paste this. That, or, you are swallowing exceptions - also not pasted.","body":"If the zip file is there but empty, the problem is usually not properly closing stuff, e.g. not using try-with. The relevant code is the code that <i>makes</i> the ZipOutputStream (and the OutputStream representing the file that it wraps around) - you didn&#39;t paste this. That, or, you are swallowing exceptions - also not pasted."},{"owner":{"account_id":6936108,"reputation":419,"user_id":5323955,"accept_rate":76,"display_name":"Angry Red Panda"},"score":0,"creation_date":1669074975,"post_id":74525530,"comment_id":131556413,"body_markdown":"@rzwitserloot  I updated my question. the error still persists. with the dummy data in getMediaFiles() only the testZip.zip has the file test.txt. the directory testDirectory is still empty.","body":"@rzwitserloot  I updated my question. the error still persists. with the dummy data in getMediaFiles() only the testZip.zip has the file test.txt. the directory testDirectory is still empty."},{"owner":{"account_id":6936108,"reputation":419,"user_id":5323955,"accept_rate":76,"display_name":"Angry Red Panda"},"score":0,"creation_date":1669074987,"post_id":74525530,"comment_id":131556415,"body_markdown":"@g00se updated my question. please have another look","body":"@g00se updated my question. please have another look"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1669075528,"post_id":74525530,"comment_id":131556496,"body_markdown":"..but you&#39;re not writing anything into that directory. You create it and that&#39;s all - the zip file reflects what you&#39;re doing. I&#39;m not sure what the problem is.","body":"..but you&#39;re not writing anything into that directory. You create it and that&#39;s all - the zip file reflects what you&#39;re doing. I&#39;m not sure what the problem is."},{"owner":{"account_id":6936108,"reputation":419,"user_id":5323955,"accept_rate":76,"display_name":"Angry Red Panda"},"score":0,"creation_date":1669075780,"post_id":74525530,"comment_id":131556537,"body_markdown":"@rzwitserloot I am using &quot;zos.write(mediaFilesDirectory);&quot; to write into my testZip.zip and testDirectory/. this works for the testZip.zip\n\nI updated my question with some code that can be run locally. it has the same problem as my code","body":"@rzwitserloot I am using &quot;zos.write(mediaFilesDirectory);&quot; to write into my testZip.zip and testDirectory/. this works for the testZip.zip  I updated my question with some code that can be run locally. it has the same problem as my code"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669076065,"post_id":74525530,"comment_id":131556576,"body_markdown":"What you&#39;re doing probably is not legitimate but I can&#39;t say *definitively* why. You&#39;re essentially attempting to nest one zip output stream inside another. You should be creating entries at the correct depth in the correct structure. Don&#39;t do `getMediaFiles` and attempt to stuff the result of that in - it&#39;s not going to work","body":"What you&#39;re doing probably is not legitimate but I can&#39;t say <i>definitively</i> why. You&#39;re essentially attempting to nest one zip output stream inside another. You should be creating entries at the correct depth in the correct structure. Don&#39;t do <code>getMediaFiles</code> and attempt to stuff the result of that in - it&#39;s not going to work"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1669076316,"post_id":74525530,"comment_id":131556607,"body_markdown":"Looking at the ZipEntry and ZipOutputStream code, it isn&#39;t immediately clear to me what writing to an entry which is a directory actually means.","body":"Looking at the ZipEntry and ZipOutputStream code, it isn&#39;t immediately clear to me what writing to an entry which is a directory actually means."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669076669,"creation_date":1669076669,"answer_id":74526210,"question_id":74525530,"body_markdown":"&gt; ```java\r\n&gt; ZipEntry entry = new ZipEntry(document.getId() + File.separator + &quot;testDirectory/&quot;);\r\n&gt; entry.setSize(mediaFilesDirectory.length);\r\n&gt; zos.putNextEntry(entry);\r\n&gt; zos.write(mediaFilesDirectory);\r\n&gt; zos.closeEntry();\r\n&gt; ```\r\n\r\nThis code makes no sense.\r\n\r\nIt creates a directory, and __directories do not themselves contain anything__. In a zip file, a directory is just a string, a marker to the unzip tool: Make this dir.\r\n\r\nA zip file is _JUST_ a mapping of strings representing filenames to data representing the contents, that is it, _zip files are not hierarchical_.\r\n\r\nIf you want to write &#39;foo.txt&#39; into the zip file as well as &#39;subdir/bar.txt&#39;, you would do:\r\n\r\n```\r\nZipEntry entry = new ZipEntry(&quot;foo.txt&quot;);\r\nzos.putNextEntry(entry);\r\nzos.write(dataOfFooTxt);\r\n\r\nZipEntry entry = new ZipEntry(&quot;subdir/&quot;);\r\nzos.putNextEntry(entry);\r\n\r\nZipEntry entry = new ZipEntry(&quot;subdir/bar.txt&quot;);\r\nzos.putNextEntry(entry);\r\nzos.write(dataOfBarTxt);\r\n```\r\n\r\nYou just put an entry and do nothing further. Note also that zips always use forward slash for pathing, `File.separator` is something you should never use in java, except for one sole purpose: Creating strings fit to show to users. That&#39;s all. forward slash is the path separator for java apps. Even if they run on windows.\r\n\r\nWhat you are attempting to do (make a zip which you the nwant to put in a zip) would result in the command:\r\n\r\n```\r\nunzip myzip.zip\r\n```\r\n\r\nTo unpack 2 files: &#39;test.txt&#39; and &#39;innerzip.zip&#39;, which is, itself a zip file. This can be done but is really weird, and certainly doesn&#39;t compress things any better. I&#39;m not sure if that is your intent or if you&#39;re just confused and you think this is how you put subdirs in zip files. If it&#39;s the latter - just do what the second snippet in this answer does - do not make zips-in-zips.\r\n","title":"ZipEntry is not writing file into directory","body":"<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>ZipEntry entry = new ZipEntry(document.getId() + File.separator + &quot;testDirectory/&quot;);\nentry.setSize(mediaFilesDirectory.length);\nzos.putNextEntry(entry);\nzos.write(mediaFilesDirectory);\nzos.closeEntry();\n</code></pre>\n</blockquote>\n<p>This code makes no sense.</p>\n<p>It creates a directory, and <strong>directories do not themselves contain anything</strong>. In a zip file, a directory is just a string, a marker to the unzip tool: Make this dir.</p>\n<p>A zip file is <em>JUST</em> a mapping of strings representing filenames to data representing the contents, that is it, <em>zip files are not hierarchical</em>.</p>\n<p>If you want to write 'foo.txt' into the zip file as well as 'subdir/bar.txt', you would do:</p>\n<pre><code>ZipEntry entry = new ZipEntry(&quot;foo.txt&quot;);\nzos.putNextEntry(entry);\nzos.write(dataOfFooTxt);\n\nZipEntry entry = new ZipEntry(&quot;subdir/&quot;);\nzos.putNextEntry(entry);\n\nZipEntry entry = new ZipEntry(&quot;subdir/bar.txt&quot;);\nzos.putNextEntry(entry);\nzos.write(dataOfBarTxt);\n</code></pre>\n<p>You just put an entry and do nothing further. Note also that zips always use forward slash for pathing, <code>File.separator</code> is something you should never use in java, except for one sole purpose: Creating strings fit to show to users. That's all. forward slash is the path separator for java apps. Even if they run on windows.</p>\n<p>What you are attempting to do (make a zip which you the nwant to put in a zip) would result in the command:</p>\n<pre><code>unzip myzip.zip\n</code></pre>\n<p>To unpack 2 files: 'test.txt' and 'innerzip.zip', which is, itself a zip file. This can be done but is really weird, and certainly doesn't compress things any better. I'm not sure if that is your intent or if you're just confused and you think this is how you put subdirs in zip files. If it's the latter - just do what the second snippet in this answer does - do not make zips-in-zips.</p>\n"}],"owner":{"account_id":6936108,"reputation":419,"user_id":5323955,"accept_rate":76,"display_name":"Angry Red Panda"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74526210,"answer_count":1,"score":0,"last_activity_date":1669076669,"creation_date":1669069486,"question_id":74525530,"body_markdown":"I am trying to write multiple files into a directory and a zip file. that directory and zip file are supposed to be contained in another zip. so my desired zip structure would look like this:\r\n\r\n    parent.zip\r\n      - testDirectory/\r\n      - testZip.zip\r\n\r\nWhen I read my files into a byte[] and write them into my directory `testDirectory` nothing is written into the directory. the directory is empty when I open my zip.\r\n\r\nOn the other hand when I write my byte[] array into a zip file called `testZip.zip` the files will be correctly written into the zip file.\r\n\r\n`parent.zip`, `testDirectory/` and `testZip.zip` are all being created. the only problem is that `testDirectory/` is empty.\r\n\r\nWhat is the solution to my problem?\r\n\r\n       private void addFiles(Document document, ZipOutputStream zos) throw FileNotFoundException, IOException {\r\n         byte[] mediaFilesDirectory = getMediaFiles();\r\n         \r\n         ZipEntry entry = new ZipEntry(document.getId() + File.separator + &quot;testDirectory/&quot;);\r\n         entry.setSize(mediaFilesDirectory.length);\r\n         zos.putNextEntry(entry);\r\n         zos.write(mediaFilesDirectory);\r\n         zos.closeEntry();\r\n         \r\n         ZipEntry entry2 = new ZipEntry(document.getId() + File.separator + &quot;testZip.zip&quot;);\r\n         entry2.setSize(mediaFilesDirectory.length);\r\n         zos.putNextEntry(entry2);\r\n         zos.write(mediaFilesDirectory);\r\n         zos.closeEntry();\r\n      }\r\n\r\n     private byte[] getMediaFiles() throws FileNotFoundException {\r\n        try (ByteArrayOutputStream baos = new ByteArrayOutputStream(); ZipOutputStream zos = new ZipOutputStream(baos)) {\r\n            byte[] bytes = &quot;Hello World&quot;.getBytes();\r\n            String entryName = &quot;test.txt&quot;;\r\n            ZipEntry entry = new ZipEntry(entryName);\r\n            entry.setSize(bytes.length);\r\n            zos.putNextEntry(entry);\r\n            zos.write(bytes);\r\n            zos.closeEntry();\r\n            zos.close();\r\n            return baos.toByteArray();\r\n        } catch (Exception exc) {\r\n            throw new FileNotFoundException(&quot;Exception&quot;);\r\n        }\r\n    }\r\n\r\nNo Exceptions are being thrown. If I comment out the ZipEntry for testDirectory/, then testZip.zip will still correctly be created. If I comment out testZip.zip, then testDirectory/ will still be empty.\r\n\r\n------\r\n\r\nHere some test code to run locally. it suffers from the same problem as my code:\r\n\r\n    import java.io.*;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipOutputStream;\r\n\r\n    public class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Make sure to change the file variable&quot;);\r\n\r\n        File file = new File(&quot;C:\\\\Users\\\\YourUser\\\\test.zip&quot;); //TODO enter a valid path here\r\n        try(ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(file))) {\r\n            addFiles(zos);\r\n            zos.closeEntry();\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n    }\r\n\r\n    private static void addFiles(ZipOutputStream zos) throws Exception {\r\n        byte[] mediaFilesDirectory = getMediaFiles();\r\n\r\n        ZipEntry entry = new ZipEntry(&quot;1&quot; + File.separator + &quot;testDirectory/&quot;);\r\n        entry.setSize(mediaFilesDirectory.length);\r\n        zos.putNextEntry(entry);\r\n        zos.write(mediaFilesDirectory);\r\n        zos.closeEntry();\r\n\r\n        ZipEntry entry2 = new ZipEntry(&quot;1&quot; + File.separator + &quot;testZip.zip&quot;);\r\n        entry2.setSize(mediaFilesDirectory.length);\r\n        zos.putNextEntry(entry2);\r\n        zos.write(mediaFilesDirectory);\r\n        zos.closeEntry();\r\n    }\r\n\r\n    private static byte[] getMediaFiles() throws Exception {\r\n        try (ByteArrayOutputStream baos = new ByteArrayOutputStream(); ZipOutputStream zos = new ZipOutputStream(baos)) {\r\n            byte[] bytes = &quot;Hello World&quot;.getBytes();\r\n            String entryName = &quot;test.txt&quot;;\r\n            ZipEntry entry = new ZipEntry(entryName);\r\n            entry.setSize(bytes.length);\r\n            zos.putNextEntry(entry);\r\n            zos.write(bytes);\r\n            zos.closeEntry();\r\n            zos.close();\r\n            return baos.toByteArray();\r\n        }\r\n    }\r\n    }","title":"ZipEntry is not writing file into directory","body":"<p>I am trying to write multiple files into a directory and a zip file. that directory and zip file are supposed to be contained in another zip. so my desired zip structure would look like this:</p>\n<pre><code>parent.zip\n  - testDirectory/\n  - testZip.zip\n</code></pre>\n<p>When I read my files into a byte[] and write them into my directory <code>testDirectory</code> nothing is written into the directory. the directory is empty when I open my zip.</p>\n<p>On the other hand when I write my byte[] array into a zip file called <code>testZip.zip</code> the files will be correctly written into the zip file.</p>\n<p><code>parent.zip</code>, <code>testDirectory/</code> and <code>testZip.zip</code> are all being created. the only problem is that <code>testDirectory/</code> is empty.</p>\n<p>What is the solution to my problem?</p>\n<pre><code>   private void addFiles(Document document, ZipOutputStream zos) throw FileNotFoundException, IOException {\n     byte[] mediaFilesDirectory = getMediaFiles();\n     \n     ZipEntry entry = new ZipEntry(document.getId() + File.separator + &quot;testDirectory/&quot;);\n     entry.setSize(mediaFilesDirectory.length);\n     zos.putNextEntry(entry);\n     zos.write(mediaFilesDirectory);\n     zos.closeEntry();\n     \n     ZipEntry entry2 = new ZipEntry(document.getId() + File.separator + &quot;testZip.zip&quot;);\n     entry2.setSize(mediaFilesDirectory.length);\n     zos.putNextEntry(entry2);\n     zos.write(mediaFilesDirectory);\n     zos.closeEntry();\n  }\n\n private byte[] getMediaFiles() throws FileNotFoundException {\n    try (ByteArrayOutputStream baos = new ByteArrayOutputStream(); ZipOutputStream zos = new ZipOutputStream(baos)) {\n        byte[] bytes = &quot;Hello World&quot;.getBytes();\n        String entryName = &quot;test.txt&quot;;\n        ZipEntry entry = new ZipEntry(entryName);\n        entry.setSize(bytes.length);\n        zos.putNextEntry(entry);\n        zos.write(bytes);\n        zos.closeEntry();\n        zos.close();\n        return baos.toByteArray();\n    } catch (Exception exc) {\n        throw new FileNotFoundException(&quot;Exception&quot;);\n    }\n}\n</code></pre>\n<p>No Exceptions are being thrown. If I comment out the ZipEntry for testDirectory/, then testZip.zip will still correctly be created. If I comment out testZip.zip, then testDirectory/ will still be empty.</p>\n<hr />\n<p>Here some test code to run locally. it suffers from the same problem as my code:</p>\n<pre><code>import java.io.*;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\npublic class Main {\npublic static void main(String[] args) {\n    System.out.println(&quot;Make sure to change the file variable&quot;);\n\n    File file = new File(&quot;C:\\\\Users\\\\YourUser\\\\test.zip&quot;); //TODO enter a valid path here\n    try(ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(file))) {\n        addFiles(zos);\n        zos.closeEntry();\n    } catch (Exception e) {\n        System.out.println(e);\n    }\n}\n\nprivate static void addFiles(ZipOutputStream zos) throws Exception {\n    byte[] mediaFilesDirectory = getMediaFiles();\n\n    ZipEntry entry = new ZipEntry(&quot;1&quot; + File.separator + &quot;testDirectory/&quot;);\n    entry.setSize(mediaFilesDirectory.length);\n    zos.putNextEntry(entry);\n    zos.write(mediaFilesDirectory);\n    zos.closeEntry();\n\n    ZipEntry entry2 = new ZipEntry(&quot;1&quot; + File.separator + &quot;testZip.zip&quot;);\n    entry2.setSize(mediaFilesDirectory.length);\n    zos.putNextEntry(entry2);\n    zos.write(mediaFilesDirectory);\n    zos.closeEntry();\n}\n\nprivate static byte[] getMediaFiles() throws Exception {\n    try (ByteArrayOutputStream baos = new ByteArrayOutputStream(); ZipOutputStream zos = new ZipOutputStream(baos)) {\n        byte[] bytes = &quot;Hello World&quot;.getBytes();\n        String entryName = &quot;test.txt&quot;;\n        ZipEntry entry = new ZipEntry(entryName);\n        entry.setSize(bytes.length);\n        zos.putNextEntry(entry);\n        zos.write(bytes);\n        zos.closeEntry();\n        zos.close();\n        return baos.toByteArray();\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","ssl","slack","java-7","sslexception"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1669023175,"post_id":74516564,"comment_id":131540003,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"},{"owner":{"account_id":10513022,"reputation":3086,"user_id":7748072,"display_name":"Eug&#232;ne Adell"},"score":0,"creation_date":1669040476,"post_id":74516564,"comment_id":131546086,"body_markdown":"Are you sure you are connecting to an SSL enabled server ? Check what is running on the port you are testing.","body":"Are you sure you are connecting to an SSL enabled server ? Check what is running on the port you are testing."}],"owner":{"account_id":18316125,"reputation":1,"user_id":13337876,"display_name":"김시용"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669075184,"creation_date":1669022110,"question_id":74516564,"body_markdown":"I am developing a batch application.\r\n\r\nI need to send message using slack webhook api\r\n\r\n&#39;local&#39; -&gt; slack webhook (send message) -&gt; success\r\n(succeed local)\r\n\r\nbut,\r\n\r\n&#39;dev&#39; -&gt; slack webhook (send message) -&gt; fail\r\n(fail dev)\r\n\r\nThe reason is javax.net.ssl.SSLException: Unsupported record version Unknown-0.0\r\n\r\n\r\nThe &#39;dev&#39; server builds the batch via a Linux shell file on Jenkins.\r\n\r\n```\r\njavax.net.ssl.SSLException: Unsupported record version Unknown-0.0\r\n\tat sun.security.ssl.InputRecord.readV3Record(InputRecord.java:524)\r\n\tat sun.security.ssl.InputRecord.read(InputRecord.java:506)\r\n\tat sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:934)\r\n\tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\r\n\tat sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\r\n\tat sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\r\n\tat sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\r\n\tat sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1092)\r\n\t\r\n2022-11-21 18:51:08 [ERROR] javax.net.ssl.SSLException: Unsupported record version Unknown-0.0\r\n```\r\n\r\nmy environment : \r\n - local, dev : java.version 1.7.0_80, java.class.version 51.0\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nwhat i tried\r\n- -Dhttps.protocols=SSLv3,TLSv1,TLSv1.1,TLSv1.2\r\n- -Djsse.enableSNIExtension=false\r\n- SSLContext ctx = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n- X509TrustManager tm = new X509TrustManager()\r\n- jdk8 build\r\n- System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1,TLSv1.1,TLSv1.2&quot;);\r\n- System.setProperty(&quot;jsse.enableSNIExtension&quot;, &quot;false&quot;);","title":"javax.net.ssl.SSLException: Unsupported record version Unknown-0.0 (slack-webhook)","body":"<p>I am developing a batch application.</p>\n<p>I need to send message using slack webhook api</p>\n<p>'local' -&gt; slack webhook (send message) -&gt; success\n(succeed local)</p>\n<p>but,</p>\n<p>'dev' -&gt; slack webhook (send message) -&gt; fail\n(fail dev)</p>\n<p>The reason is javax.net.ssl.SSLException: Unsupported record version Unknown-0.0</p>\n<p>The 'dev' server builds the batch via a Linux shell file on Jenkins.</p>\n<pre><code>javax.net.ssl.SSLException: Unsupported record version Unknown-0.0\n    at sun.security.ssl.InputRecord.readV3Record(InputRecord.java:524)\n    at sun.security.ssl.InputRecord.read(InputRecord.java:506)\n    at sun.security.ssl.SSLSocketImpl.readRecord(SSLSocketImpl.java:934)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(SSLSocketImpl.java:1332)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1359)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:1343)\n    at sun.net.www.protocol.https.HttpsClient.afterConnect(HttpsClient.java:559)\n    at sun.net.www.protocol.https.AbstractDelegateHttpsURLConnection.connect(AbstractDelegateHttpsURLConnection.java:185)\n    at sun.net.www.protocol.http.HttpURLConnection.getOutputStream(HttpURLConnection.java:1092)\n    \n2022-11-21 18:51:08 [ERROR] javax.net.ssl.SSLException: Unsupported record version Unknown-0.0\n</code></pre>\n<p>my environment :</p>\n<ul>\n<li>local, dev : java.version 1.7.0_80, java.class.version 51.0</li>\n</ul>\n<p>what i tried</p>\n<ul>\n<li>-Dhttps.protocols=SSLv3,TLSv1,TLSv1.1,TLSv1.2</li>\n<li>-Djsse.enableSNIExtension=false</li>\n<li>SSLContext ctx = SSLContext.getInstance(&quot;TLSv1.2&quot;);</li>\n<li>X509TrustManager tm = new X509TrustManager()</li>\n<li>jdk8 build</li>\n<li>System.setProperty(&quot;https.protocols&quot;, &quot;TLSv1,TLSv1.1,TLSv1.2&quot;);</li>\n<li>System.setProperty(&quot;jsse.enableSNIExtension&quot;, &quot;false&quot;);</li>\n</ul>\n"},{"tags":["python","java","go","oauth","etrade-api"],"comments":[{"owner":{"account_id":1640477,"reputation":741,"user_id":1513027,"accept_rate":47,"display_name":"BWhite"},"score":0,"creation_date":1668541416,"post_id":74439552,"comment_id":131429388,"body_markdown":"I authenticated from C# which didn&#39;t use rauth, so special behavior seems unlikely.","body":"I authenticated from C# which didn&#39;t use rauth, so special behavior seems unlikely."},{"owner":{"account_id":1640477,"reputation":741,"user_id":1513027,"accept_rate":47,"display_name":"BWhite"},"score":0,"creation_date":1668541508,"post_id":74439552,"comment_id":131429420,"body_markdown":"Can you use Postman to monitor your Python connection and see the difference? If it can&#39;t decrypt your SSL connection, try Fiddler to get the details and then put those into Postman.","body":"Can you use Postman to monitor your Python connection and see the difference? If it can&#39;t decrypt your SSL connection, try Fiddler to get the details and then put those into Postman."},{"owner":{"account_id":1975316,"reputation":1387,"user_id":1773216,"accept_rate":71,"display_name":"nmurthy"},"score":0,"creation_date":1668549668,"post_id":74439552,"comment_id":131431859,"body_markdown":"Yes, I&#39;ve seen the C# examples work fine (e.g. https://stackoverflow.com/questions/62367417/e-trade-requesting-access-token-i-get-signature-invalid), but I don&#39;t have a deterministic way of creating a side-by-side comparison of the Python request and the Postman request (unless I can fix the nonce and timestamps in both requests to be the same)","body":"Yes, I&#39;ve seen the C# examples work fine (e.g. <a href=\"https://stackoverflow.com/questions/62367417/e-trade-requesting-access-token-i-get-signature-invalid\" title=\"e trade requesting access token i get signature invalid\">stackoverflow.com/questions/62367417/&hellip;</a>), but I don&#39;t have a deterministic way of creating a side-by-side comparison of the Python request and the Postman request (unless I can fix the nonce and timestamps in both requests to be the same)"},{"owner":{"account_id":1640477,"reputation":741,"user_id":1513027,"accept_rate":47,"display_name":"BWhite"},"score":0,"creation_date":1668576658,"post_id":74439552,"comment_id":131436462,"body_markdown":"A) Why do you care about getting it to work from Postman?   \nB) Can you post the python and Postman requests as part of your question?  We are not going to be much help if we can&#39;t see what we are working with.","body":"A) Why do you care about getting it to work from Postman?    B) Can you post the python and Postman requests as part of your question?  We are not going to be much help if we can&#39;t see what we are working with."},{"owner":{"account_id":1975316,"reputation":1387,"user_id":1773216,"accept_rate":71,"display_name":"nmurthy"},"score":0,"creation_date":1668734119,"post_id":74439552,"comment_id":131484715,"body_markdown":"A) I mainly care about getting it to work with Go. Getting it to work with Postman is just to reproduce the behavior in a different client.\n\nB) I added some sample Postman screenshots in the &quot;Appendix&quot; above. Haven&#39;t had time to do a wireshark/tcpdump of the Python request, but I added a gist the shows the session attributes filled in from the rauth access_token step","body":"A) I mainly care about getting it to work with Go. Getting it to work with Postman is just to reproduce the behavior in a different client.  B) I added some sample Postman screenshots in the &quot;Appendix&quot; above. Haven&#39;t had time to do a wireshark/tcpdump of the Python request, but I added a gist the shows the session attributes filled in from the rauth access_token step"},{"owner":{"account_id":1640477,"reputation":741,"user_id":1513027,"accept_rate":47,"display_name":"BWhite"},"score":0,"creation_date":1668752556,"post_id":74439552,"comment_id":131487238,"body_markdown":"My next step would be to monitor and compare the requests that are actually being sent using Fiddler and see what is different. I just had a case yesterday that I couldn&#39;t get sorted until I noticed in Fiddler that one was sending a GET and the other HEAD. &#175;\\_(ツ)_/&#175;","body":"My next step would be to monitor and compare the requests that are actually being sent using Fiddler and see what is different. I just had a case yesterday that I couldn&#39;t get sorted until I noticed in Fiddler that one was sending a GET and the other HEAD. &#175;_(ツ)_/&#175;"},{"owner":{"account_id":1975316,"reputation":1387,"user_id":1773216,"accept_rate":71,"display_name":"nmurthy"},"score":0,"creation_date":1668812568,"post_id":74439552,"comment_id":131505153,"body_markdown":"Looks like Fiddler is about $120/year. Worth it? https://www.telerik.com/purchase/fiddler","body":"Looks like Fiddler is about $120/year. Worth it? <a href=\"https://www.telerik.com/purchase/fiddler\" rel=\"nofollow noreferrer\">telerik.com/purchase/fiddler</a>"},{"owner":{"account_id":1640477,"reputation":741,"user_id":1513027,"accept_rate":47,"display_name":"BWhite"},"score":0,"creation_date":1668926959,"post_id":74439552,"comment_id":131522167,"body_markdown":"Fiddler Classic (Windows only) is free, or the 10 day trial. Either should be enough to solve your immediate problem. Beyond that, it would depend on how much you&#39;d use it.","body":"Fiddler Classic (Windows only) is free, or the 10 day trial. Either should be enough to solve your immediate problem. Beyond that, it would depend on how much you&#39;d use it."},{"owner":{"account_id":1975316,"reputation":1387,"user_id":1773216,"accept_rate":71,"display_name":"nmurthy"},"score":0,"creation_date":1669074969,"post_id":74439552,"comment_id":131556411,"body_markdown":"I added a comparison of HTTP headers when calling `/v1/accounts/list` between the Python vs Go requests in the Appendix above. The only real difference I see is that the the latter request does not have `realm=&quot;&quot;` set., which appears to be the _more_ correct thing to do according to RFC 5849 3.4.1.3 https://github.com/dghubble/oauth1/blob/main/auther.go#L226","body":"I added a comparison of HTTP headers when calling <code>&#47;v1&#47;accounts&#47;list</code> between the Python vs Go requests in the Appendix above. The only real difference I see is that the the latter request does not have <code>realm=&quot;&quot;</code> set., which appears to be the <i>more</i> correct thing to do according to RFC 5849 3.4.1.3 <a href=\"https://github.com/dghubble/oauth1/blob/main/auther.go#L226\" rel=\"nofollow noreferrer\">github.com/dghubble/oauth1/blob/main/auther.go#L226</a>"}],"owner":{"account_id":1975316,"reputation":1387,"user_id":1773216,"accept_rate":71,"display_name":"nmurthy"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669075059,"creation_date":1668473750,"question_id":74439552,"body_markdown":"I would like to authenticate against the Etrade API using Go and Postman. I am following the official [Etrade API Developer Docs][1]: \r\n\r\n![Etrade API welcome page][2]\r\n\r\nI successfully completed the Oauth 1.0 flow using the Python example they provided (with some [slight modifications][3] to print some of the session attributes):\r\n\r\n```\r\n$ python3 etrade_python_client.py\r\n\r\n1)\tSandbox Consumer Key\r\n2)\tLive Consumer Key\r\n3)\tExit\r\nPlease select Consumer Key Type: 2\r\n\r\nPlease accept agreement and enter verification code from browser: REDACTED\r\naccess_token_response: &lt;Response [200]&gt;\r\naccess_token: REDACTED\r\naccess_token_secret: REDACTED\r\n\r\n```  \r\n\r\nBut I have had **no success** authenticating using the Go or Postman implementations of Oauth 1.0. For Go, I wrote this [sample client][4] using the [dghubble/oauth1][5] library, and for Postman I am using the built-in auth tool.\r\n\r\nMy trouble is largely with generating the correct `oauth_signature` in each of these. I always get this error:\r\n\r\n![invalid signature][6]\r\n\r\nOr if I try to plug-and-play the access token I obtained from Etrade&#39;s sample Python client into Postman when, for instance, accessing the `/accounts/list` API endpoint, the response I receive is:\r\n\r\n```\r\n&lt;Error&gt;\r\n  &lt;message&gt;oauth_problem=signature_invalid&lt;/message&gt;\r\n&lt;/Error&gt;\r\n```\r\n\r\nIt&#39;s strange that their Python example (which uses [rauth](https://github.com/litl/rauth)) has a different behavior than Go or Postman. Seems that Etrade does something non-standard that fits the `requests.Session` shape of the `rauth` implementation. Is there a way to know if I&#39;m generating my signatures correctly for any implementation I use?\r\n\r\n**Appendix:**\r\n\r\nSample Postman requests:\r\n\r\n![postman: request_token][7]\r\n![postman: auth url][8]\r\n![postman: access_token][9]\r\n\r\n\r\nCapture of session attributes when using Python `rauth` library (sensitive info redacted):\r\nhttps://gist.github.com/natemurthy/a7f628e44da9651d0676291803915c9c\r\n\r\nComparison of HTTP headers when calling `/v1/accounts/list` between Python vs Go:\r\n\r\nPython:\r\n```\r\nGET https://api.etrade.com/v1/accounts/list.json\r\n\r\n{&#39;Authorization&#39;: &#39;OAuth realm=&quot;&quot;,oauth_consumer_key=REDACTED&quot;,oauth_nonce=&quot;22d0b83e4cba610148c990fdab1c327948a10677&quot;,oauth_signature_method=&quot;HMAC-SHA1&quot;,oauth_timestamp=&quot;1668988571&quot;,oauth_token=&quot;REDACTED&quot;,oauth_version=&quot;1.0&quot;,oauth_signature=&quot;REDACTED&quot;&#39;}\r\n\r\nResponse: 200 OK\r\n``` \r\n\r\nGo:\r\n```\r\nGET https://api.etrade.com/v1/accounts/list.json\r\n\r\nmap[Authorization:[OAuth oauth_consumer_key=&quot;REDACTED&quot;, oauth_nonce=&quot;eZ1twhwIs7f3wD90uOelpuNNAE2RZ8wkQm4gEKvlklM%3D&quot;, oauth_signature=&quot;REDACTED&quot;, oauth_signature_method=&quot;HMAC-SHA1&quot;, oauth_timestamp=&quot;1669074040&quot;, oauth_token=&quot;REDACTED&quot;, oauth_version=&quot;1.0&quot;]]\r\n\r\nResponse: 401 Unauthorized\r\n{&quot;Error&quot;:{&quot;message&quot;:&quot;oauth_problem=signature_invalid&quot;}} \r\n```\r\n\r\n\r\n  [1]: https://developer.etrade.com/home\r\n  [2]: https://i.stack.imgur.com/vHHA5.jpg\r\n  [3]: https://github.com/natemurthy/etrade-api/blob/main/python/etrade_python_client/etrade_python_client.py#L74-L82\r\n  [4]: https://github.com/natemurthy/etrade-api/blob/main/golang/main.go\r\n  [5]: https://github.com/dghubble/oauth1\r\n  [6]: https://i.stack.imgur.com/YvfRO.png\r\n  [7]: https://i.stack.imgur.com/DKmY1.png\r\n  [8]: https://i.stack.imgur.com/RGtdp.png\r\n  [9]: https://i.stack.imgur.com/2XpmD.png","title":"Etrade API Oauth 1.0 flow fails with invalid oauth_signature","body":"<p>I would like to authenticate against the Etrade API using Go and Postman. I am following the official <a href=\"https://developer.etrade.com/home\" rel=\"nofollow noreferrer\">Etrade API Developer Docs</a>:</p>\n<p><img src=\"https://i.stack.imgur.com/vHHA5.jpg\" alt=\"Etrade API welcome page\" /></p>\n<p>I successfully completed the Oauth 1.0 flow using the Python example they provided (with some <a href=\"https://github.com/natemurthy/etrade-api/blob/main/python/etrade_python_client/etrade_python_client.py#L74-L82\" rel=\"nofollow noreferrer\">slight modifications</a> to print some of the session attributes):</p>\n<pre><code>$ python3 etrade_python_client.py\n\n1)  Sandbox Consumer Key\n2)  Live Consumer Key\n3)  Exit\nPlease select Consumer Key Type: 2\n\nPlease accept agreement and enter verification code from browser: REDACTED\naccess_token_response: &lt;Response [200]&gt;\naccess_token: REDACTED\naccess_token_secret: REDACTED\n\n</code></pre>\n<p>But I have had <strong>no success</strong> authenticating using the Go or Postman implementations of Oauth 1.0. For Go, I wrote this <a href=\"https://github.com/natemurthy/etrade-api/blob/main/golang/main.go\" rel=\"nofollow noreferrer\">sample client</a> using the <a href=\"https://github.com/dghubble/oauth1\" rel=\"nofollow noreferrer\">dghubble/oauth1</a> library, and for Postman I am using the built-in auth tool.</p>\n<p>My trouble is largely with generating the correct <code>oauth_signature</code> in each of these. I always get this error:</p>\n<p><img src=\"https://i.stack.imgur.com/YvfRO.png\" alt=\"invalid signature\" /></p>\n<p>Or if I try to plug-and-play the access token I obtained from Etrade's sample Python client into Postman when, for instance, accessing the <code>/accounts/list</code> API endpoint, the response I receive is:</p>\n<pre><code>&lt;Error&gt;\n  &lt;message&gt;oauth_problem=signature_invalid&lt;/message&gt;\n&lt;/Error&gt;\n</code></pre>\n<p>It's strange that their Python example (which uses <a href=\"https://github.com/litl/rauth\" rel=\"nofollow noreferrer\">rauth</a>) has a different behavior than Go or Postman. Seems that Etrade does something non-standard that fits the <code>requests.Session</code> shape of the <code>rauth</code> implementation. Is there a way to know if I'm generating my signatures correctly for any implementation I use?</p>\n<p><strong>Appendix:</strong></p>\n<p>Sample Postman requests:</p>\n<p><img src=\"https://i.stack.imgur.com/DKmY1.png\" alt=\"postman: request_token\" />\n<img src=\"https://i.stack.imgur.com/RGtdp.png\" alt=\"postman: auth url\" />\n<img src=\"https://i.stack.imgur.com/2XpmD.png\" alt=\"postman: access_token\" /></p>\n<p>Capture of session attributes when using Python <code>rauth</code> library (sensitive info redacted):\n<a href=\"https://gist.github.com/natemurthy/a7f628e44da9651d0676291803915c9c\" rel=\"nofollow noreferrer\">https://gist.github.com/natemurthy/a7f628e44da9651d0676291803915c9c</a></p>\n<p>Comparison of HTTP headers when calling <code>/v1/accounts/list</code> between Python vs Go:</p>\n<p>Python:</p>\n<pre><code>GET https://api.etrade.com/v1/accounts/list.json\n\n{'Authorization': 'OAuth realm=&quot;&quot;,oauth_consumer_key=REDACTED&quot;,oauth_nonce=&quot;22d0b83e4cba610148c990fdab1c327948a10677&quot;,oauth_signature_method=&quot;HMAC-SHA1&quot;,oauth_timestamp=&quot;1668988571&quot;,oauth_token=&quot;REDACTED&quot;,oauth_version=&quot;1.0&quot;,oauth_signature=&quot;REDACTED&quot;'}\n\nResponse: 200 OK\n</code></pre>\n<p>Go:</p>\n<pre><code>GET https://api.etrade.com/v1/accounts/list.json\n\nmap[Authorization:[OAuth oauth_consumer_key=&quot;REDACTED&quot;, oauth_nonce=&quot;eZ1twhwIs7f3wD90uOelpuNNAE2RZ8wkQm4gEKvlklM%3D&quot;, oauth_signature=&quot;REDACTED&quot;, oauth_signature_method=&quot;HMAC-SHA1&quot;, oauth_timestamp=&quot;1669074040&quot;, oauth_token=&quot;REDACTED&quot;, oauth_version=&quot;1.0&quot;]]\n\nResponse: 401 Unauthorized\n{&quot;Error&quot;:{&quot;message&quot;:&quot;oauth_problem=signature_invalid&quot;}} \n</code></pre>\n"},{"tags":["java","c++","javadoc"],"answers":[{"tags":[],"owner":{"account_id":13550,"reputation":21023,"user_id":27314,"accept_rate":97,"display_name":"Grant Limberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1553530817,"creation_date":1247798807,"answer_id":1141232,"question_id":1141228,"body_markdown":"There&#39;s doxygen that supports a lot of things (and more) [Doxygen][1]\r\n\r\n\r\n  [1]: http://www.doxygen.nl/","title":"Javadoc-like Documentation for C++","body":"<p>There's doxygen that supports a lot of things (and more) <a href=\"http://www.doxygen.nl/\" rel=\"nofollow noreferrer\">Doxygen</a></p>\n"},{"comments":[{"owner":{"account_id":6508,"reputation":16117,"user_id":10973,"accept_rate":94,"display_name":"Kevin Day"},"score":0,"creation_date":1247801958,"post_id":1141242,"comment_id":959170,"body_markdown":"Doxygen works great and is used in a very large number of projects.","body":"Doxygen works great and is used in a very large number of projects."}],"tags":[],"owner":{"account_id":39130,"reputation":15146,"user_id":112765,"accept_rate":91,"display_name":"dreadwail"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1376577543,"creation_date":1247798948,"answer_id":1141242,"question_id":1141228,"body_markdown":"You can&#39;t use javadoc specifically, but there are a couple of tools that do what you want. The one most people tend to use is Doxygen. Here are some links for Doxygen and Doc++:\r\n\r\n[Doxygen][1]  \r\n[Doc++][2]\r\n\r\n\r\n  [1]: http://www.doxygen.org/\r\n  [2]: http://docpp.sourceforge.net/","title":"Javadoc-like Documentation for C++","body":"<p>You can't use javadoc specifically, but there are a couple of tools that do what you want. The one most people tend to use is Doxygen. Here are some links for Doxygen and Doc++:</p>\n\n<p><a href=\"http://www.doxygen.org/\" rel=\"noreferrer\">Doxygen</a><br>\n<a href=\"http://docpp.sourceforge.net/\" rel=\"noreferrer\">Doc++</a></p>\n"},{"comments":[{"owner":{"account_id":40589,"reputation":1351,"user_id":117617,"accept_rate":100,"display_name":"John Bellone"},"score":0,"creation_date":1334328234,"post_id":1141909,"comment_id":13004904,"body_markdown":"In regards to the parser breaking down I have found my problems seemed to be fixed since moving to using XML commenting, but then again not many of the editors and IDE available support that out of the box.","body":"In regards to the parser breaking down I have found my problems seemed to be fixed since moving to using XML commenting, but then again not many of the editors and IDE available support that out of the box."}],"tags":[],"owner":{"account_id":15866,"reputation":1914,"user_id":33965,"display_name":"Zayenz"},"comment_count":1,"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1547389784,"creation_date":1247817164,"answer_id":1141909,"question_id":1141228,"body_markdown":"There are several tools that works like JavaDoc for C++ The most popular tool is probably [doxygen][1]. It can handle JavaDoc-like comments, and also several languages (e.g., C++, C, Java, Objective-C, Python, PHP, C#). It has pretty good support for tweaking the style of the HTML output using CSS (see the [users list][2] for example documentations).\r\n\r\nTwo important issues when choosing the documentation system is to make sure that it allows you to\r\n\r\n - Document the entities that you are interested in. Do you want to document the system following the code structure or according to some other module division.\r\n - Getting the output formatted as you want. It is preferable when the documentation fits in with your general project style.\r\n\r\nOur experience with doxygen is that it is pretty easy to set up and use, and the resulting output is fairly easy to tweak. Unfortunately, doxygen is not perfect, so in some cases it is necessary to work around quirks or bugs where the doxygen parser breaks down. Be sure to inspect all of your generated documentation carefully.\r\n\r\n  [1]: http://www.doxygen.nl/\r\n  [2]: http://www.doxygen.nl/projects.html","title":"Javadoc-like Documentation for C++","body":"<p>There are several tools that works like JavaDoc for C++ The most popular tool is probably <a href=\"http://www.doxygen.nl/\" rel=\"noreferrer\">doxygen</a>. It can handle JavaDoc-like comments, and also several languages (e.g., C++, C, Java, Objective-C, Python, PHP, C#). It has pretty good support for tweaking the style of the HTML output using CSS (see the <a href=\"http://www.doxygen.nl/projects.html\" rel=\"noreferrer\">users list</a> for example documentations).</p>\n\n<p>Two important issues when choosing the documentation system is to make sure that it allows you to</p>\n\n<ul>\n<li>Document the entities that you are interested in. Do you want to document the system following the code structure or according to some other module division.</li>\n<li>Getting the output formatted as you want. It is preferable when the documentation fits in with your general project style.</li>\n</ul>\n\n<p>Our experience with doxygen is that it is pretty easy to set up and use, and the resulting output is fairly easy to tweak. Unfortunately, doxygen is not perfect, so in some cases it is necessary to work around quirks or bugs where the doxygen parser breaks down. Be sure to inspect all of your generated documentation carefully.</p>\n"},{"tags":[],"owner":{"account_id":308369,"reputation":926,"user_id":620198,"display_name":"Yair"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1340087169,"creation_date":1340087169,"answer_id":11095494,"question_id":1141228,"body_markdown":"There is also qdoc for QT based C++ projects.  http://doc-snapshot.qt-project.org/qdoc","title":"Javadoc-like Documentation for C++","body":"<p>There is also qdoc for QT based C++ projects.  <a href=\"http://doc-snapshot.qt-project.org/qdoc\" rel=\"nofollow\">http://doc-snapshot.qt-project.org/qdoc</a></p>\n"},{"tags":[],"owner":{"account_id":359805,"reputation":14164,"user_id":701435,"accept_rate":100,"display_name":"Dan H"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546724518,"creation_date":1441732809,"answer_id":32463677,"question_id":1141228,"body_markdown":"I&#39;m just starting to use [Sphinx][1] for my Python projects.  Its home page states &quot;C/C++ is already supported as well&quot;.\r\n\r\nIt uses a lightweight markup called &quot;[reStructuredText][2]&quot;.\r\n\r\nI&#39;ve just started using it for my Python projects, and like the look of the output very much.\r\n\r\n  [1]: http://www.sphinx-doc.org/en/stable/\r\n  [2]: http://sphinx-doc.org/rest.html","title":"Javadoc-like Documentation for C++","body":"<p>I'm just starting to use <a href=\"http://www.sphinx-doc.org/en/stable/\" rel=\"nofollow noreferrer\">Sphinx</a> for my Python projects.  Its home page states \"C/C++ is already supported as well\".</p>\n\n<p>It uses a lightweight markup called \"<a href=\"http://sphinx-doc.org/rest.html\" rel=\"nofollow noreferrer\">reStructuredText</a>\".</p>\n\n<p>I've just started using it for my Python projects, and like the look of the output very much.</p>\n"},{"tags":[],"owner":{"account_id":3185039,"reputation":3258,"user_id":3827575,"display_name":"Samuel Leli&#232;vre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669074781,"creation_date":1669074781,"answer_id":74526050,"question_id":1141228,"body_markdown":"From the [**Standardese** home page](https://standardese.github.io/):\r\n\r\n&gt; Standardese aims to be a nextgen Doxygen.\r\n&gt; It consists of two parts: a library and a tool.\r\n&gt;\r\n&gt; The library aims at becoming the documentation frontend\r\n&gt; that can be easily extended and customized. It parses C++\r\n&gt; code with the help of libclang and provides access to it.\r\n&gt;\r\n&gt; The tool drives the library to generate documentation\r\n&gt; for user-specified files. It supports a couple of output\r\n&gt; formats including Markdown and HTML as well as\r\n&gt; experimental Latex and Man pages.\r\n\r\nThe [Standardese code repository](https://github.com/standardese/standardese)\r\nalso points to some blog posts:\r\n\r\n- [Standardese - a (work-in-progress) nextgen Doxygen](https://www.foonathan.net/2016/05/standardese-nextgen-doxygen/)\r\n- [Standardese documentation generator version 0.1](https://www.foonathan.net/2016/06/standardese-01/)\r\n- [Standardese documentation generator version 0.2: Entity linking, index generation &amp; more](https://www.foonathan.net/2016/08/standardese-02/)\r\n- [Standardese documentation generator version 0.3: Groups, inline documentation, template mode &amp; more](https://www.foonathan.net/2016/11/standardese-0.3/)\r\n- [Standardese Documentation Generator: Post Mortem and My Open-Source Future](https://www.foonathan.net/2019/11/standardese-post-mortem/)","title":"Javadoc-like Documentation for C++","body":"<p>From the <a href=\"https://standardese.github.io/\" rel=\"nofollow noreferrer\"><strong>Standardese</strong> home page</a>:</p>\n<blockquote>\n<p>Standardese aims to be a nextgen Doxygen.\nIt consists of two parts: a library and a tool.</p>\n<p>The library aims at becoming the documentation frontend\nthat can be easily extended and customized. It parses C++\ncode with the help of libclang and provides access to it.</p>\n<p>The tool drives the library to generate documentation\nfor user-specified files. It supports a couple of output\nformats including Markdown and HTML as well as\nexperimental Latex and Man pages.</p>\n</blockquote>\n<p>The <a href=\"https://github.com/standardese/standardese\" rel=\"nofollow noreferrer\">Standardese code repository</a>\nalso points to some blog posts:</p>\n<ul>\n<li><a href=\"https://www.foonathan.net/2016/05/standardese-nextgen-doxygen/\" rel=\"nofollow noreferrer\">Standardese - a (work-in-progress) nextgen Doxygen</a></li>\n<li><a href=\"https://www.foonathan.net/2016/06/standardese-01/\" rel=\"nofollow noreferrer\">Standardese documentation generator version 0.1</a></li>\n<li><a href=\"https://www.foonathan.net/2016/08/standardese-02/\" rel=\"nofollow noreferrer\">Standardese documentation generator version 0.2: Entity linking, index generation &amp; more</a></li>\n<li><a href=\"https://www.foonathan.net/2016/11/standardese-0.3/\" rel=\"nofollow noreferrer\">Standardese documentation generator version 0.3: Groups, inline documentation, template mode &amp; more</a></li>\n<li><a href=\"https://www.foonathan.net/2019/11/standardese-post-mortem/\" rel=\"nofollow noreferrer\">Standardese Documentation Generator: Post Mortem and My Open-Source Future</a></li>\n</ul>\n"}],"owner":{"account_id":37494,"reputation":8368,"user_id":107183,"accept_rate":93,"display_name":"DHamrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47803,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":1141909,"answer_count":6,"score":61,"last_activity_date":1669074781,"creation_date":1247798693,"question_id":1141228,"body_markdown":"Are there similar documentation generation systems like Javadoc, for C++? Javadoc produces nice output; It would be great if you could use something like it in other languages. ","title":"Javadoc-like Documentation for C++","body":"<p>Are there similar documentation generation systems like Javadoc, for C++? Javadoc produces nice output; It would be great if you could use something like it in other languages. </p>\n"},{"tags":["java","random","methods","println"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":2,"creation_date":1669070296,"post_id":74525605,"comment_id":131555517,"body_markdown":"It is printing the default representation of a `Random` class object. You probably want something like `rand.nextInt()`.","body":"It is printing the default representation of a <code>Random</code> class object. You probably want something like <code>rand.nextInt()</code>."},{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":3,"creation_date":1669070347,"post_id":74525605,"comment_id":131555530,"body_markdown":"This is the output of [`Object.toString()`](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#toString()).","body":"This is the output of <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\"><code>Object.toString()</code></a>."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":2,"creation_date":1669070376,"post_id":74525605,"comment_id":131555535,"body_markdown":"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\n\nDocs are for „long enough“ coders, too.","body":"<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Random.html</a>  Docs are for „long enough“ coders, too."},{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":3,"creation_date":1669070544,"post_id":74525605,"comment_id":131555576,"body_markdown":"Your second paragraph is confusing. I&#39;m not sure if you understand what the seed value does. FYI: _The seed is the initial value of the internal state of the pseudorandom number generator which is maintained by method next(int)._","body":"Your second paragraph is confusing. I&#39;m not sure if you understand what the seed value does. FYI: <i>The seed is the initial value of the internal state of the pseudorandom number generator which is maintained by method next(int).</i>"},{"owner":{"account_id":1008660,"reputation":13673,"user_id":1021725,"accept_rate":75,"display_name":"David Brossard"},"score":0,"creation_date":1669073739,"post_id":74525605,"comment_id":131556186,"body_markdown":"It&#39;s absolutely normal behavior","body":"It&#39;s absolutely normal behavior"}],"answers":[{"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1669072024,"post_id":74525654,"comment_id":131555910,"body_markdown":"The `682a0b20` is the hashcode of the object, not the memory address. There *is* a `toString` method, it is defined on the `Object` class and is inherited by `Random`.","body":"The <code>682a0b20</code> is the hashcode of the object, not the memory address. There <i>is</i> a <code>toString</code> method, it is defined on the <code>Object</code> class and is inherited by <code>Random</code>."}],"tags":[],"owner":{"account_id":23042379,"reputation":75,"user_id":17160379,"display_name":"Jacob Malland"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":true,"score":-2,"last_activity_date":1669074428,"creation_date":1669070500,"answer_id":74525654,"question_id":74525605,"body_markdown":"To get a random number in java using the Random class, you need to call the ```rand.nextInt()``` method. \r\n\r\nWhen it&#39;s printing the &quot;```java.util.Random@682a0b20```&quot;, it is displaying the hashcode of the Random object that you created, which is just how computer tells each instance apart from another. It only displays the hashcode because there&#39;s no ```toString()``` method specific to the Random class to represent it as a string, when printed.\r\n\r\nYou might want to check out the java docs for the [Random class](https://docs.oracle.com/javase/8/docs/api/java/util/Random.html).\r\n\r\nThanks @tgdavies, for correcting my statement about memory location/hashcodes.","title":"Why does the Random method produce the name of the method when being printed? [Java]","body":"<p>To get a random number in java using the Random class, you need to call the <code>rand.nextInt()</code> method.</p>\n<p>When it's printing the &quot;<code>java.util.Random@682a0b20</code>&quot;, it is displaying the hashcode of the Random object that you created, which is just how computer tells each instance apart from another. It only displays the hashcode because there's no <code>toString()</code> method specific to the Random class to represent it as a string, when printed.</p>\n<p>You might want to check out the java docs for the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Random.html\" rel=\"nofollow noreferrer\">Random class</a>.</p>\n<p>Thanks @tgdavies, for correcting my statement about memory location/hashcodes.</p>\n"}],"owner":{"account_id":25792008,"reputation":21,"user_id":19535922,"display_name":"madman39_"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":74525654,"answer_count":1,"score":-1,"last_activity_date":1669074428,"creation_date":1669070074,"question_id":74525605,"body_markdown":"Although I&#39;m relatively inexperienced in Java, I&#39;ve been coding with Java long enough to know that\r\nthis isn&#39;t normal behavior. Basically, the program is printing the text just fine, but the &#39;rand&#39; variable is printing a conglomeration of numbers, characters, and letters, which are shown below. \r\n\r\nI tried initializing the &#39;rand&#39; variable into a nextInt() method, thinking that I would be producing the result of randomizing the result via a seed, but quickly understood that this would only generate a number within a range, not within a seed.\r\n\r\n\r\nFor context, I&#39;m creating a while loop that continuously iterates a random number, based on the seed provided by the user, until the user types in the word &#39;stop&#39; to end the loop.\r\n\r\nHow could I solve this?\r\n\r\nHere&#39;s the code:\r\n\r\n```\r\npublic static void WhileLoop(Scanner sc) {\r\n        System.out.println(&quot;\\nWHILE LOOP&quot;);\r\n\r\n        System.out.println(&quot;Please enter a seed for the random number generator: &quot;);\r\n        int seed = sc.nextInt();\r\n\r\n        Random rand = new Random(seed);\r\n\r\n        int loopCounter = 0;\r\n        String stop = &quot;stop&quot;;\r\n        String yes = &quot;yes&quot;;\r\n\r\n        while (loopCounter &gt;= 0) {\r\n\r\n            System.out.println(&quot;\\nHere&#39;s your random number: &quot; + rand);\r\n            System.out.println(&quot;Would you like another number? Enter &#39;stop&#39; to stop.&quot;);\r\n            String answer = sc.next();\r\n            loopCounter++;\r\n\r\n            if(answer.equals(yes)) {\r\n                continue;\r\n            }\r\n\r\n            if(answer.equals(stop)) {\r\n                break;\r\n            }\r\n        }\r\n```\r\n\r\nThis is the result that&#39;s bugging me.\r\n\r\n\r\n```\r\nHere&#39;s your random number: java.util.Random@682a0b20\r\nWould you like another number? Enter &#39;stop&#39; to stop.\r\n```","title":"Why does the Random method produce the name of the method when being printed? [Java]","body":"<p>Although I'm relatively inexperienced in Java, I've been coding with Java long enough to know that\nthis isn't normal behavior. Basically, the program is printing the text just fine, but the 'rand' variable is printing a conglomeration of numbers, characters, and letters, which are shown below.</p>\n<p>I tried initializing the 'rand' variable into a nextInt() method, thinking that I would be producing the result of randomizing the result via a seed, but quickly understood that this would only generate a number within a range, not within a seed.</p>\n<p>For context, I'm creating a while loop that continuously iterates a random number, based on the seed provided by the user, until the user types in the word 'stop' to end the loop.</p>\n<p>How could I solve this?</p>\n<p>Here's the code:</p>\n<pre><code>public static void WhileLoop(Scanner sc) {\n        System.out.println(&quot;\\nWHILE LOOP&quot;);\n\n        System.out.println(&quot;Please enter a seed for the random number generator: &quot;);\n        int seed = sc.nextInt();\n\n        Random rand = new Random(seed);\n\n        int loopCounter = 0;\n        String stop = &quot;stop&quot;;\n        String yes = &quot;yes&quot;;\n\n        while (loopCounter &gt;= 0) {\n\n            System.out.println(&quot;\\nHere's your random number: &quot; + rand);\n            System.out.println(&quot;Would you like another number? Enter 'stop' to stop.&quot;);\n            String answer = sc.next();\n            loopCounter++;\n\n            if(answer.equals(yes)) {\n                continue;\n            }\n\n            if(answer.equals(stop)) {\n                break;\n            }\n        }\n</code></pre>\n<p>This is the result that's bugging me.</p>\n<pre><code>Here's your random number: java.util.Random@682a0b20\nWould you like another number? Enter 'stop' to stop.\n</code></pre>\n"},{"tags":["java","spring","spring-boot","protocol-buffers","protobuf-java"],"answers":[{"comments":[{"owner":{"account_id":2099937,"reputation":6301,"user_id":1867854,"accept_rate":44,"display_name":"mitchkman"},"score":0,"creation_date":1668713806,"post_id":74480863,"comment_id":131479526,"body_markdown":"Thanks for the response! `ProtobufHttpMessageConverter` is not assignable to `HttpMessageConverter&lt;Object&gt;`, so I tried this:\n`@Bean\n  org.springframework.http.converter.HttpMessageConverter protobufHttpMessageConverter() {\n    return new org.springframework.http.converter.protobuf.ProtobufHttpMessageConverter();\n  }`\nbut that didn&#39;t resolve the issue.","body":"Thanks for the response! <code>ProtobufHttpMessageConverter</code> is not assignable to <code>HttpMessageConverter&lt;Object&gt;</code>, so I tried this: <code>@Bean   org.springframework.http.converter.HttpMessageConverter protobufHttpMessageConverter() {     return new org.springframework.http.converter.protobuf.ProtobufHttpMess&zwnj;&#8203;ageConverter();   }</code> but that didn&#39;t resolve the issue."},{"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"score":0,"creation_date":1668721071,"post_id":74480863,"comment_id":131481815,"body_markdown":"My apologies.  It should be a type of Message, not Object.  I&#39;ve fixed the example","body":"My apologies.  It should be a type of Message, not Object.  I&#39;ve fixed the example"},{"owner":{"account_id":2099937,"reputation":6301,"user_id":1867854,"accept_rate":44,"display_name":"mitchkman"},"score":0,"creation_date":1669072190,"post_id":74480863,"comment_id":131555935,"body_markdown":"Hi, thanks! That didn&#39;t work either. I think the problem is that if my REST Controller  method method takes a type `List` as an argument, `ProtobufHttpMessageConverter` will never support `List`, even if I move it up in priority, unless I write my own MessageConverter. I ended up solving the problem a bit differently, see answer.","body":"Hi, thanks! That didn&#39;t work either. I think the problem is that if my REST Controller  method method takes a type <code>List</code> as an argument, <code>ProtobufHttpMessageConverter</code> will never support <code>List</code>, even if I move it up in priority, unless I write my own MessageConverter. I ended up solving the problem a bit differently, see answer."}],"tags":[],"owner":{"account_id":9235242,"reputation":1488,"user_id":6860078,"display_name":"tbatch"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668721096,"creation_date":1668712136,"answer_id":74480863,"question_id":74480581,"body_markdown":"&gt; 1. Is it at all possible to deserialize JSON arrays with ProtobufHttpMessageConverter?\r\n\r\nThe short answer is yes.  I can&#39;t tell you exactly what needs to be done without seeing your entire controller code, since you are using `spring-boot`, then configuring the bean like you did should work.  However, your bean is formed incorrectly.  Try this\r\n```java\r\n @Bean\r\npublic HttpMessageConverter&lt;Message&gt; createProtobuffHttpMessageConverter() {\r\n     return new ProtobufHttpMessageConverter();\r\n}\r\n```\r\n\r\nBy default, Spring is configured with 10 messageConverters, but `ProtobufHttpMessageConverter` is not one of them.  Your code example doesn&#39;t tell spring to use the `ProtobufHttpMessageConverter` that you created.  By defining it as a superType, Spring will recognize it and add it automatically to the `autoconfiguration`.\r\n\r\n&gt; 2. If not, how can I make Jackson work with Protobuf POJOs, so that I can use Jackson as a fallback if ProtobufHttpMessageConverter can&#39;t deserialize a JSON array payload?\r\n\r\nYou shouldn&#39;t need to configure Jackson at all since my above method should work. However, if you want/need to, then you can create an ProtobufMapper.\r\n```java\r\nObjectMapper protobufMapper = new ProtobufMapper();\r\n```\r\n\r\nYou can also replace the existing spring implementation of `ObjectMapper` by configuring the bean to return a `ProtobufMapper` instead of an `ObjectMapper`.  However, this would become global and may break your backwards compatibility.  I&#39;d still give it a shot though.","title":"How to migrate a legacy Spring Boot API, which uses JSON arrays as payload, to Protobuf?","body":"<blockquote>\n<ol>\n<li>Is it at all possible to deserialize JSON arrays with ProtobufHttpMessageConverter?</li>\n</ol>\n</blockquote>\n<p>The short answer is yes.  I can't tell you exactly what needs to be done without seeing your entire controller code, since you are using <code>spring-boot</code>, then configuring the bean like you did should work.  However, your bean is formed incorrectly.  Try this</p>\n<pre class=\"lang-java prettyprint-override\"><code> @Bean\npublic HttpMessageConverter&lt;Message&gt; createProtobuffHttpMessageConverter() {\n     return new ProtobufHttpMessageConverter();\n}\n</code></pre>\n<p>By default, Spring is configured with 10 messageConverters, but <code>ProtobufHttpMessageConverter</code> is not one of them.  Your code example doesn't tell spring to use the <code>ProtobufHttpMessageConverter</code> that you created.  By defining it as a superType, Spring will recognize it and add it automatically to the <code>autoconfiguration</code>.</p>\n<blockquote>\n<ol start=\"2\">\n<li>If not, how can I make Jackson work with Protobuf POJOs, so that I can use Jackson as a fallback if ProtobufHttpMessageConverter can't deserialize a JSON array payload?</li>\n</ol>\n</blockquote>\n<p>You shouldn't need to configure Jackson at all since my above method should work. However, if you want/need to, then you can create an ProtobufMapper.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectMapper protobufMapper = new ProtobufMapper();\n</code></pre>\n<p>You can also replace the existing spring implementation of <code>ObjectMapper</code> by configuring the bean to return a <code>ProtobufMapper</code> instead of an <code>ObjectMapper</code>.  However, this would become global and may break your backwards compatibility.  I'd still give it a shot though.</p>\n"},{"tags":[],"owner":{"account_id":2099937,"reputation":6301,"user_id":1867854,"accept_rate":44,"display_name":"mitchkman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669074404,"creation_date":1669073968,"answer_id":74525977,"question_id":74480581,"body_markdown":"This is how I solved my problem.\r\n\r\n\r\nThe first thing to understand is that with Protobuf, there appears to be no concept of a collection (or array) as the root of a message. The &quot;root&quot; of a message can only be `message` struct, which in turn can then contain a collection of objects. So I created the following message type:\r\n\r\n    message Courses {\r\n      repeated Course course = 1;\r\n    }\r\n\r\nProtobuf forces a convention here, but sending collections as a field has the benefit of allowing backward and forward compatibility, as opposed having a collection as the root element of a message.\r\n\r\n&gt; 1. Is it at all possible to deserialize JSON arrays with ProtobufHttpMessageConverter?\r\n\r\nYes. I was able to use Jackson&#39;s `JsonNode` type as a generic type to handle the array case. I split up the following mapping:\r\n\r\n```java\r\n@PostMapping(&quot;/courses-bulk&quot;)\r\nCollection&lt;Course&gt; bulk(@RequestBody List&lt;Course&gt; courses)\r\n```\r\n\r\n... into two mappings.\r\n\r\n - Any request with `application/json` media type will hit the first mapping (both legacy and non-legacy case)\r\n   - The generic `JsonNode` type is used instead of `List`\r\n   - In the case the root JSON element is an array (legacy case), deserialize every array element by manually calling protobuf&#39;s `JsonParser` on each JSON element.\r\n   - If the root JSON element is not an array, we treat the entire message as a `Courses` protobuf message, but encoded as JSON\r\n\r\n - Any request with `application/x-protobuf` media type will hit the second mapping be\r\n   automatically be deserialized from byte format into the `Courses` protoc-compiled Java class.\r\n\r\nHere is the working code:\r\n\r\n    @RestController\r\n    public class CourseController {\r\n      ...\r\n    \r\n      @PostMapping(value = &quot;/courses-bulk&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\r\n      Object bulk(@RequestBody JsonNode rootNode) throws InvalidProtocolBufferException, JsonProcessingException {\r\n        Courses.Builder coursesBuilder = Courses.newBuilder();\r\n        JsonFormat.Parser parser = JsonFormat.parser().ignoringUnknownFields();\r\n    \r\n        // JSON array is legacy case\r\n        if (rootNode.isArray()) {\r\n          // manually parse each JSON array element using Protobuf\r\n          // and create Courses wrapper object\r\n          for (JsonNode item : rootNode) {\r\n            String itemJsonStr = item.toString();\r\n            Course.Builder courseBuilder = Course.newBuilder();\r\n            parser.merge(itemJsonStr, courseBuilder);\r\n            coursesBuilder.addCourse(courseBuilder.build());\r\n          }\r\n    \r\n          // call other bulk mapping\r\n          Courses result = bulk(coursesBuilder.build());\r\n    \r\n          // unwrap Courses result object and convert it back to a JSON array\r\n          ObjectMapper mapper = new ObjectMapper();\r\n          ArrayNode arrayNode = mapper.createArrayNode();\r\n          for (Course c : result.getCourseList()) {\r\n            String jsonStr = JsonFormat.printer().print(c);\r\n            JsonNode node = mapper.readTree(jsonStr);\r\n            arrayNode.add(node);\r\n          }\r\n          return arrayNode;\r\n        } else {\r\n          // if payload is not an array, we can assume that it is a regular\r\n          // protobuf payload, encoded as JSON\r\n          String rootJsonStr = rootNode.toString();\r\n          parser.merge(rootJsonStr, coursesBuilder);\r\n          return bulk(coursesBuilder.build());\r\n        }\r\n      }\r\n    \r\n      @PostMapping(value = &quot;/courses-bulk&quot;, consumes = &quot;application/x-protobuf&quot;, produces = &quot;application/x-protobuf&quot;)\r\n      Courses bulk(@RequestBody Courses courses) {\r\n        for (Course c : courses.getCourseList()) {\r\n          courseRepo.add(c);\r\n        }\r\n        return Courses.newBuilder().addAllCourse(courseRepo.getAll()).build();\r\n      }\r\n    }","title":"How to migrate a legacy Spring Boot API, which uses JSON arrays as payload, to Protobuf?","body":"<p>This is how I solved my problem.</p>\n<p>The first thing to understand is that with Protobuf, there appears to be no concept of a collection (or array) as the root of a message. The &quot;root&quot; of a message can only be <code>message</code> struct, which in turn can then contain a collection of objects. So I created the following message type:</p>\n<pre><code>message Courses {\n  repeated Course course = 1;\n}\n</code></pre>\n<p>Protobuf forces a convention here, but sending collections as a field has the benefit of allowing backward and forward compatibility, as opposed having a collection as the root element of a message.</p>\n<blockquote>\n<ol>\n<li>Is it at all possible to deserialize JSON arrays with ProtobufHttpMessageConverter?</li>\n</ol>\n</blockquote>\n<p>Yes. I was able to use Jackson's <code>JsonNode</code> type as a generic type to handle the array case. I split up the following mapping:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostMapping(&quot;/courses-bulk&quot;)\nCollection&lt;Course&gt; bulk(@RequestBody List&lt;Course&gt; courses)\n</code></pre>\n<p>... into two mappings.</p>\n<ul>\n<li><p>Any request with <code>application/json</code> media type will hit the first mapping (both legacy and non-legacy case)</p>\n<ul>\n<li>The generic <code>JsonNode</code> type is used instead of <code>List</code></li>\n<li>In the case the root JSON element is an array (legacy case), deserialize every array element by manually calling protobuf's <code>JsonParser</code> on each JSON element.</li>\n<li>If the root JSON element is not an array, we treat the entire message as a <code>Courses</code> protobuf message, but encoded as JSON</li>\n</ul>\n</li>\n<li><p>Any request with <code>application/x-protobuf</code> media type will hit the second mapping be\nautomatically be deserialized from byte format into the <code>Courses</code> protoc-compiled Java class.</p>\n</li>\n</ul>\n<p>Here is the working code:</p>\n<pre><code>@RestController\npublic class CourseController {\n  ...\n\n  @PostMapping(value = &quot;/courses-bulk&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\n  Object bulk(@RequestBody JsonNode rootNode) throws InvalidProtocolBufferException, JsonProcessingException {\n    Courses.Builder coursesBuilder = Courses.newBuilder();\n    JsonFormat.Parser parser = JsonFormat.parser().ignoringUnknownFields();\n\n    // JSON array is legacy case\n    if (rootNode.isArray()) {\n      // manually parse each JSON array element using Protobuf\n      // and create Courses wrapper object\n      for (JsonNode item : rootNode) {\n        String itemJsonStr = item.toString();\n        Course.Builder courseBuilder = Course.newBuilder();\n        parser.merge(itemJsonStr, courseBuilder);\n        coursesBuilder.addCourse(courseBuilder.build());\n      }\n\n      // call other bulk mapping\n      Courses result = bulk(coursesBuilder.build());\n\n      // unwrap Courses result object and convert it back to a JSON array\n      ObjectMapper mapper = new ObjectMapper();\n      ArrayNode arrayNode = mapper.createArrayNode();\n      for (Course c : result.getCourseList()) {\n        String jsonStr = JsonFormat.printer().print(c);\n        JsonNode node = mapper.readTree(jsonStr);\n        arrayNode.add(node);\n      }\n      return arrayNode;\n    } else {\n      // if payload is not an array, we can assume that it is a regular\n      // protobuf payload, encoded as JSON\n      String rootJsonStr = rootNode.toString();\n      parser.merge(rootJsonStr, coursesBuilder);\n      return bulk(coursesBuilder.build());\n    }\n  }\n\n  @PostMapping(value = &quot;/courses-bulk&quot;, consumes = &quot;application/x-protobuf&quot;, produces = &quot;application/x-protobuf&quot;)\n  Courses bulk(@RequestBody Courses courses) {\n    for (Course c : courses.getCourseList()) {\n      courseRepo.add(c);\n    }\n    return Courses.newBuilder().addAllCourse(courseRepo.getAll()).build();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2099937,"reputation":6301,"user_id":1867854,"accept_rate":44,"display_name":"mitchkman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":414,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74525977,"answer_count":2,"score":0,"last_activity_date":1669074404,"creation_date":1668710621,"question_id":74480581,"body_markdown":"Let&#39;s assume I have the following proto definition:\r\n\r\n\r\n```\r\nmessage Course {\r\n  int32 id = 1;\r\n  string course_name = 2;\r\n}\r\n```\r\n\r\nAnd the following legacy Controller (Spring Boot) that needs to be backwards compatible:\r\n```\r\n@RestController\r\npublic class CourseController {\r\n  @Autowired\r\n  CourseRepository courseRepo;\r\n\r\n  @RequestMapping(&quot;/courses/{id}&quot;)\r\n  Course customer(@PathVariable Integer id) {\r\n    return courseRepo.getCourse(id);\r\n  }\r\n\r\n  @PostMapping(&quot;/courses&quot;)\r\n  Course post(@RequestBody Course course) {\r\n    courseRepo.add(course);\r\n    return course;\r\n  }\r\n\r\n  @PostMapping(&quot;/courses-bulk&quot;)\r\n  Collection&lt;Course&gt; bulk(@RequestBody List&lt;Course&gt; courses) {\r\n    for (Course c : courses) {\r\n      courseRepo.add(c);\r\n    }\r\n    return courseRepo.getAll();\r\n  }\r\n}\r\n```\r\n\r\nIn my `Application` class, I am using\r\n\r\n\r\n```\r\n@Bean\r\nProtobufHttpMessageConverter protobufHttpMessageConverter() {\r\n  return new ProtobufHttpMessageConverter();\r\n}\r\n```\r\n\r\n\r\nInstead of using `ProtobufHttpMessageConverter`, it appears that Spring MVC is falling back to Jackson, which trying to interpret the type as a POJO:\r\n\r\n```\r\nCaused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException:\r\nCannot find a (Map) Key deserializer for type [simple type, class com.google.protobuf.Descriptors$FieldDescriptor]\r\n```\r\n\r\n\r\n**Questions:**\r\n\r\n1. Is it at all possible to deserialize JSON arrays with `ProtobufHttpMessageConverter`?\r\n2. If not, how can I make Jackson work with Protobuf POJOs, so that I can use Jackson as a fallback if `ProtobufHttpMessageConverter` can&#39;t deserialize a JSON array payload?\r\n","title":"How to migrate a legacy Spring Boot API, which uses JSON arrays as payload, to Protobuf?","body":"<p>Let's assume I have the following proto definition:</p>\n<pre><code>message Course {\n  int32 id = 1;\n  string course_name = 2;\n}\n</code></pre>\n<p>And the following legacy Controller (Spring Boot) that needs to be backwards compatible:</p>\n<pre><code>@RestController\npublic class CourseController {\n  @Autowired\n  CourseRepository courseRepo;\n\n  @RequestMapping(&quot;/courses/{id}&quot;)\n  Course customer(@PathVariable Integer id) {\n    return courseRepo.getCourse(id);\n  }\n\n  @PostMapping(&quot;/courses&quot;)\n  Course post(@RequestBody Course course) {\n    courseRepo.add(course);\n    return course;\n  }\n\n  @PostMapping(&quot;/courses-bulk&quot;)\n  Collection&lt;Course&gt; bulk(@RequestBody List&lt;Course&gt; courses) {\n    for (Course c : courses) {\n      courseRepo.add(c);\n    }\n    return courseRepo.getAll();\n  }\n}\n</code></pre>\n<p>In my <code>Application</code> class, I am using</p>\n<pre><code>@Bean\nProtobufHttpMessageConverter protobufHttpMessageConverter() {\n  return new ProtobufHttpMessageConverter();\n}\n</code></pre>\n<p>Instead of using <code>ProtobufHttpMessageConverter</code>, it appears that Spring MVC is falling back to Jackson, which trying to interpret the type as a POJO:</p>\n<pre><code>Caused by: com.fasterxml.jackson.databind.exc.InvalidDefinitionException:\nCannot find a (Map) Key deserializer for type [simple type, class com.google.protobuf.Descriptors$FieldDescriptor]\n</code></pre>\n<p><strong>Questions:</strong></p>\n<ol>\n<li>Is it at all possible to deserialize JSON arrays with <code>ProtobufHttpMessageConverter</code>?</li>\n<li>If not, how can I make Jackson work with Protobuf POJOs, so that I can use Jackson as a fallback if <code>ProtobufHttpMessageConverter</code> can't deserialize a JSON array payload?</li>\n</ol>\n"},{"tags":["java","arraylist","hashmap","key","key-value"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":0,"creation_date":1669087561,"post_id":74525746,"comment_id":131558272,"body_markdown":"Related: https://stackoverflow.com/q/30906498/869736","body":"Related: <a href=\"https://stackoverflow.com/q/30906498/869736\">stackoverflow.com/q/30906498/869736</a>"}],"answers":[{"tags":[],"owner":{"account_id":23042379,"reputation":75,"user_id":17160379,"display_name":"Jacob Malland"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669073741,"creation_date":1669073741,"answer_id":74525953,"question_id":74525746,"body_markdown":"I&#39;m assuming you&#39;re trying to have 2 maps that hold the same strings as the keys, while having an additional map corresponding to an Integer ```occurrence``` and a Long ```ID```. \r\n\r\nTo make a Map which holds an Integer ```occurrence``` as the key and a Long ```ID``` as the value, I believe you have two options, either manually going through each value set, or creating a custom class to hold your two properties.\r\n\r\n## Option One: Creating a custom class ##\r\nYou could create a class representing the thing your trying to store, and create a Map of your ```Object```. For the sake of simplicity, lets say you are trying to have two maps represent IDs. Each ID Object represents the ID itself, and how frequently its been used (the occurrence).\r\n\r\nYou could create your class like this:\r\n```\r\npublic class ID {\r\n    long id = 0L;\r\n    int occurrence = 0;\r\n\r\n    public ID(long id, int uses) {\r\n        this.id = id;\r\n        occurrence = uses;\r\n    }\r\n\r\n    public long getID() {\r\n        return(id);\r\n    }\r\n    \r\n    public int getOccurs() {\r\n        return(occurrence);\r\n    }\r\n}\r\n```\r\n\r\nThen, make all the ```ID``` objects you need and add them into either a Map, if you still want the string representation, as ```Map&lt;String, ID&gt;```, or just create a list, because the ID object stores all the properties you were previously storing in the map.\r\n\r\n\r\n## Option Two: Manually Getting Each Value ##\r\nYou could get each of the value ```Collections``` and loop through them at the same time by iterating through each list to add each Long and Integer to the same map.\r\n\r\n```\r\nMap&lt;String, Long&gt; keywordsToIds = new HashMap&lt;String, Long&gt;();\r\nMap&lt;String, Integer&gt; firstCounter = new HashMap&lt;String, Integer&gt;();\r\n\r\nString[] list = new String[] {&quot;wordA&quot;, &quot;wordB&quot;, &quot;wordC&quot;};\r\nlong[] longs = new long[] {12L, 14L, 15L};\r\nint[] ints = new int[] {123, 456, 789};\r\nfor (int i=0; i&lt;list.length; i++) {\r\n    keywordsToIds.put(list[i], longs[i]); // Adds each word pointing to a Long\r\n    firstCounter.put(list[i], ints[i]); // Adds each word pointing to an Integer\r\n}\r\n\r\nMap&lt;Long, Integer&gt; idsToOccurrence = new HashMap&lt;Long, Integer&gt;();\r\nArrayList&lt;Long&gt; ids = new ArrayList&lt;Long&gt;(keywordsToIds.values()); // Retrieve the values from the ID map\r\nArrayList&lt;Integer&gt; occurrence = new ArrayList&lt;Integer&gt;(firstCounter.values()); // Retrieve the values from the Occurrence map\r\n\r\nfor (int i=0; i&lt;ids.size(); i++) { // Loop through each, value set\r\n    idsToOccurrence.put(ids.get(i), occurrence.get(i)); // Add the values to the ID/Occurrence map\r\n}\r\n\r\nfor (String key : keywordsToIds.keySet()) { // Loops through each item in the map(s)\r\n    Long longID = keywordsToIds.get(key);\r\n    System.out.println(key+&quot; --&gt; &quot;+longID+&quot; --&gt; &quot;+idsToOccurrence.get(longID)); // Displays the keys pointing to each other\r\n}\r\n```\r\n\r\nHope this helps clarify things for you. If you&#39;re still a bit confused about Maps, take a look [here](https://docs.oracle.com/javase/8/docs/api/java/util/Map.html).","title":"2 Maps with same key - get the values of each into a new map","body":"<p>I'm assuming you're trying to have 2 maps that hold the same strings as the keys, while having an additional map corresponding to an Integer <code>occurrence</code> and a Long <code>ID</code>.</p>\n<p>To make a Map which holds an Integer <code>occurrence</code> as the key and a Long <code>ID</code> as the value, I believe you have two options, either manually going through each value set, or creating a custom class to hold your two properties.</p>\n<h2>Option One: Creating a custom class</h2>\n<p>You could create a class representing the thing your trying to store, and create a Map of your <code>Object</code>. For the sake of simplicity, lets say you are trying to have two maps represent IDs. Each ID Object represents the ID itself, and how frequently its been used (the occurrence).</p>\n<p>You could create your class like this:</p>\n<pre><code>public class ID {\n    long id = 0L;\n    int occurrence = 0;\n\n    public ID(long id, int uses) {\n        this.id = id;\n        occurrence = uses;\n    }\n\n    public long getID() {\n        return(id);\n    }\n    \n    public int getOccurs() {\n        return(occurrence);\n    }\n}\n</code></pre>\n<p>Then, make all the <code>ID</code> objects you need and add them into either a Map, if you still want the string representation, as <code>Map&lt;String, ID&gt;</code>, or just create a list, because the ID object stores all the properties you were previously storing in the map.</p>\n<h2>Option Two: Manually Getting Each Value</h2>\n<p>You could get each of the value <code>Collections</code> and loop through them at the same time by iterating through each list to add each Long and Integer to the same map.</p>\n<pre><code>Map&lt;String, Long&gt; keywordsToIds = new HashMap&lt;String, Long&gt;();\nMap&lt;String, Integer&gt; firstCounter = new HashMap&lt;String, Integer&gt;();\n\nString[] list = new String[] {&quot;wordA&quot;, &quot;wordB&quot;, &quot;wordC&quot;};\nlong[] longs = new long[] {12L, 14L, 15L};\nint[] ints = new int[] {123, 456, 789};\nfor (int i=0; i&lt;list.length; i++) {\n    keywordsToIds.put(list[i], longs[i]); // Adds each word pointing to a Long\n    firstCounter.put(list[i], ints[i]); // Adds each word pointing to an Integer\n}\n\nMap&lt;Long, Integer&gt; idsToOccurrence = new HashMap&lt;Long, Integer&gt;();\nArrayList&lt;Long&gt; ids = new ArrayList&lt;Long&gt;(keywordsToIds.values()); // Retrieve the values from the ID map\nArrayList&lt;Integer&gt; occurrence = new ArrayList&lt;Integer&gt;(firstCounter.values()); // Retrieve the values from the Occurrence map\n\nfor (int i=0; i&lt;ids.size(); i++) { // Loop through each, value set\n    idsToOccurrence.put(ids.get(i), occurrence.get(i)); // Add the values to the ID/Occurrence map\n}\n\nfor (String key : keywordsToIds.keySet()) { // Loops through each item in the map(s)\n    Long longID = keywordsToIds.get(key);\n    System.out.println(key+&quot; --&gt; &quot;+longID+&quot; --&gt; &quot;+idsToOccurrence.get(longID)); // Displays the keys pointing to each other\n}\n</code></pre>\n<p>Hope this helps clarify things for you. If you're still a bit confused about Maps, take a look <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669276462,"post_id":74525959,"comment_id":131608954,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/74525959/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26624495,"reputation":25,"user_id":20242740,"display_name":"Escanor"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669073804,"creation_date":1669073804,"answer_id":74525959,"question_id":74525746,"body_markdown":"I got it. I actually just had to use &quot;getKey&quot; on both, instead of get Value for the second map. Actually sat down hours for this simple change. Pretty new to maps so got confused with getKey and getValue\r\n```\r\nidAndCount.put(keywordsToIds.get(entry.getKey()), firstCounter.get(entry.getKey()));\r\n```","title":"2 Maps with same key - get the values of each into a new map","body":"<p>I got it. I actually just had to use &quot;getKey&quot; on both, instead of get Value for the second map. Actually sat down hours for this simple change. Pretty new to maps so got confused with getKey and getValue</p>\n<pre><code>idAndCount.put(keywordsToIds.get(entry.getKey()), firstCounter.get(entry.getKey()));\n</code></pre>\n"}],"owner":{"account_id":26624495,"reputation":25,"user_id":20242740,"display_name":"Escanor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":637,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74525953,"answer_count":2,"score":1,"last_activity_date":1669073804,"creation_date":1669071368,"question_id":74525746,"body_markdown":"How do i get both of the values from each map into another map? One map has the name of the ingredient as key. keywordsToIds has the ID as value and firstCounter has the occurance of the ingredient as value. I want to have a map of ID as key and occurance as value. The keys work but the values don&#39;t. I hope someone can help me out. I am very new to maps and arraylists.\r\n\r\n\r\n\r\n\r\n```\r\nMap&lt;String, Long&gt; keywordsToIds\r\n\r\nMap&lt;String, Integer&gt; firstCounter\r\n\r\n\r\n        Map&lt;Long, Integer&gt; idAndCount = new HashMap&lt;&gt;();\r\n\r\n        for (Map.Entry&lt;String, Integer&gt; entry : firstCounter.entrySet())\r\n            if (keywordsToIds.containsKey(entry.getKey())){\r\n\r\n\r\n                idAndCount.put(keywordsToIds.get(entry.getKey()), firstCounter.get(entry.getValue()));\r\n            }\r\n\r\n\r\n            return idAndCount;\r\n```\r\n\r\n\r\n```\r\n@Test\r\n@DisplayName(&quot;can detect multiple occurrences of ingredients&quot;)\r\nvoid testCounting() {\r\n\r\n    // Input-Daten:\r\n    String inputLine = &quot;Ich h&#228;tte gerne einen Vollkorn Burger mit Cheddar-K&#228;se Cheddar-K&#228;se und noch mehr Cheddar-K&#228;se&quot;;\r\n    Map&lt;String, Long&gt; keywordsToIds = Map.of(\r\n            &quot;Vollkorn&quot;, 19L,\r\n            &quot;Cheddar-K&#228;se&quot;, 87L,\r\n            &quot;Rindfleisch&quot;, 77L);\r\n\r\n    Map&lt;Long, Integer&gt; expected = Map.of(\r\n            19L, 1,\r\n            87L, 3);\r\n    Map&lt;Long, Integer&gt; actual = sut.idsAndCountFromInput(inputLine, keywordsToIds);\r\n\r\n    assertEquals(expected, actual);\r\n}\r\n```\r\n```\r\nexpected: &lt;{19=1, 87=3}&gt; but was: &lt;{19=null, 87=null}&gt;\r\nExpected :{19=1, 87=3}\r\nActual   :{19=null, 87=null}\r\n```\r\n\r\n\r\n\r\n\r\nI have tried the loop above, where i say if the key of the one map contains the key of the other map, put the value of keywordsToIds as key and value of firstCounter as value.\r\n\r\n","title":"2 Maps with same key - get the values of each into a new map","body":"<p>How do i get both of the values from each map into another map? One map has the name of the ingredient as key. keywordsToIds has the ID as value and firstCounter has the occurance of the ingredient as value. I want to have a map of ID as key and occurance as value. The keys work but the values don't. I hope someone can help me out. I am very new to maps and arraylists.</p>\n<pre><code>Map&lt;String, Long&gt; keywordsToIds\n\nMap&lt;String, Integer&gt; firstCounter\n\n\n        Map&lt;Long, Integer&gt; idAndCount = new HashMap&lt;&gt;();\n\n        for (Map.Entry&lt;String, Integer&gt; entry : firstCounter.entrySet())\n            if (keywordsToIds.containsKey(entry.getKey())){\n\n\n                idAndCount.put(keywordsToIds.get(entry.getKey()), firstCounter.get(entry.getValue()));\n            }\n\n\n            return idAndCount;\n</code></pre>\n<pre><code>@Test\n@DisplayName(&quot;can detect multiple occurrences of ingredients&quot;)\nvoid testCounting() {\n\n    // Input-Daten:\n    String inputLine = &quot;Ich hätte gerne einen Vollkorn Burger mit Cheddar-Käse Cheddar-Käse und noch mehr Cheddar-Käse&quot;;\n    Map&lt;String, Long&gt; keywordsToIds = Map.of(\n            &quot;Vollkorn&quot;, 19L,\n            &quot;Cheddar-Käse&quot;, 87L,\n            &quot;Rindfleisch&quot;, 77L);\n\n    Map&lt;Long, Integer&gt; expected = Map.of(\n            19L, 1,\n            87L, 3);\n    Map&lt;Long, Integer&gt; actual = sut.idsAndCountFromInput(inputLine, keywordsToIds);\n\n    assertEquals(expected, actual);\n}\n</code></pre>\n<pre><code>expected: &lt;{19=1, 87=3}&gt; but was: &lt;{19=null, 87=null}&gt;\nExpected :{19=1, 87=3}\nActual   :{19=null, 87=null}\n</code></pre>\n<p>I have tried the loop above, where i say if the key of the one map contains the key of the other map, put the value of keywordsToIds as key and value of firstCounter as value.</p>\n"},{"tags":["java","encryption","rsa"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":3,"creation_date":1645448147,"post_id":71206560,"comment_id":125866572,"body_markdown":"When decrypting, the ciphertext must be Base64 decoded and not UTF8 encoded: `Base64.getDecoder().decode(&quot;OixtTJRXe2nDRWDBqSs9m4wN[...]17/MKpw==&quot;)` instead of `&quot;OixtTJRXe2nDRWDBqSs9m4wN[...]17/MKpw==&quot;.getBytes(StandardCharsets.UTF_8)`.","body":"When decrypting, the ciphertext must be Base64 decoded and not UTF8 encoded: <code>Base64.getDecoder().decode(&quot;OixtTJRXe2nDRWDBqSs9m4wN[...]17&#47;&zwnj;&#8203;MKpw==&quot;)</code> instead of <code>&quot;OixtTJRXe2nDRWDBqSs9m4wN[...]17&#47;MKpw==&quot;.getBytes(StandardCh&zwnj;&#8203;arsets.UTF_8)</code>."},{"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"score":0,"creation_date":1645449349,"post_id":71206560,"comment_id":125867093,"body_markdown":"Absolutely, thanks a lot @Topaco, accepted and upvoted the comment","body":"Absolutely, thanks a lot @Topaco, accepted and upvoted the comment"}],"answers":[{"tags":[],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669072156,"creation_date":1650244519,"answer_id":71906692,"question_id":71206560,"body_markdown":"As Topaco mentioned (all credits to him) when decrypting, the ciphertext must be Base64 decoded and not UTF8 encoded:\r\n\r\nIn my case, it was UTF8 encoded.\r\n\r\n``` Base64.getDecoder().decode(&quot;OixtTJRXe2nDRWDBqSs9m4wN[...]17/MKpw==&quot;) ``` worked.\r\n","title":"Java RSA decryption javax.crypto.IllegalBlockSizeException: Data must not be longer than 256 bytes","body":"<p>As Topaco mentioned (all credits to him) when decrypting, the ciphertext must be Base64 decoded and not UTF8 encoded:</p>\n<p>In my case, it was UTF8 encoded.</p>\n<p><code>Base64.getDecoder().decode(&quot;OixtTJRXe2nDRWDBqSs9m4wN[...]17/MKpw==&quot;)</code> worked.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2553,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71906692,"answer_count":1,"score":2,"last_activity_date":1669072156,"creation_date":1645447548,"question_id":71206560,"body_markdown":"Small RSA decryption question with Java please.\r\n\r\nI want to meet in a secret location with a friend of mine.\r\nAs we do not want anyone to eavesdrop on the secret location, I generated a RSA key pair, a private key and a public key. Note, I generated both as Strings.\r\n\r\n```\r\n        String privateKeyString = &quot;MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC6cXloNrocJ8s[...]LABviZm5AFCQWfke4LZo5mOS10&quot;;\r\n        String publicKeyString = &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB[...]EatUOuyQMt2Vwx4uV+d/A3DP6PtMGBKpF8St4iGwIDAQAB&quot;;\r\n```\r\n\r\nI then shared publicly my public key to my friend, who wrote this:\r\n\r\n```\r\nprivate static String encryptSecretLocation(String secretLocation) {\r\n        try {\r\n            String publicKeyString = &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB[...]EatUOuyQMt2Vwx4uV+d/A3DP6PtMGBKpF8St4iGwIDAQAB&quot;; //public key same as above\r\n            byte[]             buffer          = Base64.getDecoder().decode(publicKeyString);\r\n            KeyFactory         keyFactory      = KeyFactory.getInstance(&quot;RSA&quot;);\r\n            X509EncodedKeySpec keySpec         = new X509EncodedKeySpec(buffer);\r\n            PublicKey          publicKey       = keyFactory.generatePublic(keySpec);\r\n            Cipher             encryptCipher   = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n            encryptCipher.init(Cipher.ENCRYPT_MODE, publicKey);\r\n            byte[] secretMessageBytes    = secretLocation.getBytes(StandardCharsets.UTF_8);\r\n            byte[] encryptedMessageBytes = encryptCipher.doFinal(secretMessageBytes);\r\n            return Base64.getEncoder().encodeToString(encryptedMessageBytes);\r\n        } catch (NoSuchAlgorithmException | InvalidKeyException | InvalidKeySpecException | NoSuchPaddingException | IllegalBlockSizeException | BadPaddingException e) {\r\n            return &quot;bad location&quot;;\r\n        }\r\n    }\r\n```\r\n\r\nAnd indeed, he managed to get some gibberish, which he sent me back\r\n\r\n```\r\n&quot;OixtTJRXe2nDRWDBqSs9m4wN[...]17/MKpw==&quot;\r\n```\r\n\r\nvia a nice letter:\r\n```\r\nHey, meet me at (decrypt this)\r\n\r\n&quot;OixtTJRXe2nDRWDBqSs9m4wN[...]17/MKpw==&quot;\r\n\r\nI will wait for you there tomorrow at noon! Please come alone!\r\n```\r\n\r\nI have the private key which I did not share with anyone, and was hoping to compute back the secret location with this piece of code, this is what I tried.\r\n\r\n```\r\n public static void main(String[] args) throws Exception {\r\n        String privateKeyString = &quot;MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC6cXloNrocJ8s[...]LABviZm5AFCQWfke4LZo5mOS10&quot;;\r\n        String publicKeyString = &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB[...]EatUOuyQMt2Vwx4uV+d/A3DP6PtMGBKpF8St4iGwIDAQAB&quot;;\r\n\r\n        byte[]              buffer1       = Base64.getDecoder().decode(privateKeyString);\r\n        PKCS8EncodedKeySpec keySpec1      = new PKCS8EncodedKeySpec(buffer1);\r\n        KeyFactory          keyFactory1   = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PrivateKey          privateKey    = (RSAPrivateKey) keyFactory1.generatePrivate(keySpec1);\r\n\r\n        Cipher decryptCipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\r\n        decryptCipher.init(Cipher.DECRYPT_MODE, privateKey);\r\n\r\n        byte[] decryptedMessageBytes = decryptCipher.doFinal(&quot;OixtTJRXe2nDRWDBqSs9m4wN[...]17/MKpw==&quot;.getBytes(StandardCharsets.UTF_8));\r\n        String decryptedMessage      = new String(decryptedMessageBytes, StandardCharsets.UTF_8);\r\n        \r\n        System.out.println(decryptedMessage);\r\n    }\r\n```\r\n\r\nUnfortunately, all I am getting is :\r\n\r\n```\r\nException in thread &quot;main&quot; javax.crypto.IllegalBlockSizeException: Data must not be longer than 256 bytes\r\n\tat java.base/com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:347)\r\n\tat java.base/com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:392)\r\n\tat java.base/javax.crypto.Cipher.doFinal(Cipher.java:2202)\r\n```\r\n\r\nMay I ask what is the issue, and how to compute the secret location of our meeting back please?\r\n\r\nThank you\r\n\r\nP.S. Tried to make the question interesting, hope you liked it!","title":"Java RSA decryption javax.crypto.IllegalBlockSizeException: Data must not be longer than 256 bytes","body":"<p>Small RSA decryption question with Java please.</p>\n<p>I want to meet in a secret location with a friend of mine.\nAs we do not want anyone to eavesdrop on the secret location, I generated a RSA key pair, a private key and a public key. Note, I generated both as Strings.</p>\n<pre><code>        String privateKeyString = &quot;MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC6cXloNrocJ8s[...]LABviZm5AFCQWfke4LZo5mOS10&quot;;\n        String publicKeyString = &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB[...]EatUOuyQMt2Vwx4uV+d/A3DP6PtMGBKpF8St4iGwIDAQAB&quot;;\n</code></pre>\n<p>I then shared publicly my public key to my friend, who wrote this:</p>\n<pre><code>private static String encryptSecretLocation(String secretLocation) {\n        try {\n            String publicKeyString = &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB[...]EatUOuyQMt2Vwx4uV+d/A3DP6PtMGBKpF8St4iGwIDAQAB&quot;; //public key same as above\n            byte[]             buffer          = Base64.getDecoder().decode(publicKeyString);\n            KeyFactory         keyFactory      = KeyFactory.getInstance(&quot;RSA&quot;);\n            X509EncodedKeySpec keySpec         = new X509EncodedKeySpec(buffer);\n            PublicKey          publicKey       = keyFactory.generatePublic(keySpec);\n            Cipher             encryptCipher   = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n            encryptCipher.init(Cipher.ENCRYPT_MODE, publicKey);\n            byte[] secretMessageBytes    = secretLocation.getBytes(StandardCharsets.UTF_8);\n            byte[] encryptedMessageBytes = encryptCipher.doFinal(secretMessageBytes);\n            return Base64.getEncoder().encodeToString(encryptedMessageBytes);\n        } catch (NoSuchAlgorithmException | InvalidKeyException | InvalidKeySpecException | NoSuchPaddingException | IllegalBlockSizeException | BadPaddingException e) {\n            return &quot;bad location&quot;;\n        }\n    }\n</code></pre>\n<p>And indeed, he managed to get some gibberish, which he sent me back</p>\n<pre><code>&quot;OixtTJRXe2nDRWDBqSs9m4wN[...]17/MKpw==&quot;\n</code></pre>\n<p>via a nice letter:</p>\n<pre><code>Hey, meet me at (decrypt this)\n\n&quot;OixtTJRXe2nDRWDBqSs9m4wN[...]17/MKpw==&quot;\n\nI will wait for you there tomorrow at noon! Please come alone!\n</code></pre>\n<p>I have the private key which I did not share with anyone, and was hoping to compute back the secret location with this piece of code, this is what I tried.</p>\n<pre><code> public static void main(String[] args) throws Exception {\n        String privateKeyString = &quot;MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC6cXloNrocJ8s[...]LABviZm5AFCQWfke4LZo5mOS10&quot;;\n        String publicKeyString = &quot;MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIB[...]EatUOuyQMt2Vwx4uV+d/A3DP6PtMGBKpF8St4iGwIDAQAB&quot;;\n\n        byte[]              buffer1       = Base64.getDecoder().decode(privateKeyString);\n        PKCS8EncodedKeySpec keySpec1      = new PKCS8EncodedKeySpec(buffer1);\n        KeyFactory          keyFactory1   = KeyFactory.getInstance(&quot;RSA&quot;);\n        PrivateKey          privateKey    = (RSAPrivateKey) keyFactory1.generatePrivate(keySpec1);\n\n        Cipher decryptCipher = Cipher.getInstance(&quot;RSA/ECB/PKCS1Padding&quot;);\n        decryptCipher.init(Cipher.DECRYPT_MODE, privateKey);\n\n        byte[] decryptedMessageBytes = decryptCipher.doFinal(&quot;OixtTJRXe2nDRWDBqSs9m4wN[...]17/MKpw==&quot;.getBytes(StandardCharsets.UTF_8));\n        String decryptedMessage      = new String(decryptedMessageBytes, StandardCharsets.UTF_8);\n        \n        System.out.println(decryptedMessage);\n    }\n</code></pre>\n<p>Unfortunately, all I am getting is :</p>\n<pre><code>Exception in thread &quot;main&quot; javax.crypto.IllegalBlockSizeException: Data must not be longer than 256 bytes\n    at java.base/com.sun.crypto.provider.RSACipher.doFinal(RSACipher.java:347)\n    at java.base/com.sun.crypto.provider.RSACipher.engineDoFinal(RSACipher.java:392)\n    at java.base/javax.crypto.Cipher.doFinal(Cipher.java:2202)\n</code></pre>\n<p>May I ask what is the issue, and how to compute the secret location of our meeting back please?</p>\n<p>Thank you</p>\n<p>P.S. Tried to make the question interesting, hope you liked it!</p>\n"},{"tags":["java","utf-8","ftp-client"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1669071427,"post_id":74525667,"comment_id":131555798,"body_markdown":"[check this](https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setFileType-int-)","body":"<a href=\"https://commons.apache.org/proper/commons-net/apidocs/org/apache/commons/net/ftp/FTPClient.html#setFileType-int-\" rel=\"nofollow noreferrer\">check this</a>"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":1,"creation_date":1669072343,"post_id":74525667,"comment_id":131555964,"body_markdown":"&quot;What we see after converting to json is for example the following which appears instead of chinese/hindi/arabic characters&quot; Appears where? Are you sure you&#39;re checking with a software that can display chinese/hindi/arabic characters?","body":"&quot;What we see after converting to json is for example the following which appears instead of chinese/hindi/arabic characters&quot; Appears where? Are you sure you&#39;re checking with a software that can display chinese/hindi/arabic characters?"},{"owner":{"account_id":187431,"reputation":3311,"user_id":425481,"accept_rate":59,"display_name":"vbNewbie"},"score":0,"creation_date":1669072419,"post_id":74525667,"comment_id":131555976,"body_markdown":"Thanks; tried it and same issue persists.","body":"Thanks; tried it and same issue persists."},{"owner":{"account_id":187431,"reputation":3311,"user_id":425481,"accept_rate":59,"display_name":"vbNewbie"},"score":0,"creation_date":1669072475,"post_id":74525667,"comment_id":131555984,"body_markdown":"@m0skit0 I see now that the downloaded file appears that way as well in a browser even though its saved with utf-8 encoding","body":"@m0skit0 I see now that the downloaded file appears that way as well in a browser even though its saved with utf-8 encoding"},{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1669072518,"post_id":74525667,"comment_id":131555988,"body_markdown":"Did you check the actual binary is UTF-8 encoded?","body":"Did you check the actual binary is UTF-8 encoded?"},{"owner":{"account_id":187431,"reputation":3311,"user_id":425481,"accept_rate":59,"display_name":"vbNewbie"},"score":0,"creation_date":1669073060,"post_id":74525667,"comment_id":131556077,"body_markdown":"Manually downloaded the ftp file with filezilla and tried opening it in browser as well. How else should I view the actual binary? Do you mean at the outputstream line in debug mode?","body":"Manually downloaded the ftp file with filezilla and tried opening it in browser as well. How else should I view the actual binary? Do you mean at the outputstream line in debug mode?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1669074426,"post_id":74525667,"comment_id":131556325,"body_markdown":"Try `docBuilder.parse(new InputSource(new InputStreamReader(new FileInputStream(&quot;foo.xml&quot;), &quot;UTF-8&quot;))));` Can&#39;t see if those brackets are right but you get the idea... Would help to link to a file we can test that shows the problem","body":"Try <code>docBuilder.parse(new InputSource(new InputStreamReader(new FileInputStream(&quot;foo.xml&quot;), &quot;UTF-8&quot;))));</code> Can&#39;t see if those brackets are right but you get the idea... Would help to link to a file we can test that shows the problem"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1669076518,"post_id":74525667,"comment_id":131556640,"body_markdown":"What tool and font are you using to render those _&quot;chinese/hindi/arabic characters&quot;_ in your JSON file?","body":"What tool and font are you using to render those <i>&quot;chinese/hindi/arabic characters&quot;</i> in your JSON file?"},{"owner":{"account_id":187431,"reputation":3311,"user_id":425481,"accept_rate":59,"display_name":"vbNewbie"},"score":0,"creation_date":1670890922,"post_id":74525667,"comment_id":131973907,"body_markdown":"Thanks for everyones response; the file at the source is the issue and we are still waiting on a fix for that. But in the meantime, I have a question on whether its possible to read a file with bad encoding and write out a new file with that content in the correct encoding?","body":"Thanks for everyones response; the file at the source is the issue and we are still waiting on a fix for that. But in the meantime, I have a question on whether its possible to read a file with bad encoding and write out a new file with that content in the correct encoding?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1670926391,"post_id":74525667,"comment_id":131980695,"body_markdown":"Things are rarely *im*possible but you want to avoid attempting that as you will probably be forever tweaking it","body":"Things are rarely <i>im</i>possible but you want to avoid attempting that as you will probably be forever tweaking it"},{"owner":{"account_id":187431,"reputation":3311,"user_id":425481,"accept_rate":59,"display_name":"vbNewbie"},"score":0,"creation_date":1670941380,"post_id":74525667,"comment_id":131986042,"body_markdown":"agree; temporary workarounds do tend to create additional headaches. Thanks","body":"agree; temporary workarounds do tend to create additional headaches. Thanks"}],"owner":{"account_id":187431,"reputation":3311,"user_id":425481,"accept_rate":59,"display_name":"vbNewbie"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669071943,"creation_date":1669070670,"question_id":74525667,"body_markdown":"I have created a script to download files from an ftp endpoint. I was assured that the files would be in utf-8 encoding but upon downloading and parsing the xml, we encounter bad formatting. The process is to download the file, convert the xml to json and parse and convert to a different format. What we see after converting to json is for example the following which appears instead of chinese/hindi/arabic characters:\r\n\r\n&gt; &quot;Size&quot;: 3227,\r\n\t&quot;Title&quot;: &quot;??? ???? ????? ?? ???? ?? 5 ??? ?? ??? ?? ?? ???? ?? ????????? ?? ???? ???? ??????-Pakistan new army chief\r\n\r\n\r\nThe code snippet is the following:\r\n\r\n            ftp.connect(&quot;xx.xxx.xxx.xx&quot;);\r\n\t\t\tftp.login(&quot;xxxx&quot;, &quot;xxxxx&quot;);\r\n\r\n\t\t\tftp.enterLocalPassiveMode();\r\n\t\t\tftp.setControlEncoding(&quot;UTF-8&quot;);\r\n            ftp.setFileType(FTP.BINARY_FILE_TYPE);\r\n            ...\r\n            String remoteFile1 = ftp.printWorkingDirectory() + &quot;/&quot; + file.getName();\r\n            File downloadFile1 = new File(destFolder + &quot;/&quot; + &quot;/&quot; + file.getName());\r\n            OutputStream outputStream1 = new BufferedOutputStream(new FileOutputStream(downloadFile1));\r\n            boolean success = ftp.retrieveFile(remoteFile1, outputStream1);\r\n            outputStream1.flush();\r\n            outputStream1.close();\r\n             ....\r\n            DocumentBuilderFactory docFactory = \r\n            DocumentBuilderFactory.newInstance();\r\n\t\t    DocumentBuilder docBuilder = docFactory.newDocumentBuilder();\r\n\t\t    Document doc = docBuilder.newDocument();\r\n\t\t    doc = docBuilder.parse(xmlFile);\r\n\r\n\t\t    doc.getDocumentElement().normalize();\r\n\t        TransformerFactory tf = TransformerFactory.newInstance();\r\n\t\t    Transformer trans = tf.newTransformer();\r\n\t\t    StringWriter sw = new StringWriter();\r\n\t\t    trans.transform(new DOMSource(doc), new StreamResult(sw));\r\n\t\t    String xml = sw.toString();\r\n\t\t    JSONObject xmlJSONObj = XML.toJSONObject(xml);\r\n\t\t    String jsonPrettyPrintString = xmlJSONObj.toString(4);\r\n\t\t    jsonMapper.configure(SerializationFeature.WRAP_ROOT_VALUE, false);...\r\n\r\n\r\nCan someone advise how to ensure the encoding can be changed to output the correct format for foreign characters?","title":"text encoding in ftp download app causing errors","body":"<p>I have created a script to download files from an ftp endpoint. I was assured that the files would be in utf-8 encoding but upon downloading and parsing the xml, we encounter bad formatting. The process is to download the file, convert the xml to json and parse and convert to a different format. What we see after converting to json is for example the following which appears instead of chinese/hindi/arabic characters:</p>\n<blockquote>\n<p>&quot;Size&quot;: 3227,\n&quot;Title&quot;: &quot;??? ???? ????? ?? ???? ?? 5 ??? ?? ??? ?? ?? ???? ?? ????????? ?? ???? ???? ??????-Pakistan new army chief</p>\n</blockquote>\n<p>The code snippet is the following:</p>\n<pre><code>        ftp.connect(&quot;xx.xxx.xxx.xx&quot;);\n        ftp.login(&quot;xxxx&quot;, &quot;xxxxx&quot;);\n\n        ftp.enterLocalPassiveMode();\n        ftp.setControlEncoding(&quot;UTF-8&quot;);\n        ftp.setFileType(FTP.BINARY_FILE_TYPE);\n        ...\n        String remoteFile1 = ftp.printWorkingDirectory() + &quot;/&quot; + file.getName();\n        File downloadFile1 = new File(destFolder + &quot;/&quot; + &quot;/&quot; + file.getName());\n        OutputStream outputStream1 = new BufferedOutputStream(new FileOutputStream(downloadFile1));\n        boolean success = ftp.retrieveFile(remoteFile1, outputStream1);\n        outputStream1.flush();\n        outputStream1.close();\n         ....\n        DocumentBuilderFactory docFactory = \n        DocumentBuilderFactory.newInstance();\n        DocumentBuilder docBuilder = docFactory.newDocumentBuilder();\n        Document doc = docBuilder.newDocument();\n        doc = docBuilder.parse(xmlFile);\n\n        doc.getDocumentElement().normalize();\n        TransformerFactory tf = TransformerFactory.newInstance();\n        Transformer trans = tf.newTransformer();\n        StringWriter sw = new StringWriter();\n        trans.transform(new DOMSource(doc), new StreamResult(sw));\n        String xml = sw.toString();\n        JSONObject xmlJSONObj = XML.toJSONObject(xml);\n        String jsonPrettyPrintString = xmlJSONObj.toString(4);\n        jsonMapper.configure(SerializationFeature.WRAP_ROOT_VALUE, false);...\n</code></pre>\n<p>Can someone advise how to ensure the encoding can be changed to output the correct format for foreign characters?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1669070428,"post_id":74525633,"comment_id":131555545,"body_markdown":"We are gonna need more of the code about the binding. Where you set it/clear it and where do you try to setText.","body":"We are gonna need more of the code about the binding. Where you set it/clear it and where do you try to setText."},{"owner":{"account_id":11539740,"reputation":3,"user_id":8455894,"display_name":"Manuel Torres"},"score":0,"creation_date":1669071429,"post_id":74525633,"comment_id":131555799,"body_markdown":"That&#39;ll be all the code so far: public class EditActivity extends AppCompatActivity {\n\n    EditActivityBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.edit_activity);\n\n        Toast.makeText(this, getIntent().getStringExtra(&quot;ARTICULO&quot;), Toast.LENGTH_SHORT).show();\n        binding.edtArticulo.setText(getIntent().getStringExtra(&quot;ARTICULO&quot;).trim()) ;","body":"That&#39;ll be all the code so far: public class EditActivity extends AppCompatActivity {      EditActivityBinding binding;      @Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.edit_activity);          Toast.makeText(this, getIntent().getStringExtra(&quot;ARTICULO&quot;), Toast.LENGTH_SHORT).show();         binding.edtArticulo.setText(getIntent().getStringExtra(&quot;ARTI&zwnj;&#8203;CULO&quot;).trim()) ;"}],"answers":[{"comments":[{"owner":{"account_id":11539740,"reputation":3,"user_id":8455894,"display_name":"Manuel Torres"},"score":0,"creation_date":1669073222,"post_id":74525795,"comment_id":131556108,"body_markdown":"Thats it.... there are no emoticons here, just imagine a man covering his face....","body":"Thats it.... there are no emoticons here, just imagine a man covering his face...."}],"tags":[],"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669071895,"creation_date":1669071895,"answer_id":74525795,"question_id":74525633,"body_markdown":"It&#39;s the binding, it is empty/null. You are not using/inflating it.\r\n\r\n    setContentView(R.layout.edit_activity);\r\n\r\nThat&#39;s the old regular way. Replace it with:\r\n\r\n    binding = EditActivityBinding.inflate(getLayoutInflater());\r\n    setContentView(binding.root);","title":"Error while trying to assign test to EditText using binding","body":"<p>It's the binding, it is empty/null. You are not using/inflating it.</p>\n<pre><code>setContentView(R.layout.edit_activity);\n</code></pre>\n<p>That's the old regular way. Replace it with:</p>\n<pre><code>binding = EditActivityBinding.inflate(getLayoutInflater());\nsetContentView(binding.root);\n</code></pre>\n"}],"owner":{"account_id":11539740,"reputation":3,"user_id":8455894,"display_name":"Manuel Torres"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74525795,"answer_count":1,"score":0,"last_activity_date":1669071895,"creation_date":1669070313,"question_id":74525633,"body_markdown":"The Toat shows the content but when trying\r\n```\r\nToast.makeText(this, getIntent().getStringExtra(&quot;ARTICULO&quot;), Toast.LENGTH_SHORT).show();\r\n        \r\nbinding.edtArticulo.setText(getIntent().getStringExtra(&quot;ARTICULO&quot;).trim()) ;\r\n\r\n```\r\n\r\nGetting this error:\r\n\r\nCaused by: java.lang.NullPointerException: Attempt to read from field &#39;android.widget.EditText com.example.scanapp.databinding.EditActivityBinding.edtArticulo&#39; on a null object reference in method &#39;void com.example.scanapp.EditActivity.onCreate(android.os.Bundle)&#39;\r\n\r\nAlready check the Intent contents, all is fine.\r\n\r\nComplete Class code:\r\n\r\n```\r\npublic class EditActivity extends AppCompatActivity {\r\n\r\n    EditActivityBinding binding;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.edit_activity);\r\n\r\n        Toast.makeText(this, getIntent().getStringExtra(&quot;ARTICULO&quot;), Toast.LENGTH_SHORT).show();\r\n        binding.edtArticulo.setText(getIntent().getStringExtra(&quot;ARTICULO&quot;).trim()) ;\r\n\r\n}\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Error while trying to assign test to EditText using binding","body":"<p>The Toat shows the content but when trying</p>\n<pre><code>Toast.makeText(this, getIntent().getStringExtra(&quot;ARTICULO&quot;), Toast.LENGTH_SHORT).show();\n        \nbinding.edtArticulo.setText(getIntent().getStringExtra(&quot;ARTICULO&quot;).trim()) ;\n\n</code></pre>\n<p>Getting this error:</p>\n<p>Caused by: java.lang.NullPointerException: Attempt to read from field 'android.widget.EditText com.example.scanapp.databinding.EditActivityBinding.edtArticulo' on a null object reference in method 'void com.example.scanapp.EditActivity.onCreate(android.os.Bundle)'</p>\n<p>Already check the Intent contents, all is fine.</p>\n<p>Complete Class code:</p>\n<pre><code>public class EditActivity extends AppCompatActivity {\n\n    EditActivityBinding binding;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.edit_activity);\n\n        Toast.makeText(this, getIntent().getStringExtra(&quot;ARTICULO&quot;), Toast.LENGTH_SHORT).show();\n        binding.edtArticulo.setText(getIntent().getStringExtra(&quot;ARTICULO&quot;).trim()) ;\n\n}\n}\n\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit4"],"comments":[{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1669065119,"post_id":74524785,"comment_id":131554239,"body_markdown":"What is `MyApplication.class`? Usually it should be a spring boot configuration file with specified set of beans to load. If you want to load all the beans (including services, DAOs, etc) then try running `@SpringBootTest` without parameters at all.","body":"What is <code>MyApplication.class</code>? Usually it should be a spring boot configuration file with specified set of beans to load. If you want to load all the beans (including services, DAOs, etc) then try running <code>@SpringBootTest</code> without parameters at all."},{"owner":{"account_id":5002169,"reputation":21,"user_id":4020837,"display_name":"Tim Milstead"},"score":0,"creation_date":1669066997,"post_id":74524785,"comment_id":131554724,"body_markdown":"It&#39;s the SpringBoot application class. I&#39;ve tried SpringBootTest without the argument - doesn&#39;t make any difference","body":"It&#39;s the SpringBoot application class. I&#39;ve tried SpringBootTest without the argument - doesn&#39;t make any difference"},{"owner":{"account_id":5002169,"reputation":21,"user_id":4020837,"display_name":"Tim Milstead"},"score":0,"creation_date":1669067132,"post_id":74524785,"comment_id":131554762,"body_markdown":"I&#39;ve tried adding constructor injection to the controller class and add a breakpoint. It gets called before the test runs and the dependencies get injected, but when the test runs it gets a different instance of the controller injected, one with null dependencies.","body":"I&#39;ve tried adding constructor injection to the controller class and add a breakpoint. It gets called before the test runs and the dependencies get injected, but when the test runs it gets a different instance of the controller injected, one with null dependencies."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1669068004,"post_id":74524785,"comment_id":131554991,"body_markdown":"Its hard to tell what happens based on this info only... Is it possible that other beans usually injected into the controller are coming from other jar modules and hence are not processed by spring boot test?","body":"Its hard to tell what happens based on this info only... Is it possible that other beans usually injected into the controller are coming from other jar modules and hence are not processed by spring boot test?"},{"owner":{"account_id":5002169,"reputation":21,"user_id":4020837,"display_name":"Tim Milstead"},"score":0,"creation_date":1669068656,"post_id":74524785,"comment_id":131555119,"body_markdown":"Would @EnableAspectJAutoProxy on the application mess things up?","body":"Would @EnableAspectJAutoProxy on the application mess things up?"}],"answers":[{"tags":[],"owner":{"account_id":5002169,"reputation":21,"user_id":4020837,"display_name":"Tim Milstead"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669071697,"creation_date":1669071697,"answer_id":74525774,"question_id":74524785,"body_markdown":"Yep, this was some aspect oriented programming that was intercepting stuff on the object and preventing the real values from being returned - returning null instead from a proxy.","title":"SpringBootTest NULL Secondary Dependencies","body":"<p>Yep, this was some aspect oriented programming that was intercepting stuff on the object and preventing the real values from being returned - returning null instead from a proxy.</p>\n"}],"owner":{"account_id":5002169,"reputation":21,"user_id":4020837,"display_name":"Tim Milstead"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669071697,"creation_date":1669064086,"question_id":74524785,"body_markdown":"I am testing a SpringBoot rest controller with JUnit 4 (not 5).\r\nI&#39;m injecting the controller into the test with @Autowired and it is coming in non null so the Spring application context is delivering beans (and I can add it as an autowire on the test and it&#39;s non null).\r\nThe problem is that all the autowired dependencies on the injected rest controller are null (and an @Value field too), i.e. I get the bean from the context but it hasn&#39;t been autowired. Note: I am not manually creating the controller with new.\r\n\r\nThese are the annotations on the test:\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = {MyApplication.class})\r\n@ActiveProfiles({&quot;local&quot;, &quot;test&quot;})\r\n```\r\n\r\nand I am using the following dependencies in the build gradle\r\n\r\n```\r\ntestImplementation &#39;junit:junit:4.13.1&#39;\r\ntestImplementation &#39;org.junit.vintage:junit-vintage-engine&#39;\r\n```\r\n\r\nUnfortunately I can&#39;t post the code. It&#39;s a multi project gradle build, but I am not testing across projects. The application is in a package above the package containing the controller.","title":"SpringBootTest NULL Secondary Dependencies","body":"<p>I am testing a SpringBoot rest controller with JUnit 4 (not 5).\nI'm injecting the controller into the test with @Autowired and it is coming in non null so the Spring application context is delivering beans (and I can add it as an autowire on the test and it's non null).\nThe problem is that all the autowired dependencies on the injected rest controller are null (and an @Value field too), i.e. I get the bean from the context but it hasn't been autowired. Note: I am not manually creating the controller with new.</p>\n<p>These are the annotations on the test:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = {MyApplication.class})\n@ActiveProfiles({&quot;local&quot;, &quot;test&quot;})\n</code></pre>\n<p>and I am using the following dependencies in the build gradle</p>\n<pre><code>testImplementation 'junit:junit:4.13.1'\ntestImplementation 'org.junit.vintage:junit-vintage-engine'\n</code></pre>\n<p>Unfortunately I can't post the code. It's a multi project gradle build, but I am not testing across projects. The application is in a package above the package containing the controller.</p>\n"},{"tags":["java","spring-boot","web-services"],"answers":[{"tags":[],"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669071687,"creation_date":1669071687,"answer_id":74525772,"question_id":74523623,"body_markdown":"Well it&#39;s up to developer to implement catch of exceptions mechanism. But it&#39;s a good practise to define exceptions types and error codes/messages for that. Let&#39;s say you have an endpoint which fetch product with id, but there is no product with that id, in that case client will receive `http 500` code with `internal server error` message. This will confuse users and also developers, what was the real cause of that error.\r\n\r\nSo prevent those, you can get help from `@ControllerAdvice` annotation, which will allow to apply exception handlers to more than one or all controllers.\r\nFirst you will define your custom exceptions like :\r\n\r\n    public class ProductNotFoundException extends RuntimeException {\r\n    \r\n        public ProductNotFoundException(Long id) {\r\n    \r\n            super(String.format(&quot;Product with id %d not found&quot;, id));\r\n        }\r\n    }\r\n\r\n\r\nand then you can define your `ControllerAdvice` class:\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandler extends ResponseEntityExceptionHandler {\r\n    \r\n     @ExceptionHandler(ProductNotFound.class)\r\n        public ResponseEntity&lt;Object&gt; handleProductNotFoundException(\r\n            ProductNotFoundException ex, WebRequest request) {\r\n    \r\n            Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\r\n            body.put(&quot;timestamp&quot;, LocalDateTime.now());\r\n            body.put(&quot;message&quot;, &quot;Product not found&quot;);\r\n    \r\n            return new ResponseEntity&lt;&gt;(body, HttpStatus.NOT_FOUND);\r\n        }\r\n    }","title":"Java Spring Boot: Exception Handling","body":"<p>Well it's up to developer to implement catch of exceptions mechanism. But it's a good practise to define exceptions types and error codes/messages for that. Let's say you have an endpoint which fetch product with id, but there is no product with that id, in that case client will receive <code>http 500</code> code with <code>internal server error</code> message. This will confuse users and also developers, what was the real cause of that error.</p>\n<p>So prevent those, you can get help from <code>@ControllerAdvice</code> annotation, which will allow to apply exception handlers to more than one or all controllers.\nFirst you will define your custom exceptions like :</p>\n<pre><code>public class ProductNotFoundException extends RuntimeException {\n\n    public ProductNotFoundException(Long id) {\n\n        super(String.format(&quot;Product with id %d not found&quot;, id));\n    }\n}\n</code></pre>\n<p>and then you can define your <code>ControllerAdvice</code> class:</p>\n<pre><code>@ControllerAdvice\npublic class ExceptionHandler extends ResponseEntityExceptionHandler {\n\n @ExceptionHandler(ProductNotFound.class)\n    public ResponseEntity&lt;Object&gt; handleProductNotFoundException(\n        ProductNotFoundException ex, WebRequest request) {\n\n        Map&lt;String, Object&gt; body = new LinkedHashMap&lt;&gt;();\n        body.put(&quot;timestamp&quot;, LocalDateTime.now());\n        body.put(&quot;message&quot;, &quot;Product not found&quot;);\n\n        return new ResponseEntity&lt;&gt;(body, HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3984916,"reputation":97,"user_id":3285813,"display_name":"CuriousGeo66"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74525772,"answer_count":1,"score":2,"last_activity_date":1669071687,"creation_date":1669056711,"question_id":74523623,"body_markdown":"A little new to the Java Spring Boot flavor of webservices -- so please be gentle. ***Why do most Spring Boot Controller examples not show any exceptions being captured?*** I see some of my fellow developers do this a lot. And the answer is: it&#39;s a common convention. But why. Am I missing a key concept of web services created using Spring Boot?\r\n\r\n**For example**:\r\n\r\n```\r\n@PostMapping(path = &quot;/sampleEndpoint/v1/myEndpoint&quot;, produces = &quot;application/json&quot;)\r\npublic ResponseEntity&lt;String&gt; myEndpoint(@RequestBody MyEndpointRequest myEndpointRequest) {\r\n    \r\n     MyEndpointResponse response = someService.myEndpoint(myEndpointRequest);\r\n     return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n}\r\n```\r\n\r\nI would think, with respects to the architecture you would add AT LEAST a try/catch block with say some logging, and throw a new exception with the exceptions message:\r\n\r\n```\r\n@PostMapping(path = &quot;/sampleEndpoint/v1/myEndpoint&quot;, produces = &quot;application/json&quot;)\r\npublic ResponseEntity&lt;String&gt; myEndpoint(@RequestBody MyEndpointRequest myEndpointRequest) {\r\n\r\n\r\n  try{  \r\n       MyEndpointResponse response = someService.myEndpoint(myEndpointRequest);\r\n       return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\r\n\r\n  }catch(Exception ex){\r\n    //Your favorite logger:\r\n    log.error(&quot;STACK_TRACE: {}&quot;, StaticClass.stackTraceToString(ex));\r\n\r\n    //throw exception for calling or consuming system/application:\r\n    throw new MiscException(ex.getMessage());\r\n  }\r\n}\r\n```\r\n\r\nA couple of things to give context to this question (observation):\r\n\r\n- Use multiple data sources: a couple of databases, and some other web services (gives our client a one stop place to get their data.\r\n- Using this webservice with potentially 4 different client side /presentation layer type of applications.\r\n- My team would like to capture unexpected exceptions emanating from the data sources we tap into...and log them.","title":"Java Spring Boot: Exception Handling","body":"<p>A little new to the Java Spring Boot flavor of webservices -- so please be gentle. <em><strong>Why do most Spring Boot Controller examples not show any exceptions being captured?</strong></em> I see some of my fellow developers do this a lot. And the answer is: it's a common convention. But why. Am I missing a key concept of web services created using Spring Boot?</p>\n<p><strong>For example</strong>:</p>\n<pre><code>@PostMapping(path = &quot;/sampleEndpoint/v1/myEndpoint&quot;, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;String&gt; myEndpoint(@RequestBody MyEndpointRequest myEndpointRequest) {\n    \n     MyEndpointResponse response = someService.myEndpoint(myEndpointRequest);\n     return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n}\n</code></pre>\n<p>I would think, with respects to the architecture you would add AT LEAST a try/catch block with say some logging, and throw a new exception with the exceptions message:</p>\n<pre><code>@PostMapping(path = &quot;/sampleEndpoint/v1/myEndpoint&quot;, produces = &quot;application/json&quot;)\npublic ResponseEntity&lt;String&gt; myEndpoint(@RequestBody MyEndpointRequest myEndpointRequest) {\n\n\n  try{  \n       MyEndpointResponse response = someService.myEndpoint(myEndpointRequest);\n       return new ResponseEntity&lt;&gt;(response, HttpStatus.OK);\n\n  }catch(Exception ex){\n    //Your favorite logger:\n    log.error(&quot;STACK_TRACE: {}&quot;, StaticClass.stackTraceToString(ex));\n\n    //throw exception for calling or consuming system/application:\n    throw new MiscException(ex.getMessage());\n  }\n}\n</code></pre>\n<p>A couple of things to give context to this question (observation):</p>\n<ul>\n<li>Use multiple data sources: a couple of databases, and some other web services (gives our client a one stop place to get their data.</li>\n<li>Using this webservice with potentially 4 different client side /presentation layer type of applications.</li>\n<li>My team would like to capture unexpected exceptions emanating from the data sources we tap into...and log them.</li>\n</ul>\n"},{"tags":["java","jpa","data-access-layer"],"comments":[{"owner":{"account_id":1455702,"reputation":15684,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"score":0,"creation_date":1611765751,"post_id":65748377,"comment_id":116557558,"body_markdown":"Does JPA require you to use any of those patterns? If not, then it would be up to the implementors, correct?","body":"Does JPA require you to use any of those patterns? If not, then it would be up to the implementors, correct?"}],"answers":[{"comments":[{"owner":{"account_id":14571259,"reputation":994,"user_id":10524503,"display_name":"Wortig"},"score":0,"creation_date":1612184901,"post_id":65983228,"comment_id":116679158,"body_markdown":"Why &quot;terrific&quot;? I do not know what exactly i should imagine by that, can you explain?","body":"Why &quot;terrific&quot;? I do not know what exactly i should imagine by that, can you explain?"}],"tags":[],"owner":{"account_id":1557597,"reputation":8312,"user_id":1448212,"display_name":"Richard Sitze"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1612121964,"creation_date":1612120736,"answer_id":65983228,"question_id":65748377,"body_markdown":"- Generally, a standard (such as JPA) will generally avoid dictating implementation decisions and instead dictate required behaviors expected of implementations.\r\n- JPA is a data access pattern, somewhere between a database gateway (`EntityManager`) and a data mapper.  Because JPA presents managed Entities to core code, realize that database interactions aren&#39;t necessarily restricted to a data access layer: records with implicit updates and (possibly) implicit queries for sub records.\r\n\r\nI encourage anyone to seek to understand the pattern that JPA is - it is an interesting one.  Not universal (are there any universal data access patterns?), but a terrific tool to have in your toolbox.\r\n","title":"Who specifies which (if any) data access layer pattern(s) are used in JPA?","body":"<ul>\n<li>Generally, a standard (such as JPA) will generally avoid dictating implementation decisions and instead dictate required behaviors expected of implementations.</li>\n<li>JPA is a data access pattern, somewhere between a database gateway (<code>EntityManager</code>) and a data mapper.  Because JPA presents managed Entities to core code, realize that database interactions aren't necessarily restricted to a data access layer: records with implicit updates and (possibly) implicit queries for sub records.</li>\n</ul>\n<p>I encourage anyone to seek to understand the pattern that JPA is - it is an interesting one.  Not universal (are there any universal data access patterns?), but a terrific tool to have in your toolbox.</p>\n"}],"owner":{"account_id":20416869,"reputation":29,"user_id":14978856,"display_name":"Jacko"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":65983228,"answer_count":1,"score":-1,"last_activity_date":1669071614,"creation_date":1610791205,"question_id":65748377,"body_markdown":"I know some data access layer patterns like:\r\n\r\n - Table data gateway\r\n - Row data gateway\r\n - Active record\r\n - Data mapper\r\n - ...\r\n\r\nJPA is a specification that describes management of relational data in javaee applications - https://en.wikipedia.org/wiki/Jakarta_Persistence\r\n\r\nAs &quot;management&quot; of relational data i imagine CRUD operations.\r\n\r\nJPA has to be implemented. These implementations are for example: EclipseLink, Hibernate, Apache OpenJPA etc.\r\n\r\nSo, when JPA has to be implemented, it describes management of relational data and data are accessed somehow using JPA, who specifies which (if any) data access layer pattern(s) are used? JPA or implementors? ","title":"Who specifies which (if any) data access layer pattern(s) are used in JPA?","body":"<p>I know some data access layer patterns like:</p>\n<ul>\n<li>Table data gateway</li>\n<li>Row data gateway</li>\n<li>Active record</li>\n<li>Data mapper</li>\n<li>...</li>\n</ul>\n<p>JPA is a specification that describes management of relational data in javaee applications - <a href=\"https://en.wikipedia.org/wiki/Jakarta_Persistence\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Jakarta_Persistence</a></p>\n<p>As &quot;management&quot; of relational data i imagine CRUD operations.</p>\n<p>JPA has to be implemented. These implementations are for example: EclipseLink, Hibernate, Apache OpenJPA etc.</p>\n<p>So, when JPA has to be implemented, it describes management of relational data and data are accessed somehow using JPA, who specifies which (if any) data access layer pattern(s) are used? JPA or implementors?</p>\n"},{"tags":["javascript","java","php","base64"],"comments":[{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":4,"creation_date":1564134576,"post_id":57217433,"comment_id":100939313,"body_markdown":"Add some code that shows how you decode it. Probably you&#39;re using the wrong encoding - try `utf-8`.","body":"Add some code that shows how you decode it. Probably you&#39;re using the wrong encoding - try <code>utf-8</code>."},{"owner":{"account_id":1129881,"reputation":11550,"user_id":1116230,"display_name":"Nico Haase"},"score":0,"creation_date":1564134595,"post_id":57217433,"comment_id":100939323,"body_markdown":"Please share the full code for all tests, this helps others to inspect your problem","body":"Please share the full code for all tests, this helps others to inspect your problem"},{"owner":{"account_id":9148725,"reputation":695,"user_id":6803997,"display_name":"Austin Schaefer"},"score":2,"creation_date":1564134613,"post_id":57217433,"comment_id":100939334,"body_markdown":"You&#39;re not calling the correct method to display your decoded string value or not using UTF-8. Please edit your post with your code.","body":"You&#39;re not calling the correct method to display your decoded string value or not using UTF-8. Please edit your post with your code."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1564134755,"post_id":57217433,"comment_id":100939425,"body_markdown":"Regarding `[B@4e25154f` [What&#39;s the simplest way to print a Java array?](https://stackoverflow.com/q/409784). Also this may interest you: [How to convert byte array to string and vice versa?](https://stackoverflow.com/q/1536054)","body":"Regarding <code>[B@4e25154f</code> <a href=\"https://stackoverflow.com/q/409784\">What&#39;s the simplest way to print a Java array?</a>. Also this may interest you: <a href=\"https://stackoverflow.com/q/1536054\">How to convert byte array to string and vice versa?</a>"},{"owner":{"account_id":15409204,"reputation":9,"user_id":11116437,"display_name":"Cihan &#199;etin"},"score":0,"creation_date":1564134810,"post_id":57217433,"comment_id":100939461,"body_markdown":"Gomennasai! I added sample codes.","body":"Gomennasai! I added sample codes."},{"owner":{"account_id":8063973,"reputation":896,"user_id":6078728,"accept_rate":67,"display_name":"Jesse Schokker"},"score":0,"creation_date":1564134945,"post_id":57217433,"comment_id":100939543,"body_markdown":"The base64 string doesn&#39;t seem to include any printable chracters? Test yourself here: https://www.base64decode.org/","body":"The base64 string doesn&#39;t seem to include any printable chracters? Test yourself here: <a href=\"https://www.base64decode.org/\" rel=\"nofollow noreferrer\">base64decode.org</a>"},{"owner":{"account_id":15409204,"reputation":9,"user_id":11116437,"display_name":"Cihan &#199;etin"},"score":0,"creation_date":1564135113,"post_id":57217433,"comment_id":100939650,"body_markdown":"Actaully, my problem is not that. Why result changing in every jdk version when I return my data as byte[]?","body":"Actaully, my problem is not that. Why result changing in every jdk version when I return my data as byte[]?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1564135296,"post_id":57217433,"comment_id":100939751,"body_markdown":"&quot;Why result changing in every jdk version when I return my data as byte[]&quot; are you are referring to `[B@4e25154f` and `[B@2a139a55`? Then they don&#39;t change based on JDK version, but based on current memory structure since it shows `Type@HexHashCode` and native hashcode of array is based on its memory location.","body":"&quot;Why result changing in every jdk version when I return my data as byte[]&quot; are you are referring to <code>[B@4e25154f</code> and <code>[B@2a139a55</code>? Then they don&#39;t change based on JDK version, but based on current memory structure since it shows <code>Type@HexHashCode</code> and native hashcode of array is based on its memory location."},{"owner":{"account_id":15409204,"reputation":9,"user_id":11116437,"display_name":"Cihan &#199;etin"},"score":0,"creation_date":1564136317,"post_id":57217433,"comment_id":100940317,"body_markdown":"I understand. Thank you.","body":"I understand. Thank you."}],"answers":[{"comments":[{"owner":{"account_id":15409204,"reputation":9,"user_id":11116437,"display_name":"Cihan &#199;etin"},"score":0,"creation_date":1564136279,"post_id":57217645,"comment_id":100940292,"body_markdown":"Umm, definetly latest in online compiler :)","body":"Umm, definetly latest in online compiler :)"},{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1564136332,"post_id":57217645,"comment_id":100940325,"body_markdown":"What online compiler are you using?","body":"What online compiler are you using?"},{"owner":{"account_id":15409204,"reputation":9,"user_id":11116437,"display_name":"Cihan &#199;etin"},"score":0,"creation_date":1564136416,"post_id":57217645,"comment_id":100940367,"body_markdown":"I&#39;m using jdoodle and compilejava for tests.","body":"I&#39;m using jdoodle and compilejava for tests."}],"tags":[],"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1564136421,"creation_date":1564135155,"answer_id":57217645,"question_id":57217433,"body_markdown":"This is how you do it ..., so it&#39;s not `UTF-8`.\r\n\r\n```\r\npublic class Main {\r\n\r\n\tpublic static void main(String[] args) throws UnsupportedEncodingException {\r\n\t\tString version = System.getProperty(&quot;java.version&quot;);\r\n\t\tSystem.out.print(version + &quot; || &quot; + decodeMeee());\r\n\t}\r\n\r\n\tprivate static String decodeMeee() throws UnsupportedEncodingException {\r\n\t\tbyte[] content = Base64.getDecoder()\r\n\t\t\t\t.decode(&quot;jZsq4NNN0K4HzssoDEakhImknSVHLWpsmIF2AEBNacLykXJWBK9VKmCuuX1SR5iMNlfqXe7/eP8oLFEZp50E3g==&quot;);\r\n\t\treturn new String(content, 0, content.length, &quot;UTF-8&quot;); // &lt;-- replace with correct encoding format\r\n\t}\r\n}\r\n```\r\n\r\nPrints:\r\n\r\n```\r\n12.0.2    || ��*��MЮ��(F�����%G-jl��v\r\n10.0.2    || ��*��MЮ��(F�����%G-jl��v\r\n1.8.0_151 || ��*��MЮ��(F�����%G-jl��v\r\n```\r\n\r\nPS:\r\n&gt; Lets try with latest JDK (10.0.1),\r\n\r\nDefinitely not the latest ;)","title":"Strange Java Base64.decode Results","body":"<p>This is how you do it ..., so it's not <code>UTF-8</code>.</p>\n\n<pre><code>public class Main {\n\n    public static void main(String[] args) throws UnsupportedEncodingException {\n        String version = System.getProperty(\"java.version\");\n        System.out.print(version + \" || \" + decodeMeee());\n    }\n\n    private static String decodeMeee() throws UnsupportedEncodingException {\n        byte[] content = Base64.getDecoder()\n                .decode(\"jZsq4NNN0K4HzssoDEakhImknSVHLWpsmIF2AEBNacLykXJWBK9VKmCuuX1SR5iMNlfqXe7/eP8oLFEZp50E3g==\");\n        return new String(content, 0, content.length, \"UTF-8\"); // &lt;-- replace with correct encoding format\n    }\n}\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>12.0.2    || ��*��MЮ��(F�����%G-jl��v\n10.0.2    || ��*��MЮ��(F�����%G-jl��v\n1.8.0_151 || ��*��MЮ��(F�����%G-jl��v\n</code></pre>\n\n<p>PS:</p>\n\n<blockquote>\n  <p>Lets try with latest JDK (10.0.1),</p>\n</blockquote>\n\n<p>Definitely not the latest ;)</p>\n"}],"owner":{"account_id":15409204,"reputation":9,"user_id":11116437,"display_name":"Cihan &#199;etin"},"comment_count":9,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1564136885,"accepted_answer_id":57217645,"answer_count":1,"score":-1,"last_activity_date":1669070696,"creation_date":1564134498,"question_id":57217433,"body_markdown":"I have a base64 encoded string.\r\n`&quot;jZsq4NNN0K4HzssoDEakhImknSVHLWpsmIF2AEBNacLykXJWBK9VKmCuuX1SR5iMNlfqXe7/eP8oLFEZp50E3g==&quot;`\r\n\r\nWhen I trying decode with php (`base64_decode`)\r\n\r\n**Result:** `��*��MЮ��(F�����%G-jl��v@Mi��rV�U*`��}RG��6W�]��x�(,Q���`\r\n\r\nWhen I trying with javascript (`window.atob`)\r\n\r\n**Result:** `*&#224;&#211;M&#208;&#174;&#206;&#203;(F&#164;&#164;%G-jlv@Mi&#194;&#242;rV&#175;U*`&#174;&#185;}RG6W&#234;]&#238;&#255;x&#255;(,Q&#167;&#222;&quot;`\r\n\r\nNow we came strange part.\r\n\r\nNow I trying with JDK 1.8.0_201 (`Base64.getDecoder().decode`)\r\n\r\n**Result:** `[B@4e25154f`\r\n\r\nNow with JDK 1.8.0_66\r\n\r\n**Result:** `[B@2a139a55`\r\n\r\nLets try with latest JDK (10.0.1),\r\n\r\n**Result:** `[B@6073f712`\r\n\r\nAs you can see, different results in every version.\r\nI don&#39;t know why and I want to learn. \r\n\r\n**Edit:**\r\n```\r\n  public static void main(String[] args)\r\n  {\r\n    String version = System.getProperty(&quot;java.version&quot;);\r\n    System.out.print(version + &quot; || &quot; + decodeMeee());\r\n  }\r\n  private static String decodeMeee() {\r\n    return newBase64.getDecoder().decode(&quot;jZsq4NNN0K4HzssoDEakhImknSVHLWpsmIF2AEBNacLykXJWBK9VKmCuuX1SR5iMNlfqXe7/eP8oLFEZp50E3g==&quot;);\r\n    }\r\n```\r\nAnd now I tried same thing with converting manually. It seems go with the grain.\r\n```\r\n  public static void main(String[] args)\r\n  {\r\n    String version = System.getProperty(&quot;java.version&quot;);\r\n    System.out.print(version + &quot; || &quot; + decodeMeee());\r\n  }\r\n  private static String decodeMeee() {\r\n    return new String(Base64.getDecoder().decode(&quot;jZsq4NNN0K4HzssoDEakhImknSVHLWpsmIF2AEBNacLykXJWBK9VKmCuuX1SR5iMNlfqXe7/eP8oLFEZp50E3g==&quot;));\r\n    }\r\n```","title":"Strange Java Base64.decode Results","body":"<p>I have a base64 encoded string.\n<code>\"jZsq4NNN0K4HzssoDEakhImknSVHLWpsmIF2AEBNacLykXJWBK9VKmCuuX1SR5iMNlfqXe7/eP8oLFEZp50E3g==\"</code></p>\n\n<p>When I trying decode with php (<code>base64_decode</code>)</p>\n\n<p><strong>Result:</strong> <code>��*��MЮ��(F�����%G-jl��v@Mi��rV�U*</code>��}RG��6W�]��x�(,Q���`</p>\n\n<p>When I trying with javascript (<code>window.atob</code>)</p>\n\n<p><strong>Result:</strong> <code>*àÓMÐ®ÎË(F¤¤%G-jlv@MiÂòrV¯U*</code>®¹}RG6Wê]îÿxÿ(,Q§Þ\"`</p>\n\n<p>Now we came strange part.</p>\n\n<p>Now I trying with JDK 1.8.0_201 (<code>Base64.getDecoder().decode</code>)</p>\n\n<p><strong>Result:</strong> <code>[B@4e25154f</code></p>\n\n<p>Now with JDK 1.8.0_66</p>\n\n<p><strong>Result:</strong> <code>[B@2a139a55</code></p>\n\n<p>Lets try with latest JDK (10.0.1),</p>\n\n<p><strong>Result:</strong> <code>[B@6073f712</code></p>\n\n<p>As you can see, different results in every version.\nI don't know why and I want to learn. </p>\n\n<p><strong>Edit:</strong></p>\n\n<pre><code>  public static void main(String[] args)\n  {\n    String version = System.getProperty(\"java.version\");\n    System.out.print(version + \" || \" + decodeMeee());\n  }\n  private static String decodeMeee() {\n    return newBase64.getDecoder().decode(\"jZsq4NNN0K4HzssoDEakhImknSVHLWpsmIF2AEBNacLykXJWBK9VKmCuuX1SR5iMNlfqXe7/eP8oLFEZp50E3g==\");\n    }\n</code></pre>\n\n<p>And now I tried same thing with converting manually. It seems go with the grain.</p>\n\n<pre><code>  public static void main(String[] args)\n  {\n    String version = System.getProperty(\"java.version\");\n    System.out.print(version + \" || \" + decodeMeee());\n  }\n  private static String decodeMeee() {\n    return new String(Base64.getDecoder().decode(\"jZsq4NNN0K4HzssoDEakhImknSVHLWpsmIF2AEBNacLykXJWBK9VKmCuuX1SR5iMNlfqXe7/eP8oLFEZp50E3g==\"));\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1669069557,"post_id":74525502,"comment_id":131555336,"body_markdown":"`one.compareTo(two);` does not give you String length. To get length use `one.length()`.","body":"<code>one.compareTo(two);</code> does not give you String length. To get length use <code>one.length()</code>."},{"owner":{"account_id":16085987,"reputation":33,"user_id":11610684,"display_name":"Anonymous"},"score":0,"creation_date":1669069686,"post_id":74525502,"comment_id":131555373,"body_markdown":"I have to use compareTo as it&#39;s part of the assignment requirements.","body":"I have to use compareTo as it&#39;s part of the assignment requirements."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669069693,"post_id":74525502,"comment_id":131555376,"body_markdown":"compareTo does not return a length difference, read the docs.","body":"compareTo does not return a length difference, read the docs."},{"owner":{"account_id":3331042,"reputation":93,"user_id":2799985,"display_name":"Chakib Arrama"},"score":0,"creation_date":1669069766,"post_id":74525502,"comment_id":131555389,"body_markdown":"Error in the code you need to inverse the messages or the conditions because when if(length &gt; 0) means that &quot;String one is greater than string two.&quot; not &quot;String one is less than string two.&quot;","body":"Error in the code you need to inverse the messages or the conditions because when if(length &gt; 0) means that &quot;String one is greater than string two.&quot; not &quot;String one is less than string two.&quot;"}],"answers":[{"comments":[{"owner":{"account_id":16085987,"reputation":33,"user_id":11610684,"display_name":"Anonymous"},"score":0,"creation_date":1669069770,"post_id":74525558,"comment_id":131555390,"body_markdown":"This is good advice but the requirement of the assignment is that I use compareTo","body":"This is good advice but the requirement of the assignment is that I use compareTo"},{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":0,"creation_date":1669069886,"post_id":74525558,"comment_id":131555408,"body_markdown":"Then your assignment is basically impossible. `compareTo` tells you nothing about length.","body":"Then your assignment is basically impossible. <code>compareTo</code> tells you nothing about length."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669069890,"post_id":74525558,"comment_id":131555409,"body_markdown":"Step one is to reread the assignment and make sure they want them compared only by length - maybe length first, with lexicographic comparison as a tiebreaker? If it genuinely insists you compare length by `compareTo`, make an `Integer` out of the length and call `compareTo` on that, then look for a different professor. :)","body":"Step one is to reread the assignment and make sure they want them compared only by length - maybe length first, with lexicographic comparison as a tiebreaker? If it genuinely insists you compare length by <code>compareTo</code>, make an <code>Integer</code> out of the length and call <code>compareTo</code> on that, then look for a different professor. :)"},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669069965,"post_id":74525558,"comment_id":131555436,"body_markdown":"For example: &quot;A&quot;.compareTo(&quot;B&quot;) is -1, while &quot;A&quot;.length() = &quot;B&quot;.length()","body":"For example: &quot;A&quot;.compareTo(&quot;B&quot;) is -1, while &quot;A&quot;.length() = &quot;B&quot;.length()"},{"owner":{"account_id":16085987,"reputation":33,"user_id":11610684,"display_name":"Anonymous"},"score":0,"creation_date":1669070032,"post_id":74525558,"comment_id":131555456,"body_markdown":"14.3 (Comparing Strings) Write an application that uses String method compareTo to compare two strings input by the user. Output whether the first string is less than, equal to or greater than the second.","body":"14.3 (Comparing Strings) Write an application that uses String method compareTo to compare two strings input by the user. Output whether the first string is less than, equal to or greater than the second."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1669070056,"post_id":74525558,"comment_id":131555460,"body_markdown":"That doesn&#39;t say anything about length - they want lexicographic comparison.","body":"That doesn&#39;t say anything about length - they want lexicographic comparison."},{"owner":{"account_id":26774791,"reputation":826,"user_id":20370596,"display_name":"Christoph Dahlen"},"score":0,"creation_date":1669070124,"post_id":74525558,"comment_id":131555472,"body_markdown":"Depends on what is considered „less than“. „a“ is considered less than „b“ with respect or their alphabetical order, though both have a length of 1","body":"Depends on what is considered „less than“. „a“ is considered less than „b“ with respect or their alphabetical order, though both have a length of 1"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669070192,"post_id":74525558,"comment_id":131555491,"body_markdown":"So both `&gt;` and `compareTo` will go lexicographically, and I think that&#39;s by far the more common assumption on what less than or greater than mean when it comes to strings. Prof probably should have clarified, but it&#39;s a very safe assumption this means lexicographic comparison.","body":"So both <code>&gt;</code> and <code>compareTo</code> will go lexicographically, and I think that&#39;s by far the more common assumption on what less than or greater than mean when it comes to strings. Prof probably should have clarified, but it&#39;s a very safe assumption this means lexicographic comparison."},{"owner":{"account_id":16085987,"reputation":33,"user_id":11610684,"display_name":"Anonymous"},"score":0,"creation_date":1669070559,"post_id":74525558,"comment_id":131555583,"body_markdown":"Thanks guys for all your help. I&#39;m still learning Java so I just needed help to figure out that small part. The code does work but I actually mistyped and that&#39;s how I found the bug where the size of the letter itself matters too.","body":"Thanks guys for all your help. I&#39;m still learning Java so I just needed help to figure out that small part. The code does work but I actually mistyped and that&#39;s how I found the bug where the size of the letter itself matters too."}],"tags":[],"owner":{"account_id":3145424,"reputation":491,"user_id":2659991,"display_name":"esmin"},"comment_count":9,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669069698,"creation_date":1669069698,"answer_id":74525558,"question_id":74525502,"body_markdown":"The compareTo() method compares two strings lexicographically.\r\n\r\nThe comparison is based on the Unicode value of each character in the strings.\r\n\r\nYou need to call length() method for each string to compare lengths\r\n\r\n    if(one.length() &gt; two.length()) ...","title":"Comparing string length with strange output","body":"<p>The compareTo() method compares two strings lexicographically.</p>\n<p>The comparison is based on the Unicode value of each character in the strings.</p>\n<p>You need to call length() method for each string to compare lengths</p>\n<pre><code>if(one.length() &gt; two.length()) ...\n</code></pre>\n"}],"owner":{"account_id":16085987,"reputation":33,"user_id":11610684,"display_name":"Anonymous"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1669070376,"answer_count":1,"score":-1,"last_activity_date":1669070381,"creation_date":1669069296,"question_id":74525502,"body_markdown":"This code is to compare 2 strings entered by the user and it&#39;s supposed to output whether the first string is &gt; &lt; or = the second string.\r\n\r\nIt&#39;s working for the most part except when I enter two phrases like gh and hi, it thinks gh is greater than hi. Maybe it&#39;s looking at the size of the actual letter.\r\n\r\n    package com.mycompany._3;\r\n    import java.util.Scanner;\r\n    public class App {\r\n    \r\n        public static void main(String[] args){\r\n            Scanner scanner = new Scanner(System.in);\r\n            \r\n            System.out.print(&quot;Enter first phrase(s): &quot;);\r\n            String one = scanner.next();\r\n            \r\n            System.out.print(&quot;Enter Second phrase(s): &quot;);\r\n            String two = scanner.next();\r\n            \r\n            int length = one.compareTo(two);\r\n            \r\n            if(length &gt; 0){\r\n                System.out.print(&quot;String one is less than string two.&quot;);\r\n            }else if (length &lt; 0) \r\n                System.out.print(&quot;String one is greater than string two.&quot;);\r\n            else\r\n                System.out.print(&quot;Both phrases are equal length&quot;);  \r\n        }\r\n    }","title":"Comparing string length with strange output","body":"<p>This code is to compare 2 strings entered by the user and it's supposed to output whether the first string is &gt; &lt; or = the second string.</p>\n<p>It's working for the most part except when I enter two phrases like gh and hi, it thinks gh is greater than hi. Maybe it's looking at the size of the actual letter.</p>\n<pre><code>package com.mycompany._3;\nimport java.util.Scanner;\npublic class App {\n\n    public static void main(String[] args){\n        Scanner scanner = new Scanner(System.in);\n        \n        System.out.print(&quot;Enter first phrase(s): &quot;);\n        String one = scanner.next();\n        \n        System.out.print(&quot;Enter Second phrase(s): &quot;);\n        String two = scanner.next();\n        \n        int length = one.compareTo(two);\n        \n        if(length &gt; 0){\n            System.out.print(&quot;String one is less than string two.&quot;);\n        }else if (length &lt; 0) \n            System.out.print(&quot;String one is greater than string two.&quot;);\n        else\n            System.out.print(&quot;Both phrases are equal length&quot;);  \n    }\n}\n</code></pre>\n"},{"tags":["java","maven","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669070066,"creation_date":1669070066,"answer_id":74525604,"question_id":74525055,"body_markdown":"Normally, it is not required to copy entire `&lt;build&gt;` configuration into profile definition - it should be enough to just define extra plugin execution, smth. like that:\r\n\r\n```xml\r\n  &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;e2eTests&lt;/id&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n            &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;npm run e2e&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;npm&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;arguments&gt;run e2e&lt;/arguments&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n```\r\n\r\nHowever, I would configure that in different way:\r\n\r\n1. either bind execution of e2e tests to the lifecycle phase designed for that (`integration-test`) - in this case `mvn package` won&#39;t trigger e2e tests:\r\n\r\n```xml\r\n...\r\n&lt;execution&gt;\r\n  &lt;id&gt;npm run e2e&lt;/id&gt;\r\n  &lt;phase&gt;integration-test&lt;/phase&gt;\r\n  &lt;goals&gt;\r\n    &lt;goal&gt;npm&lt;/goal&gt;\r\n  &lt;/goals&gt;\r\n  &lt;configuration&gt;\r\n    &lt;arguments&gt;run e2e&lt;/arguments&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/execution&gt;\r\n...\r\n```\r\n\r\n2. or take advantage of `properties` and `profiles`, for example:\r\n\r\n```xml\r\n&lt;properties&gt;\r\n  ...\r\n  &lt;skip.e2e&gt;true&lt;/skip.e2e&gt;\r\n  ...\r\n&lt;/properties&gt;\r\n\r\n&lt;profiles&gt;\r\n  &lt;profile&gt;\r\n    &lt;id&gt;e2eTests&lt;/id&gt;\r\n    &lt;properties&gt;\r\n      &lt;skip.e2e&gt;false&lt;/skip.e2e&gt;\r\n    &lt;/properties&gt;\r\n  &lt;/profile&gt;\r\n&lt;/profiles&gt;\r\n```\r\n\r\n```xml\r\n...\r\n&lt;execution&gt;\r\n  &lt;id&gt;npm run e2e&lt;/id&gt;\r\n  &lt;phase&gt;integration-test&lt;/phase&gt;\r\n  &lt;goals&gt;\r\n    &lt;goal&gt;npm&lt;/goal&gt;\r\n  &lt;/goals&gt;\r\n  &lt;configuration&gt;\r\n    &lt;skip&gt;${skip.e2e}&lt;/skip&gt;\r\n    &lt;arguments&gt;run e2e&lt;/arguments&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/execution&gt;\r\n...","title":"Using plugin and execution steps based on Profiles","body":"<p>Normally, it is not required to copy entire <code>&lt;build&gt;</code> configuration into profile definition - it should be enough to just define extra plugin execution, smth. like that:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;profiles&gt;\n    &lt;profile&gt;\n      &lt;id&gt;e2eTests&lt;/id&gt;\n      &lt;build&gt;\n        &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n            &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.8.0&lt;/version&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;id&gt;npm run e2e&lt;/id&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;npm&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                  &lt;arguments&gt;run e2e&lt;/arguments&gt;\n                &lt;/configuration&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/profile&gt;\n  &lt;/profiles&gt;\n</code></pre>\n<p>However, I would configure that in different way:</p>\n<ol>\n<li>either bind execution of e2e tests to the lifecycle phase designed for that (<code>integration-test</code>) - in this case <code>mvn package</code> won't trigger e2e tests:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;execution&gt;\n  &lt;id&gt;npm run e2e&lt;/id&gt;\n  &lt;phase&gt;integration-test&lt;/phase&gt;\n  &lt;goals&gt;\n    &lt;goal&gt;npm&lt;/goal&gt;\n  &lt;/goals&gt;\n  &lt;configuration&gt;\n    &lt;arguments&gt;run e2e&lt;/arguments&gt;\n  &lt;/configuration&gt;\n&lt;/execution&gt;\n...\n</code></pre>\n<ol start=\"2\">\n<li>or take advantage of <code>properties</code> and <code>profiles</code>, for example:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n  ...\n  &lt;skip.e2e&gt;true&lt;/skip.e2e&gt;\n  ...\n&lt;/properties&gt;\n\n&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;e2eTests&lt;/id&gt;\n    &lt;properties&gt;\n      &lt;skip.e2e&gt;false&lt;/skip.e2e&gt;\n    &lt;/properties&gt;\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<pre class=\"lang-xml prettyprint-override\"><code>...\n&lt;execution&gt;\n  &lt;id&gt;npm run e2e&lt;/id&gt;\n  &lt;phase&gt;integration-test&lt;/phase&gt;\n  &lt;goals&gt;\n    &lt;goal&gt;npm&lt;/goal&gt;\n  &lt;/goals&gt;\n  &lt;configuration&gt;\n    &lt;skip&gt;${skip.e2e}&lt;/skip&gt;\n    &lt;arguments&gt;run e2e&lt;/arguments&gt;\n  &lt;/configuration&gt;\n&lt;/execution&gt;\n...\n</code></pre>\n"}],"owner":{"account_id":9223153,"reputation":1182,"user_id":6851769,"accept_rate":80,"display_name":"Samuel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74525604,"answer_count":1,"score":1,"last_activity_date":1669070066,"creation_date":1669065867,"question_id":74525055,"body_markdown":"I have a pom as below\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\r\n    &lt;modelVersion&gt;X.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;asdasd&lt;/groupId&gt;\r\n        &lt;artifactId&gt;asdasd&lt;/artifactId&gt;\r\n        &lt;version&gt;0.334.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;relativePath&gt;../something/pom.xml&lt;/relativePath&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;!-- ======================================================================= --&gt;\r\n    &lt;!-- P R O J E C T                                                           --&gt;\r\n    &lt;!-- ======================================================================= --&gt;\r\n    &lt;artifactId&gt;dfdfd&lt;/artifactId&gt;\r\n    &lt;name&gt;xxxxx&lt;/name&gt;\r\n    &lt;packaging&gt;content-package&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;sonar.sources&gt;${basedir}/src/main/angular/src&lt;/sonar.sources&gt;\r\n        &lt;sonar.tests&gt;${basedir}/src/main/angular/src&lt;/sonar.tests&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;${basedir}/src/main/content/jcr_root&lt;/directory&gt;\r\n                &lt;excludes&gt;\r\n                    &lt;exclude&gt;**/*.iml&lt;/exclude&gt;\r\n                &lt;/excludes&gt;\r\n                &lt;targetPath&gt;jcr_root&lt;/targetPath&gt;\r\n            &lt;/resource&gt;\r\n            &lt;resource&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n                &lt;directory&gt;${basedir}/src/main/content/META-INF/xxx/definition&lt;/directory&gt;\r\n                &lt;targetPath&gt;../xxx/META-INF/vault/definition&lt;/targetPath&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n        &lt;sourceDirectory&gt;${basedir}/src/main/content/jcr_root&lt;/sourceDirectory&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xml-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n\r\n            &lt;!-- start frontend --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\r\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8.0&lt;/version&gt;\r\n                &lt;inherited&gt;false&lt;/inherited&gt;\r\n\r\n                &lt;configuration&gt;\r\n                    &lt;nodeVersion&gt;v16.17.0&lt;/nodeVersion&gt;\r\n                    &lt;npmVersion&gt;8.15.0&lt;/npmVersion&gt;\r\n                    &lt;nodeDownloadRoot&gt;xxxxx&lt;/nodeDownloadRoot&gt;\r\n                    &lt;npmDownloadRoot&gt;xxxxx&lt;/npmDownloadRoot&gt;\r\n                    &lt;installDirectory&gt;src/main/angular&lt;/installDirectory&gt;\r\n                    &lt;workingDirectory&gt;src/main/angular&lt;/workingDirectory&gt;\r\n                &lt;/configuration&gt;\r\n\r\n                &lt;executions&gt;\r\n\r\n                    &lt;execution&gt;\r\n                        ......\r\n                    &lt;/execution&gt;\r\n\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;npm rebuild node-sass&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;npm&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;arguments&gt;rebuild node-sass&lt;/arguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;npm run e2e&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;npm&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;arguments&gt;run e2e&lt;/arguments&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- end frontend --&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n````\r\n\r\nI want to run execution step with id `npm run e2e` based on profile. What I have in mind is 2 profiles `default` and `e2eTests`. With `default`, I can set `activeByDefault` as true and skip the e2e test. And when I pass `e2eTests` using -P , I should be able to run all execution including `id=npm run e2e`\r\n\r\n\r\nI tried to move them into `&lt;profiles&gt;` but then the `&lt;sourceDirectory&gt;` was complaining. I found some links like [this][1] for it, but the problem comes on how to access `plugins` when I have `&lt;profiles&gt;` outside of `&lt;build&gt;` \r\n\r\n\r\nI am not able to structure it properly. \r\n\r\n  [1]: https://stackoverflow.com/questions/19140873/change-source-directory-in-profile-maven","title":"Using plugin and execution steps based on Profiles","body":"<p>I have a pom as below</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;&gt;\n    &lt;modelVersion&gt;X.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;asdasd&lt;/groupId&gt;\n        &lt;artifactId&gt;asdasd&lt;/artifactId&gt;\n        &lt;version&gt;0.334.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;../something/pom.xml&lt;/relativePath&gt;\n    &lt;/parent&gt;\n\n    &lt;!-- ======================================================================= --&gt;\n    &lt;!-- P R O J E C T                                                           --&gt;\n    &lt;!-- ======================================================================= --&gt;\n    &lt;artifactId&gt;dfdfd&lt;/artifactId&gt;\n    &lt;name&gt;xxxxx&lt;/name&gt;\n    &lt;packaging&gt;content-package&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;sonar.sources&gt;${basedir}/src/main/angular/src&lt;/sonar.sources&gt;\n        &lt;sonar.tests&gt;${basedir}/src/main/angular/src&lt;/sonar.tests&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;${basedir}/src/main/content/jcr_root&lt;/directory&gt;\n                &lt;excludes&gt;\n                    &lt;exclude&gt;**/*.iml&lt;/exclude&gt;\n                &lt;/excludes&gt;\n                &lt;targetPath&gt;jcr_root&lt;/targetPath&gt;\n            &lt;/resource&gt;\n            &lt;resource&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n                &lt;directory&gt;${basedir}/src/main/content/META-INF/xxx/definition&lt;/directory&gt;\n                &lt;targetPath&gt;../xxx/META-INF/vault/definition&lt;/targetPath&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;sourceDirectory&gt;${basedir}/src/main/content/jcr_root&lt;/sourceDirectory&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;xml-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- start frontend --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.github.eirslett&lt;/groupId&gt;\n                &lt;artifactId&gt;frontend-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.8.0&lt;/version&gt;\n                &lt;inherited&gt;false&lt;/inherited&gt;\n\n                &lt;configuration&gt;\n                    &lt;nodeVersion&gt;v16.17.0&lt;/nodeVersion&gt;\n                    &lt;npmVersion&gt;8.15.0&lt;/npmVersion&gt;\n                    &lt;nodeDownloadRoot&gt;xxxxx&lt;/nodeDownloadRoot&gt;\n                    &lt;npmDownloadRoot&gt;xxxxx&lt;/npmDownloadRoot&gt;\n                    &lt;installDirectory&gt;src/main/angular&lt;/installDirectory&gt;\n                    &lt;workingDirectory&gt;src/main/angular&lt;/workingDirectory&gt;\n                &lt;/configuration&gt;\n\n                &lt;executions&gt;\n\n                    &lt;execution&gt;\n                        ......\n                    &lt;/execution&gt;\n\n                    &lt;execution&gt;\n                        &lt;id&gt;npm rebuild node-sass&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;rebuild node-sass&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n\n                    &lt;execution&gt;\n                        &lt;id&gt;npm run e2e&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;npm&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;arguments&gt;run e2e&lt;/arguments&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;!-- end frontend --&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n<p>I want to run execution step with id <code>npm run e2e</code> based on profile. What I have in mind is 2 profiles <code>default</code> and <code>e2eTests</code>. With <code>default</code>, I can set <code>activeByDefault</code> as true and skip the e2e test. And when I pass <code>e2eTests</code> using -P , I should be able to run all execution including <code>id=npm run e2e</code></p>\n<p>I tried to move them into <code>&lt;profiles&gt;</code> but then the <code>&lt;sourceDirectory&gt;</code> was complaining. I found some links like <a href=\"https://stackoverflow.com/questions/19140873/change-source-directory-in-profile-maven\">this</a> for it, but the problem comes on how to access <code>plugins</code> when I have <code>&lt;profiles&gt;</code> outside of <code>&lt;build&gt;</code></p>\n<p>I am not able to structure it properly.</p>\n"},{"tags":["java","arrays","string","multidimensional-array","data-structures"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669067822,"post_id":74525270,"comment_id":131554939,"body_markdown":"In general if you&#39;re going to be modifying the size, don&#39;t use an array - use an `ArrayList` or some other more flexible type. (In fact, 90% of the time I&#39;d just use one of those to begin with. Arrays are a pain.)","body":"In general if you&#39;re going to be modifying the size, don&#39;t use an array - use an <code>ArrayList</code> or some other more flexible type. (In fact, 90% of the time I&#39;d just use one of those to begin with. Arrays are a pain.)"},{"owner":{"account_id":19600489,"reputation":75,"user_id":14345451,"display_name":"rizzanasking"},"score":0,"creation_date":1669067905,"post_id":74525270,"comment_id":131554963,"body_markdown":"Yessir, I agree. But in this case, I have the data coming from somewhere else and unfortunately, I can&#39;t do anything about it at the moment. :(\n@EdwardPeters","body":"Yessir, I agree. But in this case, I have the data coming from somewhere else and unfortunately, I can&#39;t do anything about it at the moment. :( @EdwardPeters"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":1,"creation_date":1669068106,"post_id":74525270,"comment_id":131555013,"body_markdown":"Do you have to keep the data as an array? If it comes in as one but the future of the data is up to you after that point, I&#39;d generally say it&#39;s worth converting. If you have to output the modified data in the same format, it might be worth converting anyway, and converting back later. If you want a more elegant solution that&#39;s probably it. (It might be slower if these are large arrays, but that&#39;s probably not something you need to be concerned with.) If `ArrayList` just didn&#39;t exist, yeah, probably just make a new array and copy.","body":"Do you have to keep the data as an array? If it comes in as one but the future of the data is up to you after that point, I&#39;d generally say it&#39;s worth converting. If you have to output the modified data in the same format, it might be worth converting anyway, and converting back later. If you want a more elegant solution that&#39;s probably it. (It might be slower if these are large arrays, but that&#39;s probably not something you need to be concerned with.) If <code>ArrayList</code> just didn&#39;t exist, yeah, probably just make a new array and copy."}],"answers":[{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669069526,"creation_date":1669069526,"answer_id":74525536,"question_id":74525270,"body_markdown":"I took pity on you and wrote this. I think this is what &quot;elegant&quot; looks like in Java?\r\n```\r\nimport java.util.*;\r\nimport java.util.stream.*;\r\n\r\nclass ArrayMangler {\r\n    public static void main(String[] args) {\r\n        String[] sample1 = {&quot;Adam&quot;, &quot;Bob&quot;, &quot;Charlie&quot;, &quot;Donald&quot;};\r\n        String[] sample2 = {&quot;Ernst&quot;, &quot;Ferdinand&quot;, &quot;Godfrey&quot;, &quot;Hrothgar&quot;};\r\n        String[] sample3 = {&quot;Iago&quot;, &quot;Jormangandr&quot;, &quot;Killroy&quot;, &quot;Lorelei&quot;};\r\n        String[][] input = {sample1, sample2, sample3};\r\n        \r\n        List&lt;Integer&gt; badIndexes = Arrays.asList(1, 3);\r\n        String[][] output = removeColumns(input, badIndexes);\r\n        for (String[] row : output){\r\n            System.out.println(Arrays.toString(row));\r\n        }\r\n        \r\n    }\r\n    public static String[][] removeColumns(String[][] input, List&lt;Integer&gt; indexesToTrim){\r\n        return Arrays.stream(input)\r\n            .map(arr -&gt; removeFromRow(arr, indexesToTrim))\r\n            .toArray(String[][]::new);\r\n    }\r\n    public static String[] removeFromRow(String[] input, List&lt;Integer&gt; indexesToTrim){\r\n        return IntStream\r\n            .range(0,input.length)\r\n            .filter(i -&gt;!indexesToTrim.contains(i))\r\n            .mapToObj(i -&gt; input[i])\r\n            .toArray(String[]::new);\r\n    }\r\n}\r\n```","title":"Remove column from 2D Array in Java","body":"<p>I took pity on you and wrote this. I think this is what &quot;elegant&quot; looks like in Java?</p>\n<pre><code>import java.util.*;\nimport java.util.stream.*;\n\nclass ArrayMangler {\n    public static void main(String[] args) {\n        String[] sample1 = {&quot;Adam&quot;, &quot;Bob&quot;, &quot;Charlie&quot;, &quot;Donald&quot;};\n        String[] sample2 = {&quot;Ernst&quot;, &quot;Ferdinand&quot;, &quot;Godfrey&quot;, &quot;Hrothgar&quot;};\n        String[] sample3 = {&quot;Iago&quot;, &quot;Jormangandr&quot;, &quot;Killroy&quot;, &quot;Lorelei&quot;};\n        String[][] input = {sample1, sample2, sample3};\n        \n        List&lt;Integer&gt; badIndexes = Arrays.asList(1, 3);\n        String[][] output = removeColumns(input, badIndexes);\n        for (String[] row : output){\n            System.out.println(Arrays.toString(row));\n        }\n        \n    }\n    public static String[][] removeColumns(String[][] input, List&lt;Integer&gt; indexesToTrim){\n        return Arrays.stream(input)\n            .map(arr -&gt; removeFromRow(arr, indexesToTrim))\n            .toArray(String[][]::new);\n    }\n    public static String[] removeFromRow(String[] input, List&lt;Integer&gt; indexesToTrim){\n        return IntStream\n            .range(0,input.length)\n            .filter(i -&gt;!indexesToTrim.contains(i))\n            .mapToObj(i -&gt; input[i])\n            .toArray(String[]::new);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":19600489,"reputation":75,"user_id":14345451,"display_name":"rizzanasking"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74525536,"answer_count":1,"score":1,"last_activity_date":1669069526,"creation_date":1669067375,"question_id":74525270,"body_markdown":"I have a 2D String Array in java where **i is rows** and **j is cols**. \r\n\r\nI&#39;m looking for an elegant solution to remove cols in the following array. \r\n```\r\nString[i][j] data; \r\n```\r\n\r\nThe columns provided can either be a single column or more than one column i.e. if the columns to be removed are (7,8) then all values on data[i][7] and data [i][8] should be removed from the array. \r\n\r\n\r\nI tried various solutions such as declaring a new array and copying from the previous array excluding the columns but I&#39;m wondering if there&#39;s a more elegant solution I can use. Any leads?","title":"Remove column from 2D Array in Java","body":"<p>I have a 2D String Array in java where <strong>i is rows</strong> and <strong>j is cols</strong>.</p>\n<p>I'm looking for an elegant solution to remove cols in the following array.</p>\n<pre><code>String[i][j] data; \n</code></pre>\n<p>The columns provided can either be a single column or more than one column i.e. if the columns to be removed are (7,8) then all values on data[i][7] and data [i][8] should be removed from the array.</p>\n<p>I tried various solutions such as declaring a new array and copying from the previous array excluding the columns but I'm wondering if there's a more elegant solution I can use. Any leads?</p>\n"},{"tags":["java","android","java-native-interface"],"comments":[{"owner":{"account_id":1800942,"reputation":1568,"user_id":1639324,"accept_rate":67,"display_name":"Josh Chappelle"},"score":0,"creation_date":1451873134,"post_id":34583766,"comment_id":56912939,"body_markdown":"Is your software so mission critical that you would need to test for such unlikely situations? Or are you just curious as to what would happen and how to test for it?","body":"Is your software so mission critical that you would need to test for such unlikely situations? Or are you just curious as to what would happen and how to test for it?"},{"owner":{"account_id":6889546,"reputation":736,"user_id":5293554,"accept_rate":0,"display_name":"Jan Bergstr&#246;m"},"score":0,"creation_date":1452004247,"post_id":34583766,"comment_id":56973484,"body_markdown":"Question is how much memory can an app possess in onStop() state? Some say none, some say that the OS can extinguish an app/task without onDestroy(). That I regard as a OS bug if true, a message I kill you but I don&#39;t want your memory, when the case is the opposite. onDestroy() should be the message to realse all the (JNI) memory. It all end up if advanced apps should be possible or not. I believe the development of x86 makes Android possible to compete with Windows as netbook OS. I wonder is the entire debate is possible in practice. Is there a way of testing the OS environments behaviour. .","body":"Question is how much memory can an app possess in onStop() state? Some say none, some say that the OS can extinguish an app/task without onDestroy(). That I regard as a OS bug if true, a message I kill you but I don&#39;t want your memory, when the case is the opposite. onDestroy() should be the message to realse all the (JNI) memory. It all end up if advanced apps should be possible or not. I believe the development of x86 makes Android possible to compete with Windows as netbook OS. I wonder is the entire debate is possible in practice. Is there a way of testing the OS environments behaviour. ."}],"owner":{"account_id":6889546,"reputation":736,"user_id":5293554,"accept_rate":0,"display_name":"Jan Bergstr&#246;m"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669068137,"creation_date":1451872823,"question_id":34583766,"body_markdown":"I am told that the Android OS (&gt;=SDK14) is able in a real lean memory situation to start extinguishing tasks without sending onDistroy()-messages. It is very interesting (app quality issue) to stress test apps in such environments. \r\n\r\nSo this is a question about extreme cases, all memory is gone and the OS starts to extinguish stopped tasks to get more memory. Is it possible to provoke such a situation, to be able to test it? Shall I write a JNI program (making hello-jni looping a calloc or something)? This to chew up all the memory to provoke this situation of poverty? \r\n\r\nHow do I best memory choke my app/the Android OS environment? Any ideas? Any tried such stress tests?\r\n\r\nAre there any total OS memory monitors available? \r\n\r\nCan anyone explain if the Java and JNI parts of memory are from each other isolated heaps (chunks of memory) or allocated from the same common memory by the OS? Is it possible to choke the Java apps with JNI memory allocation? \r\n\r\n\r\n**So 7 years later, updated question**:\r\n---------------------------------------\r\n\r\nWh I know today it is not possible to provoke a JNI-memory shut down, just appears with no warning? It is not possible to test the topic in code?\r\n\r\nThis topic is a general design issue on how to design an editor the best way. \r\n\r\n**Still there are two main questions:**\r\n\r\n1. **There is not yet a message to the Java app that the OS intends to shut down the JNI memory part**, as far as I understand. \r\n\r\n   So the app can do the shut down itself instead and be aware the JNI part is shut down. It would be just as good if the app is notified that the entire app should be closed and all the mines will disappear, but that is not done either. The app may live but the JNI memory is gone and the app has no idea it happened. \r\n   * Where the main problem is not knowing, not being able to test as it just crashes when the JNI memory is gone och det anropas. \r\n   * Must be very tricky technically because there is such a given solution that is missing?\r\n\r\n   Given that users who are in the middle of app work jump between apps, the app can&#39;t close down the JNI part for each jump. The best solution is still to let the app crash if the JNI part is gone and let the user restart again by pressing a second time on the app icon? It&#39;s not a pretty situation?\r\n   * Also, you can&#39;t assume that JNI is gone after a few days and just restart from scratch. Because then you fill the memory with unused JNI memory allocations if this is not the case. You can&#39;t test because then it crashes.\r\n\r\n   My app is a bookkeeping accounting browser and does not edit the files, but in 2023 I intend to come up with a complete accounting program based on the browser&#39;s functions with extensions. The situation is like an Office program, but works with inbdustry standard bookkeeping accounting documents/files. It requires that this question be thought through properly once more.\r\n   * All views and suggestions are welcome\r\n\r\n 2. **Data recovery and the new regulations/restrictions for saving files in the public folders** \r\n\r\n    It means that you cannot use fopen() in JNI, but must use java byte streaming of the Picker. Where you can of course save the resolver and uri and reuse it for saving. See also https://stackoverflow.com/questions/74201585/ndk-fopen-in-the-common-storage-of-android-api-31/74338661#74338661\r\n\r\n    I have solved this situation for &quot;open the last opened file on startup&quot; by saving a copy of the last opened file in the app&#39;s local storage as well as the name of the last opened file.\r\n    * To save, you must start the Picker at least once, but if the file is opened with the picker, you can reuse the resolver and uri for the file update. While it is the last opened file, you have to start the picker for an OK.\r\n\r\n    For the browser, this is a minimal problem. But for an accounting editor, it is a central question how to update documents that are worked on for a long time, and the user very likely jumps to other apps, during the work? If the JNI part disappears, it can be devastating.\r\n\r\n    I think it can save in a temp file during the work and then have a save button for the user. A temp file that can be restored after a JNI is gone crash and the app is restarted from scratch. One can probably find a way to save where the user was last and arrange a rollback?\r\n\r\n    It&#39;s so strange that there is so much trouble just because a &quot;We intend to discard JNI stored memory for the app&quot; message is missing, because then you have full control. Hope it still comes.\r\n    * Also here all views and suggestions are welcome","title":"Is it possible to provoke an Android OS memory crisis?","body":"<p>I am told that the Android OS (&gt;=SDK14) is able in a real lean memory situation to start extinguishing tasks without sending onDistroy()-messages. It is very interesting (app quality issue) to stress test apps in such environments.</p>\n<p>So this is a question about extreme cases, all memory is gone and the OS starts to extinguish stopped tasks to get more memory. Is it possible to provoke such a situation, to be able to test it? Shall I write a JNI program (making hello-jni looping a calloc or something)? This to chew up all the memory to provoke this situation of poverty?</p>\n<p>How do I best memory choke my app/the Android OS environment? Any ideas? Any tried such stress tests?</p>\n<p>Are there any total OS memory monitors available?</p>\n<p>Can anyone explain if the Java and JNI parts of memory are from each other isolated heaps (chunks of memory) or allocated from the same common memory by the OS? Is it possible to choke the Java apps with JNI memory allocation?</p>\n<h2><strong>So 7 years later, updated question</strong>:</h2>\n<p>Wh I know today it is not possible to provoke a JNI-memory shut down, just appears with no warning? It is not possible to test the topic in code?</p>\n<p>This topic is a general design issue on how to design an editor the best way.</p>\n<p><strong>Still there are two main questions:</strong></p>\n<ol>\n<li><p><strong>There is not yet a message to the Java app that the OS intends to shut down the JNI memory part</strong>, as far as I understand.</p>\n<p>So the app can do the shut down itself instead and be aware the JNI part is shut down. It would be just as good if the app is notified that the entire app should be closed and all the mines will disappear, but that is not done either. The app may live but the JNI memory is gone and the app has no idea it happened.</p>\n<ul>\n<li>Where the main problem is not knowing, not being able to test as it just crashes when the JNI memory is gone och det anropas.</li>\n<li>Must be very tricky technically because there is such a given solution that is missing?</li>\n</ul>\n<p>Given that users who are in the middle of app work jump between apps, the app can't close down the JNI part for each jump. The best solution is still to let the app crash if the JNI part is gone and let the user restart again by pressing a second time on the app icon? It's not a pretty situation?</p>\n<ul>\n<li>Also, you can't assume that JNI is gone after a few days and just restart from scratch. Because then you fill the memory with unused JNI memory allocations if this is not the case. You can't test because then it crashes.</li>\n</ul>\n<p>My app is a bookkeeping accounting browser and does not edit the files, but in 2023 I intend to come up with a complete accounting program based on the browser's functions with extensions. The situation is like an Office program, but works with inbdustry standard bookkeeping accounting documents/files. It requires that this question be thought through properly once more.</p>\n<ul>\n<li>All views and suggestions are welcome</li>\n</ul>\n</li>\n<li><p><strong>Data recovery and the new regulations/restrictions for saving files in the public folders</strong></p>\n<p>It means that you cannot use fopen() in JNI, but must use java byte streaming of the Picker. Where you can of course save the resolver and uri and reuse it for saving. See also <a href=\"https://stackoverflow.com/questions/74201585/ndk-fopen-in-the-common-storage-of-android-api-31/74338661#74338661\">NDK fopen() in the common storage of Android API 31</a></p>\n<p>I have solved this situation for &quot;open the last opened file on startup&quot; by saving a copy of the last opened file in the app's local storage as well as the name of the last opened file.</p>\n<ul>\n<li>To save, you must start the Picker at least once, but if the file is opened with the picker, you can reuse the resolver and uri for the file update. While it is the last opened file, you have to start the picker for an OK.</li>\n</ul>\n<p>For the browser, this is a minimal problem. But for an accounting editor, it is a central question how to update documents that are worked on for a long time, and the user very likely jumps to other apps, during the work? If the JNI part disappears, it can be devastating.</p>\n<p>I think it can save in a temp file during the work and then have a save button for the user. A temp file that can be restored after a JNI is gone crash and the app is restarted from scratch. One can probably find a way to save where the user was last and arrange a rollback?</p>\n<p>It's so strange that there is so much trouble just because a &quot;We intend to discard JNI stored memory for the app&quot; message is missing, because then you have full control. Hope it still comes.</p>\n<ul>\n<li>Also here all views and suggestions are welcome</li>\n</ul>\n</li>\n</ol>\n"},{"tags":["java","jersey","jax-rs","jersey-2.0"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":1,"creation_date":1669132305,"post_id":74524500,"comment_id":131572025,"body_markdown":"This is a RESTEASY error, meaning Jersey it not being used. Resteasy is the JAX-RS implementation that comes with Wildly.","body":"This is a RESTEASY error, meaning Jersey it not being used. Resteasy is the JAX-RS implementation that comes with Wildly."},{"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"score":0,"creation_date":1669135324,"post_id":74524500,"comment_id":131573250,"body_markdown":"Is javaee-web-api not the correct dependency for pom?","body":"Is javaee-web-api not the correct dependency for pom?"},{"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"score":0,"creation_date":1669144507,"post_id":74524500,"comment_id":131576381,"body_markdown":"It&#39;s done. From [reference link](https://stackoverflow.com/questions/42896912/jersey-client-with-rxjava-conflicts-with-resteasy). I replaced Client client = new JerseyClientBuilder().build(); instead of Client client = ClientBuilder.newClient();","body":"It&#39;s done. From <a href=\"https://stackoverflow.com/questions/42896912/jersey-client-with-rxjava-conflicts-with-resteasy\">reference link</a>. I replaced Client client = new JerseyClientBuilder().build(); instead of Client client = ClientBuilder.newClient();"}],"owner":{"account_id":4471856,"reputation":315,"user_id":3637971,"accept_rate":14,"display_name":"user3637971"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669068124,"creation_date":1669062275,"question_id":74524500,"body_markdown":"I have a java web application developed with jdk 1.8u341 / wildfly 10. There is an error when the application tries to connect webservices using Jersey 2. The application starts from MyService Class that interacts Client class. The exception occurred because of the instruction Client client = ClientBuilder.newClient().\r\n\r\npom file:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.19&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\t\t\r\n\r\n\t\t\r\nMyService.java\r\n\r\n\r\n        @Path(&quot;/&quot;)\r\n        public class MyService {\r\n    \t\t\r\n    \t\tpublic MyService() {\r\n    \t\t\tclient = Client.getInstance(CONFIG.getProperty(&quot;url&quot;));\r\n    \t\t}\t\t\r\n    \t\t\r\n    \t\t@POST\r\n    \t\t@Path(&quot;/sendInfo&quot;)\r\n    \t\t@Consumes(MediaType.APPLICATION_JSON)\r\n    \t\t@Produces(MediaType.APPLICATION_JSON)\r\n    \t\tpublic void sendInfo(NotificationRequest notiRequest){\r\n    \t\t  String firstName = notiRequest.getFirstName();\r\n    \t\t  String lastName = notiRequest.getLastName();\r\n    \t\t  client.notify(firstName,firstName)\r\n    \t\t}\r\n    \t\r\n    \t}\r\n\r\n\t\r\nClient.java\t\r\n\r\n    \tpublic class Client {\r\n    \t    \r\n    \t\tprivate String url;\r\n    \t\t\r\n    \t\tpublic static Client getInstance(String url) {\r\n    \t\t\tif(instance == null){\r\n    \t\t\t\tinstance = new Client(url);\r\n    \t\t\t}\r\n    \t\t\treturn instance;\r\n    \t\t}\t\r\n    \t\t\r\n    \t    public NotifyResponse notify(String firstName, String lastName) {\r\n    \t\t\tNotifyResponse notiRes = new NotifyResponse();\r\n    \t\t\tClient client = ClientBuilder.newClient();  // client gives null, so from here it will throw the exception\r\n    \t\t\t\t\t\t\r\n    \t\t\tWebTarget webTarget = client.target(this.url + &quot;?firstName=&quot;+firstName+&quot;&amp;lastName=&quot;+lastName);\r\n    \t\t\tResponse response = webTarget.request().get();\r\n    \t\t\t\r\n    \t\t\tif(response.getStatus()!=200 &amp;&amp; response.getStatus()!=400){\r\n    \t\t\t\tnotiRes.setResult(0);\r\n    \t\t\t\tLOG.info(&quot;HTTP connection failed &quot; + response.getStatus());\r\n    \t\t\t\tresponse.close();\r\n    \t\t\t\treturn notiRes;\r\n    \t\t\t}        \r\n    \r\n    \t\t\tMap rptaMap = (new Genson()).deserialize(response.readEntity(String.class), Map.class);\r\n    \r\n    \t\t\tif(rptaMap == null){\r\n    \t\t\t\tnotiRes.setResult(0);\r\n    \t\t\t\tLOG.info(&quot;NotifyResponse es nulo&quot;);\r\n    \t\t\t\tresponse.close();\r\n    \t\t\t\treturn notiRes;\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tnotiRes.setResult((Boolean)rptaMap.get(&quot;result&quot;) ? 1:0);\r\n    \t\t\tresponse.close();\r\n    \t\t\treturn notiRes;\r\n    \t\t}\r\n    \t\t\r\n        }\t\t\r\n\t\t\r\nThis is the Java application log:\r\n\r\n    [WARN ] 21-11-2022 12:07:18 com.example.MyService.sendInfo(MyService.java:388) - java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\r\n    java.lang.RuntimeException: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\r\n            at org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:35)\r\n            at org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder.getProviderFactory(ResteasyClientBuilder.java:340)\r\n            at org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder.build(ResteasyClientBuilder.java:348)\r\n            at org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder.build(ResteasyClientBuilder.java:53)\r\n            at javax.ws.rs.client.ClientBuilder.newClient(ClientBuilder.java:114)\r\n            at com.example.client.notify(Client.java:302)\r\n            at com.example.MyService.sendInfo(MyService.java:370)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\r\n            at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)\r\n            at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)\r\n            at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:205)\r\n    \r\n    Caused by: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\r\n            at org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1437)\r\n            at org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1368)\r\n            at org.jboss.resteasy.plugins.providers.RegisterBuiltin.registerProviders(RegisterBuiltin.java:71)\r\n            at org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:31)\r\n            ... 68 more\r\n    Caused by: java.lang.RuntimeException: RESTEASY003325: Failed to construct public com.owlike.genson.ext.jaxrs.GensonJsonConverter(javax.ws.rs.ext.Providers)\r\n            at org.jboss.resteasy.core.ConstructorInjectorImpl.construct(ConstructorInjectorImpl.java:162)\r\n            at org.jboss.resteasy.spi.ResteasyProviderFactory.createProviderInstance(ResteasyProviderFactory.java:2246)\r\n            at org.jboss.resteasy.spi.ResteasyProviderFactory.addMessageBodyReader(ResteasyProviderFactory.java:806)\r\n            at org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1432)\r\n            ... 71 more\r\n    Caused by: org.jboss.resteasy.spi.LoggableFailure: RESTEASY003880: Unable to find contextual data of type: javax.ws.rs.ext.Providers\r\n            at org.jboss.resteasy.core.ContextParameterInjector$GenericDelegatingProxy.invoke(ContextParameterInjector.java:62)\r\n            at com.sun.proxy.$Proxy200.getContextResolver(Unknown Source)\r\n            at com.owlike.genson.ext.jaxrs.GensonJsonConverter.&lt;init&gt;(GensonJsonConverter.java:38)\r\n            ... \r\n\r\n\r\nWhat can I do for this case?","title":"Application log reports: RESTEASY003940: Unable to instantiate MessageBodyReader, when it interacts to webservice through Jersey 2","body":"<p>I have a java web application developed with jdk 1.8u341 / wildfly 10. There is an error when the application tries to connect webservices using Jersey 2. The application starts from MyService Class that interacts Client class. The exception occurred because of the instruction Client client = ClientBuilder.newClient().</p>\n<p>pom file:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n        &lt;version&gt;7.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n        &lt;version&gt;2.19&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n        &lt;version&gt;2.19&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n        &lt;version&gt;2.19&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;/dependency&gt;       \n\n    \n</code></pre>\n<p>MyService.java</p>\n<pre><code>    @Path(&quot;/&quot;)\n    public class MyService {\n        \n        public MyService() {\n            client = Client.getInstance(CONFIG.getProperty(&quot;url&quot;));\n        }       \n        \n        @POST\n        @Path(&quot;/sendInfo&quot;)\n        @Consumes(MediaType.APPLICATION_JSON)\n        @Produces(MediaType.APPLICATION_JSON)\n        public void sendInfo(NotificationRequest notiRequest){\n          String firstName = notiRequest.getFirstName();\n          String lastName = notiRequest.getLastName();\n          client.notify(firstName,firstName)\n        }\n    \n    }\n</code></pre>\n<p>Client.java</p>\n<pre><code>    public class Client {\n        \n        private String url;\n        \n        public static Client getInstance(String url) {\n            if(instance == null){\n                instance = new Client(url);\n            }\n            return instance;\n        }   \n        \n        public NotifyResponse notify(String firstName, String lastName) {\n            NotifyResponse notiRes = new NotifyResponse();\n            Client client = ClientBuilder.newClient();  // client gives null, so from here it will throw the exception\n                        \n            WebTarget webTarget = client.target(this.url + &quot;?firstName=&quot;+firstName+&quot;&amp;lastName=&quot;+lastName);\n            Response response = webTarget.request().get();\n            \n            if(response.getStatus()!=200 &amp;&amp; response.getStatus()!=400){\n                notiRes.setResult(0);\n                LOG.info(&quot;HTTP connection failed &quot; + response.getStatus());\n                response.close();\n                return notiRes;\n            }        \n\n            Map rptaMap = (new Genson()).deserialize(response.readEntity(String.class), Map.class);\n\n            if(rptaMap == null){\n                notiRes.setResult(0);\n                LOG.info(&quot;NotifyResponse es nulo&quot;);\n                response.close();\n                return notiRes;\n            }\n            \n            notiRes.setResult((Boolean)rptaMap.get(&quot;result&quot;) ? 1:0);\n            response.close();\n            return notiRes;\n        }\n        \n    }       \n    \n</code></pre>\n<p>This is the Java application log:</p>\n<pre><code>[WARN ] 21-11-2022 12:07:18 com.example.MyService.sendInfo(MyService.java:388) - java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\njava.lang.RuntimeException: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\n        at org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:35)\n        at org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder.getProviderFactory(ResteasyClientBuilder.java:340)\n        at org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder.build(ResteasyClientBuilder.java:348)\n        at org.jboss.resteasy.client.jaxrs.ResteasyClientBuilder.build(ResteasyClientBuilder.java:53)\n        at javax.ws.rs.client.ClientBuilder.newClient(ClientBuilder.java:114)\n        at com.example.client.notify(Client.java:302)\n        at com.example.MyService.sendInfo(MyService.java:370)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)\n        at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)\n        at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:205)\n\nCaused by: java.lang.RuntimeException: RESTEASY003940: Unable to instantiate MessageBodyReader\n        at org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1437)\n        at org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1368)\n        at org.jboss.resteasy.plugins.providers.RegisterBuiltin.registerProviders(RegisterBuiltin.java:71)\n        at org.jboss.resteasy.plugins.providers.RegisterBuiltin.register(RegisterBuiltin.java:31)\n        ... 68 more\nCaused by: java.lang.RuntimeException: RESTEASY003325: Failed to construct public com.owlike.genson.ext.jaxrs.GensonJsonConverter(javax.ws.rs.ext.Providers)\n        at org.jboss.resteasy.core.ConstructorInjectorImpl.construct(ConstructorInjectorImpl.java:162)\n        at org.jboss.resteasy.spi.ResteasyProviderFactory.createProviderInstance(ResteasyProviderFactory.java:2246)\n        at org.jboss.resteasy.spi.ResteasyProviderFactory.addMessageBodyReader(ResteasyProviderFactory.java:806)\n        at org.jboss.resteasy.spi.ResteasyProviderFactory.registerProvider(ResteasyProviderFactory.java:1432)\n        ... 71 more\nCaused by: org.jboss.resteasy.spi.LoggableFailure: RESTEASY003880: Unable to find contextual data of type: javax.ws.rs.ext.Providers\n        at org.jboss.resteasy.core.ContextParameterInjector$GenericDelegatingProxy.invoke(ContextParameterInjector.java:62)\n        at com.sun.proxy.$Proxy200.getContextResolver(Unknown Source)\n        at com.owlike.genson.ext.jaxrs.GensonJsonConverter.&lt;init&gt;(GensonJsonConverter.java:38)\n        ... \n</code></pre>\n<p>What can I do for this case?</p>\n"},{"tags":["java","mocking","mockito"],"comments":[{"owner":{"account_id":262329,"reputation":22564,"user_id":547122,"accept_rate":40,"display_name":"weltraumpirat"},"score":4,"creation_date":1361322097,"post_id":14970516,"comment_id":21019767,"body_markdown":"Why would you want to do that? You should either be testing the class (in which case, there should not be mocking at all) or you should mock it while testing a different class (in which case, no functionality). Why would you do a partial mock?","body":"Why would you want to do that? You should either be testing the class (in which case, there should not be mocking at all) or you should mock it while testing a different class (in which case, no functionality). Why would you do a partial mock?"},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":4,"creation_date":1361322725,"post_id":14970516,"comment_id":21019933,"body_markdown":"Ok, this is a small example of the real thing. In reality, I am trying to avoid a call to the database, by passing in contrived values, but I want to verify that the other methods work correctly with those contrived values. Is there a better way to do this?","body":"Ok, this is a small example of the real thing. In reality, I am trying to avoid a call to the database, by passing in contrived values, but I want to verify that the other methods work correctly with those contrived values. Is there a better way to do this?"},{"owner":{"account_id":262329,"reputation":22564,"user_id":547122,"accept_rate":40,"display_name":"weltraumpirat"},"score":6,"creation_date":1361322928,"post_id":14970516,"comment_id":21019982,"body_markdown":"Certainly: Move your database calls to a separate class (domain logic and database access should not be in the same class; they are two different concerns), extract its interface, use that interface to connect from the domain logic class, and mock only the interface during testing.","body":"Certainly: Move your database calls to a separate class (domain logic and database access should not be in the same class; they are two different concerns), extract its interface, use that interface to connect from the domain logic class, and mock only the interface during testing."},{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":1,"creation_date":1361325640,"post_id":14970516,"comment_id":21020636,"body_markdown":"I completely agree, it&#39;s hard to explain the whole picture without uploading gobs of code here, including third party libraries.","body":"I completely agree, it&#39;s hard to explain the whole picture without uploading gobs of code here, including third party libraries."},{"owner":{"account_id":4641623,"reputation":8841,"user_id":3761297,"accept_rate":94,"display_name":"committedandroider"},"score":0,"creation_date":1470328599,"post_id":14970516,"comment_id":64917344,"body_markdown":"@weltraumpirat why the need for an interface? Couldn&#39;t you just create a StockDatabaseCommunicator class and define business logic there without the need to create an interface?","body":"@weltraumpirat why the need for an interface? Couldn&#39;t you just create a StockDatabaseCommunicator class and define business logic there without the need to create an interface?"},{"owner":{"account_id":262329,"reputation":22564,"user_id":547122,"accept_rate":40,"display_name":"weltraumpirat"},"score":1,"creation_date":1471346260,"post_id":14970516,"comment_id":65300176,"body_markdown":"You probably could. But then, that wouldn&#39;t be &quot;a better way to do it&quot;: Your database code is an implementation detail that you want to hide from the rest of your application, probably even move to a different package. You wouldn&#39;t want to have to recompile your domain logic every time you change a sequel statement, would you?","body":"You probably could. But then, that wouldn&#39;t be &quot;a better way to do it&quot;: Your database code is an implementation detail that you want to hide from the rest of your application, probably even move to a different package. You wouldn&#39;t want to have to recompile your domain logic every time you change a sequel statement, would you?"},{"owner":{"account_id":4933635,"reputation":499,"user_id":3972555,"display_name":"Nikhil Vandanapu"},"score":1,"creation_date":1579737831,"post_id":14970516,"comment_id":105870820,"body_markdown":"@weltraumpirat Why shouldn&#39;t we mock some methods of the very class under test? It certainly is possible that I&#39;m testing one method of the my class and that method calls a different method of the same class. What about this causes a useless unit test?","body":"@weltraumpirat Why shouldn&#39;t we mock some methods of the very class under test? It certainly is possible that I&#39;m testing one method of the my class and that method calls a different method of the same class. What about this causes a useless unit test?"},{"owner":{"account_id":262329,"reputation":22564,"user_id":547122,"accept_rate":40,"display_name":"weltraumpirat"},"score":0,"creation_date":1580689963,"post_id":14970516,"comment_id":106168569,"body_markdown":"As a rule of thumb, mocks should be used at system boundaries. If you&#39;re mocking functionality within your class under test, chances are, your test is tightly coupled to the implementation and will break more easily. And it&#39;s not going to help keeping your setup code readable. Is the test useless? Maybe not entirely. But I would still assume there&#39;s something not quite right with the design.","body":"As a rule of thumb, mocks should be used at system boundaries. If you&#39;re mocking functionality within your class under test, chances are, your test is tightly coupled to the implementation and will break more easily. And it&#39;s not going to help keeping your setup code readable. Is the test useless? Maybe not entirely. But I would still assume there&#39;s something not quite right with the design."},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":1,"creation_date":1586343288,"post_id":14970516,"comment_id":108091891,"body_markdown":"&#39;Why would you want to do that?&#39;  Don&#39;t forget that you may have to work with a class that hasn&#39;t been well designed to be decomposable for mocking etc. Quite often I&#39;m faced with classes that require me to jump through such hoops to permit testing. Only then can I refactor with some confidence","body":"&#39;Why would you want to do that?&#39;  Don&#39;t forget that you may have to work with a class that hasn&#39;t been well designed to be decomposable for mocking etc. Quite often I&#39;m faced with classes that require me to jump through such hoops to permit testing. Only then can I refactor with some confidence"}],"answers":[{"comments":[{"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"score":0,"creation_date":1361322810,"post_id":14970545,"comment_id":21019954,"body_markdown":"Again, this was an oversimplification of the actual problem (see my response above). But I corrected my typo above, thanks for pointing it out.","body":"Again, this was an oversimplification of the actual problem (see my response above). But I corrected my typo above, thanks for pointing it out."},{"owner":{"account_id":414727,"reputation":5519,"user_id":789110,"accept_rate":52,"display_name":"GaRRaPeTa"},"score":43,"creation_date":1418039552,"post_id":14970545,"comment_id":43167126,"body_markdown":"I think this answer is wrong. You need to SPY an instance of the object, not to MOCK the class.","body":"I think this answer is wrong. You need to SPY an instance of the object, not to MOCK the class."},{"owner":{"account_id":373237,"reputation":25892,"user_id":722760,"display_name":"Jon Newmuis"},"score":4,"creation_date":1418360049,"post_id":14970545,"comment_id":43314691,"body_markdown":"@GaRRaPeTa I would say spying and mocking are both reasonable alternatives.  It&#39;s difficult to say which is the best for this case, since the OP states that this is a simplified example.","body":"@GaRRaPeTa I would say spying and mocking are both reasonable alternatives.  It&#39;s difficult to say which is the best for this case, since the OP states that this is a simplified example."},{"owner":{"account_id":206866,"reputation":1851,"user_id":456423,"accept_rate":58,"display_name":"Tarun Sapra"},"score":1,"creation_date":1453214543,"post_id":14970545,"comment_id":57497134,"body_markdown":"SHouldn&#39;t it be &quot;Spy&quot; instead of &quot;Mock&quot; as partial mocking cabe be provided by &quot;Spy&quot; in a better way.","body":"SHouldn&#39;t it be &quot;Spy&quot; instead of &quot;Mock&quot; as partial mocking cabe be provided by &quot;Spy&quot; in a better way."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":3,"creation_date":1474310371,"post_id":14970545,"comment_id":66469752,"body_markdown":"`public static &lt;T&gt; T spy(java.lang.Class&lt;T&gt; classToSpy)` still has the annotation `@Incubating` as I write in September 2016... if you really want to use partial mocking the `spy` method should be called on an **instance**","body":"<code>public static &lt;T&gt; T spy(java.lang.Class&lt;T&gt; classToSpy)</code> still has the annotation <code>@Incubating</code> as I write in September 2016... if you really want to use partial mocking the <code>spy</code> method should be called on an <b>instance</b>"},{"owner":{"account_id":103956,"reputation":4401,"user_id":278174,"accept_rate":85,"display_name":"powder366"},"score":0,"creation_date":1493733438,"post_id":14970545,"comment_id":74522413,"body_markdown":"How can I mock two method calls like stock.getMethod1().getMethod2()?","body":"How can I mock two method calls like stock.getMethod1().getMethod2()?"},{"owner":{"account_id":3228095,"reputation":596,"user_id":2723942,"accept_rate":43,"display_name":"Paramvir Singh Karwal"},"score":5,"creation_date":1517929692,"post_id":14970545,"comment_id":84289348,"body_markdown":"`Stock stock = spy(Stock.class);` This seems wrong, `spy` method seems to accept only objects not classes.","body":"<code>Stock stock = spy(Stock.class);</code> This seems wrong, <code>spy</code> method seems to accept only objects not classes."},{"owner":{"account_id":6753581,"reputation":914,"user_id":5202845,"accept_rate":0,"display_name":"khodayar J"},"score":0,"creation_date":1518616835,"post_id":14970545,"comment_id":84579669,"body_markdown":"Is it possible to mock a method of a spied class which is called outside the test class? I need to use a real method but mock a call to other method inside the real one.","body":"Is it possible to mock a method of a spied class which is called outside the test class? I need to use a real method but mock a call to other method inside the real one."},{"owner":{"account_id":743712,"reputation":1458,"user_id":1929092,"accept_rate":38,"display_name":"Jugal Panchal"},"score":2,"creation_date":1534283666,"post_id":14970545,"comment_id":90653750,"body_markdown":"The answer is absolutely correct. The arguments in spy method are varied due to the jar. mockito-core-1.10.19 has two overload methods each for Class Type and Object but mockito-all-1.9.5 has only one that is for Object. I hope it would help someone to understand APIs. thank you!","body":"The answer is absolutely correct. The arguments in spy method are varied due to the jar. mockito-core-1.10.19 has two overload methods each for Class Type and Object but mockito-all-1.9.5 has only one that is for Object. I hope it would help someone to understand APIs. thank you!"},{"owner":{"account_id":4014197,"reputation":131,"user_id":5348370,"display_name":"Ghilteras"},"score":0,"creation_date":1541893624,"post_id":14970545,"comment_id":93374346,"body_markdown":"Looks like `@InjectMocks` does not understand the difference between `@Spy` and `@Mock` though so you end up having all methods stubbed even for spied classes?","body":"Looks like <code>@InjectMocks</code> does not understand the difference between <code>@Spy</code> and <code>@Mock</code> though so you end up having all methods stubbed even for spied classes?"},{"owner":{"account_id":5671378,"reputation":540,"user_id":4485898,"display_name":"Captain_Obvious"},"score":17,"creation_date":1542066294,"post_id":14970545,"comment_id":93426877,"body_markdown":"+1 for pointing out the difference between\n`doReturn(retval).when(spyObj).methodName(args)`\nand\n`when(spyObj.methodName(args)).thenReturn(retval)`","body":"+1 for pointing out the difference between <code>doReturn(retval).when(spyObj).methodName(args)</code> and <code>when(spyObj.methodName(args)).thenReturn(retval)</code>"},{"owner":{"account_id":11747710,"reputation":503,"user_id":8597968,"accept_rate":50,"display_name":"pgman"},"score":0,"creation_date":1559142268,"post_id":14970545,"comment_id":99330326,"body_markdown":"Hi, Spy return generic and so     Stock stock = spy(Stock.class) doesnt work. It shows need to have Class&lt;Stock&gt; stock = spy(Stock.class)","body":"Hi, Spy return generic and so     Stock stock = spy(Stock.class) doesnt work. It shows need to have Class&lt;Stock&gt; stock = spy(Stock.class)"},{"owner":{"account_id":237170,"reputation":18509,"user_id":505152,"accept_rate":72,"display_name":"htafoya"},"score":0,"creation_date":1585005354,"post_id":14970545,"comment_id":107611925,"body_markdown":"@GaRRaPeTa it depends, there are rare cases where you may need to mock the entire class and only call for the real implementation of one method.","body":"@GaRRaPeTa it depends, there are rare cases where you may need to mock the entire class and only call for the real implementation of one method."},{"owner":{"account_id":4060173,"reputation":30602,"user_id":6699433,"accept_rate":67,"display_name":"klutt"},"score":0,"creation_date":1645711466,"post_id":14970545,"comment_id":125948079,"body_markdown":"Your `assertEquals` seem to be wrong","body":"Your <code>assertEquals</code> seem to be wrong"}],"tags":[],"owner":{"account_id":373237,"reputation":25892,"user_id":722760,"display_name":"Jon Newmuis"},"comment_count":14,"down_vote_count":4,"up_vote_count":971,"is_accepted":true,"score":967,"last_activity_date":1565200797,"creation_date":1361322157,"answer_id":14970545,"question_id":14970516,"body_markdown":"To directly answer your question, yes, you can mock some methods without mocking others. This is called a **partial mock**. See [the Mockito documentation on partial mocks][1] for more information.\r\n\r\nFor your example, you can do something like the following, in your test:\r\n\r\n    Stock stock = mock(Stock.class);\r\n    when(stock.getPrice()).thenReturn(100.00);    // Mock implementation\r\n    when(stock.getQuantity()).thenReturn(200);    // Mock implementation\r\n    when(stock.getValue()).thenCallRealMethod();  // Real implementation\r\n\r\nIn that case, each method implementation is mocked, unless specify `thenCallRealMethod()` in the `when(..)` clause.\r\n\r\nThere is also a possibility the other way around with **spy** instead of **mock**:\r\n\r\n    Stock stock = spy(Stock.class);\r\n    when(stock.getPrice()).thenReturn(100.00);    // Mock implementation\r\n    when(stock.getQuantity()).thenReturn(200);    // Mock implementation\r\n    // All other method call will use the real implementations\r\n\r\nIn that case, all method implementation are the real one, except if you have defined a mocked behaviour with `when(..)`.\r\n\r\nThere is one important pitfall when you use `when(Object)` with spy like in the previous example. The real method will be called (because `stock.getPrice()` is evaluated before `when(..)` at runtime). This can be a problem if your method contains logic that should not be called. You can write the previous example like this:\r\n\r\n    Stock stock = spy(Stock.class);\r\n    doReturn(100.00).when(stock).getPrice();    // Mock implementation\r\n    doReturn(200).when(stock).getQuantity();    // Mock implementation\r\n    // All other method call will use the real implementations\r\n\r\n---\r\n\r\nAnother possibility may be to use `org.mockito.Mockito.CALLS_REAL_METHODS`, such as:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    Stock MOCK_STOCK = Mockito.mock( Stock.class, CALLS_REAL_METHODS );\r\n\r\nThis delegates unstubbed calls to real implementations.\r\n\r\n---\r\n\r\nHowever, with your example, I believe it will still fail, since the implementation of `getValue()` relies on `quantity` and `price`, rather than `getQuantity()` and `getPrice()`, which is what you&#39;ve mocked.\r\n\r\nAnother possibility is to avoid mocks altogether:\r\n\r\n    @Test\r\n    public void getValueTest() {\r\n        Stock stock = new Stock(100.00, 200);\r\n        double value = stock.getValue();\r\n        assertEquals(&quot;Stock value not correct&quot;, 100.00*200, value, .00001);\r\n    }\r\n\r\n  [1]: http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#16\r\n\r\n","title":"Use Mockito to mock some methods but not others","body":"<p>To directly answer your question, yes, you can mock some methods without mocking others. This is called a <strong>partial mock</strong>. See <a href=\"http://site.mockito.org/mockito/docs/current/org/mockito/Mockito.html#16\" rel=\"noreferrer\">the Mockito documentation on partial mocks</a> for more information.</p>\n\n<p>For your example, you can do something like the following, in your test:</p>\n\n<pre><code>Stock stock = mock(Stock.class);\nwhen(stock.getPrice()).thenReturn(100.00);    // Mock implementation\nwhen(stock.getQuantity()).thenReturn(200);    // Mock implementation\nwhen(stock.getValue()).thenCallRealMethod();  // Real implementation\n</code></pre>\n\n<p>In that case, each method implementation is mocked, unless specify <code>thenCallRealMethod()</code> in the <code>when(..)</code> clause.</p>\n\n<p>There is also a possibility the other way around with <strong>spy</strong> instead of <strong>mock</strong>:</p>\n\n<pre><code>Stock stock = spy(Stock.class);\nwhen(stock.getPrice()).thenReturn(100.00);    // Mock implementation\nwhen(stock.getQuantity()).thenReturn(200);    // Mock implementation\n// All other method call will use the real implementations\n</code></pre>\n\n<p>In that case, all method implementation are the real one, except if you have defined a mocked behaviour with <code>when(..)</code>.</p>\n\n<p>There is one important pitfall when you use <code>when(Object)</code> with spy like in the previous example. The real method will be called (because <code>stock.getPrice()</code> is evaluated before <code>when(..)</code> at runtime). This can be a problem if your method contains logic that should not be called. You can write the previous example like this:</p>\n\n<pre><code>Stock stock = spy(Stock.class);\ndoReturn(100.00).when(stock).getPrice();    // Mock implementation\ndoReturn(200).when(stock).getQuantity();    // Mock implementation\n// All other method call will use the real implementations\n</code></pre>\n\n<hr>\n\n<p>Another possibility may be to use <code>org.mockito.Mockito.CALLS_REAL_METHODS</code>, such as:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>Stock MOCK_STOCK = Mockito.mock( Stock.class, CALLS_REAL_METHODS );\n</code></pre>\n\n<p>This delegates unstubbed calls to real implementations.</p>\n\n<hr>\n\n<p>However, with your example, I believe it will still fail, since the implementation of <code>getValue()</code> relies on <code>quantity</code> and <code>price</code>, rather than <code>getQuantity()</code> and <code>getPrice()</code>, which is what you've mocked.</p>\n\n<p>Another possibility is to avoid mocks altogether:</p>\n\n<pre><code>@Test\npublic void getValueTest() {\n    Stock stock = new Stock(100.00, 200);\n    double value = stock.getValue();\n    assertEquals(\"Stock value not correct\", 100.00*200, value, .00001);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":332434,"reputation":8584,"user_id":657745,"accept_rate":68,"display_name":"Sudarshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":175,"is_accepted":false,"score":175,"last_activity_date":1493827549,"creation_date":1369378366,"answer_id":16729205,"question_id":14970516,"body_markdown":"Partial mocking of a class is also supported via **Spy** in mockito\r\n\r\n    List list = new LinkedList();\r\n    List spy = spy(list);\r\n\r\n    //optionally, you can stub out some methods:\r\n    when(spy.size()).thenReturn(100);\r\n\r\n    //using the spy calls real methods\r\n    spy.add(&quot;one&quot;);\r\n    spy.add(&quot;two&quot;);\r\n\r\n    //size() method was stubbed - 100 is printed\r\n    System.out.println(spy.size());\r\n\r\n\r\nCheck the [`1.10.19`](http://static.javadoc.io/org.mockito/mockito-core/1.10.19/org/mockito/Mockito.html#16) and [`2.7.22`](http://static.javadoc.io/org.mockito/mockito-core/2.7.22/org/mockito/Mockito.html#16) docs for detailed explanation.","title":"Use Mockito to mock some methods but not others","body":"<p>Partial mocking of a class is also supported via <strong>Spy</strong> in mockito</p>\n\n<pre><code>List list = new LinkedList();\nList spy = spy(list);\n\n//optionally, you can stub out some methods:\nwhen(spy.size()).thenReturn(100);\n\n//using the spy calls real methods\nspy.add(\"one\");\nspy.add(\"two\");\n\n//size() method was stubbed - 100 is printed\nSystem.out.println(spy.size());\n</code></pre>\n\n<p>Check the <a href=\"http://static.javadoc.io/org.mockito/mockito-core/1.10.19/org/mockito/Mockito.html#16\" rel=\"noreferrer\"><code>1.10.19</code></a> and <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.7.22/org/mockito/Mockito.html#16\" rel=\"noreferrer\"><code>2.7.22</code></a> docs for detailed explanation.</p>\n"},{"comments":[{"owner":{"account_id":54682,"reputation":2559,"user_id":163679,"accept_rate":71,"display_name":"bigh_29"},"score":2,"creation_date":1449177470,"post_id":32332987,"comment_id":55905953,"body_markdown":"Thank you for demonstrating how to setup a mock where the real implementation is called for all methods except the few I need to control from the test.","body":"Thank you for demonstrating how to setup a mock where the real implementation is called for all methods except the few I need to control from the test."},{"owner":{"account_id":281626,"reputation":961,"user_id":578041,"accept_rate":20,"display_name":"Lance Kind"},"score":0,"creation_date":1456209078,"post_id":32332987,"comment_id":58828288,"body_markdown":"`class NaughtyLinkedList extends LinkedList {\n    \tpublic int size() { throw new RuntimeException(&quot;don&#39;t call me&quot;);}\n    }\n\n\t@Test\n\tpublic void partialMockNaughtLinkedList(){\n\t\t\n\t\tList mock = mock(NaughtyLinkedList.class, CALLS_REAL_METHODS);\n\t\tmock.add(new Object()); // this calls the real function\n\n\t\twhen(mock.size()).thenReturn(2); // For whatever reason, this lines throws the RuntimeException.\n\n\t\tassertEquals(2,mock.size());\n\t}` This doesn&#39;t work. For whatever the reason, when &quot;when&quot; is executed, it actually executes the method that&#39;s supposed to be mocked.  Code:","body":"<code>class NaughtyLinkedList extends LinkedList {     \tpublic int size() { throw new RuntimeException(&quot;don&#39;t call me&quot;);}     }  \t@Test \tpublic void partialMockNaughtLinkedList(){ \t\t \t\tList mock = mock(NaughtyLinkedList.class, CALLS_REAL_METHODS); \t\tmock.add(new Object()); &#47;&#47; this calls the real function  \t\twhen(mock.size()).thenReturn(2); &#47;&#47; For whatever reason, this lines throws the RuntimeException.  \t\tassertEquals(2,mock.size()); \t}</code> This doesn&#39;t work. For whatever the reason, when &quot;when&quot; is executed, it actually executes the method that&#39;s supposed to be mocked.  Code:"},{"owner":{"account_id":281626,"reputation":961,"user_id":578041,"accept_rate":20,"display_name":"Lance Kind"},"score":6,"creation_date":1456210489,"post_id":32332987,"comment_id":58828910,"body_markdown":"The problem is &quot;when.&quot; The &quot;when&quot; will actually execute the thing you want to partially mock. To avoid this there is an alternative: doReturn().  See the doReturn() at http://docs.mockito.googlecode.com/hg/1.9.5/org/mockito/Mockito.html#spy","body":"The problem is &quot;when.&quot; The &quot;when&quot; will actually execute the thing you want to partially mock. To avoid this there is an alternative: doReturn().  See the doReturn() at <a href=\"http://docs.mockito.googlecode.com/hg/1.9.5/org/mockito/Mockito.html#spy\" rel=\"nofollow noreferrer\">docs.mockito.googlecode.com/hg/1.9.5/org/mockito/&hellip;</a>"},{"owner":{"account_id":4093763,"reputation":1143,"user_id":3361121,"accept_rate":54,"display_name":"AdityaKapreShrewsburyBoston"},"score":2,"creation_date":1644632861,"post_id":32332987,"comment_id":125665787,"body_markdown":"Tried to implement this answer and found that `when(mock.getSomething()).thenReturn(fakeValue);` does not work, rather had to use `doReturn(fakeValue).when(mock).getSomething()`","body":"Tried to implement this answer and found that <code>when(mock.getSomething()).thenReturn(fakeValue);</code> does not work, rather had to use <code>doReturn(fakeValue).when(mock).getSomething()</code>"}],"tags":[],"owner":{"account_id":1694567,"reputation":911,"user_id":1556234,"accept_rate":40,"display_name":"ema"},"comment_count":4,"down_vote_count":0,"up_vote_count":47,"is_accepted":false,"score":47,"last_activity_date":1441114248,"creation_date":1441114248,"answer_id":32332987,"question_id":14970516,"body_markdown":"According to [docs][1] :\r\n\r\n    Foo mock = mock(Foo.class, CALLS_REAL_METHODS);\r\n    \r\n    // this calls the real implementation of Foo.getSomething()\r\n    value = mock.getSomething();\r\n    \r\n    when(mock.getSomething()).thenReturn(fakeValue);\r\n    \r\n    // now fakeValue is returned\r\n    value = mock.getSomething();\r\n\r\n\r\n  [1]: http://docs.mockito.googlecode.com/hg/latest/org/mockito/Mockito.html#16\r\n","title":"Use Mockito to mock some methods but not others","body":"<p>According to <a href=\"http://docs.mockito.googlecode.com/hg/latest/org/mockito/Mockito.html#16\">docs</a> :</p>\n\n<pre><code>Foo mock = mock(Foo.class, CALLS_REAL_METHODS);\n\n// this calls the real implementation of Foo.getSomething()\nvalue = mock.getSomething();\n\nwhen(mock.getSomething()).thenReturn(fakeValue);\n\n// now fakeValue is returned\nvalue = mock.getSomething();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":1,"creation_date":1474309357,"post_id":35504565,"comment_id":66469273,"body_markdown":"Well spotted... but can I just ask why you use `withSettings()...` like that?  It appears that `org.mockito.internal.stubbing.answers.CallsRealMethods()` (for example) might do the job... and the javadoc for this class specifically says it&#39;s for use for partial mocks...","body":"Well spotted... but can I just ask why you use <code>withSettings()...</code> like that?  It appears that <code>org.mockito.internal.stubbing.answers.CallsRealMethods()</code> (for example) might do the job... and the javadoc for this class specifically says it&#39;s for use for partial mocks..."},{"owner":{"account_id":703628,"reputation":14438,"user_id":595305,"accept_rate":83,"display_name":"mike rodent"},"score":3,"creation_date":1474309951,"post_id":35504565,"comment_id":66469544,"body_markdown":"Also... won&#39;t this run into the problem encountered by other answers here: i.e. `thenReturn` will actually execute the method (which might cause problems, although not in this example), and so `doReturn` is preferable in such a case...?","body":"Also... won&#39;t this run into the problem encountered by other answers here: i.e. <code>thenReturn</code> will actually execute the method (which might cause problems, although not in this example), and so <code>doReturn</code> is preferable in such a case...?"}],"tags":[],"owner":{"account_id":1195500,"reputation":809,"user_id":1167336,"accept_rate":100,"display_name":"the dude"},"comment_count":2,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1565200510,"creation_date":1455882436,"answer_id":35504565,"question_id":14970516,"body_markdown":"What you want is `org.mockito.Mockito.CALLS_REAL_METHODS` according to the docs:\r\n\r\n    /**\r\n     * Optional &lt;code&gt;Answer&lt;/code&gt; to be used with {@link Mockito#mock(Class, Answer)}\r\n     * &lt;p&gt;\r\n     * {@link Answer} can be used to define the return values of unstubbed invocations.\r\n     * &lt;p&gt;\r\n     * This implementation can be helpful when working with legacy code.\r\n     * When this implementation is used, unstubbed methods will delegate to the real implementation.\r\n     * This is a way to create a partial mock object that calls real methods by default.\r\n     * &lt;p&gt;\r\n     * As usual you are going to read &lt;b&gt;the partial mock warning&lt;/b&gt;:\r\n     * Object oriented programming is more less tackling complexity by dividing the complexity into separate, specific, SRPy objects.\r\n     * How does partial mock fit into this paradigm? Well, it just doesn&#39;t... \r\n     * Partial mock usually means that the complexity has been moved to a different method on the same object.\r\n     * In most cases, this is not the way you want to design your application.\r\n     * &lt;p&gt;\r\n     * However, there are rare cases when partial mocks come handy: \r\n     * dealing with code you cannot change easily (3rd party interfaces, interim refactoring of legacy code etc.)\r\n     * However, I wouldn&#39;t use partial mocks for new, test-driven &amp; well-designed code.\r\n     * &lt;p&gt;\r\n     * Example:\r\n     * &lt;pre class=&quot;code&quot;&gt;&lt;code class=&quot;java&quot;&gt;\r\n     * Foo mock = mock(Foo.class, CALLS_REAL_METHODS);\r\n     *\r\n     * // this calls the real implementation of Foo.getSomething()\r\n     * value = mock.getSomething();\r\n     *\r\n     * when(mock.getSomething()).thenReturn(fakeValue);\r\n     *\r\n     * // now fakeValue is returned\r\n     * value = mock.getSomething();\r\n     * &lt;/code&gt;&lt;/pre&gt;\r\n     */\r\n\r\nThus your code should look like:\r\n\r\n\timport org.junit.Test;\r\n\timport static org.mockito.Mockito.*;\r\n\timport static org.junit.Assert.*;\r\n\r\n\tpublic class StockTest {\r\n\r\n\t\tpublic class Stock {\r\n\t\t\tprivate final double price;\r\n\t\t\tprivate final int quantity;\r\n\r\n\t\t\tStock(double price, int quantity) {\r\n\t\t\t\tthis.price = price;\r\n\t\t\t\tthis.quantity = quantity;\r\n\t\t\t}\r\n\r\n\t\t\tpublic double getPrice() {\r\n\t\t\t\treturn price;\r\n\t\t\t}\r\n\r\n\t\t\tpublic int getQuantity() {\r\n\t\t\t\treturn quantity;\r\n\t\t\t}\r\n\r\n\t\t\tpublic double getValue() {\r\n\t\t\t\treturn getPrice() * getQuantity();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t@Test\r\n\t\tpublic void getValueTest() {\r\n\t\t\tStock stock = mock(Stock.class, withSettings().defaultAnswer(CALLS_REAL_METHODS));\r\n\t\t\twhen(stock.getPrice()).thenReturn(100.00);\r\n\t\t\twhen(stock.getQuantity()).thenReturn(200);\r\n\t\t\tdouble value = stock.getValue();\r\n\r\n\t\t\tassertEquals(&quot;Stock value not correct&quot;, 100.00 * 200, value, .00001);\r\n\t\t}\r\n\t}\r\n\r\n---\r\n\r\nThe call to `Stock stock = mock(Stock.class);` calls `org.mockito.Mockito.mock(Class&lt;T&gt;)` which looks like this:\r\n\r\n     public static &lt;T&gt; T mock(Class&lt;T&gt; classToMock) {\r\n        return mock(classToMock, withSettings().defaultAnswer(RETURNS_DEFAULTS));\r\n    }\r\n\r\nThe docs of the value `RETURNS_DEFAULTS` tell:\r\n\r\n    /**\r\n     * The default &lt;code&gt;Answer&lt;/code&gt; of every mock &lt;b&gt;if&lt;/b&gt; the mock was not stubbed.\r\n     * Typically it just returns some empty value. \r\n     * &lt;p&gt;\r\n     * {@link Answer} can be used to define the return values of unstubbed invocations. \r\n     * &lt;p&gt;\r\n     * This implementation first tries the global configuration. \r\n     * If there is no global configuration then it uses {@link ReturnsEmptyValues} (returns zeros, empty collections, nulls, etc.)\r\n     */\r\n\r\n","title":"Use Mockito to mock some methods but not others","body":"<p>What you want is <code>org.mockito.Mockito.CALLS_REAL_METHODS</code> according to the docs:</p>\n\n<pre><code>/**\n * Optional &lt;code&gt;Answer&lt;/code&gt; to be used with {@link Mockito#mock(Class, Answer)}\n * &lt;p&gt;\n * {@link Answer} can be used to define the return values of unstubbed invocations.\n * &lt;p&gt;\n * This implementation can be helpful when working with legacy code.\n * When this implementation is used, unstubbed methods will delegate to the real implementation.\n * This is a way to create a partial mock object that calls real methods by default.\n * &lt;p&gt;\n * As usual you are going to read &lt;b&gt;the partial mock warning&lt;/b&gt;:\n * Object oriented programming is more less tackling complexity by dividing the complexity into separate, specific, SRPy objects.\n * How does partial mock fit into this paradigm? Well, it just doesn't... \n * Partial mock usually means that the complexity has been moved to a different method on the same object.\n * In most cases, this is not the way you want to design your application.\n * &lt;p&gt;\n * However, there are rare cases when partial mocks come handy: \n * dealing with code you cannot change easily (3rd party interfaces, interim refactoring of legacy code etc.)\n * However, I wouldn't use partial mocks for new, test-driven &amp; well-designed code.\n * &lt;p&gt;\n * Example:\n * &lt;pre class=\"code\"&gt;&lt;code class=\"java\"&gt;\n * Foo mock = mock(Foo.class, CALLS_REAL_METHODS);\n *\n * // this calls the real implementation of Foo.getSomething()\n * value = mock.getSomething();\n *\n * when(mock.getSomething()).thenReturn(fakeValue);\n *\n * // now fakeValue is returned\n * value = mock.getSomething();\n * &lt;/code&gt;&lt;/pre&gt;\n */\n</code></pre>\n\n<p>Thus your code should look like:</p>\n\n<pre><code>import org.junit.Test;\nimport static org.mockito.Mockito.*;\nimport static org.junit.Assert.*;\n\npublic class StockTest {\n\n    public class Stock {\n        private final double price;\n        private final int quantity;\n\n        Stock(double price, int quantity) {\n            this.price = price;\n            this.quantity = quantity;\n        }\n\n        public double getPrice() {\n            return price;\n        }\n\n        public int getQuantity() {\n            return quantity;\n        }\n\n        public double getValue() {\n            return getPrice() * getQuantity();\n        }\n    }\n\n    @Test\n    public void getValueTest() {\n        Stock stock = mock(Stock.class, withSettings().defaultAnswer(CALLS_REAL_METHODS));\n        when(stock.getPrice()).thenReturn(100.00);\n        when(stock.getQuantity()).thenReturn(200);\n        double value = stock.getValue();\n\n        assertEquals(\"Stock value not correct\", 100.00 * 200, value, .00001);\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>The call to <code>Stock stock = mock(Stock.class);</code> calls <code>org.mockito.Mockito.mock(Class&lt;T&gt;)</code> which looks like this:</p>\n\n<pre><code> public static &lt;T&gt; T mock(Class&lt;T&gt; classToMock) {\n    return mock(classToMock, withSettings().defaultAnswer(RETURNS_DEFAULTS));\n}\n</code></pre>\n\n<p>The docs of the value <code>RETURNS_DEFAULTS</code> tell:</p>\n\n<pre><code>/**\n * The default &lt;code&gt;Answer&lt;/code&gt; of every mock &lt;b&gt;if&lt;/b&gt; the mock was not stubbed.\n * Typically it just returns some empty value. \n * &lt;p&gt;\n * {@link Answer} can be used to define the return values of unstubbed invocations. \n * &lt;p&gt;\n * This implementation first tries the global configuration. \n * If there is no global configuration then it uses {@link ReturnsEmptyValues} (returns zeros, empty collections, nulls, etc.)\n */\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8916832,"reputation":1078,"user_id":6655094,"display_name":"soundslikeodd"},"score":3,"creation_date":1485293478,"post_id":41838740,"comment_id":70863937,"body_markdown":"I feel this answer is partially an opinion.  Please consider editing.","body":"I feel this answer is partially an opinion.  Please consider editing."},{"owner":{"account_id":281630,"reputation":4230,"user_id":578046,"accept_rate":45,"display_name":"Saurabh Patil"},"score":2,"creation_date":1545117089,"post_id":41838740,"comment_id":94504348,"body_markdown":"Upvoted to cheer up the new member in the family. No need to get this in -ve zone, nothing really technically wrong there or incorrect language/tone. Be kind on new members.Thanks.","body":"Upvoted to cheer up the new member in the family. No need to get this in -ve zone, nothing really technically wrong there or incorrect language/tone. Be kind on new members.Thanks."}],"tags":[],"owner":{"account_id":10101988,"reputation":59,"user_id":7465827,"display_name":"kflGalore"},"comment_count":2,"down_vote_count":3,"up_vote_count":6,"is_accepted":false,"score":3,"last_activity_date":1485290983,"creation_date":1485290983,"answer_id":41838740,"question_id":14970516,"body_markdown":"Partial mocking using Mockito&#39;s spy method could be the solution to your problem, as already stated in the answers above. To some degree I agree that, for your concrete use case, it may be more appropriate to mock the DB lookup. From my experience this is not always possible - at least not without other workarounds - that I would consider as being very cumbersome or at least fragile. Note, that partial mocking does not work with ally versions of Mockito. You have use at least 1.8.0.\r\n\r\nI would have just written a simple comment for the original question instead of posting this answer, but StackOverflow does not allow this.\r\n\r\nJust one more thing: I really cannot understand that many times a question is being asked here gets comment with &quot;Why you want to do this&quot; without at least trying to understand the problem. Escpecially when it comes to then need for partial mocking there are really a lot of use cases that I could imagine where it would be useful. That&#39;s why the guys from Mockito provided that functionality. This feature should of course not be overused. But when we talk about test case setups that otherwise could not be established in a very complicated way, spying should be used. ","title":"Use Mockito to mock some methods but not others","body":"<p>Partial mocking using Mockito's spy method could be the solution to your problem, as already stated in the answers above. To some degree I agree that, for your concrete use case, it may be more appropriate to mock the DB lookup. From my experience this is not always possible - at least not without other workarounds - that I would consider as being very cumbersome or at least fragile. Note, that partial mocking does not work with ally versions of Mockito. You have use at least 1.8.0.</p>\n\n<p>I would have just written a simple comment for the original question instead of posting this answer, but StackOverflow does not allow this.</p>\n\n<p>Just one more thing: I really cannot understand that many times a question is being asked here gets comment with \"Why you want to do this\" without at least trying to understand the problem. Escpecially when it comes to then need for partial mocking there are really a lot of use cases that I could imagine where it would be useful. That's why the guys from Mockito provided that functionality. This feature should of course not be overused. But when we talk about test case setups that otherwise could not be established in a very complicated way, spying should be used. </p>\n"}],"owner":{"account_id":247773,"reputation":15733,"user_id":522729,"accept_rate":69,"display_name":"Victor Grazi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":675949,"favorite_count":0,"down_vote_count":1,"up_vote_count":611,"accepted_answer_id":14970545,"answer_count":5,"score":610,"last_activity_date":1669067970,"creation_date":1361321948,"question_id":14970516,"body_markdown":"Is there any way, using Mockito, to mock some methods in a class, but not others?\r\n\r\nFor example, in this (admittedly contrived) `Stock` class I want to mock the `getPrice()` and `getQuantity()` return values (as shown in the test snippet below) but I want the `getValue()` to perform the multiplication as coded in the `Stock` class\r\n\r\n    public class Stock {\r\n      private final double price;\r\n      private final int quantity;\r\n\r\n      Stock(double price, int quantity) {\r\n        this.price = price;\r\n        this.quantity = quantity;\r\n      }\r\n\r\n      public double getPrice() {\r\n        return price;\r\n      }\r\n\r\n      public int getQuantity() {\r\n        return quantity;\r\n      }\r\n      public double getValue() {\r\n        return getPrice() * getQuantity();\r\n      }\r\n\r\n      @Test\r\n      public void getValueTest() {\r\n        Stock stock = mock(Stock.class);\r\n        when(stock.getPrice()).thenReturn(100.00);\r\n        when(stock.getQuantity()).thenReturn(200);\r\n        double value = stock.getValue();\r\n        // Unfortunately the following assert fails, because the mock Stock getValue() method does not perform the Stock.getValue() calculation code.\r\n        assertEquals(&quot;Stock value not correct&quot;, 100.00*200, value, .00001);\r\n    }","title":"Use Mockito to mock some methods but not others","body":"<p>Is there any way, using Mockito, to mock some methods in a class, but not others?</p>\n\n<p>For example, in this (admittedly contrived) <code>Stock</code> class I want to mock the <code>getPrice()</code> and <code>getQuantity()</code> return values (as shown in the test snippet below) but I want the <code>getValue()</code> to perform the multiplication as coded in the <code>Stock</code> class</p>\n\n<pre><code>public class Stock {\n  private final double price;\n  private final int quantity;\n\n  Stock(double price, int quantity) {\n    this.price = price;\n    this.quantity = quantity;\n  }\n\n  public double getPrice() {\n    return price;\n  }\n\n  public int getQuantity() {\n    return quantity;\n  }\n  public double getValue() {\n    return getPrice() * getQuantity();\n  }\n\n  @Test\n  public void getValueTest() {\n    Stock stock = mock(Stock.class);\n    when(stock.getPrice()).thenReturn(100.00);\n    when(stock.getQuantity()).thenReturn(200);\n    double value = stock.getValue();\n    // Unfortunately the following assert fails, because the mock Stock getValue() method does not perform the Stock.getValue() calculation code.\n    assertEquals(\"Stock value not correct\", 100.00*200, value, .00001);\n}\n</code></pre>\n"},{"tags":["java","ms-word","docx","docx4j","legacy-code"],"answers":[{"comments":[{"owner":{"account_id":1544079,"reputation":5871,"user_id":1438038,"accept_rate":51,"display_name":"user1438038"},"score":0,"creation_date":1669303343,"post_id":74525332,"comment_id":131618200,"body_markdown":"I checked back with the maintainer of a third-party dependency that my project used and he managed to update to Docx4J 8.3.8. That eventually resolved the issue for me. But I&#39;ll accept your answer, because building a custom version of v. 3.3.3 would have been a solution as well.","body":"I checked back with the maintainer of a third-party dependency that my project used and he managed to update to Docx4J 8.3.8. That eventually resolved the issue for me. But I&#39;ll accept your answer, because building a custom version of v. 3.3.3 would have been a solution as well."}],"tags":[],"owner":{"account_id":30580,"reputation":15487,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669067915,"creation_date":1669067915,"answer_id":74525332,"question_id":74478113,"body_markdown":"You can&#39;t add the namespace definitions to the WordprocessingMLPackage object.\r\n\r\nYou&#39;ll need to get the source code for 3.3.3 from https://github.com/plutext/docx4j/tree/docx4j-3.3.3 then copy the new NamespacePrefixMappings content into it, then build it. You can then deploy this new jar file.\r\n\r\nIf you wanted to try to avoid compiling the source code, you&#39;d have 2 alternatives to try (since docx4j doesn&#39;t implement the stategy pattern there).  **I don&#39;t expect these to work!**\r\n\r\nOne is to replace the relevant classes at runtime.  For this, see https://stackoverflow.com/questions/14316996/how-to-replace-classes-in-a-running-application-in-java\r\n\r\nThe other is to replace the relevant classes in your jar file, which is just a zip file.\r\n\r\nYou&#39;d need to get the new class from docx4j 8.2.9.  \r\n\r\nPlease note that sometimes, there are also changes to ContentTypeManager and ContentTypes; see for example https://github.com/plutext/docx4j/commit/d4d02d3fa6e7bf98f35d1f0520e62eb8aef06cba  \r\n\r\nThat commit introduces new parts, and you&#39;ll run into problems if you update ContentTypeManager without those.\r\n\r\nSo you might be tempted to try to replace NamespacePrefixMappings in your existing jar.\r\n\r\nBut the interfaces it implements changed at https://github.com/plutext/docx4j/commit/65fb843a26b5893200a1824c04c826db2db7940c#diff-70242e2f5ec56be77fe15322526f4530b02e8eafdcb9ae16b60b2220f62e0632\r\n\r\nSee further https://github.com/plutext/docx4j/commits/VERSION_8_3_8/docx4j-core/src/main/java/org/docx4j/jaxb/NamespacePrefixMappings.java so that is going to cause you problems.\r\n\r\nThe upshot is you&#39;ll need to get the source code for 3.3.3 from https://github.com/plutext/docx4j/tree/docx4j-3.3.3 then copy the new NamespacePrefixMappings content into it (ie except the interface changes), then build it.  If you do this, you may as well just deploy your new jar file.\r\n \r\n\r\n\r\n\r\n","title":"Resolve unreadable content message in Word with Docx4J v. 3.3.3","body":"<p>You can't add the namespace definitions to the WordprocessingMLPackage object.</p>\n<p>You'll need to get the source code for 3.3.3 from <a href=\"https://github.com/plutext/docx4j/tree/docx4j-3.3.3\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/tree/docx4j-3.3.3</a> then copy the new NamespacePrefixMappings content into it, then build it. You can then deploy this new jar file.</p>\n<p>If you wanted to try to avoid compiling the source code, you'd have 2 alternatives to try (since docx4j doesn't implement the stategy pattern there).  <strong>I don't expect these to work!</strong></p>\n<p>One is to replace the relevant classes at runtime.  For this, see <a href=\"https://stackoverflow.com/questions/14316996/how-to-replace-classes-in-a-running-application-in-java\">How to replace classes in a running application in java ?</a></p>\n<p>The other is to replace the relevant classes in your jar file, which is just a zip file.</p>\n<p>You'd need to get the new class from docx4j 8.2.9.</p>\n<p>Please note that sometimes, there are also changes to ContentTypeManager and ContentTypes; see for example <a href=\"https://github.com/plutext/docx4j/commit/d4d02d3fa6e7bf98f35d1f0520e62eb8aef06cba\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/commit/d4d02d3fa6e7bf98f35d1f0520e62eb8aef06cba</a></p>\n<p>That commit introduces new parts, and you'll run into problems if you update ContentTypeManager without those.</p>\n<p>So you might be tempted to try to replace NamespacePrefixMappings in your existing jar.</p>\n<p>But the interfaces it implements changed at <a href=\"https://github.com/plutext/docx4j/commit/65fb843a26b5893200a1824c04c826db2db7940c#diff-70242e2f5ec56be77fe15322526f4530b02e8eafdcb9ae16b60b2220f62e0632\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/commit/65fb843a26b5893200a1824c04c826db2db7940c#diff-70242e2f5ec56be77fe15322526f4530b02e8eafdcb9ae16b60b2220f62e0632</a></p>\n<p>See further <a href=\"https://github.com/plutext/docx4j/commits/VERSION_8_3_8/docx4j-core/src/main/java/org/docx4j/jaxb/NamespacePrefixMappings.java\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/commits/VERSION_8_3_8/docx4j-core/src/main/java/org/docx4j/jaxb/NamespacePrefixMappings.java</a> so that is going to cause you problems.</p>\n<p>The upshot is you'll need to get the source code for 3.3.3 from <a href=\"https://github.com/plutext/docx4j/tree/docx4j-3.3.3\" rel=\"nofollow noreferrer\">https://github.com/plutext/docx4j/tree/docx4j-3.3.3</a> then copy the new NamespacePrefixMappings content into it (ie except the interface changes), then build it.  If you do this, you may as well just deploy your new jar file.</p>\n"}],"owner":{"account_id":1544079,"reputation":5871,"user_id":1438038,"accept_rate":51,"display_name":"user1438038"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":397,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74525332,"answer_count":1,"score":0,"last_activity_date":1669067915,"creation_date":1668699139,"question_id":74478113,"body_markdown":"We are processing a Word template that was created with Word 365 (*Version 2202 Build 16.0.14931.20648*) in Docx4J. Once the file was modified by our Java application, Word will show an error message when we open the document. The message will state that **the file contains unreadable content** and that Word needs to repair it. This works fine and the document will eventually open, however, the message is annoying.\r\n\r\nI assume that the error message is **related to a namespace issue** ([see this question][1]). That issue was resolved with [docx4j v. 8.2.9][2], which defines the missing namespaces properly.\r\n\r\n**However, I&#39;m stuck with docx4j 3.3.3 and cannot update.** The fix seems rather simple in the [GitHub commit][3], so I wonder, if there is any way to resolve the issue myself. All I have in my code, is a `WordprocessingMLPackage` object. Can I add or append namespace definitions to that object or it&#39;s sub-properties somehow?\r\n\r\n  [1]: https://stackoverflow.com/questions/67374883/unreadable-content-error-after-generating-word-document-from-template-with-docx4\r\n  [2]: https://www.docx4java.org/forums/announces/docx4j-8-2-9-released-following-word-updates-t2979.html\r\n  [3]: https://github.com/plutext/docx4j/pull/442/commits/b614193104dfa60d6959c16eb96ea299f6d15591","title":"Resolve unreadable content message in Word with Docx4J v. 3.3.3","body":"<p>We are processing a Word template that was created with Word 365 (<em>Version 2202 Build 16.0.14931.20648</em>) in Docx4J. Once the file was modified by our Java application, Word will show an error message when we open the document. The message will state that <strong>the file contains unreadable content</strong> and that Word needs to repair it. This works fine and the document will eventually open, however, the message is annoying.</p>\n<p>I assume that the error message is <strong>related to a namespace issue</strong> (<a href=\"https://stackoverflow.com/questions/67374883/unreadable-content-error-after-generating-word-document-from-template-with-docx4\">see this question</a>). That issue was resolved with <a href=\"https://www.docx4java.org/forums/announces/docx4j-8-2-9-released-following-word-updates-t2979.html\" rel=\"nofollow noreferrer\">docx4j v. 8.2.9</a>, which defines the missing namespaces properly.</p>\n<p><strong>However, I'm stuck with docx4j 3.3.3 and cannot update.</strong> The fix seems rather simple in the <a href=\"https://github.com/plutext/docx4j/pull/442/commits/b614193104dfa60d6959c16eb96ea299f6d15591\" rel=\"nofollow noreferrer\">GitHub commit</a>, so I wonder, if there is any way to resolve the issue myself. All I have in my code, is a <code>WordprocessingMLPackage</code> object. Can I add or append namespace definitions to that object or it's sub-properties somehow?</p>\n"},{"tags":["java","minecraft","mixins","minecraft-fabric"],"owner":{"account_id":17534758,"reputation":98,"user_id":12718101,"display_name":"Leo Minton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669067405,"creation_date":1669067405,"question_id":74525273,"body_markdown":"I am creating a Fabric mod for Minecraft and was trying to change a variable in the declaration of a class. I am new at modding with Fabric and I am not sure how to do this.\r\n\r\nIn the class `net.minecraft.network.packet.c2s.play.PlayerMoveC2SPacket` I wanted to change how the x, y, and z locations were declared.\r\n\r\n```\r\nprotected final double x;\r\nprotected final double y;\r\nprotected final double z;\r\nprotected final float yaw;\r\nprotected final float pitch;\r\nprotected final boolean onGround;\r\nprotected final boolean changePosition;\r\nprotected final boolean changeLook;\r\n\r\nprotected PlayerMoveC2SPacket(double x, double y, double z, float yaw, float pitch, boolean onGround, boolean changePosition, boolean changeLook) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        this.yaw = yaw;\r\n        this.pitch = pitch;\r\n        this.onGround = onGround;\r\n        this.changePosition = changePosition;\r\n        this.changeLook = changeLook;\r\n```\r\n\r\nI want to change it to this:\r\n\r\n```\r\nthis.x = (double) Math.round(x);\r\nthis.y = (double) Math.round(x);\r\nthis.z = (double) Math.round(x);\r\nthis.yaw = yaw;\r\nthis.pitch = pitch;\r\nthis.onGround = onGround;\r\nthis.changePosition = changePosition;\r\nthis.changeLook = changeLook;\r\n```\r\n\r\nI tried to use an `@Overwrite` but that gave an error. Is there any way to do this, or is it impossible?","title":"Minecraft Fabric modding change class declaration in mixin","body":"<p>I am creating a Fabric mod for Minecraft and was trying to change a variable in the declaration of a class. I am new at modding with Fabric and I am not sure how to do this.</p>\n<p>In the class <code>net.minecraft.network.packet.c2s.play.PlayerMoveC2SPacket</code> I wanted to change how the x, y, and z locations were declared.</p>\n<pre><code>protected final double x;\nprotected final double y;\nprotected final double z;\nprotected final float yaw;\nprotected final float pitch;\nprotected final boolean onGround;\nprotected final boolean changePosition;\nprotected final boolean changeLook;\n\nprotected PlayerMoveC2SPacket(double x, double y, double z, float yaw, float pitch, boolean onGround, boolean changePosition, boolean changeLook) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        this.yaw = yaw;\n        this.pitch = pitch;\n        this.onGround = onGround;\n        this.changePosition = changePosition;\n        this.changeLook = changeLook;\n</code></pre>\n<p>I want to change it to this:</p>\n<pre><code>this.x = (double) Math.round(x);\nthis.y = (double) Math.round(x);\nthis.z = (double) Math.round(x);\nthis.yaw = yaw;\nthis.pitch = pitch;\nthis.onGround = onGround;\nthis.changePosition = changePosition;\nthis.changeLook = changeLook;\n</code></pre>\n<p>I tried to use an <code>@Overwrite</code> but that gave an error. Is there any way to do this, or is it impossible?</p>\n"},{"tags":["java","tomcat","ssl","https","keystore"],"comments":[{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1263373441,"post_id":2055314,"comment_id":1983042,"body_markdown":"give the ssl connector configuration (from server.xml)","body":"give the ssl connector configuration (from server.xml)"}],"answers":[{"comments":[{"owner":{"account_id":69083,"reputation":8690,"user_id":201202,"accept_rate":92,"display_name":"tmbrggmn"},"score":0,"creation_date":1263375434,"post_id":2055560,"comment_id":1983203,"body_markdown":"When I set the keyAlias to the alias of the certificate in the keystore, Tomcat won&#39;t boot correctly. I&#39;m assuming the keyAlias parameters is used to specify the key, not the certificate.\n\nI get a feeling that Tomcat will never properly present my certificate, because it was created separately. Right now I&#39;m going to try to generate a brand new certificate from scratch using keytool instead of openssl, and see if that makes a difference.","body":"When I set the keyAlias to the alias of the certificate in the keystore, Tomcat won&#39;t boot correctly. I&#39;m assuming the keyAlias parameters is used to specify the key, not the certificate.  I get a feeling that Tomcat will never properly present my certificate, because it was created separately. Right now I&#39;m going to try to generate a brand new certificate from scratch using keytool instead of openssl, and see if that makes a difference."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":1,"creation_date":1263376754,"post_id":2055560,"comment_id":1983327,"body_markdown":"yes, try that. The key and the certificate, as it can be seen in the tomcat how-to, are to be under the same alias.","body":"yes, try that. The key and the certificate, as it can be seen in the tomcat how-to, are to be under the same alias."},{"owner":{"account_id":69083,"reputation":8690,"user_id":201202,"accept_rate":92,"display_name":"tmbrggmn"},"score":0,"creation_date":1263377955,"post_id":2055560,"comment_id":1983466,"body_markdown":"My previous attempt failed. I&#39;m doing something wrong, but I don&#39;t know what. Is it even possible to present an existing certificate, or do you have to use keytool to generate a new one? This is confusing.","body":"My previous attempt failed. I&#39;m doing something wrong, but I don&#39;t know what. Is it even possible to present an existing certificate, or do you have to use keytool to generate a new one? This is confusing."},{"owner":{"account_id":69083,"reputation":8690,"user_id":201202,"accept_rate":92,"display_name":"tmbrggmn"},"score":0,"creation_date":1263378090,"post_id":2055560,"comment_id":1983477,"body_markdown":"What I&#39;m trying to do is identical to the following issue: http://stackoverflow.com/questions/1180397/tomcat-server-client-self-signed-ssl-certificate. Only, I don&#39;t want to generate a new certificate, I want to use an existing one.","body":"What I&#39;m trying to do is identical to the following issue: <a href=\"http://stackoverflow.com/questions/1180397/tomcat-server-client-self-signed-ssl-certificate\" title=\"tomcat server client self signed ssl certificate\">stackoverflow.com/questions/1180397/&hellip;</a>. Only, I don&#39;t want to generate a new certificate, I want to use an existing one."},{"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"score":0,"creation_date":1263378112,"post_id":2055560,"comment_id":1983479,"body_markdown":"the general flow is this - you generate a Key an a CSR, then based on that CSR you get a certificate (either by yourself, or from VeriSign/GeoTrust/etc.) and import it.","body":"the general flow is this - you generate a Key an a CSR, then based on that CSR you get a certificate (either by yourself, or from VeriSign/GeoTrust/etc.) and import it."},{"owner":{"account_id":69083,"reputation":8690,"user_id":201202,"accept_rate":92,"display_name":"tmbrggmn"},"score":0,"creation_date":1263378660,"post_id":2055560,"comment_id":1983525,"body_markdown":"I have done that, generated a key and CSR using keytool, signed it with my own CA using OpenSSL, and then imported the signed certificate back into the keystore. Using this keystore, Tomcat still sends the keyEntry and not the trustedCertificate entry for some reason.","body":"I have done that, generated a key and CSR using keytool, signed it with my own CA using OpenSSL, and then imported the signed certificate back into the keystore. Using this keystore, Tomcat still sends the keyEntry and not the trustedCertificate entry for some reason."},{"owner":{"account_id":69083,"reputation":8690,"user_id":201202,"accept_rate":92,"display_name":"tmbrggmn"},"score":0,"creation_date":1263379860,"post_id":2055560,"comment_id":1983612,"body_markdown":"Could it be that it&#39;s not presenting the certificate because the CA with which it was signed is not a part of the truststore?","body":"Could it be that it&#39;s not presenting the certificate because the CA with which it was signed is not a part of the truststore?"},{"owner":{"account_id":69083,"reputation":8690,"user_id":201202,"accept_rate":92,"display_name":"tmbrggmn"},"score":0,"creation_date":1263386393,"post_id":2055560,"comment_id":1984214,"body_markdown":"I&#39;ve figured it out - I&#39;ll answer my question soon when I get some free time (I&#39;ve already wasted too much time on this :D).","body":"I&#39;ve figured it out - I&#39;ll answer my question soon when I get some free time (I&#39;ve already wasted too much time on this :D)."}],"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"comment_count":8,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1263374506,"creation_date":1263374506,"answer_id":2055560,"question_id":2055314,"body_markdown":"Your configuration should work correctly. \r\n\r\n&lt;a href=&quot;http://tomcat.apache.org/tomcat-5.5-doc/ssl-howto.html&quot;&gt;Tomcat&#39;s how-to&lt;/a&gt; explains the steps to take in order to have a proper JKS. \r\n\r\nMake sure you have imported the Certificate to the jks, with the appropriate alias (testKey)","title":"Tomcat HTTPS keystore certificate","body":"<p>Your configuration should work correctly. </p>\n\n<p><a href=\"http://tomcat.apache.org/tomcat-5.5-doc/ssl-howto.html\" rel=\"nofollow noreferrer\">Tomcat's how-to</a> explains the steps to take in order to have a proper JKS. </p>\n\n<p>Make sure you have imported the Certificate to the jks, with the appropriate alias (testKey)</p>\n"},{"comments":[{"owner":{"account_id":67259,"reputation":2367,"user_id":196884,"accept_rate":87,"display_name":"Wolfgang"},"score":2,"creation_date":1309251095,"post_id":2058547,"comment_id":7651029,"body_markdown":"+1. The second link (agentbob.info) worked for me. It issues a password to the keystore which the first link (comu.de) doesn&#39;t. Java&#39;s keytool doesn&#39;t like to change the password of a keystore that has no password. Also, you can specify the key alias tomcat expects (it&#39;s &#39;tomcat&#39;).","body":"+1. The second link (agentbob.info) worked for me. It issues a password to the keystore which the first link (comu.de) doesn&#39;t. Java&#39;s keytool doesn&#39;t like to change the password of a keystore that has no password. Also, you can specify the key alias tomcat expects (it&#39;s &#39;tomcat&#39;)."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1586253974,"post_id":2058547,"comment_id":108054471,"body_markdown":"The old `keytool -import`, officially renamed `-importcert` since IIRC j5 ~2005, could not import a private key. You could use `openssl pkcs12 -export` to combine the PEM private key and matching certificate -- and optionally and preferably any needed _chain_ cert as well -- into a PKCS12, which Java itself could read but some programs couldn&#39;t use, in which case you could use `keytool -importkeystore -srcstoretype pkcs12 -deststoretype jks ...` to convert to JKS. (Since 8u60 in 2015 nearly all programs accept PKCS12.)","body":"The old <code>keytool -import</code>, officially renamed <code>-importcert</code> since IIRC j5 ~2005, could not import a private key. You could use <code>openssl pkcs12 -export</code> to combine the PEM private key and matching certificate -- and optionally and preferably any needed <i>chain</i> cert as well -- into a PKCS12, which Java itself could read but some programs couldn&#39;t use, in which case you could use <code>keytool -importkeystore -srcstoretype pkcs12 -deststoretype jks ...</code> to convert to JKS. (Since 8u60 in 2015 nearly all programs accept PKCS12.)"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1586254082,"post_id":2058547,"comment_id":108054528,"body_markdown":"However Tomcat &gt;= 8.5 (which will soon be the only supported versions) no longer needs a keystore at all, it uses a new config scheme which can use OpenSSL-source PEM files even for JSSE, so this is about to be obsolete.","body":"However Tomcat &gt;= 8.5 (which will soon be the only supported versions) no longer needs a keystore at all, it uses a new config scheme which can use OpenSSL-source PEM files even for JSSE, so this is about to be obsolete."}],"tags":[],"owner":{"account_id":69083,"reputation":8690,"user_id":201202,"accept_rate":92,"display_name":"tmbrggmn"},"comment_count":3,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1263401555,"creation_date":1263401555,"answer_id":2058547,"question_id":2055314,"body_markdown":"The problem is (apparently - I can not really confirm this) that it&#39;s impossible to properly import a previously generated certificate (and matching key) into a JKS keystore and have it presented properly by Tomcat.\r\n\r\nThe situation in which my problem occurred is as follows:\r\n\r\n1. I have a certificate file, which I generated myself using OpenSSL from scratch (key + CSR -&gt; certificate), signed by my own CA.\r\n2. I wish to configure Tomcat so that it presents **this particular certificate** to the users connecting to my site.\r\n\r\nThe solution I found to work is:\r\n\r\n1. Convert the existing certificate **and** its private key to the DER format. For example (using OpenSSL):\r\n   \r\n   For the *private key*;\r\n\r\n   `openssl pkcs8 -topk8 -nocrypt -in my_private_key.key -inform PEM -out my_private_key.der -outform DER`\r\n\r\n   For the actual *signed certificate*;\r\n\r\n   `openssl x509 -in my_certificate.crt -inform PEM -out my_certificate.der -outform DER`\r\n\r\n2. Import both DER files into a keystore (JKS file) using a custom Java class.\r\n\r\n   `java ImportKey my_private_key.der my_certificate.der`\r\n  \r\n   I did not figure this out myself (all credit goes to the original inventor(s)).The source for this Java class, and some more details can be found [here][1] and [here][2]. I modified this class slightly so that there is a 3rd (or 4th) parameter that specifies the output location of the resulting JKS file.\r\n\r\nThe end result is a JKS keystore which can then be used in the Tomcat Connector configuration as the keystore. The above tool will generate the JKS file with default passwords for the key and JKS file itself, these can be changed later using `keytool -storepasswd` and `keytool -keypasswd`. Hope this helps for people facing the same issue.\r\n\r\n[1]: http://www.comu.de/docs/tomcat_ssl.htm\r\n[2]: http://www.agentbob.info/agentbob/79-AB.html","title":"Tomcat HTTPS keystore certificate","body":"<p>The problem is (apparently - I can not really confirm this) that it's impossible to properly import a previously generated certificate (and matching key) into a JKS keystore and have it presented properly by Tomcat.</p>\n\n<p>The situation in which my problem occurred is as follows:</p>\n\n<ol>\n<li>I have a certificate file, which I generated myself using OpenSSL from scratch (key + CSR -> certificate), signed by my own CA.</li>\n<li>I wish to configure Tomcat so that it presents <strong>this particular certificate</strong> to the users connecting to my site.</li>\n</ol>\n\n<p>The solution I found to work is:</p>\n\n<ol>\n<li><p>Convert the existing certificate <strong>and</strong> its private key to the DER format. For example (using OpenSSL):</p>\n\n<p>For the <em>private key</em>;</p>\n\n<p><code>openssl pkcs8 -topk8 -nocrypt -in my_private_key.key -inform PEM -out my_private_key.der -outform DER</code></p>\n\n<p>For the actual <em>signed certificate</em>;</p>\n\n<p><code>openssl x509 -in my_certificate.crt -inform PEM -out my_certificate.der -outform DER</code></p></li>\n<li><p>Import both DER files into a keystore (JKS file) using a custom Java class.</p>\n\n<p><code>java ImportKey my_private_key.der my_certificate.der</code></p>\n\n<p>I did not figure this out myself (all credit goes to the original inventor(s)).The source for this Java class, and some more details can be found <a href=\"http://www.comu.de/docs/tomcat_ssl.htm\" rel=\"noreferrer\">here</a> and <a href=\"http://www.agentbob.info/agentbob/79-AB.html\" rel=\"noreferrer\">here</a>. I modified this class slightly so that there is a 3rd (or 4th) parameter that specifies the output location of the resulting JKS file.</p></li>\n</ol>\n\n<p>The end result is a JKS keystore which can then be used in the Tomcat Connector configuration as the keystore. The above tool will generate the JKS file with default passwords for the key and JKS file itself, these can be changed later using <code>keytool -storepasswd</code> and <code>keytool -keypasswd</code>. Hope this helps for people facing the same issue.</p>\n"},{"tags":[],"owner":{"account_id":168230,"reputation":1694,"user_id":2227101,"accept_rate":70,"display_name":"SayeedHussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1401559590,"creation_date":1401559590,"answer_id":23973460,"question_id":2055314,"body_markdown":"Expanding on @Bozho comment,\r\n\r\nThis was really critical. **&quot;The key and the purchased certificate are to be under the same alias&quot;**. \r\n\r\nThe SSL certificate bought from the CA (Verisign, Digicert etc.) should be imported with the same alias as the private key generated before creating the csr. After importing the purchased certificate into the keystore using java keytool, you will see **&quot;Certificate reply added to keystore&quot;.** \r\n\r\nTo check the trust chain, use the terminal command **openssl s_client -connect yourdomain.com:443 -showcerts.** It starts at your cert and leads to up to a trusted root CA.","title":"Tomcat HTTPS keystore certificate","body":"<p>Expanding on @Bozho comment,</p>\n\n<p>This was really critical. <strong>\"The key and the purchased certificate are to be under the same alias\"</strong>. </p>\n\n<p>The SSL certificate bought from the CA (Verisign, Digicert etc.) should be imported with the same alias as the private key generated before creating the csr. After importing the purchased certificate into the keystore using java keytool, you will see <strong>\"Certificate reply added to keystore\".</strong> </p>\n\n<p>To check the trust chain, use the terminal command <strong>openssl s_client -connect yourdomain.com:443 -showcerts.</strong> It starts at your cert and leads to up to a trusted root CA.</p>\n"},{"tags":[],"owner":{"account_id":17934575,"reputation":1,"user_id":15147960,"display_name":"pancake"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669067226,"creation_date":1669067035,"answer_id":74525223,"question_id":2055314,"body_markdown":"Here are the commands to generate a proper certificate entry for a keystore. Background knowledge: since Tomcat version 7, Tomcat supports PKCS12 as a keystore format, and java keystores can readily import such files. More background knowledge: key entries in keystores require the entire certificate chain to be present, or else SSL errors will happen.\r\n\r\nSo here&#39;s what to do:\r\n\r\n1. concatenate your intermediate (signing root) cert and your root CA cert together:\r\n\r\n    cat intermediate.pem root.pem &gt; chain.pem\r\n\r\n2. concatenate your signed certificate with the chain:\r\n\r\n    cat cert.pem chain.pem &gt; fullchain.pem\r\n\r\n3. Now, create a pkcs12 file with the full chain, and the roots clearly identified. Make sure to copy the private key you generated with your CSR (named privkey.pem in my example) is in the same dir as the other files you generated when you execute this command::\r\n\r\n    openssl pkcs12 -export -in fullchain.pem -inkey privkey.pem -out keystore.p12 -name server -CAfile chain.pem -caname root\r\n\r\n4. Okay, cool; this file should work fine. You could just copy this to conf/ssl and modify your server.xml to use keystore.p12 instead of keystore.jks. Or, you could import it into your keystore file by cding to conf/ssl and running this command (maybe make a backup first):\r\n\r\n    keytool -importkeystore -destkeystore keystore.jks -deststoretype JKS -srckeystore keystore.p12 -srcstoretype PKCS12 -alias server","title":"Tomcat HTTPS keystore certificate","body":"<p>Here are the commands to generate a proper certificate entry for a keystore. Background knowledge: since Tomcat version 7, Tomcat supports PKCS12 as a keystore format, and java keystores can readily import such files. More background knowledge: key entries in keystores require the entire certificate chain to be present, or else SSL errors will happen.</p>\n<p>So here's what to do:</p>\n<ol>\n<li><p>concatenate your intermediate (signing root) cert and your root CA cert together:</p>\n<p>cat intermediate.pem root.pem &gt; chain.pem</p>\n</li>\n<li><p>concatenate your signed certificate with the chain:</p>\n<p>cat cert.pem chain.pem &gt; fullchain.pem</p>\n</li>\n<li><p>Now, create a pkcs12 file with the full chain, and the roots clearly identified. Make sure to copy the private key you generated with your CSR (named privkey.pem in my example) is in the same dir as the other files you generated when you execute this command::</p>\n<p>openssl pkcs12 -export -in fullchain.pem -inkey privkey.pem -out keystore.p12 -name server -CAfile chain.pem -caname root</p>\n</li>\n<li><p>Okay, cool; this file should work fine. You could just copy this to conf/ssl and modify your server.xml to use keystore.p12 instead of keystore.jks. Or, you could import it into your keystore file by cding to conf/ssl and running this command (maybe make a backup first):</p>\n<p>keytool -importkeystore -destkeystore keystore.jks -deststoretype JKS -srckeystore keystore.p12 -srcstoretype PKCS12 -alias server</p>\n</li>\n</ol>\n"}],"owner":{"account_id":69083,"reputation":8690,"user_id":201202,"accept_rate":92,"display_name":"tmbrggmn"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38781,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":2058547,"answer_count":4,"score":18,"last_activity_date":1669067226,"creation_date":1263370864,"question_id":2055314,"body_markdown":"Ran into another problem using SSL and Tomcat: I&#39;ve configured a keystore which contains a key and a certificate (the server certificate I wish to present to the clients connecting to the site). I&#39;ve done the same for the truststore (I&#39;m going to need client authentication).\r\n\r\nThe problem I have now is that when I connect to my Tomcat instance via HTTPS, the certificate presented to me (the server certificate) is not my actual server certificate, but rather the **key** in the JKS keystore. Using -Djavax.net.debug=ssl reveals that it&#39;s presenting the correct CA for client authentication, but not the correct server certificate.\r\n\r\n&lt;pre&gt;adding as trusted cert:\r\n  Subject: CN=A\r\n  Issuer:  CN=A\r\n  Algorithm: RSA; Serial number: -\r\n  Valid from Tue Nov 10 14:48:31 CET 2009 until Mon Feb 08 14:48:31 CET 2010\r\n\r\nadding as trusted cert:\r\n  Subject: X\r\n  Issuer:  X\r\n  Algorithm: RSA; Serial number: -\r\n  Valid from Wed Jan 19 01:00:00 CET 2005 until Mon Jan 19 00:59:59 CET 2015&lt;/pre&gt;\r\n\r\nI&#39;ve replaced the real values with place holders. A = the domain name of the server (but in this case, for some reason this is the key and not the certificate). X = a VeriSign CA (this should be correct). I have an existing certificate I would like to use to present to the clients, which I imported into a JKS keystore using keytool.\r\n\r\nThe Tomcat connector configuration:\r\n\r\n    &lt;Connector port=&quot;444&quot; protocol=&quot;HTTP/1.1&quot; SSLEnabled=&quot;true&quot;\r\n      maxThreads=&quot;150&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n      clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; \t   \r\n      keystoreFile=&quot;conf/ssl/keystore.jks&quot;\r\n      keystorePass=&quot;xx&quot;\r\n      keyAlias=&quot;testkey&quot;\r\n      truststoreFile=&quot;conf/ssl/truststore.jks&quot;\r\n      truststorePass=&quot;xx&quot; /&gt;\r\n\r\nAny idea why my Tomcat instance is not presenting the correct certificate?","title":"Tomcat HTTPS keystore certificate","body":"<p>Ran into another problem using SSL and Tomcat: I've configured a keystore which contains a key and a certificate (the server certificate I wish to present to the clients connecting to the site). I've done the same for the truststore (I'm going to need client authentication).</p>\n\n<p>The problem I have now is that when I connect to my Tomcat instance via HTTPS, the certificate presented to me (the server certificate) is not my actual server certificate, but rather the <strong>key</strong> in the JKS keystore. Using -Djavax.net.debug=ssl reveals that it's presenting the correct CA for client authentication, but not the correct server certificate.</p>\n\n<pre>adding as trusted cert:\n  Subject: CN=A\n  Issuer:  CN=A\n  Algorithm: RSA; Serial number: -\n  Valid from Tue Nov 10 14:48:31 CET 2009 until Mon Feb 08 14:48:31 CET 2010\n\nadding as trusted cert:\n  Subject: X\n  Issuer:  X\n  Algorithm: RSA; Serial number: -\n  Valid from Wed Jan 19 01:00:00 CET 2005 until Mon Jan 19 00:59:59 CET 2015</pre>\n\n<p>I've replaced the real values with place holders. A = the domain name of the server (but in this case, for some reason this is the key and not the certificate). X = a VeriSign CA (this should be correct). I have an existing certificate I would like to use to present to the clients, which I imported into a JKS keystore using keytool.</p>\n\n<p>The Tomcat connector configuration:</p>\n\n<pre><code>&lt;Connector port=\"444\" protocol=\"HTTP/1.1\" SSLEnabled=\"true\"\n  maxThreads=\"150\" scheme=\"https\" secure=\"true\"\n  clientAuth=\"false\" sslProtocol=\"TLS\"     \n  keystoreFile=\"conf/ssl/keystore.jks\"\n  keystorePass=\"xx\"\n  keyAlias=\"testkey\"\n  truststoreFile=\"conf/ssl/truststore.jks\"\n  truststorePass=\"xx\" /&gt;\n</code></pre>\n\n<p>Any idea why my Tomcat instance is not presenting the correct certificate?</p>\n"},{"tags":["java","replace","tostring"],"answers":[{"comments":[{"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"score":0,"creation_date":1669078053,"post_id":74525195,"comment_id":131556863,"body_markdown":"This is more knowledge than I ever could have asked for! Thank you for your insight.","body":"This is more knowledge than I ever could have asked for! Thank you for your insight."}],"tags":[],"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669066883,"creation_date":1669066883,"answer_id":74525195,"question_id":74524607,"body_markdown":"Yes, it would. `replace` has no idea that `[` and `]` are only found at the start and end. In fact, it&#39;s worse - you get another loop for copying the string over (the string has an underlying array and that needs to be cloned in its entirety to lop a character out of it).\r\n\r\nIf your intent is to replace every `[` in the string, then, no, there is no faster way. However, if your actual intent is to simply not have the opening brace and closing brace, then either write your own loop to toString the contents. Something like:\r\n\r\n```\r\nLinkedList&lt;Foo&gt; foos = ...;\r\n\r\nStringBuilder out = new StringBuilder();\r\nfor (Foo f : foos) out.append(out.length() == 0 ? &quot;&quot; : &quot;, &quot;).append(f);\r\nreturn out.toString();\r\n```\r\n\r\nOr even:\r\n\r\n```\r\nString.join(&quot;, &quot;, foos);\r\n```\r\n\r\nOr even:\r\n\r\n```\r\nfoos.stream().collect(Collectors.joining(&quot;, &quot;));\r\n```\r\n\r\nNone of this is the same thing as `.replace(&quot;[&quot;, &quot;&quot;)` - after all, if a `[` symbol is part of the toString() of any `Foo` object, it would be stripped out as well with `.replace(&quot;[&quot;, &quot;&quot;)` - though you probably didn&#39;t want that to happen.\r\n\r\nNote that the way modern CPUs work, unless that list has over a few thousand elements in it, looping it 4 times is essentially free and takes no measurable time. The concept of `O(n)` &#39;kicks in&#39; after a certain number of loops. On modern hardware, it tends to be _a lot_ of loops before it matters. Often other concerns are much more important. As a simple example, linked list, in general? Horrible performance relative to something like ArrayList. Even in cases where O(k) wise it should be faster. It&#39;s due to the way linkedlists create extra objects and how these tend to be non-contiguous (not near each other in memory). Modern CPUs can&#39;t read memory at all. They can ask the memory controller to take one of the on-die cache pages and replace it with the contents of another memory page, which takes 500 to a 1000 cycles. The CPU will ask the memory controller to do that and then go to sleep for 1000 cycles. You can see how reducing the number of times it does this can have a rather marked effect on performance, and yet the `O(k)` business doesn&#39;t and cannot take it into account.\r\n\r\nDo not worry about performance unless you have a real life scenario where the program appears to run slower than you think it should. Then, use a profiler to figure out which 1% of the code is eating 99% of the resources (because it&#39;s virtually always a 1% &#39;hot path&#39; that is responsible) and then optimize just that 1%. It&#39;s pretty much impossible to predict what the 1% is going to be. So, don&#39;t bother trying to do so while writing code, it just leads you to writing harder to maintain, less flexible code - which ironically enough tends to lead to situations where adjusting the hot path is _harder_. Worrying about performance, in essence, _slows down the code_. Hence why it&#39;s very very important not to worry about that, and worry instead about code that is easy to read and easy to modify.\r\n","title":"Is LinkedList.toString().replace() O(2*k)?","body":"<p>Yes, it would. <code>replace</code> has no idea that <code>[</code> and <code>]</code> are only found at the start and end. In fact, it's worse - you get another loop for copying the string over (the string has an underlying array and that needs to be cloned in its entirety to lop a character out of it).</p>\n<p>If your intent is to replace every <code>[</code> in the string, then, no, there is no faster way. However, if your actual intent is to simply not have the opening brace and closing brace, then either write your own loop to toString the contents. Something like:</p>\n<pre><code>LinkedList&lt;Foo&gt; foos = ...;\n\nStringBuilder out = new StringBuilder();\nfor (Foo f : foos) out.append(out.length() == 0 ? &quot;&quot; : &quot;, &quot;).append(f);\nreturn out.toString();\n</code></pre>\n<p>Or even:</p>\n<pre><code>String.join(&quot;, &quot;, foos);\n</code></pre>\n<p>Or even:</p>\n<pre><code>foos.stream().collect(Collectors.joining(&quot;, &quot;));\n</code></pre>\n<p>None of this is the same thing as <code>.replace(&quot;[&quot;, &quot;&quot;)</code> - after all, if a <code>[</code> symbol is part of the toString() of any <code>Foo</code> object, it would be stripped out as well with <code>.replace(&quot;[&quot;, &quot;&quot;)</code> - though you probably didn't want that to happen.</p>\n<p>Note that the way modern CPUs work, unless that list has over a few thousand elements in it, looping it 4 times is essentially free and takes no measurable time. The concept of <code>O(n)</code> 'kicks in' after a certain number of loops. On modern hardware, it tends to be <em>a lot</em> of loops before it matters. Often other concerns are much more important. As a simple example, linked list, in general? Horrible performance relative to something like ArrayList. Even in cases where O(k) wise it should be faster. It's due to the way linkedlists create extra objects and how these tend to be non-contiguous (not near each other in memory). Modern CPUs can't read memory at all. They can ask the memory controller to take one of the on-die cache pages and replace it with the contents of another memory page, which takes 500 to a 1000 cycles. The CPU will ask the memory controller to do that and then go to sleep for 1000 cycles. You can see how reducing the number of times it does this can have a rather marked effect on performance, and yet the <code>O(k)</code> business doesn't and cannot take it into account.</p>\n<p>Do not worry about performance unless you have a real life scenario where the program appears to run slower than you think it should. Then, use a profiler to figure out which 1% of the code is eating 99% of the resources (because it's virtually always a 1% 'hot path' that is responsible) and then optimize just that 1%. It's pretty much impossible to predict what the 1% is going to be. So, don't bother trying to do so while writing code, it just leads you to writing harder to maintain, less flexible code - which ironically enough tends to lead to situations where adjusting the hot path is <em>harder</em>. Worrying about performance, in essence, <em>slows down the code</em>. Hence why it's very very important not to worry about that, and worry instead about code that is easy to read and easy to modify.</p>\n"}],"owner":{"account_id":17876398,"reputation":117,"user_id":12986334,"display_name":"idkusrname126"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74525195,"answer_count":1,"score":2,"last_activity_date":1669066883,"creation_date":1669062915,"question_id":74524607,"body_markdown":"I know that converting a suitable object (e.g., a linked list) to a string using the toString() method is an O(n) operation, where &#39;n&#39; is the length of the linked list. However, if you wanted to then replace something in that that string using the replace(), method, is that also an o(k) method, where &#39;k&#39; is the length of the string?\r\n\r\nFor example, for the line `String str = path.toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;&quot;);`, does this run through the length of the linked list 1 time, and then the length of the string an additional 3 times? If so, is there a more efficient way to do what that line of code does? ","title":"Is LinkedList.toString().replace() O(2*k)?","body":"<p>I know that converting a suitable object (e.g., a linked list) to a string using the toString() method is an O(n) operation, where 'n' is the length of the linked list. However, if you wanted to then replace something in that that string using the replace(), method, is that also an o(k) method, where 'k' is the length of the string?</p>\n<p>For example, for the line <code>String str = path.toString().replace(&quot;[&quot;, &quot;&quot;).replace(&quot;]&quot;, &quot;&quot;).replace(&quot;,&quot;, &quot;&quot;);</code>, does this run through the length of the linked list 1 time, and then the length of the string an additional 3 times? If so, is there a more efficient way to do what that line of code does?</p>\n"},{"tags":["java","spring","jpa","many-to-many"],"comments":[{"owner":{"account_id":4688171,"reputation":11056,"user_id":3795036,"accept_rate":88,"display_name":"K.Nicholas"},"score":0,"creation_date":1668959924,"post_id":74509445,"comment_id":131527553,"body_markdown":"The answer is probably in the manual.","body":"The answer is probably in the manual."},{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1668962270,"post_id":74509445,"comment_id":131528081,"body_markdown":"__List&lt;TrailCount&gt;__ versus __new com.de.dao.MenuCount__","body":"<b>List&lt;TrailCount&gt;</b> versus <b>new com.de.dao.MenuCount</b>"},{"owner":{"account_id":15762242,"reputation":523,"user_id":11373639,"display_name":"tharindu"},"score":0,"creation_date":1668972199,"post_id":74509445,"comment_id":131530346,"body_markdown":"@DirkDeyne sorry it was a typing mistake. I updated my question","body":"@DirkDeyne sorry it was a typing mistake. I updated my question"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669048148,"post_id":74509445,"comment_id":131549061,"body_markdown":"Is there more to the exception that shows Springs objection to the query? JPA queries (non-native) use the entity and property names: entity name for Customer is &quot;Customer&quot; - you&#39;ve got it lower case in the query.","body":"Is there more to the exception that shows Springs objection to the query? JPA queries (non-native) use the entity and property names: entity name for Customer is &quot;Customer&quot; - you&#39;ve got it lower case in the query."},{"owner":{"account_id":15762242,"reputation":523,"user_id":11373639,"display_name":"tharindu"},"score":0,"creation_date":1669066708,"post_id":74509445,"comment_id":131554653,"body_markdown":"@Chris query is not shown even though show sql is enabled in the property file. Also I updated the proper entity names and still showing the same error","body":"@Chris query is not shown even though show sql is enabled in the property file. Also I updated the proper entity names and still showing the same error"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1669067727,"post_id":74509445,"comment_id":131554913,"body_markdown":"Show SQL options only come into play when there is SQL to execute - validation is occurring well before that. The error itself should give a reason for the validation failure. If entity names are now correct (Update your question to show what you now have, as what was there was/is wrong), show the full error stack as well - and check the log for the statements before the validation as well. The issue might not just be with your query, but your model itself is wrong. What are you trying to get with JoinColumn annotations on UUID columns? They are for reference mappings to define FKs, not basics","body":"Show SQL options only come into play when there is SQL to execute - validation is occurring well before that. The error itself should give a reason for the validation failure. If entity names are now correct (Update your question to show what you now have, as what was there was/is wrong), show the full error stack as well - and check the log for the statements before the validation as well. The issue might not just be with your query, but your model itself is wrong. What are you trying to get with JoinColumn annotations on UUID columns? They are for reference mappings to define FKs, not basics"}],"owner":{"account_id":15762242,"reputation":523,"user_id":11373639,"display_name":"tharindu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669066642,"creation_date":1668958169,"question_id":74509445,"body_markdown":"\r\n\r\n    @Entity\r\n    @Table(name = &quot;customer&quot;, schema = &quot;customer&quot;)\r\n    public class Customer {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        @Column(columnDefinition = &quot;uuid&quot;, updatable = false, name = &quot;customer_id&quot;)\r\n        private UUID customerId;\r\n        private String name;\r\n        @ManyToMany(mappedBy = &quot;bookMembers&quot;)\r\n        Set&lt;Reservation&gt; reservations\r\n      \r\n    \r\n    }\r\n    \r\n    @Entity\r\n    @Table(name = &quot;reservation&quot;, schema = &quot;reservation&quot;)\r\n    @NoArgsConstructor\r\n    public class Reservation {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        @Column(columnDefinition = &quot;uuid&quot;, updatable = false, name = &quot;reservation_id&quot;)\r\n        private UUID reservationId;\r\n    \r\n        @JoinColumn(name = &quot;reservation_id&quot;)\r\n        @Column(name = &quot;reserved_by_customer_id&quot;)\r\n        private UUID reservedByCustomerId;\r\n    \r\n        @JoinColumn(name = &quot;menu_id&quot;)\r\n        private UUID menuId;\r\n    \r\n        @ManyToMany\r\n        @JoinTable(\r\n                name = &quot;reservation_customer&quot;,\r\n                schema = &quot;customer&quot;,\r\n                joinColumns = {@JoinColumn(name = &quot;reservation_id&quot;)},\r\n                inverseJoinColumns = {@JoinColumn(name = &quot;customer_id&quot;)}\r\n        )\r\n        private Set&lt;Customer&gt; reservationMembers = new HashSet&lt;&gt;();\r\n    \r\n    }\r\n    \r\n    Dao Entity\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    public class MenuCount {\r\n    \r\n        private UUID menuId;\r\n        private Long count;\r\n    }\r\n    \r\n    Repository\r\n    \r\n    public interface ReservationRepository extends JpaRepository&lt;Reservation, UUID&gt; {\r\n    @Query(&quot;select new com.de.dao.MenuCount(r.menuId, count(c.customerId)) from customer c join c.reservations r  group by r.menuId&quot;)\r\n        List&lt;MenuCount&gt; getCustomerCountGroupByMenuId();\r\n    }\r\n\r\nI am trying to get the total number of customers for each menu Id. But when running the code getting the below error\r\n\r\n&gt;  org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;Repository&#39;: FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.de.repository.Repository.getCustomerCountGroupByMenuId()!\r\n\r\nNative - \r\n\r\nselect r.menuId, count(c.customerId) from Customer c join reservation_customer cr on c.customerId = cr.customerId join Reservation r on r.reservationId = cr.reservationId groupBy r.menuId;\r\n\r\n\r\nCan I acheive the native query functionality using @Query() in JPA without creating an additional entity module","title":"Many to Many JPA join query","body":"<pre><code>@Entity\n@Table(name = &quot;customer&quot;, schema = &quot;customer&quot;)\npublic class Customer {\n\n    @Id\n    @GeneratedValue\n    @Column(columnDefinition = &quot;uuid&quot;, updatable = false, name = &quot;customer_id&quot;)\n    private UUID customerId;\n    private String name;\n    @ManyToMany(mappedBy = &quot;bookMembers&quot;)\n    Set&lt;Reservation&gt; reservations\n  \n\n}\n\n@Entity\n@Table(name = &quot;reservation&quot;, schema = &quot;reservation&quot;)\n@NoArgsConstructor\npublic class Reservation {\n\n    @Id\n    @GeneratedValue\n    @Column(columnDefinition = &quot;uuid&quot;, updatable = false, name = &quot;reservation_id&quot;)\n    private UUID reservationId;\n\n    @JoinColumn(name = &quot;reservation_id&quot;)\n    @Column(name = &quot;reserved_by_customer_id&quot;)\n    private UUID reservedByCustomerId;\n\n    @JoinColumn(name = &quot;menu_id&quot;)\n    private UUID menuId;\n\n    @ManyToMany\n    @JoinTable(\n            name = &quot;reservation_customer&quot;,\n            schema = &quot;customer&quot;,\n            joinColumns = {@JoinColumn(name = &quot;reservation_id&quot;)},\n            inverseJoinColumns = {@JoinColumn(name = &quot;customer_id&quot;)}\n    )\n    private Set&lt;Customer&gt; reservationMembers = new HashSet&lt;&gt;();\n\n}\n\nDao Entity\n\n@Data\n@AllArgsConstructor\npublic class MenuCount {\n\n    private UUID menuId;\n    private Long count;\n}\n\nRepository\n\npublic interface ReservationRepository extends JpaRepository&lt;Reservation, UUID&gt; {\n@Query(&quot;select new com.de.dao.MenuCount(r.menuId, count(c.customerId)) from customer c join c.reservations r  group by r.menuId&quot;)\n    List&lt;MenuCount&gt; getCustomerCountGroupByMenuId();\n}\n</code></pre>\n<p>I am trying to get the total number of customers for each menu Id. But when running the code getting the below error</p>\n<blockquote>\n<p>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'Repository': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalArgumentException: Validation failed for query for method public abstract java.util.List com.de.repository.Repository.getCustomerCountGroupByMenuId()!</p>\n</blockquote>\n<p>Native -</p>\n<p>select r.menuId, count(c.customerId) from Customer c join reservation_customer cr on c.customerId = cr.customerId join Reservation r on r.reservationId = cr.reservationId groupBy r.menuId;</p>\n<p>Can I acheive the native query functionality using @Query() in JPA without creating an additional entity module</p>\n"},{"tags":["java","arrays","file"],"comments":[{"owner":{"account_id":114128,"reputation":50467,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":1,"creation_date":1669064065,"post_id":74524729,"comment_id":131553950,"body_markdown":"Will your word file remain small enough to be read into memory?  The way your code is arranged now, you&#39;ll read the file for each word you want to add to the `List`.  To answer your question, count the lines as you&#39;re reading them.  When the counted line number matches the input line number. get the `wordIndex` word and add it to the `List`.","body":"Will your word file remain small enough to be read into memory?  The way your code is arranged now, you&#39;ll read the file for each word you want to add to the <code>List</code>.  To answer your question, count the lines as you&#39;re reading them.  When the counted line number matches the input line number. get the <code>wordIndex</code> word and add it to the <code>List</code>."}],"answers":[{"tags":[],"owner":{"account_id":34671,"reputation":8309,"user_id":98044,"accept_rate":95,"display_name":"Vini"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669066624,"creation_date":1669066624,"answer_id":74525150,"question_id":74524729,"body_markdown":"You are not checking for any conditions in the code and that is why it is adding all the words to the list.\r\n\r\n    public static void addWordsToArray(ArrayList&lt;String&gt; fileWords, String filePath,int lineIndex, int wordIndex) {\r\n    \r\n        Scanner tmp1 = null;\r\n        try {\r\n            tmp1 = new Scanner(new File(filePath));\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        int currentLineIndex = 0;\r\n        int currentWordIndex = 0;\r\n\r\n        while (tmp1.hasNextLine()) {\r\n            Scanner tmp2 = new Scanner(tmp1.nextLine());\r\n            if(currentLineIndex == lineIndex) {\r\n                while (tmp2.hasNext()) {\r\n                    String s = tmp2.next();\r\n                    if(currentWordIndex == wordIndex){\r\n                        fileWords.add(s);\r\n                    }\r\n                    currentWordIndex++;\r\n                }\r\n            }\r\n            currentLineIndex++;\r\n        }\r\n    }\r\n\r\nYou can do something like the given code to achieve what you want. \r\n\r\n**NOTE**: Logic assumes that the indexes are zero based, i.e. `lineIndex = 0` means the first line and `wordIndex = 0` means the first word.\r\n ","title":"How do I read a specific line and specific word in a text file based on 2 indexes?","body":"<p>You are not checking for any conditions in the code and that is why it is adding all the words to the list.</p>\n<pre><code>public static void addWordsToArray(ArrayList&lt;String&gt; fileWords, String filePath,int lineIndex, int wordIndex) {\n\n    Scanner tmp1 = null;\n    try {\n        tmp1 = new Scanner(new File(filePath));\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n\n    int currentLineIndex = 0;\n    int currentWordIndex = 0;\n\n    while (tmp1.hasNextLine()) {\n        Scanner tmp2 = new Scanner(tmp1.nextLine());\n        if(currentLineIndex == lineIndex) {\n            while (tmp2.hasNext()) {\n                String s = tmp2.next();\n                if(currentWordIndex == wordIndex){\n                    fileWords.add(s);\n                }\n                currentWordIndex++;\n            }\n        }\n        currentLineIndex++;\n    }\n}\n</code></pre>\n<p>You can do something like the given code to achieve what you want.</p>\n<p><strong>NOTE</strong>: Logic assumes that the indexes are zero based, i.e. <code>lineIndex = 0</code> means the first line and <code>wordIndex = 0</code> means the first word.</p>\n"}],"owner":{"account_id":25285048,"reputation":5,"user_id":19112213,"display_name":"Hope Less"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74525150,"answer_count":1,"score":0,"last_activity_date":1669066624,"creation_date":1669063672,"question_id":74524729,"body_markdown":"Basically I have this Java program and I want to enter 2 specific values for lineIndex and wordIndex and add the word that matches these coordinates to the ArrayList fileWords.\r\n\r\nSample file content:\r\n\r\nworda wordb wordc wordd\r\n\r\nworde wordf wordg wordh\r\n\r\nwordi wordj wordk wordl\r\n\r\nwordm wordn wordo wordp\r\n\r\n\r\nThis code simply adds all the words in the List. How should it look if I want it to match my needs?\r\n```\r\npublic static void main(String[] args)  {\r\n    Scanner scan = new Scanner(System.in);\r\n    ArrayList&lt;String&gt; fileWords = new ArrayList&lt;&gt;();\r\n    String filePath = &quot;x file path&quot;;\r\n   \r\n    int lineIndex = 0;\r\n    int wordIndex =0;\r\n    \r\n    addWordsToArray(fileWords,filePath,lineIndex,wordIndex);\r\n}\r\npublic static void addWordsToArray(ArrayList&lt;String&gt; fileWords, String filePath,int lineIndex, int wordIndex) {\r\n\r\n    Scanner tmp1 = null;\r\n    try {\r\n        tmp1 = new Scanner(new File(filePath));\r\n    } catch (FileNotFoundException e) {\r\n        e.printStackTrace();\r\n    }\r\n    while (tmp1.hasNextLine()) {\r\n        Scanner tmp2 = new Scanner(tmp1.nextLine());\r\n        while (tmp2.hasNext()) {\r\n            String s = tmp2.next();\r\n            fileWords.add(s);\r\n        }\r\n    }\r\n}\r\n```","title":"How do I read a specific line and specific word in a text file based on 2 indexes?","body":"<p>Basically I have this Java program and I want to enter 2 specific values for lineIndex and wordIndex and add the word that matches these coordinates to the ArrayList fileWords.</p>\n<p>Sample file content:</p>\n<p>worda wordb wordc wordd</p>\n<p>worde wordf wordg wordh</p>\n<p>wordi wordj wordk wordl</p>\n<p>wordm wordn wordo wordp</p>\n<p>This code simply adds all the words in the List. How should it look if I want it to match my needs?</p>\n<pre><code>public static void main(String[] args)  {\n    Scanner scan = new Scanner(System.in);\n    ArrayList&lt;String&gt; fileWords = new ArrayList&lt;&gt;();\n    String filePath = &quot;x file path&quot;;\n   \n    int lineIndex = 0;\n    int wordIndex =0;\n    \n    addWordsToArray(fileWords,filePath,lineIndex,wordIndex);\n}\npublic static void addWordsToArray(ArrayList&lt;String&gt; fileWords, String filePath,int lineIndex, int wordIndex) {\n\n    Scanner tmp1 = null;\n    try {\n        tmp1 = new Scanner(new File(filePath));\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    }\n    while (tmp1.hasNextLine()) {\n        Scanner tmp2 = new Scanner(tmp1.nextLine());\n        while (tmp2.hasNext()) {\n            String s = tmp2.next();\n            fileWords.add(s);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","api","kubernetes"],"comments":[{"owner":{"account_id":3344464,"reputation":17681,"user_id":6309601,"accept_rate":100,"display_name":"P...."},"score":0,"creation_date":1669067338,"post_id":74525103,"comment_id":131554807,"body_markdown":"wow `v1.18.5`, Are you using a readiness probe?","body":"wow <code>v1.18.5</code>, Are you using a readiness probe?"},{"owner":{"account_id":18388317,"reputation":1,"user_id":13394758,"display_name":"Ali Berk Yıldız"},"score":0,"creation_date":1669157884,"post_id":74525103,"comment_id":131579981,"body_markdown":"Yes I&#39;m using readiness probe but This files not creating when pod is starting. You should request to the api and when get this request it is dublicated after a while it creates same request again.","body":"Yes I&#39;m using readiness probe but This files not creating when pod is starting. You should request to the api and when get this request it is dublicated after a while it creates same request again."}],"owner":{"account_id":18388317,"reputation":1,"user_id":13394758,"display_name":"Ali Berk Yıldız"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669066304,"creation_date":1669066304,"question_id":74525103,"body_markdown":"I&#39;ve kubernetes cluster and My application is working on one pod. My application create some files and it sometimes took over than 5 min. and  when it took so long pod create same request. I checked everywhere but actually I don&#39;t know how to search this problem it might releated with timeout or some thing like this but I&#39;am sure it is releated with kubernetes. I&#39;ve tried same application on docker container and I didn&#39;t see same problem in there. I&#39;ll be greatfull if you anyone help me. (kubernetes version is v1.18.5) \r\n\r\nMy expectation is get request only one time. ","title":"Kubernetes getting same request multiple time","body":"<p>I've kubernetes cluster and My application is working on one pod. My application create some files and it sometimes took over than 5 min. and  when it took so long pod create same request. I checked everywhere but actually I don't know how to search this problem it might releated with timeout or some thing like this but I'am sure it is releated with kubernetes. I've tried same application on docker container and I didn't see same problem in there. I'll be greatfull if you anyone help me. (kubernetes version is v1.18.5)</p>\n<p>My expectation is get request only one time.</p>\n"},{"tags":["java","jar","apk"],"comments":[{"owner":{"account_id":11625235,"reputation":47,"user_id":8515191,"display_name":"Daxan"},"score":0,"creation_date":1669063704,"post_id":74524497,"comment_id":131553850,"body_markdown":"Thank you, I edited in order to have only one question","body":"Thank you, I edited in order to have only one question"},{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1669075241,"post_id":74524497,"comment_id":131556461,"body_markdown":"No, Java Swing, while officially still supported, is basically dead.  Android uses a very different UI framework and will not run Swing directly.","body":"No, Java Swing, while officially still supported, is basically dead.  Android uses a very different UI framework and will not run Swing directly."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1669105509,"post_id":74524497,"comment_id":131561976,"body_markdown":"The simple answer is no. You may be able to reuse some of the application logic but you will have to re-implemented the UI using Androids UI framework. As long as your application is only supposed to do something when it is in foreground and you only use app-private storage the application logic should work an Android.","body":"The simple answer is no. You may be able to reuse some of the application logic but you will have to re-implemented the UI using Androids UI framework. As long as your application is only supposed to do something when it is in foreground and you only use app-private storage the application logic should work an Android."},{"owner":{"account_id":14414124,"reputation":758,"user_id":10412027,"display_name":"Gabriel Rogath"},"score":0,"creation_date":1675939678,"post_id":74524497,"comment_id":133037338,"body_markdown":"[JavaFX](https://openjfx.io/) is a new way for Swing.  But for your question No, The UI with Android is completely different as other have elaborate you can apply the logic of your application with some logic","body":"<a href=\"https://openjfx.io/\" rel=\"nofollow noreferrer\">JavaFX</a> is a new way for Swing.  But for your question No, The UI with Android is completely different as other have elaborate you can apply the logic of your application with some logic"}],"answers":[{"tags":[],"owner":{"account_id":26318201,"reputation":5076,"user_id":19980636,"display_name":"Krokomot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669065638,"creation_date":1669063327,"answer_id":74524680,"question_id":74524497,"body_markdown":"You can&#39;t simply take a JAR file and convert it as such into an APK file, as e.g. you have to provide an UI tieing. Take a look at the [structure of APKs][1] to get a first impression. The `classes.jar` file in an APK is only a part needed for an APK to work.\r\n\r\n\r\n  [1]: https://timeout.userpage.fu-berlin.de/apkbuilder/#apk","title":"Java to Android","body":"<p>You can't simply take a JAR file and convert it as such into an APK file, as e.g. you have to provide an UI tieing. Take a look at the <a href=\"https://timeout.userpage.fu-berlin.de/apkbuilder/#apk\" rel=\"nofollow noreferrer\">structure of APKs</a> to get a first impression. The <code>classes.jar</code> file in an APK is only a part needed for an APK to work.</p>\n"}],"owner":{"account_id":11625235,"reputation":47,"user_id":8515191,"display_name":"Daxan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669065638,"creation_date":1669062251,"question_id":74524497,"body_markdown":"I have developed an application (jar) based in Java Swing (JFrame) in Netbeans.\r\n\r\nIs there an easy way to convert this application to an Android application (apk) in orden to publish it?","title":"Java to Android","body":"<p>I have developed an application (jar) based in Java Swing (JFrame) in Netbeans.</p>\n<p>Is there an easy way to convert this application to an Android application (apk) in orden to publish it?</p>\n"},{"tags":["java","string","escaping"],"answers":[{"tags":[],"owner":{"account_id":58302,"reputation":17662,"user_id":174574,"accept_rate":95,"display_name":"Lasse Espeholt"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1406642388,"creation_date":1282395582,"answer_id":3537718,"question_id":3537706,"body_markdown":"See this from http://commons.apache.org/lang/:\r\n\r\n[StringEscapeUtils][1]\r\n\r\n`StringEscapeUtils.unescapeJava(String str)`\r\n\r\n[1]:http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html","title":"How to unescape a Java string literal in Java?","body":"<p>See this from <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">http://commons.apache.org/lang/</a>:</p>\n\n<p><a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"noreferrer\">StringEscapeUtils</a></p>\n\n<p><code>StringEscapeUtils.unescapeJava(String str)</code></p>\n"},{"comments":[{"owner":{"account_id":38019,"reputation":28490,"user_id":108915,"accept_rate":73,"display_name":"ziggystar"},"score":0,"creation_date":1282396608,"post_id":3537745,"comment_id":3703089,"body_markdown":"I&#39;ve found this library, too (after posting). I&#39;m experiencing problems with the octal values. I&#39;m currently trying to convert them by hand.","body":"I&#39;ve found this library, too (after posting). I&#39;m experiencing problems with the octal values. I&#39;m currently trying to convert them by hand."},{"owner":{"account_id":38019,"reputation":28490,"user_id":108915,"accept_rate":73,"display_name":"ziggystar"},"score":0,"creation_date":1282397840,"post_id":3537745,"comment_id":3703154,"body_markdown":"Uh, converting the octals to unicode isn&#39;t trivial. Only 0-127 can be easily mapped. Is this right?","body":"Uh, converting the octals to unicode isn&#39;t trivial. Only 0-127 can be easily mapped. Is this right?"},{"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"score":0,"creation_date":1282398286,"post_id":3537745,"comment_id":3703174,"body_markdown":"@ziggystar: Looks like JLS says `0-255` instead (see quote). The largest octal escape is `\\377`.","body":"@ziggystar: Looks like JLS says <code>0-255</code> instead (see quote). The largest octal escape is <code>\\377</code>."},{"owner":{"account_id":38019,"reputation":28490,"user_id":108915,"accept_rate":73,"display_name":"ziggystar"},"score":0,"creation_date":1282399301,"post_id":3537745,"comment_id":3703245,"body_markdown":"Ah, you&#39;re right. The spec says the octals are unicode values. I suspected them to be ASCII values.","body":"Ah, you&#39;re right. The spec says the octals are unicode values. I suspected them to be ASCII values."},{"owner":{"account_id":2984611,"reputation":254,"user_id":2533783,"accept_rate":60,"display_name":"Tiger developer"},"score":0,"creation_date":1470327950,"post_id":3537745,"comment_id":64916907,"body_markdown":"I have this \\xf3 that is a accent in spanish. How do I unscape it?","body":"I have this \\xf3 that is a accent in spanish. How do I unscape it?"}],"tags":[],"owner":{"account_id":102991,"reputation":378292,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"comment_count":5,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1406598918,"creation_date":1282395960,"answer_id":3537745,"question_id":3537706,"body_markdown":"You can use [`String unescapeJava(String)`](http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html#unescapeJava(java.lang.String)) method of [`StringEscapeUtils`](http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html) from [Apache Commons Lang](http://commons.apache.org/lang/).\n\nHere&#39;s an example snippet:\n\n        String in = &quot;a\\\\tb\\\\n\\\\\\&quot;c\\\\\\&quot;&quot;;\n\n        System.out.println(in);\n        // a\\tb\\n\\&quot;c\\&quot;\n\n        String out = StringEscapeUtils.unescapeJava(in);\n\n        System.out.println(out);\n        // a    b\n        // &quot;c&quot;\n\nThe utility class has methods to escapes and unescape strings for Java, Java Script, HTML, XML, and SQL. It also has overloads that writes directly to a [`java.io.Writer`](http://java.sun.com/javase/6/docs/api/java/io/Writer.html).\n\n---\n\n### Caveats\n\nIt looks like `StringEscapeUtils` handles Unicode escapes with one `u`, but not octal escapes, or Unicode escapes with extraneous `u`s.\n\n        /* Unicode escape test #1: PASS */\n        \n        System.out.println(\n            &quot;\\u0030&quot;\n        ); // 0\n        System.out.println(\n            StringEscapeUtils.unescapeJava(&quot;\\\\u0030&quot;)\n        ); // 0\n        System.out.println(\n            &quot;\\u0030&quot;.equals(StringEscapeUtils.unescapeJava(&quot;\\\\u0030&quot;))\n        ); // true\n        \n        /* Octal escape test: FAIL */\n        \n        System.out.println(\n            &quot;\\45&quot;\n        ); // %\n        System.out.println(\n            StringEscapeUtils.unescapeJava(&quot;\\\\45&quot;)\n        ); // 45\n        System.out.println(\n            &quot;\\45&quot;.equals(StringEscapeUtils.unescapeJava(&quot;\\\\45&quot;))\n        ); // false\n    \n        /* Unicode escape test #2: FAIL */\n        \n        System.out.println(\n            &quot;\\uu0030&quot;\n        ); // 0\n        System.out.println(\n            StringEscapeUtils.unescapeJava(&quot;\\\\uu0030&quot;)\n        ); // throws NestableRuntimeException:\n           //   Unable to parse unicode value: u003\n\nA quote from the JLS:\n\n&gt; Octal escapes are provided for compatibility with C, but can express only Unicode values `\\u0000` through `\\u00FF`, so Unicode escapes are usually preferred.\n\nIf your string can contain octal escapes, you may want to convert them to Unicode escapes first, or use another approach.\n\nThe extraneous `u` is also documented as follows:\n\n&gt; The Java programming language specifies a standard way of transforming a program written in Unicode into ASCII that changes a program into a form that can be processed by ASCII-based tools. The transformation involves converting any Unicode escapes in the source text of the program to ASCII by adding an extra `u`-for example, `\\uxxxx` becomes `\\uuxxxx`-while simultaneously converting non-ASCII characters in the source text to Unicode escapes containing a single u each.\n&gt;\n&gt; This transformed version is equally acceptable to a compiler for the Java programming language and represents the exact same program. The exact Unicode source can later be restored from this ASCII form by converting each escape sequence where multiple `u`&#39;s are present to a sequence of Unicode characters with one fewer `u`, while simultaneously converting each escape sequence with a single `u` to the corresponding single Unicode character.\n\nIf your string can contain Unicode escapes with extraneous `u`, then you may also need to preprocess this before using `StringEscapeUtils`.\n\nAlternatively you can try to write your own Java string literal unescaper from scratch, making sure to follow the exact JLS specifications.\n\n### References\n\n* [JLS 3.3 Unicode Escapes](http://java.sun.com/docs/books/jls/third_edition/html/lexical.html#3.3)\n* [JLS 3.10.6 Escape Sequences for Character and String Literals](http://java.sun.com/docs/books/jls/third_edition/html/lexical.html#3.10.6)\n","title":"How to unescape a Java string literal in Java?","body":"<p>You can use <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html#unescapeJava(java.lang.String)\" rel=\"noreferrer\"><code>String unescapeJava(String)</code></a> method of <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringEscapeUtils.html\" rel=\"noreferrer\"><code>StringEscapeUtils</code></a> from <a href=\"http://commons.apache.org/lang/\" rel=\"noreferrer\">Apache Commons Lang</a>.</p>\n<p>Here's an example snippet:</p>\n<pre><code>    String in = &quot;a\\\\tb\\\\n\\\\\\&quot;c\\\\\\&quot;&quot;;\n\n    System.out.println(in);\n    // a\\tb\\n\\&quot;c\\&quot;\n\n    String out = StringEscapeUtils.unescapeJava(in);\n\n    System.out.println(out);\n    // a    b\n    // &quot;c&quot;\n</code></pre>\n<p>The utility class has methods to escapes and unescape strings for Java, Java Script, HTML, XML, and SQL. It also has overloads that writes directly to a <a href=\"http://java.sun.com/javase/6/docs/api/java/io/Writer.html\" rel=\"noreferrer\"><code>java.io.Writer</code></a>.</p>\n<hr />\n<h3>Caveats</h3>\n<p>It looks like <code>StringEscapeUtils</code> handles Unicode escapes with one <code>u</code>, but not octal escapes, or Unicode escapes with extraneous <code>u</code>s.</p>\n<pre><code>    /* Unicode escape test #1: PASS */\n    \n    System.out.println(\n        &quot;\\u0030&quot;\n    ); // 0\n    System.out.println(\n        StringEscapeUtils.unescapeJava(&quot;\\\\u0030&quot;)\n    ); // 0\n    System.out.println(\n        &quot;\\u0030&quot;.equals(StringEscapeUtils.unescapeJava(&quot;\\\\u0030&quot;))\n    ); // true\n    \n    /* Octal escape test: FAIL */\n    \n    System.out.println(\n        &quot;\\45&quot;\n    ); // %\n    System.out.println(\n        StringEscapeUtils.unescapeJava(&quot;\\\\45&quot;)\n    ); // 45\n    System.out.println(\n        &quot;\\45&quot;.equals(StringEscapeUtils.unescapeJava(&quot;\\\\45&quot;))\n    ); // false\n\n    /* Unicode escape test #2: FAIL */\n    \n    System.out.println(\n        &quot;\\uu0030&quot;\n    ); // 0\n    System.out.println(\n        StringEscapeUtils.unescapeJava(&quot;\\\\uu0030&quot;)\n    ); // throws NestableRuntimeException:\n       //   Unable to parse unicode value: u003\n</code></pre>\n<p>A quote from the JLS:</p>\n<blockquote>\n<p>Octal escapes are provided for compatibility with C, but can express only Unicode values <code>\\u0000</code> through <code>\\u00FF</code>, so Unicode escapes are usually preferred.</p>\n</blockquote>\n<p>If your string can contain octal escapes, you may want to convert them to Unicode escapes first, or use another approach.</p>\n<p>The extraneous <code>u</code> is also documented as follows:</p>\n<blockquote>\n<p>The Java programming language specifies a standard way of transforming a program written in Unicode into ASCII that changes a program into a form that can be processed by ASCII-based tools. The transformation involves converting any Unicode escapes in the source text of the program to ASCII by adding an extra <code>u</code>-for example, <code>\\uxxxx</code> becomes <code>\\uuxxxx</code>-while simultaneously converting non-ASCII characters in the source text to Unicode escapes containing a single u each.</p>\n<p>This transformed version is equally acceptable to a compiler for the Java programming language and represents the exact same program. The exact Unicode source can later be restored from this ASCII form by converting each escape sequence where multiple <code>u</code>'s are present to a sequence of Unicode characters with one fewer <code>u</code>, while simultaneously converting each escape sequence with a single <code>u</code> to the corresponding single Unicode character.</p>\n</blockquote>\n<p>If your string can contain Unicode escapes with extraneous <code>u</code>, then you may also need to preprocess this before using <code>StringEscapeUtils</code>.</p>\n<p>Alternatively you can try to write your own Java string literal unescaper from scratch, making sure to follow the exact JLS specifications.</p>\n<h3>References</h3>\n<ul>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/lexical.html#3.3\" rel=\"noreferrer\">JLS 3.3 Unicode Escapes</a></li>\n<li><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/lexical.html#3.10.6\" rel=\"noreferrer\">JLS 3.10.6 Escape Sequences for Character and String Literals</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":32511,"reputation":4731,"user_id":90291,"accept_rate":61,"display_name":"bright"},"score":3,"creation_date":1305087798,"post_id":4298836,"comment_id":6873189,"body_markdown":"why is your routine called unescape_*perl*_string? Also, isn&#39;t doing all the extra unescaping for things not defined by the spec a bug since java itself wouldn&#39;t interpret a literal that way? Just making sure I&#39;m not missing anything here - the code is complex enough that I&#39;m a bit worried about all the extra bits.","body":"why is your routine called unescape_<i>perl</i>_string? Also, isn&#39;t doing all the extra unescaping for things not defined by the spec a bug since java itself wouldn&#39;t interpret a literal that way? Just making sure I&#39;m not missing anything here - the code is complex enough that I&#39;m a bit worried about all the extra bits."},{"owner":{"account_id":223715,"reputation":12555,"user_id":483113,"accept_rate":89,"display_name":"sjngm"},"score":0,"creation_date":1315066969,"post_id":4298836,"comment_id":8787010,"body_markdown":"@tchrist Do you have an idea if the issues you described with Apache&#39;s approach are still valid or if they fixed it?","body":"@tchrist Do you have an idea if the issues you described with Apache&#39;s approach are still valid or if they fixed it?"},{"owner":{"account_id":223715,"reputation":12555,"user_id":483113,"accept_rate":89,"display_name":"sjngm"},"score":1,"creation_date":1315068864,"post_id":4298836,"comment_id":8787260,"body_markdown":"@tchrist Thanks. I just tried your neat method with a text file containing `foo\\\\bar` and it returned `foo\\\\bar`. I&#39;d have expected it to be `foo\\bar`. Is this a bug or am I misunderstanding the idea behind the method?","body":"@tchrist Thanks. I just tried your neat method with a text file containing <code>foo\\\\bar</code> and it returned <code>foo\\\\bar</code>. I&#39;d have expected it to be <code>foo\\bar</code>. Is this a bug or am I misunderstanding the idea behind the method?"},{"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"score":0,"creation_date":1315069499,"post_id":4298836,"comment_id":8787337,"body_markdown":"@sjngm As written it is indeed intended to do a pass-through on unrecognized backslash escapes instead of stripping off one level, because I find the endlessly increasingly double, triple, quadruple, etc backslashing trend to be hard to read and easy to screw up.","body":"@sjngm As written it is indeed intended to do a pass-through on unrecognized backslash escapes instead of stripping off one level, because I find the endlessly increasingly double, triple, quadruple, etc backslashing trend to be hard to read and easy to screw up."},{"owner":{"account_id":205926,"reputation":390,"user_id":454931,"display_name":"Coryffaeus"},"score":0,"creation_date":1343134582,"post_id":4298836,"comment_id":15404329,"body_markdown":"The solution seemed to work for me, thanks! However, I needed to add such minor things as null pointer check + processing \\&quot; and \\/, the latter may well happen in JSON or elsewhere (e.g. read more [here](http://stackoverflow.com/questions/1580647/json-why-are-forward-slashes-escaped))","body":"The solution seemed to work for me, thanks! However, I needed to add such minor things as null pointer check + processing \\&quot; and \\/, the latter may well happen in JSON or elsewhere (e.g. read more <a href=\"http://stackoverflow.com/questions/1580647/json-why-are-forward-slashes-escaped\">here</a>)"},{"owner":{"account_id":9399,"reputation":17347,"user_id":17339,"accept_rate":87,"display_name":"Drew Stephens"},"score":3,"creation_date":1396400196,"post_id":4298836,"comment_id":34767176,"body_markdown":"Apache Commons Lang3 fixed a number of these things (at least the octal bit, that was getting me) https://issues.apache.org/jira/browse/LANG-646","body":"Apache Commons Lang3 fixed a number of these things (at least the octal bit, that was getting me) <a href=\"https://issues.apache.org/jira/browse/LANG-646\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/LANG-646</a>"},{"owner":{"account_id":5184236,"reputation":683,"user_id":4149050,"accept_rate":75,"display_name":"Adrodoc"},"score":0,"creation_date":1455486308,"post_id":4298836,"comment_id":58499015,"body_markdown":"@tchrist The Unicode part contains a bug and throws a **java.lang.StringIndexOutOfBoundsException** for Strings like: &quot;\\u003&quot;. Instead it should throw an IllegalArgumentException. The problem is from line 254-257: The i++ must be before the if:\n\ni++;\nif (i+4 &gt; oldstr.length()) {\n  die(&quot;string too short for \\\\u escape&quot;);\n}","body":"@tchrist The Unicode part contains a bug and throws a <b>java.lang.StringIndexOutOfBoundsException</b> for Strings like: &quot;\\u003&quot;. Instead it should throw an IllegalArgumentException. The problem is from line 254-257: The i++ must be before the if:  i++; if (i+4 &gt; oldstr.length()) {   die(&quot;string too short for \\\\u escape&quot;); }"}],"tags":[],"owner":{"account_id":216196,"reputation":79144,"user_id":471272,"accept_rate":100,"display_name":"tchrist"},"comment_count":7,"down_vote_count":8,"up_vote_count":120,"is_accepted":false,"score":112,"last_activity_date":1549968082,"creation_date":1290975483,"answer_id":4298836,"question_id":3537706,"body_markdown":"The Problem\r\n----\r\nThe `org.apache.commons.lang.StringEscapeUtils.unescapeJava()` given here as another answer is really very little help at all.\r\n\r\n - It forgets about `\\0` for null.\r\n - It doesn’t handle octal **at all**. \r\n - It can’t handle the sorts of escapes admitted by the `java.util.regex.Pattern.compile()` and everything that uses it, including `\\a`, `\\e`, and especially `\\cX`. \r\n - It has no support for logical Unicode code points by number, only for UTF-16.\r\n - This looks like UCS-2 code, not UTF-16 code: they use the depreciated `charAt` interface instead of the `codePoint` interface, thus promulgating the delusion that a Java `char` is guaranteed to hold a Unicode character. It’s not. They only get away with this because no UTF-16 surrogate will wind up looking for anything they’re looking for. \r\n\r\nThe Solution\r\n----\r\n\r\nI wrote a string unescaper which solves the OP’s question without all the irritations of the Apache code.\r\n\r\n    /*\r\n     *\r\n     * unescape_perl_string()\r\n     *\r\n     *      Tom Christiansen &lt;tchrist@perl.com&gt;\r\n     *      Sun Nov 28 12:55:24 MST 2010\r\n     *\r\n     * It&#39;s completely ridiculous that there&#39;s no standard\r\n     * unescape_java_string function.  Since I have to do the\r\n     * damn thing myself, I might as well make it halfway useful\r\n     * by supporting things Java was too stupid to consider in\r\n     * strings:\r\n     * \r\n     *   =&gt; &quot;?&quot; items  are additions to Java string escapes\r\n     *                 but normal in Java regexes\r\n     *\r\n     *   =&gt; &quot;!&quot; items  are also additions to Java regex escapes\r\n     *   \r\n     * Standard singletons: ?\\a ?\\e \\f \\n \\r \\t\r\n     * \r\n     *      NB: \\b is unsupported as backspace so it can pass-through\r\n     *          to the regex translator untouched; I refuse to make anyone\r\n     *          doublebackslash it as doublebackslashing is a Java idiocy\r\n     *          I desperately wish would die out.  There are plenty of\r\n     *          other ways to write it:\r\n     *\r\n     *              \\cH, \\12, \\012, \\x08 \\x{8}, \\u0008, \\U00000008\r\n     *\r\n     * Octal escapes: \\0 \\0N \\0NN \\N \\NN \\NNN\r\n     *    Can range up to !\\777 not \\377\r\n     *    \r\n     *      TODO: add !\\o{NNNNN}\r\n     *          last Unicode is 4177777\r\n     *          maxint is 37777777777\r\n     *\r\n     * Control chars: ?\\cX\r\n     *      Means: ord(X) ^ ord(&#39;@&#39;)\r\n     *\r\n     * Old hex escapes: \\xXX\r\n     *      unbraced must be 2 xdigits\r\n     *\r\n     * Perl hex escapes: !\\x{XXX} braced may be 1-8 xdigits\r\n     *       NB: proper Unicode never needs more than 6, as highest\r\n     *           valid codepoint is 0x10FFFF, not maxint 0xFFFFFFFF\r\n     *\r\n     * Lame Java escape: \\[IDIOT JAVA PREPROCESSOR]uXXXX must be\r\n     *                   exactly 4 xdigits;\r\n     *\r\n     *       I can&#39;t write XXXX in this comment where it belongs\r\n     *       because the damned Java Preprocessor can&#39;t mind its\r\n     *       own business.  Idiots!\r\n     *\r\n     * Lame Python escape: !\\UXXXXXXXX must be exactly 8 xdigits\r\n     * \r\n     * TODO: Perl translation escapes: \\Q \\U \\L \\E \\[IDIOT JAVA PREPROCESSOR]u \\l\r\n     *       These are not so important to cover if you&#39;re passing the\r\n     *       result to Pattern.compile(), since it handles them for you\r\n     *       further downstream.  Hm, what about \\[IDIOT JAVA PREPROCESSOR]u?\r\n     *\r\n     */\r\n\r\n    public final static\r\n    String unescape_perl_string(String oldstr) {\r\n\r\n        /*\r\n         * In contrast to fixing Java&#39;s broken regex charclasses,\r\n         * this one need be no bigger, as unescaping shrinks the string\r\n         * here, where in the other one, it grows it.\r\n         */\r\n\r\n        StringBuffer newstr = new StringBuffer(oldstr.length());\r\n\r\n        boolean saw_backslash = false;\r\n\r\n        for (int i = 0; i &lt; oldstr.length(); i++) {\r\n            int cp = oldstr.codePointAt(i);\r\n            if (oldstr.codePointAt(i) &gt; Character.MAX_VALUE) {\r\n                i++; /****WE HATES UTF-16! WE HATES IT FOREVERSES!!!****/\r\n            }\r\n\r\n            if (!saw_backslash) {\r\n                if (cp == &#39;\\\\&#39;) {\r\n                    saw_backslash = true;\r\n                } else {\r\n                    newstr.append(Character.toChars(cp));\r\n                }\r\n                continue; /* switch */\r\n            }\r\n\r\n            if (cp == &#39;\\\\&#39;) {\r\n                saw_backslash = false;\r\n                newstr.append(&#39;\\\\&#39;);\r\n                newstr.append(&#39;\\\\&#39;);\r\n                continue; /* switch */\r\n            }\r\n\r\n            switch (cp) {\r\n\r\n                case &#39;r&#39;:  newstr.append(&#39;\\r&#39;);\r\n                           break; /* switch */\r\n\r\n                case &#39;n&#39;:  newstr.append(&#39;\\n&#39;);\r\n                           break; /* switch */\r\n\r\n                case &#39;f&#39;:  newstr.append(&#39;\\f&#39;);\r\n                           break; /* switch */\r\n\r\n                /* PASS a \\b THROUGH!! */\r\n                case &#39;b&#39;:  newstr.append(&quot;\\\\b&quot;);\r\n                           break; /* switch */\r\n\r\n                case &#39;t&#39;:  newstr.append(&#39;\\t&#39;);\r\n                           break; /* switch */\r\n\r\n                case &#39;a&#39;:  newstr.append(&#39;\\007&#39;);\r\n                           break; /* switch */\r\n\r\n                case &#39;e&#39;:  newstr.append(&#39;\\033&#39;);\r\n                           break; /* switch */\r\n\r\n                /*\r\n                 * A &quot;control&quot; character is what you get when you xor its\r\n                 * codepoint with &#39;@&#39;==64.  This only makes sense for ASCII,\r\n                 * and may not yield a &quot;control&quot; character after all.\r\n                 *\r\n                 * Strange but true: &quot;\\c{&quot; is &quot;;&quot;, &quot;\\c}&quot; is &quot;=&quot;, etc.\r\n                 */\r\n                case &#39;c&#39;:   {\r\n                    if (++i == oldstr.length()) { die(&quot;trailing \\\\c&quot;); }\r\n                    cp = oldstr.codePointAt(i);\r\n                    /*\r\n                     * don&#39;t need to grok surrogates, as next line blows them up\r\n                     */\r\n                    if (cp &gt; 0x7f) { die(&quot;expected ASCII after \\\\c&quot;); }\r\n                    newstr.append(Character.toChars(cp ^ 64));\r\n                    break; /* switch */\r\n                }\r\n\r\n                case &#39;8&#39;:\r\n                case &#39;9&#39;: die(&quot;illegal octal digit&quot;);\r\n                          /* NOTREACHED */\r\n\r\n        /*\r\n         * may be 0 to 2 octal digits following this one\r\n         * so back up one for fallthrough to next case;\r\n         * unread this digit and fall through to next case.\r\n         */\r\n                case &#39;1&#39;:\r\n                case &#39;2&#39;:\r\n                case &#39;3&#39;:\r\n                case &#39;4&#39;:\r\n                case &#39;5&#39;:\r\n                case &#39;6&#39;:\r\n                case &#39;7&#39;: --i;\r\n                          /* FALLTHROUGH */\r\n\r\n                /*\r\n                 * Can have 0, 1, or 2 octal digits following a 0\r\n                 * this permits larger values than octal 377, up to\r\n                 * octal 777.\r\n                 */\r\n                case &#39;0&#39;: {\r\n                    if (i+1 == oldstr.length()) {\r\n                        /* found \\0 at end of string */\r\n                        newstr.append(Character.toChars(0));\r\n                        break; /* switch */\r\n                    }\r\n                    i++;\r\n                    int digits = 0;\r\n                    int j;\r\n                    for (j = 0; j &lt;= 2; j++) {\r\n                        if (i+j == oldstr.length()) {\r\n                            break; /* for */\r\n                        }\r\n                        /* safe because will unread surrogate */\r\n                        int ch = oldstr.charAt(i+j);\r\n                        if (ch &lt; &#39;0&#39; || ch &gt; &#39;7&#39;) {\r\n                            break; /* for */\r\n                        }\r\n                        digits++;\r\n                    }\r\n                    if (digits == 0) {\r\n                        --i;\r\n                        newstr.append(&#39;\\0&#39;);\r\n                        break; /* switch */\r\n                    }\r\n                    int value = 0;\r\n                    try {\r\n                        value = Integer.parseInt(\r\n                                    oldstr.substring(i, i+digits), 8);\r\n                    } catch (NumberFormatException nfe) {\r\n                        die(&quot;invalid octal value for \\\\0 escape&quot;);\r\n                    }\r\n                    newstr.append(Character.toChars(value));\r\n                    i += digits-1;\r\n                    break; /* switch */\r\n                } /* end case &#39;0&#39; */\r\n\r\n                case &#39;x&#39;:  {\r\n                    if (i+2 &gt; oldstr.length()) {\r\n                        die(&quot;string too short for \\\\x escape&quot;);\r\n                    }\r\n                    i++;\r\n                    boolean saw_brace = false;\r\n                    if (oldstr.charAt(i) == &#39;{&#39;) {\r\n                            /* ^^^^^^ ok to ignore surrogates here */\r\n                        i++;\r\n                        saw_brace = true;\r\n                    }\r\n                    int j;\r\n                    for (j = 0; j &lt; 8; j++) {\r\n\r\n                        if (!saw_brace &amp;&amp; j == 2) {\r\n                            break;  /* for */\r\n                        }\r\n\r\n                        /*\r\n                         * ASCII test also catches surrogates\r\n                         */\r\n                        int ch = oldstr.charAt(i+j);\r\n                        if (ch &gt; 127) {\r\n                            die(&quot;illegal non-ASCII hex digit in \\\\x escape&quot;);\r\n                        }\r\n\r\n                        if (saw_brace &amp;&amp; ch == &#39;}&#39;) { break; /* for */ }\r\n\r\n                        if (! ( (ch &gt;= &#39;0&#39; &amp;&amp; ch &lt;= &#39;9&#39;)\r\n                                    ||\r\n                                (ch &gt;= &#39;a&#39; &amp;&amp; ch &lt;= &#39;f&#39;)\r\n                                    ||\r\n                                (ch &gt;= &#39;A&#39; &amp;&amp; ch &lt;= &#39;F&#39;)\r\n                              )\r\n                           )\r\n                        {\r\n                            die(String.format(\r\n                                &quot;illegal hex digit #%d &#39;%c&#39; in \\\\x&quot;, ch, ch));\r\n                        }\r\n\r\n                    }\r\n                    if (j == 0) { die(&quot;empty braces in \\\\x{} escape&quot;); }\r\n                    int value = 0;\r\n                    try {\r\n                        value = Integer.parseInt(oldstr.substring(i, i+j), 16);\r\n                    } catch (NumberFormatException nfe) {\r\n                        die(&quot;invalid hex value for \\\\x escape&quot;);\r\n                    }\r\n                    newstr.append(Character.toChars(value));\r\n                    if (saw_brace) { j++; }\r\n                    i += j-1;\r\n                    break; /* switch */\r\n                }\r\n\r\n                case &#39;u&#39;: {\r\n                    if (i+4 &gt; oldstr.length()) {\r\n                        die(&quot;string too short for \\\\u escape&quot;);\r\n                    }\r\n                    i++;\r\n                    int j;\r\n                    for (j = 0; j &lt; 4; j++) {\r\n                        /* this also handles the surrogate issue */\r\n                        if (oldstr.charAt(i+j) &gt; 127) {\r\n                            die(&quot;illegal non-ASCII hex digit in \\\\u escape&quot;);\r\n                        }\r\n                    }\r\n                    int value = 0;\r\n                    try {\r\n                        value = Integer.parseInt( oldstr.substring(i, i+j), 16);\r\n                    } catch (NumberFormatException nfe) {\r\n                        die(&quot;invalid hex value for \\\\u escape&quot;);\r\n                    }\r\n                    newstr.append(Character.toChars(value));\r\n                    i += j-1;\r\n                    break; /* switch */\r\n                }\r\n\r\n                case &#39;U&#39;: {\r\n                    if (i+8 &gt; oldstr.length()) {\r\n                        die(&quot;string too short for \\\\U escape&quot;);\r\n                    }\r\n                    i++;\r\n                    int j;\r\n                    for (j = 0; j &lt; 8; j++) {\r\n                        /* this also handles the surrogate issue */\r\n                        if (oldstr.charAt(i+j) &gt; 127) {\r\n                            die(&quot;illegal non-ASCII hex digit in \\\\U escape&quot;);\r\n                        }\r\n                    }\r\n                    int value = 0;\r\n                    try {\r\n                        value = Integer.parseInt(oldstr.substring(i, i+j), 16);\r\n                    } catch (NumberFormatException nfe) {\r\n                        die(&quot;invalid hex value for \\\\U escape&quot;);\r\n                    }\r\n                    newstr.append(Character.toChars(value));\r\n                    i += j-1;\r\n                    break; /* switch */\r\n                }\r\n\r\n                default:   newstr.append(&#39;\\\\&#39;);\r\n                           newstr.append(Character.toChars(cp));\r\n               /*\r\n                * say(String.format(\r\n                *       &quot;DEFAULT unrecognized escape %c passed through&quot;,\r\n                *       cp));\r\n                */\r\n                           break; /* switch */\r\n\r\n            }\r\n            saw_backslash = false;\r\n        }\r\n\r\n        /* weird to leave one at the end */\r\n        if (saw_backslash) {\r\n            newstr.append(&#39;\\\\&#39;);\r\n        }\r\n\r\n        return newstr.toString();\r\n    }\r\n\r\n    /*\r\n     * Return a string &quot;U+XX.XXX.XXXX&quot; etc, where each XX set is the\r\n     * xdigits of the logical Unicode code point. No bloody brain-damaged\r\n     * UTF-16 surrogate crap, just true logical characters.\r\n     */\r\n     public final static\r\n     String uniplus(String s) {\r\n         if (s.length() == 0) {\r\n             return &quot;&quot;;\r\n         }\r\n         /* This is just the minimum; sb will grow as needed. */\r\n         StringBuffer sb = new StringBuffer(2 + 3 * s.length());\r\n         sb.append(&quot;U+&quot;);\r\n         for (int i = 0; i &lt; s.length(); i++) {\r\n             sb.append(String.format(&quot;%X&quot;, s.codePointAt(i)));\r\n             if (s.codePointAt(i) &gt; Character.MAX_VALUE) {\r\n                 i++; /****WE HATES UTF-16! WE HATES IT FOREVERSES!!!****/\r\n             }\r\n             if (i+1 &lt; s.length()) {\r\n                 sb.append(&quot;.&quot;);\r\n             }\r\n         }\r\n         return sb.toString();\r\n     }\r\n\r\n    private static final\r\n    void die(String foa) {\r\n        throw new IllegalArgumentException(foa);\r\n    }\r\n\r\n    private static final\r\n    void say(String what) {\r\n        System.out.println(what);\r\n    }\r\n\r\nIf it helps others, you’re welcome to it — no strings attached. If you improve it, I’d love for you to mail me your enhancements, but you certainly don’t have to.","title":"How to unescape a Java string literal in Java?","body":"<h2>The Problem</h2>\n\n<p>The <code>org.apache.commons.lang.StringEscapeUtils.unescapeJava()</code> given here as another answer is really very little help at all.</p>\n\n<ul>\n<li>It forgets about <code>\\0</code> for null.</li>\n<li>It doesn’t handle octal <strong>at all</strong>. </li>\n<li>It can’t handle the sorts of escapes admitted by the <code>java.util.regex.Pattern.compile()</code> and everything that uses it, including <code>\\a</code>, <code>\\e</code>, and especially <code>\\cX</code>. </li>\n<li>It has no support for logical Unicode code points by number, only for UTF-16.</li>\n<li>This looks like UCS-2 code, not UTF-16 code: they use the depreciated <code>charAt</code> interface instead of the <code>codePoint</code> interface, thus promulgating the delusion that a Java <code>char</code> is guaranteed to hold a Unicode character. It’s not. They only get away with this because no UTF-16 surrogate will wind up looking for anything they’re looking for. </li>\n</ul>\n\n<h2>The Solution</h2>\n\n<p>I wrote a string unescaper which solves the OP’s question without all the irritations of the Apache code.</p>\n\n<pre><code>/*\n *\n * unescape_perl_string()\n *\n *      Tom Christiansen &lt;tchrist@perl.com&gt;\n *      Sun Nov 28 12:55:24 MST 2010\n *\n * It's completely ridiculous that there's no standard\n * unescape_java_string function.  Since I have to do the\n * damn thing myself, I might as well make it halfway useful\n * by supporting things Java was too stupid to consider in\n * strings:\n * \n *   =&gt; \"?\" items  are additions to Java string escapes\n *                 but normal in Java regexes\n *\n *   =&gt; \"!\" items  are also additions to Java regex escapes\n *   \n * Standard singletons: ?\\a ?\\e \\f \\n \\r \\t\n * \n *      NB: \\b is unsupported as backspace so it can pass-through\n *          to the regex translator untouched; I refuse to make anyone\n *          doublebackslash it as doublebackslashing is a Java idiocy\n *          I desperately wish would die out.  There are plenty of\n *          other ways to write it:\n *\n *              \\cH, \\12, \\012, \\x08 \\x{8}, \\u0008, \\U00000008\n *\n * Octal escapes: \\0 \\0N \\0NN \\N \\NN \\NNN\n *    Can range up to !\\777 not \\377\n *    \n *      TODO: add !\\o{NNNNN}\n *          last Unicode is 4177777\n *          maxint is 37777777777\n *\n * Control chars: ?\\cX\n *      Means: ord(X) ^ ord('@')\n *\n * Old hex escapes: \\xXX\n *      unbraced must be 2 xdigits\n *\n * Perl hex escapes: !\\x{XXX} braced may be 1-8 xdigits\n *       NB: proper Unicode never needs more than 6, as highest\n *           valid codepoint is 0x10FFFF, not maxint 0xFFFFFFFF\n *\n * Lame Java escape: \\[IDIOT JAVA PREPROCESSOR]uXXXX must be\n *                   exactly 4 xdigits;\n *\n *       I can't write XXXX in this comment where it belongs\n *       because the damned Java Preprocessor can't mind its\n *       own business.  Idiots!\n *\n * Lame Python escape: !\\UXXXXXXXX must be exactly 8 xdigits\n * \n * TODO: Perl translation escapes: \\Q \\U \\L \\E \\[IDIOT JAVA PREPROCESSOR]u \\l\n *       These are not so important to cover if you're passing the\n *       result to Pattern.compile(), since it handles them for you\n *       further downstream.  Hm, what about \\[IDIOT JAVA PREPROCESSOR]u?\n *\n */\n\npublic final static\nString unescape_perl_string(String oldstr) {\n\n    /*\n     * In contrast to fixing Java's broken regex charclasses,\n     * this one need be no bigger, as unescaping shrinks the string\n     * here, where in the other one, it grows it.\n     */\n\n    StringBuffer newstr = new StringBuffer(oldstr.length());\n\n    boolean saw_backslash = false;\n\n    for (int i = 0; i &lt; oldstr.length(); i++) {\n        int cp = oldstr.codePointAt(i);\n        if (oldstr.codePointAt(i) &gt; Character.MAX_VALUE) {\n            i++; /****WE HATES UTF-16! WE HATES IT FOREVERSES!!!****/\n        }\n\n        if (!saw_backslash) {\n            if (cp == '\\\\') {\n                saw_backslash = true;\n            } else {\n                newstr.append(Character.toChars(cp));\n            }\n            continue; /* switch */\n        }\n\n        if (cp == '\\\\') {\n            saw_backslash = false;\n            newstr.append('\\\\');\n            newstr.append('\\\\');\n            continue; /* switch */\n        }\n\n        switch (cp) {\n\n            case 'r':  newstr.append('\\r');\n                       break; /* switch */\n\n            case 'n':  newstr.append('\\n');\n                       break; /* switch */\n\n            case 'f':  newstr.append('\\f');\n                       break; /* switch */\n\n            /* PASS a \\b THROUGH!! */\n            case 'b':  newstr.append(\"\\\\b\");\n                       break; /* switch */\n\n            case 't':  newstr.append('\\t');\n                       break; /* switch */\n\n            case 'a':  newstr.append('\\007');\n                       break; /* switch */\n\n            case 'e':  newstr.append('\\033');\n                       break; /* switch */\n\n            /*\n             * A \"control\" character is what you get when you xor its\n             * codepoint with '@'==64.  This only makes sense for ASCII,\n             * and may not yield a \"control\" character after all.\n             *\n             * Strange but true: \"\\c{\" is \";\", \"\\c}\" is \"=\", etc.\n             */\n            case 'c':   {\n                if (++i == oldstr.length()) { die(\"trailing \\\\c\"); }\n                cp = oldstr.codePointAt(i);\n                /*\n                 * don't need to grok surrogates, as next line blows them up\n                 */\n                if (cp &gt; 0x7f) { die(\"expected ASCII after \\\\c\"); }\n                newstr.append(Character.toChars(cp ^ 64));\n                break; /* switch */\n            }\n\n            case '8':\n            case '9': die(\"illegal octal digit\");\n                      /* NOTREACHED */\n\n    /*\n     * may be 0 to 2 octal digits following this one\n     * so back up one for fallthrough to next case;\n     * unread this digit and fall through to next case.\n     */\n            case '1':\n            case '2':\n            case '3':\n            case '4':\n            case '5':\n            case '6':\n            case '7': --i;\n                      /* FALLTHROUGH */\n\n            /*\n             * Can have 0, 1, or 2 octal digits following a 0\n             * this permits larger values than octal 377, up to\n             * octal 777.\n             */\n            case '0': {\n                if (i+1 == oldstr.length()) {\n                    /* found \\0 at end of string */\n                    newstr.append(Character.toChars(0));\n                    break; /* switch */\n                }\n                i++;\n                int digits = 0;\n                int j;\n                for (j = 0; j &lt;= 2; j++) {\n                    if (i+j == oldstr.length()) {\n                        break; /* for */\n                    }\n                    /* safe because will unread surrogate */\n                    int ch = oldstr.charAt(i+j);\n                    if (ch &lt; '0' || ch &gt; '7') {\n                        break; /* for */\n                    }\n                    digits++;\n                }\n                if (digits == 0) {\n                    --i;\n                    newstr.append('\\0');\n                    break; /* switch */\n                }\n                int value = 0;\n                try {\n                    value = Integer.parseInt(\n                                oldstr.substring(i, i+digits), 8);\n                } catch (NumberFormatException nfe) {\n                    die(\"invalid octal value for \\\\0 escape\");\n                }\n                newstr.append(Character.toChars(value));\n                i += digits-1;\n                break; /* switch */\n            } /* end case '0' */\n\n            case 'x':  {\n                if (i+2 &gt; oldstr.length()) {\n                    die(\"string too short for \\\\x escape\");\n                }\n                i++;\n                boolean saw_brace = false;\n                if (oldstr.charAt(i) == '{') {\n                        /* ^^^^^^ ok to ignore surrogates here */\n                    i++;\n                    saw_brace = true;\n                }\n                int j;\n                for (j = 0; j &lt; 8; j++) {\n\n                    if (!saw_brace &amp;&amp; j == 2) {\n                        break;  /* for */\n                    }\n\n                    /*\n                     * ASCII test also catches surrogates\n                     */\n                    int ch = oldstr.charAt(i+j);\n                    if (ch &gt; 127) {\n                        die(\"illegal non-ASCII hex digit in \\\\x escape\");\n                    }\n\n                    if (saw_brace &amp;&amp; ch == '}') { break; /* for */ }\n\n                    if (! ( (ch &gt;= '0' &amp;&amp; ch &lt;= '9')\n                                ||\n                            (ch &gt;= 'a' &amp;&amp; ch &lt;= 'f')\n                                ||\n                            (ch &gt;= 'A' &amp;&amp; ch &lt;= 'F')\n                          )\n                       )\n                    {\n                        die(String.format(\n                            \"illegal hex digit #%d '%c' in \\\\x\", ch, ch));\n                    }\n\n                }\n                if (j == 0) { die(\"empty braces in \\\\x{} escape\"); }\n                int value = 0;\n                try {\n                    value = Integer.parseInt(oldstr.substring(i, i+j), 16);\n                } catch (NumberFormatException nfe) {\n                    die(\"invalid hex value for \\\\x escape\");\n                }\n                newstr.append(Character.toChars(value));\n                if (saw_brace) { j++; }\n                i += j-1;\n                break; /* switch */\n            }\n\n            case 'u': {\n                if (i+4 &gt; oldstr.length()) {\n                    die(\"string too short for \\\\u escape\");\n                }\n                i++;\n                int j;\n                for (j = 0; j &lt; 4; j++) {\n                    /* this also handles the surrogate issue */\n                    if (oldstr.charAt(i+j) &gt; 127) {\n                        die(\"illegal non-ASCII hex digit in \\\\u escape\");\n                    }\n                }\n                int value = 0;\n                try {\n                    value = Integer.parseInt( oldstr.substring(i, i+j), 16);\n                } catch (NumberFormatException nfe) {\n                    die(\"invalid hex value for \\\\u escape\");\n                }\n                newstr.append(Character.toChars(value));\n                i += j-1;\n                break; /* switch */\n            }\n\n            case 'U': {\n                if (i+8 &gt; oldstr.length()) {\n                    die(\"string too short for \\\\U escape\");\n                }\n                i++;\n                int j;\n                for (j = 0; j &lt; 8; j++) {\n                    /* this also handles the surrogate issue */\n                    if (oldstr.charAt(i+j) &gt; 127) {\n                        die(\"illegal non-ASCII hex digit in \\\\U escape\");\n                    }\n                }\n                int value = 0;\n                try {\n                    value = Integer.parseInt(oldstr.substring(i, i+j), 16);\n                } catch (NumberFormatException nfe) {\n                    die(\"invalid hex value for \\\\U escape\");\n                }\n                newstr.append(Character.toChars(value));\n                i += j-1;\n                break; /* switch */\n            }\n\n            default:   newstr.append('\\\\');\n                       newstr.append(Character.toChars(cp));\n           /*\n            * say(String.format(\n            *       \"DEFAULT unrecognized escape %c passed through\",\n            *       cp));\n            */\n                       break; /* switch */\n\n        }\n        saw_backslash = false;\n    }\n\n    /* weird to leave one at the end */\n    if (saw_backslash) {\n        newstr.append('\\\\');\n    }\n\n    return newstr.toString();\n}\n\n/*\n * Return a string \"U+XX.XXX.XXXX\" etc, where each XX set is the\n * xdigits of the logical Unicode code point. No bloody brain-damaged\n * UTF-16 surrogate crap, just true logical characters.\n */\n public final static\n String uniplus(String s) {\n     if (s.length() == 0) {\n         return \"\";\n     }\n     /* This is just the minimum; sb will grow as needed. */\n     StringBuffer sb = new StringBuffer(2 + 3 * s.length());\n     sb.append(\"U+\");\n     for (int i = 0; i &lt; s.length(); i++) {\n         sb.append(String.format(\"%X\", s.codePointAt(i)));\n         if (s.codePointAt(i) &gt; Character.MAX_VALUE) {\n             i++; /****WE HATES UTF-16! WE HATES IT FOREVERSES!!!****/\n         }\n         if (i+1 &lt; s.length()) {\n             sb.append(\".\");\n         }\n     }\n     return sb.toString();\n }\n\nprivate static final\nvoid die(String foa) {\n    throw new IllegalArgumentException(foa);\n}\n\nprivate static final\nvoid say(String what) {\n    System.out.println(what);\n}\n</code></pre>\n\n<p>If it helps others, you’re welcome to it — no strings attached. If you improve it, I’d love for you to mail me your enhancements, but you certainly don’t have to.</p>\n"},{"tags":[],"owner":{"account_id":94109,"reputation":2168,"user_id":257122,"accept_rate":60,"display_name":"Ashwin Jayaprakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1305827765,"creation_date":1305827765,"answer_id":6062826,"question_id":3537706,"body_markdown":"If you are reading unicode escaped chars from a file, then you will have a tough time doing that because the string will be read literally along with an escape for the back slash:\r\n\r\nmy_file.txt\r\n\r\n    Blah blah...\r\n    Column delimiter=;\r\n    Word delimiter=\\u0020 #This is just unicode for whitespace\r\n    \r\n    .. more stuff\r\n\r\nHere, when you read line 3 from the file the string/line will have:\r\n\r\n    &quot;Word delimiter=\\u0020 #This is just unicode for whitespace&quot;\r\nand the char[] in the string will show:\r\n\r\n    {...., &#39;=&#39;, &#39;\\\\&#39;, &#39;u&#39;, &#39;0&#39;, &#39;0&#39;, &#39;2&#39;, &#39;0&#39;, &#39; &#39;, &#39;#&#39;, &#39;t&#39;, &#39;h&#39;, ...}\r\n\r\n\r\nCommons StringUnescape will not unescape this for you (I tried unescapeXml()). You&#39;ll have to do it manually as [described here][1].\r\n\r\nSo, the sub-string &quot;\\u0020&quot; should become 1 single char &#39;\\u0020&#39;\r\n\r\n  [1]: http://www.velocityreviews.com/forums/t367758-unescaping-unicode-code-points-in-a-java-string.html\r\n\r\nBut if you are using this &quot;\\u0020&quot; to do `String.split(&quot;... ..... ..&quot;, columnDelimiterReadFromFile)` which is really using regex internally, it will work directly because the string read from file was escaped and is perfect to use in the regex pattern!! (Confused?)","title":"How to unescape a Java string literal in Java?","body":"<p>If you are reading unicode escaped chars from a file, then you will have a tough time doing that because the string will be read literally along with an escape for the back slash:</p>\n\n<p>my_file.txt</p>\n\n<pre><code>Blah blah...\nColumn delimiter=;\nWord delimiter=\\u0020 #This is just unicode for whitespace\n\n.. more stuff\n</code></pre>\n\n<p>Here, when you read line 3 from the file the string/line will have:</p>\n\n<pre><code>\"Word delimiter=\\u0020 #This is just unicode for whitespace\"\n</code></pre>\n\n<p>and the char[] in the string will show:</p>\n\n<pre><code>{...., '=', '\\\\', 'u', '0', '0', '2', '0', ' ', '#', 't', 'h', ...}\n</code></pre>\n\n<p>Commons StringUnescape will not unescape this for you (I tried unescapeXml()). You'll have to do it manually as <a href=\"http://www.velocityreviews.com/forums/t367758-unescaping-unicode-code-points-in-a-java-string.html\" rel=\"nofollow\">described here</a>.</p>\n\n<p>So, the sub-string \"\\u0020\" should become 1 single char '\\u0020'</p>\n\n<p>But if you are using this \"\\u0020\" to do <code>String.split(\"... ..... ..\", columnDelimiterReadFromFile)</code> which is really using regex internally, it will work directly because the string read from file was escaped and is perfect to use in the regex pattern!! (Confused?)</p>\n"},{"tags":[],"owner":{"account_id":262581,"reputation":1241,"user_id":547546,"accept_rate":75,"display_name":"Chad Retz"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1311793190,"creation_date":1311793190,"answer_id":6849740,"question_id":3537706,"body_markdown":"I&#39;m a little late on this, but I thought I&#39;d provide my solution since I needed the same functionality. I decided to use the Java Compiler API which makes it slower, but makes the results accurate. Basically I live create a class then return the results. Here is the method:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static String[] unescapeJavaStrings(String... escaped) {\r\n        //class name\r\n        final String className = &quot;Temp&quot; + System.currentTimeMillis();\r\n        //build the source\r\n        final StringBuilder source = new StringBuilder(100 + escaped.length * 20).\r\n                append(&quot;public class &quot;).append(className).append(&quot;{\\n&quot;).\r\n                append(&quot;\\tpublic static String[] getStrings() {\\n&quot;).\r\n                append(&quot;\\t\\treturn new String[] {\\n&quot;);\r\n        for (String string : escaped) {\r\n            source.append(&quot;\\t\\t\\t\\&quot;&quot;);\r\n            //we escape non-escaped quotes here to be safe \r\n            //  (but something like \\\\&quot; will fail, oh well for now)\r\n            for (int i = 0; i &lt; string.length(); i++) {\r\n                char chr = string.charAt(i);\r\n                if (chr == &#39;&quot;&#39; &amp;&amp; i &gt; 0 &amp;&amp; string.charAt(i - 1) != &#39;\\\\&#39;) {\r\n                    source.append(&#39;\\\\&#39;);\r\n                }\r\n                source.append(chr);\r\n            }\r\n            source.append(&quot;\\&quot;,\\n&quot;);\r\n        }\r\n        source.append(&quot;\\t\\t};\\n\\t}\\n}\\n&quot;);\r\n        //obtain compiler\r\n        final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n        //local stream for output\r\n        final ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n        //local stream for error\r\n        ByteArrayOutputStream err = new ByteArrayOutputStream();\r\n        //source file\r\n        JavaFileObject sourceFile = new SimpleJavaFileObject(\r\n                URI.create(&quot;string:///&quot; + className + Kind.SOURCE.extension), Kind.SOURCE) {\r\n            @Override\r\n            public CharSequence getCharContent(boolean ignoreEncodingErrors) throws IOException {\r\n                return source;\r\n            }\r\n        };\r\n        //target file\r\n        final JavaFileObject targetFile = new SimpleJavaFileObject(\r\n                URI.create(&quot;string:///&quot; + className + Kind.CLASS.extension), Kind.CLASS) {\r\n            @Override\r\n            public OutputStream openOutputStream() throws IOException {\r\n                return out;\r\n            }\r\n        };\r\n        //file manager proxy, with most parts delegated to the standard one \r\n        JavaFileManager fileManagerProxy = (JavaFileManager) Proxy.newProxyInstance(\r\n                StringUtils.class.getClassLoader(), new Class[] { JavaFileManager.class },\r\n                new InvocationHandler() {\r\n                    //standard file manager to delegate to\r\n                    private final JavaFileManager standard = \r\n                        compiler.getStandardFileManager(null, null, null); \r\n                    @Override\r\n                    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\r\n                        if (&quot;getJavaFileForOutput&quot;.equals(method.getName())) {\r\n                            //return the target file when it&#39;s asking for output\r\n                            return targetFile;\r\n                        } else {\r\n                            return method.invoke(standard, args);\r\n                        }\r\n                    }\r\n                });\r\n        //create the task\r\n        CompilationTask task = compiler.getTask(new OutputStreamWriter(err), \r\n                fileManagerProxy, null, null, null, Collections.singleton(sourceFile));\r\n        //call it\r\n        if (!task.call()) {\r\n            throw new RuntimeException(&quot;Compilation failed, output:\\n&quot; + \r\n                    new String(err.toByteArray()));\r\n        }\r\n        //get the result\r\n        final byte[] bytes = out.toByteArray();\r\n        //load class\r\n        Class&lt;?&gt; clazz;\r\n        try {\r\n            //custom class loader for garbage collection\r\n            clazz = new ClassLoader() { \r\n                protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\r\n                    if (name.equals(className)) {\r\n                        return defineClass(className, bytes, 0, bytes.length);\r\n                    } else {\r\n                        return super.findClass(name);\r\n                    }\r\n                }\r\n            }.loadClass(className);\r\n        } catch (ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        //reflectively call method\r\n        try {\r\n            return (String[]) clazz.getDeclaredMethod(&quot;getStrings&quot;).invoke(null);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nIt takes an array so you can unescape in batches. So the following simple test succeeds:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    public static void main(String[] meh) {\r\n        if (&quot;1\\02\\03\\n&quot;.equals(unescapeJavaStrings(&quot;1\\\\02\\\\03\\\\n&quot;)[0])) {\r\n            System.out.println(&quot;Success&quot;);\r\n        } else {\r\n            System.out.println(&quot;Failure&quot;);\r\n        }\r\n    }\r\n\r\n","title":"How to unescape a Java string literal in Java?","body":"<p>I'm a little late on this, but I thought I'd provide my solution since I needed the same functionality. I decided to use the Java Compiler API which makes it slower, but makes the results accurate. Basically I live create a class then return the results. Here is the method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static String[] unescapeJavaStrings(String... escaped) {\n    //class name\n    final String className = \"Temp\" + System.currentTimeMillis();\n    //build the source\n    final StringBuilder source = new StringBuilder(100 + escaped.length * 20).\n            append(\"public class \").append(className).append(\"{\\n\").\n            append(\"\\tpublic static String[] getStrings() {\\n\").\n            append(\"\\t\\treturn new String[] {\\n\");\n    for (String string : escaped) {\n        source.append(\"\\t\\t\\t\\\"\");\n        //we escape non-escaped quotes here to be safe \n        //  (but something like \\\\\" will fail, oh well for now)\n        for (int i = 0; i &lt; string.length(); i++) {\n            char chr = string.charAt(i);\n            if (chr == '\"' &amp;&amp; i &gt; 0 &amp;&amp; string.charAt(i - 1) != '\\\\') {\n                source.append('\\\\');\n            }\n            source.append(chr);\n        }\n        source.append(\"\\\",\\n\");\n    }\n    source.append(\"\\t\\t};\\n\\t}\\n}\\n\");\n    //obtain compiler\n    final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\n    //local stream for output\n    final ByteArrayOutputStream out = new ByteArrayOutputStream();\n    //local stream for error\n    ByteArrayOutputStream err = new ByteArrayOutputStream();\n    //source file\n    JavaFileObject sourceFile = new SimpleJavaFileObject(\n            URI.create(\"string:///\" + className + Kind.SOURCE.extension), Kind.SOURCE) {\n        @Override\n        public CharSequence getCharContent(boolean ignoreEncodingErrors) throws IOException {\n            return source;\n        }\n    };\n    //target file\n    final JavaFileObject targetFile = new SimpleJavaFileObject(\n            URI.create(\"string:///\" + className + Kind.CLASS.extension), Kind.CLASS) {\n        @Override\n        public OutputStream openOutputStream() throws IOException {\n            return out;\n        }\n    };\n    //file manager proxy, with most parts delegated to the standard one \n    JavaFileManager fileManagerProxy = (JavaFileManager) Proxy.newProxyInstance(\n            StringUtils.class.getClassLoader(), new Class[] { JavaFileManager.class },\n            new InvocationHandler() {\n                //standard file manager to delegate to\n                private final JavaFileManager standard = \n                    compiler.getStandardFileManager(null, null, null); \n                @Override\n                public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {\n                    if (\"getJavaFileForOutput\".equals(method.getName())) {\n                        //return the target file when it's asking for output\n                        return targetFile;\n                    } else {\n                        return method.invoke(standard, args);\n                    }\n                }\n            });\n    //create the task\n    CompilationTask task = compiler.getTask(new OutputStreamWriter(err), \n            fileManagerProxy, null, null, null, Collections.singleton(sourceFile));\n    //call it\n    if (!task.call()) {\n        throw new RuntimeException(\"Compilation failed, output:\\n\" + \n                new String(err.toByteArray()));\n    }\n    //get the result\n    final byte[] bytes = out.toByteArray();\n    //load class\n    Class&lt;?&gt; clazz;\n    try {\n        //custom class loader for garbage collection\n        clazz = new ClassLoader() { \n            protected Class&lt;?&gt; findClass(String name) throws ClassNotFoundException {\n                if (name.equals(className)) {\n                    return defineClass(className, bytes, 0, bytes.length);\n                } else {\n                    return super.findClass(name);\n                }\n            }\n        }.loadClass(className);\n    } catch (ClassNotFoundException e) {\n        throw new RuntimeException(e);\n    }\n    //reflectively call method\n    try {\n        return (String[]) clazz.getDeclaredMethod(\"getStrings\").invoke(null);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n\n<p>It takes an array so you can unescape in batches. So the following simple test succeeds:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] meh) {\n    if (\"1\\02\\03\\n\".equals(unescapeJavaStrings(\"1\\\\02\\\\03\\\\n\")[0])) {\n        System.out.println(\"Success\");\n    } else {\n        System.out.println(\"Failure\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":328530,"reputation":12953,"user_id":651536,"accept_rate":90,"display_name":"Nathan Ryan"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1352322335,"creation_date":1352322335,"answer_id":13278219,"question_id":3537706,"body_markdown":"I came across the same problem, but I wasn&#39;t enamoured by any of the solutions I found here. So, I wrote one that iterates over the characters of the string using a matcher to find and replace the escape sequences. This solution assumes properly formatted input. That is, it happily skips over nonsensical escapes, and it decodes Unicode escapes for line feed and carriage return (which otherwise cannot appear in a character literal or a string literal, due to the definition of such literals and the order of translation phases for Java source). Apologies, the code is a bit packed for brevity.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n\r\n    public class Decoder {\r\n\r\n        // The encoded character of each character escape.\r\n        // This array functions as the keys of a sorted map, from encoded characters to decoded characters.\r\n        static final char[] ENCODED_ESCAPES = { &#39;\\&quot;&#39;, &#39;\\&#39;&#39;, &#39;\\\\&#39;,  &#39;b&#39;,  &#39;f&#39;,  &#39;n&#39;,  &#39;r&#39;,  &#39;t&#39; };\r\n\r\n        // The decoded character of each character escape.\r\n        // This array functions as the values of a sorted map, from encoded characters to decoded characters.\r\n        static final char[] DECODED_ESCAPES = { &#39;\\&quot;&#39;, &#39;\\&#39;&#39;, &#39;\\\\&#39;, &#39;\\b&#39;, &#39;\\f&#39;, &#39;\\n&#39;, &#39;\\r&#39;, &#39;\\t&#39; };\r\n\r\n        // A pattern that matches an escape.\r\n        // What follows the escape indicator is captured by group 1=character 2=octal 3=Unicode.\r\n        static final Pattern PATTERN = Pattern.compile(&quot;\\\\\\\\(?:(b|t|n|f|r|\\\\\\&quot;|\\\\\\&#39;|\\\\\\\\)|((?:[0-3]?[0-7])?[0-7])|u+(\\\\p{XDigit}{4}))&quot;);\r\n\r\n        public static CharSequence decodeString(CharSequence encodedString) {\r\n            Matcher matcher = PATTERN.matcher(encodedString);\r\n            StringBuffer decodedString = new StringBuffer();\r\n            // Find each escape of the encoded string in succession.\r\n            while (matcher.find()) {\r\n                char ch;\r\n                if (matcher.start(1) &gt;= 0) {\r\n                    // Decode a character escape.\r\n                    ch = DECODED_ESCAPES[Arrays.binarySearch(ENCODED_ESCAPES, matcher.group(1).charAt(0))];\r\n                } else if (matcher.start(2) &gt;= 0) {\r\n                    // Decode an octal escape.\r\n                    ch = (char)(Integer.parseInt(matcher.group(2), 8));\r\n                } else /* if (matcher.start(3) &gt;= 0) */ {\r\n                    // Decode a Unicode escape.\r\n                    ch = (char)(Integer.parseInt(matcher.group(3), 16));\r\n                }\r\n                // Replace the escape with the decoded character.\r\n                matcher.appendReplacement(decodedString, Matcher.quoteReplacement(String.valueOf(ch)));\r\n            }\r\n            // Append the remainder of the encoded string to the decoded string.\r\n            // The remainder is the longest suffix of the encoded string such that the suffix contains no escapes.\r\n            matcher.appendTail(decodedString);\r\n            return decodedString;\r\n        }\r\n\r\n        public static void main(String... args) {\r\n            System.out.println(decodeString(args[0]));\r\n        }\r\n    }\r\n\r\nI should note that Apache Commons Lang3 doesn&#39;t seem to suffer the weaknesses indicated in the accepted solution. That is, `StringEscapeUtils` seems to handle octal escapes and multiple `u` characters of Unicode escapes. That means unless you have some burning reason to avoid Apache Commons, you should probably use it rather than my solution (or any other solution here).","title":"How to unescape a Java string literal in Java?","body":"<p>I came across the same problem, but I wasn't enamoured by any of the solutions I found here. So, I wrote one that iterates over the characters of the string using a matcher to find and replace the escape sequences. This solution assumes properly formatted input. That is, it happily skips over nonsensical escapes, and it decodes Unicode escapes for line feed and carriage return (which otherwise cannot appear in a character literal or a string literal, due to the definition of such literals and the order of translation phases for Java source). Apologies, the code is a bit packed for brevity.</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class Decoder {\n\n    // The encoded character of each character escape.\n    // This array functions as the keys of a sorted map, from encoded characters to decoded characters.\n    static final char[] ENCODED_ESCAPES = { '\\\"', '\\'', '\\\\',  'b',  'f',  'n',  'r',  't' };\n\n    // The decoded character of each character escape.\n    // This array functions as the values of a sorted map, from encoded characters to decoded characters.\n    static final char[] DECODED_ESCAPES = { '\\\"', '\\'', '\\\\', '\\b', '\\f', '\\n', '\\r', '\\t' };\n\n    // A pattern that matches an escape.\n    // What follows the escape indicator is captured by group 1=character 2=octal 3=Unicode.\n    static final Pattern PATTERN = Pattern.compile(\"\\\\\\\\(?:(b|t|n|f|r|\\\\\\\"|\\\\\\'|\\\\\\\\)|((?:[0-3]?[0-7])?[0-7])|u+(\\\\p{XDigit}{4}))\");\n\n    public static CharSequence decodeString(CharSequence encodedString) {\n        Matcher matcher = PATTERN.matcher(encodedString);\n        StringBuffer decodedString = new StringBuffer();\n        // Find each escape of the encoded string in succession.\n        while (matcher.find()) {\n            char ch;\n            if (matcher.start(1) &gt;= 0) {\n                // Decode a character escape.\n                ch = DECODED_ESCAPES[Arrays.binarySearch(ENCODED_ESCAPES, matcher.group(1).charAt(0))];\n            } else if (matcher.start(2) &gt;= 0) {\n                // Decode an octal escape.\n                ch = (char)(Integer.parseInt(matcher.group(2), 8));\n            } else /* if (matcher.start(3) &gt;= 0) */ {\n                // Decode a Unicode escape.\n                ch = (char)(Integer.parseInt(matcher.group(3), 16));\n            }\n            // Replace the escape with the decoded character.\n            matcher.appendReplacement(decodedString, Matcher.quoteReplacement(String.valueOf(ch)));\n        }\n        // Append the remainder of the encoded string to the decoded string.\n        // The remainder is the longest suffix of the encoded string such that the suffix contains no escapes.\n        matcher.appendTail(decodedString);\n        return decodedString;\n    }\n\n    public static void main(String... args) {\n        System.out.println(decodeString(args[0]));\n    }\n}\n</code></pre>\n\n<p>I should note that Apache Commons Lang3 doesn't seem to suffer the weaknesses indicated in the accepted solution. That is, <code>StringEscapeUtils</code> seems to handle octal escapes and multiple <code>u</code> characters of Unicode escapes. That means unless you have some burning reason to avoid Apache Commons, you should probably use it rather than my solution (or any other solution here).</p>\n"},{"comments":[{"owner":{"account_id":1529569,"reputation":32719,"user_id":1427124,"accept_rate":91,"display_name":"DaoWen"},"score":1,"creation_date":1380382236,"post_id":14541345,"comment_id":28184672,"body_markdown":"@UdoKlimaschewski - You&#39;re right. You can look [at the source](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/io/StreamTokenizer.java?av=f#644) to see which escapes it actually supports.","body":"@UdoKlimaschewski - You&#39;re right. You can look <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/7-b147/java/io/StreamTokenizer.java?av=f#644\" rel=\"nofollow noreferrer\">at the source</a> to see which escapes it actually supports."}],"tags":[],"owner":{"account_id":1529569,"reputation":32719,"user_id":1427124,"accept_rate":91,"display_name":"DaoWen"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1359232691,"creation_date":1359232691,"answer_id":14541345,"question_id":3537706,"body_markdown":"I know this question was old, but I wanted a solution that doesn&#39;t involve libraries outside those included JRE6 (i.e. Apache Commons is not acceptable), and I came up with a simple solution using the built-in [`java.io.StreamTokenizer`][1]:\r\n\r\n    import java.io.*;\r\n\r\n    // ...\r\n\r\n    String literal = &quot;\\&quot;Has \\\\\\&quot;\\\\\\\\\\\\\\t\\\\\\&quot; &amp; isn\\\\\\&#39;t \\\\\\r\\\\\\n on 1 line.\\&quot;&quot;;\r\n    StreamTokenizer parser = new StreamTokenizer(new StringReader(literal));\r\n    String result;\r\n    try {\r\n      parser.nextToken();\r\n      if (parser.ttype == &#39;&quot;&#39;) {\r\n        result = parser.sval;\r\n      }\r\n      else {\r\n        result = &quot;ERROR!&quot;;\r\n      }\r\n    }\r\n    catch (IOException e) {\r\n      result = e.toString();\r\n    }\r\n    System.out.println(result);\r\n\r\nOutput:\r\n\r\n    Has &quot;\\\t&quot; &amp; isn&#39;t\r\n     on 1 line.\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/io/StreamTokenizer.html","title":"How to unescape a Java string literal in Java?","body":"<p>I know this question was old, but I wanted a solution that doesn't involve libraries outside those included JRE6 (i.e. Apache Commons is not acceptable), and I came up with a simple solution using the built-in <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/StreamTokenizer.html\"><code>java.io.StreamTokenizer</code></a>:</p>\n\n<pre><code>import java.io.*;\n\n// ...\n\nString literal = \"\\\"Has \\\\\\\"\\\\\\\\\\\\\\t\\\\\\\" &amp; isn\\\\\\'t \\\\\\r\\\\\\n on 1 line.\\\"\";\nStreamTokenizer parser = new StreamTokenizer(new StringReader(literal));\nString result;\ntry {\n  parser.nextToken();\n  if (parser.ttype == '\"') {\n    result = parser.sval;\n  }\n  else {\n    result = \"ERROR!\";\n  }\n}\ncatch (IOException e) {\n  result = e.toString();\n}\nSystem.out.println(result);\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Has \"\\  \" &amp; isn't\n on 1 line.\n</code></pre>\n"},{"comments":[{"owner":{"account_id":265633,"reputation":1226,"user_id":552733,"accept_rate":38,"display_name":"Andreas Rudolph"},"score":3,"creation_date":1423751104,"post_id":19067245,"comment_id":45282191,"body_markdown":"For extra caution, make a null check at first, and return null in that case. But thanks!","body":"For extra caution, make a null check at first, and return null in that case. But thanks!"},{"owner":{"account_id":5218040,"reputation":3409,"user_id":4172311,"display_name":"Loyea"},"score":1,"creation_date":1658143880,"post_id":19067245,"comment_id":128969828,"body_markdown":"works good, helping me get rid of apache lib.","body":"works good, helping me get rid of apache lib."}],"tags":[],"owner":{"account_id":1931201,"reputation":5150,"user_id":1740554,"display_name":"Udo Klimaschewski"},"comment_count":2,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1380373280,"creation_date":1380373280,"answer_id":19067245,"question_id":3537706,"body_markdown":"Came across a similar problem, wasn&#39;t also satisfied with the presented solutions and implemented this one myself.\r\n\r\nAlso available as a Gist on [Github](https://gist.github.com/uklimaschewski/6741769):\r\n\r\n    /**\r\n     * Unescapes a string that contains standard Java escape sequences.\r\n     * &lt;ul&gt;\r\n     * &lt;li&gt;&lt;strong&gt;&amp;#92;b &amp;#92;f &amp;#92;n &amp;#92;r &amp;#92;t &amp;#92;&quot; &amp;#92;&#39;&lt;/strong&gt; :\r\n     * BS, FF, NL, CR, TAB, double and single quote.&lt;/li&gt;\r\n     * &lt;li&gt;&lt;strong&gt;&amp;#92;X &amp;#92;XX &amp;#92;XXX&lt;/strong&gt; : Octal character\r\n     * specification (0 - 377, 0x00 - 0xFF).&lt;/li&gt;\r\n     * &lt;li&gt;&lt;strong&gt;&amp;#92;uXXXX&lt;/strong&gt; : Hexadecimal based Unicode character.&lt;/li&gt;\r\n     * &lt;/ul&gt;\r\n     * \r\n     * @param st\r\n     *            A string optionally containing standard java escape sequences.\r\n     * @return The translated string.\r\n     */\r\n    public String unescapeJavaString(String st) {\r\n\r\n        StringBuilder sb = new StringBuilder(st.length());\r\n\r\n        for (int i = 0; i &lt; st.length(); i++) {\r\n            char ch = st.charAt(i);\r\n            if (ch == &#39;\\\\&#39;) {\r\n                char nextChar = (i == st.length() - 1) ? &#39;\\\\&#39; : st\r\n                        .charAt(i + 1);\r\n                // Octal escape?\r\n                if (nextChar &gt;= &#39;0&#39; &amp;&amp; nextChar &lt;= &#39;7&#39;) {\r\n                    String code = &quot;&quot; + nextChar;\r\n                    i++;\r\n                    if ((i &lt; st.length() - 1) &amp;&amp; st.charAt(i + 1) &gt;= &#39;0&#39;\r\n                            &amp;&amp; st.charAt(i + 1) &lt;= &#39;7&#39;) {\r\n                        code += st.charAt(i + 1);\r\n                        i++;\r\n                        if ((i &lt; st.length() - 1) &amp;&amp; st.charAt(i + 1) &gt;= &#39;0&#39;\r\n                                &amp;&amp; st.charAt(i + 1) &lt;= &#39;7&#39;) {\r\n                            code += st.charAt(i + 1);\r\n                            i++;\r\n                        }\r\n                    }\r\n                    sb.append((char) Integer.parseInt(code, 8));\r\n                    continue;\r\n                }\r\n                switch (nextChar) {\r\n                case &#39;\\\\&#39;:\r\n                    ch = &#39;\\\\&#39;;\r\n                    break;\r\n                case &#39;b&#39;:\r\n                    ch = &#39;\\b&#39;;\r\n                    break;\r\n                case &#39;f&#39;:\r\n                    ch = &#39;\\f&#39;;\r\n                    break;\r\n                case &#39;n&#39;:\r\n                    ch = &#39;\\n&#39;;\r\n                    break;\r\n                case &#39;r&#39;:\r\n                    ch = &#39;\\r&#39;;\r\n                    break;\r\n                case &#39;t&#39;:\r\n                    ch = &#39;\\t&#39;;\r\n                    break;\r\n                case &#39;\\&quot;&#39;:\r\n                    ch = &#39;\\&quot;&#39;;\r\n                    break;\r\n                case &#39;\\&#39;&#39;:\r\n                    ch = &#39;\\&#39;&#39;;\r\n                    break;\r\n                // Hex Unicode: u????\r\n                case &#39;u&#39;:\r\n                    if (i &gt;= st.length() - 5) {\r\n                        ch = &#39;u&#39;;\r\n                        break;\r\n                    }\r\n                    int code = Integer.parseInt(\r\n                            &quot;&quot; + st.charAt(i + 2) + st.charAt(i + 3)\r\n                                    + st.charAt(i + 4) + st.charAt(i + 5), 16);\r\n                    sb.append(Character.toChars(code));\r\n                    i += 5;\r\n                    continue;\r\n                }\r\n                i++;\r\n            }\r\n            sb.append(ch);\r\n        }\r\n        return sb.toString();\r\n    }\r\n","title":"How to unescape a Java string literal in Java?","body":"<p>Came across a similar problem, wasn't also satisfied with the presented solutions and implemented this one myself.</p>\n\n<p>Also available as a Gist on <a href=\"https://gist.github.com/uklimaschewski/6741769\">Github</a>:</p>\n\n<pre><code>/**\n * Unescapes a string that contains standard Java escape sequences.\n * &lt;ul&gt;\n * &lt;li&gt;&lt;strong&gt;&amp;#92;b &amp;#92;f &amp;#92;n &amp;#92;r &amp;#92;t &amp;#92;\" &amp;#92;'&lt;/strong&gt; :\n * BS, FF, NL, CR, TAB, double and single quote.&lt;/li&gt;\n * &lt;li&gt;&lt;strong&gt;&amp;#92;X &amp;#92;XX &amp;#92;XXX&lt;/strong&gt; : Octal character\n * specification (0 - 377, 0x00 - 0xFF).&lt;/li&gt;\n * &lt;li&gt;&lt;strong&gt;&amp;#92;uXXXX&lt;/strong&gt; : Hexadecimal based Unicode character.&lt;/li&gt;\n * &lt;/ul&gt;\n * \n * @param st\n *            A string optionally containing standard java escape sequences.\n * @return The translated string.\n */\npublic String unescapeJavaString(String st) {\n\n    StringBuilder sb = new StringBuilder(st.length());\n\n    for (int i = 0; i &lt; st.length(); i++) {\n        char ch = st.charAt(i);\n        if (ch == '\\\\') {\n            char nextChar = (i == st.length() - 1) ? '\\\\' : st\n                    .charAt(i + 1);\n            // Octal escape?\n            if (nextChar &gt;= '0' &amp;&amp; nextChar &lt;= '7') {\n                String code = \"\" + nextChar;\n                i++;\n                if ((i &lt; st.length() - 1) &amp;&amp; st.charAt(i + 1) &gt;= '0'\n                        &amp;&amp; st.charAt(i + 1) &lt;= '7') {\n                    code += st.charAt(i + 1);\n                    i++;\n                    if ((i &lt; st.length() - 1) &amp;&amp; st.charAt(i + 1) &gt;= '0'\n                            &amp;&amp; st.charAt(i + 1) &lt;= '7') {\n                        code += st.charAt(i + 1);\n                        i++;\n                    }\n                }\n                sb.append((char) Integer.parseInt(code, 8));\n                continue;\n            }\n            switch (nextChar) {\n            case '\\\\':\n                ch = '\\\\';\n                break;\n            case 'b':\n                ch = '\\b';\n                break;\n            case 'f':\n                ch = '\\f';\n                break;\n            case 'n':\n                ch = '\\n';\n                break;\n            case 'r':\n                ch = '\\r';\n                break;\n            case 't':\n                ch = '\\t';\n                break;\n            case '\\\"':\n                ch = '\\\"';\n                break;\n            case '\\'':\n                ch = '\\'';\n                break;\n            // Hex Unicode: u????\n            case 'u':\n                if (i &gt;= st.length() - 5) {\n                    ch = 'u';\n                    break;\n                }\n                int code = Integer.parseInt(\n                        \"\" + st.charAt(i + 2) + st.charAt(i + 3)\n                                + st.charAt(i + 4) + st.charAt(i + 5), 16);\n                sb.append(Character.toChars(code));\n                i += 5;\n                continue;\n            }\n            i++;\n        }\n        sb.append(ch);\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"score":0,"creation_date":1554822230,"post_id":48457166,"comment_id":97888303,"body_markdown":"It deals only with ` [\\b, \\t, \\n, \\f, \\r, \\\\, \\&quot;, \\&#39;]`, it cannot cope with unicode escapes.","body":"It deals only with ` [\\b, \\t, \\n, \\f, \\r, \\\\, \\&quot;, \\&#39;]`, it cannot cope with unicode escapes."}],"tags":[],"owner":{"account_id":120330,"reputation":6673,"user_id":312708,"accept_rate":74,"display_name":"Tvaroh"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1516951351,"creation_date":1516951351,"answer_id":48457166,"question_id":3537706,"body_markdown":"For the record, if you use Scala, you can do:\r\n\r\n    StringContext.treatEscapes(escaped)","title":"How to unescape a Java string literal in Java?","body":"<p>For the record, if you use Scala, you can do:</p>\n\n<pre><code>StringContext.treatEscapes(escaped)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1911363,"reputation":7397,"user_id":1725096,"accept_rate":85,"display_name":"Jens Piegsa"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1529049379,"creation_date":1529049379,"answer_id":50871341,"question_id":3537706,"body_markdown":"`org.apache.commons.lang3.StringEscapeUtils` from commons-lang3 is marked deprecated now. You can use [`org.apache.commons.text.StringEscapeUtils#unescapeJava(String)`](https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringEscapeUtils.html#unescapeJava-java.lang.String-) instead. It requires an additional [Maven dependency](https://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.apache.commons%22%20AND%20a%3A%22commons-text%22):\r\n\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;commons-text&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t\t\t&lt;/dependency&gt;\r\n\r\nand seems to handle some more special cases, it e.g. unescapes:\r\n\r\n* escaped backslashes, single and double quotes\r\n* escaped octal and unicode values\r\n* `\\\\b`, `\\\\n`, `\\\\t`, `\\\\f`, `\\\\r`\r\n","title":"How to unescape a Java string literal in Java?","body":"<p><code>org.apache.commons.lang3.StringEscapeUtils</code> from commons-lang3 is marked deprecated now. You can use <a href=\"https://commons.apache.org/proper/commons-text/apidocs/org/apache/commons/text/StringEscapeUtils.html#unescapeJava-java.lang.String-\" rel=\"noreferrer\"><code>org.apache.commons.text.StringEscapeUtils#unescapeJava(String)</code></a> instead. It requires an additional <a href=\"https://search.maven.org/#search%7Cga%7C1%7Cg%3A%22org.apache.commons%22%20AND%20a%3A%22commons-text%22\" rel=\"noreferrer\">Maven dependency</a>:</p>\n\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-text&lt;/artifactId&gt;\n            &lt;version&gt;1.4&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>and seems to handle some more special cases, it e.g. unescapes:</p>\n\n<ul>\n<li>escaped backslashes, single and double quotes</li>\n<li>escaped octal and unicode values</li>\n<li><code>\\\\b</code>, <code>\\\\n</code>, <code>\\\\t</code>, <code>\\\\f</code>, <code>\\\\r</code></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1002291,"reputation":2383,"user_id":1016891,"accept_rate":100,"display_name":"tom_mai78101"},"score":0,"creation_date":1607630253,"post_id":61946924,"comment_id":115340374,"body_markdown":"Nooo, but at least it will appear in Java 17 LTS.","body":"Nooo, but at least it will appear in Java 17 LTS."}],"tags":[],"owner":{"account_id":3835277,"reputation":15077,"user_id":3179759,"display_name":"Alex - GlassEditor.com"},"comment_count":1,"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1669065542,"creation_date":1590114872,"answer_id":61946924,"question_id":3537706,"body_markdown":"# `String#translateEscapes`\r\n\r\nModern Java offers the method [`String#translateEscapes`][1].\r\n\r\nThis feature arrived in [Java 15][2], after a preview in Java 13 and 14.\r\n\r\nThis feature un-escapes:\r\n\r\n - Single-letter combinations, such as `\\t` for Tab and `\\r` for Carriage Return.\r\n - Octal numbers `\\0` through `\\377` as a [code point][3] equivalent \r\n\r\nThis method does *not* translate Unicode escapes such as &quot;\\u2022&quot; for the [BULLET][4] character (`•`).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#translateEscapes()\r\n  [2]: https://en.wikipedia.org/wiki/Java_version_history#Java_15\r\n  [3]: https://en.wikipedia.org/wiki/Code_point\r\n  [4]: https://www.fileformat.info/info/unicode/char/2022/index.htm","title":"How to unescape a Java string literal in Java?","body":"<h1><code>String#translateEscapes</code></h1>\n<p>Modern Java offers the method <a href=\"https://docs.oracle.com/en/java/javase/15/docs/api/java.base/java/lang/String.html#translateEscapes()\" rel=\"nofollow noreferrer\"><code>String#translateEscapes</code></a>.</p>\n<p>This feature arrived in <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_15\" rel=\"nofollow noreferrer\">Java 15</a>, after a preview in Java 13 and 14.</p>\n<p>This feature un-escapes:</p>\n<ul>\n<li>Single-letter combinations, such as <code>\\t</code> for Tab and <code>\\r</code> for Carriage Return.</li>\n<li>Octal numbers <code>\\0</code> through <code>\\377</code> as a <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> equivalent</li>\n</ul>\n<p>This method does <em>not</em> translate Unicode escapes such as &quot;\\u2022&quot; for the <a href=\"https://www.fileformat.info/info/unicode/char/2022/index.htm\" rel=\"nofollow noreferrer\">BULLET</a> character (<code>•</code>).</p>\n"}],"owner":{"account_id":38019,"reputation":28490,"user_id":108915,"accept_rate":73,"display_name":"ziggystar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":194677,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"accepted_answer_id":61946924,"answer_count":11,"score":89,"last_activity_date":1669065542,"creation_date":1282395392,"question_id":3537706,"body_markdown":"I&#39;m processing some Java source code using Java. I&#39;m extracting the string literals and feeding them to a function taking a String. The problem is that I need to pass the unescaped version of the String to the function (i.e. this means converting `\\n` to a newline, and `\\\\` to a single `\\`, etc).\r\n\r\nIs there a function inside the Java API that does this? If not, can I obtain such functionality from some library? Obviously the Java compiler has to do this conversion.","title":"How to unescape a Java string literal in Java?","body":"<p>I'm processing some Java source code using Java. I'm extracting the string literals and feeding them to a function taking a String. The problem is that I need to pass the unescaped version of the String to the function (i.e. this means converting <code>\\n</code> to a newline, and <code>\\\\</code> to a single <code>\\</code>, etc).</p>\n<p>Is there a function inside the Java API that does this? If not, can I obtain such functionality from some library? Obviously the Java compiler has to do this conversion.</p>\n"},{"tags":["java","oracle","spring-boot","docker","integration-testing"],"answers":[{"comments":[{"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"score":0,"creation_date":1669065439,"post_id":74524796,"comment_id":131554341,"body_markdown":"I have added more details, test does not start correctly","body":"I have added more details, test does not start correctly"},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":0,"creation_date":1669065865,"post_id":74524796,"comment_id":131554448,"body_markdown":"I see, it looks like your application.properties are not resolved, the most straightforward way to use testcontainers with spring boot is shown here: https://www.baeldung.com/spring-boot-testcontainers-integration-test  Have you tried this approach?","body":"I see, it looks like your application.properties are not resolved, the most straightforward way to use testcontainers with spring boot is shown here: <a href=\"https://www.baeldung.com/spring-boot-testcontainers-integration-test\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-testcontainers-integration-test</a>  Have you tried this approach?"}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669064175,"creation_date":1669064175,"answer_id":74524796,"question_id":74524576,"body_markdown":"If you already have docker image then consider using [TestContainers][1] project\r\n\r\nIt offers exactly what you need: provides Java API for interacting with docker server.\r\n\r\nYou can integrate it into various testing frameworks (TestNG, JUnit and what not) as a Rule. See [Here][2] and example for JUnit 5. \r\n\r\nIf you use Spring Boot for integration testing it might make sense to provide additional integration so that the DataSource loaded by spring or say, JPA tests) will use the connection to this database. \r\n\r\nThis mechanism is great for tests of various database not necessarily Relation DB, stuff like mongo, redis, etc. will also work great with this project as long as you have a docker image to run with.\r\n\r\n\r\n  [1]: https://www.testcontainers.org/\r\n  [2]: https://www.testcontainers.org/test_framework_integration/junit_5/","title":"Integration tests by running the docker database image","body":"<p>If you already have docker image then consider using <a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">TestContainers</a> project</p>\n<p>It offers exactly what you need: provides Java API for interacting with docker server.</p>\n<p>You can integrate it into various testing frameworks (TestNG, JUnit and what not) as a Rule. See <a href=\"https://www.testcontainers.org/test_framework_integration/junit_5/\" rel=\"nofollow noreferrer\">Here</a> and example for JUnit 5.</p>\n<p>If you use Spring Boot for integration testing it might make sense to provide additional integration so that the DataSource loaded by spring or say, JPA tests) will use the connection to this database.</p>\n<p>This mechanism is great for tests of various database not necessarily Relation DB, stuff like mongo, redis, etc. will also work great with this project as long as you have a docker image to run with.</p>\n"}],"owner":{"account_id":2852205,"reputation":891,"user_id":2449161,"accept_rate":80,"display_name":"2dor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669065411,"creation_date":1669062752,"question_id":74524576,"body_markdown":"I have a test database offered as a Docker image and I would like to write integration tests that hit only that test database. I don&#39;t know how to setup this, I would like for this to run on the Jenkins machine as well (the docker image should start automatically). \r\nI have tried with TestContainers, fabric.io but I am unable to get a successfull connection to the container. \r\nCan somebody help me?\r\n\r\n````\r\n\r\npublic class MyContainer extends OracleContainer {\r\n\r\n    private static       MyContainer container;\r\n\r\n\r\n    public MyContainer (DockerImageName myImage) {\r\n        super(myImage);\r\n    }\r\n\r\n    public static MyContainer getInstance() {\r\n        if (container == null) {\r\n            DockerImageName myImage = DockerImageName.parse(&quot;docker-image-name&quot;)\r\n                .asCompatibleSubstituteFor(&quot;gvenzl/oracle-xe&quot;);\r\n            container = new MyContainer (myImage);\r\n        }\r\n        return container;\r\n    }\r\n\r\n    @Override\r\n    public void start() {\r\n        super.start();\r\n        System.setProperty(&quot;DB_URL&quot;, container.getJdbcUrl());\r\n        System.setProperty(&quot;DB_USERNAME&quot;, container.getUsername());\r\n        System.setProperty(&quot;DB_PASSWORD&quot;, container.getPassword());\r\n    }\r\n\r\n    @Override\r\n    public void stop() {\r\n        //do nothing, JVM handles shut down\r\n    }\r\n\r\n}\r\n````\r\n\r\napplication.properties\r\n````\r\nspring.datasource.url=${DB_URL}\r\nspring.datasource.username=${DB_USERNAME}\r\nspring.datasource.password=${DB_PASSWORD}\r\n````\r\n\r\n\r\nTest\r\n````\r\n@SpringBootTest\r\npublic class DockerConnectionIT {\r\n\r\n    @ClassRule\r\n    public static OracleContainer oracleContainer = BaeldungPostgresqlContainer.getInstance();\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    @Test\r\n    void doSomething() {\r\n        System.out.println(&quot;&quot;);\r\n    }\r\n\r\n}\r\n\r\n````\r\n\r\nUnfortunately test does not start I get exception: \r\n\r\n````\r\nError creating bean with name &#39;dataSourceScriptDatabaseInitializer&#39; defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method &#39;dataSourceScriptDatabaseInitializer&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalArgumentException: URL must start with &#39;jdbc&#39;\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\r\n\tat\r\n\r\n````","title":"Integration tests by running the docker database image","body":"<p>I have a test database offered as a Docker image and I would like to write integration tests that hit only that test database. I don't know how to setup this, I would like for this to run on the Jenkins machine as well (the docker image should start automatically).\nI have tried with TestContainers, fabric.io but I am unable to get a successfull connection to the container.\nCan somebody help me?</p>\n<pre><code>\npublic class MyContainer extends OracleContainer {\n\n    private static       MyContainer container;\n\n\n    public MyContainer (DockerImageName myImage) {\n        super(myImage);\n    }\n\n    public static MyContainer getInstance() {\n        if (container == null) {\n            DockerImageName myImage = DockerImageName.parse(&quot;docker-image-name&quot;)\n                .asCompatibleSubstituteFor(&quot;gvenzl/oracle-xe&quot;);\n            container = new MyContainer (myImage);\n        }\n        return container;\n    }\n\n    @Override\n    public void start() {\n        super.start();\n        System.setProperty(&quot;DB_URL&quot;, container.getJdbcUrl());\n        System.setProperty(&quot;DB_USERNAME&quot;, container.getUsername());\n        System.setProperty(&quot;DB_PASSWORD&quot;, container.getPassword());\n    }\n\n    @Override\n    public void stop() {\n        //do nothing, JVM handles shut down\n    }\n\n}\n</code></pre>\n<p>application.properties</p>\n<pre><code>spring.datasource.url=${DB_URL}\nspring.datasource.username=${DB_USERNAME}\nspring.datasource.password=${DB_PASSWORD}\n</code></pre>\n<p>Test</p>\n<pre><code>@SpringBootTest\npublic class DockerConnectionIT {\n\n    @ClassRule\n    public static OracleContainer oracleContainer = BaeldungPostgresqlContainer.getInstance();\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Test\n    void doSomething() {\n        System.out.println(&quot;&quot;);\n    }\n\n}\n\n</code></pre>\n<p>Unfortunately test does not start I get exception:</p>\n<pre><code>Error creating bean with name 'dataSourceScriptDatabaseInitializer' defined in class path resource [org/springframework/boot/autoconfigure/sql/init/DataSourceInitializationConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourceScriptDatabaseInitializer' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalArgumentException: URL must start with 'jdbc'\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:800)\n    at\n\n</code></pre>\n"},{"tags":["java","list","java-8","java-stream"],"answers":[{"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":2,"creation_date":1668991306,"post_id":74513102,"comment_id":131533972,"body_markdown":"Looks like homework.  I already flagged it,   See https://stackoverflow.com/q/74511911/1552534","body":"Looks like homework.  I already flagged it,   See <a href=\"https://stackoverflow.com/q/74511911/1552534\">stackoverflow.com/q/74511911/1552534</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1668994168,"post_id":74513102,"comment_id":131534314,"body_markdown":"@BrettRyan Thank you for your response but I have to get a list containing dto not map. By the way, this link is not working.","body":"@BrettRyan Thank you for your response but I have to get a list containing dto not map. By the way, this link is not working."},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":1,"creation_date":1669020202,"post_id":74513102,"comment_id":131539012,"body_markdown":"I have validated both links to be accurate. It should be trivial to map the `entrySet()` to a `DTO` domain class and then collect this. If this is indeed homework, you could at least solve for that part on your own. It should not matter what domain objects used to get to a given result, but the approach to get there.","body":"I have validated both links to be accurate. It should be trivial to map the <code>entrySet()</code> to a <code>DTO</code> domain class and then collect this. If this is indeed homework, you could at least solve for that part on your own. It should not matter what domain objects used to get to a given result, but the approach to get there."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669032985,"post_id":74513102,"comment_id":131543310,"body_markdown":"@BrettRyan I edited my post with sharing my code. I still couldn&#39;t fix it.","body":"@BrettRyan I edited my post with sharing my code. I still couldn&#39;t fix it."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669040718,"post_id":74513102,"comment_id":131546184,"body_markdown":"@BrettRyan I created a id for distinct person and I cannot get the right result. What should I do to store ids as set which it&#39;s coming in my mind.","body":"@BrettRyan I created a id for distinct person and I cannot get the right result. What should I do to store ids as set which it&#39;s coming in my mind."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669053386,"post_id":74513102,"comment_id":131550838,"body_markdown":"@BrettRyan You defined value as int in Person but it should be Object as other status statments&#39; values are string.","body":"@BrettRyan You defined value as int in Person but it should be Object as other status statments&#39; values are string."},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1669060682,"post_id":74513102,"comment_id":131553039,"body_markdown":"@BrettRyan There is a problem in personId and I cannot get the right result of total persons. How can I do that?","body":"@BrettRyan There is a problem in personId and I cannot get the right result of total persons. How can I do that?"},{"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"score":0,"creation_date":1669083646,"post_id":74513102,"comment_id":131557746,"body_markdown":"I&#39;ve provided clear instruction on how to get to the desired outcome you are looking for, implementation details to arrive at the outcome are irrelevant and you should be able to use these tools to arrive at your result. I mentioned I used `int` to make the example simpler, I do not know what you&#39;re storing in this, but you&#39;re trying to sum it, you know better than I what type conversion you should be using for it.","body":"I&#39;ve provided clear instruction on how to get to the desired outcome you are looking for, implementation details to arrive at the outcome are irrelevant and you should be able to use these tools to arrive at your result. I mentioned I used <code>int</code> to make the example simpler, I do not know what you&#39;re storing in this, but you&#39;re trying to sum it, you know better than I what type conversion you should be using for it."}],"tags":[],"owner":{"account_id":47296,"reputation":27247,"user_id":140037,"accept_rate":74,"display_name":"Brett Ryan"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669025795,"creation_date":1668990700,"answer_id":74513102,"question_id":74512927,"body_markdown":"Create a statistics class that models your results. I&#39;m going to use [Java records introduced in JDK 14][1] to make the examples concise.\r\n\r\nFirst we introduce your model class for Person and your enum. Note that I&#39;ve changed the `value` to an int type to make the example simpler.\r\n\r\n```java\r\nenum Statement {\r\n    STATUS1, STATUS2, STATUS3\r\n}\r\nrecord Person(String id,\r\n              Statement event,\r\n              LocalDate eventDate,\r\n              int value) {}\r\n```\r\n\r\nWe will now create a `PersonGroupMetric` that you will use to capture the metrics that you require, it will take a Person as a constructor to allow for easy mapping and has an `add` method that we will use as a combiner later when we provide the implementation for collecting your stream.\r\n\r\n```java\r\nrecord PersonGroupMetric(int count, int sum) {\r\n\r\n    public static final PersonGroupMetric EMPTY = new PersonGroupMetric(0, 0);\r\n\r\n    public PersonGroupMetric(Person p) {\r\n        this(1, p.value());\r\n    }\r\n\r\n    public PersonGroupMetric add(PersonGroupMetric other) {\r\n        return new PersonGroupMetric(\r\n            this.count + other.count,\r\n            this.sum + other.sum\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nGiven your initial dataset:\r\n\r\n```java\r\nvar src = List.of(\r\n    new Person(&quot;per1&quot;, Statement.STATUS1, LocalDate.of(2022, 01, 10), 1),\r\n    new Person(&quot;per2&quot;, Statement.STATUS2, LocalDate.of(2022, 01, 10), 2),\r\n    new Person(&quot;per3&quot;, Statement.STATUS3, LocalDate.of(2022, 01, 10), 3),\r\n    new Person(&quot;per1&quot;, Statement.STATUS1, LocalDate.of(2022, 02, 10), 1),\r\n    new Person(&quot;per2&quot;, Statement.STATUS1, LocalDate.of(2022, 03, 10), 1),\r\n    new Person(&quot;per3&quot;, Statement.STATUS2, LocalDate.of(2022, 03, 10), 2)\r\n);\r\n```\r\n\r\nWe can now use a [groupingBy][2] collector that uses a reducer built from your metric model class:\r\n\r\n```java\r\nMap&lt;Integer, PersonGroupMetric&gt; res = src.stream()\r\n    .collect(groupingBy(\r\n        p -&gt; p.eventDate().getMonthValue(),\r\n        reducing(\r\n            PersonGroupMetric.EMPTY,\r\n            PersonGroupMetric::new,\r\n            PersonGroupMetric::add\r\n        )\r\n    ));\r\n```\r\n\r\nThis now contains a map that groups by the month with the value containing your metric class.\r\n\r\nYou can now map this to your domain object `DTO` from the maps `entrySet()`:\r\n\r\n```java\r\nvar fin = res.entrySet().stream()\r\n    .map(n -&gt; new DTO(\r\n        n.getKey(),\r\n        n.getValue().sum(),\r\n        n.getValue().count()\r\n    ))\r\n    .collect(toList());\r\n```\r\n\r\nImports required:\r\n\r\n```java\r\nimport java.time.LocalDate;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\nimport static java.util.stream.Collectors.groupingBy;\r\nimport static java.util.stream.Collectors.reducing;\r\nimport static java.util.stream.Collectors.toList;\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/14/language/records.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function)","title":"Java Stream Issue of calculating count, sum of one value and multiple group by conditions","body":"<p>Create a statistics class that models your results. I'm going to use <a href=\"https://docs.oracle.com/en/java/javase/14/language/records.html\" rel=\"nofollow noreferrer\">Java records introduced in JDK 14</a> to make the examples concise.</p>\n<p>First we introduce your model class for Person and your enum. Note that I've changed the <code>value</code> to an int type to make the example simpler.</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum Statement {\n    STATUS1, STATUS2, STATUS3\n}\nrecord Person(String id,\n              Statement event,\n              LocalDate eventDate,\n              int value) {}\n</code></pre>\n<p>We will now create a <code>PersonGroupMetric</code> that you will use to capture the metrics that you require, it will take a Person as a constructor to allow for easy mapping and has an <code>add</code> method that we will use as a combiner later when we provide the implementation for collecting your stream.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record PersonGroupMetric(int count, int sum) {\n\n    public static final PersonGroupMetric EMPTY = new PersonGroupMetric(0, 0);\n\n    public PersonGroupMetric(Person p) {\n        this(1, p.value());\n    }\n\n    public PersonGroupMetric add(PersonGroupMetric other) {\n        return new PersonGroupMetric(\n            this.count + other.count,\n            this.sum + other.sum\n        );\n    }\n}\n</code></pre>\n<p>Given your initial dataset:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var src = List.of(\n    new Person(&quot;per1&quot;, Statement.STATUS1, LocalDate.of(2022, 01, 10), 1),\n    new Person(&quot;per2&quot;, Statement.STATUS2, LocalDate.of(2022, 01, 10), 2),\n    new Person(&quot;per3&quot;, Statement.STATUS3, LocalDate.of(2022, 01, 10), 3),\n    new Person(&quot;per1&quot;, Statement.STATUS1, LocalDate.of(2022, 02, 10), 1),\n    new Person(&quot;per2&quot;, Statement.STATUS1, LocalDate.of(2022, 03, 10), 1),\n    new Person(&quot;per3&quot;, Statement.STATUS2, LocalDate.of(2022, 03, 10), 2)\n);\n</code></pre>\n<p>We can now use a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/stream/Collectors.html#groupingBy(java.util.function.Function)\" rel=\"nofollow noreferrer\">groupingBy</a> collector that uses a reducer built from your metric model class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Integer, PersonGroupMetric&gt; res = src.stream()\n    .collect(groupingBy(\n        p -&gt; p.eventDate().getMonthValue(),\n        reducing(\n            PersonGroupMetric.EMPTY,\n            PersonGroupMetric::new,\n            PersonGroupMetric::add\n        )\n    ));\n</code></pre>\n<p>This now contains a map that groups by the month with the value containing your metric class.</p>\n<p>You can now map this to your domain object <code>DTO</code> from the maps <code>entrySet()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var fin = res.entrySet().stream()\n    .map(n -&gt; new DTO(\n        n.getKey(),\n        n.getValue().sum(),\n        n.getValue().count()\n    ))\n    .collect(toList());\n</code></pre>\n<p>Imports required:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.time.LocalDate;\nimport java.util.List;\nimport java.util.Map;\n\nimport static java.util.stream.Collectors.groupingBy;\nimport static java.util.stream.Collectors.reducing;\nimport static java.util.stream.Collectors.toList;\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":731,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669065097,"creation_date":1668988171,"question_id":74512927,"body_markdown":"I have a problem about writing a java stream by filtering multiple conditions , groupby multiple condition (if possible) and calculating the sum value\r\n\r\nI store the values as `Map&lt;String(pId),List&lt;Person&gt;&gt;`\r\n\r\n\r\nHere is my Person class shown below\r\n\r\n    public class Person{\r\n    \r\n        private String id;\r\n        private Statement event; // STATUS1,STATUS2\r\n        private LocalDate eventDate;\r\n        private Object value;\r\n    }\r\n\r\nHere is the list \r\n\r\n    ID,Info,Date,Value (All values are stored in Person object defined in the List)\r\n    \r\n    per1, STATUS1,  10-01-2022, 1\r\n    per2, STATUS2, 10-01-2022, 2\r\n    per3, STATUS3, 10-01-2022, 3\r\n    per1, STATUS4, 10-01-2022, 1  \r\n    per1 STATUS1, 10-02-2022, 1\r\n    per2, STATUS1, 10-03-2022, 1\r\n    per3, STATUS2, 10-03-2022, 2\r\n    ...\r\n    ...\r\n\r\nWhat I want to do is to get this result.\r\n\r\n    Month |  Total Sum | Person Count\r\n    1        7          3\r\n    2        1          1\r\n    3        3          2\r\n\r\nHere is group dto shown below \r\n\r\n    public class GroupDto {\r\n            private int month;\r\n            private String id;\r\n    }\r\n\r\nHere is my dto shown below.\r\n\r\n\r\n    public class DTO {\r\n        private int month;\r\n        private BigDecimal totalSum; \r\n        private int totalPersons;  \r\n    }\r\n\r\nHere is the code snippet but I cannot handle with it.\r\n\r\n    List&lt;Dto&gt; group = employees.values().stream()\r\n                    .flatMap(List::stream)\r\n                    .filter(emp -&gt; emp.getEvent() == Value.STATUS1 || emp.getEvent() == Value.STATUS2 \r\n                            || emp.getEvent() == Value.STATUS3 || emp.getEvent() == Value.STATUS4)\r\n                    .map(emp -&gt; new Dto(emp.getEventDate().getMonthValue(), new BigDecimal(emp.getValue().toString()), 1))\r\n                    .collect(Collectors.toList());\r\n    \r\n            List&lt;Dto&gt; result = new ArrayList&lt;&gt;(group.stream()\r\n                    .collect(Collectors.toMap(\r\n                            dto -&gt; Arrays.asList(dto.getMonth()), Function.identity(), Dto::aggregate))\r\n                    .values()).stream().sorted(Comparator.comparing(Dto::getMonth))\r\n                    .collect(Collectors.toList());\r\n    \r\n    public static Dto aggregate(Dto initial, Dto next) {\r\n            initial.setTotalSalary(initial.getTotalSalary().add(next.getTotalSalary()));\r\n            initial.setTotalEmployees(initial.getTotalEmployees() + next.getTotalEmployees());\r\n            return initial;\r\n        }\r\n\r\n    result.forEach(System.out::println);\r\n\r\nHere is the same result\r\n\r\n    Dto{month=1, totalSalary=7, totalPersons=4}\r\n    Dto{month=2, totalSalary=1, totalPersons=1}\r\n    Dto{month=3, totalSalary=3, totalPersons=2}\r\n\r\nNormally, total persons in month 1 is 3 but it counts 4 with respect to status.\r\n\r\nMy Issue : I cannot count the person, It counts by status. How can I do that?\r\n","title":"Java Stream Issue of calculating count, sum of one value and multiple group by conditions","body":"<p>I have a problem about writing a java stream by filtering multiple conditions , groupby multiple condition (if possible) and calculating the sum value</p>\n<p>I store the values as <code>Map&lt;String(pId),List&lt;Person&gt;&gt;</code></p>\n<p>Here is my Person class shown below</p>\n<pre><code>public class Person{\n\n    private String id;\n    private Statement event; // STATUS1,STATUS2\n    private LocalDate eventDate;\n    private Object value;\n}\n</code></pre>\n<p>Here is the list</p>\n<pre><code>ID,Info,Date,Value (All values are stored in Person object defined in the List)\n\nper1, STATUS1,  10-01-2022, 1\nper2, STATUS2, 10-01-2022, 2\nper3, STATUS3, 10-01-2022, 3\nper1, STATUS4, 10-01-2022, 1  \nper1 STATUS1, 10-02-2022, 1\nper2, STATUS1, 10-03-2022, 1\nper3, STATUS2, 10-03-2022, 2\n...\n...\n</code></pre>\n<p>What I want to do is to get this result.</p>\n<pre><code>Month |  Total Sum | Person Count\n1        7          3\n2        1          1\n3        3          2\n</code></pre>\n<p>Here is group dto shown below</p>\n<pre><code>public class GroupDto {\n        private int month;\n        private String id;\n}\n</code></pre>\n<p>Here is my dto shown below.</p>\n<pre><code>public class DTO {\n    private int month;\n    private BigDecimal totalSum; \n    private int totalPersons;  \n}\n</code></pre>\n<p>Here is the code snippet but I cannot handle with it.</p>\n<pre><code>List&lt;Dto&gt; group = employees.values().stream()\n                .flatMap(List::stream)\n                .filter(emp -&gt; emp.getEvent() == Value.STATUS1 || emp.getEvent() == Value.STATUS2 \n                        || emp.getEvent() == Value.STATUS3 || emp.getEvent() == Value.STATUS4)\n                .map(emp -&gt; new Dto(emp.getEventDate().getMonthValue(), new BigDecimal(emp.getValue().toString()), 1))\n                .collect(Collectors.toList());\n\n        List&lt;Dto&gt; result = new ArrayList&lt;&gt;(group.stream()\n                .collect(Collectors.toMap(\n                        dto -&gt; Arrays.asList(dto.getMonth()), Function.identity(), Dto::aggregate))\n                .values()).stream().sorted(Comparator.comparing(Dto::getMonth))\n                .collect(Collectors.toList());\n\npublic static Dto aggregate(Dto initial, Dto next) {\n        initial.setTotalSalary(initial.getTotalSalary().add(next.getTotalSalary()));\n        initial.setTotalEmployees(initial.getTotalEmployees() + next.getTotalEmployees());\n        return initial;\n    }\n\nresult.forEach(System.out::println);\n</code></pre>\n<p>Here is the same result</p>\n<pre><code>Dto{month=1, totalSalary=7, totalPersons=4}\nDto{month=2, totalSalary=1, totalPersons=1}\nDto{month=3, totalSalary=3, totalPersons=2}\n</code></pre>\n<p>Normally, total persons in month 1 is 3 but it counts 4 with respect to status.</p>\n<p>My Issue : I cannot count the person, It counts by status. How can I do that?</p>\n"},{"tags":["java","android","facebook"],"answers":[{"comments":[{"owner":{"account_id":7465996,"reputation":1866,"user_id":5675550,"accept_rate":77,"display_name":"viper"},"score":0,"creation_date":1562748461,"post_id":55805330,"comment_id":100470543,"body_markdown":"What solution worked? I mean did you remove any facebook permissions ? or updated sdk version","body":"What solution worked? I mean did you remove any facebook permissions ? or updated sdk version"},{"owner":{"account_id":6788404,"reputation":284,"user_id":5226298,"accept_rate":93,"display_name":"Jen Sze"},"score":0,"creation_date":1563156025,"post_id":55805330,"comment_id":100593850,"body_markdown":"We only have the facebook default permissions.  If you want other facebook permission, you need to do the facebook app review where you need to tell them why you need those permission.  Previously we are only using JS sdk as we are using the web view in mobile, but we changed to using iOS/Android sdk for this as required by Facebook.  After Facebook verified that our app is using the correct login they removed the restriction completely and now we can use the login. You can always write in to Facebook and ask for extension.","body":"We only have the facebook default permissions.  If you want other facebook permission, you need to do the facebook app review where you need to tell them why you need those permission.  Previously we are only using JS sdk as we are using the web view in mobile, but we changed to using iOS/Android sdk for this as required by Facebook.  After Facebook verified that our app is using the correct login they removed the restriction completely and now we can use the login. You can always write in to Facebook and ask for extension."}],"tags":[],"owner":{"account_id":6788404,"reputation":284,"user_id":5226298,"accept_rate":93,"display_name":"Jen Sze"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1669065096,"creation_date":1556000149,"answer_id":55805330,"question_id":54881205,"body_markdown":"We have encountered this same issue before. In our case, it turned out that the Facebook restricted our app due to violating their platform policies. We appealed to Facebook by telling them we are working on making our app to be compliant with their policies. Then they responded to us and removed the restriction temporarily to give us the time to do our testing. After they removed the restriction, we no longer encounter this error message. ","title":"Login Failed you cant use facebook to log into this app","body":"<p>We have encountered this same issue before. In our case, it turned out that the Facebook restricted our app due to violating their platform policies. We appealed to Facebook by telling them we are working on making our app to be compliant with their policies. Then they responded to us and removed the restriction temporarily to give us the time to do our testing. After they removed the restriction, we no longer encounter this error message.</p>\n"}],"owner":{"account_id":15411461,"reputation":197,"user_id":11118069,"display_name":"hd92"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":27769,"favorite_count":0,"down_vote_count":2,"up_vote_count":20,"answer_count":1,"score":18,"last_activity_date":1669065096,"creation_date":1551169685,"question_id":54881205,"body_markdown":"I get &quot;Login Failed Error&quot; with the Facebook Android SDK while running on the device. I have done everything what they specified, like creating a hash and all.\r\n\r\nThe error is:\r\n\r\n&gt; Login Failed you cant use facebook to log into this app or website\r\n&gt; because there&#39;s an issue with its implementation of facebook login\r\n\r\n","title":"Login Failed you cant use facebook to log into this app","body":"<p>I get \"Login Failed Error\" with the Facebook Android SDK while running on the device. I have done everything what they specified, like creating a hash and all.</p>\n\n<p>The error is:</p>\n\n<blockquote>\n  <p>Login Failed you cant use facebook to log into this app or website\n  because there's an issue with its implementation of facebook login</p>\n</blockquote>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":26338332,"reputation":1,"user_id":19997850,"display_name":"Viral Korat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669063794,"creation_date":1669063794,"answer_id":74524751,"question_id":57381769,"body_markdown":" Try to add the below line after first for the loop\r\n\r\n `if (i=0){\r\n    continue;\r\n    }`","title":"dataprovider excel file reading how skip first row","body":"<p>Try to add the below line after first for the loop</p>\n<p><code>if (i=0){ continue; }</code></p>\n"}],"owner":{"account_id":16076133,"reputation":11,"user_id":11603311,"display_name":"pritesh Muli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":424,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1669063794,"creation_date":1565114951,"question_id":57381769,"body_markdown":"## Heading \r\n\r\n    how to skip first row , if i make i=1 in for loop giving null null for \r\n     first row values\r\n   how to skip first row , if i make i=1 in for loop giving null null for \r\n     first row values\r\n----------\r\n      how to skip first row , if i make i=1 in for loop giving null null for \r\n     first row values\r\n       package excel2;\r\n\r\n      import java.io.FileInputStream;\r\n      import java.io.FileNotFoundException;\r\n      import java.io.IOException;\r\n\r\n                   import org.apache.poi.xssf.usermodel.XSSFRow;\r\n                   import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n                    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n                   import org.testng.annotations.DataProvider;\r\n                   import org.testng.annotations.Test;\r\n\r\n              public class DataProvider2 {\r\n\t                       XSSFSheet sheet;\r\n\t                     int row ;\r\n\t                        int col;\r\n\t\r\n\t        @Test(dataProvider = &quot;excel&quot;)\r\n         public void tc_01(String Srno, String name,String add) {\r\n         System.out.println(&quot;name :&quot; + Srno + &quot;\\t palce :&quot; + name + &quot;  add : \r\n               &quot;+add);\r\n                   }\r\n                 /**\r\n                   * @author pritesh\r\n      * @return\r\n      * @throws IOException\r\n      */\r\n\t  @DataProvider(name = &quot;excel&quot;)\r\n        public Object[][] abc() throws IOException {\r\n\t\tFileInputStream fl = new \r\n       FileInputStream(&quot;C:\\\\Users\\\\pritesh\\\\Desktop\\\\x22.xlsx&quot;);\r\n\t\t\r\n\t\tXSSFWorkbook book = new XSSFWorkbook(fl);\r\n\t\tsheet = book.getSheetAt(0);\r\n\t\trow = sheet.getLastRowNum()+1;\r\n\t    col = sheet.getRow(0).getLastCellNum();\r\n\t\tObject[][] obj = new Object[row][col];\r\n\t\tfor (int i = 1; i &lt;row; i++) {\r\n\t\t\tXSSFRow rw = sheet.getRow(i);\r\n\t\t\tfor (int j = 0; j &lt;col; j++) {\r\n\t\t\t\tobj[i][j] = rw.getCell(j).getStringCellValue();\r\n\t\t\t   }\r\n\t\t   }\r\n\t\t   return obj;\r\n\t       }\r\n\r\n             }\r\n\r\n\r\n\r\nall the row except first row of excel sheet should be read and show in \r\nconsole\r\nall the row except first row of excel sheet should be read and show in \r\nconsole\r\nall the row except first row of excel sheet should be read and show in \r\nconsole\r\n-------\r\nall the row except first row of excel sheet should be read and show in \r\nconsole","title":"dataprovider excel file reading how skip first row","body":"<h2>Heading</h2>\n\n<pre><code>how to skip first row , if i make i=1 in for loop giving null null for \n first row values\n</code></pre>\n\n<p>how to skip first row , if i make i=1 in for loop giving null null for </p>\n\n<h2>     first row values</h2>\n\n<pre><code>  how to skip first row , if i make i=1 in for loop giving null null for \n first row values\n   package excel2;\n\n  import java.io.FileInputStream;\n  import java.io.FileNotFoundException;\n  import java.io.IOException;\n\n               import org.apache.poi.xssf.usermodel.XSSFRow;\n               import org.apache.poi.xssf.usermodel.XSSFSheet;\n                import org.apache.poi.xssf.usermodel.XSSFWorkbook;\n               import org.testng.annotations.DataProvider;\n               import org.testng.annotations.Test;\n\n          public class DataProvider2 {\n                       XSSFSheet sheet;\n                     int row ;\n                        int col;\n\n        @Test(dataProvider = \"excel\")\n     public void tc_01(String Srno, String name,String add) {\n     System.out.println(\"name :\" + Srno + \"\\t palce :\" + name + \"  add : \n           \"+add);\n               }\n             /**\n               * @author pritesh\n  * @return\n  * @throws IOException\n  */\n  @DataProvider(name = \"excel\")\n    public Object[][] abc() throws IOException {\n    FileInputStream fl = new \n   FileInputStream(\"C:\\\\Users\\\\pritesh\\\\Desktop\\\\x22.xlsx\");\n\n    XSSFWorkbook book = new XSSFWorkbook(fl);\n    sheet = book.getSheetAt(0);\n    row = sheet.getLastRowNum()+1;\n    col = sheet.getRow(0).getLastCellNum();\n    Object[][] obj = new Object[row][col];\n    for (int i = 1; i &lt;row; i++) {\n        XSSFRow rw = sheet.getRow(i);\n        for (int j = 0; j &lt;col; j++) {\n            obj[i][j] = rw.getCell(j).getStringCellValue();\n           }\n       }\n       return obj;\n       }\n\n         }\n</code></pre>\n\n<p>all the row except first row of excel sheet should be read and show in \nconsole\nall the row except first row of excel sheet should be read and show in \nconsole\nall the row except first row of excel sheet should be read and show in </p>\n\n<h2>console</h2>\n\n<p>all the row except first row of excel sheet should be read and show in \nconsole</p>\n"},{"tags":["java","eclipse","pom.xml","build.xml"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1669063376,"post_id":74524645,"comment_id":131553769,"body_markdown":"No it looks like an ant file.","body":"No it looks like an ant file."},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":1,"creation_date":1669063514,"post_id":74524645,"comment_id":131553796,"body_markdown":"No, Ant and Maven are not interchangeable.  Looks like you could create a pom.xml from that build.xml by adding each JAR as a dependency.  I&#39;d be worried about currency.  I&#39;m betting that Ant build.xml is bringing in a lot of JARs that are old and not supported anymore.  Be sure you try this on JDK 11 at a minimum and check each dependency.","body":"No, Ant and Maven are not interchangeable.  Looks like you could create a pom.xml from that build.xml by adding each JAR as a dependency.  I&#39;d be worried about currency.  I&#39;m betting that Ant build.xml is bringing in a lot of JARs that are old and not supported anymore.  Be sure you try this on JDK 11 at a minimum and check each dependency."},{"owner":{"account_id":7262620,"reputation":301,"user_id":5538685,"display_name":"ZaneK"},"score":0,"creation_date":1669064481,"post_id":74524645,"comment_id":131554051,"body_markdown":"@duffymo What&#39;s the best way to check each dependency in your opinion?","body":"@duffymo What&#39;s the best way to check each dependency in your opinion?"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1669076560,"post_id":74524645,"comment_id":131556644,"body_markdown":"Check the version available in Maven Central.  If it is not under active development, and hasn&#39;t been updated within the last year, you would be well advised to see if you can eliminate that dependency.  Unfortunately it&#39;s a manual, subjective process.   For example, I see iText dependencies.  You might have license issues.  Some of the libraries, like activation.jar, have known vulnerabilities.  You should correct those.","body":"Check the version available in Maven Central.  If it is not under active development, and hasn&#39;t been updated within the last year, you would be well advised to see if you can eliminate that dependency.  Unfortunately it&#39;s a manual, subjective process.   For example, I see iText dependencies.  You might have license issues.  Some of the libraries, like activation.jar, have known vulnerabilities.  You should correct those."}],"answers":[{"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1669064032,"post_id":74524741,"comment_id":131553940,"body_markdown":"Everything you wrote is spot on.  I wouldn&#39;t recommend Ivy, though.  Better to step up to Maven at a minimum.","body":"Everything you wrote is spot on.  I wouldn&#39;t recommend Ivy, though.  Better to step up to Maven at a minimum."},{"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"score":1,"creation_date":1669064389,"post_id":74524741,"comment_id":131554026,"body_markdown":"Agreed, I&#39;ll also state for the OP, that all the more or less recent projects use maven/gradle these days, and Ant is probably used more in legacy applications that didn&#39;t bother to migrate to maven/gradle for some reason - I personally haven&#39;t heard about Ant projects for like 10 years in real projects :)","body":"Agreed, I&#39;ll also state for the OP, that all the more or less recent projects use maven/gradle these days, and Ant is probably used more in legacy applications that didn&#39;t bother to migrate to maven/gradle for some reason - I personally haven&#39;t heard about Ant projects for like 10 years in real projects :)"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1669103474,"post_id":74524741,"comment_id":131561360,"body_markdown":"@MarkBramnik Ant is still used a lot to generate documentation (e.g. the popular DITA Open Toolkit is based on Ant) and Ant scripts often embedded in Maven builds via the `maven-antrun-plugin` also in recent real (what ever _real_ means) projects.","body":"@MarkBramnik Ant is still used a lot to generate documentation (e.g. the popular DITA Open Toolkit is based on Ant) and Ant scripts often embedded in Maven builds via the <code>maven-antrun-plugin</code> also in recent real (what ever <i>real</i> means) projects."}],"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1669063743,"creation_date":1669063743,"answer_id":74524741,"question_id":74524645,"body_markdown":"Basically `build.xml` is a script for another building system called [Apache Ant][1]. It was really popular before maven and later gradle were released. \r\n\r\nAt that time dependency management as it appears in maven / gradle didn&#39;t exist, so Ant didn&#39;t offer anything like that.\r\n\r\nHowever there exists another project called [Apache Ivy][2] that adds dependency management for Ant scripts, so I believe this is your best bet if you don&#39;t want to start using (and migrate to pom.xml) and keep using Ant.\r\n\r\nBoth Ant and Ivy are still active projects, however maven and gradle over the years have become more popular in the industry.\r\n\r\n\r\n  [1]: https://ant.apache.org/\r\n  [2]: https://ant.apache.org/ivy/","title":"I have a build.xml file but not a pom file for a pre-existing project, are they interchangeable?","body":"<p>Basically <code>build.xml</code> is a script for another building system called <a href=\"https://ant.apache.org/\" rel=\"nofollow noreferrer\">Apache Ant</a>. It was really popular before maven and later gradle were released.</p>\n<p>At that time dependency management as it appears in maven / gradle didn't exist, so Ant didn't offer anything like that.</p>\n<p>However there exists another project called <a href=\"https://ant.apache.org/ivy/\" rel=\"nofollow noreferrer\">Apache Ivy</a> that adds dependency management for Ant scripts, so I believe this is your best bet if you don't want to start using (and migrate to pom.xml) and keep using Ant.</p>\n<p>Both Ant and Ivy are still active projects, however maven and gradle over the years have become more popular in the industry.</p>\n"}],"owner":{"account_id":7262620,"reputation":301,"user_id":5538685,"display_name":"ZaneK"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669063743,"creation_date":1669063164,"question_id":74524645,"body_markdown":"I&#39;m having an issue where i&#39;ve seen other people deal with it by adding a dependency to their pom file. I do not have such a file but I do have a file called build.xml that looks like this...\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n&lt;project default=&quot;create_run_jar&quot; name=&quot;Create Runnable Jar for Project PM_DEV with libraries in sub-folder&quot;&gt;\r\n    &lt;!--this file was created by Eclipse Runnable JAR Export Wizard--&gt;\r\n    &lt;!--ANT 1.7 is required                                        --&gt;\r\n    &lt;!--define folder properties--&gt;\r\n    &lt;property name=&quot;dir.buildfile&quot; value=&quot;.&quot;/&gt;\r\n    &lt;property name=&quot;dir.workspace&quot; value=&quot;C:/Users/SENIOR/eclipse-workspace&quot;/&gt;\r\n    &lt;property name=&quot;dir.jarfile&quot; value=&quot;C:/Users/SENIOR/Desktop/9.9&quot;/&gt;\r\n    &lt;target name=&quot;create_run_jar&quot;&gt;\r\n        &lt;jar destfile=&quot;${dir.jarfile}/9.9.jar&quot;&gt;\r\n            &lt;manifest&gt;\r\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;ui.MainMenuFrame&quot;/&gt;\r\n                &lt;attribute name=&quot;Class-Path&quot; value=&quot;. 9.9_lib/activation.jar 9.9_lib/apache-mime4j-core-0.8.5.jar 9.9_lib/arial.jar 9.9_lib/commons-beanutils-1.8.2.jar 9.9_lib/commons-digester-2.1.jar 9.9_lib/commons-logging-1.2.jar 9.9_lib/dom4j-1.6.1.jar 9.9_lib/GoodDatePicker-10.3.1.jar 9.9_lib/hamcrest-core-1.3.jar 9.9_lib/itextpdf-5.3.4.jar 9.9_lib/javax.mail-1.6.2.jar 9.9_lib/jcalendar-1.3.3.jar 9.9_lib/jcommon-1.0.23.jar 9.9_lib/jfreechart-1.0.19-experimental.jar 9.9_lib/jfreechart-1.0.19-swt.jar _9.9_lib/jfreechart-1.0.19.jar 9.9_lib/jfreesvg-2.0.jar 9.9_lib/joda-time-2.4-javadoc.jar 9.9_lib/joda-time-2.4-sources.jar 9.9_lib/joda-time-2.4.jar 9.9_lib/junit-4.11.jar 9.9_lib/orsoncharts-1.4-eval-nofx.jar 9.9_lib/orsoncharts-1.5.jar 9.9_lib/orsonpdf-1.6-eval.jar 9.9_lib/orsonpdf-1.7.jar 9.9_lib/poi-3.14.jar 9.9_lib/poi-ooxml-3.14.jar 9.9_lib/poi-ooxml-schemas-3.14.jar 9.9_lib/rs2xml.jar 9.9_lib/servlet.jar 9.9_lib/sqljdbc4.jar 9.9_lib/swingx-1.6.1.jar 9.9_lib/swtgraphics2d.jar 9.9_lib/xmlbeans-2.6.0.jar 9.9_lib/mssql-jdbc-10.2.1.jre8.jar 9.9_lib/sqljdbc42.jar 9.9_lib/AbsoluteLayout.jar 9.9_lib/eclipselink.jar 9.9_lib/javax.persistence_2.1.0.v201304241213.jar 9.9_lib/org.eclipse.persistence.jpa.jpql_2.5.2.v20140319-9ad6abd.jar 9.9_lib/swing-layout-1.0.4.jar 9.9_lib/commons-collections4-4.4.jar 9.9_lib/itext-2.1.7.js8.jar 9.9_lib/jasperreports-6.20.0.jar&quot;/&gt;\r\n            &lt;/manifest&gt;\r\n            &lt;fileset dir=&quot;${dir.buildfile}/build/classes&quot;/&gt;\r\n        &lt;/jar&gt;\r\n        &lt;delete dir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;mkdir dir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/activation.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/apache-mime4j-core-0.8.5.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/arial.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-beanutils-1.8.2.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-digester-2.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-logging-1.2.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/dom4j-1.6.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/GoodDatePicker-10.3.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/hamcrest-core-1.3.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/itextpdf-5.3.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/javax.mail-1.6.2.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/jcalendar-1.3.3.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/jcommon-1.0.23.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreechart-1.0.19-experimental.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreechart-1.0.19-swt.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreechart-1.0.19.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreesvg-2.0.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/joda-time-2.4-javadoc.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/joda-time-2.4-sources.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/joda-time-2.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/junit-4.11.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsoncharts-1.4-eval-nofx.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsoncharts-1.5.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsonpdf-1.6-eval.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsonpdf-1.7.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/poi-3.14.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/poi-ooxml-3.14.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/poi-ooxml-schemas-3.14.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/rs2xml.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/servlet.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/sqljdbc4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/swingx-1.6.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/swtgraphics2d.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/xmlbeans-2.6.0.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/mssql-jdbc-10.2.1.jre8.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/sqljdbc42.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/AbsoluteLayout.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/eclipselink.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/javax.persistence_2.1.0.v201304241213.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/org.eclipse.persistence.jpa.jpql_2.5.2.v20140319-9ad6abd.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/swing-layout-1.0.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-collections4-4.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/itext-2.1.7.js8.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n        &lt;copy file=&quot;${dir.buildfile}/libs/jasperreports-6.20.0.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\r\n    &lt;/target&gt;\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\n\r\nCan I use this file the same way pom files are used and add dependencies here? Or is this something completely different and I can&#39;t add my dependencies here.","title":"I have a build.xml file but not a pom file for a pre-existing project, are they interchangeable?","body":"<p>I'm having an issue where i've seen other people deal with it by adding a dependency to their pom file. I do not have such a file but I do have a file called build.xml that looks like this...</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;project default=&quot;create_run_jar&quot; name=&quot;Create Runnable Jar for Project PM_DEV with libraries in sub-folder&quot;&gt;\n    &lt;!--this file was created by Eclipse Runnable JAR Export Wizard--&gt;\n    &lt;!--ANT 1.7 is required                                        --&gt;\n    &lt;!--define folder properties--&gt;\n    &lt;property name=&quot;dir.buildfile&quot; value=&quot;.&quot;/&gt;\n    &lt;property name=&quot;dir.workspace&quot; value=&quot;C:/Users/SENIOR/eclipse-workspace&quot;/&gt;\n    &lt;property name=&quot;dir.jarfile&quot; value=&quot;C:/Users/SENIOR/Desktop/9.9&quot;/&gt;\n    &lt;target name=&quot;create_run_jar&quot;&gt;\n        &lt;jar destfile=&quot;${dir.jarfile}/9.9.jar&quot;&gt;\n            &lt;manifest&gt;\n                &lt;attribute name=&quot;Main-Class&quot; value=&quot;ui.MainMenuFrame&quot;/&gt;\n                &lt;attribute name=&quot;Class-Path&quot; value=&quot;. 9.9_lib/activation.jar 9.9_lib/apache-mime4j-core-0.8.5.jar 9.9_lib/arial.jar 9.9_lib/commons-beanutils-1.8.2.jar 9.9_lib/commons-digester-2.1.jar 9.9_lib/commons-logging-1.2.jar 9.9_lib/dom4j-1.6.1.jar 9.9_lib/GoodDatePicker-10.3.1.jar 9.9_lib/hamcrest-core-1.3.jar 9.9_lib/itextpdf-5.3.4.jar 9.9_lib/javax.mail-1.6.2.jar 9.9_lib/jcalendar-1.3.3.jar 9.9_lib/jcommon-1.0.23.jar 9.9_lib/jfreechart-1.0.19-experimental.jar 9.9_lib/jfreechart-1.0.19-swt.jar _9.9_lib/jfreechart-1.0.19.jar 9.9_lib/jfreesvg-2.0.jar 9.9_lib/joda-time-2.4-javadoc.jar 9.9_lib/joda-time-2.4-sources.jar 9.9_lib/joda-time-2.4.jar 9.9_lib/junit-4.11.jar 9.9_lib/orsoncharts-1.4-eval-nofx.jar 9.9_lib/orsoncharts-1.5.jar 9.9_lib/orsonpdf-1.6-eval.jar 9.9_lib/orsonpdf-1.7.jar 9.9_lib/poi-3.14.jar 9.9_lib/poi-ooxml-3.14.jar 9.9_lib/poi-ooxml-schemas-3.14.jar 9.9_lib/rs2xml.jar 9.9_lib/servlet.jar 9.9_lib/sqljdbc4.jar 9.9_lib/swingx-1.6.1.jar 9.9_lib/swtgraphics2d.jar 9.9_lib/xmlbeans-2.6.0.jar 9.9_lib/mssql-jdbc-10.2.1.jre8.jar 9.9_lib/sqljdbc42.jar 9.9_lib/AbsoluteLayout.jar 9.9_lib/eclipselink.jar 9.9_lib/javax.persistence_2.1.0.v201304241213.jar 9.9_lib/org.eclipse.persistence.jpa.jpql_2.5.2.v20140319-9ad6abd.jar 9.9_lib/swing-layout-1.0.4.jar 9.9_lib/commons-collections4-4.4.jar 9.9_lib/itext-2.1.7.js8.jar 9.9_lib/jasperreports-6.20.0.jar&quot;/&gt;\n            &lt;/manifest&gt;\n            &lt;fileset dir=&quot;${dir.buildfile}/build/classes&quot;/&gt;\n        &lt;/jar&gt;\n        &lt;delete dir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;mkdir dir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/activation.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/apache-mime4j-core-0.8.5.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/arial.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-beanutils-1.8.2.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-digester-2.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-logging-1.2.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/dom4j-1.6.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/GoodDatePicker-10.3.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/hamcrest-core-1.3.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/itextpdf-5.3.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/javax.mail-1.6.2.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/jcalendar-1.3.3.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/jcommon-1.0.23.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreechart-1.0.19-experimental.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreechart-1.0.19-swt.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreechart-1.0.19.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/jfreesvg-2.0.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/joda-time-2.4-javadoc.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/joda-time-2.4-sources.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/joda-time-2.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/junit-4.11.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsoncharts-1.4-eval-nofx.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsoncharts-1.5.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsonpdf-1.6-eval.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/orsonpdf-1.7.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/poi-3.14.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/poi-ooxml-3.14.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/poi-ooxml-schemas-3.14.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/rs2xml.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/servlet.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/sqljdbc4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/swingx-1.6.1.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/swtgraphics2d.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/xmlbeans-2.6.0.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/mssql-jdbc-10.2.1.jre8.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/sqljdbc42.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/AbsoluteLayout.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/eclipselink.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/javax.persistence_2.1.0.v201304241213.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/org.eclipse.persistence.jpa.jpql_2.5.2.v20140319-9ad6abd.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/swing-layout-1.0.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/commons-collections4-4.4.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/itext-2.1.7.js8.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n        &lt;copy file=&quot;${dir.buildfile}/libs/jasperreports-6.20.0.jar&quot; todir=&quot;${dir.jarfile}/9.9_lib&quot;/&gt;\n    &lt;/target&gt;\n&lt;/project&gt;\n\n\n</code></pre>\n<p>Can I use this file the same way pom files are used and add dependencies here? Or is this something completely different and I can't add my dependencies here.</p>\n"},{"tags":["java","math","integer"],"comments":[{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":9,"creation_date":1669062073,"post_id":74524450,"comment_id":131553453,"body_markdown":"Why not get a random number between 1 and 20 and multiply the result by 100.","body":"Why not get a random number between 1 and 20 and multiply the result by 100."},{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1669062090,"post_id":74524450,"comment_id":131553459,"body_markdown":"or do you need them in increasing order","body":"or do you need them in increasing order"},{"owner":{"account_id":401843,"reputation":89873,"user_id":768644,"display_name":"rzwitserloot"},"score":3,"creation_date":1669062092,"post_id":74524450,"comment_id":131553460,"body_markdown":"Define what that means. Show a few examples of possible output from your algorithm.","body":"Define what that means. Show a few examples of possible output from your algorithm."},{"owner":{"account_id":26249807,"reputation":19,"user_id":19922759,"display_name":"HatGuy"},"score":0,"creation_date":1669062759,"post_id":74524450,"comment_id":131553627,"body_markdown":"Possible outputs from my algorithm: `1139 121 432 923 254 862 1385` and I want those random numbers to be like this for example: `1100  100 400 900 200 800 1300`. They dont need to be increased. just random numbers.","body":"Possible outputs from my algorithm: <code>1139 121 432 923 254 862 1385</code> and I want those random numbers to be like this for example: <code>1100  100 400 900 200 800 1300</code>. They dont need to be increased. just random numbers."},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":0,"creation_date":1669063149,"post_id":74524450,"comment_id":131553716,"body_markdown":"`int result = ((random.nextInt(end - start) + start) / 100) * 100;`","body":"<code>int result = ((random.nextInt(end - start) + start) &#47; 100) * 100;</code>"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669063248,"creation_date":1669062892,"answer_id":74524600,"question_id":74524450,"body_markdown":"The problem is whether you want 2000 included or not. And whether the step size reaches 2000 exactly. The calculation just needs to include the step size:\r\n\r\n    Random random = new Random();\r\n    final int start = 100;\r\n    final int end = 2000;\r\n    final int step = 100;\r\n    int result = start + step * random.nextInt((end - start)/step); // end excl.\r\n    int result = start + step * random.nextInt((end - start)/step + 1); // end incl.\r\n\r\n[As already commented][1], it is probably more clear to base all on a random number between 1 and 20, and scale that up.\r\n\r\n    int result = (1 + random.nextInt(20)) * 100; // 100 upto 2000 by 100.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/74524450/generate-random-integer-between-100-and-2000-in-steps-of-100-java#comment131553453_74524450","title":"Generate random integer between 100 and 2000 in steps of 100 Java","body":"<p>The problem is whether you want 2000 included or not. And whether the step size reaches 2000 exactly. The calculation just needs to include the step size:</p>\n<pre><code>Random random = new Random();\nfinal int start = 100;\nfinal int end = 2000;\nfinal int step = 100;\nint result = start + step * random.nextInt((end - start)/step); // end excl.\nint result = start + step * random.nextInt((end - start)/step + 1); // end incl.\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/74524450/generate-random-integer-between-100-and-2000-in-steps-of-100-java#comment131553453_74524450\">As already commented</a>, it is probably more clear to base all on a random number between 1 and 20, and scale that up.</p>\n<pre><code>int result = (1 + random.nextInt(20)) * 100; // 100 upto 2000 by 100.\n</code></pre>\n"}],"owner":{"account_id":26249807,"reputation":19,"user_id":19922759,"display_name":"HatGuy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74524600,"answer_count":1,"score":0,"last_activity_date":1669063248,"creation_date":1669061913,"question_id":74524450,"body_markdown":"Im currently trying to get a random integer between 100 and 2000 in steps of 100 like 300, 800, 1400 etc. \r\n\r\nThats what I found to get a random number between a range, but how do I manage to get a random number in steps of 100?\r\n\r\n    Random random = new Random();\r\n    int start = 100;\r\n    int end = 2000;\r\n    int result = random.nextInt(start - end) + start;","title":"Generate random integer between 100 and 2000 in steps of 100 Java","body":"<p>Im currently trying to get a random integer between 100 and 2000 in steps of 100 like 300, 800, 1400 etc.</p>\n<p>Thats what I found to get a random number between a range, but how do I manage to get a random number in steps of 100?</p>\n<pre><code>Random random = new Random();\nint start = 100;\nint end = 2000;\nint result = random.nextInt(start - end) + start;\n</code></pre>\n"},{"tags":["java","selenium","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":1,"creation_date":1669052202,"post_id":74522752,"comment_id":131550462,"body_markdown":"From a brief read: It _should_ be sufficient to call `quit` only. Also, are you sure that you haven&#39;t scoped another driver there? You refer to `this.driver` the one time, but to `driver` the other. If that&#39;s also not fixing your problem, you should be able to to `taskkill /IM chromedriver.exe /F` (assuming you have proper permissions to do so) - the thing I would do is to use the [AutoCloseable](https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html) interface and use my class using the driver with try-with-resources.","body":"From a brief read: It <i>should</i> be sufficient to call <code>quit</code> only. Also, are you sure that you haven&#39;t scoped another driver there? You refer to <code>this.driver</code> the one time, but to <code>driver</code> the other. If that&#39;s also not fixing your problem, you should be able to to <code>taskkill &#47;IM chromedriver.exe &#47;F</code> (assuming you have proper permissions to do so) - the thing I would do is to use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/AutoCloseable.html\" rel=\"nofollow noreferrer\">AutoCloseable</a> interface and use my class using the driver with try-with-resources."},{"owner":{"account_id":14039345,"reputation":1,"user_id":11118928,"display_name":"Pedro Baraldini"},"score":0,"creation_date":1669063877,"post_id":74522752,"comment_id":131553895,"body_markdown":"Thanks for the awnser, it&#39;s help a lot!","body":"Thanks for the awnser, it&#39;s help a lot!"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1669065466,"post_id":74522752,"comment_id":131554350,"body_markdown":"Does this answer your question? [Selenium opens multiple chromedrivers and wont close them](https://stackoverflow.com/questions/74516128/selenium-opens-multiple-chromedrivers-and-wont-close-them)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/74516128/selenium-opens-multiple-chromedrivers-and-wont-close-them\">Selenium opens multiple chromedrivers and wont close them</a>"}],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669062989,"creation_date":1669062989,"answer_id":74524612,"question_id":74522752,"body_markdown":"Normally if you want to close the driver session it should be done with `driver.quit();`  \r\nNo need to perform `driver.close();` on the same `driver` instance before applying `driver.quit();`. This will have no added value.  \r\nSo your code can be shortened to be\r\n```java\r\npublic void tearDown(){\r\n    if(this.driver != null){\r\n        driver.quit();\r\n    }\r\n}\r\n```","title":"Selenium - Method quit() and close() doesn&#39;t work properly","body":"<p>Normally if you want to close the driver session it should be done with <code>driver.quit();</code><br />\nNo need to perform <code>driver.close();</code> on the same <code>driver</code> instance before applying <code>driver.quit();</code>. This will have no added value.<br />\nSo your code can be shortened to be</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void tearDown(){\n    if(this.driver != null){\n        driver.quit();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14039345,"reputation":1,"user_id":11118928,"display_name":"Pedro Baraldini"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669062989,"creation_date":1669051738,"question_id":74522752,"body_markdown":"I work on a crawler project where there are 3 machines executing 10 instances each. Exists a method tearDown to close the instances when entire crawler process is finished.\r\n\r\n```\r\n    public void tearDown(){\r\n        if(this.driver != null){\r\n            driver.close();\r\n            driver.quit();\r\n        }\r\n    }\r\n```\r\n\r\n\t\r\nThe problem i&#39;m fencing is that in some cases when the process is finished there are some instances from chromedriver.exe stuck in the task manager. What can I do to ensure the finalization of these instances? \r\n\r\nI&#39;ve tried close instances using taskkill, but in some cases doesn&#39;t work.\r\n\r\nSorry for my bad english.\r\n\r\n\r\n","title":"Selenium - Method quit() and close() doesn&#39;t work properly","body":"<p>I work on a crawler project where there are 3 machines executing 10 instances each. Exists a method tearDown to close the instances when entire crawler process is finished.</p>\n<pre><code>    public void tearDown(){\n        if(this.driver != null){\n            driver.close();\n            driver.quit();\n        }\n    }\n</code></pre>\n<p>The problem i'm fencing is that in some cases when the process is finished there are some instances from chromedriver.exe stuck in the task manager. What can I do to ensure the finalization of these instances?</p>\n<p>I've tried close instances using taskkill, but in some cases doesn't work.</p>\n<p>Sorry for my bad english.</p>\n"},{"tags":["java","spring","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669062330,"creation_date":1669062330,"answer_id":74524512,"question_id":74493064,"body_markdown":"I just had the wrong Main. There is one in camel-main, and another in camel-spring-main. I just needed to use the camel-spring-main, and it started running and staying alive.  \r\n  \r\nExcept for a transaction problem I am creating another question for...\r\n  \r\nBut the main program is running","title":"how to run Camel Main so it will keep running, and also use Spring Context XML DSL?","body":"<p>I just had the wrong Main. There is one in camel-main, and another in camel-spring-main. I just needed to use the camel-spring-main, and it started running and staying alive.</p>\n<p>Except for a transaction problem I am creating another question for...</p>\n<p>But the main program is running</p>\n"}],"owner":{"account_id":13165,"reputation":7004,"user_id":26270,"accept_rate":38,"display_name":"user26270"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669062330,"creation_date":1668790927,"question_id":74493064,"body_markdown":"I&#39;m upgrading an old system that was a batch job that used Camel Main to continue running, so that it can basically loop and query a database every few seconds. It also uses Spring for configuration, but doesn&#39;t use Spring Boot. It was on Camel 2.x and I&#39;m having to upgrade it to Camel 3.14. The Main class has changed in that time. In addition to being moved to a different package, it has lost the method it was using to add the Spring context, which was `setApplicationContextUri(&quot;app-context&quot;)`. There is a `configure()` method on Main now, but I still don&#39;t see a way of adding a Spring context to Main.  \r\n\r\nLooking at javadocs for the new Main, I see there are methods in MainSupport that reference CamelContext, but they seem to be about creating a blank CamelContext. There is also an `autoconfigure(CamelContext)` which takes in CamelContext, but it&#39;s protected, so I don&#39;t see how to call it. I guess without extending Main, which I don&#39;t see any use cases or examples for.\r\n\r\nAlternatively, if there&#39;s a way to do this without using Main, I&#39;m open to that as well.  \r\n\r\nThe Spring and CamelContext are mainly used to set up beans like dataSources and Properties. The Route is defined in the same class that contains the java main() method that is called from the script used to start the whole process (this is the old version):\r\n\r\n    package com.foo.email.ffdb.listener;\r\n    \r\n    import java.util.Properties;\r\n    \r\n    import javax.annotation.Resource;\r\n    \r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.apache.camel.spring.Main;\r\n    import org.apache.logging.log4j.LogManager;\r\n    import org.apache.logging.log4j.Logger;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import com.foo.email.ffdb.util.FireFrgtConstants;\r\n     \r\n    public class EmailDBListener extends RouteBuilder {\r\n\tprivate static Logger log = LogManager.getLogger(EmailDBListener.class.getName());\r\n\tprivate static String routeId = FireFrgtConstants.EMAIL_ROUTE_ID;\r\n\t\r\n\t@Autowired\r\n\tprivate EmailDBProcessor emaiDBProcessor;\r\n\t\r\n\t@Resource\r\n\tprivate Properties emailProperties;\r\n\t\r\n\t\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tSystem.out.println(&quot;STARTING EMAILDBLISTENER&quot;);\r\n\t\tlog.debug(&quot;Starting Email Batch &quot;);\r\n\t\tMain main = new Main();\r\n\t\tmain.setApplicationContextUri(&quot;app-context.xml&quot;);\r\n\t\tmain.run();\r\n\t\tlog.info(&quot;Email Batch Started:&quot;);\r\n\t}\r\n  \r\n\t@Override\r\n\tpublic void configure() throws Exception {\r\n\t\tlog.debug(&quot;configure() &quot;);\r\n\t\tfrom(configureSqlTimer())\r\n\t\t.routeId(routeId)\r\n\t\t.to(&quot;sqlComponent:{{SQL.READ_EMAIL_REQUESTS}}&quot;)\r\n\t    .bean(&quot;fireForgetServiceMapper&quot;, &quot;readEmailRequests&quot;)\r\n\t    .process(emaiDBProcessor);\r\n\t}\r\n  \r\n\tprivate String configureSqlTimer() {\r\n\t\tlog.debug(&quot;configureSqlTimer() &quot;);\r\n\t\tString pollingTime = emailProperties.getProperty(FireFrgtConstants.POLLING_TIME);\r\n\t\tString sqlTimer = &quot;timer://pollFireFrgtTable?period=&quot; + pollingTime + &quot;s&quot;;\r\n\t\treturn sqlTimer;\r\n\t}\r\n}","title":"how to run Camel Main so it will keep running, and also use Spring Context XML DSL?","body":"<p>I'm upgrading an old system that was a batch job that used Camel Main to continue running, so that it can basically loop and query a database every few seconds. It also uses Spring for configuration, but doesn't use Spring Boot. It was on Camel 2.x and I'm having to upgrade it to Camel 3.14. The Main class has changed in that time. In addition to being moved to a different package, it has lost the method it was using to add the Spring context, which was <code>setApplicationContextUri(&quot;app-context&quot;)</code>. There is a <code>configure()</code> method on Main now, but I still don't see a way of adding a Spring context to Main.</p>\n<p>Looking at javadocs for the new Main, I see there are methods in MainSupport that reference CamelContext, but they seem to be about creating a blank CamelContext. There is also an <code>autoconfigure(CamelContext)</code> which takes in CamelContext, but it's protected, so I don't see how to call it. I guess without extending Main, which I don't see any use cases or examples for.</p>\n<p>Alternatively, if there's a way to do this without using Main, I'm open to that as well.</p>\n<p>The Spring and CamelContext are mainly used to set up beans like dataSources and Properties. The Route is defined in the same class that contains the java main() method that is called from the script used to start the whole process (this is the old version):</p>\n<pre><code>package com.foo.email.ffdb.listener;\n\nimport java.util.Properties;\n\nimport javax.annotation.Resource;\n\nimport org.apache.camel.builder.RouteBuilder;\nimport org.apache.camel.spring.Main;\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport com.foo.email.ffdb.util.FireFrgtConstants;\n \npublic class EmailDBListener extends RouteBuilder {\nprivate static Logger log = LogManager.getLogger(EmailDBListener.class.getName());\nprivate static String routeId = FireFrgtConstants.EMAIL_ROUTE_ID;\n\n@Autowired\nprivate EmailDBProcessor emaiDBProcessor;\n\n@Resource\nprivate Properties emailProperties;\n\n\npublic static void main(String[] args) throws Exception {\n    System.out.println(&quot;STARTING EMAILDBLISTENER&quot;);\n    log.debug(&quot;Starting Email Batch &quot;);\n    Main main = new Main();\n    main.setApplicationContextUri(&quot;app-context.xml&quot;);\n    main.run();\n    log.info(&quot;Email Batch Started:&quot;);\n}\n\n@Override\npublic void configure() throws Exception {\n    log.debug(&quot;configure() &quot;);\n    from(configureSqlTimer())\n    .routeId(routeId)\n    .to(&quot;sqlComponent:{{SQL.READ_EMAIL_REQUESTS}}&quot;)\n    .bean(&quot;fireForgetServiceMapper&quot;, &quot;readEmailRequests&quot;)\n    .process(emaiDBProcessor);\n}\n\nprivate String configureSqlTimer() {\n    log.debug(&quot;configureSqlTimer() &quot;);\n    String pollingTime = emailProperties.getProperty(FireFrgtConstants.POLLING_TIME);\n    String sqlTimer = &quot;timer://pollFireFrgtTable?period=&quot; + pollingTime + &quot;s&quot;;\n    return sqlTimer;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","string","while-loop","do-while","isnumeric"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1669052045,"post_id":74522697,"comment_id":131550417,"body_markdown":"&quot;*...when its meant to loop once*&quot; what makes you think so? The `key.next();` consumes *single* token, so when you write `my first mistake` the first `next()` will consume only `my`.","body":"&quot;<i>...when its meant to loop once</i>&quot; what makes you think so? The <code>key.next();</code> consumes <i>single</i> token, so when you write <code>my first mistake</code> the first <code>next()</code> will consume only <code>my</code>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1669052059,"post_id":74522697,"comment_id":131550427,"body_markdown":"Maybe you meant to use `nextLine()`?","body":"Maybe you meant to use <code>nextLine()</code>?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1669052097,"post_id":74522697,"comment_id":131550437,"body_markdown":"BTW you never update `isNumeric` inside loop, so it wont end since condition of `while ((!isNumeric))` is based on `isNumeric`.","body":"BTW you never update <code>isNumeric</code> inside loop, so it wont end since condition of <code>while ((!isNumeric))</code> is based on <code>isNumeric</code>."}],"answers":[{"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1669051996,"post_id":74522758,"comment_id":131550399,"body_markdown":"Or get rid of `isNumeric` variable and move test directly to condition like `while ((!num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;))){...}`","body":"Or get rid of <code>isNumeric</code> variable and move test directly to condition like <code>while ((!num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;))){...}</code>"}],"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1669051759,"creation_date":1669051759,"answer_id":74522758,"question_id":74522697,"body_markdown":"Check the while loop below. You forgot to update isNumeric value within loop.\r\n\r\n    public static void main (String[] args) {\r\n        Scanner key = new Scanner(System.in);\r\n    \r\n        System.out.print(&quot;Enter a number: &quot;);\r\n        String num = key.next();\r\n        boolean isNumeric = true;\r\n         isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\r\n    \r\n        while ((!isNumeric)) {\r\n            System.out.println(&quot;You must enter an integer&quot;);\r\n            num = key.next();\r\n            isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\r\n        }\r\n        System.out.print(&quot;Valid&quot;);\r\n    }","title":"While loop input int validation","body":"<p>Check the while loop below. You forgot to update isNumeric value within loop.</p>\n<pre><code>public static void main (String[] args) {\n    Scanner key = new Scanner(System.in);\n\n    System.out.print(&quot;Enter a number: &quot;);\n    String num = key.next();\n    boolean isNumeric = true;\n     isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\n\n    while ((!isNumeric)) {\n        System.out.println(&quot;You must enter an integer&quot;);\n        num = key.next();\n        isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\n    }\n    System.out.print(&quot;Valid&quot;);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27002657,"reputation":46,"user_id":20563704,"display_name":"ElishevaMiler"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669052659,"creation_date":1669052659,"answer_id":74522925,"question_id":74522697,"body_markdown":"public class Eli {\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Scanner key = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter a number: &quot;);\r\n        String num = key.nextLine();\r\n        boolean isNumeric = true;\r\n        isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\r\n\r\n        while ((!isNumeric)) {\r\n            System.out.println(&quot;You must enter an integer&quot;);\r\n            num = key.nextLine();\r\n            isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\r\n        }\r\n        System.out.print(&quot;Valid&quot;);\r\n\r\n    }\r\n}\r\n\r\nnote: You have 2 mistakes\r\n*You wrote  key.next() instead of  key.nextLine()\r\n*You forgot to check inside the loop whether isNumeric and it didn&#39;t check correctness from the second input onwards","title":"While loop input int validation","body":"<p>public class Eli {</p>\n<pre><code>public static void main(String[] args) {\n    Scanner key = new Scanner(System.in);\n\n    System.out.print(&quot;Enter a number: &quot;);\n    String num = key.nextLine();\n    boolean isNumeric = true;\n    isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\n\n    while ((!isNumeric)) {\n        System.out.println(&quot;You must enter an integer&quot;);\n        num = key.nextLine();\n        isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\n    }\n    System.out.print(&quot;Valid&quot;);\n\n}\n</code></pre>\n<p>}</p>\n<p>note: You have 2 mistakes\n*You wrote  key.next() instead of  key.nextLine()\n*You forgot to check inside the loop whether isNumeric and it didn't check correctness from the second input onwards</p>\n"}],"owner":{"account_id":27004320,"reputation":25,"user_id":20565073,"display_name":"ennie Ayeni"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74522758,"answer_count":2,"score":1,"last_activity_date":1669060692,"creation_date":1669051444,"question_id":74522697,"body_markdown":"I’m having a problem with my code. my while loop 3 times when its meant to loop once i&#39;ve tried everything i know and it&#39;s not working\r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class validInput {\r\n    public static void main (String[] args) {\r\n        Scanner key = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter a number: &quot;);\r\n        String num = key.next();\r\n        boolean isNumeric = true;\r\n         isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\r\n\r\n        while ((!isNumeric)) {\r\n            System.out.println(&quot;You must enter an integer&quot;);\r\n            num = key.next();\r\n        }\r\n        System.out.print(&quot;Valid&quot;);\r\n    }\r\n}\r\n```\r\n```\r\n# outputs Enter a number: my first mistake\r\n# You must enter an integer\r\n# You must enter an integer\r\n# You must enter an integer\r\n# my first mistake\r\n```","title":"While loop input int validation","body":"<p>I’m having a problem with my code. my while loop 3 times when its meant to loop once i've tried everything i know and it's not working</p>\n<pre><code>import java.util.Scanner;\n\npublic class validInput {\n    public static void main (String[] args) {\n        Scanner key = new Scanner(System.in);\n\n        System.out.print(&quot;Enter a number: &quot;);\n        String num = key.next();\n        boolean isNumeric = true;\n         isNumeric = num.matches(&quot;-?\\\\d+(\\\\.\\\\d+)?&quot;);\n\n        while ((!isNumeric)) {\n            System.out.println(&quot;You must enter an integer&quot;);\n            num = key.next();\n        }\n        System.out.print(&quot;Valid&quot;);\n    }\n}\n</code></pre>\n<pre><code># outputs Enter a number: my first mistake\n# You must enter an integer\n# You must enter an integer\n# You must enter an integer\n# my first mistake\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"score":0,"creation_date":1296640855,"post_id":4868124,"comment_id":5417616,"body_markdown":"If these classes are mapped to the same table without discriminator column, how would Hibernate distinguish which is which?","body":"If these classes are mapped to the same table without discriminator column, how would Hibernate distinguish which is which?"},{"owner":{"account_id":73135,"reputation":9955,"user_id":210780,"accept_rate":82,"display_name":"ashes999"},"score":0,"creation_date":1308748020,"post_id":4868124,"comment_id":7559685,"body_markdown":"@axtavt that&#39;s the point; every instance of B is also an A.","body":"@axtavt that&#39;s the point; every instance of B is also an A."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1659356808,"post_id":4868124,"comment_id":129268112,"body_markdown":"Did you ever find a working solution to this?","body":"Did you ever find a working solution to this?"}],"answers":[{"comments":[{"owner":{"account_id":12145950,"reputation":5001,"user_id":8868289,"display_name":"Yoory N."},"score":5,"creation_date":1564933529,"post_id":4868621,"comment_id":101183622,"body_markdown":"Doesn&#39;t work for me. I&#39;m getting `org.hibernate.MappingException: Entities [B] and [A] are mapped with the same discriminator value &#39;true&#39;`. (Hibernate version is 5.3.7 if this matters).","body":"Doesn&#39;t work for me. I&#39;m getting <code>org.hibernate.MappingException: Entities [B] and [A] are mapped with the same discriminator value &#39;true&#39;</code>. (Hibernate version is 5.3.7 if this matters)."}],"tags":[],"owner":{"account_id":73135,"reputation":9955,"user_id":210780,"accept_rate":82,"display_name":"ashes999"},"comment_count":1,"down_vote_count":2,"up_vote_count":12,"is_accepted":true,"score":10,"last_activity_date":1308747983,"creation_date":1296598726,"answer_id":4868621,"question_id":4868124,"body_markdown":"This is possible by mapping the `@DiscriminatorColumn` and `@DiscriminatorValue` to the same values for both classes; this can be from any column you use that has the same data regardless of which type (not sure if it works with null values).\r\n\r\nThe classes should look like so:\r\n\r\n    @Entity\r\n    @Table(name=&quot;Book&quot;)\r\n    @Inheritance(strategy=InheritanceType.SINGLE_TABLE)\r\n    @DiscriminatorColumn(name=&quot;published&quot;)\r\n    @DiscriminatorValue(value=&quot;true&quot;)\r\n    public class A {\r\n        private String ID;\r\n        private String Name;\r\n        // ...\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name=&quot;Book&quot;)\r\n    @DiscriminatorValue(value=&quot;true&quot;)\r\n    public class B extends A {\r\n        public String node_ID;\r\n        // ...\r\n    }","title":"Mapping Multiple Classes to a Table in Hibernate, Without a DTYPE Column","body":"<p>This is possible by mapping the <code>@DiscriminatorColumn</code> and <code>@DiscriminatorValue</code> to the same values for both classes; this can be from any column you use that has the same data regardless of which type (not sure if it works with null values).</p>\n\n<p>The classes should look like so:</p>\n\n<pre><code>@Entity\n@Table(name=\"Book\")\n@Inheritance(strategy=InheritanceType.SINGLE_TABLE)\n@DiscriminatorColumn(name=\"published\")\n@DiscriminatorValue(value=\"true\")\npublic class A {\n    private String ID;\n    private String Name;\n    // ...\n}\n\n@Entity\n@Table(name=\"Book\")\n@DiscriminatorValue(value=\"true\")\npublic class B extends A {\n    public String node_ID;\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2412715,"reputation":1,"user_id":2107462,"display_name":"Chisha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669060377,"creation_date":1669060346,"answer_id":74524223,"question_id":4868124,"body_markdown":"For anyone who got here like me and does not want to have the dtype column but instead want to use the same table for more than one entity as is I would recommend using [this][1]\r\n\r\n  [1]: https://vladmihalcea.com/map-multiple-jpa-entities-one-table-hibernate/\r\n\r\nBasically you can create a Base like this\r\n\r\n```\r\n@MappedSuperclass\r\npublic abstract class BaseBook&lt;T extends BaseBook&gt; {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    ... any other variables, getters + setters\r\n}\r\n\r\n@Entity\r\n@Table(name= &quot;book&quot;)\r\npublic class BookA extends BaseBook&lt;BookA&gt;{ \r\n  //Default class no need to specify any variables or getters/setters\r\n}\r\n\r\n@Entity\r\n@Table(name= &quot;book&quot;)\r\npublic class BookB extends BaseBook&lt;BookB&gt;{ \r\n  @Column(name = &quot;other_field&quot;)\r\n  private String otherFieldInTableButNotMapedInBase\r\n\r\n  ... Any other fields, getter/setter\r\n}\r\n\r\n```\r\n\r\nFrom the above we have created base super class which does not have any entity or table mapping. We then create BookA to be default with the Entity + Table mapping. From there we can create other Entities all extending from BaseBook but pointing to one table \r\n","title":"Mapping Multiple Classes to a Table in Hibernate, Without a DTYPE Column","body":"<p>For anyone who got here like me and does not want to have the dtype column but instead want to use the same table for more than one entity as is I would recommend using <a href=\"https://vladmihalcea.com/map-multiple-jpa-entities-one-table-hibernate/\" rel=\"nofollow noreferrer\">this</a></p>\n<p>Basically you can create a Base like this</p>\n<pre><code>@MappedSuperclass\npublic abstract class BaseBook&lt;T extends BaseBook&gt; {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    ... any other variables, getters + setters\n}\n\n@Entity\n@Table(name= &quot;book&quot;)\npublic class BookA extends BaseBook&lt;BookA&gt;{ \n  //Default class no need to specify any variables or getters/setters\n}\n\n@Entity\n@Table(name= &quot;book&quot;)\npublic class BookB extends BaseBook&lt;BookB&gt;{ \n  @Column(name = &quot;other_field&quot;)\n  private String otherFieldInTableButNotMapedInBase\n\n  ... Any other fields, getter/setter\n}\n\n</code></pre>\n<p>From the above we have created base super class which does not have any entity or table mapping. We then create BookA to be default with the Entity + Table mapping. From there we can create other Entities all extending from BaseBook but pointing to one table</p>\n"}],"owner":{"account_id":73135,"reputation":9955,"user_id":210780,"accept_rate":82,"display_name":"ashes999"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25374,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":4868621,"answer_count":2,"score":17,"last_activity_date":1669060377,"creation_date":1296595566,"question_id":4868124,"body_markdown":"I have two hibernate classes: a base class, and an extended class that has additional fields. (These fields are mapped by other tables.)\r\n\r\nFor example, I have:\r\n\r\n    @Entity\r\n    @Table(name=&quot;Book&quot;)\r\n    public class A {\r\n    \tprivate String ID;\r\n    \tprivate String Name;\r\n    \t// ...\r\n    }\r\n    \r\n    @Entity\r\n    @Table(name=&quot;Book&quot;)\r\n    public class B extends A {\r\n    \tpublic String node_ID;\r\n    \t// ...\r\n    }\r\n    \r\n    public class Node {\r\n    \tpublic String ID; // maps to B.node_ID\r\n    \t// ...\r\n    }\r\n\r\n\r\nHow do I map this in Hibernate? [The hibernate documentation][1] states three types of inheritence configurations: one table per class, one table with a type column, and a join table -- none of which apply here.\r\n\r\nThe reason I need to do this is because class A is from generic framework that&#39;s reused over multiple projects, and class B (and Node) are extensions specific to one project -- they won&#39;t be used again. In the future, I may have perhaps a class C with a house_ID or some other field.\r\n\r\n**Edit:** If I try the above pseudo-code configuration (two entities mapped to the same table) I get an error that the DTYPE column doesn&#39;t exist. The HQL has a &quot;where DTYPE=&quot;A&quot; appended.\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#d0e1168","title":"Mapping Multiple Classes to a Table in Hibernate, Without a DTYPE Column","body":"<p>I have two hibernate classes: a base class, and an extended class that has additional fields. (These fields are mapped by other tables.)</p>\n\n<p>For example, I have:</p>\n\n<pre><code>@Entity\n@Table(name=\"Book\")\npublic class A {\n    private String ID;\n    private String Name;\n    // ...\n}\n\n@Entity\n@Table(name=\"Book\")\npublic class B extends A {\n    public String node_ID;\n    // ...\n}\n\npublic class Node {\n    public String ID; // maps to B.node_ID\n    // ...\n}\n</code></pre>\n\n<p>How do I map this in Hibernate? <a href=\"http://docs.jboss.org/hibernate/stable/annotations/reference/en/html_single/#d0e1168\" rel=\"noreferrer\">The hibernate documentation</a> states three types of inheritence configurations: one table per class, one table with a type column, and a join table -- none of which apply here.</p>\n\n<p>The reason I need to do this is because class A is from generic framework that's reused over multiple projects, and class B (and Node) are extensions specific to one project -- they won't be used again. In the future, I may have perhaps a class C with a house_ID or some other field.</p>\n\n<p><strong>Edit:</strong> If I try the above pseudo-code configuration (two entities mapped to the same table) I get an error that the DTYPE column doesn't exist. The HQL has a \"where DTYPE=\"A\" appended.</p>\n"},{"tags":["java","arraylist","parameters","equals"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1636304682,"post_id":69874638,"comment_id":123515556,"body_markdown":"Where did `filename` come from? You may want to share your `Painting` class.","body":"Where did <code>filename</code> come from? You may want to share your <code>Painting</code> class."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1636321957,"post_id":69874638,"comment_id":123519391,"body_markdown":"Your `Museum` should have a `List&lt;Painting&gt;`, not an `ArrayList`. Always code to the interface, not the implementation.","body":"Your <code>Museum</code> should have a <code>List&lt;Painting&gt;</code>, not an <code>ArrayList</code>. Always code to the interface, not the implementation."}],"answers":[{"comments":[{"owner":{"account_id":23069985,"reputation":35,"user_id":17349337,"display_name":"user17349337"},"score":0,"creation_date":1636306931,"post_id":69874803,"comment_id":123516113,"body_markdown":"Thanks for this - pretty much worked, I just need to tweak some and change to a return statement.","body":"Thanks for this - pretty much worked, I just need to tweak some and change to a return statement."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1636321842,"post_id":69874803,"comment_id":123519373,"body_markdown":"Java by convention uses camelCase not snake_case and there is no reason to declare the String before the loop nor initialize it with `new String()`. You don&#39;t even need a local variable to hold the results of `painting.getAuthor()`, you can just use it directly.","body":"Java by convention uses camelCase not snake_case and there is no reason to declare the String before the loop nor initialize it with <code>new String()</code>. You don&#39;t even need a local variable to hold the results of <code>painting.getAuthor()</code>, you can just use it directly."}],"tags":[],"owner":{"account_id":19989152,"reputation":11,"user_id":14650609,"display_name":"skellig"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636305997,"creation_date":1636305487,"answer_id":69874803,"question_id":69874638,"body_markdown":"Okay I&#39;m assuming here in your Painting class, you have an attribute which is Author and a getter for it.\r\n\r\nI&#39;ve changed the listMatches method to have a for-each loop. This loop will go through every element in your Paintings arraylist, and saving in a local variable the name of its author. If the current painting&#39;s author matches the one you are looking for, it will print the title. \r\n\r\nI changed the return type of listMatches from String to void, because you are not returning anything, just printing.\r\n\r\nInstead of just printing the names you could save the paintings somewhere (another ArrayList for example) if you want to use them. Remember to change the return type, because in that case you will be returning something.\r\n\r\nRemember to write the name of the author exactly as you have it in the paintings or else it might not find it.\r\n\r\nI havent had a chance to try it, but it should work.\r\n\r\n------\r\n\r\n    public class Museum  {\r\n    //creating the fields\r\n    private ArrayList&lt;Painting&gt; paintings;\r\n    private String name;\r\n    \r\n    /**\r\n     * Create a Museum Class \r\n     */\r\n    public Museum(String aMuseum) {\r\n        paintings = new ArrayList&lt;&gt;();\r\n        name = aMuseum;\r\n    }\r\n    \r\n    public void listMatches(String searchString)\r\n    {\r\n      String this_painting_author = new String();\r\n      for (Painting painting : paintings){\r\n        this_painting_author = painting.getAuthor();\r\n        if(this_painting_author.equals(searchString)) {\r\n          System.out.println(painting.getTitle());\r\n        }\r\n      }\r\n    }\r\n    }","title":"Searching an ArrayList for a matching parameter","body":"<p>Okay I'm assuming here in your Painting class, you have an attribute which is Author and a getter for it.</p>\n<p>I've changed the listMatches method to have a for-each loop. This loop will go through every element in your Paintings arraylist, and saving in a local variable the name of its author. If the current painting's author matches the one you are looking for, it will print the title.</p>\n<p>I changed the return type of listMatches from String to void, because you are not returning anything, just printing.</p>\n<p>Instead of just printing the names you could save the paintings somewhere (another ArrayList for example) if you want to use them. Remember to change the return type, because in that case you will be returning something.</p>\n<p>Remember to write the name of the author exactly as you have it in the paintings or else it might not find it.</p>\n<p>I havent had a chance to try it, but it should work.</p>\n<hr />\n<pre><code>public class Museum  {\n//creating the fields\nprivate ArrayList&lt;Painting&gt; paintings;\nprivate String name;\n\n/**\n * Create a Museum Class \n */\npublic Museum(String aMuseum) {\n    paintings = new ArrayList&lt;&gt;();\n    name = aMuseum;\n}\n\npublic void listMatches(String searchString)\n{\n  String this_painting_author = new String();\n  for (Painting painting : paintings){\n    this_painting_author = painting.getAuthor();\n    if(this_painting_author.equals(searchString)) {\n      System.out.println(painting.getTitle());\n    }\n  }\n}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636307376,"creation_date":1636307376,"answer_id":69875076,"question_id":69874638,"body_markdown":"Searching paintings by artist should return a sublist of paintings (it may be empty if no painting is found):\r\n```java\r\npublic List&lt;Painting&gt; listMatches(String artist) {\r\n    List&lt;Painting&gt; matches = new ArrayList&lt;&gt;();\r\n    for (Painting painting : paintings) {\r\n        if (artist.equals(painting.getArtist())) {\r\n            matches.add(painting);\r\n        }\r\n    }\r\n\r\n    return matches;\r\n}\r\n```\r\n----\r\nStream API may be used for this (more concise and functional style):\r\n```java\r\npublic List&lt;Painting&gt; listMatches(String artist) {\r\n    return paintings.stream()\r\n        .filter(p -&gt; artist.equals(p.getArtist()))\r\n        .collect(Collectors.toList());\r\n}\r\n```","title":"Searching an ArrayList for a matching parameter","body":"<p>Searching paintings by artist should return a sublist of paintings (it may be empty if no painting is found):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Painting&gt; listMatches(String artist) {\n    List&lt;Painting&gt; matches = new ArrayList&lt;&gt;();\n    for (Painting painting : paintings) {\n        if (artist.equals(painting.getArtist())) {\n            matches.add(painting);\n        }\n    }\n\n    return matches;\n}\n</code></pre>\n<hr />\n<p>Stream API may be used for this (more concise and functional style):</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;Painting&gt; listMatches(String artist) {\n    return paintings.stream()\n        .filter(p -&gt; artist.equals(p.getArtist()))\n        .collect(Collectors.toList());\n}\n</code></pre>\n"}],"owner":{"account_id":23069985,"reputation":35,"user_id":17349337,"display_name":"user17349337"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69875076,"answer_count":2,"score":0,"last_activity_date":1669059805,"creation_date":1636304287,"question_id":69874638,"body_markdown":"I have two classes `Museum` and `Painting`. `Painting` class is working as expected, but I am having issues with the `Museum` class. The purpose of the method is to return an ArrayList of paintings the museum has, which matches the parameter string. \r\n\r\nWhen I try to compile the code, I am getting lots of error messages and clearly I am not compiling the code correctly.\r\n\r\nFor example, if there is a Painting by Picasso - it should just return all those paintings and nothing else. \r\n\r\nI think I may have missed a step - potentially by creating a local variable to store it in first, but I&#39;m at a bit of a brick wall. I also wonder if String is correct when the ArrayList uses the Painting object.\r\n\r\nDoes anyone know what I&#39;m missing here?\r\n```java\r\npublic class Museum  {\r\n    //creating the fields\r\n    private ArrayList&lt;Painting&gt; paintings;\r\n    private String name;\r\n\r\n    /**\r\n     * Create a Museum Class \r\n     */\r\n    public Museum(String aMuseum) {\r\n        paintings = new ArrayList&lt;&gt;();\r\n        name = aMuseum;\r\n    }\r\n\r\n    public String listMatches(String searchString)\r\n    {\r\n        if(filename.equals(searchString)) {\r\n            return filename;\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Searching an ArrayList for a matching parameter","body":"<p>I have two classes <code>Museum</code> and <code>Painting</code>. <code>Painting</code> class is working as expected, but I am having issues with the <code>Museum</code> class. The purpose of the method is to return an ArrayList of paintings the museum has, which matches the parameter string.</p>\n<p>When I try to compile the code, I am getting lots of error messages and clearly I am not compiling the code correctly.</p>\n<p>For example, if there is a Painting by Picasso - it should just return all those paintings and nothing else.</p>\n<p>I think I may have missed a step - potentially by creating a local variable to store it in first, but I'm at a bit of a brick wall. I also wonder if String is correct when the ArrayList uses the Painting object.</p>\n<p>Does anyone know what I'm missing here?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Museum  {\n    //creating the fields\n    private ArrayList&lt;Painting&gt; paintings;\n    private String name;\n\n    /**\n     * Create a Museum Class \n     */\n    public Museum(String aMuseum) {\n        paintings = new ArrayList&lt;&gt;();\n        name = aMuseum;\n    }\n\n    public String listMatches(String searchString)\n    {\n        if(filename.equals(searchString)) {\n            return filename;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa"],"comments":[{"owner":{"account_id":1410409,"reputation":3690,"user_id":1337135,"accept_rate":80,"display_name":"maszter"},"score":1,"creation_date":1493149260,"post_id":43619503,"comment_id":74288083,"body_markdown":"Possible duplicate of [Mapping Multiple Classes to a Table in Hibernate, Without a DTYPE Column](http://stackoverflow.com/questions/4868124/mapping-multiple-classes-to-a-table-in-hibernate-without-a-dtype-column)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/4868124/mapping-multiple-classes-to-a-table-in-hibernate-without-a-dtype-column\">Mapping Multiple Classes to a Table in Hibernate, Without a DTYPE Column</a>"},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":1,"creation_date":1493149309,"post_id":43619503,"comment_id":74288117,"body_markdown":"Possible duplicate of [JPA Mapping with basic class inheritance](http://stackoverflow.com/questions/26655846/jpa-mapping-with-basic-class-inheritance)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/26655846/jpa-mapping-with-basic-class-inheritance\">JPA Mapping with basic class inheritance</a>"},{"owner":{"account_id":7175557,"reputation":1811,"user_id":5481621,"accept_rate":3,"display_name":"Cork Kochi"},"score":0,"creation_date":1493149715,"post_id":43619503,"comment_id":74288377,"body_markdown":"Employee class only has a transient object, So  not sue about @DiscriminatorColumn and DiscriminaorValue","body":"Employee class only has a transient object, So  not sue about @DiscriminatorColumn and DiscriminaorValue"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1642671632,"post_id":43619503,"comment_id":125134890,"body_markdown":"You forgot to add this column into the database schema.","body":"You forgot to add this column into the database schema."}],"answers":[{"comments":[{"owner":{"account_id":7175557,"reputation":1811,"user_id":5481621,"accept_rate":3,"display_name":"Cork Kochi"},"score":0,"creation_date":1493200161,"post_id":43621571,"comment_id":74309453,"body_markdown":"In my Employee class, I have only one Transient attribute, no other repeated columns, So in this case, I am not sure about DiscriminatorColumn","body":"In my Employee class, I have only one Transient attribute, no other repeated columns, So in this case, I am not sure about DiscriminatorColumn"},{"owner":{"account_id":8497760,"reputation":342,"user_id":6371836,"display_name":"Daniel Andres Pelaez Lopez"},"score":0,"creation_date":1493220767,"post_id":43621571,"comment_id":74325522,"body_markdown":"I think it does not matter. Hibernate may require to know which value should save into DTYPE by each class into the hierarchy","body":"I think it does not matter. Hibernate may require to know which value should save into DTYPE by each class into the hierarchy"}],"tags":[],"owner":{"account_id":8497760,"reputation":342,"user_id":6371836,"display_name":"Daniel Andres Pelaez Lopez"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493157002,"creation_date":1493157002,"answer_id":43621571,"question_id":43619503,"body_markdown":"You should use @DiscriminatorColumn and @DiscriminatorValue. You can find a good example [here][1].\r\n\r\n\r\n  [1]: http://viralpatel.net/blogs/hibernate-inheritence-table-per-hierarchy-mapping/","title":"Extend an entity class in JPA throws Unknown column &#39;DTYPE&#39; in &#39;field list&#39; error","body":"<p>You should use @DiscriminatorColumn and @DiscriminatorValue. You can find a good example <a href=\"http://viralpatel.net/blogs/hibernate-inheritence-table-per-hierarchy-mapping/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":915477,"reputation":3493,"user_id":948359,"accept_rate":0,"display_name":"schlebe"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1520002608,"creation_date":1520002608,"answer_id":49071663,"question_id":43619503,"body_markdown":"I have encountered the same issue using EclipseLink and I have tried to use @discriminator annotation ... without success\r\nbecause in this solution, a specific column must be added in 2 tables.\r\n\r\nI don&#39;t have the possibility to add columns in tables, so I have found following solution :\r\n\r\n    @Entity\r\n    @Table(name = &quot;PERSON&quot;)\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS) \r\n    public class Person {    \r\n\r\nI have just changed inheritance type from SINGLE_TABLE to TABLE_PER_CLASS\r\n\r\nI have found useful explanation on [Thoughts on Java][1]\r\n\r\nJust for information, my 2 tables are in reality 1 table and a view on same table with 2 or 3 joins.\r\n\r\n\r\n  [1]: https://www.thoughts-on-java.org/complete-guide-inheritance-strategies-jpa-hibernate/\r\n","title":"Extend an entity class in JPA throws Unknown column &#39;DTYPE&#39; in &#39;field list&#39; error","body":"<p>I have encountered the same issue using EclipseLink and I have tried to use @discriminator annotation ... without success\nbecause in this solution, a specific column must be added in 2 tables.</p>\n\n<p>I don't have the possibility to add columns in tables, so I have found following solution :</p>\n\n<pre><code>@Entity\n@Table(name = \"PERSON\")\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS) \npublic class Person {    \n</code></pre>\n\n<p>I have just changed inheritance type from SINGLE_TABLE to TABLE_PER_CLASS</p>\n\n<p>I have found useful explanation on <a href=\"https://www.thoughts-on-java.org/complete-guide-inheritance-strategies-jpa-hibernate/\" rel=\"noreferrer\">Thoughts on Java</a></p>\n\n<p>Just for information, my 2 tables are in reality 1 table and a view on same table with 2 or 3 joins.</p>\n"},{"tags":[],"owner":{"account_id":7421871,"reputation":991,"user_id":5645869,"display_name":"Rohit Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627121592,"creation_date":1588729069,"answer_id":61625888,"question_id":43619503,"body_markdown":"`D_TYPE` is basically name of your child class.\r\n\r\nLet&#39;s suppose you have:\r\n\r\n* Abstract Employee(id, name);\r\n* class FullTimeEmployee extends Employee(Double salary)\r\n* with Inheritence.SINGLE_TABLE strategy.\r\n\r\nA table employee will be created with these columns\r\n\r\n    Employee (D_TYPE, id, name, salary)\r\n\r\nwhere `D_TYPE` will be name of your child classes.\r\n\r\n    employeeRepository.insert(Employee emp);\r\n\r\nwhere you can pass emp as `new FullTimeEmployee(id, name, salary);`\r\n\r\nAfter insert it will automatically populate `d_type` as Full_Time_Employee\r\n\r\nIf you want to change the name of `D_TYPE` column use \r\n`@DiscriminatorColumn(name=&quot;customizedNameofD_TYPE&quot;)`\r\n\r\nJust FYI: mostly used strategy is `InheritanceType.JOINED`\r\n","title":"Extend an entity class in JPA throws Unknown column &#39;DTYPE&#39; in &#39;field list&#39; error","body":"<p><code>D_TYPE</code> is basically name of your child class.</p>\n<p>Let's suppose you have:</p>\n<ul>\n<li>Abstract Employee(id, name);</li>\n<li>class FullTimeEmployee extends Employee(Double salary)</li>\n<li>with Inheritence.SINGLE_TABLE strategy.</li>\n</ul>\n<p>A table employee will be created with these columns</p>\n<pre><code>Employee (D_TYPE, id, name, salary)\n</code></pre>\n<p>where <code>D_TYPE</code> will be name of your child classes.</p>\n<pre><code>employeeRepository.insert(Employee emp);\n</code></pre>\n<p>where you can pass emp as <code>new FullTimeEmployee(id, name, salary);</code></p>\n<p>After insert it will automatically populate <code>d_type</code> as Full_Time_Employee</p>\n<p>If you want to change the name of <code>D_TYPE</code> column use\n<code>@DiscriminatorColumn(name=&quot;customizedNameofD_TYPE&quot;)</code></p>\n<p>Just FYI: mostly used strategy is <code>InheritanceType.JOINED</code></p>\n"},{"tags":[],"owner":{"account_id":4177315,"reputation":23,"user_id":3423446,"accept_rate":60,"display_name":"Gaurav Saraf"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1604660606,"creation_date":1604660606,"answer_id":64713393,"question_id":43619503,"body_markdown":"Persist child entity rather than persisting parent entity. \r\n\r\n    @MappedSuperclass\r\n    public class Person { \r\n\r\nAnd\r\n\r\n    @Entity\r\n    @Table(name = &quot;PERSON&quot;)\r\n    public class Employee extends Person {\r\n\r\nThis should resolve your issue.\r\n\r\n   ","title":"Extend an entity class in JPA throws Unknown column &#39;DTYPE&#39; in &#39;field list&#39; error","body":"<p>Persist child entity rather than persisting parent entity.</p>\n<pre><code>@MappedSuperclass\npublic class Person { \n</code></pre>\n<p>And</p>\n<pre><code>@Entity\n@Table(name = &quot;PERSON&quot;)\npublic class Employee extends Person {\n</code></pre>\n<p>This should resolve your issue.</p>\n"}],"owner":{"account_id":7175557,"reputation":1811,"user_id":5481621,"accept_rate":3,"display_name":"Cork Kochi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15186,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":4,"score":14,"last_activity_date":1669059682,"creation_date":1493149009,"question_id":43619503,"body_markdown":"  \r\n\r\n    @Entity\r\n    @Table(name = &quot;PERSON&quot;)\r\n    @Inheritance(strategy=InheritanceType.SINGLE_TABLE)  \r\n    public class Person {    \r\n    \t@Id\r\n    \t@GeneratedValue\r\n    \t@Column(name = &quot;PERSON_ID&quot;)\r\n    \tprivate Long personId;\r\n    \t\r\n    \t@Column(name = &quot;FIRSTNAME&quot;)\r\n    \tprivate String firstname;\r\n    \t\r\n    \t@Column(name = &quot;LASTNAME&quot;)\r\n    \tprivate String lastname;\r\n    \t\r\n    \t// Constructors and Getter/Setter methods, \r\n    }\r\n\r\nEmployee class extends Person\r\n\r\n    @Entity    \r\n    public class Employee extends Person {\r\n    \r\n    \t@Transient\r\n    \tprivate Date joiningDate;  \t\r\n    \t\r\n    \r\n    \t// Copy Constructors and Getter/Setter methods, \r\n    }\r\n\r\nThe Employee class has only a transient object So I am not sure about using of @DiscriminatorColumn and @DiscriminatorValue, When i tried without using Discriminator that throws error\r\n\r\n    session.save(employee);\r\n\r\nI am trying to save Employee object that throws Unknown column &#39;DTYPE&#39; in &#39;field list&#39; error","title":"Extend an entity class in JPA throws Unknown column &#39;DTYPE&#39; in &#39;field list&#39; error","body":"<pre><code>@Entity\n@Table(name = \"PERSON\")\n@Inheritance(strategy=InheritanceType.SINGLE_TABLE)  \npublic class Person {    \n    @Id\n    @GeneratedValue\n    @Column(name = \"PERSON_ID\")\n    private Long personId;\n\n    @Column(name = \"FIRSTNAME\")\n    private String firstname;\n\n    @Column(name = \"LASTNAME\")\n    private String lastname;\n\n    // Constructors and Getter/Setter methods, \n}\n</code></pre>\n\n<p>Employee class extends Person</p>\n\n<pre><code>@Entity    \npublic class Employee extends Person {\n\n    @Transient\n    private Date joiningDate;   \n\n\n    // Copy Constructors and Getter/Setter methods, \n}\n</code></pre>\n\n<p>The Employee class has only a transient object So I am not sure about using of @DiscriminatorColumn and @DiscriminatorValue, When i tried without using Discriminator that throws error</p>\n\n<pre><code>session.save(employee);\n</code></pre>\n\n<p>I am trying to save Employee object that throws Unknown column 'DTYPE' in 'field list' error</p>\n"},{"tags":["java","algorithm","big-o"],"comments":[{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":3,"creation_date":1669049428,"post_id":74522221,"comment_id":131549533,"body_markdown":"The most inner loop is executed in quadratic time (not constant), hence it should be `O(n) * O(n^2) * O(n^2)` = `O(n^5)`","body":"The most inner loop is executed in quadratic time (not constant), hence it should be <code>O(n) * O(n^2) * O(n^2)</code> = <code>O(n^5)</code>"}],"answers":[{"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669049425,"creation_date":1669049425,"answer_id":74522291,"question_id":74522221,"body_markdown":"The second loop isn&#39;t `O(n)`, it&#39;s `O(n^2)` by itself.","title":"What is the Time Complexity for the 3 nested loops below?","body":"<p>The second loop isn't <code>O(n)</code>, it's <code>O(n^2)</code> by itself.</p>\n"},{"comments":[{"owner":{"account_id":14620231,"reputation":4320,"user_id":10559142,"display_name":"Berthur"},"score":2,"creation_date":1669050184,"post_id":74522308,"comment_id":131549784,"body_markdown":"The 3rd loop does not run *n^2* times but it does run *O(n^2)*. times. Better to stay formal to avoid confusion.","body":"The 3rd loop does not run <i>n^2</i> times but it does run <i>O(n^2)</i>. times. Better to stay formal to avoid confusion."},{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":1,"creation_date":1669050852,"post_id":74522308,"comment_id":131550004,"body_markdown":"Yeah, formality was never my favourite... I&#39;ll leave the post as it is, I guess your comment as a hint should suffice, thanks :)","body":"Yeah, formality was never my favourite... I&#39;ll leave the post as it is, I guess your comment as a hint should suffice, thanks :)"}],"tags":[],"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669049473,"creation_date":1669049473,"answer_id":74522308,"question_id":74522221,"body_markdown":"    for (int i = 0; i &lt; n; i++) -&gt; runs n times.\r\n     for (int j = 0; j &lt; n * n; j++) -&gt; runs n&#178; times.\r\n      for (int k = 0; k &lt; j; k++) -&gt; runs n&#178; times (k == j == n&#178;)\r\n\r\n    n * n&#178; * n&#178; = n^5.\r\n\r\nsum+++ is an operation of constant runtime (1) and can therefore be ignored.\r\n\r\n\r\n","title":"What is the Time Complexity for the 3 nested loops below?","body":"<pre><code>for (int i = 0; i &lt; n; i++) -&gt; runs n times.\n for (int j = 0; j &lt; n * n; j++) -&gt; runs n² times.\n  for (int k = 0; k &lt; j; k++) -&gt; runs n² times (k == j == n²)\n\nn * n² * n² = n^5.\n</code></pre>\n<p>sum+++ is an operation of constant runtime (1) and can therefore be ignored.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669049596,"creation_date":1669049596,"answer_id":74522335,"question_id":74522221,"body_markdown":"The most inner loop is executed in quadratic time (not constant), hence it should be `O(n) * O(n^2) * O(n^2) = O(n^5)`.\r\n\r\nHere are all the costs:\r\n\r\n* Most outer loop - `O(n)`\r\n\r\n* The second loop - `O(n^2)` for each element for the outer loop\r\n\r\n* The most inner loop - `O(n^2)` for each element for the second loop\r\n","title":"What is the Time Complexity for the 3 nested loops below?","body":"<p>The most inner loop is executed in quadratic time (not constant), hence it should be <code>O(n) * O(n^2) * O(n^2) = O(n^5)</code>.</p>\n<p>Here are all the costs:</p>\n<ul>\n<li><p>Most outer loop - <code>O(n)</code></p>\n</li>\n<li><p>The second loop - <code>O(n^2)</code> for each element for the outer loop</p>\n</li>\n<li><p>The most inner loop - <code>O(n^2)</code> for each element for the second loop</p>\n</li>\n</ul>\n"}],"owner":{"account_id":27004171,"reputation":23,"user_id":20564942,"display_name":"Aldrin Lizardo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":74522335,"answer_count":3,"score":1,"last_activity_date":1669059671,"creation_date":1669049170,"question_id":74522221,"body_markdown":"Here&#39;s the code:\r\n\r\n```\r\nfor (int i = 0; i &lt; n; i++) {\r\n    for (int j = 0; j &lt; n * n; j++) {\r\n        for (int k = 0; k &lt; j; k++) {\r\n            sum++;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI need to evaluate the Time complexity in Big-O notation of the nested loops above.\r\n\r\nIs it just `O(n) * O(n) * O(n) + O(1)` to make `O(n^3)`? Or is there more to it?","title":"What is the Time Complexity for the 3 nested loops below?","body":"<p>Here's the code:</p>\n<pre><code>for (int i = 0; i &lt; n; i++) {\n    for (int j = 0; j &lt; n * n; j++) {\n        for (int k = 0; k &lt; j; k++) {\n            sum++;\n        }\n    }\n}\n</code></pre>\n<p>I need to evaluate the Time complexity in Big-O notation of the nested loops above.</p>\n<p>Is it just <code>O(n) * O(n) * O(n) + O(1)</code> to make <code>O(n^3)</code>? Or is there more to it?</p>\n"},{"tags":["java","filesystems"],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1609969083,"creation_date":1609969083,"answer_id":65603712,"question_id":65600876,"body_markdown":"You don&#39;t need to fix this.\r\n\r\n* `sun.awt.resources.spi.awtProvider` is a class name that is automatically generated as a possible resource bundle provider. If the class is not found it will be ignored.\r\n\r\nSee the source at https://github.com/openjdk/jdk11u/blob/master/src/java.desktop/share/classes/java/awt/Toolkit.java#L1416:\r\n\r\n                try {\r\n                    resources = ResourceBundle.getBundle(&quot;sun.awt.resources.awt&quot;);\r\n                } catch (MissingResourceException e) {\r\n                    // No resource file; defaults will be used.\r\n                }\r\n\r\n* `accessibility.properties` is an optional file that can be used to configure assistive technologies. If this file is not found nothing changes.\r\n\r\nAccording to the sources at https://github.com/openjdk/jdk11u/blob/master/src/java.desktop/share/classes/java/awt/Toolkit.java#L423:\r\n\r\n                    try {\r\n                        File propsFile = new File(\r\n                            System.getProperty(&quot;java.home&quot;) + sep + &quot;conf&quot; +\r\n                            sep + &quot;accessibility.properties&quot;);\r\n                        FileInputStream in =\r\n                            new FileInputStream(propsFile);\r\n\r\n                        // Inputstream has been buffered in Properties class\r\n                        properties.load(in);\r\n                        in.close();\r\n                    } catch (Exception e) {\r\n                        // System-wide accessibility properties file does\r\n                        // not exist;\r\n                    }\r\n","title":"My java program is throwing java.lang.ClassNotFoundException for some AWT classes what do I do?","body":"<p>You don't need to fix this.</p>\n<ul>\n<li><code>sun.awt.resources.spi.awtProvider</code> is a class name that is automatically generated as a possible resource bundle provider. If the class is not found it will be ignored.</li>\n</ul>\n<p>See the source at <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.desktop/share/classes/java/awt/Toolkit.java#L1416\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk11u/blob/master/src/java.desktop/share/classes/java/awt/Toolkit.java#L1416</a>:</p>\n<pre><code>            try {\n                resources = ResourceBundle.getBundle(&quot;sun.awt.resources.awt&quot;);\n            } catch (MissingResourceException e) {\n                // No resource file; defaults will be used.\n            }\n</code></pre>\n<ul>\n<li><code>accessibility.properties</code> is an optional file that can be used to configure assistive technologies. If this file is not found nothing changes.</li>\n</ul>\n<p>According to the sources at <a href=\"https://github.com/openjdk/jdk11u/blob/master/src/java.desktop/share/classes/java/awt/Toolkit.java#L423\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk11u/blob/master/src/java.desktop/share/classes/java/awt/Toolkit.java#L423</a>:</p>\n<pre><code>                try {\n                    File propsFile = new File(\n                        System.getProperty(&quot;java.home&quot;) + sep + &quot;conf&quot; +\n                        sep + &quot;accessibility.properties&quot;);\n                    FileInputStream in =\n                        new FileInputStream(propsFile);\n\n                    // Inputstream has been buffered in Properties class\n                    properties.load(in);\n                    in.close();\n                } catch (Exception e) {\n                    // System-wide accessibility properties file does\n                    // not exist;\n                }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19129548,"reputation":1,"user_id":13971784,"display_name":"John D"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669059626,"creation_date":1669059626,"answer_id":74524113,"question_id":65600876,"body_markdown":"There are many such exceptions during normal startup of a Java program.  To avoid stopping at each, turn off the generic &quot;Caught Exceptions&quot; breakpoint in your debugger until execution reaches your own code.\r\n","title":"My java program is throwing java.lang.ClassNotFoundException for some AWT classes what do I do?","body":"<p>There are many such exceptions during normal startup of a Java program.  To avoid stopping at each, turn off the generic &quot;Caught Exceptions&quot; breakpoint in your debugger until execution reaches your own code.</p>\n"}],"owner":{"account_id":20381882,"reputation":3,"user_id":14951820,"display_name":"byteAtDawn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":730,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":65603712,"answer_count":2,"score":-1,"last_activity_date":1669059626,"creation_date":1609955489,"question_id":65600876,"body_markdown":"when I ran the Java debugger, I found this &quot;java.lang.ClassNotFoundException: sun/awt/resources/spi/awtProvider&quot; and &quot;java.io.FileNotFoundException: C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.6.10-hotspot\\conf\\accessibility.properties (The system cannot find the file specified)&quot; I think I know why, my data storage was running low so I moved my programs to a different drive, is that why it can&#39;t find java API classes? how do I fix this?","title":"My java program is throwing java.lang.ClassNotFoundException for some AWT classes what do I do?","body":"<p>when I ran the Java debugger, I found this &quot;java.lang.ClassNotFoundException: sun/awt/resources/spi/awtProvider&quot; and &quot;java.io.FileNotFoundException: C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.6.10-hotspot\\conf\\accessibility.properties (The system cannot find the file specified)&quot; I think I know why, my data storage was running low so I moved my programs to a different drive, is that why it can't find java API classes? how do I fix this?</p>\n"},{"tags":["java","equals","hashcode"],"comments":[{"owner":{"account_id":62234,"reputation":19819,"user_id":185034,"accept_rate":100,"display_name":"Paul"},"score":5,"creation_date":1312560734,"post_id":6959307,"comment_id":8297957,"body_markdown":"No library can take care of `equals` for you - only you know what makes two objects equal.  What IDE are you using that doesn&#39;t generate `hashCode` for you?  And why are you having to do so much maintenance on `equals` and `hashCode`?","body":"No library can take care of <code>equals</code> for you - only you know what makes two objects equal.  What IDE are you using that doesn&#39;t generate <code>hashCode</code> for you?  And why are you having to do so much maintenance on <code>equals</code> and <code>hashCode</code>?"},{"owner":{"account_id":36964,"reputation":126505,"user_id":105570,"accept_rate":67,"display_name":"Dan Tao"},"score":1,"creation_date":1312561602,"post_id":6959307,"comment_id":8298182,"body_markdown":"I understand that in the Java community it&#39;s common to implement these methods for basically every POJO, but I have to ask: are you actually using all of your POJO types as keys in hash tables? Are you comparing them for equality? If not, then why even bother?","body":"I understand that in the Java community it&#39;s common to implement these methods for basically every POJO, but I have to ask: are you actually using all of your POJO types as keys in hash tables? Are you comparing them for equality? If not, then why even bother?"},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1312563264,"post_id":6959307,"comment_id":8298637,"body_markdown":"@Paul - NetBeans, and it generates; only, I have to re-generate every time, and also it makes 10&#39;s of lines of code. Also, the lib could use reflection when generating, so why couldn&#39;t it handle equals?","body":"@Paul - NetBeans, and it generates; only, I have to re-generate every time, and also it makes 10&#39;s of lines of code. Also, the lib could use reflection when generating, so why couldn&#39;t it handle equals?"},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1312563401,"post_id":6959307,"comment_id":8298672,"body_markdown":"@Dan - well, I don&#39;t, but various frameworks do - e.g. web frameworks. Keeping track of what instance gets where and when may be difficult in an app with many paradigms used - with all that caching, injection, serialization in components between requests...","body":"@Dan - well, I don&#39;t, but various frameworks do - e.g. web frameworks. Keeping track of what instance gets where and when may be difficult in an app with many paradigms used - with all that caching, injection, serialization in components between requests..."},{"owner":{"account_id":150501,"reputation":78480,"user_id":363751,"accept_rate":35,"display_name":"supercat"},"score":0,"creation_date":1386352080,"post_id":6959307,"comment_id":30517050,"body_markdown":"@OndraŽižka: Java&#39;s expressiveness is limited by the lack of any declarative distinction between a reference which encapsulates the *state* of an unshared mutable or sharable  immutable object, and one which encapsulates the *identity* of a shared object.  References which are used to encapsulate state should match if the *states* of the identified objects match.  By contrast, those which encapsulate identity should only match if they identify the *same* object.  To define an equivalence relation, one must know the purpose of the things being compared.","body":"@OndraŽižka: Java&#39;s expressiveness is limited by the lack of any declarative distinction between a reference which encapsulates the <i>state</i> of an unshared mutable or sharable  immutable object, and one which encapsulates the <i>identity</i> of a shared object.  References which are used to encapsulate state should match if the <i>states</i> of the identified objects match.  By contrast, those which encapsulate identity should only match if they identify the <i>same</i> object.  To define an equivalence relation, one must know the purpose of the things being compared."},{"owner":{"account_id":1291135,"reputation":2869,"user_id":2587343,"display_name":"Vlastimil Ovč&#225;č&#237;k"},"score":0,"creation_date":1455215259,"post_id":6959307,"comment_id":58401477,"body_markdown":"How can you *&quot;prefer bytecode instrumentation over AOP approach&quot;* when AOP is based on bytecode instrumentation? Did you mean compile-time vs load-time instrumentation?","body":"How can you <i>&quot;prefer bytecode instrumentation over AOP approach&quot;</i> when AOP is based on bytecode instrumentation? Did you mean compile-time vs load-time instrumentation?"},{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":1,"creation_date":1519833252,"post_id":6959307,"comment_id":85071831,"body_markdown":"@VlastimilOvč&#225;č&#237;k Yes, I think it&#39;s clear from the context: I prefer Lombok way rather than AOP way.","body":"@VlastimilOvč&#225;č&#237;k Yes, I think it&#39;s clear from the context: I prefer Lombok way rather than AOP way."}],"answers":[{"comments":[{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1312564103,"post_id":6959336,"comment_id":8298878,"body_markdown":"Nah... but thanks for getting me finally check what it&#39;s capable of.","body":"Nah... but thanks for getting me finally check what it&#39;s capable of."}],"tags":[],"owner":{"account_id":77528,"reputation":30998,"user_id":221213,"accept_rate":93,"display_name":"KARASZI Istv&#225;n"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1467103348,"creation_date":1312560813,"answer_id":6959336,"question_id":6959307,"body_markdown":"What about [Guava][1]&#39;s [`Objects.hashCode`][2] and [`Objects.equal`][3]?\r\n\r\n\r\n  [1]: https://github.com/google/guava\r\n  [2]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Objects.html#hashCode(java.lang.Object...)\r\n  [3]: http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Objects.html#equal(java.lang.Object,%20java.lang.Object)","title":"Java: Automatic equals() and hashCode()","body":"<p>What about <a href=\"https://github.com/google/guava\" rel=\"nofollow\">Guava</a>'s <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Objects.html#hashCode(java.lang.Object...)\" rel=\"nofollow\"><code>Objects.hashCode</code></a> and <a href=\"http://google.github.io/guava/releases/snapshot/api/docs/com/google/common/base/Objects.html#equal(java.lang.Object,%20java.lang.Object)\" rel=\"nofollow\"><code>Objects.equal</code></a>?</p>\n"},{"comments":[{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1312564429,"post_id":6959347,"comment_id":8298979,"body_markdown":"That&#39;s probably what I look for. Only pity it&#39;s not integrated with NetBeans.","body":"That&#39;s probably what I look for. Only pity it&#39;s not integrated with NetBeans."}],"tags":[],"owner":{"account_id":20634,"reputation":12774,"user_id":49505,"display_name":"joschi"},"comment_count":1,"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1312560891,"creation_date":1312560891,"answer_id":6959347,"question_id":6959307,"body_markdown":"[Project Lombok][1] provides the annotation [@EqualsAndHashCode][2] which will generate `equals()` and `hashCode()` for your Java classes. Of course there are some drawbacks in comparison to manually implementing these methods, so make sure you read the &quot;small print&quot; on the linked page.\r\n\r\n\r\n  [1]: http://projectlombok.org/\r\n  [2]: http://projectlombok.org/features/EqualsAndHashCode.html","title":"Java: Automatic equals() and hashCode()","body":"<p><a href=\"http://projectlombok.org/\" rel=\"noreferrer\">Project Lombok</a> provides the annotation <a href=\"http://projectlombok.org/features/EqualsAndHashCode.html\" rel=\"noreferrer\">@EqualsAndHashCode</a> which will generate <code>equals()</code> and <code>hashCode()</code> for your Java classes. Of course there are some drawbacks in comparison to manually implementing these methods, so make sure you read the \"small print\" on the linked page.</p>\n"},{"comments":[{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1312564613,"post_id":6959467,"comment_id":8299028,"body_markdown":"+1 for 2nd paragraph, but isn&#39;t it better to have it done right upfront with minimal effort rather than digging in the code, adding hC/eq when it comes to it?","body":"+1 for 2nd paragraph, but isn&#39;t it better to have it done right upfront with minimal effort rather than digging in the code, adding hC/eq when it comes to it?"},{"owner":{"account_id":268636,"reputation":8124,"user_id":557500,"display_name":"rfeak"},"score":0,"creation_date":1312573413,"post_id":6959467,"comment_id":8301450,"body_markdown":"Like everything, it ends up being a trade off. It&#39;s nice if it&#39;s done up front, but implementing it when actually needed hasn&#39;t proven overly difficult in my experience. Of course, I usually have tests that tell me when I missed implementing it. :)","body":"Like everything, it ends up being a trade off. It&#39;s nice if it&#39;s done up front, but implementing it when actually needed hasn&#39;t proven overly difficult in my experience. Of course, I usually have tests that tell me when I missed implementing it. :)"}],"tags":[],"owner":{"account_id":268636,"reputation":8124,"user_id":557500,"display_name":"rfeak"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1312561447,"creation_date":1312561447,"answer_id":6959467,"question_id":6959307,"body_markdown":"The Apache commons-lang library has a HashCodeBuilder and EqualsBuilder that will do some of the work for you and shorten those methods. There are even reflection versions that will do it all for you based on the fields in the POJOs. However, I wouldn&#39;t recommend that. Reflection can be slow (though not as bad as many think), and you should implement them to be sure that only the correct fields are considered for equality.\r\n\r\nMy question is, do you really need to do this? Often hashcode and equals on POJOs only need to be implemented for use with Maps or Sets. In the case of Maps, usually you would use an ID for a key, which isn&#39;t the Pojo itself. So, .... are you making work for yourself?","title":"Java: Automatic equals() and hashCode()","body":"<p>The Apache commons-lang library has a HashCodeBuilder and EqualsBuilder that will do some of the work for you and shorten those methods. There are even reflection versions that will do it all for you based on the fields in the POJOs. However, I wouldn't recommend that. Reflection can be slow (though not as bad as many think), and you should implement them to be sure that only the correct fields are considered for equality.</p>\n\n<p>My question is, do you really need to do this? Often hashcode and equals on POJOs only need to be implemented for use with Maps or Sets. In the case of Maps, usually you would use an ID for a key, which isn't the Pojo itself. So, .... are you making work for yourself?</p>\n"},{"tags":[],"owner":{"account_id":1212298,"reputation":27085,"user_id":1180621,"accept_rate":100,"display_name":"Andrejs"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411723362,"creation_date":1411723362,"answer_id":26056196,"question_id":6959307,"body_markdown":"You can use Google&#39;s **[AutoValue][1]** library to automatically generate immutable value classes with `equals` and `hashCode`. These value classes are somewhat similar to Scala&#39;s case classes or those generated by Lombok. \r\n\r\nThere&#39;s also a [post][2] on how to use it in an IDE.\r\n\r\n  [1]: https://github.com/google/auto/tree/master/value\r\n  [2]: http://www.codeaffine.com/2014/03/04/using-the-autovalue-code-generator-in-eclipse/","title":"Java: Automatic equals() and hashCode()","body":"<p>You can use Google's <strong><a href=\"https://github.com/google/auto/tree/master/value\" rel=\"nofollow\">AutoValue</a></strong> library to automatically generate immutable value classes with <code>equals</code> and <code>hashCode</code>. These value classes are somewhat similar to Scala's case classes or those generated by Lombok. </p>\n\n<p>There's also a <a href=\"http://www.codeaffine.com/2014/03/04/using-the-autovalue-code-generator-in-eclipse/\" rel=\"nofollow\">post</a> on how to use it in an IDE.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1669058938,"creation_date":1538684436,"answer_id":52654575,"question_id":6959307,"body_markdown":"# `Objects.hashCode` &amp; `Objects.hash` \r\n\r\nWhile not the panacea you requested, writing the `hashCode` override is a bit easier now as of Java 7 and later.\r\n\r\nAs of [Java 7][1], the [`Objects`][2] class offers a couple of utility methods for generating hash code values.\r\n\r\nSee [my Answer][3] on a related Question for more discussion.\r\n\r\n - If your `hashCode` (and `equals`) override is based on a single member of your class, use [`Objects.hashCode( member )`][4]. \r\n - If your `hashCode` (and `equals`) override is based on multiple attribute of your class, use [`Objects.hash( memberA , memberB , memberC )`][5]. \r\n\r\n### Single member, not tolerating a NULL\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return this.member.hashCode() ;  // Throws NullPointerException if member variable is null.\r\n    }\r\n\r\n### Single member, tolerating a NULL\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hashCode( this.member ) ;  // Returns zero (0) if `this.member` is NULL, rather than throwing exception.\r\n    }\r\n\r\n### Multi-member\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash( this.memberA , this.memberB , this.memberC  ) ;  // Hashes the result of all the passed objects’ individual hash codes.  \r\n    }\r\n\r\n\r\n----------\r\n\r\nFor an automatically generated `hashCode` &amp; `equals` use a record, as discussed in [my other Answer][6].\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_7\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html\r\n  [3]: https://stackoverflow.com/a/52654058/642706\r\n  [4]: https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#hashCode(java.lang.Object)\r\n  [5]: https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#hash(java.lang.Object...)\r\n  [6]: https://stackoverflow.com/a/72142785/642706","title":"Java: Automatic equals() and hashCode()","body":"<h1><code>Objects.hashCode</code> &amp; <code>Objects.hash</code></h1>\n<p>While not the panacea you requested, writing the <code>hashCode</code> override is a bit easier now as of Java 7 and later.</p>\n<p>As of <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_7\" rel=\"nofollow noreferrer\">Java 7</a>, the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html\" rel=\"nofollow noreferrer\"><code>Objects</code></a> class offers a couple of utility methods for generating hash code values.</p>\n<p>See <a href=\"https://stackoverflow.com/a/52654058/642706\">my Answer</a> on a related Question for more discussion.</p>\n<ul>\n<li>If your <code>hashCode</code> (and <code>equals</code>) override is based on a single member of your class, use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#hashCode(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>Objects.hashCode( member )</code></a>.</li>\n<li>If your <code>hashCode</code> (and <code>equals</code>) override is based on multiple attribute of your class, use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Objects.html#hash(java.lang.Object...)\" rel=\"nofollow noreferrer\"><code>Objects.hash( memberA , memberB , memberC )</code></a>.</li>\n</ul>\n<h3>Single member, not tolerating a NULL</h3>\n<pre><code>@Override\npublic int hashCode() {\n    return this.member.hashCode() ;  // Throws NullPointerException if member variable is null.\n}\n</code></pre>\n<h3>Single member, tolerating a NULL</h3>\n<pre><code>@Override\npublic int hashCode() {\n    return Objects.hashCode( this.member ) ;  // Returns zero (0) if `this.member` is NULL, rather than throwing exception.\n}\n</code></pre>\n<h3>Multi-member</h3>\n<pre><code>@Override\npublic int hashCode() {\n    return Objects.hash( this.memberA , this.memberB , this.memberC  ) ;  // Hashes the result of all the passed objects’ individual hash codes.  \n}\n</code></pre>\n<hr />\n<p>For an automatically generated <code>hashCode</code> &amp; <code>equals</code> use a record, as discussed in <a href=\"https://stackoverflow.com/a/72142785/642706\">my other Answer</a>.</p>\n"},{"comments":[{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1653419784,"post_id":72142785,"comment_id":127847324,"body_markdown":"Nice. That looks much like Kotlin&#39;s `data class`.","body":"Nice. That looks much like Kotlin&#39;s <code>data class</code>."}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669059029,"creation_date":1651845844,"answer_id":72142785,"question_id":6959307,"body_markdown":"# Records\r\n\r\n[Java 16][1] gained a new feature, [records][2]. \r\n\r\nIf the main purpose of your class is to *communicate data transparently and immutably*, write the class as a record. \r\n\r\nBy default, you need do nothing more than declare the member fields. The compiler implicitly creates the constructor, getters, `equals` &amp; `hashCode`, and `toString`. \r\n\r\n\r\n    record Person ( String givenName , String surname ) {}\r\n\r\n    record Point ( int x , int y ) {}\r\n\r\n    record User ( UUID id, String name ) {}\r\n\r\nThe default behavior of a record’s `equals` &amp; `hashCode` is to consider each and every member field. You can override to provide your own logic. \r\n\r\nI highly recommend reading the Java JEP linked above. You’ll learn that the purpose of the *record* feature is *not* a reduction in boilerplate. Less code is a nice extra benefit. But if you choose `record` only for  less typing, you’ll likely be abusing the feature. Such abuse may confuse people reading your code, and may lead to other problems. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Java_version_history#Java_16\r\n  [2]: https://openjdk.java.net/jeps/395","title":"Java: Automatic equals() and hashCode()","body":"<h1>Records</h1>\n<p><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_16\" rel=\"nofollow noreferrer\">Java 16</a> gained a new feature, <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">records</a>.</p>\n<p>If the main purpose of your class is to <em>communicate data transparently and immutably</em>, write the class as a record.</p>\n<p>By default, you need do nothing more than declare the member fields. The compiler implicitly creates the constructor, getters, <code>equals</code> &amp; <code>hashCode</code>, and <code>toString</code>.</p>\n<pre><code>record Person ( String givenName , String surname ) {}\n\nrecord Point ( int x , int y ) {}\n\nrecord User ( UUID id, String name ) {}\n</code></pre>\n<p>The default behavior of a record’s <code>equals</code> &amp; <code>hashCode</code> is to consider each and every member field. You can override to provide your own logic.</p>\n<p>I highly recommend reading the Java JEP linked above. You’ll learn that the purpose of the <em>record</em> feature is <em>not</em> a reduction in boilerplate. Less code is a nice extra benefit. But if you choose <code>record</code> only for  less typing, you’ll likely be abusing the feature. Such abuse may confuse people reading your code, and may lead to other problems.</p>\n"}],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14524,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":6959347,"answer_count":6,"score":23,"last_activity_date":1669059029,"creation_date":1312560629,"question_id":6959307,"body_markdown":"Implementing `equals()` and `hashCode()` for simple data POJOs is cluttering my code and maintaining is tedious.\r\n\r\nWhat are the libraries handling this automatically?  \r\nI prefer bytecode instrumentation over AOP approach due to performance reasons.\r\n\r\n**Update:** The topic of the necessity of implementing equals() and hashCode() has been discussed, here&#39;s my point:\r\n\r\nIsn&#39;t it better to have it done right upfront with minimal effort rather than digging in the code, adding hC/eq when it comes to it?\r\n\r\n**Edit 2022:** I have switched to Kotlin. Kotlin takes care of most of Java&#39;s boilerplate, see this page for the case of `equals()`: https://tedblob.com/kotlin-data-class/","title":"Java: Automatic equals() and hashCode()","body":"<p>Implementing <code>equals()</code> and <code>hashCode()</code> for simple data POJOs is cluttering my code and maintaining is tedious.</p>\n<p>What are the libraries handling this automatically?<br />\nI prefer bytecode instrumentation over AOP approach due to performance reasons.</p>\n<p><strong>Update:</strong> The topic of the necessity of implementing equals() and hashCode() has been discussed, here's my point:</p>\n<p>Isn't it better to have it done right upfront with minimal effort rather than digging in the code, adding hC/eq when it comes to it?</p>\n<p><strong>Edit 2022:</strong> I have switched to Kotlin. Kotlin takes care of most of Java's boilerplate, see this page for the case of <code>equals()</code>: <a href=\"https://tedblob.com/kotlin-data-class/\" rel=\"nofollow noreferrer\">https://tedblob.com/kotlin-data-class/</a></p>\n"},{"tags":["java","spring-boot","cassandra","spring-data","spring-data-cassandra"],"answers":[{"tags":[],"owner":{"account_id":26956983,"reputation":11,"user_id":20525175,"display_name":"Andrew Orlowski"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669058126,"creation_date":1669058108,"answer_id":74523863,"question_id":74468974,"body_markdown":"I guess CassandraRepository does not have an @EntityManager. Instead, I found it was possible to autowire a CassandraOperations:\r\n\r\n```\r\n@Autowired\r\nprivate CassandraOperations cassandraTemplate;\r\n```","title":"Bean of type EntityManagerFactory could not be found","body":"<p>I guess CassandraRepository does not have an @EntityManager. Instead, I found it was possible to autowire a CassandraOperations:</p>\n<pre><code>@Autowired\nprivate CassandraOperations cassandraTemplate;\n</code></pre>\n"}],"owner":{"account_id":26956983,"reputation":11,"user_id":20525175,"display_name":"Andrew Orlowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669058126,"creation_date":1668646833,"question_id":74468974,"body_markdown":"I have the following Repositories:\r\n\r\n\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends CassandraRepository&lt;User, String&gt;, UserFilteringRepository {\r\n\r\n}\r\n```\r\n```\r\npublic interface UserFilteringRepository {\r\n    List&lt;User&gt; findWithFilters(String userId);\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\npublic class UserFilteringRepositoryImpl implements UserFilteringRepository {\r\n    @PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    @Override\r\n    public List&lt;User&gt; findWithFilters(String userId) {\r\n        return null;\r\n    }\r\n}\r\n```\r\n\r\nBefore I attempted to gain access to the EntityManager, the application was working fine. The Repository was able to create, delete, get, etc for Entities.\r\n\r\nHowever, adding the UserFilteringRepository and UserFilteringRepositoryImpl causes the following Exception on bootstrap:\r\n\r\n```\r\nField userRepository in serverUserService required a bean of type &#39;javax.persistence.EntityManagerFactory&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;javax.persistence.EntityManagerFactory&#39; in your configuration.\r\n```\r\n\r\nI am using the spring-boot-starter maven dependencies &amp; do not have an explicit hibernate dependency anywhere.\r\n\r\nMy understanding is that the Repository uses the EntityManager underneath, so I&#39;m not sure why the bean isn&#39;t there given that the Repository on its own is working fine.\r\n\r\nI have tried:\r\n\r\n1. Specifying a different Hibernate version in Maven\r\n2. Using @PersistenceUnit instead of @PersistenceContext to try to get direct access to the EMF\r\n\r\n","title":"Bean of type EntityManagerFactory could not be found","body":"<p>I have the following Repositories:</p>\n<pre><code>@Repository\npublic interface UserRepository extends CassandraRepository&lt;User, String&gt;, UserFilteringRepository {\n\n}\n</code></pre>\n<pre><code>public interface UserFilteringRepository {\n    List&lt;User&gt; findWithFilters(String userId);\n}\n\n</code></pre>\n<pre><code>public class UserFilteringRepositoryImpl implements UserFilteringRepository {\n    @PersistenceContext\n    private EntityManager entityManager;\n\n    @Override\n    public List&lt;User&gt; findWithFilters(String userId) {\n        return null;\n    }\n}\n</code></pre>\n<p>Before I attempted to gain access to the EntityManager, the application was working fine. The Repository was able to create, delete, get, etc for Entities.</p>\n<p>However, adding the UserFilteringRepository and UserFilteringRepositoryImpl causes the following Exception on bootstrap:</p>\n<pre><code>Field userRepository in serverUserService required a bean of type 'javax.persistence.EntityManagerFactory' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'javax.persistence.EntityManagerFactory' in your configuration.\n</code></pre>\n<p>I am using the spring-boot-starter maven dependencies &amp; do not have an explicit hibernate dependency anywhere.</p>\n<p>My understanding is that the Repository uses the EntityManager underneath, so I'm not sure why the bean isn't there given that the Repository on its own is working fine.</p>\n<p>I have tried:</p>\n<ol>\n<li>Specifying a different Hibernate version in Maven</li>\n<li>Using @PersistenceUnit instead of @PersistenceContext to try to get direct access to the EMF</li>\n</ol>\n"},{"tags":["java","math.round"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1669054283,"post_id":74523170,"comment_id":131551133,"body_markdown":"There’s no sense in rounding an integer to an integer. An integer is already an integer. Consequently, there is no `round(int)` method. You are calling `round(float)`, implicitly converting the value to `float` and back to `int`. Not different to, e.g. `System.out.println(&quot;roundOff1: &quot;+(int)(float)1669053278);`","body":"There’s no sense in rounding an integer to an integer. An integer is already an integer. Consequently, there is no <code>round(int)</code> method. You are calling <code>round(float)</code>, implicitly converting the value to <code>float</code> and back to <code>int</code>. Not different to, e.g. <code>System.out.println(&quot;roundOff1: &quot;+(int)(float)1669053278);</code>"},{"owner":{"account_id":1888690,"reputation":3005,"user_id":1707353,"accept_rate":91,"display_name":"Jeff Holt"},"score":0,"creation_date":1669054565,"post_id":74523170,"comment_id":131551220,"body_markdown":"Missing? Yes, implicit type conversion from int to float. Converting that integer to float causes loss of precision. Assign the integer to a float and then print it using %f. Then you&#39;ll get it.","body":"Missing? Yes, implicit type conversion from int to float. Converting that integer to float causes loss of precision. Assign the integer to a float and then print it using %f. Then you&#39;ll get it."}],"answers":[{"tags":[],"owner":{"display_name":"user20331188"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669054797,"creation_date":1669054797,"answer_id":74523289,"question_id":74523170,"body_markdown":"int values dont have decimal places so they cant be rounded  so u need to add an extra parametre to round method \r\neg to round to nearest 10 you can use \r\n\r\n     Math. round(num/10.0) * 10;","title":"Java: Math.round function not working with integer","body":"<p>int values dont have decimal places so they cant be rounded  so u need to add an extra parametre to round method\neg to round to nearest 10 you can use</p>\n<pre><code> Math. round(num/10.0) * 10;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669055068,"creation_date":1669055068,"answer_id":74523344,"question_id":74523170,"body_markdown":"    public static void main(String[] args) {\r\n    \r\n        System.out.println(&quot;roundOff1: &quot; + Math.round(1669053278d));\r\n        System.out.println(&quot;roundOff2: &quot; + Math.round(1669053304d));\r\n        System.out.println(&quot;roundOff3: &quot; + Math.round(1669053314d));\r\n        System.out.println(&quot;roundOff4: &quot; + Math.round(1669053339d));\r\n    }\r\n\r\nYou need to use double value as shown above. Math.round(double) return long. But Math.round(float) returns int. By default, your code was using Math.round(float) &amp; the result value was out of int range. That was the issue\r\n\r\n","title":"Java: Math.round function not working with integer","body":"<pre><code>public static void main(String[] args) {\n\n    System.out.println(&quot;roundOff1: &quot; + Math.round(1669053278d));\n    System.out.println(&quot;roundOff2: &quot; + Math.round(1669053304d));\n    System.out.println(&quot;roundOff3: &quot; + Math.round(1669053314d));\n    System.out.println(&quot;roundOff4: &quot; + Math.round(1669053339d));\n}\n</code></pre>\n<p>You need to use double value as shown above. Math.round(double) return long. But Math.round(float) returns int. By default, your code was using Math.round(float) &amp; the result value was out of int range. That was the issue</p>\n"},{"tags":[],"owner":{"account_id":27004989,"reputation":1,"user_id":20565623,"display_name":"RadAstronomer"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669055693,"creation_date":1669055693,"answer_id":74523449,"question_id":74523170,"body_markdown":"The reason why it does not work in your case is because the rounding function can only optimally work **if your data is a decimal!**\r\n**Your numerical data are whole numbers** (numbers without a decimal). **As a result, the Math.round function will not work!**\r\nSo, to use the Math.round function correctly, you have to have decimal numericals as your data.\r\n\r\nTo illustrate this, I have written your code and added decimals to showcase you the optimal output of the Math.round() on Java:\r\n\r\n    import java.lang.Math; \r\n    class RoundingNumbers{\r\n    public static void main(String[] args){\r\n    double first_parameter = 1669053278.3;\r\n    System.out.println(&quot;roundOff1: &quot; + Math.round(first_parameter));\r\n    double second_parameter = 1669053304.8;\r\n    System.out.println(&quot;roundOff2: &quot; + Math.round(second_parameter));\r\n    double third_parameter = 1669053314.8;\r\n    System.out.println(&quot;roundOff3: &quot; + Math.round(third_parameter));\r\n    double fourth_parameter = 1669053339.5;\r\n    System.out.println(&quot;roundOff4: &quot; + Math.round(fourth_parameter));\r\n    }\r\n\r\n","title":"Java: Math.round function not working with integer","body":"<p>The reason why it does not work in your case is because the rounding function can only optimally work <strong>if your data is a decimal!</strong>\n<strong>Your numerical data are whole numbers</strong> (numbers without a decimal). <strong>As a result, the Math.round function will not work!</strong>\nSo, to use the Math.round function correctly, you have to have decimal numericals as your data.</p>\n<p>To illustrate this, I have written your code and added decimals to showcase you the optimal output of the Math.round() on Java:</p>\n<pre><code>import java.lang.Math; \nclass RoundingNumbers{\npublic static void main(String[] args){\ndouble first_parameter = 1669053278.3;\nSystem.out.println(&quot;roundOff1: &quot; + Math.round(first_parameter));\ndouble second_parameter = 1669053304.8;\nSystem.out.println(&quot;roundOff2: &quot; + Math.round(second_parameter));\ndouble third_parameter = 1669053314.8;\nSystem.out.println(&quot;roundOff3: &quot; + Math.round(third_parameter));\ndouble fourth_parameter = 1669053339.5;\nSystem.out.println(&quot;roundOff4: &quot; + Math.round(fourth_parameter));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3212023,"reputation":1016,"user_id":17856705,"display_name":"Computable"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669058111,"creation_date":1669057087,"answer_id":74523694,"question_id":74523170,"body_markdown":"Try using `java.time.Instant` to accomplish your rounding of system time as in:\r\n\r\n    // the getEpochSecond() truncates - so add 500 millis first\r\n    long roundedSecs = Instant.now().plusMillis(500).getEpochSecond();\r\n\r\nAnd a demo program:\r\n\r\n    // use a loop iterating every 250millis to demonstrate rounding\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            Instant nowTime = Instant.now();\r\n            long b4 = nowTime.getEpochSecond();\r\n            \r\n            nowTime = nowTime.plusMillis(500);\r\n\r\n           long result = nowTime.getEpochSecond();\r\n           System.out.println(&quot;b4: &quot;+b4+&quot; after:&quot;+result);\r\n           Thread.sleep(250);\r\n        }\r\n        } catch (Exception e) {}\r\n    }\r\n\r\nPrints:\r\n\r\n    b4: 1669056744 after:1669056744\r\n    b4: 1669056744 after:1669056745\r\n    b4: 1669056745 after:1669056745\r\n    b4: 1669056745 after:1669056746\r\n    b4: 1669056745 after:1669056746\r\n    b4: 1669056746 after:1669056746\r\n    b4: 1669056746 after:1669056746\r\n    b4: 1669056746 after:1669056747\r\n    b4: 1669056746 after:1669056747\r\n    b4: 1669056747 after:1669056747\r\n\r\n","title":"Java: Math.round function not working with integer","body":"<p>Try using <code>java.time.Instant</code> to accomplish your rounding of system time as in:</p>\n<pre><code>// the getEpochSecond() truncates - so add 500 millis first\nlong roundedSecs = Instant.now().plusMillis(500).getEpochSecond();\n</code></pre>\n<p>And a demo program:</p>\n<pre><code>// use a loop iterating every 250millis to demonstrate rounding\n\npublic static void main(String[] args) {\n    try {\n    for (int i = 0; i &lt; 10; i++) {\n        Instant nowTime = Instant.now();\n        long b4 = nowTime.getEpochSecond();\n        \n        nowTime = nowTime.plusMillis(500);\n\n       long result = nowTime.getEpochSecond();\n       System.out.println(&quot;b4: &quot;+b4+&quot; after:&quot;+result);\n       Thread.sleep(250);\n    }\n    } catch (Exception e) {}\n}\n</code></pre>\n<p>Prints:</p>\n<pre><code>b4: 1669056744 after:1669056744\nb4: 1669056744 after:1669056745\nb4: 1669056745 after:1669056745\nb4: 1669056745 after:1669056746\nb4: 1669056745 after:1669056746\nb4: 1669056746 after:1669056746\nb4: 1669056746 after:1669056746\nb4: 1669056746 after:1669056747\nb4: 1669056746 after:1669056747\nb4: 1669056747 after:1669056747\n</code></pre>\n"}],"owner":{"account_id":10784581,"reputation":193,"user_id":7934026,"display_name":"Aayush Jain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":368,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1669058111,"creation_date":1669054059,"question_id":74523170,"body_markdown":"Looks like there is issue with java&#39;s `Math.round` function, when passing integer value to it.\r\nI ran it for couple of inputs but giving suprisingly wrong results.\r\n\r\nSample Code: \r\n\r\n```\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;roundOff1: &quot; + Math.round(1669053278));\r\n        System.out.println(&quot;roundOff2: &quot; + Math.round(1669053304));\r\n        System.out.println(&quot;roundOff3: &quot; + Math.round(1669053314));\r\n        System.out.println(&quot;roundOff4: &quot; + Math.round(1669053339));\r\n    }\r\n\r\n```\r\n\r\nStdout: \r\n```\r\nroundOff1: 1669053312\r\nroundOff2: 1669053312\r\nroundOff3: 1669053312\r\nroundOff4: 1669053312\r\n\r\n```\r\n\r\nMy use case was to round of the `System.currentTimeMillis()/1000` but end in getting wrong result. \r\nDid I really found a bug in Java or missing something here?","title":"Java: Math.round function not working with integer","body":"<p>Looks like there is issue with java's <code>Math.round</code> function, when passing integer value to it.\nI ran it for couple of inputs but giving suprisingly wrong results.</p>\n<p>Sample Code:</p>\n<pre><code>    public static void main(String[] args) {\n        System.out.println(&quot;roundOff1: &quot; + Math.round(1669053278));\n        System.out.println(&quot;roundOff2: &quot; + Math.round(1669053304));\n        System.out.println(&quot;roundOff3: &quot; + Math.round(1669053314));\n        System.out.println(&quot;roundOff4: &quot; + Math.round(1669053339));\n    }\n\n</code></pre>\n<p>Stdout:</p>\n<pre><code>roundOff1: 1669053312\nroundOff2: 1669053312\nroundOff3: 1669053312\nroundOff4: 1669053312\n\n</code></pre>\n<p>My use case was to round of the <code>System.currentTimeMillis()/1000</code> but end in getting wrong result.\nDid I really found a bug in Java or missing something here?</p>\n"},{"tags":["java","css","image","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668831614,"post_id":74497415,"comment_id":131507473,"body_markdown":"An image is a resource, not source, so put it in the resources folder.  If you put it in the same folder as the css, you should be able to reference it by name without  folders the path.","body":"An image is a resource, not source, so put it in the resources folder.  If you put it in the same folder as the css, you should be able to reference it by name without  folders the path."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1668831678,"post_id":74497415,"comment_id":131507478,"body_markdown":"See the [eden resource guide](https://edencoding.com/where-to-put-resource-files-in-javafx/).","body":"See the <a href=\"https://edencoding.com/where-to-put-resource-files-in-javafx/\" rel=\"nofollow noreferrer\">eden resource guide</a>."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1668831910,"post_id":74497415,"comment_id":131507489,"body_markdown":"You should never have `src/main/java` in a resource lookup string, that is a path in your project source, not your runtime execution resource path.","body":"You should never have <code>src&#47;main&#47;java</code> in a resource lookup string, that is a path in your project source, not your runtime execution resource path."}],"answers":[{"tags":[],"owner":{"account_id":26541748,"reputation":11,"user_id":20172384,"display_name":"Alex Javier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668844926,"creation_date":1668834510,"answer_id":74497698,"question_id":74497415,"body_markdown":"Moving the image to the resources folder and replacing the path string with just the name of the file seems to have fixed the issue. Thanks @jewelsea!\r\n\r\nHere are the modifications for reference. \r\n\r\n    .root{\r\n        -fx-font-family: &#39;JetBrains Mono&#39;;\r\n        -fx-font-size: 10px;\r\n        -fx-background-image: url(&quot;16copia.jpg&quot;);\r\n        -fx-background-size: stretch;    \r\n    }\r\n\r\nMoved `16copia.jpg` to resources folder:\r\n\r\n[![tree][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gpgG7.png\r\n","title":"JavaFX + CSS Style Sheet Background Image Won&#39;t Load (No FXML or SceneBuilder)","body":"<p>Moving the image to the resources folder and replacing the path string with just the name of the file seems to have fixed the issue. Thanks @jewelsea!</p>\n<p>Here are the modifications for reference.</p>\n<pre><code>.root{\n    -fx-font-family: 'JetBrains Mono';\n    -fx-font-size: 10px;\n    -fx-background-image: url(&quot;16copia.jpg&quot;);\n    -fx-background-size: stretch;    \n}\n</code></pre>\n<p>Moved <code>16copia.jpg</code> to resources folder:</p>\n<p><a href=\"https://i.stack.imgur.com/gpgG7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gpgG7.png\" alt=\"tree\" /></a></p>\n"}],"owner":{"account_id":26541748,"reputation":11,"user_id":20172384,"display_name":"Alex Javier"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1668845039,"answer_count":1,"score":0,"last_activity_date":1669058055,"creation_date":1668829910,"question_id":74497415,"body_markdown":"I&#39;m still pretty new to JavaFX, but I discovered style sheets recently and found that you can use it to set the design of your application. I wanted to see if I could change the background of my app to an image. This is my current project setup:\r\n\r\n`16copia.jpg` is what I want to set the background to.\r\n\r\n[![tree][1]][1]\r\n\r\nAnd this is my style.css setup. \r\n\r\n    .root{\r\n        -fx-font-family: &#39;JetBrains Mono&#39;;\r\n        -fx-font-size: 10px;\r\n        -fx-background-image: url(&quot;16copia.jpg&quot;);\r\n        -fx-background-repeat: no-repeat;\r\n        -fx-background-size: stretch;\r\n    \r\n    }\r\n    .button{\r\n        -fx-base:lightblue;\r\n    }\r\n    .label {\r\n        -fx-text-fill: lightblue;\r\n    }\r\n\r\nIn my main class, I added the style sheet to my main scene. Also tried using root.setStyle, but to no avail.\r\n\r\n    public void start(Stage stage){\r\n        stage.setTitle(&quot;Calculator App&quot;);\r\n        genMenuBar();\r\n        setFunctionality();\r\n\r\n        Scene mainScene = new Scene(root, 300, 500);\r\n        root.setBottom(calcView);\r\n        root.setCenter(displayView);\r\n        mainScene.getStylesheets().add(&quot;style.css&quot;);\r\n        stage.setScene(mainScene);\r\n        stage.show();\r\n        //root.setStyle(&quot;-fx-background-image: url(&#39;src/main/java/calculator/app/16copia.jpg&#39;);&quot;);\r\n    }\r\n\r\n\r\n\r\nWhen I run the program, all of the CSS styling except for the image is applied. \r\n\r\nNot meant to be the final look, mostly just experimenting with style sheets:\r\n\r\n[![screen][2]][2]\r\n\r\nThe program runs with no errors, but the bug persists. I&#39;d prefer to stick to CSS styling if possible. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wSZP0.png\r\n  [2]: https://i.stack.imgur.com/yj7A6.png\r\n","title":"JavaFX + CSS Style Sheet Background Image Won&#39;t Load (No FXML or SceneBuilder)","body":"<p>I'm still pretty new to JavaFX, but I discovered style sheets recently and found that you can use it to set the design of your application. I wanted to see if I could change the background of my app to an image. This is my current project setup:</p>\n<p><code>16copia.jpg</code> is what I want to set the background to.</p>\n<p><a href=\"https://i.stack.imgur.com/wSZP0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wSZP0.png\" alt=\"tree\" /></a></p>\n<p>And this is my style.css setup.</p>\n<pre><code>.root{\n    -fx-font-family: 'JetBrains Mono';\n    -fx-font-size: 10px;\n    -fx-background-image: url(&quot;16copia.jpg&quot;);\n    -fx-background-repeat: no-repeat;\n    -fx-background-size: stretch;\n\n}\n.button{\n    -fx-base:lightblue;\n}\n.label {\n    -fx-text-fill: lightblue;\n}\n</code></pre>\n<p>In my main class, I added the style sheet to my main scene. Also tried using root.setStyle, but to no avail.</p>\n<pre><code>public void start(Stage stage){\n    stage.setTitle(&quot;Calculator App&quot;);\n    genMenuBar();\n    setFunctionality();\n\n    Scene mainScene = new Scene(root, 300, 500);\n    root.setBottom(calcView);\n    root.setCenter(displayView);\n    mainScene.getStylesheets().add(&quot;style.css&quot;);\n    stage.setScene(mainScene);\n    stage.show();\n    //root.setStyle(&quot;-fx-background-image: url('src/main/java/calculator/app/16copia.jpg');&quot;);\n}\n</code></pre>\n<p>When I run the program, all of the CSS styling except for the image is applied.</p>\n<p>Not meant to be the final look, mostly just experimenting with style sheets:</p>\n<p><a href=\"https://i.stack.imgur.com/yj7A6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yj7A6.png\" alt=\"screen\" /></a></p>\n<p>The program runs with no errors, but the bug persists. I'd prefer to stick to CSS styling if possible.</p>\n"},{"tags":["java","swing","awt","jbutton"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669055709,"post_id":74522988,"comment_id":131551539,"body_markdown":"You could explain what you mean with “fails”, i.e. what did you expect, what did you get instead. Then, you don’t need a filler sentence.","body":"You could explain what you mean with “fails”, i.e. what did you expect, what did you get instead. Then, you don’t need a filler sentence."}],"answers":[{"comments":[{"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"score":0,"creation_date":1669064758,"post_id":74523832,"comment_id":131554136,"body_markdown":"Thank you, Sergiy, for your detailed answer. Doing a `System.out.println(b.getBackground())` after setting the background showed, that `UIManager.getColor(&quot;...&quot;)` in fact returns a `ColorUIResource`. So from that, one has to create a new Color and then it works.","body":"Thank you, Sergiy, for your detailed answer. Doing a <code>System.out.println(b.getBackground())</code> after setting the background showed, that <code>UIManager.getColor(&quot;...&quot;)</code> in fact returns a <code>ColorUIResource</code>. So from that, one has to create a new Color and then it works."}],"tags":[],"owner":{"account_id":2259314,"reputation":11225,"user_id":1989769,"accept_rate":45,"display_name":"Sergiy Medvynskyy"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669057946,"creation_date":1669057946,"answer_id":74523832,"question_id":74522988,"body_markdown":"Colors of type `ColorUIResource` have a special meaning: they are default colors, installed by LookAndFeel. And they may be interpret by a non-standard way. \r\n\r\nPainting of button performes the current `LookAndFeel`. In your case: `MetalLookAndFeel`, or, more precise `MetalButtonUI`. Painting of button is defined in method `update` as following:\r\n\r\n    public void update(Graphics g, JComponent c) {\r\n        AbstractButton button = (AbstractButton)c;\r\n        if ((c.getBackground() instanceof UIResource) &amp;&amp;\r\n                  button.isContentAreaFilled() &amp;&amp; c.isEnabled()) {\r\n            ButtonModel model = button.getModel();\r\n            if (!MetalUtils.isToolBarButton(c)) {\r\n                if (!model.isArmed() &amp;&amp; !model.isPressed() &amp;&amp;\r\n                        MetalUtils.drawGradient(\r\n                        c, g, &quot;Button.gradient&quot;, 0, 0, c.getWidth(),\r\n                        c.getHeight(), true)) {\r\n                    paint(g, c);\r\n                    return;\r\n                }\r\n            }\r\n            else if (model.isRollover() &amp;&amp; MetalUtils.drawGradient(\r\n                        c, g, &quot;Button.gradient&quot;, 0, 0, c.getWidth(),\r\n                        c.getHeight(), true)) {\r\n                paint(g, c);\r\n                return;\r\n            }\r\n        }\r\n        super.update(g, c);\r\n    }\r\n\r\nAs you can see, if button has background of class ColorUIResource, this method provides painting of foreground only (probably due to performance reasons) by calling of method `paint`. And if you set a normal color as background, you avoid this behavior and call the line `super.update(g, c);` And here is the implementation of this method (defined in class `ComponentUI`):\r\n\r\n    public void update(Graphics g, JComponent c) {\r\n        if (c.isOpaque()) {\r\n            g.setColor(c.getBackground());\r\n            g.fillRect(0, 0, c.getWidth(),c.getHeight());\r\n        }\r\n        paint(g, c);\r\n    }\r\n\r\nConclusion: do not use the class `ColorUIResource`, except you write your own LookAndFeel","title":"Setting button background with UIManager / ColorUIResource","body":"<p>Colors of type <code>ColorUIResource</code> have a special meaning: they are default colors, installed by LookAndFeel. And they may be interpret by a non-standard way.</p>\n<p>Painting of button performes the current <code>LookAndFeel</code>. In your case: <code>MetalLookAndFeel</code>, or, more precise <code>MetalButtonUI</code>. Painting of button is defined in method <code>update</code> as following:</p>\n<pre><code>public void update(Graphics g, JComponent c) {\n    AbstractButton button = (AbstractButton)c;\n    if ((c.getBackground() instanceof UIResource) &amp;&amp;\n              button.isContentAreaFilled() &amp;&amp; c.isEnabled()) {\n        ButtonModel model = button.getModel();\n        if (!MetalUtils.isToolBarButton(c)) {\n            if (!model.isArmed() &amp;&amp; !model.isPressed() &amp;&amp;\n                    MetalUtils.drawGradient(\n                    c, g, &quot;Button.gradient&quot;, 0, 0, c.getWidth(),\n                    c.getHeight(), true)) {\n                paint(g, c);\n                return;\n            }\n        }\n        else if (model.isRollover() &amp;&amp; MetalUtils.drawGradient(\n                    c, g, &quot;Button.gradient&quot;, 0, 0, c.getWidth(),\n                    c.getHeight(), true)) {\n            paint(g, c);\n            return;\n        }\n    }\n    super.update(g, c);\n}\n</code></pre>\n<p>As you can see, if button has background of class ColorUIResource, this method provides painting of foreground only (probably due to performance reasons) by calling of method <code>paint</code>. And if you set a normal color as background, you avoid this behavior and call the line <code>super.update(g, c);</code> And here is the implementation of this method (defined in class <code>ComponentUI</code>):</p>\n<pre><code>public void update(Graphics g, JComponent c) {\n    if (c.isOpaque()) {\n        g.setColor(c.getBackground());\n        g.fillRect(0, 0, c.getWidth(),c.getHeight());\n    }\n    paint(g, c);\n}\n</code></pre>\n<p>Conclusion: do not use the class <code>ColorUIResource</code>, except you write your own LookAndFeel</p>\n"}],"owner":{"account_id":11415665,"reputation":214,"user_id":8368531,"display_name":"J&#246;rg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74523832,"answer_count":1,"score":2,"last_activity_date":1669057946,"creation_date":1669053056,"question_id":74522988,"body_markdown":"Can anybody tell me, why in the following code setting a button&#39;s background fails when using a color retrieved from UIManager?&lt;br&gt;\r\n[This question is obviously too short to be accepted by Stackoverflow, but I have no more details to present.]\r\n```\r\nimport java.awt.*;\r\nimport javax.swing.*;\r\nimport javax.swing.plaf.*;\r\n\r\npublic class BackgroundColor extends JFrame {\r\n  public BackgroundColor() {\r\n    setSize(400,300);\r\n    setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n    setLayout(new GridLayout(0, 1, 0, 5));\r\n    setLocationRelativeTo(null);\r\n\r\n    JButton b= new JButton(&quot;Default&quot;);\r\n    add(b);\r\n    b= new JButton(&quot;&quot;+Color.RED);\r\n    b.setBackground(Color.RED);\r\n    add(b);\r\n    b= new JButton(&quot;Failed: &quot;+new ColorUIResource(255, 0, 0)); // RED\r\n    b.setBackground(new ColorUIResource(255, 0, 0));\r\n    add(b);\r\n    b= new JButton(&quot;Failed: &quot;+UIManager.getColor(&quot;MenuItem.background&quot;));\r\n    b.setBackground(UIManager.getColor(&quot;MenuItem.background&quot;));\r\n    add(b);\r\n    b= new JButton(&quot;Failed: &quot;+UIManager.getColor(&quot;menu&quot;));\r\n    b.setBackground(UIManager.getColor(&quot;menu&quot;));\r\n    add(b);\r\n    b= new JButton(&quot;&quot;+new Color(238, 238, 238));\r\n    b.setBackground(new Color(238, 238, 238));\r\n    add(b);\r\n    setVisible(true);\r\n  }\r\n \r\n \r\n  public static void main(String arg[]) {\r\n    EventQueue.invokeLater(BackgroundColor::new);\r\n  }\r\n}\r\n```\r\n","title":"Setting button background with UIManager / ColorUIResource","body":"<p>Can anybody tell me, why in the following code setting a button's background fails when using a color retrieved from UIManager?<br>\n[This question is obviously too short to be accepted by Stackoverflow, but I have no more details to present.]</p>\n<pre><code>import java.awt.*;\nimport javax.swing.*;\nimport javax.swing.plaf.*;\n\npublic class BackgroundColor extends JFrame {\n  public BackgroundColor() {\n    setSize(400,300);\n    setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n    setLayout(new GridLayout(0, 1, 0, 5));\n    setLocationRelativeTo(null);\n\n    JButton b= new JButton(&quot;Default&quot;);\n    add(b);\n    b= new JButton(&quot;&quot;+Color.RED);\n    b.setBackground(Color.RED);\n    add(b);\n    b= new JButton(&quot;Failed: &quot;+new ColorUIResource(255, 0, 0)); // RED\n    b.setBackground(new ColorUIResource(255, 0, 0));\n    add(b);\n    b= new JButton(&quot;Failed: &quot;+UIManager.getColor(&quot;MenuItem.background&quot;));\n    b.setBackground(UIManager.getColor(&quot;MenuItem.background&quot;));\n    add(b);\n    b= new JButton(&quot;Failed: &quot;+UIManager.getColor(&quot;menu&quot;));\n    b.setBackground(UIManager.getColor(&quot;menu&quot;));\n    add(b);\n    b= new JButton(&quot;&quot;+new Color(238, 238, 238));\n    b.setBackground(new Color(238, 238, 238));\n    add(b);\n    setVisible(true);\n  }\n \n \n  public static void main(String arg[]) {\n    EventQueue.invokeLater(BackgroundColor::new);\n  }\n}\n</code></pre>\n"},{"tags":["java","datetime","date","epoch"],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":141,"is_accepted":true,"score":141,"last_activity_date":1523386497,"creation_date":1310606715,"answer_id":6687502,"question_id":6687433,"body_markdown":"This code shows how to use a [java.text.SimpleDateFormat][1] to parse a [java.util.Date][2] from a String:\r\n\r\n\r\n    String str = &quot;Jun 13 2003 23:11:52.454 UTC&quot;;\r\n    SimpleDateFormat df = new SimpleDateFormat(&quot;MMM dd yyyy HH:mm:ss.SSS zzz&quot;);\r\n    Date date = df.parse(str);\r\n    long epoch = date.getTime();\r\n    System.out.println(epoch); // 1055545912454\r\n\r\n`Date.getTime()` returns the epoch time in milliseconds.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/util/Date.html\r\n","title":"Convert a date format in epoch","body":"<p>This code shows how to use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\">java.text.SimpleDateFormat</a> to parse a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html\" rel=\"noreferrer\">java.util.Date</a> from a String:</p>\n\n<pre><code>String str = \"Jun 13 2003 23:11:52.454 UTC\";\nSimpleDateFormat df = new SimpleDateFormat(\"MMM dd yyyy HH:mm:ss.SSS zzz\");\nDate date = df.parse(str);\nlong epoch = date.getTime();\nSystem.out.println(epoch); // 1055545912454\n</code></pre>\n\n<p><code>Date.getTime()</code> returns the epoch time in milliseconds.</p>\n"},{"tags":[],"owner":{"account_id":2021629,"reputation":57953,"user_id":1807667,"accept_rate":60,"display_name":"Ortomala Lokni"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1633700761,"creation_date":1434289392,"answer_id":30830088,"question_id":6687433,"body_markdown":"You can also use the Java 8 API\r\n    \r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n\r\n    public class StackoverflowTest{\r\n        public static void main(String args[]){\r\n            String strDate = &quot;Jun 13 2003 23:11:52.454 UTC&quot;;\r\n            DateTimeFormatter dtf  = DateTimeFormatter.ofPattern(&quot;MMM dd yyyy HH:mm:ss.SSS zzz&quot;);\r\n            ZonedDateTime     zdt  = ZonedDateTime.parse(strDate,dtf);        \r\n            System.out.println(zdt.toInstant().toEpochMilli());  // 1055545912454  \r\n        }\r\n    }\r\n\r\nThe [`DateTimeFormatter`](http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html) class replaces the old [`SimpleDateFormat`](http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html). You can then create a [`ZonedDateTime`](https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html) from which you can extract the desired epoch time.\r\n\r\nThe main advantage is that you are now thread safe.\r\n\r\nThanks to Basil Bourque for his remarks and suggestions. Read his answer for full details.\r\n\r\n","title":"Convert a date format in epoch","body":"<p>You can also use the Java 8 API</p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class StackoverflowTest{\n    public static void main(String args[]){\n        String strDate = &quot;Jun 13 2003 23:11:52.454 UTC&quot;;\n        DateTimeFormatter dtf  = DateTimeFormatter.ofPattern(&quot;MMM dd yyyy HH:mm:ss.SSS zzz&quot;);\n        ZonedDateTime     zdt  = ZonedDateTime.parse(strDate,dtf);        \n        System.out.println(zdt.toInstant().toEpochMilli());  // 1055545912454  \n    }\n}\n</code></pre>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> class replaces the old <a href=\"http://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>. You can then create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a> from which you can extract the desired epoch time.</p>\n<p>The main advantage is that you are now thread safe.</p>\n<p>Thanks to Basil Bourque for his remarks and suggestions. Read his answer for full details.</p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1619426607,"creation_date":1475785273,"answer_id":39904997,"question_id":6687433,"body_markdown":"# tl;dr\r\n\r\n    ZonedDateTime.parse( \r\n                            &quot;Jun 13 2003 23:11:52.454 UTC&quot; , \r\n                            DateTimeFormatter.ofPattern ( &quot;MMM d uuuu HH:mm:ss.SSS z&quot; ) \r\n                        )\r\n                  .toInstant()\r\n                  .toEpochMilli()\r\n\r\n&gt;1055545912454\r\n\r\n# java.time\r\n\r\nThis Answer expands on the [Answer by Lockni][1].\r\n\r\n## `DateTimeFormatter`\r\n\r\nFirst define a formatting pattern to match your input string by creating a [`DateTimeFormatter`][2] object.\r\n\r\n    String input = &quot;Jun 13 2003 23:11:52.454 UTC&quot;;\r\n    DateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;MMM d uuuu HH:mm:ss.SSS z&quot; );\r\n\r\n## `ZonedDateTime`\r\n\r\nParse the string as a [`ZonedDateTime`][3]. You can think of that class as: ( `Instant` + `ZoneId` ).\r\n\r\n    ZonedDateTime zdt = ZonedDateTime.parse ( &quot;Jun 13 2003 23:11:52.454 UTC&quot; , f );\r\n\r\n&gt;zdt.toString(): 2003-06-13T23:11:52.454Z[UTC]\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/MZe55.png&quot; alt=&quot;Table of types of date-time classes in modern java.time versus legacy.&quot; /&gt;\r\n\r\n## Count-from-epoch\r\n\r\nI do not recommend tracking date-time values as a count-from-[epoch][4]. Doing so makes debugging tricky as humans cannot discern a meaningful date-time from a number so invalid/unexpected values may slip by. Also such counts are ambiguous, in granularity (whole seconds, milli, micro, nano, etc.) and in epoch (at least two dozen in by various computer systems). \r\n\r\nBut if you insist you can get a count of milliseconds from the epoch of first moment of 1970 in UTC (`1970-01-01T00:00:00`) through the [`Instant`][5] class. Be aware this means data-loss as you are truncating any nanoseconds to milliseconds.\r\n\r\n    Instant instant = zdt.toInstant ();\r\n\r\n&gt;instant.toString(): 2003-06-13T23:11:52.454Z\r\n\r\n    long millisSinceEpoch = instant.toEpochMilli() ; \r\n\r\n&gt;1055545912454\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), the process of [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30830088/642706\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [4]: https://en.wikipedia.org/wiki/Epoch_(reference_date)\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html","title":"Convert a date format in epoch","body":"<h1>tl;dr</h1>\n<pre><code>ZonedDateTime.parse( \n                        &quot;Jun 13 2003 23:11:52.454 UTC&quot; , \n                        DateTimeFormatter.ofPattern ( &quot;MMM d uuuu HH:mm:ss.SSS z&quot; ) \n                    )\n              .toInstant()\n              .toEpochMilli()\n</code></pre>\n<blockquote>\n<p>1055545912454</p>\n</blockquote>\n<h1>java.time</h1>\n<p>This Answer expands on the <a href=\"https://stackoverflow.com/a/30830088/642706\">Answer by Lockni</a>.</p>\n<h2><code>DateTimeFormatter</code></h2>\n<p>First define a formatting pattern to match your input string by creating a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"nofollow noreferrer\"><code>DateTimeFormatter</code></a> object.</p>\n<pre><code>String input = &quot;Jun 13 2003 23:11:52.454 UTC&quot;;\nDateTimeFormatter f = DateTimeFormatter.ofPattern ( &quot;MMM d uuuu HH:mm:ss.SSS z&quot; );\n</code></pre>\n<h2><code>ZonedDateTime</code></h2>\n<p>Parse the string as a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"nofollow noreferrer\"><code>ZonedDateTime</code></a>. You can think of that class as: ( <code>Instant</code> + <code>ZoneId</code> ).</p>\n<pre><code>ZonedDateTime zdt = ZonedDateTime.parse ( &quot;Jun 13 2003 23:11:52.454 UTC&quot; , f );\n</code></pre>\n<blockquote>\n<p>zdt.toString(): 2003-06-13T23:11:52.454Z[UTC]</p>\n</blockquote>\n<img src=\"https://i.stack.imgur.com/MZe55.png\" alt=\"Table of types of date-time classes in modern java.time versus legacy.\" />\n<h2>Count-from-epoch</h2>\n<p>I do not recommend tracking date-time values as a count-from-<a href=\"https://en.wikipedia.org/wiki/Epoch_(reference_date)\" rel=\"nofollow noreferrer\">epoch</a>. Doing so makes debugging tricky as humans cannot discern a meaningful date-time from a number so invalid/unexpected values may slip by. Also such counts are ambiguous, in granularity (whole seconds, milli, micro, nano, etc.) and in epoch (at least two dozen in by various computer systems).</p>\n<p>But if you insist you can get a count of milliseconds from the epoch of first moment of 1970 in UTC (<code>1970-01-01T00:00:00</code>) through the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"nofollow noreferrer\"><code>Instant</code></a> class. Be aware this means data-loss as you are truncating any nanoseconds to milliseconds.</p>\n<pre><code>Instant instant = zdt.toInstant ();\n</code></pre>\n<blockquote>\n<p>instant.toString(): 2003-06-13T23:11:52.454Z</p>\n</blockquote>\n<pre><code>long millisSinceEpoch = instant.toEpochMilli() ; \n</code></pre>\n<blockquote>\n<p>1055545912454</p>\n</blockquote>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"nofollow noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"nofollow noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"nofollow noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"nofollow noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"nofollow noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"nofollow noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"nofollow noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"nofollow noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"nofollow noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"nofollow noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"nofollow noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the process of <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"nofollow noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"nofollow noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1500496254,"post_id":44405581,"comment_id":77368085,"body_markdown":"Don’t swallow exceptions. They have a meaning. Usually an important one.","body":"Don’t swallow exceptions. They have a meaning. Usually an important one."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1500496325,"post_id":44405581,"comment_id":77368129,"body_markdown":"I recommend staying away from the now long outdated date and time classes like `SimpleDateFormat`. In 2011, when the question was asked, I used them too. Not any more.","body":"I recommend staying away from the now long outdated date and time classes like <code>SimpleDateFormat</code>. In 2011, when the question was asked, I used them too. Not any more."}],"tags":[],"owner":{"account_id":2221546,"reputation":112,"user_id":1960808,"display_name":"user1960808"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540218399,"creation_date":1496818520,"answer_id":44405581,"question_id":6687433,"body_markdown":"**Create Common Method to Convert String to Date format**\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        long test = ConvertStringToDate(&quot;May 26 10:41:23&quot;, &quot;MMM dd hh:mm:ss&quot;);\r\n        long test2 = ConvertStringToDate(&quot;Tue, Jun 06 2017, 12:30 AM&quot;, &quot;EEE, MMM dd yyyy, hh:mm a&quot;);\r\n        long test3 = ConvertStringToDate(&quot;Jun 13 2003 23:11:52.454 UTC&quot;, &quot;MMM dd yyyy HH:mm:ss.SSS zzz&quot;);\r\n    }\r\n    \r\n    private static long ConvertStringToDate(String dateString, String format) {\r\n        try {\r\n            return new SimpleDateFormat(format).parse(dateString).getTime();\r\n        } catch (ParseException e) {}\r\n        return 0;\r\n    }","title":"Convert a date format in epoch","body":"<p><strong>Create Common Method to Convert String to Date format</strong></p>\n\n<pre><code>public static void main(String[] args) throws Exception {\n    long test = ConvertStringToDate(\"May 26 10:41:23\", \"MMM dd hh:mm:ss\");\n    long test2 = ConvertStringToDate(\"Tue, Jun 06 2017, 12:30 AM\", \"EEE, MMM dd yyyy, hh:mm a\");\n    long test3 = ConvertStringToDate(\"Jun 13 2003 23:11:52.454 UTC\", \"MMM dd yyyy HH:mm:ss.SSS zzz\");\n}\n\nprivate static long ConvertStringToDate(String dateString, String format) {\n    try {\n        return new SimpleDateFormat(format).parse(dateString).getTime();\n    } catch (ParseException e) {}\n    return 0;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1553257482,"post_id":55295226,"comment_id":97327409,"body_markdown":"Thank you for wanting to contribute. It’s not exactly the same question. I get `java.time.format.DateTimeParseException: Text &#39;15-3-2019 09:50 AM&#39; could not be parsed at index 3`. Finally the correct conversion is `long a = LocalDateTime.parse(dateTime, dtf).atZone(zone).toInstant().toEpochMilli();`.","body":"Thank you for wanting to contribute. It’s not exactly the same question. I get <code>java.time.format.DateTimeParseException: Text &#39;15-3-2019 09:50 AM&#39; could not be parsed at index 3</code>. Finally the correct conversion is <code>long a = LocalDateTime.parse(dateTime, dtf).atZone(zone).toInstant().toEpochMilli();</code>."}],"tags":[],"owner":{"account_id":15088168,"reputation":49,"user_id":10888780,"display_name":"Flash"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553241737,"creation_date":1553241737,"answer_id":55295226,"question_id":6687433,"body_markdown":"      String dateTime=&quot;15-3-2019 09:50 AM&quot; //time should be two digit like 08,09,10 \r\n       DateTimeFormatter dtf  = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy hh:mm a&quot;);\r\n            LocalDateTime zdt  = LocalDateTime.parse(dateTime,dtf);\r\n            LocalDateTime now = LocalDateTime.now();\r\n            ZoneId zone = ZoneId.of(&quot;Asia/Kolkata&quot;);\r\n            ZoneOffset zoneOffSet = zone.getRules().getOffset(now);\r\n            long a= zdt.toInstant(zoneOffSet).toEpochMilli();\r\n            Log.d(&quot;time&quot;,&quot;---&quot;+a);\r\n   \r\n   you can get zone id form this  [a link](https://garygregory.wordpress.com/2013/06/18/what-are-the-java-timezone-ids/)! \r\n","title":"Convert a date format in epoch","body":"<pre><code>  String dateTime=\"15-3-2019 09:50 AM\" //time should be two digit like 08,09,10 \n   DateTimeFormatter dtf  = DateTimeFormatter.ofPattern(\"dd-MM-yyyy hh:mm a\");\n        LocalDateTime zdt  = LocalDateTime.parse(dateTime,dtf);\n        LocalDateTime now = LocalDateTime.now();\n        ZoneId zone = ZoneId.of(\"Asia/Kolkata\");\n        ZoneOffset zoneOffSet = zone.getRules().getOffset(now);\n        long a= zdt.toInstant(zoneOffSet).toEpochMilli();\n        Log.d(\"time\",\"---\"+a);\n</code></pre>\n\n<p>you can get zone id form this  <a href=\"https://garygregory.wordpress.com/2013/06/18/what-are-the-java-timezone-ids/\" rel=\"nofollow noreferrer\">a link</a>! </p>\n"},{"comments":[{"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"score":0,"creation_date":1669097724,"post_id":74523801,"comment_id":131559870,"body_markdown":"&quot;Never use SimpleDateFormat or DateTimeFormatter without a Locale as they are Locale-sensitive.&quot; - this deserves an upvote!","body":"&quot;Never use SimpleDateFormat or DateTimeFormatter without a Locale as they are Locale-sensitive.&quot; - this deserves an upvote!"}],"tags":[],"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669057771,"creation_date":1669057771,"answer_id":74523801,"question_id":6687433,"body_markdown":"Unfortunately,\r\n--\r\nthe solution provided in all existing answers will fail if you run them on a system with Non-English `Locale` because the given date-time string is in an English. [Never use `SimpleDateFormat` or `DateTimeFormatter` without a `Locale`](https://stackoverflow.com/a/65544056/10819573) as they are `Locale`-sensitive.\r\n\r\nThe [accepted answer](https://stackoverflow.com/a/6687502/10819573) uses legacy date-time API which was the correct thing to do using the standard library in 2011 when the question was asked. In March 2014, `java.time` API supplanted the [error-prone legacy date-time API](https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html). Since then, it has been strongly recommended to use this modern date-time API. \r\n\r\n**Demo using java.time API**:\r\n\r\n    import java.time.ZonedDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlong epochMillis = ZonedDateTime.parse(\r\n    \t\t\t\t\t&quot;Jun 13 2003 23:11:52.454 UTC&quot;,\r\n    \t\t\t\t\tDateTimeFormatter.ofPattern(\r\n    \t\t\t\t\t\t&quot;MMM d uuuu HH:mm:ss.SSS z&quot;,\r\n    \t\t\t\t\t\tLocale.ENGLISH\r\n    \t\t\t\t\t)\r\n    \t\t\t\t)\r\n    \t\t\t\t.toInstant()\r\n    \t\t\t\t.toEpochMilli();\r\n    \t\tSystem.out.println(epochMillis);\r\n    \t}\r\n    }\r\n\r\n**Output**:\r\n\r\n    1055545912454\r\n\r\nLearn more about the modern Date-Time API from **[Trail: Date Time](https://docs.oracle.com/javase/tutorial/datetime/index.html)**.","title":"Convert a date format in epoch","body":"<h2>Unfortunately,</h2>\n<p>the solution provided in all existing answers will fail if you run them on a system with Non-English <code>Locale</code> because the given date-time string is in an English. <a href=\"https://stackoverflow.com/a/65544056/10819573\">Never use <code>SimpleDateFormat</code> or <code>DateTimeFormatter</code> without a <code>Locale</code></a> as they are <code>Locale</code>-sensitive.</p>\n<p>The <a href=\"https://stackoverflow.com/a/6687502/10819573\">accepted answer</a> uses legacy date-time API which was the correct thing to do using the standard library in 2011 when the question was asked. In March 2014, <code>java.time</code> API supplanted the <a href=\"https://www.oracle.com/technical-resources/articles/java/jf14-date-time.html\" rel=\"nofollow noreferrer\">error-prone legacy date-time API</a>. Since then, it has been strongly recommended to use this modern date-time API.</p>\n<p><strong>Demo using java.time API</strong>:</p>\n<pre><code>import java.time.ZonedDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class Main {\n    public static void main(String[] args) {\n        long epochMillis = ZonedDateTime.parse(\n                    &quot;Jun 13 2003 23:11:52.454 UTC&quot;,\n                    DateTimeFormatter.ofPattern(\n                        &quot;MMM d uuuu HH:mm:ss.SSS z&quot;,\n                        Locale.ENGLISH\n                    )\n                )\n                .toInstant()\n                .toEpochMilli();\n        System.out.println(epochMillis);\n    }\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<pre><code>1055545912454\n</code></pre>\n<p>Learn more about the modern Date-Time API from <strong><a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">Trail: Date Time</a></strong>.</p>\n"}],"owner":{"account_id":424782,"reputation":913,"user_id":804979,"accept_rate":29,"display_name":"user804979"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196818,"favorite_count":0,"down_vote_count":1,"up_vote_count":83,"accepted_answer_id":6687502,"answer_count":6,"score":82,"last_activity_date":1669057771,"creation_date":1310606000,"question_id":6687433,"body_markdown":"I have a string with a date format such as \r\n\r\n    Jun 13 2003 23:11:52.454 UTC\r\n\r\ncontaining millisec... which I want to convert in epoch. \r\nIs there an utility in Java I can use to do this conversion?\r\n\r\n","title":"Convert a date format in epoch","body":"<p>I have a string with a date format such as </p>\n\n<pre><code>Jun 13 2003 23:11:52.454 UTC\n</code></pre>\n\n<p>containing millisec... which I want to convert in epoch. \nIs there an utility in Java I can use to do this conversion?</p>\n"},{"tags":["java","rest","wildfly"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1669047268,"post_id":74521577,"comment_id":131548767,"body_markdown":"Is it not just `http://localhost:8080/rest/hello/text` ?","body":"Is it not just <code>http:&#47;&#47;localhost:8080&#47;rest&#47;hello&#47;text</code> ?"},{"owner":{"account_id":1244944,"reputation":622,"user_id":1206610,"accept_rate":73,"display_name":"Teshte"},"score":0,"creation_date":1669052606,"post_id":74521577,"comment_id":131550590,"body_markdown":"@QBrute 404 - Not Found for that one","body":"@QBrute 404 - Not Found for that one"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1669132191,"post_id":74521577,"comment_id":131571970,"body_markdown":"If your POM looks exactly like the example, it should be http://localhost:8080/helloworld/rest/hello/text","body":"If your POM looks exactly like the example, it should be <a href=\"http://localhost:8080/helloworld/rest/hello/text\" rel=\"nofollow noreferrer\">localhost:8080/helloworld/rest/hello/text</a>"},{"owner":{"account_id":1244944,"reputation":622,"user_id":1206610,"accept_rate":73,"display_name":"Teshte"},"score":0,"creation_date":1669133457,"post_id":74521577,"comment_id":131572508,"body_markdown":"@JamesR.Perkins the only difference is the project name, so instead of the /helloworld i have something else. I also notice something...when I navigate in the wildfly admin console, at the JAX-RS page, there are no entries. So it looks like widlfly doesn&#39;t even see my paths","body":"@JamesR.Perkins the only difference is the project name, so instead of the /helloworld i have something else. I also notice something...when I navigate in the wildfly admin console, at the JAX-RS page, there are no entries. So it looks like widlfly doesn&#39;t even see my paths"},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1669140787,"post_id":74521577,"comment_id":131575221,"body_markdown":"Without seeing the full POM it&#39;s hard to tell what the issue could be.","body":"Without seeing the full POM it&#39;s hard to tell what the issue could be."}],"owner":{"account_id":1244944,"reputation":622,"user_id":1206610,"accept_rate":73,"display_name":"Teshte"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669056904,"creation_date":1669046010,"question_id":74521577,"body_markdown":"I am following this tutorial http://www.mastertheboss.com/jboss-frameworks/resteasy/wildfly-hello-world/\r\n\r\n    @Path(&quot;/hello&quot;)\r\n    public class HelloService {\r\n        @GET\r\n        @Path(&quot;/text&quot;)\r\n        public String getHello () \r\n        {\r\n            return &quot;hello world!&quot;;\r\n        } \r\n\r\n\r\n    @ApplicationPath(&quot;/rest&quot;)\r\n    public class JaxRsActivator extends Application {\r\n       \r\n    }\r\n\r\nI managed to deploy my app, i see it in the wildfly admin console.\r\nFrom there, i can see the context root, and when i try to access it, I get the &quot;Forbidden&quot; message. That is ok I think.\r\n\r\nProblem is that I expect to get the &quot;hello world!&quot; when I access something like `http://localhost:8080/contextRootLocationThatIsForbidden/rest/hello/text`    ..instead I get &quot;Not Found&quot;\r\n\r\n\r\n        &lt;dependencies&gt;\r\n\r\n        &lt;!-- Import the CDI API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Bean Validation Implementation \r\n           Provides portable constraints such as @Email \r\n           Hibernate Validator is shipped in WildFly / JBoss EAP --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Import the JPA API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Import the JSF API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.spec.javax.faces&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-jsf-api_2.3_spec&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Import the JAX-RS API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.spec.javax.ws.rs&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-jaxrs-api_2.1_spec&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Servlet API --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.spec.javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-servlet-api_4.0_spec&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- Import the EJB API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.spec.javax.ejb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jboss-ejb-api_3.2_spec&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- NEEDED because of XmlRootElement--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\nWhat could be the issue?","title":"What could the link to the endpoint be?","body":"<p>I am following this tutorial <a href=\"http://www.mastertheboss.com/jboss-frameworks/resteasy/wildfly-hello-world/\" rel=\"nofollow noreferrer\">http://www.mastertheboss.com/jboss-frameworks/resteasy/wildfly-hello-world/</a></p>\n<pre><code>@Path(&quot;/hello&quot;)\npublic class HelloService {\n    @GET\n    @Path(&quot;/text&quot;)\n    public String getHello () \n    {\n        return &quot;hello world!&quot;;\n    } \n\n\n@ApplicationPath(&quot;/rest&quot;)\npublic class JaxRsActivator extends Application {\n   \n}\n</code></pre>\n<p>I managed to deploy my app, i see it in the wildfly admin console.\nFrom there, i can see the context root, and when i try to access it, I get the &quot;Forbidden&quot; message. That is ok I think.</p>\n<p>Problem is that I expect to get the &quot;hello world!&quot; when I access something like <code>http://localhost:8080/contextRootLocationThatIsForbidden/rest/hello/text</code>    ..instead I get &quot;Not Found&quot;</p>\n<pre><code>    &lt;dependencies&gt;\n\n    &lt;!-- Import the CDI API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.enterprise&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.enterprise.cdi-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Bean Validation Implementation \n       Provides portable constraints such as @Email \n       Hibernate Validator is shipped in WildFly / JBoss EAP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Import the JPA API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Import the JSF API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.spec.javax.faces&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-jsf-api_2.3_spec&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Import the JAX-RS API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.spec.javax.ws.rs&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-jaxrs-api_2.1_spec&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Servlet API --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.spec.javax.servlet&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-servlet-api_4.0_spec&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Import the EJB API, we use provided scope as the API is included in WildFly / JBoss EAP --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.spec.javax.ejb&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-ejb-api_3.2_spec&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- NEEDED because of XmlRootElement--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n        &lt;version&gt;8.0&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n</code></pre>\n<p>What could be the issue?</p>\n"},{"tags":["java","spring-security"],"answers":[{"comments":[{"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"score":0,"creation_date":1669056863,"post_id":74523541,"comment_id":131551864,"body_markdown":"So there is no easy way to get these values? Thank you, you&#39;ve helped me a lot, because knowing your way is best practice I don&#39;t need to look any further and can sleep calmly again :)","body":"So there is no easy way to get these values? Thank you, you&#39;ve helped me a lot, because knowing your way is best practice I don&#39;t need to look any further and can sleep calmly again :)"},{"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"score":0,"creation_date":1669207278,"post_id":74523541,"comment_id":131591330,"body_markdown":"Not really, if you want to override them then you are in responsible to provide them where needed","body":"Not really, if you want to override them then you are in responsible to provide them where needed"}],"tags":[],"owner":{"account_id":7134819,"reputation":5068,"user_id":5454842,"display_name":"Marcus Hert da Coregio"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669056313,"creation_date":1669056313,"answer_id":74523541,"question_id":74494894,"body_markdown":"You should define those URLs somewhere that you can use as a reference in both places. It could be in your `application.yml` file:\r\n\r\n```yml\r\nsecurity:\r\n  form:\r\n    login-url: &quot;/login&quot;\r\n    login-success-url: &quot;/success&quot;\r\n    other-property: 123\r\n```\r\n\r\nAnd in your code you inject them (note that the class has to be a bean):\r\n\r\n```java\r\n@Configuration\r\npublic class WebSecurityConfig {\r\n\r\n  @Value(&quot;security.form.login-url&quot;)\r\n  private String loginUrl;\r\n\r\n  @Value(&quot;security.form.login-success-url&quot;)\r\n  private String loginSuccessUrl;\r\n  // ...\r\n\r\n}\r\n```\r\n\r\nYou can also create a `ConfigurationProperties` to improve the code https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.typesafe-configuration-properties","title":"How to extract URLs from FormLoginConfigurer?","body":"<p>You should define those URLs somewhere that you can use as a reference in both places. It could be in your <code>application.yml</code> file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>security:\n  form:\n    login-url: &quot;/login&quot;\n    login-success-url: &quot;/success&quot;\n    other-property: 123\n</code></pre>\n<p>And in your code you inject them (note that the class has to be a bean):</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class WebSecurityConfig {\n\n  @Value(&quot;security.form.login-url&quot;)\n  private String loginUrl;\n\n  @Value(&quot;security.form.login-success-url&quot;)\n  private String loginSuccessUrl;\n  // ...\n\n}\n</code></pre>\n<p>You can also create a <code>ConfigurationProperties</code> to improve the code <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.typesafe-configuration-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#features.external-config.typesafe-configuration-properties</a></p>\n"}],"owner":{"account_id":18670408,"reputation":143,"user_id":13609359,"display_name":"Slevin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74523541,"answer_count":1,"score":0,"last_activity_date":1669056313,"creation_date":1668802503,"question_id":74494894,"body_markdown":"I want to gain access to the URLs set by the FormLoginConfigurer, in particular I want to extraxt the URL Strings for loginPage, loginProcessingUrl and failureUrl. These values are configured as follows:\r\n```Java\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain defaultFilterChain(HttpSecurity http) throws Exception {\r\n        return http\r\n                .authorizeRequests(auth -&gt; auth\r\n                        .mvcMatchers(&quot;/&quot;).permitAll()\r\n                        .mvcMatchers(&quot;/**&quot;).authenticated())\r\n\r\n                .formLogin(login -&gt; login\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .loginProcessingUrl(&quot;/authenticate&quot;)\r\n                        .failureUrl(&quot;/login?error&quot;)\r\n                        .successHandler(new CustomAuthenticationSuccessHandler())\r\n                        .permitAll())\r\n\r\n                .build();\r\n    }\r\n}\r\n```\r\nWithin a CustomAuthenticationSuccessHandler, concrete inside the determineTargetUrl method, I now want to make some decisions based on these URLs. The SuccessHandler looks like this:\r\n```Java\r\npublic class CustomAuthenticationSuccessHandler implements AuthenticationSuccessHandler {\r\n\r\n    private final RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\r\n\r\n    @Override\r\n    public void onAuthenticationSuccess(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            Authentication authentication) throws IOException {\r\n\r\n        handleRedirect(request, response, authentication);\r\n        clearAuthenticationAttributes(request);\r\n    }\r\n\r\n    private void handleRedirect(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            Authentication authentication) throws IOException {\r\n\r\n        String targetUrl = determineTargetUrl(request, authentication);\r\n        if (response.isCommitted()) return;\r\n        redirectStrategy.sendRedirect(request, response, targetUrl);\r\n    }\r\n\r\n    private String determineTargetUrl(HttpServletRequest request, Authentication authentication) {\r\n        Set&lt;String&gt; authorities = authentication.getAuthorities().stream()\r\n                .map(GrantedAuthority::getAuthority)\r\n                .collect(Collectors.toSet());\r\n        \r\n        SavedRequest savedRequest = (SavedRequest) request.getSession()\r\n                .getAttribute(&quot;SPRING_SECURITY_SAVED_REQUEST&quot;);\r\n\r\n        if (authorities.contains(&quot;ROLE_ADMIN&quot;)) return &quot;/admin&quot;;\r\n        if (authorities.contains(&quot;ROLE_USER&quot;)) return savedRequest.getRedirectUrl();\r\n\r\n        throw new IllegalStateException();\r\n    }\r\n\r\n    private void clearAuthenticationAttributes(HttpServletRequest request) {\r\n        HttpSession session = request.getSession(false);\r\n        if (session == null) return;\r\n        session.removeAttribute(WebAttributes.AUTHENTICATION_EXCEPTION);\r\n    }\r\n}\r\n```\r\nHow can I extract the values for loginPage, loginProcessingUrl and failureUrl?","title":"How to extract URLs from FormLoginConfigurer?","body":"<p>I want to gain access to the URLs set by the FormLoginConfigurer, in particular I want to extraxt the URL Strings for loginPage, loginProcessingUrl and failureUrl. These values are configured as follows:</p>\n<pre><code>public class WebSecurityConfig {\n\n    @Bean\n    public SecurityFilterChain defaultFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .authorizeRequests(auth -&gt; auth\n                        .mvcMatchers(&quot;/&quot;).permitAll()\n                        .mvcMatchers(&quot;/**&quot;).authenticated())\n\n                .formLogin(login -&gt; login\n                        .loginPage(&quot;/login&quot;)\n                        .loginProcessingUrl(&quot;/authenticate&quot;)\n                        .failureUrl(&quot;/login?error&quot;)\n                        .successHandler(new CustomAuthenticationSuccessHandler())\n                        .permitAll())\n\n                .build();\n    }\n}\n</code></pre>\n<p>Within a CustomAuthenticationSuccessHandler, concrete inside the determineTargetUrl method, I now want to make some decisions based on these URLs. The SuccessHandler looks like this:</p>\n<pre><code>public class CustomAuthenticationSuccessHandler implements AuthenticationSuccessHandler {\n\n    private final RedirectStrategy redirectStrategy = new DefaultRedirectStrategy();\n\n    @Override\n    public void onAuthenticationSuccess(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            Authentication authentication) throws IOException {\n\n        handleRedirect(request, response, authentication);\n        clearAuthenticationAttributes(request);\n    }\n\n    private void handleRedirect(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            Authentication authentication) throws IOException {\n\n        String targetUrl = determineTargetUrl(request, authentication);\n        if (response.isCommitted()) return;\n        redirectStrategy.sendRedirect(request, response, targetUrl);\n    }\n\n    private String determineTargetUrl(HttpServletRequest request, Authentication authentication) {\n        Set&lt;String&gt; authorities = authentication.getAuthorities().stream()\n                .map(GrantedAuthority::getAuthority)\n                .collect(Collectors.toSet());\n        \n        SavedRequest savedRequest = (SavedRequest) request.getSession()\n                .getAttribute(&quot;SPRING_SECURITY_SAVED_REQUEST&quot;);\n\n        if (authorities.contains(&quot;ROLE_ADMIN&quot;)) return &quot;/admin&quot;;\n        if (authorities.contains(&quot;ROLE_USER&quot;)) return savedRequest.getRedirectUrl();\n\n        throw new IllegalStateException();\n    }\n\n    private void clearAuthenticationAttributes(HttpServletRequest request) {\n        HttpSession session = request.getSession(false);\n        if (session == null) return;\n        session.removeAttribute(WebAttributes.AUTHENTICATION_EXCEPTION);\n    }\n}\n</code></pre>\n<p>How can I extract the values for loginPage, loginProcessingUrl and failureUrl?</p>\n"},{"tags":["java","sorting","java-stream","filtering"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1619960242,"post_id":67356653,"comment_id":119055520,"body_markdown":"Please post your code and explain your issues with it","body":"Please post your code and explain your issues with it"},{"owner":{"account_id":2179728,"reputation":73077,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"score":1,"creation_date":1619960580,"post_id":67356653,"comment_id":119055618,"body_markdown":"*m trying to use JavaStream ...* - It&#39;s a very basic problem. Post your code so that we can understand where exactly you are stuck.","body":"<i>m trying to use JavaStream ...</i> - It&#39;s a very basic problem. Post your code so that we can understand where exactly you are stuck."},{"owner":{"account_id":10702603,"reputation":173,"user_id":7877409,"accept_rate":60,"display_name":"Joe "},"score":0,"creation_date":1619960922,"post_id":67356653,"comment_id":119055726,"body_markdown":"I&#39;ve added my one line solution from Swift but can&#39;t understand Java Stream syntax for the same.","body":"I&#39;ve added my one line solution from Swift but can&#39;t understand Java Stream syntax for the same."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1669056989,"post_id":67356653,"comment_id":131551907,"body_markdown":"List B should be a `Set`.","body":"List B should be a <code>Set</code>."}],"answers":[{"comments":[{"owner":{"account_id":10702603,"reputation":173,"user_id":7877409,"accept_rate":60,"display_name":"Joe "},"score":0,"creation_date":1619961697,"post_id":67356791,"comment_id":119055939,"body_markdown":"Thank you very much. it worked. this bit i  was missing -&gt; !filterNot.contains(item.id)","body":"Thank you very much. it worked. this bit i  was missing -&gt; !filterNot.contains(item.id)"}],"tags":[],"owner":{"account_id":8308103,"reputation":410,"user_id":6597960,"accept_rate":78,"display_name":"yevhensh"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1619961219,"creation_date":1619961100,"answer_id":67356791,"question_id":67356653,"body_markdown":"you should use filter on main collection and !contains on List collection\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    class Scratch {\r\n        static class Element {\r\n            int id;\r\n            String name;\r\n            String description;\r\n    \r\n            public Element(int id, String name, String description) {\r\n                this.id = id;\r\n                this.name = name;\r\n                this.description = description;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;Element{&quot; +\r\n                        &quot;id=&quot; + id +\r\n                        &quot;, name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                        &quot;, description=&#39;&quot; + description + &#39;\\&#39;&#39; +\r\n                        &#39;}&#39;;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Element&gt; elements = new ArrayList&lt;&gt;(Arrays.asList(\r\n               new Element(12345, &quot;nameofitem&quot;, &quot;asdfafd&quot;),\r\n               new Element(34567, &quot;nameofitem&quot;, &quot;asdfafd&quot;),\r\n               new Element(56789, &quot;nameofitem&quot;, &quot;asdfafd&quot;)\r\n            ));\r\n            List&lt;Integer&gt; filterNot = new ArrayList&lt;&gt;(Arrays.asList(12345, 56789));\r\n            List&lt;Element&gt; result = elements.stream().filter(item -&gt; !filterNot.contains(item.id)).collect(Collectors.toList());\r\n    \r\n            result.forEach(System.out::println);\r\n        }\r\n    \r\n    \r\n    }","title":"Use Java Stream to filter list based on values from second list","body":"<p>you should use filter on main collection and !contains on List collection</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\nclass Scratch {\n    static class Element {\n        int id;\n        String name;\n        String description;\n\n        public Element(int id, String name, String description) {\n            this.id = id;\n            this.name = name;\n            this.description = description;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Element{&quot; +\n                    &quot;id=&quot; + id +\n                    &quot;, name='&quot; + name + '\\'' +\n                    &quot;, description='&quot; + description + '\\'' +\n                    '}';\n        }\n    }\n\n    public static void main(String[] args) {\n        List&lt;Element&gt; elements = new ArrayList&lt;&gt;(Arrays.asList(\n           new Element(12345, &quot;nameofitem&quot;, &quot;asdfafd&quot;),\n           new Element(34567, &quot;nameofitem&quot;, &quot;asdfafd&quot;),\n           new Element(56789, &quot;nameofitem&quot;, &quot;asdfafd&quot;)\n        ));\n        List&lt;Integer&gt; filterNot = new ArrayList&lt;&gt;(Arrays.asList(12345, 56789));\n        List&lt;Element&gt; result = elements.stream().filter(item -&gt; !filterNot.contains(item.id)).collect(Collectors.toList());\n\n        result.forEach(System.out::println);\n    }\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2807354,"reputation":138,"user_id":2414323,"display_name":"Leon the Logician"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669056202,"creation_date":1619963209,"answer_id":67357100,"question_id":67356653,"body_markdown":"* If I understand correctly, you are given the following information:\r\n  * a class with 3 fields: `id`, `name`, `description`. Lets call this class `Item`.\r\n  * a list of ids of `Item`s which should be removed from `List A`. Lets call this list, `idsOfItemsToRemove`.\r\n  * a list of all `Item`s to evaluate\r\n  * an expected list; a list of `Item`s which do not contain any value present in `idsOfItemsToRemove`.\r\n* If the above assumptions are true, then the code snippet below should be indicative of what you are seeking to do.\r\n\r\n```\r\n@Test\r\npublic void test() {\r\n    // given\r\n    Integer idOfItemToBeRemoved1 = 12345;\r\n    Integer idOfItemToBeRemoved2 = 56789;\r\n    Item itemExpectedToBeDeleted1 = new Item(idOfItemToBeRemoved1, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\r\n    Item itemExpectedToBeDeleted2 = new Item(idOfItemToBeRemoved2, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\r\n    Item itemExpectedToBeRetained1 = new Item(34567, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\r\n    Item itemExpectedToBeRetained2 = new Item(98756, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\r\n\r\n\r\n    List&lt;Integer&gt; idsOfItemsToRemove = Arrays.asList(\r\n            idOfItemToBeRemoved1,\r\n            idOfItemToBeRemoved2);\r\n\r\n    List&lt;Item&gt; listOfItems = Arrays.asList(\r\n            itemExpectedToBeDeleted1,\r\n            itemExpectedToBeDeleted2,\r\n            itemExpectedToBeRetained1,\r\n            itemExpectedToBeRetained2);\r\n\r\n    List&lt;Item&gt; expectedList = Arrays.asList(\r\n            itemExpectedToBeRetained1,\r\n            itemExpectedToBeRetained2);\r\n\r\n    // when\r\n    List&lt;Item&gt; actualList = listOfItems\r\n            .stream()\r\n            .filter(item -&gt; !idsOfItemsToRemove.contains(item.getId()))\r\n            .collect(Collectors.toList());\r\n\r\n    // then\r\n    Assert.assertEquals(expectedList, actualList);\r\n}\r\n```\r\n\r\nThis code has also been `push`ed to Github.\r\n&gt; `https://raw.githubusercontent.com/Git-Leon/stackoverflow-answers/master/javastreamfilter/`","title":"Use Java Stream to filter list based on values from second list","body":"<ul>\n<li>If I understand correctly, you are given the following information:\n<ul>\n<li>a class with 3 fields: <code>id</code>, <code>name</code>, <code>description</code>. Lets call this class <code>Item</code>.</li>\n<li>a list of ids of <code>Item</code>s which should be removed from <code>List A</code>. Lets call this list, <code>idsOfItemsToRemove</code>.</li>\n<li>a list of all <code>Item</code>s to evaluate</li>\n<li>an expected list; a list of <code>Item</code>s which do not contain any value present in <code>idsOfItemsToRemove</code>.</li>\n</ul>\n</li>\n<li>If the above assumptions are true, then the code snippet below should be indicative of what you are seeking to do.</li>\n</ul>\n<pre><code>@Test\npublic void test() {\n    // given\n    Integer idOfItemToBeRemoved1 = 12345;\n    Integer idOfItemToBeRemoved2 = 56789;\n    Item itemExpectedToBeDeleted1 = new Item(idOfItemToBeRemoved1, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\n    Item itemExpectedToBeDeleted2 = new Item(idOfItemToBeRemoved2, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\n    Item itemExpectedToBeRetained1 = new Item(34567, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\n    Item itemExpectedToBeRetained2 = new Item(98756, &quot;nameOfItem&quot;, &quot;descriptionOfItem&quot;);\n\n\n    List&lt;Integer&gt; idsOfItemsToRemove = Arrays.asList(\n            idOfItemToBeRemoved1,\n            idOfItemToBeRemoved2);\n\n    List&lt;Item&gt; listOfItems = Arrays.asList(\n            itemExpectedToBeDeleted1,\n            itemExpectedToBeDeleted2,\n            itemExpectedToBeRetained1,\n            itemExpectedToBeRetained2);\n\n    List&lt;Item&gt; expectedList = Arrays.asList(\n            itemExpectedToBeRetained1,\n            itemExpectedToBeRetained2);\n\n    // when\n    List&lt;Item&gt; actualList = listOfItems\n            .stream()\n            .filter(item -&gt; !idsOfItemsToRemove.contains(item.getId()))\n            .collect(Collectors.toList());\n\n    // then\n    Assert.assertEquals(expectedList, actualList);\n}\n</code></pre>\n<p>This code has also been <code>push</code>ed to Github.</p>\n<blockquote>\n<p><code>https://raw.githubusercontent.com/Git-Leon/stackoverflow-answers/master/javastreamfilter/</code></p>\n</blockquote>\n"}],"owner":{"account_id":10702603,"reputation":173,"user_id":7877409,"accept_rate":60,"display_name":"Joe "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5809,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":67356791,"answer_count":2,"score":0,"last_activity_date":1669056202,"creation_date":1619960170,"question_id":67356653,"body_markdown":"I&#39;m trying to Filter a list of objects based on values from second list.\r\n\r\nList A: \r\n===\r\n\r\n    [\r\n       {\r\n          &quot;id&quot;:&quot;12345&quot;,\r\n          &quot;name&quot;:&quot;nameOfItem&quot;,\r\n          &quot;description&quot;:&quot;descriptionOfItem&quot;\r\n       },\r\n       {\r\n          &quot;id&quot;:&quot;34567&quot;,\r\n          &quot;name&quot;:&quot;nameOfItem&quot;,\r\n          &quot;description&quot;:&quot;descriptionOfItem&quot;\r\n       },\r\n       {\r\n          &quot;id&quot;:&quot;56789&quot;,\r\n          &quot;name&quot;:&quot;nameOfItem&quot;,\r\n          &quot;description&quot;:&quot;descriptionOfItem&quot;\r\n       }\r\n    ]\r\n\r\nList B:\r\n===\r\n\r\n    [&quot;12345&quot;, &quot;56789&quot;]\r\n\r\nNow i want to remove the item of List A with IDs available in List B.\r\n\r\nIm trying to use JavaStream but can&#39;t understand the syntax and i&#39;m trying ForEach loop but its not working properly. \r\n\r\nI&#39;ve done something similar in Swift as following.\r\n\r\n                if let allModOptions = allModifersList?.first?.options {\r\n                    let excludedIDs = pObj?.excluded_ids\r\n                    if excludedIDs!.count &gt; 0 {\r\n                       let allowedOptions = allModOptions\r\n                       -&gt;&gt;&gt;&gt;    **.filter{ !excludedIDs!.contains($0.id!)}** &lt;&lt;&lt;&lt;-\r\n                            .filter{c in c.deleted_at == nil}.sorted {\r\n                            $0.index ?? 0 &lt; $1.index ?? 0\r\n                           }\r\n                    \r\n                        allModsList?.first?.options = allowedOptions\r\n                    \r\n                    }\r\n                   modisList.append(contentsOf: allModsList!)\r\n                }\r\n\r\n\r\nAny help is appreciated\r\n","title":"Use Java Stream to filter list based on values from second list","body":"<p>I'm trying to Filter a list of objects based on values from second list.</p>\n<h1>List A:</h1>\n<pre><code>[\n   {\n      &quot;id&quot;:&quot;12345&quot;,\n      &quot;name&quot;:&quot;nameOfItem&quot;,\n      &quot;description&quot;:&quot;descriptionOfItem&quot;\n   },\n   {\n      &quot;id&quot;:&quot;34567&quot;,\n      &quot;name&quot;:&quot;nameOfItem&quot;,\n      &quot;description&quot;:&quot;descriptionOfItem&quot;\n   },\n   {\n      &quot;id&quot;:&quot;56789&quot;,\n      &quot;name&quot;:&quot;nameOfItem&quot;,\n      &quot;description&quot;:&quot;descriptionOfItem&quot;\n   }\n]\n</code></pre>\n<h1>List B:</h1>\n<pre><code>[&quot;12345&quot;, &quot;56789&quot;]\n</code></pre>\n<p>Now i want to remove the item of List A with IDs available in List B.</p>\n<p>Im trying to use JavaStream but can't understand the syntax and i'm trying ForEach loop but its not working properly.</p>\n<p>I've done something similar in Swift as following.</p>\n<pre><code>            if let allModOptions = allModifersList?.first?.options {\n                let excludedIDs = pObj?.excluded_ids\n                if excludedIDs!.count &gt; 0 {\n                   let allowedOptions = allModOptions\n                   -&gt;&gt;&gt;&gt;    **.filter{ !excludedIDs!.contains($0.id!)}** &lt;&lt;&lt;&lt;-\n                        .filter{c in c.deleted_at == nil}.sorted {\n                        $0.index ?? 0 &lt; $1.index ?? 0\n                       }\n                \n                    allModsList?.first?.options = allowedOptions\n                \n                }\n               modisList.append(contentsOf: allModsList!)\n            }\n</code></pre>\n<p>Any help is appreciated</p>\n"},{"tags":["java","math","double","decimal","nth-root"],"comments":[{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":1,"creation_date":1442169204,"post_id":32553108,"comment_id":52962044,"body_markdown":"Use BigDecimal class, which is decimal representation of real numbers with arbitrary precision.","body":"Use BigDecimal class, which is decimal representation of real numbers with arbitrary precision."},{"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"score":1,"creation_date":1442170172,"post_id":32553108,"comment_id":52962342,"body_markdown":"Of course there&#39;s no method to calculate nth roots in the BigDecimal class. So you&#39;d need to implement it yourself. I&#39;d give the newton raphson method a chance. See [here](https://en.wikipedia.org/wiki/Nth_root_algorithm).","body":"Of course there&#39;s no method to calculate nth roots in the BigDecimal class. So you&#39;d need to implement it yourself. I&#39;d give the newton raphson method a chance. See <a href=\"https://en.wikipedia.org/wiki/Nth_root_algorithm\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"comments":[{"owner":{"account_id":1934613,"reputation":369,"user_id":1743189,"accept_rate":60,"display_name":"Sara Alaa Khodeir"},"score":0,"creation_date":1442169479,"post_id":32553151,"comment_id":52962138,"body_markdown":"I know that this is correct, but I couldn&#39;t do that because I need to make sure that the number is an integer root, I just edited the question to include this.","body":"I know that this is correct, but I couldn&#39;t do that because I need to make sure that the number is an integer root, I just edited the question to include this."},{"owner":{"account_id":6495599,"reputation":2923,"user_id":5028333,"display_name":"Raman Shrivastava"},"score":0,"creation_date":1442169496,"post_id":32553151,"comment_id":52962142,"body_markdown":"this is what is already mentioned in question. that he;s not getting exact result and dont want to round the result.","body":"this is what is already mentioned in question. that he;s not getting exact result and dont want to round the result."},{"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"score":0,"creation_date":1442170497,"post_id":32553151,"comment_id":52962467,"body_markdown":"@RamanShrivastava I edited the answer according to the edited question","body":"@RamanShrivastava I edited the answer according to the edited question"},{"owner":{"account_id":1934613,"reputation":369,"user_id":1743189,"accept_rate":60,"display_name":"Sara Alaa Khodeir"},"score":0,"creation_date":1442174209,"post_id":32553151,"comment_id":52963781,"body_markdown":"@ManosNikolaidis Thank you!","body":"@ManosNikolaidis Thank you!"}],"tags":[],"owner":{"account_id":1510989,"reputation":21746,"user_id":1413133,"display_name":"Manos Nikolaidis"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1442170434,"creation_date":1442169198,"answer_id":32553151,"question_id":32553108,"body_markdown":"The *Math.round* function will round to the nearest long value that can be stored to a double. You could compare the 2 results to see if the number has an integer cubic root.\r\n\r\n    double dres = Math.pow(125, 1.0 / 3.0);\r\n    double ires = Math.round(dres);\r\n    double diff = Math.abs(dres - ires);\r\n    if (diff &lt; Math.ulp(10.0)) {\r\n        // has cubic root\r\n    }\r\n\r\nIf that&#39;s inadequate you can try implementing [this](https://en.wikipedia.org/wiki/Shifting_nth_root_algorithm) algorithm and stop early if the result doesn&#39;t seem to be an integer.\r\n","title":"Calculating nth root in Java using power method","body":"<p>The <em>Math.round</em> function will round to the nearest long value that can be stored to a double. You could compare the 2 results to see if the number has an integer cubic root.</p>\n\n<pre><code>double dres = Math.pow(125, 1.0 / 3.0);\ndouble ires = Math.round(dres);\ndouble diff = Math.abs(dres - ires);\nif (diff &lt; Math.ulp(10.0)) {\n    // has cubic root\n}\n</code></pre>\n\n<p>If that's inadequate you can try implementing <a href=\"https://en.wikipedia.org/wiki/Shifting_nth_root_algorithm\" rel=\"nofollow\">this</a> algorithm and stop early if the result doesn't seem to be an integer.</p>\n"},{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1442171260,"creation_date":1442170663,"answer_id":32553395,"question_id":32553108,"body_markdown":"Since it is not possible to have arbitrary-precision calculus with `double`, you have three choices:\r\n\r\n 1.  Define a precision for which you decide whether a `double` value is an integer or not.\r\n 2.  Test whether the rounded value of the `double` you have is a correct result.\r\n 3. Do calculus on a [`BigDecimal`](http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html) object, which supports arbitrary-precision double values.\r\n\r\nOption 1\r\n----\r\n\r\n    private static boolean isNthRoot(int value, int n, double precision) {\r\n    \tdouble a = Math.pow(value, 1.0 / n);\r\n    \treturn Math.abs(a - Math.round(a)) &lt; precision; // if a and round(a) are &quot;close enough&quot; then we&#39;re good\r\n    }\r\n\r\nThe problem with this approach is how to define &quot;close enough&quot;. This is a subjective question and it depends on your requirements.\r\n\r\nOption 2\r\n--\r\n    private static boolean isNthRoot(int value, int n) {\r\n    \tdouble a = Math.pow(value, 1.0 / n);\r\n    \treturn Math.pow(Math.round(a), n) == value;\r\n    }\r\n\r\nThe advantage of this method is that there is no need to define a precision. However, we need to perform another `pow` operation so this will affect performance.\r\n\r\nOption 3\r\n--\r\nThere is no built-in method to calculate a double power of a BigDecimal. [This question](https://stackoverflow.com/q/3579779/1743880) will give you insight on how to do it.","title":"Calculating nth root in Java using power method","body":"<p>Since it is not possible to have arbitrary-precision calculus with <code>double</code>, you have three choices:</p>\n\n<ol>\n<li>Define a precision for which you decide whether a <code>double</code> value is an integer or not.</li>\n<li>Test whether the rounded value of the <code>double</code> you have is a correct result.</li>\n<li>Do calculus on a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"noreferrer\"><code>BigDecimal</code></a> object, which supports arbitrary-precision double values.</li>\n</ol>\n\n<h2>Option 1</h2>\n\n<pre><code>private static boolean isNthRoot(int value, int n, double precision) {\n    double a = Math.pow(value, 1.0 / n);\n    return Math.abs(a - Math.round(a)) &lt; precision; // if a and round(a) are \"close enough\" then we're good\n}\n</code></pre>\n\n<p>The problem with this approach is how to define \"close enough\". This is a subjective question and it depends on your requirements.</p>\n\n<h2>Option 2</h2>\n\n<pre><code>private static boolean isNthRoot(int value, int n) {\n    double a = Math.pow(value, 1.0 / n);\n    return Math.pow(Math.round(a), n) == value;\n}\n</code></pre>\n\n<p>The advantage of this method is that there is no need to define a precision. However, we need to perform another <code>pow</code> operation so this will affect performance.</p>\n\n<h2>Option 3</h2>\n\n<p>There is no built-in method to calculate a double power of a BigDecimal. <a href=\"https://stackoverflow.com/q/3579779/1743880\">This question</a> will give you insight on how to do it.</p>\n"},{"comments":[{"owner":{"account_id":3152821,"reputation":2999,"user_id":2665890,"accept_rate":75,"display_name":"Obicere"},"score":0,"creation_date":1442171481,"post_id":32553398,"comment_id":52962827,"body_markdown":"This issue has more to do with the way precision is defined for the `double`, not so much the method being used.","body":"This issue has more to do with the way precision is defined for the <code>double</code>, not so much the method being used."}],"tags":[],"owner":{"account_id":6851131,"reputation":494,"user_id":5268273,"display_name":"dimplex"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669055827,"creation_date":1442170670,"answer_id":32553398,"question_id":32553108,"body_markdown":"I&#39;d go for implementing my own function to do this, possibly based on [this][1] method.\r\n\r\n\r\n  [1]: https://web.archive.org/web/20171228225803/http://mathforum.org/library/drmath/view/52605.html","title":"Calculating nth root in Java using power method","body":"<p>I'd go for implementing my own function to do this, possibly based on <a href=\"https://web.archive.org/web/20171228225803/http://mathforum.org/library/drmath/view/52605.html\" rel=\"nofollow noreferrer\">this</a> method.</p>\n"},{"tags":[],"owner":{"account_id":4934454,"reputation":37277,"user_id":3973077,"accept_rate":77,"display_name":"Paul Boddington"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442174278,"creation_date":1442172901,"answer_id":32553759,"question_id":32553108,"body_markdown":"I wrote this method to compute `floor(x^(1/n))` where `x` is a non-negative `BigInteger` and `n` is a positive integer. It was a while ago now so I can&#39;t explain why it works, but I&#39;m reasonably confident that when I wrote it I was happy that it&#39;s guaranteed to give the correct answer reasonably quickly.\r\n\r\nTo see if `x` is an exact `n-th` power you can check if the result raised to the power `n` gives you exactly `x` back again.\r\n\r\n    public static BigInteger floorOfNthRoot(BigInteger x, int n) {\r\n        int sign = x.signum();\r\n        if (n &lt;= 0 || (sign &lt; 0))\r\n            throw new IllegalArgumentException();\r\n        if (sign == 0)\r\n            return BigInteger.ZERO;\r\n        if (n == 1)\r\n            return x;\r\n        BigInteger a;\r\n        BigInteger bigN = BigInteger.valueOf(n);\r\n        BigInteger bigNMinusOne = BigInteger.valueOf(n - 1);\r\n        BigInteger b = BigInteger.ZERO.setBit(1 + x.bitLength() / n);\r\n        do {\r\n            a = b;\r\n            b = a.multiply(bigNMinusOne).add(x.divide(a.pow(n - 1))).divide(bigN);\r\n        } while (b.compareTo(a) == -1);\r\n        return a;\r\n    }\r\n \r\nTo use it:\r\n\r\n    System.out.println(floorOfNthRoot(new BigInteger(&quot;125&quot;), 3));\r\n\r\n**Edit** \r\nHaving read the comments above I now remember that this is the Newton-Raphson method for n-th roots. The Newton-Raphson method has quadratic convergence (which in everyday language means it&#39;s fast). You can try it on numbers which have dozens of digits and you should get the answer in a fraction of a second. \r\n\r\nYou can adapt the method to work with other number types, but `double` and `BigDecimal` are in my view not suited for this kind of thing.","title":"Calculating nth root in Java using power method","body":"<p>I wrote this method to compute <code>floor(x^(1/n))</code> where <code>x</code> is a non-negative <code>BigInteger</code> and <code>n</code> is a positive integer. It was a while ago now so I can't explain why it works, but I'm reasonably confident that when I wrote it I was happy that it's guaranteed to give the correct answer reasonably quickly.</p>\n\n<p>To see if <code>x</code> is an exact <code>n-th</code> power you can check if the result raised to the power <code>n</code> gives you exactly <code>x</code> back again.</p>\n\n<pre><code>public static BigInteger floorOfNthRoot(BigInteger x, int n) {\n    int sign = x.signum();\n    if (n &lt;= 0 || (sign &lt; 0))\n        throw new IllegalArgumentException();\n    if (sign == 0)\n        return BigInteger.ZERO;\n    if (n == 1)\n        return x;\n    BigInteger a;\n    BigInteger bigN = BigInteger.valueOf(n);\n    BigInteger bigNMinusOne = BigInteger.valueOf(n - 1);\n    BigInteger b = BigInteger.ZERO.setBit(1 + x.bitLength() / n);\n    do {\n        a = b;\n        b = a.multiply(bigNMinusOne).add(x.divide(a.pow(n - 1))).divide(bigN);\n    } while (b.compareTo(a) == -1);\n    return a;\n}\n</code></pre>\n\n<p>To use it:</p>\n\n<pre><code>System.out.println(floorOfNthRoot(new BigInteger(\"125\"), 3));\n</code></pre>\n\n<p><strong>Edit</strong> \nHaving read the comments above I now remember that this is the Newton-Raphson method for n-th roots. The Newton-Raphson method has quadratic convergence (which in everyday language means it's fast). You can try it on numbers which have dozens of digits and you should get the answer in a fraction of a second. </p>\n\n<p>You can adapt the method to work with other number types, but <code>double</code> and <code>BigDecimal</code> are in my view not suited for this kind of thing.</p>\n"},{"tags":[],"owner":{"account_id":8130581,"reputation":1,"user_id":6124001,"display_name":"Avneesh Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459166905,"creation_date":1459164153,"answer_id":36261339,"question_id":32553108,"body_markdown":"Well this is a good option to choose in this situation.\r\nYou can rely on this-\r\n\r\n       System.out.println(&quot;     &quot;);\r\n       System.out.println(&quot;     Enter a base and then nth root&quot;);\r\n       while(true)\r\n       {\r\n           a=Double.parseDouble(br.readLine());\r\n           b=Double.parseDouble(br.readLine());\r\n           double negodd=-(Math.pow((Math.abs(a)),(1.0/b)));\r\n           double poseve=Math.pow(a,(1.0/b));\r\n           double posodd=Math.pow(a,(1.0/b));\r\n           if(a&lt;0 &amp;&amp; b%2==0)\r\n           {\r\n               String io=&quot;\\u03AF&quot;;\r\n               double negeve=Math.pow((Math.abs(a)),(1.0/b));\r\n               System.out.println(&quot;     Root is imaginary and value= &quot;+negeve+&quot; &quot;+io);\r\n           }\r\n           else if(a&lt;0 &amp;&amp; b%2==1)\r\n           System.out.println(&quot;     Value= &quot;+negodd);\r\n           else if(a&gt;0 &amp;&amp; b%2==0)\r\n           System.out.println(&quot;     Value= &quot;+poseve);\r\n           else if(a&gt;0 &amp;&amp; b%2==1)\r\n           System.out.println(&quot;     Value= &quot;+posodd);\r\n           System.out.println(&quot;     &quot;);\r\n           System.out.print(&quot;     Enter &#39;0&#39; to come back or press any number to continue- &quot;);\r\n           con=Integer.parseInt(br.readLine());\r\n           if(con==0)\r\n           break;\r\n           else\r\n           {\r\n               System.out.println(&quot;     Enter a base and then nth root&quot;);\r\n               continue;\r\n           }\r\n        }","title":"Calculating nth root in Java using power method","body":"<p>Well this is a good option to choose in this situation.\nYou can rely on this-</p>\n\n<pre><code>   System.out.println(\"     \");\n   System.out.println(\"     Enter a base and then nth root\");\n   while(true)\n   {\n       a=Double.parseDouble(br.readLine());\n       b=Double.parseDouble(br.readLine());\n       double negodd=-(Math.pow((Math.abs(a)),(1.0/b)));\n       double poseve=Math.pow(a,(1.0/b));\n       double posodd=Math.pow(a,(1.0/b));\n       if(a&lt;0 &amp;&amp; b%2==0)\n       {\n           String io=\"\\u03AF\";\n           double negeve=Math.pow((Math.abs(a)),(1.0/b));\n           System.out.println(\"     Root is imaginary and value= \"+negeve+\" \"+io);\n       }\n       else if(a&lt;0 &amp;&amp; b%2==1)\n       System.out.println(\"     Value= \"+negodd);\n       else if(a&gt;0 &amp;&amp; b%2==0)\n       System.out.println(\"     Value= \"+poseve);\n       else if(a&gt;0 &amp;&amp; b%2==1)\n       System.out.println(\"     Value= \"+posodd);\n       System.out.println(\"     \");\n       System.out.print(\"     Enter '0' to come back or press any number to continue- \");\n       con=Integer.parseInt(br.readLine());\n       if(con==0)\n       break;\n       else\n       {\n           System.out.println(\"     Enter a base and then nth root\");\n           continue;\n       }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3088035"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512418937,"creation_date":1512418937,"answer_id":47641360,"question_id":32553108,"body_markdown":"It&#39;s a pretty ugly hack, but you could reach a few of them through indenting.\r\n\r\n    System.out.println(Math.sqrt(Math.sqrt(256)));\r\n        System.out.println(Math.pow(4, 4));\r\n        System.out.println(Math.pow(4, 9));\r\n        System.out.println(Math.cbrt(Math.cbrt(262144)));\r\n    Result:\r\n    4.0\r\n    256.0\r\n    262144.0 \r\n    4.0\r\n\r\nWhich will give you every n^3th cube and every n^2th root.\r\n","title":"Calculating nth root in Java using power method","body":"<p>It's a pretty ugly hack, but you could reach a few of them through indenting.</p>\n\n<pre><code>System.out.println(Math.sqrt(Math.sqrt(256)));\n    System.out.println(Math.pow(4, 4));\n    System.out.println(Math.pow(4, 9));\n    System.out.println(Math.cbrt(Math.cbrt(262144)));\nResult:\n4.0\n256.0\n262144.0 \n4.0\n</code></pre>\n\n<p>Which will give you every n^3th cube and every n^2th root.</p>\n"},{"tags":[],"owner":{"account_id":7481922,"reputation":124,"user_id":5686426,"display_name":"Grigoris Dimopoulos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1538825957,"creation_date":1538825957,"answer_id":52678657,"question_id":32553108,"body_markdown":"You can use some tricks come from mathematics field, to havemore accuracy.\nLike this one x^(1/n) = e^(lnx/n).\n\nCheck the implementation here:\nhttps://www.baeldung.com/java-nth-root","title":"Calculating nth root in Java using power method","body":"<p>You can use some tricks come from mathematics field, to havemore accuracy.\nLike this one x^(1/n) = e^(lnx/n).</p>\n\n<p>Check the implementation here:\n<a href=\"https://www.baeldung.com/java-nth-root\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-nth-root</a></p>\n"},{"comments":[{"owner":{"account_id":16985511,"reputation":248,"user_id":12286396,"display_name":"Gary Chen"},"score":0,"creation_date":1597403205,"post_id":54019689,"comment_id":112127923,"body_markdown":"You&#39;ve posted two answers. Which one is more useful?","body":"You&#39;ve posted two answers. Which one is more useful?"}],"tags":[],"owner":{"account_id":7965642,"reputation":1330,"user_id":6011941,"accept_rate":60,"display_name":"Vpn_talent"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1546508572,"creation_date":1546508572,"answer_id":54019689,"question_id":32553108,"body_markdown":"Here is the solution without using Java&#39;s Math.pow function.\r\nIt will give you nearly nth root\r\n\r\n    public class NthRoot {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\ttry (Scanner scanner = new Scanner(System.in)) {\r\n\t\t\tint testcases = scanner.nextInt();\r\n\t\t\twhile (testcases-- &gt; 0) {\r\n\t\t\t\tint root = scanner.nextInt();\r\n\t\t\t\tint number = scanner.nextInt();\r\n\t\t\t\tdouble rootValue = compute(number, root) * 1000.0 / 1000.0;\r\n\t\t\t\tSystem.out.println((int) rootValue);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static double compute(int number, int root) {\r\n\t\tdouble xPre = Math.random() % 10;\r\n\t\tdouble error = 0.0000001;\r\n\t\tdouble delX = 2147483647;\r\n\t\tdouble current = 0.0;\r\n\r\n\t\twhile (delX &gt; error) {\r\n\t\t\tcurrent = ((root - 1.0) * xPre + (double) number / Math.pow(xPre, root - 1)) / (double) root;\r\n\t\t\tdelX = Math.abs(current - xPre);\r\n\t\t\txPre = current;\r\n\t\t}\r\n\t\treturn current;\r\n\t}","title":"Calculating nth root in Java using power method","body":"<p>Here is the solution without using Java's Math.pow function.\nIt will give you nearly nth root</p>\n\n<pre><code>public class NthRoot {\n\npublic static void main(String[] args) {\n    try (Scanner scanner = new Scanner(System.in)) {\n        int testcases = scanner.nextInt();\n        while (testcases-- &gt; 0) {\n            int root = scanner.nextInt();\n            int number = scanner.nextInt();\n            double rootValue = compute(number, root) * 1000.0 / 1000.0;\n            System.out.println((int) rootValue);\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n\nprivate static double compute(int number, int root) {\n    double xPre = Math.random() % 10;\n    double error = 0.0000001;\n    double delX = 2147483647;\n    double current = 0.0;\n\n    while (delX &gt; error) {\n        current = ((root - 1.0) * xPre + (double) number / Math.pow(xPre, root - 1)) / (double) root;\n        delX = Math.abs(current - xPre);\n        xPre = current;\n    }\n    return current;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7965642,"reputation":1330,"user_id":6011941,"accept_rate":60,"display_name":"Vpn_talent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587924431,"creation_date":1587924431,"answer_id":61445623,"question_id":32553108,"body_markdown":"***Find nth root Using binary search method.***\r\nHere is the way to find nth root with any precision according to your requirements.\r\n\r\n    \r\n    import java.util.Scanner;\r\n    \r\n    public class FindRoot {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\ttry (Scanner scanner = new Scanner(System.in)) {\r\n    \t\t\tint testCase = scanner.nextInt();\r\n    \t\t\twhile (testCase-- &gt; 0) {\r\n    \t\t\t\tdouble number = scanner.nextDouble();\r\n    \t\t\t\tint root = scanner.nextInt();\r\n    \t\t\t\tdouble precision = scanner.nextDouble();\r\n    \t\t\t\tdouble result = findRoot(number, root, precision);\r\n    \t\t\t\tSystem.out.println(result);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static double findRoot(double number, int root, double precision) {\r\n    \t\tdouble start = 0;\r\n    \t\tdouble end = number / 2;\r\n    \t\tdouble mid = end;\r\n    \t\twhile (true) {\r\n    \t\t\tif (precision &gt;= diff(number, mid, root)) {\r\n    \t\t\t\treturn mid;\r\n    \t\t\t}\r\n    \t\t\tif (pow(mid, root) &gt; number) {\r\n    \t\t\t\tend = mid;\r\n    \t\t\t} else {\r\n    \t\t\t\tstart = mid;\r\n    \t\t\t}\r\n    \t\t\tmid = (start + end) / 2;\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static double diff(double number, double mid, int n) {\r\n    \t\tdouble power = pow(mid, n);\r\n    \t\treturn number &gt; power ? number - power : power - number;\r\n    \t}\r\n    \r\n    \tprivate static double pow(double number, int pow) {\r\n    \t\tdouble result = number;\r\n    \t\twhile (pow-- &gt; 1) {\r\n    \t\t\tresult *= number;\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t}\r\n    }\r\n\r\n","title":"Calculating nth root in Java using power method","body":"<p><strong><em>Find nth root Using binary search method.</em></strong>\nHere is the way to find nth root with any precision according to your requirements.</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class FindRoot {\n\n    public static void main(String[] args) {\n        try (Scanner scanner = new Scanner(System.in)) {\n            int testCase = scanner.nextInt();\n            while (testCase-- &gt; 0) {\n                double number = scanner.nextDouble();\n                int root = scanner.nextInt();\n                double precision = scanner.nextDouble();\n                double result = findRoot(number, root, precision);\n                System.out.println(result);\n            }\n        }\n    }\n\n    private static double findRoot(double number, int root, double precision) {\n        double start = 0;\n        double end = number / 2;\n        double mid = end;\n        while (true) {\n            if (precision &gt;= diff(number, mid, root)) {\n                return mid;\n            }\n            if (pow(mid, root) &gt; number) {\n                end = mid;\n            } else {\n                start = mid;\n            }\n            mid = (start + end) / 2;\n        }\n    }\n\n    private static double diff(double number, double mid, int n) {\n        double power = pow(mid, n);\n        return number &gt; power ? number - power : power - number;\n    }\n\n    private static double pow(double number, int pow) {\n        double result = number;\n        while (pow-- &gt; 1) {\n            result *= number;\n        }\n        return result;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18352446,"reputation":269,"user_id":18765627,"display_name":"Michel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655142608,"creation_date":1655142608,"answer_id":72607102,"question_id":32553108,"body_markdown":"I&#39;m using this nth_root algorithm, which also provide the remainder :\r\n```java\r\n   public static BigInteger[] sqrt(final BigInteger n) {\r\n        final BigInteger[] res = {ZERO, n,};\r\n        BigInteger a, b;\r\n        assert (n.signum() &gt; 0);\r\n        a = ONE.shiftLeft(n.bitLength() &amp; ~1);\r\n        while (!a.equals(ZERO)) {\r\n            b = res[0].add(a);\r\n            res[0] = res[0].shiftRight(1);\r\n            if (res[1].compareTo(b) &gt;= 0) {\r\n                res[1] = res[1].subtract(b);\r\n                res[0] = res[0].add(a);\r\n            }\r\n            a = a.shiftRight(2);\r\n        }\r\n        return res;\r\n    }\r\n\r\n    public static BigInteger[] nth_root(BigInteger n, final int nth) {\r\n        final BigInteger[] res;\r\n        switch(nth){\r\n                case 0 : res = new BigInteger[]{n.equals(ONE) ? ONE : ZERO, ZERO} ; break;\r\n                case 1 : res = new BigInteger[]{n, ZERO}; break;\r\n                case 2 : res = sqrt(n); break;\r\n                default:\r\n                    int sign = n.signum() ;\r\n                    n = n.abs();\r\n                        res = new BigInteger[]{n.shiftLeft((n.bitLength() + nth - 1) / nth), n};\r\n                        while(res[1].compareTo(res[0])&lt;0) {\r\n                            res[0] = res[1];\r\n                            res[1] = BigInteger.valueOf(nth-1).multiply(res[1]).add(n.divide(res[1].pow(nth - 1))).divide(BigInteger.valueOf(nth));\r\n                        }\r\n                        res[1] = res[0].pow(nth);\r\n                        res[1] = n.subtract(res[1]);\r\n                        if (sign &lt; 0 &amp;&amp; (nth &amp; 1) == 1) {\r\n                            res[0] = res[0].negate();\r\n                            res[1] = res[1].negate();\r\n                        } else assert (sign &gt; 0);\r\n            }\r\n            return res ;\r\n        }\r\n    }\r\n```","title":"Calculating nth root in Java using power method","body":"<p>I'm using this nth_root algorithm, which also provide the remainder :</p>\n<pre class=\"lang-java prettyprint-override\"><code>   public static BigInteger[] sqrt(final BigInteger n) {\n        final BigInteger[] res = {ZERO, n,};\n        BigInteger a, b;\n        assert (n.signum() &gt; 0);\n        a = ONE.shiftLeft(n.bitLength() &amp; ~1);\n        while (!a.equals(ZERO)) {\n            b = res[0].add(a);\n            res[0] = res[0].shiftRight(1);\n            if (res[1].compareTo(b) &gt;= 0) {\n                res[1] = res[1].subtract(b);\n                res[0] = res[0].add(a);\n            }\n            a = a.shiftRight(2);\n        }\n        return res;\n    }\n\n    public static BigInteger[] nth_root(BigInteger n, final int nth) {\n        final BigInteger[] res;\n        switch(nth){\n                case 0 : res = new BigInteger[]{n.equals(ONE) ? ONE : ZERO, ZERO} ; break;\n                case 1 : res = new BigInteger[]{n, ZERO}; break;\n                case 2 : res = sqrt(n); break;\n                default:\n                    int sign = n.signum() ;\n                    n = n.abs();\n                        res = new BigInteger[]{n.shiftLeft((n.bitLength() + nth - 1) / nth), n};\n                        while(res[1].compareTo(res[0])&lt;0) {\n                            res[0] = res[1];\n                            res[1] = BigInteger.valueOf(nth-1).multiply(res[1]).add(n.divide(res[1].pow(nth - 1))).divide(BigInteger.valueOf(nth));\n                        }\n                        res[1] = res[0].pow(nth);\n                        res[1] = n.subtract(res[1]);\n                        if (sign &lt; 0 &amp;&amp; (nth &amp; 1) == 1) {\n                            res[0] = res[0].negate();\n                            res[1] = res[1].negate();\n                        } else assert (sign &gt; 0);\n            }\n            return res ;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1934613,"reputation":369,"user_id":1743189,"accept_rate":60,"display_name":"Sara Alaa Khodeir"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34930,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"answer_count":10,"score":25,"last_activity_date":1669055827,"creation_date":1442168988,"question_id":32553108,"body_markdown":"I was trying to get a cubic root in java using `Math.pow(n, 1.0/3)` but because it divides doubles, it doesn&#39;t return the exact answer. For example, with 125, this gives 4.9999999999. Is there a work-around for this? I know there is a cubic root function but I&#39;d like to fix this so I can calculate higher roots.\r\n\r\nI would not like to round because I want to know whether a number has an integer root by doing something like this: `Math.pow(n, 1.0 / 3) % ((int) Math.pow(n, 1.0 / 3))`.","title":"Calculating nth root in Java using power method","body":"<p>I was trying to get a cubic root in java using <code>Math.pow(n, 1.0/3)</code> but because it divides doubles, it doesn't return the exact answer. For example, with 125, this gives 4.9999999999. Is there a work-around for this? I know there is a cubic root function but I'd like to fix this so I can calculate higher roots.</p>\n\n<p>I would not like to round because I want to know whether a number has an integer root by doing something like this: <code>Math.pow(n, 1.0 / 3) % ((int) Math.pow(n, 1.0 / 3))</code>.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23265029,"reputation":128,"user_id":17350710,"display_name":"Ahmad Mtera"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1666289992,"creation_date":1666289335,"answer_id":74144466,"question_id":74144398,"body_markdown":"I would assume your &#39;Item&#39; class is custom since you haven&#39;t added any imports. The solution with that in mind is to add a method that takes in one parameter (data) and traverses all the items in the &quot;q&quot; list. If an item matches the data, return true. If not, return false. Also, remember to implement the &#39;equals()&#39; method appropriately in the &#39;Item&#39; class.\r\n\r\nThe implementation of the search method should be pretty much this:\r\n\r\n \r\n\r\n    public boolean search(T value) {\r\n        if (value == null) {\r\n            return false;\r\n        }\r\n        Item&lt;T&gt; item = q;\r\n        while (q != null) {\r\n            if (q.equals(value))\r\n                return true;\r\n        }\r\n        return false;\r\n    }","title":"How i can do search() with stack","body":"<p>I would assume your 'Item' class is custom since you haven't added any imports. The solution with that in mind is to add a method that takes in one parameter (data) and traverses all the items in the &quot;q&quot; list. If an item matches the data, return true. If not, return false. Also, remember to implement the 'equals()' method appropriately in the 'Item' class.</p>\n<p>The implementation of the search method should be pretty much this:</p>\n<pre><code>public boolean search(T value) {\n    if (value == null) {\n        return false;\n    }\n    Item&lt;T&gt; item = q;\n    while (q != null) {\n        if (q.equals(value))\n            return true;\n    }\n    return false;\n}\n</code></pre>\n"}],"owner":{"account_id":26684993,"reputation":33,"user_id":20294445,"display_name":"V0lino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":74144466,"answer_count":1,"score":2,"last_activity_date":1669055319,"creation_date":1666289005,"question_id":74144398,"body_markdown":"I&#39;m trying to figure out how i can show all numbers in the stack i have, to do search method without using library. For example \r\n```\r\nif(value = allNumbers){\r\nreturn true;\r\n}\r\nelse{\r\nreturn false;\r\n}\r\n```\r\nThe problem is I can&#39;t find the correct method how to display ```allNumbers``` in the stack\r\nMy code:\r\n```\r\npublic class Stack &lt;T&gt;{\r\n    private Item&lt;T&gt; q=null;\r\n\r\n    public boolean isEmpty() {\r\n        return q==null;\r\n    }\r\n\r\n    public void push(T d) {\r\n        Item&lt;T&gt; tmp=new Item&lt;T&gt;(d);\r\n        tmp.next=q;\r\n        q=tmp;\r\n    }\r\n\r\n    public T pop() {\r\n        if (isEmpty())\r\n            return null;\r\n        T tmp=q.data;\r\n        q=q.next;\r\n        return tmp;\r\n    }\r\n    public T peek(){\r\n        if (isEmpty())\r\n            return null;\r\n        T tmp = q.data;\r\n        return tmp;\r\n    }\r\n//    public boolean search (T value) {\r\n//        if(value == null ) {\r\n//            return false;\r\n//        }\r\n//        else{\r\n//            value = allNumbers ;\r\n//            return true;\r\n//        }\r\n//\r\n//    }\r\n}\r\n```\r\nDriver code:\r\n```\r\npublic class Driver {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Stack&lt;Integer&gt; s=new Stack&lt;Integer&gt;();\r\n        int value = 2;\r\n        s.push(1);\r\n        s.push(2);\r\n        s.push(3);\r\n        s.push(4);\r\n        s.push(5);\r\n        s.push(6);\r\n        s.push(7);\r\n        s.push(8);\r\n        s.push(9);\r\n        System.out.println(&quot;Popped: &quot; + s.pop());\r\n        System.out.println(&quot;Last number put in is: &quot; + s.peek());\r\n//        System.out.println(&quot;Searching for: &quot; );\r\n//        System.out.println(&quot;Is found: &quot; + s.search(9));\r\n        while (!s.isEmpty()) {\r\n            System.out.println(s.pop());\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"How i can do search() with stack","body":"<p>I'm trying to figure out how i can show all numbers in the stack i have, to do search method without using library. For example</p>\n<pre><code>if(value = allNumbers){\nreturn true;\n}\nelse{\nreturn false;\n}\n</code></pre>\n<p>The problem is I can't find the correct method how to display <code>allNumbers</code> in the stack\nMy code:</p>\n<pre><code>public class Stack &lt;T&gt;{\n    private Item&lt;T&gt; q=null;\n\n    public boolean isEmpty() {\n        return q==null;\n    }\n\n    public void push(T d) {\n        Item&lt;T&gt; tmp=new Item&lt;T&gt;(d);\n        tmp.next=q;\n        q=tmp;\n    }\n\n    public T pop() {\n        if (isEmpty())\n            return null;\n        T tmp=q.data;\n        q=q.next;\n        return tmp;\n    }\n    public T peek(){\n        if (isEmpty())\n            return null;\n        T tmp = q.data;\n        return tmp;\n    }\n//    public boolean search (T value) {\n//        if(value == null ) {\n//            return false;\n//        }\n//        else{\n//            value = allNumbers ;\n//            return true;\n//        }\n//\n//    }\n}\n</code></pre>\n<p>Driver code:</p>\n<pre><code>public class Driver {\n\n    public static void main(String[] args) {\n\n        Stack&lt;Integer&gt; s=new Stack&lt;Integer&gt;();\n        int value = 2;\n        s.push(1);\n        s.push(2);\n        s.push(3);\n        s.push(4);\n        s.push(5);\n        s.push(6);\n        s.push(7);\n        s.push(8);\n        s.push(9);\n        System.out.println(&quot;Popped: &quot; + s.pop());\n        System.out.println(&quot;Last number put in is: &quot; + s.peek());\n//        System.out.println(&quot;Searching for: &quot; );\n//        System.out.println(&quot;Is found: &quot; + s.search(9));\n        while (!s.isEmpty()) {\n            System.out.println(s.pop());\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1668518172,"post_id":74446231,"comment_id":131420272,"body_markdown":"@HovercraftFullOfEels I&#39;d say the best approach is don&#39;t write classes like that in the first place. A and B both depending on each other is highly indicative of the wrong design. They are tightly coupled.","body":"@HovercraftFullOfEels I&#39;d say the best approach is don&#39;t write classes like that in the first place. A and B both depending on each other is highly indicative of the wrong design. They are tightly coupled."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1668518453,"post_id":74446231,"comment_id":131420378,"body_markdown":"@Michael: I agree that one should always strive for a high level of cohesion and low level of coupling, but sometimes the design is not your choice, and you have to make do with what is given to you.","body":"@Michael: I agree that one should always strive for a high level of cohesion and low level of coupling, but sometimes the design is not your choice, and you have to make do with what is given to you."},{"owner":{"account_id":26939289,"reputation":53,"user_id":20510400,"display_name":"Shadow504"},"score":0,"creation_date":1668519317,"post_id":74446231,"comment_id":131420749,"body_markdown":"@Michael While I do want to achieve what you have stated, my current system relies heavily on the holder class A, and I don&#39;t think it is sensible to individually pass in the B object into other methods&#39; parameters (There are many more objects like this, and the B object is just an example). \n\nFurthermore, the B object is a direct component of A, you can think of it as attaching a part to a bigger one (Somewhat similar to public inner class ? ). I don&#39;t know how to make the said classes loosely coupled, sadly.","body":"@Michael While I do want to achieve what you have stated, my current system relies heavily on the holder class A, and I don&#39;t think it is sensible to individually pass in the B object into other methods&#39; parameters (There are many more objects like this, and the B object is just an example).   Furthermore, the B object is a direct component of A, you can think of it as attaching a part to a bigger one (Somewhat similar to public inner class ? ). I don&#39;t know how to make the said classes loosely coupled, sadly."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1668519378,"post_id":74446231,"comment_id":131420772,"body_markdown":"Shadow, pertinent to @Michael&#39;s comment, please see [this answer](https://stackoverflow.com/a/36909439/).","body":"Shadow, pertinent to @Michael&#39;s comment, please see <a href=\"https://stackoverflow.com/a/36909439/\">this answer</a>."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1668519723,"post_id":74446231,"comment_id":131420926,"body_markdown":"@Shadow504 &quot;B object is a direct component of A&quot;. That&#39;s fine. That&#39;s just composition. A car has an engine. An engine doesn&#39;t also have a car.","body":"@Shadow504 &quot;B object is a direct component of A&quot;. That&#39;s fine. That&#39;s just composition. A car has an engine. An engine doesn&#39;t also have a car."},{"owner":{"account_id":26939289,"reputation":53,"user_id":20510400,"display_name":"Shadow504"},"score":0,"creation_date":1668522093,"post_id":74446231,"comment_id":131422010,"body_markdown":"Currently having a hard time as I see no way to handle this issue. To give a more in-depth context, the actual classes&#39;s are: Client (A), AccountController (B), so basically each clients should have multiple accounts, and the AccountController is there to handle those accounts. Now, other classes access the AccountController formally by a setter in the Client class, the AccountController is in a separate package (People said that this is a bad design). Merging is a huge no-no, inner classes may affect readability, and interfaces don&#39;t work as these classes have little to no relation","body":"Currently having a hard time as I see no way to handle this issue. To give a more in-depth context, the actual classes&#39;s are: Client (A), AccountController (B), so basically each clients should have multiple accounts, and the AccountController is there to handle those accounts. Now, other classes access the AccountController formally by a setter in the Client class, the AccountController is in a separate package (People said that this is a bad design). Merging is a huge no-no, inner classes may affect readability, and interfaces don&#39;t work as these classes have little to no relation"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1668522268,"post_id":74446231,"comment_id":131422084,"body_markdown":"@Shadow504 What is an &quot;AccountController&quot;, and why does a Client have one (or more)? Shouldn&#39;t a `Client` (A) have multiple `Account`s (C)?","body":"@Shadow504 What is an &quot;AccountController&quot;, and why does a Client have one (or more)? Shouldn&#39;t a <code>Client</code> (A) have multiple <code>Account</code>s (C)?"},{"owner":{"account_id":26939289,"reputation":53,"user_id":20510400,"display_name":"Shadow504"},"score":0,"creation_date":1668522404,"post_id":74446231,"comment_id":131422145,"body_markdown":"@Michael It is there to handle all of the accounts (Creation, Deletion, etc... ). Now that I think of it, it should probably be grouped into the same package as the client, as the AccountController is simply there to neatly control the accounts. But the issue still persists","body":"@Michael It is there to handle all of the accounts (Creation, Deletion, etc... ). Now that I think of it, it should probably be grouped into the same package as the client, as the AccountController is simply there to neatly control the accounts. But the issue still persists"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1668522537,"post_id":74446231,"comment_id":131422208,"body_markdown":"I still don&#39;t really understand the problem, but even if a client has multiple accounts, it obvious does not need ALL accounts, which AccountController is providing. AccountController (B) should have all Accounts (C). Client (A) should have N Accounts (C). Client should not have AccountController.","body":"I still don&#39;t really understand the problem, but even if a client has multiple accounts, it obvious does not need ALL accounts, which AccountController is providing. AccountController (B) should have all Accounts (C). Client (A) should have N Accounts (C). Client should not have AccountController."}],"owner":{"account_id":26939289,"reputation":53,"user_id":20510400,"display_name":"Shadow504"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1669054800,"creation_date":1668517918,"question_id":74446231,"body_markdown":"So I don&#39;t know if this is a good  approach or not:\r\n``` java\r\n\r\nclass A {\r\n\r\n    B b;\r\n\r\n    A() {\r\n        this.b = new B(this);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nclass B {\r\n    A a;\r\n\r\n    //* Requires the A object as a parameter */\r\n    B(A a) {\r\n        this.a = a;\r\n    }\r\n}\r\n```\r\n\r\nThe reason I did this is that the class B must hold the A object in order to operate (Think of the class A as a  &quot;holder&quot; for class B)\r\n\r\nHowever, this leads to many issue, I am not sure if this is an anti-pattern or not, but when I&#39;m doing Unit Testing class A, it would be hard for me to mock or omit object B as there&#39;s no dependency injection. \r\n\r\nI don&#39;t think I can implement the dependency injection pattern here as the B object NEEDS object A to operate, so passing it in as a parameters to the constructor would not work.\r\n\r\nThe only solution I have thought of is to make a ```setUp``` method, like so:\r\n\r\n```\r\n// In the A class\r\npublic void setUp(B b) {\r\n    this.b = b;\r\n}\r\n```\r\n\r\nThis would successfully separate the testing and the actual application from themselves, while adhering to the dependency injection pattern. Though, I am not 100% sure with this approach.\r\n\r\n\r\nI am just not sure if this approach is ideal or not.\r\n\r\nEdit: The post that was linked to this &quot;duplicate&quot; one does not directly pertain to my problem. The one that was referenced got a ```StackOverflowError```, while mine does not, furthermore, that post&#39;s constructor does not include any parameters. \r\n\r\nTo further clarify my existing issue: my ```A``` class is the ```ClientClass```, and the ```B``` is the ```AccountController``` class. The ```AccountController``` handles all of the accounts of the CLIENT, and each client has one ```AccountController```, it handles things such as logging in and out, account creation and deletion, and track the current account. Other classes reference the ```ClientClass``` object to also get the ```AccountController```, I did this mainly for readability. ","title":"Is it a good idea to instantiate a class A in constructor B (While the constructor A requires a B object)","body":"<p>So I don't know if this is a good  approach or not:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nclass A {\n\n    B b;\n\n    A() {\n        this.b = new B(this);\n    }\n}\n\n</code></pre>\n<pre><code>class B {\n    A a;\n\n    //* Requires the A object as a parameter */\n    B(A a) {\n        this.a = a;\n    }\n}\n</code></pre>\n<p>The reason I did this is that the class B must hold the A object in order to operate (Think of the class A as a  &quot;holder&quot; for class B)</p>\n<p>However, this leads to many issue, I am not sure if this is an anti-pattern or not, but when I'm doing Unit Testing class A, it would be hard for me to mock or omit object B as there's no dependency injection.</p>\n<p>I don't think I can implement the dependency injection pattern here as the B object NEEDS object A to operate, so passing it in as a parameters to the constructor would not work.</p>\n<p>The only solution I have thought of is to make a <code>setUp</code> method, like so:</p>\n<pre><code>// In the A class\npublic void setUp(B b) {\n    this.b = b;\n}\n</code></pre>\n<p>This would successfully separate the testing and the actual application from themselves, while adhering to the dependency injection pattern. Though, I am not 100% sure with this approach.</p>\n<p>I am just not sure if this approach is ideal or not.</p>\n<p>Edit: The post that was linked to this &quot;duplicate&quot; one does not directly pertain to my problem. The one that was referenced got a <code>StackOverflowError</code>, while mine does not, furthermore, that post's constructor does not include any parameters.</p>\n<p>To further clarify my existing issue: my <code>A</code> class is the <code>ClientClass</code>, and the <code>B</code> is the <code>AccountController</code> class. The <code>AccountController</code> handles all of the accounts of the CLIENT, and each client has one <code>AccountController</code>, it handles things such as logging in and out, account creation and deletion, and track the current account. Other classes reference the <code>ClientClass</code> object to also get the <code>AccountController</code>, I did this mainly for readability.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1669037418,"post_id":74519469,"comment_id":131544917,"body_markdown":"What specific problem are you facing? Just to note: `jsonObject.get(&quot;things&quot;)` - where is `&quot;things&quot;` in your JSON? Did you mean `jsonObject.get(&quot;names&quot;)`?","body":"What specific problem are you facing? Just to note: <code>jsonObject.get(&quot;things&quot;)</code> - where is <code>&quot;things&quot;</code> in your JSON? Did you mean <code>jsonObject.get(&quot;names&quot;)</code>?"},{"owner":{"account_id":27001998,"reputation":7,"user_id":20563143,"display_name":"Prasad"},"score":0,"creation_date":1669037584,"post_id":74519469,"comment_id":131544974,"body_markdown":"Yes thats correct it is names","body":"Yes thats correct it is names"}],"answers":[{"tags":[],"owner":{"account_id":27001998,"reputation":7,"user_id":20563143,"display_name":"Prasad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669054150,"creation_date":1669054150,"answer_id":74523183,"question_id":74519469,"body_markdown":"```\r\nJSONParser jsonParser = new JSONParser();\r\n        Object object;\r\n\r\n        try {\r\n\r\n            object = jsonParser.parse(new FileReader(&quot;src/main/resources/thing.json&quot;));\r\n            JSONObject jsonObject = (JSONObject) object;\r\n\r\n\r\n            JSONArray things = (JSONArray) jsonObject.get(&quot;things&quot;);\r\n\r\n\r\n\r\n            Iterator itr = things.iterator();\r\n\r\n            System.out.println(&quot;Thing_name&quot;+&quot;^&quot;+&quot;Mac_Address&quot;+&quot;^&quot;+&quot;Active&quot;+&quot;^&quot;+&quot;Unique_Device_Identifier&quot;);\r\n\r\n            JSONArray jsonArray = (JSONArray) jsonObject.get(&quot;things&quot;);\r\n\r\n            while (itr.hasNext()) {\r\n\r\n//                JSONArray attributes1 = (JSONArray) jsonObject.get(&quot;thingName&quot;);\r\n\r\n                for (int i = 0; i &lt;jsonArray.size(); i++) {\r\n                Object slide = itr.next();\r\n                JSONObject jsonObject2 = (JSONObject) slide;\r\n                JSONObject attributes = (JSONObject) jsonObject2.get(&quot;attributes&quot;);\r\n\r\n                String macAddress = (String) attributes.get(&quot;MACAddress&quot;);\r\n                String active = (String) attributes.get(&quot;activationCode&quot;);\r\n                String uniqueDeviceIdentifier = (String) attributes.get(&quot;uniqueDeviceIdentifier&quot;);\r\n\r\n                System.out.println(((JSONObject) jsonArray.get(i)).get(&quot;thingName&quot;) + &quot;^&quot; + macAddress + &quot;^&quot; + active + &quot;^&quot; + uniqueDeviceIdentifier);\r\n               \r\n```","title":"Fetch attributes values from a json file","body":"<pre><code>JSONParser jsonParser = new JSONParser();\n        Object object;\n\n        try {\n\n            object = jsonParser.parse(new FileReader(&quot;src/main/resources/thing.json&quot;));\n            JSONObject jsonObject = (JSONObject) object;\n\n\n            JSONArray things = (JSONArray) jsonObject.get(&quot;things&quot;);\n\n\n\n            Iterator itr = things.iterator();\n\n            System.out.println(&quot;Thing_name&quot;+&quot;^&quot;+&quot;Mac_Address&quot;+&quot;^&quot;+&quot;Active&quot;+&quot;^&quot;+&quot;Unique_Device_Identifier&quot;);\n\n            JSONArray jsonArray = (JSONArray) jsonObject.get(&quot;things&quot;);\n\n            while (itr.hasNext()) {\n\n//                JSONArray attributes1 = (JSONArray) jsonObject.get(&quot;thingName&quot;);\n\n                for (int i = 0; i &lt;jsonArray.size(); i++) {\n                Object slide = itr.next();\n                JSONObject jsonObject2 = (JSONObject) slide;\n                JSONObject attributes = (JSONObject) jsonObject2.get(&quot;attributes&quot;);\n\n                String macAddress = (String) attributes.get(&quot;MACAddress&quot;);\n                String active = (String) attributes.get(&quot;activationCode&quot;);\n                String uniqueDeviceIdentifier = (String) attributes.get(&quot;uniqueDeviceIdentifier&quot;);\n\n                System.out.println(((JSONObject) jsonArray.get(i)).get(&quot;thingName&quot;) + &quot;^&quot; + macAddress + &quot;^&quot; + active + &quot;^&quot; + uniqueDeviceIdentifier);\n               \n</code></pre>\n"}],"owner":{"account_id":27001998,"reputation":7,"user_id":20563143,"display_name":"Prasad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1669054150,"creation_date":1669036169,"question_id":74519469,"body_markdown":"i am using java language.\r\ni want to print name,MACAddress,active,uniqueDeviceIdentifier values on the same line as per name.\r\nI have tried below code but i am not able to fetch name , i was able to fetch rest of the attributes , i am struggling with name attribute \r\n\r\nfor below test.json\r\n\r\n```json\r\n{\r\n  &quot;names&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;ABC&quot;,\r\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\r\n      &quot;attributes&quot;: {\r\n        &quot;MACAddress&quot;: &quot;02:00:00:44:11:30&quot;,\r\n        &quot;active&quot;: &quot;true&quot;\r\n      },\r\n      &quot;version&quot;: 1\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;XYZ&quot;,\r\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\r\n      &quot;attributes&quot;: {\r\n        &quot;active&quot;: &quot;true&quot;,\r\n        &quot;uniqueDeviceIdentifier&quot;: &quot;2EAFCEE9-6379-4010-B6B1-8F335D83316F&quot;\r\n      },\r\n      &quot;version&quot;: 38\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;YYZ&quot;,\r\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\r\n      &quot;attributes&quot;: {\r\n        &quot;active&quot;: &quot;true&quot;,\r\n        &quot;uniqueDeviceIdentifier&quot;: &quot;2EAFCEE9-6379-4010-B6B1-8F335D833161&quot;\r\n      },\r\n      &quot;version&quot;: 39\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;AAA&quot;,\r\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\r\n      &quot;attributes&quot;: {\r\n        &quot;MACAddress&quot;: &quot;02:00:00:44:55:32&quot;\r\n      },\r\n      &quot;version&quot;: 1\r\n    }\r\n  ]\r\n}\r\n```\r\n\r\n```\r\nJSONParser jsonParser = new JSONParser();\r\n        Object object;\r\n        try {\r\n            object = jsonParser.parse(new FileReader(&quot;src/main/resources/Test.json&quot;));\r\n            JSONObject jsonObject = (JSONObject) object;\r\n            JSONArray things = (JSONArray) jsonObject.get(&quot;things&quot;);\r\n            Iterator itr = things.iterator();\r\n            System.out.println(&quot;thing name&quot;+&quot;^&quot;+&quot;mac Address&quot;+&quot;^&quot;+&quot;activation Code&quot;+&quot;^&quot;+&quot;unique Device Identifier&quot;);\r\n            while (itr.hasNext()) {\r\n                Object slide = itr.next();\r\n                JSONObject jsonObject2 = (JSONObject) slide;\r\n                JSONObject attributes = (JSONObject) jsonObject2.get(&quot;attributes&quot;);\r\n\r\n                String macAddress = (String) attributes.get(&quot;MACAddress&quot;);\r\n                String activationCode = (String) attributes.get(&quot;activationCode&quot;);\r\n                String uniqueDeviceIdentifier = (String) attributes.get(&quot;uniqueDeviceIdentifier&quot;);       System.out.println(macAddress+&quot;^&quot;+activationCode+&quot;^&quot;+uniqueDeviceIdentifier);\r\n```\r\n\r\n**required output**\r\n```\r\nname^MACAddress^active^uniqueDeviceIdentifier\r\n\r\nABC^02:00:00:44:11:30^true^null\r\n\r\nXYZ^null^true^2EAFCEE9-6379-4010-B6B1-8F335D83316F\r\n\r\nYYZ^null^true^2EAFCEE9-6379-4010-B6B1-8F335D833161\r\n\r\nXYZ^02:00:00:44:55:32^null^null\r\n```\r\n\r\n","title":"Fetch attributes values from a json file","body":"<p>i am using java language.\ni want to print name,MACAddress,active,uniqueDeviceIdentifier values on the same line as per name.\nI have tried below code but i am not able to fetch name , i was able to fetch rest of the attributes , i am struggling with name attribute</p>\n<p>for below test.json</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;names&quot;: [\n    {\n      &quot;name&quot;: &quot;ABC&quot;,\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\n      &quot;attributes&quot;: {\n        &quot;MACAddress&quot;: &quot;02:00:00:44:11:30&quot;,\n        &quot;active&quot;: &quot;true&quot;\n      },\n      &quot;version&quot;: 1\n    },\n    {\n      &quot;name&quot;: &quot;XYZ&quot;,\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\n      &quot;attributes&quot;: {\n        &quot;active&quot;: &quot;true&quot;,\n        &quot;uniqueDeviceIdentifier&quot;: &quot;2EAFCEE9-6379-4010-B6B1-8F335D83316F&quot;\n      },\n      &quot;version&quot;: 38\n    },\n    {\n      &quot;name&quot;: &quot;YYZ&quot;,\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\n      &quot;attributes&quot;: {\n        &quot;active&quot;: &quot;true&quot;,\n        &quot;uniqueDeviceIdentifier&quot;: &quot;2EAFCEE9-6379-4010-B6B1-8F335D833161&quot;\n      },\n      &quot;version&quot;: 39\n    },\n    {\n      &quot;name&quot;: &quot;AAA&quot;,\n      &quot;thingTypeName&quot;: &quot;SmartPhone&quot;,\n      &quot;attributes&quot;: {\n        &quot;MACAddress&quot;: &quot;02:00:00:44:55:32&quot;\n      },\n      &quot;version&quot;: 1\n    }\n  ]\n}\n</code></pre>\n<pre><code>JSONParser jsonParser = new JSONParser();\n        Object object;\n        try {\n            object = jsonParser.parse(new FileReader(&quot;src/main/resources/Test.json&quot;));\n            JSONObject jsonObject = (JSONObject) object;\n            JSONArray things = (JSONArray) jsonObject.get(&quot;things&quot;);\n            Iterator itr = things.iterator();\n            System.out.println(&quot;thing name&quot;+&quot;^&quot;+&quot;mac Address&quot;+&quot;^&quot;+&quot;activation Code&quot;+&quot;^&quot;+&quot;unique Device Identifier&quot;);\n            while (itr.hasNext()) {\n                Object slide = itr.next();\n                JSONObject jsonObject2 = (JSONObject) slide;\n                JSONObject attributes = (JSONObject) jsonObject2.get(&quot;attributes&quot;);\n\n                String macAddress = (String) attributes.get(&quot;MACAddress&quot;);\n                String activationCode = (String) attributes.get(&quot;activationCode&quot;);\n                String uniqueDeviceIdentifier = (String) attributes.get(&quot;uniqueDeviceIdentifier&quot;);       System.out.println(macAddress+&quot;^&quot;+activationCode+&quot;^&quot;+uniqueDeviceIdentifier);\n</code></pre>\n<p><strong>required output</strong></p>\n<pre><code>name^MACAddress^active^uniqueDeviceIdentifier\n\nABC^02:00:00:44:11:30^true^null\n\nXYZ^null^true^2EAFCEE9-6379-4010-B6B1-8F335D83316F\n\nYYZ^null^true^2EAFCEE9-6379-4010-B6B1-8F335D833161\n\nXYZ^02:00:00:44:55:32^null^null\n</code></pre>\n"},{"tags":["java","mapstruct"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1668956471,"post_id":74490450,"comment_id":131526844,"body_markdown":"how MyEntity and MyOM is related?","body":"how MyEntity and MyOM is related?"},{"owner":{"account_id":3381085,"reputation":35,"user_id":2838113,"display_name":"jeangr"},"score":0,"creation_date":1669047134,"post_id":74490450,"comment_id":131548709,"body_markdown":"they are two independent classes","body":"they are two independent classes"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":1,"creation_date":1669052434,"post_id":74490450,"comment_id":131550543,"body_markdown":"Can you share the MapStruct interface/class on which you are working? I want to see what you have tried, so I can be sure to share with you the best solution.","body":"Can you share the MapStruct interface/class on which you are working? I want to see what you have tried, so I can be sure to share with you the best solution."}],"owner":{"account_id":3381085,"reputation":35,"user_id":2838113,"display_name":"jeangr"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669053738,"creation_date":1668778314,"question_id":74490450,"body_markdown":"I need to map a List&lt;MyOM&gt; into List&lt;MyEntity&gt; in this following way (and viceversa)\r\n\r\nOne MyOM (the parent) can have a list of MyOM inside (the children). A child can&#39;t have children. A parent can have no children.\r\n\r\nMyEntity has a field &quot;parent&quot; of type MyEntity.\r\n\r\nHow can I use Mapstruct in order to build these list of objects correctly?\r\n\r\nthanks a lot\r\n\r\n\r\n\r\nmy classes\r\n```\r\nclass MyOM {\r\n    private String label;\r\n    private Set&lt;MyOM&gt; children;\r\n}\r\n\r\n\r\nclass MyEntity {\r\n    private String label;\r\n    private MyEntity parent;\r\n}\r\n```\r\n\r\njson example of list of OM\r\n```\r\n[\r\n    {\r\n        &quot;label&quot;: &quot;parent&quot;,\r\n        &quot;children&quot;: [\r\n\t\t    {\r\n\t\t\t&quot;label&quot;: &quot;child_1&quot;,\r\n\t\t\t&quot;children&quot;: []\r\n\t\t    },\r\n\t\t    {\r\n\t\t\t&quot;label&quot;: &quot;child_2&quot;,\r\n\t\t\t&quot;children&quot;: []\r\n\t\t    }\r\n        ]\r\n    },\r\n    {\r\n        &quot;label&quot;: &quot;noParent_1&quot;,\r\n        &quot;children&quot;: []\r\n    },\r\n    {\r\n        &quot;label&quot;: &quot;noParent_2&quot;,\r\n        &quot;children&quot;: []\r\n    }\r\n]\r\n```\r\n\r\nThe interface is:\r\n\r\n```\r\n@Mapper(config = ServiceMapperConfig.class)\r\npublic interface IMyObjectMapper {\r\n\r\n    MyOM map(MyEntity entity);\r\n\r\n    List&lt;MyOM&gt; mapEntities(List&lt;MyEntity&gt; entities);\r\n\r\n    MyEntity map(MyOM om);\r\n\r\n    List&lt;MyEntity&gt; mapOMs(List&lt;MyOM&gt; dtos);\r\n\r\n}\r\n```\r\n","title":"Mapstruct: from a list of OM to list of entity (parent/child relationship) and viceversa","body":"<p>I need to map a List into List in this following way (and viceversa)</p>\n<p>One MyOM (the parent) can have a list of MyOM inside (the children). A child can't have children. A parent can have no children.</p>\n<p>MyEntity has a field &quot;parent&quot; of type MyEntity.</p>\n<p>How can I use Mapstruct in order to build these list of objects correctly?</p>\n<p>thanks a lot</p>\n<p>my classes</p>\n<pre><code>class MyOM {\n    private String label;\n    private Set&lt;MyOM&gt; children;\n}\n\n\nclass MyEntity {\n    private String label;\n    private MyEntity parent;\n}\n</code></pre>\n<p>json example of list of OM</p>\n<pre><code>[\n    {\n        &quot;label&quot;: &quot;parent&quot;,\n        &quot;children&quot;: [\n            {\n            &quot;label&quot;: &quot;child_1&quot;,\n            &quot;children&quot;: []\n            },\n            {\n            &quot;label&quot;: &quot;child_2&quot;,\n            &quot;children&quot;: []\n            }\n        ]\n    },\n    {\n        &quot;label&quot;: &quot;noParent_1&quot;,\n        &quot;children&quot;: []\n    },\n    {\n        &quot;label&quot;: &quot;noParent_2&quot;,\n        &quot;children&quot;: []\n    }\n]\n</code></pre>\n<p>The interface is:</p>\n<pre><code>@Mapper(config = ServiceMapperConfig.class)\npublic interface IMyObjectMapper {\n\n    MyOM map(MyEntity entity);\n\n    List&lt;MyOM&gt; mapEntities(List&lt;MyEntity&gt; entities);\n\n    MyEntity map(MyOM om);\n\n    List&lt;MyEntity&gt; mapOMs(List&lt;MyOM&gt; dtos);\n\n}\n</code></pre>\n"},{"tags":["java","loops","stack"],"answers":[{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669053718,"creation_date":1669053718,"answer_id":74523106,"question_id":74523039,"body_markdown":"Stack is not good fit here.\r\nYou can use a double ended queue or Deque.\r\n\r\n    top = deque.removeFromLast();\r\n    \r\n    while(deque.peek() != top) {\r\n     type userMove = deque.removeFromLast();\r\n     assign userMove back onto the board. \r\n     deque.addToFront(userMove);\r\n    }","title":"How do i push an item back into a stack that i just popped without creating an infinite loop?","body":"<p>Stack is not good fit here.\nYou can use a double ended queue or Deque.</p>\n<pre><code>top = deque.removeFromLast();\n\nwhile(deque.peek() != top) {\n type userMove = deque.removeFromLast();\n assign userMove back onto the board. \n deque.addToFront(userMove);\n}\n</code></pre>\n"}],"owner":{"account_id":25333830,"reputation":11,"user_id":19153266,"display_name":"V172456443"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669053718,"creation_date":1669053378,"question_id":74523039,"body_markdown":"I&#39;m trying to create a loop for a game in Java with the following logic:\r\n\r\n\r\n```\r\nif (the stack is not empty) {\r\n pop top move from stack.\r\n reset the board.\r\n}\r\n\r\n// then i create a while loop to pop the moves back onto the board.\r\n\r\nwhile(stack is not empty) {\r\n   type userMove = history.pop();\r\n   assign userMove back onto the board.\r\n}\r\n\r\n```\r\nThe last bit I&#39;m stuck on is also pushing the user moves that i&#39;m assigning back into the stack.\r\n\r\n\r\n\r\nif i do this:\r\n\r\n```\r\nwhile(stack is not empty) {\r\n type userMove = history.pop();\r\n assign userMove back onto the board. \r\n history.push(userMove);\r\n}\r\n```\r\nthen i&#39;ll create an infinite loop. So i&#39;m not sure how to do that final step to push those moves back into the stack.","title":"How do i push an item back into a stack that i just popped without creating an infinite loop?","body":"<p>I'm trying to create a loop for a game in Java with the following logic:</p>\n<pre><code>if (the stack is not empty) {\n pop top move from stack.\n reset the board.\n}\n\n// then i create a while loop to pop the moves back onto the board.\n\nwhile(stack is not empty) {\n   type userMove = history.pop();\n   assign userMove back onto the board.\n}\n\n</code></pre>\n<p>The last bit I'm stuck on is also pushing the user moves that i'm assigning back into the stack.</p>\n<p>if i do this:</p>\n<pre><code>while(stack is not empty) {\n type userMove = history.pop();\n assign userMove back onto the board. \n history.push(userMove);\n}\n</code></pre>\n<p>then i'll create an infinite loop. So i'm not sure how to do that final step to push those moves back into the stack.</p>\n"},{"tags":["java","spring","backend"],"comments":[{"owner":{"account_id":22249835,"reputation":1973,"user_id":16482938,"display_name":"j_b"},"score":0,"creation_date":1669051387,"post_id":74522013,"comment_id":131550182,"body_markdown":"https://github.com/bramp/ffmpeg-cli-wrapper might be an option.","body":"<a href=\"https://github.com/bramp/ffmpeg-cli-wrapper\" rel=\"nofollow noreferrer\">github.com/bramp/ffmpeg-cli-wrapper</a> might be an option."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1669064913,"post_id":74522013,"comment_id":131554183,"body_markdown":"This has nothing to do with MP4 or any other video format.  You would do the same thing for an image, or a PDF document.","body":"This has nothing to do with MP4 or any other video format.  You would do the same thing for an image, or a PDF document."}],"answers":[{"tags":[],"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669053690,"creation_date":1669053690,"answer_id":74523099,"question_id":74522013,"body_markdown":"Found out how to record video to a file\r\n\r\n    MultipartFile.transferTo(new File(pathToVideo))","title":"MultipartFile(MP4) writing to a folder","body":"<p>Found out how to record video to a file</p>\n<pre><code>MultipartFile.transferTo(new File(pathToVideo))\n</code></pre>\n"}],"owner":{"account_id":23828419,"reputation":85,"user_id":20534244,"display_name":"Artem Dubenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1669053690,"creation_date":1669048170,"question_id":74522013,"body_markdown":"What class is there in Java or libraries for video processing (getting video size/length/quality and other stuff), also I wanted to know how to record video(mp4) in a folder?\r\n\r\n`@RequestMapping(&quot;/uploadVideo&quot;)\r\npublic String handleFileUpload(@ModelAttribute VideoRequestDto videoRequestDto) {\r\n}\r\n`\r\n\r\n    private MultipartFile video;\r\n    private MultipartFile avatarForVideo;","title":"MultipartFile(MP4) writing to a folder","body":"<p>What class is there in Java or libraries for video processing (getting video size/length/quality and other stuff), also I wanted to know how to record video(mp4) in a folder?</p>\n<p><code>@RequestMapping(&quot;/uploadVideo&quot;) public String handleFileUpload(@ModelAttribute VideoRequestDto videoRequestDto) { } </code></p>\n<pre><code>private MultipartFile video;\nprivate MultipartFile avatarForVideo;\n</code></pre>\n"},{"tags":["java","android","build","android-source","android-embedded-api"],"comments":[{"owner":{"account_id":5052293,"reputation":96,"user_id":4056482,"display_name":"BonBon"},"score":1,"creation_date":1621974176,"post_id":65765977,"comment_id":119655349,"body_markdown":"Ever get an update on this one?","body":"Ever get an update on this one?"}],"answers":[{"tags":[],"owner":{"account_id":6129218,"reputation":105,"user_id":4780052,"display_name":"jkhsjdhjs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669053081,"creation_date":1669053081,"answer_id":74522996,"question_id":65765977,"body_markdown":"I had the same issue with Android x86, for some reason the source `.dex` files in `out/target/common/obj/JAVA_LIBRARIES/ims-common_intermediates/dex` were not created for me (maybe due to previous errors in the compilation process).\r\n\r\nI solved it by removing the entire `JAVA_LIBRARIES` directory, which caused - among others - the dex files to be rebuilt in the next compilation attempt:\r\n```\r\nrm -r out/target/common/obj/JAVA_LIBRARIES\r\n```\r\n\r\nMaybe removing a subdirectory like `ims-common_intermediates` or `ims-common_intermediates/dex` suffices, but I didn&#39;t test that.","title":"AOSP building : hiddenapi: No DEX files specified","body":"<p>I had the same issue with Android x86, for some reason the source <code>.dex</code> files in <code>out/target/common/obj/JAVA_LIBRARIES/ims-common_intermediates/dex</code> were not created for me (maybe due to previous errors in the compilation process).</p>\n<p>I solved it by removing the entire <code>JAVA_LIBRARIES</code> directory, which caused - among others - the dex files to be rebuilt in the next compilation attempt:</p>\n<pre><code>rm -r out/target/common/obj/JAVA_LIBRARIES\n</code></pre>\n<p>Maybe removing a subdirectory like <code>ims-common_intermediates</code> or <code>ims-common_intermediates/dex</code> suffices, but I didn't test that.</p>\n"}],"owner":{"account_id":20477060,"reputation":21,"user_id":15026135,"display_name":"Ahmed Abidi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":914,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1669053081,"creation_date":1610917791,"question_id":65765977,"body_markdown":"I am building android repo to flash it to a rpi, and arround 80% of the process it failed.\r\nthis is the log \r\n\r\n[  0% 3/6424] build out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/classes.dex\r\nFAILED: out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/classes.dex \r\n/bin/bash -c &quot;(rm -rf out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (mkdir -p out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (find out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex/ -maxdepth 1 -name \\&quot;classes*.dex\\&quot; | sort | xargs -I{} cp -f {} out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (find out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ -name \\&quot;classes*.dex\\&quot; | sort | sed &#39;s/^/--dex=/&#39; | xargs out/host/linux-x86/bin/hiddenapi --light-greylist=out/target/common/obj/PACKAGING/hiddenapi-light-greylist.txt --dark-greylist=out/target/common/obj/PACKAGING/hiddenapi-dark-greylist.txt --blacklist=out/target/common/obj/PACKAGING/hiddenapi-blacklist.txt )&quot;\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] No DEX files specified\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] Command: out/host/linux-x86/bin/hiddenapi --light-greylist=out/target/common/obj/PACKAGING/hiddenapi-light-greylist.txt --dark-greylist=out/target/common/obj/PACKAGING/hiddenapi-dark-greylist.txt --blacklist=out/target/common/obj/PACKAGING/hiddenapi-blacklist.txt\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] Usage: hiddenapi [options]...\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] \r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --dex=&lt;filename&gt;: specify dex file whose members&#39; access flags are to be set.\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]       At least one --dex parameter must be specified.\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] \r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --light-greylist=&lt;filename&gt;:\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --dark-greylist=&lt;filename&gt;:\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --blacklist=&lt;filename&gt;: text files with signatures of methods/fields to be marked\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]       greylisted/blacklisted respectively. At least one list must be provided.\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] \r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --print-hidden-api: dump a list of marked methods/fields to the standard output.\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]       There is no indication which API category they belong to.\r\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] \r\n[  0% 8/6424] //prebuilts/sdk/current/extras/material-design:android-support-design-bottomappbar javac\r\nninja: build stopped: subcommand failed.\r\n22:47:55 ninja failed with: exit status 1\r\n\r\n#### failed to build some targets (02:36 (mm:ss)) ####\r\n\r\n\r\nCan anyone help and explain to me the source of this problem and thank you in advance.","title":"AOSP building : hiddenapi: No DEX files specified","body":"<p>I am building android repo to flash it to a rpi, and arround 80% of the process it failed.\nthis is the log</p>\n<p>[  0% 3/6424] build out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/classes.dex\nFAILED: out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/classes.dex\n/bin/bash -c &quot;(rm -rf out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (mkdir -p out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (find out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex/ -maxdepth 1 -name &quot;classes*.dex&quot; | sort | xargs -I{} cp -f {} out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ ) &amp;&amp; (find out/target/common/obj/JAVA_LIBRARIES/apache-xml_intermediates/dex-hiddenapi/ -name &quot;classes*.dex&quot; | sort | sed 's/^/--dex=/' | xargs out/host/linux-x86/bin/hiddenapi --light-greylist=out/target/common/obj/PACKAGING/hiddenapi-light-greylist.txt --dark-greylist=out/target/common/obj/PACKAGING/hiddenapi-dark-greylist.txt --blacklist=out/target/common/obj/PACKAGING/hiddenapi-blacklist.txt )&quot;\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] No DEX files specified\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] Command: out/host/linux-x86/bin/hiddenapi --light-greylist=out/target/common/obj/PACKAGING/hiddenapi-light-greylist.txt --dark-greylist=out/target/common/obj/PACKAGING/hiddenapi-dark-greylist.txt --blacklist=out/target/common/obj/PACKAGING/hiddenapi-blacklist.txt\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47] Usage: hiddenapi [options]...\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --dex=: specify dex file whose members' access flags are to be set.\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]       At least one --dex parameter must be specified.\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --light-greylist=:\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --dark-greylist=:\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --blacklist=: text files with signatures of methods/fields to be marked\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]       greylisted/blacklisted respectively. At least one list must be provided.\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]   --print-hidden-api: dump a list of marked methods/fields to the standard output.\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]       There is no indication which API category they belong to.\nhiddenapi E 01-17 22:47:24  3157  3157 hiddenapi.cc:47]\n[  0% 8/6424] //prebuilts/sdk/current/extras/material-design:android-support-design-bottomappbar javac\nninja: build stopped: subcommand failed.\n22:47:55 ninja failed with: exit status 1</p>\nfailed to build some targets (02:36 (mm:ss))\n<p>Can anyone help and explain to me the source of this problem and thank you in advance.</p>\n"},{"tags":["java","kotlin","date"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":1,"creation_date":1669050585,"post_id":74522382,"comment_id":131549917,"body_markdown":"Your pattern is wrong: `yyyy-MM-dd&#39;T&#39;HH:mm:ss.sss&#39;Z&#39;` should be `yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;`. If you had used the (new) `java.time` API you&#39;d have got an appropriate exception: `java.lang.IllegalArgumentException: Too many pattern letters: s`","body":"Your pattern is wrong: <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss.sss&#39;Z&#39;</code> should be <code>yyyy-MM-dd&#39;T&#39;HH:mm:ss.SSS&#39;Z&#39;</code>. If you had used the (new) <code>java.time</code> API you&#39;d have got an appropriate exception: <code>java.lang.IllegalArgumentException: Too many pattern letters: s</code>"},{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1669050762,"post_id":74522382,"comment_id":131549976,"body_markdown":"Also the additional 5 minutes is just a coincidence. If you use a different input string, you&#39;d get completely different results.","body":"Also the additional 5 minutes is just a coincidence. If you use a different input string, you&#39;d get completely different results."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669052332,"post_id":74522382,"comment_id":131550507,"body_markdown":"I strongly recommend you don’t use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `Instant`, `OffsetDateTime` and `DateTimeFormatter`, all from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I strongly recommend you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>Instant</code>, <code>OffsetDateTime</code> and <code>DateTimeFormatter</code>, all from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669054039,"post_id":74522382,"comment_id":131551051,"body_markdown":"`Instant.parse(&quot;2022-11-21T16:29:28.325Z&quot;).atZone(ZoneId.of(&quot;America/Halifax&quot;)).format(DateTimeFormatter.ofPattern(&quot;uuuu-MM-dd HH:mm&quot;))` yields `2022-11-21 12:29`.","body":"<code>Instant.parse(&quot;2022-11-21T16:29:28.325Z&quot;).atZone(ZoneId.of(&quot;&zwnj;&#8203;America&#47;Halifax&quot;)).f&zwnj;&#8203;ormat(DateTimeFormat&zwnj;&#8203;ter.ofPattern(&quot;uuuu-&zwnj;&#8203;MM-dd HH:mm&quot;))</code> yields <code>2022-11-21 12:29</code>."},{"owner":{"account_id":4252436,"reputation":135,"user_id":3479061,"display_name":"owenlejeune"},"score":0,"creation_date":1669058833,"post_id":74522382,"comment_id":131552478,"body_markdown":"@ole-v-v unfortunately I&#39;m working on an Android project with a min API of 23 but Instant requires at least API 26. @lino changing `sss` to `SSS` solves the issue, thanks!","body":"@ole-v-v unfortunately I&#39;m working on an Android project with a min API of 23 but Instant requires at least API 26. @lino changing <code>sss</code> to <code>SSS</code> solves the issue, thanks!"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1669058945,"post_id":74522382,"comment_id":131552507,"body_markdown":"I see. I still recommend that you consider using [desugaring](https://developer.android.com/studio/write/java8-support-table) in order to use java.time for you min API of 23.","body":"I see. I still recommend that you consider using <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"nofollow noreferrer\">desugaring</a> in order to use java.time for you min API of 23."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1669059687,"post_id":74522382,"comment_id":131552739,"body_markdown":"@Lino No, ***never* put quote marks around the `Z`**. That letter means an offset from UTC of zero hours-minutes-seconds. Pronounced “Zulu”. Your quote marks mean &quot;expect, but ignore, this text&quot;, a string literal. So you are discarding valuable information. For the correct solution, see the [Comment by Ole V.V.](https://stackoverflow.com/questions/74522382/kotlin-parsing-zulu-date-string-to-utc-date-adds-5-minutes-to-the-time#comment131551051_74522382).","body":"@Lino No, <b><i>never</i> put quote marks around the <code>Z</code></b>. That letter means an offset from UTC of zero hours-minutes-seconds. Pronounced “Zulu”. Your quote marks mean &quot;expect, but ignore, this text&quot;, a string literal. So you are discarding valuable information. For the correct solution, see the <a href=\"https://stackoverflow.com/questions/74522382/kotlin-parsing-zulu-date-string-to-utc-date-adds-5-minutes-to-the-time#comment131551051_74522382\">Comment by Ole V.V.</a>."}],"owner":{"account_id":4252436,"reputation":135,"user_id":3479061,"display_name":"owenlejeune"},"comment_count":7,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1669052394,"answer_count":0,"score":0,"last_activity_date":1669053079,"creation_date":1669049808,"question_id":74522382,"body_markdown":"I have a time string formatted in Zulu time of &quot;2022-11-21T16:29:28.325Z&quot; and then parsing it for a formatted string in a destination timezone.\r\n\r\n```kotlin\r\ntry {\r\n    val readLocalDateFormat = SimpleDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.sss&#39;Z&#39;&quot;)\r\n    readLocalDateFormat.timeZone = TimeZone.getTimeZone(&quot;UTC&quot;)\r\n\r\n    val writeLocalDateFormat = SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;)\r\n    writeLocalDateFormat.timeZone = TimeZone.getTimeZone(timeZone)\r\n\r\n    return writeLocalDateFormat.format(readLocalDateFormat.parse(dateStr))\r\n} catch (e: Exception) {\r\n    Log.e(TAG, &quot;Failed to parse date: &quot; + dateStr)\r\n    return dateStr\r\n}\r\n```\r\n\r\nIn the case, the destination timezone is &quot;America/Halifax&quot; so I would expect the output string to be &quot;2022-11-21 12:29&quot; since Halifax is 4 hours behind UTC time but instead the output is &quot;2022-11-21 12:34&quot; with an additional 5 minutes added to the time. I can&#39;t figure out why this 5 minutes is being added. Any ideas?","title":"Kotlin Parsing Zulu Date String to UTC Date Adds 5 Minutes to the Time","body":"<p>I have a time string formatted in Zulu time of &quot;2022-11-21T16:29:28.325Z&quot; and then parsing it for a formatted string in a destination timezone.</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>try {\n    val readLocalDateFormat = SimpleDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.sss'Z'&quot;)\n    readLocalDateFormat.timeZone = TimeZone.getTimeZone(&quot;UTC&quot;)\n\n    val writeLocalDateFormat = SimpleDateFormat(&quot;yyyy-MM-dd HH:mm&quot;)\n    writeLocalDateFormat.timeZone = TimeZone.getTimeZone(timeZone)\n\n    return writeLocalDateFormat.format(readLocalDateFormat.parse(dateStr))\n} catch (e: Exception) {\n    Log.e(TAG, &quot;Failed to parse date: &quot; + dateStr)\n    return dateStr\n}\n</code></pre>\n<p>In the case, the destination timezone is &quot;America/Halifax&quot; so I would expect the output string to be &quot;2022-11-21 12:29&quot; since Halifax is 4 hours behind UTC time but instead the output is &quot;2022-11-21 12:34&quot; with an additional 5 minutes added to the time. I can't figure out why this 5 minutes is being added. Any ideas?</p>\n"},{"tags":["java","email","proxy","tomcat6"],"comments":[{"owner":{"account_id":1796373,"reputation":1127,"user_id":1635700,"display_name":"Tejas Tank"},"score":1,"creation_date":1566402192,"post_id":20406845,"comment_id":101647638,"body_markdown":"odoo: The proxy server received an invalid response from an upstream server\n\nSame issue we face, but with proxy timeout fixed issue","body":"odoo: The proxy server received an invalid response from an upstream server  Same issue we face, but with proxy timeout fixed issue"}],"answers":[{"tags":[],"owner":{"account_id":558342,"reputation":1319,"user_id":920851,"display_name":"rmeakins"},"comment_count":0,"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1390961936,"creation_date":1390961936,"answer_id":21420841,"question_id":20406845,"body_markdown":"The HTTP 502 &quot;Bad Gateway&quot; response is generated when Apache web server does not receive a valid HTTP response from the upstream server, which in this case is your Tomcat web application.\r\n\r\nSome reasons why this might happen:\r\n\r\n - Tomcat may have crashed\r\n - The web application did not respond in time and the request from Apache timed out\r\n - The Tomcat threads are timing out\r\n - A network device is blocking the request, perhaps as some sort of connection timeout or DoS attack prevention system\r\n\r\nIf the problem is related to timeout settings, you may be able to resolve it by investigating the following:\r\n\r\n - [ProxyTimeout][1] directive of Apache&#39;s mod_proxy\r\n - [Connector][2] config of Apache Tomcat\r\n - Your network device&#39;s manual\r\n\r\n\r\n  [1]: http://httpd.apache.org/docs/2.2/mod/mod_proxy.html#proxytimeout\r\n  [2]: http://tomcat.apache.org/tomcat-6.0-doc/config/http.html#Standard_Implementation","title":"Proxy Error 502 : The proxy server received an invalid response from an upstream server","body":"<p>The HTTP 502 \"Bad Gateway\" response is generated when Apache web server does not receive a valid HTTP response from the upstream server, which in this case is your Tomcat web application.</p>\n\n<p>Some reasons why this might happen:</p>\n\n<ul>\n<li>Tomcat may have crashed</li>\n<li>The web application did not respond in time and the request from Apache timed out</li>\n<li>The Tomcat threads are timing out</li>\n<li>A network device is blocking the request, perhaps as some sort of connection timeout or DoS attack prevention system</li>\n</ul>\n\n<p>If the problem is related to timeout settings, you may be able to resolve it by investigating the following:</p>\n\n<ul>\n<li><a href=\"http://httpd.apache.org/docs/2.2/mod/mod_proxy.html#proxytimeout\" rel=\"noreferrer\">ProxyTimeout</a> directive of Apache's mod_proxy</li>\n<li><a href=\"http://tomcat.apache.org/tomcat-6.0-doc/config/http.html#Standard_Implementation\" rel=\"noreferrer\">Connector</a> config of Apache Tomcat</li>\n<li>Your network device's manual</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":259013,"reputation":4539,"user_id":541591,"accept_rate":93,"display_name":"James Wong"},"score":1,"creation_date":1423033386,"post_id":21849150,"comment_id":44980114,"body_markdown":"These directives work great under Centos 6.6 with Apache 2.2.15. Thanks!","body":"These directives work great under Centos 6.6 with Apache 2.2.15. Thanks!"},{"owner":{"account_id":5583486,"reputation":2030,"user_id":4424680,"accept_rate":88,"display_name":"gringogordo"},"score":2,"creation_date":1434709434,"post_id":21849150,"comment_id":49906340,"body_markdown":"This worked well for a Tomcat8 app running with apache 2.4 where an operation was clearly timing out from time to time.","body":"This worked well for a Tomcat8 app running with apache 2.4 where an operation was clearly timing out from time to time."},{"owner":{"account_id":1961866,"reputation":469,"user_id":1763183,"accept_rate":71,"display_name":"jkb016"},"score":1,"creation_date":1453923946,"post_id":21849150,"comment_id":57817481,"body_markdown":"It worked for Tomcat 7 under apache on centos. Thanks !!","body":"It worked for Tomcat 7 under apache on centos. Thanks !!"},{"owner":{"account_id":390915,"reputation":1763,"user_id":751274,"display_name":"Karl"},"score":4,"creation_date":1484257350,"post_id":21849150,"comment_id":70448463,"body_markdown":"According to Apache docs &quot;Timeout&quot; syntax is actually &quot;TimeOut&quot; for anyone who this may help.","body":"According to Apache docs &quot;Timeout&quot; syntax is actually &quot;TimeOut&quot; for anyone who this may help."},{"owner":{"account_id":2566601,"reputation":3012,"user_id":2226468,"accept_rate":50,"display_name":"Rose18"},"score":1,"creation_date":1515037839,"post_id":21849150,"comment_id":83151490,"body_markdown":"This is not working for me. Do it need to restart the tomcat after changing this timeout configuration?","body":"This is not working for me. Do it need to restart the tomcat after changing this timeout configuration?"},{"owner":{"account_id":1473282,"reputation":2461,"user_id":1384302,"accept_rate":69,"display_name":"AL̲̳I"},"score":1,"creation_date":1538407342,"post_id":21849150,"comment_id":92123264,"body_markdown":"How can I do it in AWS Beanstalk application ?","body":"How can I do it in AWS Beanstalk application ?"},{"owner":{"account_id":10537016,"reputation":149,"user_id":10371576,"display_name":"Abdulrahman Fawzy"},"score":1,"creation_date":1656952165,"post_id":21849150,"comment_id":128690449,"body_markdown":"In 2022, this solution does not work with me. The proxy server received an invalid response from an upstream server.\nThe proxy server could not handle the request GET /about. ?? Can anyone solve this issue? Can anyone solve this issue?","body":"In 2022, this solution does not work with me. The proxy server received an invalid response from an upstream server. The proxy server could not handle the request GET /about. ?? Can anyone solve this issue? Can anyone solve this issue?"}],"tags":[],"owner":{"account_id":4039364,"reputation":517,"user_id":3322670,"display_name":"Albert Maclang"},"comment_count":7,"down_vote_count":2,"up_vote_count":52,"is_accepted":false,"score":50,"last_activity_date":1473180754,"creation_date":1392715382,"answer_id":21849150,"question_id":20406845,"body_markdown":"Add this into your httpd.conf file\r\n\r\n    Timeout 2400\r\n    ProxyTimeout 2400\r\n    ProxyBadHeader Ignore \r\n\r\n","title":"Proxy Error 502 : The proxy server received an invalid response from an upstream server","body":"<p>Add this into your httpd.conf file</p>\n\n<pre><code>Timeout 2400\nProxyTimeout 2400\nProxyBadHeader Ignore \n</code></pre>\n"},{"tags":[],"owner":{"account_id":4678706,"reputation":1500,"user_id":4063955,"accept_rate":57,"display_name":"Anthony Hunt"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1411869395,"creation_date":1411869395,"answer_id":26080917,"question_id":20406845,"body_markdown":"The java application takes too long to respond(maybe due start-up/jvm being cold) thus you get the proxy error. \r\n\r\n    Proxy Error\r\n    \r\n    The proxy server received an invalid response from an upstream server.\r\n     The proxy server could not handle the request GET /lin/Campaignn.jsp.\r\n\r\nAs Albert Maclang said amending the http timeout configuration may fix the issue. \r\n I suspect the java application throws a 500+ error thus the apache gateway error too. You should look in the logs.","title":"Proxy Error 502 : The proxy server received an invalid response from an upstream server","body":"<p>The java application takes too long to respond(maybe due start-up/jvm being cold) thus you get the proxy error. </p>\n\n<pre><code>Proxy Error\n\nThe proxy server received an invalid response from an upstream server.\n The proxy server could not handle the request GET /lin/Campaignn.jsp.\n</code></pre>\n\n<p>As Albert Maclang said amending the http timeout configuration may fix the issue. \n I suspect the java application throws a 500+ error thus the apache gateway error too. You should look in the logs.</p>\n"},{"comments":[{"owner":{"account_id":6952421,"reputation":391,"user_id":5334633,"display_name":"mbuchok"},"score":4,"creation_date":1606433898,"post_id":40270687,"comment_id":114968515,"body_markdown":"I had a similar problem just now. Except I was receiving the proxy error because I had accidentally overwritten the connection string to my database with that of another site... and now I feel dumb. This career is both awesome and painful at the same time &gt;.&lt;","body":"I had a similar problem just now. Except I was receiving the proxy error because I had accidentally overwritten the connection string to my database with that of another site... and now I feel dumb. This career is both awesome and painful at the same time &gt;.&lt;"}],"tags":[],"owner":{"account_id":2628798,"reputation":119,"user_id":2275261,"display_name":"CincyBella"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1477554510,"creation_date":1477510186,"answer_id":40270687,"question_id":20406845,"body_markdown":"I had this issue once. It turned out to be database query issue. After re-create tables and index it has been fixed.\r\n\r\nAlthough it says proxy error, when you look at server log, it shows execute query timeout. This is what I had before and how I solved it.","title":"Proxy Error 502 : The proxy server received an invalid response from an upstream server","body":"<p>I had this issue once. It turned out to be database query issue. After re-create tables and index it has been fixed.</p>\n\n<p>Although it says proxy error, when you look at server log, it shows execute query timeout. This is what I had before and how I solved it.</p>\n"},{"tags":[],"owner":{"account_id":6679910,"reputation":11,"user_id":13765104,"display_name":"Kalebe Calixto"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669052581,"creation_date":1669052581,"answer_id":74522913,"question_id":20406845,"body_markdown":"I had this problem too.\r\nI was using apache as a reverse proxy for tomcat, my problem was associated with the return time of the response for &quot;apache&quot; proxy\r\n\r\nI solved it like this:\r\nopen the **&quot;etc/apache/apache2.conf&quot;** and the ssl mod conf file **&quot;etc/apache/sites-available/000-default-le-ssl.conf&quot;** and add the following lines:\r\n\r\n    Timeout 28800\r\n    KeepAlive On\r\n\r\nmaybe this will help you","title":"Proxy Error 502 : The proxy server received an invalid response from an upstream server","body":"<p>I had this problem too.\nI was using apache as a reverse proxy for tomcat, my problem was associated with the return time of the response for &quot;apache&quot; proxy</p>\n<p>I solved it like this:\nopen the <strong>&quot;etc/apache/apache2.conf&quot;</strong> and the ssl mod conf file <strong>&quot;etc/apache/sites-available/000-default-le-ssl.conf&quot;</strong> and add the following lines:</p>\n<pre><code>Timeout 28800\nKeepAlive On\n</code></pre>\n<p>maybe this will help you</p>\n"}],"owner":{"account_id":1538593,"reputation":930,"user_id":1433865,"accept_rate":0,"display_name":"Ranjeet Ranjan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":443509,"favorite_count":0,"down_vote_count":0,"up_vote_count":66,"answer_count":5,"score":66,"last_activity_date":1669052581,"creation_date":1386264968,"question_id":20406845,"body_markdown":"We are building a mass mailing sending application in Java. Mail is being send by third party SMTP. After sending 400-500 mails tomcat6 service get stopped. Below is the error.\r\n\r\n&gt; Proxy Error\r\n&gt;      The proxy server received an invalid response from an upstream server. The proxy server could not handle the request GET\r\n&gt; /lin/Campaignn.jsp.\r\n&gt;       Reason: Error reading from remote server\r\n\r\nAdditionally, a 502 Bad Gateway error was encountered while trying to use an ErrorDocument to handle the request.\r\n\r\nApache Server at msizzler.com Port 80\r\n\r\nBut when we are sending from localhost I did not received any error. It send all the mails.\r\nPlease help me to sort it out this problem.","title":"Proxy Error 502 : The proxy server received an invalid response from an upstream server","body":"<p>We are building a mass mailing sending application in Java. Mail is being send by third party SMTP. After sending 400-500 mails tomcat6 service get stopped. Below is the error.</p>\n\n<blockquote>\n  <p>Proxy Error\n       The proxy server received an invalid response from an upstream server. The proxy server could not handle the request GET\n  /lin/Campaignn.jsp.\n        Reason: Error reading from remote server</p>\n</blockquote>\n\n<p>Additionally, a 502 Bad Gateway error was encountered while trying to use an ErrorDocument to handle the request.</p>\n\n<p>Apache Server at msizzler.com Port 80</p>\n\n<p>But when we are sending from localhost I did not received any error. It send all the mails.\nPlease help me to sort it out this problem.</p>\n"},{"tags":["java","path","bufferedreader"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1669049169,"post_id":74522186,"comment_id":131549436,"body_markdown":"You would need to open each file that matches your pattern in a loop.","body":"You would need to open each file that matches your pattern in a loop."}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1669051526,"post_id":74522528,"comment_id":131550224,"body_markdown":"`if (file.getName().contains(&quot;audit&quot;) &amp;&amp; file.isFile())` Filter can be used too","body":"<code>if (file.getName().contains(&quot;audit&quot;) &amp;&amp; file.isFile())</code> Filter can be used too"},{"owner":{"account_id":7628485,"reputation":373,"user_id":5784265,"accept_rate":100,"display_name":"Lahzey"},"score":0,"creation_date":1669052225,"post_id":74522528,"comment_id":131550475,"body_markdown":"You&#39;re right, let me adjust.","body":"You&#39;re right, let me adjust."}],"tags":[],"owner":{"account_id":7628485,"reputation":373,"user_id":5784265,"accept_rate":100,"display_name":"Lahzey"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669052312,"creation_date":1669050558,"answer_id":74522528,"question_id":74522186,"body_markdown":"FileReader also has a constructor that takes a file. You can create a file object using a URI or a string for the path. You could use a FileFilter or just check if each file matches the name you provide, which is how i would do it:\r\n\r\nTo get all files in a folder you can use `folder.listFiles()`.&lt;br/&gt;\r\nYou can then use `file.getName().contains(&quot;audit&quot;)` to check if the filename contains &quot;audit&quot;.\r\n\r\nNote that this is case sensitive, to ignore case you would just use `file.getName().toLowerCase().contains(&quot;audit&quot;)` (make sure the string you check here, in this case &quot;audit&quot;, is always lower case).\r\n\r\nAs pointed out by g00se, you will also have to check if file is actually a file and not a directory using `file.isFile()`\r\n\r\nThen in a loop you just read out to content of each file that matches the above condition seperately.\r\n\r\nIf you need the files in all the subfolders aswell, see [this post][1].\r\n\r\nExample:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\t\tFile folder = new File(&quot;C:\\\\MyFolder&quot;); // the folder containing all the files you are looking for\r\n\t\tfor (File file : folder.listFiles()) { // loop through each file in that folder\r\n\t\t\tif (file.getName().contains(&quot;audit&quot;) &amp;&amp; file.isFile()) { // check if it contains audit in its name\r\n\t\t\t\t// your previous code for reading out the file content\r\n\t\t\t    BufferedReader bfredr = new BufferedReader(new FileReader(file));\r\n\t\t\t    List&lt;String&gt; stngFile = new ArrayList&lt;String&gt;();\r\n\t\t\t    String text = bfredr.readLine();\r\n\t\t\t    while (text != null) {\r\n\t\t\t        stngFile.add(text);\r\n\t\t\t        text = bfredr.readLine();\r\n\t\t\t    }\r\n\t\t\t    bfredr.close();\r\n\t\t\t    String[] array = stngFile.toArray(new String[0]);\r\n\t\t\t    \r\n\t\t\t    Arrays.toString(array);\r\n\t\t\t    for (String eachstring : array) {\r\n\t\t\t         System.out.println(eachstring);\r\n\t\t\t    }\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/2534632/list-all-files-from-a-directory-recursively-with-java","title":"is there a way to use the file path instead of file name in BufferedReader?","body":"<p>FileReader also has a constructor that takes a file. You can create a file object using a URI or a string for the path. You could use a FileFilter or just check if each file matches the name you provide, which is how i would do it:</p>\n<p>To get all files in a folder you can use <code>folder.listFiles()</code>.<br/>\nYou can then use <code>file.getName().contains(&quot;audit&quot;)</code> to check if the filename contains &quot;audit&quot;.</p>\n<p>Note that this is case sensitive, to ignore case you would just use <code>file.getName().toLowerCase().contains(&quot;audit&quot;)</code> (make sure the string you check here, in this case &quot;audit&quot;, is always lower case).</p>\n<p>As pointed out by g00se, you will also have to check if file is actually a file and not a directory using <code>file.isFile()</code></p>\n<p>Then in a loop you just read out to content of each file that matches the above condition seperately.</p>\n<p>If you need the files in all the subfolders aswell, see <a href=\"https://stackoverflow.com/questions/2534632/list-all-files-from-a-directory-recursively-with-java\">this post</a>.</p>\n<p>Example:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    File folder = new File(&quot;C:\\\\MyFolder&quot;); // the folder containing all the files you are looking for\n    for (File file : folder.listFiles()) { // loop through each file in that folder\n        if (file.getName().contains(&quot;audit&quot;) &amp;&amp; file.isFile()) { // check if it contains audit in its name\n            // your previous code for reading out the file content\n            BufferedReader bfredr = new BufferedReader(new FileReader(file));\n            List&lt;String&gt; stngFile = new ArrayList&lt;String&gt;();\n            String text = bfredr.readLine();\n            while (text != null) {\n                stngFile.add(text);\n                text = bfredr.readLine();\n            }\n            bfredr.close();\n            String[] array = stngFile.toArray(new String[0]);\n            \n            Arrays.toString(array);\n            for (String eachstring : array) {\n                 System.out.println(eachstring);\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":26865114,"reputation":1,"user_id":20447997,"display_name":"Zee-bot404"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669052312,"creation_date":1669049039,"question_id":74522186,"body_markdown":"I would like to add the path instead of the file name in BufferedReader? \r\nI want to use the path because I want the code to pickup any file that has the name &quot;audit&quot; in that specific folder. \r\n\r\n\r\n\r\nSo I am currently using this method below, but it only works when I add the absolute path.\r\n\r\n`\r\n```\r\npublic static void main(String[] args)\r\n        throws IOException {\r\n    List&lt;String&gt; stngFile = new ArrayList&lt;String&gt;();\r\n    BufferedReader bfredr = new BufferedReader(new FileReader\r\n            (&quot;file path&quot;));\r\n\r\n\r\n\r\n    String text = bfredr.readLine();\r\n    while (text != null) {\r\n        stngFile.add(text);\r\n        text = bfredr.readLine();\r\n    }\r\n    bfredr.close();\r\n    String[] array = stngFile.toArray(new String[0]);\r\n\r\n    Arrays.toString(array);\r\n    for (String eachstring : array) {\r\n         System.out.println(eachstring);\r\n    }\r\n\r\n}\r\n```\r\n`\r\n\r\nI am new to programming any help is much appreciated. Thanks in advance.","title":"is there a way to use the file path instead of file name in BufferedReader?","body":"<p>I would like to add the path instead of the file name in BufferedReader?\nI want to use the path because I want the code to pickup any file that has the name &quot;audit&quot; in that specific folder.</p>\n<p>So I am currently using this method below, but it only works when I add the absolute path.</p>\n<p>`</p>\n<pre><code>public static void main(String[] args)\n        throws IOException {\n    List&lt;String&gt; stngFile = new ArrayList&lt;String&gt;();\n    BufferedReader bfredr = new BufferedReader(new FileReader\n            (&quot;file path&quot;));\n\n\n\n    String text = bfredr.readLine();\n    while (text != null) {\n        stngFile.add(text);\n        text = bfredr.readLine();\n    }\n    bfredr.close();\n    String[] array = stngFile.toArray(new String[0]);\n\n    Arrays.toString(array);\n    for (String eachstring : array) {\n         System.out.println(eachstring);\n    }\n\n}\n</code></pre>\n<p>`</p>\n<p>I am new to programming any help is much appreciated. Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":29689,"reputation":57954,"user_id":80425,"accept_rate":93,"display_name":"David Snabel-Caunt"},"score":4,"creation_date":1316462038,"post_id":7476435,"comment_id":9047873,"body_markdown":"Lol for the rep junkies - I&#39;m surprised that this isn&#39;t a duplicate question, further, the first Google result for &#39;java min max&#39; is the Math javadoc","body":"Lol for the rep junkies - I&#39;m surprised that this isn&#39;t a duplicate question, further, the first Google result for &#39;java min max&#39; is the Math javadoc"},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":1,"creation_date":1316462139,"post_id":7476435,"comment_id":9047902,"body_markdown":"I love how fast people throw up answers to easy questions.  Note that there IS a type issue with Math.min() but they solve it by overriding it for each different type.  Also note that for objects including the big-letters (Double, BigDecimal, ...) there is a comparable interface that defines a .compareTo() method that you could use to create a &quot;Comparable = min(Comparable, Comparable)&quot; function.","body":"I love how fast people throw up answers to easy questions.  Note that there IS a type issue with Math.min() but they solve it by overriding it for each different type.  Also note that for objects including the big-letters (Double, BigDecimal, ...) there is a comparable interface that defines a .compareTo() method that you could use to create a &quot;Comparable = min(Comparable, Comparable)&quot; function."},{"owner":{"display_name":"user890904"},"score":0,"creation_date":1316462343,"post_id":7476435,"comment_id":9047968,"body_markdown":"even if java didn&#39;t have a min function, just put the code above in a function and call it min() and it will become self documenting :)","body":"even if java didn&#39;t have a min function, just put the code above in a function and call it min() and it will become self documenting :)"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1316462352,"post_id":7476435,"comment_id":9047973,"body_markdown":"Hasn&#39;t anybody heard of the &quot;Delete&quot; link? There is no need for 8 duplicate answers.","body":"Hasn&#39;t anybody heard of the &quot;Delete&quot; link? There is no need for 8 duplicate answers."},{"owner":{"account_id":463005,"reputation":14646,"user_id":865643,"accept_rate":75,"display_name":"noelicus"},"score":0,"creation_date":1321524964,"post_id":7476435,"comment_id":10025752,"body_markdown":"@BillK you sound cynical? Our hallowed rep-system motivates quick responses to easy questions!","body":"@BillK you sound cynical? Our hallowed rep-system motivates quick responses to easy questions!"},{"owner":{"account_id":7445,"reputation":62274,"user_id":12943,"accept_rate":84,"display_name":"Bill K"},"score":0,"creation_date":1321633855,"post_id":7476435,"comment_id":10056101,"body_markdown":"@noelicus Not cynical at all--I love how anxious people are to help each other.  I really like the system here except for the occasional vote to close without a comment.","body":"@noelicus Not cynical at all--I love how anxious people are to help each other.  I really like the system here except for the occasional vote to close without a comment."},{"owner":{"account_id":988285,"reputation":870,"user_id":1006264,"display_name":"Fernando Pelliccioni"},"score":0,"creation_date":1412621391,"post_id":7476435,"comment_id":41126979,"body_markdown":"@uTubeFan With what kind of types do you want to use the min function? \n1. with built-in types, like int?\n2. with user-defined-types, like an Employee class?\nIf you are in the second case, I think Java has abandoned you, so you&#39;ll have to create your own min function","body":"@uTubeFan With what kind of types do you want to use the min function?  1. with built-in types, like int? 2. with user-defined-types, like an Employee class? If you are in the second case, I think Java has abandoned you, so you&#39;ll have to create your own min function"}],"answers":[{"comments":[{"owner":{"account_id":374916,"reputation":6704,"user_id":725417,"accept_rate":94,"display_name":"uTubeFan"},"score":2,"creation_date":1316461831,"post_id":7476447,"comment_id":9047820,"body_markdown":"I knew I was missing something. +1 to all who referred me to Math.min() but only one can be accepted. :)","body":"I knew I was missing something. +1 to all who referred me to Math.min() but only one can be accepted. :)"},{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1316469813,"post_id":7476447,"comment_id":9049868,"body_markdown":"+1: And for max you can use `Math.max`.  If you use `import static java.lang.Math.*;` you can use plain `min(a, b)` and `max(a, b)`","body":"+1: And for max you can use <code>Math.max</code>.  If you use <code>import static java.lang.Math.*;</code> you can use plain <code>min(a, b)</code> and <code>max(a, b)</code>"}],"tags":[],"owner":{"account_id":44195,"reputation":269053,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"comment_count":2,"down_vote_count":1,"up_vote_count":63,"is_accepted":true,"score":62,"last_activity_date":1316461695,"creation_date":1316461695,"answer_id":7476447,"question_id":7476435,"body_markdown":"[`Math.min()`](http://download.oracle.com/javase/6/docs/api/java/lang/Math.html)?  (Comes in several overloads for different types.)","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Math.html\" rel=\"noreferrer\"><code>Math.min()</code></a>?  (Comes in several overloads for different types.)</p>\n"},{"tags":[],"owner":{"account_id":215055,"reputation":9713,"user_id":469414,"accept_rate":75,"display_name":"kdabir"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1316461707,"creation_date":1316461707,"answer_id":7476450,"question_id":7476435,"body_markdown":"have a look at the javadoc of [Math][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Math.html#min%28int,%20int%29\r\n\r\nyou can use it like :\r\n\r\n    import static java.lang.Math.*;\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(min(1, 0));\r\n    }\r\n","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>have a look at the javadoc of <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Math.html#min%28int,%20int%29\">Math</a></p>\n\n<p>you can use it like :</p>\n\n<pre><code>import static java.lang.Math.*;\n\npublic static void main(String[] args) {\n    System.out.println(min(1, 0));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":88922,"reputation":28816,"user_id":245679,"accept_rate":99,"display_name":"MD Sayem Ahmed"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1316461709,"creation_date":1316461709,"answer_id":7476451,"question_id":7476435,"body_markdown":"Yes, the `Math` class contains two static methods called `max` and `min` which behaves according to their names. Take a look at this &lt;a href=&quot;http://www.cafeaulait.org/course/week4/40.html&quot;&gt;link&lt;/a&gt;. Here you will find some useful examples.","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>Yes, the <code>Math</code> class contains two static methods called <code>max</code> and <code>min</code> which behaves according to their names. Take a look at this <a href=\"http://www.cafeaulait.org/course/week4/40.html\" rel=\"nofollow\">link</a>. Here you will find some useful examples.</p>\n"},{"tags":[],"owner":{"account_id":30940,"reputation":243131,"user_id":84651,"accept_rate":75,"display_name":"Justin Niessner"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1316461718,"creation_date":1316461718,"answer_id":7476453,"question_id":7476435,"body_markdown":"Use the [`Math`][1] class. It has both `min()` and `max()` methods.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/lang/Math.html","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>Use the <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Math.html\" rel=\"nofollow\"><code>Math</code></a> class. It has both <code>min()</code> and <code>max()</code> methods.</p>\n"},{"tags":[],"owner":{"account_id":8393,"reputation":13361,"user_id":15099,"display_name":"jasonbar"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1316461725,"creation_date":1316461725,"answer_id":7476457,"question_id":7476435,"body_markdown":"[Math.min()][1]\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Math.html#min%28double,%20double%29","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p><a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Math.html#min%28double,%20double%29\" rel=\"nofollow\">Math.min()</a></p>\n"},{"tags":[],"owner":{"account_id":389530,"reputation":3131,"user_id":749041,"accept_rate":65,"display_name":"LordDoskias"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1389709810,"creation_date":1316461731,"answer_id":7476460,"question_id":7476435,"body_markdown":"How about [this][1] There is a minx/max method\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>How about <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Math.html\" rel=\"nofollow\">this</a> There is a minx/max method</p>\n"},{"tags":[],"owner":{"account_id":88204,"reputation":152972,"user_id":244128,"accept_rate":80,"display_name":"maerics"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1316461743,"creation_date":1316461743,"answer_id":7476461,"question_id":7476435,"body_markdown":"See the class [`java.lang.Math` functions](http://download.oracle.com/javase/6/docs/api/java/lang/Math.html) of `min` and `max` for various types.","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>See the class <a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Math.html\" rel=\"nofollow\"><code>java.lang.Math</code> functions</a> of <code>min</code> and <code>max</code> for various types.</p>\n"},{"tags":[],"owner":{"account_id":451260,"reputation":31009,"user_id":847064,"accept_rate":84,"display_name":"Thomas Uhrig"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1316461748,"creation_date":1316461748,"answer_id":7476463,"question_id":7476435,"body_markdown":"do you mean Math.min(a, b) or Math.max(a,b)?","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>do you mean Math.min(a, b) or Math.max(a,b)?</p>\n"},{"tags":[],"owner":{"account_id":86049,"reputation":7044,"user_id":239558,"accept_rate":72,"display_name":"user239558"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549568573,"creation_date":1549568573,"answer_id":54581099,"question_id":7476435,"body_markdown":"All of the `Math.max` and `Math.min` answers are wrong.  In fact there is no generic min nor max function in Java that uses the native `Comparable` interface.","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>All of the <code>Math.max</code> and <code>Math.min</code> answers are wrong.  In fact there is no generic min nor max function in Java that uses the native <code>Comparable</code> interface.</p>\n"},{"tags":[],"owner":{"account_id":17107134,"reputation":73,"user_id":12378913,"display_name":"Timofey X"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669052266,"creation_date":1669052266,"answer_id":74522850,"question_id":7476435,"body_markdown":"In 2022 (actually, from Java 8) we can use methods such as `Integer.min(a, b)` or `Double.max(a, b)`","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>In 2022 (actually, from Java 8) we can use methods such as <code>Integer.min(a, b)</code> or <code>Double.max(a, b)</code></p>\n"}],"owner":{"account_id":374916,"reputation":6704,"user_id":725417,"accept_rate":94,"display_name":"uTubeFan"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66353,"favorite_count":0,"down_vote_count":1,"up_vote_count":45,"accepted_answer_id":7476447,"answer_count":10,"score":44,"last_activity_date":1669052266,"creation_date":1316461611,"question_id":7476435,"body_markdown":"In `C`, there is a `min()` convenience macro that helps make the code more readable. \r\n\r\nIn java, the shortest equivalent I know of is:\r\n\r\n    (a &gt; b ? b : a)\r\n\r\nBut it&#39;s not as self-documenting as `min()` in my view.\r\n\r\nIs there a built-in min() method in Java (and I just couldn&#39;t find it)? or my only recourse is to define a method like this myself? ","title":"min(a,b) and max(a,b) equivalent in Java?","body":"<p>In <code>C</code>, there is a <code>min()</code> convenience macro that helps make the code more readable. </p>\n\n<p>In java, the shortest equivalent I know of is:</p>\n\n<pre><code>(a &gt; b ? b : a)\n</code></pre>\n\n<p>But it's not as self-documenting as <code>min()</code> in my view.</p>\n\n<p>Is there a built-in min() method in Java (and I just couldn't find it)? or my only recourse is to define a method like this myself? </p>\n"},{"tags":["java","kotlin","methods","functional-programming"],"comments":[{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1669051741,"post_id":74522622,"comment_id":131550309,"body_markdown":"Well you don&#39;t have to evaluate it a second time, since you know the result will be `true` (otherwise `find` wouldn&#39;t find it). Your comment is probably wrong if you&#39;re saying both functions returns `T`, unless `T` is always `Boolean`. Or maybe the lambda inside `find` doesn&#39;t compile","body":"Well you don&#39;t have to evaluate it a second time, since you know the result will be <code>true</code> (otherwise <code>find</code> wouldn&#39;t find it). Your comment is probably wrong if you&#39;re saying both functions returns <code>T</code>, unless <code>T</code> is always <code>Boolean</code>. Or maybe the lambda inside <code>find</code> doesn&#39;t compile"},{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1669052752,"post_id":74522622,"comment_id":131550630,"body_markdown":"Also, what exactly do you want to return? The name `electStrategy` suggests that a strategy will be returned (so one of the functions), but the implementation suggests that you want to return the result of the invocation of the matching strategy","body":"Also, what exactly do you want to return? The name <code>electStrategy</code> suggests that a strategy will be returned (so one of the functions), but the implementation suggests that you want to return the result of the invocation of the matching strategy"}],"answers":[{"tags":[],"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1669052123,"creation_date":1669052123,"answer_id":74522820,"question_id":74522622,"body_markdown":"I think your example has a problem with its predicate. But assuming `predicate()` is a function that returns true or false on a result of a strategy invocation, you could write it this way:\r\n\r\n```kotlin\r\nfun electStrategy() = sequenceOf({ attemptStrategyA(x) }, { attemptStrategyB(x) })\r\n    .map { it.invoke() }\r\n    .firstOrNull { predicate(it) }\r\n```\r\n\r\nUsing `sequenceOf` instead of `listOf` makes the `.map` operation lazy, which means the predicate will be evaluated on the result of a strategy before the next strategy is attempted.","title":"How to evaluate and take function value lazy in kotlin","body":"<p>I think your example has a problem with its predicate. But assuming <code>predicate()</code> is a function that returns true or false on a result of a strategy invocation, you could write it this way:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun electStrategy() = sequenceOf({ attemptStrategyA(x) }, { attemptStrategyB(x) })\n    .map { it.invoke() }\n    .firstOrNull { predicate(it) }\n</code></pre>\n<p>Using <code>sequenceOf</code> instead of <code>listOf</code> makes the <code>.map</code> operation lazy, which means the predicate will be evaluated on the result of a strategy before the next strategy is attempted.</p>\n"}],"owner":{"account_id":1472084,"reputation":595,"user_id":1383378,"accept_rate":100,"display_name":"LoreV"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74522820,"answer_count":1,"score":1,"last_activity_date":1669052123,"creation_date":1669051069,"question_id":74522622,"body_markdown":"What I&#39;m trying to achieve in my personal project is an &#39;evaluator function&#39;, that should elect a valid strategy, without invoking that twice.\r\nCurrently, my code is:\r\n\r\n```\r\nfun electStrategy() = listOf({ attemptStrategyA(x) }, { attemptStrategyB(x) })\r\n                      .find{ it.invoke() == true } ?.invoke()\r\n\r\n// where `attemptStrategyA(x)` and `attemptStrategyB(x)` return `T`\r\n\r\n```\r\nAs you can see from the above, I need to first evaluate the strategies in a lazy fashion and then, when the predicate condition is met, I would like to get elected strategy value.\r\n\r\nHow can I do the above without having to evaluate such strategy twice and more elegantly? ","title":"How to evaluate and take function value lazy in kotlin","body":"<p>What I'm trying to achieve in my personal project is an 'evaluator function', that should elect a valid strategy, without invoking that twice.\nCurrently, my code is:</p>\n<pre><code>fun electStrategy() = listOf({ attemptStrategyA(x) }, { attemptStrategyB(x) })\n                      .find{ it.invoke() == true } ?.invoke()\n\n// where `attemptStrategyA(x)` and `attemptStrategyB(x)` return `T`\n\n</code></pre>\n<p>As you can see from the above, I need to first evaluate the strategies in a lazy fashion and then, when the predicate condition is met, I would like to get elected strategy value.</p>\n<p>How can I do the above without having to evaluate such strategy twice and more elegantly?</p>\n"},{"tags":["java","xml","xslt"],"answers":[{"tags":[],"owner":{"account_id":91947,"reputation":161829,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669046580,"creation_date":1669046580,"answer_id":74521681,"question_id":74521022,"body_markdown":"I would start with e.g.\r\n\r\n    &lt;xsl:template match=&quot;bold&quot;&gt;**&lt;xsl:apply-templates/&gt;**&lt;/xsl:template&gt;\r\n\r\nand write templates matching and transforming other elements as needed.\r\n    \r\n","title":"xml-formatted text to e.g. markdown-text","body":"<p>I would start with e.g.</p>\n<pre><code>&lt;xsl:template match=&quot;bold&quot;&gt;**&lt;xsl:apply-templates/&gt;**&lt;/xsl:template&gt;\n</code></pre>\n<p>and write templates matching and transforming other elements as needed.</p>\n"},{"comments":[{"owner":{"account_id":5758519,"reputation":64,"user_id":4545629,"display_name":"Marco S."},"score":0,"creation_date":1669110098,"post_id":74522717,"comment_id":131563532,"body_markdown":"Easy and elegant! great","body":"Easy and elegant! great"}],"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1669051535,"creation_date":1669051535,"answer_id":74522717,"question_id":74521022,"body_markdown":"Use template rules.\r\n\r\nSomething like\r\n\r\n    &lt;xsl:template match=&quot;para&quot;&gt;\r\n      &lt;xsl:apply-templates/&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template match=&quot;text()&quot;&gt;\r\n      &lt;xsl:value-of select=&quot;.&quot;/&gt;\r\n    &lt;/xsl:template&gt;\r\n    \r\n    &lt;xsl:template match=&quot;bold&quot;&gt;\r\n      &lt;xsl:text&gt;**&lt;/xsl:text&gt;\r\n      &lt;xsl:apply-templates/&gt;\r\n      &lt;xsl:text&gt;**&lt;/xsl:text&gt;\r\n    &lt;/xsl:template&gt;\r\n\r\nThe idea is to perform a recursive descent of the tree, processing each node that you reach using the best-fit template rule for that node. This is the classic XSLT processing model for mixed content.","title":"xml-formatted text to e.g. markdown-text","body":"<p>Use template rules.</p>\n<p>Something like</p>\n<pre><code>&lt;xsl:template match=&quot;para&quot;&gt;\n  &lt;xsl:apply-templates/&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=&quot;text()&quot;&gt;\n  &lt;xsl:value-of select=&quot;.&quot;/&gt;\n&lt;/xsl:template&gt;\n\n&lt;xsl:template match=&quot;bold&quot;&gt;\n  &lt;xsl:text&gt;**&lt;/xsl:text&gt;\n  &lt;xsl:apply-templates/&gt;\n  &lt;xsl:text&gt;**&lt;/xsl:text&gt;\n&lt;/xsl:template&gt;\n</code></pre>\n<p>The idea is to perform a recursive descent of the tree, processing each node that you reach using the best-fit template rule for that node. This is the classic XSLT processing model for mixed content.</p>\n"}],"owner":{"account_id":5758519,"reputation":64,"user_id":4545629,"display_name":"Marco S."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74522717,"answer_count":2,"score":0,"last_activity_date":1669051535,"creation_date":1669043479,"question_id":74521022,"body_markdown":"I&#39;m quite new with xslt and I have a xml-formatted text to transform to a different text format e.g. markdown. xml-formatting nodes can occur several times inside a text content as in the following simplified  example:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\r\n    &lt;content&gt;\r\n        &lt;para&gt;\r\n            This is a sample\r\n          &lt;bold&gt;text&lt;/bold&gt;\r\n            for testing and\r\n            &lt;bold&gt;improvement&lt;/bold&gt;\r\n            of current software version\r\n        &lt;/para&gt;\r\n    &lt;/content&gt;\r\n\r\nMy xslt transformation (from JDK 1.8.0) is:\r\n\r\n    &lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\r\n        &lt;xsl:output method=&quot;text&quot; indent=&quot;no&quot; omit-xml-declaration=&quot;yes&quot; xml:space=&quot;default&quot; /&gt;\r\n    \r\n        &lt;xsl:template match=&quot;/&quot;&gt;\r\n            &lt;xsl:apply-templates/&gt;\r\n        &lt;/xsl:template&gt;\r\n    \r\n        &lt;xsl:template match=&quot;para&quot;&gt;\r\n            &lt;xsl:for-each select=&quot;./*&quot;&gt;\r\n                &lt;xsl:choose&gt;\r\n                    &lt;xsl:when test=&quot;bold&quot;&gt;\r\n                        &lt;xsl:value-of select=&quot;normalize-space(bold/preceding-sibling::text())&quot;/&gt;\r\n                        &lt;xsl:text&gt; **&lt;/xsl:text&gt;&lt;xsl:value-of select=&quot;normalize-space(bold)&quot;/&gt;&lt;xsl:text&gt;** &lt;/xsl:text&gt;\r\n                        &lt;xsl:value-of select=&quot;normalize-space(bold/following-sibling::text())&quot;/&gt;\r\n                    &lt;/xsl:when&gt;\r\n                    &lt;xsl:otherwise&gt;\r\n                        &lt;xsl:value-of select=&quot;normalize-space(.)&quot;/&gt;\r\n                    &lt;/xsl:otherwise&gt;\r\n                &lt;/xsl:choose&gt;\r\n            &lt;/xsl:for-each&gt;\r\n        &lt;/xsl:template&gt;\r\n    &lt;/xsl:stylesheet&gt;\r\n\r\nwhich outputs just the string: `textimprovement`.\r\n\r\nHow can i get a better transformation ?\r\n\r\nThanks for helping.","title":"xml-formatted text to e.g. markdown-text","body":"<p>I'm quite new with xslt and I have a xml-formatted text to transform to a different text format e.g. markdown. xml-formatting nodes can occur several times inside a text content as in the following simplified  example:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&gt;\n&lt;content&gt;\n    &lt;para&gt;\n        This is a sample\n      &lt;bold&gt;text&lt;/bold&gt;\n        for testing and\n        &lt;bold&gt;improvement&lt;/bold&gt;\n        of current software version\n    &lt;/para&gt;\n&lt;/content&gt;\n</code></pre>\n<p>My xslt transformation (from JDK 1.8.0) is:</p>\n<pre><code>&lt;xsl:stylesheet version=&quot;1.0&quot; xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;&gt;\n    &lt;xsl:output method=&quot;text&quot; indent=&quot;no&quot; omit-xml-declaration=&quot;yes&quot; xml:space=&quot;default&quot; /&gt;\n\n    &lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;xsl:apply-templates/&gt;\n    &lt;/xsl:template&gt;\n\n    &lt;xsl:template match=&quot;para&quot;&gt;\n        &lt;xsl:for-each select=&quot;./*&quot;&gt;\n            &lt;xsl:choose&gt;\n                &lt;xsl:when test=&quot;bold&quot;&gt;\n                    &lt;xsl:value-of select=&quot;normalize-space(bold/preceding-sibling::text())&quot;/&gt;\n                    &lt;xsl:text&gt; **&lt;/xsl:text&gt;&lt;xsl:value-of select=&quot;normalize-space(bold)&quot;/&gt;&lt;xsl:text&gt;** &lt;/xsl:text&gt;\n                    &lt;xsl:value-of select=&quot;normalize-space(bold/following-sibling::text())&quot;/&gt;\n                &lt;/xsl:when&gt;\n                &lt;xsl:otherwise&gt;\n                    &lt;xsl:value-of select=&quot;normalize-space(.)&quot;/&gt;\n                &lt;/xsl:otherwise&gt;\n            &lt;/xsl:choose&gt;\n        &lt;/xsl:for-each&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>which outputs just the string: <code>textimprovement</code>.</p>\n<p>How can i get a better transformation ?</p>\n<p>Thanks for helping.</p>\n"},{"tags":["java","macos","macos-sierra","apt"],"comments":[{"owner":{"account_id":5013935,"reputation":23,"user_id":4029277,"display_name":"apalu"},"score":0,"creation_date":1566868019,"post_id":51943064,"comment_id":101781580,"body_markdown":"https://stackoverflow.com/questions/10873437/unable-to-locate-an-executable-at-usr-bin-java-bin-java-1?rq=1","body":"<a href=\"https://stackoverflow.com/questions/10873437/unable-to-locate-an-executable-at-usr-bin-java-bin-java-1?rq=1\" title=\"unable to locate an executable at usr bin java bin java 1\">stackoverflow.com/questions/10873437/&hellip;</a>"},{"owner":{"account_id":412243,"reputation":1862,"user_id":785213,"display_name":"TheDudeAbides"},"score":0,"creation_date":1669051835,"post_id":51943064,"comment_id":131550338,"body_markdown":"The whole Java thing is a [red herring](https://en.wikipedia.org/wiki/Red_herring). You have found instructions for installing Apache that are intended for use with a Debian- or Ubuntu-derived Linux distribution, which use `apt` for package management, and `/usr/bin/apt` on a Mac is something else. MacPorts, Homebrew, or Fink are three projects which provide analogous functionality for macOS. See [this question](https://unix.stackexchange.com/questions/359219/error-when-using-apt-on-macos-sierra) (and [the accepted answer](https://unix.stackexchange.com/a/359221/278323)) for more context.","body":"The whole Java thing is a <a href=\"https://en.wikipedia.org/wiki/Red_herring\" rel=\"nofollow noreferrer\">red herring</a>. You have found instructions for installing Apache that are intended for use with a Debian- or Ubuntu-derived Linux distribution, which use <code>apt</code> for package management, and <code>&#47;usr&#47;bin&#47;apt</code> on a Mac is something else. MacPorts, Homebrew, or Fink are three projects which provide analogous functionality for macOS. See <a href=\"https://unix.stackexchange.com/questions/359219/error-when-using-apt-on-macos-sierra\">this question</a> (and <a href=\"https://unix.stackexchange.com/a/359221/278323\">the accepted answer</a>) for more context."}],"answers":[{"tags":[],"owner":{"account_id":14193681,"reputation":1,"user_id":10253560,"display_name":"Hubert Spiess"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1538338574,"creation_date":1535057968,"answer_id":51994183,"question_id":51943064,"body_markdown":"You are not querying for the file they are asking home/bin/apt \r\n\r\nIf you look in your folder you will not find this file most likely. \r\n\r\nTry installing an older version of the sdk.","title":"Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/apt&quot; (-1)","body":"<p>You are not querying for the file they are asking home/bin/apt </p>\n\n<p>If you look in your folder you will not find this file most likely. </p>\n\n<p>Try installing an older version of the sdk.</p>\n"},{"tags":[],"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1669051081,"creation_date":1604016628,"answer_id":64600971,"question_id":51943064,"body_markdown":"&gt; I have installed JDK in Mac OS.\r\n\r\nWell, `apt` is not an MacOS command for package installation. Wherever you copied those instructions from was for Debian/Ubuntu, not Mac\r\n\r\nIf you want to install Apache HTTPd on Mac, I&#39;d recommend using Homebrew or Docker. And if using Docker, you don&#39;t need Java installed on your Mac ","title":"Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/apt&quot; (-1)","body":"<blockquote>\n<p>I have installed JDK in Mac OS.</p>\n</blockquote>\n<p>Well, <code>apt</code> is not an MacOS command for package installation. Wherever you copied those instructions from was for Debian/Ubuntu, not Mac</p>\n<p>If you want to install Apache HTTPd on Mac, I'd recommend using Homebrew or Docker. And if using Docker, you don't need Java installed on your Mac</p>\n"}],"owner":{"account_id":12200708,"reputation":237,"user_id":8905028,"accept_rate":55,"display_name":"codeclue"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9413,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1669051081,"creation_date":1534834023,"question_id":51943064,"body_markdown":"I have installed JDK in Mac OS.\r\n\r\nI am trying to install Apache2,\r\n\r\n    sudo apt install apache2\r\n\r\nOutput :-\r\n\r\n    Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/apt&quot; (-1)\r\n\r\nBut, executable file is present in `/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/`\r\n\r\n    $find /Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home -name java*\r\n    \r\n    /Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/java\r\n    /Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/javac","title":"Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/apt&quot; (-1)","body":"<p>I have installed JDK in Mac OS.</p>\n\n<p>I am trying to install Apache2,</p>\n\n<pre><code>sudo apt install apache2\n</code></pre>\n\n<p>Output :-</p>\n\n<pre><code>Unable to locate an executable at \"/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/apt\" (-1)\n</code></pre>\n\n<p>But, executable file is present in <code>/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/</code></p>\n\n<pre><code>$find /Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home -name java*\n\n/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/java\n/Library/Java/JavaVirtualMachines/jdk-10.0.2.jdk/Contents/Home/bin/javac\n</code></pre>\n"},{"tags":["java","file","jar","executable-jar"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1669050789,"post_id":74522446,"comment_id":131549985,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":6358642,"reputation":6528,"user_id":4934937,"display_name":"maio290"},"score":0,"creation_date":1669050906,"post_id":74522446,"comment_id":131550027,"body_markdown":"Does this answer your question? [What is a fat JAR?](https://stackoverflow.com/questions/19150811/what-is-a-fat-jar)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/19150811/what-is-a-fat-jar\">What is a fat JAR?</a>"},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":0,"creation_date":1669050959,"post_id":74522446,"comment_id":131550044,"body_markdown":"It depends of the jar structure, You may add the tool used to generate the jar (maven-jar plugin, spring boot, other...) and also what you tried, what is the error message, anything you think may be relevant for us to help you","body":"It depends of the jar structure, You may add the tool used to generate the jar (maven-jar plugin, spring boot, other...) and also what you tried, what is the error message, anything you think may be relevant for us to help you"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1669056970,"post_id":74522446,"comment_id":131551900,"body_markdown":"How are you attempting to run the .jar file?  Where, exactly, are you seeing the “unable to access jar file” message?","body":"How are you attempting to run the .jar file?  Where, exactly, are you seeing the “unable to access jar file” message?"}],"owner":{"account_id":25525864,"reputation":11,"user_id":19314951,"display_name":"Minh_Peter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1669050794,"creation_date":1669050101,"question_id":74522446,"body_markdown":"\r\nI have created a JAR file, it is in &quot;out&quot; folder of my project, at this time the format of this file is Executable Jar File, but when I copy this file to another folder it cannot run and it says error unable to access jar file, now the format of the file is JAR file but it isn&#39;t executable jar file.\r\n\r\n\r\n\r\n\r\nI hope to be able to keep the format of the file as executable jar file so that it can be executed on another machine at any time.\r\n\r\n\r\n I hope someone can help me with this error and explain why it is giving me this error. \r\n","title":"Why I can&#39;t run JAR File in another position in my computer?","body":"<p>I have created a JAR file, it is in &quot;out&quot; folder of my project, at this time the format of this file is Executable Jar File, but when I copy this file to another folder it cannot run and it says error unable to access jar file, now the format of the file is JAR file but it isn't executable jar file.</p>\n<p>I hope to be able to keep the format of the file as executable jar file so that it can be executed on another machine at any time.</p>\n<p>I hope someone can help me with this error and explain why it is giving me this error.</p>\n"},{"tags":["java","flutter","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1669025143,"post_id":74517109,"comment_id":131540650,"body_markdown":"Please edit your question and add your database structure as a screenshot and indicate the exact data you want to get.","body":"Please edit your question and add your database structure as a screenshot and indicate the exact data you want to get."},{"owner":{"account_id":20970047,"reputation":1,"user_id":15407423,"display_name":"Vichu"},"score":0,"creation_date":1669030335,"post_id":74517109,"comment_id":131542365,"body_markdown":"@AlexMamo https://freeimage.host/i/HJ0rs7n  link for firebase structure image. The chat collection contains the documents of the users that chatting with and inside that the subcollection of messages from the user.I need the documents of the chat collection to display it as list of users that the person chatting.","body":"@AlexMamo <a href=\"https://freeimage.host/i/HJ0rs7n\" rel=\"nofollow noreferrer\">freeimage.host/i/HJ0rs7n</a>  link for firebase structure image. The chat collection contains the documents of the users that chatting with and inside that the subcollection of messages from the user.I need the documents of the chat collection to display it as list of users that the person chatting."},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1669036059,"post_id":74517109,"comment_id":131544440,"body_markdown":"Are you sure you&#39;re using the right document IDs in your reference?","body":"Are you sure you&#39;re using the right document IDs in your reference?"},{"owner":{"account_id":20970047,"reputation":1,"user_id":15407423,"display_name":"Vichu"},"score":0,"creation_date":1669092094,"post_id":74517109,"comment_id":131558887,"body_markdown":"@AlexMamo yes ...but in the case iam calling chat collection.snapshots to get document ids the chat collection contains sub collection called messages where all messages with that particular person exist. cant we get snapshot of a collection that having only a sub collection?","body":"@AlexMamo yes ...but in the case iam calling chat collection.snapshots to get document ids the chat collection contains sub collection called messages where all messages with that particular person exist. cant we get snapshot of a collection that having only a sub collection?"},{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1669100543,"post_id":74517109,"comment_id":131560516,"body_markdown":"To understand better, do you want to read the content of a document together with all documents from the sub-collection in one go?","body":"To understand better, do you want to read the content of a document together with all documents from the sub-collection in one go?"},{"owner":{"account_id":20970047,"reputation":1,"user_id":15407423,"display_name":"Vichu"},"score":0,"creation_date":1669201173,"post_id":74517109,"comment_id":131589214,"body_markdown":"@AlexMamo yes. but I did it using another way. thankyou..@alexmamo","body":"@AlexMamo yes. but I did it using another way. thankyou..@alexmamo"}],"owner":{"account_id":20970047,"reputation":1,"user_id":15407423,"display_name":"Vichu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669050225,"creation_date":1669024685,"question_id":74517109,"body_markdown":"[image of database][1]I have a firebase collection starting from User collection , sub collection chats, then messages.\r\n\r\n```\r\n_firestore\r\n        .collection(&#39;users&#39;)\r\n        .doc(_auth.currentUser!.uid)\r\n        .collection(&#39;chats&#39;)\r\n        .doc(widget.user[&#39;id&#39;])\r\n        .collection(&#39;messages&#39;)\r\n        .add({\r\n      &#39;text&#39;: _messageController.text,\r\n      &#39;sender&#39;: _auth.currentUser!.email,\r\n      &#39;Date&#39;: DateTime.now(),\r\n    });\r\n```\r\n\r\nbut when i try to list the chatlist for the user snapshot is empty list\r\n\r\n```\r\n \r\n```\r\nStreamBuilder(\r\n          stream: _firestore\r\n              .collection(&#39;users&#39;)\r\n              .doc(_auth.currentUser!.uid)\r\n              .collection(&#39;chats&#39;)\r\n              .doc(widget.user[&#39;id&#39;])\r\n              .collection(&#39;messages&#39;)\r\n              .orderBy(&#39;Date&#39;)\r\n              .snapshots(),\r\n          builder: (context, AsyncSnapshot&lt;QuerySnapshot&gt; snapshot) {\r\n            if (snapshot.hasData) {\r\n```\r\n[enter image description here](https://i.stack.imgur.com/0z1OT.png)\r\n\r\n\r\n\r\n\r\nbuilding a chat application and i need to list all chat that the user chats with.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hrA3T.png","title":"How to fetch upto documents that having a subcollection in it","body":"<p>[image of database][1]I have a firebase collection starting from User collection , sub collection chats, then messages.</p>\n<pre><code>_firestore\n        .collection('users')\n        .doc(_auth.currentUser!.uid)\n        .collection('chats')\n        .doc(widget.user['id'])\n        .collection('messages')\n        .add({\n      'text': _messageController.text,\n      'sender': _auth.currentUser!.email,\n      'Date': DateTime.now(),\n    });\n</code></pre>\n<p>but when i try to list the chatlist for the user snapshot is empty list</p>\n<pre><code> \n</code></pre>\n<p>StreamBuilder(\nstream: _firestore\n.collection('users')\n.doc(_auth.currentUser!.uid)\n.collection('chats')\n.doc(widget.user['id'])\n.collection('messages')\n.orderBy('Date')\n.snapshots(),\nbuilder: (context, AsyncSnapshot snapshot) {\nif (snapshot.hasData) {</p>\n<pre><code>[enter image description here](https://i.stack.imgur.com/0z1OT.png)\n\n\n\n\nbuilding a chat application and i need to list all chat that the user chats with.\n\n\n  [1]: https://i.stack.imgur.com/hrA3T.png\n</code></pre>\n"},{"tags":["java","ajax","spring","jasper-reports"],"comments":[{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":1,"creation_date":1542998370,"post_id":53450233,"comment_id":93775651,"body_markdown":"Did you try to write small simple console Java application (or test) to check the report? Is generated pdf ok?","body":"Did you try to write small simple console Java application (or test) to check the report? Is generated pdf ok?"},{"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"score":0,"creation_date":1543006219,"post_id":53450233,"comment_id":93778107,"body_markdown":"@AlexK the generated pdf is well formed and well filled","body":"@AlexK the generated pdf is well formed and well filled"},{"owner":{"account_id":469619,"reputation":22464,"user_id":876298,"display_name":"Alex K"},"score":0,"creation_date":1543006823,"post_id":53450233,"comment_id":93778274,"body_markdown":"In this case your question is unclear. Pdf is fine. How to download file at spring application?","body":"In this case your question is unclear. Pdf is fine. How to download file at spring application?"},{"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"score":0,"creation_date":1543007297,"post_id":53450233,"comment_id":93778415,"body_markdown":"I will update the question","body":"I will update the question"}],"answers":[{"tags":[],"owner":{"account_id":7774424,"reputation":2461,"user_id":5882963,"display_name":"Narcis"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1543241396,"creation_date":1543241396,"answer_id":53482911,"question_id":53450233,"body_markdown":"I have tried your javascript code and there&#39;s an issue indeed.\r\n\r\nBut the issue comes from within jQuery&#39;s ajax implementation. It does not properly handle the response data type.\r\n\r\nThis post [here](https://stackoverflow.com/questions/34586671/download-pdf-file-using-jquery-ajax) presents two alternatives: either use the [XMLHttpRequest](https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest) object directly or use a custom [jQuery plugin](https://github.com/acigna/jquery-ajax-native) designed specifically for this issue.\r\n\r\nAnother option could be to split your controller logic in two parts:\r\n\r\n - on the first request you would fill in the report parameters\r\n - on the second one you would produce the PDF output; you could even have this opened in a new tab and skip the whole AJAX part.\r\n","title":"Report is fine in backend but it is received empty when downloaded using ajax from spring boot","body":"<p>I have tried your javascript code and there's an issue indeed.</p>\n\n<p>But the issue comes from within jQuery's ajax implementation. It does not properly handle the response data type.</p>\n\n<p>This post <a href=\"https://stackoverflow.com/questions/34586671/download-pdf-file-using-jquery-ajax\">here</a> presents two alternatives: either use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\" rel=\"nofollow noreferrer\">XMLHttpRequest</a> object directly or use a custom <a href=\"https://github.com/acigna/jquery-ajax-native\" rel=\"nofollow noreferrer\">jQuery plugin</a> designed specifically for this issue.</p>\n\n<p>Another option could be to split your controller logic in two parts:</p>\n\n<ul>\n<li>on the first request you would fill in the report parameters</li>\n<li>on the second one you would produce the PDF output; you could even have this opened in a new tab and skip the whole AJAX part.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543326221,"creation_date":1543241889,"answer_id":53483069,"question_id":53450233,"body_markdown":"You can&#39;t download file by AJAX calls\r\nWhat I suggest to you is:\r\n\r\n - to use [JQuery file download plugin][1] in order to handle successfully/unsuccessfully downloads \r\n - to use a GET method by passing params on query string\r\n\r\nAngelo\r\n\r\n\r\n  [1]: https://github.com/johnculviner/jquery.fileDownload","title":"Report is fine in backend but it is received empty when downloaded using ajax from spring boot","body":"<p>You can't download file by AJAX calls\nWhat I suggest to you is:</p>\n\n<ul>\n<li>to use <a href=\"https://github.com/johnculviner/jquery.fileDownload\" rel=\"nofollow noreferrer\">JQuery file download plugin</a> in order to handle successfully/unsuccessfully downloads </li>\n<li>to use a GET method by passing params on query string</li>\n</ul>\n\n<p>Angelo</p>\n"}],"owner":{"account_id":5527036,"reputation":1768,"user_id":4388228,"accept_rate":97,"display_name":"Mohammed Housseyn Taleb"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":827,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53482911,"answer_count":2,"score":1,"last_activity_date":1669050016,"creation_date":1542990937,"question_id":53450233,"body_markdown":"**My stack**\r\n\r\nSpring boot 1.5.6  \r\nJasperReport  \r\nAjax JQuery 3.1.1\r\n\r\n**My goal**\r\n\r\nI&#39;m trying to print for first time a report using jasper report, I have a printing service where I have my reports stored, my idea was to send http request via ajax containing data and get a pdf report \r\n\r\n**What I tried**\r\n\r\nI have a rest controller in my spring-boot backend which is implemented like this\r\n\r\n    @RestController\r\n    @RequestMapping(PrintController.API)\r\n    public class PrintController {\r\n        public static final String API=&quot;print&quot;;\r\n    \r\n        @PostMapping(&quot;client&quot;)\r\n        public void export(@RequestBody List&lt;ClientJsonDto&gt; datas,HttpServletResponse response){\r\n    \r\n        \tSystem.out.println(datas);\r\n        \t JRBeanCollectionDataSource itemsJRBean = new JRBeanCollectionDataSource(datas);\r\n\r\n        /* Map to hold Jasper report Parameters */\r\n        Map&lt;String, Object&gt; parameters = new HashMap&lt;String, Object&gt;();\r\n        parameters.put(&quot;ItemDataSource&quot;, itemsJRBean);\r\n\r\n        byte[] bytes = generatePDFReport(&quot;refclient&quot;, parameters);\r\n        return ResponseEntity\r\n\t\t\t      .ok()\r\n\t\t\t      // Specify content type as PDF\r\n\t\t\t      .header(&quot;Content-Type&quot;, &quot;application/pdf; charset=UTF-8&quot;)\r\n\t\t\t      // Tell browser to display PDF if it can\r\n\t\t\t      .header(&quot;Content-Disposition&quot;, &quot;attachment;inline; filename=\\&quot;client.pdf\\&quot;&quot;)\r\n\t\t\t      .body(bytes);\r\n           \r\n        }\r\n\r\n\r\n    public byte[] generatePDFReport(String inputFileName, Map&lt;String, Object&gt; params) {\r\n\t\treturn generatePDFReport(inputFileName, params, new JREmptyDataSource());\r\n\t}\r\n    \r\n        \r\n\tpublic File loadJasperFile(String file) {\r\n\t\t\r\n\t\ttry {\r\n\t\t\treturn ResourceUtils.getFile(&quot;classpath:static/reports/&quot;+file+&quot;.jasper&quot;);\r\n\t\t} catch (FileNotFoundException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t};\r\n\t\treturn null;\r\n\t}\r\n    \r\n    public byte[] generatePDFReport(String inputFileName, Map&lt;String, Object&gt; params,\r\n    \t    JRDataSource dataSource) {\r\n    \t    byte[] bytes = null;\r\n    \t    JasperReport jasperReport = null;\r\n    \t    try (ByteArrayOutputStream byteArray = new ByteArrayOutputStream()) {\r\n    \t      // Check if a compiled report exists\r\n\r\n\r\n    \t    \tjasperReport = (JasperReport) JRLoader.loadObject(loadJasperFile(inputFileName));\r\n    \t      \r\n    \t      // Compile report from source and save\r\n    \t   \r\n    \t      JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, params, dataSource);\r\n    \t      // return the PDF in bytes\r\n    \t      bytes = JasperExportManager.exportReportToPdf(jasperPrint);\r\n    \t    }\r\n    \t    catch (JRException | IOException e) {\r\n    \t      e.printStackTrace();\r\n    \t    }\r\n    \t    return bytes;\r\n    \t  }\r\n\r\n    }\r\n\r\nmy report is as below\r\n\r\n\t\t&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\t\t&lt;!-- Created with Jaspersoft Studio version 7.2.0.final using JasperReports Library version 6.6.0  --&gt;\r\n\t\t&lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;refClient&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; whenNoDataType=&quot;AllSectionsNoDetail&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; isIgnorePagination=&quot;true&quot; uuid=&quot;576dcd38-2982-412b-93d5-2a078da1b183&quot;&gt;\r\n\t\t\t&lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;One Empty Record&quot;/&gt;\r\n\t\t\t&lt;style name=&quot;Table_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\r\n\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;/box&gt;\r\n\t\t\t&lt;/style&gt;\r\n\t\t\t&lt;style name=&quot;Table_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\r\n\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;/box&gt;\r\n\t\t\t&lt;/style&gt;\r\n\t\t\t&lt;style name=&quot;Table_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\r\n\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;/box&gt;\r\n\t\t\t&lt;/style&gt;\r\n\t\t\t&lt;style name=&quot;Table 1_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\r\n\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;/box&gt;\r\n\t\t\t&lt;/style&gt;\r\n\t\t\t&lt;style name=&quot;Table 1_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\r\n\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;/box&gt;\r\n\t\t\t&lt;/style&gt;\r\n\t\t\t&lt;style name=&quot;Table 1_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\r\n\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t&lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t&lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t&lt;/box&gt;\r\n\t\t\t&lt;/style&gt;\r\n\t\t\t&lt;subDataset name=&quot;ItemDataset&quot; uuid=&quot;2914f7c6-c2d7-448b-b0c1-090970e18ed6&quot;&gt;\r\n\t\t\t\t&lt;queryString&gt;\r\n\t\t\t\t\t&lt;![CDATA[]]&gt;\r\n\t\t\t\t&lt;/queryString&gt;\r\n\t\t\t\t&lt;field name=&quot;clientName&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t\t\t\t&lt;field name=&quot;identifiant&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t\t\t\t&lt;field name=&quot;codeExterne&quot; class=&quot;java.lang.String&quot;/&gt;\r\n\t\t\t&lt;/subDataset&gt;\r\n\t\t\t&lt;parameter name=&quot;ItemDataSource&quot; class=&quot;net.sf.jasperreports.engine.data.JRBeanCollectionDataSource&quot;/&gt;\r\n\t\t\t&lt;queryString&gt;\r\n\t\t\t\t&lt;![CDATA[select 1 from dual]]&gt;\r\n\t\t\t&lt;/queryString&gt;\r\n\t\t\t&lt;background&gt;\r\n\t\t\t\t&lt;band splitType=&quot;Stretch&quot;/&gt;\r\n\t\t\t&lt;/background&gt;\r\n\t\t\t&lt;title&gt;\r\n\t\t\t\t&lt;band height=&quot;50&quot;&gt;\r\n\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t&lt;reportElement x=&quot;11&quot; y=&quot;11&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;9d66bc1e-2b6d-49b7-8a64-74fbd2e5d5eb&quot;/&gt;\r\n\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Liste des clients]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t&lt;/band&gt;\r\n\t\t\t&lt;/title&gt;\r\n\t\t\t&lt;detail&gt;\r\n\t\t\t\t&lt;band height=&quot;256&quot; splitType=&quot;Stretch&quot;&gt;\r\n\t\t\t\t\t&lt;componentElement&gt;\r\n\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;555&quot; height=&quot;200&quot; uuid=&quot;7786bb05-503a-4b6a-991a-a7bcf3abad07&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.layout&quot; value=&quot;com.jaspersoft.studio.editor.layout.VerticalRowLayout&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.table_header&quot; value=&quot;Table 1_TH&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.column_header&quot; value=&quot;Table 1_CH&quot;/&gt;\r\n\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.table.style.detail&quot; value=&quot;Table 1_TD&quot;/&gt;\r\n\t\t\t\t\t\t&lt;/reportElement&gt;\r\n\t\t\t\t\t\t&lt;jr:table xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\r\n\t\t\t\t\t\t\t&lt;datasetRun subDataset=&quot;ItemDataset&quot; uuid=&quot;d3e1e03a-2c83-4436-9e50-79518bc3d337&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;dataSourceExpression&gt;&lt;![CDATA[$P{ItemDataSource}]]&gt;&lt;/dataSourceExpression&gt;\r\n\t\t\t\t\t\t\t&lt;/datasetRun&gt;\r\n\t\t\t\t\t\t\t&lt;jr:column width=&quot;130&quot; uuid=&quot;dca8961f-ce2d-47ac-879c-b15847d170a9&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Colonne1&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;Table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;130&quot; height=&quot;30&quot; uuid=&quot;f60d1675-6fb6-4569-93ca-de32b3a8e861&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/box&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Nom]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table 1_TD&quot; height=&quot;30&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;130&quot; height=&quot;30&quot; uuid=&quot;f1de366a-b36f-4200-9b1e-7a0009be5373&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/box&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{clientName}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t\t\t&lt;jr:column width=&quot;140&quot; uuid=&quot;980fffb5-1088-47a6-b00f-b5d08b7093c9&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Colonne2&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;Table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;140&quot; height=&quot;30&quot; uuid=&quot;16679b95-2e6e-4ca1-b8b6-dd7b74267c56&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/box&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Identifiant]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table 1_TD&quot; height=&quot;30&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;140&quot; height=&quot;30&quot; uuid=&quot;341e7faf-9680-4941-a9a4-ac78b8f4aae0&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/box&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{identifiant}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t\t\t&lt;jr:column width=&quot;100&quot; uuid=&quot;761d1134-6b53-4b5d-9355-b44586d8d8aa&quot;&gt;\r\n\t\t\t\t\t\t\t\t&lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Colonne3&quot;/&gt;\r\n\t\t\t\t\t\t\t\t&lt;jr:tableHeader style=&quot;Table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;staticText&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;b07f5db5-1df8-48e9-a612-27ad6110fdcd&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/box&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;text&gt;&lt;![CDATA[Code]]&gt;&lt;/text&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/staticText&gt;\r\n\t\t\t\t\t\t\t\t&lt;/jr:tableHeader&gt;\r\n\t\t\t\t\t\t\t\t&lt;jr:detailCell style=&quot;Table 1_TD&quot; height=&quot;30&quot;&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;textField&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;1e0438b1-82e5-429a-b63a-5349014cf84a&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;box&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t&lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;/box&gt;\r\n\t\t\t\t\t\t\t\t\t\t&lt;textFieldExpression&gt;&lt;![CDATA[$F{codeExterne}]]&gt;&lt;/textFieldExpression&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;/textField&gt;\r\n\t\t\t\t\t\t\t\t&lt;/jr:detailCell&gt;\r\n\t\t\t\t\t\t\t&lt;/jr:column&gt;\r\n\t\t\t\t\t\t&lt;/jr:table&gt;\r\n\t\t\t\t\t&lt;/componentElement&gt;\r\n\t\t\t\t&lt;/band&gt;\r\n\t\t\t&lt;/detail&gt;\r\n\t\t&lt;/jasperReport&gt;\r\n\r\nas you see I&#39;m using a parameters where I send a jrcollection, this is used in a tutorial that I found on YouTube.\r\n\r\nfor the response handling I have this js ajax call\r\n\r\n    $(document).on(&#39;click&#39;, &#39;#menu0-func1-menu0-func1&#39;, function(){\r\n    \t\tconsole.log(printData);\r\n    \t\tvar jsonData =JSON.parse(JSON.stringify(printData));\r\n    \t\t    var settings = {\r\n    \t\t        &quot;async&quot; : true,\r\n    \t\t        &quot;crossDomain&quot; : true,\r\n    \t\t        &quot;url&quot; : &quot;http://&quot;+document.location.host+&quot;/facturation/print/client&quot;,\r\n    \t\t        &quot;method&quot; : &quot;POST&quot;,\r\n    \t\t        &quot;headers&quot; : {\r\n    \t\t            &quot;cache-control&quot; : &quot;no-cache&quot;,\r\n    \t\t            &#39;X-CSRF-TOKEN&#39;: $(&#39;meta[name=&quot;csrf-token&quot;]&#39;).attr(&#39;content&#39;)\r\n    \t\t        },\r\n    \t\t        &quot;processData&quot; : false,\r\n    \t\t        &quot;contentType&quot; : &quot;application/json&quot;,\r\n    \t\t        &quot;dataType&quot; : &quot;text&quot;,\r\n    \t\t        &quot;data&quot; : JSON.stringify(printData)\r\n    \t\t    }\r\n    \r\n    \t\t    $.ajax(settings).done(function(response, status, xhr) {\r\n    \t\t        console.log(response);\r\n    \t\t          \r\n    \t\t        // check for a filename\r\n    \t\t        var filename = &quot;&quot;;\r\n    \t\t        var disposition = xhr.getResponseHeader(&#39;Content-Disposition&#39;);\r\n    \t\t        if (disposition &amp;&amp; disposition.indexOf(&#39;attachment&#39;) !== -1) {\r\n    \t\t            var filenameRegex = /filename[^;=\\n]*=(([&#39;&quot;]).*?\\2|[^;\\n]*)/;\r\n    \t\t            var matches = filenameRegex.exec(disposition);\r\n    \t\t            if (matches != null &amp;&amp; matches[1]) filename = matches[1].replace(/[&#39;&quot;]/g, &#39;&#39;);\r\n    \t\t        }\r\n    \r\n    \t\t        var type = xhr.getResponseHeader(&#39;Content-Type&#39;);\r\n    \t\t        var blob = new Blob([response], { type: type });\r\n    \r\n    \t\t        if (typeof window.navigator.msSaveBlob !== &#39;undefined&#39;) {\r\n    \t\t            // IE workaround for &quot;HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. These URLs will no longer resolve as the data backing the URL has been freed.&quot;\r\n    \t\t            window.navigator.msSaveBlob(blob, filename);\r\n    \t\t        } else {\r\n    \t\t            var URL = window.URL || window.webkitURL;\r\n    \t\t            var downloadUrl = URL.createObjectURL(blob);\r\n    \r\n    \t\t            if (filename) {\r\n    \t\t                // use HTML5 a[download] attribute to specify filename\r\n    \t\t                var a = document.createElement(&quot;a&quot;);\r\n    \t\t                // safari doesn&#39;t support this yet\r\n    \t\t                if (typeof a.download === &#39;undefined&#39;) {\r\n    \t\t                    window.location = downloadUrl;\r\n    \t\t                } else {\r\n    \t\t                    a.href = downloadUrl;\r\n    \t\t                    a.download = filename;\r\n    \t\t                    document.body.appendChild(a);\r\n    \t\t                    a.click();\r\n    \t\t                }\r\n    \t\t            } else {\r\n    \t\t                window.location = downloadUrl;\r\n    \t\t            }\r\n    \r\n    \t\t            setTimeout(function () { URL.revokeObjectURL(downloadUrl); }, 100); // cleanup\r\n    \t\t        }\r\n    \t\t    \r\n    \t\t    });\r\n    \t});\r\n\r\nthere is no exception, Normally I should at least get the title of the report but I m getting an empty pdf page\r\n\r\nhere is my console log in Chrome\r\n\r\n\t\t%PDF-1.5\r\n\t\t%����\r\n\t\t3 0 obj\r\n\t\t&lt;&lt;/Filter/FlateDecode/Length 882&gt;&gt;stream\r\n\t\tx���[O1���W��&gt;�z|�M^i�J�B�T��e�Q��`����zJc�����}|2_���hU�R,d)Vuq�*�J�u!�W�{a�X�w&#39; @�US�Y�t��D��ޤ�)�e��Ӧ8��m�ע^���n��n�#���9��O�\\�ג�K��Rֺw�����\r\n\t\t�r��59��&gt;/�\t0^���r�`ޙ�ֈ�h�!�`�/���5�KƆ��Yb�\\\r\n\t\t#��1hP�\r\n\t\t�ďK.fYyk?���%�6T�!�}�˾(j�on7����M���?F6���V��F�M^&amp;�IjywI�h��������WV1d���L2N�w��̦%�E�c�B��I��єB�R��b!�2�f���d=*�I�����&quot;�KB�&quot;\r\n\t\t��᳍&amp;�������ֲX�df2��C&quot;�zf�#)Ό�wLJ��F����аH��E#\r\n\t\t��%/!b=��,�&quot;y�XKyA˿��e\r\n\t\tendstream\r\n\t\tendobj\r\n\t\t1 0 obj\r\n\t\t&lt;&lt;/Tabs/S/Group&lt;&lt;/S/Transparency/Type/Group/CS/DeviceRGB&gt;&gt;/Contents 3 0 R/Type/Page/Resources&lt;&lt;/ColorSpace&lt;&lt;/CS/DeviceRGB&gt;&gt;/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]/Font&lt;&lt;/F1 2 0 R&gt;&gt;&gt;&gt;/Parent 4 0 R/MediaBox[0 0 595 842]&gt;&gt;\r\n\t\tendobj\r\n\t\t5 0 obj\r\n\t\t[1 0 R/XYZ 0 852 0]\r\n\t\tendobj\r\n\t\t2 0 obj\r\n\t\t&lt;&lt;/Subtype/Type1/Type/Font/BaseFont/Helvetica/Encoding/WinAnsiEncoding&gt;&gt;\r\n\t\tendobj\r\n\t\t4 0 obj\r\n\t\t&lt;&lt;/Kids[1 0 R]/Type/Pages/Count 1/ITXT(2.1.7)&gt;&gt;\r\n\t\tendobj\r\n\t\t6 0 obj\r\n\t\t&lt;&lt;/Names[(JR_PAGE_ANCHOR_0_1) 5 0 R]&gt;&gt;\r\n\t\tendobj\r\n\t\t7 0 obj\r\n\t\t&lt;&lt;/Dests 6 0 R&gt;&gt;\r\n\t\tendobj\r\n\t\t8 0 obj\r\n\t\t&lt;&lt;/Names 7 0 R/Type/Catalog/Pages 4 0 R/ViewerPreferences&lt;&lt;/PrintScaling/AppDefault&gt;&gt;&gt;&gt;\r\n\t\tendobj\r\n\t\t9 0 obj\r\n\t\t&lt;&lt;/ModDate(D:20181123161409Z)/Creator(JasperReports Library version 6.4.0)/CreationDate(D:20181123161409Z)/Producer(iText 2.1.7 by 1T3XT)&gt;&gt;\r\n\t\tendobj\r\n\t\txref\r\n\t\t0 10\r\n\t\t0000000000 65535 f \r\n\t\t0000000964 00000 n \r\n\t\t0000001240 00000 n \r\n\t\t0000000015 00000 n \r\n\t\t0000001328 00000 n \r\n\t\t0000001205 00000 n \r\n\t\t0000001391 00000 n \r\n\t\t0000001445 00000 n \r\n\t\t0000001477 00000 n \r\n\t\t0000001580 00000 n \r\n\t\ttrailer\r\n\t\t&lt;&lt;/Info 9 0 R/ID [&lt;b7d27a6f96e6278f5c1d222f79d7c999&gt;&lt;b97ae89e1e568703aeb75af2080d04d8&gt;]/Root 8 0 R/Size 10&gt;&gt;\r\n\t\tstartxref\r\n\t\t1735\r\n\t\t%%EOF\r\n\r\nWhat to do, I tried lot of tutorials this 3 last days but no success\r\n\r\n**edit**\r\n\r\nI generated the pdf using `JasperExportManager.exportReportToPdfFile(jasperPrint, &quot;rapport.pdf&quot;);` and the pdf file is well formed that is there, I compared the txt representation of this well pdf with the received log, they are the same, my empty pdf is 3kb and the well formed is also 3kb.","title":"Report is fine in backend but it is received empty when downloaded using ajax from spring boot","body":"<p><strong>My stack</strong></p>\n<p>Spring boot 1.5.6<br />\nJasperReport<br />\nAjax JQuery 3.1.1</p>\n<p><strong>My goal</strong></p>\n<p>I'm trying to print for first time a report using jasper report, I have a printing service where I have my reports stored, my idea was to send http request via ajax containing data and get a pdf report</p>\n<p><strong>What I tried</strong></p>\n<p>I have a rest controller in my spring-boot backend which is implemented like this</p>\n<pre><code>@RestController\n@RequestMapping(PrintController.API)\npublic class PrintController {\n    public static final String API=&quot;print&quot;;\n\n    @PostMapping(&quot;client&quot;)\n    public void export(@RequestBody List&lt;ClientJsonDto&gt; datas,HttpServletResponse response){\n\n        System.out.println(datas);\n         JRBeanCollectionDataSource itemsJRBean = new JRBeanCollectionDataSource(datas);\n\n    /* Map to hold Jasper report Parameters */\n    Map&lt;String, Object&gt; parameters = new HashMap&lt;String, Object&gt;();\n    parameters.put(&quot;ItemDataSource&quot;, itemsJRBean);\n\n    byte[] bytes = generatePDFReport(&quot;refclient&quot;, parameters);\n    return ResponseEntity\n              .ok()\n              // Specify content type as PDF\n              .header(&quot;Content-Type&quot;, &quot;application/pdf; charset=UTF-8&quot;)\n              // Tell browser to display PDF if it can\n              .header(&quot;Content-Disposition&quot;, &quot;attachment;inline; filename=\\&quot;client.pdf\\&quot;&quot;)\n              .body(bytes);\n       \n    }\n\n\npublic byte[] generatePDFReport(String inputFileName, Map&lt;String, Object&gt; params) {\n    return generatePDFReport(inputFileName, params, new JREmptyDataSource());\n}\n\n    \npublic File loadJasperFile(String file) {\n    \n    try {\n        return ResourceUtils.getFile(&quot;classpath:static/reports/&quot;+file+&quot;.jasper&quot;);\n    } catch (FileNotFoundException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    };\n    return null;\n}\n\npublic byte[] generatePDFReport(String inputFileName, Map&lt;String, Object&gt; params,\n        JRDataSource dataSource) {\n        byte[] bytes = null;\n        JasperReport jasperReport = null;\n        try (ByteArrayOutputStream byteArray = new ByteArrayOutputStream()) {\n          // Check if a compiled report exists\n\n\n            jasperReport = (JasperReport) JRLoader.loadObject(loadJasperFile(inputFileName));\n          \n          // Compile report from source and save\n       \n          JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, params, dataSource);\n          // return the PDF in bytes\n          bytes = JasperExportManager.exportReportToPdf(jasperPrint);\n        }\n        catch (JRException | IOException e) {\n          e.printStackTrace();\n        }\n        return bytes;\n      }\n\n}\n</code></pre>\n<p>my report is as below</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n    &lt;!-- Created with Jaspersoft Studio version 7.2.0.final using JasperReports Library version 6.6.0  --&gt;\n    &lt;jasperReport xmlns=&quot;http://jasperreports.sourceforge.net/jasperreports&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd&quot; name=&quot;refClient&quot; pageWidth=&quot;595&quot; pageHeight=&quot;842&quot; whenNoDataType=&quot;AllSectionsNoDetail&quot; columnWidth=&quot;555&quot; leftMargin=&quot;20&quot; rightMargin=&quot;20&quot; topMargin=&quot;20&quot; bottomMargin=&quot;20&quot; isIgnorePagination=&quot;true&quot; uuid=&quot;576dcd38-2982-412b-93d5-2a078da1b183&quot;&gt;\n        &lt;property name=&quot;com.jaspersoft.studio.data.defaultdataadapter&quot; value=&quot;One Empty Record&quot;/&gt;\n        &lt;style name=&quot;Table_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\n            &lt;box&gt;\n                &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;/box&gt;\n        &lt;/style&gt;\n        &lt;style name=&quot;Table_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\n            &lt;box&gt;\n                &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;/box&gt;\n        &lt;/style&gt;\n        &lt;style name=&quot;Table_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\n            &lt;box&gt;\n                &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;/box&gt;\n        &lt;/style&gt;\n        &lt;style name=&quot;Table 1_TH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#F0F8FF&quot;&gt;\n            &lt;box&gt;\n                &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;/box&gt;\n        &lt;/style&gt;\n        &lt;style name=&quot;Table 1_CH&quot; mode=&quot;Opaque&quot; backcolor=&quot;#BFE1FF&quot;&gt;\n            &lt;box&gt;\n                &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;/box&gt;\n        &lt;/style&gt;\n        &lt;style name=&quot;Table 1_TD&quot; mode=&quot;Opaque&quot; backcolor=&quot;#FFFFFF&quot;&gt;\n            &lt;box&gt;\n                &lt;pen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;topPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;leftPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;bottomPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n                &lt;rightPen lineWidth=&quot;0.5&quot; lineColor=&quot;#000000&quot;/&gt;\n            &lt;/box&gt;\n        &lt;/style&gt;\n        &lt;subDataset name=&quot;ItemDataset&quot; uuid=&quot;2914f7c6-c2d7-448b-b0c1-090970e18ed6&quot;&gt;\n            &lt;queryString&gt;\n                &lt;![CDATA[]]&gt;\n            &lt;/queryString&gt;\n            &lt;field name=&quot;clientName&quot; class=&quot;java.lang.String&quot;/&gt;\n            &lt;field name=&quot;identifiant&quot; class=&quot;java.lang.String&quot;/&gt;\n            &lt;field name=&quot;codeExterne&quot; class=&quot;java.lang.String&quot;/&gt;\n        &lt;/subDataset&gt;\n        &lt;parameter name=&quot;ItemDataSource&quot; class=&quot;net.sf.jasperreports.engine.data.JRBeanCollectionDataSource&quot;/&gt;\n        &lt;queryString&gt;\n            &lt;![CDATA[select 1 from dual]]&gt;\n        &lt;/queryString&gt;\n        &lt;background&gt;\n            &lt;band splitType=&quot;Stretch&quot;/&gt;\n        &lt;/background&gt;\n        &lt;title&gt;\n            &lt;band height=&quot;50&quot;&gt;\n                &lt;staticText&gt;\n                    &lt;reportElement x=&quot;11&quot; y=&quot;11&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;9d66bc1e-2b6d-49b7-8a64-74fbd2e5d5eb&quot;/&gt;\n                    &lt;text&gt;&lt;![CDATA[Liste des clients]]&gt;&lt;/text&gt;\n                &lt;/staticText&gt;\n            &lt;/band&gt;\n        &lt;/title&gt;\n        &lt;detail&gt;\n            &lt;band height=&quot;256&quot; splitType=&quot;Stretch&quot;&gt;\n                &lt;componentElement&gt;\n                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;555&quot; height=&quot;200&quot; uuid=&quot;7786bb05-503a-4b6a-991a-a7bcf3abad07&quot;&gt;\n                        &lt;property name=&quot;com.jaspersoft.studio.layout&quot; value=&quot;com.jaspersoft.studio.editor.layout.VerticalRowLayout&quot;/&gt;\n                        &lt;property name=&quot;com.jaspersoft.studio.table.style.table_header&quot; value=&quot;Table 1_TH&quot;/&gt;\n                        &lt;property name=&quot;com.jaspersoft.studio.table.style.column_header&quot; value=&quot;Table 1_CH&quot;/&gt;\n                        &lt;property name=&quot;com.jaspersoft.studio.table.style.detail&quot; value=&quot;Table 1_TD&quot;/&gt;\n                    &lt;/reportElement&gt;\n                    &lt;jr:table xmlns:jr=&quot;http://jasperreports.sourceforge.net/jasperreports/components&quot; xsi:schemaLocation=&quot;http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd&quot;&gt;\n                        &lt;datasetRun subDataset=&quot;ItemDataset&quot; uuid=&quot;d3e1e03a-2c83-4436-9e50-79518bc3d337&quot;&gt;\n                            &lt;dataSourceExpression&gt;&lt;![CDATA[$P{ItemDataSource}]]&gt;&lt;/dataSourceExpression&gt;\n                        &lt;/datasetRun&gt;\n                        &lt;jr:column width=&quot;130&quot; uuid=&quot;dca8961f-ce2d-47ac-879c-b15847d170a9&quot;&gt;\n                            &lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Colonne1&quot;/&gt;\n                            &lt;jr:tableHeader style=&quot;Table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                                &lt;staticText&gt;\n                                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;130&quot; height=&quot;30&quot; uuid=&quot;f60d1675-6fb6-4569-93ca-de32b3a8e861&quot;/&gt;\n                                    &lt;box&gt;\n                                        &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                    &lt;/box&gt;\n                                    &lt;text&gt;&lt;![CDATA[Nom]]&gt;&lt;/text&gt;\n                                &lt;/staticText&gt;\n                            &lt;/jr:tableHeader&gt;\n                            &lt;jr:detailCell style=&quot;Table 1_TD&quot; height=&quot;30&quot;&gt;\n                                &lt;textField&gt;\n                                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;130&quot; height=&quot;30&quot; uuid=&quot;f1de366a-b36f-4200-9b1e-7a0009be5373&quot;/&gt;\n                                    &lt;box&gt;\n                                        &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                    &lt;/box&gt;\n                                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{clientName}]]&gt;&lt;/textFieldExpression&gt;\n                                &lt;/textField&gt;\n                            &lt;/jr:detailCell&gt;\n                        &lt;/jr:column&gt;\n                        &lt;jr:column width=&quot;140&quot; uuid=&quot;980fffb5-1088-47a6-b00f-b5d08b7093c9&quot;&gt;\n                            &lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Colonne2&quot;/&gt;\n                            &lt;jr:tableHeader style=&quot;Table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                                &lt;staticText&gt;\n                                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;140&quot; height=&quot;30&quot; uuid=&quot;16679b95-2e6e-4ca1-b8b6-dd7b74267c56&quot;/&gt;\n                                    &lt;box&gt;\n                                        &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                    &lt;/box&gt;\n                                    &lt;text&gt;&lt;![CDATA[Identifiant]]&gt;&lt;/text&gt;\n                                &lt;/staticText&gt;\n                            &lt;/jr:tableHeader&gt;\n                            &lt;jr:detailCell style=&quot;Table 1_TD&quot; height=&quot;30&quot;&gt;\n                                &lt;textField&gt;\n                                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;140&quot; height=&quot;30&quot; uuid=&quot;341e7faf-9680-4941-a9a4-ac78b8f4aae0&quot;/&gt;\n                                    &lt;box&gt;\n                                        &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                    &lt;/box&gt;\n                                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{identifiant}]]&gt;&lt;/textFieldExpression&gt;\n                                &lt;/textField&gt;\n                            &lt;/jr:detailCell&gt;\n                        &lt;/jr:column&gt;\n                        &lt;jr:column width=&quot;100&quot; uuid=&quot;761d1134-6b53-4b5d-9355-b44586d8d8aa&quot;&gt;\n                            &lt;property name=&quot;com.jaspersoft.studio.components.table.model.column.name&quot; value=&quot;Colonne3&quot;/&gt;\n                            &lt;jr:tableHeader style=&quot;Table 1_TH&quot; height=&quot;30&quot; rowSpan=&quot;1&quot;&gt;\n                                &lt;staticText&gt;\n                                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;b07f5db5-1df8-48e9-a612-27ad6110fdcd&quot;/&gt;\n                                    &lt;box&gt;\n                                        &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                    &lt;/box&gt;\n                                    &lt;text&gt;&lt;![CDATA[Code]]&gt;&lt;/text&gt;\n                                &lt;/staticText&gt;\n                            &lt;/jr:tableHeader&gt;\n                            &lt;jr:detailCell style=&quot;Table 1_TD&quot; height=&quot;30&quot;&gt;\n                                &lt;textField&gt;\n                                    &lt;reportElement x=&quot;0&quot; y=&quot;0&quot; width=&quot;100&quot; height=&quot;30&quot; uuid=&quot;1e0438b1-82e5-429a-b63a-5349014cf84a&quot;/&gt;\n                                    &lt;box&gt;\n                                        &lt;topPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;leftPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;bottomPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                        &lt;rightPen lineWidth=&quot;1.0&quot; lineStyle=&quot;Solid&quot; lineColor=&quot;#000000&quot;/&gt;\n                                    &lt;/box&gt;\n                                    &lt;textFieldExpression&gt;&lt;![CDATA[$F{codeExterne}]]&gt;&lt;/textFieldExpression&gt;\n                                &lt;/textField&gt;\n                            &lt;/jr:detailCell&gt;\n                        &lt;/jr:column&gt;\n                    &lt;/jr:table&gt;\n                &lt;/componentElement&gt;\n            &lt;/band&gt;\n        &lt;/detail&gt;\n    &lt;/jasperReport&gt;\n</code></pre>\n<p>as you see I'm using a parameters where I send a jrcollection, this is used in a tutorial that I found on YouTube.</p>\n<p>for the response handling I have this js ajax call</p>\n<pre><code>$(document).on('click', '#menu0-func1-menu0-func1', function(){\n        console.log(printData);\n        var jsonData =JSON.parse(JSON.stringify(printData));\n            var settings = {\n                &quot;async&quot; : true,\n                &quot;crossDomain&quot; : true,\n                &quot;url&quot; : &quot;http://&quot;+document.location.host+&quot;/facturation/print/client&quot;,\n                &quot;method&quot; : &quot;POST&quot;,\n                &quot;headers&quot; : {\n                    &quot;cache-control&quot; : &quot;no-cache&quot;,\n                    'X-CSRF-TOKEN': $('meta[name=&quot;csrf-token&quot;]').attr('content')\n                },\n                &quot;processData&quot; : false,\n                &quot;contentType&quot; : &quot;application/json&quot;,\n                &quot;dataType&quot; : &quot;text&quot;,\n                &quot;data&quot; : JSON.stringify(printData)\n            }\n\n            $.ajax(settings).done(function(response, status, xhr) {\n                console.log(response);\n                  \n                // check for a filename\n                var filename = &quot;&quot;;\n                var disposition = xhr.getResponseHeader('Content-Disposition');\n                if (disposition &amp;&amp; disposition.indexOf('attachment') !== -1) {\n                    var filenameRegex = /filename[^;=\\n]*=((['&quot;]).*?\\2|[^;\\n]*)/;\n                    var matches = filenameRegex.exec(disposition);\n                    if (matches != null &amp;&amp; matches[1]) filename = matches[1].replace(/['&quot;]/g, '');\n                }\n\n                var type = xhr.getResponseHeader('Content-Type');\n                var blob = new Blob([response], { type: type });\n\n                if (typeof window.navigator.msSaveBlob !== 'undefined') {\n                    // IE workaround for &quot;HTML7007: One or more blob URLs were revoked by closing the blob for which they were created. These URLs will no longer resolve as the data backing the URL has been freed.&quot;\n                    window.navigator.msSaveBlob(blob, filename);\n                } else {\n                    var URL = window.URL || window.webkitURL;\n                    var downloadUrl = URL.createObjectURL(blob);\n\n                    if (filename) {\n                        // use HTML5 a[download] attribute to specify filename\n                        var a = document.createElement(&quot;a&quot;);\n                        // safari doesn't support this yet\n                        if (typeof a.download === 'undefined') {\n                            window.location = downloadUrl;\n                        } else {\n                            a.href = downloadUrl;\n                            a.download = filename;\n                            document.body.appendChild(a);\n                            a.click();\n                        }\n                    } else {\n                        window.location = downloadUrl;\n                    }\n\n                    setTimeout(function () { URL.revokeObjectURL(downloadUrl); }, 100); // cleanup\n                }\n            \n            });\n    });\n</code></pre>\n<p>there is no exception, Normally I should at least get the title of the report but I m getting an empty pdf page</p>\n<p>here is my console log in Chrome</p>\n<pre><code>    %PDF-1.5\n    %����\n    3 0 obj\n    &lt;&lt;/Filter/FlateDecode/Length 882&gt;&gt;stream\n    x���[O1���W��&gt;�z|�M^i�J�B�T��e�Q��`����zJc�����}|2_���hU�R,d)Vuq�*�J�u!�W�{a�X�w' @�US�Y�t��D��ޤ�)�e��Ӧ8��m�ע^���n��n�#���9��O�\\�ג�K��Rֺw�����\n    �r��59��&gt;/� 0^���r�`ޙ�ֈ�h�!�`�/���5�KƆ��Yb�\\\n    #��1hP�\n    �ďK.fYyk?���%�6T�!�}�˾(j�on7����M���?F6���V��F�M^&amp;�IjywI�h��������WV1d���L2N�w��̦%�E�c�B��I��єB�R��b!�2�f���d=*�I�����&quot;�KB�&quot;\n    ��᳍&amp;�������ֲX�df2��C&quot;�zf�#)Ό�wLJ��F����аH��E#\n    ��%/!b=��,�&quot;y�XKyA˿��e\n    endstream\n    endobj\n    1 0 obj\n    &lt;&lt;/Tabs/S/Group&lt;&lt;/S/Transparency/Type/Group/CS/DeviceRGB&gt;&gt;/Contents 3 0 R/Type/Page/Resources&lt;&lt;/ColorSpace&lt;&lt;/CS/DeviceRGB&gt;&gt;/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]/Font&lt;&lt;/F1 2 0 R&gt;&gt;&gt;&gt;/Parent 4 0 R/MediaBox[0 0 595 842]&gt;&gt;\n    endobj\n    5 0 obj\n    [1 0 R/XYZ 0 852 0]\n    endobj\n    2 0 obj\n    &lt;&lt;/Subtype/Type1/Type/Font/BaseFont/Helvetica/Encoding/WinAnsiEncoding&gt;&gt;\n    endobj\n    4 0 obj\n    &lt;&lt;/Kids[1 0 R]/Type/Pages/Count 1/ITXT(2.1.7)&gt;&gt;\n    endobj\n    6 0 obj\n    &lt;&lt;/Names[(JR_PAGE_ANCHOR_0_1) 5 0 R]&gt;&gt;\n    endobj\n    7 0 obj\n    &lt;&lt;/Dests 6 0 R&gt;&gt;\n    endobj\n    8 0 obj\n    &lt;&lt;/Names 7 0 R/Type/Catalog/Pages 4 0 R/ViewerPreferences&lt;&lt;/PrintScaling/AppDefault&gt;&gt;&gt;&gt;\n    endobj\n    9 0 obj\n    &lt;&lt;/ModDate(D:20181123161409Z)/Creator(JasperReports Library version 6.4.0)/CreationDate(D:20181123161409Z)/Producer(iText 2.1.7 by 1T3XT)&gt;&gt;\n    endobj\n    xref\n    0 10\n    0000000000 65535 f \n    0000000964 00000 n \n    0000001240 00000 n \n    0000000015 00000 n \n    0000001328 00000 n \n    0000001205 00000 n \n    0000001391 00000 n \n    0000001445 00000 n \n    0000001477 00000 n \n    0000001580 00000 n \n    trailer\n    &lt;&lt;/Info 9 0 R/ID [&lt;b7d27a6f96e6278f5c1d222f79d7c999&gt;&lt;b97ae89e1e568703aeb75af2080d04d8&gt;]/Root 8 0 R/Size 10&gt;&gt;\n    startxref\n    1735\n    %%EOF\n</code></pre>\n<p>What to do, I tried lot of tutorials this 3 last days but no success</p>\n<p><strong>edit</strong></p>\n<p>I generated the pdf using <code>JasperExportManager.exportReportToPdfFile(jasperPrint, &quot;rapport.pdf&quot;);</code> and the pdf file is well formed that is there, I compared the txt representation of this well pdf with the received log, they are the same, my empty pdf is 3kb and the well formed is also 3kb.</p>\n"},{"tags":["c#","java",".net","string"],"answers":[{"tags":[],"owner":{"account_id":24377,"reputation":818073,"user_id":61974,"display_name":"Mark Byers"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1285009625,"creation_date":1285009625,"answer_id":3754629,"question_id":3754597,"body_markdown":"There is a [`String.format`][1] in Java, although the syntax is a little different from in .NET.\r\n\r\n[1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#format%28java.util.Locale,%20java.lang.String,%20java.lang.Object...%29","title":"Java Equivalent to .NET&#39;s String.Format","body":"<p>There is a <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#format%28java.util.Locale,%20java.lang.String,%20java.lang.Object...%29\" rel=\"noreferrer\"><code>String.format</code></a> in Java, although the syntax is a little different from in .NET.</p>\n"},{"tags":[],"owner":{"account_id":28507,"reputation":214235,"user_id":76217,"accept_rate":96,"display_name":"dtb"},"comment_count":0,"down_vote_count":3,"up_vote_count":34,"is_accepted":true,"score":31,"last_activity_date":1285009945,"creation_date":1285009945,"answer_id":3754684,"question_id":3754597,"body_markdown":"Have a look at the [String.format][1] and [PrintStream.format][2] methods.\r\n\r\nBoth are based on the [java.util.Formatter class][3].\r\n\r\n**String.format example:**\r\n\r\n    Calendar c = new GregorianCalendar(1995, MAY, 23);\r\n    String s = String.format(&quot;Duke&#39;s Birthday: %1$tm %1$te,%1$tY&quot;, c);\r\n    // -&gt; s == &quot;Duke&#39;s Birthday: May 23, 1995&quot;\r\n\r\n**System.out.format example:**\r\n\r\n    // Writes a formatted string to System.out.\r\n    System.out.format(&quot;Local time: %tT&quot;, Calendar.getInstance());\r\n    // -&gt; &quot;Local time: 13:34:18&quot;\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html\r\n  [2]: http://download.oracle.com/javase/7/docs/api/java/io/PrintStream.html\r\n  [3]: http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html","title":"Java Equivalent to .NET&#39;s String.Format","body":"<p>Have a look at the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html\" rel=\"noreferrer\">String.format</a> and <a href=\"http://download.oracle.com/javase/7/docs/api/java/io/PrintStream.html\" rel=\"noreferrer\">PrintStream.format</a> methods.</p>\n\n<p>Both are based on the <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html\" rel=\"noreferrer\">java.util.Formatter class</a>.</p>\n\n<p><strong>String.format example:</strong></p>\n\n<pre><code>Calendar c = new GregorianCalendar(1995, MAY, 23);\nString s = String.format(\"Duke's Birthday: %1$tm %1$te,%1$tY\", c);\n// -&gt; s == \"Duke's Birthday: May 23, 1995\"\n</code></pre>\n\n<p><strong>System.out.format example:</strong></p>\n\n<pre><code>// Writes a formatted string to System.out.\nSystem.out.format(\"Local time: %tT\", Calendar.getInstance());\n// -&gt; \"Local time: 13:34:18\"\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1014745,"reputation":5245,"user_id":1026567,"accept_rate":80,"display_name":"skeryl"},"score":23,"creation_date":1328066610,"post_id":5437830,"comment_id":11415757,"body_markdown":"I knew there was a reason I like C# much, much better! Maybe it&#39;s because C# is the first language I learned, but the Java version looks contrived.","body":"I knew there was a reason I like C# much, much better! Maybe it&#39;s because C# is the first language I learned, but the Java version looks contrived."},{"owner":{"account_id":8408,"reputation":10034,"user_id":15139,"accept_rate":69,"display_name":"rpattabi"},"score":1,"creation_date":1425515939,"post_id":5437830,"comment_id":46000295,"body_markdown":"The main reason C# looks cleaner is, it is newer language compared to Java. Syntactic sugar wasn&#39;t big those days (until Ruby came into prominence?).","body":"The main reason C# looks cleaner is, it is newer language compared to Java. Syntactic sugar wasn&#39;t big those days (until Ruby came into prominence?)."},{"owner":{"account_id":8154165,"reputation":204,"user_id":6140277,"display_name":"Zintom"},"score":0,"creation_date":1610289081,"post_id":5437830,"comment_id":116079711,"body_markdown":"It&#39;s prettier to concatenate the strings in Java, why did they make the syntax so complicated for such a commonly used function!","body":"It&#39;s prettier to concatenate the strings in Java, why did they make the syntax so complicated for such a commonly used function!"}],"tags":[],"owner":{"account_id":97574,"reputation":1974,"user_id":264609,"display_name":"Oscar Boykin"},"comment_count":3,"down_vote_count":1,"up_vote_count":126,"is_accepted":false,"score":125,"last_activity_date":1301085170,"creation_date":1301085170,"answer_id":5437830,"question_id":3754597,"body_markdown":"The 10 cent answer to this is:\r\n\r\nC#&#39;s\r\n&lt;pre&gt;&lt;code&gt;\r\nString.Format(&quot;{0} -- {1} -- {2}&quot;, ob1, ob2, ob3)\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nis equivalent to Java&#39;s\r\n&lt;pre&gt;&lt;code&gt;\r\nString.format(&quot;%1$s -- %2$s -- %3$s&quot;, ob1, ob2, ob3)\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nNote the 1-based index, and the &quot;s&quot; means to convert to string using .toString().  There are many other conversions available and formatting options:\r\n\r\nhttp://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax\r\n","title":"Java Equivalent to .NET&#39;s String.Format","body":"<p>The 10 cent answer to this is:</p>\n\n<p>C#'s</p>\n\n<pre><code>\nString.Format(\"{0} -- {1} -- {2}\", ob1, ob2, ob3)\n</code></pre>\n\n<p>is equivalent to Java's</p>\n\n<pre><code>\nString.format(\"%1$s -- %2$s -- %3$s\", ob1, ob2, ob3)\n</code></pre>\n\n<p>Note the 1-based index, and the \"s\" means to convert to string using .toString().  There are many other conversions available and formatting options:</p>\n\n<p><a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax\">http://download.oracle.com/javase/1.5.0/docs/api/java/util/Formatter.html#syntax</a></p>\n"},{"comments":[{"owner":{"account_id":85272,"reputation":20426,"user_id":237858,"accept_rate":86,"display_name":"nikib3ro"},"score":4,"creation_date":1361312869,"post_id":10977910,"comment_id":21016547,"body_markdown":"Just note that MessageFormat.format doesn&#39;t EXACTLY work the same, for example this: MessageFormat.format(&quot;&lt;font color=&#39;{0}&#39;&gt;{1}&lt;/font&gt;&quot;, &quot;#112233&quot;, &quot;Something&quot;) will return &quot;&lt;font color={0}&gt;Something&lt;/font&gt;&quot;. As you guessed, the problem is &#39; char - you rather need to supply: &quot;&lt;font color=\\&quot;{0}\\&quot;&gt;{1}&lt;/font&gt;&quot;. Read for [MessageFormat class guide](http://developer.android.com/reference/java/text/MessageFormat.html) for more.","body":"Just note that MessageFormat.format doesn&#39;t EXACTLY work the same, for example this: MessageFormat.format(&quot;&lt;font color=&#39;{0}&#39;&gt;{1}&lt;/font&gt;&quot;, &quot;#112233&quot;, &quot;Something&quot;) will return &quot;&lt;font color={0}&gt;Something&lt;/font&gt;&quot;. As you guessed, the problem is &#39; char - you rather need to supply: &quot;&lt;font color=\\&quot;{0}\\&quot;&gt;{1}&lt;/font&gt;&quot;. Read for <a href=\"http://developer.android.com/reference/java/text/MessageFormat.html\" rel=\"nofollow noreferrer\">MessageFormat class guide</a> for more."}],"tags":[],"owner":{"account_id":41407,"reputation":4734,"user_id":120309,"accept_rate":100,"display_name":"MrSnowflake"},"comment_count":1,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1339408644,"creation_date":1339408644,"answer_id":10977910,"question_id":3754597,"body_markdown":"There is `MessageFormat.format()` which uses the .net notation.","title":"Java Equivalent to .NET&#39;s String.Format","body":"<p>There is <code>MessageFormat.format()</code> which uses the .net notation.</p>\n"},{"tags":[],"owner":{"account_id":70909,"reputation":8240,"user_id":205210,"accept_rate":96,"display_name":"Nicolas Guillaume"},"comment_count":0,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1669049969,"creation_date":1358878389,"answer_id":14465278,"question_id":3754597,"body_markdown":"You can also simply use `%s` for string, since the index is an optional argument.\r\n\r\n    String name = &quot;Jon&quot;;\r\n    int age = 26;\r\n    String.format(&quot;%s is %s years old.&quot;, name, age);\r\n\r\nThe above example looks cleaner in my opinion.\r\n\r\nA note about `%s` from the java documentation:\r\n\r\n&gt; If the argument arg is null, then the result is &quot;null&quot;. If arg\r\n&gt; implements Formattable, then arg.formatTo is invoked. Otherwise, the\r\n&gt; result is obtained by invoking arg.toString().","title":"Java Equivalent to .NET&#39;s String.Format","body":"<p>You can also simply use <code>%s</code> for string, since the index is an optional argument.</p>\n<pre><code>String name = &quot;Jon&quot;;\nint age = 26;\nString.format(&quot;%s is %s years old.&quot;, name, age);\n</code></pre>\n<p>The above example looks cleaner in my opinion.</p>\n<p>A note about <code>%s</code> from the java documentation:</p>\n<blockquote>\n<p>If the argument arg is null, then the result is &quot;null&quot;. If arg\nimplements Formattable, then arg.formatTo is invoked. Otherwise, the\nresult is obtained by invoking arg.toString().</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":92694,"reputation":11510,"user_id":253938,"accept_rate":81,"display_name":"RenniePet"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1444657068,"creation_date":1444657068,"answer_id":33082614,"question_id":3754597,"body_markdown":"This isn&#39;t really an answer to the OP&#39;s question, but may be helpful to others who are looking for a simple way of performing substitution of strings into a string containing C#-style &quot;format items&quot;.\r\n\r\n       /**\r\n        * Method to &quot;format&quot; an array of objects as a single string, performing two possible kinds of\r\n        * formatting:\r\n        *\r\n        * 1. If the first object in the array is a String, and depending on the number of objects in the\r\n        *    array, then a very simplified and simple-minded C#-style formatting is done. Format items\r\n        *    &quot;{0}&quot;, &quot;{1}&quot;, etc., are replaced by the corresponding following object, converted to string\r\n        *    (of course). These format items must be as shown, with no fancy formatting tags, and only\r\n        *    simple string substitution is done.\r\n        *\r\n        * 2. For the objects in the array that do not get processed by point 1 (perhaps all of them,\r\n        *    perhaps none) they are converted to String and concatenated together with &quot; - &quot; in between.\r\n        *\r\n        * @param objectsToFormat  Number of objects in the array to process/format.\r\n        * @param arrayOfObjects  Objects to be formatted, or at least the first objectsToFormat of them.\r\n        * @return  Formatted string, as described above.\r\n        */\r\n       public static String formatArrayOfObjects(int objectsToFormat, Object... arrayOfObjects) {\r\n    \r\n          // Make a preliminary pass to avoid problems with nulls\r\n          for (int i = 0; i &lt; objectsToFormat; i++) {\r\n             if (arrayOfObjects[i] == null) {\r\n                arrayOfObjects[i] = &quot;null&quot;;\r\n             }\r\n          }\r\n    \r\n          // If only one object, just return it as a string\r\n          if (objectsToFormat == 1) {\r\n             return arrayOfObjects[0].toString();\r\n          }\r\n    \r\n          int nextObject = 0;\r\n          StringBuilder stringBuilder = new StringBuilder();\r\n    \r\n          // If first object is a string it is necessary to (maybe) perform C#-style formatting\r\n          if (arrayOfObjects[0] instanceof String) {\r\n             String s = (String) arrayOfObjects[0];\r\n    \r\n             while (nextObject &lt; objectsToFormat) {\r\n    \r\n                String formatItem = &quot;{&quot; + nextObject + &quot;}&quot;;\r\n                nextObject++;\r\n                if (!s.contains(formatItem)) {\r\n                   break;\r\n                }\r\n    \r\n                s = s.replace(formatItem, arrayOfObjects[nextObject].toString());\r\n             }\r\n    \r\n             stringBuilder.append(s);\r\n          }\r\n    \r\n          // Remaining objects (maybe all of them, maybe none) are concatenated together with &quot; - &quot;\r\n          for (; nextObject &lt; objectsToFormat; nextObject++) {\r\n             if (nextObject &gt; 0) {\r\n                stringBuilder.append(&quot; - &quot;);\r\n             }\r\n             stringBuilder.append(arrayOfObjects[nextObject].toString());\r\n          }\r\n    \r\n          return stringBuilder.toString();\r\n       }\r\n\r\n(And in case you&#39;re curious, I&#39;m using this code as part of a simple wrapper for the Android Log methods, to make it easier to log multiple things in a single log message.)\r\n\r\n","title":"Java Equivalent to .NET&#39;s String.Format","body":"<p>This isn't really an answer to the OP's question, but may be helpful to others who are looking for a simple way of performing substitution of strings into a string containing C#-style \"format items\".</p>\n\n<pre><code>   /**\n    * Method to \"format\" an array of objects as a single string, performing two possible kinds of\n    * formatting:\n    *\n    * 1. If the first object in the array is a String, and depending on the number of objects in the\n    *    array, then a very simplified and simple-minded C#-style formatting is done. Format items\n    *    \"{0}\", \"{1}\", etc., are replaced by the corresponding following object, converted to string\n    *    (of course). These format items must be as shown, with no fancy formatting tags, and only\n    *    simple string substitution is done.\n    *\n    * 2. For the objects in the array that do not get processed by point 1 (perhaps all of them,\n    *    perhaps none) they are converted to String and concatenated together with \" - \" in between.\n    *\n    * @param objectsToFormat  Number of objects in the array to process/format.\n    * @param arrayOfObjects  Objects to be formatted, or at least the first objectsToFormat of them.\n    * @return  Formatted string, as described above.\n    */\n   public static String formatArrayOfObjects(int objectsToFormat, Object... arrayOfObjects) {\n\n      // Make a preliminary pass to avoid problems with nulls\n      for (int i = 0; i &lt; objectsToFormat; i++) {\n         if (arrayOfObjects[i] == null) {\n            arrayOfObjects[i] = \"null\";\n         }\n      }\n\n      // If only one object, just return it as a string\n      if (objectsToFormat == 1) {\n         return arrayOfObjects[0].toString();\n      }\n\n      int nextObject = 0;\n      StringBuilder stringBuilder = new StringBuilder();\n\n      // If first object is a string it is necessary to (maybe) perform C#-style formatting\n      if (arrayOfObjects[0] instanceof String) {\n         String s = (String) arrayOfObjects[0];\n\n         while (nextObject &lt; objectsToFormat) {\n\n            String formatItem = \"{\" + nextObject + \"}\";\n            nextObject++;\n            if (!s.contains(formatItem)) {\n               break;\n            }\n\n            s = s.replace(formatItem, arrayOfObjects[nextObject].toString());\n         }\n\n         stringBuilder.append(s);\n      }\n\n      // Remaining objects (maybe all of them, maybe none) are concatenated together with \" - \"\n      for (; nextObject &lt; objectsToFormat; nextObject++) {\n         if (nextObject &gt; 0) {\n            stringBuilder.append(\" - \");\n         }\n         stringBuilder.append(arrayOfObjects[nextObject].toString());\n      }\n\n      return stringBuilder.toString();\n   }\n</code></pre>\n\n<p>(And in case you're curious, I'm using this code as part of a simple wrapper for the Android Log methods, to make it easier to log multiple things in a single log message.)</p>\n"}],"owner":{"account_id":16675,"reputation":70063,"user_id":36590,"accept_rate":71,"display_name":"BuddyJoe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31938,"favorite_count":0,"down_vote_count":0,"up_vote_count":63,"accepted_answer_id":3754684,"answer_count":6,"score":63,"last_activity_date":1669049969,"creation_date":1285009426,"question_id":3754597,"body_markdown":"Is there an equivalent to .NET&#39;s `String.Format` in Java?","title":"Java Equivalent to .NET&#39;s String.Format","body":"<p>Is there an equivalent to .NET's <code>String.Format</code> in Java?</p>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":2,"creation_date":1389323593,"post_id":21035536,"comment_id":31623625,"body_markdown":"What you&#39;re looking for is interface default implementations, which will be available in Java 8.","body":"What you&#39;re looking for is interface default implementations, which will be available in Java 8."},{"owner":{"account_id":3536284,"reputation":662,"user_id":2954509,"accept_rate":25,"display_name":"johnsoe"},"score":0,"creation_date":1389372729,"post_id":21035536,"comment_id":31648987,"body_markdown":"Yup that should do it. Thanks!","body":"Yup that should do it. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":3768354,"reputation":7981,"user_id":3131203,"accept_rate":50,"display_name":"keshlam"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669049723,"creation_date":1389325524,"answer_id":21035870,"question_id":21035536,"body_markdown":"Shared behavior can be moved to a superclass. If you can&#39;t modify Card for some reason, you can introduce another level of inheritance -- in my environment we&#39;d typically call it something like BaseCard -- which either implements all the methods of Card (you can override them again in the specific card classes) or which is an `abstract class` so it can just implement the shared behaviors and leaves the others to be implemented by classes derived from it. Then your actual CardA, CardB, etcetera would extended BaseCard, which would also make them Cards.\r\n\r\n(Note that you almost answered this yourself when you used the word &quot;abstract&quot;. When there&#39;s shared behavior you want to factor out, another layer of inheritance is one way to do it, and abstract classes are a good way to keep that relatively easy and make it clear that you don&#39;t intend them to be used directly.)\r\n\r\nThe other solution would be delegation -- change the is-a relationship to has-a, have each card own an instance of a utility class which provides the shared functionality, and have the card&#39;s methods call methods on that utility class to do the job. Again, that lets you factor out a set of logic, but this operates entirely independently of inheritance. It&#39;s a bit less efficient, but it&#39;s a perfectly reasonable solution. And if you need to pick up behavior from several different classes it&#39;s the only solution, since Java only allows multiple inheritance for interfaces, not for classes (even if they&#39;re abstract) -- one superclass (with whatever inheritance it has), plus as many interfaces as make sense.\r\n\r\n(If you want to know why Java had that restriction, look up &quot;diamond inheritance&quot;. The simple answer is that it can get very messy very quickly, and even in languages which support it people often wind up using something more like Java&#39;s single-inheritance-plus-interfaces-plus-delegation model.)","title":"Remove redundant implementations of an interface without using inheritance","body":"<p>Shared behavior can be moved to a superclass. If you can't modify Card for some reason, you can introduce another level of inheritance -- in my environment we'd typically call it something like BaseCard -- which either implements all the methods of Card (you can override them again in the specific card classes) or which is an <code>abstract class</code> so it can just implement the shared behaviors and leaves the others to be implemented by classes derived from it. Then your actual CardA, CardB, etcetera would extended BaseCard, which would also make them Cards.</p>\n<p>(Note that you almost answered this yourself when you used the word &quot;abstract&quot;. When there's shared behavior you want to factor out, another layer of inheritance is one way to do it, and abstract classes are a good way to keep that relatively easy and make it clear that you don't intend them to be used directly.)</p>\n<p>The other solution would be delegation -- change the is-a relationship to has-a, have each card own an instance of a utility class which provides the shared functionality, and have the card's methods call methods on that utility class to do the job. Again, that lets you factor out a set of logic, but this operates entirely independently of inheritance. It's a bit less efficient, but it's a perfectly reasonable solution. And if you need to pick up behavior from several different classes it's the only solution, since Java only allows multiple inheritance for interfaces, not for classes (even if they're abstract) -- one superclass (with whatever inheritance it has), plus as many interfaces as make sense.</p>\n<p>(If you want to know why Java had that restriction, look up &quot;diamond inheritance&quot;. The simple answer is that it can get very messy very quickly, and even in languages which support it people often wind up using something more like Java's single-inheritance-plus-interfaces-plus-delegation model.)</p>\n"}],"owner":{"account_id":3536284,"reputation":662,"user_id":2954509,"accept_rate":25,"display_name":"johnsoe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":777,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669049723,"creation_date":1389323375,"question_id":21035536,"body_markdown":"I have a design problem that I can&#39;t seem to figure out. I am implementing a card game and I am struggling with how to organize the structure of the cards. Every card in the game has some shared behavior which means Card should be the base class. \r\n\r\nHowever, each card can be either a Coin, Mana, or Health card. On top of that any Card could be a combination of these three types. My original thought was to make Coin, Mana, and Health each an interface and then I would be able to implement any Card with the relevent interfaces like so:\r\n\r\n\tpublic class SomeCard extends Card implements Coin, Mana {\r\n\r\n\t}\r\n\r\nThrough this way all inherited classes would have the base Card behavior and implement the necessary behavior. The problem arises from the fact that there is some shared behavior within each of the three interfaces. For example with Coin there is a getWorth() function that is essentially the same for all Coin Cards. If I have the same exact function &amp; implementation then there should be a way to abstract out the redundancy. This is just one example of the redundancy.\r\n\r\n\tpublic class CardA extends Card implements Coin {\r\n\t\tpublic int getWorth(){\r\n\t\t\treturn worth;\r\n\t\t}\r\n\r\n\t\t//Other inherited or implemented methods\r\n\t}\r\n\r\n\tpublic class CardB extends Card implements Coin, Health {\r\n\r\n\t\tpublic int getWorth(){\r\n\t\t\treturn worth;\r\n\t\t}\r\n\r\n\t\t//Other inherited or implemented methods\r\n\t}\r\n\r\nUnfortunately since Coin is an interface there is no way to reduce this redundancy across all the cards. Is there a way to remove that redundant code while also applying a Coin, Mana, Health type or some combination of those? \r\n\r\nI want to avoid something like this:\r\n\r\n\tpublic class SomeCard extends CoinManaCard {\r\n\r\n\t}\r\n\r\nI think the above would be a really poor implementation because whenever a new type is added there would be many more combinations of types and the maintenance would be significant. \r\n\r\nThanks for the help in advance!","title":"Remove redundant implementations of an interface without using inheritance","body":"<p>I have a design problem that I can't seem to figure out. I am implementing a card game and I am struggling with how to organize the structure of the cards. Every card in the game has some shared behavior which means Card should be the base class. </p>\n\n<p>However, each card can be either a Coin, Mana, or Health card. On top of that any Card could be a combination of these three types. My original thought was to make Coin, Mana, and Health each an interface and then I would be able to implement any Card with the relevent interfaces like so:</p>\n\n<pre><code>public class SomeCard extends Card implements Coin, Mana {\n\n}\n</code></pre>\n\n<p>Through this way all inherited classes would have the base Card behavior and implement the necessary behavior. The problem arises from the fact that there is some shared behavior within each of the three interfaces. For example with Coin there is a getWorth() function that is essentially the same for all Coin Cards. If I have the same exact function &amp; implementation then there should be a way to abstract out the redundancy. This is just one example of the redundancy.</p>\n\n<pre><code>public class CardA extends Card implements Coin {\n    public int getWorth(){\n        return worth;\n    }\n\n    //Other inherited or implemented methods\n}\n\npublic class CardB extends Card implements Coin, Health {\n\n    public int getWorth(){\n        return worth;\n    }\n\n    //Other inherited or implemented methods\n}\n</code></pre>\n\n<p>Unfortunately since Coin is an interface there is no way to reduce this redundancy across all the cards. Is there a way to remove that redundant code while also applying a Coin, Mana, Health type or some combination of those? </p>\n\n<p>I want to avoid something like this:</p>\n\n<pre><code>public class SomeCard extends CoinManaCard {\n\n}\n</code></pre>\n\n<p>I think the above would be a really poor implementation because whenever a new type is added there would be many more combinations of types and the maintenance would be significant. </p>\n\n<p>Thanks for the help in advance!</p>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669045290,"post_id":74521382,"comment_id":131547988,"body_markdown":"I think you almost have it, but you&#39;re trying to put the entire old map into each key of the new map - instead you should only add what you get by looking up that particular key.","body":"I think you almost have it, but you&#39;re trying to put the entire old map into each key of the new map - instead you should only add what you get by looking up that particular key."},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1669045306,"post_id":74521382,"comment_id":131547997,"body_markdown":"Since a HashMap has no defined order asking if you can add anything to it &quot;in the same order&quot; doesn&#39;t make much sense.","body":"Since a HashMap has no defined order asking if you can add anything to it &quot;in the same order&quot; doesn&#39;t make much sense."},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669045358,"post_id":74521382,"comment_id":131548017,"body_markdown":"Also it would be cleaner to iterate over the keys and values instead of using a for loop. In general for looping over indices like that is a discouraged practice in modern programming.","body":"Also it would be cleaner to iterate over the keys and values instead of using a for loop. In general for looping over indices like that is a discouraged practice in modern programming."},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1669045522,"post_id":74521382,"comment_id":131548097,"body_markdown":"@EdwardPeters so I could just say l.put(BinaryTreeNode, map.keyset())?","body":"@EdwardPeters so I could just say l.put(BinaryTreeNode, map.keyset())?"},{"owner":{"display_name":"user18984687"},"score":0,"creation_date":1669045580,"post_id":74521382,"comment_id":131548117,"body_markdown":"@OHGODSPIDERS what I meant was like add the values for every key correctly despite the change in data type. I&#39;m not sure if changing the data type would change the value or not","body":"@OHGODSPIDERS what I meant was like add the values for every key correctly despite the change in data type. I&#39;m not sure if changing the data type would change the value or not"},{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669045703,"post_id":74521382,"comment_id":131548161,"body_markdown":"` l.put(BinaryTreeNode, map.keyset())` doesn&#39;t make any sense - give me a sec, I&#39;ll write up a more thorough answer.","body":"` l.put(BinaryTreeNode, map.keyset())` doesn&#39;t make any sense - give me a sec, I&#39;ll write up a more thorough answer."},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1669046030,"post_id":74521382,"comment_id":131548292,"body_markdown":"@Droid Then why not just Iterate over the entrySet? A simple `for(Entry&lt;Integer, Integer&gt; entry : map.entrySet())` loop and then you can get the key and value via `entry.getKey();` and `entry.getValue();` (And do something like `l.put(new BinaryTreeNode(entry.getKey()), entry.getValue());` to fill your new map)","body":"@Droid Then why not just Iterate over the entrySet? A simple <code>for(Entry&lt;Integer, Integer&gt; entry : map.entrySet())</code> loop and then you can get the key and value via <code>entry.getKey();</code> and <code>entry.getValue();</code> (And do something like <code>l.put(new BinaryTreeNode(entry.getKey()), entry.getValue());</code> to fill your new map)"}],"answers":[{"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669045585,"creation_date":1669045585,"answer_id":74521489,"question_id":74521382,"body_markdown":"If you need to maintain insertion order, you would need to create LinkedHashMap. HashMap doesn&#39;t gaurantee order.\r\n\r\n      LinkedHashMap&lt;BinaryTreeNode, Integer&gt; l = new LinkedHashMap&lt;&gt;();\r\nIt works like a HashMap but preserves order.","title":"Is it possible to add just the values of a HashMap into another HashMap?","body":"<p>If you need to maintain insertion order, you would need to create LinkedHashMap. HashMap doesn't gaurantee order.</p>\n<pre><code>  LinkedHashMap&lt;BinaryTreeNode, Integer&gt; l = new LinkedHashMap&lt;&gt;();\n</code></pre>\n<p>It works like a HashMap but preserves order.</p>\n"},{"comments":[{"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"score":0,"creation_date":1669048944,"post_id":74521634,"comment_id":131549356,"body_markdown":"Thanks, editted those in.","body":"Thanks, editted those in."}],"tags":[],"owner":{"account_id":7971577,"reputation":3673,"user_id":6016064,"accept_rate":71,"display_name":"Edward Peters"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669049591,"creation_date":1669046314,"answer_id":74521634,"question_id":74521382,"body_markdown":"First, some notes on what you have:\r\n\r\n```\r\npublic static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\r\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\r\n    for (int i = 0; i &lt; map.keySet().size(); i++){\r\n      BinaryTreeNode node = new BinaryTreeNode(i);\r\n      l.put(node, map.values());\r\n    }\r\n```\r\n\r\n`BinaryTreeNode node = new BinaryTreeNode(i);`\r\nIs probably wrong - `i` is just the index, which doesn&#39;t really mean anything as HashMaps aren&#39;t ordered in any defined way.\r\n\r\n`l.put(node, map.values());` Is also wrong - here the value you&#39;re inserting is the entire original map.\r\n\r\nYou could save your current code by converting the keyset to an indexible structure (like a list - it&#39;s currently a set), and then grabbing the key at that index, converting it to a `BinaryTreeNode`, looking up the value associated with they key in the old map, and then adding both. \r\n\r\nI probably have some syntax errors (I&#39;m not in front of a compiler), but that would look something like:\r\n\r\n```\r\npublic static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\r\n    List keyList = ArrayList(map.keySet());\r\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\r\n    for (int i = 0; i &lt; keyList().size(); i++){\r\n      Integer key = keyList.get(i);\r\n      BinaryTreeNode node = new BinaryTreeNode(key);\r\n      l.put(node, map.get(key));\r\n    }\r\n```\r\n\r\nBut personally I think that&#39;s a really bad way to go about it.\r\n\r\nWhat you probably want to do is instead iterate over the entry set:\r\n```\r\npublic static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\r\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\r\n    for(Map.Entry&lt;Integer, Integer&gt; entry: map.entrySet()){\r\n      BinaryTreeNode node = new BinaryTreeNode(entry.getKey());\r\n      l.put(node, entry.getValue());\r\n    }\r\n```\r\nThis latter method is cleaner because it isn&#39;t manually mucking about with indices, which is generally a poor practice. Simpler still is to use a higher-order function, as in:\r\n\r\n```\r\npublic static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\r\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\r\n    map.forEach((key,value) -&gt; l.put(new BinaryTreeNode(key), value));\r\n    }\r\n```\r\n\r\nThat last one is skipping manual iteration altogether, and just passing the structure a function to run on each of its entries.\r\n\r\nYou can actually do one better, and skip initializing the new hashmap at all by using a `map` function (distinct from a HashMap data structure - totally different meaning.) See https://stackoverflow.com/questions/25903137/java8-hashmapx-y-to-hashmapx-z-using-stream-map-reduce-collector for more on that.","title":"Is it possible to add just the values of a HashMap into another HashMap?","body":"<p>First, some notes on what you have:</p>\n<pre><code>public static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; map.keySet().size(); i++){\n      BinaryTreeNode node = new BinaryTreeNode(i);\n      l.put(node, map.values());\n    }\n</code></pre>\n<p><code>BinaryTreeNode node = new BinaryTreeNode(i);</code>\nIs probably wrong - <code>i</code> is just the index, which doesn't really mean anything as HashMaps aren't ordered in any defined way.</p>\n<p><code>l.put(node, map.values());</code> Is also wrong - here the value you're inserting is the entire original map.</p>\n<p>You could save your current code by converting the keyset to an indexible structure (like a list - it's currently a set), and then grabbing the key at that index, converting it to a <code>BinaryTreeNode</code>, looking up the value associated with they key in the old map, and then adding both.</p>\n<p>I probably have some syntax errors (I'm not in front of a compiler), but that would look something like:</p>\n<pre><code>public static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\n    List keyList = ArrayList(map.keySet());\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; keyList().size(); i++){\n      Integer key = keyList.get(i);\n      BinaryTreeNode node = new BinaryTreeNode(key);\n      l.put(node, map.get(key));\n    }\n</code></pre>\n<p>But personally I think that's a really bad way to go about it.</p>\n<p>What you probably want to do is instead iterate over the entry set:</p>\n<pre><code>public static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\n    for(Map.Entry&lt;Integer, Integer&gt; entry: map.entrySet()){\n      BinaryTreeNode node = new BinaryTreeNode(entry.getKey());\n      l.put(node, entry.getValue());\n    }\n</code></pre>\n<p>This latter method is cleaner because it isn't manually mucking about with indices, which is generally a poor practice. Simpler still is to use a higher-order function, as in:</p>\n<pre><code>public static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\n    map.forEach((key,value) -&gt; l.put(new BinaryTreeNode(key), value));\n    }\n</code></pre>\n<p>That last one is skipping manual iteration altogether, and just passing the structure a function to run on each of its entries.</p>\n<p>You can actually do one better, and skip initializing the new hashmap at all by using a <code>map</code> function (distinct from a HashMap data structure - totally different meaning.) See <a href=\"https://stackoverflow.com/questions/25903137/java8-hashmapx-y-to-hashmapx-z-using-stream-map-reduce-collector\">Java8: HashMap&lt;X, Y&gt; to HashMap&lt;X, Z&gt; using Stream / Map-Reduce / Collector</a> for more on that.</p>\n"}],"owner":{"display_name":"user18984687"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"answer_count":2,"score":0,"last_activity_date":1669049591,"creation_date":1669045136,"question_id":74521382,"body_markdown":"I have a Hashmap `HashMap &lt;Integer, Integer&gt; map` and I want to change the `keyset()` type to a BinaryTreeNode, which was declared beforehand already, instead of an int, which I am able to do. However, I was wondering how could I add the appropriate `map.values()` in the same order as it was in my original HashMap `map` \r\n\r\nHere is my code\r\n\r\n    public static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\r\n        HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\r\n        for (int i = 0; i &lt; map.keySet().size(); i++){\r\n          BinaryTreeNode node = new BinaryTreeNode(i);\r\n          l.put(node, map.values());\r\n        }\r\n\r\nWhat changes to my code should I make to ensure that this would compile and do as I want it o?\r\n","title":"Is it possible to add just the values of a HashMap into another HashMap?","body":"<p>I have a Hashmap <code>HashMap &lt;Integer, Integer&gt; map</code> and I want to change the <code>keyset()</code> type to a BinaryTreeNode, which was declared beforehand already, instead of an int, which I am able to do. However, I was wondering how could I add the appropriate <code>map.values()</code> in the same order as it was in my original HashMap <code>map</code></p>\n<p>Here is my code</p>\n<pre><code>public static BinaryTreeNode parentMapToTree(Map&lt;Integer, Integer&gt; map) {\n    HashMap&lt;BinaryTreeNode, Integer&gt; l = new HashMap&lt;&gt;();\n    for (int i = 0; i &lt; map.keySet().size(); i++){\n      BinaryTreeNode node = new BinaryTreeNode(i);\n      l.put(node, map.values());\n    }\n</code></pre>\n<p>What changes to my code should I make to ensure that this would compile and do as I want it o?</p>\n"},{"tags":["java","scheduler","project-reactor","metrics","micrometer"],"answers":[{"comments":[{"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"score":0,"creation_date":1668754294,"post_id":74484036,"comment_id":131487603,"body_markdown":"Did you copy those metrics from the documentation? Because the documentation doesn&#39;t seem to be correct. With reactor 3.4.x when I check the spring boot actuator, I only get 7. I wanted to have a look into executor_seconds_max but it does not exist. The list of metrics also differ from site to site where you can read about it, like the reacotr docs or the micrometer docs.\n`executor_pool_size_threads` is a gauge, so you would have to peek the value just at the right time when there is a max.\n`executor_pool_max_threads` is showing the limit of the pool, not the max number of active threads.","body":"Did you copy those metrics from the documentation? Because the documentation doesn&#39;t seem to be correct. With reactor 3.4.x when I check the spring boot actuator, I only get 7. I wanted to have a look into executor_seconds_max but it does not exist. The list of metrics also differ from site to site where you can read about it, like the reacotr docs or the micrometer docs. <code>executor_pool_size_threads</code> is a gauge, so you would have to peek the value just at the right time when there is a max. <code>executor_pool_max_threads</code> is showing the limit of the pool, not the max number of active threads."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1668821923,"post_id":74484036,"comment_id":131506590,"body_markdown":"If you are using prometheus, metrics could be discovered using corresponding endpoint from the service itself. In case of Spring Actuator `/actuatur/prometheus`.","body":"If you are using prometheus, metrics could be discovered using corresponding endpoint from the service itself. In case of Spring Actuator <code>&#47;actuatur&#47;prometheus</code>."},{"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"score":0,"creation_date":1668958329,"post_id":74484036,"comment_id":131527232,"body_markdown":"I know, there are still not all of your mentioned metrics, on the other hand, there exists other than you mentioned, so I guess you just copied it from the documentation (which seems not up-to-date)","body":"I know, there are still not all of your mentioned metrics, on the other hand, there exists other than you mentioned, so I guess you just copied it from the documentation (which seems not up-to-date)"},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1669003933,"post_id":74484036,"comment_id":131535634,"body_markdown":"These are all metrics related to Schedulers. Internally reactor uses  [ExecutorServiceMetrics](https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/binder/jvm/ExecutorServiceMetrics.java) to instrument Schedulers and add additional tags like `reactor_scheduler_id`.","body":"These are all metrics related to Schedulers. Internally reactor uses  <a href=\"https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/binder/jvm/ExecutorServiceMetrics.java\" rel=\"nofollow noreferrer\">ExecutorServiceMetrics</a> to instrument Schedulers and add additional tags like <code>reactor_scheduler_id</code>."},{"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"score":0,"creation_date":1669025752,"post_id":74484036,"comment_id":131540859,"body_markdown":"Yea, those are pretty much the same metrics that I see in the actuator and the monitoring. As you can see, there is no `executor_seconds_max`. I also found this in several older docs and questions in SO, I guess this has been removed a while ago. And `executor_active_threads` is a Gauge so there is no chance to get a max when the values are requested in intervals.","body":"Yea, those are pretty much the same metrics that I see in the actuator and the monitoring. As you can see, there is no <code>executor_seconds_max</code>. I also found this in several older docs and questions in SO, I guess this has been removed a while ago. And <code>executor_active_threads</code> is a Gauge so there is no chance to get a max when the values are requested in intervals."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1669049484,"post_id":74484036,"comment_id":131549556,"body_markdown":"if you look more carefully `executor_seconds_max`gauge  is added by `executor` timer together with `executor_seconds_count` &amp; `executor_seconds_sum` counters https://github.com/micrometer-metrics/micrometer/blob/928b45fba7d10cbbe724ad41a6d10d72884d25ae/micrometer-core/src/main/java/io/micrometer/core/instrument/internal/TimedScheduledExecutorService.java#L52\n\nTo get different metrics for executor threads you would need to wrap executor service somehow that could be tricky to do. Check this thread for details https://github.com/spring-projects/spring-boot/issues/15374#issuecomment-499472467.","body":"if you look more carefully <code>executor_seconds_max</code>gauge  is added by <code>executor</code> timer together with <code>executor_seconds_count</code> &amp; <code>executor_seconds_sum</code> counters <a href=\"https://github.com/micrometer-metrics/micrometer/blob/928b45fba7d10cbbe724ad41a6d10d72884d25ae/micrometer-core/src/main/java/io/micrometer/core/instrument/internal/TimedScheduledExecutorService.java#L52\" rel=\"nofollow noreferrer\">github.com/micrometer-metrics/micrometer/blob/&hellip;</a>  To get different metrics for executor threads you would need to wrap executor service somehow that could be tricky to do. Check this thread for details <a href=\"https://github.com/spring-projects/spring-boot/issues/15374#issuecomment-499472467\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/&hellip;</a>."},{"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"score":0,"creation_date":1669113637,"post_id":74484036,"comment_id":131564875,"body_markdown":"I still don&#39;t find executor_seconds_max, there is no mention in your link. My actuator shows me the following metrics: `[...,&quot;executor.active&quot;,&quot;executor.completed&quot;,&quot;executor.pool.core&quot;,&quot;executor.pool.max&quot;,&quot;executor.pool.size&quot;,&quot;executor.queue.remaining&quot;,&quot;executor.queued&quot;,...]` (... are non-executor metrics, those are really all executor metrics that it shows me) so I&#39;m still wondering where this `seconds_max` is located. I don&#39;t find it on their github.","body":"I still don&#39;t find executor_seconds_max, there is no mention in your link. My actuator shows me the following metrics: <code>[...,&quot;executor.active&quot;,&quot;executor.completed&quot;,&quot;executor.pool.c&zwnj;&#8203;ore&quot;,&quot;executor.pool.&zwnj;&#8203;max&quot;,&quot;executor.pool.&zwnj;&#8203;size&quot;,&quot;executor.queu&zwnj;&#8203;e.remaining&quot;,&quot;execut&zwnj;&#8203;or.queued&quot;,...]</code> (... are non-executor metrics, those are really all executor metrics that it shows me) so I&#39;m still wondering where this <code>seconds_max</code> is located. I don&#39;t find it on their github."},{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":0,"creation_date":1669120513,"post_id":74484036,"comment_id":131567195,"body_markdown":"this is implicit for micrometer timers. I&#39;m not able to troubleshoot  your configuration. try to use demo project I mentioned, check available metrics and see what is different in your project.","body":"this is implicit for micrometer timers. I&#39;m not able to troubleshoot  your configuration. try to use demo project I mentioned, check available metrics and see what is different in your project."},{"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"score":0,"creation_date":1669132815,"post_id":74484036,"comment_id":131572249,"body_markdown":"I&#39;ve tested the demo project. It also does not offer a metric called &quot;executor seconds max&quot; or anything close to that name. If you check actuator/metrics. there are: `[&quot;executor&quot;,&quot;executor.active&quot;,&quot;executor.completed&quot;,&quot;executor.idle&quot;,&quot;executor.pool.core&quot;,&quot;executor.pool.max&quot;,&quot;executor.pool.size&quot;,&quot;executor.queue.remaining&quot;,&quot;executor.queued&quot;,&quot;executor.scheduled.once&quot;,&quot;executor.scheduled.repetitively&quot;,...]`. I&#39;m not sure what secondsMax means so maybe it is useless for my case, however, it also does not exist. I don&#39;t know why it is mentioned in some documentations.","body":"I&#39;ve tested the demo project. It also does not offer a metric called &quot;executor seconds max&quot; or anything close to that name. If you check actuator/metrics. there are: <code>[&quot;executor&quot;,&quot;executor.active&quot;,&quot;executor.completed&quot;,&quot;executor&zwnj;&#8203;.idle&quot;,&quot;executor.poo&zwnj;&#8203;l.core&quot;,&quot;executor.po&zwnj;&#8203;ol.max&quot;,&quot;executor.po&zwnj;&#8203;ol.size&quot;,&quot;executor.q&zwnj;&#8203;ueue.remaining&quot;,&quot;exe&zwnj;&#8203;cutor.queued&quot;,&quot;execu&zwnj;&#8203;tor.scheduled.once&quot;,&zwnj;&#8203;&quot;executor.scheduled.&zwnj;&#8203;repetitively&quot;,...]</code>. I&#39;m not sure what secondsMax means so maybe it is useless for my case, however, it also does not exist. I don&#39;t know why it is mentioned in some documentations."},{"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"score":0,"creation_date":1669132865,"post_id":74484036,"comment_id":131572272,"body_markdown":"To be more specific, just download the mentioned demo project, run it, and check: `http://localhost:8080/actuator/metrics`","body":"To be more specific, just download the mentioned demo project, run it, and check: <code>http:&#47;&#47;localhost:8080&#47;actuator&#47;metrics</code>"},{"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"score":0,"creation_date":1669132981,"post_id":74484036,"comment_id":131572322,"body_markdown":"Oh, but in grafana/prometheus, there is such a metric. I guess it is just added by them and has nothing to do with micrometer? Unfortunatly, I&#39;m not using prom/grafana. And I think secondsMax is also not the right metric, I just wondered why it is not in actuator/metrics. There seems to be no useful metric for getting the max-value, since everything there is is a gauge. Gauges are requested on interval, so they are way to inaccurate to be useful.","body":"Oh, but in grafana/prometheus, there is such a metric. I guess it is just added by them and has nothing to do with micrometer? Unfortunatly, I&#39;m not using prom/grafana. And I think secondsMax is also not the right metric, I just wondered why it is not in actuator/metrics. There seems to be no useful metric for getting the max-value, since everything there is is a gauge. Gauges are requested on interval, so they are way to inaccurate to be useful."}],"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"comment_count":11,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669049089,"creation_date":1668735308,"answer_id":74484036,"question_id":74430632,"body_markdown":"Reactor provides multiple metrics that allow to monitor schedulers:\r\n\r\n - `executor_active_threads`, gauge, The approximate number of threads that are actively executing tasks\r\n - `executor_pool_core_threads`, gauge,  The core number of threads for the pool\r\n - `executor_pool_max_threads`, gauge,  The maximum allowed number of threads in the pool\r\n - `executor_pool_size_threads`,  gauge, The current number of threads in the pool\r\n\r\n - `executor_completed_tasks_total`,  counter, The approximate total number of tasks that have completed execution\r\n\r\n - `executor_completed_tasks_total`, counter, The approximate total number of tasks that have completed execution\r\n\r\n - `executor_queued_tasks`,  gauge,  The approximate number of tasks that are queued for execution\r\n\r\n - `executor_queue_remaining_tasks`, gauge, The number of additional elements that this queue can ideally accept without blocking\r\n\r\n - `executor_scheduled_once_total`, counter\r\n\r\n - `executor_scheduled_repetitively_total`,  counter\r\n\r\n - `executor`, timer\r\n\r\n    - `executor_seconds_sum`, counter\r\n\r\n    - `executor_seconds_count`, counter\r\n\r\n    - `executor_seconds_max`, gauge\r\n    \r\n- `executor.idle`, timer\r\n\r\n    - `executor_idle_seconds_sum`, counter\r\n\r\n    - `executor_idle_seconds_count`, counter\r\n\r\n    - `executor_idle_seconds_max `, gauge\r\n\r\n\r\n\r\nInternally reactor uses [ExecutorServiceMetrics](https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/binder/jvm/ExecutorServiceMetrics.java) to instrument Schedulers and add additional tags like `reactor_scheduler_id`.\r\n\r\nTo monitor number of threads in the reactor schedulers \r\n```\r\nsum(executor_pool_size_threads) by (reactor_scheduler_id)\r\n```\r\nor to monitor max number of threads\r\n```\r\nsum(executor_pool_max_threads) by (reactor_scheduler_id)\r\n```\r\n\r\n\r\nThere is a demo project that could be used to play with reactor metrics and has Grafana dashboards: https://github.com/reactor/reactor-monitoring-demo\r\n","title":"Monitor usage of threadpool from a reactor scheduler with micrometer","body":"<p>Reactor provides multiple metrics that allow to monitor schedulers:</p>\n<ul>\n<li><p><code>executor_active_threads</code>, gauge, The approximate number of threads that are actively executing tasks</p>\n</li>\n<li><p><code>executor_pool_core_threads</code>, gauge,  The core number of threads for the pool</p>\n</li>\n<li><p><code>executor_pool_max_threads</code>, gauge,  The maximum allowed number of threads in the pool</p>\n</li>\n<li><p><code>executor_pool_size_threads</code>,  gauge, The current number of threads in the pool</p>\n</li>\n<li><p><code>executor_completed_tasks_total</code>,  counter, The approximate total number of tasks that have completed execution</p>\n</li>\n<li><p><code>executor_completed_tasks_total</code>, counter, The approximate total number of tasks that have completed execution</p>\n</li>\n<li><p><code>executor_queued_tasks</code>,  gauge,  The approximate number of tasks that are queued for execution</p>\n</li>\n<li><p><code>executor_queue_remaining_tasks</code>, gauge, The number of additional elements that this queue can ideally accept without blocking</p>\n</li>\n<li><p><code>executor_scheduled_once_total</code>, counter</p>\n</li>\n<li><p><code>executor_scheduled_repetitively_total</code>,  counter</p>\n</li>\n<li><p><code>executor</code>, timer</p>\n<ul>\n<li><p><code>executor_seconds_sum</code>, counter</p>\n</li>\n<li><p><code>executor_seconds_count</code>, counter</p>\n</li>\n<li><p><code>executor_seconds_max</code>, gauge</p>\n</li>\n</ul>\n</li>\n<li><p><code>executor.idle</code>, timer</p>\n<ul>\n<li><p><code>executor_idle_seconds_sum</code>, counter</p>\n</li>\n<li><p><code>executor_idle_seconds_count</code>, counter</p>\n</li>\n<li><p><code>executor_idle_seconds_max </code>, gauge</p>\n</li>\n</ul>\n</li>\n</ul>\n<p>Internally reactor uses <a href=\"https://github.com/micrometer-metrics/micrometer/blob/main/micrometer-core/src/main/java/io/micrometer/core/instrument/binder/jvm/ExecutorServiceMetrics.java\" rel=\"nofollow noreferrer\">ExecutorServiceMetrics</a> to instrument Schedulers and add additional tags like <code>reactor_scheduler_id</code>.</p>\n<p>To monitor number of threads in the reactor schedulers</p>\n<pre><code>sum(executor_pool_size_threads) by (reactor_scheduler_id)\n</code></pre>\n<p>or to monitor max number of threads</p>\n<pre><code>sum(executor_pool_max_threads) by (reactor_scheduler_id)\n</code></pre>\n<p>There is a demo project that could be used to play with reactor metrics and has Grafana dashboards: <a href=\"https://github.com/reactor/reactor-monitoring-demo\" rel=\"nofollow noreferrer\">https://github.com/reactor/reactor-monitoring-demo</a></p>\n"}],"owner":{"account_id":5946494,"reputation":505,"user_id":4675841,"accept_rate":44,"display_name":"Jens"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2275,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1669049089,"creation_date":1668423817,"question_id":74430632,"body_markdown":"Problem\r\n-------\r\n\r\nI want to monitor the usage of a thread pool from a specific Scheduler (`BoundedElasticScheduler`). I want to see if the thread pool capacity fits or if it gets to its limit quite often and if there are a lot of waiting tasks.\r\n\r\nQuestion\r\n--------\r\n\r\nI think the **MAX** usage of a threadpool is one of the most important metrics. Is there a metric that I haven&#39;t found yet that could be used for it? Or does someone have a hint for me how to observe thread usage in the pool and implement the metric myself?\r\n\r\nTried so far\r\n---------------------------------------------\r\n\r\n1. Using reactors build-in metrics\r\n\r\nIn `reactor` 3.4.x I found the metric `executor.active`, but it is a gauge and in monitoring tools, this is polled in an interval (e.g. every minute), this is too inaccurate for short tasks that only last some milliseconds in the pool. In `reactor` 3.5 I found a max execution time, but not a max for the active threads amount. The documentations are heavily updated currently because of the 3.5 release, so maybe I miss a metric that could be used for what I need.\r\n\r\n2. Using a custom implementation to track usage\r\n\r\nI&#39;ve also tried to implement a `DistributedSummary` around the scheduler, so I&#39;m able to track the **MAX** scheduled tasks per time interval (since `DistributedSummary` uses a `TimeWindowMax` which will show the **MAX** per monitoring interval). But it will only track the scheduling itself, not the real thread usage, for example if you have a Mono which evaluates some `Mono`s and `Flux` inside, which will also use threads from the pool. So it doesn&#39;t show me the workload of the pool.\r\n\r\n\r\n\r\n\r\n","title":"Monitor usage of threadpool from a reactor scheduler with micrometer","body":"<h2>Problem</h2>\n<p>I want to monitor the usage of a thread pool from a specific Scheduler (<code>BoundedElasticScheduler</code>). I want to see if the thread pool capacity fits or if it gets to its limit quite often and if there are a lot of waiting tasks.</p>\n<h2>Question</h2>\n<p>I think the <strong>MAX</strong> usage of a threadpool is one of the most important metrics. Is there a metric that I haven't found yet that could be used for it? Or does someone have a hint for me how to observe thread usage in the pool and implement the metric myself?</p>\n<h2>Tried so far</h2>\n<ol>\n<li>Using reactors build-in metrics</li>\n</ol>\n<p>In <code>reactor</code> 3.4.x I found the metric <code>executor.active</code>, but it is a gauge and in monitoring tools, this is polled in an interval (e.g. every minute), this is too inaccurate for short tasks that only last some milliseconds in the pool. In <code>reactor</code> 3.5 I found a max execution time, but not a max for the active threads amount. The documentations are heavily updated currently because of the 3.5 release, so maybe I miss a metric that could be used for what I need.</p>\n<ol start=\"2\">\n<li>Using a custom implementation to track usage</li>\n</ol>\n<p>I've also tried to implement a <code>DistributedSummary</code> around the scheduler, so I'm able to track the <strong>MAX</strong> scheduled tasks per time interval (since <code>DistributedSummary</code> uses a <code>TimeWindowMax</code> which will show the <strong>MAX</strong> per monitoring interval). But it will only track the scheduling itself, not the real thread usage, for example if you have a Mono which evaluates some <code>Mono</code>s and <code>Flux</code> inside, which will also use threads from the pool. So it doesn't show me the workload of the pool.</p>\n"},{"tags":["java","hashmap","comparator","comparable","red-black-tree"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1669048496,"post_id":74522059,"comment_id":131549196,"body_markdown":"So what is the question?","body":"So what is the question?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1669061045,"post_id":74522059,"comment_id":131553130,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":22473999,"reputation":21,"user_id":16674027,"display_name":"zahaand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669048390,"creation_date":1669048390,"question_id":74522059,"body_markdown":"How is the optimization and construction of a red-black tree inside the HashMap Bucket if the comparator of the key is not overridden?\r\n\r\nHere is what I found on the subject:\r\n\r\nHashMap can contain keys of different classes.\r\nAnd some of them may be comparable and some of them not.\r\n\r\nThis means that key mix is pretty straightforward: first, all keys from first class goes, and then all from the second.\r\n\r\n        /**\r\n         * Tie-breaking utility for ordering insertions when equal\r\n         * hashCodes and non-comparable. We don&#39;t require a total\r\n         * order, just a consistent insertion rule to maintain\r\n         * equivalence across rebalancings. Tie-breaking further than\r\n         * necessary simplifies testing a bit.\r\n         */\r\n        static int tieBreakOrder(Object a, Object b) {\r\n            int d;\r\n            if (a == null || b == null ||\r\n                (d = a.getClass().getName().\r\n                 compareTo(b.getClass().getName())) == 0)\r\n                d = (System.identityHashCode(a) &lt;= System.identityHashCode(b) ?\r\n                     -1 : 1);\r\n            return d;\r\n        }","title":"Optimization and construction of a red-black tree if the comparator of the key is not overridden","body":"<p>How is the optimization and construction of a red-black tree inside the HashMap Bucket if the comparator of the key is not overridden?</p>\n<p>Here is what I found on the subject:</p>\n<p>HashMap can contain keys of different classes.\nAnd some of them may be comparable and some of them not.</p>\n<p>This means that key mix is pretty straightforward: first, all keys from first class goes, and then all from the second.</p>\n<pre><code>    /**\n     * Tie-breaking utility for ordering insertions when equal\n     * hashCodes and non-comparable. We don't require a total\n     * order, just a consistent insertion rule to maintain\n     * equivalence across rebalancings. Tie-breaking further than\n     * necessary simplifies testing a bit.\n     */\n    static int tieBreakOrder(Object a, Object b) {\n        int d;\n        if (a == null || b == null ||\n            (d = a.getClass().getName().\n             compareTo(b.getClass().getName())) == 0)\n            d = (System.identityHashCode(a) &lt;= System.identityHashCode(b) ?\n                 -1 : 1);\n        return d;\n    }\n</code></pre>\n"},{"tags":["java","maven","gradle","groovy"],"answers":[{"tags":[],"owner":{"account_id":4327054,"reputation":26992,"user_id":3533584,"display_name":"Jeff Scott Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669048365,"creation_date":1669048365,"answer_id":74522051,"question_id":74516950,"body_markdown":"&gt; Does Gradle has some similar solution?\r\n\r\nGradle does not provide a similar solution.  ","title":"Is there a way to generate build.gradle file from Java programmatically","body":"<blockquote>\n<p>Does Gradle has some similar solution?</p>\n</blockquote>\n<p>Gradle does not provide a similar solution.</p>\n"}],"owner":{"account_id":16617516,"reputation":200,"user_id":12008736,"display_name":"polosoft"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669048365,"creation_date":1669023954,"question_id":74516950,"body_markdown":"I would like to know, how can I create gradle files from my Java project using some libraries as I could do it with maven (https://stackoverflow.com/questions/2131365/is-there-a-java-class-that-generates-a-pom-xml-file)\r\n\r\nDoes Gradle has some similar solution? Can somebody provide a solution how can I create my entire .gradle files from Java code?","title":"Is there a way to generate build.gradle file from Java programmatically","body":"<p>I would like to know, how can I create gradle files from my Java project using some libraries as I could do it with maven (<a href=\"https://stackoverflow.com/questions/2131365/is-there-a-java-class-that-generates-a-pom-xml-file\">Is there a Java Class that generates a POM.xml file?</a>)</p>\n<p>Does Gradle has some similar solution? Can somebody provide a solution how can I create my entire .gradle files from Java code?</p>\n"},{"tags":["java","maven","build-helper-maven-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1669048394,"post_id":74522002,"comment_id":131549159,"body_markdown":"It sounds like you should learn to use a version control system like Git or alike (and really use branches)...but not try to do things manually which makes no sense...And profiles is the wrong way....","body":"It sounds like you should learn to use a version control system like Git or alike (and really use branches)...but not try to do things manually which makes no sense...And profiles is the wrong way...."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":2,"creation_date":1669048518,"post_id":74522002,"comment_id":131549209,"body_markdown":"Sounds like an XY problem.  Consider extracting an interface, and use an app setting to determine which implementation to use.","body":"Sounds like an XY problem.  Consider extracting an interface, and use an app setting to determine which implementation to use."},{"owner":{"account_id":6500168,"reputation":930,"user_id":5116356,"accept_rate":100,"display_name":"luca.vercelli"},"score":0,"creation_date":1669048899,"post_id":74522002,"comment_id":131549346,"body_markdown":"@khmarbaise You are absolutely right. However there are severe constraints in the company envirnoment I am facing.","body":"@khmarbaise You are absolutely right. However there are severe constraints in the company envirnoment I am facing."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":2,"creation_date":1669054307,"post_id":74522002,"comment_id":131551144,"body_markdown":"You are not allowed to use a version control tool?","body":"You are not allowed to use a version control tool?"},{"owner":{"account_id":6500168,"reputation":930,"user_id":5116356,"accept_rate":100,"display_name":"luca.vercelli"},"score":0,"creation_date":1669103092,"post_id":74522002,"comment_id":131561239,"body_markdown":"@khmarbaise Yes exactly","body":"@khmarbaise Yes exactly"},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1669113098,"post_id":74522002,"comment_id":131564672,"body_markdown":"That does simply make no sense and prevents usual working etc.","body":"That does simply make no sense and prevents usual working etc."}],"owner":{"account_id":6500168,"reputation":930,"user_id":5116356,"accept_rate":100,"display_name":"luca.vercelli"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669048122,"creation_date":1669048122,"question_id":74522002,"body_markdown":"I have the following situation. I have two different source folders, say `src/main/java` and `src/main/java2`. The two folders are something like two &quot;branches&quot; of the same project. First folder contains all Java files. Second folder contains only a small subset of the same files, in a different version.\r\n\r\nI want to create two profiles: first is &quot;normal&quot; profile, where I only build `src/main/java` files; second is the &quot;second branch&quot; profile, where I build all files from both folders, with precedence to second folder: if a file is contained in both folders, the  `src/main/java2` one must be used.\r\n\r\nFirst profile is simple to implement. I cannot create second profile.\r\n\r\nI have seen lots of answers using `build-helper-maven-plugin`. However in this case the compile phase gives an error:\r\n\r\n    error: duplicate class\r\n\r\nAny idea? Thank you.\r\n\r\n","title":"Maven - two sources folders with precedence","body":"<p>I have the following situation. I have two different source folders, say <code>src/main/java</code> and <code>src/main/java2</code>. The two folders are something like two &quot;branches&quot; of the same project. First folder contains all Java files. Second folder contains only a small subset of the same files, in a different version.</p>\n<p>I want to create two profiles: first is &quot;normal&quot; profile, where I only build <code>src/main/java</code> files; second is the &quot;second branch&quot; profile, where I build all files from both folders, with precedence to second folder: if a file is contained in both folders, the  <code>src/main/java2</code> one must be used.</p>\n<p>First profile is simple to implement. I cannot create second profile.</p>\n<p>I have seen lots of answers using <code>build-helper-maven-plugin</code>. However in this case the compile phase gives an error:</p>\n<pre><code>error: duplicate class\n</code></pre>\n<p>Any idea? Thank you.</p>\n"},{"tags":["java","android","android-studio","kotlin","android-pendingintent"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1669041408,"post_id":74520198,"comment_id":131546441,"body_markdown":"Are you somehow providing that `PendingIntent` to OneSignal? This crash is coming from OneSignal and its receipt of a FCM message, based on the stack trace. My guess is that you need to update your OneSignal SDK or otherwise talk to them about this crash.","body":"Are you somehow providing that <code>PendingIntent</code> to OneSignal? This crash is coming from OneSignal and its receipt of a FCM message, based on the stack trace. My guess is that you need to update your OneSignal SDK or otherwise talk to them about this crash."}],"answers":[{"comments":[{"owner":{"account_id":26630482,"reputation":60,"user_id":20247755,"display_name":"Sadece Ata"},"score":0,"creation_date":1669040615,"post_id":74520305,"comment_id":131546150,"body_markdown":"where exactly should I write this? Mainactivity? Because it has the same situation on the home page i have the same problem on the messageFragment site","body":"where exactly should I write this? Mainactivity? Because it has the same situation on the home page i have the same problem on the messageFragment site"},{"owner":{"account_id":12144261,"reputation":491,"user_id":8867099,"display_name":"Rishabh Shukla"},"score":0,"creation_date":1669103016,"post_id":74520305,"comment_id":131561220,"body_markdown":"you should be creating one notification class which is extending FirebaseMessagingService . in that class you must be building notification which has NotificationCompat.Builder(this, channelId).setContentIntent(updatedPendingIntent)","body":"you should be creating one notification class which is extending FirebaseMessagingService . in that class you must be building notification which has NotificationCompat.Builder(this, channelId).setContentIntent(updatedPendingIntent)"}],"tags":[],"owner":{"account_id":12144261,"reputation":491,"user_id":8867099,"display_name":"Rishabh Shukla"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669040177,"creation_date":1669040177,"answer_id":74520305,"question_id":74520198,"body_markdown":"Use this\r\n\r\n    val updatedPendingIntent = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            PendingIntent.getActivity(this, requestCode, intent, PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE)\r\n        } else {\r\n            PendingIntent.getActivity(this, requestCode, intent, PendingIntent.FLAG_UPDATE_CURRENT)\r\n        }\r\n","title":"(KOTLIN) Requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent","body":"<p>Use this</p>\n<pre><code>val updatedPendingIntent = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        PendingIntent.getActivity(this, requestCode, intent, PendingIntent.FLAG_UPDATE_CURRENT or PendingIntent.FLAG_IMMUTABLE)\n    } else {\n        PendingIntent.getActivity(this, requestCode, intent, PendingIntent.FLAG_UPDATE_CURRENT)\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1669041358,"post_id":74520541,"comment_id":131546424,"body_markdown":"Please explain in detail how this ties into the stack trace shown in the question.","body":"Please explain in detail how this ties into the stack trace shown in the question."},{"owner":{"account_id":26630482,"reputation":60,"user_id":20247755,"display_name":"Sadece Ata"},"score":0,"creation_date":1669042106,"post_id":74520541,"comment_id":131546699,"body_markdown":"Whenever a message comes to my application, it restarts iteslf. It does not matter which fragment it is in. I started getting this problem after i made SDK version 31. I dont know how to use PendingIntent anywhere.","body":"Whenever a message comes to my application, it restarts iteslf. It does not matter which fragment it is in. I started getting this problem after i made SDK version 31. I dont know how to use PendingIntent anywhere."}],"tags":[],"owner":{"account_id":24438997,"reputation":1738,"user_id":18362930,"display_name":"Sandesh Khutal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669041767,"creation_date":1669041230,"answer_id":74520541,"question_id":74520198,"body_markdown":"In your log showing error,\r\n *\r\n\r\n    Caused by: java.lang.IllegalArgumentException: com.edusoft.teacher.myeducare: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n        Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n\r\nAndroid application targets to 31 which has reported more crashes (only Android OS 12 users) in Firebase Messaging (PendingIntent) or in **Notification function**. When Application is in Pause/Background state on Notification Receive its crashing. \r\n   \r\n\r\n In addition , you may need to increase the version of implementation `&quot;androidx.work:work-runtime-ktx:2.5.0&quot;` to the latest update\r\n  \r\n[Reference link][1]\r\n\r\n     val updatedPendingIntent = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            PendingIntent.getActivity(\r\n                applicationContext, NOTIFICATION_REQUEST_CODE, updatedIntent, PendingIntent.FLAG_IMMUTABLE\r\n            )\r\n        } else {\r\n            PendingIntent.getActivity(\r\n                applicationContext, NOTIFICATION_REQUEST_CODE, updatedIntent, PendingIntent.FLAG_ONE_SHOT\r\n            )\r\n        }\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/app/PendingIntent#FLAG_MUTABLE","title":"(KOTLIN) Requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent","body":"<p>In your log showing error,\n*</p>\n<pre><code>Caused by: java.lang.IllegalArgumentException: com.edusoft.teacher.myeducare: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n</code></pre>\n<p>Android application targets to 31 which has reported more crashes (only Android OS 12 users) in Firebase Messaging (PendingIntent) or in <strong>Notification function</strong>. When Application is in Pause/Background state on Notification Receive its crashing.</p>\n<p>In addition , you may need to increase the version of implementation <code>&quot;androidx.work:work-runtime-ktx:2.5.0&quot;</code> to the latest update</p>\n<p><a href=\"https://developer.android.com/reference/android/app/PendingIntent#FLAG_MUTABLE\" rel=\"nofollow noreferrer\">Reference link</a></p>\n<pre><code> val updatedPendingIntent = if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        PendingIntent.getActivity(\n            applicationContext, NOTIFICATION_REQUEST_CODE, updatedIntent, PendingIntent.FLAG_IMMUTABLE\n        )\n    } else {\n        PendingIntent.getActivity(\n            applicationContext, NOTIFICATION_REQUEST_CODE, updatedIntent, PendingIntent.FLAG_ONE_SHOT\n        )\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15304634,"reputation":627,"user_id":11041834,"display_name":"krupa parekh"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1669047673,"creation_date":1669047673,"answer_id":74521885,"question_id":74520198,"body_markdown":"If your app targets Android 12, you must specify the mutability of each PendingIntent object that your app creates. This additional requirement improves your app&#39;s security.\r\n\r\n \r\n\r\n\r\n`PendingIntent contentIntent = PendingIntent.getActivity(context,NOTIFICATION_REQUEST_CODE, notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);`\r\n\r\n \r\nwe’re constructing a standard type of Intent that will open our app, and then simply wrapping that in a PendingIntent before adding it to our notification.In this case, since we have an exact action we know we want to perform, we construct a PendingIntent that cannot be modified by the app we pass it to by utilizing a flag called FLAG_IMMUTABLE.\r\n \r\nThis change is must required if you are targeting Android S+ and you have integrate FCM in you app.\r\n\r\n\r\nYou can check [this blog][1] if you plan to migrate your app compatible with Android 12.\r\n\r\n\r\n  [1]: https://medium.com/walmartglobaltech/migrating-a-1m-users-app-to-android-12-challenges-solutions-cfc00b0e36b3","title":"(KOTLIN) Requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent","body":"<p>If your app targets Android 12, you must specify the mutability of each PendingIntent object that your app creates. This additional requirement improves your app's security.</p>\n<p><code>PendingIntent contentIntent = PendingIntent.getActivity(context,NOTIFICATION_REQUEST_CODE, notificationIntent, PendingIntent.FLAG_UPDATE_CURRENT | PendingIntent.FLAG_IMMUTABLE);</code></p>\n<p>we’re constructing a standard type of Intent that will open our app, and then simply wrapping that in a PendingIntent before adding it to our notification.In this case, since we have an exact action we know we want to perform, we construct a PendingIntent that cannot be modified by the app we pass it to by utilizing a flag called FLAG_IMMUTABLE.</p>\n<p>This change is must required if you are targeting Android S+ and you have integrate FCM in you app.</p>\n<p>You can check <a href=\"https://medium.com/walmartglobaltech/migrating-a-1m-users-app-to-android-12-challenges-solutions-cfc00b0e36b3\" rel=\"nofollow noreferrer\">this blog</a> if you plan to migrate your app compatible with Android 12.</p>\n"}],"owner":{"account_id":26630482,"reputation":60,"user_id":20247755,"display_name":"Sadece Ata"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1082,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74521885,"answer_count":3,"score":0,"last_activity_date":1669047673,"creation_date":1669039733,"question_id":74520198,"body_markdown":"In every new message that comes to my account, the application restarts itself. Then it gives this error.I tried to find the solution but failed.I write the error code on the bottom line.\r\n\r\n\r\n\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.edusoft.teacher.myeducare, PID: 7367\r\n    java.lang.RuntimeException: Unable to start receiver com.onesignal.GcmBroadcastReceiver: java.lang.IllegalArgumentException: com.edusoft.teacher.myeducare: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n        at android.app.ActivityThread.handleReceiver(ActivityThread.java:4438)\r\n        at android.app.ActivityThread.access$1700(ActivityThread.java:265)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2114)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:210)\r\n        at android.os.Looper.loop(Looper.java:299)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8168)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1037)\r\n     Caused by: java.lang.IllegalArgumentException: com.edusoft.teacher.myeducare: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\r\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\r\n        at android.app.PendingIntent.checkFlags(PendingIntent.java:378)\r\n        at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:648)\r\n        at android.app.PendingIntent.getBroadcast(PendingIntent.java:635)\r\n        at com.onesignal.GenerateNotification.getNewActionPendingIntent(GenerateNotification.java:195)\r\n        at com.onesignal.GenerateNotification.createGenericPendingIntentsForNotif(GenerateNotification.java:404)\r\n        at com.onesignal.GenerateNotification.showNotification(GenerateNotification.java:388)\r\n        at com.onesignal.GenerateNotification.fromJsonPayload(GenerateNotification.java:116)\r\n        at com.onesignal.NotificationBundleProcessor.ProcessJobForDisplay(NotificationBundleProcessor.java:115)\r\n        at com.onesignal.NotificationBundleProcessor.ProcessFromGCMIntentService(NotificationBundleProcessor.java:98)\r\n        at com.onesignal.GcmBroadcastReceiver.startGCMService(GcmBroadcastReceiver.java:138)\r\n        at com.onesignal.GcmBroadcastReceiver.processOrderBroadcast(GcmBroadcastReceiver.java:129)\r\n        at com.onesignal.GcmBroadcastReceiver.onReceive(GcmBroadcastReceiver.java:70)\r\n        at android.app.ActivityThread.handleReceiver(ActivityThread.java:4425)\r\n        \t... 9 more\r\n```\r\n\r\n\r\ni found this code but either i did not use it correctly or it does not work properly\r\n\r\n```\r\nval updatedPendingIntent = PendingIntent.getActivity(\r\n   applicationContext,\r\n   NOTIFICATION_REQUEST_CODE,\r\n   updatedIntent,\r\n   PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT // setting the mutability flag \r\n)\r\n```\r\n","title":"(KOTLIN) Requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent","body":"<p>In every new message that comes to my account, the application restarts itself. Then it gives this error.I tried to find the solution but failed.I write the error code on the bottom line.</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.edusoft.teacher.myeducare, PID: 7367\n    java.lang.RuntimeException: Unable to start receiver com.onesignal.GcmBroadcastReceiver: java.lang.IllegalArgumentException: com.edusoft.teacher.myeducare: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n        at android.app.ActivityThread.handleReceiver(ActivityThread.java:4438)\n        at android.app.ActivityThread.access$1700(ActivityThread.java:265)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2114)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:210)\n        at android.os.Looper.loop(Looper.java:299)\n        at android.app.ActivityThread.main(ActivityThread.java:8168)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:556)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1037)\n     Caused by: java.lang.IllegalArgumentException: com.edusoft.teacher.myeducare: Targeting S+ (version 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be specified when creating a PendingIntent.\n    Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if it needs to be used with inline replies or bubbles.\n        at android.app.PendingIntent.checkFlags(PendingIntent.java:378)\n        at android.app.PendingIntent.getBroadcastAsUser(PendingIntent.java:648)\n        at android.app.PendingIntent.getBroadcast(PendingIntent.java:635)\n        at com.onesignal.GenerateNotification.getNewActionPendingIntent(GenerateNotification.java:195)\n        at com.onesignal.GenerateNotification.createGenericPendingIntentsForNotif(GenerateNotification.java:404)\n        at com.onesignal.GenerateNotification.showNotification(GenerateNotification.java:388)\n        at com.onesignal.GenerateNotification.fromJsonPayload(GenerateNotification.java:116)\n        at com.onesignal.NotificationBundleProcessor.ProcessJobForDisplay(NotificationBundleProcessor.java:115)\n        at com.onesignal.NotificationBundleProcessor.ProcessFromGCMIntentService(NotificationBundleProcessor.java:98)\n        at com.onesignal.GcmBroadcastReceiver.startGCMService(GcmBroadcastReceiver.java:138)\n        at com.onesignal.GcmBroadcastReceiver.processOrderBroadcast(GcmBroadcastReceiver.java:129)\n        at com.onesignal.GcmBroadcastReceiver.onReceive(GcmBroadcastReceiver.java:70)\n        at android.app.ActivityThread.handleReceiver(ActivityThread.java:4425)\n            ... 9 more\n</code></pre>\n<p>i found this code but either i did not use it correctly or it does not work properly</p>\n<pre><code>val updatedPendingIntent = PendingIntent.getActivity(\n   applicationContext,\n   NOTIFICATION_REQUEST_CODE,\n   updatedIntent,\n   PendingIntent.FLAG_IMMUTABLE or PendingIntent.FLAG_UPDATE_CURRENT // setting the mutability flag \n)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","solr","solrj"],"comments":[{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1669103806,"post_id":74521803,"comment_id":131561469,"body_markdown":"you have hardcoded the url in code with localhost and hence its the error... does you java application and solr server on the same machine in production...Ideally should not be...Extract the server details to properties file and use it java code","body":"you have hardcoded the url in code with localhost and hence its the error... does you java application and solr server on the same machine in production...Ideally should not be...Extract the server details to properties file and use it java code"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1669103845,"post_id":74521803,"comment_id":131561488,"body_markdown":"and if you are using springboot for your application then it should be very easy to read the properties for your application","body":"and if you are using springboot for your application then it should be very easy to read the properties for your application"},{"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"score":0,"creation_date":1669105828,"post_id":74521803,"comment_id":131562087,"body_markdown":"My java app and Solr Server are not on the same machine. How could I estabilish a connection between them if not hardcoding the endopoint of Solr Server in HTTPSolrClient? Is there another way?","body":"My java app and Solr Server are not on the same machine. How could I estabilish a connection between them if not hardcoding the endopoint of Solr Server in HTTPSolrClient? Is there another way?"},{"owner":{"account_id":4469374,"reputation":8528,"user_id":3636071,"accept_rate":100,"display_name":"Abhijit Bashetti"},"score":0,"creation_date":1669106011,"post_id":74521803,"comment_id":131562157,"body_markdown":"if you are using springboot then please refer this https://www.baeldung.com/properties-with-spring","body":"if you are using springboot then please refer this <a href=\"https://www.baeldung.com/properties-with-spring\" rel=\"nofollow noreferrer\">baeldung.com/properties-with-spring</a>"},{"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"score":0,"creation_date":1669106296,"post_id":74521803,"comment_id":131562240,"body_markdown":"So, according to you, only removing the string from the class and setting it in the properties file would resolve the problem?","body":"So, according to you, only removing the string from the class and setting it in the properties file would resolve the problem?"}],"owner":{"account_id":12437064,"reputation":141,"user_id":9057026,"display_name":"Luigi105"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1669047190,"creation_date":1669047190,"question_id":74521803,"body_markdown":"I need to connect to Solr with SolrJ. I imported the library in POM in this way:\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nWhen I try to connect in localhost, I&#39;ve no problem.\r\n\r\n\r\n\r\n    \r\n    public class SolrJSearcher {\r\n    \r\n        public String solrSearch() throws SolrServerException, IOException {\r\n            String collection = &quot;Users&quot;;\r\n            SolrClient client = new HttpSolrClient.Builder(&quot;http://localhost:8983/solr/&quot; + collection).build();\r\n            SolrQuery query = new SolrQuery();\r\n            query.setQuery(&quot;*:*&quot;);\r\n            query.setRows(1);\r\n            QueryResponse response = client.query(query);\r\n            SolrDocumentList results = response.getResults();\r\n            String returnValue = JSONUtil.toJSON(results);\r\n            return returnValue;\r\n        }\r\n    }\r\n\r\nWhen I change the hostname from &quot;localhost&quot; to prod environment, I can&#39;t connect. The strangest thing is that, during deployment, I get the following error even if I remove the above method altogether and leave only the dependency in the pom.\r\nWhat can this be due to? Do I need to enter some configuration to make it not automatically connect to localhost?\r\n\r\n        2022-11-21 17:09:31.013+0100 WARN [org.springframework.boot.actuate.solr.SolrHealthIndicator] (http-nio-8080-exec-1) [anonymousUser/NONE/d145ccb7-4dfe-4acd-8b6a-b924900d621d] Solr health check failed\r\n    org.apache.solr.client.solrj.SolrServerException: Server refused connection at: http://127.0.0.1:8983/solr \r\n    \tat org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:672)\r\n    \tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:265)\r\n    \tat org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:248)\r\n    \tat org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:211)\r\n    \tat org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:228)\r\n    \tat org.springframework.boot.actuate.solr.SolrHealthIndicator$RootStatusCheck.getStatus(SolrHealthIndicator.java:115)\r\n    \tat org.springframework.boot.actuate.solr.SolrHealthIndicator.initializeStatusCheck(SolrHealthIndicator.java:78)\r\n    \tat org.springframework.boot.actuate.solr.SolrHealthIndicator.initializeStatusCheck(SolrHealthIndicator.java:66)\r\n    \tat org.springframework.boot.actuate.solr.SolrHealthIndicator.doHealthCheck(SolrHealthIndicator.java:53)\r\n    \tat org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\r\n    \tat org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:85)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:44)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:71)\r\n    \tat org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:60)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\r\n    \tat org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)\r\n    \tat org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\r\n    \tat\r\n\r\n ","title":"Solr - Error while inserting solrj as dependency in POM","body":"<p>I need to connect to Solr with SolrJ. I imported the library in POM in this way:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n        &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When I try to connect in localhost, I've no problem.</p>\n<pre><code>public class SolrJSearcher {\n\n    public String solrSearch() throws SolrServerException, IOException {\n        String collection = &quot;Users&quot;;\n        SolrClient client = new HttpSolrClient.Builder(&quot;http://localhost:8983/solr/&quot; + collection).build();\n        SolrQuery query = new SolrQuery();\n        query.setQuery(&quot;*:*&quot;);\n        query.setRows(1);\n        QueryResponse response = client.query(query);\n        SolrDocumentList results = response.getResults();\n        String returnValue = JSONUtil.toJSON(results);\n        return returnValue;\n    }\n}\n</code></pre>\n<p>When I change the hostname from &quot;localhost&quot; to prod environment, I can't connect. The strangest thing is that, during deployment, I get the following error even if I remove the above method altogether and leave only the dependency in the pom.\nWhat can this be due to? Do I need to enter some configuration to make it not automatically connect to localhost?</p>\n<pre><code>    2022-11-21 17:09:31.013+0100 WARN [org.springframework.boot.actuate.solr.SolrHealthIndicator] (http-nio-8080-exec-1) [anonymousUser/NONE/d145ccb7-4dfe-4acd-8b6a-b924900d621d] Solr health check failed\norg.apache.solr.client.solrj.SolrServerException: Server refused connection at: http://127.0.0.1:8983/solr \n    at org.apache.solr.client.solrj.impl.HttpSolrClient.executeMethod(HttpSolrClient.java:672)\n    at org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:265)\n    at org.apache.solr.client.solrj.impl.HttpSolrClient.request(HttpSolrClient.java:248)\n    at org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:211)\n    at org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:228)\n    at org.springframework.boot.actuate.solr.SolrHealthIndicator$RootStatusCheck.getStatus(SolrHealthIndicator.java:115)\n    at org.springframework.boot.actuate.solr.SolrHealthIndicator.initializeStatusCheck(SolrHealthIndicator.java:78)\n    at org.springframework.boot.actuate.solr.SolrHealthIndicator.initializeStatusCheck(SolrHealthIndicator.java:66)\n    at org.springframework.boot.actuate.solr.SolrHealthIndicator.doHealthCheck(SolrHealthIndicator.java:53)\n    at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82)\n    at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37)\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:85)\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.getHealth(HealthEndpointWebExtension.java:44)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:99)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateHealth(HealthEndpointSupport.java:110)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:96)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:74)\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:61)\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:71)\n    at org.springframework.boot.actuate.health.HealthEndpointWebExtension.health(HealthEndpointWebExtension.java:60)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282)\n    at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:77)\n    at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60)\n    at\n</code></pre>\n"},{"tags":["java","spring","spring-boot","yaml"],"comments":[{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1669191046,"post_id":74521699,"comment_id":131585754,"body_markdown":"Maybe this can help you: https://stackoverflow.com/a/73110842/13115701","body":"Maybe this can help you: <a href=\"https://stackoverflow.com/a/73110842/13115701\">stackoverflow.com/a/73110842/13115701</a>"},{"owner":{"account_id":7092885,"reputation":69,"user_id":5427538,"display_name":"Dalendrion"},"score":0,"creation_date":1669277974,"post_id":74521699,"comment_id":131609439,"body_markdown":"Thanks Paul. But it&#39;s a different question. In my case it&#39;s about YAML being unable to deal with subclasses of `Expression`. I was wondering if it&#39;s possible at all or if I should abandon this idea and go for a different approach.","body":"Thanks Paul. But it&#39;s a different question. In my case it&#39;s about YAML being unable to deal with subclasses of <code>Expression</code>. I was wondering if it&#39;s possible at all or if I should abandon this idea and go for a different approach."}],"owner":{"account_id":7092885,"reputation":69,"user_id":5427538,"display_name":"Dalendrion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669046683,"creation_date":1669046683,"question_id":74521699,"body_markdown":"I would like to read a yaml file and parse it.\r\nIs it possible to use subclasses for this?\r\n\r\nI have a yaml file:\r\n```yml\r\nexpressions:\r\n  - expression:\r\n      literal: hello\r\n  - expression:\r\n      function:\r\n        name: add\r\n        params:\r\n          - expression:\r\n              literal: 1\r\n          - expression:\r\n              literal: 2\r\n```\r\nThen I have some classes to represent this structure.\r\nMost notably:\r\n```java\r\npublic interface Expression {\r\n  String evaluate();\r\n}\r\n```\r\n```java\r\npublic class LiteralExpression {\r\n  private final String literal;\r\n\r\n  public LiteralExpression(String literal) {\r\n    this.value = literal;\r\n  }\r\n\r\n  public String evaluate() {\r\n    return literal;\r\n  }\r\n}\r\n```\r\n```java\r\npublic class FunctionExpression {\r\n  private final String name;\r\n  private final Expression[] params;\r\n\r\n  public LiteralExpression(String name, Expression... params) {\r\n    this.value = name;\r\n    this.params = params;\r\n  }\r\n\r\n  public String evaluate() {\r\n    return Functions.getFunction(name).apply(Stream.of(params)\r\n        .map(Expression::evaluate)\r\n        .toArray(String[]::new));\r\n  }\r\n}\r\n```\r\n\r\nTo read out the yaml file, I have a config glass with a `@PropertySource` annotation.\r\n```java\r\n@Component\r\n@ConfigurationProperties\r\n@PropertySource(value = &quot;classpath:expressions.yaml&quot;, factory = YamlPropertySourceFactory.class)\r\n@NoArgsConstructor\r\n@Data\r\npublic class ProfielConfig {\r\n  private List&lt;Expression&gt; expressions;\r\n}\r\n```\r\n```java\r\npublic class YamlPropertySourceFactory implements PropertySourceFactory {\r\n  @Override\r\n  public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource resource) {\r\n    YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\r\n    factory.setResources(resource.getResource());\r\n    Properties properties = factory.getObject();\r\n\r\n    return new PropertiesPropertySource(\r\n      Objects.requireNonNull(resource.getResource().getFilename()),\r\n      Objects.requireNonNull(properties)\r\n    );\r\n  }\r\n}\r\n```\r\n\r\nWhen I use this setup, the expression properties stay `null`. What am I missing?","title":"Spring boot read properties from yml file into subclasses","body":"<p>I would like to read a yaml file and parse it.\nIs it possible to use subclasses for this?</p>\n<p>I have a yaml file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>expressions:\n  - expression:\n      literal: hello\n  - expression:\n      function:\n        name: add\n        params:\n          - expression:\n              literal: 1\n          - expression:\n              literal: 2\n</code></pre>\n<p>Then I have some classes to represent this structure.\nMost notably:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Expression {\n  String evaluate();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class LiteralExpression {\n  private final String literal;\n\n  public LiteralExpression(String literal) {\n    this.value = literal;\n  }\n\n  public String evaluate() {\n    return literal;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class FunctionExpression {\n  private final String name;\n  private final Expression[] params;\n\n  public LiteralExpression(String name, Expression... params) {\n    this.value = name;\n    this.params = params;\n  }\n\n  public String evaluate() {\n    return Functions.getFunction(name).apply(Stream.of(params)\n        .map(Expression::evaluate)\n        .toArray(String[]::new));\n  }\n}\n</code></pre>\n<p>To read out the yaml file, I have a config glass with a <code>@PropertySource</code> annotation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@ConfigurationProperties\n@PropertySource(value = &quot;classpath:expressions.yaml&quot;, factory = YamlPropertySourceFactory.class)\n@NoArgsConstructor\n@Data\npublic class ProfielConfig {\n  private List&lt;Expression&gt; expressions;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class YamlPropertySourceFactory implements PropertySourceFactory {\n  @Override\n  public PropertySource&lt;?&gt; createPropertySource(String name, EncodedResource resource) {\n    YamlPropertiesFactoryBean factory = new YamlPropertiesFactoryBean();\n    factory.setResources(resource.getResource());\n    Properties properties = factory.getObject();\n\n    return new PropertiesPropertySource(\n      Objects.requireNonNull(resource.getResource().getFilename()),\n      Objects.requireNonNull(properties)\n    );\n  }\n}\n</code></pre>\n<p>When I use this setup, the expression properties stay <code>null</code>. What am I missing?</p>\n"},{"tags":["java","spring","junit","mockito"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1669046638,"post_id":74521511,"comment_id":131548547,"body_markdown":"You aren&#39;t mocking anything. Also as the `HttpClient` is configured inside the method you cannot mock it. Instead you should inject it that way you can mock it. Or use the spring `RestTemplate` or `WebClient` and configure that with Apache HTTP Client and use the testing/mocking support for that.","body":"You aren&#39;t mocking anything. Also as the <code>HttpClient</code> is configured inside the method you cannot mock it. Instead you should inject it that way you can mock it. Or use the spring <code>RestTemplate</code> or <code>WebClient</code> and configure that with Apache HTTP Client and use the testing/mocking support for that."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1669543345,"post_id":74521511,"comment_id":131660939,"body_markdown":"[Why is my class not calling my mocked methods in unit test?](https://stackoverflow.com/q/74027324/112968) shares some useful insights (and a solution to your problem too). If you move the creation of your `HttpClient` to a different class an and instance of this class is injected into your class, testing becomes straightforward.","body":"<a href=\"https://stackoverflow.com/q/74027324/112968\">Why is my class not calling my mocked methods in unit test?</a> shares some useful insights (and a solution to your problem too). If you move the creation of your <code>HttpClient</code> to a different class an and instance of this class is injected into your class, testing becomes straightforward."}],"answers":[{"comments":[{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1669049095,"post_id":74521691,"comment_id":131549411,"body_markdown":"thank you, but I am confused about this. Is the @Inject and the doRequest() method you are showing  a refactoring of doRequest() within the MyService class?","body":"thank you, but I am confused about this. Is the @Inject and the doRequest() method you are showing  a refactoring of doRequest() within the MyService class?"},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1669050588,"post_id":74521691,"comment_id":131549919,"body_markdown":"also where is my sendDocRec() method that was the original called method? I have lost the context against my original question . Thanks","body":"also where is my sendDocRec() method that was the original called method? I have lost the context against my original question . Thanks"},{"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"score":0,"creation_date":1669051312,"post_id":74521691,"comment_id":131550156,"body_markdown":"first comment: answer is yes, refactording of doRequest() within MyService class.                             second comment: sendDocRec() would still be part of MyService &amp; it will remain unchanged. i didn&#39;t add it as there was no change. Probably that caused confusion. I just wanted to show the parts I would change.","body":"first comment: answer is yes, refactording of doRequest() within MyService class.                             second comment: sendDocRec() would still be part of MyService &amp; it will remain unchanged. i didn&#39;t add it as there was no change. Probably that caused confusion. I just wanted to show the parts I would change."},{"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"score":0,"creation_date":1669052001,"post_id":74521691,"comment_id":131550400,"body_markdown":"you seemed to have omitted the ConnectionManager and the requestConfig...?  Just  way too much shorthand for me. Obviously you are assuming I have skills to fill the holes. Thanks anyway...","body":"you seemed to have omitted the ConnectionManager and the requestConfig...?  Just  way too much shorthand for me. Obviously you are assuming I have skills to fill the holes. Thanks anyway..."}],"tags":[],"owner":{"account_id":19496972,"reputation":2160,"user_id":14263933,"display_name":"aatwork"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669046632,"creation_date":1669046632,"answer_id":74521691,"question_id":74521511,"body_markdown":"You can&#39;t do it using the current code structure. httpclient object is getting created within the method under test. So it can&#39;t be mocked.\r\n\r\nYou need to delegate httpclient object creation to another method with belongs to a different class (something similar to HttpClientFactory class). That HttpClientFactory class should only be responsible for creating httpClient instances. If you need you can write separate unit test case for the class.\r\n\r\n\r\n     @Inject\r\n     private HttpClientFactory httpClientFactory;\r\n    \r\n          public String doRequest(ClassicHttpRequest request) {\r\n            String result = null;\r\n        \r\n                try (CloseableHttpClient httpclient = httpClientFactory.getInstance()) {\r\n        \r\n                    final HttpClientContext clientContext = HttpClientContext.create();\r\n        \r\n                    try (CloseableHttpResponse response = httpclient.execute(request, clientContext)) {\r\n        \r\n                        result = EntityUtils.toString(response.getEntity());\r\n                    \r\n                    }\r\n                } catch (URISyntaxException e) {\r\n                    log.error(&quot;Invalid URI {}&quot;, e);\r\n                } catch (IOException e) {\r\n                    log.error(&quot;Failed to make HTTP Request {}&quot;, e);\r\n                } catch (ParseException e) {\r\n                    log.error(&quot;Failed parsing response body {}&quot;, e);\r\n                }\r\n        \r\n                return result;\r\n            }\r\n\r\nNow you can mock response like below:\r\n\r\n     @Mock\r\n     private HttpClientFactory httpClientFactory;\r\n    \r\n    public String testDoRequest(ClassicHttpRequest request) {\r\n    ....\r\n        CloseableHttpClient mockedClient = mock(CloseableHttpClient.class);\r\n        CloseableHttpResponse mockedResponse = mock(CloseableHttpResponse.class);\r\n        when(httpClientFactory.getInstance()).thenReturn(mockedClient);\r\n        when(mockedClient.execute(eq(request), any(clientContext))).thenReturn(mockedResponse);\r\n    ....}\r\n\r\n","title":"Mocking a Nested Object in Junit","body":"<p>You can't do it using the current code structure. httpclient object is getting created within the method under test. So it can't be mocked.</p>\n<p>You need to delegate httpclient object creation to another method with belongs to a different class (something similar to HttpClientFactory class). That HttpClientFactory class should only be responsible for creating httpClient instances. If you need you can write separate unit test case for the class.</p>\n<pre><code> @Inject\n private HttpClientFactory httpClientFactory;\n\n      public String doRequest(ClassicHttpRequest request) {\n        String result = null;\n    \n            try (CloseableHttpClient httpclient = httpClientFactory.getInstance()) {\n    \n                final HttpClientContext clientContext = HttpClientContext.create();\n    \n                try (CloseableHttpResponse response = httpclient.execute(request, clientContext)) {\n    \n                    result = EntityUtils.toString(response.getEntity());\n                \n                }\n            } catch (URISyntaxException e) {\n                log.error(&quot;Invalid URI {}&quot;, e);\n            } catch (IOException e) {\n                log.error(&quot;Failed to make HTTP Request {}&quot;, e);\n            } catch (ParseException e) {\n                log.error(&quot;Failed parsing response body {}&quot;, e);\n            }\n    \n            return result;\n        }\n</code></pre>\n<p>Now you can mock response like below:</p>\n<pre><code> @Mock\n private HttpClientFactory httpClientFactory;\n\npublic String testDoRequest(ClassicHttpRequest request) {\n....\n    CloseableHttpClient mockedClient = mock(CloseableHttpClient.class);\n    CloseableHttpResponse mockedResponse = mock(CloseableHttpResponse.class);\n    when(httpClientFactory.getInstance()).thenReturn(mockedClient);\n    when(mockedClient.execute(eq(request), any(clientContext))).thenReturn(mockedResponse);\n....}\n</code></pre>\n"}],"owner":{"account_id":12024361,"reputation":2102,"user_id":8796806,"accept_rate":75,"display_name":"Timothy Clotworthy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74521691,"answer_count":1,"score":0,"last_activity_date":1669046632,"creation_date":1669045679,"question_id":74521511,"body_markdown":"I have a service I am mocking like this:\r\n\r\n\r\n    @ExtendWith(MockitoExtension.class)\r\n    class MyServiceTest {\r\n    \r\n    @InjectMocks\r\n    MyService myService;\r\n\r\n   \r\n\r\n        @Test\r\n        void testSendRec() {\r\n           myService.sendDocRec(.. pass params..);\r\n        }\r\n}\r\n\r\n\r\nthe service:\r\n\r\n    @Service\r\n    public class MyService {\r\n\r\n        String sendDocRec( params ) {\r\n\r\n           // builds request\r\n           HttpUriRequestBase request = getRequest(  params );\r\n\r\n            String response = doRequest(request);\r\n        }\r\n\r\n        public String doRequest(ClassicHttpRequest request) {\r\n        String result = null;\r\n\r\n            try (CloseableHttpClient httpclient = HttpClients.custom()\r\n                    .setConnectionManager(this.connectionManager)\r\n                    .setConnectionManagerShared(true) \r\n                    .setDefaultRequestConfig(this.requestConfig)\r\n                    .build()) {\r\n\r\n                final HttpClientContext clientContext = HttpClientContext.create();\r\n\r\n                try (CloseableHttpResponse response = httpclient.execute(request, clientContext)) {\r\n\r\n                    result = EntityUtils.toString(response.getEntity());\r\n                \r\n                }\r\n            } catch (URISyntaxException e) {\r\n                log.error(&quot;Invalid URI {}&quot;, e);\r\n            } catch (IOException e) {\r\n                log.error(&quot;Failed to make HTTP Request {}&quot;, e);\r\n            } catch (ParseException e) {\r\n                log.error(&quot;Failed parsing response body {}&quot;, e);\r\n            }\r\n\r\n            return result;\r\n        }\r\n\r\n    }\r\n\r\nI need to be able to mock the &quot;CloseableHttpResponse response = httpclient.execute(request, clientContext)&quot;, such that the &quot;response&quot; object is something I create ahead of time. I am hoping some mocking when/then constructs would work for this? I would grateful for ideas on how to do this. Thanks!","title":"Mocking a Nested Object in Junit","body":"<p>I have a service I am mocking like this:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass MyServiceTest {\n\n@InjectMocks\nMyService myService;\n\n\n\n    @Test\n    void testSendRec() {\n       myService.sendDocRec(.. pass params..);\n    }\n</code></pre>\n<p>}</p>\n<p>the service:</p>\n<pre><code>@Service\npublic class MyService {\n\n    String sendDocRec( params ) {\n\n       // builds request\n       HttpUriRequestBase request = getRequest(  params );\n\n        String response = doRequest(request);\n    }\n\n    public String doRequest(ClassicHttpRequest request) {\n    String result = null;\n\n        try (CloseableHttpClient httpclient = HttpClients.custom()\n                .setConnectionManager(this.connectionManager)\n                .setConnectionManagerShared(true) \n                .setDefaultRequestConfig(this.requestConfig)\n                .build()) {\n\n            final HttpClientContext clientContext = HttpClientContext.create();\n\n            try (CloseableHttpResponse response = httpclient.execute(request, clientContext)) {\n\n                result = EntityUtils.toString(response.getEntity());\n            \n            }\n        } catch (URISyntaxException e) {\n            log.error(&quot;Invalid URI {}&quot;, e);\n        } catch (IOException e) {\n            log.error(&quot;Failed to make HTTP Request {}&quot;, e);\n        } catch (ParseException e) {\n            log.error(&quot;Failed parsing response body {}&quot;, e);\n        }\n\n        return result;\n    }\n\n}\n</code></pre>\n<p>I need to be able to mock the &quot;CloseableHttpResponse response = httpclient.execute(request, clientContext)&quot;, such that the &quot;response&quot; object is something I create ahead of time. I am hoping some mocking when/then constructs would work for this? I would grateful for ideas on how to do this. Thanks!</p>\n"},{"tags":["java","excel","apache-poi"],"comments":[{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":1,"creation_date":1669042751,"post_id":74520799,"comment_id":131546975,"body_markdown":"Does this answer your question? [How to get hyperlink address from a cell in excel by using java?](https://stackoverflow.com/questions/17987028/how-to-get-hyperlink-address-from-a-cell-in-excel-by-using-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17987028/how-to-get-hyperlink-address-from-a-cell-in-excel-by-using-java\">How to get hyperlink address from a cell in excel by using java?</a>"},{"owner":{"account_id":14166407,"reputation":658,"user_id":10234240,"display_name":"tupac shakur"},"score":0,"creation_date":1669043129,"post_id":74520799,"comment_id":131547115,"body_markdown":"Thank you @XtremeBaumer , I saw this solution and tried it and it did not give me any value.","body":"Thank you @XtremeBaumer , I saw this solution and tried it and it did not give me any value."},{"owner":{"account_id":9571720,"reputation":6305,"user_id":7109162,"accept_rate":84,"display_name":"XtremeBaumer"},"score":0,"creation_date":1669043724,"post_id":74520799,"comment_id":131547346,"body_markdown":"`getHypertextLink` is not a valid method for [`Cell`](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html)","body":"<code>getHypertextLink</code> is not a valid method for <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/usermodel/Cell.html\" rel=\"nofollow noreferrer\"><code>Cell</code></a>"},{"owner":{"account_id":8920168,"reputation":137,"user_id":6657073,"display_name":"Umang Soni"},"score":0,"creation_date":1670088113,"post_id":74520799,"comment_id":131793739,"body_markdown":"Cell cell = sheet.getRow(i).getCell(j); sysOut(cell.toString()); Can you please try this one ?","body":"Cell cell = sheet.getRow(i).getCell(j); sysOut(cell.toString()); Can you please try this one ?"}],"owner":{"account_id":14166407,"reputation":658,"user_id":10234240,"display_name":"tupac shakur"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1669046545,"creation_date":1669042468,"question_id":74520799,"body_markdown":"This is the code which iterate through the excel file and extract the value from the cells:\r\n\r\n    public static &lt;R&gt; List&lt;R&gt; readAdvancedStudentSearchFromCSV(String fileName, CSVParser&lt;R&gt; parser) throws IOException {\r\n            List&lt;R&gt; rowsList = new ArrayList&lt;&gt;();\r\n            FileInputStream fis = new FileInputStream(fileName);\r\n            //Create Workbook instance for xlsx/xls file input stream\r\n            XSSFWorkbook workbook = null;\r\n            if(fileName.toLowerCase().endsWith(&quot;xlsx&quot;)){\r\n                workbook = new XSSFWorkbook(fis);\r\n            }\r\n   \r\n            int numberOfSheets = workbook.getNumberOfSheets();\r\n            XSSFSheet sheet = workbook.getSheet(&quot;data&quot;);\r\n    \r\n            int rowCount = sheet.getPhysicalNumberOfRows();\r\n            StringBuilder line = new StringBuilder();\r\n            for(int i=2; i&lt;rowCount; i++){\r\n                String cellValue = &quot;&quot;;\r\n                for(int j=0; j&lt;10; j++){\r\n                    try {\r\n                        cellValue = sheet.getRow(i).getCell(j).getStringCellValue();\r\n                        System.out.println(cellValue);\r\n                    }catch(NullPointerException e){\r\n                        cellValue = &quot;&quot;;\r\n                    }\r\n                    if(cellValue.equals(&quot;&quot;)){\r\n                        line.append(&quot; &quot;).append(&quot; &quot;).append(&quot;,&quot;);\r\n                    }else {\r\n                        line.append(&quot; &quot;).append(cellValue).append(&quot;,&quot;);\r\n                    }\r\n                }\r\n                String[] attributes = line.toString().split(&quot;,&quot;);\r\n                R row = parser.toRow(attributes);\r\n                rowsList.add(row);\r\n            }\r\n    \r\n            //close file input stream\r\n            fis.close();\r\n            return rowsList;\r\n        }\r\nAnd this is how the excel file look like:\r\n[![enter image description here][1]][1]\r\n\r\nProblem:\r\n\r\nWhen I reach cell No.7 (trying to get column named &quot;Resume&quot;) with the value but I am getting empty string instead of getting the actual hypertextlink  (as string or as link it is not important).\r\nI have tried to use *getHypertextLink* method from *Cell* class but this did not help as well.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aUoh3.png\r\n\r\nI have looked at: https://stackoverflow.com/questions/17987028/how-to-get-hyperlink-address-from-a-cell-in-excel-by-using-java\r\nwhich did not solve my issue. ","title":"Converting excel (.xslx) file to java with cell that has hyperlink text won&#39;t be recognized and result is cell with empty value","body":"<p>This is the code which iterate through the excel file and extract the value from the cells:</p>\n<pre><code>public static &lt;R&gt; List&lt;R&gt; readAdvancedStudentSearchFromCSV(String fileName, CSVParser&lt;R&gt; parser) throws IOException {\n        List&lt;R&gt; rowsList = new ArrayList&lt;&gt;();\n        FileInputStream fis = new FileInputStream(fileName);\n        //Create Workbook instance for xlsx/xls file input stream\n        XSSFWorkbook workbook = null;\n        if(fileName.toLowerCase().endsWith(&quot;xlsx&quot;)){\n            workbook = new XSSFWorkbook(fis);\n        }\n\n        int numberOfSheets = workbook.getNumberOfSheets();\n        XSSFSheet sheet = workbook.getSheet(&quot;data&quot;);\n\n        int rowCount = sheet.getPhysicalNumberOfRows();\n        StringBuilder line = new StringBuilder();\n        for(int i=2; i&lt;rowCount; i++){\n            String cellValue = &quot;&quot;;\n            for(int j=0; j&lt;10; j++){\n                try {\n                    cellValue = sheet.getRow(i).getCell(j).getStringCellValue();\n                    System.out.println(cellValue);\n                }catch(NullPointerException e){\n                    cellValue = &quot;&quot;;\n                }\n                if(cellValue.equals(&quot;&quot;)){\n                    line.append(&quot; &quot;).append(&quot; &quot;).append(&quot;,&quot;);\n                }else {\n                    line.append(&quot; &quot;).append(cellValue).append(&quot;,&quot;);\n                }\n            }\n            String[] attributes = line.toString().split(&quot;,&quot;);\n            R row = parser.toRow(attributes);\n            rowsList.add(row);\n        }\n\n        //close file input stream\n        fis.close();\n        return rowsList;\n    }\n</code></pre>\n<p>And this is how the excel file look like:\n<a href=\"https://i.stack.imgur.com/aUoh3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aUoh3.png\" alt=\"enter image description here\" /></a></p>\n<p>Problem:</p>\n<p>When I reach cell No.7 (trying to get column named &quot;Resume&quot;) with the value but I am getting empty string instead of getting the actual hypertextlink  (as string or as link it is not important).\nI have tried to use <em>getHypertextLink</em> method from <em>Cell</em> class but this did not help as well.</p>\n<p>I have looked at: <a href=\"https://stackoverflow.com/questions/17987028/how-to-get-hyperlink-address-from-a-cell-in-excel-by-using-java\">How to get hyperlink address from a cell in excel by using java?</a>\nwhich did not solve my issue.</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-pubsub"],"answers":[{"tags":[],"owner":{"account_id":1136268,"reputation":15749,"user_id":1121288,"display_name":"Kamal Aboul-Hosn"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669046288,"creation_date":1669046288,"answer_id":74521626,"question_id":74493804,"body_markdown":"The [documentation][1] calls out specifically the need to have lots of pull requests outstanding simultaneously to achieve high throughput and low latency:\r\n\r\n&quot;To achieve low message delivery latency with synchronous pull, it is important to have many simultaneously outstanding pull requests. As the throughput of the topic increases, more pull requests are necessary. In general, asynchronous pull is preferable for latency-sensitive applications.&quot;\r\n\r\nMaking a single, synchronous pull request at a time is not going to be an efficient way to pull messages. The Pub/Sub service tries to trade off full pull responses with latency, preferring to send some messages back quickly rather than a full pull response, which is why you see fewer than 100 messages returned. If you make a lot more pull requests simultaneously, you are more likely to get full responses as the service will recognize that the subscriber can handle more load and fetch more messages to fulfill the pull requests.\r\n\r\nIf you want to maximize throughput and minimize latency, you should instead use [asynchronous streaming pull][2].\r\n\r\n\r\n  [1]: https://cloud.google.com/pubsub/docs/pull#synchronous_pull\r\n  [2]: https://cloud.google.com/pubsub/docs/pull#asynchronous-pull","title":"High latency in fetching the messages from google pubsub pull model through java client","body":"<p>The <a href=\"https://cloud.google.com/pubsub/docs/pull#synchronous_pull\" rel=\"nofollow noreferrer\">documentation</a> calls out specifically the need to have lots of pull requests outstanding simultaneously to achieve high throughput and low latency:</p>\n<p>&quot;To achieve low message delivery latency with synchronous pull, it is important to have many simultaneously outstanding pull requests. As the throughput of the topic increases, more pull requests are necessary. In general, asynchronous pull is preferable for latency-sensitive applications.&quot;</p>\n<p>Making a single, synchronous pull request at a time is not going to be an efficient way to pull messages. The Pub/Sub service tries to trade off full pull responses with latency, preferring to send some messages back quickly rather than a full pull response, which is why you see fewer than 100 messages returned. If you make a lot more pull requests simultaneously, you are more likely to get full responses as the service will recognize that the subscriber can handle more load and fetch more messages to fulfill the pull requests.</p>\n<p>If you want to maximize throughput and minimize latency, you should instead use <a href=\"https://cloud.google.com/pubsub/docs/pull#asynchronous-pull\" rel=\"nofollow noreferrer\">asynchronous streaming pull</a>.</p>\n"}],"owner":{"account_id":10017789,"reputation":171,"user_id":7408451,"display_name":"saivasanth528"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":578,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669046288,"creation_date":1668795168,"question_id":74493804,"body_markdown":"We have one application which navigates the bigquery logs to pubsub topic, and we have one pull subscription on that topic. I have implemented [synchronous pull with lease management][1], in that I set the maxMessages to 100, which indicates pulling 100 messages at max from the topic in one request. \r\n\r\nI had ran a terraform script which will run hundreds of jobs concurrently and that will generate hundreds of logs within in few seconds, My pull mechanism will fetch the messages every 30 seconds. Since there are a lot of logs, I expected 100 messages in one request, but that was not happening, in every request, I am getting arbitrary no of messages like 14, 7, 10, and 3. It takes a lot of time to fetch all the messages about my jobs. I don&#39;t know what exactly the issue.\r\n\r\nPlease help me in identifying how to get the desired messages and decrease my latency when there are a lot of messages on the topic. Is PubSub service throttling the response or any configuration I have to do on my end? \r\n\r\n\r\n    public List&lt;ReceivedMessage&gt; getMessagesFromSubscription(String projectId, String subscriptionId, int numOfMessages,\r\n                                                             CredentialsProvider credentialsProvider) {\r\n     \r\n        List&lt;ReceivedMessage&gt; receivedMessages = new ArrayList&lt;&gt;();\r\n        try {\r\n            SubscriberStubSettings subscriberStubSettings = getSubscriberStubSettings(credentialsProvider);\r\n            try (SubscriberStub subscriber = GrpcSubscriberStub.create(subscriberStubSettings)) {\r\n                String subscriptionName = ProjectSubscriptionName.format(projectId, subscriptionId);\r\n                PullRequest pullRequest = PullRequest.newBuilder()\r\n                        .setMaxMessages(100)\r\n                        .setSubscription(mypubsub)\r\n                        .build();\r\n                PullResponse pullResponse = subscriber.pullCallable().call(pullRequest);\r\n                List&lt;String&gt; ackIds = new ArrayList&lt;&gt;();\r\n                for (ReceivedMessage message : pullResponse.getReceivedMessagesList()) {\r\n                    ackIds.add(message.getAckId());\r\n                    ModifyAckDeadlineRequest modifyAckDeadlineRequest = ModifyAckDeadlineRequest.newBuilder()\r\n                            .setSubscription(subscriptionName)\r\n                            .addAckIds(message.getAckId())\r\n                            .setAckDeadlineSeconds(30)\r\n                            .build();\r\n                    subscriber.modifyAckDeadlineCallable().call(modifyAckDeadlineRequest);\r\n                }\r\n                if (ackIds.isEmpty()) {\r\n                 // my logic\r\n                } else {\r\n                    AcknowledgeRequest acknowledgeRequest = AcknowledgeRequest.newBuilder()\r\n                            .setSubscription(subscriptionName)\r\n                            .addAllAckIds(ackIds)\r\n                            .build();\r\n                    subscriber.acknowledgeCallable().call(acknowledgeRequest);\r\n                    receivedMessages = new ArrayList&lt;&gt;(pullResponse.getReceivedMessagesList());\r\n                }\r\n            }\r\n            LOG.info(&quot;getMessagesFromSubscription: Received {} Messages for Project Id: {} and&quot; +\r\n                    &quot; Subscription Id: {}.&quot;, receivedMessages.size(), projectId, subscriptionId);\r\n        } catch (Exception e) {\r\n            LOG.error(&quot;getMessagesFromSubscription: Error while pulling message from Pub/Sub &quot; +\r\n                    &quot;from Project ID: {} and Subscription ID: {}&quot;, projectId, subscriptionId, e);\r\n        }\r\n        return receivedMessages;\r\n    }\r\n\r\n    private SubscriberStubSettings getSubscriberStubSettings(CredentialsProvider credentialsProvider) throws IOException {\r\n        SubscriberStubSettings.Builder subscriberStubSettingsBuilder = SubscriberStubSettings\r\n                .newBuilder()\r\n                .setTransportChannelProvider(SubscriberStubSettings\r\n                        .defaultGrpcTransportProviderBuilder()\r\n                        .setMaxInboundMessageSize(20 &lt;&lt; 20)\r\n                        .build());\r\n        if (credentialsProvider != null) {\r\n            subscriberStubSettingsBuilder = subscriberStubSettingsBuilder.setCredentialsProvider(credentialsProvider);\r\n        }\r\n        return subscriberStubSettingsBuilder.build();\r\n    }\r\n\r\n  [1]: https://cloud.google.com/pubsub/docs/pull#synchronous_pull_with_lease_management","title":"High latency in fetching the messages from google pubsub pull model through java client","body":"<p>We have one application which navigates the bigquery logs to pubsub topic, and we have one pull subscription on that topic. I have implemented <a href=\"https://cloud.google.com/pubsub/docs/pull#synchronous_pull_with_lease_management\" rel=\"nofollow noreferrer\">synchronous pull with lease management</a>, in that I set the maxMessages to 100, which indicates pulling 100 messages at max from the topic in one request.</p>\n<p>I had ran a terraform script which will run hundreds of jobs concurrently and that will generate hundreds of logs within in few seconds, My pull mechanism will fetch the messages every 30 seconds. Since there are a lot of logs, I expected 100 messages in one request, but that was not happening, in every request, I am getting arbitrary no of messages like 14, 7, 10, and 3. It takes a lot of time to fetch all the messages about my jobs. I don't know what exactly the issue.</p>\n<p>Please help me in identifying how to get the desired messages and decrease my latency when there are a lot of messages on the topic. Is PubSub service throttling the response or any configuration I have to do on my end?</p>\n<pre><code>public List&lt;ReceivedMessage&gt; getMessagesFromSubscription(String projectId, String subscriptionId, int numOfMessages,\n                                                         CredentialsProvider credentialsProvider) {\n \n    List&lt;ReceivedMessage&gt; receivedMessages = new ArrayList&lt;&gt;();\n    try {\n        SubscriberStubSettings subscriberStubSettings = getSubscriberStubSettings(credentialsProvider);\n        try (SubscriberStub subscriber = GrpcSubscriberStub.create(subscriberStubSettings)) {\n            String subscriptionName = ProjectSubscriptionName.format(projectId, subscriptionId);\n            PullRequest pullRequest = PullRequest.newBuilder()\n                    .setMaxMessages(100)\n                    .setSubscription(mypubsub)\n                    .build();\n            PullResponse pullResponse = subscriber.pullCallable().call(pullRequest);\n            List&lt;String&gt; ackIds = new ArrayList&lt;&gt;();\n            for (ReceivedMessage message : pullResponse.getReceivedMessagesList()) {\n                ackIds.add(message.getAckId());\n                ModifyAckDeadlineRequest modifyAckDeadlineRequest = ModifyAckDeadlineRequest.newBuilder()\n                        .setSubscription(subscriptionName)\n                        .addAckIds(message.getAckId())\n                        .setAckDeadlineSeconds(30)\n                        .build();\n                subscriber.modifyAckDeadlineCallable().call(modifyAckDeadlineRequest);\n            }\n            if (ackIds.isEmpty()) {\n             // my logic\n            } else {\n                AcknowledgeRequest acknowledgeRequest = AcknowledgeRequest.newBuilder()\n                        .setSubscription(subscriptionName)\n                        .addAllAckIds(ackIds)\n                        .build();\n                subscriber.acknowledgeCallable().call(acknowledgeRequest);\n                receivedMessages = new ArrayList&lt;&gt;(pullResponse.getReceivedMessagesList());\n            }\n        }\n        LOG.info(&quot;getMessagesFromSubscription: Received {} Messages for Project Id: {} and&quot; +\n                &quot; Subscription Id: {}.&quot;, receivedMessages.size(), projectId, subscriptionId);\n    } catch (Exception e) {\n        LOG.error(&quot;getMessagesFromSubscription: Error while pulling message from Pub/Sub &quot; +\n                &quot;from Project ID: {} and Subscription ID: {}&quot;, projectId, subscriptionId, e);\n    }\n    return receivedMessages;\n}\n\nprivate SubscriberStubSettings getSubscriberStubSettings(CredentialsProvider credentialsProvider) throws IOException {\n    SubscriberStubSettings.Builder subscriberStubSettingsBuilder = SubscriberStubSettings\n            .newBuilder()\n            .setTransportChannelProvider(SubscriberStubSettings\n                    .defaultGrpcTransportProviderBuilder()\n                    .setMaxInboundMessageSize(20 &lt;&lt; 20)\n                    .build());\n    if (credentialsProvider != null) {\n        subscriberStubSettingsBuilder = subscriberStubSettingsBuilder.setCredentialsProvider(credentialsProvider);\n    }\n    return subscriberStubSettingsBuilder.build();\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1669036711,"post_id":74519437,"comment_id":131544655,"body_markdown":"I would suggest to not use `BeanUtils`, as the documentation states it is mainly for internal framework usage and links to other suggestions. To add to that I suggest to use something like MapStruct for this to generate dedicated mappers for code instead of relying on reflection.","body":"I would suggest to not use <code>BeanUtils</code>, as the documentation states it is mainly for internal framework usage and links to other suggestions. To add to that I suggest to use something like MapStruct for this to generate dedicated mappers for code instead of relying on reflection."},{"owner":{"account_id":18201618,"reputation":204,"user_id":13245658,"display_name":"Limon"},"score":0,"creation_date":1669041628,"post_id":74519437,"comment_id":131546515,"body_markdown":"Can you maybe provide the Throwable causing the FatalBeanException?","body":"Can you maybe provide the Throwable causing the FatalBeanException?"}],"answers":[{"tags":[],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669046126,"creation_date":1669046126,"answer_id":74521594,"question_id":74519437,"body_markdown":"Thanks for all the answers so far. It turned out that a missing null check in the setter of the collection caused the error. BeanUtils.copyProperties() worked just like it was supposed to do. ","title":"BeanUtils.copyProperties() throws org.springframework.beans.FatalBeanException: Could not copy property &#39;xyz&#39; from source to target;","body":"<p>Thanks for all the answers so far. It turned out that a missing null check in the setter of the collection caused the error. BeanUtils.copyProperties() worked just like it was supposed to do.</p>\n"}],"owner":{"account_id":14437674,"reputation":711,"user_id":10429263,"display_name":"d00d"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1669046126,"creation_date":1669035974,"question_id":74519437,"body_markdown":"Just upgraded from Spring 4.x to 5.3 and Hibernate 3.x to 5.6. I have one instance of my code where I get unexpected errors. More specifically, it is Spring&#39;s BeanUtils.CopyProperties() method that causes the error. \r\n\r\nIt wants to invoke a setter for a `PersistentSet` (I think that&#39;s a Hibernate datatype) with the value `null` and throws a FatalBeanException. \r\n\r\nAny idea how to solve that kind of errors?\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mzIYc.png","title":"BeanUtils.copyProperties() throws org.springframework.beans.FatalBeanException: Could not copy property &#39;xyz&#39; from source to target;","body":"<p>Just upgraded from Spring 4.x to 5.3 and Hibernate 3.x to 5.6. I have one instance of my code where I get unexpected errors. More specifically, it is Spring's BeanUtils.CopyProperties() method that causes the error.</p>\n<p>It wants to invoke a setter for a <code>PersistentSet</code> (I think that's a Hibernate datatype) with the value <code>null</code> and throws a FatalBeanException.</p>\n<p>Any idea how to solve that kind of errors?</p>\n<p><a href=\"https://i.stack.imgur.com/mzIYc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mzIYc.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","kotlin","kotlinx.serialization"],"answers":[{"tags":[],"owner":{"account_id":3934490,"reputation":805,"user_id":3251429,"display_name":"undermark5"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1669045898,"creation_date":1669045898,"answer_id":74521549,"question_id":74512090,"body_markdown":"You should not add `@Serializable` to the interface, see the [documentation][1] regarding polymorphic seriliazation. Instead you must annotate the implementations and possibly register the corresponding serializers.\r\n\r\n  [1]: https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/polymorphism.md#serializing-interfaces","title":"Error: Class is not registered for polymorphic serialization in the scope of its interface","body":"<p>You should not add <code>@Serializable</code> to the interface, see the <a href=\"https://github.com/Kotlin/kotlinx.serialization/blob/master/docs/polymorphism.md#serializing-interfaces\" rel=\"nofollow noreferrer\">documentation</a> regarding polymorphic seriliazation. Instead you must annotate the implementations and possibly register the corresponding serializers.</p>\n"}],"owner":{"account_id":25075804,"reputation":23,"user_id":18929240,"display_name":"rjunovskii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":876,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":74521549,"answer_count":1,"score":0,"last_activity_date":1669045898,"creation_date":1668979149,"question_id":74512090,"body_markdown":"I need set serializable interface for using any data class in methods, example data:\r\n\r\n    @Serializable\r\n    interface Todo{}\r\n\r\n    @Serializable\r\n    data class userDataForRegistration(val name: String, val number: String, val password: String): Todo\r\n\r\n    @Serializable\r\n    data class userDataForLogin(val number: String, val password: String): Todo\r\n\r\n    @Serializable\r\n    data class contactForRemove(val id: String, val number: String): Todo\r\n\r\n    @Serializable\r\n    data class userData(val number: String)\r\n\r\n    @Serializable\r\n    data class message(val message: String)\r\n\r\nexample method, where body - some of the above data classes :\r\n\r\n    class Connection {\r\n       val client = OkHttpClient()\r\n       // params: login, registration, contact\r\n       fun sendData(url: String, param: String, body: Todo){\r\n           var json = Json.encodeToString(body)\r\n           var reqBody = RequestBody.create(&quot;application/json; charset=utf-8&quot;.toMediaTypeOrNull(), json)\r\n\r\n           val request = Request.Builder()\r\n               .url(url)\r\n               .post(reqBody)\r\n               .build()\r\n\r\n           client.newCall(request).enqueue(object : Callback {\r\n               override fun onFailure(call: Call, e: IOException) {\r\n                   println(&quot;error&quot; + e)\r\n               }\r\n               override fun onResponse(call: Call, response: Response){\r\n                   var res = response.body?.string()\r\n                   when(param){\r\n                       &quot;login&quot;, &quot;registration&quot; -&gt; {\r\n                           try{\r\n                               val objUser = Json.decodeFromString&lt;User&gt;(res.toString())\r\n                               returnUser(objUser)\r\n                        }\r\n                           catch(e: Exception){\r\n                               val mes = Json.decodeFromString&lt;message&gt;(res.toString())\r\n                               returnMessage(mes)\r\n                           }\r\n                       }   \r\n                       &quot;contact&quot; -&gt;{\r\n                           val mes = Json.decodeFromString&lt;message&gt;(res.toString())\r\n                           returnMessage(mes)\r\n                       }\r\n                   }\r\n               }\r\n           })\r\n       }\r\nbut if i calling method:\r\n\r\n    val userDataForLogin = userDataForLogin(etv_name.text.toString(), etv_pass.text.toString())\r\n    val response = connection.sendData(&quot;${ip_static.ip}/user/login&quot;, &quot;login&quot;, userDataForLogin)\r\ni get error:\r\n\r\n    @Serializable annotation is ignored because it is impossible to serialize automatically interfaces or enums. Provide serializer manually via e.g. companion object\r\n\r\nI need use only TODO interface to use any data class in methods, object and abstract class will doesnt working, because it use data class\r\n\r\nAlso my plugins in build.gradle:\r\n\r\n    plugins {\r\n    id &#39;com.android.application&#39; version &#39;7.2.2&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.2&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.6.10&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.plugin.serialization&#39; version &#39;1.6.21&#39;\r\n}\r\n\r\nI read, that kotlin.plugin.serialization 1.6.2+ working with serialization interface, but idk whats wrong with me...\r\nThank you in advance!)\r\n\r\n","title":"Error: Class is not registered for polymorphic serialization in the scope of its interface","body":"<p>I need set serializable interface for using any data class in methods, example data:</p>\n<pre><code>@Serializable\ninterface Todo{}\n\n@Serializable\ndata class userDataForRegistration(val name: String, val number: String, val password: String): Todo\n\n@Serializable\ndata class userDataForLogin(val number: String, val password: String): Todo\n\n@Serializable\ndata class contactForRemove(val id: String, val number: String): Todo\n\n@Serializable\ndata class userData(val number: String)\n\n@Serializable\ndata class message(val message: String)\n</code></pre>\n<p>example method, where body - some of the above data classes :</p>\n<pre><code>class Connection {\n   val client = OkHttpClient()\n   // params: login, registration, contact\n   fun sendData(url: String, param: String, body: Todo){\n       var json = Json.encodeToString(body)\n       var reqBody = RequestBody.create(&quot;application/json; charset=utf-8&quot;.toMediaTypeOrNull(), json)\n\n       val request = Request.Builder()\n           .url(url)\n           .post(reqBody)\n           .build()\n\n       client.newCall(request).enqueue(object : Callback {\n           override fun onFailure(call: Call, e: IOException) {\n               println(&quot;error&quot; + e)\n           }\n           override fun onResponse(call: Call, response: Response){\n               var res = response.body?.string()\n               when(param){\n                   &quot;login&quot;, &quot;registration&quot; -&gt; {\n                       try{\n                           val objUser = Json.decodeFromString&lt;User&gt;(res.toString())\n                           returnUser(objUser)\n                    }\n                       catch(e: Exception){\n                           val mes = Json.decodeFromString&lt;message&gt;(res.toString())\n                           returnMessage(mes)\n                       }\n                   }   \n                   &quot;contact&quot; -&gt;{\n                       val mes = Json.decodeFromString&lt;message&gt;(res.toString())\n                       returnMessage(mes)\n                   }\n               }\n           }\n       })\n   }\n</code></pre>\n<p>but if i calling method:</p>\n<pre><code>val userDataForLogin = userDataForLogin(etv_name.text.toString(), etv_pass.text.toString())\nval response = connection.sendData(&quot;${ip_static.ip}/user/login&quot;, &quot;login&quot;, userDataForLogin)\n</code></pre>\n<p>i get error:</p>\n<pre><code>@Serializable annotation is ignored because it is impossible to serialize automatically interfaces or enums. Provide serializer manually via e.g. companion object\n</code></pre>\n<p>I need use only TODO interface to use any data class in methods, object and abstract class will doesnt working, because it use data class</p>\n<p>Also my plugins in build.gradle:</p>\n<pre><code>plugins {\nid 'com.android.application' version '7.2.2' apply false\nid 'com.android.library' version '7.2.2' apply false\nid 'org.jetbrains.kotlin.android' version '1.6.10' apply false\nid 'org.jetbrains.kotlin.plugin.serialization' version '1.6.21'\n</code></pre>\n<p>}</p>\n<p>I read, that kotlin.plugin.serialization 1.6.2+ working with serialization interface, but idk whats wrong with me...\nThank you in advance!)</p>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669043061,"post_id":74497722,"comment_id":131547086,"body_markdown":"If you are “looking for a specific entry in the map”, you should just use `get` instead of a linear search through the entire map, e.g. `String[] result = map.get(&quot;colors&quot;).split(&quot;, &quot;);` If inconsistent use of uppercase and lowercase really is a requirement for your software, you can simply use a `TreeMap` instead of a `HashMap`. Then, `get(&quot;Colors&quot;)` will also work.","body":"If you are “looking for a specific entry in the map”, you should just use <code>get</code> instead of a linear search through the entire map, e.g. <code>String[] result = map.get(&quot;colors&quot;).split(&quot;, &quot;);</code> If inconsistent use of uppercase and lowercase really is a requirement for your software, you can simply use a <code>TreeMap</code> instead of a <code>HashMap</code>. Then, <code>get(&quot;Colors&quot;)</code> will also work."}],"answers":[{"comments":[{"owner":{"account_id":277326,"reputation":919,"user_id":2182920,"display_name":"prost&#253; člověk"},"score":2,"creation_date":1668835966,"post_id":74497755,"comment_id":131507899,"body_markdown":"you can also use ```Stream::of ```","body":"you can also use <code>Stream::of </code>"},{"owner":{"account_id":21687113,"reputation":109,"user_id":16002380,"display_name":"Shri"},"score":0,"creation_date":1668843336,"post_id":74497755,"comment_id":131508628,"body_markdown":"Thank you, folks, for your quick reply. I now got the desired result. Just one thing I want clarity on i.e. in this below line of code: &quot;toArray(String[]::new);&quot;. I see that this could be replaced with a lambda expression inside toArray() i.e. toArray(size-&gt;new String[size]); and this lambda has a target type of IntFunction but the thing which confuses me is, does this &quot;size&quot; parameter gets its value automatically based on our string stream coming from flatMap()?","body":"Thank you, folks, for your quick reply. I now got the desired result. Just one thing I want clarity on i.e. in this below line of code: &quot;toArray(String[]::new);&quot;. I see that this could be replaced with a lambda expression inside toArray() i.e. toArray(size-&gt;new String[size]); and this lambda has a target type of IntFunction but the thing which confuses me is, does this &quot;size&quot; parameter gets its value automatically based on our string stream coming from flatMap()?"},{"owner":{"account_id":21687113,"reputation":109,"user_id":16002380,"display_name":"Shri"},"score":0,"creation_date":1668843531,"post_id":74497755,"comment_id":131508658,"body_markdown":"Also this code: String[] result = map.entrySet().stream()\n    .filter(entry -&gt; entry.getKey().equalsIgnoreCase(&quot;Colors&quot;))\n    .map(entry -&gt; entry.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;))\n    .findFirst().orElse(new String[0]); is giving compiler error. Can you explain the last part of this code( .findFirst().orElse(new String[0]);)?","body":"Also this code: String[] result = map.entrySet().stream()     .filter(entry -&gt; entry.getKey().equalsIgnoreCase(&quot;Colors&quot;))     .map(entry -&gt; entry.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;))     .findFirst().orElse(new String[0]); is giving compiler error. Can you explain the last part of this code( .findFirst().orElse(new String[0]);)?"},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1668843913,"post_id":74497755,"comment_id":131508700,"body_markdown":"@Shri `.findFirst()` returns the current first element of the stream. However, if the stream is empty at that point, it returns the value specified by `.orElse()`.","body":"@Shri <code>.findFirst()</code> returns the current first element of the stream. However, if the stream is empty at that point, it returns the value specified by <code>.orElse()</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668854527,"post_id":74497755,"comment_id":131510317,"body_markdown":"More direct with `split(&quot;\\\\s*,\\\\s*&quot;)`","body":"More direct with <code>split(&quot;\\\\s*,\\\\s*&quot;)</code>"},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1668855059,"post_id":74497755,"comment_id":131510430,"body_markdown":"@g00se Leading or trailing whitespaces will give different results.","body":"@g00se Leading or trailing whitespaces will give different results."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1668859111,"post_id":74497755,"comment_id":131511163,"body_markdown":"@英語は苦手 sorry, I meant `.trim().split(&quot;\\\\s*,\\\\s*&quot;))`. The delimiter is `,` so that approach would preserve, e.g. `&quot;green , dark brown, blue&quot;`","body":"@英語は苦手 sorry, I meant <code>.trim().split(&quot;\\\\s*,\\\\s*&quot;))</code>. The delimiter is <code>,</code> so that approach would preserve, e.g. <code>&quot;green , dark brown, blue&quot;</code>"}],"tags":[],"owner":{"display_name":"user17233545"},"comment_count":7,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668836517,"creation_date":1668835454,"answer_id":74497755,"question_id":74497722,"body_markdown":"Try this.\r\n\r\n    Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n\r\n    map.put(&quot;colors&quot;, &quot;Red, Green, Blue, Purple&quot;);\r\n    map.put(&quot;numbers&quot;, &quot;One, Two, Three&quot;);\r\n    map.put(&quot;COLORS&quot;, &quot;Yellow, Magenta, Cyan&quot;);\r\n\r\n    String[] result = map.entrySet().stream()\r\n        .filter(entry -&gt; entry.getKey().equalsIgnoreCase(&quot;Colors&quot;))\r\n        .map(entry -&gt; entry.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;))\r\n        .flatMap(Stream::of)\r\n        .toArray(String[]::new);\r\n\r\n    System.out.println(Arrays.toString(result));\r\n\r\noutput:\r\n\r\n    [Yellow, Magenta, Cyan, Red, Green, Blue, Purple]\r\n\r\nif you only want the first match\r\n\r\n    String[] result = map.entrySet().stream()\r\n        .filter(entry -&gt; entry.getKey().equalsIgnoreCase(&quot;Colors&quot;))\r\n        .map(entry -&gt; entry.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;))\r\n        .findFirst().orElse(new String[0]);\r\n\r\n    System.out.println(Arrays.toString(result));\r\n\r\noutput:\r\n\r\n    [Yellow, Magenta, Cyan]\r\n","title":"How to get a string array out of a string stream which gets generated as an intermediary result?","body":"<p>Try this.</p>\n<pre><code>Map&lt;String, String&gt; map = new HashMap&lt;&gt;();\n\nmap.put(&quot;colors&quot;, &quot;Red, Green, Blue, Purple&quot;);\nmap.put(&quot;numbers&quot;, &quot;One, Two, Three&quot;);\nmap.put(&quot;COLORS&quot;, &quot;Yellow, Magenta, Cyan&quot;);\n\nString[] result = map.entrySet().stream()\n    .filter(entry -&gt; entry.getKey().equalsIgnoreCase(&quot;Colors&quot;))\n    .map(entry -&gt; entry.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;))\n    .flatMap(Stream::of)\n    .toArray(String[]::new);\n\nSystem.out.println(Arrays.toString(result));\n</code></pre>\n<p>output:</p>\n<pre><code>[Yellow, Magenta, Cyan, Red, Green, Blue, Purple]\n</code></pre>\n<p>if you only want the first match</p>\n<pre><code>String[] result = map.entrySet().stream()\n    .filter(entry -&gt; entry.getKey().equalsIgnoreCase(&quot;Colors&quot;))\n    .map(entry -&gt; entry.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;))\n    .findFirst().orElse(new String[0]);\n\nSystem.out.println(Arrays.toString(result));\n</code></pre>\n<p>output:</p>\n<pre><code>[Yellow, Magenta, Cyan]\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1669043499,"post_id":74499988,"comment_id":131547260,"body_markdown":"But using “non alpha” as a separator instead of comma, is a semantic change anyway. Consider for example `&quot;Red, Dark Blue, Green&quot;`…","body":"But using “non alpha” as a separator instead of comma, is a semantic change anyway. Consider for example <code>&quot;Red, Dark Blue, Green&quot;</code>…"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1669046290,"post_id":74499988,"comment_id":131548407,"body_markdown":"@Holger Agree, it&#39;s not clear whether OP was replacing white-spaces on purpose or not. I&#39;ve addressed this case in each of the solution.","body":"@Holger Agree, it&#39;s not clear whether OP was replacing white-spaces on purpose or not. I&#39;ve addressed this case in each of the solution."}],"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669045892,"creation_date":1668860944,"answer_id":74499988,"question_id":74497722,"body_markdown":"# Java 8 - [`Pattern.splitAsStream()`][splitAsStream]\r\n\r\nYou can split a `String` on *non-alphabetic* characters by using regular expression `&quot;^\\\\p{Alpha}+&quot;` (*captures one or more non-alphabetic character*) and Java 8 method `Pattern.splitAsStream()`. Which generates a Stream of elements identical to the ones produced by `String.split()`. The difference is that `Pattern.splitAsStream()` creates a stream directly from the regex engine **without** allocating an intermediate array in memory (which is an advantage).\r\n\r\n*There&#39;s one **edge-case**:* the very first element would be an empty string. It could happen, for instance, when there&#39;s a leading white space at the beginning of the string. Since we don&#39;t need it appear in the result, we can discard it using [`dropWhile()`][dropWhile].\r\n\r\n***Note** that the same issue would arise with* `String.split()` *used in another answer, where it&#39;s not handled.*\r\n\r\nThen to apply the same transformation as in the previous example with one small addition: we need to address the edge-case when the givens string starts with a white-space. In such case, the very first element would be an empty string, and we can use to discard such string.\r\n\r\nTo avoid recompiling the regex pattern multiple times, it makes sense to store in the static final variable.\r\n\r\n    public static final Pattern NON_ALPHA = Pattern.compile(&quot;[^\\\\p{Alpha}]+&quot;);\r\n\r\n```\r\nMap&lt;String, String&gt; colorsByKey = // initializing the map\r\n    \r\nString[] result = colorsByKey.entrySet().stream()\r\n    .filter(e -&gt; e.getKey().equalsIgnoreCase(&quot;colors&quot;))\r\n    .flatMap(e -&gt; NON_ALPHA.splitAsStream(e.getValue()).dropWhile(String::isEmpty))\r\n    .toArray(String[]::new);\r\n```\r\n\r\n&lt;h3&gt;Note:&lt;/h3&gt;\r\n\r\nIn case if colors can contain white-spaces somewhere in the middle, i.e. there could be strings like `&quot;Red, Dark Blue&quot;`, which should result in colors `&quot;Red` and `&quot;DarkBlue&quot;`, you can change the pattern to `&quot;\\\\s*,\\\\s*&quot;` (*coma surrounded by optional white spaces*). And `map()` operation should be added to the pipeline to remove the white spaces from the middle of each string before collecting into the array:\r\n\r\n```\r\n.map(s -&gt; s.replaceAll(&quot;\\\\s*&quot;, &quot;&quot;))\r\n``` \r\n\r\n# Java 9 - [`Matcher.results()`][results]\r\n\r\nAnother option is to capture sequences of *alphabetic characters* with a regular expression `&quot;\\\\p{Alpha}+&quot;` and using Java 9 method `Matcher.results()` generate a `Stream` of `MatchResult`s, which is an object containing information about the matching group of characters.\r\n\r\nTo extract the matching substring from a `MatchResult` we can use method [`MatchResult.group()`][group].\r\n\r\n    public static final Pattern ALPHA = Pattern.compile(&quot;\\\\p{Alpha}+&quot;);\r\n\r\n```\r\nMap&lt;String, String&gt; colorsByKey = // initializing the map\r\n    \r\nString[] result = colorsByKey.entrySet().stream()\r\n    .filter(e -&gt; e.getKey().equalsIgnoreCase(&quot;colors&quot;))\r\n    .flatMap(e -&gt; ALPHA.matcher(e.getValue()).results())\r\n    .map(MatchResult::group)\r\n    .toArray(String[]::new);\r\n```\r\n\r\n&lt;h3&gt;Note:&lt;/h3&gt;\r\n\r\nAs it has been said in the note to previous solution, in case if strings like `&quot;Red, Dark Blue&quot;` are valid, the pattern needs to be changed, a possible option would be `&quot;[\\\\p{Alpha}\\\\p{Space}]+&quot;` (*white spaces and alphabetic character*). And similarly, `map()` operation should be added to the pipeline:\r\n\r\n```\r\n.map(s -&gt; s.replaceAll(&quot;\\\\s*&quot;, &quot;&quot;))\r\n``` \r\n\r\n\r\n\r\n   [results]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\r\n\r\n   [splitAsStream]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)\r\n\r\n   [dropWhile]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#dropWhile(java.util.function.Predicate)\r\n\r\n   [group]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html#group()","title":"How to get a string array out of a string stream which gets generated as an intermediary result?","body":"<h1>Java 8 - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Pattern.html#splitAsStream(java.lang.CharSequence)\" rel=\"nofollow noreferrer\"><code>Pattern.splitAsStream()</code></a></h1>\n<p>You can split a <code>String</code> on <em>non-alphabetic</em> characters by using regular expression <code>&quot;^\\\\p{Alpha}+&quot;</code> (<em>captures one or more non-alphabetic character</em>) and Java 8 method <code>Pattern.splitAsStream()</code>. Which generates a Stream of elements identical to the ones produced by <code>String.split()</code>. The difference is that <code>Pattern.splitAsStream()</code> creates a stream directly from the regex engine <strong>without</strong> allocating an intermediate array in memory (which is an advantage).</p>\n<p><em>There's one <strong>edge-case</strong>:</em> the very first element would be an empty string. It could happen, for instance, when there's a leading white space at the beginning of the string. Since we don't need it appear in the result, we can discard it using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#dropWhile(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>dropWhile()</code></a>.</p>\n<p><em><strong>Note</strong> that the same issue would arise with</em> <code>String.split()</code> <em>used in another answer, where it's not handled.</em></p>\n<p>Then to apply the same transformation as in the previous example with one small addition: we need to address the edge-case when the givens string starts with a white-space. In such case, the very first element would be an empty string, and we can use to discard such string.</p>\n<p>To avoid recompiling the regex pattern multiple times, it makes sense to store in the static final variable.</p>\n<pre><code>public static final Pattern NON_ALPHA = Pattern.compile(&quot;[^\\\\p{Alpha}]+&quot;);\n</code></pre>\n<pre><code>Map&lt;String, String&gt; colorsByKey = // initializing the map\n    \nString[] result = colorsByKey.entrySet().stream()\n    .filter(e -&gt; e.getKey().equalsIgnoreCase(&quot;colors&quot;))\n    .flatMap(e -&gt; NON_ALPHA.splitAsStream(e.getValue()).dropWhile(String::isEmpty))\n    .toArray(String[]::new);\n</code></pre>\n<h3>Note:</h3>\n<p>In case if colors can contain white-spaces somewhere in the middle, i.e. there could be strings like <code>&quot;Red, Dark Blue&quot;</code>, which should result in colors <code>&quot;Red</code> and <code>&quot;DarkBlue&quot;</code>, you can change the pattern to <code>&quot;\\\\s*,\\\\s*&quot;</code> (<em>coma surrounded by optional white spaces</em>). And <code>map()</code> operation should be added to the pipeline to remove the white spaces from the middle of each string before collecting into the array:</p>\n<pre><code>.map(s -&gt; s.replaceAll(&quot;\\\\s*&quot;, &quot;&quot;))\n</code></pre>\n<h1>Java 9 - <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\" rel=\"nofollow noreferrer\"><code>Matcher.results()</code></a></h1>\n<p>Another option is to capture sequences of <em>alphabetic characters</em> with a regular expression <code>&quot;\\\\p{Alpha}+&quot;</code> and using Java 9 method <code>Matcher.results()</code> generate a <code>Stream</code> of <code>MatchResult</code>s, which is an object containing information about the matching group of characters.</p>\n<p>To extract the matching substring from a <code>MatchResult</code> we can use method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/MatchResult.html#group()\" rel=\"nofollow noreferrer\"><code>MatchResult.group()</code></a>.</p>\n<pre><code>public static final Pattern ALPHA = Pattern.compile(&quot;\\\\p{Alpha}+&quot;);\n</code></pre>\n<pre><code>Map&lt;String, String&gt; colorsByKey = // initializing the map\n    \nString[] result = colorsByKey.entrySet().stream()\n    .filter(e -&gt; e.getKey().equalsIgnoreCase(&quot;colors&quot;))\n    .flatMap(e -&gt; ALPHA.matcher(e.getValue()).results())\n    .map(MatchResult::group)\n    .toArray(String[]::new);\n</code></pre>\n<h3>Note:</h3>\n<p>As it has been said in the note to previous solution, in case if strings like <code>&quot;Red, Dark Blue&quot;</code> are valid, the pattern needs to be changed, a possible option would be <code>&quot;[\\\\p{Alpha}\\\\p{Space}]+&quot;</code> (<em>white spaces and alphabetic character</em>). And similarly, <code>map()</code> operation should be added to the pipeline:</p>\n<pre><code>.map(s -&gt; s.replaceAll(&quot;\\\\s*&quot;, &quot;&quot;))\n</code></pre>\n"}],"owner":{"account_id":21687113,"reputation":109,"user_id":16002380,"display_name":"Shri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1669045892,"creation_date":1668834888,"question_id":74497722,"body_markdown":"I have this below code:\r\n```java\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Demo {\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String,  String&gt; map = new HashMap&lt;&gt;();\r\n        map.put(&quot;colors&quot;, &quot;Red, Green, Blue, Purple&quot;);\r\n\r\n        map.entrySet()\r\n           .stream()\r\n           .filter(entrySet -&gt; entrySet.getKey().equalsIgnoreCase(&quot;Colors&quot;))\r\n           .map(entrySet -&gt; entrySet.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;));\r\n    }\r\n}\r\n```\r\nAs you can see I am looking for a specific entry in the map and then extracting the value associated with that entry. The value is a String (i.e. `Red, Green, Blue, Purple`) and I require these comma-delimited colors as a String array. Also, I am removing any white space before splitting this String. Using Streams I was able to get this `Stream&lt;String[]&gt;` from the above code.\r\n\r\nBut ultimately I need a String array that contains these colors so can anyone tell me how I can collect a String array from this `Stream&lt;String[]&gt;`?\r\n\r\nAnd I want to use just streams, no `for` loop or enhanced `for` loop.","title":"How to get a string array out of a string stream which gets generated as an intermediary result?","body":"<p>I have this below code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.HashMap;\nimport java.util.Map;\n\npublic class Demo {\n\n    public static void main(String[] args) {\n        Map&lt;String,  String&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;colors&quot;, &quot;Red, Green, Blue, Purple&quot;);\n\n        map.entrySet()\n           .stream()\n           .filter(entrySet -&gt; entrySet.getKey().equalsIgnoreCase(&quot;Colors&quot;))\n           .map(entrySet -&gt; entrySet.getValue().replaceAll(&quot; &quot;, &quot;&quot;).split(&quot;,&quot;));\n    }\n}\n</code></pre>\n<p>As you can see I am looking for a specific entry in the map and then extracting the value associated with that entry. The value is a String (i.e. <code>Red, Green, Blue, Purple</code>) and I require these comma-delimited colors as a String array. Also, I am removing any white space before splitting this String. Using Streams I was able to get this <code>Stream&lt;String[]&gt;</code> from the above code.</p>\n<p>But ultimately I need a String array that contains these colors so can anyone tell me how I can collect a String array from this <code>Stream&lt;String[]&gt;</code>?</p>\n<p>And I want to use just streams, no <code>for</code> loop or enhanced <code>for</code> loop.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9356,"page":867,"page_size":100}
