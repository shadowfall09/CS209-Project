{"items":[{"tags":["java","spring-boot","rabbitmq","spring-rabbit"],"comments":[{"owner":{"account_id":5961770,"reputation":6071,"user_id":4686729,"display_name":"Clint"},"score":0,"creation_date":1632644524,"post_id":69333019,"comment_id":122544484,"body_markdown":"I think the another exception is being thrown before &quot;IllegalArgException&quot;","body":"I think the another exception is being thrown before &quot;IllegalArgException&quot;"},{"owner":{"account_id":15886198,"reputation":13,"user_id":11462490,"display_name":"Dang Nguyen"},"score":0,"creation_date":1632645787,"post_id":69333019,"comment_id":122544705,"body_markdown":"i think receive is getting 1 Exception, but it is trying to cast to an Integer value.","body":"i think receive is getting 1 Exception, but it is trying to cast to an Integer value."}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632750294,"creation_date":1632750294,"answer_id":69347756,"question_id":69333019,"body_markdown":"`@RabbitListener.returnExceptions()`.\r\n\r\n```java\r\n\t/**\r\n\t * Set to &quot;true&quot; to cause exceptions thrown by the listener to be sent to the sender\r\n\t * using normal {@code replyTo/@SendTo} semantics. When false, the exception is thrown\r\n\t * to the listener container and normal retry/DLQ processing is performed.\r\n\t * @return true to return exceptions. If the client side uses a\r\n\t * {@code RemoteInvocationAwareMessageConverterAdapter} the exception will be re-thrown.\r\n\t * Otherwise, the sender will receive a {@code RemoteInvocationResult} wrapping the\r\n\t * exception.\r\n\t * @since 2.0\r\n\t */\r\n\tString returnExceptions() default &quot;&quot;;\r\n```\r\n\r\nHowever, this will only work with Java serialization (not JSON) because exceptions are generally not JSON-friendly.\r\n\r\nThe alternative is to add an `errorHandler` and return some special value to tell the client that an exception occurred.\r\n\r\nhttps://docs.spring.io/spring-amqp/docs/current/reference/html/#annotation-error-handling","title":"How to handle exception RabbitMQ Microservice","body":"<p><code>@RabbitListener.returnExceptions()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n     * Set to &quot;true&quot; to cause exceptions thrown by the listener to be sent to the sender\n     * using normal {@code replyTo/@SendTo} semantics. When false, the exception is thrown\n     * to the listener container and normal retry/DLQ processing is performed.\n     * @return true to return exceptions. If the client side uses a\n     * {@code RemoteInvocationAwareMessageConverterAdapter} the exception will be re-thrown.\n     * Otherwise, the sender will receive a {@code RemoteInvocationResult} wrapping the\n     * exception.\n     * @since 2.0\n     */\n    String returnExceptions() default &quot;&quot;;\n</code></pre>\n<p>However, this will only work with Java serialization (not JSON) because exceptions are generally not JSON-friendly.</p>\n<p>The alternative is to add an <code>errorHandler</code> and return some special value to tell the client that an exception occurred.</p>\n<p><a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#annotation-error-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/docs/current/reference/html/#annotation-error-handling</a></p>\n"}],"owner":{"account_id":15886198,"reputation":13,"user_id":11462490,"display_name":"Dang Nguyen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":726,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69347756,"answer_count":1,"score":0,"last_activity_date":1632750294,"creation_date":1632644226,"question_id":69333019,"body_markdown":"I using spring boot rabbitMQ Sender.\r\nMethod returns `Integer`\r\n\r\n    try {\r\n    \treturn rabbitTemplate.convertSendAndReceive(exchange, routingKey,\r\n    \t\tmapper.writeValueAsString(request),\r\n    \t\tcorrelationData);\r\n    } catch (Exception e) {\r\n    \tlog.error(e.getMessage(), e);\r\n    }\r\n\r\nand on the receiver side, reply:\r\n\r\n    @RabbitListener(queues = &quot;testQueue&quot;, returnExceptions = &quot;true&quot;)\r\n    public class TestReply {\r\n    \r\n    \t@RabbitHandler\r\n    \tpublic Integer handle(String message) throws JsonProcessingException {\r\n    \t\tthrow new IllegalArgumentException()\r\n    \t}\r\n    }\r\n\r\nI want to handle `IllegalArgumentException` in the sender. But the fact I get is\r\n\r\n    org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content\r\n    Cannot deserialize value of type `java.lang.Integer` from Object value (token `JsonToken.START_OBJECT`)\r\n\r\nPlease help me!\r\n","title":"How to handle exception RabbitMQ Microservice","body":"<p>I using spring boot rabbitMQ Sender.\nMethod returns <code>Integer</code></p>\n<pre><code>try {\n    return rabbitTemplate.convertSendAndReceive(exchange, routingKey,\n        mapper.writeValueAsString(request),\n        correlationData);\n} catch (Exception e) {\n    log.error(e.getMessage(), e);\n}\n</code></pre>\n<p>and on the receiver side, reply:</p>\n<pre><code>@RabbitListener(queues = &quot;testQueue&quot;, returnExceptions = &quot;true&quot;)\npublic class TestReply {\n\n    @RabbitHandler\n    public Integer handle(String message) throws JsonProcessingException {\n        throw new IllegalArgumentException()\n    }\n}\n</code></pre>\n<p>I want to handle <code>IllegalArgumentException</code> in the sender. But the fact I get is</p>\n<pre><code>org.springframework.amqp.support.converter.MessageConversionException: Failed to convert Message content\nCannot deserialize value of type `java.lang.Integer` from Object value (token `JsonToken.START_OBJECT`)\n</code></pre>\n<p>Please help me!</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1632142364,"post_id":69254480,"comment_id":122405868,"body_markdown":"Stick with your current way.","body":"Stick with your current way."}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632750220,"creation_date":1632143100,"answer_id":69254944,"question_id":69254480,"body_markdown":"Well, you are now grouping by a single property each time.\r\n\r\nBut you could also group by the desiring properties at once:\r\n\r\nFirst, create a `GroupingKey` record:\r\n\r\n```java\r\npublic static record GroupingKey(String type, String breed) {\r\n    public static GroupingKey of(Animal animal) {\r\n        return new GroupingKey(animal.getTypeOfAnimal(), animal.getBreed());\r\n    }\r\n}\r\n```\r\n\r\nThis helps us to define on which fields the animal is grouped.\r\n\r\nThen we define a `merge` method, which helps to merge two animals.\r\n\r\n```java\r\nprivate static Animal merge(Animal a, Animal b) {\r\n    int age = (a != null ? a.getAge() : 0);\r\n    return new Animal(b.getTypeOfAnimal(), b.getBreed(), age + b.getAge());\r\n}\r\n```\r\n\r\nAnd then you could just reduce once:\r\n\r\n```java\r\nMap&lt;GroupingKey, Animal&gt; map = animals.stream()\r\n    .collect(groupingBy(GroupingKey::of, reducing(null, t -&gt; merge(t))));\r\n```\r\n\r\nThen by calling `values()`, you could retrieve a `Collection` with all `Animal`s.","title":"Is it possible to reduce a Java Stream&lt;T&gt; to a new Stream&lt;T&gt; solely with the reduce function","body":"<p>Well, you are now grouping by a single property each time.</p>\n<p>But you could also group by the desiring properties at once:</p>\n<p>First, create a <code>GroupingKey</code> record:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static record GroupingKey(String type, String breed) {\n    public static GroupingKey of(Animal animal) {\n        return new GroupingKey(animal.getTypeOfAnimal(), animal.getBreed());\n    }\n}\n</code></pre>\n<p>This helps us to define on which fields the animal is grouped.</p>\n<p>Then we define a <code>merge</code> method, which helps to merge two animals.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static Animal merge(Animal a, Animal b) {\n    int age = (a != null ? a.getAge() : 0);\n    return new Animal(b.getTypeOfAnimal(), b.getBreed(), age + b.getAge());\n}\n</code></pre>\n<p>And then you could just reduce once:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;GroupingKey, Animal&gt; map = animals.stream()\n    .collect(groupingBy(GroupingKey::of, reducing(null, t -&gt; merge(t))));\n</code></pre>\n<p>Then by calling <code>values()</code>, you could retrieve a <code>Collection</code> with all <code>Animal</code>s.</p>\n"}],"owner":{"account_id":2097800,"reputation":430,"user_id":1866193,"accept_rate":78,"display_name":"APW"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69254944,"answer_count":1,"score":0,"last_activity_date":1632750220,"creation_date":1632141096,"question_id":69254480,"body_markdown":"I am trying to reduce a stream of objects to a new stream of the same object type by removing duplicates based on specific properties and increment the value for those properties. In the animal example below I would be matching the typeOfAnimal then breed and summing the age in the new animal. So a list of:\r\n\r\n```JSON\r\n[\r\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Labrador&quot;, &quot;age&quot;: 5},\r\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Labrador&quot;, &quot;age&quot;: 3},\r\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Poodle&quot;, &quot;age&quot;: 7},\r\n  {&quot;typeOfAnimal&quot;: &quot;cat&quot;, &quot;breed&quot;: &quot;Bengal&quot;, &quot;age&quot;: 1}\r\n]\r\n```\r\n\r\nThe result should look like this:\r\n\r\n```JSON\r\n[\r\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Labrador&quot;, &quot;age&quot;: 8},\r\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Poodle&quot;, &quot;age&quot;: 7},\r\n  {&quot;typeOfAnimal&quot;: &quot;cat&quot;, &quot;breed&quot;: &quot;Bengal&quot;, &quot;age&quot;: 1}\r\n]\r\n```\r\n\r\nSo far to achieve this result I have had to use the *groupingBy* and *reducing* collectors because I have been unable to write this as a single *reducer* operator. Here is my working example:\r\n\r\n```Java\r\nStream&lt;Animal&gt; results = animals\r\n    .stream()\r\n    .collect(\r\n        groupingBy(Animal::getTypeOfAnimal,\r\n            groupingBy(Animal::getBreed,\r\n                reducing(\r\n                    new Animal().withAge(0),\r\n                    (a,c) -&gt; new Animal()\r\n                        .withTypeOfAnimal(c.getTypeOfAnimal())\r\n                        .withBreed(c.getBreed())\r\n                        .withAge(c.getAge() + a.getAge())))))\r\n    .values()\r\n    .stream()\r\n    .flatMap(a -&gt; a.values().stream());\r\n```\r\n\r\nDoes the *reduce* operator allow for this or do I need to stick with the current example? My preference for a single reducer function is because my actual code has more levels and therefore more *groupingBy* statements","title":"Is it possible to reduce a Java Stream&lt;T&gt; to a new Stream&lt;T&gt; solely with the reduce function","body":"<p>I am trying to reduce a stream of objects to a new stream of the same object type by removing duplicates based on specific properties and increment the value for those properties. In the animal example below I would be matching the typeOfAnimal then breed and summing the age in the new animal. So a list of:</p>\n<pre><code>[\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Labrador&quot;, &quot;age&quot;: 5},\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Labrador&quot;, &quot;age&quot;: 3},\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Poodle&quot;, &quot;age&quot;: 7},\n  {&quot;typeOfAnimal&quot;: &quot;cat&quot;, &quot;breed&quot;: &quot;Bengal&quot;, &quot;age&quot;: 1}\n]\n</code></pre>\n<p>The result should look like this:</p>\n<pre><code>[\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Labrador&quot;, &quot;age&quot;: 8},\n  {&quot;typeOfAnimal&quot;: &quot;dog&quot;, &quot;breed&quot;: &quot;Poodle&quot;, &quot;age&quot;: 7},\n  {&quot;typeOfAnimal&quot;: &quot;cat&quot;, &quot;breed&quot;: &quot;Bengal&quot;, &quot;age&quot;: 1}\n]\n</code></pre>\n<p>So far to achieve this result I have had to use the <em>groupingBy</em> and <em>reducing</em> collectors because I have been unable to write this as a single <em>reducer</em> operator. Here is my working example:</p>\n<pre><code>Stream&lt;Animal&gt; results = animals\n    .stream()\n    .collect(\n        groupingBy(Animal::getTypeOfAnimal,\n            groupingBy(Animal::getBreed,\n                reducing(\n                    new Animal().withAge(0),\n                    (a,c) -&gt; new Animal()\n                        .withTypeOfAnimal(c.getTypeOfAnimal())\n                        .withBreed(c.getBreed())\n                        .withAge(c.getAge() + a.getAge())))))\n    .values()\n    .stream()\n    .flatMap(a -&gt; a.values().stream());\n</code></pre>\n<p>Does the <em>reduce</em> operator allow for this or do I need to stick with the current example? My preference for a single reducer function is because my actual code has more levels and therefore more <em>groupingBy</em> statements</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":10363173,"reputation":303,"user_id":8694640,"display_name":"dope"},"score":0,"creation_date":1632841001,"post_id":69344424,"comment_id":122599817,"body_markdown":"Did you find any solution?","body":"Did you find any solution?"}],"answers":[{"tags":[],"owner":{"account_id":10363173,"reputation":303,"user_id":8694640,"display_name":"dope"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1632736180,"creation_date":1632736180,"answer_id":69344602,"question_id":69344424,"body_markdown":"You&#39;re not waiting for the task to be completed hence the `submitResults.isDone()` returns false and code terminates. Call `submitResults.get()` before the if condition, it will block the execution of the code until the callable completes its execution and you&#39;ll see that &quot;Task Executed&quot; will be printed.\r\nMore info can be found [here][1] and [here][2]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html\r\n  [2]: https://www.baeldung.com/java-future","title":"Executor Service isDone() behavior","body":"<p>You're not waiting for the task to be completed hence the <code>submitResults.isDone()</code> returns false and code terminates. Call <code>submitResults.get()</code> before the if condition, it will block the execution of the code until the callable completes its execution and you'll see that &quot;Task Executed&quot; will be printed.\nMore info can be found <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\">here</a> and <a href=\"https://www.baeldung.com/java-future\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632749977,"creation_date":1632749977,"answer_id":69347681,"question_id":69344424,"body_markdown":"When you call submitResults.isDone() your callableTask has not completed yet, and so isDone() returns false. Since your condition returns false, you don&#39;t execute your print statement, and so you won&#39;t see &quot;Task Executed&quot; even when your task completes.\r\n\r\nTo wait until the task has completed, remove the call to isDone(), and just rely on submitResults.get() to block until the task completes.\r\n\r\n     Future&lt;String&gt; submitResults = service.submit(callableTask);\r\n\r\n         try {\r\n             System.out.println(submitResults.get());\r\n             service.shutdown(); // ...\r\n","title":"Executor Service isDone() behavior","body":"<p>When you call submitResults.isDone() your callableTask has not completed yet, and so isDone() returns false. Since your condition returns false, you don't execute your print statement, and so you won't see &quot;Task Executed&quot; even when your task completes.</p>\n<p>To wait until the task has completed, remove the call to isDone(), and just rely on submitResults.get() to block until the task completes.</p>\n<pre><code> Future&lt;String&gt; submitResults = service.submit(callableTask);\n\n     try {\n         System.out.println(submitResults.get());\n         service.shutdown(); // ...\n</code></pre>\n"}],"owner":{"account_id":22700977,"reputation":39,"user_id":16868405,"display_name":"Abdulmalik Mahasneh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1632749977,"creation_date":1632735412,"question_id":69344424,"body_markdown":"I&#39;m new to learning Java multithreading. I started with this simple code but it seems that \r\n`submitResults.isDone()` never returns true. \r\n\r\nI&#39;m expecting that &quot;Task Executed&quot; should be printed as a result but I get an empty console.\r\n\r\nHere is my simple class:\r\n\r\n   \r\n    public class FuturesExample {\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            FuturesExample.executeThreadScheduler();\r\n        }\r\n    \r\n        static void executeThreadScheduler()\r\n        {\r\n            ExecutorService service = Executors.newFixedThreadPool(10);\r\n            Callable&lt;String&gt; callableTask = ()-&gt;{\r\n                TimeUnit.MILLISECONDS.sleep(300);\r\n                return &quot;Task Executed&quot; ;\r\n            };\r\n    \r\n            Future&lt;String&gt; submitResults = service.submit(callableTask);\r\n    \r\n                try {\r\n                    if(submitResults.isDone())\r\n    \r\n                    {\r\n                        System.out.println(submitResults.get());\r\n                    }\r\n                    service.shutdown();\r\n                    if(!service.awaitTermination(800,TimeUnit.MILLISECONDS))\r\n                    {\r\n                        service.shutdownNow();\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    service.shutdownNow();\r\n                    e.printStackTrace();\r\n                } catch (ExecutionException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n    \r\n    \r\n        }\r\n\r\n","title":"Executor Service isDone() behavior","body":"<p>I'm new to learning Java multithreading. I started with this simple code but it seems that\n<code>submitResults.isDone()</code> never returns true.</p>\n<p>I'm expecting that &quot;Task Executed&quot; should be printed as a result but I get an empty console.</p>\n<p>Here is my simple class:</p>\n<pre><code>public class FuturesExample {\n\n    public static void main(String[] args) {\n\n        FuturesExample.executeThreadScheduler();\n    }\n\n    static void executeThreadScheduler()\n    {\n        ExecutorService service = Executors.newFixedThreadPool(10);\n        Callable&lt;String&gt; callableTask = ()-&gt;{\n            TimeUnit.MILLISECONDS.sleep(300);\n            return &quot;Task Executed&quot; ;\n        };\n\n        Future&lt;String&gt; submitResults = service.submit(callableTask);\n\n            try {\n                if(submitResults.isDone())\n\n                {\n                    System.out.println(submitResults.get());\n                }\n                service.shutdown();\n                if(!service.awaitTermination(800,TimeUnit.MILLISECONDS))\n                {\n                    service.shutdownNow();\n                }\n            } catch (InterruptedException e) {\n                service.shutdownNow();\n                e.printStackTrace();\n            } catch (ExecutionException e) {\n                e.printStackTrace();\n            }\n        }\n\n\n    }\n</code></pre>\n"},{"tags":["java","amazon-web-services","solr","amazon-cloudsearch"],"answers":[{"tags":[],"owner":{"account_id":1306180,"reputation":2681,"user_id":1255142,"display_name":"alexroussos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1440453022,"creation_date":1440453022,"answer_id":32192324,"question_id":32190138,"body_markdown":"You&#39;re correct that CloudSearch doesn&#39;t have an equivalent to deleteByQuery. Your approach looks like the next best thing.\r\n\r\nAnd no, `version` is not necessary -- it was removed with the CloudSearch 01-01-2013 API (aka v2).","title":"CloudSearch deleteByQuery","body":"<p>You're correct that CloudSearch doesn't have an equivalent to deleteByQuery. Your approach looks like the next best thing.</p>\n\n<p>And no, <code>version</code> is not necessary -- it was removed with the CloudSearch 01-01-2013 API (aka v2).</p>\n"},{"tags":[],"owner":{"account_id":1659635,"reputation":158,"user_id":1528164,"display_name":"Muhammad Manazar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458849668,"creation_date":1458849668,"answer_id":36209060,"question_id":32190138,"body_markdown":"CloudSearch doesn&#39;t provide delete as query, it supports delete in a slightly different way i.e. build json object having only document id (to be deleted) and operation should be specified as delete. These json objects can be batched together but batch size has to be less than 5 MB. \r\n\r\nFollowing class supports this functionality, you just pass its delete method the array of ids to be deleted:\r\n\r\n    class AWS_CS\r\n    {\r\n    \tprotected $client;\r\n    \t\t\r\n    \tfunction connect($domain)\r\n    \t{\r\n    \t\ttry{\r\n    \t\t\t$csClient = CloudSearchClient::factory(array(\r\n    \t\t\t                &#39;key&#39;          =&gt; &#39;YOUR_KEY&#39;,\r\n    \t\t\t                &#39;secret&#39;      =&gt; &#39;YOUR_SECRET&#39;,\r\n    \t\t\t                &#39;region&#39;     =&gt;  &#39;us-east-1&#39;\r\n    \t\t\t                \r\n    \t\t\t            ));\r\n    \t\t\t\t\t\t\r\n    \t\t\t$this-&gt;client = $csClient-&gt;getDomainClient(\r\n    \t\t\t            $domain,\r\n    \t\t\t            array(\r\n    \t\t\t                &#39;credentials&#39; =&gt; $csClient-&gt;getCredentials(),\r\n    \t\t\t                &#39;scheme&#39; =&gt; &#39;HTTPS&#39;\r\n    \t\t\t            )\r\n    \t\t\t        );\r\n    \t\t}\r\n    \t\tcatch(Exception $ex){\r\n    \t\t\techo &quot;Exception: &quot;;\r\n    \t\t\techo $ex-&gt;getMessage();\r\n    \t\t}\r\n    \t\t//$this-&gt;client-&gt;addSubscriber(LogPlugin::getDebugPlugin());\t\t\r\n    \t}\r\n    \tfunction search($queryStr, $domain){\r\n    \t\t\r\n    \t\t$this-&gt;connect($domain);\r\n    \t\t\r\n    \t\t$result = $this-&gt;client-&gt;search(array(\r\n    \t\t\t&#39;query&#39; =&gt; $queryStr,\r\n    \t\t\t&#39;queryParser&#39; =&gt; &#39;lucene&#39;,\r\n    \t\t\t&#39;size&#39; =&gt; 100,\r\n    \t\t\t&#39;return&#39; =&gt; &#39;_score,_all_fields&#39;\r\n    \t\t\t))-&gt;toArray();\r\n    \r\n    \t\treturn json_encode($result[&#39;hits&#39;]);\r\n    \t\t//$hitCount = $result-&gt;getPath(&#39;hits/found&#39;);\r\n    \t\t//echo &quot;Number of Hits: {$hitCount}\\n&quot;;\r\n    \t}\r\n    \t\r\n    \tfunction deleteDocs($idArray, $operation = &#39;delete&#39;){\r\n    \r\n    \t\t$batch = array();\r\n    \r\n    \t\tforeach($idArray as $id){\r\n    \t\t\t//dumpArray($song);\r\n    \t\t\t$batch[] = array(\r\n    \t\t\t            &#39;type&#39;        =&gt; $operation,\r\n    \t\t\t            &#39;id&#39;        =&gt; $id);\t\t\t           \r\n    \t\t}\r\n    \t\t$batch = array_filter($batch);\r\n    \t\t$jsonObj = json_encode($batch, JSON_HEX_TAG | JSON_HEX_APOS | JSON_HEX_QUOT | JSON_HEX_AMP);\r\n    \t\t\r\n    \t\tprint_r($this-&gt;client-&gt;uploadDocuments(array(\r\n    \t\t                &#39;documents&#39;     =&gt; $jsonObj,\r\n    \t\t                &#39;contentType&#39;     =&gt;&#39;application/json&#39;\r\n    \t\t            )));\r\n    \t\t\r\n    \t\treturn $result[&#39;status&#39;] == &#39;success&#39; ? mb_strlen($jsonObj) : 0;\r\n    \t} \t\r\n    }\r\n\r\n","title":"CloudSearch deleteByQuery","body":"<p>CloudSearch doesn't provide delete as query, it supports delete in a slightly different way i.e. build json object having only document id (to be deleted) and operation should be specified as delete. These json objects can be batched together but batch size has to be less than 5 MB. </p>\n\n<p>Following class supports this functionality, you just pass its delete method the array of ids to be deleted:</p>\n\n<pre><code>class AWS_CS\n{\n    protected $client;\n\n    function connect($domain)\n    {\n        try{\n            $csClient = CloudSearchClient::factory(array(\n                            'key'          =&gt; 'YOUR_KEY',\n                            'secret'      =&gt; 'YOUR_SECRET',\n                            'region'     =&gt;  'us-east-1'\n\n                        ));\n\n            $this-&gt;client = $csClient-&gt;getDomainClient(\n                        $domain,\n                        array(\n                            'credentials' =&gt; $csClient-&gt;getCredentials(),\n                            'scheme' =&gt; 'HTTPS'\n                        )\n                    );\n        }\n        catch(Exception $ex){\n            echo \"Exception: \";\n            echo $ex-&gt;getMessage();\n        }\n        //$this-&gt;client-&gt;addSubscriber(LogPlugin::getDebugPlugin());        \n    }\n    function search($queryStr, $domain){\n\n        $this-&gt;connect($domain);\n\n        $result = $this-&gt;client-&gt;search(array(\n            'query' =&gt; $queryStr,\n            'queryParser' =&gt; 'lucene',\n            'size' =&gt; 100,\n            'return' =&gt; '_score,_all_fields'\n            ))-&gt;toArray();\n\n        return json_encode($result['hits']);\n        //$hitCount = $result-&gt;getPath('hits/found');\n        //echo \"Number of Hits: {$hitCount}\\n\";\n    }\n\n    function deleteDocs($idArray, $operation = 'delete'){\n\n        $batch = array();\n\n        foreach($idArray as $id){\n            //dumpArray($song);\n            $batch[] = array(\n                        'type'        =&gt; $operation,\n                        'id'        =&gt; $id);                       \n        }\n        $batch = array_filter($batch);\n        $jsonObj = json_encode($batch, JSON_HEX_TAG | JSON_HEX_APOS | JSON_HEX_QUOT | JSON_HEX_AMP);\n\n        print_r($this-&gt;client-&gt;uploadDocuments(array(\n                        'documents'     =&gt; $jsonObj,\n                        'contentType'     =&gt;'application/json'\n                    )));\n\n        return $result['status'] == 'success' ? mb_strlen($jsonObj) : 0;\n    }   \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22874015,"reputation":1,"user_id":17016627,"display_name":"Meena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632749872,"creation_date":1632749872,"answer_id":69347650,"question_id":32190138,"body_markdown":"Modified for C# - Deleting uploaded document in cloud search\r\n\r\n     public void DeleteUploadedDocuments(string location)\r\n        {\r\n            SearchRequest searchRequest = new SearchRequest { };\r\n            searchRequest = new SearchRequest { Query = &quot;resourcename:&#39;filepath&#39;&quot;, QueryParser = QueryParser.Lucene, Size = 10000 };\r\n            searchClient = new AmazonCloudSearchDomainClient( ConfigurationManager.AppSettings[&quot;awsAccessKeyId&quot;]  ,  ConfigurationManager.AppSettings[&quot;awsSecretAccessKey&quot;]  , new AmazonCloudSearchDomainConfig { ServiceURL = ConfigurationManager.AppSettings[&quot;CloudSearchEndPoint&quot;] });\r\n\r\n            SearchResponse searchResponse = searchClient.Search(searchRequest);\r\n            JArray docs = new JArray();\r\n\r\n            foreach (Hit hit in searchResponse.Hits.Hit)\r\n            {\r\n                JObject doc = new JObject();\r\n                doc.Add(&quot;id&quot;, hit.Id);\r\n                doc.Add(&quot;type&quot;, &quot;delete&quot;);\r\n                docs.Add(doc);\r\n            }\r\n\r\n            UpdateIndexDocument&lt;JArray&gt;(docs, ConfigurationManager.AppSettings[&quot;CloudSearchEndPoint&quot;]);\r\n        }\r\n\r\n        public void UpdateIndexDocument&lt;T&gt;(T document, string DocumentUrl)\r\n        {\r\n            AmazonCloudSearchDomainConfig config = new AmazonCloudSearchDomainConfig { ServiceURL = DocumentUrl };\r\n            AmazonCloudSearchDomainClient searchClient = new AmazonCloudSearchDomainClient( ConfigurationManager.AppSettings[&quot;awsAccessKeyId&quot;]  ,  ConfigurationManager.AppSettings[&quot;awsSecretAccessKey&quot;]   , config);\r\n            using (Stream stream = GenerateStreamFromString(JsonConvert.SerializeObject(document)))\r\n            {\r\n                UploadDocumentsRequest upload = new UploadDocumentsRequest()\r\n                {\r\n                    ContentType = &quot;application/json&quot;,\r\n                    Documents = stream\r\n                };\r\n                searchClient.UploadDocuments(upload);\r\n            };\r\n\r\n        }\r\n","title":"CloudSearch deleteByQuery","body":"<p>Modified for C# - Deleting uploaded document in cloud search</p>\n<pre><code> public void DeleteUploadedDocuments(string location)\n    {\n        SearchRequest searchRequest = new SearchRequest { };\n        searchRequest = new SearchRequest { Query = &quot;resourcename:'filepath'&quot;, QueryParser = QueryParser.Lucene, Size = 10000 };\n        searchClient = new AmazonCloudSearchDomainClient( ConfigurationManager.AppSettings[&quot;awsAccessKeyId&quot;]  ,  ConfigurationManager.AppSettings[&quot;awsSecretAccessKey&quot;]  , new AmazonCloudSearchDomainConfig { ServiceURL = ConfigurationManager.AppSettings[&quot;CloudSearchEndPoint&quot;] });\n\n        SearchResponse searchResponse = searchClient.Search(searchRequest);\n        JArray docs = new JArray();\n\n        foreach (Hit hit in searchResponse.Hits.Hit)\n        {\n            JObject doc = new JObject();\n            doc.Add(&quot;id&quot;, hit.Id);\n            doc.Add(&quot;type&quot;, &quot;delete&quot;);\n            docs.Add(doc);\n        }\n\n        UpdateIndexDocument&lt;JArray&gt;(docs, ConfigurationManager.AppSettings[&quot;CloudSearchEndPoint&quot;]);\n    }\n\n    public void UpdateIndexDocument&lt;T&gt;(T document, string DocumentUrl)\n    {\n        AmazonCloudSearchDomainConfig config = new AmazonCloudSearchDomainConfig { ServiceURL = DocumentUrl };\n        AmazonCloudSearchDomainClient searchClient = new AmazonCloudSearchDomainClient( ConfigurationManager.AppSettings[&quot;awsAccessKeyId&quot;]  ,  ConfigurationManager.AppSettings[&quot;awsSecretAccessKey&quot;]   , config);\n        using (Stream stream = GenerateStreamFromString(JsonConvert.SerializeObject(document)))\n        {\n            UploadDocumentsRequest upload = new UploadDocumentsRequest()\n            {\n                ContentType = &quot;application/json&quot;,\n                Documents = stream\n            };\n            searchClient.UploadDocuments(upload);\n        };\n\n    }\n</code></pre>\n"}],"owner":{"account_id":5441092,"reputation":299,"user_id":4329173,"accept_rate":40,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":721,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32192324,"answer_count":3,"score":3,"last_activity_date":1632749872,"creation_date":1440444273,"question_id":32190138,"body_markdown":"The official Solr Java API has a deleteByQuery operation where we can delete documents that satisfy a query. The AWS CloudSearch SDK doesn&#39;t seem to have matching functionality. Am I just not seeing the deleteByQuery equivalent, or is this something we&#39;ll need to roll our own?\r\n\r\nSomething like this:\r\n\r\n    SearchRequest searchRequest = new SearchRequest();\r\n    searchRequest.setQuery(queryString);\r\n    searchRequest.setReturn(&quot;id,version&quot;);\r\n    SearchResult searchResult = awsCloudSearch.search(searchRequest);\r\n    JSONArray docs = new JSONArray();\r\n    for (Hit hit : searchResult.getHits().getHit()) {\r\n    \tJSONObject doc = new JSONObject();\r\n    \tdoc.put(&quot;id&quot;, hit.getId());\r\n    \t// is version necessary?\r\n    \tdoc.put(&quot;version&quot;, hit.getFields().get(&quot;version&quot;).get(0));\r\n    \tdoc.put(&quot;type&quot;, &quot;delete&quot;);\r\n    \tdocs.put(doc);\r\n    }\r\n    UploadDocumentsRequest uploadDocumentsRequest = new UploadDocumentsRequest();\r\n    StringInputStream documents = new StringInputStream(docs.toString());\r\n    uploadDocumentsRequest.setDocuments(documents);\r\n    UploadDocumentsResult uploadResult = awsCloudSearch.uploadDocuments(uploadDocumentsRequest);\r\n\r\nIs this reasonable? Is there an easier way?","title":"CloudSearch deleteByQuery","body":"<p>The official Solr Java API has a deleteByQuery operation where we can delete documents that satisfy a query. The AWS CloudSearch SDK doesn't seem to have matching functionality. Am I just not seeing the deleteByQuery equivalent, or is this something we'll need to roll our own?</p>\n\n<p>Something like this:</p>\n\n<pre><code>SearchRequest searchRequest = new SearchRequest();\nsearchRequest.setQuery(queryString);\nsearchRequest.setReturn(\"id,version\");\nSearchResult searchResult = awsCloudSearch.search(searchRequest);\nJSONArray docs = new JSONArray();\nfor (Hit hit : searchResult.getHits().getHit()) {\n    JSONObject doc = new JSONObject();\n    doc.put(\"id\", hit.getId());\n    // is version necessary?\n    doc.put(\"version\", hit.getFields().get(\"version\").get(0));\n    doc.put(\"type\", \"delete\");\n    docs.put(doc);\n}\nUploadDocumentsRequest uploadDocumentsRequest = new UploadDocumentsRequest();\nStringInputStream documents = new StringInputStream(docs.toString());\nuploadDocumentsRequest.setDocuments(documents);\nUploadDocumentsResult uploadResult = awsCloudSearch.uploadDocuments(uploadDocumentsRequest);\n</code></pre>\n\n<p>Is this reasonable? Is there an easier way?</p>\n"},{"tags":["java","authentication","ssl","ssl-certificate","jmx"],"owner":{"account_id":19877744,"reputation":101,"user_id":14562385,"display_name":"shibendra chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632749573,"creation_date":1632737911,"question_id":69344971,"body_markdown":"Introduction - I have a test JMX agent/server &amp; JMX client. Both are having SSL communication (2way) via command-line launching time JVM attribute set (with -D option). \r\n\r\nAgent/Server has `serverkeystore.jks`, and `servertruststore.jks`. Client has `clientkeystore.jks` &amp; `clienttruststore.jks. servertruststore.jks` has imported `client certificate. clienttruststore.jks` has imported `server certificate`. \r\nNote: jks are self signed (produced from keytool )\r\n\r\nThis is okay and working when both are launched from the command line with VM arguments \r\n```\r\n[ Agent/server side VM args in cmnd line  -Dcom.sun.management.jmxremote.port=9999 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=true -Dcom.sun.management.jmxremote.ssl.need.client.auth=true -Dcom.sun.management.jmxremote.registry.ssl=true -Djavax.net.ssl.keyStore=&quot;C:\\Task\\serverkeystore.jks&quot; -Djavax.net.ssl.keyStorePassword=serverpass -Djavax.net.ssl.trustStore=&quot;C:\\Task\\servertruststore.jks&quot; -Djavax.net.ssl.trustStorePassword=servertrustpass -Djdk.tls.server.protocols=TLSv1.2 -Djavax.net.debug=all. ] \r\n```\r\nWorking Okay\r\n```\r\n[ Client side VM args in cmd line -Djavax.net.ssl.trustStore=&quot;C:\\Task\\clienttruststore.jks&quot; -Djavax.net.ssl.trustStorePassword=clienttrustpass -Djavax.net.ssl.keyStore=&quot;C:\\Task\\clientkeystore.jks&quot; -Djavax.net.ssl.keyStorePassword=clientpass -Djdk.tls.client.protocols=TLSv1.2 ] \r\n```\r\nWorking Okay\r\n\r\nObjective - Using the same jks files as in the command line above, The requirement is now, not to use VM args as command line, rather set those from inside the program, so that those are not visible in deployment production time in commands like &quot;ps -fu&quot;. \r\n\r\nNote: Client-side and JMX calls are working okay when I use System.setProperty for all client VM args from inside client prog in client-side and connect the Agent/Server which is launched with VM args in the command line.\r\n\r\nSo the Issue is - For Agent /Server-side, although after all Vm args are set in System.setProperty, getProperty is returning values that are set, on server-side some extra code needs to be written. So when I google and found some code snippets which include - `LocateRegistry.createRegistry`, `JMXConnectorServerFactory.newJMXConnectorServer`, those are done. but somehow during SSL handshake its throwing error like :\r\n\r\n&lt;&lt; Error &gt;&gt;\r\n```\r\nFatal (UNEXPECTED_MESSAGE): Unsupported or unrecognized SSL message\r\n```\r\n&lt;&lt; Stack trace in summary &gt;&gt; \r\n```\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.834 IST|TrustStoreManager.java:112|trustStore is: C:\\Task\\servertruststore.jks\r\ntrustStore type is: pkcs12\r\ntrustStore provider is:\r\nthe last modified time is: Mon Sep 20 19:41:21 IST 2021\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.836 IST|TrustStoreManager.java:311|Reload the trust store\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.993 IST|TrustStoreManager.java:318|Reload trust certs\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.994 IST|TrustStoreManager.java:323|Reloaded 1 trust certs\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.999 IST|X509TrustManagerImpl.java:79|adding as trusted certificates (\r\n  &quot;certificate&quot; : {\r\n    &quot;version&quot;            : &quot;v3&quot;,\r\n    &quot;serial number&quot;      : &quot;02 23 71 B2&quot;,\r\n    &quot;signature algorithm&quot;: &quot;SHA256withDSA&quot;,\r\n\r\n...\r\n...\r\n\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.001 IST|SSLContextImpl.java:1088|keyStore is : C:\\Task\\serverkeystore.jks\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.004 IST|SSLContextImpl.java:1089|keyStore type is : pkcs12\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.005 IST|SSLContextImpl.java:1091|keyStore provider is :\r\njavax.net.ssl|ALL|01|main|2021-09-27 15:11:30.006 IST|SSLContextImpl.java:1126|init keystore\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.074 IST|SSLContextImpl.java:1149|init keymanager of type SunX509\r\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.137 IST|SunX509KeyManagerImpl.java:164|found key for : serverkey (\r\n  &quot;certificate&quot; : {\r\n    &quot;version&quot;            : &quot;v3&quot;,\r\n    &quot;serial number&quot;      : &quot;19 09 4F 95&quot;,\r\n    &quot;signature algorithm&quot;: &quot;SHA256withDSA&quot;,\r\n\r\n...\r\n...\r\n\r\njavax.net.ssl|ALL|01|main|2021-09-27 15:11:30.137 IST|SSLContextImpl.java:115|trigger seeding of SecureRandom\r\njavax.net.ssl|ALL|01|main|2021-09-27 15:11:31.572 IST|SSLContextImpl.java:119|done seeding of SecureRandom\r\n\r\nsystem properties are set\r\n\r\nCreate RMI registry on port 9999\r\n\r\nServer url is service:jmx:rmi:///jndi/rmi://:9999/jmxrmi\r\n\r\nStart the RMI connector server\r\n\r\n\r\njavax.net.ssl|DEBUG|0F|RMI TCP Accept-0|2021-09-27 15:11:31.830 IST|SSLConfiguration.java:457|System property jdk.tls.client.SignatureSchemes is set to &#39;null&#39;\r\n\r\njavax.net.ssl|DEBUG|0F|RMI TCP Accept-0|2021-09-27 15:11:31.838 \r\nIST|SSLConfiguration.java:457|System property jdk.tls.server.SignatureSchemes is set to &#39;null&#39;\r\n\r\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.854 IST|SSLSocketInputRecord.java:488|Raw read (\r\n  0000: 4A 52 4D 49 00                                     JRMI.\r\n)\r\n\r\njavax.net.ssl|ERROR|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.857 IST|TransportContext.java:341|Fatal (UNEXPECTED_MESSAGE): Unsupported or unrecognized SSL message (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\r\n        at java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451)\r\n        at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:175)\r\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:110)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\r\n        at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:829)\r\n\r\njavax.net.ssl|ALL|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.857 IST|SSLSessionImpl.java:784|Invalidated session:  Session(1632735691832|SSL_NULL_WITH_NULL_NULL)\r\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.865 IST|SSLSocketOutputRecord.java:71|WRITE: TLS12 alert(unexpected_message), length = 2\r\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.866 IST|SSLSocketOutputRecord.java:85|Raw write (\r\n  0000: 15 03 03 00 02 02 0A                               .......\r\n)\r\n\r\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.867 IST|SSLSocketImpl.java:1638|close the underlying socket\r\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.868 IST|SSLSocketImpl.java:1657|close the SSL connection (initiative)\r\n\r\n\r\njavax.net.ssl|DEBUG|15|RMI TCP Connection(3)-172.24.160.1|2021-09-27 15:11:31.880 IST|SSLSocketInputRecord.java:488|Raw read (\r\n  0000: 4A 52 4D 49 00                                     JRMI.\r\n)\r\n\r\njavax.net.ssl|ERROR|15|RMI TCP Connection(3)-172.24.160.1|2021-09-27 15:11:31.881 IST|TransportContext.java:341|Fatal (UNEXPECTED_MESSAGE): Unsupported or unrecognized SSL message (\r\n&quot;throwable&quot; : {\r\n  javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\r\n        at \r\njava.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451)\r\n```\r\n&lt;&lt; Agent / server code snippets &gt;&gt;\r\n```\r\n    boolean pwd_auth = false;\r\n    boolean pwd_auth = false;\r\n    boolean ssl_auth = true;\r\n    String strPort = &quot;9999&quot;;\r\n    int port = 9999;\r\n    env = new HashMap&lt;String,Object&gt;();\r\n    System.setProperty(&quot;com.sun.management.jmxremote.authenticate&quot;, String.valueOf(pwd_auth));\r\n    System.setProperty(&quot;com.sun.management.jmxremote.ssl&quot;, String.valueOf(ssl_auth));\r\n    System.setProperty(&quot;com.sun.management.jmxremote.registry.ssl&quot; , String.valueOf(ssl_auth));\r\n    System.setProperty(&quot;com.sun.management.jmxremote.ssl.need.client.auth&quot;, String.valueOf(ssl_auth));\r\n    System.setProperty(&quot;com.sun.management.jmxremote.port&quot;,strPort);\r\n    System.setProperty(&quot;com.sun.management.jmxremote.rmi.port&quot;,strPort);\r\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;, Config.keyStoreFile);// &quot;C:\\\\Task\\\\serverkeystore.jks&quot;;\r\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, Config.keyStorePwd );\r\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot; , Config.trustStoreFile ); // &quot;C:\\\\Task\\\\servertruststore.jks&quot;;\r\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot; , Config.trustStorePwd);\r\n    System.setProperty(&quot;jdk.tls.server.protocols&quot;, Config.protocol); // TLSv1.2\r\n\r\n    env.put(RMIConnectorServer.RMI_SERVER_SOCKET_FACTORY_ATTRIBUTE, new SslRMIServerSocketFactory()); // if i comment this, then no exception in trace, but then during client connection, server will not respond, client gets failure in connection.\r\n    \r\n    echo(&quot;system properties are set&quot;);\r\n    echo(&quot;Create RMI registry on port &quot; + port); // system out only\r\n    LocateRegistry.createRegistry(port);\r\n    mbs = ManagementFactory.getPlatformMBeanServer();\r\n    String strUrl = &quot;service:jmx:rmi:///jndi/rmi://:&quot;+port+&quot;/jmxrmi&quot;;\r\n    JMXServiceURL url = new JMXServiceURL(strUrl);\r\n    echo (&quot;Server url is &quot; + strUrl);\r\n    JMXConnectorServer cs = JMXConnectorServerFactory.newJMXConnectorServer(url, env, mbs);\r\n    echo(&quot;Start the RMI connector server&quot;);\r\n    cs.start();\r\n\r\n    Hello mbean = new Hello(); // MBean registering now\r\n    name = new ObjectName(Config.oname);\r\n    mbs.registerMBean(mbean, name);\r\n ```    \r\n    Note: For VM args in the command line, this system.setProperty, env, createRegistry, newJMXConnectorServer calls are not required, Only MBeans registration is enough.\r\n    \r\n\r\nSo, from the stack trace, it shows, the jks files are read with passwords provided in `System.setProperty` calls. so this setProperty is working. but somehow something more code statements are required or I am missing something in code statements. \r\n\r\nCan anyone suggest any improvements, changes to be done to make this happen?\r\n\r\n\t\t\r\n\r\n\r\n\t\t\r\n\t\t","title":"JMX Agent Server - launch agent with SSL attributes set inside Programme","body":"<p>Introduction - I have a test JMX agent/server &amp; JMX client. Both are having SSL communication (2way) via command-line launching time JVM attribute set (with -D option).</p>\n<p>Agent/Server has <code>serverkeystore.jks</code>, and <code>servertruststore.jks</code>. Client has <code>clientkeystore.jks</code> &amp; <code>clienttruststore.jks. servertruststore.jks</code> has imported <code>client certificate. clienttruststore.jks</code> has imported <code>server certificate</code>.\nNote: jks are self signed (produced from keytool )</p>\n<p>This is okay and working when both are launched from the command line with VM arguments</p>\n<pre><code>[ Agent/server side VM args in cmnd line  -Dcom.sun.management.jmxremote.port=9999 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=true -Dcom.sun.management.jmxremote.ssl.need.client.auth=true -Dcom.sun.management.jmxremote.registry.ssl=true -Djavax.net.ssl.keyStore=&quot;C:\\Task\\serverkeystore.jks&quot; -Djavax.net.ssl.keyStorePassword=serverpass -Djavax.net.ssl.trustStore=&quot;C:\\Task\\servertruststore.jks&quot; -Djavax.net.ssl.trustStorePassword=servertrustpass -Djdk.tls.server.protocols=TLSv1.2 -Djavax.net.debug=all. ] \n</code></pre>\n<p>Working Okay</p>\n<pre><code>[ Client side VM args in cmd line -Djavax.net.ssl.trustStore=&quot;C:\\Task\\clienttruststore.jks&quot; -Djavax.net.ssl.trustStorePassword=clienttrustpass -Djavax.net.ssl.keyStore=&quot;C:\\Task\\clientkeystore.jks&quot; -Djavax.net.ssl.keyStorePassword=clientpass -Djdk.tls.client.protocols=TLSv1.2 ] \n</code></pre>\n<p>Working Okay</p>\n<p>Objective - Using the same jks files as in the command line above, The requirement is now, not to use VM args as command line, rather set those from inside the program, so that those are not visible in deployment production time in commands like &quot;ps -fu&quot;.</p>\n<p>Note: Client-side and JMX calls are working okay when I use System.setProperty for all client VM args from inside client prog in client-side and connect the Agent/Server which is launched with VM args in the command line.</p>\n<p>So the Issue is - For Agent /Server-side, although after all Vm args are set in System.setProperty, getProperty is returning values that are set, on server-side some extra code needs to be written. So when I google and found some code snippets which include - <code>LocateRegistry.createRegistry</code>, <code>JMXConnectorServerFactory.newJMXConnectorServer</code>, those are done. but somehow during SSL handshake its throwing error like :</p>\n<p>&lt;&lt; Error &gt;&gt;</p>\n<pre><code>Fatal (UNEXPECTED_MESSAGE): Unsupported or unrecognized SSL message\n</code></pre>\n<p>&lt;&lt; Stack trace in summary &gt;&gt;</p>\n<pre><code>javax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.834 IST|TrustStoreManager.java:112|trustStore is: C:\\Task\\servertruststore.jks\ntrustStore type is: pkcs12\ntrustStore provider is:\nthe last modified time is: Mon Sep 20 19:41:21 IST 2021\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.836 IST|TrustStoreManager.java:311|Reload the trust store\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.993 IST|TrustStoreManager.java:318|Reload trust certs\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.994 IST|TrustStoreManager.java:323|Reloaded 1 trust certs\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:29.999 IST|X509TrustManagerImpl.java:79|adding as trusted certificates (\n  &quot;certificate&quot; : {\n    &quot;version&quot;            : &quot;v3&quot;,\n    &quot;serial number&quot;      : &quot;02 23 71 B2&quot;,\n    &quot;signature algorithm&quot;: &quot;SHA256withDSA&quot;,\n\n...\n...\n\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.001 IST|SSLContextImpl.java:1088|keyStore is : C:\\Task\\serverkeystore.jks\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.004 IST|SSLContextImpl.java:1089|keyStore type is : pkcs12\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.005 IST|SSLContextImpl.java:1091|keyStore provider is :\njavax.net.ssl|ALL|01|main|2021-09-27 15:11:30.006 IST|SSLContextImpl.java:1126|init keystore\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.074 IST|SSLContextImpl.java:1149|init keymanager of type SunX509\njavax.net.ssl|DEBUG|01|main|2021-09-27 15:11:30.137 IST|SunX509KeyManagerImpl.java:164|found key for : serverkey (\n  &quot;certificate&quot; : {\n    &quot;version&quot;            : &quot;v3&quot;,\n    &quot;serial number&quot;      : &quot;19 09 4F 95&quot;,\n    &quot;signature algorithm&quot;: &quot;SHA256withDSA&quot;,\n\n...\n...\n\njavax.net.ssl|ALL|01|main|2021-09-27 15:11:30.137 IST|SSLContextImpl.java:115|trigger seeding of SecureRandom\njavax.net.ssl|ALL|01|main|2021-09-27 15:11:31.572 IST|SSLContextImpl.java:119|done seeding of SecureRandom\n\nsystem properties are set\n\nCreate RMI registry on port 9999\n\nServer url is service:jmx:rmi:///jndi/rmi://:9999/jmxrmi\n\nStart the RMI connector server\n\n\njavax.net.ssl|DEBUG|0F|RMI TCP Accept-0|2021-09-27 15:11:31.830 IST|SSLConfiguration.java:457|System property jdk.tls.client.SignatureSchemes is set to 'null'\n\njavax.net.ssl|DEBUG|0F|RMI TCP Accept-0|2021-09-27 15:11:31.838 \nIST|SSLConfiguration.java:457|System property jdk.tls.server.SignatureSchemes is set to 'null'\n\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.854 IST|SSLSocketInputRecord.java:488|Raw read (\n  0000: 4A 52 4D 49 00                                     JRMI.\n)\n\njavax.net.ssl|ERROR|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.857 IST|TransportContext.java:341|Fatal (UNEXPECTED_MESSAGE): Unsupported or unrecognized SSL message (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\n        at java.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451)\n        at java.base/sun.security.ssl.SSLSocketInputRecord.decode(SSLSocketInputRecord.java:175)\n        at java.base/sun.security.ssl.SSLTransport.decode(SSLTransport.java:110)\n        at java.base/sun.security.ssl.SSLSocketImpl.decode(SSLSocketImpl.java:1418)\n        at java.base/sun.security.ssl.SSLSocketImpl.readHandshakeRecord(SSLSocketImpl.java:1324)\n        at java.base/sun.security.ssl.SSLSocketImpl.startHandshake(SSLSocketImpl.java:440)\n        at java.base/sun.security.ssl.SSLSocketImpl.ensureNegotiated(SSLSocketImpl.java:829)\n\njavax.net.ssl|ALL|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.857 IST|SSLSessionImpl.java:784|Invalidated session:  Session(1632735691832|SSL_NULL_WITH_NULL_NULL)\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.865 IST|SSLSocketOutputRecord.java:71|WRITE: TLS12 alert(unexpected_message), length = 2\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.866 IST|SSLSocketOutputRecord.java:85|Raw write (\n  0000: 15 03 03 00 02 02 0A                               .......\n)\n\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.867 IST|SSLSocketImpl.java:1638|close the underlying socket\njavax.net.ssl|DEBUG|15|RMI TCP Connection(2)-172.24.160.1|2021-09-27 15:11:31.868 IST|SSLSocketImpl.java:1657|close the SSL connection (initiative)\n\n\njavax.net.ssl|DEBUG|15|RMI TCP Connection(3)-172.24.160.1|2021-09-27 15:11:31.880 IST|SSLSocketInputRecord.java:488|Raw read (\n  0000: 4A 52 4D 49 00                                     JRMI.\n)\n\njavax.net.ssl|ERROR|15|RMI TCP Connection(3)-172.24.160.1|2021-09-27 15:11:31.881 IST|TransportContext.java:341|Fatal (UNEXPECTED_MESSAGE): Unsupported or unrecognized SSL message (\n&quot;throwable&quot; : {\n  javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\n        at \njava.base/sun.security.ssl.SSLSocketInputRecord.handleUnknownRecord(SSLSocketInputRecord.java:451)\n</code></pre>\n<p>&lt;&lt; Agent / server code snippets &gt;&gt;</p>\n<pre><code>    boolean pwd_auth = false;\n    boolean pwd_auth = false;\n    boolean ssl_auth = true;\n    String strPort = &quot;9999&quot;;\n    int port = 9999;\n    env = new HashMap&lt;String,Object&gt;();\n    System.setProperty(&quot;com.sun.management.jmxremote.authenticate&quot;, String.valueOf(pwd_auth));\n    System.setProperty(&quot;com.sun.management.jmxremote.ssl&quot;, String.valueOf(ssl_auth));\n    System.setProperty(&quot;com.sun.management.jmxremote.registry.ssl&quot; , String.valueOf(ssl_auth));\n    System.setProperty(&quot;com.sun.management.jmxremote.ssl.need.client.auth&quot;, String.valueOf(ssl_auth));\n    System.setProperty(&quot;com.sun.management.jmxremote.port&quot;,strPort);\n    System.setProperty(&quot;com.sun.management.jmxremote.rmi.port&quot;,strPort);\n    System.setProperty(&quot;javax.net.ssl.keyStore&quot;, Config.keyStoreFile);// &quot;C:\\\\Task\\\\serverkeystore.jks&quot;;\n    System.setProperty(&quot;javax.net.ssl.keyStorePassword&quot;, Config.keyStorePwd );\n    System.setProperty(&quot;javax.net.ssl.trustStore&quot; , Config.trustStoreFile ); // &quot;C:\\\\Task\\\\servertruststore.jks&quot;;\n    System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot; , Config.trustStorePwd);\n    System.setProperty(&quot;jdk.tls.server.protocols&quot;, Config.protocol); // TLSv1.2\n\n    env.put(RMIConnectorServer.RMI_SERVER_SOCKET_FACTORY_ATTRIBUTE, new SslRMIServerSocketFactory()); // if i comment this, then no exception in trace, but then during client connection, server will not respond, client gets failure in connection.\n    \n    echo(&quot;system properties are set&quot;);\n    echo(&quot;Create RMI registry on port &quot; + port); // system out only\n    LocateRegistry.createRegistry(port);\n    mbs = ManagementFactory.getPlatformMBeanServer();\n    String strUrl = &quot;service:jmx:rmi:///jndi/rmi://:&quot;+port+&quot;/jmxrmi&quot;;\n    JMXServiceURL url = new JMXServiceURL(strUrl);\n    echo (&quot;Server url is &quot; + strUrl);\n    JMXConnectorServer cs = JMXConnectorServerFactory.newJMXConnectorServer(url, env, mbs);\n    echo(&quot;Start the RMI connector server&quot;);\n    cs.start();\n\n    Hello mbean = new Hello(); // MBean registering now\n    name = new ObjectName(Config.oname);\n    mbs.registerMBean(mbean, name);\n</code></pre>\n<pre><code>Note: For VM args in the command line, this system.setProperty, env, createRegistry, newJMXConnectorServer calls are not required, Only MBeans registration is enough.\n</code></pre>\n<p>So, from the stack trace, it shows, the jks files are read with passwords provided in <code>System.setProperty</code> calls. so this setProperty is working. but somehow something more code statements are required or I am missing something in code statements.</p>\n<p>Can anyone suggest any improvements, changes to be done to make this happen?</p>\n"},{"tags":["java","android","bluetooth","bluetooth-lowenergy"],"comments":[{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1621964970,"post_id":67688084,"comment_id":119651767,"body_markdown":"You want to trigger an action on your JDY-08 Master as soon as it detects your android phone?","body":"You want to trigger an action on your JDY-08 Master as soon as it detects your android phone?"},{"owner":{"account_id":10093481,"reputation":11,"user_id":7459696,"display_name":"Javi"},"score":0,"creation_date":1621970772,"post_id":67688084,"comment_id":119654023,"body_markdown":"Yes, as soon as it detects the android phone with myDeviceName.","body":"Yes, as soon as it detects the android phone with myDeviceName."},{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1622012049,"post_id":67688084,"comment_id":119663548,"body_markdown":"You said _I can also see the Android device with myDeviceName but this does not trigger the action._ Where do you see myDeviceName? Have you tried adding a debug output to `void ble_response(String search_result)` to see what devices get picked up and with which signal strength","body":"You said <i>I can also see the Android device with myDeviceName but this does not trigger the action.</i> Where do you see myDeviceName? Have you tried adding a debug output to <code>void ble_response(String search_result)</code> to see what devices get picked up and with which signal strength"},{"owner":{"account_id":10093481,"reputation":11,"user_id":7459696,"display_name":"Javi"},"score":0,"creation_date":1622033607,"post_id":67688084,"comment_id":119672662,"body_markdown":"I can see it in NRFConnect app. I see both with myDeviceName but only the JDY-08 triggers the action. I don&#180;t know how to debug on the JDY-08 MASTER, I was given the task to make the phone change its name to myDeviceName being SLAVE, as the JDY-08 is looking for SLAVES with myDeviceName.","body":"I can see it in NRFConnect app. I see both with myDeviceName but only the JDY-08 triggers the action. I don&#180;t know how to debug on the JDY-08 MASTER, I was given the task to make the phone change its name to myDeviceName being SLAVE, as the JDY-08 is looking for SLAVES with myDeviceName."},{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1622088991,"post_id":67688084,"comment_id":119691082,"body_markdown":"Where does `ble_response()`run? On the JDY-Master itself or on a microcontroller (arduino, etc) to which the JDY-Master is connected to?","body":"Where does <code>ble_response()</code>run? On the JDY-Master itself or on a microcontroller (arduino, etc) to which the JDY-Master is connected to?"},{"owner":{"account_id":10093481,"reputation":11,"user_id":7459696,"display_name":"Javi"},"score":1,"creation_date":1622142387,"post_id":67688084,"comment_id":119713811,"body_markdown":"Sorry for the delay, I&#180;m trying to find out where is that code running.","body":"Sorry for the delay, I&#180;m trying to find out where is that code running."},{"owner":{"account_id":10114718,"reputation":2216,"user_id":7473793,"display_name":"Michael Kotzjan"},"score":0,"creation_date":1628854619,"post_id":67688084,"comment_id":121538235,"body_markdown":"Please answer your own question in case someone else comes across the same issue in the future :)","body":"Please answer your own question in case someone else comes across the same issue in the future :)"}],"answers":[{"tags":[],"owner":{"account_id":10093481,"reputation":11,"user_id":7459696,"display_name":"Javi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632749340,"creation_date":1632749340,"answer_id":69347507,"question_id":67688084,"body_markdown":"The problem was that the JDY-Master only received the name of JDY devices. All other devices show mac address and signal strength only. ","title":"Bluetooth module JDY-08 not finding Android device","body":"<p>The problem was that the JDY-Master only received the name of JDY devices. All other devices show mac address and signal strength only.</p>\n"}],"owner":{"account_id":10093481,"reputation":11,"user_id":7459696,"display_name":"Javi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69347507,"answer_count":1,"score":0,"last_activity_date":1632749340,"creation_date":1621946257,"question_id":67688084,"body_markdown":"I have 1 JDY-08 MASTER that scans looking for myDeviceName and triggers a function when it finds that device name.\r\n\r\n```\r\nString get_ble_scan_data(void){\r\n\r\n    String  final_result = &quot;&quot;;\r\n    String result = &quot;&quot;;//reset and declare\r\n    String extract = set_ble(&quot;AT+SCAN1&quot;);//scan for device name, signal strength and mac address\r\n    String extract2 = set_ble(&quot;AT+GETDCD&quot;);//get number of device found\r\n\r\n    //now we are going to check for which extraction has the data we interested in\r\n    if((extract.length() &gt; threshold or extract.length() &gt; threshold)){\r\n\r\n      result = extract;//pass extract as result\r\n      if(extract2.length() &gt; extract.length()){//check which is bigger\r\n        result = extract2;//pass extract2 as result if its bigger in length than extract\r\n        }\r\n      }\r\n\r\n    if(result.length() &gt; 0){//add filter and execution here\r\n      String filter = result;//copy\r\n      result = &quot;&quot;;// reset\r\n      while(filter.indexOf(&#39;=&#39;) &gt; -1){// we use the char = as a seperator\r\n\r\n        filter = filter.substring(filter.indexOf(&#39;=&#39;) + 1);//remove strings before seperator\r\n        result += filter.substring(0, filter.indexOf(&#39;\\n&#39;)) + &#39; &#39;; //extract till newline character\r\n        filter = filter.substring(filter.indexOf(result) + result.length());//remove extracted result so we go on to next extraction of same result if there is more device picked up\r\n         detect\r\n        }\r\n\r\n      result.trim();//remove spaces at the end or start if any\r\n\r\n      final_result = result;\r\n\r\n    }\r\n\r\n  return final_result;\r\n\r\n}\r\n\r\nvoid ble_response(String search_result){\r\n\r\n  String scan_result = search_result;//do bluetooth scan\r\n  if(scan_result.indexOf(myDeviceName) &gt; -1 ){//when data present in scan and it contains desired key\r\n  if(scan_result.indexOf(&#39; &#39;) == -1){//if only one ble is picked up\r\n\r\n    ble_macaddress = scan_result.substring(0, scan_result.indexOf(&#39;,&#39;));\r\n    scan_result = scan_result.substring(scan_result.indexOf(ble_macaddress) + 1 + ble_macaddress.length(), scan_result.length());//remove mac address\r\n    ble_strength = scan_result.substring(0, scan_result.indexOf(&#39;,&#39;));\r\n    ble_name = scan_result.substring(scan_result.indexOf(ble_strength) + 1 + ble_strength.length(), scan_result.length());//remove mac address\r\n\r\n    if(((int) ble_strength.toFloat()) &gt;= trigger_threshold and ble_name == key){\r\n\r\n      trigger_action();\r\n    }\r\n  }else{//if multiple ble is picked up\r\n\r\n    String cut = &quot;&quot;;\r\n    while(scan_result.indexOf(&#39;,&#39;) &gt; -1){//while there is still result to be processed\r\n\r\n      cut = scan_result.substring(0, scan_result.indexOf(&#39; &#39;));\r\n      scan_result = scan_result.substring(scan_result.indexOf(cut) + 1 + cut.length(), scan_result.length());\r\n      if(cut.indexOf(myDeviceName) &gt; -1){//only analyze if it contains key\r\n\r\n        ble_macaddress = cut.substring(0, cut.indexOf(&#39;,&#39;));\r\n        cut = cut.substring(cut.indexOf(ble_macaddress) + 1 + ble_macaddress.length(), cut.length());//remove mac address\r\n        ble_strength = cut.substring(0, cut.indexOf(&#39;,&#39;));\r\n        ble_name = cut.substring(cut.indexOf(ble_strength) + 1 + ble_strength.length(), cut.length());//remove mac address\r\n\r\n        if(((int) ble_strength.toFloat()) &gt;= trigger_threshold and ble_name == key){\r\n\r\n         trigger_action();\r\n          break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\nIf I use another JDY-08 device with one button, It finds the device and triggers the action:\r\n\r\n```\r\n\r\nif(!digitalRead(11)){//if button is pushed///////\r\n\r\n      delay(500);\r\n      set_ble(&quot;AT+NAMEmyDeviceName&quot;);//change ble name\r\n      while(!digitalRead(11));//do nothing while button is still pressed\r\n      delay(2000);//allow time before name change back\r\n      set_ble(&quot;AT+NAMEJDY-08&quot;);//change name back\r\n```\r\n\r\nBut when I use the phone It doesn&#180;t trigger the action:\r\n\r\n```\r\nprivate void advertise(){\r\n        final BluetoothLeAdvertiser advertiser = BluetoothAdapter.getDefaultAdapter().getBluetoothLeAdvertiser();\r\n        final AdvertiseSettings settings = new AdvertiseSettings.Builder()\r\n                .setAdvertiseMode( AdvertiseSettings.ADVERTISE_MODE_LOW_LATENCY )\r\n                .setTxPowerLevel( AdvertiseSettings.ADVERTISE_TX_POWER_HIGH )\r\n                .setConnectable( true )\r\n                .build();\r\n\r\n        final AdvertiseData data = new AdvertiseData.Builder()\r\n                .setIncludeDeviceName( true )\r\n                .build();\r\n\r\n        final AdvertiseCallback advertisingCallback = new AdvertiseCallback() {\r\n            @Override\r\n            public void onStartSuccess(AdvertiseSettings settingsInEffect) {\r\n                super.onStartSuccess(settingsInEffect);\r\n            }\r\n\r\n            @Override\r\n            public void onStartFailure(int errorCode) {\r\n                Log.e( &quot;BLE&quot;, &quot;Advertising onStartFailure: &quot; + errorCode );\r\n                super.onStartFailure(errorCode);\r\n            }\r\n        };\r\n        advertiser.startAdvertising(settings,data,advertisingCallback);\r\n\r\n        final Handler myTimerHandler = new Handler();\r\n        myTimerHandler.postDelayed(\r\n                new Runnable()\r\n                {\r\n                    @Override\r\n                    public void run(){\r\n                        advertiser.stopAdvertising(advertisingCallback);\r\n                    }\r\n                } , 30000);\r\n    }\r\n```\r\nI also use the intent with BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE.\r\n\r\nUsing NRFConnect app, I can see how the JDY-08 Button device changes the device name (That triggers the action on the JDY-08 MASTER). I can also see the Android device with myDeviceName but this does not trigger the action. Am I missing something in the Android app?","title":"Bluetooth module JDY-08 not finding Android device","body":"<p>I have 1 JDY-08 MASTER that scans looking for myDeviceName and triggers a function when it finds that device name.</p>\n<pre><code>String get_ble_scan_data(void){\n\n    String  final_result = &quot;&quot;;\n    String result = &quot;&quot;;//reset and declare\n    String extract = set_ble(&quot;AT+SCAN1&quot;);//scan for device name, signal strength and mac address\n    String extract2 = set_ble(&quot;AT+GETDCD&quot;);//get number of device found\n\n    //now we are going to check for which extraction has the data we interested in\n    if((extract.length() &gt; threshold or extract.length() &gt; threshold)){\n\n      result = extract;//pass extract as result\n      if(extract2.length() &gt; extract.length()){//check which is bigger\n        result = extract2;//pass extract2 as result if its bigger in length than extract\n        }\n      }\n\n    if(result.length() &gt; 0){//add filter and execution here\n      String filter = result;//copy\n      result = &quot;&quot;;// reset\n      while(filter.indexOf('=') &gt; -1){// we use the char = as a seperator\n\n        filter = filter.substring(filter.indexOf('=') + 1);//remove strings before seperator\n        result += filter.substring(0, filter.indexOf('\\n')) + ' '; //extract till newline character\n        filter = filter.substring(filter.indexOf(result) + result.length());//remove extracted result so we go on to next extraction of same result if there is more device picked up\n         detect\n        }\n\n      result.trim();//remove spaces at the end or start if any\n\n      final_result = result;\n\n    }\n\n  return final_result;\n\n}\n\nvoid ble_response(String search_result){\n\n  String scan_result = search_result;//do bluetooth scan\n  if(scan_result.indexOf(myDeviceName) &gt; -1 ){//when data present in scan and it contains desired key\n  if(scan_result.indexOf(' ') == -1){//if only one ble is picked up\n\n    ble_macaddress = scan_result.substring(0, scan_result.indexOf(','));\n    scan_result = scan_result.substring(scan_result.indexOf(ble_macaddress) + 1 + ble_macaddress.length(), scan_result.length());//remove mac address\n    ble_strength = scan_result.substring(0, scan_result.indexOf(','));\n    ble_name = scan_result.substring(scan_result.indexOf(ble_strength) + 1 + ble_strength.length(), scan_result.length());//remove mac address\n\n    if(((int) ble_strength.toFloat()) &gt;= trigger_threshold and ble_name == key){\n\n      trigger_action();\n    }\n  }else{//if multiple ble is picked up\n\n    String cut = &quot;&quot;;\n    while(scan_result.indexOf(',') &gt; -1){//while there is still result to be processed\n\n      cut = scan_result.substring(0, scan_result.indexOf(' '));\n      scan_result = scan_result.substring(scan_result.indexOf(cut) + 1 + cut.length(), scan_result.length());\n      if(cut.indexOf(myDeviceName) &gt; -1){//only analyze if it contains key\n\n        ble_macaddress = cut.substring(0, cut.indexOf(','));\n        cut = cut.substring(cut.indexOf(ble_macaddress) + 1 + ble_macaddress.length(), cut.length());//remove mac address\n        ble_strength = cut.substring(0, cut.indexOf(','));\n        ble_name = cut.substring(cut.indexOf(ble_strength) + 1 + ble_strength.length(), cut.length());//remove mac address\n\n        if(((int) ble_strength.toFloat()) &gt;= trigger_threshold and ble_name == key){\n\n         trigger_action();\n          break;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>If I use another JDY-08 device with one button, It finds the device and triggers the action:</p>\n<pre><code>\nif(!digitalRead(11)){//if button is pushed///////\n\n      delay(500);\n      set_ble(&quot;AT+NAMEmyDeviceName&quot;);//change ble name\n      while(!digitalRead(11));//do nothing while button is still pressed\n      delay(2000);//allow time before name change back\n      set_ble(&quot;AT+NAMEJDY-08&quot;);//change name back\n</code></pre>\n<p>But when I use the phone It doesn´t trigger the action:</p>\n<pre><code>private void advertise(){\n        final BluetoothLeAdvertiser advertiser = BluetoothAdapter.getDefaultAdapter().getBluetoothLeAdvertiser();\n        final AdvertiseSettings settings = new AdvertiseSettings.Builder()\n                .setAdvertiseMode( AdvertiseSettings.ADVERTISE_MODE_LOW_LATENCY )\n                .setTxPowerLevel( AdvertiseSettings.ADVERTISE_TX_POWER_HIGH )\n                .setConnectable( true )\n                .build();\n\n        final AdvertiseData data = new AdvertiseData.Builder()\n                .setIncludeDeviceName( true )\n                .build();\n\n        final AdvertiseCallback advertisingCallback = new AdvertiseCallback() {\n            @Override\n            public void onStartSuccess(AdvertiseSettings settingsInEffect) {\n                super.onStartSuccess(settingsInEffect);\n            }\n\n            @Override\n            public void onStartFailure(int errorCode) {\n                Log.e( &quot;BLE&quot;, &quot;Advertising onStartFailure: &quot; + errorCode );\n                super.onStartFailure(errorCode);\n            }\n        };\n        advertiser.startAdvertising(settings,data,advertisingCallback);\n\n        final Handler myTimerHandler = new Handler();\n        myTimerHandler.postDelayed(\n                new Runnable()\n                {\n                    @Override\n                    public void run(){\n                        advertiser.stopAdvertising(advertisingCallback);\n                    }\n                } , 30000);\n    }\n</code></pre>\n<p>I also use the intent with BluetoothAdapter.ACTION_REQUEST_DISCOVERABLE.</p>\n<p>Using NRFConnect app, I can see how the JDY-08 Button device changes the device name (That triggers the action on the JDY-08 MASTER). I can also see the Android device with myDeviceName but this does not trigger the action. Am I missing something in the Android app?</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1632747337,"post_id":69346914,"comment_id":122568979,"body_markdown":"You constantly create new instances of your Collection class with `new Collection()` and then work on those newly created objects. You should only create your collection object once and do all your work on that single object.","body":"You constantly create new instances of your Collection class with <code>new Collection()</code> and then work on those newly created objects. You should only create your collection object once and do all your work on that single object."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1632747562,"post_id":69346914,"comment_id":122569068,"body_markdown":"`if (title == c.getTitle() ...)` - check out [How do I compare Strings in Java?](https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java).","body":"<code>if (title == c.getTitle() ...)</code> - check out <a href=\"https://stackoverflow.com/questions/513832/how-do-i-compare-strings-in-java\">How do I compare Strings in Java?</a>."},{"owner":{"account_id":22157397,"reputation":25,"user_id":16404923,"display_name":"Vearaa"},"score":0,"creation_date":1632748453,"post_id":69346914,"comment_id":122569443,"body_markdown":"THANK YOU! You saved me from a big headache. Now I have a better understanding of how instances work.","body":"THANK YOU! You saved me from a big headache. Now I have a better understanding of how instances work."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1632748647,"post_id":69346914,"comment_id":122569530,"body_markdown":"You should follow the Java Naming Conventions: variable and method names are written in camelCase, and class names in PascalCase. So, for example, `MakeAlbum` should be `makeAlbum`, and `SortAlbumsRelease` should be `sortAlbumsRelease`. Further enum constants are written in UPPER_SNAKE_CASE, so `Genre.Jazz` should be `Genre.JAZZ` (I&#39;m assuming here that `Genre` is an enum type).","body":"You should follow the Java Naming Conventions: variable and method names are written in camelCase, and class names in PascalCase. So, for example, <code>MakeAlbum</code> should be <code>makeAlbum</code>, and <code>SortAlbumsRelease</code> should be <code>sortAlbumsRelease</code>. Further enum constants are written in UPPER_SNAKE_CASE, so <code>Genre.Jazz</code> should be <code>Genre.JAZZ</code> (I&#39;m assuming here that <code>Genre</code> is an enum type)."}],"answers":[{"tags":[],"owner":{"account_id":22584960,"reputation":1,"user_id":16769096,"display_name":"Nate"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632748438,"creation_date":1632748078,"answer_id":69347201,"question_id":69346914,"body_markdown":"The problem is that you&#39;re creating a new collection object per switch statement. Instead, create the object prior to your while loop.\r\n \r\n    //initialize collection object prior to while loop\r\n    Collection myCollection = new Collection();\r\n    while(true){\r\n            Scanner input = new Scanner(System.in); \r\n            String collect = input.nextLine();\r\n            String[] output = collect.split(&quot;,&quot;);\r\n            switch(output[0]){\r\n            case &quot;A&quot;: \r\n                Album a = new Album();\r\n                if(a.MakeAlbum(output) == true)\r\n                {\r\n                    //adding to the same collection object created previously\r\n                    if (myCollection.add(a) == true)\r\n                    {\r\n                        System.out.println(a + &quot; &gt;&gt; added.&quot;);\r\n                        break;\r\n                    }\r\n                    else\r\n                    {\r\n                        System.out.println(a + &quot;is already in the collection.&quot;);\r\n                        break;\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(&quot;Invalid Date!&quot;); \r\n                    break;\r\n                }\r\n            case &quot;D&quot;:\r\n                Album d = new Album();\r\n                d.MakeAlbum(output);\r\n                //removing from same collection object created previously\r\n                if (myCollection.remove(d) == true)\r\n                {\r\n                    System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; deleted.&quot;);\r\n                    break;\r\n                }\r\n                else\r\n                {\r\n                    System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; is not in the collection.&quot;);\r\n                    break;\r\n                }\r\n     \r\n          }\r\n  \r\n    }\r\n    \r\n\r\n\r\nShould be all that takes to make your program work, now you&#39;re always just adding and subtracting from a single Collection object. Before, you were creating a new collection object per switch, and these objects couldn&#39;t be accessed at the end of the while loop.\r\n\r\nDo this for the rest of your switch statements! I&#39;ve only done the first two here. Let me know if it runs!\r\n\r\n\r\n\r\n","title":"My Array and Int keep resetting values when their method runs","body":"<p>The problem is that you're creating a new collection object per switch statement. Instead, create the object prior to your while loop.</p>\n<pre><code>//initialize collection object prior to while loop\nCollection myCollection = new Collection();\nwhile(true){\n        Scanner input = new Scanner(System.in); \n        String collect = input.nextLine();\n        String[] output = collect.split(&quot;,&quot;);\n        switch(output[0]){\n        case &quot;A&quot;: \n            Album a = new Album();\n            if(a.MakeAlbum(output) == true)\n            {\n                //adding to the same collection object created previously\n                if (myCollection.add(a) == true)\n                {\n                    System.out.println(a + &quot; &gt;&gt; added.&quot;);\n                    break;\n                }\n                else\n                {\n                    System.out.println(a + &quot;is already in the collection.&quot;);\n                    break;\n                }\n            }\n            else\n            {\n                System.out.println(&quot;Invalid Date!&quot;); \n                break;\n            }\n        case &quot;D&quot;:\n            Album d = new Album();\n            d.MakeAlbum(output);\n            //removing from same collection object created previously\n            if (myCollection.remove(d) == true)\n            {\n                System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; deleted.&quot;);\n                break;\n            }\n            else\n            {\n                System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; is not in the collection.&quot;);\n                break;\n            }\n \n      }\n\n}\n</code></pre>\n<p>Should be all that takes to make your program work, now you're always just adding and subtracting from a single Collection object. Before, you were creating a new collection object per switch, and these objects couldn't be accessed at the end of the while loop.</p>\n<p>Do this for the rest of your switch statements! I've only done the first two here. Let me know if it runs!</p>\n"}],"owner":{"account_id":22157397,"reputation":25,"user_id":16404923,"display_name":"Vearaa"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632748890,"creation_date":1632746936,"question_id":69346914,"body_markdown":"I&#39;m currently doing an assignment which requires me to use classes to make an album collection manager. I&#39;ve been debugging and came across a problem. The Album[] is supposed to hold all the Album objects while numAlbums is supposed to keep track of the number of albums, but when I run the add method, it will increment the numAlbums and add the album to Album[], but once the method ends, it will reset instead of staying where it should be.\r\n\r\nThis is a problem especially since I can&#39;t print the album list since it relies on the numAlbums incrementing in value.\r\n\r\n```java\r\npublic class Collection {\r\n    private Album[] albums;\r\n    private int numAlbums; //number of albums currently in the collection\r\n    \r\n    \r\n    //find the album index, or return NOT_FOUND\r\n    private int find(Album album) \r\n    {\r\n        String title = album.getTitle(); // First, put the title and artist in string variables.\r\n        String artist = album.getArtist();\r\n        \r\n        for (int i = 0; i &lt; albums.length; i++) // Let&#39;s find this album.\r\n        {\r\n            Album c = new Album(); // Make Album c so we can compare every album.\r\n            c = albums[i];\r\n            \r\n            if (title == c.getTitle() &amp;&amp; artist == c.getArtist())  // If the title and artist match, then return the index.\r\n            {\r\n                return i; // We found the album!\r\n            }\r\n        }\r\n        return -1; // Album doesn&#39;t exist.\r\n    }\r\n    \r\n    //increase the capacity of the array list by 4\r\n    private void grow() \r\n    {\r\n        Album[] temp = new Album[getAlbums() + 4]; // Create new temp array with 4 more spaces.\r\n            \r\n        for (int i = 0; i &lt; albums.length; i++) // Use loop to insert all values from albums to temp.\r\n        {\r\n            temp[i] = albums[i];\r\n        }\r\n            \r\n        albums = temp; // Overwrite previous albums with new one.\r\n    }\r\n    \r\n    // Add an Album. Command A.\r\n    public boolean add(Album album) \r\n    {\r\n        int counter = 1;\r\n        \r\n        if (getAlbums() == 0) // If there are no albums, grow the list to the first 4 indexes.\r\n        {\r\n            Album[] temp = new Album[numAlbums + 4];\r\n            albums = temp;\r\n        }\r\n        else if (getAlbums() &gt; 0)\r\n        {\r\n            Album search = new Album();\r\n            \r\n            for (int i = 0; i &lt; albums.length; i++) // Check if the album has the same title and artist in the collection.\r\n            {\r\n                search = albums[i];\r\n                if (album.getTitle().equals(search.getTitle()) &amp;&amp; album.getArtist().equals(search.getArtist()) == true)\r\n                {\r\n                    return false;\r\n                }\r\n            }\r\n        }\r\n        \r\n        int a = getAlbums();\r\n        albums[a] = album; // Put the album in the collection.\r\n        a++; // Increase the amount of albums.\r\n        setAlbums(a);\r\n        \r\n        if (numAlbums == 4 * counter) // If the number of albums reach multiples of 4, then increase the array and counter.\r\n        {\r\n            grow();\r\n            counter++;\r\n        }\r\n        \r\n        for (int i = 0; i &lt; albums.length; i++) \r\n        {               \r\n             System.out.println(albums[i]); // Simple print of the list.         \r\n        }  \r\n        \r\n        return true;\r\n    }\r\n    \r\n    // Remove an Album. Command D.\r\n    public boolean remove(Album album) \r\n    {\r\n        if (find(album) == -1) // First, find the album to remove.\r\n        {\r\n            return false; // That album does not exist.\r\n        }\r\n        else // The album exists.\r\n        {\r\n            int index = find(album); // Copy the index number.\r\n            \r\n            for (int i = index; i &lt; albums.length; i++)\r\n            {\r\n                albums[i] = albums[i + 1]; // Shift the elements to the left by 1.\r\n            }\r\n        }\r\n        \r\n        int a = getAlbums();\r\n        a--; // Decrease the amount of albums.\r\n        setAlbums(a);\r\n        \r\n        \r\n        return true; // We removed it.\r\n    }\r\n    \r\n    //set to not available. Command L.\r\n    public boolean lendingOut(Album album) \r\n    {\r\n        if (find(album) == -1) // First, find the album to lend.\r\n        {\r\n            return false; // That album does not exist.\r\n        }\r\n        else // The album exists.\r\n        {\r\n            if (album.isAvailable() == false)\r\n            {\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                album.setAvailable(false);\r\n            }\r\n        }\r\n        return true; // We removed it.\r\n    }\r\n    \r\n    //set to available. Command R.\r\n    public boolean returnAlbum(Album album) \r\n    {\r\n        if (find(album) == -1) // First, find the album to lend.\r\n        {\r\n            return false; // That album does not exist.\r\n        }\r\n        else // The album exists.\r\n        {\r\n            if (album.isAvailable() == true)\r\n            {\r\n                return false;\r\n            }\r\n            else\r\n            {\r\n                album.setAvailable(true);\r\n            }\r\n        }\r\n        return true; // We removed it.\r\n    }\r\n    \r\n    //display the list without specifying the order. Command P.\r\n    public void print() \r\n    {\r\n        int y = getAlbums();\r\n        if (y == 0) // If the collection is empty, then return empty.\r\n        {\r\n            System.out.println(&quot;The collection is empty!&quot;);\r\n            return;\r\n        }\r\n        for (int i = 0; i &lt; albums.length; i++) \r\n        {               \r\n             System.out.println(albums[i]); // Simple print of the list.         \r\n        }   \r\n    }\r\n    \r\n    //display the list sorted by the release date. Command PD.\r\n    public void printByReleaseDate() \r\n    {\r\n        if (getAlbums() == 0) // If the collection is empty, then return empty.\r\n        {\r\n            System.out.println(&quot;The collection is empty!&quot;);\r\n            return;\r\n        }\r\n        \r\n        Album[] SortAlbumsRelease = new Album[numAlbums]; // Make another array to store the album list order.\r\n        \r\n        for (int i = 0; i &lt; albums.length; i++) \r\n        {               \r\n             SortAlbumsRelease[i] = albums[i]; // Copy the contents of the array.        \r\n        }   \r\n         \r\n        Album First = new Album(); // Create temp albums so we can compare.\r\n        Album Second = new Album();\r\n        Album temp = new Album();\r\n         \r\n        for (int o = 0; o &lt; albums.length; o++) // Go through every single album.\r\n        {               \r\n            for (int p = 0 + 1; p &lt; albums.length; p++) \r\n            {\r\n                First = SortAlbumsRelease[o];\r\n                Second = SortAlbumsRelease[p];\r\n                 \r\n                int compare = First.getReleaseDate().compareTo(Second.getReleaseDate()); // Use the compare method from date to get a value.\r\n                 \r\n                if (compare == -1) // If the first value is lower, then put that album in the previous slot.\r\n                {\r\n                    temp = SortAlbumsRelease[o];  \r\n                    SortAlbumsRelease[o] = SortAlbumsRelease[p];  \r\n                    SortAlbumsRelease[p] = temp;  \r\n                }\r\n            }\r\n        }\r\n         \r\n        for (int i = 0; i &lt; albums.length; i++) // Print the list.\r\n        {               \r\n             System.out.println(SortAlbumsRelease[i]);         \r\n        }\r\n    }\r\n    \r\n    //display the list sorted by the genres. Command PG.\r\n    public void printByGenre() \r\n    {\r\n        if (getAlbums() == 0) // If the collection is empty, then return empty.\r\n        {\r\n            System.out.println(&quot;The collection is empty!&quot;);\r\n            return;\r\n        }\r\n        \r\n        Genre type = null; // Set the genre type.\r\n        \r\n        Album Temp = new Album(); // Make a temp album.\r\n        \r\n        for (int i = 0; i &lt;= 4; i++) // Iterate through all the genre cases.\r\n        {\r\n            switch(i) \r\n            {\r\n            case 0:\r\n                type = Genre.Classical;\r\n            case 1:\r\n                type = Genre.Country;\r\n            case 2:\r\n                type = Genre.Jazz;\r\n            case 3:\r\n                type = Genre.Pop;\r\n            case 4:\r\n                type = Genre.Unknown;\r\n            }\r\n            \r\n            for (int j = 0; j &lt; albums.length; j++) // Look through the albums that have the matching genre.\r\n            {\r\n                Temp = albums[j];  \r\n                if (Temp.getGenre() == type) // If they match, print in that order.\r\n                {\r\n                    System.out.println(albums[j]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    public int getAlbums() \r\n    {\r\n        return numAlbums;\r\n    }\r\n    public void setAlbums(int m) \r\n    {\r\n        numAlbums = m;\r\n    }\r\n}\r\n```\r\n\r\nBelow is the manager we have to create when running the program. We also use an album, genre, and date class, but I feel like the problem is somewhere in these areas.\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class CollectionManager \r\n{\r\n    public void run()\r\n    {\r\n        System.out.println(&quot;Collection Manager starts running.&quot;); // Begin.\r\n        \r\n        while(true)\r\n        {\r\n            Scanner input = new Scanner(System.in); \r\n            String collect = input.nextLine(); // Take the input in.\r\n            \r\n            String[] output = collect.split(&quot;,&quot;); // Creates an array &quot;output&quot; and splits the input by commas.\r\n            \r\n            // Below is the designated spots for array &quot;output&quot; after the split.\r\n            // A,Change,Anika,pop,7/23/2021\r\n            //[0] [1]   [2]   [3]   [4]\r\n            switch(output[0]) \r\n            {\r\n            case &quot;A&quot;: // Add the album.\r\n                Album a = new Album();\r\n                if (a.MakeAlbum(output) == true) // If the output goes well and returns true, then add to the collection.\r\n                {\r\n                    Collection add = new Collection();\r\n                    if (add.add(a) == true) // If true, add the album.\r\n                    {\r\n                        System.out.println(a + &quot; &gt;&gt; added.&quot;);\r\n                        break;\r\n                    }\r\n                    else // Otherwise, it&#39;s already in there.\r\n                    {\r\n                        System.out.println(a + &quot;is already in the collection.&quot;);\r\n                        break;\r\n                    }\r\n                }\r\n                else // If the date is invalid, then return Invalid Date!\r\n                {\r\n                    System.out.println(&quot;Invalid Date!&quot;); \r\n                    break;\r\n                }\r\n            case &quot;D&quot;: // Delete an Album.\r\n                Album d = new Album();\r\n                d.MakeAlbum(output);\r\n                \r\n                Collection delete = new Collection();\r\n                if (delete.remove(d) == true) // If the album is in the collection, delete.\r\n                {\r\n                    System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; deleted.&quot;);\r\n                    break;\r\n                }\r\n                else // Otherwise, it doesn&#39;t exist.\r\n                {\r\n                    System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; is not in the collection.&quot;);\r\n                    break;\r\n                }        \r\n            case &quot;L&quot;: // Lend an Album.\r\n                Album l = new Album();\r\n                l.MakeAlbum(output);\r\n                \r\n                Collection lend = new Collection();\r\n                if (lend.lendingOut(l) == true) // If the album is in the collection, lend.\r\n                {\r\n                    System.out.println(l.getTitle() + &quot;::&quot; + l.getArtist() + &quot; &gt;&gt; lending out and set to not available.&quot;);\r\n                    break;\r\n                }\r\n                else // Otherwise, it doesn&#39;t exist or can&#39;t be lend out.\r\n                {\r\n                    System.out.println(l.getTitle() + &quot;::&quot; + l.getArtist() + &quot; &gt;&gt; is not available.&quot;);\r\n                    break;\r\n                }\r\n            case &quot;R&quot;: // Return the album.\r\n                Album r = new Album();\r\n                r.MakeAlbum(output);\r\n                \r\n                Collection ret = new Collection();\r\n                if (ret.returnAlbum(r) == true) // If the album is in the collection, return.\r\n                {\r\n                    System.out.println(r.getTitle() + &quot;::&quot; + r.getArtist() + &quot; &gt;&gt; returning and set to available.&quot;);\r\n                    break;\r\n                }\r\n                else // Otherwise, it doesn&#39;t exist or can&#39;t be returned.\r\n                {\r\n                    System.out.println(r.getTitle() + &quot;::&quot; + r.getArtist() + &quot; return cannot be completed.&quot;);\r\n                    break;\r\n                }\r\n            case &quot;P&quot;: // Print with no order.\r\n                Collection Print = new Collection();\r\n                Print.print(); // Print the album list.\r\n                break;    \r\n            case &quot;PD&quot;: // Print with release date order.\r\n                Collection PrintD = new Collection();\r\n                PrintD.printByReleaseDate();; // Print the album list by release date.\r\n                break;    \r\n            case &quot;PG&quot;: // Print with genre order.\r\n                Collection PrintG = new Collection();\r\n                PrintG.printByGenre(); // Print the album list by genre.\r\n                break;    \r\n            case &quot;Q&quot;: // Quit the program.\r\n                System.out.println(&quot;Collection Manager terminated.&quot;);\r\n                return; // The end.\r\n            default: // Invalid. Try again.\r\n                System.out.println(&quot;Invalid command!&quot;);\r\n                break;\r\n            }\r\n        }\r\n        \r\n    }\r\n}\r\n```\r\n\r\nI can&#39;t find anything on google relating to the problem so any help is appreciated.","title":"My Array and Int keep resetting values when their method runs","body":"<p>I'm currently doing an assignment which requires me to use classes to make an album collection manager. I've been debugging and came across a problem. The Album[] is supposed to hold all the Album objects while numAlbums is supposed to keep track of the number of albums, but when I run the add method, it will increment the numAlbums and add the album to Album[], but once the method ends, it will reset instead of staying where it should be.</p>\n<p>This is a problem especially since I can't print the album list since it relies on the numAlbums incrementing in value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Collection {\n    private Album[] albums;\n    private int numAlbums; //number of albums currently in the collection\n    \n    \n    //find the album index, or return NOT_FOUND\n    private int find(Album album) \n    {\n        String title = album.getTitle(); // First, put the title and artist in string variables.\n        String artist = album.getArtist();\n        \n        for (int i = 0; i &lt; albums.length; i++) // Let's find this album.\n        {\n            Album c = new Album(); // Make Album c so we can compare every album.\n            c = albums[i];\n            \n            if (title == c.getTitle() &amp;&amp; artist == c.getArtist())  // If the title and artist match, then return the index.\n            {\n                return i; // We found the album!\n            }\n        }\n        return -1; // Album doesn't exist.\n    }\n    \n    //increase the capacity of the array list by 4\n    private void grow() \n    {\n        Album[] temp = new Album[getAlbums() + 4]; // Create new temp array with 4 more spaces.\n            \n        for (int i = 0; i &lt; albums.length; i++) // Use loop to insert all values from albums to temp.\n        {\n            temp[i] = albums[i];\n        }\n            \n        albums = temp; // Overwrite previous albums with new one.\n    }\n    \n    // Add an Album. Command A.\n    public boolean add(Album album) \n    {\n        int counter = 1;\n        \n        if (getAlbums() == 0) // If there are no albums, grow the list to the first 4 indexes.\n        {\n            Album[] temp = new Album[numAlbums + 4];\n            albums = temp;\n        }\n        else if (getAlbums() &gt; 0)\n        {\n            Album search = new Album();\n            \n            for (int i = 0; i &lt; albums.length; i++) // Check if the album has the same title and artist in the collection.\n            {\n                search = albums[i];\n                if (album.getTitle().equals(search.getTitle()) &amp;&amp; album.getArtist().equals(search.getArtist()) == true)\n                {\n                    return false;\n                }\n            }\n        }\n        \n        int a = getAlbums();\n        albums[a] = album; // Put the album in the collection.\n        a++; // Increase the amount of albums.\n        setAlbums(a);\n        \n        if (numAlbums == 4 * counter) // If the number of albums reach multiples of 4, then increase the array and counter.\n        {\n            grow();\n            counter++;\n        }\n        \n        for (int i = 0; i &lt; albums.length; i++) \n        {               \n             System.out.println(albums[i]); // Simple print of the list.         \n        }  \n        \n        return true;\n    }\n    \n    // Remove an Album. Command D.\n    public boolean remove(Album album) \n    {\n        if (find(album) == -1) // First, find the album to remove.\n        {\n            return false; // That album does not exist.\n        }\n        else // The album exists.\n        {\n            int index = find(album); // Copy the index number.\n            \n            for (int i = index; i &lt; albums.length; i++)\n            {\n                albums[i] = albums[i + 1]; // Shift the elements to the left by 1.\n            }\n        }\n        \n        int a = getAlbums();\n        a--; // Decrease the amount of albums.\n        setAlbums(a);\n        \n        \n        return true; // We removed it.\n    }\n    \n    //set to not available. Command L.\n    public boolean lendingOut(Album album) \n    {\n        if (find(album) == -1) // First, find the album to lend.\n        {\n            return false; // That album does not exist.\n        }\n        else // The album exists.\n        {\n            if (album.isAvailable() == false)\n            {\n                return false;\n            }\n            else\n            {\n                album.setAvailable(false);\n            }\n        }\n        return true; // We removed it.\n    }\n    \n    //set to available. Command R.\n    public boolean returnAlbum(Album album) \n    {\n        if (find(album) == -1) // First, find the album to lend.\n        {\n            return false; // That album does not exist.\n        }\n        else // The album exists.\n        {\n            if (album.isAvailable() == true)\n            {\n                return false;\n            }\n            else\n            {\n                album.setAvailable(true);\n            }\n        }\n        return true; // We removed it.\n    }\n    \n    //display the list without specifying the order. Command P.\n    public void print() \n    {\n        int y = getAlbums();\n        if (y == 0) // If the collection is empty, then return empty.\n        {\n            System.out.println(&quot;The collection is empty!&quot;);\n            return;\n        }\n        for (int i = 0; i &lt; albums.length; i++) \n        {               \n             System.out.println(albums[i]); // Simple print of the list.         \n        }   \n    }\n    \n    //display the list sorted by the release date. Command PD.\n    public void printByReleaseDate() \n    {\n        if (getAlbums() == 0) // If the collection is empty, then return empty.\n        {\n            System.out.println(&quot;The collection is empty!&quot;);\n            return;\n        }\n        \n        Album[] SortAlbumsRelease = new Album[numAlbums]; // Make another array to store the album list order.\n        \n        for (int i = 0; i &lt; albums.length; i++) \n        {               \n             SortAlbumsRelease[i] = albums[i]; // Copy the contents of the array.        \n        }   \n         \n        Album First = new Album(); // Create temp albums so we can compare.\n        Album Second = new Album();\n        Album temp = new Album();\n         \n        for (int o = 0; o &lt; albums.length; o++) // Go through every single album.\n        {               \n            for (int p = 0 + 1; p &lt; albums.length; p++) \n            {\n                First = SortAlbumsRelease[o];\n                Second = SortAlbumsRelease[p];\n                 \n                int compare = First.getReleaseDate().compareTo(Second.getReleaseDate()); // Use the compare method from date to get a value.\n                 \n                if (compare == -1) // If the first value is lower, then put that album in the previous slot.\n                {\n                    temp = SortAlbumsRelease[o];  \n                    SortAlbumsRelease[o] = SortAlbumsRelease[p];  \n                    SortAlbumsRelease[p] = temp;  \n                }\n            }\n        }\n         \n        for (int i = 0; i &lt; albums.length; i++) // Print the list.\n        {               \n             System.out.println(SortAlbumsRelease[i]);         \n        }\n    }\n    \n    //display the list sorted by the genres. Command PG.\n    public void printByGenre() \n    {\n        if (getAlbums() == 0) // If the collection is empty, then return empty.\n        {\n            System.out.println(&quot;The collection is empty!&quot;);\n            return;\n        }\n        \n        Genre type = null; // Set the genre type.\n        \n        Album Temp = new Album(); // Make a temp album.\n        \n        for (int i = 0; i &lt;= 4; i++) // Iterate through all the genre cases.\n        {\n            switch(i) \n            {\n            case 0:\n                type = Genre.Classical;\n            case 1:\n                type = Genre.Country;\n            case 2:\n                type = Genre.Jazz;\n            case 3:\n                type = Genre.Pop;\n            case 4:\n                type = Genre.Unknown;\n            }\n            \n            for (int j = 0; j &lt; albums.length; j++) // Look through the albums that have the matching genre.\n            {\n                Temp = albums[j];  \n                if (Temp.getGenre() == type) // If they match, print in that order.\n                {\n                    System.out.println(albums[j]);\n                }\n            }\n        }\n    }\n    public int getAlbums() \n    {\n        return numAlbums;\n    }\n    public void setAlbums(int m) \n    {\n        numAlbums = m;\n    }\n}\n</code></pre>\n<p>Below is the manager we have to create when running the program. We also use an album, genre, and date class, but I feel like the problem is somewhere in these areas.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class CollectionManager \n{\n    public void run()\n    {\n        System.out.println(&quot;Collection Manager starts running.&quot;); // Begin.\n        \n        while(true)\n        {\n            Scanner input = new Scanner(System.in); \n            String collect = input.nextLine(); // Take the input in.\n            \n            String[] output = collect.split(&quot;,&quot;); // Creates an array &quot;output&quot; and splits the input by commas.\n            \n            // Below is the designated spots for array &quot;output&quot; after the split.\n            // A,Change,Anika,pop,7/23/2021\n            //[0] [1]   [2]   [3]   [4]\n            switch(output[0]) \n            {\n            case &quot;A&quot;: // Add the album.\n                Album a = new Album();\n                if (a.MakeAlbum(output) == true) // If the output goes well and returns true, then add to the collection.\n                {\n                    Collection add = new Collection();\n                    if (add.add(a) == true) // If true, add the album.\n                    {\n                        System.out.println(a + &quot; &gt;&gt; added.&quot;);\n                        break;\n                    }\n                    else // Otherwise, it's already in there.\n                    {\n                        System.out.println(a + &quot;is already in the collection.&quot;);\n                        break;\n                    }\n                }\n                else // If the date is invalid, then return Invalid Date!\n                {\n                    System.out.println(&quot;Invalid Date!&quot;); \n                    break;\n                }\n            case &quot;D&quot;: // Delete an Album.\n                Album d = new Album();\n                d.MakeAlbum(output);\n                \n                Collection delete = new Collection();\n                if (delete.remove(d) == true) // If the album is in the collection, delete.\n                {\n                    System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; deleted.&quot;);\n                    break;\n                }\n                else // Otherwise, it doesn't exist.\n                {\n                    System.out.println(d.getTitle() + &quot;::&quot; + d.getArtist() + &quot; &gt;&gt; is not in the collection.&quot;);\n                    break;\n                }        \n            case &quot;L&quot;: // Lend an Album.\n                Album l = new Album();\n                l.MakeAlbum(output);\n                \n                Collection lend = new Collection();\n                if (lend.lendingOut(l) == true) // If the album is in the collection, lend.\n                {\n                    System.out.println(l.getTitle() + &quot;::&quot; + l.getArtist() + &quot; &gt;&gt; lending out and set to not available.&quot;);\n                    break;\n                }\n                else // Otherwise, it doesn't exist or can't be lend out.\n                {\n                    System.out.println(l.getTitle() + &quot;::&quot; + l.getArtist() + &quot; &gt;&gt; is not available.&quot;);\n                    break;\n                }\n            case &quot;R&quot;: // Return the album.\n                Album r = new Album();\n                r.MakeAlbum(output);\n                \n                Collection ret = new Collection();\n                if (ret.returnAlbum(r) == true) // If the album is in the collection, return.\n                {\n                    System.out.println(r.getTitle() + &quot;::&quot; + r.getArtist() + &quot; &gt;&gt; returning and set to available.&quot;);\n                    break;\n                }\n                else // Otherwise, it doesn't exist or can't be returned.\n                {\n                    System.out.println(r.getTitle() + &quot;::&quot; + r.getArtist() + &quot; return cannot be completed.&quot;);\n                    break;\n                }\n            case &quot;P&quot;: // Print with no order.\n                Collection Print = new Collection();\n                Print.print(); // Print the album list.\n                break;    \n            case &quot;PD&quot;: // Print with release date order.\n                Collection PrintD = new Collection();\n                PrintD.printByReleaseDate();; // Print the album list by release date.\n                break;    \n            case &quot;PG&quot;: // Print with genre order.\n                Collection PrintG = new Collection();\n                PrintG.printByGenre(); // Print the album list by genre.\n                break;    \n            case &quot;Q&quot;: // Quit the program.\n                System.out.println(&quot;Collection Manager terminated.&quot;);\n                return; // The end.\n            default: // Invalid. Try again.\n                System.out.println(&quot;Invalid command!&quot;);\n                break;\n            }\n        }\n        \n    }\n}\n</code></pre>\n<p>I can't find anything on google relating to the problem so any help is appreciated.</p>\n"},{"tags":["java","data-structures","linked-list"],"comments":[{"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"score":1,"creation_date":1632384240,"post_id":69296058,"comment_id":122478482,"body_markdown":"It is expected that you debug your own code and reduce your problem to a minimal reproducible example. This is neither minimal, nor do I even know what to reproduce. At the very least I would expect you to write why you expect your code to work, what you expect it to do and describe where it does something unexpected, and what you tried to solve it. Just dumping a bunch of classes and ask us to figure out the rest is not the purpose of SO. We are not here to debug your code or solve your homework, that would be something for a paid consultant.","body":"It is expected that you debug your own code and reduce your problem to a minimal reproducible example. This is neither minimal, nor do I even know what to reproduce. At the very least I would expect you to write why you expect your code to work, what you expect it to do and describe where it does something unexpected, and what you tried to solve it. Just dumping a bunch of classes and ask us to figure out the rest is not the purpose of SO. We are not here to debug your code or solve your homework, that would be something for a paid consultant."},{"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"score":0,"creation_date":1632384444,"post_id":69296058,"comment_id":122478574,"body_markdown":"Aside from that I get 274 results when I search SO for &quot;circular list java&quot;, did you check those existing questions before posting yours?","body":"Aside from that I get 274 results when I search SO for &quot;circular list java&quot;, did you check those existing questions before posting yours?"},{"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"score":0,"creation_date":1632384934,"post_id":69296058,"comment_id":122478800,"body_markdown":"Also I highly recommend reading all answers to this question, as they provide you with a broad variety of essential basic skills for figuring out issues in your code: [What is a debugger and how can it help me diagnose problems?](https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems)","body":"Also I highly recommend reading all answers to this question, as they provide you with a broad variety of essential basic skills for figuring out issues in your code: <a href=\"https://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What is a debugger and how can it help me diagnose problems?</a>"},{"owner":{"account_id":12656925,"reputation":8478,"user_id":9199167,"display_name":"Max Vollmer"},"score":0,"creation_date":1632385607,"post_id":69296058,"comment_id":122479104,"body_markdown":"Oh, and last but not least, you might want to get a [rubberduck](https://en.wikipedia.org/wiki/Rubber_duck_debugging).","body":"Oh, and last but not least, you might want to get a <a href=\"https://en.wikipedia.org/wiki/Rubber_duck_debugging\" rel=\"nofollow noreferrer\">rubberduck</a>."},{"owner":{"account_id":21659086,"reputation":1338,"user_id":15978450,"display_name":"Damoiskii"},"score":0,"creation_date":1632426157,"post_id":69296058,"comment_id":122496361,"body_markdown":"Thanks for your comments Max.","body":"Thanks for your comments Max."}],"answers":[{"tags":[],"owner":{"account_id":7142980,"reputation":323253,"user_id":5459839,"display_name":"trincot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632407661,"creation_date":1632395777,"answer_id":69298964,"question_id":69296058,"body_markdown":"The main issue in your code is that you assume there will be a `next` reference that is `null`, but that is in contradiction with the principle of a *circular* linked list. In a circular linked list, you can *always* go from one node to the next and run endlessly in circles. So the principle is: none of the `next` references should be `null`!\r\n\r\nThis means you&#39;ll have to adapt your code at several places where you either set a `null`, or check against a `null` value.\r\n\r\nSome other remarks:\r\n\r\n* Let the `Node` constructor make the new node refer to itself via its `next` and `previous` members. This way you avoid storing `null` there from the very start. It is like making a one-node circular linked list on its own.\r\n\r\n* The loops should not check for `null`, but instead detect that you have cycled around and got back to the `head` node.\r\n\r\n* There is some code repetition for the two flavours of insertion-methods you have. This linking of the new node with the existing nodes should be done at one place only. I suggest making a separate method for that.\r\n\r\n* There really is no need to have a `tail` member in your class, because that `tail` is *always* going to be `this.head.GetPreviousNode()` (unless of course your list is empty). So I would just drop that `tail` member and work with that expression instead. This will save you from keeping that `tail` reference up to date.\r\n\r\n* The `insertAfter` method currently performs a *find* for the target value in the list. It would be nicer, if you placed this logic in a separate `find` method, so it could be re-used elsewhere (if needed).\r\n\r\nHere is the corrected `Node` class:\r\n\r\n```\r\npublic class Node {\r\n    private int id;\r\n    private Node next_node;\r\n    private Node previous_node;\r\n\r\n    public Node(){\r\n        this.id = 0;\r\n        // Make a node refer to itself by default -- this is practical in a circular list\r\n        this.next_node = this;\r\n        this.previous_node = this;\r\n    }\r\n\r\n    public Node(int id, Node next_node, Node previous_node){\r\n        this.id = id;\r\n        this.next_node = next_node;\r\n        this.previous_node = previous_node;\r\n    }\r\n\r\n    public Node(int id){\r\n        this.id = id;\r\n        // Make a node refer to itself by default -- this is practical in a circular list\r\n        this.next_node = this;\r\n        this.previous_node = this;\r\n    }\r\n\r\n    public Node(Node node){\r\n        this.id = node.GetId();\r\n        this.next_node = node.GetNextNode();\r\n        this.previous_node = node.GetPreviousNode();\r\n    }\r\n\r\n    public void SetId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public void SetNextNode(Node next_node) {\r\n        this.next_node = next_node;\r\n    }\r\n\r\n    public void SetPreviousNode(Node previous_node) {\r\n        this.previous_node = previous_node;\r\n    }\r\n\r\n    public int GetId() {\r\n        return this.id;\r\n    }\r\n\r\n    public Node GetNextNode() {\r\n        return this.next_node;\r\n    }\r\n\r\n    public Node GetPreviousNode() {\r\n        return this.previous_node;\r\n    }\r\n\r\n    public void NodeDetails(){\r\n        System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: &quot; + this.previous_node.GetId() + &quot;}, {Next: &quot;+ this.next_node.GetId() + &quot;}] -&gt; &quot;);\r\n    }\r\n}\r\n```\r\n\r\nAnd the corrected `CircularLinkedList` class:\r\n\r\n```\r\npublic class CircularLinkedList{\r\n    private Node head; // No need for a tail\r\n\r\n    public CircularLinkedList(){\r\n        this.head = null;\r\n    }\r\n\r\n    public CircularLinkedList(Node head){\r\n        this.head = head;\r\n    }\r\n\r\n    public void SetHead(Node head){\r\n        this.head = head;\r\n    }\r\n\r\n    public Node GetHead(){\r\n        return this.head;\r\n    }\r\n\r\n    public void InsertAtFront(int data){\r\n        if (this.head == null) {\r\n            this.head = new Node(data);\r\n        } else {\r\n            insertAfter(this.head.GetPreviousNode(), data);\r\n            this.head = this.head.GetPreviousNode();\r\n        }\r\n    }\r\n\r\n    public Node find(int target) {\r\n        Node target_node = this.head;\r\n        while (target_node != null) {\r\n            if(target_node.GetId() == target) {\r\n                return target_node;\r\n            }\r\n            target_node = target_node.GetNextNode();\r\n            if (target_node == this.head) break; // running in circles\r\n        }\r\n        return null;\r\n    }\r\n\r\n    // Add this method to avoid code repetition\r\n    public void insertAfter(Node target_node, int data) {\r\n        Node new_node = new Node(data, target_node.GetNextNode(), target_node);\r\n        target_node.SetNextNode(new_node);\r\n        new_node.GetNextNode().SetPreviousNode(target_node);\r\n    }\r\n\r\n    public void InsertAfter(int target, int data){\r\n        Node target_node = find(target);\r\n        if (target_node != null) {\r\n            insertAfter(target_node, data);\r\n        } else{\r\n            System.out.println(&quot;Sorry, but the integer &quot; + target + &quot; was not found in the list!\\n&quot;);\r\n        }\r\n   }\r\n\r\n   public void DisplayList(){\r\n        Node current_node = this.head;\r\n\r\n        while (current_node != null) {\r\n            current_node.NodeDetails();\r\n            current_node = current_node.GetNextNode();\r\n            if (current_node == this.head) break; // running in circles\r\n        }\r\n   }\r\n}\r\n```\r\n","title":"How to link the a circular linked list tail to the head of the list in Java?","body":"<p>The main issue in your code is that you assume there will be a <code>next</code> reference that is <code>null</code>, but that is in contradiction with the principle of a <em>circular</em> linked list. In a circular linked list, you can <em>always</em> go from one node to the next and run endlessly in circles. So the principle is: none of the <code>next</code> references should be <code>null</code>!</p>\n<p>This means you'll have to adapt your code at several places where you either set a <code>null</code>, or check against a <code>null</code> value.</p>\n<p>Some other remarks:</p>\n<ul>\n<li><p>Let the <code>Node</code> constructor make the new node refer to itself via its <code>next</code> and <code>previous</code> members. This way you avoid storing <code>null</code> there from the very start. It is like making a one-node circular linked list on its own.</p>\n</li>\n<li><p>The loops should not check for <code>null</code>, but instead detect that you have cycled around and got back to the <code>head</code> node.</p>\n</li>\n<li><p>There is some code repetition for the two flavours of insertion-methods you have. This linking of the new node with the existing nodes should be done at one place only. I suggest making a separate method for that.</p>\n</li>\n<li><p>There really is no need to have a <code>tail</code> member in your class, because that <code>tail</code> is <em>always</em> going to be <code>this.head.GetPreviousNode()</code> (unless of course your list is empty). So I would just drop that <code>tail</code> member and work with that expression instead. This will save you from keeping that <code>tail</code> reference up to date.</p>\n</li>\n<li><p>The <code>insertAfter</code> method currently performs a <em>find</em> for the target value in the list. It would be nicer, if you placed this logic in a separate <code>find</code> method, so it could be re-used elsewhere (if needed).</p>\n</li>\n</ul>\n<p>Here is the corrected <code>Node</code> class:</p>\n<pre><code>public class Node {\n    private int id;\n    private Node next_node;\n    private Node previous_node;\n\n    public Node(){\n        this.id = 0;\n        // Make a node refer to itself by default -- this is practical in a circular list\n        this.next_node = this;\n        this.previous_node = this;\n    }\n\n    public Node(int id, Node next_node, Node previous_node){\n        this.id = id;\n        this.next_node = next_node;\n        this.previous_node = previous_node;\n    }\n\n    public Node(int id){\n        this.id = id;\n        // Make a node refer to itself by default -- this is practical in a circular list\n        this.next_node = this;\n        this.previous_node = this;\n    }\n\n    public Node(Node node){\n        this.id = node.GetId();\n        this.next_node = node.GetNextNode();\n        this.previous_node = node.GetPreviousNode();\n    }\n\n    public void SetId(int id) {\n        this.id = id;\n    }\n\n    public void SetNextNode(Node next_node) {\n        this.next_node = next_node;\n    }\n\n    public void SetPreviousNode(Node previous_node) {\n        this.previous_node = previous_node;\n    }\n\n    public int GetId() {\n        return this.id;\n    }\n\n    public Node GetNextNode() {\n        return this.next_node;\n    }\n\n    public Node GetPreviousNode() {\n        return this.previous_node;\n    }\n\n    public void NodeDetails(){\n        System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: &quot; + this.previous_node.GetId() + &quot;}, {Next: &quot;+ this.next_node.GetId() + &quot;}] -&gt; &quot;);\n    }\n}\n</code></pre>\n<p>And the corrected <code>CircularLinkedList</code> class:</p>\n<pre><code>public class CircularLinkedList{\n    private Node head; // No need for a tail\n\n    public CircularLinkedList(){\n        this.head = null;\n    }\n\n    public CircularLinkedList(Node head){\n        this.head = head;\n    }\n\n    public void SetHead(Node head){\n        this.head = head;\n    }\n\n    public Node GetHead(){\n        return this.head;\n    }\n\n    public void InsertAtFront(int data){\n        if (this.head == null) {\n            this.head = new Node(data);\n        } else {\n            insertAfter(this.head.GetPreviousNode(), data);\n            this.head = this.head.GetPreviousNode();\n        }\n    }\n\n    public Node find(int target) {\n        Node target_node = this.head;\n        while (target_node != null) {\n            if(target_node.GetId() == target) {\n                return target_node;\n            }\n            target_node = target_node.GetNextNode();\n            if (target_node == this.head) break; // running in circles\n        }\n        return null;\n    }\n\n    // Add this method to avoid code repetition\n    public void insertAfter(Node target_node, int data) {\n        Node new_node = new Node(data, target_node.GetNextNode(), target_node);\n        target_node.SetNextNode(new_node);\n        new_node.GetNextNode().SetPreviousNode(target_node);\n    }\n\n    public void InsertAfter(int target, int data){\n        Node target_node = find(target);\n        if (target_node != null) {\n            insertAfter(target_node, data);\n        } else{\n            System.out.println(&quot;Sorry, but the integer &quot; + target + &quot; was not found in the list!\\n&quot;);\n        }\n   }\n\n   public void DisplayList(){\n        Node current_node = this.head;\n\n        while (current_node != null) {\n            current_node.NodeDetails();\n            current_node = current_node.GetNextNode();\n            if (current_node == this.head) break; // running in circles\n        }\n   }\n}\n</code></pre>\n"}],"owner":{"account_id":21659086,"reputation":1338,"user_id":15978450,"display_name":"Damoiskii"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":448,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":69298964,"answer_count":1,"score":-3,"last_activity_date":1632748831,"creation_date":1632383781,"question_id":69296058,"body_markdown":"I&#39;m trying to insert at the front and insert at the back of the list. However, I&#39;ve got those methods to work to a certain extent in the Circular Linked List class. \r\n\r\nMy problem is, I can&#39;t seem to figure out how to link the tail with the head of the list. I have got the head to point to the tail though. \r\n\r\nSo after executing the below lines of code:\r\n\r\n    list.InsertAtFront(0);\r\n\r\n    list.InsertAfter(0, 4); // Inserting the 4 after 0 which was inserted above...\r\n\r\n**The result I got was** \r\n\r\n**`[Data: ID = 0 |{Previous: 4}, {Next: 4}] -&gt; [Data: ID = 4 |{Previous: 0}, {Next: null}]`**\r\n\r\nWhat should be here for the second insert, Where next is pointing to null `{Next: null}` it should be pointing the the head of the list `{Next: 0}`. \r\n\r\nI would really appreciate the help guys!\r\n\r\n\r\nI&#39;ll show what I have so far below...\r\n\r\n\r\n\r\n**THE NODE CLASS**\r\n\r\n    package circular_linked_list;\r\n\r\n    public class Node {\r\n        private int id;\r\n        private Node next_node;\r\n        private Node previous_node;\r\n\r\n        public Node(){\r\n            this.id = 0;\r\n            this.next_node = null;\r\n            this.previous_node = null;\r\n        }\r\n   \r\n        public Node(int id, Node next_node, Node previous_node){\r\n            this.id = id;\r\n            this.next_node = next_node;\r\n            this.previous_node = previous_node;\r\n        }\r\n\r\n        public Node(int id){\r\n            this.id = id;\r\n            this.next_node = null;\r\n            this.previous_node = null;\r\n        }\r\n\r\n        public Node(Node node){\r\n            this.id = node.GetId();\r\n            this.next_node = node.GetNextNode();\r\n            this.previous_node = node.GetPreviousNode();\r\n        }\r\n\r\n        public void SetId(int id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public void SetNextNode(Node next_node) {\r\n            this.next_node = next_node;\r\n        }\r\n\r\n        public void SetPreviousNode(Node previous_node) {\r\n            this.previous_node = previous_node;\r\n        }\r\n\r\n        public int GetId() {\r\n            return this.id;\r\n        }\r\n\r\n        public Node GetNextNode() {\r\n            return this.next_node;\r\n        }\r\n\r\n        public Node GetPreviousNode() {\r\n            return this.previous_node;\r\n        }\r\n\r\n        public void NodeDetails(){\r\n            if(this.previous_node != null &amp;&amp; this.next_node != null){\r\n                System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: &quot; + this.previous_node.GetId() + &quot;}, {Next: &quot;+ this.next_node.GetId() + &quot;}] -&gt; &quot;);\r\n            }\r\n            else if(this.previous_node != null){\r\n                System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: &quot; + this.previous_node.GetId() + &quot;}, {Next: null}] -&gt; &quot;);\r\n            }\r\n            else if(this.next_node != null){\r\n                System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: null}, {Next: &quot;+ this.next_node.GetId() + &quot;}] -&gt; &quot;);\r\n            }\r\n            else{\r\n                System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: null}, {Next: null}] -&gt; &quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\n**THE CIRCULAR LINKED LIST CLASS**\r\n\r\n    package circular_linked_list;\r\n\r\n\r\n    public class CircularLinkedList{\r\n        private Node head;\r\n        private Node tail;\r\n\r\n        public CircularLinkedList(){\r\n            this.head = null;\r\n            this.tail = null;\r\n        }\r\n   \r\n        public CircularLinkedList(Node head, Node tail){\r\n            this.head = head;\r\n            this.tail = tail;\r\n        }\r\n   \r\n        public void SetHead(Node head){\r\n            this.head = head;\r\n        }\r\n\r\n        public void SetTail(Node tail){\r\n            this.tail = tail;\r\n        }\r\n\r\n        public Node GetHead(){\r\n            return this.head;\r\n        }\r\n\r\n        public Node GetTail(){\r\n            return this.tail;\r\n        }\r\n\r\n        public void InsertAtFront(int data){\r\n            Node new_node = new Node(data);\r\n\r\n            if( new_node != null){\r\n                // If the list is not empty then...\r\n                if(this.head != null){\r\n                    this.head.SetPreviousNode(new_node); // Set the list head&#39;s previous node to point to the new node.\r\n                    new_node.SetNextNode(this.head); // Set the new node&#39;s next node to point to the current list head.\r\n                    new_node.SetPreviousNode(this.tail); // Set the previous node of the head of the list to point to the tail of the list\r\n                }\r\n\r\n                this.head = new_node; // Set the list head to point to the new node\r\n                this.FindTail(); // Set the tail of the list.\r\n            }\r\n            else{\r\n                System.out.print(&quot;Sorry, the list is full!&quot;);\r\n            }\r\n        }\r\n\r\n        public void InsertAfter(int target, int data){\r\n            Node new_node = new Node(data);\r\n \r\n            if(new_node != null){\r\n                Node target_node = this.head;\r\n                boolean found = false;\r\n\r\n                // This while loop will loop to find if a node is equal to the value passed as target.\r\n                while(target_node != null){\r\n                    if(target_node.GetId() == target){\r\n                        // If the target is found then break the loop to keep this current node as the target node.\r\n                        found = true;\r\n                        break;\r\n                    }\r\n\r\n                    // Assigning the target node next node to the target node.\r\n                    target_node = target_node.GetNextNode();\r\n                }\r\n         \r\n                // If the target was found then...\r\n                if(found){\r\n                    new_node.SetPreviousNode(target_node); // Set the previous node of the new node to point to the target node.\r\n\r\n                    // Set the next node of the new node with the target node&#39;s next node to continue to link.\r\n                    new_node.SetNextNode(target_node.GetNextNode());\r\n\r\n                    // If the target node&#39;s next node is not null, then set the target node&#39;s next node-&gt;previous node to point to the new node.\r\n                    if(target_node.GetNextNode() != null){\r\n                        target_node.GetNextNode().SetPreviousNode(new_node);\r\n                    }\r\n\r\n                    target_node.SetNextNode(new_node); // Set the target node&#39;s next node to point to the new node.\r\n\r\n                    // Setting the tail of the list...\r\n                    this.FindTail();\r\n                }\r\n                else{\r\n                    System.out.println(&quot;Sorry, but the integer &quot; + target + &quot; was not found in the list!\\n&quot;);\r\n                }\r\n            }\r\n            else{\r\n                System.out.println(&quot;Sorry, the list is full!\\n&quot;);\r\n            }\r\n       }\r\n\r\n       public void DisplayList(){\r\n           Node current_node = this.head;\r\n\r\n            while(current_node != null){\r\n                current_node.NodeDetails();\r\n\r\n                current_node = current_node.GetNextNode();\r\n            }\r\n       }\r\n\r\n       private void FindTail(){\r\n           Node current_node = this.head;\r\n\r\n            // Traversing from the start of the list to the end to get the tail.\r\n            while(current_node.GetNextNode() != null){\r\n                current_node = current_node.GetNextNode();\r\n            }\r\n\r\n            this.head.SetPreviousNode(current_node); // Updating the head of the list previous node.\r\n\r\n            this.SetTail(current_node); // Set the tail of the list with the last node.\r\n        }\r\n    }\r\n\r\n\r\n**THE MAIN CLASS**\r\n\r\n    package circular_linked_list;\r\n\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            CircularLinkedList list = new CircularLinkedList();\r\n\r\n            // Inserting at the front of the list\r\n            list.InsertAtFront(0);\r\n            \r\n            // Inserting 4 right after the 0\r\n            list.InsertAfter(0, 4);\r\n\r\n            // To display the nodes/elements in the list\r\n            list.DisplayList();\r\n        }\r\n    }","title":"How to link the a circular linked list tail to the head of the list in Java?","body":"<p>I'm trying to insert at the front and insert at the back of the list. However, I've got those methods to work to a certain extent in the Circular Linked List class.</p>\n<p>My problem is, I can't seem to figure out how to link the tail with the head of the list. I have got the head to point to the tail though.</p>\n<p>So after executing the below lines of code:</p>\n<pre><code>list.InsertAtFront(0);\n\nlist.InsertAfter(0, 4); // Inserting the 4 after 0 which was inserted above...\n</code></pre>\n<p><strong>The result I got was</strong></p>\n<p><strong><code>[Data: ID = 0 |{Previous: 4}, {Next: 4}] -&gt; [Data: ID = 4 |{Previous: 0}, {Next: null}]</code></strong></p>\n<p>What should be here for the second insert, Where next is pointing to null <code>{Next: null}</code> it should be pointing the the head of the list <code>{Next: 0}</code>.</p>\n<p>I would really appreciate the help guys!</p>\n<p>I'll show what I have so far below...</p>\n<p><strong>THE NODE CLASS</strong></p>\n<pre><code>package circular_linked_list;\n\npublic class Node {\n    private int id;\n    private Node next_node;\n    private Node previous_node;\n\n    public Node(){\n        this.id = 0;\n        this.next_node = null;\n        this.previous_node = null;\n    }\n\n    public Node(int id, Node next_node, Node previous_node){\n        this.id = id;\n        this.next_node = next_node;\n        this.previous_node = previous_node;\n    }\n\n    public Node(int id){\n        this.id = id;\n        this.next_node = null;\n        this.previous_node = null;\n    }\n\n    public Node(Node node){\n        this.id = node.GetId();\n        this.next_node = node.GetNextNode();\n        this.previous_node = node.GetPreviousNode();\n    }\n\n    public void SetId(int id) {\n        this.id = id;\n    }\n\n    public void SetNextNode(Node next_node) {\n        this.next_node = next_node;\n    }\n\n    public void SetPreviousNode(Node previous_node) {\n        this.previous_node = previous_node;\n    }\n\n    public int GetId() {\n        return this.id;\n    }\n\n    public Node GetNextNode() {\n        return this.next_node;\n    }\n\n    public Node GetPreviousNode() {\n        return this.previous_node;\n    }\n\n    public void NodeDetails(){\n        if(this.previous_node != null &amp;&amp; this.next_node != null){\n            System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: &quot; + this.previous_node.GetId() + &quot;}, {Next: &quot;+ this.next_node.GetId() + &quot;}] -&gt; &quot;);\n        }\n        else if(this.previous_node != null){\n            System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: &quot; + this.previous_node.GetId() + &quot;}, {Next: null}] -&gt; &quot;);\n        }\n        else if(this.next_node != null){\n            System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: null}, {Next: &quot;+ this.next_node.GetId() + &quot;}] -&gt; &quot;);\n        }\n        else{\n            System.out.print(&quot;[Data: __ID = &quot; + this.id + &quot;__ |{Previous: null}, {Next: null}] -&gt; &quot;);\n        }\n    }\n}\n</code></pre>\n<p><strong>THE CIRCULAR LINKED LIST CLASS</strong></p>\n<pre><code>package circular_linked_list;\n\n\npublic class CircularLinkedList{\n    private Node head;\n    private Node tail;\n\n    public CircularLinkedList(){\n        this.head = null;\n        this.tail = null;\n    }\n\n    public CircularLinkedList(Node head, Node tail){\n        this.head = head;\n        this.tail = tail;\n    }\n\n    public void SetHead(Node head){\n        this.head = head;\n    }\n\n    public void SetTail(Node tail){\n        this.tail = tail;\n    }\n\n    public Node GetHead(){\n        return this.head;\n    }\n\n    public Node GetTail(){\n        return this.tail;\n    }\n\n    public void InsertAtFront(int data){\n        Node new_node = new Node(data);\n\n        if( new_node != null){\n            // If the list is not empty then...\n            if(this.head != null){\n                this.head.SetPreviousNode(new_node); // Set the list head's previous node to point to the new node.\n                new_node.SetNextNode(this.head); // Set the new node's next node to point to the current list head.\n                new_node.SetPreviousNode(this.tail); // Set the previous node of the head of the list to point to the tail of the list\n            }\n\n            this.head = new_node; // Set the list head to point to the new node\n            this.FindTail(); // Set the tail of the list.\n        }\n        else{\n            System.out.print(&quot;Sorry, the list is full!&quot;);\n        }\n    }\n\n    public void InsertAfter(int target, int data){\n        Node new_node = new Node(data);\n\n        if(new_node != null){\n            Node target_node = this.head;\n            boolean found = false;\n\n            // This while loop will loop to find if a node is equal to the value passed as target.\n            while(target_node != null){\n                if(target_node.GetId() == target){\n                    // If the target is found then break the loop to keep this current node as the target node.\n                    found = true;\n                    break;\n                }\n\n                // Assigning the target node next node to the target node.\n                target_node = target_node.GetNextNode();\n            }\n     \n            // If the target was found then...\n            if(found){\n                new_node.SetPreviousNode(target_node); // Set the previous node of the new node to point to the target node.\n\n                // Set the next node of the new node with the target node's next node to continue to link.\n                new_node.SetNextNode(target_node.GetNextNode());\n\n                // If the target node's next node is not null, then set the target node's next node-&gt;previous node to point to the new node.\n                if(target_node.GetNextNode() != null){\n                    target_node.GetNextNode().SetPreviousNode(new_node);\n                }\n\n                target_node.SetNextNode(new_node); // Set the target node's next node to point to the new node.\n\n                // Setting the tail of the list...\n                this.FindTail();\n            }\n            else{\n                System.out.println(&quot;Sorry, but the integer &quot; + target + &quot; was not found in the list!\\n&quot;);\n            }\n        }\n        else{\n            System.out.println(&quot;Sorry, the list is full!\\n&quot;);\n        }\n   }\n\n   public void DisplayList(){\n       Node current_node = this.head;\n\n        while(current_node != null){\n            current_node.NodeDetails();\n\n            current_node = current_node.GetNextNode();\n        }\n   }\n\n   private void FindTail(){\n       Node current_node = this.head;\n\n        // Traversing from the start of the list to the end to get the tail.\n        while(current_node.GetNextNode() != null){\n            current_node = current_node.GetNextNode();\n        }\n\n        this.head.SetPreviousNode(current_node); // Updating the head of the list previous node.\n\n        this.SetTail(current_node); // Set the tail of the list with the last node.\n    }\n}\n</code></pre>\n<p><strong>THE MAIN CLASS</strong></p>\n<pre><code>package circular_linked_list;\n\n\npublic class Main {\n    public static void main(String[] args) {\n        CircularLinkedList list = new CircularLinkedList();\n\n        // Inserting at the front of the list\n        list.InsertAtFront(0);\n        \n        // Inserting 4 right after the 0\n        list.InsertAfter(0, 4);\n\n        // To display the nodes/elements in the list\n        list.DisplayList();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1474362788,"post_id":39590044,"comment_id":66489223,"body_markdown":"`Map&lt;String,Object&gt;`?","body":"<code>Map&lt;String,Object&gt;</code>?"},{"owner":{"account_id":796110,"reputation":10035,"user_id":869225,"accept_rate":50,"display_name":"Martin Frey"},"score":0,"creation_date":1474367219,"post_id":39590044,"comment_id":66492126,"body_markdown":"I have successfully mapped `JsonNode` on toplevel. Does it work when you change your jsonobject to jsonnode?","body":"I have successfully mapped <code>JsonNode</code> on toplevel. Does it work when you change your jsonobject to jsonnode?"}],"answers":[{"tags":[],"owner":{"account_id":7642432,"reputation":2929,"user_id":5794129,"accept_rate":75,"display_name":"Priyamal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474404841,"creation_date":1474364694,"answer_id":39590806,"question_id":39590044,"body_markdown":"ignore the data property when  forming the object from incoming request.\r\n\r\n    class ExampleBean{\r\n       public String Name;\r\n       @JsonIgnore\r\n       public JSONObject data;\r\n    }\r\n\r\nand change the rest service to accept data as a parameter from the incoming request. \r\n\r\n    @GET\r\n    @Consumes({MediaType.APPLICATION_JSON})\r\n    public Response getData(@RequestBody ExampleBean dataBean,RequestParam(&quot;data&quot;) String data)\r\n    {\r\n\r\n     JSONParser parser = new JSONParser();\r\n     JSONObject json = (JSONObject) parser.parse(data);\r\n        // some usage code here\r\n    }\r\n\r\nor you can change the datatype of `JsonObject data` to `String` and form an `object` from the incoming request.\r\n\r\n     class ExampleBean{\r\n     public String Name;\r\n     public String data;\r\n     }\r\n\r\nand later create an Json object from the data string\r\n\r\n          @GET\r\n    @Consumes({MediaType.APPLICATION_JSON})\r\n    public Response getData(@RequestBody ExampleBean dataBean)\r\n    {\r\n\r\n     JSONParser parser = new JSONParser();\r\n     JSONObject json = (JSONObject) parser.parse(dataBean.data);\r\n        // converting the string data to jsonobject\r\n    }","title":"Mapping Requestbody to JSONObject in Spring","body":"<p>ignore the data property when  forming the object from incoming request.</p>\n\n<pre><code>class ExampleBean{\n   public String Name;\n   @JsonIgnore\n   public JSONObject data;\n}\n</code></pre>\n\n<p>and change the rest service to accept data as a parameter from the incoming request. </p>\n\n<pre><code>@GET\n@Consumes({MediaType.APPLICATION_JSON})\npublic Response getData(@RequestBody ExampleBean dataBean,RequestParam(\"data\") String data)\n{\n\n JSONParser parser = new JSONParser();\n JSONObject json = (JSONObject) parser.parse(data);\n    // some usage code here\n}\n</code></pre>\n\n<p>or you can change the datatype of <code>JsonObject data</code> to <code>String</code> and form an <code>object</code> from the incoming request.</p>\n\n<pre><code> class ExampleBean{\n public String Name;\n public String data;\n }\n</code></pre>\n\n<p>and later create an Json object from the data string</p>\n\n<pre><code>      @GET\n@Consumes({MediaType.APPLICATION_JSON})\npublic Response getData(@RequestBody ExampleBean dataBean)\n{\n\n JSONParser parser = new JSONParser();\n JSONObject json = (JSONObject) parser.parse(dataBean.data);\n    // converting the string data to jsonobject\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1258769,"reputation":1436,"user_id":1217652,"display_name":"Ankit Adlakha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1540200829,"creation_date":1540200829,"answer_id":52926231,"question_id":39590044,"body_markdown":"Try with JsonNode. It is working.\r\n\r\nClass: **com.fasterxml.jackson.databind.JsonNode**","title":"Mapping Requestbody to JSONObject in Spring","body":"<p>Try with JsonNode. It is working.</p>\n\n<p>Class: <strong>com.fasterxml.jackson.databind.JsonNode</strong></p>\n"},{"tags":[],"owner":{"account_id":17624121,"reputation":331,"user_id":13679909,"display_name":"Rohit Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632748060,"creation_date":1632742638,"answer_id":69345913,"question_id":39590044,"body_markdown":"When you have the requirement to pass your @RequestBody as JSONObject or/and return the output as JSONObject. The most convenient approach I follow is:\r\n\r\n 1. Accept the @RequestBody as String (You can also accept as your Object Data Type) and internally in your Post Mapping method, convert to JSONObject. For ex:\r\n```\r\n@GET\r\n@Consumes({MediaType.APPLICATION_JSON})\r\npublic String getData(@RequestBody String jsonObjectData)\r\n{\r\n    JSONObject parsedJsonData = new JSONObject(jsonObjectData);\r\n    // other implementation\r\n}  \r\n```\r\n\r\n 2. Before you return the JSONObject from your method, convert it to the String or your Object Data type\r\n```\r\nreturn JsonObjectToReturn.toString(); // or you can parse it to your return Object data type.","title":"Mapping Requestbody to JSONObject in Spring","body":"<p>When you have the requirement to pass your @RequestBody as JSONObject or/and return the output as JSONObject. The most convenient approach I follow is:</p>\n<ol>\n<li>Accept the @RequestBody as String (You can also accept as your Object Data Type) and internally in your Post Mapping method, convert to JSONObject. For ex:</li>\n</ol>\n<pre><code>@GET\n@Consumes({MediaType.APPLICATION_JSON})\npublic String getData(@RequestBody String jsonObjectData)\n{\n    JSONObject parsedJsonData = new JSONObject(jsonObjectData);\n    // other implementation\n}  \n</code></pre>\n<ol start=\"2\">\n<li>Before you return the JSONObject from your method, convert it to the String or your Object Data type</li>\n</ol>\n<pre><code>return JsonObjectToReturn.toString(); // or you can parse it to your return Object data type.\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22514761,"reputation":1572,"user_id":16709163,"display_name":"ray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632748671,"creation_date":1632748671,"answer_id":69347331,"question_id":39590044,"body_markdown":"I suggest you to use `Map` or `JsonNode` rather than `JSONObject`. Because those are woking well with `Jackson`. Like follows,\r\n```\r\nclass ExampleBean {\r\n   public String Name;\r\n   public Map&lt;String, String&gt; data;\r\n}\r\n```\r\nor \r\n```\r\nclass ExampleBean {\r\n   public String Name;\r\n   public JsonNode data;\r\n}\r\n```\r\n\r\n","title":"Mapping Requestbody to JSONObject in Spring","body":"<p>I suggest you to use <code>Map</code> or <code>JsonNode</code> rather than <code>JSONObject</code>. Because those are woking well with <code>Jackson</code>. Like follows,</p>\n<pre><code>class ExampleBean {\n   public String Name;\n   public Map&lt;String, String&gt; data;\n}\n</code></pre>\n<p>or</p>\n<pre><code>class ExampleBean {\n   public String Name;\n   public JsonNode data;\n}\n</code></pre>\n"}],"owner":{"account_id":3768848,"reputation":41,"user_id":4257399,"display_name":"Shivaprasad Bhat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6583,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1632748671,"creation_date":1474362670,"question_id":39590044,"body_markdown":"I have a class as below.\r\n\r\n    class ExampleBean{\r\n       public String Name;\r\n       public JSONObject data;\r\n    }\r\n    \r\nAnd i have @GET handler which is as follows:\r\n\r\n    @GET\r\n    @Consumes({MediaType.APPLICATION_JSON})\r\n    public Response getData(ExampleBean dataBean)\r\n    {\r\n        // some usage code here\r\n    }\r\n\r\nI want following json to be mapped to the ExmampleBean:\r\n\r\n    {\r\n      &quot;Name&quot;:&quot;Example&quot;,\r\n      &quot;data&quot;:{\r\n           &quot;hello&quot;:&quot;world&quot;,\r\n           &quot;some&quot;:&quot;value&quot;\r\n       }\r\n     }\r\nEverything works perfectly if `data` was a type which had two public fields named `hello` and `some`. But since `data` is a JSONObject which doesn&#39;t actually have those fields or relevant setters it ends up throwing  `Unrecognized field &quot;hello&quot; (Class JSONObject), not marked as ignorable at [Source: org.apache.catalina.connector.CoyoteInputStream@17b9a4bf; line: 31, column: 18]`","title":"Mapping Requestbody to JSONObject in Spring","body":"<p>I have a class as below.</p>\n\n<pre><code>class ExampleBean{\n   public String Name;\n   public JSONObject data;\n}\n</code></pre>\n\n<p>And i have @GET handler which is as follows:</p>\n\n<pre><code>@GET\n@Consumes({MediaType.APPLICATION_JSON})\npublic Response getData(ExampleBean dataBean)\n{\n    // some usage code here\n}\n</code></pre>\n\n<p>I want following json to be mapped to the ExmampleBean:</p>\n\n<pre><code>{\n  \"Name\":\"Example\",\n  \"data\":{\n       \"hello\":\"world\",\n       \"some\":\"value\"\n   }\n }\n</code></pre>\n\n<p>Everything works perfectly if <code>data</code> was a type which had two public fields named <code>hello</code> and <code>some</code>. But since <code>data</code> is a JSONObject which doesn't actually have those fields or relevant setters it ends up throwing  <code>Unrecognized field \"hello\" (Class JSONObject), not marked as ignorable at [Source: org.apache.catalina.connector.CoyoteInputStream@17b9a4bf; line: 31, column: 18]</code></p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":1324893,"reputation":5227,"user_id":1269951,"display_name":"TaylanKammer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632748660,"creation_date":1632476709,"answer_id":69312900,"question_id":69310760,"body_markdown":"I seem to have figured it out.\r\n\r\n1. Put the jTDS code into a `jtds` sub-directory under the top-level of your Android project.\r\n\r\n2. Create a `build.gradle` within this `jtds` sub-directory:\r\n\r\n   ```gradle\r\n   apply plugin: &#39;java-library&#39;\r\n   \r\n   java {\r\n       sourceCompatibility = JavaVersion.VERSION_1_8\r\n       targetCompatibility = JavaVersion.VERSION_1_8\r\n   \r\n       sourceSets.main {\r\n           java.srcDirs = [&#39;src/main&#39;]\r\n           resources.srcDirs = [&#39;src/main&#39;]\r\n       }\r\n   }\r\n   \r\n   dependencies {\r\n       implementation fileTree(include: [&#39;*.jar&#39;], dir: &#39;lib&#39;)\r\n   }\r\n   \r\n   compileJava.options.encoding = &#39;UTF-8&#39;\r\n   \r\n   tasks.withType(JavaCompile) {\r\n       options.encoding = &#39;UTF-8&#39;\r\n   }\r\n   ```\r\n\r\n3. Include the sub-project (the correct term might be &quot;module&quot;, I&#39;m not sure) in your top-level `settings.gradle` file:\r\n\r\n   ```gradle\r\n   include &#39;:app&#39;, &#39;:lib1&#39;, &#39;:lib2&#39;, &#39;:lib3&#39;, &#39;:jtds&#39;\r\n   ```\r\n\r\n4. Add the module as a dependency to the `app` module by editing your `app/build.gradle`:\r\n\r\n   ```gradle\r\n   // ...\r\n   \r\n   dependencies {\r\n       // ...\r\n       implementation project(&#39;:jtds&#39;)\r\n       // ...\r\n   }\r\n   \r\n   // ...\r\n   ```\r\n\r\nThat&#39;s all, it works for me.\r\n\r\nSome notes, for those who wish to understand more details:\r\n\r\n- The original jTDS source code was encoded in the Windows-1252 charset.  I re-encoded the files to UTF-8 which is why I had to include the corresponding lines about file encoding in `jtds/build.gradle`.  I could have probably left the files in the Windows encoding and omitted those lines from `jtds/build.gradle` but I prefer to have all my source code in UTF-8.\r\n\r\n- The `resources.srcDirs = [&#39;src/main&#39;]` line in `jtds/build.gradle` seems to be necessary to include some `foo.properties` files that are part of the jTDS source code into the generated JAR.  Otherwise, I was getting an error message saying `no message resource found for message property prop.servertype` upon trying to connect to SQL Server.\r\n\r\n- The jTDS sources include a number of JAR files which they depend on, hence including them via the `implementation fileTree(...)` declaration in the `dependencies` block of `jtds/build.gradle`.","title":"Compile sub-project with regular JDK, add the result to my Android App","body":"<p>I seem to have figured it out.</p>\n<ol>\n<li><p>Put the jTDS code into a <code>jtds</code> sub-directory under the top-level of your Android project.</p>\n</li>\n<li><p>Create a <code>build.gradle</code> within this <code>jtds</code> sub-directory:</p>\n<pre><code>apply plugin: 'java-library'\n\njava {\n    sourceCompatibility = JavaVersion.VERSION_1_8\n    targetCompatibility = JavaVersion.VERSION_1_8\n\n    sourceSets.main {\n        java.srcDirs = ['src/main']\n        resources.srcDirs = ['src/main']\n    }\n}\n\ndependencies {\n    implementation fileTree(include: ['*.jar'], dir: 'lib')\n}\n\ncompileJava.options.encoding = 'UTF-8'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n</code></pre>\n</li>\n<li><p>Include the sub-project (the correct term might be &quot;module&quot;, I'm not sure) in your top-level <code>settings.gradle</code> file:</p>\n<pre><code>include ':app', ':lib1', ':lib2', ':lib3', ':jtds'\n</code></pre>\n</li>\n<li><p>Add the module as a dependency to the <code>app</code> module by editing your <code>app/build.gradle</code>:</p>\n<pre><code>// ...\n\ndependencies {\n    // ...\n    implementation project(':jtds')\n    // ...\n}\n\n// ...\n</code></pre>\n</li>\n</ol>\n<p>That's all, it works for me.</p>\n<p>Some notes, for those who wish to understand more details:</p>\n<ul>\n<li><p>The original jTDS source code was encoded in the Windows-1252 charset.  I re-encoded the files to UTF-8 which is why I had to include the corresponding lines about file encoding in <code>jtds/build.gradle</code>.  I could have probably left the files in the Windows encoding and omitted those lines from <code>jtds/build.gradle</code> but I prefer to have all my source code in UTF-8.</p>\n</li>\n<li><p>The <code>resources.srcDirs = ['src/main']</code> line in <code>jtds/build.gradle</code> seems to be necessary to include some <code>foo.properties</code> files that are part of the jTDS source code into the generated JAR.  Otherwise, I was getting an error message saying <code>no message resource found for message property prop.servertype</code> upon trying to connect to SQL Server.</p>\n</li>\n<li><p>The jTDS sources include a number of JAR files which they depend on, hence including them via the <code>implementation fileTree(...)</code> declaration in the <code>dependencies</code> block of <code>jtds/build.gradle</code>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1324893,"reputation":5227,"user_id":1269951,"display_name":"TaylanKammer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69312900,"answer_count":1,"score":0,"last_activity_date":1632748660,"creation_date":1632466536,"question_id":69310760,"body_markdown":"I&#39;m trying to add a local copy of [jTDS][1] into my Android App, because there seems to be a bug where interrupting a thread running a query leads to a finalizer timeout in the `JtdsStatement` class, and I&#39;d like to debug and fix this.\r\n\r\nThe problem is, jTDS won&#39;t build with the Android SDK.  I have to build it with a regular JDK, because it uses some obscure JDK features like for instance the `org.ietf.jgss` Java package.\r\n\r\nWhat certainly works is building a JAR of jTDS by compiling it outside Android Studio, then adding that JAR into my Android project.  But better would be if I could have the source code of jTDS within my project and build it all together, so I can more rapidly test changes to jTDS in my app.\r\n\r\nSo is there a way to have a sub-project in Android Studio built with regular JDK, say for instance to generate a JAR, and then add that JAR as a dependency to the main project?\r\n\r\n\r\n  [1]: http://jtds.sourceforge.net/","title":"Compile sub-project with regular JDK, add the result to my Android App","body":"<p>I'm trying to add a local copy of <a href=\"http://jtds.sourceforge.net/\" rel=\"nofollow noreferrer\">jTDS</a> into my Android App, because there seems to be a bug where interrupting a thread running a query leads to a finalizer timeout in the <code>JtdsStatement</code> class, and I'd like to debug and fix this.</p>\n<p>The problem is, jTDS won't build with the Android SDK.  I have to build it with a regular JDK, because it uses some obscure JDK features like for instance the <code>org.ietf.jgss</code> Java package.</p>\n<p>What certainly works is building a JAR of jTDS by compiling it outside Android Studio, then adding that JAR into my Android project.  But better would be if I could have the source code of jTDS within my project and build it all together, so I can more rapidly test changes to jTDS in my app.</p>\n<p>So is there a way to have a sub-project in Android Studio built with regular JDK, say for instance to generate a JAR, and then add that JAR as a dependency to the main project?</p>\n"},{"tags":["java","android","dictionary","android-mediaplayer","weather"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1632430780,"post_id":69238321,"comment_id":122497848,"body_markdown":"Hey Richard, would you please tell where do you store the media resource files that you want to play for each icon; do you store them in  the resources `res\\raw`?","body":"Hey Richard, would you please tell where do you store the media resource files that you want to play for each icon; do you store them in  the resources <code>res\\raw</code>?"},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1632493522,"post_id":69238321,"comment_id":122515318,"body_markdown":"@zain yes, all the media files are stored there","body":"@zain yes, all the media files are stored there"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1632517356,"post_id":69238321,"comment_id":122523667,"body_markdown":"Let me check it.","body":"Let me check it."},{"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"score":0,"creation_date":1632668590,"post_id":69238321,"comment_id":122549646,"body_markdown":"Have you figured it out? @zain","body":"Have you figured it out? @zain"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":1,"creation_date":1632748495,"post_id":69238321,"comment_id":122569466,"body_markdown":"I just posted an answer, feel free to discuss it if something is confusing","body":"I just posted an answer, feel free to discuss it if something is confusing"}],"answers":[{"tags":[],"owner":{"account_id":2746857,"reputation":2078,"user_id":2395334,"accept_rate":55,"display_name":"DennisVA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632116891,"creation_date":1632000968,"answer_id":69238631,"question_id":69238321,"body_markdown":"I would create a wrapper to make it easier to show things to your UI\r\n\r\nFor example: \r\n\r\n    public class Weather{\r\n       @DrawableRes\r\n       private int icon; //Resource id of the drawable\r\n       private String sound; //Name or path the the sound file\r\n\r\n       public Weather(WeatherPojo pojo){\r\n           switch(pojo.icon){\r\n                    case &quot;01d&quot;:\r\n                    case &quot;01n&quot;:\r\n                        this.icon = R.drawable.sun;\r\n                        this.sound = ...\r\n           }\r\n    \r\n       }\r\n    }\r\n\r\nThis class could also contain a `play(MediaPlayer player)` method\r\n\r\nSome other things i noticed: \r\n- avoid hardcoding your strings\r\n- you might wanna have a look at viewbinding to reduce that high amount of ugly `rootView.findViewById` calls (https://developer.android.com/topic/libraries/view-binding)\r\n\r\nEdit: \r\n\r\nAnother, probably better option would be to create some kind of WeatherFactory class or parser that produces subclasses of an abstract Weather class,\r\nand have that abstract class contain code for playing the media file:\r\n\r\n    public abstract class Weather{\r\n         @DrawableRes\r\n         private int iconResId;\r\n         @RawRes \r\n         private int soundResId;\r\n\r\n         protected Weather(@DrawableRes int iconResId, @RawRes int soundResId){\r\n            this.iconResId = iconResId;\r\n            this.soundResId = soundResId\r\n         }\r\n\r\n         public void playSound(MediaPlayer mediaPlayer, Context context){\r\n\r\n            String assetFileDescriptor = context.resources.openRawResourceFd(soundResId);\r\n\r\n            if(assetFileDescriptor == null)\r\n                 return;\r\n\r\n            mediaPlayer.reset();\r\n            mediaPlayer.setDataSource(assetFileDescriptor.fileDescriptor, \r\n            assetFileDescriptor.startOffset, assetFileDescriptor.declaredLength);\r\n            mediaPlayer.prepareAsync();\r\n         }\r\n    } \r\n\r\n    public class Snow extends Weather{\r\n          public Snow(){\r\n              super(R.drawable.snow, R.raw.snow)\r\n          }\r\n    }\r\n \r\nNow u can call `snow.playSound()` in ur fragment or viewModel and generate getters and setters in the abstract class to get the drawable and display it.\r\n\r\nOther variables for example the description can also be injected in the constructor of the subclass, or u can extend the subclasses themselves for the different types of snow (LightSnow, HeavySnow, ...) \r\n\r\nNote: I haven&#39;t tested any of this code so it might need some changes here and there","title":"Play weather sounds based on it&#39;s icons","body":"<p>I would create a wrapper to make it easier to show things to your UI</p>\n<p>For example:</p>\n<pre><code>public class Weather{\n   @DrawableRes\n   private int icon; //Resource id of the drawable\n   private String sound; //Name or path the the sound file\n\n   public Weather(WeatherPojo pojo){\n       switch(pojo.icon){\n                case &quot;01d&quot;:\n                case &quot;01n&quot;:\n                    this.icon = R.drawable.sun;\n                    this.sound = ...\n       }\n\n   }\n}\n</code></pre>\n<p>This class could also contain a <code>play(MediaPlayer player)</code> method</p>\n<p>Some other things i noticed:</p>\n<ul>\n<li>avoid hardcoding your strings</li>\n<li>you might wanna have a look at viewbinding to reduce that high amount of ugly <code>rootView.findViewById</code> calls (<a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">https://developer.android.com/topic/libraries/view-binding</a>)</li>\n</ul>\n<p>Edit:</p>\n<p>Another, probably better option would be to create some kind of WeatherFactory class or parser that produces subclasses of an abstract Weather class,\nand have that abstract class contain code for playing the media file:</p>\n<pre><code>public abstract class Weather{\n     @DrawableRes\n     private int iconResId;\n     @RawRes \n     private int soundResId;\n\n     protected Weather(@DrawableRes int iconResId, @RawRes int soundResId){\n        this.iconResId = iconResId;\n        this.soundResId = soundResId\n     }\n\n     public void playSound(MediaPlayer mediaPlayer, Context context){\n\n        String assetFileDescriptor = context.resources.openRawResourceFd(soundResId);\n\n        if(assetFileDescriptor == null)\n             return;\n\n        mediaPlayer.reset();\n        mediaPlayer.setDataSource(assetFileDescriptor.fileDescriptor, \n        assetFileDescriptor.startOffset, assetFileDescriptor.declaredLength);\n        mediaPlayer.prepareAsync();\n     }\n} \n\npublic class Snow extends Weather{\n      public Snow(){\n          super(R.drawable.snow, R.raw.snow)\n      }\n}\n</code></pre>\n<p>Now u can call <code>snow.playSound()</code> in ur fragment or viewModel and generate getters and setters in the abstract class to get the drawable and display it.</p>\n<p>Other variables for example the description can also be injected in the constructor of the subclass, or u can extend the subclasses themselves for the different types of snow (LightSnow, HeavySnow, ...)</p>\n<p>Note: I haven't tested any of this code so it might need some changes here and there</p>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632748459,"creation_date":1632748459,"answer_id":69347289,"question_id":69238321,"body_markdown":"&gt;    MediaPlayer firstSound, secondSound, thirdSound, fourthSound, fifthSound, sixthSound, seventhSound, eightSound, ninethSound;\r\n\r\nHere you created 9 `MediaPlayer` objects, and from their names and their count that exactly the same as the number of icons; I realized that each one will handle the sound of a certain icon.\r\n\r\nAlthough, you could only use a single `MediaPlaer` object for playing any of the 9 sounds you have. Think of it like your operating system media player, you have a single media player app, and you can drag and drop any media file at a time, and change it whenever you want without changing the app itself.\r\n\r\nThis is valid as long as you want to play a single media file at a time; but, in case you want to play multiple sounds at the same time, you probably need more than one `MediaPlayer` object.\r\n\r\nSo, as in your case you&#39;ve a single whether condition at a time, so I assume that you want to play a single file at a time; and therefore you&#39;ve a single icon at a time (due to the `switch` statement), and hence you need to change above mentioned snippet to be a single variable:\r\n\r\n```\r\nMediaPlayer mediaPlayer;\r\n```\r\n\r\n&gt; My knowledge of java dictionary is quite narrow and I find it hard to understand documentation\r\n\r\nA dictionary (or it&#39;s a Map for accurately speaking in java), think of it like a phone directory: You know the person name (Key), and need to get the corresponding phone number (Value); the difference in this example that in phone directory there is only a unique value for each key/person; but in java `Map`, you can have duplicate values (i.e. more than one key/person can own the same value/phone number).\r\n\r\n&gt; ```\r\n&gt; V put(K key,\r\n&gt;      V value)\r\n&gt; ```\r\n\r\nAlso, In java, the key and value can be almost anything and this can be indicated from the (K &amp; V) symbols which are a [generics][1].\r\n\r\n\r\n&gt; I thought of using K as Icon and V as my sound but I didn&#39;t know how to apply it \r\n\r\nIn the shared simple example, I don&#39;t really think that you need a map; as the sound resources are highly coupled with the corresponding icon drawable resources, then you can just treat the sound raw files like you did with drawables.\r\n\r\nSo, whenever you change the current drawable (i.e. in the switch statement), you also need to change the current sound in the `switch` statement, assuming they have the same name as the drawables:\r\n\r\n\r\n```\r\nMediaPlayer mediaPlayer; // single MediaPlayer object\r\n\r\nint drawableResource = -1; // here define default icon for example R.drawable.default_weather_icon\r\nint soundResource = -1; // Default sound is nothing\r\n\r\nString icon = data.getWeather().get(0).getIcon();\r\nswitch (icon) {\r\n\tcase &quot;01d&quot;:\r\n\tcase &quot;01n&quot;:\r\n\t\tdrawableResource = R.drawable.sun;\r\n        soundResource = R.raw.sun;\r\n\t\tbreak;\r\n\tcase &quot;02d&quot;:\r\n\tcase &quot;021n&quot;:\r\n\t\tdrawableResource = R.drawable.few_clouds;\r\n        soundResource = R.raw.few_clouds;\r\n\r\n\t\tbreak;\r\n\tcase &quot;03d&quot;:\r\n\tcase &quot;03n&quot;:\r\n\t\tdrawableResource = R.drawable.scattered_clouds;\r\n        soundResource = R.raw.scattered_clouds;\r\n\r\n\t\tbreak;\r\n\tcase &quot;04d&quot;:\r\n\tcase &quot;04n&quot;:\r\n\t\tdrawableResource = R.drawable.broken_clouds;\r\n        soundResource = R.raw.broken_clouds;\r\n\r\n\t\tbreak;\r\n\tcase &quot;09d&quot;:\r\n\tcase &quot;09n&quot;:\r\n\t\tdrawableResource = R.drawable.shower_rain;\r\n        soundResource = R.raw.shower_rain;\r\n\r\n\t\tbreak;\r\n\tcase &quot;10d&quot;:\r\n\tcase &quot;10n&quot;:\r\n\t\tdrawableResource = R.drawable.small_rain;\r\n        soundResource = R.raw.small_rain;\r\n\r\n\t\tbreak;\r\n\tcase &quot;11d&quot;:\r\n\tcase &quot;11n&quot;:\r\n\t\tdrawableResource = R.drawable.thunderstorm;\r\n        soundResource = R.raw.thunderstorm;\r\n\r\n\t\tbreak;\r\n\tcase &quot;13d&quot;:\r\n\tcase &quot;13n&quot;:\r\n\t\tdrawableResource = R.drawable.snow;\r\n        soundResource = R.raw.snow;\r\n\r\n\t\tbreak;\r\n\tcase &quot;50d&quot;:\r\n\tcase &quot;50n&quot;:\r\n\t\tdrawableResource = R.drawable.mist;\r\n        soundResource = R.raw.mist;\r\n\t\tbreak;\r\n}\r\n\r\n\r\nif (drawableResource != -1)\r\n\tcurrent_icon.setImageResource(drawableResource);\r\n\t\r\n\t\r\nif (soundResource != -1) {\r\n\tprepareMediaPlayer(soundResource);\r\n}\r\n\r\n\r\n\r\n// In FirstFragment:\r\n\r\nprivate void prepareMediaPlayer(int resource) {\r\n\t// add track file\r\n\tmMediaPlayer = MediaPlayer.create(requireActivity(), resource);\r\n\r\n\t// listening to when the media file finishes playing so that we can release the resources\r\n\tmMediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n\t\t@Override\r\n\t\tpublic void onCompletion(MediaPlayer mp) {\r\n\t\t\tif (mMediaPlayer != null) {\r\n\t\t\t\tmMediaPlayer.release();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\t\r\n}\r\n```\r\n\r\nAnd whenever you want to play the sound, just call `mMediaPlayer.start()`, but make sure that `prepareMediaPlayer()`  is called in advance.\r\n\r\n\r\nHint: if you want to use a map, I&#39;d recommend that you create a POJO/Data class for the Weather, so that probably we&#39;d a Map.\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/java/java_generics.htm","title":"Play weather sounds based on it&#39;s icons","body":"<blockquote>\n<p>MediaPlayer firstSound, secondSound, thirdSound, fourthSound, fifthSound, sixthSound, seventhSound, eightSound, ninethSound;</p>\n</blockquote>\n<p>Here you created 9 <code>MediaPlayer</code> objects, and from their names and their count that exactly the same as the number of icons; I realized that each one will handle the sound of a certain icon.</p>\n<p>Although, you could only use a single <code>MediaPlaer</code> object for playing any of the 9 sounds you have. Think of it like your operating system media player, you have a single media player app, and you can drag and drop any media file at a time, and change it whenever you want without changing the app itself.</p>\n<p>This is valid as long as you want to play a single media file at a time; but, in case you want to play multiple sounds at the same time, you probably need more than one <code>MediaPlayer</code> object.</p>\n<p>So, as in your case you've a single whether condition at a time, so I assume that you want to play a single file at a time; and therefore you've a single icon at a time (due to the <code>switch</code> statement), and hence you need to change above mentioned snippet to be a single variable:</p>\n<pre><code>MediaPlayer mediaPlayer;\n</code></pre>\n<blockquote>\n<p>My knowledge of java dictionary is quite narrow and I find it hard to understand documentation</p>\n</blockquote>\n<p>A dictionary (or it's a Map for accurately speaking in java), think of it like a phone directory: You know the person name (Key), and need to get the corresponding phone number (Value); the difference in this example that in phone directory there is only a unique value for each key/person; but in java <code>Map</code>, you can have duplicate values (i.e. more than one key/person can own the same value/phone number).</p>\n<blockquote>\n<pre><code>V put(K key,\n     V value)\n</code></pre>\n</blockquote>\n<p>Also, In java, the key and value can be almost anything and this can be indicated from the (K &amp; V) symbols which are a <a href=\"https://www.tutorialspoint.com/java/java_generics.htm\" rel=\"nofollow noreferrer\">generics</a>.</p>\n<blockquote>\n<p>I thought of using K as Icon and V as my sound but I didn't know how to apply it</p>\n</blockquote>\n<p>In the shared simple example, I don't really think that you need a map; as the sound resources are highly coupled with the corresponding icon drawable resources, then you can just treat the sound raw files like you did with drawables.</p>\n<p>So, whenever you change the current drawable (i.e. in the switch statement), you also need to change the current sound in the <code>switch</code> statement, assuming they have the same name as the drawables:</p>\n<pre><code>MediaPlayer mediaPlayer; // single MediaPlayer object\n\nint drawableResource = -1; // here define default icon for example R.drawable.default_weather_icon\nint soundResource = -1; // Default sound is nothing\n\nString icon = data.getWeather().get(0).getIcon();\nswitch (icon) {\n    case &quot;01d&quot;:\n    case &quot;01n&quot;:\n        drawableResource = R.drawable.sun;\n        soundResource = R.raw.sun;\n        break;\n    case &quot;02d&quot;:\n    case &quot;021n&quot;:\n        drawableResource = R.drawable.few_clouds;\n        soundResource = R.raw.few_clouds;\n\n        break;\n    case &quot;03d&quot;:\n    case &quot;03n&quot;:\n        drawableResource = R.drawable.scattered_clouds;\n        soundResource = R.raw.scattered_clouds;\n\n        break;\n    case &quot;04d&quot;:\n    case &quot;04n&quot;:\n        drawableResource = R.drawable.broken_clouds;\n        soundResource = R.raw.broken_clouds;\n\n        break;\n    case &quot;09d&quot;:\n    case &quot;09n&quot;:\n        drawableResource = R.drawable.shower_rain;\n        soundResource = R.raw.shower_rain;\n\n        break;\n    case &quot;10d&quot;:\n    case &quot;10n&quot;:\n        drawableResource = R.drawable.small_rain;\n        soundResource = R.raw.small_rain;\n\n        break;\n    case &quot;11d&quot;:\n    case &quot;11n&quot;:\n        drawableResource = R.drawable.thunderstorm;\n        soundResource = R.raw.thunderstorm;\n\n        break;\n    case &quot;13d&quot;:\n    case &quot;13n&quot;:\n        drawableResource = R.drawable.snow;\n        soundResource = R.raw.snow;\n\n        break;\n    case &quot;50d&quot;:\n    case &quot;50n&quot;:\n        drawableResource = R.drawable.mist;\n        soundResource = R.raw.mist;\n        break;\n}\n\n\nif (drawableResource != -1)\n    current_icon.setImageResource(drawableResource);\n    \n    \nif (soundResource != -1) {\n    prepareMediaPlayer(soundResource);\n}\n\n\n\n// In FirstFragment:\n\nprivate void prepareMediaPlayer(int resource) {\n    // add track file\n    mMediaPlayer = MediaPlayer.create(requireActivity(), resource);\n\n    // listening to when the media file finishes playing so that we can release the resources\n    mMediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n        @Override\n        public void onCompletion(MediaPlayer mp) {\n            if (mMediaPlayer != null) {\n                mMediaPlayer.release();\n            }\n        }\n    });\n    \n}\n</code></pre>\n<p>And whenever you want to play the sound, just call <code>mMediaPlayer.start()</code>, but make sure that <code>prepareMediaPlayer()</code>  is called in advance.</p>\n<p>Hint: if you want to use a map, I'd recommend that you create a POJO/Data class for the Weather, so that probably we'd a Map.</p>\n"}],"owner":{"account_id":21708163,"reputation":291,"user_id":16020235,"display_name":"Richard Wilson"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":217,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69347289,"answer_count":2,"score":1,"last_activity_date":1632748459,"creation_date":1631998012,"question_id":69238321,"body_markdown":"I&#39;ve just finished implementing my app&#39;s weather icons, now I&#39;m trying to play weather sounds on the app based on the icons the app is displaying. After doing long hours of thorough research, I found out to my shock that no one has ever asked similar questions on any platform.\r\n\r\nMy knowledge of java dictionary is quite narrow and I find it hard to understand documentation even after taking my time to read and study their samples. i.e I found a doc I believe would correspond with what I am trying to achieve here https://docs.oracle.com/javase/8/docs/api/java/util/Map.html \r\n\r\nIt explains that \r\n\r\n    V put(K key,\r\n          V value)\r\n\r\nAssociates the specified value with the specified key in this map. In that case, I thought of using K as Icon and V as my sound but I didn&#39;t know how to apply it so I looked for examples and saw this https://study.com/academy/lesson/the-java-dictionary-class-definition-example.html  The examples it provided still wasn&#39;t enough to help me through and I know I will mess it up if I try to work it out myself, so I decided to come up with this here to see if anyone can help, I&#39;ll really appreciate it.\r\n\r\nFollowing the API instructions, I&#39;m using https://openweathermap.org/weather-conditions.\r\nThere are 9 main weather conditions.\r\n\r\nThese are my goals in trying to play the sounds based on the icons:\r\n  - If the city displays the clear_sky icon, play the clear_sky_sound\r\n\t- Otherwise, If it displays the few_clouds icon, play the few_clouds_sound\r\n\t- Otherwise, If it displays the scattered_clouds icon, play the scattered_clouds_sound\r\n\t- Otherwise, If it displays the broken_clouds, play the broken_clouds_sound\r\n\t- Otherwise, If it displays the shower_rain icon, play the shower_rain_sound\r\n\t- Otherwise, If it displays the rain icon, play the rain_sound\r\n\t- Otherwise, If it displays the thunderstorm icon, play the thunderstorm_sound\r\n\t- Otherwise, If it displays the snow icon, play the snow_sound\r\n\t- Otherwise, If it displays the mist icon, play the mist_sound.\r\n\r\nHere is my Fragment&#39;s code:\r\n\r\n    public class FirstFragment extends Fragment {\r\n    \r\n        private WeatherDataViewModel viewModel;\r\n    \r\n        MediaPlayer firstSound, secondSound, thirdSound, fourthSound, fifthSound, sixthSound, seventhSound, eightSound, ninethSound;\r\n    \r\n        public FirstFragment() {\r\n    // Required empty public constructor\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n            View rootView = inflater.inflate(R.layout.fragment_first, container, false);\r\n        // For displaying weather data\r\n            final TextView current_temp = rootView.findViewById(R.id.textView10);\r\n            final TextView current_output = rootView.findViewById(R.id.textView11);\r\n            final TextView rise_time = rootView.findViewById(R.id.textView25);\r\n            final TextView set_time = rootView.findViewById(R.id.textView26);\r\n            final TextView temp_out = rootView.findViewById(R.id.textView28);\r\n            final TextView Press_out = rootView.findViewById(R.id.textView29);\r\n            final TextView Humid_out = rootView.findViewById(R.id.textView30);\r\n            final TextView Ws_out = rootView.findViewById(R.id.textView33);\r\n            final TextView Visi_out = rootView.findViewById(R.id.textView34);\r\n            final TextView Cloud_out = rootView.findViewById(R.id.textView35);\r\n            final ImageView current_icon = rootView.findViewById(R.id.imageView6);\r\n            final SwipeRefreshLayout realSwipe = rootView.findViewById(R.id.real_swipe);\r\n    \r\n    \r\n        // Get our ViewModel instance\r\n            viewModel = new ViewModelProvider(this).get(WeatherDataViewModel.class);\r\n    \r\n    \r\n    \r\n        // And whenever the data changes, refresh the UI\r\n            viewModel.getWeatherDataLiveData().observe(getViewLifecycleOwner(), data -&gt; {\r\n    \r\n                realSwipe.setOnRefreshListener(() -&gt; {\r\n                    // perform you action here for ex. add refresh screen code here\r\n                    new Handler().postDelayed(() -&gt; {\r\n                        // this code is for stop refreshing icon, After 1000 ms automatically refresh icon will stop\r\n                        realSwipe.setRefreshing(false);\r\n                    }, 1000);\r\n                });\r\n    \r\n                int drawableResource = -1; // here define default icon for example R.drawable.default_weather_icon\r\n    \r\n                if (data != null) {\r\n                    current_temp.setVisibility(View.VISIBLE);\r\n                    current_temp.setText(data.getMain().getTemp() + &quot; ℃&quot;); // for that you can use strings resource and templates more in https://developer.android.com/guide/topics/resources/string-resource.html#formatting-strings\r\n                    current_output.setVisibility(View.VISIBLE);\r\n                    current_output.setText(data.getWeather().get(0).getDescription());\r\n                    rise_time.setVisibility(View.VISIBLE);\r\n                    rise_time.setText(data.getSys().getSunrise() + &quot; &quot;);\r\n                    set_time.setVisibility(View.VISIBLE);\r\n                    set_time.setText(data.getSys().getSunset() + &quot; &quot;);\r\n                    temp_out.setVisibility(View.VISIBLE);\r\n                    temp_out.setText(data.getMain().getTemp() + &quot; ℃&quot;);\r\n                    Press_out.setVisibility(View.VISIBLE);\r\n                    Press_out.setText(data.getMain().getPressure() + &quot; hpa&quot;);\r\n                    Humid_out.setVisibility(View.VISIBLE);\r\n                    Humid_out.setText(data.getMain().getHumidity() + &quot; %&quot;);\r\n                    Ws_out.setVisibility(View.VISIBLE);\r\n                    Ws_out.setText(data.getWind().getSpeed() + &quot; Km/h&quot;);\r\n                    Visi_out.setVisibility(View.VISIBLE);\r\n                    Visi_out.setText(data.getVisibility() + &quot; m&quot;);\r\n                    Cloud_out.setVisibility(View.VISIBLE);\r\n                    Cloud_out.setText(data.getClouds().getAll() + &quot; %&quot;);\r\n    \r\n    // get actual weather.\r\n    \r\n                    String icon = data.getWeather().get(0).getIcon();\r\n    \r\n                    switch (icon) {\r\n                        case &quot;01d&quot;:\r\n                        case &quot;01n&quot;:\r\n                            drawableResource = R.drawable.sun;\r\n    \r\n                            break;\r\n                        case &quot;02d&quot;:\r\n                        case &quot;021n&quot;:\r\n                            drawableResource = R.drawable.few_clouds;\r\n    \r\n                            break;\r\n                        case &quot;03d&quot;:\r\n                        case &quot;03n&quot;:\r\n                            drawableResource = R.drawable.scattered_clouds;\r\n    \r\n                            break;\r\n                        case &quot;04d&quot;:\r\n                        case &quot;04n&quot;:\r\n                            drawableResource = R.drawable.broken_clouds;\r\n    \r\n                            break;\r\n                        case &quot;09d&quot;:\r\n                        case &quot;09n&quot;:\r\n                            drawableResource = R.drawable.shower_rain;\r\n    \r\n                            break;\r\n                        case &quot;10d&quot;:\r\n                        case &quot;10n&quot;:\r\n                            drawableResource = R.drawable.small_rain;\r\n    \r\n                            break;\r\n                        case &quot;11d&quot;:\r\n                        case &quot;11n&quot;:\r\n                            drawableResource = R.drawable.thunderstorm;\r\n    \r\n                            break;\r\n                        case &quot;13d&quot;:\r\n                        case &quot;13n&quot;:\r\n                            drawableResource = R.drawable.snow;\r\n    \r\n                            break;\r\n                        case &quot;50d&quot;:\r\n                        case &quot;50n&quot;:\r\n                            drawableResource = R.drawable.mist;\r\n                            break;\r\n                    }\r\n    \r\n    \r\n                    if (drawableResource != -1)\r\n                        current_icon.setImageResource(drawableResource);\r\n    \r\n                } else {\r\n                    Log.e(&quot;TAG&quot;, &quot;No City found&quot;);\r\n                    current_temp.setVisibility(View.GONE);\r\n                    current_output.setVisibility(View.GONE);\r\n                    rise_time.setVisibility(View.GONE);\r\n                    set_time.setVisibility(View.GONE);\r\n                    temp_out.setVisibility(View.GONE);\r\n                    Press_out.setVisibility(View.GONE);\r\n                    Humid_out.setVisibility(View.GONE);\r\n                    Ws_out.setVisibility(View.GONE);\r\n                    Visi_out.setVisibility(View.GONE);\r\n                    Cloud_out.setVisibility(View.GONE);\r\n                    Toast.makeText(requireActivity(), &quot;No City found&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n    \r\n            return rootView;\r\n        }\r\n    \r\n        public void getWeatherData(String name) {\r\n    // The ViewModel controls loading the data, so we just\r\n    // tell it what the new name is - this kicks off loading\r\n    // the data, which will automatically call through to\r\n    // our observe() call when the data load completes\r\n            viewModel.setCityName(name);\r\n        }\r\n    }\r\n\r\n**EDIT:**\r\n\r\nDennisVA helped by providing a sample I could follow(i tried his 2nd suggestion) but when I tried it, I got some errors which I shared using a link in his comment section.\r\nI decided to bounty this post to draw more attention, so I can be directed more in the right direction.","title":"Play weather sounds based on it&#39;s icons","body":"<p>I've just finished implementing my app's weather icons, now I'm trying to play weather sounds on the app based on the icons the app is displaying. After doing long hours of thorough research, I found out to my shock that no one has ever asked similar questions on any platform.</p>\n<p>My knowledge of java dictionary is quite narrow and I find it hard to understand documentation even after taking my time to read and study their samples. i.e I found a doc I believe would correspond with what I am trying to achieve here <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Map.html</a></p>\n<p>It explains that</p>\n<pre><code>V put(K key,\n      V value)\n</code></pre>\n<p>Associates the specified value with the specified key in this map. In that case, I thought of using K as Icon and V as my sound but I didn't know how to apply it so I looked for examples and saw this <a href=\"https://study.com/academy/lesson/the-java-dictionary-class-definition-example.html\" rel=\"nofollow noreferrer\">https://study.com/academy/lesson/the-java-dictionary-class-definition-example.html</a>  The examples it provided still wasn't enough to help me through and I know I will mess it up if I try to work it out myself, so I decided to come up with this here to see if anyone can help, I'll really appreciate it.</p>\n<p>Following the API instructions, I'm using <a href=\"https://openweathermap.org/weather-conditions\" rel=\"nofollow noreferrer\">https://openweathermap.org/weather-conditions</a>.\nThere are 9 main weather conditions.</p>\n<p>These are my goals in trying to play the sounds based on the icons:</p>\n<ul>\n<li>If the city displays the clear_sky icon, play the clear_sky_sound\n<ul>\n<li>Otherwise, If it displays the few_clouds icon, play the few_clouds_sound</li>\n<li>Otherwise, If it displays the scattered_clouds icon, play the scattered_clouds_sound</li>\n<li>Otherwise, If it displays the broken_clouds, play the broken_clouds_sound</li>\n<li>Otherwise, If it displays the shower_rain icon, play the shower_rain_sound</li>\n<li>Otherwise, If it displays the rain icon, play the rain_sound</li>\n<li>Otherwise, If it displays the thunderstorm icon, play the thunderstorm_sound</li>\n<li>Otherwise, If it displays the snow icon, play the snow_sound</li>\n<li>Otherwise, If it displays the mist icon, play the mist_sound.</li>\n</ul>\n</li>\n</ul>\n<p>Here is my Fragment's code:</p>\n<pre><code>public class FirstFragment extends Fragment {\n\n    private WeatherDataViewModel viewModel;\n\n    MediaPlayer firstSound, secondSound, thirdSound, fourthSound, fifthSound, sixthSound, seventhSound, eightSound, ninethSound;\n\n    public FirstFragment() {\n// Required empty public constructor\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n    // Inflate the layout for this fragment\n        View rootView = inflater.inflate(R.layout.fragment_first, container, false);\n    // For displaying weather data\n        final TextView current_temp = rootView.findViewById(R.id.textView10);\n        final TextView current_output = rootView.findViewById(R.id.textView11);\n        final TextView rise_time = rootView.findViewById(R.id.textView25);\n        final TextView set_time = rootView.findViewById(R.id.textView26);\n        final TextView temp_out = rootView.findViewById(R.id.textView28);\n        final TextView Press_out = rootView.findViewById(R.id.textView29);\n        final TextView Humid_out = rootView.findViewById(R.id.textView30);\n        final TextView Ws_out = rootView.findViewById(R.id.textView33);\n        final TextView Visi_out = rootView.findViewById(R.id.textView34);\n        final TextView Cloud_out = rootView.findViewById(R.id.textView35);\n        final ImageView current_icon = rootView.findViewById(R.id.imageView6);\n        final SwipeRefreshLayout realSwipe = rootView.findViewById(R.id.real_swipe);\n\n\n    // Get our ViewModel instance\n        viewModel = new ViewModelProvider(this).get(WeatherDataViewModel.class);\n\n\n\n    // And whenever the data changes, refresh the UI\n        viewModel.getWeatherDataLiveData().observe(getViewLifecycleOwner(), data -&gt; {\n\n            realSwipe.setOnRefreshListener(() -&gt; {\n                // perform you action here for ex. add refresh screen code here\n                new Handler().postDelayed(() -&gt; {\n                    // this code is for stop refreshing icon, After 1000 ms automatically refresh icon will stop\n                    realSwipe.setRefreshing(false);\n                }, 1000);\n            });\n\n            int drawableResource = -1; // here define default icon for example R.drawable.default_weather_icon\n\n            if (data != null) {\n                current_temp.setVisibility(View.VISIBLE);\n                current_temp.setText(data.getMain().getTemp() + &quot; ℃&quot;); // for that you can use strings resource and templates more in https://developer.android.com/guide/topics/resources/string-resource.html#formatting-strings\n                current_output.setVisibility(View.VISIBLE);\n                current_output.setText(data.getWeather().get(0).getDescription());\n                rise_time.setVisibility(View.VISIBLE);\n                rise_time.setText(data.getSys().getSunrise() + &quot; &quot;);\n                set_time.setVisibility(View.VISIBLE);\n                set_time.setText(data.getSys().getSunset() + &quot; &quot;);\n                temp_out.setVisibility(View.VISIBLE);\n                temp_out.setText(data.getMain().getTemp() + &quot; ℃&quot;);\n                Press_out.setVisibility(View.VISIBLE);\n                Press_out.setText(data.getMain().getPressure() + &quot; hpa&quot;);\n                Humid_out.setVisibility(View.VISIBLE);\n                Humid_out.setText(data.getMain().getHumidity() + &quot; %&quot;);\n                Ws_out.setVisibility(View.VISIBLE);\n                Ws_out.setText(data.getWind().getSpeed() + &quot; Km/h&quot;);\n                Visi_out.setVisibility(View.VISIBLE);\n                Visi_out.setText(data.getVisibility() + &quot; m&quot;);\n                Cloud_out.setVisibility(View.VISIBLE);\n                Cloud_out.setText(data.getClouds().getAll() + &quot; %&quot;);\n\n// get actual weather.\n\n                String icon = data.getWeather().get(0).getIcon();\n\n                switch (icon) {\n                    case &quot;01d&quot;:\n                    case &quot;01n&quot;:\n                        drawableResource = R.drawable.sun;\n\n                        break;\n                    case &quot;02d&quot;:\n                    case &quot;021n&quot;:\n                        drawableResource = R.drawable.few_clouds;\n\n                        break;\n                    case &quot;03d&quot;:\n                    case &quot;03n&quot;:\n                        drawableResource = R.drawable.scattered_clouds;\n\n                        break;\n                    case &quot;04d&quot;:\n                    case &quot;04n&quot;:\n                        drawableResource = R.drawable.broken_clouds;\n\n                        break;\n                    case &quot;09d&quot;:\n                    case &quot;09n&quot;:\n                        drawableResource = R.drawable.shower_rain;\n\n                        break;\n                    case &quot;10d&quot;:\n                    case &quot;10n&quot;:\n                        drawableResource = R.drawable.small_rain;\n\n                        break;\n                    case &quot;11d&quot;:\n                    case &quot;11n&quot;:\n                        drawableResource = R.drawable.thunderstorm;\n\n                        break;\n                    case &quot;13d&quot;:\n                    case &quot;13n&quot;:\n                        drawableResource = R.drawable.snow;\n\n                        break;\n                    case &quot;50d&quot;:\n                    case &quot;50n&quot;:\n                        drawableResource = R.drawable.mist;\n                        break;\n                }\n\n\n                if (drawableResource != -1)\n                    current_icon.setImageResource(drawableResource);\n\n            } else {\n                Log.e(&quot;TAG&quot;, &quot;No City found&quot;);\n                current_temp.setVisibility(View.GONE);\n                current_output.setVisibility(View.GONE);\n                rise_time.setVisibility(View.GONE);\n                set_time.setVisibility(View.GONE);\n                temp_out.setVisibility(View.GONE);\n                Press_out.setVisibility(View.GONE);\n                Humid_out.setVisibility(View.GONE);\n                Ws_out.setVisibility(View.GONE);\n                Visi_out.setVisibility(View.GONE);\n                Cloud_out.setVisibility(View.GONE);\n                Toast.makeText(requireActivity(), &quot;No City found&quot;, Toast.LENGTH_SHORT).show();\n            }\n        });\n\n        return rootView;\n    }\n\n    public void getWeatherData(String name) {\n// The ViewModel controls loading the data, so we just\n// tell it what the new name is - this kicks off loading\n// the data, which will automatically call through to\n// our observe() call when the data load completes\n        viewModel.setCityName(name);\n    }\n}\n</code></pre>\n<p><strong>EDIT:</strong></p>\n<p>DennisVA helped by providing a sample I could follow(i tried his 2nd suggestion) but when I tried it, I got some errors which I shared using a link in his comment section.\nI decided to bounty this post to draw more attention, so I can be directed more in the right direction.</p>\n"},{"tags":["java","tomcat"],"comments":[{"owner":{"account_id":6106038,"reputation":1680,"user_id":4763733,"accept_rate":25,"display_name":"Fran Montero"},"score":0,"creation_date":1437723315,"post_id":31604569,"comment_id":51159880,"body_markdown":"You can call tomcat manager using its url from command line using `wget`","body":"You can call tomcat manager using its url from command line using <code>wget</code>"}],"answers":[{"tags":[],"owner":{"account_id":5503993,"reputation":831,"user_id":4372428,"display_name":"Matteo Rubini"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1524455643,"creation_date":1437723561,"answer_id":31604784,"question_id":31604569,"body_markdown":"Best way is using `CURL` targetting your desired command from Tomcat /manager\r\n\r\n    curl --user user:pass http://localhost:8080/manager/text/&lt;your command&gt;?path=/&lt;your web appl&gt; \r\n\r\n \r\n\r\nhere you can find list of commands \r\nhttps://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html\r\n\r\nin your case\r\n\r\n&gt; Start Application\r\n&gt; `http://localhost:8080/manager/text/start?path=/yourWebAppl`\r\n&gt; \r\n&gt; Stop Application\r\n&gt; `http://localhost:8080/manager/text/stop?path=/yourWebAppl`\r\n&gt; \r\n&gt; Restart Application\r\n&gt; `http://localhost:8080/manager/text/reload?path=/yourWebAppl`","title":"how to start and stop application in apache-tomcat manually if there are more than one application in webapps directory of tomcat?","body":"<p>Best way is using <code>CURL</code> targetting your desired command from Tomcat /manager</p>\n\n<pre><code>curl --user user:pass http://localhost:8080/manager/text/&lt;your command&gt;?path=/&lt;your web appl&gt; \n</code></pre>\n\n<p>here you can find list of commands \n<a href=\"https://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-7.0-doc/manager-howto.html</a></p>\n\n<p>in your case</p>\n\n<blockquote>\n  <p>Start Application\n  <code>http://localhost:8080/manager/text/start?path=/yourWebAppl</code></p>\n  \n  <p>Stop Application\n  <code>http://localhost:8080/manager/text/stop?path=/yourWebAppl</code></p>\n  \n  <p>Restart Application\n  <code>http://localhost:8080/manager/text/reload?path=/yourWebAppl</code></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2458465,"reputation":734,"user_id":2143081,"display_name":"ceth"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632748412,"creation_date":1437723731,"answer_id":31604832,"question_id":31604569,"body_markdown":"There are several ways of deploying web applications in Apache Tomcat. One is the XML deployment descriptor file in the directory `&lt;TOMCATDIR&gt;/conf/Catalina/localhost`.\r\n\r\nThe content of such a file is a `&lt;Context...&gt;&lt;/Context&gt;` configuration that may look like this (eg. `webapp1.xml`):\r\n\r\n````lang-xml\r\n&lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n&lt;Context displayName=&quot;webapp1&quot;\r\n         override=&quot;true&quot;\r\n         path=&quot;/webapp1&quot;\r\n         docBase=&quot;${catalina.base}/webapps/webapp1&quot;&gt;\r\n\r\n         ... some context configuration ...\r\n\r\n&lt;/Context&gt;\r\n````\r\n\r\nIf Tomcat finds a XML file in this directory, it will try to deploy the context defined in that file. If you remove that file from this directory, Tomcat will undeploy the web application context.\r\n\r\nAll of that can be done by command line or shell script.\r\n\r\nRegarding to your question: You may put two context files in this directory. One for each of your web apps. To deploy one just move the file in and to undeploy one just move it out of the directory.\r\n\r\n````lang-bash\r\n# deployment\r\n&amp;&gt; cd &quot;&lt;TOMCATPATH&gt;/conf/Catalina/&quot;\r\n&amp;&gt; mv webapp1.xml localhost/\r\n  \r\n# undeploy\r\n&amp;&gt; cd &quot;&lt;TOMCATPATH&gt;/conf/Catalina/localhost&quot;\r\n&amp;&gt; mv webapp1.xml ../\r\n````\r\n\r\nFor more detailed information about the `&lt;Context...&gt;&lt;/Context&gt;` element refer to: [The Context Container Doc Page][1]\r\n\r\n\r\n  [1]: https://tomcat.apache.org/tomcat-7.0-doc/config/context.html","title":"how to start and stop application in apache-tomcat manually if there are more than one application in webapps directory of tomcat?","body":"<p>There are several ways of deploying web applications in Apache Tomcat. One is the XML deployment descriptor file in the directory <code>&lt;TOMCATDIR&gt;/conf/Catalina/localhost</code>.</p>\n<p>The content of such a file is a <code>&lt;Context...&gt;&lt;/Context&gt;</code> configuration that may look like this (eg. <code>webapp1.xml</code>):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;Context displayName=&quot;webapp1&quot;\n         override=&quot;true&quot;\n         path=&quot;/webapp1&quot;\n         docBase=&quot;${catalina.base}/webapps/webapp1&quot;&gt;\n\n         ... some context configuration ...\n\n&lt;/Context&gt;\n</code></pre>\n<p>If Tomcat finds a XML file in this directory, it will try to deploy the context defined in that file. If you remove that file from this directory, Tomcat will undeploy the web application context.</p>\n<p>All of that can be done by command line or shell script.</p>\n<p>Regarding to your question: You may put two context files in this directory. One for each of your web apps. To deploy one just move the file in and to undeploy one just move it out of the directory.</p>\n<pre class=\"lang-bash prettyprint-override\"><code># deployment\n&amp;&gt; cd &quot;&lt;TOMCATPATH&gt;/conf/Catalina/&quot;\n&amp;&gt; mv webapp1.xml localhost/\n  \n# undeploy\n&amp;&gt; cd &quot;&lt;TOMCATPATH&gt;/conf/Catalina/localhost&quot;\n&amp;&gt; mv webapp1.xml ../\n</code></pre>\n<p>For more detailed information about the <code>&lt;Context...&gt;&lt;/Context&gt;</code> element refer to: <a href=\"https://tomcat.apache.org/tomcat-7.0-doc/config/context.html\" rel=\"nofollow noreferrer\">The Context Container Doc Page</a></p>\n"}],"owner":{"account_id":4964886,"reputation":307,"user_id":3994589,"accept_rate":67,"display_name":"Sushant Srivastava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11872,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":31604832,"answer_count":2,"score":2,"last_activity_date":1632748412,"creation_date":1437722784,"question_id":31604569,"body_markdown":"Actually i have two application in webapps directory of tomcat\r\n\r\n      webapps/hello_web1 and\r\n      webapps/hello_web2\r\n\r\nI want to start and stop these to apps separably and by using command line (or any other way except using tomcat manager gui so that i can implement start and stop function manually in my program). \r\n\r\nPlease suggest me if it is possible, and if it is not possible in tomcat than suggest me web server in which it is possible.\r\n","title":"how to start and stop application in apache-tomcat manually if there are more than one application in webapps directory of tomcat?","body":"<p>Actually i have two application in webapps directory of tomcat</p>\n\n<pre><code>  webapps/hello_web1 and\n  webapps/hello_web2\n</code></pre>\n\n<p>I want to start and stop these to apps separably and by using command line (or any other way except using tomcat manager gui so that i can implement start and stop function manually in my program). </p>\n\n<p>Please suggest me if it is possible, and if it is not possible in tomcat than suggest me web server in which it is possible.</p>\n"},{"tags":["java","jar","console","javaw"],"answers":[{"tags":[],"owner":{"account_id":4027495,"reputation":43,"user_id":3315062,"display_name":"Kieran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1392738932,"creation_date":1392738932,"answer_id":21858848,"question_id":21858301,"body_markdown":"Correct me if I&#39;m wrong - you want to launch your .JAR file without using a command line? I&#39;m not aware of any way to do this just by opening the jar, however you can always make a script that&#39;s that will do the command-line stuff for you, which only requires opening. That or a form of launcher.","title":"Console window with javaw?","body":"<p>Correct me if I'm wrong - you want to launch your .JAR file without using a command line? I'm not aware of any way to do this just by opening the jar, however you can always make a script that's that will do the command-line stuff for you, which only requires opening. That or a form of launcher.</p>\n"}],"owner":{"account_id":1899638,"reputation":1454,"user_id":1715765,"accept_rate":87,"display_name":"H.v.M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632748350,"creation_date":1392737623,"question_id":21858301,"body_markdown":"I have created a console based jar program. To be able to run it with `jarfile.jar` or by clicking on it, I went into the registry editor and edited HKEY_CLASSES_ROOT &gt; jarfile &gt; shell &gt; open &gt; command &gt; (Default) from `[...]javaw.exe[...]` to `[...]java.exe[...]`. It worked, but not immediately - I had to change default program and then change it back a couple of times and do a lot with it (I don&#39;t remember exactly). There are two drawbacks to this method: one, executable jar files that aren&#39;t meant to be run with console will now have one and that&#39;s kind of annoying; two, if I want to release this program publicly, everyone who wants to use it will have to do the same thing or run it with \r\n`java -jar jarfile.jar`.\r\n\r\nTherefore, I&#39;m wondering if there&#39;s a way to edit the jar&#39;s main class to open its own console window that won&#39;t be blocked by javaw.exe, so that I can run the jar file with javaw. I&#39;m thinking something like `openConsoleWindow(); outputTo(theNewWindow()); inputFrom(theNewWindow());`","title":"Console window with javaw?","body":"<p>I have created a console based jar program. To be able to run it with <code>jarfile.jar</code> or by clicking on it, I went into the registry editor and edited HKEY_CLASSES_ROOT &gt; jarfile &gt; shell &gt; open &gt; command &gt; (Default) from <code>[...]javaw.exe[...]</code> to <code>[...]java.exe[...]</code>. It worked, but not immediately - I had to change default program and then change it back a couple of times and do a lot with it (I don't remember exactly). There are two drawbacks to this method: one, executable jar files that aren't meant to be run with console will now have one and that's kind of annoying; two, if I want to release this program publicly, everyone who wants to use it will have to do the same thing or run it with\n<code>java -jar jarfile.jar</code>.</p>\n<p>Therefore, I'm wondering if there's a way to edit the jar's main class to open its own console window that won't be blocked by javaw.exe, so that I can run the jar file with javaw. I'm thinking something like <code>openConsoleWindow(); outputTo(theNewWindow()); inputFrom(theNewWindow());</code></p>\n"},{"tags":["java","reactive-programming","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":105907,"reputation":1380,"user_id":282352,"display_name":"Amitay Dobo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632518654,"creation_date":1632518654,"answer_id":69321239,"question_id":69320970,"body_markdown":"Not familiar with this reactive implementation, but looks like you&#39;re adding two independent subscribers to a single observable, which does not guarantee an order of execution.\r\n\r\nIf send and persist are blocking (sync) functions you can just create some &#39;sendAndSync&#39; function.\r\n\r\nOtherwise, you need to make the &#39;send&#39; into and observable itself, and &#39;persist&#39; should be its subscriber. You can achieve this by &#39;send&#39; writing to a PublishSubject once a send is completed, and &#39;persist&#39; being the subscriber (via doOnNext) of that PublishSubject.","title":"In reactive programming, is the sequence of doOnNext calls guaranteed?","body":"<p>Not familiar with this reactive implementation, but looks like you're adding two independent subscribers to a single observable, which does not guarantee an order of execution.</p>\n<p>If send and persist are blocking (sync) functions you can just create some 'sendAndSync' function.</p>\n<p>Otherwise, you need to make the 'send' into and observable itself, and 'persist' should be its subscriber. You can achieve this by 'send' writing to a PublishSubject once a send is completed, and 'persist' being the subscriber (via doOnNext) of that PublishSubject.</p>\n"},{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632522684,"creation_date":1632521607,"answer_id":69321566,"question_id":69320970,"body_markdown":"According to [documentation][1]:\r\n\r\n&gt; The Consumer is executed **first**, then the onNext signal is propagated\r\n&gt; downstream.\r\n\r\nThus, `this::sendThing` consumer will be completed before the `onNext` signal\r\nbe propagated to `this::persistThing`.\r\n\r\nExample:\r\n\r\n```java\r\n    Flux.range(1, 3)\r\n    \t.doOnNext(n -&gt; log.info(&quot;doOnNext1&quot;))\r\n    \t.log()\r\n    \t.doOnNext(n -&gt; log.info(&quot;doOnNext2&quot;))\r\n    \t.blockLast();\r\n```\r\nThe above snippet prints the following:\r\n - doOnNext1\r\n - | onNext(1)\r\n - doOnNext2\r\n - doOnNext1\r\n - | onNext(2)\r\n - doOnNext2\r\n - doOnNext1\r\n - | onNext(3)\r\n - doOnNext2\r\n\r\n`onNext` signal is always propagated before `&quot;doOnNext2&quot;` is printed.\r\n\r\nBear in mind that **doOn** methods should be used only for side-effect operations(e.g. log).\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#doOnNext-java.util.function.Consumer-","title":"In reactive programming, is the sequence of doOnNext calls guaranteed?","body":"<p>According to <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#doOnNext-java.util.function.Consumer-\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>The Consumer is executed <strong>first</strong>, then the onNext signal is propagated\ndownstream.</p>\n</blockquote>\n<p>Thus, <code>this::sendThing</code> consumer will be completed before the <code>onNext</code> signal\nbe propagated to <code>this::persistThing</code>.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Flux.range(1, 3)\n        .doOnNext(n -&gt; log.info(&quot;doOnNext1&quot;))\n        .log()\n        .doOnNext(n -&gt; log.info(&quot;doOnNext2&quot;))\n        .blockLast();\n</code></pre>\n<p>The above snippet prints the following:</p>\n<ul>\n<li>doOnNext1</li>\n<li>| onNext(1)</li>\n<li>doOnNext2</li>\n<li>doOnNext1</li>\n<li>| onNext(2)</li>\n<li>doOnNext2</li>\n<li>doOnNext1</li>\n<li>| onNext(3)</li>\n<li>doOnNext2</li>\n</ul>\n<p><code>onNext</code> signal is always propagated before <code>&quot;doOnNext2&quot;</code> is printed.</p>\n<p>Bear in mind that <strong>doOn</strong> methods should be used only for side-effect operations(e.g. log).</p>\n"}],"owner":{"account_id":19934,"reputation":1347,"user_id":47152,"accept_rate":62,"display_name":"chacmool"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1201,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69321566,"answer_count":2,"score":1,"last_activity_date":1632748131,"creation_date":1632516559,"question_id":69320970,"body_markdown":"Reactive programming newbie. I have a sequence of calls in my Flux and I need to ensure they&#39;re done in order. Eg\r\n\r\n```\r\nFlux&lt;Thing&gt; flux = ...\r\n.doOnNext(this::sendThing)\r\n.doOnNext(this::persistThing)\r\n.doOnError(error -&gt; log.error(&quot;&quot;, error))\r\n.blockLast();\r\n```\r\n\r\nI need to ensure that `sendThing` completes before `persistThing`. I&#39;m unclear, being a reactive newbie, if this is guaranteed. \r\n","title":"In reactive programming, is the sequence of doOnNext calls guaranteed?","body":"<p>Reactive programming newbie. I have a sequence of calls in my Flux and I need to ensure they're done in order. Eg</p>\n<pre><code>Flux&lt;Thing&gt; flux = ...\n.doOnNext(this::sendThing)\n.doOnNext(this::persistThing)\n.doOnError(error -&gt; log.error(&quot;&quot;, error))\n.blockLast();\n</code></pre>\n<p>I need to ensure that <code>sendThing</code> completes before <code>persistThing</code>. I'm unclear, being a reactive newbie, if this is guaranteed.</p>\n"},{"tags":["java","javafx","3d","camera"],"comments":[{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1632734804,"post_id":69339243,"comment_id":122563983,"body_markdown":"_&quot; I still do not get a proper first person camera_&quot; please explain what do you expect and what do you get","body":"<i>&quot; I still do not get a proper first person camera</i>&quot; please explain what do you expect and what do you get"},{"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"score":1,"creation_date":1632740087,"post_id":69339243,"comment_id":122566131,"body_markdown":"@c0der With the current code, the camera seems to rotate around x = 0 (if you rotate it around the y-Axis). I however want it to rotate around itself. That means, that you should not be able to see an object which you currently cant see, because it is blocked by another object by rotating around either axis. Like I said, it should behave like a first person camera, like in any first person game.","body":"@c0der With the current code, the camera seems to rotate around x = 0 (if you rotate it around the y-Axis). I however want it to rotate around itself. That means, that you should not be able to see an object which you currently cant see, because it is blocked by another object by rotating around either axis. Like I said, it should behave like a first person camera, like in any first person game."}],"answers":[{"tags":[],"owner":{"account_id":4498992,"reputation":735,"user_id":3658055,"display_name":"Birdasaur"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632747788,"creation_date":1632747788,"answer_id":69347122,"question_id":69339243,"body_markdown":"https://github.com/FXyz/FXyz/blob/master/FXyz-Core/src/main/java/org/fxyz3d/scene/SimpleFPSCamera.java\r\n\r\nIts been a while since we updated it but it should get you started.  ","title":"Create a first person camera in JavaFX","body":"<p><a href=\"https://github.com/FXyz/FXyz/blob/master/FXyz-Core/src/main/java/org/fxyz3d/scene/SimpleFPSCamera.java\" rel=\"nofollow noreferrer\">https://github.com/FXyz/FXyz/blob/master/FXyz-Core/src/main/java/org/fxyz3d/scene/SimpleFPSCamera.java</a></p>\n<p>Its been a while since we updated it but it should get you started.</p>\n"}],"owner":{"account_id":20325805,"reputation":117,"user_id":14909278,"display_name":"mousekip"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69347122,"answer_count":1,"score":2,"last_activity_date":1632747788,"creation_date":1632693168,"question_id":69339243,"body_markdown":"While trying to create a first person camera in javafx I tried to set the rotationAxis to a new Point3D with the translate Coordinates of the camera. \r\nThat did not work so I started searching on stackoverflow, since I only recently installed javafx I am not yet comfortable with it and therefore had no idea how to even attempt to fix the problem.\r\nAnyways I found the following thread concerning the matter:\r\n\r\nhttps://stackoverflow.com/q/35021784/14909278\r\n\r\nHowever if I copy this code and implement the proposed fix I still do not get a proper first person camera, so any help with this would be greatly appreciated.\r\n\r\nBelow is a simple example code demonstrating the problem.\r\n\r\n```\r\npackage application;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.PerspectiveCamera;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.SubScene;\r\nimport javafx.scene.control.Slider;\r\nimport javafx.scene.layout.BorderPane;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.paint.PhongMaterial;\r\nimport javafx.scene.shape.Box;\r\nimport javafx.scene.transform.Rotate;\r\nimport javafx.stage.Stage;\r\n\r\npublic class Main extends Application {\r\n\r\n\tBorderPane pane = new BorderPane();\r\n\tBox box = new Box(150, 150, 600);\r\n\tSubScene sub = new SubScene(new Pane(box), 600, 600);\r\n\tPhongMaterial mat = new PhongMaterial(Color.RED);\r\n\tPerspectiveCamera cam = new PerspectiveCamera();\r\n\r\n\t@Override\r\n\tpublic void start(Stage stage) throws Exception {\r\n\r\n\t\tsub.setCamera(cam);\r\n\r\n\t\tcam.setRotationAxis(Rotate.Y_AXIS);\r\n\r\n\t\tbox.setMaterial(mat);\r\n\t\tbox.setManaged(false);\r\n\t\tbox.setTranslateX(300);\r\n\t\tbox.setTranslateY(300);\r\n\t\tbox.setRotationAxis(Rotate.X_AXIS);\r\n\t\tbox.setTranslateZ(100);\r\n\r\n\t\tstage.setScene(new Scene(pane));\r\n\t\tstage.sizeToScene();\r\n\r\n\t\tSlider slider1 = new Slider();\r\n\t\tslider1.valueProperty().bindBidirectional(cam.rotateProperty());\r\n\r\n\t\tpane.setCenter(sub);\r\n\t\tpane.setBottom(slider1);\r\n\r\n\t\tstage.centerOnScreen();\r\n\t\tstage.show();\r\n\r\n\t}\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```","title":"Create a first person camera in JavaFX","body":"<p>While trying to create a first person camera in javafx I tried to set the rotationAxis to a new Point3D with the translate Coordinates of the camera.\nThat did not work so I started searching on stackoverflow, since I only recently installed javafx I am not yet comfortable with it and therefore had no idea how to even attempt to fix the problem.\nAnyways I found the following thread concerning the matter:</p>\n<p><a href=\"https://stackoverflow.com/q/35021784/14909278\">How would I make a first person camera in JavaFX 3D?</a></p>\n<p>However if I copy this code and implement the proposed fix I still do not get a proper first person camera, so any help with this would be greatly appreciated.</p>\n<p>Below is a simple example code demonstrating the problem.</p>\n<pre><code>package application;\n\nimport javafx.application.Application;\nimport javafx.scene.PerspectiveCamera;\nimport javafx.scene.Scene;\nimport javafx.scene.SubScene;\nimport javafx.scene.control.Slider;\nimport javafx.scene.layout.BorderPane;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.paint.PhongMaterial;\nimport javafx.scene.shape.Box;\nimport javafx.scene.transform.Rotate;\nimport javafx.stage.Stage;\n\npublic class Main extends Application {\n\n    BorderPane pane = new BorderPane();\n    Box box = new Box(150, 150, 600);\n    SubScene sub = new SubScene(new Pane(box), 600, 600);\n    PhongMaterial mat = new PhongMaterial(Color.RED);\n    PerspectiveCamera cam = new PerspectiveCamera();\n\n    @Override\n    public void start(Stage stage) throws Exception {\n\n        sub.setCamera(cam);\n\n        cam.setRotationAxis(Rotate.Y_AXIS);\n\n        box.setMaterial(mat);\n        box.setManaged(false);\n        box.setTranslateX(300);\n        box.setTranslateY(300);\n        box.setRotationAxis(Rotate.X_AXIS);\n        box.setTranslateZ(100);\n\n        stage.setScene(new Scene(pane));\n        stage.sizeToScene();\n\n        Slider slider1 = new Slider();\n        slider1.valueProperty().bindBidirectional(cam.rotateProperty());\n\n        pane.setCenter(sub);\n        pane.setBottom(slider1);\n\n        stage.centerOnScreen();\n        stage.show();\n\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","google-bigquery"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632747734,"creation_date":1632747734,"answer_id":69347106,"question_id":69346369,"body_markdown":"Could you not achieve what you are after doing something like:\r\n\r\n\r\n    \r\n    public BigQuery bigQuery1() {\r\n     return BigQueryOptions.newBuilder()\r\n        .setCredentials(\r\n           ServiceAccountCredentials.fromStream(\r\n             new FileInputStream(&quot;your_json_service_keyfile.json&quot;))\r\n        )\r\n        .setProjectId(&quot;bigQuery1&quot;)\r\n        .build().getService();\r\n    }\r\n    \r\n    \r\n    public BigQuery bigQuery2() {\r\n     return BigQueryOptions.newBuilder()\r\n        .setCredentials(\r\n           ServiceAccountCredentials.fromStream(\r\n             new FileInputStream(&quot;your_json_service_keyfile.json&quot;))\r\n        )\r\n        .setProjectId(&quot;bigQuery2&quot;)\r\n        .build().getService();\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Java/Spring: connect to severals BigQuery datasets","body":"<p>Could you not achieve what you are after doing something like:</p>\n<pre><code>public BigQuery bigQuery1() {\n return BigQueryOptions.newBuilder()\n    .setCredentials(\n       ServiceAccountCredentials.fromStream(\n         new FileInputStream(&quot;your_json_service_keyfile.json&quot;))\n    )\n    .setProjectId(&quot;bigQuery1&quot;)\n    .build().getService();\n}\n\n\npublic BigQuery bigQuery2() {\n return BigQueryOptions.newBuilder()\n    .setCredentials(\n       ServiceAccountCredentials.fromStream(\n         new FileInputStream(&quot;your_json_service_keyfile.json&quot;))\n    )\n    .setProjectId(&quot;bigQuery2&quot;)\n    .build().getService();\n}\n</code></pre>\n"}],"owner":{"account_id":11410523,"reputation":412,"user_id":8364799,"accept_rate":80,"display_name":"MrNierda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632747734,"creation_date":1632744579,"question_id":69346369,"body_markdown":"Everything is mostly in the title. \r\nI have an API already connected to a BigQuery dataset, which is regularly queried. Soon, my process will necessitate new data stocked in another BigQuery dataset. \r\n\r\nSo, I started to check if it&#39;s possible to connect to two different BQ datasets to one Spring API. Unless I missed it, I didn&#39;t find any information for this specific case inside BQ documentation.\r\n\r\nAs the API is already connected, the properties values of `spring.cloud.gcp.bigQuery.*` are already defined. As such, I can&#39;t use those properties to define the new connection.\r\n\r\nSo is it possible to connect one API to several BigQuery datasets ? if so, how can I do that with the properties files ?","title":"Java/Spring: connect to severals BigQuery datasets","body":"<p>Everything is mostly in the title.\nI have an API already connected to a BigQuery dataset, which is regularly queried. Soon, my process will necessitate new data stocked in another BigQuery dataset.</p>\n<p>So, I started to check if it's possible to connect to two different BQ datasets to one Spring API. Unless I missed it, I didn't find any information for this specific case inside BQ documentation.</p>\n<p>As the API is already connected, the properties values of <code>spring.cloud.gcp.bigQuery.*</code> are already defined. As such, I can't use those properties to define the new connection.</p>\n<p>So is it possible to connect one API to several BigQuery datasets ? if so, how can I do that with the properties files ?</p>\n"},{"tags":["java","jdbc","cratedb"],"answers":[{"tags":[],"owner":{"account_id":177620,"reputation":1719,"user_id":409068,"display_name":"jayeff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632747578,"creation_date":1632747578,"answer_id":69347061,"question_id":69322860,"body_markdown":"You could create a CrateDB user with [Data Query Language (DQL) privileges][1] only and subsequently use this user to connect with JDBC. This will prevent all `INSERT` / `UPDATE` / `DELETE` / `DROP` operations.\r\n\r\n```SQL\r\nCREATE USER read_only WITH (password = &#39;&lt;secure-password&gt;&#39;);\r\nGRANT DQL TO read_only;\r\n```\r\n\r\nIf required you can further restrict access only to specific schemas, tables or views. Compare the documentation on how to achieve this.\r\n\r\n\r\n  [1]: https://crate.io/docs/crate/reference/en/4.6/admin/privileges.html#dql","title":"Unable to use Crate JDBC 2.6.0 in read only mode","body":"<p>You could create a CrateDB user with <a href=\"https://crate.io/docs/crate/reference/en/4.6/admin/privileges.html#dql\" rel=\"nofollow noreferrer\">Data Query Language (DQL) privileges</a> only and subsequently use this user to connect with JDBC. This will prevent all <code>INSERT</code> / <code>UPDATE</code> / <code>DELETE</code> / <code>DROP</code> operations.</p>\n<pre><code>CREATE USER read_only WITH (password = '&lt;secure-password&gt;');\nGRANT DQL TO read_only;\n</code></pre>\n<p>If required you can further restrict access only to specific schemas, tables or views. Compare the documentation on how to achieve this.</p>\n"}],"owner":{"account_id":12375458,"reputation":640,"user_id":9023547,"display_name":"Chandan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69347061,"answer_count":1,"score":-1,"last_activity_date":1632747578,"creation_date":1632539659,"question_id":69322860,"body_markdown":"I want to restrict delete/update statements\r\n\r\nThis is what I am trying\r\n\r\n`ResultSet rs = stmt.executeQuery(&quot;delete from test where id=243640033&quot;)`\r\n\r\nIdeally `executeQuery` method of JDBC should not allow update, delete and etc. But Crate Database is simply executing delete queries. Then I tried `connection.setReadOnly(true)` and it did not work\r\n\r\nIs there any way to restrict Crate JDBC doing update/delete/drop operations from `stmt.executeQuery(somequery)` method ?","title":"Unable to use Crate JDBC 2.6.0 in read only mode","body":"<p>I want to restrict delete/update statements</p>\n<p>This is what I am trying</p>\n<p><code>ResultSet rs = stmt.executeQuery(&quot;delete from test where id=243640033&quot;)</code></p>\n<p>Ideally <code>executeQuery</code> method of JDBC should not allow update, delete and etc. But Crate Database is simply executing delete queries. Then I tried <code>connection.setReadOnly(true)</code> and it did not work</p>\n<p>Is there any way to restrict Crate JDBC doing update/delete/drop operations from <code>stmt.executeQuery(somequery)</code> method ?</p>\n"},{"tags":["java","intellij-idea","unicode","string-literals","code-editor"],"answers":[{"tags":[],"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632717454,"creation_date":1632717454,"answer_id":69341287,"question_id":69339397,"body_markdown":"It&#39;s regression in IntelliJ IDEA. See https://youtrack.jetbrains.com/issue/IDEA-278540 for details. ","title":"Stop IntelliJ code editor from escaping pasted string literal characters","body":"<p>It's regression in IntelliJ IDEA. See <a href=\"https://youtrack.jetbrains.com/issue/IDEA-278540\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-278540</a> for details.</p>\n"},{"tags":[],"owner":{"account_id":3169,"reputation":24379,"user_id":4510,"display_name":"Bas Leijdekkers"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632747418,"creation_date":1632747418,"answer_id":69347013,"question_id":69339397,"body_markdown":"Use `Edit | Paste | Paste as Plain Text` to paste without any escaping.","title":"Stop IntelliJ code editor from escaping pasted string literal characters","body":"<p>Use <code>Edit | Paste | Paste as Plain Text</code> to paste without any escaping.</p>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":691,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1632747418,"creation_date":1632694817,"question_id":69339397,"body_markdown":"What I want:\r\n\r\n    String x = &quot;&#128567;&quot; ;\r\n\r\nWhat I get in Apple [*TextEdit*][1] 1.16 text editor app when clicking `&#128567;` from the macOS &quot;Show Emojis &amp; Symbols&quot; floating windoid:\r\n \r\n    String x = &quot;&#128567;&quot; ;\r\n\r\n# Problem 1\r\n\r\nWhat I get in [*IntelliJ*][2] 2021.2.2 code editor when clicking `&#128567;` from the macOS &quot;Show Emojis &amp; Symbols&quot; floating windoid:\r\n\r\n    String x = &quot;&#240;&quot; ;\r\n\r\n**Update:** This appears to be a currently known bug. See issue page [*IDEA-278540 Emoji in OSX are rendered as another unicode*](https://youtrack.jetbrains.com/issue/IDEA-278540), as noted in [Answer by Konstantin Annikov][3]. \r\n\r\n# Problem 2\r\n\r\nWhat I get in [*IntelliJ*][2] 2021.2.2 code editor when pasting that `&#128567;` character copied from *TextEdit* app:\r\n\r\n    String x = &quot;\\uD83D\\uDE37&quot; ;\r\n\r\nPresumably the issue revolves around Unicode characters outside the [Basic Multilingual Plane][4].\r\n\r\n➯ Is there any way to make the IntelliJ code editor accept such characters directly, without escaping?\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/TextEdit\r\n  [2]: https://en.wikipedia.org/wiki/IntelliJ_IDEA\r\n  [3]: https://stackoverflow.com/a/69341287/642706\r\n  [4]: https://en.wikipedia.org/wiki/Plane_(Unicode)","title":"Stop IntelliJ code editor from escaping pasted string literal characters","body":"<p>What I want:</p>\n<pre><code>String x = &quot;😷&quot; ;\n</code></pre>\n<p>What I get in Apple <a href=\"https://en.wikipedia.org/wiki/TextEdit\" rel=\"nofollow noreferrer\"><em>TextEdit</em></a> 1.16 text editor app when clicking <code>😷</code> from the macOS &quot;Show Emojis &amp; Symbols&quot; floating windoid:</p>\n<pre><code>String x = &quot;😷&quot; ;\n</code></pre>\n<h1>Problem 1</h1>\n<p>What I get in <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\"><em>IntelliJ</em></a> 2021.2.2 code editor when clicking <code>😷</code> from the macOS &quot;Show Emojis &amp; Symbols&quot; floating windoid:</p>\n<pre><code>String x = &quot;ð&quot; ;\n</code></pre>\n<p><strong>Update:</strong> This appears to be a currently known bug. See issue page <a href=\"https://youtrack.jetbrains.com/issue/IDEA-278540\" rel=\"nofollow noreferrer\"><em>IDEA-278540 Emoji in OSX are rendered as another unicode</em></a>, as noted in <a href=\"https://stackoverflow.com/a/69341287/642706\">Answer by Konstantin Annikov</a>.</p>\n<h1>Problem 2</h1>\n<p>What I get in <a href=\"https://en.wikipedia.org/wiki/IntelliJ_IDEA\" rel=\"nofollow noreferrer\"><em>IntelliJ</em></a> 2021.2.2 code editor when pasting that <code>😷</code> character copied from <em>TextEdit</em> app:</p>\n<pre><code>String x = &quot;\\uD83D\\uDE37&quot; ;\n</code></pre>\n<p>Presumably the issue revolves around Unicode characters outside the <a href=\"https://en.wikipedia.org/wiki/Plane_(Unicode)\" rel=\"nofollow noreferrer\">Basic Multilingual Plane</a>.</p>\n<p>➯ Is there any way to make the IntelliJ code editor accept such characters directly, without escaping?</p>\n"},{"tags":["java","android","xml","menu","menuitem"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1632748420,"post_id":69346960,"comment_id":122569429,"body_markdown":"You&#39;ve got the right idea with that `&lt;style&gt;`, but you can&#39;t apply it in the `menu` XML. Instead, you would set it as the `actionMenuTextAppearance` in the `Activity`&#39;s theme: `&lt;item name=&quot;actionMenuTextAppearance&quot;&gt;@style/CustomMenuItemText&lt;/item&gt;`. Also, you probably don&#39;t want to use a `DeviceDefault` style for the `parent`; rather, `parent=&quot;@style/TextAppearance.AppCompat.Widget.ActionBar.Menu&quot;`.","body":"You&#39;ve got the right idea with that <code>&lt;style&gt;</code>, but you can&#39;t apply it in the <code>menu</code> XML. Instead, you would set it as the <code>actionMenuTextAppearance</code> in the <code>Activity</code>&#39;s theme: <code>&lt;item name=&quot;actionMenuTextAppearance&quot;&gt;@style&#47;CustomMenuItemText&lt;&#47;i&zwnj;&#8203;tem&gt;</code>. Also, you probably don&#39;t want to use a <code>DeviceDefault</code> style for the <code>parent</code>; rather, <code>parent=&quot;@style&#47;TextAppearance.AppCompat.Widget.ActionBar.Men&zwnj;&#8203;u&quot;</code>."},{"owner":{"account_id":15996809,"reputation":502,"user_id":11544539,"display_name":"C0mpl3x"},"score":0,"creation_date":1632749419,"post_id":69346960,"comment_id":122569909,"body_markdown":"It seems to have worked but only for some items even tough they are the same, only thing that&#39;s different is title and id. weird. Thanks tho, You&#39;ve set me on the right path.","body":"It seems to have worked but only for some items even tough they are the same, only thing that&#39;s different is title and id. weird. Thanks tho, You&#39;ve set me on the right path."},{"owner":{"account_id":15996809,"reputation":502,"user_id":11544539,"display_name":"C0mpl3x"},"score":0,"creation_date":1632749596,"post_id":69346960,"comment_id":122570010,"body_markdown":"I&#39;ve found out what was wrong, the style is for actions so if it&#39;s false it doesn&#39;t apply to it, missed that bit. I&#39;ll find out how to give it style and everything should work so if you put it as an answer I can mark it as correct.","body":"I&#39;ve found out what was wrong, the style is for actions so if it&#39;s false it doesn&#39;t apply to it, missed that bit. I&#39;ll find out how to give it style and everything should work so if you put it as an answer I can mark it as correct."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1632750594,"post_id":69346960,"comment_id":122570444,"body_markdown":"Yeah, that&#39;ll only affect the items in the `ActionBar` itself. I guess I assumed that&#39;s what you meant, given the `app:showAsAction=&quot;always&quot;` on the example. If you want to style the overflow menu, too, I _think_ that&#39;ll be `actionBarPopupTheme`, but I&#39;d have to do some digging for the details, as I don&#39;t remember them off-hand.","body":"Yeah, that&#39;ll only affect the items in the <code>ActionBar</code> itself. I guess I assumed that&#39;s what you meant, given the <code>app:showAsAction=&quot;always&quot;</code> on the example. If you want to style the overflow menu, too, I <i>think</i> that&#39;ll be <code>actionBarPopupTheme</code>, but I&#39;d have to do some digging for the details, as I don&#39;t remember them off-hand."}],"owner":{"account_id":15996809,"reputation":502,"user_id":11544539,"display_name":"C0mpl3x"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632747165,"creation_date":1632747165,"question_id":69346960,"body_markdown":"I have simple navigation menu:\r\n\r\n\r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        tools:context=&quot;.view.SaleActivity&quot;&gt;\r\n    \r\n       &lt;item\r\n            android:id=&quot;@+id/action_delete&quot;\r\n            android:orderInCategory=&quot;100&quot;\r\n            android:title=&quot;@string/action_delete&quot;\r\n            android:icon=&quot;@drawable/ic_sum&quot;\r\n            app:showAsAction=&quot;always&quot; /&gt;\r\n    \r\n    &lt;/menu&gt;\r\n\r\nI&#39;d like to change the items text size. I&#39;ve been looking for some time and \r\nadding `android:textSize=&quot;20sp&quot;` doesn&#39;t work and nor does `app:itemTextAppearance=&quot;@style/CustomMenuItemText&quot;`. \r\n\r\nThis is my style for the `CustomMenuItemText`:\r\n\r\n        &lt;style name=&quot;CustomMenuItemText&quot; parent=&quot;@android:style/TextAppearance.DeviceDefault.Widget.ActionBar.Menu&quot;&gt;\r\n            &lt;item name=&quot;android:textSize&quot;&gt;25sp&lt;/item&gt;\r\n        &lt;/style&gt;\r\n\r\nAm I doing something wrong with the style or I have to change the textSize different way?\r\nI want to do it in xml.","title":"How to change textSize of menu item in android?","body":"<p>I have simple navigation menu:</p>\n<pre><code>&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    tools:context=&quot;.view.SaleActivity&quot;&gt;\n\n   &lt;item\n        android:id=&quot;@+id/action_delete&quot;\n        android:orderInCategory=&quot;100&quot;\n        android:title=&quot;@string/action_delete&quot;\n        android:icon=&quot;@drawable/ic_sum&quot;\n        app:showAsAction=&quot;always&quot; /&gt;\n\n&lt;/menu&gt;\n</code></pre>\n<p>I'd like to change the items text size. I've been looking for some time and\nadding <code>android:textSize=&quot;20sp&quot;</code> doesn't work and nor does <code>app:itemTextAppearance=&quot;@style/CustomMenuItemText&quot;</code>.</p>\n<p>This is my style for the <code>CustomMenuItemText</code>:</p>\n<pre><code>    &lt;style name=&quot;CustomMenuItemText&quot; parent=&quot;@android:style/TextAppearance.DeviceDefault.Widget.ActionBar.Menu&quot;&gt;\n        &lt;item name=&quot;android:textSize&quot;&gt;25sp&lt;/item&gt;\n    &lt;/style&gt;\n</code></pre>\n<p>Am I doing something wrong with the style or I have to change the textSize different way?\nI want to do it in xml.</p>\n"},{"tags":["java","node.js","azure","api","microsoft-teams"],"comments":[{"owner":{"account_id":22137897,"reputation":730,"user_id":16388338,"display_name":"ChetanSharma-msft"},"score":1,"creation_date":1632460959,"post_id":69305372,"comment_id":122503000,"body_markdown":"Could you please share the documentation URL which you are referring, so that we can check it from our end.","body":"Could you please share the documentation URL which you are referring, so that we can check it from our end."},{"owner":{"account_id":15923441,"reputation":326,"user_id":11522066,"display_name":"Betini O. Heleno"},"score":0,"creation_date":1632485810,"post_id":69305372,"comment_id":122512074,"body_markdown":"https://learn.microsoft.com/en-us/graph/api/channel-post-messages?view=graph-rest-1.0&amp;tabs=javascript","body":"<a href=\"https://learn.microsoft.com/en-us/graph/api/channel-post-messages?view=graph-rest-1.0&amp;tabs=javascript\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/graph/api/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":4124156,"reputation":6231,"user_id":3383751,"accept_rate":50,"display_name":"maxpaj"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1632746769,"creation_date":1632724200,"answer_id":69342122,"question_id":69305372,"body_markdown":"Your code is currently trying to **read messages**, by using a GET HTTP request, which is the `.get()` part in your code. \r\n\r\nIf **sending a message** is what you want to do, then you need to make a POST request instead, by changing the `.get()` to   `.post(channelMessage)`.\r\n\r\n## More on the Protected APIs\r\n\r\nAccording to the [&quot;Protected APIs&quot; documentation][1]:\r\n\r\n&gt; Microsoft Teams APIs in Microsoft Graph that access **sensitive data**\r\n&gt; are considered protected APIs. These APIs require that you have\r\n&gt; additional validation, beyond permissions and consent, before you can\r\n&gt; use them.\r\n\r\nPersonal messages appears to be sensitive data, which makes sense. However, note that there is an alternative solution where you use the API as if the user was using the API. It is called [Delegated permissions][2]. \r\n\r\n&gt; Delegated permissions are used by apps that have a signed-in user\r\n&gt; present. For these apps, either the user or an administrator consents\r\n&gt; to the permissions that the app requests and the app can act as the\r\n&gt; signed-in user when making calls to Microsoft Graph. Some delegated\r\n&gt; permissions can be consented by non-administrative users, but some\r\n&gt; higher-privileged permissions require administrator consent.\r\n\r\n\r\nIf delegated permissions isn&#39;t an option for you, you can still make a formal request to Microsoft Graph, asking for permissions to use the API without any user interaction.\r\n\r\n&gt; To request access to these protected APIs, complete the following\r\n&gt; request form. We review access requests every Wednesday and deploy\r\n&gt; approvals every Friday, except during major holiday weeks in the U.S.\r\n&gt; Submissions during those weeks will be processed the following\r\n&gt; non-holiday week.\r\n\r\n[Here is the form for sending a formal request.][3]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/teams-protected-apis\r\n  [2]: https://learn.microsoft.com/en-us/graph/auth/auth-concepts#delegated-and-application-permissions\r\n  [3]: https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR1ax4zKyZjVBmutzKVo1pVtUQ1VJMlNTNUdJV1FKTzVZSVU4MlMwTTdOTSQlQCN0PWcu","title":"GraphError: Invoked API requires Protected API access in application-only context when not using Resource Specific Consent","body":"<p>Your code is currently trying to <strong>read messages</strong>, by using a GET HTTP request, which is the <code>.get()</code> part in your code.</p>\n<p>If <strong>sending a message</strong> is what you want to do, then you need to make a POST request instead, by changing the <code>.get()</code> to   <code>.post(channelMessage)</code>.</p>\n<h2>More on the Protected APIs</h2>\n<p>According to the <a href=\"https://learn.microsoft.com/en-us/graph/teams-protected-apis\" rel=\"nofollow noreferrer\">&quot;Protected APIs&quot; documentation</a>:</p>\n<blockquote>\n<p>Microsoft Teams APIs in Microsoft Graph that access <strong>sensitive data</strong>\nare considered protected APIs. These APIs require that you have\nadditional validation, beyond permissions and consent, before you can\nuse them.</p>\n</blockquote>\n<p>Personal messages appears to be sensitive data, which makes sense. However, note that there is an alternative solution where you use the API as if the user was using the API. It is called <a href=\"https://learn.microsoft.com/en-us/graph/auth/auth-concepts#delegated-and-application-permissions\" rel=\"nofollow noreferrer\">Delegated permissions</a>.</p>\n<blockquote>\n<p>Delegated permissions are used by apps that have a signed-in user\npresent. For these apps, either the user or an administrator consents\nto the permissions that the app requests and the app can act as the\nsigned-in user when making calls to Microsoft Graph. Some delegated\npermissions can be consented by non-administrative users, but some\nhigher-privileged permissions require administrator consent.</p>\n</blockquote>\n<p>If delegated permissions isn't an option for you, you can still make a formal request to Microsoft Graph, asking for permissions to use the API without any user interaction.</p>\n<blockquote>\n<p>To request access to these protected APIs, complete the following\nrequest form. We review access requests every Wednesday and deploy\napprovals every Friday, except during major holiday weeks in the U.S.\nSubmissions during those weeks will be processed the following\nnon-holiday week.</p>\n</blockquote>\n<p><a href=\"https://forms.office.com/Pages/ResponsePage.aspx?id=v4j5cvGGr0GRqy180BHbR1ax4zKyZjVBmutzKVo1pVtUQ1VJMlNTNUdJV1FKTzVZSVU4MlMwTTdOTSQlQCN0PWcu\" rel=\"nofollow noreferrer\">Here is the form for sending a formal request.</a></p>\n"}],"owner":{"account_id":15923441,"reputation":326,"user_id":11522066,"display_name":"Betini O. Heleno"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2399,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1632746769,"creation_date":1632422445,"question_id":69305372,"body_markdown":"I&#39;m trying to make an api that sends messages to a specific channel or group on teams.\r\n\r\nI followed the documentation correctly. In Azure I gave all permissions to my application.\r\nShe has the tenandId, clientId and secretId configured, however when I send the request I have this return.\r\n\r\nDoes anyone know the solution or have experienced this error?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/huSgH.jpg\r\n  [2]: https://i.stack.imgur.com/mmh0B.jpg\r\n\r\nDocumentantion:\r\nhttps://learn.microsoft.com/en-us/graph/api/channel-post-messages?view=graph-rest-1.0&amp;tabs=javascript","title":"GraphError: Invoked API requires Protected API access in application-only context when not using Resource Specific Consent","body":"<p>I'm trying to make an api that sends messages to a specific channel or group on teams.</p>\n<p>I followed the documentation correctly. In Azure I gave all permissions to my application.\nShe has the tenandId, clientId and secretId configured, however when I send the request I have this return.</p>\n<p>Does anyone know the solution or have experienced this error?</p>\n<p><a href=\"https://i.stack.imgur.com/huSgH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/huSgH.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/mmh0B.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mmh0B.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Documentantion:\n<a href=\"https://learn.microsoft.com/en-us/graph/api/channel-post-messages?view=graph-rest-1.0&amp;tabs=javascript\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/api/channel-post-messages?view=graph-rest-1.0&amp;tabs=javascript</a></p>\n"},{"tags":["java","spring-boot","reflection","classloader","classnotfoundexception"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":2,"creation_date":1632746742,"post_id":69345505,"comment_id":122568707,"body_markdown":"1. This code won&#39;t compile 2. post the stack trace.","body":"1. This code won&#39;t compile 2. post the stack trace."},{"owner":{"account_id":7770724,"reputation":48,"user_id":5880404,"display_name":"Rajib Sharma"},"score":0,"creation_date":1632750231,"post_id":69345505,"comment_id":122570283,"body_markdown":"I corrected the File, It just says ClassNotFoundException at line xxx, I cant copy paste the stack trace as its not permissible from VDS...","body":"I corrected the File, It just says ClassNotFoundException at line xxx, I cant copy paste the stack trace as its not permissible from VDS..."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1632753308,"post_id":69345505,"comment_id":122571716,"body_markdown":"What is the &lt;scope&gt; of the maven dependency ?","body":"What is the &lt;scope&gt; of the maven dependency ?"},{"owner":{"account_id":7770724,"reputation":48,"user_id":5880404,"display_name":"Rajib Sharma"},"score":0,"creation_date":1632754619,"post_id":69345505,"comment_id":122572284,"body_markdown":"Didn&#39;t put any scope in maven","body":"Didn&#39;t put any scope in maven"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1632760927,"post_id":69345505,"comment_id":122574898,"body_markdown":"Then the class com.abc.dto.AbcDTO is not deployed to your &quot;cloud&quot; or your &quot;cloud&quot; environment has any limit on reading from the classpath. Can&#180;t tell, as I don t know your deploy setup.","body":"Then the class com.abc.dto.AbcDTO is not deployed to your &quot;cloud&quot; or your &quot;cloud&quot; environment has any limit on reading from the classpath. Can&#180;t tell, as I don t know your deploy setup."},{"owner":{"account_id":7770724,"reputation":48,"user_id":5880404,"display_name":"Rajib Sharma"},"score":0,"creation_date":1632767952,"post_id":69345505,"comment_id":122577464,"body_markdown":"The DTO file is in the main Spring boot project.","body":"The DTO file is in the main Spring boot project."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1632774271,"post_id":69345505,"comment_id":122579681,"body_markdown":"`I corrected the File`, where ? This code won&#39;t compile. The method `readFile` has to return a `List&lt;T&gt;`. Probably you are not running the same code on local and remote.","body":"<code>I corrected the File</code>, where ? This code won&#39;t compile. The method <code>readFile</code> has to return a <code>List&lt;T&gt;</code>. Probably you are not running the same code on local and remote."}],"owner":{"account_id":7770724,"reputation":48,"user_id":5880404,"display_name":"Rajib Sharma"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632746683,"creation_date":1632740597,"question_id":69345505,"body_markdown":"I have a Spring boot Project which Contains a DTO object. In one of our Jar we have a program to Read a file and create the DTO object. I am trying to load the DTO through Reflection. Its working perfectly from local eclipse workspace but when I deploy it in the cloud it fails, giving class not found exception. The below code is in the Jar which is added as maven dependendy.\r\n\r\n        public class AbcFileReader&lt;T extends ReaderInterface&gt;{\r\n            public List&lt;T&gt; readFile(File file, String className){\r\n               T newObj = (T)Class.forName(className).newInstance();        \r\n        }\r\nHere `className = &quot;com.abc.dto.AbcDTO&quot;;`Its implements ReaderInterface.java and the class is present in the package. \r\nI have also tried the below line. But not working on cloud.\r\n\r\n    ClassLoader contextCL = Thread.currentThread().getContextClassLoader();\r\n    T newObj = (T)Class.forName(className,true, contextCL).newInstance();","title":"ClassNotFoundException While running on Cloud Server but works from Local Eclipse","body":"<p>I have a Spring boot Project which Contains a DTO object. In one of our Jar we have a program to Read a file and create the DTO object. I am trying to load the DTO through Reflection. Its working perfectly from local eclipse workspace but when I deploy it in the cloud it fails, giving class not found exception. The below code is in the Jar which is added as maven dependendy.</p>\n<pre><code>    public class AbcFileReader&lt;T extends ReaderInterface&gt;{\n        public List&lt;T&gt; readFile(File file, String className){\n           T newObj = (T)Class.forName(className).newInstance();        \n    }\n</code></pre>\n<p>Here <code>className = &quot;com.abc.dto.AbcDTO&quot;;</code>Its implements ReaderInterface.java and the class is present in the package.\nI have also tried the below line. But not working on cloud.</p>\n<pre><code>ClassLoader contextCL = Thread.currentThread().getContextClassLoader();\nT newObj = (T)Class.forName(className,true, contextCL).newInstance();\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":1,"creation_date":1632745774,"post_id":69346613,"comment_id":122568276,"body_markdown":"Split the strings on `\\r`. This will give you an array of strings for each line.","body":"Split the strings on <code>\\r</code>. This will give you an array of strings for each line."}],"answers":[{"tags":[],"owner":{"account_id":370994,"reputation":35154,"user_id":719263,"accept_rate":100,"display_name":"Jean-Baptiste Yun&#232;s"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632746490,"creation_date":1632746490,"answer_id":69346813,"question_id":69346613,"body_markdown":"This is because when you want to write your stylized version of AB you need to print the &quot;first line&quot; of A followed by the &quot;first line&quot; of B, then seconds, etc.\r\n\r\nSo the best would be to have (as @johnny suggested) an array of &quot;lines&quot; for your characters. Like:\r\n\r\n    String []asciiB = {\r\n        &quot; ███████████ &quot;,\r\n        &quot;░░███░░░░░███&quot;, \r\n        ...\r\n    };\r\n\r\nand then if you want to print `AB` to iterate over both arrays line by line in parallel:\r\n\r\n    for (int i=0; i&lt;asciiA.length; i++)\r\n        System.out.println(asciiA[i]+&quot; &quot;+asciiB[i]);\r\n\r\nGeneralized it with a map from character-to-print to array-of-lines:\r\n\r\n    Map&lt;Character,String[]&gt; ascii = new HashMap&lt;&gt;();\r\n    ascii.put(&#39;A&#39;,asciiA);\r\n    ...\r\n\r\n    String s = &quot;ABCD&quot;;\r\n    for (int i=0; i&lt;numberOfLinesPerChar; i++)\r\n        for (char c: s) {\r\n            System.out.print(ascii.get(c)[i]);\r\n            System.out.print(&#39; &#39;); // separator\r\n        }\r\n        System.out.println(); // end of line\r\n    }","title":"Print ASCII lines next to each other in Java?","body":"<p>This is because when you want to write your stylized version of AB you need to print the &quot;first line&quot; of A followed by the &quot;first line&quot; of B, then seconds, etc.</p>\n<p>So the best would be to have (as @johnny suggested) an array of &quot;lines&quot; for your characters. Like:</p>\n<pre><code>String []asciiB = {\n    &quot; ███████████ &quot;,\n    &quot;░░███░░░░░███&quot;, \n    ...\n};\n</code></pre>\n<p>and then if you want to print <code>AB</code> to iterate over both arrays line by line in parallel:</p>\n<pre><code>for (int i=0; i&lt;asciiA.length; i++)\n    System.out.println(asciiA[i]+&quot; &quot;+asciiB[i]);\n</code></pre>\n<p>Generalized it with a map from character-to-print to array-of-lines:</p>\n<pre><code>Map&lt;Character,String[]&gt; ascii = new HashMap&lt;&gt;();\nascii.put('A',asciiA);\n...\n\nString s = &quot;ABCD&quot;;\nfor (int i=0; i&lt;numberOfLinesPerChar; i++)\n    for (char c: s) {\n        System.out.print(ascii.get(c)[i]);\n        System.out.print(' '); // separator\n    }\n    System.out.println(); // end of line\n}\n</code></pre>\n"}],"owner":{"account_id":18755564,"reputation":233,"user_id":13675670,"display_name":"Deniz Demir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":267,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69346813,"answer_count":1,"score":3,"last_activity_date":1632746490,"creation_date":1632745689,"question_id":69346613,"body_markdown":"I don&#39;t know if this is ASCII per se, but I couldn&#39;t really think of a better term. \r\n\r\nSo I have a string for each letter of the alphabet as a stylized version of it.\r\n\r\n    String asciiA = &quot;&quot;&quot;\r\n           █████████ \\r\r\n          ███░░░░░███\\r\r\n         ░███    ░███\\r\r\n         ░███████████\\r\r\n         ░███░░░░░███\\r\r\n         ░███    ░███\\r\r\n         █████   █████\\r\r\n        ░░░░░   ░░░░░\\r\r\n                     \\r\r\n                     \\r\r\n                     \\r&quot;&quot;&quot;;\r\n    String asciiB = &quot;&quot;&quot;\r\n         ███████████\\r\r\n        ░░███░░░░░███\\r\r\n         ░███    ░███\\r\r\n         ░██████████\\r\r\n         ░███░░░░░███\\r\r\n         ░███    ░███\\r\r\n         ███████████\\r\r\n        ░░░░░░░░░░░ \\r\r\n                    \\r\r\n                    \\r\r\n                    \\r&quot;&quot;&quot;;\r\n\r\nLike this. \r\n\r\nI made it so that when player presses, say, AB, the stylized version of those letters are displayed on screen. But the problem is they are not displayed on the same line even though I use `System.out.print();` and \\r for the characters. I&#39;m thinking it&#39;s because these are special characters. Does anyone know of a way?","title":"Print ASCII lines next to each other in Java?","body":"<p>I don't know if this is ASCII per se, but I couldn't really think of a better term.</p>\n<p>So I have a string for each letter of the alphabet as a stylized version of it.</p>\n<pre><code>String asciiA = &quot;&quot;&quot;\n       █████████ \\r\n      ███░░░░░███\\r\n     ░███    ░███\\r\n     ░███████████\\r\n     ░███░░░░░███\\r\n     ░███    ░███\\r\n     █████   █████\\r\n    ░░░░░   ░░░░░\\r\n                 \\r\n                 \\r\n                 \\r&quot;&quot;&quot;;\nString asciiB = &quot;&quot;&quot;\n     ███████████\\r\n    ░░███░░░░░███\\r\n     ░███    ░███\\r\n     ░██████████\\r\n     ░███░░░░░███\\r\n     ░███    ░███\\r\n     ███████████\\r\n    ░░░░░░░░░░░ \\r\n                \\r\n                \\r\n                \\r&quot;&quot;&quot;;\n</code></pre>\n<p>Like this.</p>\n<p>I made it so that when player presses, say, AB, the stylized version of those letters are displayed on screen. But the problem is they are not displayed on the same line even though I use <code>System.out.print();</code> and \\r for the characters. I'm thinking it's because these are special characters. Does anyone know of a way?</p>\n"},{"tags":["java","netbeans","ide","save","filenames"],"answers":[{"tags":[],"owner":{"account_id":1126511,"reputation":31,"user_id":1113678,"display_name":"Leaddore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632164582,"creation_date":1632164582,"answer_id":69259597,"question_id":69259478,"body_markdown":"What it looks like to me, is the file association for .java files in your computer are set to use jGRASP, you should be able to just change the association in your PC and it would be fine. They are just .java files so if you submit them it should be ok, but you can change it.\r\n\r\n**https://support.microsoft.com/en-us/windows/change-default-programs-in-windows-10-e5d82cad-17d1-c53b-3505-f10a32e1894d**","title":"File Saving Under Wrong IDE","body":"<p>What it looks like to me, is the file association for .java files in your computer are set to use jGRASP, you should be able to just change the association in your PC and it would be fine. They are just .java files so if you submit them it should be ok, but you can change it.</p>\n<p><strong><a href=\"https://support.microsoft.com/en-us/windows/change-default-programs-in-windows-10-e5d82cad-17d1-c53b-3505-f10a32e1894d\" rel=\"nofollow noreferrer\">https://support.microsoft.com/en-us/windows/change-default-programs-in-windows-10-e5d82cad-17d1-c53b-3505-f10a32e1894d</a></strong></p>\n"},{"tags":[],"owner":{"account_id":250292,"reputation":436,"user_id":526910,"display_name":"lbarowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632235233,"creation_date":1632235233,"answer_id":69270908,"question_id":69259478,"body_markdown":"To explain a bit more, there is nothing in the file itself that indicates which application saved it. A source file is just plain text, and what you see when editing it is all that is there.","title":"File Saving Under Wrong IDE","body":"<p>To explain a bit more, there is nothing in the file itself that indicates which application saved it. A source file is just plain text, and what you see when editing it is all that is there.</p>\n"}],"owner":{"account_id":22808372,"reputation":11,"user_id":16960097,"display_name":"Mitchell Walker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632746302,"creation_date":1632163811,"question_id":69259478,"body_markdown":"I have been using two separate IDE&#39;s for my coursework (jGRASP and Netbeans). Whenever I attempt to save a file in Netbeans, the file automatically saves as a &quot;jGRASP Java file&quot; instead (see picture below). When I open the project from file explorer it automatically opens jGRASP instead of Netbeans, even though I saved the project while using Netbeans. Is there a way to ensure that projects I work on in Netbeans do not save as jGRASP files? When submitting my assignments, I have been instructed to ensure they are Netbeans projects (not any other IDE).\r\n\r\n![picture of file explorer saving under jGRASP Java files][1]\r\n\r\n  [1]: https://i.stack.imgur.com/pfubR.png","title":"File Saving Under Wrong IDE","body":"<p>I have been using two separate IDE's for my coursework (jGRASP and Netbeans). Whenever I attempt to save a file in Netbeans, the file automatically saves as a &quot;jGRASP Java file&quot; instead (see picture below). When I open the project from file explorer it automatically opens jGRASP instead of Netbeans, even though I saved the project while using Netbeans. Is there a way to ensure that projects I work on in Netbeans do not save as jGRASP files? When submitting my assignments, I have been instructed to ensure they are Netbeans projects (not any other IDE).</p>\n<p><img src=\"https://i.stack.imgur.com/pfubR.png\" alt=\"picture of file explorer saving under jGRASP Java files\" /></p>\n"},{"tags":["java","arrays","list"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1632744418,"post_id":69346224,"comment_id":122567759,"body_markdown":"One (but possibly not the only) error: You do not reset your counter in between loops that you use to count how often a number was found.","body":"One (but possibly not the only) error: You do not reset your counter in between loops that you use to count how often a number was found."}],"answers":[{"tags":[],"owner":{"account_id":14927040,"reputation":358,"user_id":10777578,"display_name":"Julian Kreuzer"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1632744987,"creation_date":1632744987,"answer_id":69346445,"question_id":69346224,"body_markdown":"For sure not the best solution :)\r\n\r\n    public static List&lt;Integer&gt; findNumbersWithCount(int[] listOfNumbers, int countOfOccurrenceThreshold) {\r\n          HashSet&lt;Integer&gt; existing = new HashSet&lt;&gt;();\r\n          return Arrays.stream(listOfNumbers).filter(e -&gt; !existing.add(e)).distinct().sorted().boxed().collect(Collectors.toList());\r\n        }","title":"Write Method that returns a List of the numbers from a specified int array that appear n OR more times in that array","body":"<p>For sure not the best solution :)</p>\n<pre><code>public static List&lt;Integer&gt; findNumbersWithCount(int[] listOfNumbers, int countOfOccurrenceThreshold) {\n      HashSet&lt;Integer&gt; existing = new HashSet&lt;&gt;();\n      return Arrays.stream(listOfNumbers).filter(e -&gt; !existing.add(e)).distinct().sorted().boxed().collect(Collectors.toList());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10482734,"reputation":441,"user_id":7727261,"display_name":"Thomas Angeland"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632746197,"creation_date":1632746197,"answer_id":69346739,"question_id":69346224,"body_markdown":"This is not an ideal solution, but might help you understand how to solve it. This is converted from C# so sorry if something looks unorthodox.\r\n\r\n```Java\r\nimport java.util.*;\r\n\r\npublic class Program\r\n{\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tjava.lang.Iterable&lt;Integer&gt; numbers = FindNumbersWithCount(new int[] {5, 4, 3, 2, 1, 5, 4, 3, 2, 5, 4, 3, 5, 4, 5}, 2);\r\n\t\tSystem.out.println(numbers);\r\n\t}\r\n\r\n\tpublic static java.lang.Iterable&lt;Integer&gt; FindNumbersWithCount(int[] listOfNumbers, int count)\r\n\t{\r\n\t\tHashMap&lt;Integer, Integer&gt; dictionary = new HashMap&lt;Integer, Integer&gt;();\r\n\t\tHashSet&lt;Integer&gt; match = new HashSet&lt;Integer&gt;();\r\n\r\n\t\tfor (int index = 0; index &lt; listOfNumbers.length; index++)\r\n\t\t{\r\n\t\t\tint number = listOfNumbers[index];\r\n\r\n\t\t\tif (match.contains(number))\r\n\t\t\t{\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif (!dictionary.containsKey(number))\r\n\t\t\t{\r\n\t\t\t\tdictionary.put(number, 0);\r\n\t\t\t}\r\n\r\n            dictionary.put(number, dictionary.get(number) + 1);\r\n\r\n\t\t\tif (dictionary.get(number).compareTo(count) &gt;= 0)\r\n\t\t\t{\r\n\t\t\t\tmatch.add(number);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn match;\r\n\t}\r\n}\r\n```\r\n\r\nBasically create a Map of the numbers and their counts, then save any that is equal or above the desired count to a HashSet and return it.","title":"Write Method that returns a List of the numbers from a specified int array that appear n OR more times in that array","body":"<p>This is not an ideal solution, but might help you understand how to solve it. This is converted from C# so sorry if something looks unorthodox.</p>\n<pre><code>import java.util.*;\n\npublic class Program\n{\n    public static void main(String[] args)\n    {\n        java.lang.Iterable&lt;Integer&gt; numbers = FindNumbersWithCount(new int[] {5, 4, 3, 2, 1, 5, 4, 3, 2, 5, 4, 3, 5, 4, 5}, 2);\n        System.out.println(numbers);\n    }\n\n    public static java.lang.Iterable&lt;Integer&gt; FindNumbersWithCount(int[] listOfNumbers, int count)\n    {\n        HashMap&lt;Integer, Integer&gt; dictionary = new HashMap&lt;Integer, Integer&gt;();\n        HashSet&lt;Integer&gt; match = new HashSet&lt;Integer&gt;();\n\n        for (int index = 0; index &lt; listOfNumbers.length; index++)\n        {\n            int number = listOfNumbers[index];\n\n            if (match.contains(number))\n            {\n                continue;\n            }\n\n            if (!dictionary.containsKey(number))\n            {\n                dictionary.put(number, 0);\n            }\n\n            dictionary.put(number, dictionary.get(number) + 1);\n\n            if (dictionary.get(number).compareTo(count) &gt;= 0)\n            {\n                match.add(number);\n            }\n        }\n\n        return match;\n    }\n}\n</code></pre>\n<p>Basically create a Map of the numbers and their counts, then save any that is equal or above the desired count to a HashSet and return it.</p>\n"}],"owner":{"account_id":18613157,"reputation":11,"user_id":13565033,"display_name":"Hanginium2412"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":967,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632746197,"creation_date":1632744015,"question_id":69346224,"body_markdown":"I have this task of Write a method that returns a List of the numbers from a specified int array that appear n OR more times in that array.\r\n\r\nFor example, findNumbersWithCount(new int[] {5, 4, 3, 2, 1, 5, 4,\r\n3, 2, 5, 4, 3, 5, 4, 5 }, 2) should find all the numbers in the specified array that appear 2 OR more times and return a list of them i.e. this example call should return a list with the numbers [2,3,4,5].\r\nThat is to say in this example array, element 1 occurs once, 2 twice, 3 three times,\r\n4 four times, and 5 five times, making elements that appear two OR more times 2,3,4 and 5.\r\nBelow is the code I wrote:\r\n\r\n    public class Problem{\r\n      public static List&lt;Integer&gt; findNumbersWithCount(int[] listOfNumbers, int countOfOccurrenceThreshold) {\r\n        int count = 0;\r\n\r\n        int [] arr = new int [listOfNumbers.length];\r\n        int visited = -1;  \r\n\r\n        for (int i = 0; i &lt; listOfNumbers.length; i++){\r\n            for (int j = i + 1; j &lt; listOfNumbers.length; j++){\r\n                if (listOfNumbers[i] == listOfNumbers[j]){\r\n                    count++;\r\n\r\n                    arr[j] = visited;                    \r\n                }\r\n            }\r\n\r\n            if (arr[i] != visited){\r\n               arr[i] = count;\r\n            }\r\n        }\r\n\r\n       //calling the generic function that converts Array into List\r\n       List&lt;Integer&gt; list = ArrayToListConversion(arr);\r\n\r\n        return list;\r\n    }\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; ArrayToListConversion(int[] array) {\r\n        //creating the constructor of the List class\r\n        List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\r\n        //using for-each loop to iterate over the array\r\n        for (int t : array) {\r\n            //adding each element to the List\r\n            list.add(t);\r\n        }\r\n        //returns the list converted into Array\r\n        return (List&lt;T&gt;) list;\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        try {\r\n            List&lt;Integer&gt; x = findNumbersWithCount(new int[] { 5, 4, 3, 2, 1, 5, 4, 3, 2, 5, 4, 3, 5, 4, 5 }, 2);\r\n            System.out.println(x);\r\n        }\r\n        catch (UnsupportedOperationException ex){\r\n            System.out.println(&quot;Waiting to be implemented.&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nI&#39;m having this list [4, 7, 9, 10, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1] instead of [2,3,4,5]. Could anyone please help solve this issue ?\r\n","title":"Write Method that returns a List of the numbers from a specified int array that appear n OR more times in that array","body":"<p>I have this task of Write a method that returns a List of the numbers from a specified int array that appear n OR more times in that array.</p>\n<p>For example, findNumbersWithCount(new int[] {5, 4, 3, 2, 1, 5, 4,\n3, 2, 5, 4, 3, 5, 4, 5 }, 2) should find all the numbers in the specified array that appear 2 OR more times and return a list of them i.e. this example call should return a list with the numbers [2,3,4,5].\nThat is to say in this example array, element 1 occurs once, 2 twice, 3 three times,\n4 four times, and 5 five times, making elements that appear two OR more times 2,3,4 and 5.\nBelow is the code I wrote:</p>\n<pre><code>public class Problem{\n  public static List&lt;Integer&gt; findNumbersWithCount(int[] listOfNumbers, int countOfOccurrenceThreshold) {\n    int count = 0;\n\n    int [] arr = new int [listOfNumbers.length];\n    int visited = -1;  \n\n    for (int i = 0; i &lt; listOfNumbers.length; i++){\n        for (int j = i + 1; j &lt; listOfNumbers.length; j++){\n            if (listOfNumbers[i] == listOfNumbers[j]){\n                count++;\n\n                arr[j] = visited;                    \n            }\n        }\n\n        if (arr[i] != visited){\n           arr[i] = count;\n        }\n    }\n\n   //calling the generic function that converts Array into List\n   List&lt;Integer&gt; list = ArrayToListConversion(arr);\n\n    return list;\n}\n\npublic static &lt;T&gt; List&lt;T&gt; ArrayToListConversion(int[] array) {\n    //creating the constructor of the List class\n    List&lt;Integer&gt; list = new ArrayList&lt;&gt;();\n    //using for-each loop to iterate over the array\n    for (int t : array) {\n        //adding each element to the List\n        list.add(t);\n    }\n    //returns the list converted into Array\n    return (List&lt;T&gt;) list;\n}\n\npublic static void main(String[] args){\n    try {\n        List&lt;Integer&gt; x = findNumbersWithCount(new int[] { 5, 4, 3, 2, 1, 5, 4, 3, 2, 5, 4, 3, 5, 4, 5 }, 2);\n        System.out.println(x);\n    }\n    catch (UnsupportedOperationException ex){\n        System.out.println(&quot;Waiting to be implemented.&quot;);\n    }\n  }\n}\n</code></pre>\n<p>I'm having this list [4, 7, 9, 10, 10, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1] instead of [2,3,4,5]. Could anyone please help solve this issue ?</p>\n"},{"tags":["java","json","rest"],"answers":[{"tags":[],"owner":{"account_id":12842085,"reputation":101,"user_id":9289813,"display_name":"Hassan Liasu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632746161,"creation_date":1632737738,"answer_id":69344926,"question_id":69344655,"body_markdown":"In order to exclude and empty object in response you will have to annotate your class with:\r\n\r\n```java\r\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n```","title":"How to exclude completely empty object form JSON response in java","body":"<p>In order to exclude and empty object in response you will have to annotate your class with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@JsonInclude(JsonInclude.Include.NON_EMPTY)\n</code></pre>\n"}],"owner":{"account_id":12247989,"reputation":123,"user_id":8939178,"display_name":"Masoom Raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632746161,"creation_date":1632736447,"question_id":69344655,"body_markdown":"Below is the sample class :\r\n```\r\nimport java.io.Serializable;\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonInclude;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\r\nimport lombok.Data;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\n@Data\r\n@JsonInclude(Include.NON_NULL)\r\npublic class SpouseRes implements Serializable  {\r\n\r\n\tprivate static final long serialVersionUID = 7830471917333093173L;\r\n\t\r\n\t//This object is used to check if the object is empty or not (all data members are null)\r\n\t@JsonIgnore\r\n\tprivate static final SpouseRes EMPTY = new SpouseRes();\r\n\r\n\t@JsonInclude(Include.NON_DEFAULT)\r\n\t@JsonProperty(&quot;age&quot;)\r\n\tprivate Integer age;\r\n\t\r\n\t@JsonProperty(&quot;salary&quot;)\r\n\tprivate SalaryResponse salary;\r\n\t\r\n\t// Function to check if the current object is empty\r\n\t@JsonIgnore\r\n    public boolean isEmpty() {\r\n        return this.equals(EMPTY);\r\n    }\r\n}\r\n```\r\nWhen getting this object from response, this is empty and the data member is getting set to 0. Thats why its not getting detected as empty in Object.isEmpty(). Below is the setter code :\r\n```\r\n\t\t// Setting spouse salary\r\n\t\tSpouseRes spouse = new SpouseRes();\r\n\r\n\t\t// Check if Retirement age is null or default value 0\r\n\t\tif(Client.getSpouseRetireAge() != 0 || Client.getSpouseRetireAge() != null) {\r\n\t\t\tspouse.setRetireAge(Client.getSpouseRetireAge());\r\n\t\t}\r\n\t\telse {\r\n\t\t\tspouse.setRetireAge(null);\t\r\n\t\t}\r\n```\r\nThe JSON output is :\r\n```\r\n  &quot;client&quot;: {\r\n                  &quot;displayName&quot;: &quot;Tony&quot;,\r\n                  &quot;age&quot;: 14,\r\n                  &quot;retirementAge&quot;: 90,\r\n                  &quot;salary&quot;: {\r\n                  &quot;amount&quot;: 0.0\r\n                   },\r\n                   &quot;spouse&quot;: {}\r\n            }\r\n```\r\nSo, after using all of these, still getting this empty Object in JSON response, How to remove this ? \r\n","title":"How to exclude completely empty object form JSON response in java","body":"<p>Below is the sample class :</p>\n<pre><code>import java.io.Serializable;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonInclude.Include;\nimport lombok.Data;\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@Data\n@JsonInclude(Include.NON_NULL)\npublic class SpouseRes implements Serializable  {\n\n    private static final long serialVersionUID = 7830471917333093173L;\n    \n    //This object is used to check if the object is empty or not (all data members are null)\n    @JsonIgnore\n    private static final SpouseRes EMPTY = new SpouseRes();\n\n    @JsonInclude(Include.NON_DEFAULT)\n    @JsonProperty(&quot;age&quot;)\n    private Integer age;\n    \n    @JsonProperty(&quot;salary&quot;)\n    private SalaryResponse salary;\n    \n    // Function to check if the current object is empty\n    @JsonIgnore\n    public boolean isEmpty() {\n        return this.equals(EMPTY);\n    }\n}\n</code></pre>\n<p>When getting this object from response, this is empty and the data member is getting set to 0. Thats why its not getting detected as empty in Object.isEmpty(). Below is the setter code :</p>\n<pre><code>        // Setting spouse salary\n        SpouseRes spouse = new SpouseRes();\n\n        // Check if Retirement age is null or default value 0\n        if(Client.getSpouseRetireAge() != 0 || Client.getSpouseRetireAge() != null) {\n            spouse.setRetireAge(Client.getSpouseRetireAge());\n        }\n        else {\n            spouse.setRetireAge(null);  \n        }\n</code></pre>\n<p>The JSON output is :</p>\n<pre><code>  &quot;client&quot;: {\n                  &quot;displayName&quot;: &quot;Tony&quot;,\n                  &quot;age&quot;: 14,\n                  &quot;retirementAge&quot;: 90,\n                  &quot;salary&quot;: {\n                  &quot;amount&quot;: 0.0\n                   },\n                   &quot;spouse&quot;: {}\n            }\n</code></pre>\n<p>So, after using all of these, still getting this empty Object in JSON response, How to remove this ?</p>\n"},{"tags":["java","android","opencv","convex-hull"],"comments":[{"owner":{"account_id":1752514,"reputation":11161,"user_id":1601291,"accept_rate":100,"display_name":"Aurelius"},"score":0,"creation_date":1373565074,"post_id":17586948,"comment_id":25615133,"body_markdown":"It&#39;s hard to tell what is causing your problem. What is the specific error you get? Is there log output related to it?","body":"It&#39;s hard to tell what is causing your problem. What is the specific error you get? Is there log output related to it?"},{"owner":{"account_id":2513201,"reputation":91,"user_id":2185162,"display_name":"Jenang"},"score":0,"creation_date":1373600607,"post_id":17586948,"comment_id":25627763,"body_markdown":"When I run it on SDK Android Simulator, the windows error appeared, &quot;the application stoped unexpectedly&quot; and I was told to stop by click &quot;Force Close&quot;.\n\nAnd when I checked on Log Cat error Eclipse, I found that process stop on this line &quot;Imgproc.convexHull(contours.get(i), hull.get(i), false);&quot;\n\n\nI don&#39;t know why the process stoped on that line. \n\nCan&#39;t you help explain to me?","body":"When I run it on SDK Android Simulator, the windows error appeared, &quot;the application stoped unexpectedly&quot; and I was told to stop by click &quot;Force Close&quot;.  And when I checked on Log Cat error Eclipse, I found that process stop on this line &quot;Imgproc.convexHull(contours.get(i), hull.get(i), false);&quot;   I don&#39;t know why the process stoped on that line.   Can&#39;t you help explain to me?"},{"owner":{"account_id":2513201,"reputation":91,"user_id":2185162,"display_name":"Jenang"},"score":0,"creation_date":1373601226,"post_id":17586948,"comment_id":25627873,"body_markdown":"I think I made ​​a mistake when declaring &quot;hull&quot; variable. \n\nBut, I don&#39;t know how to solve that problem. I think I have declared that variable in accordance with the applicable provisions.\n\nWhat about your opinion? \nDo you think that the declaration of a variable &quot;hull&quot; in my code isn&#39;t correct?","body":"I think I made ​​a mistake when declaring &quot;hull&quot; variable.   But, I don&#39;t know how to solve that problem. I think I have declared that variable in accordance with the applicable provisions.  What about your opinion?  Do you think that the declaration of a variable &quot;hull&quot; in my code isn&#39;t correct?"},{"owner":{"account_id":1752514,"reputation":11161,"user_id":1601291,"accept_rate":100,"display_name":"Aurelius"},"score":0,"creation_date":1374083283,"post_id":17586948,"comment_id":25803831,"body_markdown":"Did any of the posted answers solve your problem? If so, would you [accept](http://stackoverflow.com/help/someone-answers) one of them? If not, please leave a comment stating what we can improve.","body":"Did any of the posted answers solve your problem? If so, would you <a href=\"http://stackoverflow.com/help/someone-answers\">accept</a> one of them? If not, please leave a comment stating what we can improve."}],"answers":[{"tags":[],"owner":{"account_id":1752514,"reputation":11161,"user_id":1601291,"accept_rate":100,"display_name":"Aurelius"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1373644244,"creation_date":1373644244,"answer_id":17618897,"question_id":17586948,"body_markdown":"Looking at the documentation of [`findContours()`](http://docs.opencv.org/java/org/opencv/imgproc/Imgproc.html#findContours%28org.opencv.core.Mat,%20java.util.List,%20org.opencv.core.Mat,%20int,%20int%29) and [`convexHull()`](http://docs.opencv.org/java/org/opencv/imgproc/Imgproc.html#convexHull%28org.opencv.core.MatOfPoint,%20org.opencv.core.MatOfInt%29), it appears that you have declared the variables `contours` and `hull` incorrectly.\r\n\r\nTry changing the declarations to:\r\n\r\n    List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;();\r\n    List&lt;MatOfInt&gt; hull = new ArrayList&lt;MatOfInt&gt;();\r\n\r\nThen, after you call `convexHull()`, `hull` contains the *indices* of the points in `contours` which comprise the convex hull. In order to draw the points with `drawContours()`, you will need to populate a new `MatOfPoint` containing only the points on the convex hull, and pass that to `drawContours()`. I leave this as an exercise for you.","title":"Convex Hull on Java Android Opencv 2.3","body":"<p>Looking at the documentation of <a href=\"http://docs.opencv.org/java/org/opencv/imgproc/Imgproc.html#findContours%28org.opencv.core.Mat,%20java.util.List,%20org.opencv.core.Mat,%20int,%20int%29\" rel=\"nofollow\"><code>findContours()</code></a> and <a href=\"http://docs.opencv.org/java/org/opencv/imgproc/Imgproc.html#convexHull%28org.opencv.core.MatOfPoint,%20org.opencv.core.MatOfInt%29\" rel=\"nofollow\"><code>convexHull()</code></a>, it appears that you have declared the variables <code>contours</code> and <code>hull</code> incorrectly.</p>\n\n<p>Try changing the declarations to:</p>\n\n<pre><code>List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;();\nList&lt;MatOfInt&gt; hull = new ArrayList&lt;MatOfInt&gt;();\n</code></pre>\n\n<p>Then, after you call <code>convexHull()</code>, <code>hull</code> contains the <em>indices</em> of the points in <code>contours</code> which comprise the convex hull. In order to draw the points with <code>drawContours()</code>, you will need to populate a new <code>MatOfPoint</code> containing only the points on the convex hull, and pass that to <code>drawContours()</code>. I leave this as an exercise for you.</p>\n"},{"tags":[],"owner":{"account_id":3026064,"reputation":11,"user_id":2566048,"display_name":"BertCasteel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1373931146,"creation_date":1373931146,"answer_id":17665661,"question_id":17586948,"body_markdown":"To add on to what Aurelius said, in your C++ implementation you used a vector of points, therefore the hull matrix contains the actual convex Points: \r\n&gt;&quot;In the first case [integer vector of indices], the hull elements are 0-based indices of the convex hull points in the original array (since the set of convex hull points is a subset of the original point set). In the second case [vector of points], hull elements are the convex hull points themselves.&quot; - [convexHull](http://docs.opencv.org/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html#convexhull) \r\n\r\n\r\nThis is why you were able to call\r\n\r\n    drawContours( drawing, hull, i, Scalar(255, 255, 255), CV_FILLED );\r\n\r\nIn your android version, the hull output is simply an array of indices which correspond to the points in the original contours.get(i) Matrix. Therefore you need to look up the convex points in the original matrix. Here is a very rough idea:\r\n    \r\n    MatOfInt hull = new MatOfInt();\r\n    MatOfPoint tempContour = contours.get(i);\r\n    Imgproc.convexHull(tempContour, hull, false); // O(N*Log(N))\r\n    //System.out.println(&quot;hull size: &quot; + hull.size() + &quot; x&quot; + hull.get(0,0).length);\r\n    //System.out.println(&quot;Contour matrix size: &quot; + tempContour.size() + &quot; x&quot; + tempContour.get(0,0).length);\r\n\r\n    int index = (int) hull.get(((int) hull.size().height)-1, 0)[0];\r\n    Point pt, pt0 = new Point(tempContour.get(index, 0)[0], tempContour.get(index, 0)[1]);\r\n    for(int j = 0; j &lt; hull.size().height -1 ; j++){\r\n    \tindex = (int) hull.get(j, 0)[0];\r\n        pt = new Point(tempContour.get(index, 0)[0], tempContour.get(index, 0)[1]);\r\n        Core.line(frame, pt0, pt, new Scalar(255, 0, 100), 8);\r\n        pt0 = pt;\r\n    }\r\n","title":"Convex Hull on Java Android Opencv 2.3","body":"<p>To add on to what Aurelius said, in your C++ implementation you used a vector of points, therefore the hull matrix contains the actual convex Points: </p>\n\n<blockquote>\n  <p>\"In the first case [integer vector of indices], the hull elements are 0-based indices of the convex hull points in the original array (since the set of convex hull points is a subset of the original point set). In the second case [vector of points], hull elements are the convex hull points themselves.\" - <a href=\"http://docs.opencv.org/modules/imgproc/doc/structural_analysis_and_shape_descriptors.html#convexhull\" rel=\"nofollow\">convexHull</a> </p>\n</blockquote>\n\n<p>This is why you were able to call</p>\n\n<pre><code>drawContours( drawing, hull, i, Scalar(255, 255, 255), CV_FILLED );\n</code></pre>\n\n<p>In your android version, the hull output is simply an array of indices which correspond to the points in the original contours.get(i) Matrix. Therefore you need to look up the convex points in the original matrix. Here is a very rough idea:</p>\n\n<pre><code>MatOfInt hull = new MatOfInt();\nMatOfPoint tempContour = contours.get(i);\nImgproc.convexHull(tempContour, hull, false); // O(N*Log(N))\n//System.out.println(\"hull size: \" + hull.size() + \" x\" + hull.get(0,0).length);\n//System.out.println(\"Contour matrix size: \" + tempContour.size() + \" x\" + tempContour.get(0,0).length);\n\nint index = (int) hull.get(((int) hull.size().height)-1, 0)[0];\nPoint pt, pt0 = new Point(tempContour.get(index, 0)[0], tempContour.get(index, 0)[1]);\nfor(int j = 0; j &lt; hull.size().height -1 ; j++){\n    index = (int) hull.get(j, 0)[0];\n    pt = new Point(tempContour.get(index, 0)[0], tempContour.get(index, 0)[1]);\n    Core.line(frame, pt0, pt, new Scalar(255, 0, 100), 8);\n    pt0 = pt;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3487243,"reputation":971,"user_id":2917835,"accept_rate":79,"display_name":"medloh"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1391444526,"creation_date":1391372982,"answer_id":21515792,"question_id":17586948,"body_markdown":"Don&#39;t have the rep to add comment, just wanted to say the two answers above helped me get Imgproc.convexHull() working for my use case with something like this (2.4.8):\r\n\r\n    MatOfPoint mopIn = ...\r\n    MatOfInt hull = new MatOfInt();\r\n    Imgproc.convexHull(mopIn, hull, false);\r\n    \r\n    MatOfPoint mopOut = new MatOfPoint();\r\n    mopOut.create((int)hull.size().height,1,CvType.CV_32SC2);\r\n    \t\t\r\n    for(int i = 0; i &lt; hull.size().height ; i++)\r\n    {\r\n        int index = (int)hull.get(i, 0)[0];\r\n        double[] point = new double[] {\r\n    \t\tmopIn.get(index, 0)[0], mopIn.get(index, 0)[1]\r\n        };\r\n        mopOut.put(i, 0, point);\r\n    }\t\t\t\r\n    // do something interesting with mopOut\r\n       \t\r\n\r\n","title":"Convex Hull on Java Android Opencv 2.3","body":"<p>Don't have the rep to add comment, just wanted to say the two answers above helped me get Imgproc.convexHull() working for my use case with something like this (2.4.8):</p>\n\n<pre><code>MatOfPoint mopIn = ...\nMatOfInt hull = new MatOfInt();\nImgproc.convexHull(mopIn, hull, false);\n\nMatOfPoint mopOut = new MatOfPoint();\nmopOut.create((int)hull.size().height,1,CvType.CV_32SC2);\n\nfor(int i = 0; i &lt; hull.size().height ; i++)\n{\n    int index = (int)hull.get(i, 0)[0];\n    double[] point = new double[] {\n        mopIn.get(index, 0)[0], mopIn.get(index, 0)[1]\n    };\n    mopOut.put(i, 0, point);\n}           \n// do something interesting with mopOut\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5653078,"reputation":21,"user_id":4473007,"display_name":"user4473007"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1421740979,"creation_date":1421740979,"answer_id":28040295,"question_id":17586948,"body_markdown":"This code works well in my application. In my case, I had multiple contours to work with, so you will notice a lot of Lists, but if you only have one contour, just adjust it to work without the .get(i) iterations.\r\n\r\nThis thread explains the process more simply.\r\n\r\nhttps://stackoverflow.com/questions/10961660/android-java-opencv-2-4-convexhull-convexdefect#answer-10962281\r\n\r\n\r\n       // Find the convex hull\r\n        \t\tList&lt;MatOfInt&gt; hull = new ArrayList&lt;MatOfInt&gt;();\r\n        \t\tfor(int i=0; i &lt; contours.size(); i++){\r\n        \t\t\thull.add(new MatOfInt());\r\n        \t\t}\r\n        \t\tfor(int i=0; i &lt; contours.size(); i++){\r\n        \t\t\tImgproc.convexHull(contours.get(i), hull.get(i));\r\n        \t\t}\r\n        \t\t\r\n                // Convert MatOfInt to MatOfPoint for drawing convex hull\r\n    \r\n        \t\t// Loop over all contours\r\n        \t\tList&lt;Point[]&gt; hullpoints = new ArrayList&lt;Point[]&gt;();\r\n        \t\tfor(int i=0; i &lt; hull.size(); i++){\r\n        \t\t\tPoint[] points = new Point[hull.get(i).rows()];\r\n        \t\t\t\r\n        \t\t\t// Loop over all points that need to be hulled in current contour\r\n        \t\t\tfor(int j=0; j &lt; hull.get(i).rows(); j++){\r\n        \t\t\t\tint index = (int)hull.get(i).get(j, 0)[0];\r\n        \t\t\t\tpoints[j] = new Point(contours.get(i).get(index, 0)[0], contours.get(i).get(index, 0)[1]);\r\n        \t\t\t}\r\n        \t\t\t\r\n        \t\t\thullpoints.add(points);\r\n        \t\t}\r\n        \t\t\r\n        \t\t// Convert Point arrays into MatOfPoint\r\n        \t\tList&lt;MatOfPoint&gt; hullmop = new ArrayList&lt;MatOfPoint&gt;();\r\n        \t\tfor(int i=0; i &lt; hullpoints.size(); i++){\r\n        \t\t\tMatOfPoint mop = new MatOfPoint();\r\n        \t\t\tmop.fromArray(hullpoints.get(i));\r\n        \t\t\thullmop.add(mop);\r\n        \t\t}\r\n        \t\t\r\n        \t\t\r\n        \t\t// Draw contours + hull results\r\n        \t\tMat overlay = new Mat(binaryImage.size(), CvType.CV_8UC3);\r\n        \t\tScalar color = new Scalar(0, 255, 0);\t// Green\r\n        \t\tfor(int i=0; i &lt; contours.size(); i++){\r\n        \t\t\tImgproc.drawContours(overlay, contours, i, color);\r\n        \t\t\tImgproc.drawContours(overlay, hullmop, i, color);\r\n        \t\t}","title":"Convex Hull on Java Android Opencv 2.3","body":"<p>This code works well in my application. In my case, I had multiple contours to work with, so you will notice a lot of Lists, but if you only have one contour, just adjust it to work without the .get(i) iterations.</p>\n\n<p>This thread explains the process more simply.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/10961660/android-java-opencv-2-4-convexhull-convexdefect#answer-10962281\">android java opencv 2.4 convexhull convexdefect</a></p>\n\n<pre><code>   // Find the convex hull\n            List&lt;MatOfInt&gt; hull = new ArrayList&lt;MatOfInt&gt;();\n            for(int i=0; i &lt; contours.size(); i++){\n                hull.add(new MatOfInt());\n            }\n            for(int i=0; i &lt; contours.size(); i++){\n                Imgproc.convexHull(contours.get(i), hull.get(i));\n            }\n\n            // Convert MatOfInt to MatOfPoint for drawing convex hull\n\n            // Loop over all contours\n            List&lt;Point[]&gt; hullpoints = new ArrayList&lt;Point[]&gt;();\n            for(int i=0; i &lt; hull.size(); i++){\n                Point[] points = new Point[hull.get(i).rows()];\n\n                // Loop over all points that need to be hulled in current contour\n                for(int j=0; j &lt; hull.get(i).rows(); j++){\n                    int index = (int)hull.get(i).get(j, 0)[0];\n                    points[j] = new Point(contours.get(i).get(index, 0)[0], contours.get(i).get(index, 0)[1]);\n                }\n\n                hullpoints.add(points);\n            }\n\n            // Convert Point arrays into MatOfPoint\n            List&lt;MatOfPoint&gt; hullmop = new ArrayList&lt;MatOfPoint&gt;();\n            for(int i=0; i &lt; hullpoints.size(); i++){\n                MatOfPoint mop = new MatOfPoint();\n                mop.fromArray(hullpoints.get(i));\n                hullmop.add(mop);\n            }\n\n\n            // Draw contours + hull results\n            Mat overlay = new Mat(binaryImage.size(), CvType.CV_8UC3);\n            Scalar color = new Scalar(0, 255, 0);   // Green\n            for(int i=0; i &lt; contours.size(); i++){\n                Imgproc.drawContours(overlay, contours, i, color);\n                Imgproc.drawContours(overlay, hullmop, i, color);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5300172,"reputation":2057,"user_id":4230093,"accept_rate":20,"display_name":"Hey StackExchange"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1442935712,"creation_date":1442935378,"answer_id":32720829,"question_id":17586948,"body_markdown":"**Example in Java (OpenCV 2.4.11)** &lt;p&gt;\r\n`hullMat` contains the sub mat of `gray`, as identified by the `convexHull` method. &lt;br&gt;You may want to filter the contours you really need, for example based on their area.&lt;/p&gt;\r\n\r\n\tList&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;();\r\n\tMatOfInt4 hierarchy = new MatOfInt4();\r\n\tMatOfInt hull = new MatOfInt();\r\n\r\n\tvoid foo(Mat gray) {\r\n\t\tImgproc.findContours(gray, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);\t\t\r\n\t\tfor (int i = 0; i &lt; contours.size(); i++) {\r\n\t\t\tImgproc.convexHull(contours.get(i), hull);\r\n\t\t\tMatOfPoint hullContour = hull2Points(hull, contours.get(i));\r\n\t\t\tRect box = Imgproc.boundingRect(hullContour);\r\n\t\t\tMat hullMat = new Mat(gray, box);\r\n\t\t\t...\r\n\t\t}\r\n    }\r\n\r\n\tMatOfPoint hull2Points(MatOfInt hull, MatOfPoint contour) {\r\n\t\tList&lt;Integer&gt; indexes = hull.toList();\r\n\t\tList&lt;Point&gt; points = new ArrayList&lt;&gt;();\r\n\t\tMatOfPoint point= new MatOfPoint();\r\n\t\tfor(Integer index:indexes) {\r\n\t\t\tpoints.add(contour.toList().get(index));\r\n\t\t}\r\n\t\tpoint.fromList(points);\r\n\t\treturn point;\r\n\t}","title":"Convex Hull on Java Android Opencv 2.3","body":"<p><strong>Example in Java (OpenCV 2.4.11)</strong> <p>\n<code>hullMat</code> contains the sub mat of <code>gray</code>, as identified by the <code>convexHull</code> method. <br>You may want to filter the contours you really need, for example based on their area.</p></p>\n\n<pre><code>List&lt;MatOfPoint&gt; contours = new ArrayList&lt;MatOfPoint&gt;();\nMatOfInt4 hierarchy = new MatOfInt4();\nMatOfInt hull = new MatOfInt();\n\nvoid foo(Mat gray) {\n    Imgproc.findContours(gray, contours, hierarchy, Imgproc.RETR_EXTERNAL, Imgproc.CHAIN_APPROX_SIMPLE);        \n    for (int i = 0; i &lt; contours.size(); i++) {\n        Imgproc.convexHull(contours.get(i), hull);\n        MatOfPoint hullContour = hull2Points(hull, contours.get(i));\n        Rect box = Imgproc.boundingRect(hullContour);\n        Mat hullMat = new Mat(gray, box);\n        ...\n    }\n}\n\nMatOfPoint hull2Points(MatOfInt hull, MatOfPoint contour) {\n    List&lt;Integer&gt; indexes = hull.toList();\n    List&lt;Point&gt; points = new ArrayList&lt;&gt;();\n    MatOfPoint point= new MatOfPoint();\n    for(Integer index:indexes) {\n        points.add(contour.toList().get(index));\n    }\n    point.fromList(points);\n    return point;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12639244,"reputation":1,"user_id":9187377,"display_name":"Pon Mugesh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632745389,"creation_date":1521200064,"answer_id":49319831,"question_id":17586948,"body_markdown":"Use this `fillconvexPoly`\r\n\r\n     for( int i = 0; i &lt; contours.size(); i++ ){\r\n              Imgproc.fillConvexPoly(image_2, point,new Scalar(255, 255, 255));\r\n        }","title":"Convex Hull on Java Android Opencv 2.3","body":"<p>Use this <code>fillconvexPoly</code></p>\n<pre><code> for( int i = 0; i &lt; contours.size(); i++ ){\n          Imgproc.fillConvexPoly(image_2, point,new Scalar(255, 255, 255));\n    }\n</code></pre>\n"}],"owner":{"account_id":2513201,"reputation":91,"user_id":2185162,"display_name":"Jenang"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10294,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1632745389,"creation_date":1373525929,"question_id":17586948,"body_markdown":"Please help me, \r\n\r\nI have a problem for Convex Hull on Android. I use Java and **OpenCV 2.3**.\r\n\r\nBefore I made it on Java, I made it on C++ with Visual Studio 2008.\r\n\r\nThis code can running successfully on C++.  \r\n\r\nNow, i want to convert it from C++ to Java on Android. And I found error like &quot;force close&quot; when i run it on SDK Android simulator.\r\n\r\nThis is my code on C++: \r\n\r\n    vector&lt;vector&lt;Point&gt; &gt; contours;\r\n    vector&lt;Vec4i&gt; hierarchy;\r\n\r\n    findContours( canny_output, contours, hierarchy, CV_RETR_TREE, CV_CHAIN_APPROX_SIMPLE, Point(0, 0) );\r\n    drawing = Mat::zeros( canny_output.size(), CV_64F );\r\n\r\n    /// Find the convex hull object for each contour\r\n    vector&lt;vector&lt;Point&gt; &gt; hull ( contours.size() );\r\n    for( int i = 0; i &lt; contours.size(); i++ )\r\n      {  convexHull( Mat(contours[i]), hull[i], false );\r\n    }\r\n\r\n    for(size_t i = 0; i &lt; contours.size(); i++){\r\n\t\tdrawContours( drawing, hull, i, Scalar(255, 255, 255), CV_FILLED ); // FILL WHITE COLOR\r\n    }\r\n\r\n\r\n\r\nAnd this is my code on Android: \r\n\r\n    Mat hierarchy = new Mat(img_canny.rows(),img_canny.cols(),CvType.CV_8UC1,new Scalar(0));\r\n\t\tList&lt;Mat&gt; contours =new ArrayList&lt;Mat&gt;();\r\n\t\tList&lt;Mat&gt; hull = new ArrayList&lt;Mat&gt;(contours.size());\r\n\t\tdrawing = Mat.zeros(img_canny.size(), im_gray);\r\n\t\t\r\n\t\tImgproc.findContours(img_dilasi, contours, hierarchy,Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE, new Point(0, 0));\r\n\t\t\r\n\t\tfor(int i=0; i&lt;contours.size(); i++){\r\n\t\t\tImgproc.convexHull(contours.get(i), hull.get(i), false);\r\n\t\t\t\r\n\t\t}\r\n\t\tfor(int i=0; i&lt;contours.size(); i++){\r\n\t\t\tImgproc.drawContours(drawing, hull, i, new Scalar(255.0, 255.0, 255.0), 5);\r\n\t\t}\r\n\r\n\r\nFor your info, I did a little modification on Convex Hull at my code. **I fill a color inside contour**. \r\n\r\nAnyone can help me to solve my problem? \r\n\r\nI&#39;m very grateful for your help. ","title":"Convex Hull on Java Android Opencv 2.3","body":"<p>Please help me, </p>\n\n<p>I have a problem for Convex Hull on Android. I use Java and <strong>OpenCV 2.3</strong>.</p>\n\n<p>Before I made it on Java, I made it on C++ with Visual Studio 2008.</p>\n\n<p>This code can running successfully on C++.  </p>\n\n<p>Now, i want to convert it from C++ to Java on Android. And I found error like \"force close\" when i run it on SDK Android simulator.</p>\n\n<p>This is my code on C++: </p>\n\n<pre><code>vector&lt;vector&lt;Point&gt; &gt; contours;\nvector&lt;Vec4i&gt; hierarchy;\n\nfindContours( canny_output, contours, hierarchy, CV_RETR_TREE, CV_CHAIN_APPROX_SIMPLE, Point(0, 0) );\ndrawing = Mat::zeros( canny_output.size(), CV_64F );\n\n/// Find the convex hull object for each contour\nvector&lt;vector&lt;Point&gt; &gt; hull ( contours.size() );\nfor( int i = 0; i &lt; contours.size(); i++ )\n  {  convexHull( Mat(contours[i]), hull[i], false );\n}\n\nfor(size_t i = 0; i &lt; contours.size(); i++){\n    drawContours( drawing, hull, i, Scalar(255, 255, 255), CV_FILLED ); // FILL WHITE COLOR\n}\n</code></pre>\n\n<p>And this is my code on Android: </p>\n\n<pre><code>Mat hierarchy = new Mat(img_canny.rows(),img_canny.cols(),CvType.CV_8UC1,new Scalar(0));\n    List&lt;Mat&gt; contours =new ArrayList&lt;Mat&gt;();\n    List&lt;Mat&gt; hull = new ArrayList&lt;Mat&gt;(contours.size());\n    drawing = Mat.zeros(img_canny.size(), im_gray);\n\n    Imgproc.findContours(img_dilasi, contours, hierarchy,Imgproc.RETR_TREE, Imgproc.CHAIN_APPROX_SIMPLE, new Point(0, 0));\n\n    for(int i=0; i&lt;contours.size(); i++){\n        Imgproc.convexHull(contours.get(i), hull.get(i), false);\n\n    }\n    for(int i=0; i&lt;contours.size(); i++){\n        Imgproc.drawContours(drawing, hull, i, new Scalar(255.0, 255.0, 255.0), 5);\n    }\n</code></pre>\n\n<p>For your info, I did a little modification on Convex Hull at my code. <strong>I fill a color inside contour</strong>. </p>\n\n<p>Anyone can help me to solve my problem? </p>\n\n<p>I'm very grateful for your help. </p>\n"},{"tags":["java","mongodb","kotlin","quarkus","quarkus-panache"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":1,"creation_date":1614004472,"post_id":66317076,"comment_id":117243956,"body_markdown":"In general, [$lookup](https://docs.mongodb.com/manual/reference/operator/aggregation/lookup/index.html) is the way to query with a &quot;join&quot; operation. So, you can run a native query.","body":"In general, <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/lookup/index.html\" rel=\"nofollow noreferrer\">$lookup</a> is the way to query with a &quot;join&quot; operation. So, you can run a native query."}],"answers":[{"tags":[],"owner":{"account_id":4424946,"reputation":5229,"user_id":3603660,"accept_rate":75,"display_name":"loicmathieu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1614067746,"creation_date":1614067746,"answer_id":66329293,"question_id":66317076,"body_markdown":"MongoDB is a non-relational database, that why there is no one-to-many relation support for it.\r\n\r\n&gt; I would like to model the dependent sub-document,\r\n\r\nI didn&#39;t follow, sub-document is supported, you can just create a separate POJO and use it as an attribute of you entity.\r\n\r\nWhat is not supported, is to automatically load referenced entity from one collection to another, as you pointed out there is an opened enhancement request for it support, you can give feedback on it (or vote for it via +1).\r\n\r\nCurrently, for referenced entity, you need to create two entities / repositories and make the fecth manually.","title":"Best practice: MongoDB Panache entity one-to-many relationship handling in Quarkus?","body":"<p>MongoDB is a non-relational database, that why there is no one-to-many relation support for it.</p>\n<blockquote>\n<p>I would like to model the dependent sub-document,</p>\n</blockquote>\n<p>I didn't follow, sub-document is supported, you can just create a separate POJO and use it as an attribute of you entity.</p>\n<p>What is not supported, is to automatically load referenced entity from one collection to another, as you pointed out there is an opened enhancement request for it support, you can give feedback on it (or vote for it via +1).</p>\n<p>Currently, for referenced entity, you need to create two entities / repositories and make the fecth manually.</p>\n"},{"tags":[],"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1632745388,"creation_date":1632745388,"answer_id":69346540,"question_id":66317076,"body_markdown":"As informed by @loicmathieu there is no direct way to do `populate()` in quarkus as you are able to do it in mongoose.\r\nIf you set `mongoose.set(&#39;debug&#39;, true)` then you can check in console that first\r\n- `find` query on collection is executed\r\n- `in` query on reference collection is executed.\r\n\r\nExample json document:\r\n```json\r\n{\r\n    &quot;_id&quot; : ObjectId(&quot;612f6c5c081d0796761ec2e4&quot;),\r\n    &quot;content&quot; : &quot;cannot restart Mongodb even when memory space is available&quot;,\r\n    &quot;created_by&quot; : ObjectId(&quot;612cb8608d22afb0e404adf6&quot;),\r\n    &quot;tags&quot; : [ \r\n        ObjectId(&quot;612f6c5c081d0796761ec2e2&quot;)\r\n    ],\r\n    &quot;createdAt&quot; : ISODate(&quot;2021-09-01T12:04:44.361Z&quot;),\r\n    &quot;updatedAt&quot; : ISODate(&quot;2021-09-10T05:30:51.384Z&quot;),\r\n    &quot;__v&quot; : 2,\r\n    &quot;likes&quot; : [],\r\n    &quot;replies&quot; : []\r\n}\r\n```\r\n\r\nTag Document\r\n```json\r\n{\r\n    &quot;_id&quot; : ObjectId(&quot;612f6c5c081d0796761ec2e2&quot;),\r\n    &quot;name&quot; : &quot;mongodb&quot;,\r\n    &quot;created_by&quot; : ObjectId(&quot;612cb8608d22afb0e404adf6&quot;),\r\n    &quot;createdAt&quot; : ISODate(&quot;2021-09-01T12:04:44.358Z&quot;),\r\n    &quot;updatedAt&quot; : ISODate(&quot;2021-09-01T12:04:44.358Z&quot;),\r\n    &quot;__v&quot; : 0\r\n}\r\n```\r\n\r\nAnd finally user document\r\n```json\r\n{\r\n    &quot;_id&quot; : ObjectId(&quot;612cb8608d22afb0e404adf6&quot;),\r\n    &quot;username&quot; : &quot;silentsudo&quot;,\r\n    &quot;password&quot; : &quot;sosimplebcrypted&quot;,\r\n    &quot;name&quot; : &quot;Ashish&quot;,\r\n    &quot;__v&quot; : 0\r\n}\r\n```\r\n\r\nTo get all documents i execute following query:\r\n```js\r\nexports.getRecentTweets = async () =&gt; {\r\n    return Tweet.find()\r\n        .populate(&#39;created_by&#39;, &#39;_id name username mediaId&#39;)\r\n        .populate(&#39;tags&#39;, &#39;_id name&#39;)\r\n        .sort({&#39;createdAt&#39;: -1});\r\n}\r\n```\r\n\r\nMongoose internally executing this in the following manner\r\n```txt\r\nMongoose: tweets.find({}, { sort: { createdAt: -1 }, projection: {} })\r\nMongoose: users.find({ _id: { &#39;$in&#39;: [ new ObjectId(&quot;612cb8608d22afb0e404adf6&quot;), new ObjectId(&quot;612f57ca9ea5c5cabbd89b38&quot;), new ObjectId(&quot;612f57ae9ea5c5cabbd89b32&quot;), new ObjectId(&quot;6134cb55328b793a1dacb9c2&quot;), new ObjectId(&quot;612cb86a8d22afb0e404adfc&quot;) ] }}, { skip: undefined, limit: undefined, perDocumentLimit: undefined, projection: { _id: 1, name: 1, username: 1, mediaId: 1 }})\r\nMongoose: tags.find({ _id: { &#39;$in&#39;: [ new ObjectId(&quot;6144d9ef02f6da33f39fe134&quot;), new ObjectId(&quot;612f6c5c081d0796761ec2e2&quot;), new ObjectId(&quot;612f6e9f081d0796761ec343&quot;), new ObjectId(&quot;612dc4623c401072c8098a84&quot;), new ObjectId(&quot;612f6cb1081d0796761ec2f1&quot;), new ObjectId(&quot;612f6c72081d0796761ec2eb&quot;), new ObjectId(&quot;612f6e5b081d0796761ec337&quot;), new ObjectId(&quot;612f6e42081d0796761ec330&quot;), new ObjectId(&quot;612f6df9081d0796761ec320&quot;), new ObjectId(&quot;612f6e0a081d0796761ec328&quot;), new ObjectId(&quot;612f6de8081d0796761ec316&quot;), new ObjectId(&quot;612f6de8081d0796761ec319&quot;), new ObjectId(&quot;612f6dc9081d0796761ec30c&quot;), new ObjectId(&quot;612f6dc9081d0796761ec30f&quot;), new ObjectId(&quot;612f6db0081d0796761ec303&quot;), new ObjectId(&quot;612f6db0081d0796761ec306&quot;), new ObjectId(&quot;612f6cc7081d0796761ec2f7&quot;) ] }}, { skip: undefined, limit: undefined, perDocumentLimit: undefined, projection: { _id: 1, name: 1 }})\r\n\r\n```\r\n\r\nI was experimenting `ab tool` for benchmarking. So i decided to go with quarkus as i never built any production application using it before. So i quickly created model and arrived at this thread only to know there is no direct way to achieve populate in java based driver. But we can use `$lookup`  with aggregation pipeline what we need. First and simplest way is to use mongodb compass tool to build the query and then simply export the result in java language. my json query to produce output similar to populate query looked like this.\r\n```json\r\n[\r\n  {\r\n    &#39;$unwind&#39;: {\r\n      &#39;path&#39;: &#39;$tags&#39;, \r\n      &#39;preserveNullAndEmptyArrays&#39;: true\r\n    }\r\n  }, {\r\n    &#39;$lookup&#39;: {\r\n      &#39;from&#39;: &#39;tags&#39;, \r\n      &#39;localField&#39;: &#39;tags&#39;, \r\n      &#39;foreignField&#39;: &#39;_id&#39;, \r\n      &#39;as&#39;: &#39;tweet_tags&#39;\r\n    }\r\n  }, {\r\n    &#39;$unwind&#39;: {\r\n      &#39;path&#39;: &#39;$tweet_tags&#39;, \r\n      &#39;preserveNullAndEmptyArrays&#39;: true\r\n    }\r\n  }, {\r\n    &#39;$group&#39;: {\r\n      &#39;_id&#39;: &#39;$_id&#39;, \r\n      &#39;content&#39;: {\r\n        &#39;$first&#39;: &#39;$content&#39;\r\n      }, \r\n      &#39;user&#39;: {\r\n        &#39;$first&#39;: &#39;$created_by&#39;\r\n      }, \r\n      &#39;tags&#39;: {\r\n        &#39;$push&#39;: &#39;$tweet_tags&#39;\r\n      }\r\n    }\r\n  }, {\r\n    &#39;$lookup&#39;: {\r\n      &#39;from&#39;: &#39;users&#39;, \r\n      &#39;localField&#39;: &#39;user&#39;, \r\n      &#39;foreignField&#39;: &#39;_id&#39;, \r\n      &#39;as&#39;: &#39;createdByUser&#39;\r\n    }\r\n  }, {\r\n    &#39;$unwind&#39;: {\r\n      &#39;path&#39;: &#39;$createdByUser&#39;, \r\n      &#39;preserveNullAndEmptyArrays&#39;: false\r\n    }\r\n  }, {\r\n    &#39;$set&#39;: {\r\n      &#39;createdByUser.password&#39;: null\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nWhich when converted into equivalent java gives\r\n```java\r\npublic static List&lt;Document&gt; getTweetByUserQuery() {\r\n            return Arrays.asList(new Document(&quot;$unwind&quot;,\r\n                            new Document(&quot;path&quot;, &quot;$tags&quot;)\r\n                                    .append(&quot;preserveNullAndEmptyArrays&quot;, true)),\r\n                    new Document(&quot;$lookup&quot;,\r\n                            new Document(&quot;from&quot;, &quot;tags&quot;)\r\n                                    .append(&quot;localField&quot;, &quot;tags&quot;)\r\n                                    .append(&quot;foreignField&quot;, &quot;_id&quot;)\r\n                                    .append(&quot;as&quot;, &quot;tweet_tags&quot;)),\r\n                    new Document(&quot;$unwind&quot;,\r\n                            new Document(&quot;path&quot;, &quot;$tweet_tags&quot;)\r\n                                    .append(&quot;preserveNullAndEmptyArrays&quot;, true)),\r\n                    new Document(&quot;$group&quot;,\r\n                            new Document(&quot;_id&quot;, &quot;$_id&quot;)\r\n                                    .append(&quot;content&quot;,\r\n                                            new Document(&quot;$first&quot;, &quot;$content&quot;))\r\n                                    .append(&quot;user&quot;,\r\n                                            new Document(&quot;$first&quot;, &quot;$created_by&quot;))\r\n                                    .append(&quot;tags&quot;,\r\n                                            new Document(&quot;$push&quot;, &quot;$tweet_tags&quot;))),\r\n                    new Document(&quot;$lookup&quot;,\r\n                            new Document(&quot;from&quot;, &quot;users&quot;)\r\n                                    .append(&quot;localField&quot;, &quot;user&quot;)\r\n                                    .append(&quot;foreignField&quot;, &quot;_id&quot;)\r\n                                    .append(&quot;as&quot;, &quot;createdByUser&quot;)),\r\n                    new Document(&quot;$unwind&quot;,\r\n                            new Document(&quot;path&quot;, &quot;$createdByUser&quot;)\r\n                                    .append(&quot;preserveNullAndEmptyArrays&quot;, false)),\r\n                    new Document(&quot;$set&quot;,\r\n                            new Document(&quot;createdByUser.password&quot;,\r\n                                    new BsonNull())));\r\n        }\r\n```\r\n\r\nquarkus Controller code as below:\r\n```java\r\n@Path(&quot;/hello&quot;)\r\npublic class ExampleResource {\r\n    @Inject\r\n    private MongoClient mongoClient;\r\n\r\n    @GET\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    public Map&lt;Object, Object&gt; hello() {\r\n        MongoCollection&lt;Tweet&gt; tweetsCollection = mongoClient.getDatabase(&quot;simple-node-js&quot;)\r\n                .getCollection(&quot;tweets&quot;, Tweet.class);\r\n\r\n\r\n        List&lt;Document&gt; groupByQueryUser = Tweet.GroupByIdDetails.getTweetByUserQuery();\r\n\r\n        MongoCollection&lt;Document&gt; collections = mongoClient.getDatabase(&quot;simple-node-js&quot;)\r\n                .getCollection(&quot;tweets&quot;);\r\n        AggregateIterable&lt;Document&gt; aggregate = collections.aggregate(groupByQueryUser);\r\n        List&lt;Document&gt; data = new ArrayList&lt;&gt;();\r\n        for (Document value : aggregate) {\r\n            System.out.println(value);\r\n            data.add(value);\r\n        }\r\n\r\n        return Map.of(&quot;size&quot;, data.size(), &quot;data&quot;, data);\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nThere are many other things needs to be done with the response like removing unwanted fields but this ways i could achieve same result on node+mongoose api(except few more things which i skipped here)","title":"Best practice: MongoDB Panache entity one-to-many relationship handling in Quarkus?","body":"<p>As informed by @loicmathieu there is no direct way to do <code>populate()</code> in quarkus as you are able to do it in mongoose.\nIf you set <code>mongoose.set('debug', true)</code> then you can check in console that first</p>\n<ul>\n<li><code>find</code> query on collection is executed</li>\n<li><code>in</code> query on reference collection is executed.</li>\n</ul>\n<p>Example json document:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;_id&quot; : ObjectId(&quot;612f6c5c081d0796761ec2e4&quot;),\n    &quot;content&quot; : &quot;cannot restart Mongodb even when memory space is available&quot;,\n    &quot;created_by&quot; : ObjectId(&quot;612cb8608d22afb0e404adf6&quot;),\n    &quot;tags&quot; : [ \n        ObjectId(&quot;612f6c5c081d0796761ec2e2&quot;)\n    ],\n    &quot;createdAt&quot; : ISODate(&quot;2021-09-01T12:04:44.361Z&quot;),\n    &quot;updatedAt&quot; : ISODate(&quot;2021-09-10T05:30:51.384Z&quot;),\n    &quot;__v&quot; : 2,\n    &quot;likes&quot; : [],\n    &quot;replies&quot; : []\n}\n</code></pre>\n<p>Tag Document</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;_id&quot; : ObjectId(&quot;612f6c5c081d0796761ec2e2&quot;),\n    &quot;name&quot; : &quot;mongodb&quot;,\n    &quot;created_by&quot; : ObjectId(&quot;612cb8608d22afb0e404adf6&quot;),\n    &quot;createdAt&quot; : ISODate(&quot;2021-09-01T12:04:44.358Z&quot;),\n    &quot;updatedAt&quot; : ISODate(&quot;2021-09-01T12:04:44.358Z&quot;),\n    &quot;__v&quot; : 0\n}\n</code></pre>\n<p>And finally user document</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;_id&quot; : ObjectId(&quot;612cb8608d22afb0e404adf6&quot;),\n    &quot;username&quot; : &quot;silentsudo&quot;,\n    &quot;password&quot; : &quot;sosimplebcrypted&quot;,\n    &quot;name&quot; : &quot;Ashish&quot;,\n    &quot;__v&quot; : 0\n}\n</code></pre>\n<p>To get all documents i execute following query:</p>\n<pre class=\"lang-js prettyprint-override\"><code>exports.getRecentTweets = async () =&gt; {\n    return Tweet.find()\n        .populate('created_by', '_id name username mediaId')\n        .populate('tags', '_id name')\n        .sort({'createdAt': -1});\n}\n</code></pre>\n<p>Mongoose internally executing this in the following manner</p>\n<pre><code>Mongoose: tweets.find({}, { sort: { createdAt: -1 }, projection: {} })\nMongoose: users.find({ _id: { '$in': [ new ObjectId(&quot;612cb8608d22afb0e404adf6&quot;), new ObjectId(&quot;612f57ca9ea5c5cabbd89b38&quot;), new ObjectId(&quot;612f57ae9ea5c5cabbd89b32&quot;), new ObjectId(&quot;6134cb55328b793a1dacb9c2&quot;), new ObjectId(&quot;612cb86a8d22afb0e404adfc&quot;) ] }}, { skip: undefined, limit: undefined, perDocumentLimit: undefined, projection: { _id: 1, name: 1, username: 1, mediaId: 1 }})\nMongoose: tags.find({ _id: { '$in': [ new ObjectId(&quot;6144d9ef02f6da33f39fe134&quot;), new ObjectId(&quot;612f6c5c081d0796761ec2e2&quot;), new ObjectId(&quot;612f6e9f081d0796761ec343&quot;), new ObjectId(&quot;612dc4623c401072c8098a84&quot;), new ObjectId(&quot;612f6cb1081d0796761ec2f1&quot;), new ObjectId(&quot;612f6c72081d0796761ec2eb&quot;), new ObjectId(&quot;612f6e5b081d0796761ec337&quot;), new ObjectId(&quot;612f6e42081d0796761ec330&quot;), new ObjectId(&quot;612f6df9081d0796761ec320&quot;), new ObjectId(&quot;612f6e0a081d0796761ec328&quot;), new ObjectId(&quot;612f6de8081d0796761ec316&quot;), new ObjectId(&quot;612f6de8081d0796761ec319&quot;), new ObjectId(&quot;612f6dc9081d0796761ec30c&quot;), new ObjectId(&quot;612f6dc9081d0796761ec30f&quot;), new ObjectId(&quot;612f6db0081d0796761ec303&quot;), new ObjectId(&quot;612f6db0081d0796761ec306&quot;), new ObjectId(&quot;612f6cc7081d0796761ec2f7&quot;) ] }}, { skip: undefined, limit: undefined, perDocumentLimit: undefined, projection: { _id: 1, name: 1 }})\n\n</code></pre>\n<p>I was experimenting <code>ab tool</code> for benchmarking. So i decided to go with quarkus as i never built any production application using it before. So i quickly created model and arrived at this thread only to know there is no direct way to achieve populate in java based driver. But we can use <code>$lookup</code>  with aggregation pipeline what we need. First and simplest way is to use mongodb compass tool to build the query and then simply export the result in java language. my json query to produce output similar to populate query looked like this.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    '$unwind': {\n      'path': '$tags', \n      'preserveNullAndEmptyArrays': true\n    }\n  }, {\n    '$lookup': {\n      'from': 'tags', \n      'localField': 'tags', \n      'foreignField': '_id', \n      'as': 'tweet_tags'\n    }\n  }, {\n    '$unwind': {\n      'path': '$tweet_tags', \n      'preserveNullAndEmptyArrays': true\n    }\n  }, {\n    '$group': {\n      '_id': '$_id', \n      'content': {\n        '$first': '$content'\n      }, \n      'user': {\n        '$first': '$created_by'\n      }, \n      'tags': {\n        '$push': '$tweet_tags'\n      }\n    }\n  }, {\n    '$lookup': {\n      'from': 'users', \n      'localField': 'user', \n      'foreignField': '_id', \n      'as': 'createdByUser'\n    }\n  }, {\n    '$unwind': {\n      'path': '$createdByUser', \n      'preserveNullAndEmptyArrays': false\n    }\n  }, {\n    '$set': {\n      'createdByUser.password': null\n    }\n  }\n]\n</code></pre>\n<p>Which when converted into equivalent java gives</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static List&lt;Document&gt; getTweetByUserQuery() {\n            return Arrays.asList(new Document(&quot;$unwind&quot;,\n                            new Document(&quot;path&quot;, &quot;$tags&quot;)\n                                    .append(&quot;preserveNullAndEmptyArrays&quot;, true)),\n                    new Document(&quot;$lookup&quot;,\n                            new Document(&quot;from&quot;, &quot;tags&quot;)\n                                    .append(&quot;localField&quot;, &quot;tags&quot;)\n                                    .append(&quot;foreignField&quot;, &quot;_id&quot;)\n                                    .append(&quot;as&quot;, &quot;tweet_tags&quot;)),\n                    new Document(&quot;$unwind&quot;,\n                            new Document(&quot;path&quot;, &quot;$tweet_tags&quot;)\n                                    .append(&quot;preserveNullAndEmptyArrays&quot;, true)),\n                    new Document(&quot;$group&quot;,\n                            new Document(&quot;_id&quot;, &quot;$_id&quot;)\n                                    .append(&quot;content&quot;,\n                                            new Document(&quot;$first&quot;, &quot;$content&quot;))\n                                    .append(&quot;user&quot;,\n                                            new Document(&quot;$first&quot;, &quot;$created_by&quot;))\n                                    .append(&quot;tags&quot;,\n                                            new Document(&quot;$push&quot;, &quot;$tweet_tags&quot;))),\n                    new Document(&quot;$lookup&quot;,\n                            new Document(&quot;from&quot;, &quot;users&quot;)\n                                    .append(&quot;localField&quot;, &quot;user&quot;)\n                                    .append(&quot;foreignField&quot;, &quot;_id&quot;)\n                                    .append(&quot;as&quot;, &quot;createdByUser&quot;)),\n                    new Document(&quot;$unwind&quot;,\n                            new Document(&quot;path&quot;, &quot;$createdByUser&quot;)\n                                    .append(&quot;preserveNullAndEmptyArrays&quot;, false)),\n                    new Document(&quot;$set&quot;,\n                            new Document(&quot;createdByUser.password&quot;,\n                                    new BsonNull())));\n        }\n</code></pre>\n<p>quarkus Controller code as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;/hello&quot;)\npublic class ExampleResource {\n    @Inject\n    private MongoClient mongoClient;\n\n    @GET\n    @Produces(MediaType.APPLICATION_JSON)\n    public Map&lt;Object, Object&gt; hello() {\n        MongoCollection&lt;Tweet&gt; tweetsCollection = mongoClient.getDatabase(&quot;simple-node-js&quot;)\n                .getCollection(&quot;tweets&quot;, Tweet.class);\n\n\n        List&lt;Document&gt; groupByQueryUser = Tweet.GroupByIdDetails.getTweetByUserQuery();\n\n        MongoCollection&lt;Document&gt; collections = mongoClient.getDatabase(&quot;simple-node-js&quot;)\n                .getCollection(&quot;tweets&quot;);\n        AggregateIterable&lt;Document&gt; aggregate = collections.aggregate(groupByQueryUser);\n        List&lt;Document&gt; data = new ArrayList&lt;&gt;();\n        for (Document value : aggregate) {\n            System.out.println(value);\n            data.add(value);\n        }\n\n        return Map.of(&quot;size&quot;, data.size(), &quot;data&quot;, data);\n    }\n\n\n}\n</code></pre>\n<p>There are many other things needs to be done with the response like removing unwanted fields but this ways i could achieve same result on node+mongoose api(except few more things which i skipped here)</p>\n"}],"owner":{"account_id":98694,"reputation":7773,"user_id":267001,"accept_rate":94,"display_name":"ngeek"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2588,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69346540,"answer_count":2,"score":2,"last_activity_date":1632745388,"creation_date":1614002215,"question_id":66317076,"body_markdown":"The [Quarkus Guide on using MongoDB with Panache][1] does unfortunately not mention what is considered the best practice dealing with one-to-many relations of entities. Note: I would like to model the dependent sub-document, but as an entity on its own. The MongoDB site demonstrates this pattern in: [Model One-to-Many Relationships with Document References][2] so that you would have to lookup in your repository all entities linked to the parent ID. \r\n\r\nDoes Quarkus (Panache) provide currently any means to make the lookup more convenient?\r\n\r\n\r\nPS: There seems to be an [open enhancement request from May 2020][3] to automatically fetch the referenced entities.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/mongodb-panache\r\n  [2]: https://docs.mongodb.com/manual/tutorial/model-referenced-one-to-many-relationships-between-documents/\r\n  [3]: https://github.com/quarkusio/quarkus/issues/9210","title":"Best practice: MongoDB Panache entity one-to-many relationship handling in Quarkus?","body":"<p>The <a href=\"https://quarkus.io/guides/mongodb-panache\" rel=\"nofollow noreferrer\">Quarkus Guide on using MongoDB with Panache</a> does unfortunately not mention what is considered the best practice dealing with one-to-many relations of entities. Note: I would like to model the dependent sub-document, but as an entity on its own. The MongoDB site demonstrates this pattern in: <a href=\"https://docs.mongodb.com/manual/tutorial/model-referenced-one-to-many-relationships-between-documents/\" rel=\"nofollow noreferrer\">Model One-to-Many Relationships with Document References</a> so that you would have to lookup in your repository all entities linked to the parent ID.</p>\n<p>Does Quarkus (Panache) provide currently any means to make the lookup more convenient?</p>\n<p>PS: There seems to be an <a href=\"https://github.com/quarkusio/quarkus/issues/9210\" rel=\"nofollow noreferrer\">open enhancement request from May 2020</a> to automatically fetch the referenced entities.</p>\n"},{"tags":["java","refactoring"],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632745374,"creation_date":1632744156,"answer_id":69346253,"question_id":69346054,"body_markdown":"In order to use `Extractor` like you want to itneeds to have a generic type of its own, e.g. `Extractor&lt;T&gt;` and then `public abstract List&lt;T&gt; importExcel()`. Then define the concrete implementation as `MyDataExtractor implements Extractor&lt;MyData&gt;`. \r\n\r\nAdditionally, you need to adjust the config and factory method, e.g. like this:\r\n\r\n    public class ExtractorConfig&lt;T&gt; {\r\n      public Extractor&lt;T&gt;(Class&lt;T&gt; type) { ... }\r\n \r\n      Class&lt;T&gt; getType();\r\n    }\r\n  \r\n    //need to suppress the warning about the cast\r\n    //using E here in order to avoid confusion with &lt;T&gt; of Extractor&lt;T&gt;\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public &lt;E&gt; static Extractor&lt;E&gt; createFromConfig(ExtractorConfig&lt;E&gt; ec) {\r\n        //this isn&#39;t that elegant though as Extractor would now need to know all implementations and their data classes\r\n        if (MyData.class.equals(ec.getType()))\r\n            //unfortunately this cast is necessary\r\n            return (Extractor&lt;E&gt;)new MyDataExtractor(ec);\r\n\r\n        return null;\r\n    }\r\n\r\nAnd use it like this:\r\n\r\n    ExtractorConfig&lt;MyData&gt; ec = new ExtractorConfig(MyData.class);\r\n    ...\r\n\r\n    Extractor&lt;MyData&gt; e = Extractor.createFromConfig(ec);\r\n    List&lt;MyData&gt; myDataList = e.importExcel();\r\n\r\n\r\nNote that if you want to be more flexible with possible implementations, you might need to use a kind of registry (factory factory) with either contains singleton extractors, prototypes or metafactories.\r\n\r\nSimple example using meta factories:\r\n\r\n    interface ExtractorFactory&lt;T&gt; {\r\n      Class&lt;T&gt; getType();\r\n\r\n      Extractor&lt;T&gt; buildExtractor(ExtractorConfig&lt;T&gt; ec);\r\n    }\r\n\r\n    class ExtractorRegistry {\r\n       Map&lt;Class&lt;?&gt;, ExtractorFactory&lt;?&gt;&gt; factories = ...;\r\n\r\n       void registerFactory(ExtractorFactory&lt;?&gt; factory) {\r\n          factories.put(factory.getType(), factory);\r\n       }\r\n\r\n       @SuppressWarnings(&quot;unchecked&quot;)\r\n       &lt;T&gt; Extractor&lt;T&gt; build(ExtractorConfig&lt;T&gt; ec) {\r\n         //same ugly but necessary cast, warning needs to be suppressed\r\n         ExtractorFactory&lt;T&gt; f = (ExtractorFactory)factories.get(ec.getType());\r\n         if( f != null ) return f.buildExtractor(ec);\r\n        \r\n         return null;\r\n       }\r\n    }\r\n\r\nAnd use it like this:\r\n\r\n    ExtractorRegistry registry = ...//get it from somewhere (or make it static, but that&#39;s not preferred)\r\n    registry.registerFactory(new MyDataExtractorFactory());\r\n\r\n    Extractor&lt;MyData&gt; e = registry .build(ec);\r\n    List&lt;MyData&gt; myDataList = e.importExcel();\r\n\r\nFinally a word on those casts:\r\n\r\nSince you&#39;ll want to deal with different and potentially unrelated types in your factory methods (or the registry method that returns factories) you need to cast from the concrete types you get (e.g. `MyData` defined by `MyDataExtractor` to the generic or wildcard type of the method.\r\n\r\nHowever, this is ok if you make sure that those casts will always succeed. The warnings are there to tell you this is potentially unsafe and thus you need to be extra careful not to break it. If you are sure this can&#39;t break, supress the warnings :)","title":"FactoryPattern with Generics in Java","body":"<p>In order to use <code>Extractor</code> like you want to itneeds to have a generic type of its own, e.g. <code>Extractor&lt;T&gt;</code> and then <code>public abstract List&lt;T&gt; importExcel()</code>. Then define the concrete implementation as <code>MyDataExtractor implements Extractor&lt;MyData&gt;</code>.</p>\n<p>Additionally, you need to adjust the config and factory method, e.g. like this:</p>\n<pre><code>public class ExtractorConfig&lt;T&gt; {\n  public Extractor&lt;T&gt;(Class&lt;T&gt; type) { ... }\n\n  Class&lt;T&gt; getType();\n}\n\n//need to suppress the warning about the cast\n//using E here in order to avoid confusion with &lt;T&gt; of Extractor&lt;T&gt;\n@SuppressWarnings(&quot;unchecked&quot;)\npublic &lt;E&gt; static Extractor&lt;E&gt; createFromConfig(ExtractorConfig&lt;E&gt; ec) {\n    //this isn't that elegant though as Extractor would now need to know all implementations and their data classes\n    if (MyData.class.equals(ec.getType()))\n        //unfortunately this cast is necessary\n        return (Extractor&lt;E&gt;)new MyDataExtractor(ec);\n\n    return null;\n}\n</code></pre>\n<p>And use it like this:</p>\n<pre><code>ExtractorConfig&lt;MyData&gt; ec = new ExtractorConfig(MyData.class);\n...\n\nExtractor&lt;MyData&gt; e = Extractor.createFromConfig(ec);\nList&lt;MyData&gt; myDataList = e.importExcel();\n</code></pre>\n<p>Note that if you want to be more flexible with possible implementations, you might need to use a kind of registry (factory factory) with either contains singleton extractors, prototypes or metafactories.</p>\n<p>Simple example using meta factories:</p>\n<pre><code>interface ExtractorFactory&lt;T&gt; {\n  Class&lt;T&gt; getType();\n\n  Extractor&lt;T&gt; buildExtractor(ExtractorConfig&lt;T&gt; ec);\n}\n\nclass ExtractorRegistry {\n   Map&lt;Class&lt;?&gt;, ExtractorFactory&lt;?&gt;&gt; factories = ...;\n\n   void registerFactory(ExtractorFactory&lt;?&gt; factory) {\n      factories.put(factory.getType(), factory);\n   }\n\n   @SuppressWarnings(&quot;unchecked&quot;)\n   &lt;T&gt; Extractor&lt;T&gt; build(ExtractorConfig&lt;T&gt; ec) {\n     //same ugly but necessary cast, warning needs to be suppressed\n     ExtractorFactory&lt;T&gt; f = (ExtractorFactory)factories.get(ec.getType());\n     if( f != null ) return f.buildExtractor(ec);\n    \n     return null;\n   }\n}\n</code></pre>\n<p>And use it like this:</p>\n<pre><code>ExtractorRegistry registry = ...//get it from somewhere (or make it static, but that's not preferred)\nregistry.registerFactory(new MyDataExtractorFactory());\n\nExtractor&lt;MyData&gt; e = registry .build(ec);\nList&lt;MyData&gt; myDataList = e.importExcel();\n</code></pre>\n<p>Finally a word on those casts:</p>\n<p>Since you'll want to deal with different and potentially unrelated types in your factory methods (or the registry method that returns factories) you need to cast from the concrete types you get (e.g. <code>MyData</code> defined by <code>MyDataExtractor</code> to the generic or wildcard type of the method.</p>\n<p>However, this is ok if you make sure that those casts will always succeed. The warnings are there to tell you this is potentially unsafe and thus you need to be extra careful not to break it. If you are sure this can't break, supress the warnings :)</p>\n"}],"owner":{"account_id":4643758,"reputation":1,"user_id":3762790,"display_name":"user3762790"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632745374,"creation_date":1632743311,"question_id":69346054,"body_markdown":"i&#39;m new to java and im trying to use the Factory Pattern.\r\n\r\nMy App simply imports Data from an Excelsheet into an ArrayList by a given Pojo/Bean.\r\nAs i have more than one Bean i decided to create a Config object and use a factory pattern.\r\nThe cfg object configures the generic extractor and the factory method returns the concrete Extractor. In this case the MyDataExtracor. \r\nThe importExcel method simply runs through every line in the excel and adds the extracted data as object per line to a list.\r\n\r\nBut the line `List&lt;MyData&gt; myDataList = e.importExcel();`\r\nthrows the following error: `Type mismatch: cannot convert from List&lt;capture#1-of ?&gt; to List&lt;MyData&gt;`\r\n\r\nanyone has a hint what im doing wrong?\r\n\r\nHeres my code:\r\n**main**\r\n\r\n    ExtractorConfig ec = new ExtractorConfig();\r\n    ec.setType(MyData.class);\r\n    ec.setFileName(&quot;MyData.xlsx&quot;);\r\n    ec.setStartRow(2d);\r\n    ec.setEndRow(3241d);\r\n    ec.setSheetName(&quot;Sheet1&quot;);\r\n    \r\n    Extractor e = Extractor.createFromConfig(ec);\r\n    List&lt;MyData&gt; myDataList = e.importExcel();\r\n\r\n**Extractor.java**\r\n\r\n    public abstract class Extractor {\r\n    \t\r\n    \tpublic abstract List&lt;?&gt; importExcel();\r\n    \r\n    \tpublic abstract ExtractorBean processRow(Row currentRow);\r\n    \r\n    \tpublic static Extractor createFromConfig(ExtractorConfig ec) {\r\n    \t\tif (ec.getC() == MyData.class)\r\n    \t\t\treturn new MyDataExtractor(ec);\r\n  \r\n    \t\treturn null;\r\n    \r\n    \t}\r\n    }\r\n\r\n**MyDataExtractor.java**\r\n    public class MyDataExtractor extends Extractor {\r\n    \r\n    \tExtractorConfig c;\r\n    \r\n    \tpublic MyDataExtractor(ExtractorConfig c) {\r\n    \t\tsuper();\r\n    \t\tthis.c = c;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;MyData&gt; importExcel() {\r\n    \r\n    \t\tList&lt;MyData&gt; aList = new ArrayList&lt;MyData&gt;();\r\n            // some code\r\n            // loop through worksheet\r\n    \t\tMyData aMyDataObject = processRow(currentRow);\r\n    \t\taList.add(aMyDataObject);\r\n            // end of loop\r\n    \r\n    \t\treturn aList;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic MyData processRow(Row currentRow) {\r\n    \r\n    \t\tMyData myDataObject = new MyData();\r\n            // do some stuff like setting data\r\n    \t\treturn myDataObject;\r\n    \t}\r\n    \r\n    }","title":"FactoryPattern with Generics in Java","body":"<p>i'm new to java and im trying to use the Factory Pattern.</p>\n<p>My App simply imports Data from an Excelsheet into an ArrayList by a given Pojo/Bean.\nAs i have more than one Bean i decided to create a Config object and use a factory pattern.\nThe cfg object configures the generic extractor and the factory method returns the concrete Extractor. In this case the MyDataExtracor.\nThe importExcel method simply runs through every line in the excel and adds the extracted data as object per line to a list.</p>\n<p>But the line <code>List&lt;MyData&gt; myDataList = e.importExcel();</code>\nthrows the following error: <code>Type mismatch: cannot convert from List&lt;capture#1-of ?&gt; to List&lt;MyData&gt;</code></p>\n<p>anyone has a hint what im doing wrong?</p>\n<p>Heres my code:\n<strong>main</strong></p>\n<pre><code>ExtractorConfig ec = new ExtractorConfig();\nec.setType(MyData.class);\nec.setFileName(&quot;MyData.xlsx&quot;);\nec.setStartRow(2d);\nec.setEndRow(3241d);\nec.setSheetName(&quot;Sheet1&quot;);\n\nExtractor e = Extractor.createFromConfig(ec);\nList&lt;MyData&gt; myDataList = e.importExcel();\n</code></pre>\n<p><strong>Extractor.java</strong></p>\n<pre><code>public abstract class Extractor {\n    \n    public abstract List&lt;?&gt; importExcel();\n\n    public abstract ExtractorBean processRow(Row currentRow);\n\n    public static Extractor createFromConfig(ExtractorConfig ec) {\n        if (ec.getC() == MyData.class)\n            return new MyDataExtractor(ec);\n\n        return null;\n\n    }\n}\n</code></pre>\n<p><strong>MyDataExtractor.java</strong>\npublic class MyDataExtractor extends Extractor {</p>\n<pre><code>    ExtractorConfig c;\n\n    public MyDataExtractor(ExtractorConfig c) {\n        super();\n        this.c = c;\n    }\n\n    @Override\n    public List&lt;MyData&gt; importExcel() {\n\n        List&lt;MyData&gt; aList = new ArrayList&lt;MyData&gt;();\n        // some code\n        // loop through worksheet\n        MyData aMyDataObject = processRow(currentRow);\n        aList.add(aMyDataObject);\n        // end of loop\n\n        return aList;\n    }\n\n\n\n    public MyData processRow(Row currentRow) {\n\n        MyData myDataObject = new MyData();\n        // do some stuff like setting data\n        return myDataObject;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":41803,"reputation":1376,"user_id":121562,"display_name":"eolith"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1298386881,"creation_date":1298386881,"answer_id":5079800,"question_id":5079458,"body_markdown":"Check this out: [BeanPropertyCopyUtil][1].\r\n\r\nExample:\r\n\r\n    copyProperties(user, systemUser, &quot;first firstName&quot;, &quot;last lastName&quot;);\r\n\r\nYou&#39;ll also need Apache Commons BeanUtils.\r\n\r\n  [1]: http://code.google.com/p/vineetmanohar/source/browse/trunk/src/main/java/com/vineetmanohar/util/BeanPropertyCopyUtil.java","title":"Copy specific fields by using BeanUtils.copyProperties?","body":"<p>Check this out: <a href=\"http://code.google.com/p/vineetmanohar/source/browse/trunk/src/main/java/com/vineetmanohar/util/BeanPropertyCopyUtil.java\" rel=\"nofollow\">BeanPropertyCopyUtil</a>.</p>\n\n<p>Example:</p>\n\n<pre><code>copyProperties(user, systemUser, \"first firstName\", \"last lastName\");\n</code></pre>\n\n<p>You'll also need Apache Commons BeanUtils.</p>\n"},{"tags":[],"owner":{"account_id":123612,"reputation":48061,"user_id":318174,"accept_rate":71,"display_name":"Adam Gent"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1298388058,"creation_date":1298387121,"answer_id":5079839,"question_id":5079458,"body_markdown":"If you don&#39;t want to use Commons BeanUtils you can still use Spring by using the [BeanWrapper][1].\r\n\r\nYou will have to manually loop through all the properties so you will want to make a static helper method.\r\n\r\nYou can always just copy what copyProperties is doing and adjust to your liking:\r\nhttp://tinyurl.com/BeanUtils-copyProperties\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/beans/BeanWrapper.html","title":"Copy specific fields by using BeanUtils.copyProperties?","body":"<p>If you don't want to use Commons BeanUtils you can still use Spring by using the <a href=\"http://static.springsource.org/spring/docs/3.0.x/api/org/springframework/beans/BeanWrapper.html\" rel=\"nofollow\">BeanWrapper</a>.</p>\n\n<p>You will have to manually loop through all the properties so you will want to make a static helper method.</p>\n\n<p>You can always just copy what copyProperties is doing and adjust to your liking:\n<a href=\"http://tinyurl.com/BeanUtils-copyProperties\" rel=\"nofollow\">http://tinyurl.com/BeanUtils-copyProperties</a></p>\n"},{"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"down_vote_count":0,"up_vote_count":65,"is_accepted":true,"score":65,"last_activity_date":1522253017,"creation_date":1298387218,"answer_id":5079864,"question_id":5079458,"body_markdown":"You can use the [`BeanWrapper`][1] technology. Here&#39;s a sample implementation:\r\n\r\n\r\n    public static void copyProperties(Object src, Object trg, Iterable&lt;String&gt; props) {\r\n\r\n        BeanWrapper srcWrap = PropertyAccessorFactory.forBeanPropertyAccess(src);\r\n        BeanWrapper trgWrap = PropertyAccessorFactory.forBeanPropertyAccess(trg);\r\n\r\n        props.forEach(p -&gt; trgWrap.setPropertyValue(p, srcWrap.getPropertyValue(p)));\r\n\r\n    }\r\n\r\nOr, if you really, *really* want to use `BeanUtils`, here&#39;s a solution. Invert the logic, gather excludes by comparing the full property list with the includes:\r\n\r\n    public static void copyProperties2(Object src, Object trg, Set&lt;String&gt; props) {\r\n        String[] excludedProperties = \r\n                Arrays.stream(BeanUtils.getPropertyDescriptors(src.getClass()))\r\n                      .map(PropertyDescriptor::getName)\r\n                      .filter(name -&gt; !props.contains(name))\r\n                      .toArray(String[]::new);\r\n\r\n        BeanUtils.copyProperties(src, trg, excludedProperties);\r\n    }\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/validation.html#beans-beans","title":"Copy specific fields by using BeanUtils.copyProperties?","body":"<p>You can use the <a href=\"http://static.springsource.org/spring/docs/3.0.x/spring-framework-reference/html/validation.html#beans-beans\" rel=\"noreferrer\"><code>BeanWrapper</code></a> technology. Here's a sample implementation:</p>\n\n<pre><code>public static void copyProperties(Object src, Object trg, Iterable&lt;String&gt; props) {\n\n    BeanWrapper srcWrap = PropertyAccessorFactory.forBeanPropertyAccess(src);\n    BeanWrapper trgWrap = PropertyAccessorFactory.forBeanPropertyAccess(trg);\n\n    props.forEach(p -&gt; trgWrap.setPropertyValue(p, srcWrap.getPropertyValue(p)));\n\n}\n</code></pre>\n\n<p>Or, if you really, <em>really</em> want to use <code>BeanUtils</code>, here's a solution. Invert the logic, gather excludes by comparing the full property list with the includes:</p>\n\n<pre><code>public static void copyProperties2(Object src, Object trg, Set&lt;String&gt; props) {\n    String[] excludedProperties = \n            Arrays.stream(BeanUtils.getPropertyDescriptors(src.getClass()))\n                  .map(PropertyDescriptor::getName)\n                  .filter(name -&gt; !props.contains(name))\n                  .toArray(String[]::new);\n\n    BeanUtils.copyProperties(src, trg, excludedProperties);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4376790,"reputation":81,"user_id":3569615,"display_name":"ingchristianreyes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400539757,"creation_date":1400539757,"answer_id":23748415,"question_id":5079458,"body_markdown":"Here is an Example with Spring BeanUtils class:\r\n\r\n\tpublic static void copyList(List sourceList,\r\n\t\t\tList targetList, Class targetType) {\r\n\r\n\t\ttry {\r\n\r\n\t\t\tfor (Object source : sourceList) {\r\n\t\t\t\tObject target = null;\r\n\t\t\t\ttarget = targetType.newInstance();\r\n\t\t\t\tBeanUtils.copyProperties(source, target);\r\n\t\t\t\ttargetList.add(target);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t} catch (InstantiationException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} catch (IllegalAccessException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}","title":"Copy specific fields by using BeanUtils.copyProperties?","body":"<p>Here is an Example with Spring BeanUtils class:</p>\n\n<pre><code>public static void copyList(List sourceList,\n        List targetList, Class targetType) {\n\n    try {\n\n        for (Object source : sourceList) {\n            Object target = null;\n            target = targetType.newInstance();\n            BeanUtils.copyProperties(source, target);\n            targetList.add(target);\n        }\n\n    } catch (InstantiationException e) {\n        e.printStackTrace();\n    } catch (IllegalAccessException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5455793,"reputation":51,"user_id":4339267,"display_name":"Gautam Pal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434352617,"creation_date":1434352617,"answer_id":30839349,"question_id":5079458,"body_markdown":"You may use \r\n    org.springframework.beans.BeanUtils.copyProperties(Object source, Object target, Class editable) throws BeansException\r\n\r\nEnsure the target implements the interface editable which defines the properties which would be copied.","title":"Copy specific fields by using BeanUtils.copyProperties?","body":"<p>You may use \n    org.springframework.beans.BeanUtils.copyProperties(Object source, Object target, Class editable) throws BeansException</p>\n\n<p>Ensure the target implements the interface editable which defines the properties which would be copied.</p>\n"},{"tags":[],"owner":{"account_id":12730678,"reputation":2541,"user_id":9247465,"accept_rate":100,"display_name":"AConsumer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632745363,"creation_date":1632745363,"answer_id":69346533,"question_id":5079458,"body_markdown":"`beanUtils` has an overloaded method wherein we can pass an array of fields that we want to ignore.\r\n\r\nEg.\r\n\r\n    String[] ignoreProperties= new String[]{&quot;field1&quot;,&quot;field2&quot;};\r\n    \r\n    BeanUtils.copyProperties(a, b,ignoreProperties);\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hFMAh.png","title":"Copy specific fields by using BeanUtils.copyProperties?","body":"<p><code>beanUtils</code> has an overloaded method wherein we can pass an array of fields that we want to ignore.</p>\n<p>Eg.</p>\n<pre><code>String[] ignoreProperties= new String[]{&quot;field1&quot;,&quot;field2&quot;};\n\nBeanUtils.copyProperties(a, b,ignoreProperties);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/hFMAh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hFMAh.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":244547,"reputation":8456,"user_id":1582304,"accept_rate":69,"display_name":"zono"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85524,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":5079864,"answer_count":6,"score":42,"last_activity_date":1632745363,"creation_date":1298385299,"question_id":5079458,"body_markdown":"`springframework.beans.BeanUtils` is very useful to copy objects, and I use the &quot;ignoreProperties&quot; option frequently. However, sometimes I want to copy only specific objects (basically, the opposite of &quot;ignore Properties&quot;). Does anyone know how can I do that? Any help will be appreciated.\r\n\r\n    import org.springframework.beans.BeanUtils;\r\n    \r\n    public class Sample {    \r\n    \tpublic static void main(String[] args) {    \r\n    \t\tDemoADto demoADto = new DemoADto();\r\n    \t\tdemoADto.setName(&quot;Name of Demo A&quot;);\r\n    \t\tdemoADto.setAddress(&quot;Address of Demo A&quot;);\r\n    \r\n    \t\tDemoBDto demoBDto = new DemoBDto();\r\n    \r\n    \t\t// This is &quot;ignoreProperties&quot; option\r\n    \t\t// But I want to know how I can copy only name field by using BeanUtils or something.\r\n    \t\tBeanUtils.copyProperties(demoADto, demoBDto, new String[] {&quot;address&quot;});\r\n    \r\n    \t\tSystem.out.println(demoBDto.getName());\r\n    \t\tSystem.out.println(demoBDto.getAddress());    \r\n    \t}    \r\n    }\r\n    \r\n    public class DemoADto {    \r\n    \tprivate String name;    \r\n    \tprivate String address;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}    \r\n    }\r\n    \r\n    public class DemoBDto {    \r\n    \tprivate String name;    \r\n    \tprivate String address;\r\n    \r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}    \r\n    }\r\n\r\n","title":"Copy specific fields by using BeanUtils.copyProperties?","body":"<p><code>springframework.beans.BeanUtils</code> is very useful to copy objects, and I use the \"ignoreProperties\" option frequently. However, sometimes I want to copy only specific objects (basically, the opposite of \"ignore Properties\"). Does anyone know how can I do that? Any help will be appreciated.</p>\n\n<pre><code>import org.springframework.beans.BeanUtils;\n\npublic class Sample {    \n    public static void main(String[] args) {    \n        DemoADto demoADto = new DemoADto();\n        demoADto.setName(\"Name of Demo A\");\n        demoADto.setAddress(\"Address of Demo A\");\n\n        DemoBDto demoBDto = new DemoBDto();\n\n        // This is \"ignoreProperties\" option\n        // But I want to know how I can copy only name field by using BeanUtils or something.\n        BeanUtils.copyProperties(demoADto, demoBDto, new String[] {\"address\"});\n\n        System.out.println(demoBDto.getName());\n        System.out.println(demoBDto.getAddress());    \n    }    \n}\n\npublic class DemoADto {    \n    private String name;    \n    private String address;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }    \n}\n\npublic class DemoBDto {    \n    private String name;    \n    private String address;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }    \n}\n</code></pre>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":0,"creation_date":1632491548,"post_id":69316107,"comment_id":122514437,"body_markdown":"Can you share the URL?","body":"Can you share the URL?"},{"owner":{"account_id":22624287,"reputation":5,"user_id":16802576,"display_name":"Sandy"},"score":0,"creation_date":1632492168,"post_id":69316107,"comment_id":122514749,"body_markdown":"@pmadhu - sorry cannot do that","body":"@pmadhu - sorry cannot do that"},{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":0,"creation_date":1632492243,"post_id":69316107,"comment_id":122514780,"body_markdown":"Atleast share the complete error message.","body":"Atleast share the complete error message."},{"owner":{"account_id":22624287,"reputation":5,"user_id":16802576,"display_name":"Sandy"},"score":0,"creation_date":1632492835,"post_id":69316107,"comment_id":122515016,"body_markdown":"@pmadhu - added stack trace","body":"@pmadhu - added stack trace"},{"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"score":0,"creation_date":1632493465,"post_id":69316107,"comment_id":122515296,"body_markdown":"`WebElement loadmoreElems` is defined outside the loop, redefine it inside loop again and try.","body":"<code>WebElement loadmoreElems</code> is defined outside the loop, redefine it inside loop again and try."},{"owner":{"account_id":22624287,"reputation":5,"user_id":16802576,"display_name":"Sandy"},"score":0,"creation_date":1632493784,"post_id":69316107,"comment_id":122515423,"body_markdown":"@pmadhu - that wont make a difference tried and still the same","body":"@pmadhu - that wont make a difference tried and still the same"}],"answers":[{"tags":[],"owner":{"account_id":22214143,"reputation":3393,"user_id":16452840,"display_name":"pmadhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632664941,"creation_date":1632664941,"answer_id":69335669,"question_id":69316107,"body_markdown":"I think its because, you are defining `loadmoreElems` (within the loop) after you perform the click operation. So it click on the `Load More` button one time because you have defined `loadmoreElems` outside the loop. After the 1st click you are not defining it before click operation and the previously defined `loadmoreElems` is no longer valid.\r\n\r\nDefine it before that and try:\r\n\r\n```\r\nWebDriverWait wait = new WebDriverWait(driver,10);\r\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//span[contains(@class,&#39;mat-button-wrapper&#39;) and contains(normalize-space(),&#39;Load More&#39;)]&quot;)));\r\nloadmoreElems = DriverUtil.getFluentWaitElementByXPath(loadmoreXpath,20, driver);\r\nloadmoreElems.click();\r\nif(!loadmoreElem.isDisplayed())...\r\n```\r\n","title":"Clicking Load More Leads leads to error stating that element is no longer visible","body":"<p>I think its because, you are defining <code>loadmoreElems</code> (within the loop) after you perform the click operation. So it click on the <code>Load More</code> button one time because you have defined <code>loadmoreElems</code> outside the loop. After the 1st click you are not defining it before click operation and the previously defined <code>loadmoreElems</code> is no longer valid.</p>\n<p>Define it before that and try:</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver,10);\nwait.until(ExpectedConditions.presenceOfElementLocated(By.xpath(&quot;//span[contains(@class,'mat-button-wrapper') and contains(normalize-space(),'Load More')]&quot;)));\nloadmoreElems = DriverUtil.getFluentWaitElementByXPath(loadmoreXpath,20, driver);\nloadmoreElems.click();\nif(!loadmoreElem.isDisplayed())...\n</code></pre>\n"}],"owner":{"account_id":22624287,"reputation":5,"user_id":16802576,"display_name":"Sandy"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632744921,"creation_date":1632491203,"question_id":69316107,"body_markdown":"I have a Search Screen where after I enter the search criteria and search a Load More button will display if there are more than 30 records. The problem is it clicks the Load more button but leads to stale element Exception\r\n\r\nThe scenario is I need to click till the Load More button becomes disabled.\r\n\r\nBelow is my code any inputs\r\n\r\n   List&lt;WebElement&gt; rows = driver.findElements(By.xpath(&quot;//tbody[@role=&#39;rowgroup&#39;]/tr&quot;));\r\n            int rowcount = rows.size();\r\n\r\n            String loadmoreXpath = AppXPathsConstants.buttonXpath_replace.replace(&quot;XXXX&quot;,&quot;Load More&quot;);\r\n        \r\n            if(driver.findElements(By.xpath(loadmoreXpath)).size()!= 0) \r\n            {\r\n                \r\n            WebElement loadmoreElem = DriverUtil.getFluentWaitElementByXPath(loadmoreXpath,20, driver);\r\n        \r\n            do\r\n            {\r\n                PageUtil.scrolltoBottom(driver);\r\n                WebDriverWait wait = new WebDriverWait(driver,60);\r\n                wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[contains(@class,&#39;mat-button-wrapper&#39;) and contains(normalize-space(),&#39;Load More&#39;)]&quot;)));\r\n                loadmoreElem.click();\r\n                DriverUtil.waitTime(6000);\r\n                WebDriverWait w = new WebDriverWait(driver,10);\r\n                 w.until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(loadmoreXpath)));\r\n            }\r\n\r\n            while(driver.findElements(By.xpath(&quot;//span[contains(@class,&#39;mat-button-wrapper&#39;) and contains(normalize-space(),&#39;Load More&#39;)]&quot;)).size()&gt;0);\r\n            }\r\n\r\nStackTrace:\r\n  And on running the code i get the below issue:\r\norg.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to no longer be visible: By.xpath: //span[contains(@class,&#39;mat-button-wrapper&#39;) and contains(normalize-space(),&#39;Load More&#39;)] (tried for 10 second(s) with 500 milliseconds interval)","title":"Clicking Load More Leads leads to error stating that element is no longer visible","body":"<p>I have a Search Screen where after I enter the search criteria and search a Load More button will display if there are more than 30 records. The problem is it clicks the Load more button but leads to stale element Exception</p>\n<p>The scenario is I need to click till the Load More button becomes disabled.</p>\n<p>Below is my code any inputs</p>\n<p>List rows = driver.findElements(By.xpath(&quot;//tbody[@role='rowgroup']/tr&quot;));\nint rowcount = rows.size();</p>\n<pre><code>        String loadmoreXpath = AppXPathsConstants.buttonXpath_replace.replace(&quot;XXXX&quot;,&quot;Load More&quot;);\n    \n        if(driver.findElements(By.xpath(loadmoreXpath)).size()!= 0) \n        {\n            \n        WebElement loadmoreElem = DriverUtil.getFluentWaitElementByXPath(loadmoreXpath,20, driver);\n    \n        do\n        {\n            PageUtil.scrolltoBottom(driver);\n            WebDriverWait wait = new WebDriverWait(driver,60);\n            wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[contains(@class,'mat-button-wrapper') and contains(normalize-space(),'Load More')]&quot;)));\n            loadmoreElem.click();\n            DriverUtil.waitTime(6000);\n            WebDriverWait w = new WebDriverWait(driver,10);\n             w.until(ExpectedConditions.invisibilityOfElementLocated(By.xpath(loadmoreXpath)));\n        }\n\n        while(driver.findElements(By.xpath(&quot;//span[contains(@class,'mat-button-wrapper') and contains(normalize-space(),'Load More')]&quot;)).size()&gt;0);\n        }\n</code></pre>\n<p>StackTrace:\nAnd on running the code i get the below issue:\norg.openqa.selenium.TimeoutException: Expected condition failed: waiting for element to no longer be visible: By.xpath: //span[contains(@class,'mat-button-wrapper') and contains(normalize-space(),'Load More')] (tried for 10 second(s) with 500 milliseconds interval)</p>\n"},{"tags":["java","android","android-studio","gradle"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1632220800,"post_id":69267366,"comment_id":122428160,"body_markdown":"Why is that annoying? Gradle (the gradle daemon) runs on a JVM so it is required. javac cobtains java code and needs another JVM. It is the same thing for other (android) tools that are required.","body":"Why is that annoying? Gradle (the gradle daemon) runs on a JVM so it is required. javac cobtains java code and needs another JVM. It is the same thing for other (android) tools that are required."},{"owner":{"account_id":14993660,"reputation":27,"user_id":10823843,"display_name":"Kennedy"},"score":0,"creation_date":1632319936,"post_id":69267366,"comment_id":122460633,"body_markdown":"it starts multiple instances rather than 2 to 4. I just attached an image representation","body":"it starts multiple instances rather than 2 to 4. I just attached an image representation"}],"answers":[{"tags":[],"owner":{"account_id":21530600,"reputation":2687,"user_id":15870118,"display_name":"JustinW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632744836,"creation_date":1632291927,"answer_id":69279193,"question_id":69267366,"body_markdown":"Basically, you cannot do anything about it. It&#39;s just how it&#39;s made and how it works. As mentioned by @dan1st, Gradle daemon runs on first JVM, compilation needs another and so the android tools. However, it&#39;s a different case scenario if more than 4-5 JVMs are running. If that is the issue, try switching off the mobile hotspot in windows, because the gradle server doesn&#39;t accept connection from a daemon while hotspot is running. Add `-Xmx3G` to your gradle.properties also. Post the error log from `%UserProfile%\\.gradle\\daemon\\daemon-version for android-studio\\`.","title":"Android studio spamming multiple openjdk binary plaform process","body":"<p>Basically, you cannot do anything about it. It's just how it's made and how it works. As mentioned by @dan1st, Gradle daemon runs on first JVM, compilation needs another and so the android tools. However, it's a different case scenario if more than 4-5 JVMs are running. If that is the issue, try switching off the mobile hotspot in windows, because the gradle server doesn't accept connection from a daemon while hotspot is running. Add <code>-Xmx3G</code> to your gradle.properties also. Post the error log from <code>%UserProfile%\\.gradle\\daemon\\daemon-version for android-studio\\</code>.</p>\n"},{"tags":[],"owner":{"account_id":84644,"reputation":66598,"user_id":236465,"display_name":"Diego Torres Milano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632350169,"creation_date":1632350169,"answer_id":69292032,"question_id":69267366,"body_markdown":"You can try setting this properry\r\n\r\n```\r\norg.gradle.workers.max=(max # of worker processes)\r\n```\r\n\r\nas described at https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties\r\n\r\n\r\n","title":"Android studio spamming multiple openjdk binary plaform process","body":"<p>You can try setting this properry</p>\n<pre><code>org.gradle.workers.max=(max # of worker processes)\n</code></pre>\n<p>as described at <a href=\"https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/build_environment.html#sec:gradle_configuration_properties</a></p>\n"}],"owner":{"account_id":14993660,"reputation":27,"user_id":10823843,"display_name":"Kennedy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632744836,"creation_date":1632220220,"question_id":69267366,"body_markdown":"whenever I run an application of build gradle, android studio opens multiple instances of openjdk binary plaform.\r\n\r\n1) I have turned off hotspot. And went further to turning on airplane mode\r\n\r\n2) I have started android studio as administrator\r\n\r\n3) I have done this:\r\nuse `org.gradle.jvmargs=-Xms512m -Dfile.encoding=UTF-8` in the gradle.properties instead of `org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8`\r\n\r\nThis is really annoying.\r\n\r\nI use:\r\nAndroid studio 4.1.2\r\n\r\n![image showing multiple java.exe instances](https://i.stack.imgur.com/Xrx8o.jpg)\r\n\r\nGradle build:\r\n**\r\nExecuting tasks: [:app:assembleDebug] in project C:\r\n\\Users\\Heavenly\\AndroidStudioProjects\\PhotoGalleryX\r\n\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 4 s 63 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 688 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 550 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 639 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 766 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 945 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 986 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 840 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 890 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 4 s 58 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 3 s 966 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 4 s 126 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 4 s 379 ms\r\nStarting Gradle Daemon...\r\nGradle Daemon started in 4 s 511 ms\r\nStarting Gradle Daemon...\r\n**","title":"Android studio spamming multiple openjdk binary plaform process","body":"<p>whenever I run an application of build gradle, android studio opens multiple instances of openjdk binary plaform.</p>\n<ol>\n<li><p>I have turned off hotspot. And went further to turning on airplane mode</p>\n</li>\n<li><p>I have started android studio as administrator</p>\n</li>\n<li><p>I have done this:\nuse <code>org.gradle.jvmargs=-Xms512m -Dfile.encoding=UTF-8</code> in the gradle.properties instead of <code>org.gradle.jvmargs=-Xmx2048m -Dfile.encoding=UTF-8</code></p>\n</li>\n</ol>\n<p>This is really annoying.</p>\n<p>I use:\nAndroid studio 4.1.2</p>\n<p><img src=\"https://i.stack.imgur.com/Xrx8o.jpg\" alt=\"image showing multiple java.exe instances\" /></p>\n<p>Gradle build:\n**\nExecuting tasks: [:app:assembleDebug] in project C:\n\\Users\\Heavenly\\AndroidStudioProjects\\PhotoGalleryX</p>\n<p>Starting Gradle Daemon...\nGradle Daemon started in 4 s 63 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 688 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 550 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 639 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 766 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 945 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 986 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 840 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 890 ms\nStarting Gradle Daemon...\nGradle Daemon started in 4 s 58 ms\nStarting Gradle Daemon...\nGradle Daemon started in 3 s 966 ms\nStarting Gradle Daemon...\nGradle Daemon started in 4 s 126 ms\nStarting Gradle Daemon...\nGradle Daemon started in 4 s 379 ms\nStarting Gradle Daemon...\nGradle Daemon started in 4 s 511 ms\nStarting Gradle Daemon...\n**</p>\n"},{"tags":["java","spring","oracle","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1632744814,"creation_date":1632744814,"answer_id":69346416,"question_id":69346244,"body_markdown":"The error is about the Oracle JDBC driver version, not about your Oracle version. The Oracle R2DBC driver relies on specific features in the Oracle JDBC driver, and those features are only available in newer driver versions, and then only in the Java 11 (or higher) version of the driver (i.e. ojdbc11, not ojdbc8).\r\n\r\nAccording to https://github.com/oracle/oracle-r2dbc, the latest Oracle R2DBC driver requires the Oracle JDBC 21.3 driver.\r\n\r\nIt also says:\r\n\r\n&gt; The Oracle R2DBC Driver has been verified with Oracle Database\r\n&gt; versions 18, 19, and 21.\r\n\r\nTo be clear, the Oracle JDBC 21.3 driver works fine with Oracle 19c, and so does R2DBC.\r\n\r\nIn short, you need to update your Oracle JDBC driver to:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;ojdbc11&lt;/artifactId&gt;\r\n  &lt;version&gt;21.3.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Getting R2dbcNonTransientResourceException: Unsupported Oracle JDBC Driver version: 19","body":"<p>The error is about the Oracle JDBC driver version, not about your Oracle version. The Oracle R2DBC driver relies on specific features in the Oracle JDBC driver, and those features are only available in newer driver versions, and then only in the Java 11 (or higher) version of the driver (i.e. ojdbc11, not ojdbc8).</p>\n<p>According to <a href=\"https://github.com/oracle/oracle-r2dbc\" rel=\"nofollow noreferrer\">https://github.com/oracle/oracle-r2dbc</a>, the latest Oracle R2DBC driver requires the Oracle JDBC 21.3 driver.</p>\n<p>It also says:</p>\n<blockquote>\n<p>The Oracle R2DBC Driver has been verified with Oracle Database\nversions 18, 19, and 21.</p>\n</blockquote>\n<p>To be clear, the Oracle JDBC 21.3 driver works fine with Oracle 19c, and so does R2DBC.</p>\n<p>In short, you need to update your Oracle JDBC driver to:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n  &lt;artifactId&gt;ojdbc11&lt;/artifactId&gt;\n  &lt;version&gt;21.3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":17759339,"reputation":186,"user_id":12895663,"display_name":"Oten"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":959,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69346416,"answer_count":1,"score":1,"last_activity_date":1632744814,"creation_date":1632744120,"question_id":69346244,"body_markdown":"I am trying to set up R2DBC for my Spring Boot app which has Oracle 19c as the database and configured with OJDBC8 and Java 11. R2DBC version is 0.1.0. I&#39;m getting following error as the application fails to start. Does rRDBC work with Oracle 19c or does it need to be Oracle 21x?\r\n\r\n```none\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;myr2dbccon&#39;: Unexpected exception during bean creation; nested exception is io.r2dbc.spi.R2dbcNonTransientResourceException: Unsupported Oracle JDBC Driver version: 19\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:537) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.5.2.jar!/:2.5.2]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.2.jar!/:2.5.2]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.2.jar!/:2.5.2]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.2.jar!/:2.5.2]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\r\n\tat jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\r\n\tat jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\r\n\tat java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\r\n\t\r\nCaused by: io.r2dbc.spi.R2dbcNonTransientResourceException: Unsupported Oracle JDBC Driver version: 19\r\n\tat oracle.r2dbc.impl.ReactiveJdbcAdapter.getOracleAdapter(ReactiveJdbcAdapter.java:92) ~[oracle-r2dbc-0.1.0.jar!/:0.1.0]\r\n\tat oracle.r2dbc.impl.OracleConnectionFactoryImpl.&lt;init&gt;(OracleConnectionFactoryImpl.java:120) ~[oracle-r2dbc-0.1.0.jar!/:0.1.0]\r\n\tat oracle.r2dbc.impl.OracleConnectionFactoryProviderImpl.create(OracleConnectionFactoryProviderImpl.java:93) ~[oracle-r2dbc-0.1.0.jar!/:0.1.0]\r\n\tat io.r2dbc.spi.ConnectionFactories.find(ConnectionFactories.java:112) ~[r2dbc-spi-0.8.5.RELEASE.jar!/:?]\r\n\tat io.r2dbc.spi.ConnectionFactories.get(ConnectionFactories.java:142) ~[r2dbc-spi-0.8.5.RELEASE.jar!/:?]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1231) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar!/:5.3.9]\r\n```","title":"Getting R2dbcNonTransientResourceException: Unsupported Oracle JDBC Driver version: 19","body":"<p>I am trying to set up R2DBC for my Spring Boot app which has Oracle 19c as the database and configured with OJDBC8 and Java 11. R2DBC version is 0.1.0. I'm getting following error as the application fails to start. Does rRDBC work with Oracle 19c or does it need to be Oracle 21x?</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'myr2dbccon': Unexpected exception during bean creation; nested exception is io.r2dbc.spi.R2dbcNonTransientResourceException: Unsupported Oracle JDBC Driver version: 19\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:537) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.9.jar!/:5.3.9]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.9.jar!/:5.3.9]\n    at org.springframework.boot.web.reactive.context.ReactiveWebServerApplicationContext.refresh(ReactiveWebServerApplicationContext.java:64) ~[spring-boot-2.5.2.jar!/:2.5.2]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:754) ~[spring-boot-2.5.2.jar!/:2.5.2]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-2.5.2.jar!/:2.5.2]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:338) ~[spring-boot-2.5.2.jar!/:2.5.2]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:?]\n    at jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[?:?]\n    at jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[?:?]\n    at java.lang.reflect.Method.invoke(Method.java:566) ~[?:?]\n    \nCaused by: io.r2dbc.spi.R2dbcNonTransientResourceException: Unsupported Oracle JDBC Driver version: 19\n    at oracle.r2dbc.impl.ReactiveJdbcAdapter.getOracleAdapter(ReactiveJdbcAdapter.java:92) ~[oracle-r2dbc-0.1.0.jar!/:0.1.0]\n    at oracle.r2dbc.impl.OracleConnectionFactoryImpl.&lt;init&gt;(OracleConnectionFactoryImpl.java:120) ~[oracle-r2dbc-0.1.0.jar!/:0.1.0]\n    at oracle.r2dbc.impl.OracleConnectionFactoryProviderImpl.create(OracleConnectionFactoryProviderImpl.java:93) ~[oracle-r2dbc-0.1.0.jar!/:0.1.0]\n    at io.r2dbc.spi.ConnectionFactories.find(ConnectionFactories.java:112) ~[r2dbc-spi-0.8.5.RELEASE.jar!/:?]\n    at io.r2dbc.spi.ConnectionFactories.get(ConnectionFactories.java:142) ~[r2dbc-spi-0.8.5.RELEASE.jar!/:?]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.obtainFromSupplier(AbstractAutowireCapableBeanFactory.java:1231) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1173) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:564) ~[spring-beans-5.3.9.jar!/:5.3.9]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524) ~[spring-beans-5.3.9.jar!/:5.3.9]\n</code></pre>\n"},{"tags":["java","function"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1632740659,"post_id":69345466,"comment_id":122566315,"body_markdown":"`function.apply(object)`?","body":"<code>function.apply(object)</code>?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1632740961,"post_id":69345466,"comment_id":122566437,"body_markdown":"Why can&#39;t you just get a value from a map?","body":"Why can&#39;t you just get a value from a map?"},{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1632741516,"post_id":69345466,"comment_id":122566661,"body_markdown":"A `BiFunction` is a function that takes *two* parameters. Since there are no methods that take two parameters in your example, `BiFunction` does not seem to be what you need to use here.","body":"A <code>BiFunction</code> is a function that takes <i>two</i> parameters. Since there are no methods that take two parameters in your example, <code>BiFunction</code> does not seem to be what you need to use here."}],"answers":[{"tags":[],"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632741019,"creation_date":1632741019,"answer_id":69345585,"question_id":69345466,"body_markdown":"It is not entirely clear why you need this pattern and what your are trying to achieve by having a retrieval function an example of what you want to achieve might be the following:\r\n\r\n```java\r\npublic class MapReadFunction implements Function&lt;Map&lt;String, String&gt;, String&gt; {\r\n\r\n    private final Supplier&lt;String&gt; keySupplier;\r\n\r\n    public MapReadFunction(Supplier&lt;String&gt; keySupplier) {\r\n\t    this.keySupplier = keySupplier;\r\n    }\r\n\r\n    @Override\r\n    public String apply(Map&lt;String, String&gt; map) {\r\n\t    return map.get(keySupplier.get());\r\n    }\r\n}\r\n```\r\n\r\nYou can enforce the key supplier to be passed through the constructor and then simply use the `apply` method to accept a map and retrieve the value based on the key. An example usage would be:\r\n\r\n```\r\nvar object = new MyObject();\r\nvar someMap = new HashMap&lt;String, String&gt;();\r\nvar value = new MapReadFunction(object::getId).apply(someMap);\r\n```","title":"Java, Use BiFunction for a getter with parm","body":"<p>It is not entirely clear why you need this pattern and what your are trying to achieve by having a retrieval function an example of what you want to achieve might be the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MapReadFunction implements Function&lt;Map&lt;String, String&gt;, String&gt; {\n\n    private final Supplier&lt;String&gt; keySupplier;\n\n    public MapReadFunction(Supplier&lt;String&gt; keySupplier) {\n        this.keySupplier = keySupplier;\n    }\n\n    @Override\n    public String apply(Map&lt;String, String&gt; map) {\n        return map.get(keySupplier.get());\n    }\n}\n</code></pre>\n<p>You can enforce the key supplier to be passed through the constructor and then simply use the <code>apply</code> method to accept a map and retrieve the value based on the key. An example usage would be:</p>\n<pre><code>var object = new MyObject();\nvar someMap = new HashMap&lt;String, String&gt;();\nvar value = new MapReadFunction(object::getId).apply(someMap);\n</code></pre>\n"}],"owner":{"account_id":21266053,"reputation":49,"user_id":15646256,"display_name":"hello2244"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632744679,"creation_date":1632740417,"question_id":69345466,"body_markdown":"\r\n\r\nI am trying to invoke the method getValueFromMap which takes in a parm and returns a value. I think I need to use a bifunction for this?\r\nI already have something that can invoke a method with no parm for getId and return a value via a Function. How Can I do this?\r\n\r\n\r\nMyObject\r\n\r\n\r\n\r\n \r\n    public class MyObject{\r\n    private String id;\r\n    private HashMap&lt;String, String&gt; map;\r\n\r\n    public String getId(){\r\n    return id;\r\n    }\r\n    \r\n    public String getValueFromMap(String key){\r\n    return map.get(key)\r\n    }\r\n    \r\n    }\r\n\r\n\r\nMy ReadFunction.java\r\n\r\n\r\n    public interface ReadFunction&lt;R , T&gt; {\r\n    T readValue(R object);\r\n    \r\n    class Impl&lt;R, T&gt;\r\n        implements ReadFunction&lt;R, T&gt; {\r\n    \r\n        private final Function&lt;R, T&gt; function;\r\n    \r\n        public Impl(final Function&lt;R, T&gt; function) {\r\n            this.function = function;\r\n        }\r\n    \r\n        @Override\r\n        public T readValue(final R object) {\r\n            return this.function.apply(object);\r\n        }\r\n    }\r\n\r\n\r\nHow I create an invoke a read function\r\n\r\n\r\n        ReadFunction&lt;MyObject, String&gt; ID_READ_FUNC = new ReadFunction.Impl&lt;&gt;(\r\n        MyObject::getId);\r\n        MyObject object = new MyObject()\r\n        String id = ID_READ_FUNC.readValue(object)\r\n\r\n\r\nHow can I define a create and invoke a read function that accepts a value as a parm? I would like to define the parm as part of the ReadFunction itself instead of supplying it to readValue method in interface\r\n\r\n\r\nI would essentially like to do something like this but instead have the &quot;key&quot; part of the method be defined as part of the constructor\r\n\r\n    ReadFunction&lt;MyObject, String&gt; MAP_VALUE_READ_FNC = new ReadFunction.Impl&lt;&gt;(\r\n            (myObject) -&gt; myObject.getValueFromMap(&quot;key&quot;))\r\n\r\n","title":"Java, Use BiFunction for a getter with parm","body":"<p>I am trying to invoke the method getValueFromMap which takes in a parm and returns a value. I think I need to use a bifunction for this?\nI already have something that can invoke a method with no parm for getId and return a value via a Function. How Can I do this?</p>\n<p>MyObject</p>\n<pre><code>public class MyObject{\nprivate String id;\nprivate HashMap&lt;String, String&gt; map;\n\npublic String getId(){\nreturn id;\n}\n\npublic String getValueFromMap(String key){\nreturn map.get(key)\n}\n\n}\n</code></pre>\n<p>My ReadFunction.java</p>\n<pre><code>public interface ReadFunction&lt;R , T&gt; {\nT readValue(R object);\n\nclass Impl&lt;R, T&gt;\n    implements ReadFunction&lt;R, T&gt; {\n\n    private final Function&lt;R, T&gt; function;\n\n    public Impl(final Function&lt;R, T&gt; function) {\n        this.function = function;\n    }\n\n    @Override\n    public T readValue(final R object) {\n        return this.function.apply(object);\n    }\n}\n</code></pre>\n<p>How I create an invoke a read function</p>\n<pre><code>    ReadFunction&lt;MyObject, String&gt; ID_READ_FUNC = new ReadFunction.Impl&lt;&gt;(\n    MyObject::getId);\n    MyObject object = new MyObject()\n    String id = ID_READ_FUNC.readValue(object)\n</code></pre>\n<p>How can I define a create and invoke a read function that accepts a value as a parm? I would like to define the parm as part of the ReadFunction itself instead of supplying it to readValue method in interface</p>\n<p>I would essentially like to do something like this but instead have the &quot;key&quot; part of the method be defined as part of the constructor</p>\n<pre><code>ReadFunction&lt;MyObject, String&gt; MAP_VALUE_READ_FNC = new ReadFunction.Impl&lt;&gt;(\n        (myObject) -&gt; myObject.getValueFromMap(&quot;key&quot;))\n</code></pre>\n"},{"tags":["java","spring-boot","undertow"],"comments":[{"owner":{"account_id":102189,"reputation":1879,"user_id":274463,"accept_rate":100,"display_name":"Forge_7"},"score":0,"creation_date":1677252900,"post_id":69346207,"comment_id":133307059,"body_markdown":"did you ever get to the bottom of this?","body":"did you ever get to the bottom of this?"},{"owner":{"account_id":2047086,"reputation":1264,"user_id":1826943,"accept_rate":100,"display_name":"hecko84"},"score":2,"creation_date":1677265158,"post_id":69346207,"comment_id":133310330,"body_markdown":"Not really. I had some assumptions, but I was never able to nail it down as actually noone ever complained. When I think about it now,it can also be caused by the client. It&#39;s a service as well, but a .net one hosted on IIS. So maybe, that&#39;s the one that does the restart an kills the connection, which causes the stream to be closed on my side.","body":"Not really. I had some assumptions, but I was never able to nail it down as actually noone ever complained. When I think about it now,it can also be caused by the client. It&#39;s a service as well, but a .net one hosted on IIS. So maybe, that&#39;s the one that does the restart an kills the connection, which causes the stream to be closed on my side."},{"owner":{"account_id":12473846,"reputation":98,"user_id":9080974,"display_name":"Herry"},"score":0,"creation_date":1698059346,"post_id":69346207,"comment_id":136352813,"body_markdown":"I experience the same issue in 2023, if you found a fix, that would be very helpful.","body":"I experience the same issue in 2023, if you found a fix, that would be very helpful."}],"owner":{"account_id":2047086,"reputation":1264,"user_id":1826943,"accept_rate":100,"display_name":"hecko84"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":850,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":0,"score":4,"last_activity_date":1632744481,"creation_date":1632743957,"question_id":69346207,"body_markdown":"I have a spring-boot service in production that receives data via a REST interface, does some calculations, and stores the data to DB. Data is incoming very constant and nearly every day at midnight I see the time for processing the requests increasing popping out the IOException in the title.\r\nFrom my Microsoft days with IIS, I know that IIS was restarting regularly and now I&#39;m wondering if this is the case for undertow as well. Are there any config parameters that I&#39;m not aware of or are there other ideas what might got wrong?\r\n\r\nHere is the stacktrace\r\n\r\n    java.io.IOException: UT010029: Stream is closed\r\n    at io.undertow.servlet.spec.ServletOutputStreamImpl.write(ServletOutputStreamImpl.java:138)\r\n    at com.fasterxml.jackson.core.json.UTF8JsonGenerator._flushBuffer(UTF8JsonGenerator.java:2159)\r\n    at com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1173)\r\n    at com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1008)\r\n    at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:343)\r\n    at org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104)\r\n    at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:277)\r\n    at org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)\r\n    at org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82)\r\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:123)\r\n    at org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:407)\r\n    at org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:61)\r\n    at org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141)\r\n    at org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)\r\n    at org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1300)\r\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1111)\r\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)\r\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\r\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\r\n    at io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n    at io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n    at io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n    at io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n    at io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n    at io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\r\n    at io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n    at io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\r\n    at io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\r\n    at io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    at io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n    at io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n    at io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n    at io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n    at io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    at io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\r\n    at io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\r\n    at io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\r\n    at io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\r\n    at io.undertow.server.Connectors.executeRootHandler(Connectors.java:370)\r\n    at io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:836)\r\n    at org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n    at org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)\r\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)\r\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)\r\n    at java.lang.Thread.run(Thread.java:748) ","title":"Spring-boot - Undertow throws UT010029: Stream is closed","body":"<p>I have a spring-boot service in production that receives data via a REST interface, does some calculations, and stores the data to DB. Data is incoming very constant and nearly every day at midnight I see the time for processing the requests increasing popping out the IOException in the title.\nFrom my Microsoft days with IIS, I know that IIS was restarting regularly and now I'm wondering if this is the case for undertow as well. Are there any config parameters that I'm not aware of or are there other ideas what might got wrong?</p>\n<p>Here is the stacktrace</p>\n<pre><code>java.io.IOException: UT010029: Stream is closed\nat io.undertow.servlet.spec.ServletOutputStreamImpl.write(ServletOutputStreamImpl.java:138)\nat com.fasterxml.jackson.core.json.UTF8JsonGenerator._flushBuffer(UTF8JsonGenerator.java:2159)\nat com.fasterxml.jackson.core.json.UTF8JsonGenerator.flush(UTF8JsonGenerator.java:1173)\nat com.fasterxml.jackson.databind.ObjectWriter.writeValue(ObjectWriter.java:1008)\nat org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.writeInternal(AbstractJackson2HttpMessageConverter.java:343)\nat org.springframework.http.converter.AbstractGenericHttpMessageConverter.write(AbstractGenericHttpMessageConverter.java:104)\nat org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodProcessor.writeWithMessageConverters(AbstractMessageConverterMethodProcessor.java:277)\nat org.springframework.web.servlet.mvc.method.annotation.HttpEntityMethodProcessor.handleReturnValue(HttpEntityMethodProcessor.java:219)\nat org.springframework.web.method.support.HandlerMethodReturnValueHandlerComposite.handleReturnValue(HandlerMethodReturnValueHandlerComposite.java:82)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:123)\nat org.springframework.web.servlet.mvc.method.annotation.ExceptionHandlerExceptionResolver.doResolveHandlerMethodException(ExceptionHandlerExceptionResolver.java:407)\nat org.springframework.web.servlet.handler.AbstractHandlerMethodExceptionResolver.doResolveException(AbstractHandlerMethodExceptionResolver.java:61)\nat org.springframework.web.servlet.handler.AbstractHandlerExceptionResolver.resolveException(AbstractHandlerExceptionResolver.java:141)\nat org.springframework.web.servlet.handler.HandlerExceptionResolverComposite.resolveException(HandlerExceptionResolverComposite.java:80)\nat org.springframework.web.servlet.DispatcherServlet.processHandlerException(DispatcherServlet.java:1300)\nat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1111)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1057)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\nat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:517)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:584)\nat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:74)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:93)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\nat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\nat io.undertow.servlet.handlers.ServletChain$1.handleRequest(ServletChain.java:68)\nat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\nat io.undertow.servlet.handlers.RedirectDirHandler.handleRequest(RedirectDirHandler.java:68)\nat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:132)\nat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\nat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\nat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\nat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\nat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:269)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$100(ServletInitialHandler.java:78)\nat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:133)\nat io.undertow.servlet.handlers.ServletInitialHandler$2.call(ServletInitialHandler.java:130)\nat io.undertow.servlet.core.ServletRequestContextThreadSetupAction$1.call(ServletRequestContextThreadSetupAction.java:48)\nat io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\nat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:249)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:78)\nat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:99)\nat io.undertow.server.Connectors.executeRootHandler(Connectors.java:370)\nat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:836)\nat org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\nat org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:2019)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1558)\nat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1449)\nat java.lang.Thread.run(Thread.java:748) \n</code></pre>\n"},{"tags":["javascript","java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1632525296,"post_id":69321845,"comment_id":122525127,"body_markdown":"Didn’t I [already answer this](https://stackoverflow.com/questions/69245865/javafx-make-webview-behave-like-label-in-vbox/69276406#69276406)?","body":"Didn’t I <a href=\"https://stackoverflow.com/questions/69245865/javafx-make-webview-behave-like-label-in-vbox/69276406#69276406\">already answer this</a>?"},{"owner":{"account_id":11964995,"reputation":765,"user_id":8754958,"display_name":"Geoff L"},"score":0,"creation_date":1632526090,"post_id":69321845,"comment_id":122525251,"body_markdown":"Uh that was a different question asking if you could make a WebView function like a label. Your opinion was it could only be done using javascript in some way. You provided a great answer in the previous question thank you, and your suggestion was this could be done with Javascript. So I got halfway there with script but I can&#39;t get past the finish line. The link you provided helped a little bit but doesn&#39;t quite get there. I&#39;m following your advice, using script, but have run into a new problem.","body":"Uh that was a different question asking if you could make a WebView function like a label. Your opinion was it could only be done using javascript in some way. You provided a great answer in the previous question thank you, and your suggestion was this could be done with Javascript. So I got halfway there with script but I can&#39;t get past the finish line. The link you provided helped a little bit but doesn&#39;t quite get there. I&#39;m following your advice, using script, but have run into a new problem."},{"owner":{"account_id":11964995,"reputation":765,"user_id":8754958,"display_name":"Geoff L"},"score":0,"creation_date":1632526369,"post_id":69321845,"comment_id":122525288,"body_markdown":"They say in stackoverflow your questions should be specific to a single problem. If i added this to the previous question you get accused of &quot;not sticking to single question&quot;","body":"They say in stackoverflow your questions should be specific to a single problem. If i added this to the previous question you get accused of &quot;not sticking to single question&quot;"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1632527025,"post_id":69321845,"comment_id":122525372,"body_markdown":"Thanks for clarifying.","body":"Thanks for clarifying."}],"owner":{"account_id":11964995,"reputation":765,"user_id":8754958,"display_name":"Geoff L"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":187,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632744188,"creation_date":1632524694,"question_id":69321845,"body_markdown":"I have a JavaFX program that displays a WebView. This is in Java but I think its really a Javascript question. Here is the complete code:\r\n\r\nMain.java:\r\n\r\n    package main;\r\n    \r\n    import javafx.application.Application;\r\n    import javafx.beans.value.ChangeListener;\r\n    import javafx.beans.value.ObservableValue;\r\n    import javafx.concurrent.Worker;\r\n    import javafx.stage.Stage;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.layout.HBox;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.scene.web.WebEngine;\r\n    import javafx.scene.web.WebView;\r\n    \r\n    public class Main extends Application {\r\n        \r\n    \r\n    \tint viewsToLoad = 1;\r\n    \tint viewsLoaded = 0;\r\n    \t\t\r\n    \tVBox vBoxOuter;\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tpublic void start(Stage _primaryStage) {\r\n    \t\t\r\n    \t\t// the scene root is a VBox\r\n    \t\tvBoxOuter = new VBox();\r\n    \t\tvBoxOuter.setPrefWidth(400);\r\n    \t\tvBoxOuter.setPrefHeight(400);\r\n    \t\t\r\n    \t\t// this adds the inner VBox which contains the webview\r\n    \t\taddInnerVBox();\r\n    \t\t\r\n    \t\tScene scene = new Scene(vBoxOuter);\r\n    \t\tscene.getStylesheets().add(&quot;/main/styles.css&quot;);\r\n    \t\t_primaryStage.setTitle(&quot;Notes Program&quot;);\r\n    \t\t_primaryStage.setScene(scene);\r\n    \t\t_primaryStage.show();\r\n    \t}\r\n    \r\n    \tpublic void addInnerVBox() {\r\n    \t\t\r\n    \t\t// label accros the top of the vbox\r\n            // LABEL -&gt; RED BACKGROUND\r\n    \t\tHBox hBox = new HBox();\r\n    \t\tLabel label = new Label(&quot;This is a label&quot;);\r\n    \t\thBox.getChildren().add(label);\r\n    \t\tvBoxOuter.getChildren().add(hBox);\r\n    \t\t\r\n    \t\t\r\n    \t\t// then the webview\r\n            // WEBVIEW -&gt; WHITE BACKGROUND\r\n    \t\tWebView webView;\r\n    \t\tWebEngine webEngine;\r\n    \t\t\r\n    \t\tString textString = &quot;&quot;;\r\n    \t\ttextString += &quot;It&#39;s the end of the world as we know it and I feel fine. &quot;;\r\n    \t\ttextString += textString;\r\n    \t\ttextString += textString;\r\n    \t\ttextString += textString;\r\n    \t\t\r\n    \t\t// add a webview\r\n    \t\twebView = new WebView();\r\n    \t\twebEngine = webView.getEngine();\r\n    \t\t\r\n    \t\t// ini height of webView to 0 so that it doesnt stretch to fill the VBox before determining\r\n    \t\t// the ideal height to wrap contents\r\n            webView.setMinHeight(0);\r\n            webView.setMaxHeight(0);\r\n            webView.setPrefHeight(0);\r\n            vBoxOuter.getChildren().add(webView);\r\n            \r\n            \r\n            // resizing width of the webView\r\n            // need to dynamically resize height\r\n            webView.widthProperty().addListener((obs, oldVal, newVal) -&gt; {\r\n    \r\n            \tsetWebViewHeight(webView);\r\n            });\r\n            \r\n            \r\n    \t\t// this will fire after every time we load content into the editor\r\n    \t\twebEngine.getLoadWorker().stateProperty().addListener(\r\n    \t\t    \r\n        \t\tnew ChangeListener&lt;Object&gt;() {\t\t        \r\n    \t\t\t\t@Override\r\n    \t\t        public void changed(ObservableValue&lt;?&gt; observableValue, Object oldValue, Object newValue) {\r\n    \t\t\r\n    \t\t    \t\t// ok mamke sure loading the content ws successful, apparently this gets called a few times?\r\n    \t\t    \t\tif (newValue != Worker.State.SUCCEEDED) { \r\n    \t\t    \t\t\treturn; \r\n    \t    \t\t\t}\r\n    \t    \t\t\tviewsLoaded++;\r\n    \t\t    \t\tsetWebViewHeight(webView);\r\n    \t\t    \t};\r\n        \t\t}\r\n        \t);\r\n    \r\n    \t\twebEngine.loadContent(textString);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t// sets the height of the webview based on the height of its content\r\n    \t// only if all webviews have finished loading their contents, very important\r\n    \tpublic void setWebViewHeight(WebView webView) {\r\n    \t\t\r\n    \t\tif (viewsLoaded &lt; viewsToLoad) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\tWebEngine webEngine = webView.getEngine();\r\n    \t\t\r\n    \t\t// this works great as you decrease the width of the webview, causing the document/body to increase\r\n    \t\t// in height. But as you expand the width of the webview, the document/body height doesnt change\r\n    \t\tString heightText = webEngine.executeScript(  \r\n                    &quot;var body = document.body,&quot;\r\n                            + &quot;html = document.documentElement;&quot;\r\n                            + &quot;Math.max( body.scrollHeight , body.offsetHeight, &quot;\r\n                            + &quot;html.clientHeight, html.scrollHeight , html.offsetHeight );&quot;\r\n            ).toString();\r\n            System.out.println(&quot;heightText=&quot; + heightText);\r\n    \r\n            double height = Double.valueOf(heightText.replace(&quot;px&quot;, &quot;&quot;)); \r\n    \r\n            webView.setMinHeight(height);\r\n            webView.setMaxHeight(height);\r\n            webView.setPrefHeight(height);\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tlaunch(args);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\nIn the layout, I always want the WebView dimensions to fit its HTML contents perfectly, with no scroll and no extra space. I try to accomplish this with Javascript on the WebView contents. Here is an example on program load, where the height of the WebView is set to match the HTML contents, given the width of the WebView\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFine so far. So when the width of the Webview changes, I need to calculate what the height of the WebView should be, then set the height manually. Here&#39;s what it looks like when we shrink the width:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nPerfect. The height of the WebView increases to continue to fit its contents perfectly. The problem is if I shrink the width, then expand the width. This is what happens\r\n\r\n[![enter image description here][3]][3]:\r\n\r\nAs the width expands, it seems that the the Document and Body height don&#39;t decrease. So as it expands, the value returned from reading the body height is constant, and you can&#39;t figure the ideal height to set. So you just keep setting the same height as it expands.\r\n\r\nIf someone could help me with a way to continue to resize the WebView as the width expands this would be greatly appreciated. Maybe some Javascript could tell the document to fit its contents somehow but I can&#39;t find anything that does this. It&#39;s possible I could loop through every node in the HTML, get its height, add that all up, then set the body height that way, but this feels like a horrible hack. Furthermore, I could have many WebViews with unpredictable contents on the same page. Some native method would be much preferred.\r\n\r\nI did read the post here: https://stackoverflow.com/questions/42856471/correct-sizing-of-webview-embedded-in-tabelcell as recommended by another member but I don&#39;t believe it&#39;s what I&#39;m looking for.\r\n\r\nThanks in advance for your help.\r\n\r\n  [1]: https://i.stack.imgur.com/DO0Ry.png\r\n  [2]: https://i.stack.imgur.com/egXkT.png\r\n  [3]: https://i.stack.imgur.com/IODCp.png","title":"JavaFX Webview Manual Resize on Width Change JS Document.body won&#39;t change height","body":"<p>I have a JavaFX program that displays a WebView. This is in Java but I think its really a Javascript question. Here is the complete code:</p>\n<p>Main.java:</p>\n<pre><code>package main;\n\nimport javafx.application.Application;\nimport javafx.beans.value.ChangeListener;\nimport javafx.beans.value.ObservableValue;\nimport javafx.concurrent.Worker;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.HBox;\nimport javafx.scene.layout.VBox;\nimport javafx.scene.web.WebEngine;\nimport javafx.scene.web.WebView;\n\npublic class Main extends Application {\n    \n\n    int viewsToLoad = 1;\n    int viewsLoaded = 0;\n        \n    VBox vBoxOuter;\n    \n    \n    @Override\n    public void start(Stage _primaryStage) {\n        \n        // the scene root is a VBox\n        vBoxOuter = new VBox();\n        vBoxOuter.setPrefWidth(400);\n        vBoxOuter.setPrefHeight(400);\n        \n        // this adds the inner VBox which contains the webview\n        addInnerVBox();\n        \n        Scene scene = new Scene(vBoxOuter);\n        scene.getStylesheets().add(&quot;/main/styles.css&quot;);\n        _primaryStage.setTitle(&quot;Notes Program&quot;);\n        _primaryStage.setScene(scene);\n        _primaryStage.show();\n    }\n\n    public void addInnerVBox() {\n        \n        // label accros the top of the vbox\n        // LABEL -&gt; RED BACKGROUND\n        HBox hBox = new HBox();\n        Label label = new Label(&quot;This is a label&quot;);\n        hBox.getChildren().add(label);\n        vBoxOuter.getChildren().add(hBox);\n        \n        \n        // then the webview\n        // WEBVIEW -&gt; WHITE BACKGROUND\n        WebView webView;\n        WebEngine webEngine;\n        \n        String textString = &quot;&quot;;\n        textString += &quot;It's the end of the world as we know it and I feel fine. &quot;;\n        textString += textString;\n        textString += textString;\n        textString += textString;\n        \n        // add a webview\n        webView = new WebView();\n        webEngine = webView.getEngine();\n        \n        // ini height of webView to 0 so that it doesnt stretch to fill the VBox before determining\n        // the ideal height to wrap contents\n        webView.setMinHeight(0);\n        webView.setMaxHeight(0);\n        webView.setPrefHeight(0);\n        vBoxOuter.getChildren().add(webView);\n        \n        \n        // resizing width of the webView\n        // need to dynamically resize height\n        webView.widthProperty().addListener((obs, oldVal, newVal) -&gt; {\n\n            setWebViewHeight(webView);\n        });\n        \n        \n        // this will fire after every time we load content into the editor\n        webEngine.getLoadWorker().stateProperty().addListener(\n            \n            new ChangeListener&lt;Object&gt;() {              \n                @Override\n                public void changed(ObservableValue&lt;?&gt; observableValue, Object oldValue, Object newValue) {\n        \n                    // ok mamke sure loading the content ws successful, apparently this gets called a few times?\n                    if (newValue != Worker.State.SUCCEEDED) { \n                        return; \n                    }\n                    viewsLoaded++;\n                    setWebViewHeight(webView);\n                };\n            }\n        );\n\n        webEngine.loadContent(textString);\n    }\n    \n    \n    // sets the height of the webview based on the height of its content\n    // only if all webviews have finished loading their contents, very important\n    public void setWebViewHeight(WebView webView) {\n        \n        if (viewsLoaded &lt; viewsToLoad) {\n            return;\n        }\n        \n        WebEngine webEngine = webView.getEngine();\n        \n        // this works great as you decrease the width of the webview, causing the document/body to increase\n        // in height. But as you expand the width of the webview, the document/body height doesnt change\n        String heightText = webEngine.executeScript(  \n                &quot;var body = document.body,&quot;\n                        + &quot;html = document.documentElement;&quot;\n                        + &quot;Math.max( body.scrollHeight , body.offsetHeight, &quot;\n                        + &quot;html.clientHeight, html.scrollHeight , html.offsetHeight );&quot;\n        ).toString();\n        System.out.println(&quot;heightText=&quot; + heightText);\n\n        double height = Double.valueOf(heightText.replace(&quot;px&quot;, &quot;&quot;)); \n\n        webView.setMinHeight(height);\n        webView.setMaxHeight(height);\n        webView.setPrefHeight(height);\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>In the layout, I always want the WebView dimensions to fit its HTML contents perfectly, with no scroll and no extra space. I try to accomplish this with Javascript on the WebView contents. Here is an example on program load, where the height of the WebView is set to match the HTML contents, given the width of the WebView</p>\n<p><a href=\"https://i.stack.imgur.com/DO0Ry.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DO0Ry.png\" alt=\"enter image description here\" /></a></p>\n<p>Fine so far. So when the width of the Webview changes, I need to calculate what the height of the WebView should be, then set the height manually. Here's what it looks like when we shrink the width:</p>\n<p><a href=\"https://i.stack.imgur.com/egXkT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/egXkT.png\" alt=\"enter image description here\" /></a></p>\n<p>Perfect. The height of the WebView increases to continue to fit its contents perfectly. The problem is if I shrink the width, then expand the width. This is what happens</p>\n<p><a href=\"https://i.stack.imgur.com/IODCp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IODCp.png\" alt=\"enter image description here\" /></a>:</p>\n<p>As the width expands, it seems that the the Document and Body height don't decrease. So as it expands, the value returned from reading the body height is constant, and you can't figure the ideal height to set. So you just keep setting the same height as it expands.</p>\n<p>If someone could help me with a way to continue to resize the WebView as the width expands this would be greatly appreciated. Maybe some Javascript could tell the document to fit its contents somehow but I can't find anything that does this. It's possible I could loop through every node in the HTML, get its height, add that all up, then set the body height that way, but this feels like a horrible hack. Furthermore, I could have many WebViews with unpredictable contents on the same page. Some native method would be much preferred.</p>\n<p>I did read the post here: <a href=\"https://stackoverflow.com/questions/42856471/correct-sizing-of-webview-embedded-in-tabelcell\">Correct sizing of Webview embedded in Tabelcell</a> as recommended by another member but I don't believe it's what I'm looking for.</p>\n<p>Thanks in advance for your help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1632743989,"post_id":69346141,"comment_id":122567616,"body_markdown":"You get the 2 extra elements because you do: 1. `int ListSize = (intInput3) + 1;` adding 1 to your list size for whatever reason will make the list 1 bigger than intended. 2. your loop `for (i = 0; i &lt;= ListSize; i++)` starts at 0 and will only end when `i` get bigger than `listSize`, this will give you another extra element: So when you enter `3` for listsize you add one to it and have `listSize = 4`, then in your loop you loop starting from 0 to 4 (inclusive), meaning you will get an iteration for 0, 1, 2, 3 and 4. Which is five elements.","body":"You get the 2 extra elements because you do: 1. <code>int ListSize = (intInput3) + 1;</code> adding 1 to your list size for whatever reason will make the list 1 bigger than intended. 2. your loop <code>for (i = 0; i &lt;= ListSize; i++)</code> starts at 0 and will only end when <code>i</code> get bigger than <code>listSize</code>, this will give you another extra element: So when you enter <code>3</code> for listsize you add one to it and have <code>listSize = 4</code>, then in your loop you loop starting from 0 to 4 (inclusive), meaning you will get an iteration for 0, 1, 2, 3 and 4. Which is five elements."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1646730145,"post_id":69346141,"comment_id":126190128,"body_markdown":"Does this answer your question? [How do I generate random integers within a specific range in Java?](https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/363681/how-do-i-generate-random-integers-within-a-specific-range-in-java\">How do I generate random integers within a specific range in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":19870082,"reputation":489,"user_id":14556461,"display_name":"Pawel Woroniecki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632743957,"creation_date":1632743957,"answer_id":69346208,"question_id":69346141,"body_markdown":"Simply always add `5` (or more specifically - `intInput1` in your case as it seems it&#39;s lower range value) to generated numbers so it will be in the range you need (0+5=5, 5+5=10 so it will be in range 5,10)","title":"How to generate a certain amount of random numbers within a range in Java?","body":"<p>Simply always add <code>5</code> (or more specifically - <code>intInput1</code> in your case as it seems it's lower range value) to generated numbers so it will be in the range you need (0+5=5, 5+5=10 so it will be in range 5,10)</p>\n"},{"tags":[],"owner":{"account_id":14927040,"reputation":358,"user_id":10777578,"display_name":"Julian Kreuzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632744152,"creation_date":1632744152,"answer_id":69346251,"question_id":69346141,"body_markdown":"Here an IntStream you can later than use limit to set the amount of numbers you want.\r\n\r\n    public static IntStream numbersBetween(int from, int to){\r\n    return new Random().ints().map(e -&gt; Math.abs(e % ((to+1) - from)) + from);\r\n    }","title":"How to generate a certain amount of random numbers within a range in Java?","body":"<p>Here an IntStream you can later than use limit to set the amount of numbers you want.</p>\n<pre><code>public static IntStream numbersBetween(int from, int to){\nreturn new Random().ints().map(e -&gt; Math.abs(e % ((to+1) - from)) + from);\n}\n</code></pre>\n"}],"owner":{"account_id":22803973,"reputation":1,"user_id":16956247,"display_name":"Joalize Minnaar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1632744152,"creation_date":1632743720,"question_id":69346141,"body_markdown":"I&#39;m trying to make a small program that allows you to generate a certain amount of numbers within a range,  but it does not work as expected.\r\n\r\nFor example, if I ask the program to generate 3 random numbers between 5 and 10 it gives me 5 random numbers between 0 and 5.\r\n\r\n     private void jFillActionPerformed(java.awt.event.ActionEvent evt) {                                      \r\n        \r\n        int intInput1;\r\n        int intInput2;\r\n        int intInput3;\r\n        int i;\r\n        int RandomNumber;\r\n        \r\n        intInput1 = Integer.parseInt(txtInput1.getText());\r\n        intInput2 = Integer.parseInt(txtInput2.getText());\r\n        intInput3 = Integer.parseInt(txtInput3.getText());\r\n        \r\n        int ListSize = (intInput3) + 1;\r\n      \r\n        Random rnd = new Random();\r\n        for (i = 0; i &lt;= ListSize; i++)\r\n        {\r\n            RandomNumber = rnd.nextInt((intInput2 - intInput1) + 1);\r\n            fill.addElement(RandomNumber);\r\n            lstNumbers.setModel(fill);\r\n        }\r\n\r\n\r\n","title":"How to generate a certain amount of random numbers within a range in Java?","body":"<p>I'm trying to make a small program that allows you to generate a certain amount of numbers within a range,  but it does not work as expected.</p>\n<p>For example, if I ask the program to generate 3 random numbers between 5 and 10 it gives me 5 random numbers between 0 and 5.</p>\n<pre><code> private void jFillActionPerformed(java.awt.event.ActionEvent evt) {                                      \n    \n    int intInput1;\n    int intInput2;\n    int intInput3;\n    int i;\n    int RandomNumber;\n    \n    intInput1 = Integer.parseInt(txtInput1.getText());\n    intInput2 = Integer.parseInt(txtInput2.getText());\n    intInput3 = Integer.parseInt(txtInput3.getText());\n    \n    int ListSize = (intInput3) + 1;\n  \n    Random rnd = new Random();\n    for (i = 0; i &lt;= ListSize; i++)\n    {\n        RandomNumber = rnd.nextInt((intInput2 - intInput1) + 1);\n        fill.addElement(RandomNumber);\n        lstNumbers.setModel(fill);\n    }\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":14084633,"reputation":2261,"user_id":10174651,"display_name":"欧阳斌"},"score":1,"creation_date":1632743266,"post_id":69346019,"comment_id":122567332,"body_markdown":"`private long parentId` try it but not guarantee of success","body":"<code>private long parentId</code> try it but not guarantee of success"},{"owner":{"account_id":3505857,"reputation":5593,"user_id":2931410,"accept_rate":33,"display_name":"Karthik R"},"score":1,"creation_date":1632743342,"post_id":69346019,"comment_id":122567363,"body_markdown":"You can assign default value for `parentId` as `0` in your Page object/DTO. Any issues there?","body":"You can assign default value for <code>parentId</code> as <code>0</code> in your Page object/DTO. Any issues there?"}],"answers":[{"tags":[],"owner":{"account_id":10642195,"reputation":5360,"user_id":7836833,"display_name":"deepakchethan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632743573,"creation_date":1632743573,"answer_id":69346116,"question_id":69346019,"body_markdown":"You should be able to initialise the default value, it will automatically assign that instead.\r\n```\r\n@JsonInclude(\r\n  value = JsonInclude.Include.NON_EMPTY,\r\n  content = JsonInclude.Include.NON_EMPTY)\r\npublic class Page {\r\n  private long id = 0;\r\n  private long parentId = 0;\r\n}\r\n```","title":"spring boot @RequstBody convert blank string to zero of long","body":"<p>You should be able to initialise the default value, it will automatically assign that instead.</p>\n<pre><code>@JsonInclude(\n  value = JsonInclude.Include.NON_EMPTY,\n  content = JsonInclude.Include.NON_EMPTY)\npublic class Page {\n  private long id = 0;\n  private long parentId = 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632743823,"creation_date":1632743823,"answer_id":69346171,"question_id":69346019,"body_markdown":"If initializing the attribute in the `Page` class is not feasible or you also don&#39;t want to change the attribute from `Long` to `long` then you can implement a custom Jackson deserializer as follows:\r\n```java\r\npublic class CustomLongDeserializer extends JsonDeserializer&lt;Long&gt; {\r\n\r\n    @Override\r\n    public Long deserialize(JsonParser jp, DeserializationContext ctxt) \r\n      throws IOException, JsonProcessingException {\r\n\r\n        String text = jp.getText();\r\n        if (text == null || text.isEmpty()) {\r\n            return 0;\r\n        } else {\r\n            return Long.valueOf(text);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen you just need to configure its usage on the respective attribute:\r\n```java\r\npublic class Page{\r\n  private Long id;\r\n  \r\n  @JsonDeserialize(using = CustomLongDeserializer.class)\r\n  private Long parentId;\r\n}\r\n```","title":"spring boot @RequstBody convert blank string to zero of long","body":"<p>If initializing the attribute in the <code>Page</code> class is not feasible or you also don't want to change the attribute from <code>Long</code> to <code>long</code> then you can implement a custom Jackson deserializer as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomLongDeserializer extends JsonDeserializer&lt;Long&gt; {\n\n    @Override\n    public Long deserialize(JsonParser jp, DeserializationContext ctxt) \n      throws IOException, JsonProcessingException {\n\n        String text = jp.getText();\n        if (text == null || text.isEmpty()) {\n            return 0;\n        } else {\n            return Long.valueOf(text);\n        }\n    }\n}\n</code></pre>\n<p>Then you just need to configure its usage on the respective attribute:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Page{\n  private Long id;\n  \n  @JsonDeserialize(using = CustomLongDeserializer.class)\n  private Long parentId;\n}\n</code></pre>\n"}],"owner":{"account_id":13399768,"reputation":41,"user_id":9669676,"display_name":"J.Wang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":393,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632743823,"creation_date":1632743100,"question_id":69346019,"body_markdown":"ajax send json like \r\n```json\r\n{\r\n  &quot;id&quot;:&quot;123123&quot;\r\n  &quot;parentId&quot;:&quot;&quot;,\r\n},\r\n```\r\njava class is:\r\n```java \r\npublic class Page{\r\n  private Long id;\r\n  private Long parentId;\r\n}\r\n```\r\n```json\r\nas default, i get\r\n{\r\n  &quot;id&quot;:123123\r\n  &quot;parentId&quot;:null\r\n}\r\n```\r\n\r\nbut i want parentId to be zero,\r\nwhat should i do ?\r\nthanks very much\r\n\r\n","title":"spring boot @RequstBody convert blank string to zero of long","body":"<p>ajax send json like</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;:&quot;123123&quot;\n  &quot;parentId&quot;:&quot;&quot;,\n},\n</code></pre>\n<p>java class is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Page{\n  private Long id;\n  private Long parentId;\n}\n</code></pre>\n<pre class=\"lang-json prettyprint-override\"><code>as default, i get\n{\n  &quot;id&quot;:123123\n  &quot;parentId&quot;:null\n}\n</code></pre>\n<p>but i want parentId to be zero,\nwhat should i do ?\nthanks very much</p>\n"},{"tags":["java","cmd","process"],"comments":[{"owner":{"account_id":14927040,"reputation":358,"user_id":10777578,"display_name":"Julian Kreuzer"},"score":0,"creation_date":1632742517,"post_id":69345842,"comment_id":122567034,"body_markdown":"Why do you want to delete it right when the user closes it?","body":"Why do you want to delete it right when the user closes it?"},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1632742692,"post_id":69345842,"comment_id":122567099,"body_markdown":"That&#39;s very brittle. Test what happens if there is no default application associated with PDF ... also, what I would be suspecting is that the Process that starts for images just starts another process (32 =&gt; 64 bit switch? Or vice versa?) and exits.","body":"That&#39;s very brittle. Test what happens if there is no default application associated with PDF ... also, what I would be suspecting is that the Process that starts for images just starts another process (32 =&gt; 64 bit switch? Or vice versa?) and exits."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1632742745,"post_id":69345842,"comment_id":122567118,"body_markdown":"This could be down to how Windows Photos works: if the first process starts another process, then the first process quits, you&#39;ll only see that the first process has quit.","body":"This could be down to how Windows Photos works: if the first process starts another process, then the first process quits, you&#39;ll only see that the first process has quit."},{"owner":{"account_id":3498606,"reputation":5166,"user_id":2925962,"accept_rate":0,"display_name":"akortex"},"score":0,"creation_date":1632742805,"post_id":69345842,"comment_id":122567148,"body_markdown":"I was about to write the same comment as @Fildor. What you are attempting to do can be very counter-intuitive. My best guess is that the process spawns another process, hence the reason why you do not see your code wait for it.","body":"I was about to write the same comment as @Fildor. What you are attempting to do can be very counter-intuitive. My best guess is that the process spawns another process, hence the reason why you do not see your code wait for it."},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1632742982,"post_id":69345842,"comment_id":122567224,"body_markdown":"Baseline: I&#39;d really advise to use In-Process Viewers rather than relying on out-of-process default viewers that may or may not even be there on different systems.","body":"Baseline: I&#39;d really advise to use In-Process Viewers rather than relying on out-of-process default viewers that may or may not even be there on different systems."},{"owner":{"account_id":15563510,"reputation":58,"user_id":11228012,"display_name":"Aleksandar Cvisic"},"score":0,"creation_date":1632745160,"post_id":69345842,"comment_id":122568043,"body_markdown":"@Fildor Well if Process starts another process when opening an image, and doesn&#39;t start another process when opening a textual document, then it must be something about Windows Photos which is used by the system to open images like Andy said in the comments.","body":"@Fildor Well if Process starts another process when opening an image, and doesn&#39;t start another process when opening a textual document, then it must be something about Windows Photos which is used by the system to open images like Andy said in the comments."},{"owner":{"account_id":15563510,"reputation":58,"user_id":11228012,"display_name":"Aleksandar Cvisic"},"score":0,"creation_date":1632745205,"post_id":69345842,"comment_id":122568065,"body_markdown":"@AndyTurner I will set another program to open images and then try again.","body":"@AndyTurner I will set another program to open images and then try again."},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":0,"creation_date":1632746175,"post_id":69345842,"comment_id":122568452,"body_markdown":"@rayDonovan Exactly.","body":"@rayDonovan Exactly."},{"owner":{"account_id":15563510,"reputation":58,"user_id":11228012,"display_name":"Aleksandar Cvisic"},"score":0,"creation_date":1632746631,"post_id":69345842,"comment_id":122568660,"body_markdown":"Just to confirm, the problem was Windows Photos, other photo viewers or even paint work properly. Now why Windows Photos acts like that is a mistery.","body":"Just to confirm, the problem was Windows Photos, other photo viewers or even paint work properly. Now why Windows Photos acts like that is a mistery."},{"owner":{"account_id":957028,"reputation":15143,"user_id":982149,"accept_rate":100,"display_name":"Fildor"},"score":1,"creation_date":1632816859,"post_id":69345842,"comment_id":122588852,"body_markdown":"@rayDonovan Not exactly a mistery. If I remeber correctly, (not 100% sure) by default, the 32 bit Version starts and checks if the system is 64 bit. If so, it hands over to its 64-bit version. (or something similar to that, but I may be mistaken. It&#39;s been a while since I had to deal with this)","body":"@rayDonovan Not exactly a mistery. If I remeber correctly, (not 100% sure) by default, the 32 bit Version starts and checks if the system is 64 bit. If so, it hands over to its 64-bit version. (or something similar to that, but I may be mistaken. It&#39;s been a while since I had to deal with this)"}],"answers":[{"tags":[],"owner":{"account_id":14927040,"reputation":358,"user_id":10777578,"display_name":"Julian Kreuzer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632743467,"creation_date":1632743467,"answer_id":69346091,"question_id":69345842,"body_markdown":"You can delete the file when your program exits. Why do you want that the File is delete right after the file is closed?\r\n\r\n    File file = new File(&quot;path&quot;);\r\n    file.deleteOnExit();\r\n","title":"Simple java Process for opening files ends inexplicably","body":"<p>You can delete the file when your program exits. Why do you want that the File is delete right after the file is closed?</p>\n<pre><code>File file = new File(&quot;path&quot;);\nfile.deleteOnExit();\n</code></pre>\n"}],"owner":{"account_id":15563510,"reputation":58,"user_id":11228012,"display_name":"Aleksandar Cvisic"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632743467,"creation_date":1632742319,"question_id":69345842,"body_markdown":"Part of my program needs to open files and documents, wait until user manually closes them and then deletes them. So I have a separate thread that just opens the file with Process class and waits for the Process to end, than it deletes the file. Here is the code:\r\n```\r\n@Override\r\n\tpublic void run() {\r\n\t\ttry {\r\n\t\t\tProcessBuilder ps=new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/C&quot;,path);\r\n\t\t\tProcess p=ps.start();\r\n\t\t\tp.waitFor();\r\n\t\t\tps=new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/C&quot;,&quot;del&quot;,path);\r\n\t\t\tp=ps.start();\r\n\t\t\tp.waitFor();\r\n\t\t}catch(IOException | InterruptedException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n```\r\nThis works with pdf, txt or docx documents, but it doesn&#39;t work with images, the png or jpg files. In case of an image, thread opens the image with Windows Photos program but doesn&#39;t wait for process to end, instead it acts like the process is already dead and proceedes to delete it right after opening it, so instead of an image I see this:\r\n[![enter image description here][1]][1]\r\n\r\nMy question is why does it act like the Process is immediately dead when I open PNG or JPG files, but it works normally when I open PDF, TXT, DOCX files? Is the problem in Windows Photos viewer maybe?\r\n\r\nI managed to open image files adding\r\n```\r\nThread.sleep(5000);\r\n```\r\nright after opening an image, but it still deletes the image after 5 seconds, it just somehow still stays open in Windows Photos viewer even if it has been deleted. Clearly this is not the solution, I want to properly solve this situation.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zgif2.png","title":"Simple java Process for opening files ends inexplicably","body":"<p>Part of my program needs to open files and documents, wait until user manually closes them and then deletes them. So I have a separate thread that just opens the file with Process class and waits for the Process to end, than it deletes the file. Here is the code:</p>\n<pre><code>@Override\n    public void run() {\n        try {\n            ProcessBuilder ps=new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/C&quot;,path);\n            Process p=ps.start();\n            p.waitFor();\n            ps=new ProcessBuilder(&quot;cmd.exe&quot;,&quot;/C&quot;,&quot;del&quot;,path);\n            p=ps.start();\n            p.waitFor();\n        }catch(IOException | InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>This works with pdf, txt or docx documents, but it doesn't work with images, the png or jpg files. In case of an image, thread opens the image with Windows Photos program but doesn't wait for process to end, instead it acts like the process is already dead and proceedes to delete it right after opening it, so instead of an image I see this:\n<a href=\"https://i.stack.imgur.com/zgif2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zgif2.png\" alt=\"enter image description here\" /></a></p>\n<p>My question is why does it act like the Process is immediately dead when I open PNG or JPG files, but it works normally when I open PDF, TXT, DOCX files? Is the problem in Windows Photos viewer maybe?</p>\n<p>I managed to open image files adding</p>\n<pre><code>Thread.sleep(5000);\n</code></pre>\n<p>right after opening an image, but it still deletes the image after 5 seconds, it just somehow still stays open in Windows Photos viewer even if it has been deleted. Clearly this is not the solution, I want to properly solve this situation.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1632694366,"post_id":69338802,"comment_id":122555278,"body_markdown":"Why do you need the whole object as a `String` to do some validation? What kind of validation?","body":"Why do you need the whole object as a <code>String</code> to do some validation? What kind of validation?"},{"owner":{"account_id":16320708,"reputation":110,"user_id":11786580,"display_name":"lilBunnyRabbit"},"score":0,"creation_date":1632697662,"post_id":69338802,"comment_id":122555857,"body_markdown":"@Jo&#227;oDias I need to verify the Ed25519 signature","body":"@Jo&#227;oDias I need to verify the Ed25519 signature"},{"owner":{"account_id":16320708,"reputation":110,"user_id":11786580,"display_name":"lilBunnyRabbit"},"score":0,"creation_date":1632697767,"post_id":69338802,"comment_id":122555872,"body_markdown":"To be more exact I need to implement this in Spring Boot https://canary.discord.com/developers/docs/interactions/slash-commands#security-and-authorization","body":"To be more exact I need to implement this in Spring Boot <a href=\"https://canary.discord.com/developers/docs/interactions/slash-commands#security-and-authorization\" rel=\"nofollow noreferrer\">canary.discord.com/developers/docs/interactions/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632743370,"creation_date":1632699685,"answer_id":69339793,"question_id":69338802,"body_markdown":"I believe that a custom `HandlerMethodArgumentResolver` is your best option.\r\nFor that I suggest you create a custom annotation as follows:\r\n```java\r\n@Target({ElementType.PARAMETER})\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface ValidJsonSignature { }\r\n```\r\n\r\nNow you need to implement the custom `HandlerMethodArgumentResolver`:\r\n```java\r\npublic class JsonSignatureValidationArgumentResolver implements HandlerMethodArgumentResolver {\r\n \r\n    private final ObjectMapper objectMapper;\r\n \r\n    public JsonSignatureValidationArgumentResolver(ObjectMapper objectMapper) {\r\n        this.objectMapper = objectMapper;\r\n    }\r\n \r\n    @Override\r\n    public boolean supportsParameter(MethodParameter methodParameter) {\r\n        return methodParameter.getParameterAnnotation(ValidJsonSignature.class) != null;\r\n    }\r\n     \r\n    @Override\r\n    public Object resolveArgument(MethodParameter methodParameter, ModelAndViewContainer modelAndViewContainer, NativeWebRequest nativeWebRequest, WebDataBinderFactory webDataBinderFactory) throws Exception {\r\n        HttpServletRequest httpServletRequest = nativeWebRequest.getNativeRequest(HttpServletRequest.class);\r\n        String jsonPayload = StreamUtils.copyToString(httpServletRequest.getInputStream(), StandardCharsets.UTF_8);\r\n     \r\n        // Do actual validation here\r\n     \r\n        if (// Valid) {\r\n            // If valid, then convert String to method parameter type and return it\r\n            return objectMapper.treeToValue(objectMapper.readTree(jsonPayload), methodParameter.getParameterType());\r\n        } else {\r\n          // Throw exception if validation failed\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNext, you need to register `JsonSignatureValidationArgumentResolver` as an argument resolver:\r\n```java\r\n@Configuration\r\npublic class JsonSignatureValidationConfiguraion implements WebMvcConfigurer {\r\n \r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n \r\n    @Override\r\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\r\n        resolvers.add(new JsonSignatureValidationArgumentResolver(objectMapper));\r\n    }\r\n}\r\n```\r\n\r\nLast but not the least, you need to annotate the Controller attribute with `@ValidJsonSignature` as follows:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/example&quot;)\r\npublic class ExampleController {\r\n\r\n    @PostMapping(&quot;&quot;)\r\n    public void example(@ValidJsonSignature ExampleRequest exampleRequest) {\r\n    }\r\n}\r\n```","title":"Parse RequestBody as two different objects in Spring boot","body":"<p>I believe that a custom <code>HandlerMethodArgumentResolver</code> is your best option.\nFor that I suggest you create a custom annotation as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Target({ElementType.PARAMETER})\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface ValidJsonSignature { }\n</code></pre>\n<p>Now you need to implement the custom <code>HandlerMethodArgumentResolver</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class JsonSignatureValidationArgumentResolver implements HandlerMethodArgumentResolver {\n \n    private final ObjectMapper objectMapper;\n \n    public JsonSignatureValidationArgumentResolver(ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n \n    @Override\n    public boolean supportsParameter(MethodParameter methodParameter) {\n        return methodParameter.getParameterAnnotation(ValidJsonSignature.class) != null;\n    }\n     \n    @Override\n    public Object resolveArgument(MethodParameter methodParameter, ModelAndViewContainer modelAndViewContainer, NativeWebRequest nativeWebRequest, WebDataBinderFactory webDataBinderFactory) throws Exception {\n        HttpServletRequest httpServletRequest = nativeWebRequest.getNativeRequest(HttpServletRequest.class);\n        String jsonPayload = StreamUtils.copyToString(httpServletRequest.getInputStream(), StandardCharsets.UTF_8);\n     \n        // Do actual validation here\n     \n        if (// Valid) {\n            // If valid, then convert String to method parameter type and return it\n            return objectMapper.treeToValue(objectMapper.readTree(jsonPayload), methodParameter.getParameterType());\n        } else {\n          // Throw exception if validation failed\n        }\n    }\n}\n</code></pre>\n<p>Next, you need to register <code>JsonSignatureValidationArgumentResolver</code> as an argument resolver:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JsonSignatureValidationConfiguraion implements WebMvcConfigurer {\n \n    @Autowired\n    private ObjectMapper objectMapper;\n \n    @Override\n    public void addArgumentResolvers(List&lt;HandlerMethodArgumentResolver&gt; resolvers) {\n        resolvers.add(new JsonSignatureValidationArgumentResolver(objectMapper));\n    }\n}\n</code></pre>\n<p>Last but not the least, you need to annotate the Controller attribute with <code>@ValidJsonSignature</code> as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/example&quot;)\npublic class ExampleController {\n\n    @PostMapping(&quot;&quot;)\n    public void example(@ValidJsonSignature ExampleRequest exampleRequest) {\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16320708,"reputation":110,"user_id":11786580,"display_name":"lilBunnyRabbit"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1464,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69339793,"answer_count":1,"score":1,"last_activity_date":1632743370,"creation_date":1632688977,"question_id":69338802,"body_markdown":"In my Spring Boot application (`2.5.5`) I get a large JSON body in the `POST` request to a specific endpoint. On that request I need to get both the parsed object and that whole object as a string to do some validation. The JSON object contains a lot of information that I don&#39;t need so that is not included in the Object so I can&#39;t convert it to a string.\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/example&quot;)\r\npublic class ExampleController {\r\n\r\n    @PostMapping(&quot;&quot;)\r\n    public void example(\r\n        @RequestBody String stringBody,\r\n        @RequestBody ExampleRequest exampleRequest\r\n    ) {\r\n        // Validate request with &#39;stringBody&#39;\r\n        // Do things with &#39;exampleRequest&#39;\r\n    }\r\n\r\n}\r\n```\r\n\r\nThe best idea I had so far is to just use `@RequestBody String stringBody` and then convert that string to a JSON object but that is really not the ideal solution.\r\n\r\nI know that you can&#39;t have two `@RequestBody` but I really need to somehow have both.","title":"Parse RequestBody as two different objects in Spring boot","body":"<p>In my Spring Boot application (<code>2.5.5</code>) I get a large JSON body in the <code>POST</code> request to a specific endpoint. On that request I need to get both the parsed object and that whole object as a string to do some validation. The JSON object contains a lot of information that I don't need so that is not included in the Object so I can't convert it to a string.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/example&quot;)\npublic class ExampleController {\n\n    @PostMapping(&quot;&quot;)\n    public void example(\n        @RequestBody String stringBody,\n        @RequestBody ExampleRequest exampleRequest\n    ) {\n        // Validate request with 'stringBody'\n        // Do things with 'exampleRequest'\n    }\n\n}\n</code></pre>\n<p>The best idea I had so far is to just use <code>@RequestBody String stringBody</code> and then convert that string to a JSON object but that is really not the ideal solution.</p>\n<p>I know that you can't have two <code>@RequestBody</code> but I really need to somehow have both.</p>\n"},{"tags":["java","android","react-native","hybrid-mobile-app"],"comments":[{"owner":{"account_id":7538156,"reputation":271,"user_id":5723796,"accept_rate":33,"display_name":"Sagar Thakarar"},"score":0,"creation_date":1632743609,"post_id":69346027,"comment_id":122567472,"body_markdown":"Try this https://reactnative.dev/docs/native-modules-android","body":"Try this <a href=\"https://reactnative.dev/docs/native-modules-android\" rel=\"nofollow noreferrer\">reactnative.dev/docs/native-modules-android</a>"},{"owner":{"account_id":12986267,"reputation":455,"user_id":14310836,"display_name":"Pro"},"score":0,"creation_date":1632744360,"post_id":69346027,"comment_id":122567744,"body_markdown":"Ohh...thanks a lot! I think that will work!","body":"Ohh...thanks a lot! I think that will work!"}],"owner":{"account_id":12986267,"reputation":455,"user_id":14310836,"display_name":"Pro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632743157,"creation_date":1632743157,"question_id":69346027,"body_markdown":"I am planning to build an app with react native but the problem is that it has a few functions(for eg. monitoring which apps are running in background and pushing notifications if any of the selected apps are being used) which can&#39;t be built with react native..So is it possible to build that entire app using react native and these parts using java?","title":"Can i build some parts of a react native app with java","body":"<p>I am planning to build an app with react native but the problem is that it has a few functions(for eg. monitoring which apps are running in background and pushing notifications if any of the selected apps are being used) which can't be built with react native..So is it possible to build that entire app using react native and these parts using java?</p>\n"},{"tags":["java","ibm-mq"],"comments":[{"owner":{"account_id":1475,"reputation":533764,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":0,"creation_date":1632737774,"post_id":69344878,"comment_id":122565207,"body_markdown":"Is this really a distinct question from https://stackoverflow.com/q/69344838/1968?","body":"Is this really a distinct question from <a href=\"https://stackoverflow.com/q/69344838/1968\">stackoverflow.com/q/69344838/1968</a>?"},{"owner":{"account_id":6826727,"reputation":963,"user_id":5252244,"accept_rate":50,"display_name":"Jib&#39;z"},"score":0,"creation_date":1632741457,"post_id":69344878,"comment_id":122566640,"body_markdown":"For me this 2 diff&#233;rent problem so 2 different question can be asked","body":"For me this 2 diff&#233;rent problem so 2 different question can be asked"},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1632742491,"post_id":69344878,"comment_id":122567029,"body_markdown":"Did you create the default objects or not? See docker instructions about env vars say about MQ_DEV - Set this to false to stop the default objects being created.","body":"Did you create the default objects or not? See docker instructions about env vars say about MQ_DEV - Set this to false to stop the default objects being created."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1632742532,"post_id":69344878,"comment_id":122567037,"body_markdown":"How did you check for the SYSTEM.DEFAULT.MODEL.QUEUE.  this should exist.   The error indicates you are missing permission to the queue, if it didn&#39;t exist you would get 2085 MQRC_UNKNOWN_OBJECT_NAME, unless the 2035 is related to the queue Manger not the queue.","body":"How did you check for the SYSTEM.DEFAULT.MODEL.QUEUE.  this should exist.   The error indicates you are missing permission to the queue, if it didn&#39;t exist you would get 2085 MQRC_UNKNOWN_OBJECT_NAME, unless the 2035 is related to the queue Manger not the queue."}],"answers":[{"tags":[],"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632742889,"creation_date":1632742889,"answer_id":69345967,"question_id":69344878,"body_markdown":"According to the [Default developer configuration][1], users in `mqclient` group (which will be what you are using) have been given access to all queues and topics starting with `DEV.**` and have `put`, `get`, `pub`, `sub`, `browse` and `inq` permissions.\r\n\r\nYou are trying to use a queue that does not start with `DEV.**` so you will first need to set appropriate authority for the users in the `mqclient` group to do this. They will also need `dsp` authority in order to create a temporary queue from a model.\r\n\r\n    SET AUTHREC GROUP(&#39;mqclient&#39;) OBJTYPE(QUEUE) PROFILE(SYSTEM.DEFAULT.MODEL.QUEUE)    AUTHADD(GET,PUT,DSP)\r\n\r\n  [1]: https://github.com/ibm-messaging/mq-container/blob/master/docs/developer-config.md","title":"Cannot create temporary queue with default app user","body":"<p>According to the <a href=\"https://github.com/ibm-messaging/mq-container/blob/master/docs/developer-config.md\" rel=\"nofollow noreferrer\">Default developer configuration</a>, users in <code>mqclient</code> group (which will be what you are using) have been given access to all queues and topics starting with <code>DEV.**</code> and have <code>put</code>, <code>get</code>, <code>pub</code>, <code>sub</code>, <code>browse</code> and <code>inq</code> permissions.</p>\n<p>You are trying to use a queue that does not start with <code>DEV.**</code> so you will first need to set appropriate authority for the users in the <code>mqclient</code> group to do this. They will also need <code>dsp</code> authority in order to create a temporary queue from a model.</p>\n<pre><code>SET AUTHREC GROUP('mqclient') OBJTYPE(QUEUE) PROFILE(SYSTEM.DEFAULT.MODEL.QUEUE)    AUTHADD(GET,PUT,DSP)\n</code></pre>\n"}],"owner":{"account_id":6826727,"reputation":963,"user_id":5252244,"accept_rate":50,"display_name":"Jib&#39;z"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69345967,"answer_count":1,"score":0,"last_activity_date":1632742889,"creation_date":1632737463,"question_id":69344878,"body_markdown":"I am new to MQ and I am using this [docker image][1] with the default setting.\r\nI need to connect through a java application (but without websphere).\r\n\r\nI use the **app** user. This one can connect to the &quot;DEV.APP.SVRCONN&quot; channel without problem but i need to create a temporary queue (in order to get a response) and it fail to create it with the following error :\r\n\r\n    JMSWMQ2008: Failed to open MQ queue &#39;SYSTEM.DEFAULT.MODEL.QUEUE&#39;\r\n\r\nCause by this error :\r\n\r\n    com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode &#39;2&#39; (&#39;MQCC_FAILED&#39;) reason &#39;2035&#39; (&#39;MQRC_NOT_AUTHORIZED&#39;).\r\n\r\nI checked with the MQ Manager and the &quot;SYSTEM.DEFAULT.MODEL.QUEUE&quot; does not exist, should i need to create it ?\r\n\r\n\r\n  [1]: https://hub.docker.com/r/ibmcom/mq","title":"Cannot create temporary queue with default app user","body":"<p>I am new to MQ and I am using this <a href=\"https://hub.docker.com/r/ibmcom/mq\" rel=\"nofollow noreferrer\">docker image</a> with the default setting.\nI need to connect through a java application (but without websphere).</p>\n<p>I use the <strong>app</strong> user. This one can connect to the &quot;DEV.APP.SVRCONN&quot; channel without problem but i need to create a temporary queue (in order to get a response) and it fail to create it with the following error :</p>\n<pre><code>JMSWMQ2008: Failed to open MQ queue 'SYSTEM.DEFAULT.MODEL.QUEUE'\n</code></pre>\n<p>Cause by this error :</p>\n<pre><code>com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode '2' ('MQCC_FAILED') reason '2035' ('MQRC_NOT_AUTHORIZED').\n</code></pre>\n<p>I checked with the MQ Manager and the &quot;SYSTEM.DEFAULT.MODEL.QUEUE&quot; does not exist, should i need to create it ?</p>\n"},{"tags":["java","certificate","x509certificate","bouncycastle","java-security"],"comments":[{"owner":{"account_id":97438,"reputation":3932,"user_id":264294,"display_name":"Peter Dettman"},"score":0,"creation_date":1599119092,"post_id":63698315,"comment_id":112675968,"body_markdown":"Do you have actual working code proving it&#39;s possible with SUN provider?","body":"Do you have actual working code proving it&#39;s possible with SUN provider?"},{"owner":{"account_id":12303236,"reputation":21,"user_id":8977060,"display_name":"Madhuri R"},"score":0,"creation_date":1599533697,"post_id":63698315,"comment_id":112795132,"body_markdown":"Yes. Followed the code as given - https://docs.oracle.com/javase/8/docs/technotes/guides/security/certpath/CertPathProgGuide.html#BuildingClasses","body":"Yes. Followed the code as given - <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/certpath/CertPathProgGuide.html#BuildingClasses\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/technotes/guides/security/&hellip;</a>"}],"owner":{"account_id":12303236,"reputation":21,"user_id":8977060,"display_name":"Madhuri R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632742740,"creation_date":1599017722,"question_id":63698315,"body_markdown":"I have an end entity and a Root CA. Using this, I have to build a certificate path. Can I do this using Bouncy Castle provider. I tried the CertPathBuilder but get the error : &quot;No issuer certificate for certificate in certification path found.&quot; This is because the issuer of my EE is not in the cert list input to the builder. Is there a way to make the provider download it using AIA information, I know this is possible in SUN provider.","title":"How to use Bouncy Castle to get the certification path between a root CA and an end entity when I dont have the Intermediate certs?","body":"<p>I have an end entity and a Root CA. Using this, I have to build a certificate path. Can I do this using Bouncy Castle provider. I tried the CertPathBuilder but get the error : &quot;No issuer certificate for certificate in certification path found.&quot; This is because the issuer of my EE is not in the cert list input to the builder. Is there a way to make the provider download it using AIA information, I know this is possible in SUN provider.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","mongotemplate"],"answers":[{"tags":[],"owner":{"account_id":3352195,"reputation":137,"user_id":2816019,"display_name":"ashanshamika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631868953,"creation_date":1631868953,"answer_id":69220559,"question_id":69118014,"body_markdown":"You can improve the query by adding the address ID criteria as well.\r\n\r\n```java\r\nquery.addCriteria(new Criteria().andOperator(Criteria.where(&quot;personId&quot;).is(personId),\r\n                Criteria.where(&quot;address.addrId&quot;).is(addrId)));\r\n```\r\n\r\nThis will return only the documents that have the required address ID also.","title":"How to retrieve a particular list object using mongoTemplate?","body":"<p>You can improve the query by adding the address ID criteria as well.</p>\n<pre class=\"lang-java prettyprint-override\"><code>query.addCriteria(new Criteria().andOperator(Criteria.where(&quot;personId&quot;).is(personId),\n                Criteria.where(&quot;address.addrId&quot;).is(addrId)));\n</code></pre>\n<p>This will return only the documents that have the required address ID also.</p>\n"},{"tags":[],"owner":{"account_id":1069576,"reputation":775,"user_id":1069186,"accept_rate":63,"display_name":"Coder17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632742344,"creation_date":1632742344,"answer_id":69345850,"question_id":69118014,"body_markdown":"This works as expected for me:\r\n\r\n    \r\n\r\n        Query query = new Query();\r\n        query.addCriteria(Criteria.where(&quot;personId&quot;).is(personId));\r\n        query.addCriteria(Criteria.where(&quot;addrId&quot;).is(addrId));\r\n        query.fields().include(&quot;address.$&quot;);\r\n        Person person = mongoTemplate.findOne(query, Person.class);\r\n    \r\n        if(person!=null &amp;&amp; person.getAddress()!=null &amp;&amp; person.getAddress().size() &gt; 0) {\r\n            return person.getAddress().get(0);\r\n        }\r\n        return  null;","title":"How to retrieve a particular list object using mongoTemplate?","body":"<p>This works as expected for me:</p>\n<pre><code>    Query query = new Query();\n    query.addCriteria(Criteria.where(&quot;personId&quot;).is(personId));\n    query.addCriteria(Criteria.where(&quot;addrId&quot;).is(addrId));\n    query.fields().include(&quot;address.$&quot;);\n    Person person = mongoTemplate.findOne(query, Person.class);\n\n    if(person!=null &amp;&amp; person.getAddress()!=null &amp;&amp; person.getAddress().size() &gt; 0) {\n        return person.getAddress().get(0);\n    }\n    return  null;\n</code></pre>\n"}],"owner":{"account_id":1069576,"reputation":775,"user_id":1069186,"accept_rate":63,"display_name":"Coder17"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69345850,"answer_count":2,"score":0,"last_activity_date":1632742344,"creation_date":1631189807,"question_id":69118014,"body_markdown":"I have a mongo document like below:\r\n\r\n    {\r\n        &quot;personId&quot; : ObjectId(&quot;6138cf5b5d79d616c28b8e6c&quot;),\r\n        &quot;address&quot; : [\r\n                     {\r\n                      &quot;addrId&quot;: &quot;123&quot;,\r\n                      &quot;Street&quot; : &quot;abc&quot;\r\n                     },\r\n                     {\r\n                      &quot;addrId&quot;:  &quot;456&quot;,\r\n                      &quot;Street&quot; : &quot;xyz&quot;\r\n                     }]\r\n    }\r\n\r\nNow I want to retrieve the address object with addrId 123 for personId - 6138cf5b5d79d616c28b8e6c. I have below java method which accepts personId and addrId. How do I achieve that using mongoTemplate\r\n\r\n    public Address getAddrObject(String personId, String addrId) {\r\n     // need logic to return addr object with passed addrId\r\n    }\r\n\r\nIs this the good way:\r\n\r\n    public Address getAddrObject(String personId, String addrId) {\r\n            Query query = new Query();\r\n            query.addCriteria(Criteria.where(&quot;personId&quot;).is(personId));\r\n            Person person = mongoTemplate.findOne(query, Person.class);\r\n    \r\n    \r\n            for(Address add : person.getAddress()){\r\n                if(add.getAddrId().equals(addrId)){\r\n                    return add;\r\n                }\r\n            }\r\n    \r\n            return null;\r\n    }","title":"How to retrieve a particular list object using mongoTemplate?","body":"<p>I have a mongo document like below:</p>\n<pre><code>{\n    &quot;personId&quot; : ObjectId(&quot;6138cf5b5d79d616c28b8e6c&quot;),\n    &quot;address&quot; : [\n                 {\n                  &quot;addrId&quot;: &quot;123&quot;,\n                  &quot;Street&quot; : &quot;abc&quot;\n                 },\n                 {\n                  &quot;addrId&quot;:  &quot;456&quot;,\n                  &quot;Street&quot; : &quot;xyz&quot;\n                 }]\n}\n</code></pre>\n<p>Now I want to retrieve the address object with addrId 123 for personId - 6138cf5b5d79d616c28b8e6c. I have below java method which accepts personId and addrId. How do I achieve that using mongoTemplate</p>\n<pre><code>public Address getAddrObject(String personId, String addrId) {\n // need logic to return addr object with passed addrId\n}\n</code></pre>\n<p>Is this the good way:</p>\n<pre><code>public Address getAddrObject(String personId, String addrId) {\n        Query query = new Query();\n        query.addCriteria(Criteria.where(&quot;personId&quot;).is(personId));\n        Person person = mongoTemplate.findOne(query, Person.class);\n\n\n        for(Address add : person.getAddress()){\n            if(add.getAddrId().equals(addrId)){\n                return add;\n            }\n        }\n\n        return null;\n}\n</code></pre>\n"},{"tags":["java","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1632742265,"post_id":69344838,"comment_id":122566945,"body_markdown":"Look at the queue manager&#39;s AMQERR01.LOG for info on the cause of the 2035.  Edit and add to your question of you need further help.","body":"Look at the queue manager&#39;s AMQERR01.LOG for info on the cause of the 2035.  Edit and add to your question of you need further help."},{"owner":{"account_id":5032228,"reputation":7304,"user_id":4042083,"accept_rate":50,"display_name":"Morag Hughson"},"score":0,"creation_date":1632742438,"post_id":69344838,"comment_id":122567008,"body_markdown":"Are you supplying the user id and password that you configured on the docker image?","body":"Are you supplying the user id and password that you configured on the docker image?"}],"owner":{"account_id":6826727,"reputation":963,"user_id":5252244,"accept_rate":50,"display_name":"Jib&#39;z"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632742276,"creation_date":1632737289,"question_id":69344838,"body_markdown":"I am new to MQ and I am using this [docker image][1] with the default setting.\r\nI need to connect through a java application (but without websphere).\r\n\r\nI use the admin account to connect to the DEV.ADMIN.SVRCONN channel and i get the following error :\r\n\r\n    com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode &#39;2&#39; (&#39;MQCC_FAILED&#39;) reason &#39;2035&#39; (&#39;MQRC_NOT_AUTHORIZED&#39;).\r\n\r\nHow can i manage to connect with the admin user ? \r\n\r\n\r\n  [1]: https://hub.docker.com/r/ibmcom/mq","title":"Can not connect to admin channel with java application","body":"<p>I am new to MQ and I am using this <a href=\"https://hub.docker.com/r/ibmcom/mq\" rel=\"nofollow noreferrer\">docker image</a> with the default setting.\nI need to connect through a java application (but without websphere).</p>\n<p>I use the admin account to connect to the DEV.ADMIN.SVRCONN channel and i get the following error :</p>\n<pre><code>com.ibm.mq.MQException: JMSCMQ0001: IBM MQ call failed with compcode '2' ('MQCC_FAILED') reason '2035' ('MQRC_NOT_AUTHORIZED').\n</code></pre>\n<p>How can i manage to connect with the admin user ?</p>\n"},{"tags":["java","html","spring","jsp","sitemesh"],"answers":[{"tags":[],"owner":{"account_id":2089723,"reputation":91,"user_id":1859832,"display_name":"Huub"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1468575472,"creation_date":1467380041,"answer_id":38146839,"question_id":31379089,"body_markdown":"We had the same in version 2.4\r\n\r\nThe DefaultFactory will try to use the ServletContext().getRealPath(), but eventually tries to read from contexPath. This is an error i think.\r\n\r\nTo get around this you&#39;ll have to create a Factory of your own and set it in your web.xml env\r\n\r\nCopy the DefaultFactory for the code\r\n\r\n    public class MyFactory extends com.opensymphony.module.sitemesh.factory.BaseFactory {\r\n\r\n        public MyFactory () {\r\n            // Do stuff\r\n            // delete every thing that sets the config path or simply set\r\n\r\n            String configFile = null;\r\n\r\n            // Do stuff\r\n        }\r\n        // Do other stuff\r\n    }\r\n\r\nYour web.xml will look like so\r\n\r\n\t&lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\t\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;\r\n\t\tversion=&quot;2.4&quot;&gt;\r\n\r\n\t\t\t&lt;env-entry&gt;\r\n\t\t\t\t&lt;env-entry-name&gt;sitemesh.factory&lt;/env-entry-name&gt;\r\n\t\t\t\t&lt;env-entry-type&gt;java.lang.String&lt;/env-entry-type&gt;\r\n\t\t\t\t&lt;env-entry-value&gt;my.sitemesh.MyFactory&lt;/env-entry-value&gt;\r\n\t\t\t&lt;/env-entry&gt;\r\n\r\n\r\n\r\n\r\n\r\n","title":"Sitemesh, Cannot construct Factory : com.opensymphony.module.sitemesh.factory.DefaultFactory:","body":"<p>We had the same in version 2.4</p>\n\n<p>The DefaultFactory will try to use the ServletContext().getRealPath(), but eventually tries to read from contexPath. This is an error i think.</p>\n\n<p>To get around this you'll have to create a Factory of your own and set it in your web.xml env</p>\n\n<p>Copy the DefaultFactory for the code</p>\n\n<pre><code>public class MyFactory extends com.opensymphony.module.sitemesh.factory.BaseFactory {\n\n    public MyFactory () {\n        // Do stuff\n        // delete every thing that sets the config path or simply set\n\n        String configFile = null;\n\n        // Do stuff\n    }\n    // Do other stuff\n}\n</code></pre>\n\n<p>Your web.xml will look like so</p>\n\n<pre><code>&lt;web-app xmlns=\"http://java.sun.com/xml/ns/j2ee\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"\n    version=\"2.4\"&gt;\n\n        &lt;env-entry&gt;\n            &lt;env-entry-name&gt;sitemesh.factory&lt;/env-entry-name&gt;\n            &lt;env-entry-type&gt;java.lang.String&lt;/env-entry-type&gt;\n            &lt;env-entry-value&gt;my.sitemesh.MyFactory&lt;/env-entry-value&gt;\n        &lt;/env-entry&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6299922,"reputation":365,"user_id":4894891,"accept_rate":0,"display_name":"uğur taş"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1586177044,"creation_date":1586177044,"answer_id":61060159,"question_id":31379089,"body_markdown":"I had the same issue in version 2.3 while upgrading Tomcat version from 7 to 9 for our legacy application. \r\n\r\nProblem was these two lines on DefaultFactory class.\r\n\r\n    \r\n     this.configFileName = config.getServletContext().getInitParameter(&quot;sitemesh.configfile&quot;);\r\n     .\r\n     .\r\n     .\r\n     .\r\n\r\n     is = this.configFile.toURL().openStream();\r\n\r\nBy defining configFileName on web.xml file as a context-param, filename problem can be solved.\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;sitemesh.configfile&lt;/param-name&gt;\r\n        &lt;param-value&gt;/WEB-INF/sitemesh.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\nDeprecated method usage on config file stream causes a problem. To solve this issue custom factory class should be written. You can directly copy the defaultFactory and replace this line \r\n\r\n     is = this.configFile.toURL().openStream();\r\n\r\nwith this\r\n\r\n     is = new FileInputStream(this.configFile);\r\n\r\nThis change will solve the input stream issue.\r\n\r\n\r\nMy adding environment entry you can add your custom class to sitemesh. This lines should be placed to web.xml file\r\n\r\n\r\n    &lt;env-entry&gt;\r\n        &lt;env-entry-name&gt;sitemesh.factory&lt;/env-entry-name&gt;\r\n        &lt;env-entry-type&gt;java.lang.String&lt;/env-entry-type&gt;\r\n        &lt;env-entry-value&gt;your.custom.factory.SitemeshFactory&lt;/env-entry-value&gt;\r\n    &lt;/env-entry&gt;\r\n\r\n\r\n  ","title":"Sitemesh, Cannot construct Factory : com.opensymphony.module.sitemesh.factory.DefaultFactory:","body":"<p>I had the same issue in version 2.3 while upgrading Tomcat version from 7 to 9 for our legacy application. </p>\n\n<p>Problem was these two lines on DefaultFactory class.</p>\n\n<pre><code> this.configFileName = config.getServletContext().getInitParameter(\"sitemesh.configfile\");\n .\n .\n .\n .\n\n is = this.configFile.toURL().openStream();\n</code></pre>\n\n<p>By defining configFileName on web.xml file as a context-param, filename problem can be solved.</p>\n\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;sitemesh.configfile&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/sitemesh.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n\n<p>Deprecated method usage on config file stream causes a problem. To solve this issue custom factory class should be written. You can directly copy the defaultFactory and replace this line </p>\n\n<pre><code> is = this.configFile.toURL().openStream();\n</code></pre>\n\n<p>with this</p>\n\n<pre><code> is = new FileInputStream(this.configFile);\n</code></pre>\n\n<p>This change will solve the input stream issue.</p>\n\n<p>My adding environment entry you can add your custom class to sitemesh. This lines should be placed to web.xml file</p>\n\n<pre><code>&lt;env-entry&gt;\n    &lt;env-entry-name&gt;sitemesh.factory&lt;/env-entry-name&gt;\n    &lt;env-entry-type&gt;java.lang.String&lt;/env-entry-type&gt;\n    &lt;env-entry-value&gt;your.custom.factory.SitemeshFactory&lt;/env-entry-value&gt;\n&lt;/env-entry&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":439422,"reputation":61,"user_id":4888040,"display_name":"s-han.lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590717331,"creation_date":1590717331,"answer_id":62077437,"question_id":31379089,"body_markdown":"DefaultFactory.java uses the Deprecate File.toURL() API. there is a problem reading sitemesh.xml file.\r\n\r\nPlease update your sitemesh version to [sitemesh:2.5-atlassian-11][1]\r\n\r\n[sitemesh:2.5-atlassian-11 Bugfix commit][2]\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/opensymphony/sitemesh/2.5-atlassian-11\r\n  [2]: https://github.sec.samsung.net/FinancePlatform/smps_server_spt_payment/pull/23/files","title":"Sitemesh, Cannot construct Factory : com.opensymphony.module.sitemesh.factory.DefaultFactory:","body":"<p>DefaultFactory.java uses the Deprecate File.toURL() API. there is a problem reading sitemesh.xml file.</p>\n\n<p>Please update your sitemesh version to <a href=\"https://mvnrepository.com/artifact/opensymphony/sitemesh/2.5-atlassian-11\" rel=\"nofollow noreferrer\">sitemesh:2.5-atlassian-11</a></p>\n\n<p><a href=\"https://github.sec.samsung.net/FinancePlatform/smps_server_spt_payment/pull/23/files\" rel=\"nofollow noreferrer\">sitemesh:2.5-atlassian-11 Bugfix commit</a></p>\n"},{"tags":[],"owner":{"account_id":17902074,"reputation":1,"user_id":13006121,"display_name":"javiergonzape"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632742043,"creation_date":1632742043,"answer_id":69345791,"question_id":31379089,"body_markdown":"Changing the context-param, param-value in WEB-INF works for me.\r\nI know this is not a perfect solution, but i have tried a lot of things and nothing except this works.\r\n\r\n    &lt;context-param&gt;\r\n        &lt;param-name&gt;sitemesh.configfile&lt;/param-name&gt;\r\n        &lt;param-value&gt;/opt/tomcat/xxx/yyy/zzz/WEB-INF/sitemesh.xml&lt;/param-value&gt;\r\n&lt;/context-param&gt;\r\n\r\n   \r\n\r\n*xxx/yyy/zzz is my three level context, the war file is like this xxx#yyy#zzz#app-name.war","title":"Sitemesh, Cannot construct Factory : com.opensymphony.module.sitemesh.factory.DefaultFactory:","body":"<p>Changing the context-param, param-value in WEB-INF works for me.\nI know this is not a perfect solution, but i have tried a lot of things and nothing except this works.</p>\n<pre><code>&lt;context-param&gt;\n    &lt;param-name&gt;sitemesh.configfile&lt;/param-name&gt;\n    &lt;param-value&gt;/opt/tomcat/xxx/yyy/zzz/WEB-INF/sitemesh.xml&lt;/param-value&gt;\n</code></pre>\n\n<p>*xxx/yyy/zzz is my three level context, the war file is like this xxx#yyy#zzz#app-name.war</p>\n"}],"owner":{"account_id":4020631,"reputation":41,"user_id":3350406,"display_name":"user5301"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1950,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1632742043,"creation_date":1436777595,"question_id":31379089,"body_markdown":"I use the version 2.4.2 of SiteMesh with Spring \r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;opensymphony&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;sitemesh&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.4.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nI deploy my application with the name **myApp.war** and everything works properly. I need to deploy the application **myapp##versionApp.war** name and this name gives problems.\r\n\r\n\r\nThe error is\r\n\r\n&gt; Cannot construct Factory : com.opensymphony.module.sitemesh.factory.DefaultFactory: com.opensymphony.module.sitemesh.factory.FactoryException: Could not read config file : /WEB-INF/sitemesh.xml: java.io.FileNotFoundException: \r\n\r\nI have found that exists in the WEB-INF / directory / file the sitemesh.xml.\r\n\r\nCan you help me?\r\n\r\n","title":"Sitemesh, Cannot construct Factory : com.opensymphony.module.sitemesh.factory.DefaultFactory:","body":"<p>I use the version 2.4.2 of SiteMesh with Spring </p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;opensymphony&lt;/groupId&gt;\n        &lt;artifactId&gt;sitemesh&lt;/artifactId&gt;\n        &lt;version&gt;2.4.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>I deploy my application with the name <strong>myApp.war</strong> and everything works properly. I need to deploy the application <strong>myapp##versionApp.war</strong> name and this name gives problems.</p>\n\n<p>The error is</p>\n\n<blockquote>\n  <p>Cannot construct Factory : com.opensymphony.module.sitemesh.factory.DefaultFactory: com.opensymphony.module.sitemesh.factory.FactoryException: Could not read config file : /WEB-INF/sitemesh.xml: java.io.FileNotFoundException: </p>\n</blockquote>\n\n<p>I have found that exists in the WEB-INF / directory / file the sitemesh.xml.</p>\n\n<p>Can you help me?</p>\n"},{"tags":["java","gradle","visual-studio-code","environment-variables"],"comments":[{"owner":{"account_id":231117,"reputation":8541,"user_id":495157,"accept_rate":40,"display_name":"JGFMK"},"score":0,"creation_date":1578685139,"post_id":59687712,"comment_id":105532659,"body_markdown":"String variable = System.getProperty(&quot;mykey&quot;); would get an environment var in Java..  https://stackoverflow.com/questions/1672281/environment-variables-for-java-installation Not sure if that is what you are after.. Also this https://code.visualstudio.com/docs/getstarted/settings","body":"String variable = System.getProperty(&quot;mykey&quot;); would get an environment var in Java..  <a href=\"https://stackoverflow.com/questions/1672281/environment-variables-for-java-installation\" title=\"environment variables for java installation\">stackoverflow.com/questions/1672281/&hellip;</a> Not sure if that is what you are after.. Also this <a href=\"https://code.visualstudio.com/docs/getstarted/settings\" rel=\"nofollow noreferrer\">code.visualstudio.com/docs/getstarted/settings</a>"},{"owner":{"account_id":4830841,"reputation":2922,"user_id":3899080,"accept_rate":83,"display_name":"Mahesh Madushanka"},"score":0,"creation_date":1578690721,"post_id":59687712,"comment_id":105534752,"body_markdown":"@JGFMK thanks for your input. the issue is I can&#39;t send env variables into java app from vs code.  No issue with accessing the value from java code. With the VS code settings, we can set generic  environment variables but not sure about custom parameters","body":"@JGFMK thanks for your input. the issue is I can&#39;t send env variables into java app from vs code.  No issue with accessing the value from java code. With the VS code settings, we can set generic  environment variables but not sure about custom parameters"},{"owner":{"account_id":2928505,"reputation":2489,"user_id":2561119,"accept_rate":89,"display_name":"GabrielBB"},"score":1,"creation_date":1583011519,"post_id":59687712,"comment_id":106975452,"body_markdown":"@MaheshMadushanka Consider accepting MinhTC&#39;s answer. That&#39;s the recommended way to do it with VSCode","body":"@MaheshMadushanka Consider accepting MinhTC&#39;s answer. That&#39;s the recommended way to do it with VSCode"}],"answers":[{"tags":[],"owner":{"account_id":4354364,"reputation":337,"user_id":3553525,"display_name":"MinhTC"},"down_vote_count":1,"up_vote_count":23,"is_accepted":true,"score":22,"last_activity_date":1578791796,"creation_date":1578791796,"answer_id":59700161,"question_id":59687712,"body_markdown":"In order to set environment variable for Spring boot application in VSCode, the recommended way is to create a launch.json file in .vscode folder of your project, then add the &quot;env&quot; section like the example below:\r\n\r\n    {\r\n      &quot;configurations&quot;: [\r\n        {\r\n          &quot;type&quot;: &quot;java&quot;,\r\n          &quot;name&quot;: &quot;Spring Boot-DemoApplication&lt;demo&gt;&quot;,\r\n          &quot;request&quot;: &quot;launch&quot;,\r\n          &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,\r\n          &quot;console&quot;: &quot;internalConsole&quot;,\r\n          &quot;mainClass&quot;: &quot;com.example.demo.DemoApplication&quot;,\r\n          &quot;projectName&quot;: &quot;demo&quot;,\r\n          &quot;args&quot;: &quot;&quot;,\r\n          &quot;env&quot;: {\r\n            &quot;PROJECT_NAME&quot;: &quot;FOO_PROJECT&quot;\r\n          }\r\n        }\r\n      ]\r\n    }","title":"How to set JAVA environment variable in VS Code","body":"<p>In order to set environment variable for Spring boot application in VSCode, the recommended way is to create a launch.json file in .vscode folder of your project, then add the \"env\" section like the example below:</p>\n\n<pre><code>{\n  \"configurations\": [\n    {\n      \"type\": \"java\",\n      \"name\": \"Spring Boot-DemoApplication&lt;demo&gt;\",\n      \"request\": \"launch\",\n      \"cwd\": \"${workspaceFolder}\",\n      \"console\": \"internalConsole\",\n      \"mainClass\": \"com.example.demo.DemoApplication\",\n      \"projectName\": \"demo\",\n      \"args\": \"\",\n      \"env\": {\n        \"PROJECT_NAME\": \"FOO_PROJECT\"\n      }\n    }\n  ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4250898,"reputation":303,"user_id":3478012,"display_name":"Gjergji Sevo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1594989158,"creation_date":1594989158,"answer_id":62954049,"question_id":59687712,"body_markdown":"I came across the same problem while trying to run JUNIT tests with customized environment variables. The above mentioned answer didn&#39;t help me. Instead, according to this [documentation](https://github.com/microsoft/vscode-java-test/wiki/Run-with-Configuration) you have to create an env object in the setting.json file. After doing that I could query and get the customized env variables for running these tests.\r\n\r\n```json\r\n{\r\n    &quot;java.semanticHighlighting.enabled&quot;: true,\r\n    &quot;window.zoomLevel&quot;: 0,\r\n    &quot;editor.suggestSelection&quot;: &quot;first&quot;,\r\n    &quot;vsintellicode.modify.editor.suggestSelection&quot;: &quot;automaticallyOverrodeDefaultValue&quot;,\r\n    &quot;java.requirements.JDK11Warning&quot;: false,\r\n    &quot;http.proxyAuthorization&quot;: null,\r\n    &quot;java.test.config&quot;: {\r\n        &quot;name&quot;: &quot;ENVIRONMENT_JSON&quot;,\r\n        &quot;workingDirectory&quot;: &quot;${workspaceFolder}&quot;,\r\n        &quot;env&quot;: {\r\n            &quot;CF_ORG&quot;: &quot;testOrg&quot;,\r\n            &quot;CF_SPACE&quot;: &quot;testSpace&quot;, \r\n            ....\r\n            ....\r\n        }\r\n    }\r\n}\r\n```","title":"How to set JAVA environment variable in VS Code","body":"<p>I came across the same problem while trying to run JUNIT tests with customized environment variables. The above mentioned answer didn't help me. Instead, according to this <a href=\"https://github.com/microsoft/vscode-java-test/wiki/Run-with-Configuration\" rel=\"nofollow noreferrer\">documentation</a> you have to create an env object in the setting.json file. After doing that I could query and get the customized env variables for running these tests.</p>\n<pre><code>{\n    &quot;java.semanticHighlighting.enabled&quot;: true,\n    &quot;window.zoomLevel&quot;: 0,\n    &quot;editor.suggestSelection&quot;: &quot;first&quot;,\n    &quot;vsintellicode.modify.editor.suggestSelection&quot;: &quot;automaticallyOverrodeDefaultValue&quot;,\n    &quot;java.requirements.JDK11Warning&quot;: false,\n    &quot;http.proxyAuthorization&quot;: null,\n    &quot;java.test.config&quot;: {\n        &quot;name&quot;: &quot;ENVIRONMENT_JSON&quot;,\n        &quot;workingDirectory&quot;: &quot;${workspaceFolder}&quot;,\n        &quot;env&quot;: {\n            &quot;CF_ORG&quot;: &quot;testOrg&quot;,\n            &quot;CF_SPACE&quot;: &quot;testSpace&quot;, \n            ....\n            ....\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632741957,"creation_date":1632741957,"answer_id":69345772,"question_id":59687712,"body_markdown":"If you are using the following version of VSCode as you can see Help -&gt; About,\r\n\r\n    Version: 1.60.2 (user setup)\r\n    Commit: 7f6ab5485bbc008386c4386d08766667e155244e\r\n    Date: 2021-09-22T12:00:31.514Z\r\n    Electron: 13.1.8\r\n    Chrome: 91.0.4472.164\r\n    Node.js: 14.16.0\r\n    V8: 9.1.269.39-electron.0\r\n    OS: Windows_NT x64 10.0.18363\r\n\r\nSimply go to the **Run** menu and click on **Open Configurations**, the image is given below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rh5Eu.png\r\n\r\nThis will open `launch.json`, now you can add env details specific to your environment details. The example is given below.\r\n\r\n    {\r\n        &quot;configurations&quot;: [\r\n    \r\n            {\r\n                &quot;type&quot;: &quot;java&quot;,\r\n                &quot;name&quot;: &quot;Spring-Boot-App&quot;,\r\n                &quot;request&quot;: &quot;launch&quot;,\r\n                &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,\r\n                &quot;console&quot;: &quot;internalConsole&quot;,\r\n                &quot;mainClass&quot;: &quot;com.blr.appName.ApplicationName&quot;,\r\n                &quot;projectName&quot;: &quot;projectName&quot;,\r\n                &quot;args&quot;: &quot;&quot;,\r\n                &quot;env&quot;: {\r\n                    &quot;PROJECT_NAME&quot;: &quot;FOO_PROJECT&quot;,\r\n                    &quot;licenseKeyDetails&quot;:&quot;license_details&quot;,\r\n                    &quot;serialNumber&quot;:&quot;ABCDEFG&quot;\r\n                     }\r\n            }\r\n        ]\r\n    }","title":"How to set JAVA environment variable in VS Code","body":"<p>If you are using the following version of VSCode as you can see Help -&gt; About,</p>\n<pre><code>Version: 1.60.2 (user setup)\nCommit: 7f6ab5485bbc008386c4386d08766667e155244e\nDate: 2021-09-22T12:00:31.514Z\nElectron: 13.1.8\nChrome: 91.0.4472.164\nNode.js: 14.16.0\nV8: 9.1.269.39-electron.0\nOS: Windows_NT x64 10.0.18363\n</code></pre>\n<p>Simply go to the <strong>Run</strong> menu and click on <strong>Open Configurations</strong>, the image is given below.</p>\n<p><a href=\"https://i.stack.imgur.com/rh5Eu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rh5Eu.png\" alt=\"enter image description here\" /></a></p>\n<p>This will open <code>launch.json</code>, now you can add env details specific to your environment details. The example is given below.</p>\n<pre><code>{\n    &quot;configurations&quot;: [\n\n        {\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Spring-Boot-App&quot;,\n            &quot;request&quot;: &quot;launch&quot;,\n            &quot;cwd&quot;: &quot;${workspaceFolder}&quot;,\n            &quot;console&quot;: &quot;internalConsole&quot;,\n            &quot;mainClass&quot;: &quot;com.blr.appName.ApplicationName&quot;,\n            &quot;projectName&quot;: &quot;projectName&quot;,\n            &quot;args&quot;: &quot;&quot;,\n            &quot;env&quot;: {\n                &quot;PROJECT_NAME&quot;: &quot;FOO_PROJECT&quot;,\n                &quot;licenseKeyDetails&quot;:&quot;license_details&quot;,\n                &quot;serialNumber&quot;:&quot;ABCDEFG&quot;\n                 }\n        }\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":4830841,"reputation":2922,"user_id":3899080,"accept_rate":83,"display_name":"Mahesh Madushanka"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24322,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":59700161,"answer_count":3,"score":12,"last_activity_date":1632741957,"creation_date":1578683598,"question_id":59687712,"body_markdown":"I have a spring-boot project and my IDE is VS code. I want to pass an environment variable to my applications. Right now I set it before the Gradle command \r\n\r\n\r\n    export PROJECT_NAME=test\r\n    \r\n    ./gradlew bootrun\r\n\r\n *PROJECT_NAME is my env variable and I access this in application.properties*\r\n\r\n**what is the recommended approach to set environment variables in VS code for java**","title":"How to set JAVA environment variable in VS Code","body":"<p>I have a spring-boot project and my IDE is VS code. I want to pass an environment variable to my applications. Right now I set it before the Gradle command </p>\n\n<pre><code>export PROJECT_NAME=test\n\n./gradlew bootrun\n</code></pre>\n\n<p><em>PROJECT_NAME is my env variable and I access this in application.properties</em></p>\n\n<p><strong>what is the recommended approach to set environment variables in VS code for java</strong></p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data","spring-data-elasticsearch"],"comments":[{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":0,"creation_date":1632752299,"post_id":69345771,"comment_id":122571270,"body_markdown":"what is your actual problem? If you retrieve an entity you can check it&#39;s `parentId` and fetch the parent entity.","body":"what is your actual problem? If you retrieve an entity you can check it&#39;s <code>parentId</code> and fetch the parent entity."},{"owner":{"account_id":4759179,"reputation":93,"user_id":3847044,"display_name":"Matej Martincevic"},"score":0,"creation_date":1632755725,"post_id":69345771,"comment_id":122572781,"body_markdown":"@P.J.Meisch Is that an OK solution? I was under impression that constantly hitting the DB drastically reduces the performance so it should be avoided. I could use `ElasticsearchOperations` with a for loop to query and set parent recursively as long as it&#39;s required, but I&#39;m afraid what that would do the performance. I was hoping that ES could just automatically populate `parent` property if `parentId` was present and acting as a sort of foreign key. This is meant to be an autosuggest that would display results ala google maps, so searching for Austin you&#39;d get Austin TX, USA or Austin, Canada","body":"@P.J.Meisch Is that an OK solution? I was under impression that constantly hitting the DB drastically reduces the performance so it should be avoided. I could use <code>ElasticsearchOperations</code> with a for loop to query and set parent recursively as long as it&#39;s required, but I&#39;m afraid what that would do the performance. I was hoping that ES could just automatically populate <code>parent</code> property if <code>parentId</code> was present and acting as a sort of foreign key. This is meant to be an autosuggest that would display results ala google maps, so searching for Austin you&#39;d get Austin TX, USA or Austin, Canada"},{"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"score":1,"creation_date":1632764155,"post_id":69345771,"comment_id":122576133,"body_markdown":"Elasticsearch does not provide such a referenced lookup. One thing you could do is add a readonly property which when its getter is called calculates the String to be searched for by gettting up the hierachy and canocatenating the names. This would then be stored in Elasticsearch and could be searched. But when retrieving, the parent objects will not be set. Or you might model this with a join type (https://www.elastic.co/guide/en/elasticsearch/reference/current/parent-join.html and https://docs.spring.io/spring-data/elasticsearch/docs/4.2.5/reference/html/#elasticsearch.jointype)","body":"Elasticsearch does not provide such a referenced lookup. One thing you could do is add a readonly property which when its getter is called calculates the String to be searched for by gettting up the hierachy and canocatenating the names. This would then be stored in Elasticsearch and could be searched. But when retrieving, the parent objects will not be set. Or you might model this with a join type (<a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/parent-join.html\" rel=\"nofollow noreferrer\">elastic.co/guide/en/elasticsearch/reference/current/&hellip;</a> and <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.2.5/reference/html/#elasticsearch.jointype\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/elasticsearch/docs/4.2.5/referenc&zwnj;&#8203;e/&hellip;</a>)"},{"owner":{"account_id":4759179,"reputation":93,"user_id":3847044,"display_name":"Matej Martincevic"},"score":0,"creation_date":1632909654,"post_id":69345771,"comment_id":122618441,"body_markdown":"I figured I&#39;d do it with join types as a learning experience for ES, but I&#39;m running out of time so I&#39;ll just implement it as a separate property. If you wanna post the above as a reply so I can mark it as a solution, cheers!","body":"I figured I&#39;d do it with join types as a learning experience for ES, but I&#39;m running out of time so I&#39;ll just implement it as a separate property. If you wanna post the above as a reply so I can mark it as a solution, cheers!"}],"owner":{"account_id":4759179,"reputation":93,"user_id":3847044,"display_name":"Matej Martincevic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632741955,"creation_date":1632741955,"question_id":69345771,"body_markdown":"I&#39;m new to Elasticsearch and I&#39;ve been looking for a way to do a sort of recursive lookup for an object. I&#39;ve got an object that looks like so:\r\n\r\n    @Document(indexName = &quot;locations&quot;, shards = 1, replicas = 0)\r\n    @Setting(settingPath = &quot;analyzer.json&quot;)\r\n    public class EsLocation {\r\n    \r\n    \t@Id\r\n    \tprivate String id;\r\n    \t\r\n    \t@Field(type = FieldType.Text, analyzer = &quot;index&quot;, searchAnalyzer = &quot;search&quot;, fielddata = true)\r\n    \tprivate String name;\r\n    \r\n    \t@Field(type = FieldType.Text, analyzer = &quot;index&quot;, searchAnalyzer = &quot;search&quot;, fielddata = true)\r\n    \tprivate String displayName;\r\n    \r\n    \t@Field(type = FieldType.Keyword)\r\n    \tprivate String type;\r\n\r\n\t    @Transient\r\n\t    private EsLocation parent;\r\n    \r\n    \t@Field(type = FieldType.Keyword)\r\n    \tprivate String parentId;\r\n    }\r\n\r\nSo the EsLocation object contains itself in order to create a hierarchy. For example: Austin who&#39;s parent object is Texas who&#39;s parent object is USA whos parent object is North America. Another one would be Austin -&gt; Quebec -&gt; Canada -&gt; North America. The number of parents might not always be 3, it varies depending on what user is looking for. The ID of the parent is always saved with the object so I know the exact city that is being referenced so there&#39;s no ambiguity, and it&#39;s null if it&#39;s top level location (continent). This works fine for mongodb where I can always look it up, but I&#39;ve no idea how to move it to ES.\r\n\r\nHow should I go about doing this?","title":"spring data elasticsearch nested object lookup","body":"<p>I'm new to Elasticsearch and I've been looking for a way to do a sort of recursive lookup for an object. I've got an object that looks like so:</p>\n<pre><code>@Document(indexName = &quot;locations&quot;, shards = 1, replicas = 0)\n@Setting(settingPath = &quot;analyzer.json&quot;)\npublic class EsLocation {\n\n    @Id\n    private String id;\n    \n    @Field(type = FieldType.Text, analyzer = &quot;index&quot;, searchAnalyzer = &quot;search&quot;, fielddata = true)\n    private String name;\n\n    @Field(type = FieldType.Text, analyzer = &quot;index&quot;, searchAnalyzer = &quot;search&quot;, fielddata = true)\n    private String displayName;\n\n    @Field(type = FieldType.Keyword)\n    private String type;\n\n    @Transient\n    private EsLocation parent;\n\n    @Field(type = FieldType.Keyword)\n    private String parentId;\n}\n</code></pre>\n<p>So the EsLocation object contains itself in order to create a hierarchy. For example: Austin who's parent object is Texas who's parent object is USA whos parent object is North America. Another one would be Austin -&gt; Quebec -&gt; Canada -&gt; North America. The number of parents might not always be 3, it varies depending on what user is looking for. The ID of the parent is always saved with the object so I know the exact city that is being referenced so there's no ambiguity, and it's null if it's top level location (continent). This works fine for mongodb where I can always look it up, but I've no idea how to move it to ES.</p>\n<p>How should I go about doing this?</p>\n"},{"tags":["java","double","decimal"],"comments":[{"owner":{"account_id":189770,"reputation":716,"user_id":429309,"display_name":"bsd"},"score":31,"creation_date":1326368128,"post_id":4937402,"comment_id":11030117,"body_markdown":"Here&#39;s a link to the original article [&quot;What Every Computer Scientist Should Know About Floating-Point Arithmetic&quot;](http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)","body":"Here&#39;s a link to the original article <a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">&quot;What Every Computer Scientist Should Know About Floating-Point Arithmetic&quot;</a>"},{"owner":{"account_id":756,"reputation":72319,"user_id":986,"accept_rate":93,"display_name":"Mark Ingram"},"score":44,"creation_date":1326371037,"post_id":4937402,"comment_id":11031030,"body_markdown":"Is there a reason you didn&#39;t do `x /= 100;` ?","body":"Is there a reason you didn&#39;t do <code>x &#47;= 100;</code> ?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1646362738,"post_id":4937402,"comment_id":126110077,"body_markdown":"Or `x *= 0.01;`?","body":"Or <code>x *= 0.01;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438189,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":1,"up_vote_count":53,"is_accepted":false,"score":52,"last_activity_date":1297193533,"creation_date":1297193533,"answer_id":4937424,"question_id":4937402,"body_markdown":"No - if you want to store decimal values accurately, use `BigDecimal`. `double` simply *can&#39;t* represent a number like 0.1 exactly, any more than you can write the value of a third exactly with a finite number of decimal digits.","title":"Moving decimal places over in a double","body":"<p>No - if you want to store decimal values accurately, use <code>BigDecimal</code>. <code>double</code> simply <em>can't</em> represent a number like 0.1 exactly, any more than you can write the value of a third exactly with a finite number of decimal digits.</p>\n"},{"tags":[],"owner":{"account_id":186866,"reputation":34972,"user_id":424509,"accept_rate":75,"display_name":"CanSpice"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1297193650,"creation_date":1297193650,"answer_id":4937443,"question_id":4937402,"body_markdown":"This is caused by the way computers store floating-point numbers. They don&#39;t do so exactly. As a programmer, you should read &lt;a href=&quot;http://floating-point-gui.de/&quot;&gt;this floating-point guide&lt;/a&gt; to familiarize yourself with the trials and tribulations of handling floating-point numbers.","title":"Moving decimal places over in a double","body":"<p>This is caused by the way computers store floating-point numbers. They don't do so exactly. As a programmer, you should read <a href=\"http://floating-point-gui.de/\" rel=\"noreferrer\">this floating-point guide</a> to familiarize yourself with the trials and tribulations of handling floating-point numbers.</p>\n"},{"tags":[],"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1297193750,"creation_date":1297193750,"answer_id":4937455,"question_id":4937402,"body_markdown":"No, as [Java floating point types][1] (indeed all floating point types) are a trade-off between size and precision. While they&#39;re very useful for a lot of tasks, if you need arbitrary precision, you should use `BigDecimal`.\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.2.3","title":"Moving decimal places over in a double","body":"<p>No, as <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#4.2.3\" rel=\"nofollow\">Java floating point types</a> (indeed all floating point types) are a trade-off between size and precision. While they're very useful for a lot of tasks, if you need arbitrary precision, you should use <code>BigDecimal</code>.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":2,"up_vote_count":194,"is_accepted":true,"score":192,"last_activity_date":1632741639,"creation_date":1297194510,"answer_id":4937591,"question_id":4937402,"body_markdown":"If you use `double` or `float`, you should use rounding or expect to see some rounding errors. If you can&#39;t do this, use `BigDecimal`.\r\n\r\nThe problem you have is that 0.1 is not an exact representation, and by performing the calculation twice, you are compounding that error.\r\n\r\nHowever, 100 can be represented accurately, so try:\r\n\r\n    double x = 1234;\r\n    x /= 100;\r\n    System.out.println(x);\r\n\r\nwhich prints:\r\n\r\n    12.34\r\n\r\nThis works because `Double.toString(d)` performs a small amount of rounding on your behalf, but it is not much. If you are wondering what it might look like without rounding:\r\n\r\n    System.out.println(new BigDecimal(0.1));\r\n    System.out.println(new BigDecimal(x));\r\n\r\nprints:\r\n\r\n    0.100000000000000005551115123125782702118158340454101562\r\n    12.339999999999999857891452847979962825775146484375\r\n\r\nIn short, rounding is unavoidable for sensible answers in floating point whether you are doing this explicitly or not.\r\n\r\n---\r\n\r\n   Note: `x / 100` and `x * 0.01` are not exactly the same when it comes to rounding error.  This is because the round error for the first expression depends on the values of x, whereas the `0.01` in the second has a fixed round error.\r\n\r\n    for(int i=0;i&lt;200;i++) {\r\n        double d1 = (double) i / 100;\r\n        double d2 = i * 0.01;\r\n        if (d1 != d2)\r\n            System.out.println(d1 + &quot; != &quot;+d2);\r\n    }\r\n\r\nprints\r\n\r\n    0.35 != 0.35000000000000003\r\n    0.41 != 0.41000000000000003\r\n    0.47 != 0.47000000000000003\r\n    0.57 != 0.5700000000000001\r\n    0.69 != 0.6900000000000001\r\n    0.7 != 0.7000000000000001\r\n    0.82 != 0.8200000000000001\r\n    0.83 != 0.8300000000000001\r\n    0.94 != 0.9400000000000001\r\n    0.95 != 0.9500000000000001\r\n    1.13 != 1.1300000000000001\r\n    1.14 != 1.1400000000000001\r\n    1.15 != 1.1500000000000001\r\n    1.38 != 1.3800000000000001\r\n    1.39 != 1.3900000000000001\r\n    1.4 != 1.4000000000000001\r\n    1.63 != 1.6300000000000001\r\n    1.64 != 1.6400000000000001\r\n    1.65 != 1.6500000000000001\r\n    1.66 != 1.6600000000000001\r\n    1.88 != 1.8800000000000001\r\n    1.89 != 1.8900000000000001\r\n    1.9 != 1.9000000000000001\r\n    1.91 != 1.9100000000000001\r\n\r\nNOTE: This has nothing to do with randomness in your system (or your power supply). This is due to a representation error, which will produce the same outcome every time. The precision of `double` is limited and in base 2 rather than base 10, so numbers which can be precisely represented in decimal often cann&#39;t be precisely represented in base 2.","title":"Moving decimal places over in a double","body":"<p>If you use <code>double</code> or <code>float</code>, you should use rounding or expect to see some rounding errors. If you can't do this, use <code>BigDecimal</code>.</p>\n<p>The problem you have is that 0.1 is not an exact representation, and by performing the calculation twice, you are compounding that error.</p>\n<p>However, 100 can be represented accurately, so try:</p>\n<pre><code>double x = 1234;\nx /= 100;\nSystem.out.println(x);\n</code></pre>\n<p>which prints:</p>\n<pre><code>12.34\n</code></pre>\n<p>This works because <code>Double.toString(d)</code> performs a small amount of rounding on your behalf, but it is not much. If you are wondering what it might look like without rounding:</p>\n<pre><code>System.out.println(new BigDecimal(0.1));\nSystem.out.println(new BigDecimal(x));\n</code></pre>\n<p>prints:</p>\n<pre><code>0.100000000000000005551115123125782702118158340454101562\n12.339999999999999857891452847979962825775146484375\n</code></pre>\n<p>In short, rounding is unavoidable for sensible answers in floating point whether you are doing this explicitly or not.</p>\n<hr />\n<p>Note: <code>x / 100</code> and <code>x * 0.01</code> are not exactly the same when it comes to rounding error.  This is because the round error for the first expression depends on the values of x, whereas the <code>0.01</code> in the second has a fixed round error.</p>\n<pre><code>for(int i=0;i&lt;200;i++) {\n    double d1 = (double) i / 100;\n    double d2 = i * 0.01;\n    if (d1 != d2)\n        System.out.println(d1 + &quot; != &quot;+d2);\n}\n</code></pre>\n<p>prints</p>\n<pre><code>0.35 != 0.35000000000000003\n0.41 != 0.41000000000000003\n0.47 != 0.47000000000000003\n0.57 != 0.5700000000000001\n0.69 != 0.6900000000000001\n0.7 != 0.7000000000000001\n0.82 != 0.8200000000000001\n0.83 != 0.8300000000000001\n0.94 != 0.9400000000000001\n0.95 != 0.9500000000000001\n1.13 != 1.1300000000000001\n1.14 != 1.1400000000000001\n1.15 != 1.1500000000000001\n1.38 != 1.3800000000000001\n1.39 != 1.3900000000000001\n1.4 != 1.4000000000000001\n1.63 != 1.6300000000000001\n1.64 != 1.6400000000000001\n1.65 != 1.6500000000000001\n1.66 != 1.6600000000000001\n1.88 != 1.8800000000000001\n1.89 != 1.8900000000000001\n1.9 != 1.9000000000000001\n1.91 != 1.9100000000000001\n</code></pre>\n<p>NOTE: This has nothing to do with randomness in your system (or your power supply). This is due to a representation error, which will produce the same outcome every time. The precision of <code>double</code> is limited and in base 2 rather than base 10, so numbers which can be precisely represented in decimal often cann't be precisely represented in base 2.</p>\n"},{"tags":[],"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1534759639,"creation_date":1297201872,"answer_id":4938898,"question_id":4937402,"body_markdown":"if it&#39;s **just** formatting, try printf \r\n\r\n    double x = 1234;\r\n    for(int i=1;i&lt;=2;i++)\r\n    {\r\n      x = x*.1;\r\n    }\r\n    System.out.printf(&quot;%.2f&quot;,x);\r\n\r\noutput\r\n\r\n    12.34","title":"Moving decimal places over in a double","body":"<p>if it's <strong>just</strong> formatting, try printf </p>\n\n<pre><code>double x = 1234;\nfor(int i=1;i&lt;=2;i++)\n{\n  x = x*.1;\n}\nSystem.out.printf(\"%.2f\",x);\n</code></pre>\n\n<p>output</p>\n\n<pre><code>12.34\n</code></pre>\n"},{"tags":[],"owner":{"account_id":427390,"reputation":1084,"user_id":809131,"display_name":"Jan Kotek"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1534759662,"creation_date":1326316406,"answer_id":8826725,"question_id":4937402,"body_markdown":"Yes, there is. With each double operation you may lose accuracy but the amount of accuracy differs for each operation and can be minimized by choosing the right sequence of operations.  For example when multiplying set of numbers, it is best to sort set by exponent before multiplying. \r\n\r\nAny decent book on number crunching describes this. For example:\r\nhttp://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\r\n\r\nAnd to answer your question: \r\n\r\nUse divide instead of multiply, this way you get correct result.\r\n\r\n    double x = 1234;\r\n    for(int i=1;i&lt;=2;i++)\r\n    {\r\n      x =  x / 10.0;\r\n    }\r\n    System.out.println(x);","title":"Moving decimal places over in a double","body":"<p>Yes, there is. With each double operation you may lose accuracy but the amount of accuracy differs for each operation and can be minimized by choosing the right sequence of operations.  For example when multiplying set of numbers, it is best to sort set by exponent before multiplying. </p>\n\n<p>Any decent book on number crunching describes this. For example:\n<a href=\"http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html</a></p>\n\n<p>And to answer your question: </p>\n\n<p>Use divide instead of multiply, this way you get correct result.</p>\n\n<pre><code>double x = 1234;\nfor(int i=1;i&lt;=2;i++)\n{\n  x =  x / 10.0;\n}\nSystem.out.println(x);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1097867,"reputation":411,"user_id":1091067,"display_name":"Terrence Andrew Davis"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1326348819,"creation_date":1326345713,"answer_id":8830500,"question_id":4937402,"body_markdown":"In financial software it is common to use integers for pennies.  In school, we were taught how to use fixed-point instead of floating, but that is usually powers of two.  Storing pennies in integers might be called &quot;fixed point&quot; as well.\r\n\r\n    int i=1234;\r\n    printf(&quot;%d.%02d\\r\\n&quot;,i/100,i%100);\r\n\r\nIn class, we were asked in general what numbers can be exactly represented in a base.\r\n\r\nFor `base=p1^n1*p2^n2`... you can represent any N where N=n*p1^m1*p2^m2.\r\n\r\nLet `base=14=2^1*7^1`... you can represent 1/7 1/14 1/28 1/49 but not 1/3\r\n\r\nI know about financial software -- I converted Ticketmaster&#39;s financial reports from VAX asm to PASCAL.  They had their own formatln() with codes for pennies.  The reason for the conversion was 32 bit integers were no longer enough. +/- 2 billion pennies is $20 million and that overflowed for the World Cup or Olympics, I forgot. \r\n\r\nI was sworn to secrecy.  Oh well.  In academea, if it&#39;s good you publish; in industry, you keep it secret.","title":"Moving decimal places over in a double","body":"<p>In financial software it is common to use integers for pennies.  In school, we were taught how to use fixed-point instead of floating, but that is usually powers of two.  Storing pennies in integers might be called \"fixed point\" as well.</p>\n\n<pre><code>int i=1234;\nprintf(\"%d.%02d\\r\\n\",i/100,i%100);\n</code></pre>\n\n<p>In class, we were asked in general what numbers can be exactly represented in a base.</p>\n\n<p>For <code>base=p1^n1*p2^n2</code>... you can represent any N where N=n*p1^m1*p2^m2.</p>\n\n<p>Let <code>base=14=2^1*7^1</code>... you can represent 1/7 1/14 1/28 1/49 but not 1/3</p>\n\n<p>I know about financial software -- I converted Ticketmaster's financial reports from VAX asm to PASCAL.  They had their own formatln() with codes for pennies.  The reason for the conversion was 32 bit integers were no longer enough. +/- 2 billion pennies is $20 million and that overflowed for the World Cup or Olympics, I forgot. </p>\n\n<p>I was sworn to secrecy.  Oh well.  In academea, if it's good you publish; in industry, you keep it secret.</p>\n"},{"tags":[],"owner":{"account_id":540573,"reputation":12635,"user_id":908821,"accept_rate":68,"display_name":"Angel Koh"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1465391694,"creation_date":1326349524,"answer_id":8830991,"question_id":4937402,"body_markdown":"you can try integer number representation\r\n\r\n    int i =1234;\r\n    int q = i /100;\r\n    int r = i % 100;\r\n\r\n    System.out.printf(&quot;%d.%02d&quot;,q, r);\r\n","title":"Moving decimal places over in a double","body":"<p>you can try integer number representation</p>\n\n<pre><code>int i =1234;\nint q = i /100;\nint r = i % 100;\n\nSystem.out.printf(\"%d.%02d\",q, r);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":541379,"reputation":2366,"user_id":909908,"display_name":"Justin Rowe"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1364910728,"creation_date":1364910070,"answer_id":15765686,"question_id":4937402,"body_markdown":"Funny that numerous posts mention to use BigDecimal but no-one bothers to give the correct answer based on BigDecimal? Because even with BigDecimal, you can still go wrong, as demonstrated by this code\r\n\r\n\r\n    String numstr = &quot;1234&quot;;\r\n    System.out.println(new BigDecimal(numstr).movePointLeft(2));\r\n    System.out.println(new BigDecimal(numstr).multiply(new BigDecimal(0.01)));\r\n    System.out.println(new BigDecimal(numstr).multiply(new BigDecimal(&quot;0.01&quot;)));\r\n\r\nGives this output\r\n\r\n    12.34\r\n    12.34000000000000025687785232264559454051777720451354980468750\r\n    12.34\r\n\r\nThe BigDecimal constructor specifically mentions that it is better to use String constructor than a numeric constructor. Ultimate precision is also influenced by the optional MathContext.\r\n\r\nAccording to the BigDecimal Javadoc **it is possible** to create a BigDecimal which is *exactly* equal to 0.1, provided you use the String constructor.","title":"Moving decimal places over in a double","body":"<p>Funny that numerous posts mention to use BigDecimal but no-one bothers to give the correct answer based on BigDecimal? Because even with BigDecimal, you can still go wrong, as demonstrated by this code</p>\n\n<pre><code>String numstr = \"1234\";\nSystem.out.println(new BigDecimal(numstr).movePointLeft(2));\nSystem.out.println(new BigDecimal(numstr).multiply(new BigDecimal(0.01)));\nSystem.out.println(new BigDecimal(numstr).multiply(new BigDecimal(\"0.01\")));\n</code></pre>\n\n<p>Gives this output</p>\n\n<pre><code>12.34\n12.34000000000000025687785232264559454051777720451354980468750\n12.34\n</code></pre>\n\n<p>The BigDecimal constructor specifically mentions that it is better to use String constructor than a numeric constructor. Ultimate precision is also influenced by the optional MathContext.</p>\n\n<p>According to the BigDecimal Javadoc <strong>it is possible</strong> to create a BigDecimal which is <em>exactly</em> equal to 0.1, provided you use the String constructor.</p>\n"}],"owner":{"account_id":24061,"reputation":1437,"user_id":60915,"accept_rate":50,"display_name":"BlackCow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104998,"favorite_count":0,"down_vote_count":9,"up_vote_count":107,"accepted_answer_id":4937591,"answer_count":9,"score":98,"last_activity_date":1632741639,"creation_date":1297193365,"question_id":4937402,"body_markdown":"So I have a double set to equal 1234, I want to move a decimal place over to make it 12.34\r\n\r\nSo to do this I multiply .1 to 1234 two times, kinda like this\r\n\r\n    double x = 1234;\r\n    for(int i=1;i&lt;=2;i++)\r\n    {\r\n      x = x*.1;\r\n    }\r\n    System.out.println(x);\r\n\r\nThis will print the result, &quot;12.340000000000002&quot;\r\n\r\nIs there a way, without simply formatting it to two decimal places, to have the double store 12.34 correctly?\r\n","title":"Moving decimal places over in a double","body":"<p>So I have a double set to equal 1234, I want to move a decimal place over to make it 12.34</p>\n\n<p>So to do this I multiply .1 to 1234 two times, kinda like this</p>\n\n<pre><code>double x = 1234;\nfor(int i=1;i&lt;=2;i++)\n{\n  x = x*.1;\n}\nSystem.out.println(x);\n</code></pre>\n\n<p>This will print the result, \"12.340000000000002\"</p>\n\n<p>Is there a way, without simply formatting it to two decimal places, to have the double store 12.34 correctly?</p>\n"},{"tags":["java","class","static","instance","non-static"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1632739832,"post_id":69345284,"comment_id":122566032,"body_markdown":"`public static class laptop`. `laptop` is an inner class of `main`, so you have to have an instance of `main` to create a `laptop`; and you don&#39;t have one here. If you make it `static`, it&#39;s no longer an inner class, so you don&#39;t need an instance of `main`.","body":"<code>public static class laptop</code>. <code>laptop</code> is an inner class of <code>main</code>, so you have to have an instance of <code>main</code> to create a <code>laptop</code>; and you don&#39;t have one here. If you make it <code>static</code>, it&#39;s no longer an inner class, so you don&#39;t need an instance of <code>main</code>."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1632739926,"post_id":69345284,"comment_id":122566070,"body_markdown":"Make the class `laptop` `static` or put it in another file.","body":"Make the class <code>laptop</code> <code>static</code> or put it in another file."},{"owner":{"account_id":17125511,"reputation":254,"user_id":12439735,"display_name":"Barney"},"score":0,"creation_date":1632742772,"post_id":69345284,"comment_id":122567126,"body_markdown":"class names in Java should be capitalized","body":"class names in Java should be capitalized"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632739935,"creation_date":1632739935,"answer_id":69345379,"question_id":69345284,"body_markdown":"You are calling `laptop` class constructor from a static method `main()`. Having said that you need to make your class also static as follows:\r\n\r\n```java\r\npublic static class laptop {\r\n   (...)\r\n}\r\n```","title":"Can anyone tell why this error is showing up? laptop l = new laptop(); non statis to static reference","body":"<p>You are calling <code>laptop</code> class constructor from a static method <code>main()</code>. Having said that you need to make your class also static as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static class laptop {\n   (...)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632740475,"creation_date":1632740475,"answer_id":69345480,"question_id":69345284,"body_markdown":"You should mark laptop class as static or put that class in an external file.","title":"Can anyone tell why this error is showing up? laptop l = new laptop(); non statis to static reference","body":"<p>You should mark laptop class as static or put that class in an external file.</p>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632741430,"creation_date":1632741430,"answer_id":69345667,"question_id":69345284,"body_markdown":"When you nest a class inside another class, if that class is not marked static, it is a *nested* class. This means that class has a hidden reference to the instance of the outer class which created it.\r\n\r\nSo:\r\n\r\n```\r\nclass Main {\r\n  class Laptop {\r\n  }\r\n}\r\n```\r\n\r\nThe `Laptop` class actually looks like:\r\n\r\n```\r\nclass Laptop {\r\n  private final Main this$0;\r\n\r\n  Laptop(Main this$0) {\r\n    this.this$0 = this$0;\r\n  }\r\n}\r\n```\r\n\r\nAll of this is hidden by the compiler, so you don&#39;t ordinarily see `this$0`; but the point is you actually need an instance of `Main` in order to be able to create an instance of `Laptop`.\r\n\r\nIf you were trying to invoke `new Laptop()` inside a non-static method in `Main`, there would be no problem: the current instance (&quot;`this`&quot;) would be passed as the instance of `Main`. But in a static method, there is no `this`, so there is nothing to pass.\r\n\r\nThere are a number of ways around this:\r\n\r\n1. Create an instance of `Main`:\r\n\r\n       Main m = new Main();\r\n       m.new Laptop();\r\n\r\n2. Invoke `new Laptop()` from inside an instance method in `Main` (but of course, you need an instance of `Main` on which to invoke that method, so you&#39;d still have to use `new Main()` somewhere to invoke that method.\r\n\r\n3. Make `Laptop` not a nested class: either declare it at the top-level, or make the class `static`. This removes the `this$0` reference, so there is no need for the instance of `Main` any more.","title":"Can anyone tell why this error is showing up? laptop l = new laptop(); non statis to static reference","body":"<p>When you nest a class inside another class, if that class is not marked static, it is a <em>nested</em> class. This means that class has a hidden reference to the instance of the outer class which created it.</p>\n<p>So:</p>\n<pre><code>class Main {\n  class Laptop {\n  }\n}\n</code></pre>\n<p>The <code>Laptop</code> class actually looks like:</p>\n<pre><code>class Laptop {\n  private final Main this$0;\n\n  Laptop(Main this$0) {\n    this.this$0 = this$0;\n  }\n}\n</code></pre>\n<p>All of this is hidden by the compiler, so you don't ordinarily see <code>this$0</code>; but the point is you actually need an instance of <code>Main</code> in order to be able to create an instance of <code>Laptop</code>.</p>\n<p>If you were trying to invoke <code>new Laptop()</code> inside a non-static method in <code>Main</code>, there would be no problem: the current instance (&quot;<code>this</code>&quot;) would be passed as the instance of <code>Main</code>. But in a static method, there is no <code>this</code>, so there is nothing to pass.</p>\n<p>There are a number of ways around this:</p>\n<ol>\n<li><p>Create an instance of <code>Main</code>:</p>\n<pre><code>Main m = new Main();\nm.new Laptop();\n</code></pre>\n</li>\n<li><p>Invoke <code>new Laptop()</code> from inside an instance method in <code>Main</code> (but of course, you need an instance of <code>Main</code> on which to invoke that method, so you'd still have to use <code>new Main()</code> somewhere to invoke that method.</p>\n</li>\n<li><p>Make <code>Laptop</code> not a nested class: either declare it at the top-level, or make the class <code>static</code>. This removes the <code>this$0</code> reference, so there is no need for the instance of <code>Main</code> any more.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":22872414,"reputation":121,"user_id":17015257,"display_name":"NL_Dev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69345667,"answer_count":3,"score":-1,"last_activity_date":1632741430,"creation_date":1632739484,"question_id":69345284,"body_markdown":"Q:\r\nWrite a java program that creates a class called laptop. The data members of the class are brand (string), model(string), serial (int),colour (string), price (float), processor speed (float), RAM (int), screen size(float).Create member function that will set the individual values. Since the RAM can be upgraded therefore create a function that allows you to upgrade the RAM only. In the end, create a function that will display all the data members. You take input by using scanner and display results.\r\n    \r\n    import java.util.Scanner;\r\n\r\n    class main {\r\n        public static void main(String[] args) {\r\n           laptop l = new laptop();\r\n           l.display();\r\n        }\r\n\r\n\r\n    public class laptop {\r\n        private String brand;\r\n        private String model;\r\n        private int serial;\r\n        private String colour;\r\n        private float price;\r\n        private float processorSpeed;\r\n        private int RAM;\r\n        private float screenSize;\r\n\r\n        public void upgradeRAM(int newRAM_Installed){\r\n            setRAM(newRAM_Installed);\r\n        }\r\n\r\n        public String getBrand() {\r\n            return this.brand;\r\n        }\r\n\r\n        public void setBrand(String brand) {\r\n            this.brand = brand;\r\n        }\r\n\r\n        public String getModel() {\r\n            return this.model;\r\n        }\r\n\r\n        public void setModel(String model) {\r\n            this.model = model;\r\n        }\r\n\r\n        public int getSerial() {\r\n            return this.serial;\r\n        }\r\n\r\n        public void setSerial(int serial) {\r\n            this.serial = serial;\r\n        }\r\n\r\n        public String getColour() {\r\n            return this.colour;\r\n        }\r\n\r\n        public void setColour(String colour) {\r\n            this.colour = colour;\r\n        }\r\n\r\n        public float getPrice() {\r\n            return this.price;\r\n        }\r\n\r\n        public void setPrice(float price) {\r\n            this.price = price;\r\n        }\r\n\r\n        public float getProcessorSpeed() {\r\n            return this.processorSpeed;\r\n        }\r\n\r\n        public void setProcessorSpeed(float processorSpeed) {\r\n            this.processorSpeed = processorSpeed;\r\n        }\r\n\r\n        public int getRAM() {\r\n            return this.RAM;\r\n        }\r\n\r\n        public void setRAM(int RAM) {\r\n            this.RAM = RAM;\r\n        }\r\n\r\n        public float getScreenSize() {\r\n            return this.screenSize;\r\n        }\r\n\r\n        public void setScreenSize(float screenSize) {\r\n            this.screenSize = screenSize;\r\n        }\r\n\r\n        public void input() {\r\n            Scanner input = new Scanner(System.in);\r\n            //Use for repitative task \r\n            laptop dell = new laptop();\r\n            System.out.println(&quot;Enter \\&quot;Brand\\&quot; name: &quot;);\r\n            dell.setBrand(input.nextLine());\r\n            System.out.println(&quot;Enter \\&quot;Colour\\&quot; name: &quot;);\r\n            dell.setColour(input.nextLine());\r\n            System.out.println(&quot;Enter \\&quot;Model\\&quot; name: &quot;);\r\n            dell.setModel(input.nextLine());\r\n            System.out.println(&quot;Enter \\&quot;Price\\&quot; : &quot;);\r\n            dell.setPrice(input.nextInt());\r\n            System.out.println(&quot;Enter \\&quot;Processor Speed\\&quot; : &quot;);\r\n            dell.setProcessorSpeed(input.nextFloat());\r\n            System.out.println(&quot;Enter \\&quot;RAM\\&quot; : &quot;);\r\n            dell.setRAM(input.nextInt());\r\n            System.out.println(&quot;Enter \\&quot;Screen Size\\&quot; : &quot;);\r\n            dell.setScreenSize(input.nextFloat());\r\n            System.out.println(&quot;Enter \\&quot;Serial\\&quot; : &quot;);\r\n            dell.setSerial(input.nextInt());\r\n            System.out.println(&quot;\\n\\n\\\\n*******Displaying \r\n             Result*******\\n\\n&quot;);\r\n        }\r\n\r\n        public void display() {\r\n            laptop newLaptop = new laptop();\r\n            newLaptop.input();\r\n            System.out.println(&quot;Brand: &quot;+ newLaptop.brand);\r\n            System.out.println(&quot;RAM: &quot;+ newLaptop.RAM);\r\n            System.out.println(&quot;Colour: &quot;+ newLaptop.colour);\r\n            System.out.println(&quot;Model: &quot;+ newLaptop.model);\r\n            System.out.println(&quot;Price: &quot;+ newLaptop.price);\r\n            System.out.println(&quot;Processor Speed: &quot;+ \r\n            newLaptop.processorSpeed);\r\n            System.out.println(&quot;Screen Size: &quot; + newLaptop.screenSize);\r\n            System.out.println(&quot;Serial: &quot;+ newLaptop.serial);\r\n        }\r\n    }\r\n    }\r\n\r\n","title":"Can anyone tell why this error is showing up? laptop l = new laptop(); non statis to static reference","body":"<p>Q:\nWrite a java program that creates a class called laptop. The data members of the class are brand (string), model(string), serial (int),colour (string), price (float), processor speed (float), RAM (int), screen size(float).Create member function that will set the individual values. Since the RAM can be upgraded therefore create a function that allows you to upgrade the RAM only. In the end, create a function that will display all the data members. You take input by using scanner and display results.</p>\n<pre><code>import java.util.Scanner;\n\nclass main {\n    public static void main(String[] args) {\n       laptop l = new laptop();\n       l.display();\n    }\n\n\npublic class laptop {\n    private String brand;\n    private String model;\n    private int serial;\n    private String colour;\n    private float price;\n    private float processorSpeed;\n    private int RAM;\n    private float screenSize;\n\n    public void upgradeRAM(int newRAM_Installed){\n        setRAM(newRAM_Installed);\n    }\n\n    public String getBrand() {\n        return this.brand;\n    }\n\n    public void setBrand(String brand) {\n        this.brand = brand;\n    }\n\n    public String getModel() {\n        return this.model;\n    }\n\n    public void setModel(String model) {\n        this.model = model;\n    }\n\n    public int getSerial() {\n        return this.serial;\n    }\n\n    public void setSerial(int serial) {\n        this.serial = serial;\n    }\n\n    public String getColour() {\n        return this.colour;\n    }\n\n    public void setColour(String colour) {\n        this.colour = colour;\n    }\n\n    public float getPrice() {\n        return this.price;\n    }\n\n    public void setPrice(float price) {\n        this.price = price;\n    }\n\n    public float getProcessorSpeed() {\n        return this.processorSpeed;\n    }\n\n    public void setProcessorSpeed(float processorSpeed) {\n        this.processorSpeed = processorSpeed;\n    }\n\n    public int getRAM() {\n        return this.RAM;\n    }\n\n    public void setRAM(int RAM) {\n        this.RAM = RAM;\n    }\n\n    public float getScreenSize() {\n        return this.screenSize;\n    }\n\n    public void setScreenSize(float screenSize) {\n        this.screenSize = screenSize;\n    }\n\n    public void input() {\n        Scanner input = new Scanner(System.in);\n        //Use for repitative task \n        laptop dell = new laptop();\n        System.out.println(&quot;Enter \\&quot;Brand\\&quot; name: &quot;);\n        dell.setBrand(input.nextLine());\n        System.out.println(&quot;Enter \\&quot;Colour\\&quot; name: &quot;);\n        dell.setColour(input.nextLine());\n        System.out.println(&quot;Enter \\&quot;Model\\&quot; name: &quot;);\n        dell.setModel(input.nextLine());\n        System.out.println(&quot;Enter \\&quot;Price\\&quot; : &quot;);\n        dell.setPrice(input.nextInt());\n        System.out.println(&quot;Enter \\&quot;Processor Speed\\&quot; : &quot;);\n        dell.setProcessorSpeed(input.nextFloat());\n        System.out.println(&quot;Enter \\&quot;RAM\\&quot; : &quot;);\n        dell.setRAM(input.nextInt());\n        System.out.println(&quot;Enter \\&quot;Screen Size\\&quot; : &quot;);\n        dell.setScreenSize(input.nextFloat());\n        System.out.println(&quot;Enter \\&quot;Serial\\&quot; : &quot;);\n        dell.setSerial(input.nextInt());\n        System.out.println(&quot;\\n\\n\\\\n*******Displaying \n         Result*******\\n\\n&quot;);\n    }\n\n    public void display() {\n        laptop newLaptop = new laptop();\n        newLaptop.input();\n        System.out.println(&quot;Brand: &quot;+ newLaptop.brand);\n        System.out.println(&quot;RAM: &quot;+ newLaptop.RAM);\n        System.out.println(&quot;Colour: &quot;+ newLaptop.colour);\n        System.out.println(&quot;Model: &quot;+ newLaptop.model);\n        System.out.println(&quot;Price: &quot;+ newLaptop.price);\n        System.out.println(&quot;Processor Speed: &quot;+ \n        newLaptop.processorSpeed);\n        System.out.println(&quot;Screen Size: &quot; + newLaptop.screenSize);\n        System.out.println(&quot;Serial: &quot;+ newLaptop.serial);\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","arrays","string","nullpointerexception"],"comments":[{"owner":{"account_id":40248,"reputation":56308,"user_id":116614,"accept_rate":92,"display_name":"mellamokb"},"score":0,"creation_date":1342113914,"post_id":11457236,"comment_id":15122480,"body_markdown":"You&#39;re splitting on any character, so all characters are being splitted on leaving nothing left in the array.  [string.split](http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#split(java.lang.String)) takes a regular expression.","body":"You&#39;re splitting on any character, so all characters are being splitted on leaving nothing left in the array.  <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/lang/String.html#split(java.lang.String)\" rel=\"nofollow noreferrer\">string.split</a> takes a regular expression."},{"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":4,"creation_date":1342113921,"post_id":11457236,"comment_id":15122482,"body_markdown":"Dot `.` means &quot;any character&quot; :) You need a &quot;real dot&quot; `[.]`","body":"Dot <code>.</code> means &quot;any character&quot; :) You need a &quot;real dot&quot; <code>[.]</code>"},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1342113994,"post_id":11457236,"comment_id":15122516,"body_markdown":"To be exact, depending on the mode (DOTALL), `.` will or will not match new line character.","body":"To be exact, depending on the mode (DOTALL), <code>.</code> will or will not match new line character."},{"owner":{"account_id":1451393,"reputation":101,"user_id":1370321,"display_name":"acolyte"},"score":0,"creation_date":1342124310,"post_id":11457236,"comment_id":15126977,"body_markdown":"might i add, if you were using python, you&#39;d be pretty much 100% correct.  the python split command splits by a character (or regex, but it defaults to a char)","body":"might i add, if you were using python, you&#39;d be pretty much 100% correct.  the python split command splits by a character (or regex, but it defaults to a char)"},{"owner":{"account_id":1279100,"reputation":13623,"user_id":1233652,"accept_rate":67,"display_name":"Alex Lipov"},"score":3,"creation_date":1438524200,"post_id":11457236,"comment_id":51475885,"body_markdown":"Just a tiny correction - this code will throw java.lang.IndexOutOfBoundsException exception, rather than NPE (as OP wrote). String#split never returns null. The issue here is that the result is an empty array.","body":"Just a tiny correction - this code will throw java.lang.IndexOutOfBoundsException exception, rather than NPE (as OP wrote). String#split never returns null. The issue here is that the result is an empty array."}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":1,"up_vote_count":51,"is_accepted":true,"score":50,"last_activity_date":1451686628,"creation_date":1342113878,"answer_id":11457253,"question_id":11457236,"body_markdown":"Use `ip.split(&quot;\\\\.&quot;);` and your problems will be solved. The problem is that [String#split][1] receives a regular expression, the dot (.) symbol is a special character in regular expressions, so you need to escape it for it to be interpreted as a plain dot, also as the backslash is an escape character in Java, you have to escape it too.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29","title":"String.split returning null when using a dot","body":"<p>Use <code>ip.split(\"\\\\.\");</code> and your problems will be solved. The problem is that <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/String.html#split%28java.lang.String%29\" rel=\"noreferrer\">String#split</a> receives a regular expression, the dot (.) symbol is a special character in regular expressions, so you need to escape it for it to be interpreted as a plain dot, also as the backslash is an escape character in Java, you have to escape it too.</p>\n"},{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":42,"is_accepted":false,"score":42,"last_activity_date":1342113958,"creation_date":1342113958,"answer_id":11457272,"question_id":11457236,"body_markdown":"`.` is a special character in regular expressions, which is what is used to split a string.\r\n\r\nTo get around this, you need to escape the `.`. That leads us to `\\.` Unfortunately, `\\` is ALSO a special character in the java string, so that must also be escaped, to make `\\\\.`\r\n\r\nOur &quot;final&quot; result is `ip.split(&quot;\\\\.&quot;);`\r\n\r\nIn a related issue, the whole process can be averted entirely. There&#39;s no sense in doing something that a standard library already has done for us.\r\n\r\nConsider the following\r\n\r\n    byte[] ipOctets = InetAddress.getByName(ip).getAddress();\r\n\r\nThe only issue here is to remember that if you want the int value, you have to extract it with `&amp;` like `int octet = ipOctets[0] &amp; 0xFF;`","title":"String.split returning null when using a dot","body":"<p><code>.</code> is a special character in regular expressions, which is what is used to split a string.</p>\n\n<p>To get around this, you need to escape the <code>.</code>. That leads us to <code>\\.</code> Unfortunately, <code>\\</code> is ALSO a special character in the java string, so that must also be escaped, to make <code>\\\\.</code></p>\n\n<p>Our \"final\" result is <code>ip.split(\"\\\\.\");</code></p>\n\n<p>In a related issue, the whole process can be averted entirely. There's no sense in doing something that a standard library already has done for us.</p>\n\n<p>Consider the following</p>\n\n<pre><code>byte[] ipOctets = InetAddress.getByName(ip).getAddress();\n</code></pre>\n\n<p>The only issue here is to remember that if you want the int value, you have to extract it with <code>&amp;</code> like <code>int octet = ipOctets[0] &amp; 0xFF;</code></p>\n"},{"tags":[],"owner":{"account_id":291949,"reputation":4846,"user_id":594406,"accept_rate":29,"display_name":"Katona"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1378491202,"creation_date":1378491202,"answer_id":18664044,"question_id":11457236,"body_markdown":"[Pattern.quote(String)][1] can also be used to quote the whole string. This returns a pattern which will be interpreted literally, special characters will have no special meaning. This might be overkill in this case, but sometimes it can be useful.\r\n\r\n[1]:\r\nhttp://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#quote(java.lang.String)","title":"String.split returning null when using a dot","body":"<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/regex/Pattern.html#quote%28java.lang.String%29\" rel=\"noreferrer\">Pattern.quote(String)</a> can also be used to quote the whole string. This returns a pattern which will be interpreted literally, special characters will have no special meaning. This might be overkill in this case, but sometimes it can be useful.</p>\n"},{"tags":[],"owner":{"account_id":22872644,"reputation":1,"user_id":17015450,"display_name":"Sayak-"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632741251,"creation_date":1632741251,"answer_id":69345631,"question_id":11457236,"body_markdown":"We can also use split (&quot;[.]&quot;)\r\n\r\n    String s = &quot;abcd.jpg&quot;;\r\n    String[] strarry = s.split (&quot;[.]&quot;);\r\nstrarry[0]=abcd,\r\nstrarry[1]=jpg","title":"String.split returning null when using a dot","body":"<p>We can also use split (&quot;[.]&quot;)</p>\n<pre><code>String s = &quot;abcd.jpg&quot;;\nString[] strarry = s.split (&quot;[.]&quot;);\n</code></pre>\n<p>strarry[0]=abcd,\nstrarry[1]=jpg</p>\n"}],"owner":{"account_id":284280,"reputation":5114,"user_id":582295,"accept_rate":73,"display_name":"CyanPrime"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6897,"favorite_count":0,"down_vote_count":1,"up_vote_count":27,"accepted_answer_id":11457253,"answer_count":4,"score":26,"last_activity_date":1632741251,"creation_date":1342113805,"question_id":11457236,"body_markdown":"I got this simple code:\r\n\r\n    String ip = &quot;1.2.3.4&quot;;\r\n    String[] ipArray = ip.split(&quot;.&quot;);\r\n    System.out.println(ipArray[1]);\r\n\r\nAnd `ipArray` is null by the time it hits `System.out.println` (throws null pointer exception).\r\n\r\nMy question is why does ipArray stay null even though I&#39;m setting it to split on each of ip&#39;s .s?\r\n","title":"String.split returning null when using a dot","body":"<p>I got this simple code:</p>\n\n<pre><code>String ip = \"1.2.3.4\";\nString[] ipArray = ip.split(\".\");\nSystem.out.println(ipArray[1]);\n</code></pre>\n\n<p>And <code>ipArray</code> is null by the time it hits <code>System.out.println</code> (throws null pointer exception).</p>\n\n<p>My question is why does ipArray stay null even though I'm setting it to split on each of ip's .s?</p>\n"},{"tags":["java","ubuntu","uninstallation","interactive-brokers","tws"],"answers":[{"tags":[],"owner":{"account_id":12233435,"reputation":398,"user_id":8928659,"display_name":"TravelTrader"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519764970,"creation_date":1519764970,"answer_id":49017802,"question_id":48559449,"body_markdown":"I&#39;m using the TWS with macOS but I think because of the UNIX-base it&#39;s the same as linux distributions:\r\n\r\nBecause of its java core it&#39;s not spreaded like some other applications. All files in the `~/Jts` directory and the execution files in `~/Applications/`.","title":"How to properly uninstall TWS (Trader Workstation) by Interactive Brokers from Ubuntu?","body":"<p>I'm using the TWS with macOS but I think because of the UNIX-base it's the same as linux distributions:</p>\n\n<p>Because of its java core it's not spreaded like some other applications. All files in the <code>~/Jts</code> directory and the execution files in <code>~/Applications/</code>.</p>\n"},{"tags":[],"owner":{"account_id":5544246,"reputation":2369,"user_id":4399576,"display_name":"Dimitar II"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528134421,"creation_date":1528134421,"answer_id":50686122,"question_id":48559449,"body_markdown":"Deleting directory `~/Jts` will be enough under Linux.\r\nBut this will not delete the user settings, because they are uploaded on remote server and will be applied again after re-install.","title":"How to properly uninstall TWS (Trader Workstation) by Interactive Brokers from Ubuntu?","body":"<p>Deleting directory <code>~/Jts</code> will be enough under Linux.\nBut this will not delete the user settings, because they are uploaded on remote server and will be applied again after re-install.</p>\n"},{"tags":[],"owner":{"account_id":14524473,"reputation":31,"user_id":10491229,"display_name":"LewG"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539279013,"creation_date":1539279013,"answer_id":52765892,"question_id":48559449,"body_markdown":"I wrote to IB about this and their answer is below.  I&#39;m not a client. I was just looking at them again. I don&#39;t like not knowing more about it, but I&#39;ll try the post below.\r\n\r\n&gt; Dear Client,\r\n&gt; \r\n&gt; Thank you for contacting Interactive Brokers. I apologize for the\r\n&gt; delayed response.\r\n&gt; \r\n&gt; Unfortunately, we do not have any official documentation on this. You\r\n&gt; will have to do a search on the Internet for the instructions on how\r\n&gt; to uninstall a application using Linux.\r\n&gt; \r\n&gt; I apologize for any inconvenience and appreciate your understanding.\r\n&gt; \r\n&gt; Regards,\r\n&gt; \r\n&gt; Almir B. Technical Assistance Center Interactive Brokers","title":"How to properly uninstall TWS (Trader Workstation) by Interactive Brokers from Ubuntu?","body":"<p>I wrote to IB about this and their answer is below.  I'm not a client. I was just looking at them again. I don't like not knowing more about it, but I'll try the post below.</p>\n\n<blockquote>\n  <p>Dear Client,</p>\n  \n  <p>Thank you for contacting Interactive Brokers. I apologize for the\n  delayed response.</p>\n  \n  <p>Unfortunately, we do not have any official documentation on this. You\n  will have to do a search on the Internet for the instructions on how\n  to uninstall a application using Linux.</p>\n  \n  <p>I apologize for any inconvenience and appreciate your understanding.</p>\n  \n  <p>Regards,</p>\n  \n  <p>Almir B. Technical Assistance Center Interactive Brokers</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":14748957,"reputation":81,"user_id":10651575,"display_name":"user10651575"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1542193645,"creation_date":1542193645,"answer_id":53298781,"question_id":48559449,"body_markdown":"I found an uninstall script in ~/Applications/Trader Workstation and ran that.\r\nDeleted the empty directory ~/Applications/Trader Workstation and ~/Jts","title":"How to properly uninstall TWS (Trader Workstation) by Interactive Brokers from Ubuntu?","body":"<p>I found an uninstall script in ~/Applications/Trader Workstation and ran that.\nDeleted the empty directory ~/Applications/Trader Workstation and ~/Jts</p>\n"},{"tags":[],"owner":{"account_id":1117198,"reputation":757,"user_id":1106278,"accept_rate":67,"display_name":"user1106278"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1574614062,"creation_date":1574614062,"answer_id":59020047,"question_id":48559449,"body_markdown":"Inside ~/Jts I found an uninstall script.  Run ./uninstall, then remove the Jts directory.","title":"How to properly uninstall TWS (Trader Workstation) by Interactive Brokers from Ubuntu?","body":"<p>Inside ~/Jts I found an uninstall script.  Run ./uninstall, then remove the Jts directory.</p>\n"},{"tags":[],"owner":{"account_id":5612408,"reputation":731,"user_id":4444742,"display_name":"alex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588750177,"creation_date":1588750177,"answer_id":61629649,"question_id":48559449,"body_markdown":"I found the shell script ~/Jts/978/uninstall, \r\n978 being the installed version.","title":"How to properly uninstall TWS (Trader Workstation) by Interactive Brokers from Ubuntu?","body":"<p>I found the shell script ~/Jts/978/uninstall, \n978 being the installed version.</p>\n"},{"tags":[],"owner":{"account_id":13848787,"reputation":111,"user_id":10531928,"display_name":"franman726"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592798213,"creation_date":1592798213,"answer_id":62507209,"question_id":48559449,"body_markdown":"Ubuntu 18.04 uninstall.sh in ~/Jts/979 .","title":"How to properly uninstall TWS (Trader Workstation) by Interactive Brokers from Ubuntu?","body":"<p>Ubuntu 18.04 uninstall.sh in ~/Jts/979 .</p>\n"},{"tags":[],"owner":{"account_id":15876317,"reputation":510,"user_id":13998163,"display_name":"vmemmap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619281220,"creation_date":1619281220,"answer_id":67244952,"question_id":48559449,"body_markdown":"The script `uninstall` is no longer in `~/Jts`, it&#39;s located in the installion directory `tws` - **Trader Workstation** creates by default, you could also change the path in which the directory will be created.\r\n\r\n- `uninstall` doesn&#39;t remove neither `~/Jts` or `tws`, make sure to remove them by yourself.","title":"How to properly uninstall TWS (Trader Workstation) by Interactive Brokers from Ubuntu?","body":"<p>The script <code>uninstall</code> is no longer in <code>~/Jts</code>, it's located in the installion directory <code>tws</code> - <strong>Trader Workstation</strong> creates by default, you could also change the path in which the directory will be created.</p>\n<ul>\n<li><code>uninstall</code> doesn't remove neither <code>~/Jts</code> or <code>tws</code>, make sure to remove them by yourself.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4369773,"reputation":159,"user_id":6412086,"display_name":"Kai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632741234,"creation_date":1632741234,"answer_id":69345626,"question_id":48559449,"body_markdown":"For myself, MacOS BigSur, with TWS version 10.*.\r\n\r\n 1. Uninstall via `~/Applications/Trader Workstation/Uninstall.app`\r\n \r\n 2. Remove both `~/Applications/Trader Workstation` and `~/Jts`\r\n","title":"How to properly uninstall TWS (Trader Workstation) by Interactive Brokers from Ubuntu?","body":"<p>For myself, MacOS BigSur, with TWS version 10.*.</p>\n<ol>\n<li><p>Uninstall via <code>~/Applications/Trader Workstation/Uninstall.app</code></p>\n</li>\n<li><p>Remove both <code>~/Applications/Trader Workstation</code> and <code>~/Jts</code></p>\n</li>\n</ol>\n"}],"owner":{"account_id":11615462,"reputation":398,"user_id":8508376,"display_name":"Malik Alimoekhamedov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12168,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":9,"score":9,"last_activity_date":1632741234,"creation_date":1517477710,"question_id":48559449,"body_markdown":"I guess everything is in the title.\r\n\r\nThey do have an installation shell script but nothing else. I was looking for any other scripts or, maybe, some CLI flags to make it perform an uninstall but couldn&#39;t find any.\r\n\r\nHow does one properly uninstall this stuff?\r\n","title":"How to properly uninstall TWS (Trader Workstation) by Interactive Brokers from Ubuntu?","body":"<p>I guess everything is in the title.</p>\n\n<p>They do have an installation shell script but nothing else. I was looking for any other scripts or, maybe, some CLI flags to make it perform an uninstall but couldn't find any.</p>\n\n<p>How does one properly uninstall this stuff?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":1,"creation_date":1632729103,"post_id":69342963,"comment_id":122561564,"body_markdown":"Hard to tell as there is no server code here, but a quick guess. You have a typo in your url. You said the name of your application was `testApp` and your url says `tesApp`.","body":"Hard to tell as there is no server code here, but a quick guess. You have a typo in your url. You said the name of your application was <code>testApp</code> and your url says <code>tesApp</code>."},{"owner":{"account_id":17543108,"reputation":93,"user_id":12724935,"display_name":"WScoder"},"score":0,"creation_date":1632729398,"post_id":69342963,"comment_id":122561682,"body_markdown":"Typo was only on the post here. Unfortunately.","body":"Typo was only on the post here. Unfortunately."},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1632729616,"post_id":69342963,"comment_id":122561774,"body_markdown":"So then it is still hard to tell. Your server apparently responds as you get a 404 status back, but it can&#39;t find the resource you are trying to find. So without any code or configuration of what you have done on the server side (including your testApp) we are really just guessing.","body":"So then it is still hard to tell. Your server apparently responds as you get a 404 status back, but it can&#39;t find the resource you are trying to find. So without any code or configuration of what you have done on the server side (including your testApp) we are really just guessing."},{"owner":{"account_id":2829929,"reputation":5163,"user_id":2431702,"display_name":"DanielBarbarian"},"score":0,"creation_date":1632729729,"post_id":69342963,"comment_id":122561820,"body_markdown":"Post some code in your question if we are to help you further. Anyway, I would start by double checking if you can even reach the url from a browser. If that also fails, you have a problem on the server side and should check your url mappings.","body":"Post some code in your question if we are to help you further. Anyway, I would start by double checking if you can even reach the url from a browser. If that also fails, you have a problem on the server side and should check your url mappings."},{"owner":{"account_id":1630483,"reputation":4039,"user_id":1505146,"accept_rate":50,"display_name":"Tasos P."},"score":0,"creation_date":1633358979,"post_id":69342963,"comment_id":122732225,"body_markdown":"Your client tries to perform a `HEAD` request but you only implement `@GET`. Normally, a HTTP 405 would be returned but even that would be depended on the actual JAX-RS implementation.","body":"Your client tries to perform a <code>HEAD</code> request but you only implement <code>@GET</code>. Normally, a HTTP 405 would be returned but even that would be depended on the actual JAX-RS implementation."}],"owner":{"account_id":17543108,"reputation":93,"user_id":12724935,"display_name":"WScoder"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632740928,"creation_date":1632728970,"question_id":69342963,"body_markdown":"I have a webApp named &quot;testApp&quot;. I have created an URL for the sole purpose of just pinging this address. For some reason my code returns 404. How to set it up properly?\r\n\r\nMy code:\r\n\r\n        public class PingEndpoint {\r\n      \r\n      public static String URL = &quot;http://localhost:8080/testApp/ping&quot;;\r\n    \r\n      public static void urlEndpoint() throws MalformedURLException, IOException {\r\n        URL url = new URL(URL);\r\n        HttpURLConnection connection = (HttpURLConnection) url.openConnection();\r\n        connection.setRequestMethod(&quot;HEAD&quot;);\r\n        connection.connect();\r\n        int responseCode = connection.getResponseCode();\r\n        System.out.println(URL + &quot;PingEndpoint server responseCode: &quot; + responseCode);\r\n        if (responseCode == 200) {\r\n          LogManager.getLogger().info(&quot;Server status: &quot; + responseCode);\r\n        } else {\r\n          LogManager.getLogger().info(&quot;Error, Server status: &quot; + responseCode);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nMy endpoint creation:\r\n\r\nPingResource class\r\n\r\n    @Path(&quot;ping&quot;)\r\n    @RequestScoped\r\n    public class PingResource {\r\n      private static final Ping PING = new Ping(&quot;transactions&quot;);\r\n      @GET\r\n      @Produces({APPLICATION_XML, APPLICATION_JSON})\r\n      public Ping ping() {\r\n        return PING;\r\n      }\r\n    }\r\n\r\nPing Class\r\n\r\n    @XmlRootElement\r\n    public class Ping {\r\n    \r\n      @XmlAttribute\r\n      public final String result = &quot;ok&quot;;\r\n      @XmlAttribute\r\n      public final String from;\r\n    \r\n      public Ping() {\r\n        from = &quot;ping&quot;;\r\n      }\r\n    \r\n      public Ping(String from) {\r\n        this.from = from;\r\n      }\r\n    }\r\n\r\nApplicationResources Class\r\n\r\n    @javax.ws.rs.ApplicationPath(&quot;testApp&quot;)\r\n    public class ApplicationConfig extends Application {\r\n    \r\n      @Override\r\n      public Set&lt;Class&lt;?&gt;&gt; getClasses() {\r\n        Set&lt;Class&lt;?&gt;&gt; resources = new java.util.HashSet&lt;&gt;();\r\n    \r\n        addRestResourceClasses(resources);\r\n        return resources;\r\n      }\r\n    \r\n      private void addRestResourceClasses(Set&lt;Class&lt;?&gt;&gt; resources) {\r\n        resources.add(fi.western.wroute.foli.nettilataus.pingService.PingResource.class);\r\n      }\r\n    \r\n    }","title":"Creating a new URL with Java on my webApp returns 404. How to set it up properly?","body":"<p>I have a webApp named &quot;testApp&quot;. I have created an URL for the sole purpose of just pinging this address. For some reason my code returns 404. How to set it up properly?</p>\n<p>My code:</p>\n<pre><code>    public class PingEndpoint {\n  \n  public static String URL = &quot;http://localhost:8080/testApp/ping&quot;;\n\n  public static void urlEndpoint() throws MalformedURLException, IOException {\n    URL url = new URL(URL);\n    HttpURLConnection connection = (HttpURLConnection) url.openConnection();\n    connection.setRequestMethod(&quot;HEAD&quot;);\n    connection.connect();\n    int responseCode = connection.getResponseCode();\n    System.out.println(URL + &quot;PingEndpoint server responseCode: &quot; + responseCode);\n    if (responseCode == 200) {\n      LogManager.getLogger().info(&quot;Server status: &quot; + responseCode);\n    } else {\n      LogManager.getLogger().info(&quot;Error, Server status: &quot; + responseCode);\n    }\n  }\n}\n</code></pre>\n<p>My endpoint creation:</p>\n<p>PingResource class</p>\n<pre><code>@Path(&quot;ping&quot;)\n@RequestScoped\npublic class PingResource {\n  private static final Ping PING = new Ping(&quot;transactions&quot;);\n  @GET\n  @Produces({APPLICATION_XML, APPLICATION_JSON})\n  public Ping ping() {\n    return PING;\n  }\n}\n</code></pre>\n<p>Ping Class</p>\n<pre><code>@XmlRootElement\npublic class Ping {\n\n  @XmlAttribute\n  public final String result = &quot;ok&quot;;\n  @XmlAttribute\n  public final String from;\n\n  public Ping() {\n    from = &quot;ping&quot;;\n  }\n\n  public Ping(String from) {\n    this.from = from;\n  }\n}\n</code></pre>\n<p>ApplicationResources Class</p>\n<pre><code>@javax.ws.rs.ApplicationPath(&quot;testApp&quot;)\npublic class ApplicationConfig extends Application {\n\n  @Override\n  public Set&lt;Class&lt;?&gt;&gt; getClasses() {\n    Set&lt;Class&lt;?&gt;&gt; resources = new java.util.HashSet&lt;&gt;();\n\n    addRestResourceClasses(resources);\n    return resources;\n  }\n\n  private void addRestResourceClasses(Set&lt;Class&lt;?&gt;&gt; resources) {\n    resources.add(fi.western.wroute.foli.nettilataus.pingService.PingResource.class);\n  }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","jackson"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1632614729,"post_id":69330531,"comment_id":122540804,"body_markdown":"Would it also serve the purposes of your use case if this was done in the getter method?","body":"Would it also serve the purposes of your use case if this was done in the getter method?"},{"owner":{"account_id":220794,"reputation":12257,"user_id":478406,"accept_rate":82,"display_name":"Robert Strauch"},"score":0,"creation_date":1632643710,"post_id":69330531,"comment_id":122544343,"body_markdown":"Yes, that would also serve the purpose if it makes things easier &#128522;","body":"Yes, that would also serve the purpose if it makes things easier 😊"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1632648236,"post_id":69330531,"comment_id":122545203,"body_markdown":"My idea when I saw the problem was create a custom deserializer and use a `@JsonDeserialize` annotation over the fields you need instead of a custom annotation , could you use them in you project ?","body":"My idea when I saw the problem was create a custom deserializer and use a <code>@JsonDeserialize</code> annotation over the fields you need instead of a custom annotation , could you use them in you project ?"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1632615943,"creation_date":1632615943,"answer_id":69330966,"question_id":69330531,"body_markdown":"Something like the following should do the trick:\r\n```java\r\n@Aspect\r\n@Component\r\npublic class AppendQuestionMarkAspect {\r\n\r\n    @Around(&quot;@annotation(AppendQuestionMark)&quot;)\r\n    public Object appendQuestionMark(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        Object[] arguments = joinPoint.getArgs();\r\n        return joinPoint.proceed(new Object[] {((String) arguments[0]) + &quot;?&quot;});\r\n    }\r\n\r\n}\r\n```\r\n\r\nOf course, it would be advisable to check that only one argument exists and that it is, in fact, a `String`. Or you can also define the pointcut as to be applied only to methods starting with `set`. But the essence of the code is there.","title":"Modify POJO class fields with custom setter or custom annotation (in Spring Boot)","body":"<p>Something like the following should do the trick:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Aspect\n@Component\npublic class AppendQuestionMarkAspect {\n\n    @Around(&quot;@annotation(AppendQuestionMark)&quot;)\n    public Object appendQuestionMark(ProceedingJoinPoint joinPoint) throws Throwable {\n        Object[] arguments = joinPoint.getArgs();\n        return joinPoint.proceed(new Object[] {((String) arguments[0]) + &quot;?&quot;});\n    }\n\n}\n</code></pre>\n<p>Of course, it would be advisable to check that only one argument exists and that it is, in fact, a <code>String</code>. Or you can also define the pointcut as to be applied only to methods starting with <code>set</code>. But the essence of the code is there.</p>\n"},{"tags":[],"owner":{"account_id":10278781,"reputation":850,"user_id":7584739,"display_name":"omar jayed"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632621562,"creation_date":1632620010,"answer_id":69331181,"question_id":69330531,"body_markdown":"You can&#39;t change the `setter`method&#39;s body if that&#39;s what you are asking. But you can create a method that will take an object (i.e. `SomeRequest`) as input and check which fields have your `Annotation` and change the values for those fields as you want.\r\n\r\nFor example, I created an annotation `AppendStr`.\r\n```\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.FIELD)\r\npublic @interface AppendStr {\r\n    public String str();;\r\n}\r\n```\r\n\r\nThen I created another class &#39;AppendStrImpl` that will handle the implementation. I used the following code -\r\n\r\n```\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.Method;\r\n\r\npublic class AppendStrImpl {\r\n    public void changeFields(Object object) throws Exception {\r\n        Class&lt;?&gt; clazz = object.getClass();\r\n        for (Field field : clazz.getDeclaredFields()) {\r\n            field.setAccessible(true);\r\n            if (field.isAnnotationPresent(AppendStr.class)) {\r\n                // get the getter method name from the field name\r\n                String fieldName = field.getName();\r\n                String getterMethodName =\r\n                        &quot;get&quot; +\r\n                        fieldName.substring(0, 1).toUpperCase() +\r\n                        fieldName.substring(1);\r\n                Method getterMethod = clazz.getMethod(getterMethodName);\r\n                String returnValue = (String) getterMethod.invoke(object);\r\n\r\n                String setterMethodName = getterMethodName.substring(0, 1).replace(&quot;g&quot;, &quot;s&quot;)\r\n                        + getterMethodName.substring(1);\r\n                Method setterMethod = clazz.getMethod(setterMethodName, String.class);\r\n                setterMethod.invoke(object, returnValue + getAppendingString(field));\r\n                System.out.println((String) getterMethod.invoke(object));\r\n            }\r\n        }\r\n    }\r\n\r\n    private String getAppendingString(Field field) {\r\n        return field.getAnnotation(AppendStr.class)\r\n                .str();\r\n    }\r\n}\r\n```\r\n\r\nAnd this is my POJO class -\r\n```\r\npublic class POJO {\r\n    @AppendStr(str = &quot;?&quot;)\r\n    private String filed1;\r\n\r\n    @AppendStr(str = &quot;!&quot;)\r\n    private String filed2;\r\n\r\n    private String filed3;\r\n\r\n    @AppendStr(str = &quot;+&quot;)\r\n    private String filed4;\r\n\r\n    // ... getters and setters\r\n}\r\n```\r\n\r\nThen I called this method from the main method - \r\n```\r\nPOJO pojo = new POJO(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\r\nAppendStrImpl appendStrImpl = new AppendStrImpl();\r\ntry {\r\n    appendStrImpl.changeFields(pojo);\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\nNow you can make this call with hard coding or you can use `@Aspect` too if you want.\r\n\r\nThe github link is [here][1].\r\n\r\n\r\n  [1]: https://github.com/OmarTheDarkKnight/CustomAnnotationImplementation","title":"Modify POJO class fields with custom setter or custom annotation (in Spring Boot)","body":"<p>You can't change the <code>setter</code>method's body if that's what you are asking. But you can create a method that will take an object (i.e. <code>SomeRequest</code>) as input and check which fields have your <code>Annotation</code> and change the values for those fields as you want.</p>\n<p>For example, I created an annotation <code>AppendStr</code>.</p>\n<pre><code>import java.lang.annotation.ElementType;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface AppendStr {\n    public String str();;\n}\n</code></pre>\n<p>Then I created another class 'AppendStrImpl` that will handle the implementation. I used the following code -</p>\n<pre><code>import java.lang.reflect.Field;\nimport java.lang.reflect.Method;\n\npublic class AppendStrImpl {\n    public void changeFields(Object object) throws Exception {\n        Class&lt;?&gt; clazz = object.getClass();\n        for (Field field : clazz.getDeclaredFields()) {\n            field.setAccessible(true);\n            if (field.isAnnotationPresent(AppendStr.class)) {\n                // get the getter method name from the field name\n                String fieldName = field.getName();\n                String getterMethodName =\n                        &quot;get&quot; +\n                        fieldName.substring(0, 1).toUpperCase() +\n                        fieldName.substring(1);\n                Method getterMethod = clazz.getMethod(getterMethodName);\n                String returnValue = (String) getterMethod.invoke(object);\n\n                String setterMethodName = getterMethodName.substring(0, 1).replace(&quot;g&quot;, &quot;s&quot;)\n                        + getterMethodName.substring(1);\n                Method setterMethod = clazz.getMethod(setterMethodName, String.class);\n                setterMethod.invoke(object, returnValue + getAppendingString(field));\n                System.out.println((String) getterMethod.invoke(object));\n            }\n        }\n    }\n\n    private String getAppendingString(Field field) {\n        return field.getAnnotation(AppendStr.class)\n                .str();\n    }\n}\n</code></pre>\n<p>And this is my POJO class -</p>\n<pre><code>public class POJO {\n    @AppendStr(str = &quot;?&quot;)\n    private String filed1;\n\n    @AppendStr(str = &quot;!&quot;)\n    private String filed2;\n\n    private String filed3;\n\n    @AppendStr(str = &quot;+&quot;)\n    private String filed4;\n\n    // ... getters and setters\n}\n</code></pre>\n<p>Then I called this method from the main method -</p>\n<pre><code>POJO pojo = new POJO(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;);\nAppendStrImpl appendStrImpl = new AppendStrImpl();\ntry {\n    appendStrImpl.changeFields(pojo);\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Now you can make this call with hard coding or you can use <code>@Aspect</code> too if you want.</p>\n<p>The github link is <a href=\"https://github.com/OmarTheDarkKnight/CustomAnnotationImplementation\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1632740889,"creation_date":1632740889,"answer_id":69345559,"question_id":69330531,"body_markdown":"Instead of creating a new annotation that appends a question mark to one generic string field in your pojo you can use the already present [`JsonDeserialize`](https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/annotation/JsonDeserialize.html) annotation over the string fields you are interested:\r\n\r\n~~~\r\n@Data\r\n@NoArgsConstructor\r\npublic class SomeRequest {\r\n\r\n  @JsonProperty(&quot;field_1&quot;)\r\n  private String field1;\r\n\r\n  @JsonProperty(&quot;field_2&quot;)\r\n  //here the custom deserializer appends the question mark character\r\n  @JsonDeserialize(using = StringAppendQuestionMarkDeserializer.class)\r\n  private String field2; \r\n  \r\n}\r\n~~~\r\n\r\nIn your spring boot project you can register the custom deserializer with the [`JsonComponent`](https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jackson/JsonComponent.html) annotation like below:\r\n\r\n~~~\r\n@JsonComponent\r\npublic class StringAppendQuestionMarkDeserializer extends JsonDeserializer&lt;String&gt; {\r\n\r\n    @Override\r\n    public String deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\r\n        JsonNode node = jp.getCodec().readTree(jp);\r\n        return node.asText() + &quot;?&quot;;\r\n    }\r\n\r\n}\r\n~~~\r\n\r\nA spring boot test example using the custom deserializer:\r\n\r\n~~~\r\n@JsonTest\r\nclass CorespringApplicationTests {\r\n\r\n    @Test\r\n    void testDeserialize() throws JsonProcessingException {\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        SomeRequest request = mapper.readValue(&quot;{\\&quot;field_1\\&quot;:\\&quot;value1\\&quot;,\\&quot;field_2\\&quot;:\\&quot;value2\\&quot;}&quot;, SomeRequest.class);\r\n        System.out.println(request); //&lt;-- SomeRequest(field1=value1, field2=value2?)\r\n\r\n    }\r\n\r\n}\r\n~~~","title":"Modify POJO class fields with custom setter or custom annotation (in Spring Boot)","body":"<p>Instead of creating a new annotation that appends a question mark to one generic string field in your pojo you can use the already present <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.8/com/fasterxml/jackson/databind/annotation/JsonDeserialize.html\" rel=\"nofollow noreferrer\"><code>JsonDeserialize</code></a> annotation over the string fields you are interested:</p>\n<pre><code>@Data\n@NoArgsConstructor\npublic class SomeRequest {\n\n  @JsonProperty(&quot;field_1&quot;)\n  private String field1;\n\n  @JsonProperty(&quot;field_2&quot;)\n  //here the custom deserializer appends the question mark character\n  @JsonDeserialize(using = StringAppendQuestionMarkDeserializer.class)\n  private String field2; \n  \n}\n</code></pre>\n<p>In your spring boot project you can register the custom deserializer with the <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/jackson/JsonComponent.html\" rel=\"nofollow noreferrer\"><code>JsonComponent</code></a> annotation like below:</p>\n<pre><code>@JsonComponent\npublic class StringAppendQuestionMarkDeserializer extends JsonDeserializer&lt;String&gt; {\n\n    @Override\n    public String deserialize(JsonParser jp, DeserializationContext dc) throws IOException, JsonProcessingException {\n        JsonNode node = jp.getCodec().readTree(jp);\n        return node.asText() + &quot;?&quot;;\n    }\n\n}\n</code></pre>\n<p>A spring boot test example using the custom deserializer:</p>\n<pre><code>@JsonTest\nclass CorespringApplicationTests {\n\n    @Test\n    void testDeserialize() throws JsonProcessingException {\n        ObjectMapper mapper = new ObjectMapper();\n        SomeRequest request = mapper.readValue(&quot;{\\&quot;field_1\\&quot;:\\&quot;value1\\&quot;,\\&quot;field_2\\&quot;:\\&quot;value2\\&quot;}&quot;, SomeRequest.class);\n        System.out.println(request); //&lt;-- SomeRequest(field1=value1, field2=value2?)\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":220794,"reputation":12257,"user_id":478406,"accept_rate":82,"display_name":"Robert Strauch"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2392,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1632740889,"creation_date":1632609614,"question_id":69330531,"body_markdown":"Given a POJO in Spring Boot with several dozen fields of type `String` which is deserialized by Jackson. For demonstration purposes the following example only contains three fields:\r\n\r\n```java\r\n@NoArgsConstructor\r\npublic class SomeRequest {\r\n\r\n  @JsonProperty(&quot;field_1&quot;)\r\n  private String field1;\r\n\r\n  @JsonProperty(&quot;field_2&quot;)\r\n  private String field2;\r\n\r\n  @JsonProperty(&quot;field_3&quot;)\r\n  private String field3;\r\n}\r\n```\r\n\r\nI&#39;m looking for a way to override the setter method but only for certain fields, i.e. I&#39;d like to avoid repeating the below code for every affected field. This is doable for a handful number of fields but gets tedious for more than a handful.\r\n\r\n```java\r\npublic setField2(String field2) {\r\n  this.field2 = field2 + &quot;?&quot;;\r\n}\r\n```\r\n\r\nMy idea was to place an annotation on the field like this:\r\n\r\n```java\r\n@NoArgsConstructor\r\npublic class SomeRequest {\r\n\r\n  // ...\r\n\r\n  @JsonProperty(&quot;field_2&quot;)\r\n  @AppendQuestionMark\r\n  private String field2;\r\n\r\n  // ...\r\n}\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Target(ElementType.FIELD)\r\npublic @interface AppendQuestionMark {\r\n}\r\n\r\n```\r\n\r\nBut I&#39;m lacking information on how to &quot;implement&quot; the `AppendQuestionMark` annotation which would override the field&#39;s setter method.\r\n\r\nOr am I thinking way too complicated?\r\n","title":"Modify POJO class fields with custom setter or custom annotation (in Spring Boot)","body":"<p>Given a POJO in Spring Boot with several dozen fields of type <code>String</code> which is deserialized by Jackson. For demonstration purposes the following example only contains three fields:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\npublic class SomeRequest {\n\n  @JsonProperty(&quot;field_1&quot;)\n  private String field1;\n\n  @JsonProperty(&quot;field_2&quot;)\n  private String field2;\n\n  @JsonProperty(&quot;field_3&quot;)\n  private String field3;\n}\n</code></pre>\n<p>I'm looking for a way to override the setter method but only for certain fields, i.e. I'd like to avoid repeating the below code for every affected field. This is doable for a handful number of fields but gets tedious for more than a handful.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public setField2(String field2) {\n  this.field2 = field2 + &quot;?&quot;;\n}\n</code></pre>\n<p>My idea was to place an annotation on the field like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\npublic class SomeRequest {\n\n  // ...\n\n  @JsonProperty(&quot;field_2&quot;)\n  @AppendQuestionMark\n  private String field2;\n\n  // ...\n}\n\n@Retention(RetentionPolicy.RUNTIME)\n@Target(ElementType.FIELD)\npublic @interface AppendQuestionMark {\n}\n\n</code></pre>\n<p>But I'm lacking information on how to &quot;implement&quot; the <code>AppendQuestionMark</code> annotation which would override the field's setter method.</p>\n<p>Or am I thinking way too complicated?</p>\n"},{"tags":["java","concurrency","producer-consumer"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":1,"creation_date":1632684232,"post_id":69338150,"comment_id":122553302,"body_markdown":"Drop the `List` and use one of the blocking queues such as `LinkedBlockingQueue` or `ArrayBlockingQueue`. And in these cases it&#39;s always good to make a defensive copy of whatever collection you receive as a parameter.","body":"Drop the <code>List</code> and use one of the blocking queues such as <code>LinkedBlockingQueue</code> or <code>ArrayBlockingQueue</code>. And in these cases it&#39;s always good to make a defensive copy of whatever collection you receive as a parameter."}],"answers":[{"tags":[],"owner":{"account_id":22425724,"reputation":1060,"user_id":16632363,"display_name":"user16632363"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632683959,"creation_date":1632683959,"answer_id":69338211,"question_id":69338150,"body_markdown":"Use a [semaphore](https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html) instead of trying to roll your own. The consumers will wait until an &#39;item&#39; is available, and only one will wake up to get the item.\r\n\r\nThe classic [producer-consumer solution](https://en.wikipedia.org/wiki/Producer%E2%80%93consumer_problem#Using_semaphores) uses two semaphores, the &#39;other&#39; one being used by the producer to wait until a &#39;free slot&#39; is available.  Without that, the producer can outrun the ability of consumers to keep up.  Your program looks like it has a small finite limit on production, so that might not apply here.","title":"how can i optimise following code for producer consumer problem","body":"<p>Use a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\">semaphore</a> instead of trying to roll your own. The consumers will wait until an 'item' is available, and only one will wake up to get the item.</p>\n<p>The classic <a href=\"https://en.wikipedia.org/wiki/Producer%E2%80%93consumer_problem#Using_semaphores\" rel=\"nofollow noreferrer\">producer-consumer solution</a> uses two semaphores, the 'other' one being used by the producer to wait until a 'free slot' is available.  Without that, the producer can outrun the ability of consumers to keep up.  Your program looks like it has a small finite limit on production, so that might not apply here.</p>\n"},{"tags":[],"owner":{"account_id":1674999,"reputation":9423,"user_id":1540749,"accept_rate":90,"display_name":"josejuan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632740873,"creation_date":1632683989,"answer_id":69338214,"question_id":69338150,"body_markdown":"Use a `Semaphore` to add/remove available elements\r\n\r\n    public class ProducerConsumer {\r\n        List&lt;Integer&gt; buffer = new ArrayList&lt;&gt;();\r\n        Semaphore available = new Semaphore(0);\r\n\r\n        public static void main(String... args) {\r\n            ProducerConsumer pc = new ProducerConsumer();\r\n            new Thread(pc::consume).start();\r\n            new Thread(pc::produce).start();\r\n            new Thread(pc::consume).start();\r\n        }\r\n\r\n        public void produce() {\r\n            Integer[] nums = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 99};\r\n            Random random = new Random();\r\n            for (Integer num : nums) {\r\n                try {\r\n                    synchronized (buffer) {\r\n                        buffer.add(num);\r\n                    }\r\n                    available.release();\r\n                    System.out.println(&quot;Added: &quot; + num);\r\n                } finally {\r\n                    try {\r\n                        Thread.sleep(random.nextInt(1000));\r\n                    } catch (InterruptedException e) {\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        public void consume() {\r\n            while (true) {\r\n                try {\r\n                    available.acquire();\r\n                    synchronized (buffer) {\r\n                        if (buffer.get(0).equals(99)) {\r\n                            break;\r\n                        }\r\n                        System.out.println(\r\n                                &quot;Removed: &quot; + buffer.remove(0) + &quot; by &quot; + Thread.currentThread().getName());\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nyour (consumer) threads will be blocked until a new item is available.\r\n\r\nWith output\r\n\r\n    Added: 1\r\n    Removed: 1 by Thread-0\r\n    Added: 2\r\n    Removed: 2 by Thread-2\r\n    Added: 3\r\n    Removed: 3 by Thread-0\r\n    ...","title":"how can i optimise following code for producer consumer problem","body":"<p>Use a <code>Semaphore</code> to add/remove available elements</p>\n<pre><code>public class ProducerConsumer {\n    List&lt;Integer&gt; buffer = new ArrayList&lt;&gt;();\n    Semaphore available = new Semaphore(0);\n\n    public static void main(String... args) {\n        ProducerConsumer pc = new ProducerConsumer();\n        new Thread(pc::consume).start();\n        new Thread(pc::produce).start();\n        new Thread(pc::consume).start();\n    }\n\n    public void produce() {\n        Integer[] nums = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 99};\n        Random random = new Random();\n        for (Integer num : nums) {\n            try {\n                synchronized (buffer) {\n                    buffer.add(num);\n                }\n                available.release();\n                System.out.println(&quot;Added: &quot; + num);\n            } finally {\n                try {\n                    Thread.sleep(random.nextInt(1000));\n                } catch (InterruptedException e) {\n                }\n            }\n        }\n    }\n\n    public void consume() {\n        while (true) {\n            try {\n                available.acquire();\n                synchronized (buffer) {\n                    if (buffer.get(0).equals(99)) {\n                        break;\n                    }\n                    System.out.println(\n                            &quot;Removed: &quot; + buffer.remove(0) + &quot; by &quot; + Thread.currentThread().getName());\n                }\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n<p>your (consumer) threads will be blocked until a new item is available.</p>\n<p>With output</p>\n<pre><code>Added: 1\nRemoved: 1 by Thread-0\nAdded: 2\nRemoved: 2 by Thread-2\nAdded: 3\nRemoved: 3 by Thread-0\n...\n</code></pre>\n"}],"owner":{"account_id":14007779,"reputation":424,"user_id":10117360,"display_name":"Rajat Aggarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69338214,"answer_count":2,"score":1,"last_activity_date":1632740873,"creation_date":1632683407,"question_id":69338150,"body_markdown":"I am having 1 producer and 2 (multiple) consumers.\r\n\r\nThe following code works fine(free from race conditions IMO) but the problem is whenever the buffer is empty,each consumer is executing an infinite loop, which is just wait of resources.\r\n\r\nHow can i optimise it? I am thinking of using something like notifying consumer in case anything is added to buffer but having problem in implementation. \r\n```\r\npublic class Test {\r\n\r\n  public static void main(String[] args) {\r\n    Assembly assembly = new Assembly(new ArrayList&lt;&gt;(), new ReentrantLock(true));\r\n\r\n    new Thread(new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        assembly.consume();\r\n      }\r\n    }).start();\r\n\r\n    new Thread(new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        assembly.produce();\r\n      }\r\n    }).start();\r\n\r\n    new Thread(new Runnable() {\r\n      @Override\r\n      public void run() {\r\n        assembly.consume();\r\n      }\r\n    }).start();\r\n  }\r\n}\r\n\r\nclass Assembly {\r\n\r\n  List&lt;Integer&gt; buffer;\r\n  Lock bufferLock;\r\n\r\n  public Assembly(List&lt;Integer&gt; buffer, Lock bufferLock) {\r\n    this.buffer = buffer;\r\n    this.bufferLock = bufferLock;\r\n  }\r\n\r\n  public void produce() {\r\n    Integer[] nums = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 99};\r\n    Random random = new Random();\r\n    for (Integer num : nums) {\r\n      try {\r\n        bufferLock.lock();\r\n        buffer.add(num);\r\n        if (num != 99) {\r\n          System.out.println(&quot;Added: &quot; + num);\r\n        }\r\n      } finally {\r\n        bufferLock.unlock();\r\n        try {\r\n          Thread.sleep(random.nextInt(1000));\r\n        } catch (InterruptedException e) {\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public void consume() {\r\n    while (true) {\r\n      try {\r\n        bufferLock.lock();\r\n        if (buffer.isEmpty()) {\r\n          **IS SOME OPTIMISATION POSSIBLE HERE?**\r\n          continue;\r\n        }\r\n        if (buffer.get(0).equals(99)) {\r\n          break;\r\n        }\r\n        System.out.println(\r\n            &quot;Removed: &quot; + buffer.remove(0) + &quot; by &quot; + Thread.currentThread().getName());\r\n      } finally {\r\n        bufferLock.unlock();\r\n      }\r\n    }\r\n  }\r\n}\r\n```","title":"how can i optimise following code for producer consumer problem","body":"<p>I am having 1 producer and 2 (multiple) consumers.</p>\n<p>The following code works fine(free from race conditions IMO) but the problem is whenever the buffer is empty,each consumer is executing an infinite loop, which is just wait of resources.</p>\n<p>How can i optimise it? I am thinking of using something like notifying consumer in case anything is added to buffer but having problem in implementation.</p>\n<pre><code>public class Test {\n\n  public static void main(String[] args) {\n    Assembly assembly = new Assembly(new ArrayList&lt;&gt;(), new ReentrantLock(true));\n\n    new Thread(new Runnable() {\n      @Override\n      public void run() {\n        assembly.consume();\n      }\n    }).start();\n\n    new Thread(new Runnable() {\n      @Override\n      public void run() {\n        assembly.produce();\n      }\n    }).start();\n\n    new Thread(new Runnable() {\n      @Override\n      public void run() {\n        assembly.consume();\n      }\n    }).start();\n  }\n}\n\nclass Assembly {\n\n  List&lt;Integer&gt; buffer;\n  Lock bufferLock;\n\n  public Assembly(List&lt;Integer&gt; buffer, Lock bufferLock) {\n    this.buffer = buffer;\n    this.bufferLock = bufferLock;\n  }\n\n  public void produce() {\n    Integer[] nums = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 99};\n    Random random = new Random();\n    for (Integer num : nums) {\n      try {\n        bufferLock.lock();\n        buffer.add(num);\n        if (num != 99) {\n          System.out.println(&quot;Added: &quot; + num);\n        }\n      } finally {\n        bufferLock.unlock();\n        try {\n          Thread.sleep(random.nextInt(1000));\n        } catch (InterruptedException e) {\n        }\n      }\n    }\n  }\n\n  public void consume() {\n    while (true) {\n      try {\n        bufferLock.lock();\n        if (buffer.isEmpty()) {\n          **IS SOME OPTIMISATION POSSIBLE HERE?**\n          continue;\n        }\n        if (buffer.get(0).equals(99)) {\n          break;\n        }\n        System.out.println(\n            &quot;Removed: &quot; + buffer.remove(0) + &quot; by &quot; + Thread.currentThread().getName());\n      } finally {\n        bufferLock.unlock();\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":["java","xml","encoding","utf-8","decoding"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1632733028,"post_id":69343623,"comment_id":122563188,"body_markdown":"What does the original input file contain? It looks like URL encoding not UTF-8.","body":"What does the original input file contain? It looks like URL encoding not UTF-8."},{"owner":{"account_id":10867187,"reputation":217,"user_id":7990195,"accept_rate":0,"display_name":"Bhanu"},"score":0,"creation_date":1632739644,"post_id":69343623,"comment_id":122565953,"body_markdown":"It is an XML file. And it is using UTF-8 encoding","body":"It is an XML file. And it is using UTF-8 encoding"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1632741485,"post_id":69343623,"comment_id":122566648,"body_markdown":"Just because the XML file itself uses UTF-8 doesn&#39;t mean that text inside it couldn&#39;t also be URL-encoded. URL encoding is basically &quot;layered on top&quot; of UTF-8 in this case.","body":"Just because the XML file itself uses UTF-8 doesn&#39;t mean that text inside it couldn&#39;t also be URL-encoded. URL encoding is basically &quot;layered on top&quot; of UTF-8 in this case."}],"answers":[{"tags":[],"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632733168,"creation_date":1632732612,"answer_id":69343776,"question_id":69343623,"body_markdown":"This looks like to be encoded with some [URL Encoder][1]. Here you can use [`URLDecoder`][2] from `java.net` to get rid of these encoded content:\r\n\r\n    System.out.println(URLDecoder.decode(&quot;%3Cprop%3E%3Cjavavendor%3ETest+Test%3C%2Fjavavendor%3E%0A%3Cdrive%3EC%3A%3C%2Fdrive\\r\\n&quot;, StandardCharsets.UTF_8));\r\n\r\n\r\n**Output:**\r\n\r\n    &lt;prop&gt;&lt;javavendor&gt;Test Test&lt;/javavendor&gt;\r\n    &lt;drive&gt;C:&lt;/drive\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/net/URLDecoder.html","title":"Decode input stream from UTF-8 and write that in log file","body":"<p>This looks like to be encoded with some <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLEncoder.html\" rel=\"nofollow noreferrer\">URL Encoder</a>. Here you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URLDecoder.html\" rel=\"nofollow noreferrer\"><code>URLDecoder</code></a> from <code>java.net</code> to get rid of these encoded content:</p>\n<pre><code>System.out.println(URLDecoder.decode(&quot;%3Cprop%3E%3Cjavavendor%3ETest+Test%3C%2Fjavavendor%3E%0A%3Cdrive%3EC%3A%3C%2Fdrive\\r\\n&quot;, StandardCharsets.UTF_8));\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>&lt;prop&gt;&lt;javavendor&gt;Test Test&lt;/javavendor&gt;\n&lt;drive&gt;C:&lt;/drive\n</code></pre>\n"}],"owner":{"account_id":10867187,"reputation":217,"user_id":7990195,"accept_rate":0,"display_name":"Bhanu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1632740859,"creation_date":1632731966,"question_id":69343623,"body_markdown":"I have xml file which will come with UTF-8 encoding as a input stream to my code and i need to write that file to the log file. Below is the code that i tried but that does not work, it prints all the encoded fields.\r\n\r\nSending encoded input stream as\r\n\r\n    FileOutputStream streamer = new FileOutputStream(filename);\r\n    OutputStreamWriter writer = new OutputStreamWriter(streamer, &quot;UTF-8&quot;);\r\n\r\n**writer** output stream is fed to the below code as **this.encodedInputStream** \r\n\r\n**Code**\r\n\r\n        InputStreamReader decodedInputStream = new InputStreamReader(this.encodedInputStream , StandardCharsets.UTF_8);\r\n        BufferedReader reader = new BufferedReader(decodedInputStream);\r\n        String readLine = null;\r\n        StringBuilder builder = new StringBuilder();\r\n        try {\r\n          while ((readLine = reader.readLine())!=null){\r\n    readLine = URLDecoder.decode(readLine, &quot;UTF-8&quot;);\r\n          \tbuilder.append(readLine);\r\n          }\r\n        }catch(Exception e){\r\n        \tlog.error(&quot;Exception while logging WSCallMFE&quot;, e);\r\n        }\r\n        String result = builder.toString();\r\n        log.info(result);\r\n\r\nAbove code prints the below values\r\n\r\n    %3Cprop%3E%3Cjavavendor%3ETest+Test%3C%2Fjavavendor%3E%0A%3Cdrive%3EC%3A%3C%2Fdrive\r\n\r\nExpected result\r\n\r\n    &lt;prop&gt;&lt;java.vendor&gt;Test Test&lt;/java.vendor&gt;\r\n    &lt;drive&gt;C:&lt;/drive&gt;\r\n\r\nIf i pass the xml notepad file directly as input stream to **this.encodedInputStream**, then it gives the expected output.\r\nAny idea how can i convert the whole encoded file and get rid of encoded characters? ","title":"Decode input stream from UTF-8 and write that in log file","body":"<p>I have xml file which will come with UTF-8 encoding as a input stream to my code and i need to write that file to the log file. Below is the code that i tried but that does not work, it prints all the encoded fields.</p>\n<p>Sending encoded input stream as</p>\n<pre><code>FileOutputStream streamer = new FileOutputStream(filename);\nOutputStreamWriter writer = new OutputStreamWriter(streamer, &quot;UTF-8&quot;);\n</code></pre>\n<p><strong>writer</strong> output stream is fed to the below code as <strong>this.encodedInputStream</strong></p>\n<p><strong>Code</strong></p>\n<pre><code>    InputStreamReader decodedInputStream = new InputStreamReader(this.encodedInputStream , StandardCharsets.UTF_8);\n    BufferedReader reader = new BufferedReader(decodedInputStream);\n    String readLine = null;\n    StringBuilder builder = new StringBuilder();\n    try {\n      while ((readLine = reader.readLine())!=null){\nreadLine = URLDecoder.decode(readLine, &quot;UTF-8&quot;);\n        builder.append(readLine);\n      }\n    }catch(Exception e){\n        log.error(&quot;Exception while logging WSCallMFE&quot;, e);\n    }\n    String result = builder.toString();\n    log.info(result);\n</code></pre>\n<p>Above code prints the below values</p>\n<pre><code>%3Cprop%3E%3Cjavavendor%3ETest+Test%3C%2Fjavavendor%3E%0A%3Cdrive%3EC%3A%3C%2Fdrive\n</code></pre>\n<p>Expected result</p>\n<pre><code>&lt;prop&gt;&lt;java.vendor&gt;Test Test&lt;/java.vendor&gt;\n&lt;drive&gt;C:&lt;/drive&gt;\n</code></pre>\n<p>If i pass the xml notepad file directly as input stream to <strong>this.encodedInputStream</strong>, then it gives the expected output.\nAny idea how can i convert the whole encoded file and get rid of encoded characters?</p>\n"},{"tags":["java","switch-statement","case"],"comments":[{"owner":{"account_id":22266993,"reputation":897,"user_id":16497617,"display_name":"Maneesha Indrachapa"},"score":0,"creation_date":1632715182,"post_id":69341031,"comment_id":122558294,"body_markdown":"you can use an `if-else` with ASCII codes and check ASCII value of the letter.","body":"you can use an <code>if-else</code> with ASCII codes and check ASCII value of the letter."},{"owner":{"account_id":14773232,"reputation":20491,"user_id":10669010,"display_name":"Mister Jojo"},"score":1,"creation_date":1632715653,"post_id":69341031,"comment_id":122558373,"body_markdown":"javascript tag.... again. it seems you have no idea of programming languages reality... [What is JavaScript](https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps/What_is_JavaScript)","body":"javascript tag.... again. it seems you have no idea of programming languages reality... <a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/First_steps/What_is_JavaScript\" rel=\"nofollow noreferrer\">What is JavaScript</a>"},{"owner":{"account_id":22753132,"reputation":11,"user_id":16912989,"display_name":"ripsly25"},"score":0,"creation_date":1632716386,"post_id":69341031,"comment_id":122558488,"body_markdown":"Maybe I just wanted to post my question without it telling me 4 different times that I need to choose different tags since #java #switch #coding #case #help weren&#39;t good enough.","body":"Maybe I just wanted to post my question without it telling me 4 different times that I need to choose different tags since #java #switch #coding #case #help weren&#39;t good enough."},{"owner":{"account_id":14773232,"reputation":20491,"user_id":10669010,"display_name":"Mister Jojo"},"score":0,"creation_date":1632749359,"post_id":69341031,"comment_id":122569884,"body_markdown":"I only spent 2 times, the second here being a correction bearing an educational link. I hope that in the future, and for the good of all, you will take care to properly tag your questions.  https://meta.stackexchange.com/questions/731/how-much-does-bad-tagging-impact-stackoverflow","body":"I only spent 2 times, the second here being a correction bearing an educational link. I hope that in the future, and for the good of all, you will take care to properly tag your questions.  <a href=\"https://meta.stackexchange.com/questions/731/how-much-does-bad-tagging-impact-stackoverflow\" title=\"how much does bad tagging impact stackoverflow\">meta.stackexchange.com/questions/731/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21878287,"reputation":1,"user_id":16167008,"display_name":"Adamister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632715920,"creation_date":1632715920,"answer_id":69341122,"question_id":69341031,"body_markdown":"Use a default case. For example:\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class SwitchPractice \r\n      {\r\n      public static void main(String args[]) \r\n        {\r\n        Scanner input = new Scanner(System.in);\r\n        String employeeCode;\r\n        System.out.print(&quot;Enter employees code: &quot;);\r\n        employeeCode = input.next();\r\n        switch (employeeCode)\r\n          {\r\n          case &quot;T&quot;:\r\n              System.out.print(&quot;Technician&quot;);\r\n              break;\r\n          case &quot;S&quot;:\r\n              System.out.print(&quot;Sales&quot;);\r\n              break;\r\n         case &quot;M&quot;:\r\n              System.out.print(&quot;Marketing&quot;);\r\n              break;\r\n         default:\r\n              System.out.print(&quot;OTHER!&quot;);\r\n              break;\r\n         }\r\n       }\r\n     }\r\n\r\nThis default case will execute whenever the letter is not &quot;T&quot;, &quot;M&quot;, or &quot;S&quot;.","title":"Using Switch To Seperate Outputs Of Different Letters","body":"<p>Use a default case. For example:</p>\n<pre><code>import java.util.Scanner;\n\npublic class SwitchPractice \n  {\n  public static void main(String args[]) \n    {\n    Scanner input = new Scanner(System.in);\n    String employeeCode;\n    System.out.print(&quot;Enter employees code: &quot;);\n    employeeCode = input.next();\n    switch (employeeCode)\n      {\n      case &quot;T&quot;:\n          System.out.print(&quot;Technician&quot;);\n          break;\n      case &quot;S&quot;:\n          System.out.print(&quot;Sales&quot;);\n          break;\n     case &quot;M&quot;:\n          System.out.print(&quot;Marketing&quot;);\n          break;\n     default:\n          System.out.print(&quot;OTHER!&quot;);\n          break;\n     }\n   }\n }\n</code></pre>\n<p>This default case will execute whenever the letter is not &quot;T&quot;, &quot;M&quot;, or &quot;S&quot;.</p>\n"}],"owner":{"account_id":22753132,"reputation":11,"user_id":16912989,"display_name":"ripsly25"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1632740526,"creation_date":1632714906,"question_id":69341031,"body_markdown":"Is there any way that if a user enters any letter except T, M, or S that it will output other? Or do I have to make a case for every letter and put other? Is there any way to group them for the &#39;case.&#39; Like for instance,\r\n \r\n    case &quot;A - Q&quot;:\r\n      System.out.print(&quot;Other&quot;);\r\n      break;\r\n\r\nObviously you cant do that but something along those lines?\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class SwitchPractice \r\n  {\r\n  public static void main(String args[]) \r\n    {\r\n    Scanner input = new Scanner(System.in);\r\n    String employeeCode;\r\n    System.out.print(&quot;Enter employees code: &quot;);\r\n    employeeCode = input.next();\r\n    switch (employeeCode)\r\n      {\r\n      case &quot;T&quot;:\r\n          System.out.print(&quot;Technician&quot;);\r\n          break;\r\n      case &quot;S&quot;:\r\n          System.out.print(&quot;Sales&quot;);\r\n          break;\r\n     case &quot;M&quot;:\r\n          System.out.print(&quot;Marketing&quot;);\r\n          break;\r\n     case &quot;?&quot;:\r\n          System.out.print(&quot;OTHER!&quot;);\r\n } } }\r\n```","title":"Using Switch To Seperate Outputs Of Different Letters","body":"<p>Is there any way that if a user enters any letter except T, M, or S that it will output other? Or do I have to make a case for every letter and put other? Is there any way to group them for the 'case.' Like for instance,</p>\n<pre><code>case &quot;A - Q&quot;:\n  System.out.print(&quot;Other&quot;);\n  break;\n</code></pre>\n<p>Obviously you cant do that but something along those lines?</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class SwitchPractice \n  {\n  public static void main(String args[]) \n    {\n    Scanner input = new Scanner(System.in);\n    String employeeCode;\n    System.out.print(&quot;Enter employees code: &quot;);\n    employeeCode = input.next();\n    switch (employeeCode)\n      {\n      case &quot;T&quot;:\n          System.out.print(&quot;Technician&quot;);\n          break;\n      case &quot;S&quot;:\n          System.out.print(&quot;Sales&quot;);\n          break;\n     case &quot;M&quot;:\n          System.out.print(&quot;Marketing&quot;);\n          break;\n     case &quot;?&quot;:\n          System.out.print(&quot;OTHER!&quot;);\n } } }\n</code></pre>\n"},{"tags":["java","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":18064369,"reputation":48565,"user_id":13130697,"display_name":"Dharmaraj"},"score":0,"creation_date":1632740420,"post_id":69345435,"comment_id":122566226,"body_markdown":"Can you try logging your email right before `signInWithEmailAndPassword` and see if the input is as expected?","body":"Can you try logging your email right before <code>signInWithEmailAndPassword</code> and see if the input is as expected?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1632740498,"post_id":69345435,"comment_id":122566257,"body_markdown":"What is the exact value of the email address when you sign in?","body":"What is the exact value of the email address when you sign in?"},{"owner":{"account_id":22744963,"reputation":35,"user_id":16905868,"display_name":"James gonzales"},"score":0,"creation_date":1632741913,"post_id":69345435,"comment_id":122566784,"body_markdown":"@Dharmaraj yeah the &#39;Toast&#39; appear before the &#39;signInWithEmailAndPassword&#39;","body":"@Dharmaraj yeah the &#39;Toast&#39; appear before the &#39;signInWithEmailAndPassword&#39;"},{"owner":{"account_id":22744963,"reputation":35,"user_id":16905868,"display_name":"James gonzales"},"score":0,"creation_date":1632741916,"post_id":69345435,"comment_id":122566786,"body_markdown":"@AlexMamo its string value when i sign in","body":"@AlexMamo its string value when i sign in"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1632742803,"post_id":69345435,"comment_id":122567147,"body_markdown":"How does it look like?","body":"How does it look like?"},{"owner":{"account_id":22744963,"reputation":35,"user_id":16905868,"display_name":"James gonzales"},"score":0,"creation_date":1632743023,"post_id":69345435,"comment_id":122567243,"body_markdown":"@AlexMamo what do you mean?","body":"@AlexMamo what do you mean?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1632743068,"post_id":69345435,"comment_id":122567263,"body_markdown":"Show us an example of the email you are using. Most likely is &quot;bad formatted&quot;, right?","body":"Show us an example of the email you are using. Most likely is &quot;bad formatted&quot;, right?"},{"owner":{"account_id":22744963,"reputation":35,"user_id":16905868,"display_name":"James gonzales"},"score":0,"creation_date":1632743285,"post_id":69345435,"comment_id":122567340,"body_markdown":"@AlexMamo yes that appear when I try to login and I&#39;m sorry if you want to see a image because I can&#39;t sorry","body":"@AlexMamo yes that appear when I try to login and I&#39;m sorry if you want to see a image because I can&#39;t sorry"}],"owner":{"account_id":22744963,"reputation":35,"user_id":16905868,"display_name":"James gonzales"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632740279,"creation_date":1632740279,"question_id":69345435,"body_markdown":"hello I&#39;m making a login in my project and when I try to input the data it says **email address is badly formatted**\r\n\r\n*Codes*\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n\r\n    private EditText email;\r\n    private EditText Password;\r\n    private ImageButton BackMenu;\r\n    private TextView SignIn;\r\n    private Button login;\r\n\r\n    ProgressBar progressBar;\r\n\r\n    private FirebaseAuth auth;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        progressBar = findViewById(R.id.progressBar);\r\n        progressBar.setVisibility(View.GONE);\r\n\r\n        email = (EditText)findViewById(R.id.log_email);\r\n        Password = (EditText)findViewById(R.id.password);\r\n        BackMenu = (ImageButton)findViewById(R.id.returnMenu);\r\n        SignIn = (TextView) findViewById(R.id.reg_SignIn);\r\n        login = (Button)findViewById(R.id.btn_Login);\r\n\r\n        auth = FirebaseAuth.getInstance();\r\n\r\n        login.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                loginUser();\r\n\r\n            }\r\n        });\r\n\r\n        SignIn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                registrationForm();\r\n                progressBar.setVisibility(View.VISIBLE);\r\n            }\r\n        });\r\n\r\n        BackMenu.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                openShopMenu();\r\n                progressBar.setVisibility(View.VISIBLE);\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    private void loginUser() {\r\n        String userEmail = email.getText().toString().trim();\r\n        String userPass = Password.getText().toString().trim();\r\n        progressBar.setVisibility(View.VISIBLE);\r\n\r\n        if (TextUtils.isEmpty(userEmail)){\r\n            Toast.makeText(this, &quot;Email is empty&quot;, Toast.LENGTH_SHORT).show();\r\n            progressBar.setVisibility(View.GONE);\r\n            return;\r\n        }\r\n\r\n        if (TextUtils.isEmpty(userPass)){\r\n            Toast.makeText(this, &quot;Password is empty&quot;, Toast.LENGTH_SHORT).show();\r\n            progressBar.setVisibility(View.GONE);\r\n            return;\r\n        }\r\n        if (userPass.length() &lt; 5){\r\n            Toast.makeText(this, &quot;Password must be 5 characters or more&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        auth.signInWithEmailAndPassword(userPass,userEmail)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull  Task&lt;AuthResult&gt; task) {\r\n                        if (task.isSuccessful()){\r\n                            Toast.makeText(MainActivity.this, &quot;Login is Successful&quot;, Toast.LENGTH_SHORT).show();\r\n                            progressBar.setVisibility(View.GONE);\r\n                        }\r\n                        else {\r\n                            Toast.makeText(MainActivity.this, &quot;Error&quot;+task.getException(), Toast.LENGTH_SHORT).show();\r\n                            progressBar.setVisibility(View.GONE);\r\n                        }\r\n                    }\r\n                });\r\n\r\n    }\r\n\r\n    public void openShopMenu() {\r\n        Intent intent = new Intent(MainActivity.this, ShopMenu.class);\r\n        startActivity(intent);\r\n        progressBar.setVisibility(View.GONE);\r\n    }\r\n    public void registrationForm(){\r\n        Intent intent = new Intent(MainActivity.this,Registration.class);\r\n        startActivity(intent);\r\n        progressBar.setVisibility(View.GONE);\r\n    }\r\n\r\n    \r\n}\r\n\r\n**Problem**\r\n\r\nthe input is:\r\n\r\nEmail : gon@gmail.com\r\n\r\nPassword : 12345678\r\n\r\nThe user fails to login and the message below pops out\r\n\r\n**The email address is badly formatted**\r\n\r\nand I don&#39;t think there&#39;s a problem in my .xml file\r\n\r\n`android:inputType=&quot;textEmailAddress&quot;`","title":"android - email address is badly formatted firebase","body":"<p>hello I'm making a login in my project and when I try to input the data it says <strong>email address is badly formatted</strong></p>\n<p><em>Codes</em></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\nprivate EditText email;\nprivate EditText Password;\nprivate ImageButton BackMenu;\nprivate TextView SignIn;\nprivate Button login;\n\nProgressBar progressBar;\n\nprivate FirebaseAuth auth;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    progressBar = findViewById(R.id.progressBar);\n    progressBar.setVisibility(View.GONE);\n\n    email = (EditText)findViewById(R.id.log_email);\n    Password = (EditText)findViewById(R.id.password);\n    BackMenu = (ImageButton)findViewById(R.id.returnMenu);\n    SignIn = (TextView) findViewById(R.id.reg_SignIn);\n    login = (Button)findViewById(R.id.btn_Login);\n\n    auth = FirebaseAuth.getInstance();\n\n    login.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            loginUser();\n\n        }\n    });\n\n    SignIn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            registrationForm();\n            progressBar.setVisibility(View.VISIBLE);\n        }\n    });\n\n    BackMenu.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            openShopMenu();\n            progressBar.setVisibility(View.VISIBLE);\n        }\n    });\n\n}\n\nprivate void loginUser() {\n    String userEmail = email.getText().toString().trim();\n    String userPass = Password.getText().toString().trim();\n    progressBar.setVisibility(View.VISIBLE);\n\n    if (TextUtils.isEmpty(userEmail)){\n        Toast.makeText(this, &quot;Email is empty&quot;, Toast.LENGTH_SHORT).show();\n        progressBar.setVisibility(View.GONE);\n        return;\n    }\n\n    if (TextUtils.isEmpty(userPass)){\n        Toast.makeText(this, &quot;Password is empty&quot;, Toast.LENGTH_SHORT).show();\n        progressBar.setVisibility(View.GONE);\n        return;\n    }\n    if (userPass.length() &lt; 5){\n        Toast.makeText(this, &quot;Password must be 5 characters or more&quot;, Toast.LENGTH_SHORT).show();\n    }\n    auth.signInWithEmailAndPassword(userPass,userEmail)\n            .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull  Task&lt;AuthResult&gt; task) {\n                    if (task.isSuccessful()){\n                        Toast.makeText(MainActivity.this, &quot;Login is Successful&quot;, Toast.LENGTH_SHORT).show();\n                        progressBar.setVisibility(View.GONE);\n                    }\n                    else {\n                        Toast.makeText(MainActivity.this, &quot;Error&quot;+task.getException(), Toast.LENGTH_SHORT).show();\n                        progressBar.setVisibility(View.GONE);\n                    }\n                }\n            });\n\n}\n\npublic void openShopMenu() {\n    Intent intent = new Intent(MainActivity.this, ShopMenu.class);\n    startActivity(intent);\n    progressBar.setVisibility(View.GONE);\n}\npublic void registrationForm(){\n    Intent intent = new Intent(MainActivity.this,Registration.class);\n    startActivity(intent);\n    progressBar.setVisibility(View.GONE);\n}\n</code></pre>\n<p>}</p>\n<p><strong>Problem</strong></p>\n<p>the input is:</p>\n<p>Email : gon@gmail.com</p>\n<p>Password : 12345678</p>\n<p>The user fails to login and the message below pops out</p>\n<p><strong>The email address is badly formatted</strong></p>\n<p>and I don't think there's a problem in my .xml file</p>\n<p><code>android:inputType=&quot;textEmailAddress&quot;</code></p>\n"},{"tags":["java","spring-boot","spring-integration","jakarta-mail","spring-integration-dsl"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1632562901,"post_id":69322983,"comment_id":122530305,"body_markdown":"I think the naming of the sent folder is wrong. It should be ```Sent``` and not ```INBOX.Sent```.","body":"I think the naming of the sent folder is wrong. It should be <code>Sent</code> and not <code>INBOX.Sent</code>."},{"owner":{"account_id":2911375,"reputation":255,"user_id":2495495,"accept_rate":75,"display_name":"Christian Ibanibo"},"score":0,"creation_date":1632566952,"post_id":69322983,"comment_id":122531032,"body_markdown":"The naming is not wrong I have tested it before. I have tried your own before I got an error. With this line of code you can get all folders in the mailbox. folder[] folders = folders.getStore().getDefaultFolder().list(*);","body":"The naming is not wrong I have tested it before. I have tried your own before I got an error. With this line of code you can get all folders in the mailbox. folder[] folders = folders.getStore().getDefaultFolder().list(*);"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1632568731,"post_id":69322983,"comment_id":122531403,"body_markdown":"You are right, sorry. Years ago I had the same problem. I&#39;m not in the office now to check the code, but I remember the reason was the definition of  the DefaultSearchTermStrategy. https://github.com/bitwisekaizen/spring-integration/blob/master/spring-integration-mail/src/main/java/org/springframework/integration/mail/ImapMailReceiver.java#L192  Hope this helps!","body":"You are right, sorry. Years ago I had the same problem. I&#39;m not in the office now to check the code, but I remember the reason was the definition of  the DefaultSearchTermStrategy. <a href=\"https://github.com/bitwisekaizen/spring-integration/blob/master/spring-integration-mail/src/main/java/org/springframework/integration/mail/ImapMailReceiver.java#L192\" rel=\"nofollow noreferrer\">github.com/bitwisekaizen/spring-integration/blob/master/&hellip;</a>  Hope this helps!"},{"owner":{"account_id":2911375,"reputation":255,"user_id":2495495,"accept_rate":75,"display_name":"Christian Ibanibo"},"score":0,"creation_date":1632614274,"post_id":69322983,"comment_id":122540753,"body_markdown":"But i have tried custom SearchTermStrategy yet it doesnt still work. As you can see i commentted on that line, //.searchTermStrategy(new UnreadSearchTermStrategy())","body":"But i have tried custom SearchTermStrategy yet it doesnt still work. As you can see i commentted on that line, //.searchTermStrategy(new UnreadSearchTermStrategy())"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1632643395,"post_id":69322983,"comment_id":122544287,"body_markdown":"Is UnreadSearchTermStrategy really the right one? Commonly emails in Sent and Trash are flagged as ```SEEN```.","body":"Is UnreadSearchTermStrategy really the right one? Commonly emails in Sent and Trash are flagged as <code>SEEN</code>."},{"owner":{"account_id":2911375,"reputation":255,"user_id":2495495,"accept_rate":75,"display_name":"Christian Ibanibo"},"score":0,"creation_date":1632706624,"post_id":69322983,"comment_id":122557126,"body_markdown":"Wow. I just got to know this one now, thank you. Can i see a sample of customSearchTermStrategy for Sent and Trash?","body":"Wow. I just got to know this one now, thank you. Can i see a sample of customSearchTermStrategy for Sent and Trash?"},{"owner":{"account_id":2911375,"reputation":255,"user_id":2495495,"accept_rate":75,"display_name":"Christian Ibanibo"},"score":0,"creation_date":1632711890,"post_id":69322983,"comment_id":122557769,"body_markdown":"You right. I changed my customSearchTermStrategy of Flags.Flag.SEEN to true, it started receiving sent mails, but the problem is it will keep receiving old mails. How can i handle it not to receive mail already proccess by the server","body":"You right. I changed my customSearchTermStrategy of Flags.Flag.SEEN to true, it started receiving sent mails, but the problem is it will keep receiving old mails. How can i handle it not to receive mail already proccess by the server"}],"answers":[{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632740266,"creation_date":1632729415,"answer_id":69343040,"question_id":69322983,"body_markdown":"Let&#39;s move the discussion out of the comments.\r\n\r\nOk, you have to keep in mind, what you want to do. I recommend to use an extra imap mailbox for processing emails with spring integration. If not, you have to check every time all ```SEEN``` flagged emails to decide, if it is relevant for processing or not. That could by a lot of emails!\r\n\r\nAnyway.\r\n\r\nIf you want to have trackable email processing, I success to have two processes:\r\n\r\n 1. Process: Searching the Inbox for relevant emails and moving those email to a separate folder e.g. ```to_process```. \r\n 2. Process: Proccessing all emails in ```to_process```. If the processing was successful, move the mail into the folder ```done```, otherwise into ```process_failed```.\r\n\r\nHope, this is what you need. If not, you should describe your email processing a bit.","title":"Spring integration imap cant read from sent and trash folder except inbox folder","body":"<p>Let's move the discussion out of the comments.</p>\n<p>Ok, you have to keep in mind, what you want to do. I recommend to use an extra imap mailbox for processing emails with spring integration. If not, you have to check every time all <code>SEEN</code> flagged emails to decide, if it is relevant for processing or not. That could by a lot of emails!</p>\n<p>Anyway.</p>\n<p>If you want to have trackable email processing, I success to have two processes:</p>\n<ol>\n<li>Process: Searching the Inbox for relevant emails and moving those email to a separate folder e.g. <code>to_process</code>.</li>\n<li>Process: Proccessing all emails in <code>to_process</code>. If the processing was successful, move the mail into the folder <code>done</code>, otherwise into <code>process_failed</code>.</li>\n</ol>\n<p>Hope, this is what you need. If not, you should describe your email processing a bit.</p>\n"}],"owner":{"account_id":2911375,"reputation":255,"user_id":2495495,"accept_rate":75,"display_name":"Christian Ibanibo"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632740266,"creation_date":1632541940,"question_id":69322983,"body_markdown":"I am new to spring integration and i need help. I can read and process mails from my inbox folder with the code below    \r\n\r\n    @Bean\r\n    public IntegrationFlow imapMailFlow() throws UnsupportedEncodingException {\r\n        return IntegrationFlows\r\n                .from(Mail.imapInboundAdapter(imapUrl())\r\n                .searchTermStrategy(new UnreadSearchTermStrategy())\r\n                .userFlag(&quot;testSIUserFlag&quot;)\r\n                .simpleContent(true)\r\n                .javaMailProperties(p -&gt; p.put(&quot;mail.debug&quot;, &quot;false&quot;)),\r\n                        e -&gt; e.autoStartup(true)\r\n                .poller(p -&gt; p.fixedDelay(100)))\r\n                .channel(MessageChannels.queue(&quot;imapInboxChannel&quot;)).get();\r\n    }\r\n    private String imapUrl() throws UnsupportedEncodingException {\r\n        return &quot;imaps://&quot; + URLEncoder.encode(mailHostService.getMailHost().getEmail(), &quot;UTF-8&quot;) + &quot;:&quot;\r\n                + mailHostService.getMailHost().getPassword() + &quot;@&quot; + mailHostService.getMailHost().getIncominghost()\r\n                + &quot;:&quot; + mailHostService.getMailHost().getIncomingport() + &quot;/&quot; + &quot;INBOX&quot;;\r\n    }\r\n    \r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;imapInboxChannel&quot;)\r\n    public MessageHandler processNewEmail() {\r\n        MessageHandler messageHandler = new MessageHandler() {\r\n\r\n            @Override\r\n            public void handleMessage(Message&lt;?&gt; message) {\r\n                MimeMessage mimeMessage = (MimeMessage) message.getPayload();\r\n                processInboxMail.handleInboxMail(mimeMessage);\r\n            }\r\n        };\r\n        return messageHandler;\r\n\r\n    }\r\n\r\nBut when i wrote the same code for sent folder and trash folder i cant read mails yet am not having any error. I have tested it with different mail clients, it only works with inbox folder\r\n\r\n    @Bean\r\n    public IntegrationFlow imapSentFlow() throws UnsupportedEncodingException {\r\n        return IntegrationFlows\r\n                .from(Mail.imapInboundAdapter(imapSentUrl())\r\n                //.searchTermStrategy(new UnreadSearchTermStrategy())\r\n                .simpleContent(true)\r\n                .javaMailProperties(p -&gt; p.put(&quot;mail.debug&quot;, &quot;false&quot;)),\r\n                        e -&gt; e.autoStartup(true)\r\n                .poller(p -&gt; p.fixedDelay(100)))\r\n                .log(&quot;checking in the logs&quot;)\r\n                .channel(MessageChannels.queue(&quot;imapSentChannel&quot;)).get();\r\n    }\r\n    private String imapSentUrl() throws UnsupportedEncodingException {\r\n        return &quot;imaps://&quot; + URLEncoder.encode(mailHostService.getMailHost().getEmail(), &quot;UTF-8&quot;) + &quot;:&quot;\r\n                + mailHostService.getMailHost().getPassword() + &quot;@&quot; + mailHostService.getMailHost().getIncominghost()\r\n                + &quot;:&quot; + mailHostService.getMailHost().getIncomingport() + &quot;/&quot; + &quot;INBOX.Sent&quot;;\r\n    }\r\n\r\n    @Bean\r\n    @ServiceActivator(inputChannel = &quot;imapSentChannel&quot;)\r\n    public MessageHandler processNewSentEmail() {\r\n        MessageHandler messageHandler = new MessageHandler() {\r\n\r\n            @Override\r\n            public void handleMessage(Message&lt;?&gt; message) {\r\n                System.out.println(&quot;Message Receive&quot;);\r\n                MimeMessage mimeMessage = (MimeMessage) message.getPayload();\r\n                processInboxMail.handleInboxMail(mimeMessage);\r\n            }\r\n        };\r\n        return messageHandler;\r\n\r\n    }","title":"Spring integration imap cant read from sent and trash folder except inbox folder","body":"<p>I am new to spring integration and i need help. I can read and process mails from my inbox folder with the code below</p>\n<pre><code>@Bean\npublic IntegrationFlow imapMailFlow() throws UnsupportedEncodingException {\n    return IntegrationFlows\n            .from(Mail.imapInboundAdapter(imapUrl())\n            .searchTermStrategy(new UnreadSearchTermStrategy())\n            .userFlag(&quot;testSIUserFlag&quot;)\n            .simpleContent(true)\n            .javaMailProperties(p -&gt; p.put(&quot;mail.debug&quot;, &quot;false&quot;)),\n                    e -&gt; e.autoStartup(true)\n            .poller(p -&gt; p.fixedDelay(100)))\n            .channel(MessageChannels.queue(&quot;imapInboxChannel&quot;)).get();\n}\nprivate String imapUrl() throws UnsupportedEncodingException {\n    return &quot;imaps://&quot; + URLEncoder.encode(mailHostService.getMailHost().getEmail(), &quot;UTF-8&quot;) + &quot;:&quot;\n            + mailHostService.getMailHost().getPassword() + &quot;@&quot; + mailHostService.getMailHost().getIncominghost()\n            + &quot;:&quot; + mailHostService.getMailHost().getIncomingport() + &quot;/&quot; + &quot;INBOX&quot;;\n}\n\n@Bean\n@ServiceActivator(inputChannel = &quot;imapInboxChannel&quot;)\npublic MessageHandler processNewEmail() {\n    MessageHandler messageHandler = new MessageHandler() {\n\n        @Override\n        public void handleMessage(Message&lt;?&gt; message) {\n            MimeMessage mimeMessage = (MimeMessage) message.getPayload();\n            processInboxMail.handleInboxMail(mimeMessage);\n        }\n    };\n    return messageHandler;\n\n}\n</code></pre>\n<p>But when i wrote the same code for sent folder and trash folder i cant read mails yet am not having any error. I have tested it with different mail clients, it only works with inbox folder</p>\n<pre><code>@Bean\npublic IntegrationFlow imapSentFlow() throws UnsupportedEncodingException {\n    return IntegrationFlows\n            .from(Mail.imapInboundAdapter(imapSentUrl())\n            //.searchTermStrategy(new UnreadSearchTermStrategy())\n            .simpleContent(true)\n            .javaMailProperties(p -&gt; p.put(&quot;mail.debug&quot;, &quot;false&quot;)),\n                    e -&gt; e.autoStartup(true)\n            .poller(p -&gt; p.fixedDelay(100)))\n            .log(&quot;checking in the logs&quot;)\n            .channel(MessageChannels.queue(&quot;imapSentChannel&quot;)).get();\n}\nprivate String imapSentUrl() throws UnsupportedEncodingException {\n    return &quot;imaps://&quot; + URLEncoder.encode(mailHostService.getMailHost().getEmail(), &quot;UTF-8&quot;) + &quot;:&quot;\n            + mailHostService.getMailHost().getPassword() + &quot;@&quot; + mailHostService.getMailHost().getIncominghost()\n            + &quot;:&quot; + mailHostService.getMailHost().getIncomingport() + &quot;/&quot; + &quot;INBOX.Sent&quot;;\n}\n\n@Bean\n@ServiceActivator(inputChannel = &quot;imapSentChannel&quot;)\npublic MessageHandler processNewSentEmail() {\n    MessageHandler messageHandler = new MessageHandler() {\n\n        @Override\n        public void handleMessage(Message&lt;?&gt; message) {\n            System.out.println(&quot;Message Receive&quot;);\n            MimeMessage mimeMessage = (MimeMessage) message.getPayload();\n            processInboxMail.handleInboxMail(mimeMessage);\n        }\n    };\n    return messageHandler;\n\n}\n</code></pre>\n"},{"tags":["java","android","nullpointerexception","findviewbyid","butterknife"],"comments":[{"owner":{"account_id":14437669,"reputation":627,"user_id":10429259,"display_name":"Bhavin"},"score":1,"creation_date":1632740318,"post_id":69345362,"comment_id":122566187,"body_markdown":"as [library](https://github.com/JakeWharton/butterknife) suggest you should use R2 instead of R","body":"as <a href=\"https://github.com/JakeWharton/butterknife\" rel=\"nofollow noreferrer\">library</a> suggest you should use R2 instead of R"},{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1632740912,"post_id":69345362,"comment_id":122566412,"body_markdown":"An even better suggestion is to not use this library. It was deprecated over a year ago. Please read the opening paragraph of [the documentation](https://github.com/JakeWharton/butterknife#butter-knife): &quot;**Attention**: This tool is now deprecated. Please switch to [view binding](https://developer.android.com/topic/libraries/view-binding). Existing versions will continue to work, obviously, but only critical bug fixes for integration with AGP will be considered. Feature development and general bug fixes have stopped.&quot;","body":"An even better suggestion is to not use this library. It was deprecated over a year ago. Please read the opening paragraph of <a href=\"https://github.com/JakeWharton/butterknife#butter-knife\" rel=\"nofollow noreferrer\">the documentation</a>: &quot;<b>Attention</b>: This tool is now deprecated. Please switch to <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">view binding</a>. Existing versions will continue to work, obviously, but only critical bug fixes for integration with AGP will be considered. Feature development and general bug fixes have stopped.&quot;"},{"owner":{"account_id":22616962,"reputation":3155,"user_id":16796366,"display_name":"Nitish"},"score":0,"creation_date":1632740947,"post_id":69345362,"comment_id":122566430,"body_markdown":"If it&#39;s a new project , please don&#39;t use bufferknife as it&#39;s deprecated for a long time now, please switch to [view binding](https://developer.android.com/topic/libraries/view-binding)","body":"If it&#39;s a new project , please don&#39;t use bufferknife as it&#39;s deprecated for a long time now, please switch to <a href=\"https://developer.android.com/topic/libraries/view-binding\" rel=\"nofollow noreferrer\">view binding</a>"},{"owner":{"account_id":11561418,"reputation":1069,"user_id":13556102,"display_name":"Leonid"},"score":0,"creation_date":1632742611,"post_id":69345362,"comment_id":122567068,"body_markdown":"Attach gradle file please","body":"Attach gradle file please"}],"owner":{"account_id":11650441,"reputation":201,"user_id":12527104,"display_name":"IRON MAN"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632740184,"creation_date":1632739860,"question_id":69345362,"body_markdown":"plz dont mark it as duplicate i didnt find solution is other post\r\n\r\nim using butterknife in my proj im getting error as `Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference`\r\n\r\ncode:-\r\n\r\nxml:--\r\n\r\n    &lt;TextView\r\n            android:id=&quot;@+id/txt_terms&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;@string/txt_terms&quot;\r\n            android:textSize=&quot;12sp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:visibility=&quot;visible&quot; /&gt;\r\n\r\n\r\n\r\n\r\nactivity:-\r\n\r\n    @BindView(R.id.txt_terms)\r\n    TextView txtTerms;\r\n\r\n       @CallSuper\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.new_login_activity);\r\n        ButterKnife.bind(this);\r\n                txtTerms.setText(&quot;ss1&quot;);/////////error crash\r\n\r\n\r\n\r\nthis is my code\r\n\r\nwhat i have tried :---if i do like this adding this `txtTerms=findViewById(R.id.txt_terms);` it doesnt give error\r\n\r\nbut what might be error in above code using butterknife \r\n\r\nplease help thanks in advance","title":"I&#39;m getting error as Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference","body":"<p>plz dont mark it as duplicate i didnt find solution is other post</p>\n<p>im using butterknife in my proj im getting error as <code>Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference</code></p>\n<p>code:-</p>\n<p>xml:--</p>\n<pre><code>&lt;TextView\n        android:id=&quot;@+id/txt_terms&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/txt_terms&quot;\n        android:textSize=&quot;12sp&quot;\n        android:gravity=&quot;center&quot;\n        android:visibility=&quot;visible&quot; /&gt;\n</code></pre>\n<p>activity:-</p>\n<pre><code>@BindView(R.id.txt_terms)\nTextView txtTerms;\n\n   @CallSuper\n@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.new_login_activity);\n    ButterKnife.bind(this);\n            txtTerms.setText(&quot;ss1&quot;);/////////error crash\n</code></pre>\n<p>this is my code</p>\n<p>what i have tried :---if i do like this adding this <code>txtTerms=findViewById(R.id.txt_terms);</code> it doesnt give error</p>\n<p>but what might be error in above code using butterknife</p>\n<p>please help thanks in advance</p>\n"},{"tags":["java","cplex"],"answers":[{"tags":[],"owner":{"account_id":2413938,"reputation":2052,"user_id":2108433,"accept_rate":20,"display_name":"TimChippingtonDerrick"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632740129,"creation_date":1632740129,"answer_id":69345412,"question_id":69335530,"body_markdown":"Just don&#39;t try to recover them by their names. Keep your CPLEX variables in lists, arrays, dictionaries, structures, class instances or whatever in your code. Your IloNumVars are just normal objects that can be stored like any other. In your example code, just keep those IloNumVar arrays in a structure declared outside the loop (e.g. a list of those IloNumVar[] arrays).\r\n\r\nIf you *really* need to retrieve them by name, then put them in a dictionary, keyed on the variable name - again that would have to be declared outside your loop above. But that would be less efficient than just keeping them in your usual Java data structures as it would require extra lookup processing inside the ictionary to find the item by name.","title":"How to get values of vars by its name","body":"<p>Just don't try to recover them by their names. Keep your CPLEX variables in lists, arrays, dictionaries, structures, class instances or whatever in your code. Your IloNumVars are just normal objects that can be stored like any other. In your example code, just keep those IloNumVar arrays in a structure declared outside the loop (e.g. a list of those IloNumVar[] arrays).</p>\n<p>If you <em>really</em> need to retrieve them by name, then put them in a dictionary, keyed on the variable name - again that would have to be declared outside your loop above. But that would be less efficient than just keeping them in your usual Java data structures as it would require extra lookup processing inside the ictionary to find the item by name.</p>\n"}],"owner":{"account_id":22864806,"reputation":3,"user_id":17008333,"display_name":"kentergav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69345412,"answer_count":1,"score":0,"last_activity_date":1632740129,"creation_date":1632663913,"question_id":69335530,"body_markdown":"I&#39;m using the CPLEX Java interface to do some MIP problems, the optimizer is doing well but I can&#39;t get values of vars by their names.\r\n\r\nThe definitions of my vars are in a for loop, so in the outer code, I can&#39;t use `cplex.getValue()` function to get their values. \r\nPlease remind me of any methods that can get all the values or get values by their names.\r\n```\r\nfor (int i = 0; i &lt; count; ++i){\r\n    // c1 is changing when i increase\r\n    IloNumVar[] x = new IloNumVar[c1];\r\n    for (int j = 0; j &lt; c1; ++j) {\r\n        x[j] = cplex.numVar(0, 1, IloNumVarType.Int, &quot;x&quot; + String.valueOf(i) + &quot;_&quot; + String.valueOf(j));\r\n    }\r\n} \r\n...\r\ncplex.solve();\r\n```\r\n\r\nHow to retrieve all x values outer for loop after cplex.solve()?","title":"How to get values of vars by its name","body":"<p>I'm using the CPLEX Java interface to do some MIP problems, the optimizer is doing well but I can't get values of vars by their names.</p>\n<p>The definitions of my vars are in a for loop, so in the outer code, I can't use <code>cplex.getValue()</code> function to get their values.\nPlease remind me of any methods that can get all the values or get values by their names.</p>\n<pre><code>for (int i = 0; i &lt; count; ++i){\n    // c1 is changing when i increase\n    IloNumVar[] x = new IloNumVar[c1];\n    for (int j = 0; j &lt; c1; ++j) {\n        x[j] = cplex.numVar(0, 1, IloNumVarType.Int, &quot;x&quot; + String.valueOf(i) + &quot;_&quot; + String.valueOf(j));\n    }\n} \n...\ncplex.solve();\n</code></pre>\n<p>How to retrieve all x values outer for loop after cplex.solve()?</p>\n"},{"tags":["java","concurrency","locking"],"comments":[{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":1,"creation_date":1632646222,"post_id":69333175,"comment_id":122544785,"body_markdown":"Maybe I&#39;m missing something, but I honestly don&#39;t see why this code is necessary.  Wouldn&#39;t a simple `synchronized (value) { ... }` serve the exact same purpose, eliminating the need for your entire Mutex class?  Sure, you could beef it up a little bit so that all equivalent strings refer to the same lock object, but I think you&#39;re reinventing the wheel with your Mutex class.","body":"Maybe I&#39;m missing something, but I honestly don&#39;t see why this code is necessary.  Wouldn&#39;t a simple <code>synchronized (value) { ... }</code> serve the exact same purpose, eliminating the need for your entire Mutex class?  Sure, you could beef it up a little bit so that all equivalent strings refer to the same lock object, but I think you&#39;re reinventing the wheel with your Mutex class."},{"owner":{"account_id":1677260,"reputation":197,"user_id":2159502,"accept_rate":25,"display_name":"chaplean"},"score":0,"creation_date":1632647192,"post_id":69333175,"comment_id":122544979,"body_markdown":"@CharlieArmstrong synchronized block uses object, and I have only Account IBAN value (String). I know about String.intern() method but it has problems with GC. Regarding &quot;all equivalent strings refer to the same lock object&quot; - we have millions of account records, so it will not be a good solution to store their IBANs in a HashMap","body":"@CharlieArmstrong synchronized block uses object, and I have only Account IBAN value (String). I know about String.intern() method but it has problems with GC. Regarding &quot;all equivalent strings refer to the same lock object&quot; - we have millions of account records, so it will not be a good solution to store their IBANs in a HashMap"},{"owner":{"account_id":18688943,"reputation":2332,"user_id":13623742,"display_name":"Charlie Armstrong"},"score":0,"creation_date":1632647784,"post_id":69333175,"comment_id":122545112,"body_markdown":"Hmm ok I get what you&#39;re saying now.  I don&#39;t know of a great solution off the top of my head.  It&#39;s possible your solution is the simplest way to do it, just to me this feels like a situation where there&#39;s got to be a more built-in way to do this.  I&#39;d be surprised if none of the Java libraries had something for this.","body":"Hmm ok I get what you&#39;re saying now.  I don&#39;t know of a great solution off the top of my head.  It&#39;s possible your solution is the simplest way to do it, just to me this feels like a situation where there&#39;s got to be a more built-in way to do this.  I&#39;d be surprised if none of the Java libraries had something for this."},{"owner":{"account_id":1677260,"reputation":197,"user_id":2159502,"accept_rate":25,"display_name":"chaplean"},"score":0,"creation_date":1632650611,"post_id":69333175,"comment_id":122545738,"body_markdown":"@CharlieArmstrong agree, same with me, that is why my question is here :) Let&#39;s see","body":"@CharlieArmstrong agree, same with me, that is why my question is here :) Let&#39;s see"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1632738570,"post_id":69333175,"comment_id":122565509,"body_markdown":"There is no point in wrapping a `while(condition) …` loop in a `if(condition) …`, the loop does already have a pre-test. You’re just performing the same test twice when `true`. Besides that, now that you changed the `list` to a `Set`, you shouldn’t name the variable `list` either, further, the `add` contract is already sufficient for testing the presence. In other words, you can simply do `while(!set.add(value)) { this.wait(); } return new Lock(value);` and that’s it.","body":"There is no point in wrapping a <code>while(condition) …</code> loop in a <code>if(condition) …</code>, the loop does already have a pre-test. You’re just performing the same test twice when <code>true</code>. Besides that, now that you changed the <code>list</code> to a <code>Set</code>, you shouldn’t name the variable <code>list</code> either, further, the <code>add</code> contract is already sufficient for testing the presence. In other words, you can simply do <code>while(!set.add(value)) { this.wait(); } return new Lock(value);</code> and that’s it."},{"owner":{"account_id":1677260,"reputation":197,"user_id":2159502,"accept_rate":25,"display_name":"chaplean"},"score":0,"creation_date":1632739794,"post_id":69333175,"comment_id":122566015,"body_markdown":"Thanks for the comment, good point! Optimizing the code above :)","body":"Thanks for the comment, good point! Optimizing the code above :)"}],"answers":[{"tags":[],"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632661726,"creation_date":1632652821,"answer_id":69334079,"question_id":69333175,"body_markdown":"Regarding your implementation,\r\n\r\nI would have use a Set instead of a List to hold your values (I assume the values have proper equals/hashcode for this to make sense): the List#contains method is in O(n) which might be expensive if you have a lot of IBAN used at the same time.\r\n\r\nAlso, you should avoid using [synchronize(this)][1] (which is the same as the synchronized keyword on method).\r\n\r\nTo solve your problem, I use something like this:\r\n    \r\n    import java.lang.ref.Reference;\r\n    import java.lang.ref.ReferenceQueue;\r\n    import java.lang.ref.SoftReference;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Optional;\r\n    import java.util.concurrent.locks.Lock;\r\n    import java.util.concurrent.locks.ReentrantLock;\r\n    \r\n    public class Locks&lt;T&gt; {\r\n    \r\n        private final Lock lock = new ReentrantLock();\r\n    \r\n        //a Bimap from guava might be better here if you have the dependency\r\n        //in your project\r\n        private final Map&lt;Reference&lt;?&gt;, T&gt; valuePerReference = new HashMap&lt;&gt;();\r\n        private final Map&lt;T, Reference&lt;Lock&gt;&gt; locks = new HashMap&lt;&gt;();\r\n    \r\n        private final ReferenceQueue&lt;Lock&gt; lockReferenceQueue = new ReferenceQueue&lt;&gt;();\r\n    \r\n        public Locks() {\r\n            final Thread cleanerThread = new Thread(new Cleaner());\r\n            cleanerThread.setDaemon(true);\r\n            cleanerThread.start();\r\n        }\r\n    \r\n        /**\r\n         * @param value the value the synchronization must be made on\r\n         * @return a lock that can be used to synchronize block of code.\r\n         */\r\n        public Lock getLock(T value) {\r\n            lock.lock();\r\n            try {\r\n                return getExistingLock(value).orElseGet(() -&gt; createNewLock(value));\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }\r\n    \r\n    \r\n        private Optional&lt;Lock&gt; getExistingLock(T value) {\r\n            return Optional.ofNullable(locks.get(value)).map(Reference::get);\r\n        }\r\n    \r\n        private Lock createNewLock(T value) {\r\n            //I create ReentrantLock here but a Supplier&lt;Lock&gt; could be a parameter of this\r\n            //class to make it more generic. Same remark for SoftReference below.\r\n            final Lock lock = new ReentrantLock();\r\n            final Reference&lt;Lock&gt; reference = new SoftReference&lt;&gt;(lock, lockReferenceQueue);\r\n            this.locks.put(value,reference);\r\n            this.valuePerReference.put(reference,value);\r\n            return lock;\r\n        }\r\n    \r\n    \r\n        private void removeLock(Reference&lt;?&gt; reference) {\r\n            lock.lock();\r\n            try {\r\n                final T value = valuePerReference.remove(reference);\r\n                locks.remove(value);\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }\r\n    \r\n    \r\n        private class Cleaner implements Runnable {\r\n            @Override\r\n            public void run() {\r\n                while (!Thread.currentThread().isInterrupted()) {\r\n                    try {\r\n                        final Reference&lt;? extends Lock&gt; garbaged = lockReferenceQueue.remove();\r\n                        removeLock(garbaged);\r\n                    } catch (InterruptedException e) {\r\n                        Thread.currentThread().interrupt();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nI then use this like this:\r\n\r\n    import java.util.concurrent.locks.Lock;\r\n    \r\n    public class Usage {\r\n    \r\n        private final Locks&lt;String&gt; locks = new Locks&lt;&gt;();\r\n    \r\n    \r\n        public void doSomethind(String iban) {\r\n            final Lock lock = locks.getLock(iban);\r\n            lock.lock();\r\n            try {\r\n                //.. do something with your iban\r\n            } finally {\r\n                lock.unlock();\r\n            }\r\n        }\r\n    }\r\n\r\nAlthough it uses ReentrantLock, the code can be easily modified for ReadWriteLock for instance.\r\n\r\n  [1]: https://stackoverflow.com/questions/442564/avoid-synchronizedthis-in-java\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Lock.html\r\n","title":"Synchronize by value rather that object","body":"<p>Regarding your implementation,</p>\n<p>I would have use a Set instead of a List to hold your values (I assume the values have proper equals/hashcode for this to make sense): the List#contains method is in O(n) which might be expensive if you have a lot of IBAN used at the same time.</p>\n<p>Also, you should avoid using <a href=\"https://stackoverflow.com/questions/442564/avoid-synchronizedthis-in-java\">synchronize(this)</a> (which is the same as the synchronized keyword on method).</p>\n<p>To solve your problem, I use something like this:</p>\n<pre><code>import java.lang.ref.Reference;\nimport java.lang.ref.ReferenceQueue;\nimport java.lang.ref.SoftReference;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.Optional;\nimport java.util.concurrent.locks.Lock;\nimport java.util.concurrent.locks.ReentrantLock;\n\npublic class Locks&lt;T&gt; {\n\n    private final Lock lock = new ReentrantLock();\n\n    //a Bimap from guava might be better here if you have the dependency\n    //in your project\n    private final Map&lt;Reference&lt;?&gt;, T&gt; valuePerReference = new HashMap&lt;&gt;();\n    private final Map&lt;T, Reference&lt;Lock&gt;&gt; locks = new HashMap&lt;&gt;();\n\n    private final ReferenceQueue&lt;Lock&gt; lockReferenceQueue = new ReferenceQueue&lt;&gt;();\n\n    public Locks() {\n        final Thread cleanerThread = new Thread(new Cleaner());\n        cleanerThread.setDaemon(true);\n        cleanerThread.start();\n    }\n\n    /**\n     * @param value the value the synchronization must be made on\n     * @return a lock that can be used to synchronize block of code.\n     */\n    public Lock getLock(T value) {\n        lock.lock();\n        try {\n            return getExistingLock(value).orElseGet(() -&gt; createNewLock(value));\n        } finally {\n            lock.unlock();\n        }\n    }\n\n\n    private Optional&lt;Lock&gt; getExistingLock(T value) {\n        return Optional.ofNullable(locks.get(value)).map(Reference::get);\n    }\n\n    private Lock createNewLock(T value) {\n        //I create ReentrantLock here but a Supplier&lt;Lock&gt; could be a parameter of this\n        //class to make it more generic. Same remark for SoftReference below.\n        final Lock lock = new ReentrantLock();\n        final Reference&lt;Lock&gt; reference = new SoftReference&lt;&gt;(lock, lockReferenceQueue);\n        this.locks.put(value,reference);\n        this.valuePerReference.put(reference,value);\n        return lock;\n    }\n\n\n    private void removeLock(Reference&lt;?&gt; reference) {\n        lock.lock();\n        try {\n            final T value = valuePerReference.remove(reference);\n            locks.remove(value);\n        } finally {\n            lock.unlock();\n        }\n    }\n\n\n    private class Cleaner implements Runnable {\n        @Override\n        public void run() {\n            while (!Thread.currentThread().isInterrupted()) {\n                try {\n                    final Reference&lt;? extends Lock&gt; garbaged = lockReferenceQueue.remove();\n                    removeLock(garbaged);\n                } catch (InterruptedException e) {\n                    Thread.currentThread().interrupt();\n                }\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>I then use this like this:</p>\n<pre><code>import java.util.concurrent.locks.Lock;\n\npublic class Usage {\n\n    private final Locks&lt;String&gt; locks = new Locks&lt;&gt;();\n\n\n    public void doSomethind(String iban) {\n        final Lock lock = locks.getLock(iban);\n        lock.lock();\n        try {\n            //.. do something with your iban\n        } finally {\n            lock.unlock();\n        }\n    }\n}\n</code></pre>\n<p>Although it uses ReentrantLock, the code can be easily modified for ReadWriteLock for instance.</p>\n"}],"owner":{"account_id":1677260,"reputation":197,"user_id":2159502,"accept_rate":25,"display_name":"chaplean"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632739961,"creation_date":1632645660,"question_id":69333175,"body_markdown":"I implemented a simple locking solution that creates a lock for a value rather than object and want to know the experts&#39; opinion for possible performance or security drawbacks.\r\nThe idea is to use it for account balance update acquiring the lock for unique account number.\r\n\r\nHere is an implementation:\r\n\r\n    import java.util.*;\r\n    \r\n    public class Mutex&lt;T&gt; {\r\n    \r\n        private final Set&lt;T&gt; set = new HashSet();\r\n    \r\n        public synchronized Lock acquireLock(\r\n                T value\r\n                ) throws InterruptedException {\r\n            while(!set.add(value)) {\r\n                this.wait();\r\n            }\r\n            return new Lock(value);\r\n        }\r\n    \r\n        public class Lock {\r\n    \r\n            private final T value;\r\n    \r\n            public Lock(T value) {\r\n                this.value = value;\r\n            }\r\n    \r\n            public T getValue() {\r\n                return value;\r\n            }\r\n    \r\n            public void release() {\r\n                synchronized(Mutex.this) {\r\n                    set.remove(value);\r\n                    Mutex.this.notifyAll();\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nAnd here is a sample usage to check the operability:\r\n\r\n    public class Test {\r\n    \r\n        private Mutex mutex = new Mutex();\r\n    \r\n        public static void main(String[] args) {\r\n            Test test = new Test();\r\n            Thread t1 = new Thread(() -&gt; {\r\n                try {\r\n                    test.test(&quot;SameValue&quot;);\r\n                } catch (InterruptedException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            });\r\n            t1.setName(&quot;Thread 1&quot;);\r\n            Thread t2 = new Thread(() -&gt; {\r\n                try {\r\n                    test.test(&quot;SameValue&quot;);\r\n                } catch (InterruptedException ex) {\r\n                    ex.printStackTrace();\r\n                }\r\n            });\r\n            t2.setName(&quot;Thread 2&quot;);\r\n    \r\n            t1.start();\r\n            t2.start();\r\n        }\r\n    \r\n        public void test(String value)\r\n                throws\r\n                InterruptedException {\r\n            Lock lock = mutex.acquireLock(value);\r\n            try {\r\n                Thread.sleep(5000);\r\n                System.out.println(Thread.currentThread().getName());\r\n            } finally {\r\n                lock.release();\r\n            }\r\n        }\r\n    }","title":"Synchronize by value rather that object","body":"<p>I implemented a simple locking solution that creates a lock for a value rather than object and want to know the experts' opinion for possible performance or security drawbacks.\nThe idea is to use it for account balance update acquiring the lock for unique account number.</p>\n<p>Here is an implementation:</p>\n<pre><code>import java.util.*;\n\npublic class Mutex&lt;T&gt; {\n\n    private final Set&lt;T&gt; set = new HashSet();\n\n    public synchronized Lock acquireLock(\n            T value\n            ) throws InterruptedException {\n        while(!set.add(value)) {\n            this.wait();\n        }\n        return new Lock(value);\n    }\n\n    public class Lock {\n\n        private final T value;\n\n        public Lock(T value) {\n            this.value = value;\n        }\n\n        public T getValue() {\n            return value;\n        }\n\n        public void release() {\n            synchronized(Mutex.this) {\n                set.remove(value);\n                Mutex.this.notifyAll();\n            }\n        }\n    }\n}\n</code></pre>\n<p>And here is a sample usage to check the operability:</p>\n<pre><code>public class Test {\n\n    private Mutex mutex = new Mutex();\n\n    public static void main(String[] args) {\n        Test test = new Test();\n        Thread t1 = new Thread(() -&gt; {\n            try {\n                test.test(&quot;SameValue&quot;);\n            } catch (InterruptedException ex) {\n                ex.printStackTrace();\n            }\n        });\n        t1.setName(&quot;Thread 1&quot;);\n        Thread t2 = new Thread(() -&gt; {\n            try {\n                test.test(&quot;SameValue&quot;);\n            } catch (InterruptedException ex) {\n                ex.printStackTrace();\n            }\n        });\n        t2.setName(&quot;Thread 2&quot;);\n\n        t1.start();\n        t2.start();\n    }\n\n    public void test(String value)\n            throws\n            InterruptedException {\n        Lock lock = mutex.acquireLock(value);\n        try {\n            Thread.sleep(5000);\n            System.out.println(Thread.currentThread().getName());\n        } finally {\n            lock.release();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","java-7","diamond-operator"],"comments":[{"owner":{"account_id":915612,"reputation":1144,"user_id":948466,"accept_rate":60,"display_name":"Dave Hartnoll"},"score":1,"creation_date":1394030201,"post_id":22200647,"comment_id":33702304,"body_markdown":"This is not a duplicate of that specific question. I referenced a similar question, but need an explanation for the answer (or a better answer).","body":"This is not a duplicate of that specific question. I referenced a similar question, but need an explanation for the answer (or a better answer)."},{"owner":{"account_id":3452279,"reputation":37360,"user_id":2891664,"accept_rate":100,"display_name":"Radiodef"},"score":0,"creation_date":1394030358,"post_id":22200647,"comment_id":33702416,"body_markdown":"The answer you&#39;ve linked to gives a &#39;best guess&#39; at what the paragraph you&#39;ve quoted means. What don&#39;t you understand? Are you wanting a more solid answer?","body":"The answer you&#39;ve linked to gives a &#39;best guess&#39; at what the paragraph you&#39;ve quoted means. What don&#39;t you understand? Are you wanting a more solid answer?"},{"owner":{"account_id":1453902,"reputation":3608,"user_id":1370062,"accept_rate":96,"display_name":"RMachnik"},"score":0,"creation_date":1394030424,"post_id":22200647,"comment_id":33702464,"body_markdown":"http://stackoverflow.com/questions/9512526/java-7-diamond-operator-why-was-it-difficult-to-implement?rq=1 some slight explanation","body":"<a href=\"http://stackoverflow.com/questions/9512526/java-7-diamond-operator-why-was-it-difficult-to-implement?rq=1\" title=\"java 7 diamond operator why was it difficult to implement\">stackoverflow.com/questions/9512526/&hellip;</a> some slight explanation"},{"owner":{"account_id":915612,"reputation":1144,"user_id":948466,"accept_rate":60,"display_name":"Dave Hartnoll"},"score":0,"creation_date":1394030586,"post_id":22200647,"comment_id":33702575,"body_markdown":"Thanks @Rafik991, I read that answer too, but It didn&#39;t really help with understanding any odd use cases.","body":"Thanks @Rafik991, I read that answer too, but It didn&#39;t really help with understanding any odd use cases."},{"owner":{"account_id":915612,"reputation":1144,"user_id":948466,"accept_rate":60,"display_name":"Dave Hartnoll"},"score":0,"creation_date":1394030943,"post_id":22200647,"comment_id":33702840,"body_markdown":"@Radiodef The best guess in the linked answer doesn&#39;t really cover why the compiler cannot (or chooses not to) infer the correct type. Once the type is known, the generated class ought to be the same. Or maybe not - in which case any additional explanation would help.","body":"@Radiodef The best guess in the linked answer doesn&#39;t really cover why the compiler cannot (or chooses not to) infer the correct type. Once the type is known, the generated class ought to be the same. Or maybe not - in which case any additional explanation would help."},{"owner":{"account_id":2478127,"reputation":19514,"user_id":2158288,"display_name":"ZhongYu"},"score":0,"creation_date":1403073206,"post_id":22200647,"comment_id":37511761,"body_markdown":"http://stackoverflow.com/questions/13821586/why-cant-diamond-infer-types-on-anonymous-inner-classes","body":"<a href=\"http://stackoverflow.com/questions/13821586/why-cant-diamond-infer-types-on-anonymous-inner-classes\" title=\"why cant diamond infer types on anonymous inner classes\">stackoverflow.com/questions/13821586/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":24,"is_accepted":true,"score":24,"last_activity_date":1436346083,"creation_date":1394031113,"answer_id":22201175,"question_id":22200647,"body_markdown":"This was discussed on [the &quot;Project Coin&quot; mailing list][1]. In substance (emphasis mine):\r\n\r\n&gt; Internally, a Java compiler operates over a richer set of types than \r\nthose that can be written down explicitly in a Java program. The \r\ncompiler-internal types which cannot be written in a Java program are \r\ncalled non-denotable types. Non-denotable types can occur as the result \r\nof the inference used by diamond. ***Therefore, using diamond with \r\nanonymous inner classes is not supported since doing so in general would \r\nrequire extensions to the class file signature attribute to represent \r\nnon-denotable types, a de facto JVM change***. It is feasible that future \r\nplatform versions could allow use of diamond when creating an anonymous \r\ninner class as long as the inferred type was denotable.\r\n\r\nNote that it is not supported in Java 8 either but will be included as a new feature in Java 9 (Item 3 of [&quot;Milling Project Coin&quot;][2]).\r\n\r\n [1]: http://mail.openjdk.java.net/pipermail/coin-dev/2011-June/003283.html\r\n [2]: http://openjdk.java.net/jeps/213","title":"Why can&#39;t Java 7 diamond operator be used with anonymous classes?","body":"<p>This was discussed on <a href=\"http://mail.openjdk.java.net/pipermail/coin-dev/2011-June/003283.html\" rel=\"noreferrer\">the \"Project Coin\" mailing list</a>. In substance (emphasis mine):</p>\n\n<blockquote>\n  <p>Internally, a Java compiler operates over a richer set of types than \n  those that can be written down explicitly in a Java program. The \n  compiler-internal types which cannot be written in a Java program are \n  called non-denotable types. Non-denotable types can occur as the result \n  of the inference used by diamond. <strong><em>Therefore, using diamond with \n  anonymous inner classes is not supported since doing so in general would \n  require extensions to the class file signature attribute to represent \n  non-denotable types, a de facto JVM change</em></strong>. It is feasible that future \n  platform versions could allow use of diamond when creating an anonymous \n  inner class as long as the inferred type was denotable.</p>\n</blockquote>\n\n<p>Note that it is not supported in Java 8 either but will be included as a new feature in Java 9 (Item 3 of <a href=\"http://openjdk.java.net/jeps/213\" rel=\"noreferrer\">\"Milling Project Coin\"</a>).</p>\n"},{"tags":[],"owner":{"account_id":1956025,"reputation":11547,"user_id":1759015,"accept_rate":81,"display_name":"Durgpal Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509183056,"creation_date":1509183056,"answer_id":46988226,"question_id":22200647,"body_markdown":"You can use diamond opeator in [Java9][1]\r\n\r\n\r\n  [1]: http://javasampleapproach.com/java/java-9/java-9-diamond-operator-for-anonymous-inner-classes\r\n\r\n    MyHandler&lt;Integer&gt; intHandler = new MyHandler&lt;&gt;(1) {\r\n \r\n\t\t\t@Override\r\n\t\t\tpublic void handle() {\r\n\t\t\t\t// handling code...\r\n\t\t\t}\r\n\t\t};\r\n \r\n\t\tMyHandler&lt;? extends Integer&gt; intHandler1 = new MyHandler&lt;&gt;(10) {\r\n \r\n\t\t\t@Override\r\n\t\t\tvoid handle() {\r\n\t\t\t\t// handling code...\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tMyHandler&lt;?&gt; handler = new MyHandler&lt;&gt;(&quot;One hundred&quot;) {\r\n \r\n\t\t\t@Override\r\n\t\t\tvoid handle() {\r\n\t\t\t\t// handling code...\r\n\t\t\t}\r\n\t\t};\r\n\t}","title":"Why can&#39;t Java 7 diamond operator be used with anonymous classes?","body":"<p>You can use diamond opeator in <a href=\"http://javasampleapproach.com/java/java-9/java-9-diamond-operator-for-anonymous-inner-classes\" rel=\"nofollow noreferrer\">Java9</a></p>\n\n<pre><code>MyHandler&lt;Integer&gt; intHandler = new MyHandler&lt;&gt;(1) {\n\n        @Override\n        public void handle() {\n            // handling code...\n        }\n    };\n\n    MyHandler&lt;? extends Integer&gt; intHandler1 = new MyHandler&lt;&gt;(10) {\n\n        @Override\n        void handle() {\n            // handling code...\n        }\n    };\n\n    MyHandler&lt;?&gt; handler = new MyHandler&lt;&gt;(\"One hundred\") {\n\n        @Override\n        void handle() {\n            // handling code...\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5781672,"reputation":3514,"user_id":6402939,"accept_rate":75,"display_name":"jitendra varshney"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509183202,"creation_date":1509183202,"answer_id":46988243,"question_id":22200647,"body_markdown":"You can use it in java 9 \r\n[Example Diamond operator][1]\r\n\r\n\r\n  [1]: http://javasampleapproach.com/java/java-9/java-9-diamond-operator-for-anonymous-inner-classes\r\n\r\n\r\n\r\n     MyHandler&lt;Integer&gt; intHandler = new MyHandler&lt;&gt;(1) {\r\n \r\n\t\t\t@Override\r\n\t\t\tpublic void handle() {\r\n\t\t\t\t// handling code...\r\n\t\t\t}\r\n     };","title":"Why can&#39;t Java 7 diamond operator be used with anonymous classes?","body":"<p>You can use it in java 9 \n<a href=\"http://javasampleapproach.com/java/java-9/java-9-diamond-operator-for-anonymous-inner-classes\" rel=\"nofollow noreferrer\">Example Diamond operator</a></p>\n\n<pre><code> MyHandler&lt;Integer&gt; intHandler = new MyHandler&lt;&gt;(1) {\n\n        @Override\n        public void handle() {\n            // handling code...\n        }\n };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11320172,"reputation":1058,"user_id":8300722,"display_name":"hoan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522471017,"creation_date":1522471017,"answer_id":49584294,"question_id":22200647,"body_markdown":"From [Java 10][1], you can do easily with `var`, the compiler will take care of the Type inference.\r\n\r\n    var list1 = new ArrayList();\r\n    var list2 = new ArrayList&lt;String&gt;();\r\n    var list3 = new ArrayList&lt;String&gt;() { };\r\n    var list4 = new ArrayList&lt;&gt;() { };\r\n    var list5 = new ArrayList&lt;Integer&gt;() { };\r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/286","title":"Why can&#39;t Java 7 diamond operator be used with anonymous classes?","body":"<p>From <a href=\"http://openjdk.java.net/jeps/286\" rel=\"nofollow noreferrer\">Java 10</a>, you can do easily with <code>var</code>, the compiler will take care of the Type inference.</p>\n\n<pre><code>var list1 = new ArrayList();\nvar list2 = new ArrayList&lt;String&gt;();\nvar list3 = new ArrayList&lt;String&gt;() { };\nvar list4 = new ArrayList&lt;&gt;() { };\nvar list5 = new ArrayList&lt;Integer&gt;() { };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2898103,"reputation":567,"user_id":2485429,"display_name":"user2485429"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632739913,"creation_date":1632739913,"answer_id":69345374,"question_id":22200647,"body_markdown":"From Java 9, diamond operator &lt;&gt; can be used with anonymous classes. See [here][1].\r\n\r\n\r\n  [1]: https://javaconceptoftheday.com/java-9-diamond-operator-improvements/","title":"Why can&#39;t Java 7 diamond operator be used with anonymous classes?","body":"<p>From Java 9, diamond operator &lt;&gt; can be used with anonymous classes. See <a href=\"https://javaconceptoftheday.com/java-9-diamond-operator-improvements/\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":915612,"reputation":1144,"user_id":948466,"accept_rate":60,"display_name":"Dave Hartnoll"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7147,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"accepted_answer_id":22201175,"answer_count":5,"score":41,"last_activity_date":1632739913,"creation_date":1394029857,"question_id":22200647,"body_markdown":"Consider this Java code which attempts to instantiate some `List`s:\r\n\r\n    List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\r\n    List&lt;String&gt; list2 = new ArrayList&lt;&gt;();\r\n    List&lt;String&gt; list3 = new ArrayList&lt;String&gt;() { };\r\n    List&lt;String&gt; list4 = new ArrayList&lt;&gt;() { };\r\n    List&lt;String&gt; list5 = new ArrayList&lt;Integer&gt;() { };\r\n\r\n`list1` and `list2` are straightforward; `list2` uses the new diamond operator in Java 7 to reduce unnecessary repetition of the type parameters.\r\n\r\n`list3` is a variation on `list1` using an anonymous class, potentially to override some methods of `ArrayList`.\r\n\r\n`list4` attempts to use the diamond operator, similar to `list2`, but this is a compile error, with the message _&#39;&lt;&gt;&#39; cannot be used with anonymous classes_. \r\n\r\n`list5` produces an error that proves the compiler knows what type is actually needed. The error message is _Type mismatch: cannot convert from new ArrayList&amp;#60;Integer&gt;(){} to List&amp;#60;String&gt;_\r\n\r\nSo, with the declaration of `list4`, why can&#39;t the diamond operator be used with anonymous classes? There is a [similar question here][1] with an accepted answer that contains the following explanation from [JSR-334][2]:\r\n\r\n&gt; Using diamond with anonymous inner classes is not supported since\r\n&gt; doing so in general would require extensions to the class file\r\n&gt; signature attribute to represent non-denotable types, a de facto JVM\r\n&gt; change.\r\n\r\nI need some help understanding that reasoning. Why would an explicit type versus the identical and apparently easily inferred type require any difference in the resulting class file? What difficult use case would be covered by &quot;doing so in general&quot;?\r\n\r\n&lt;h3&gt;What is the underlying reason for this?&lt;/h3&gt;\r\n\r\n  [1]: https://stackoverflow.com/questions/13821586/why-cant-diamond-infer-types-on-anonymous-inner-classes\r\n  [2]: http://cr.openjdk.java.net/~darcy/ProjectCoin/ProjectCoin-Documentation-v0.83.html\r\n","title":"Why can&#39;t Java 7 diamond operator be used with anonymous classes?","body":"<p>Consider this Java code which attempts to instantiate some <code>List</code>s:</p>\n\n<pre><code>List&lt;String&gt; list1 = new ArrayList&lt;String&gt;();\nList&lt;String&gt; list2 = new ArrayList&lt;&gt;();\nList&lt;String&gt; list3 = new ArrayList&lt;String&gt;() { };\nList&lt;String&gt; list4 = new ArrayList&lt;&gt;() { };\nList&lt;String&gt; list5 = new ArrayList&lt;Integer&gt;() { };\n</code></pre>\n\n<p><code>list1</code> and <code>list2</code> are straightforward; <code>list2</code> uses the new diamond operator in Java 7 to reduce unnecessary repetition of the type parameters.</p>\n\n<p><code>list3</code> is a variation on <code>list1</code> using an anonymous class, potentially to override some methods of <code>ArrayList</code>.</p>\n\n<p><code>list4</code> attempts to use the diamond operator, similar to <code>list2</code>, but this is a compile error, with the message <em>'&lt;>' cannot be used with anonymous classes</em>. </p>\n\n<p><code>list5</code> produces an error that proves the compiler knows what type is actually needed. The error message is <em>Type mismatch: cannot convert from new ArrayList&#60;Integer>(){} to List&#60;String></em></p>\n\n<p>So, with the declaration of <code>list4</code>, why can't the diamond operator be used with anonymous classes? There is a <a href=\"https://stackoverflow.com/questions/13821586/why-cant-diamond-infer-types-on-anonymous-inner-classes\">similar question here</a> with an accepted answer that contains the following explanation from <a href=\"http://cr.openjdk.java.net/~darcy/ProjectCoin/ProjectCoin-Documentation-v0.83.html\" rel=\"noreferrer\">JSR-334</a>:</p>\n\n<blockquote>\n  <p>Using diamond with anonymous inner classes is not supported since\n  doing so in general would require extensions to the class file\n  signature attribute to represent non-denotable types, a de facto JVM\n  change.</p>\n</blockquote>\n\n<p>I need some help understanding that reasoning. Why would an explicit type versus the identical and apparently easily inferred type require any difference in the resulting class file? What difficult use case would be covered by \"doing so in general\"?</p>\n\n<h3>What is the underlying reason for this?</h3>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":10642195,"reputation":5360,"user_id":7836833,"display_name":"deepakchethan"},"score":0,"creation_date":1632739971,"post_id":69345347,"comment_id":122566084,"body_markdown":"Does this answer your question? [changing password - Spring Security](https://stackoverflow.com/questions/11525308/changing-password-spring-security)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11525308/changing-password-spring-security\">changing password - Spring Security</a>"},{"owner":{"account_id":22684491,"reputation":3,"user_id":16854381,"display_name":"Артём Смирнов"},"score":0,"creation_date":1632740332,"post_id":69345347,"comment_id":122566195,"body_markdown":"Not exactly. I don&#39;t know why but the Principal class in my project doesn&#39;t contain the methods listed there","body":"Not exactly. I don&#39;t know why but the Principal class in my project doesn&#39;t contain the methods listed there"}],"owner":{"account_id":22684491,"reputation":3,"user_id":16854381,"display_name":"Артём Смирнов"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632739781,"creation_date":1632739781,"question_id":69345347,"body_markdown":"I have a method that changes the user&#39;s password in database, but that&#39;s the half of the battle. I also need to renew the session context in which the user data is situated.\r\n\r\nFor example:\r\n\r\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    /* ...password changing steps...*/ \r\n    user.setPassword(newPassword); //set the new password in the database\r\n    /* ...something I need to do to insert the new password into the Security Context... */\r\n\r\n\r\nSo what do I need to write in code to refresh the session information after the password change?","title":"How to refresh the Security Context after the password change in Spring","body":"<p>I have a method that changes the user's password in database, but that's the half of the battle. I also need to renew the session context in which the user data is situated.</p>\n<p>For example:</p>\n<pre><code>Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\n/* ...password changing steps...*/ \nuser.setPassword(newPassword); //set the new password in the database\n/* ...something I need to do to insert the new password into the Security Context... */\n</code></pre>\n<p>So what do I need to write in code to refresh the session information after the password change?</p>\n"},{"tags":["java","mongodb","spring-boot","hibernate","ttl"],"answers":[{"tags":[],"owner":{"account_id":19870082,"reputation":489,"user_id":14556461,"display_name":"Pawel Woroniecki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632695723,"creation_date":1632695723,"answer_id":69339483,"question_id":69336714,"body_markdown":"Yes, Mongo internally keeps expiration date per document and you can set manually date of expiration for each document.\r\n\r\nIt is described in Mongo&#39;s documentation here: https://docs.mongodb.com/manual/tutorial/expire-data/#expire-documents-at-a-specific-clock-time\r\n\r\nRelevant example from documentation:\r\n```\r\ndb.log_events.createIndex( { &quot;expireAt&quot;: 1 }, { expireAfterSeconds: 0 } )\r\ndb.log_events.insert( {\r\n   &quot;expireAt&quot;: new Date(&#39;July 22, 2013 14:00:00&#39;),\r\n   &quot;logEvent&quot;: 2,\r\n   &quot;logMessage&quot;: &quot;Success!&quot;\r\n} )\r\n```\r\n\r\nAnd explanation for it:\r\n\r\n&gt; MongoDB will automatically delete documents from the log_events collection when the documents&#39; expireAt value is older than the number of seconds specified in expireAfterSeconds, i.e. 0 seconds older in this case. As such, the data expires at the specified expireAt value.","title":"How to implement TTL for specific mongo documents","body":"<p>Yes, Mongo internally keeps expiration date per document and you can set manually date of expiration for each document.</p>\n<p>It is described in Mongo's documentation here: <a href=\"https://docs.mongodb.com/manual/tutorial/expire-data/#expire-documents-at-a-specific-clock-time\" rel=\"nofollow noreferrer\">https://docs.mongodb.com/manual/tutorial/expire-data/#expire-documents-at-a-specific-clock-time</a></p>\n<p>Relevant example from documentation:</p>\n<pre><code>db.log_events.createIndex( { &quot;expireAt&quot;: 1 }, { expireAfterSeconds: 0 } )\ndb.log_events.insert( {\n   &quot;expireAt&quot;: new Date('July 22, 2013 14:00:00'),\n   &quot;logEvent&quot;: 2,\n   &quot;logMessage&quot;: &quot;Success!&quot;\n} )\n</code></pre>\n<p>And explanation for it:</p>\n<blockquote>\n<p>MongoDB will automatically delete documents from the log_events collection when the documents' expireAt value is older than the number of seconds specified in expireAfterSeconds, i.e. 0 seconds older in this case. As such, the data expires at the specified expireAt value.</p>\n</blockquote>\n"}],"owner":{"account_id":21036567,"reputation":155,"user_id":15459894,"display_name":"Ricardo Petronilho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69339483,"answer_count":1,"score":0,"last_activity_date":1632739658,"creation_date":1632672706,"question_id":69336714,"body_markdown":"To give you some context first, my service stores notifications temporary. There is a max TTL (predefined by the Administrator), however I want to allow the user to specify the custom TTL for each notification. Of course, this TTL needs to be always lower than the max TTL.\r\n\r\nMy question is, does mongo have a built-in TTL for each document? I know there is for the whole document kind, that is, every document (from the same collection) has the same TTL value. However here I want different TTL values for documents from the same collection.\r\n\r\nPS: I could use, for example, a quartz job to implement this use case, I just want to avoid developing solutions that are already implemented. ","title":"How to implement TTL for specific mongo documents","body":"<p>To give you some context first, my service stores notifications temporary. There is a max TTL (predefined by the Administrator), however I want to allow the user to specify the custom TTL for each notification. Of course, this TTL needs to be always lower than the max TTL.</p>\n<p>My question is, does mongo have a built-in TTL for each document? I know there is for the whole document kind, that is, every document (from the same collection) has the same TTL value. However here I want different TTL values for documents from the same collection.</p>\n<p>PS: I could use, for example, a quartz job to implement this use case, I just want to avoid developing solutions that are already implemented.</p>\n"},{"tags":["java","spring","deployment","websphere","war"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1632421834,"post_id":69298357,"comment_id":122494794,"body_markdown":"You need to clarify when this error appears and format properly full stack trace. And you cannot run WAS with Oracle JVM so it is clearly something wrong in your description of the environment. Your `war` might be built incorrectly.","body":"You need to clarify when this error appears and format properly full stack trace. And you cannot run WAS with Oracle JVM so it is clearly something wrong in your description of the environment. Your <code>war</code> might be built incorrectly."},{"owner":{"account_id":7831233,"reputation":47,"user_id":5921169,"display_name":"B.Ayaz"},"score":0,"creation_date":1632732135,"post_id":69298357,"comment_id":122562806,"body_markdown":"W com.ibm.ws.ecs.internal.scan.context.impl.ScannerContextImpl scanJAR unable to open input stream for resource org/osgi/service/application/ApplicationAdminPermission.class in archive WEB-INF/lib/org.eclipse.equinox.app-1.6.0.jar\n                                 java.lang.IllegalArgumentException\n\tat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n\tat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n\tat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source)\n\tat com.ibm.ws.ecs.internal.scan.impl.ClassScanner.scanInputStream(ClassScanner.java:147)","body":"W com.ibm.ws.ecs.internal.scan.context.impl.ScannerContextImpl scanJAR unable to open input stream for resource org/osgi/service/application/ApplicationAdminPermission.clas&zwnj;&#8203;s in archive WEB-INF/lib/org.eclipse.equinox.app-1.6.0.jar                                  java.lang.IllegalArgumentException \tat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source) \tat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source) \tat org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source) \tat com.ibm.ws.ecs.internal.scan.impl.ClassScanner.scanInputStre&zwnj;&#8203;am(ClassScanner.java&zwnj;&#8203;:147)"}],"owner":{"account_id":7831233,"reputation":47,"user_id":5921169,"display_name":"B.Ayaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632739260,"creation_date":1632393253,"question_id":69298357,"body_markdown":"I&#39;m trying to deploy war file on Websphere 9.0.0.11 but we are getting the error. Although I&#39;m able to run the file locally on tomcat and Similarly, when I try to add old war files they are working fine. No changes are made in the code too.\r\n\r\nWebsphere version: 9.0.0.11\r\nApache Maven 3.5.3 \r\nJava version: 1.8.0_131, vendor: Oracle Corporation\r\n\r\n    MBeanHelper   E   Could not invoke an operation on object: WebSphere:name=ApplicationManager,process=server1,platform=proxy,node=Default01Node,version=9.0.0.11,type=ApplicationManager,mbeanIdentifier=ApplicationManager,cell=Default01Cell,spec=1.0 because of an mbean exception: com.ibm.ws.exception.RuntimeError: java.lang.RuntimeException: java.lang.IllegalArgumentException\r\n\r\n    W com.ibm.ws.ecs.internal.scan.context.impl.ScannerContextImpl scanJAR\r\n    unable to open input stream for resource\r\n    org/eclipse/core/resources/IProject.class in archive\r\n    WEB-INF/lib/org.eclipse.core.resources-3.14.0.jar\r\n    java.lang.IllegalArgumentException\r\n\r\n\r\n    W com.ibm.ws.ecs.internal.scan.context.impl.ScannerContextImpl scanJAR\r\n    unable to open input stream for resource org/osgi/service/application\r\n    /ApplicationAdminPermission.class in archive WEB-INF/lib\r\n    /org.eclipse.equinox.app-1.6.0.jar java.lang.IllegalArgumentException at\r\n    org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source) at\r\n    org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source) at\r\n    org.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source) at\r\n    com.ibm.ws.ecs.internal.scan.impl.ClassScanner.scanInputStream(ClassScanner.java:147)\r\n\r\n","title":"Websphere 9.0.0.11 unable to run application using java1.8?","body":"<p>I'm trying to deploy war file on Websphere 9.0.0.11 but we are getting the error. Although I'm able to run the file locally on tomcat and Similarly, when I try to add old war files they are working fine. No changes are made in the code too.</p>\n<p>Websphere version: 9.0.0.11\nApache Maven 3.5.3\nJava version: 1.8.0_131, vendor: Oracle Corporation</p>\n<pre><code>MBeanHelper   E   Could not invoke an operation on object: WebSphere:name=ApplicationManager,process=server1,platform=proxy,node=Default01Node,version=9.0.0.11,type=ApplicationManager,mbeanIdentifier=ApplicationManager,cell=Default01Cell,spec=1.0 because of an mbean exception: com.ibm.ws.exception.RuntimeError: java.lang.RuntimeException: java.lang.IllegalArgumentException\n\nW com.ibm.ws.ecs.internal.scan.context.impl.ScannerContextImpl scanJAR\nunable to open input stream for resource\norg/eclipse/core/resources/IProject.class in archive\nWEB-INF/lib/org.eclipse.core.resources-3.14.0.jar\njava.lang.IllegalArgumentException\n\n\nW com.ibm.ws.ecs.internal.scan.context.impl.ScannerContextImpl scanJAR\nunable to open input stream for resource org/osgi/service/application\n/ApplicationAdminPermission.class in archive WEB-INF/lib\n/org.eclipse.equinox.app-1.6.0.jar java.lang.IllegalArgumentException at\norg.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source) at\norg.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source) at\norg.objectweb.asm.ClassReader.&lt;init&gt;(Unknown Source) at\ncom.ibm.ws.ecs.internal.scan.impl.ClassScanner.scanInputStream(ClassScanner.java:147)\n</code></pre>\n"},{"tags":["java","spring-boot","junit5","flyway","testcontainers"],"comments":[{"owner":{"account_id":15361,"reputation":4976,"user_id":32352,"accept_rate":62,"display_name":"johanneslink"},"score":0,"creation_date":1624294760,"post_id":68068944,"comment_id":120314135,"body_markdown":"Maybe I’m missing something but I can’t spot the place in your code where testcontainers lib is used in the first place. Can you clarify?","body":"Maybe I’m missing something but I can’t spot the place in your code where testcontainers lib is used in the first place. Can you clarify?"},{"owner":{"account_id":22010911,"reputation":71,"user_id":16281212,"display_name":"jel"},"score":1,"creation_date":1624295711,"post_id":68068944,"comment_id":120314485,"body_markdown":"testcontainers is automatically used because in the property file above the jdbc url starts with **jdbc:tc** (tc for testcontainers)","body":"testcontainers is automatically used because in the property file above the jdbc url starts with <b>jdbc:tc</b> (tc for testcontainers)"},{"owner":{"account_id":22010911,"reputation":71,"user_id":16281212,"display_name":"jel"},"score":0,"creation_date":1624303893,"post_id":68068944,"comment_id":120317350,"body_markdown":"I suspect a spring initialization problem which causes this loading to be done twice, or maybe a problem with tescontainers","body":"I suspect a spring initialization problem which causes this loading to be done twice, or maybe a problem with tescontainers"},{"owner":{"account_id":2554674,"reputation":596,"user_id":6585764,"accept_rate":40,"display_name":"Fran&#231;ois-David Lessard"},"score":0,"creation_date":1629232575,"post_id":68068944,"comment_id":121631819,"body_markdown":"I have the same issue with Spring Boot 2.5.3 and liquibase, TestContainer 1.16, Junit 5 with multiple datasources","body":"I have the same issue with Spring Boot 2.5.3 and liquibase, TestContainer 1.16, Junit 5 with multiple datasources"},{"owner":{"account_id":22010911,"reputation":71,"user_id":16281212,"display_name":"jel"},"score":0,"creation_date":1629361518,"post_id":68068944,"comment_id":121667981,"body_markdown":"@Fran&#231;ois-DavidLessard see response below, I hope that helps","body":"@Fran&#231;ois-DavidLessard see response below, I hope that helps"}],"answers":[{"tags":[],"owner":{"account_id":22010911,"reputation":71,"user_id":16281212,"display_name":"jel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1629361193,"creation_date":1629361193,"answer_id":68844314,"question_id":68068944,"body_markdown":"I found a solution for my case: remove flyway user and password properties to use only spring ones. The duplication of these properties caused the double launch of the datasourse.\r\n\r\n**Before**\r\n\r\n    spring:\r\n      flyway:\r\n        locations: [ classpath:flyway-scripts ]\r\n        user: xxx\r\n        password: xxx\r\n      datasource:\r\n        url: jdbc:postgresql://localhost:5432/postgres\r\n        username: xxx\r\n        password: xxx\r\n\r\n**After**\r\n\r\n    spring:\r\n      flyway:\r\n        locations: [ classpath:flyway-scripts ]\r\n      datasource:\r\n        url: jdbc:postgresql://localhost:5432/postgres\r\n        username: xxx\r\n        password: xxx\r\n\r\n","title":"Testcontainers start two containers instead of one in Spring boot project","body":"<p>I found a solution for my case: remove flyway user and password properties to use only spring ones. The duplication of these properties caused the double launch of the datasourse.</p>\n<p><strong>Before</strong></p>\n<pre><code>spring:\n  flyway:\n    locations: [ classpath:flyway-scripts ]\n    user: xxx\n    password: xxx\n  datasource:\n    url: jdbc:postgresql://localhost:5432/postgres\n    username: xxx\n    password: xxx\n</code></pre>\n<p><strong>After</strong></p>\n<pre><code>spring:\n  flyway:\n    locations: [ classpath:flyway-scripts ]\n  datasource:\n    url: jdbc:postgresql://localhost:5432/postgres\n    username: xxx\n    password: xxx\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6291501,"reputation":1128,"user_id":4889035,"display_name":"Dmytro Chaban"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632738666,"creation_date":1632738666,"answer_id":69345119,"question_id":68068944,"body_markdown":"The way I fixed it is by adding `?TC_DAEMON=true` to the datasource url.\r\n(in my case I used `postgis`, so just replace it with `jdbc:tc:postgresql:13.3`\r\n```\r\nspring:\r\n  datasource:\r\n    driver-class-name: org.testcontainers.jdbc.ContainerDatabaseDriver\r\n    url: jdbc:tc:postgis:9.6-2.5:///dbname?TC_DAEMON=true\r\n    username: xxx\r\n    password: xxx\r\n  flyway:\r\n    enabled: true\r\n    locations: &#39;classpath:db/migration&#39;\r\n    url: ${spring.datasource.url}\r\n    user: ${spring.datasource.username}\r\n    password: ${spring.datasource.password}\r\n    validate-on-migrate: true\r\n```","title":"Testcontainers start two containers instead of one in Spring boot project","body":"<p>The way I fixed it is by adding <code>?TC_DAEMON=true</code> to the datasource url.\n(in my case I used <code>postgis</code>, so just replace it with <code>jdbc:tc:postgresql:13.3</code></p>\n<pre><code>spring:\n  datasource:\n    driver-class-name: org.testcontainers.jdbc.ContainerDatabaseDriver\n    url: jdbc:tc:postgis:9.6-2.5:///dbname?TC_DAEMON=true\n    username: xxx\n    password: xxx\n  flyway:\n    enabled: true\n    locations: 'classpath:db/migration'\n    url: ${spring.datasource.url}\n    user: ${spring.datasource.username}\n    password: ${spring.datasource.password}\n    validate-on-migrate: true\n</code></pre>\n"}],"owner":{"account_id":22010911,"reputation":71,"user_id":16281212,"display_name":"jel"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2694,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":68844314,"answer_count":2,"score":5,"last_activity_date":1632738666,"creation_date":1624282546,"question_id":68068944,"body_markdown":"I&#39;m using Testcontainers 1.15.3 with Spring Boot 2.4 and Junit5.\r\nWhen I run my test, testcontainers starts the first container and execute flyway scripts and then stop the first container. Immediatly a second container is started (without launching flyway scripts).\r\nMy test fail because the second container does not contain data.\r\n\r\nAbstract class:\r\n\r\n ``` \r\n@ExtendWith({RestDocumentationExtension.class, SpringExtension.class})\r\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\npublic abstract class AbstractIntegrationTest {\r\n//...\r\n}\r\n ```\r\n\r\nTest class:\r\n\r\n``` \r\nclass ClassTest extends AbstractIntegrationTest{\r\n    \r\n    @Test\r\n    void getById () throws Exception {\r\n    //...\r\n    }\r\n\r\n}\r\n```\r\n\r\nProperty file for test (jdbc url contains jdbc:**tc** to launch testcontainer):\r\n\r\n``` \r\nspring.flyway.locations = classpath:database/structure,classpath:database/data\r\nspring.datasource.url=jdbc:tc:postgresql:13.3:///databasename?TC_INITSCRIPT=file:src/test/resources/database/dataset/add_user.sql\r\n``` \r\n\r\nLogs after launching test :\r\n\r\n``` \r\n...\r\n...\r\n2021-06-21 12:56:52 [main] INFO  &#128051; [postgres:13.3] - Creating container for image: postgres:13.3\r\n2021-06-21 12:56:52 [main] INFO  &#128051; [postgres:13.3] - Starting container with ID: 6a41054e8ec0f9045f8db9e945134234458a0e60b6157618f6f139cdf77d0cc4\r\n2021-06-21 12:56:52 [main] INFO  &#128051; [postgres:13.3] - Container postgres:13.3 is starting: 6a41054e8ec0f9045f8db9e945134234458a0e60b6157618f6f139cdf77d0cc4\r\n...\r\n...\r\n2021-06-21 12:56:53 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema &quot;public&quot; to version &quot;1.1.001 - init structure&quot;\r\n...\r\n...\r\n2021-06-21 12:56:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...\r\n2021-06-21 12:56:55 [main] INFO  &#128051; [postgres:13.3] - Creating container for image: postgres:13.3\r\n2021-06-21 12:56:55 [main] INFO  &#128051; [postgres:13.3] - Starting container with ID: f02fccb0706f047918d849f897ce52bf41870a53821663b21212760c779db05f\r\n2021-06-21 12:56:55 [main] INFO  &#128051; [postgres:13.3] - Container postgres:13.3 is starting: f02fccb0706f047918d849f897ce52bf41870a53821663b21212760c779db05f\r\n```\r\n\r\nAs we see in the logs above, two containers are created.\r\n\r\nCould you help me to solve this problem ?\r\n\r\nThank you.\r\n","title":"Testcontainers start two containers instead of one in Spring boot project","body":"<p>I'm using Testcontainers 1.15.3 with Spring Boot 2.4 and Junit5.\nWhen I run my test, testcontainers starts the first container and execute flyway scripts and then stop the first container. Immediatly a second container is started (without launching flyway scripts).\nMy test fail because the second container does not contain data.</p>\n<p>Abstract class:</p>\n<pre><code>@ExtendWith({RestDocumentationExtension.class, SpringExtension.class})\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\npublic abstract class AbstractIntegrationTest {\n//...\n}\n</code></pre>\n<p>Test class:</p>\n<pre><code>class ClassTest extends AbstractIntegrationTest{\n    \n    @Test\n    void getById () throws Exception {\n    //...\n    }\n\n}\n</code></pre>\n<p>Property file for test (jdbc url contains jdbc:<strong>tc</strong> to launch testcontainer):</p>\n<pre><code>spring.flyway.locations = classpath:database/structure,classpath:database/data\nspring.datasource.url=jdbc:tc:postgresql:13.3:///databasename?TC_INITSCRIPT=file:src/test/resources/database/dataset/add_user.sql\n</code></pre>\n<p>Logs after launching test :</p>\n<pre><code>...\n...\n2021-06-21 12:56:52 [main] INFO  🐳 [postgres:13.3] - Creating container for image: postgres:13.3\n2021-06-21 12:56:52 [main] INFO  🐳 [postgres:13.3] - Starting container with ID: 6a41054e8ec0f9045f8db9e945134234458a0e60b6157618f6f139cdf77d0cc4\n2021-06-21 12:56:52 [main] INFO  🐳 [postgres:13.3] - Container postgres:13.3 is starting: 6a41054e8ec0f9045f8db9e945134234458a0e60b6157618f6f139cdf77d0cc4\n...\n...\n2021-06-21 12:56:53 [main] INFO  o.f.core.internal.command.DbMigrate - Migrating schema &quot;public&quot; to version &quot;1.1.001 - init structure&quot;\n...\n...\n2021-06-21 12:56:55 [main] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...\n2021-06-21 12:56:55 [main] INFO  🐳 [postgres:13.3] - Creating container for image: postgres:13.3\n2021-06-21 12:56:55 [main] INFO  🐳 [postgres:13.3] - Starting container with ID: f02fccb0706f047918d849f897ce52bf41870a53821663b21212760c779db05f\n2021-06-21 12:56:55 [main] INFO  🐳 [postgres:13.3] - Container postgres:13.3 is starting: f02fccb0706f047918d849f897ce52bf41870a53821663b21212760c779db05f\n</code></pre>\n<p>As we see in the logs above, two containers are created.</p>\n<p>Could you help me to solve this problem ?</p>\n<p>Thank you.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":11440117,"reputation":194,"user_id":8386024,"display_name":"oubaydos"},"score":0,"creation_date":1627646729,"post_id":68590622,"comment_id":121218210,"body_markdown":"I dont think there is a better way. You could create a method (String) -&gt; int if this task is repetitive. Otherwise you could use enums. One more thing. You could combine the first if and else if statements in one if","body":"I dont think there is a better way. You could create a method (String) -&gt; int if this task is repetitive. Otherwise you could use enums. One more thing. You could combine the first if and else if statements in one if"},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1627646877,"post_id":68590622,"comment_id":121218259,"body_markdown":"How many strings for comparison you can have in total?","body":"How many strings for comparison you can have in total?"}],"answers":[{"tags":[],"owner":{"account_id":18687930,"reputation":325,"user_id":13622993,"display_name":"Nakarukatoshi Uzumaki"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1632738302,"creation_date":1627646762,"answer_id":68590683,"question_id":68590622,"body_markdown":"Try this:\r\n\r\n    switch (someString.toUpperCase()) {\r\n      case &quot;XYZ&quot;:\r\n        myNum = 1;\r\n        break;\r\n      case &quot;FOO&quot;:\r\n        myNum = 2;\r\n        break;\r\n      case &quot;BAR&quot;:\r\n      case &quot;ANOTHER_BAR&quot;:\r\n        myNum = 3;\r\n        break;\r\n      default:\r\n        myNum = -1;\r\n        break;\r\n    }\r\n\r\nFrom now on, with the new Switch features (JDK 14+), you can even simplify the Switch statement! Link: https://openjdk.java.net/jeps/361","title":"How to set variable value conditionally","body":"<p>Try this:</p>\n<pre><code>switch (someString.toUpperCase()) {\n  case &quot;XYZ&quot;:\n    myNum = 1;\n    break;\n  case &quot;FOO&quot;:\n    myNum = 2;\n    break;\n  case &quot;BAR&quot;:\n  case &quot;ANOTHER_BAR&quot;:\n    myNum = 3;\n    break;\n  default:\n    myNum = -1;\n    break;\n}\n</code></pre>\n<p>From now on, with the new Switch features (JDK 14+), you can even simplify the Switch statement! Link: <a href=\"https://openjdk.java.net/jeps/361\" rel=\"nofollow noreferrer\">https://openjdk.java.net/jeps/361</a></p>\n"},{"tags":[],"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627646780,"creation_date":1627646780,"answer_id":68590687,"question_id":68590622,"body_markdown":"First of all, you could replace the first two `if` statements with one:\r\n\r\n    if (someString.equalsIgnorecase(&quot;foo&quot;) || someString.equalsIgnorecase(&quot;bar&quot;)) {\r\n        x = someObj.setRequestNumber(123);\r\n    } else if (someString.equalsIgnorecase(&quot;xyz&quot;)) {\r\n        x = someObj.setRequestNumber(456);\r\n    } else {\r\n        x = someObj.setRequestNumber(000);\r\n    }\r\n\r\nAnother way is to create a `Map`, and lookup the result from the map:\r\n\r\n    Map&lt;String, Integer&gt; map = Map.of(&quot;foo&quot;, 123, &quot;bar&quot;, 123, &quot;xyz&quot;, 456);\r\n\r\n    x = map.getOrDefault(someString.toLowerCase(), 0);\r\n\r\n(Note: `Map.of(...)` was added in Java 9, if you&#39;re using an earlier version of Java you&#39;ll have to add the elements separately with `map.put(&quot;foo&quot;, 123);` etc.).","title":"How to set variable value conditionally","body":"<p>First of all, you could replace the first two <code>if</code> statements with one:</p>\n<pre><code>if (someString.equalsIgnorecase(&quot;foo&quot;) || someString.equalsIgnorecase(&quot;bar&quot;)) {\n    x = someObj.setRequestNumber(123);\n} else if (someString.equalsIgnorecase(&quot;xyz&quot;)) {\n    x = someObj.setRequestNumber(456);\n} else {\n    x = someObj.setRequestNumber(000);\n}\n</code></pre>\n<p>Another way is to create a <code>Map</code>, and lookup the result from the map:</p>\n<pre><code>Map&lt;String, Integer&gt; map = Map.of(&quot;foo&quot;, 123, &quot;bar&quot;, 123, &quot;xyz&quot;, 456);\n\nx = map.getOrDefault(someString.toLowerCase(), 0);\n</code></pre>\n<p>(Note: <code>Map.of(...)</code> was added in Java 9, if you're using an earlier version of Java you'll have to add the elements separately with <code>map.put(&quot;foo&quot;, 123);</code> etc.).</p>\n"},{"tags":[],"owner":{"account_id":21579655,"reputation":1318,"user_id":15911053,"display_name":"iggy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627647104,"creation_date":1627647104,"answer_id":68590754,"question_id":68590622,"body_markdown":"Use a map.\r\n\r\nInitialization:\r\n\r\n       Map&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\r\n       map.put(&quot;foo&quot;, 123);\r\n       map.put(&quot;bar&quot;, 123);\r\n       map.put(&quot;xyz&quot;, 456);\r\n        :\r\n\r\nUse:\r\n    \r\n    Integer req = map.get(someString.toLowerCase());\r\n    if (req != null)\r\n         someObj.setRequestNumber(req);\r\n    else\r\n         error(&quot;....!&quot;);\r\n\r\nThis trades off a little initialization code for simplicity elsewhere, and is worthwhile if you have to make &#39;many&#39; such lookups and have &#39;many&#39; strings to look up.\r\n\r\n","title":"How to set variable value conditionally","body":"<p>Use a map.</p>\n<p>Initialization:</p>\n<pre><code>   Map&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\n   map.put(&quot;foo&quot;, 123);\n   map.put(&quot;bar&quot;, 123);\n   map.put(&quot;xyz&quot;, 456);\n    :\n</code></pre>\n<p>Use:</p>\n<pre><code>Integer req = map.get(someString.toLowerCase());\nif (req != null)\n     someObj.setRequestNumber(req);\nelse\n     error(&quot;....!&quot;);\n</code></pre>\n<p>This trades off a little initialization code for simplicity elsewhere, and is worthwhile if you have to make 'many' such lookups and have 'many' strings to look up.</p>\n"},{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1627727399,"creation_date":1627647284,"answer_id":68590793,"question_id":68590622,"body_markdown":"Note: the code has been updated adding a `toLowerCase` when asking the value connected to a particular key. By the way, a key should be uniquely identified and the OP should decide if using lower cases or upper cases for the keys instead of changing the code making ignore case comparisons.\r\n\r\nYou can create a `Map&lt;String, Integer&gt;` and use it to set your value (this solution works also in older versions of java, eventually for versions before java 5 don&#39;t use generics):\r\n\r\n    // Init the map with the values for each key\r\n    Map&lt;String, Integer&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;foo&quot;, 123);\r\n    values.put(&quot;bar&quot;, 123);\r\n    values.put(&quot;xyz&quot;, 456);\r\n    \r\n    // Use the values map to set your value \r\n    someObject.setRequestNumber(value.getOrDefault(someString.toLowerCase(), 0));\r\n\r\nUse the [`getOrDefault`][1] method to set a default value if none of the key is present in the values map:\r\n\r\n&gt; Returns the value to which the specified key is mapped, or defaultValue if this map contains no mapping for the key.\r\n\r\n\r\nNote that if you need to assign the value 000 as default value this is not a n `int`. It must be set as a `String` to hold all the three zeros. Changing it to a String is simple just change the code as follow:\r\n\r\n    // Init the map with the values for each key\r\n    Map&lt;String, String&gt; values = new HashMap&lt;&gt;();\r\n    values.put(&quot;foo&quot;, &quot;123&quot;);\r\n    values.put(&quot;bar&quot;, &quot;123&quot;);\r\n    values.put(&quot;xyz&quot;, &quot;456&quot;);\r\n    \r\n    // Use the values map to set your value \r\n    // The method setRequestNumber must receive a String\r\n    someObject.setRequestNumber(value.getOrDefault(someString, &quot;000&quot;));\r\n\r\nAs alternative using the switch the best is to create a method like the following (since java 7):\r\n\r\n     public String getValueFromKey(String key) {\r\n        switch(key.toLowerCase()) {\r\n            case &quot;foo&quot;:\r\n            case &quot;bar&quot;:      // You can combine multiple case\r\n               return &quot;123&quot;; // You can exit directly with a return instead \r\n                             // of saving the result in a variable and use a break\r\n            case &quot;xyz&quot;:\r\n               return &quot;456&quot;;\r\n            default:         // Use the default to set the handle any value not previously handled  \r\n               return &quot;000&quot;;  \r\n     }\r\n\r\n     ...\r\n     someObj.setRequestNumber(getValueFromKey(someString));\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-","title":"How to set variable value conditionally","body":"<p>Note: the code has been updated adding a <code>toLowerCase</code> when asking the value connected to a particular key. By the way, a key should be uniquely identified and the OP should decide if using lower cases or upper cases for the keys instead of changing the code making ignore case comparisons.</p>\n<p>You can create a <code>Map&lt;String, Integer&gt;</code> and use it to set your value (this solution works also in older versions of java, eventually for versions before java 5 don't use generics):</p>\n<pre><code>// Init the map with the values for each key\nMap&lt;String, Integer&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;foo&quot;, 123);\nvalues.put(&quot;bar&quot;, 123);\nvalues.put(&quot;xyz&quot;, 456);\n\n// Use the values map to set your value \nsomeObject.setRequestNumber(value.getOrDefault(someString.toLowerCase(), 0));\n</code></pre>\n<p>Use the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#getOrDefault-java.lang.Object-V-\" rel=\"nofollow noreferrer\"><code>getOrDefault</code></a> method to set a default value if none of the key is present in the values map:</p>\n<blockquote>\n<p>Returns the value to which the specified key is mapped, or defaultValue if this map contains no mapping for the key.</p>\n</blockquote>\n<p>Note that if you need to assign the value 000 as default value this is not a n <code>int</code>. It must be set as a <code>String</code> to hold all the three zeros. Changing it to a String is simple just change the code as follow:</p>\n<pre><code>// Init the map with the values for each key\nMap&lt;String, String&gt; values = new HashMap&lt;&gt;();\nvalues.put(&quot;foo&quot;, &quot;123&quot;);\nvalues.put(&quot;bar&quot;, &quot;123&quot;);\nvalues.put(&quot;xyz&quot;, &quot;456&quot;);\n\n// Use the values map to set your value \n// The method setRequestNumber must receive a String\nsomeObject.setRequestNumber(value.getOrDefault(someString, &quot;000&quot;));\n</code></pre>\n<p>As alternative using the switch the best is to create a method like the following (since java 7):</p>\n<pre><code> public String getValueFromKey(String key) {\n    switch(key.toLowerCase()) {\n        case &quot;foo&quot;:\n        case &quot;bar&quot;:      // You can combine multiple case\n           return &quot;123&quot;; // You can exit directly with a return instead \n                         // of saving the result in a variable and use a break\n        case &quot;xyz&quot;:\n           return &quot;456&quot;;\n        default:         // Use the default to set the handle any value not previously handled  \n           return &quot;000&quot;;  \n }\n\n ...\n someObj.setRequestNumber(getValueFromKey(someString));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":485862,"reputation":1486,"user_id":902423,"accept_rate":82,"display_name":"Raveesh Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627647510,"creation_date":1627647510,"answer_id":68590833,"question_id":68590622,"body_markdown":"You can use a Map \r\n\r\n     Map&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\r\n            map.put(&quot;foo&quot;,123);\r\n            map.put(&quot;bar&quot;,123);\r\n            map.put(&quot;xyz&quot;,456);\r\n            \r\n            x= map.get(someString);\r\n\r\n\r\nWhen faced with many conditions see if you can apply polymorphism . \r\nhttps://refactoring.com/catalog/replaceConditionalWithPolymorphism.html\r\n","title":"How to set variable value conditionally","body":"<p>You can use a Map</p>\n<pre><code> Map&lt;String,Integer&gt; map = new HashMap&lt;&gt;();\n        map.put(&quot;foo&quot;,123);\n        map.put(&quot;bar&quot;,123);\n        map.put(&quot;xyz&quot;,456);\n        \n        x= map.get(someString);\n</code></pre>\n<p>When faced with many conditions see if you can apply polymorphism .\n<a href=\"https://refactoring.com/catalog/replaceConditionalWithPolymorphism.html\" rel=\"nofollow noreferrer\">https://refactoring.com/catalog/replaceConditionalWithPolymorphism.html</a></p>\n"}],"owner":{"account_id":7227680,"reputation":356,"user_id":5515691,"accept_rate":80,"display_name":"Gitesh"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1019,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":68590793,"answer_count":5,"score":-3,"last_activity_date":1632738302,"creation_date":1627646461,"question_id":68590622,"body_markdown":"I am trying to set variable value based on conditions and I want to know if there is a better way to do this in Java 8 rather than using multiple if else or switch statements.\r\n\r\nI need to set Request Number based on String values\r\n\r\n123 for foo,\r\n123 for bar,\r\n456 for xyz,\r\n000 as default value i.e for any other string value.\r\n\r\n    if(someString.equalsIgnorecase(&quot;foo&quot;)){\r\n    x = someObj.setRequestNumber(123);\r\n    }\r\n    \r\n    else if(someString.equalsIgnorecase(&quot;bar&quot;)){\r\n    x = someObj.setRequestNumber(123);\r\n    }\r\n    \r\n    else if(someString.equalsIgnorecase(&quot;xyz&quot;)){\r\n    x = someObj.setRequestNumber(456);\r\n    }\r\n    \r\n    else{\r\n    x = someObj.setRequestNumber(000);\r\n    }","title":"How to set variable value conditionally","body":"<p>I am trying to set variable value based on conditions and I want to know if there is a better way to do this in Java 8 rather than using multiple if else or switch statements.</p>\n<p>I need to set Request Number based on String values</p>\n<p>123 for foo,\n123 for bar,\n456 for xyz,\n000 as default value i.e for any other string value.</p>\n<pre><code>if(someString.equalsIgnorecase(&quot;foo&quot;)){\nx = someObj.setRequestNumber(123);\n}\n\nelse if(someString.equalsIgnorecase(&quot;bar&quot;)){\nx = someObj.setRequestNumber(123);\n}\n\nelse if(someString.equalsIgnorecase(&quot;xyz&quot;)){\nx = someObj.setRequestNumber(456);\n}\n\nelse{\nx = someObj.setRequestNumber(000);\n}\n</code></pre>\n"},{"tags":["java","apache","excel","pivot-table","apache-poi"],"comments":[{"owner":{"account_id":480137,"reputation":128,"user_id":893190,"accept_rate":100,"display_name":"Ash"},"score":0,"creation_date":1401837115,"post_id":1010673,"comment_id":37036470,"body_markdown":"I have a requirement and I am curious how you achieved basing your pivot table on your data sheet. I have a template excel sheet which I fill with data using apache poi. However I have issues basing my pivot table on this filled data. any ideas ??","body":"I have a requirement and I am curious how you achieved basing your pivot table on your data sheet. I have a template excel sheet which I fill with data using apache poi. However I have issues basing my pivot table on this filled data. any ideas ??"},{"owner":{"account_id":1073279,"reputation":1325,"user_id":1072040,"accept_rate":37,"display_name":"Muhammad Salman Farooq"},"score":0,"creation_date":1516777472,"post_id":1010673,"comment_id":83822747,"body_markdown":"I am also having issues that when I fill in data in source sheets and then write the file over disk, the pivot table in resulting file is not intact. I am using JXL for this purpose. Any help is much appreciated as I am stuck.","body":"I am also having issues that when I fill in data in source sheets and then write the file over disk, the pivot table in resulting file is not intact. I am using JXL for this purpose. Any help is much appreciated as I am stuck."}],"answers":[{"tags":[],"owner":{"account_id":28947,"reputation":90759,"user_id":77779,"accept_rate":89,"display_name":"Yishai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1260287452,"creation_date":1260287452,"answer_id":1867839,"question_id":1010673,"body_markdown":"The basic answer to this is no. POI is a document format reader and writer. Updating the Pivot table is an excel engine issue. Sure, another application could try to duplicate the Excel engine behavior here, but that is really going to get ugly. I recommend using [Joel&#39;s][1] workaround of accessing the excel COM objects over a webservice to get this kind of thing done.\r\n\r\n\r\n  [1]: http://www.joelonsoftware.com/items/2008/02/19.html","title":"Refresh Pivot Table with Apache POI","body":"<p>The basic answer to this is no. POI is a document format reader and writer. Updating the Pivot table is an excel engine issue. Sure, another application could try to duplicate the Excel engine behavior here, but that is really going to get ugly. I recommend using <a href=\"http://www.joelonsoftware.com/items/2008/02/19.html\" rel=\"nofollow noreferrer\">Joel's</a> workaround of accessing the excel COM objects over a webservice to get this kind of thing done.</p>\n"},{"tags":[],"owner":{"account_id":575725,"reputation":31,"user_id":229501,"display_name":"Trevor Turton"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1260523633,"creation_date":1260523633,"answer_id":1886848,"question_id":1010673,"body_markdown":"This post says you can turn on an option on the pivot table that will cause it to refresh itself automatically every time the workbook is opened:\r\n\r\n[https://stackoverflow.com/questions/70947/how-can-i-refresh-all-the-pivot-tables-in-my-excel-workbook-with-a-macro][1]\r\n\r\nHopefully this will still be true after you have used Apache POI to refresh or extend the data rows on which the pivot tables are based.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70947/how-can-i-refresh-all-the-pivot-tables-in-my-excel-workbook-with-a-macro","title":"Refresh Pivot Table with Apache POI","body":"<p>This post says you can turn on an option on the pivot table that will cause it to refresh itself automatically every time the workbook is opened:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/70947/how-can-i-refresh-all-the-pivot-tables-in-my-excel-workbook-with-a-macro\">How can I refresh all the pivot tables in my excel workbook with a macro?</a></p>\n\n<p>Hopefully this will still be true after you have used Apache POI to refresh or extend the data rows on which the pivot tables are based.</p>\n"},{"tags":[],"owner":{"account_id":3385448,"reputation":101,"user_id":2841504,"display_name":"Solidtubez"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1413881695,"creation_date":1382518369,"answer_id":19537135,"question_id":1010673,"body_markdown":"It is possible.\r\nIn the `PivotCacheDefinition`, there is an attribute `refreshOnLoad` that can be set to `true`. The cache is then refreshed when the workbook is opened. [More information here](http://msdn.microsoft.com/en-us/library/documentformat.openxml.spreadsheet.pivotcachedefinition.aspx).\r\n\r\nIn POI this can be done by calling the method `setRefreshOnLoad(boolean bool)`, that takes a boolean as parameter, on a CTPivotCacheDefinition.\r\n\r\nEDIT:\r\nThe Apache POI now provides the possibility to create pivot tables and the pivot table is refreshed on load as default. [Class XSSFPivotTable](https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFPivotTable.html)","title":"Refresh Pivot Table with Apache POI","body":"<p>It is possible.\nIn the <code>PivotCacheDefinition</code>, there is an attribute <code>refreshOnLoad</code> that can be set to <code>true</code>. The cache is then refreshed when the workbook is opened. <a href=\"http://msdn.microsoft.com/en-us/library/documentformat.openxml.spreadsheet.pivotcachedefinition.aspx\" rel=\"nofollow\">More information here</a>.</p>\n\n<p>In POI this can be done by calling the method <code>setRefreshOnLoad(boolean bool)</code>, that takes a boolean as parameter, on a CTPivotCacheDefinition.</p>\n\n<p>EDIT:\nThe Apache POI now provides the possibility to create pivot tables and the pivot table is refreshed on load as default. <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xssf/usermodel/XSSFPivotTable.html\" rel=\"nofollow\">Class XSSFPivotTable</a></p>\n"},{"tags":[],"owner":{"account_id":258298,"reputation":5582,"user_id":540380,"display_name":"FrankyFred"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1383669560,"creation_date":1383669560,"answer_id":19794112,"question_id":1010673,"body_markdown":"You can simple activate an option that will refresh the pivot table every time the file is opened.\r\n\r\nThis [Microsoft documentation][1] says : \r\n\r\n\r\n&gt; In the PivotTable Options dialog box, on the Data tab, select the Refresh data when opening the file check box.\r\n\r\n  [1]: http://office.microsoft.com/en-au/excel-help/refresh-pivottable-data-HA101906071.aspx#_Toc270952720\r\n","title":"Refresh Pivot Table with Apache POI","body":"<p>You can simple activate an option that will refresh the pivot table every time the file is opened.</p>\n\n<p>This <a href=\"http://office.microsoft.com/en-au/excel-help/refresh-pivottable-data-HA101906071.aspx#_Toc270952720\" rel=\"noreferrer\">Microsoft documentation</a> says : </p>\n\n<blockquote>\n  <p>In the PivotTable Options dialog box, on the Data tab, select the Refresh data when opening the file check box.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3925091,"reputation":1149,"user_id":3245899,"accept_rate":50,"display_name":"ninjaxelite"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1498223078,"creation_date":1498223078,"answer_id":44722192,"question_id":1010673,"body_markdown":"This might work:\r\n\r\n    XSSFPivotTable pivotTable = pivotSheet.getPivotTables().get(0);\t\t\r\n    pivotTable.getPivotCacheDefinition().getCTPivotCacheDefinition().setRefreshOnLoad(true);","title":"Refresh Pivot Table with Apache POI","body":"<p>This might work:</p>\n\n<pre><code>XSSFPivotTable pivotTable = pivotSheet.getPivotTables().get(0);     \npivotTable.getPivotCacheDefinition().getCTPivotCacheDefinition().setRefreshOnLoad(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19020116,"reputation":41,"user_id":13884358,"display_name":"fedor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632737971,"creation_date":1630589660,"answer_id":69031344,"question_id":1010673,"body_markdown":"     protected void setRefreshPtOnLoad(boolean refreshOnLoad){\r\n            List&lt;POIXMLDocumentPart.RelationPart&gt; relationParts = ((XSSFWorkbook) workbook).getRelationParts();\r\n            for (POIXMLDocumentPart.RelationPart part : relationParts) {\r\n                PackageRelationship relationship = part.getRelationship();\r\n                if (relationship.getRelationshipType().contains(&quot;pivotCacheDefinition&quot;)){\r\n                    String relationId = relationship.getId();\r\n                    XSSFPivotCacheDefinition cache = (XSSFPivotCacheDefinition)((XSSFWorkbook) workbook).getRelationById(relationId);\r\n                    CTPivotCacheDefinition ctCache = cache.getCTPivotCacheDefinition();\r\n                    ctCache.setRefreshOnLoad(refreshOnLoad);\r\n                    break; // if only pivot table cache exists in workbook, else - remove *break*\r\n                }\r\n            }\r\n        }","title":"Refresh Pivot Table with Apache POI","body":"<pre><code> protected void setRefreshPtOnLoad(boolean refreshOnLoad){\n        List&lt;POIXMLDocumentPart.RelationPart&gt; relationParts = ((XSSFWorkbook) workbook).getRelationParts();\n        for (POIXMLDocumentPart.RelationPart part : relationParts) {\n            PackageRelationship relationship = part.getRelationship();\n            if (relationship.getRelationshipType().contains(&quot;pivotCacheDefinition&quot;)){\n                String relationId = relationship.getId();\n                XSSFPivotCacheDefinition cache = (XSSFPivotCacheDefinition)((XSSFWorkbook) workbook).getRelationById(relationId);\n                CTPivotCacheDefinition ctCache = cache.getCTPivotCacheDefinition();\n                ctCache.setRefreshOnLoad(refreshOnLoad);\n                break; // if only pivot table cache exists in workbook, else - remove *break*\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":37692,"reputation":281,"user_id":107847,"display_name":"B Jammin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18930,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":6,"score":11,"last_activity_date":1632737971,"creation_date":1245296590,"question_id":1010673,"body_markdown":"I&#39;m currently working on a Java application that uses a template excel file that contains a pivot table. \r\n\r\nThe template file also has a data sheet that seeds the pivot table. This data sheet is dynamically loaded in the java application through the Apache POI api. \r\n\r\nWhen I open the excel file I must refresh the Pivot table manually to get the data loaded correctly. \r\n\r\nIs there any way to refresh the Pivot table with the POI api so I don&#39;t have to manually do it?","title":"Refresh Pivot Table with Apache POI","body":"<p>I'm currently working on a Java application that uses a template excel file that contains a pivot table. </p>\n\n<p>The template file also has a data sheet that seeds the pivot table. This data sheet is dynamically loaded in the java application through the Apache POI api. </p>\n\n<p>When I open the excel file I must refresh the Pivot table manually to get the data loaded correctly. </p>\n\n<p>Is there any way to refresh the Pivot table with the POI api so I don't have to manually do it?</p>\n"},{"tags":["java","android","android-recyclerview","staggeredgridlayout"],"comments":[{"owner":{"account_id":2393141,"reputation":13869,"user_id":2092587,"display_name":"Trinimon"},"score":0,"creation_date":1427403493,"post_id":29288665,"comment_id":46774662,"body_markdown":"Could you please add some code (acc. excpetion around StaggeredGridLayoutManager.java, line1661)?","body":"Could you please add some code (acc. excpetion around StaggeredGridLayoutManager.java, line1661)?"},{"owner":{"account_id":1324385,"reputation":766,"user_id":1269544,"accept_rate":64,"display_name":"Miguel Bot&#243;n"},"score":0,"creation_date":1427404431,"post_id":29288665,"comment_id":46775168,"body_markdown":"All that related code is in the support library.","body":"All that related code is in the support library."},{"owner":{"account_id":2393141,"reputation":13869,"user_id":2092587,"display_name":"Trinimon"},"score":0,"creation_date":1427404596,"post_id":29288665,"comment_id":46775257,"body_markdown":"But how does your code look like? This exception can&#39;t appear from nowhere .... ;)","body":"But how does your code look like? This exception can&#39;t appear from nowhere .... ;)"},{"owner":{"account_id":1324385,"reputation":766,"user_id":1269544,"accept_rate":64,"display_name":"Miguel Bot&#243;n"},"score":0,"creation_date":1427405264,"post_id":29288665,"comment_id":46775574,"body_markdown":"I edited the post to add some relevant code.","body":"I edited the post to add some relevant code."},{"owner":{"account_id":448670,"reputation":1563,"user_id":843001,"accept_rate":47,"display_name":"Duna"},"score":0,"creation_date":1598993733,"post_id":29288665,"comment_id":112634534,"body_markdown":"Any news on this one? I am still facing this bug mainly on Android 9","body":"Any news on this one? I am still facing this bug mainly on Android 9"}],"answers":[{"tags":[],"owner":{"account_id":1324385,"reputation":766,"user_id":1269544,"accept_rate":64,"display_name":"Miguel Bot&#243;n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427496717,"creation_date":1427479621,"answer_id":29307374,"question_id":29288665,"body_markdown":"Well, looks like setting up the layout manager and the adapter in onCreateView() fixed the issue in most devices. No idea what could be happening.\r\n\r\nI&#39;m still getting very similar crash reports but now only from weird brands.\r\n\r\nI hope this info can be helpful for other devs in the future.\n\n**UPDATE**\n\nStill getting an important quantity of the same crash report. This cannot be considered as fixed at all :/\n\nI will keep looking for a fix and maybe create a sample project that suffers from this issue.","title":"NullPointerException in StaggeredGridLayoutManager","body":"<p>Well, looks like setting up the layout manager and the adapter in onCreateView() fixed the issue in most devices. No idea what could be happening.</p>\n\n<p>I'm still getting very similar crash reports but now only from weird brands.</p>\n\n<p>I hope this info can be helpful for other devs in the future.</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Still getting an important quantity of the same crash report. This cannot be considered as fixed at all :/</p>\n\n<p>I will keep looking for a fix and maybe create a sample project that suffers from this issue.</p>\n"},{"tags":[],"owner":{"account_id":7013544,"reputation":989,"user_id":5375615,"display_name":"KaMyLL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632735961,"creation_date":1632735961,"answer_id":69344552,"question_id":29288665,"body_markdown":"I found some workaround for this issue, check my comment on Issue Tracker\r\n\r\nhttps://issuetracker.google.com/issues/188096921#comment4","title":"NullPointerException in StaggeredGridLayoutManager","body":"<p>I found some workaround for this issue, check my comment on Issue Tracker</p>\n<p><a href=\"https://issuetracker.google.com/issues/188096921#comment4\" rel=\"nofollow noreferrer\">https://issuetracker.google.com/issues/188096921#comment4</a></p>\n"}],"owner":{"account_id":1324385,"reputation":766,"user_id":1269544,"accept_rate":64,"display_name":"Miguel Bot&#243;n"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1380,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"closed_date":1632737893,"answer_count":2,"score":6,"last_activity_date":1632737910,"creation_date":1427403201,"question_id":29288665,"body_markdown":"I&#39;m getting some crash reports about a NullPointerException happening in StaggeredGridLayoutManager. Looks like around 10% of my users are suffering this issue.\r\n\r\nI have a very basic RecyclerView with a basic adapter, nothing special, and I did try to reproduce this error in my devices with no luck at all.\r\n\r\nThis is the raw report I&#39;m getting reported:\r\n\r\n    java.lang.NullPointerException\r\n       at android.support.v7.widget.StaggeredGridLayoutManager.recycleFromStart(StaggeredGridLayoutManager.java:1661)\r\n       at android.support.v7.widget.StaggeredGridLayoutManager.recycle(StaggeredGridLayoutManager.java:1529)\r\n       at android.support.v7.widget.StaggeredGridLayoutManager.fill(StaggeredGridLayoutManager.java:1471)\r\n       at android.support.v7.widget.StaggeredGridLayoutManager.scrollBy(StaggeredGridLayoutManager.java:1846)\r\n       at android.support.v7.widget.StaggeredGridLayoutManager.scrollVerticallyBy(StaggeredGridLayoutManager.java:1764)\r\n       at android.support.v7.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:3062)\r\n       at android.view.Choreographer$CallbackRecord.run(Choreographer.java:803)\r\n       at android.view.Choreographer.doCallbacks(Choreographer.java:603)\r\n       at android.view.Choreographer.doFrame(Choreographer.java:572)\r\n       at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:789)\r\n       at android.os.Handler.handleCallback(Handler.java:733)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:157)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5335)\r\n       at java.lang.reflect.Method.invokeNative(Method.java)\r\n       at java.lang.reflect.Method.invoke(Method.java:515)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1265)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1081)\r\n       at dalvik.system.NativeStart.main(NativeStart.java)\r\n\r\n\r\nI have no clue about what is happening. I thought that maybe I was setting the adapter before the layout manager but nope, it&#39;s not the case.\r\n\r\nI hope somebody can throw some light over this.\r\n\r\nThanks in advance!\r\n\r\n**UPDATE:**\r\n\r\nI&#39;m copying some code from my app related to the RecyclerView.\r\n\r\nThis code is from a Fragment:\r\n\r\n    @Override\r\n    public void onViewCreated(View view, Bundle savedInstanceState) {\r\n\t    super.onViewCreated(view, savedInstanceState);\r\n\r\n    \tRecyclerView.LayoutManager layout = new StaggeredGridLayoutManager(3, StaggeredGridLayoutManager.VERTICAL)\r\n\t\r\n\t    mRecyclerView = (RecyclerView)view.findViewById(R.id.recyclerView);\r\n    \tmRecyclerView.setLayoutManager(layout);\r\n    \tmRecyclerView.setAdapter(mAdapter);\r\n    }\r\n\r\nAnd this is from the adapter, specifically the method that sets the adapter items:\r\n\r\n    public void setItems(List&lt;String&gt; items) {\r\n        mItems.clear();\r\n        mItems.addAll(items);\r\n\r\n        notifyDataSetChanged();\r\n    }","title":"NullPointerException in StaggeredGridLayoutManager","body":"<p>I'm getting some crash reports about a NullPointerException happening in StaggeredGridLayoutManager. Looks like around 10% of my users are suffering this issue.</p>\n\n<p>I have a very basic RecyclerView with a basic adapter, nothing special, and I did try to reproduce this error in my devices with no luck at all.</p>\n\n<p>This is the raw report I'm getting reported:</p>\n\n<pre><code>java.lang.NullPointerException\n   at android.support.v7.widget.StaggeredGridLayoutManager.recycleFromStart(StaggeredGridLayoutManager.java:1661)\n   at android.support.v7.widget.StaggeredGridLayoutManager.recycle(StaggeredGridLayoutManager.java:1529)\n   at android.support.v7.widget.StaggeredGridLayoutManager.fill(StaggeredGridLayoutManager.java:1471)\n   at android.support.v7.widget.StaggeredGridLayoutManager.scrollBy(StaggeredGridLayoutManager.java:1846)\n   at android.support.v7.widget.StaggeredGridLayoutManager.scrollVerticallyBy(StaggeredGridLayoutManager.java:1764)\n   at android.support.v7.widget.RecyclerView$ViewFlinger.run(RecyclerView.java:3062)\n   at android.view.Choreographer$CallbackRecord.run(Choreographer.java:803)\n   at android.view.Choreographer.doCallbacks(Choreographer.java:603)\n   at android.view.Choreographer.doFrame(Choreographer.java:572)\n   at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:789)\n   at android.os.Handler.handleCallback(Handler.java:733)\n   at android.os.Handler.dispatchMessage(Handler.java:95)\n   at android.os.Looper.loop(Looper.java:157)\n   at android.app.ActivityThread.main(ActivityThread.java:5335)\n   at java.lang.reflect.Method.invokeNative(Method.java)\n   at java.lang.reflect.Method.invoke(Method.java:515)\n   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1265)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1081)\n   at dalvik.system.NativeStart.main(NativeStart.java)\n</code></pre>\n\n<p>I have no clue about what is happening. I thought that maybe I was setting the adapter before the layout manager but nope, it's not the case.</p>\n\n<p>I hope somebody can throw some light over this.</p>\n\n<p>Thanks in advance!</p>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I'm copying some code from my app related to the RecyclerView.</p>\n\n<p>This code is from a Fragment:</p>\n\n<pre><code>@Override\npublic void onViewCreated(View view, Bundle savedInstanceState) {\n    super.onViewCreated(view, savedInstanceState);\n\n    RecyclerView.LayoutManager layout = new StaggeredGridLayoutManager(3, StaggeredGridLayoutManager.VERTICAL)\n\n    mRecyclerView = (RecyclerView)view.findViewById(R.id.recyclerView);\n    mRecyclerView.setLayoutManager(layout);\n    mRecyclerView.setAdapter(mAdapter);\n}\n</code></pre>\n\n<p>And this is from the adapter, specifically the method that sets the adapter items:</p>\n\n<pre><code>public void setItems(List&lt;String&gt; items) {\n    mItems.clear();\n    mItems.addAll(items);\n\n    notifyDataSetChanged();\n}\n</code></pre>\n"},{"tags":["java","sql","postgresql","repository","native"],"answers":[{"tags":[],"owner":{"account_id":7255677,"reputation":922,"user_id":12099409,"display_name":"Osama A.Rehman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632737839,"creation_date":1632737839,"answer_id":69344951,"question_id":69344491,"body_markdown":"[As stated here](https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/Modifying.html) DDL statements need to be annotated with `@Modifying` annotation, so your repository methods should look like this:\r\n\r\n```\r\n@Modifying\r\n@Query(value = &quot;create or replace view camera_layout AS\\n&quot; +\r\n         &quot;select layout_id, unnest(layout.camera_ids) as camera_id from layout&quot; ,\r\n          nativeQuery = true)\r\nvoid createViewLayoutCamera();\r\n```\r\n","title":"The native sql query to Postgresql via the @query annotation is not executed","body":"<p><a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/Modifying.html\" rel=\"nofollow noreferrer\">As stated here</a> DDL statements need to be annotated with <code>@Modifying</code> annotation, so your repository methods should look like this:</p>\n<pre><code>@Modifying\n@Query(value = &quot;create or replace view camera_layout AS\\n&quot; +\n         &quot;select layout_id, unnest(layout.camera_ids) as camera_id from layout&quot; ,\n          nativeQuery = true)\nvoid createViewLayoutCamera();\n</code></pre>\n"}],"owner":{"account_id":19605679,"reputation":111,"user_id":14349424,"display_name":"Buba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":501,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69344951,"answer_count":1,"score":-1,"last_activity_date":1632737839,"creation_date":1632735684,"question_id":69344491,"body_markdown":"\r\nTo get the necessary data, I form an SQL query to PostgreSQL, which is a related set of View tables :\r\n```\r\n1) CREATE or replace view camera_layout AS\r\nselect layout_id, unnest(layout.camera_ids) as camera_id from layout\r\n\r\n2) CREATE or replace view camera_region AS\r\nselect c.camera_id as camera_id ,object.region_id\r\nFROM object LEFT JOIN camera c on object.object_id = c.object_id WHERE object.region_id = ?1\r\n\r\n3) CREATE or replace view region_layout AS\r\nselect distinct cl.layout_id from camera_layout cl,\r\ncamera_region cr where cl.camera_id in (select cr.camera_id from camera_region cr)\r\n\r\n4) SELECT l from layout l where l.layout_id in (select rl.layout_id from region_layout rl)\r\n\r\n\r\n```\r\n\r\nWhen I execute these queries from the console in the database sequentially, one after the other, everything works.\r\n\r\nHowever, if you run similar queries in the repository via the @query annotation (&quot;... &quot; , NativeQuery = true), a number of errors occur and the queries break down in the end without returning anything. How is this possible and what should I do? \r\n\r\n\r\nMy service it looks like this:\r\n\r\n**Repository:**\r\n```\r\n\r\n@Repository\r\npublic interface LayoutRepository extends JpaRepository&lt;Layout,Integer&gt; {\r\n\r\n @Query(value = &quot;create or replace view camera_layout AS\\n&quot; +\r\n         &quot;select layout_id, unnest(layout.camera_ids) as camera_id from layout&quot; ,\r\n          nativeQuery = true)\r\n    void createViewLayoutCamera();\r\n\r\n @Query(value = &quot;CREATE or replace view camera_region AS\\n&quot; +\r\n            &quot;select c.camera_id as camera_id ,object.region_id\\n&quot; +\r\n            &quot;FROM object LEFT JOIN camera c on object.object_id = c.object_id WHERE object.region_id = ?1 &quot; +\r\n            &quot;&quot;,nativeQuery = true)\r\n    void createViewCameraRegion(Integer region);\r\n\r\n\r\n    @Query(value = &quot;create or replace view region_layout AS\\n&quot; +\r\n            &quot; select distinct cl.layout_id from camera_layout cl,\\n&quot; +\r\n            &quot;camera_region cr where cl.camera_id in (select cr.camera_id from camera_region cr)&quot;,nativeQuery = true)\r\n    void createViewRegionLayout();\r\n\r\n   @Query( value = &quot;select l from layout l where l.layout_id in (select rl.layout_id from region_layout rl)&quot;,nativeQuery = true)\r\n    List &lt;Layout&gt; filterRegion();\r\n\r\n\r\n```\r\n**Service:**\r\n```\r\n   @Override\r\n    public List&lt;LayoutDTO&gt; filterRegion(Integer region_id) {\r\n\r\n        ArrayList&lt;LayoutDTO&gt; convert_objects = new ArrayList&lt;&gt;();\r\n\r\n        LayoutDTO conv_object;\r\n\r\n     layoutRepository.createViewLayoutCamera();\r\n\r\n\r\n     layoutRepository.createViewCameraRegion(region_id);\r\n\r\n  \r\n     layoutRepository.createViewRegionLayout();\r\n\r\n     List &lt;Layout&gt; objects = layoutRepository.filterRegion();\r\n\r\n\r\n\r\n```\r\n\r\nWhen trying to execute .It returns &quot;the query did not return results&quot; , the Hibernate SQL debugger says that only query number 1 worked. **&quot;Hibernate: create or replace view camera_layout AS\r\nselect layout_id, unnest(layout.camera_ids) as camera_id from layout**&quot; the rest break down, although they should work help me, I am very grateful in advance\r\n\r\n\r\n","title":"The native sql query to Postgresql via the @query annotation is not executed","body":"<p>To get the necessary data, I form an SQL query to PostgreSQL, which is a related set of View tables :</p>\n<pre><code>1) CREATE or replace view camera_layout AS\nselect layout_id, unnest(layout.camera_ids) as camera_id from layout\n\n2) CREATE or replace view camera_region AS\nselect c.camera_id as camera_id ,object.region_id\nFROM object LEFT JOIN camera c on object.object_id = c.object_id WHERE object.region_id = ?1\n\n3) CREATE or replace view region_layout AS\nselect distinct cl.layout_id from camera_layout cl,\ncamera_region cr where cl.camera_id in (select cr.camera_id from camera_region cr)\n\n4) SELECT l from layout l where l.layout_id in (select rl.layout_id from region_layout rl)\n\n\n</code></pre>\n<p>When I execute these queries from the console in the database sequentially, one after the other, everything works.</p>\n<p>However, if you run similar queries in the repository via the @query annotation (&quot;... &quot; , NativeQuery = true), a number of errors occur and the queries break down in the end without returning anything. How is this possible and what should I do?</p>\n<p>My service it looks like this:</p>\n<p><strong>Repository:</strong></p>\n<pre><code>\n@Repository\npublic interface LayoutRepository extends JpaRepository&lt;Layout,Integer&gt; {\n\n @Query(value = &quot;create or replace view camera_layout AS\\n&quot; +\n         &quot;select layout_id, unnest(layout.camera_ids) as camera_id from layout&quot; ,\n          nativeQuery = true)\n    void createViewLayoutCamera();\n\n @Query(value = &quot;CREATE or replace view camera_region AS\\n&quot; +\n            &quot;select c.camera_id as camera_id ,object.region_id\\n&quot; +\n            &quot;FROM object LEFT JOIN camera c on object.object_id = c.object_id WHERE object.region_id = ?1 &quot; +\n            &quot;&quot;,nativeQuery = true)\n    void createViewCameraRegion(Integer region);\n\n\n    @Query(value = &quot;create or replace view region_layout AS\\n&quot; +\n            &quot; select distinct cl.layout_id from camera_layout cl,\\n&quot; +\n            &quot;camera_region cr where cl.camera_id in (select cr.camera_id from camera_region cr)&quot;,nativeQuery = true)\n    void createViewRegionLayout();\n\n   @Query( value = &quot;select l from layout l where l.layout_id in (select rl.layout_id from region_layout rl)&quot;,nativeQuery = true)\n    List &lt;Layout&gt; filterRegion();\n\n\n</code></pre>\n<p><strong>Service:</strong></p>\n<pre><code>   @Override\n    public List&lt;LayoutDTO&gt; filterRegion(Integer region_id) {\n\n        ArrayList&lt;LayoutDTO&gt; convert_objects = new ArrayList&lt;&gt;();\n\n        LayoutDTO conv_object;\n\n     layoutRepository.createViewLayoutCamera();\n\n\n     layoutRepository.createViewCameraRegion(region_id);\n\n  \n     layoutRepository.createViewRegionLayout();\n\n     List &lt;Layout&gt; objects = layoutRepository.filterRegion();\n\n\n\n</code></pre>\n<p>When trying to execute .It returns &quot;the query did not return results&quot; , the Hibernate SQL debugger says that only query number 1 worked. <strong>&quot;Hibernate: create or replace view camera_layout AS\nselect layout_id, unnest(layout.camera_ids) as camera_id from layout</strong>&quot; the rest break down, although they should work help me, I am very grateful in advance</p>\n"},{"tags":["java"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1632737048,"post_id":69344769,"comment_id":122564930,"body_markdown":"You should consider reading the documentation of SimpleDateFormat: https://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html - Especially what the symbol `m` (lowercase m) means in a date pattern.","body":"You should consider reading the documentation of SimpleDateFormat: <a href=\"https://docs.oracle.com/javase/10/docs/api/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/10/docs/api/java/text/&hellip;</a> - Especially what the symbol <code>m</code> (lowercase m) means in a date pattern."},{"owner":{"account_id":16806686,"reputation":296,"user_id":12150693,"display_name":"N K Shukla"},"score":1,"creation_date":1632737181,"post_id":69344769,"comment_id":122564979,"body_markdown":"Use date formatter as dd/MM/yyyy as &#39;m&#39; is for Minute in hour","body":"Use date formatter as dd/MM/yyyy as &#39;m&#39; is for Minute in hour"}],"answers":[{"tags":[],"owner":{"account_id":16806686,"reputation":296,"user_id":12150693,"display_name":"N K Shukla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632737798,"creation_date":1632737798,"answer_id":69344936,"question_id":69344769,"body_markdown":"You can try to instantiate **myFormat** as:-\r\n\r\n    SimpleDateFormat myFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);","title":"Calandar class in java giving incorrect output","body":"<p>You can try to instantiate <strong>myFormat</strong> as:-</p>\n<pre><code>SimpleDateFormat myFormat = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;);\n</code></pre>\n"}],"owner":{"account_id":18415675,"reputation":1131,"user_id":13414648,"display_name":"william_"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69344936,"answer_count":1,"score":0,"last_activity_date":1632737798,"creation_date":1632736948,"question_id":69344769,"body_markdown":"I am trying to determine if a day is a weekend or not based on a user entered date using the calandar class. but when I print out the value of the day I am getting incorrect output.\r\n\r\nthis is my code:\r\n\r\n    public static void function(String newDate){\r\n    SimpleDateFormat myFormat = new SimpleDateFormat(&quot;dd/mm/yyyy&quot;);\r\n      Date date;\r\n        try {\r\n          date = myFormat.parse(newDate);\r\n          System.out.println(date);\r\n          Calendar cal = Calendar.getInstance();\r\n           cal.setTime(date);\r\n         System.out.println( cal.getTime());\r\n          System.out.println(cal.get(Calendar.DAY_OF_WEEK));\r\n          System.out.println(Calendar.MONDAY);\r\n          System.exit(0);\r\n        } catch (ParseException e2) {\r\n          // TODO Auto-generated catch block\r\n          e2.printStackTrace();\r\n        }\r\n    }\r\n\r\nthis is being tested with input date 27/09/2021 which is an monday but the output is returning 4 instead of 2 \r\n\r\n    System.out.println( cal.getTime());  is outputting `Wed Jan 27 00:09:00 AEDT 2021` which is incorrect \r\n\r\nBut I believe the problem is stemming from this line `date = myFormat.parse(newDate);`\r\nas this also outputs `Wed Jan 27 00:09:00 AEDT 2021`\r\n\r\nbut `newDate` outputs `27/09/2021`\r\n\r\n\r\n\r\n\r\n","title":"Calandar class in java giving incorrect output","body":"<p>I am trying to determine if a day is a weekend or not based on a user entered date using the calandar class. but when I print out the value of the day I am getting incorrect output.</p>\n<p>this is my code:</p>\n<pre><code>public static void function(String newDate){\nSimpleDateFormat myFormat = new SimpleDateFormat(&quot;dd/mm/yyyy&quot;);\n  Date date;\n    try {\n      date = myFormat.parse(newDate);\n      System.out.println(date);\n      Calendar cal = Calendar.getInstance();\n       cal.setTime(date);\n     System.out.println( cal.getTime());\n      System.out.println(cal.get(Calendar.DAY_OF_WEEK));\n      System.out.println(Calendar.MONDAY);\n      System.exit(0);\n    } catch (ParseException e2) {\n      // TODO Auto-generated catch block\n      e2.printStackTrace();\n    }\n}\n</code></pre>\n<p>this is being tested with input date 27/09/2021 which is an monday but the output is returning 4 instead of 2</p>\n<pre><code>System.out.println( cal.getTime());  is outputting `Wed Jan 27 00:09:00 AEDT 2021` which is incorrect \n</code></pre>\n<p>But I believe the problem is stemming from this line <code>date = myFormat.parse(newDate);</code>\nas this also outputs <code>Wed Jan 27 00:09:00 AEDT 2021</code></p>\n<p>but <code>newDate</code> outputs <code>27/09/2021</code></p>\n"},{"tags":["java","shell","github","jenkins","soapui"],"answers":[{"tags":[],"owner":{"account_id":1119361,"reputation":46385,"user_id":1108032,"accept_rate":79,"display_name":"Boris Strandjev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632139618,"creation_date":1632139618,"answer_id":69254177,"question_id":69254108,"body_markdown":"An obvious error is the mixure of flags in flag values in javac command:\r\n\r\n    #!/bin/bash\r\n    pwd\r\n    cd ./eclipse-workspace/SoapUiTest\r\n    pwd\r\n    javac -classpath &quot;lib/*&quot; -d &quot;./bin&quot; &quot;./src/defaultPackage/*.java&quot;  \r\n    java -cp &quot;bin;lib/* org.testng.TestNG testng.xml&quot;\r\n\r\n`javac` command explanation: you specify where to find additional class binaries that the compilation depends on, where to output the compiled files and finally where to read the sources from.","title":"Sopaui git jenkins integration","body":"<p>An obvious error is the mixure of flags in flag values in javac command:</p>\n<pre><code>#!/bin/bash\npwd\ncd ./eclipse-workspace/SoapUiTest\npwd\njavac -classpath &quot;lib/*&quot; -d &quot;./bin&quot; &quot;./src/defaultPackage/*.java&quot;  \njava -cp &quot;bin;lib/* org.testng.TestNG testng.xml&quot;\n</code></pre>\n<p><code>javac</code> command explanation: you specify where to find additional class binaries that the compilation depends on, where to output the compiled files and finally where to read the sources from.</p>\n"}],"owner":{"account_id":11817457,"reputation":9,"user_id":8647356,"display_name":"Devesh Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632737363,"creation_date":1632139290,"question_id":69254108,"body_markdown":"Hi I am using below code in build step in jenkin\r\n \r\n\r\n    #!/bin/bash\r\n    pwd\r\n    cd ./eclipse-workspace/SoapUiTest\r\n    pwd\r\n    javac -classpath &quot;lib/* -d ./bin ./src/defaultPackage/*.java&quot; \r\n    java -cp &quot;bin;lib/* org.testng.TestNG testng.xml&quot;\r\n\r\nwhile running job i am getting below error\r\n\r\njavac: no source files\r\nUsage: javac &lt;options&gt; &lt;source files&gt;\r\nuse -help for a list of possible options\r\nUsage: java [-options] class [args...]\r\n           (to execute a class)\r\n   or  java [-options] -jar jarfile [args...]\r\n           (to execute a jar file)\r\nwhere options include:\r\n    -d32\t  use a 32-bit data model if available\r\n    -d64\t  use a 64-bit data model if available\r\n    -server\t  to select the &quot;server&quot; VM\r\n    -zero\t  to select the &quot;zero&quot; VM\r\n    -dcevm\t  to select the &quot;dcevm&quot; VM\r\n                  The default VM is server,\r\n                  because you are running on a server-class machine.\r\n    -cp &lt;class search path of directories and zip/jar files&gt;\r\n    -classpath &lt;class search path of directories and zip/jar files&gt;\r\n                  A : separated list of directories, JAR archives,\r\n                  and ZIP archives to search for class files.","title":"Sopaui git jenkins integration","body":"<p>Hi I am using below code in build step in jenkin</p>\n<pre><code>#!/bin/bash\npwd\ncd ./eclipse-workspace/SoapUiTest\npwd\njavac -classpath &quot;lib/* -d ./bin ./src/defaultPackage/*.java&quot; \njava -cp &quot;bin;lib/* org.testng.TestNG testng.xml&quot;\n</code></pre>\n<p>while running job i am getting below error</p>\n<p>javac: no source files\nUsage: javac  \nuse -help for a list of possible options\nUsage: java [-options] class [args...]\n(to execute a class)\nor  java [-options] -jar jarfile [args...]\n(to execute a jar file)\nwhere options include:\n-d32      use a 32-bit data model if available\n-d64      use a 64-bit data model if available\n-server   to select the &quot;server&quot; VM\n-zero     to select the &quot;zero&quot; VM\n-dcevm    to select the &quot;dcevm&quot; VM\nThe default VM is server,\nbecause you are running on a server-class machine.\n-cp &lt;class search path of directories and zip/jar files&gt;\n-classpath &lt;class search path of directories and zip/jar files&gt;\nA : separated list of directories, JAR archives,\nand ZIP archives to search for class files.</p>\n"},{"tags":["java","arrays","matrix","jdmk"],"answers":[{"tags":[],"owner":{"account_id":18191159,"reputation":41,"user_id":13236982,"display_name":"Mika Pennanen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632736107,"creation_date":1632735470,"answer_id":69344434,"question_id":69344322,"body_markdown":"You have a typo in the inner loop, you go out of bounds of the &lt;del&gt;first axis&lt;/del&gt; second axis, because `i &lt; m[0].length` is true.\r\n\r\nShould be as followed ?\r\n```\r\n  for(j = 0; j &lt; m1[i].length; j++) {\r\n```\r\n","title":"ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3 for arrays.main","body":"<p>You have a typo in the inner loop, you go out of bounds of the <del>first axis</del> second axis, because <code>i &lt; m[0].length</code> is true.</p>\n<p>Should be as followed ?</p>\n<pre><code>  for(j = 0; j &lt; m1[i].length; j++) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21241583,"reputation":151,"user_id":15624965,"display_name":"Daniele Scalco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632737167,"creation_date":1632736626,"answer_id":69344700,"question_id":69344322,"body_markdown":"Finally I solved it, look the second for loop, you put a *i* instead of *j* (in the condition). If you use more significant variable names (such as line and column) it&#39;s easier to find this type of mistakes\r\n\r\n     for(j = 0; j &lt; m1[i].length; j++)","title":"ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3 for arrays.main","body":"<p>Finally I solved it, look the second for loop, you put a <em>i</em> instead of <em>j</em> (in the condition). If you use more significant variable names (such as line and column) it's easier to find this type of mistakes</p>\n<pre><code> for(j = 0; j &lt; m1[i].length; j++)\n</code></pre>\n"}],"owner":{"account_id":21622879,"reputation":9,"user_id":15947615,"display_name":"Imbroz Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632847317,"answer_count":2,"score":0,"last_activity_date":1632737167,"creation_date":1632735004,"question_id":69344322,"body_markdown":"    import java.util.Scanner;\r\n    \r\n    public class arrays {\r\n        public static void main(String[] args) {\r\n            int i;\r\n            int [][] m1 = new int[2][3];\r\n            int j;\r\n    \r\n            Scanner sc = new Scanner(System.in);\r\n            \r\n            System.out.println(m1.length);\r\n            System.out.println(m1[0].length);\r\n    \r\n            for(i = 0; i &lt; m1.length; i++){\r\n                for(j = 0; i &lt; m1[0].length; j++) {\r\n                    m1[i][j] = sc.nextInt();\r\n                }\r\n            }\r\n            sc.close();\r\n        }\r\n    }\r\n\r\nI am unable to understand why this error is happening. m1.length and m1[0].length prints correct length of rows and columns.\r\nI gave the following input:\r\n\r\n    1\r\n    2\r\n    3\r\n    4\r\n\r\nand then error occured\r\n\r\n","title":"ArrayIndexOutOfBoundsException: Index 3 out of bounds for length 3 for arrays.main","body":"<pre><code>import java.util.Scanner;\n\npublic class arrays {\n    public static void main(String[] args) {\n        int i;\n        int [][] m1 = new int[2][3];\n        int j;\n\n        Scanner sc = new Scanner(System.in);\n        \n        System.out.println(m1.length);\n        System.out.println(m1[0].length);\n\n        for(i = 0; i &lt; m1.length; i++){\n            for(j = 0; i &lt; m1[0].length; j++) {\n                m1[i][j] = sc.nextInt();\n            }\n        }\n        sc.close();\n    }\n}\n</code></pre>\n<p>I am unable to understand why this error is happening. m1.length and m1[0].length prints correct length of rows and columns.\nI gave the following input:</p>\n<pre><code>1\n2\n3\n4\n</code></pre>\n<p>and then error occured</p>\n"},{"tags":["java","string","split","uppercase","text-parsing"],"answers":[{"tags":[],"owner":{"account_id":17619742,"reputation":718,"user_id":12785994,"display_name":"javadev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611630900,"creation_date":1611605791,"answer_id":65891827,"question_id":65891480,"body_markdown":"You should have a boolean - `isCapitalize`.\r\n\r\nAt first, it&#39;s true.\r\n\r\nDuring iterating your text, over words, you should create the new manipulated text with the same word.\r\n\r\nIf `isCapitalize` flag is true, write the word in a first-capital-letter manner. Else, write it in small-capital-letters. If the whole word has capital letters (that&#39;s the reason we iterate over words) - right the whole word in capital letters.\r\n\r\nIf you have &quot;.&quot;, the flag is on for 1 word only.\r\n\r\nNow take the above text and formulate it into code.\r\nLet us know if you need some help. ","title":"How to capitalize first letter and lowercase the rest while keeping the word capital if it is in fully uppercase - java","body":"<p>You should have a boolean - <code>isCapitalize</code>.</p>\n<p>At first, it's true.</p>\n<p>During iterating your text, over words, you should create the new manipulated text with the same word.</p>\n<p>If <code>isCapitalize</code> flag is true, write the word in a first-capital-letter manner. Else, write it in small-capital-letters. If the whole word has capital letters (that's the reason we iterate over words) - right the whole word in capital letters.</p>\n<p>If you have &quot;.&quot;, the flag is on for 1 word only.</p>\n<p>Now take the above text and formulate it into code.\nLet us know if you need some help.</p>\n"},{"tags":[],"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1611611173,"creation_date":1611610829,"answer_id":65892823,"question_id":65891480,"body_markdown":"Most of the logic that you have posted works fine. The problem is *words* like &quot;SENTENCE&quot; because the logic that you are using to check the capitalization is incorrect. \r\n\r\nThe biggest problem is that you are trying to iterate over the *words* and check at the same time if that string is or not capitalize.\r\n\r\nThe easiest way is to separate concerns; try to check beforehand if the *word* is or not capitalized and act accordingly.  \r\n\r\nFirst create a method that just checks if a *word* is or not capitalized. For example:\r\n\r\n    public static boolean isUpper(String s, int start) {\r\n        for(int i = start; i &lt; s.length(); i++) {\r\n            char c = s.charAt(i);\r\n            if(c == &#39;.&#39; || c == &#39; &#39;)\r\n                return true;\r\n            if (!Character.isUpperCase(c))\r\n                return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nThis method receives a string (to be checked) and an `int` value (*i.e.,* `start`) that tells the method from which part of the string should the checking start. \r\n\r\nFor the `getSentenceCaseText` method follow the following strategy. First check if the current word is capitalized:\r\n\r\n     boolean capitalize = isUpper(text, pos);\r\n\r\nif is capitalized the method should skip this word and move to the next one. Otherwise, it capitalizes the first character and lowers the remaining. Apply the same logic to all words in the text.\r\n\r\nThe code could look like the following:\r\n\r\n    public static String getSentenceCaseText(String text) {\r\n        int pos = 0;\r\n        StringBuilder sb = new StringBuilder(text);\r\n\r\n        // Iterate over the string\r\n        while (pos &lt; sb.length()){\r\n            // First check if the word is capitalized \r\n            boolean capitalize = isUpper(text, pos);\r\n            char c = sb.charAt(pos);\r\n\r\n            // Make the first letter capitalized for the cases that it was not \r\n            sb.setCharAt(pos, Character.toUpperCase(c));\r\n            pos++;\r\n\r\n            // Let us iterate over the word\r\n            // If it is not capitalized let us lower its characters\r\n            // otherwise just ignore and skip the characters \r\n            for (;pos &lt; sb.length() &amp;&amp; text.charAt(pos) != &#39;.&#39; &amp;&amp; text.charAt(pos) != &#39; &#39;; pos++)\r\n                if(!capitalize)\r\n                    sb.setCharAt(pos, Character.toLowerCase(sb.charAt(pos)));\r\n           \r\n           // Finally we need to skip all the spaces\r\n           for(; pos &lt; sb.length() &amp;&amp; text.charAt(pos) == &#39; &#39;; pos++ );\r\n        }\r\n    \r\n        return sb.toString();\r\n    }\r\n\r\nUse this strategy and this code as guide, build upon it and implement your own method.","title":"How to capitalize first letter and lowercase the rest while keeping the word capital if it is in fully uppercase - java","body":"<p>Most of the logic that you have posted works fine. The problem is <em>words</em> like &quot;SENTENCE&quot; because the logic that you are using to check the capitalization is incorrect.</p>\n<p>The biggest problem is that you are trying to iterate over the <em>words</em> and check at the same time if that string is or not capitalize.</p>\n<p>The easiest way is to separate concerns; try to check beforehand if the <em>word</em> is or not capitalized and act accordingly.</p>\n<p>First create a method that just checks if a <em>word</em> is or not capitalized. For example:</p>\n<pre><code>public static boolean isUpper(String s, int start) {\n    for(int i = start; i &lt; s.length(); i++) {\n        char c = s.charAt(i);\n        if(c == '.' || c == ' ')\n            return true;\n        if (!Character.isUpperCase(c))\n            return false;\n    }\n    return true;\n}\n</code></pre>\n<p>This method receives a string (to be checked) and an <code>int</code> value (<em>i.e.,</em> <code>start</code>) that tells the method from which part of the string should the checking start.</p>\n<p>For the <code>getSentenceCaseText</code> method follow the following strategy. First check if the current word is capitalized:</p>\n<pre><code> boolean capitalize = isUpper(text, pos);\n</code></pre>\n<p>if is capitalized the method should skip this word and move to the next one. Otherwise, it capitalizes the first character and lowers the remaining. Apply the same logic to all words in the text.</p>\n<p>The code could look like the following:</p>\n<pre><code>public static String getSentenceCaseText(String text) {\n    int pos = 0;\n    StringBuilder sb = new StringBuilder(text);\n\n    // Iterate over the string\n    while (pos &lt; sb.length()){\n        // First check if the word is capitalized \n        boolean capitalize = isUpper(text, pos);\n        char c = sb.charAt(pos);\n\n        // Make the first letter capitalized for the cases that it was not \n        sb.setCharAt(pos, Character.toUpperCase(c));\n        pos++;\n\n        // Let us iterate over the word\n        // If it is not capitalized let us lower its characters\n        // otherwise just ignore and skip the characters \n        for (;pos &lt; sb.length() &amp;&amp; text.charAt(pos) != '.' &amp;&amp; text.charAt(pos) != ' '; pos++)\n            if(!capitalize)\n                sb.setCharAt(pos, Character.toLowerCase(sb.charAt(pos)));\n       \n       // Finally we need to skip all the spaces\n       for(; pos &lt; sb.length() &amp;&amp; text.charAt(pos) == ' '; pos++ );\n    }\n\n    return sb.toString();\n}\n</code></pre>\n<p>Use this strategy and this code as guide, build upon it and implement your own method.</p>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611611642,"creation_date":1611611642,"answer_id":65892962,"question_id":65891480,"body_markdown":"As the input string may contain multiple sentences, it should be split into sentences, then each sentence should be split to words, the word in all caps remains the same, the first word in sentence is capitalized, and the rest words are turned lowercase.\r\n\r\nIt can be done using a regular expression to [split a string along with keeping delimiters](https://stackoverflow.com/a/65569988/13279831).\r\n```java\r\nstatic String capitalizeSentence(String input) {\r\n    if (null == input || 0 == input.length()) {\r\n        return input;\r\n    }\r\n\r\n    return Arrays\r\n        .stream(input.split(&quot;((?&lt;=[.!\\\\?]\\\\s?)|(?=[.!\\\\?]\\\\s?))&quot;))\r\n        .flatMap(sent -&gt; { \r\n            String[] words = sent.split(&quot;((?&lt;=[^\\\\w])|(?=[^\\\\w]))&quot;); \r\n            return \r\n                Stream.concat(\r\n                    Stream.of(words[0].matches(&quot;[A-Z]+&quot;) // process first word\r\n                        ? words[0] \r\n                        : (Character.toUpperCase(words[0].charAt(0)) + \r\n                            (words[0].length() &gt; 1 ? words[0].substring(1).toLowerCase() : &quot;&quot;))\r\n                    ),\r\n                    // process the rest of words\r\n                    Arrays.stream(words)\r\n                          .skip(1)\r\n                          .map(word -&gt; word.matches(&quot;[A-Z]+&quot;) ? word : word.toLowerCase())\r\n                );\r\n        })\r\n        .collect(Collectors.joining());\r\n}\r\n```\r\nTest:\r\n```java\r\nSystem.out.println(capitalizeSentence(&quot;o! HI!first  SenTence. secOND  sentence. tHIRD: SENTENCE. am I OK?! yes, I am fine!!&quot;));\r\n```\r\nOutput:\r\n```\r\nO! HI!First  sentence. Second  sentence. Third: SENTENCE. Am I OK?! Yes, I am fine!!\r\n```","title":"How to capitalize first letter and lowercase the rest while keeping the word capital if it is in fully uppercase - java","body":"<p>As the input string may contain multiple sentences, it should be split into sentences, then each sentence should be split to words, the word in all caps remains the same, the first word in sentence is capitalized, and the rest words are turned lowercase.</p>\n<p>It can be done using a regular expression to <a href=\"https://stackoverflow.com/a/65569988/13279831\">split a string along with keeping delimiters</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static String capitalizeSentence(String input) {\n    if (null == input || 0 == input.length()) {\n        return input;\n    }\n\n    return Arrays\n        .stream(input.split(&quot;((?&lt;=[.!\\\\?]\\\\s?)|(?=[.!\\\\?]\\\\s?))&quot;))\n        .flatMap(sent -&gt; { \n            String[] words = sent.split(&quot;((?&lt;=[^\\\\w])|(?=[^\\\\w]))&quot;); \n            return \n                Stream.concat(\n                    Stream.of(words[0].matches(&quot;[A-Z]+&quot;) // process first word\n                        ? words[0] \n                        : (Character.toUpperCase(words[0].charAt(0)) + \n                            (words[0].length() &gt; 1 ? words[0].substring(1).toLowerCase() : &quot;&quot;))\n                    ),\n                    // process the rest of words\n                    Arrays.stream(words)\n                          .skip(1)\n                          .map(word -&gt; word.matches(&quot;[A-Z]+&quot;) ? word : word.toLowerCase())\n                );\n        })\n        .collect(Collectors.joining());\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>System.out.println(capitalizeSentence(&quot;o! HI!first  SenTence. secOND  sentence. tHIRD: SENTENCE. am I OK?! yes, I am fine!!&quot;));\n</code></pre>\n<p>Output:</p>\n<pre><code>O! HI!First  sentence. Second  sentence. Third: SENTENCE. Am I OK?! Yes, I am fine!!\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11381766,"reputation":452,"user_id":8344485,"display_name":"juwil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1611612154,"creation_date":1611612154,"answer_id":65893049,"question_id":65891480,"body_markdown":"It is good practice to split a problem in smaller ones. So I recommend to handle sentences by splitting the text at the &quot;.&quot; and iterate over the sentences.\r\n\r\nThen you handle the words of every sentence by splitting  sentence at the &quot; &quot;.\r\n\r\nThen you check for every word, if it is completely in capital letters. if so, leave unchanged.\r\nIf not, you check, if it is a noun, wich here means, it has a capital first letter and no capital letters else. If so, leave it unchanged, otherwise convert it to lower case completely.\r\n\r\nYou then (as the last step) capitalize the first letter of the first word of every sentence.\r\n\r\nThis way you do not need any global flags whatsoever. And you can easily test your algorithm - for words and for special cases like beginning of a sentence. If you need to add other characters as &quot;.&quot; for splitting the text into sentences - easy.\r\nIf you want special treatment for other cases of words - easy..\r\n","title":"How to capitalize first letter and lowercase the rest while keeping the word capital if it is in fully uppercase - java","body":"<p>It is good practice to split a problem in smaller ones. So I recommend to handle sentences by splitting the text at the &quot;.&quot; and iterate over the sentences.</p>\n<p>Then you handle the words of every sentence by splitting  sentence at the &quot; &quot;.</p>\n<p>Then you check for every word, if it is completely in capital letters. if so, leave unchanged.\nIf not, you check, if it is a noun, wich here means, it has a capital first letter and no capital letters else. If so, leave it unchanged, otherwise convert it to lower case completely.</p>\n<p>You then (as the last step) capitalize the first letter of the first word of every sentence.</p>\n<p>This way you do not need any global flags whatsoever. And you can easily test your algorithm - for words and for special cases like beginning of a sentence. If you need to add other characters as &quot;.&quot; for splitting the text into sentences - easy.\nIf you want special treatment for other cases of words - easy..</p>\n"},{"tags":[],"owner":{"account_id":21319783,"reputation":13,"user_id":15693145,"display_name":"Hello world"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632736938,"creation_date":1632736938,"answer_id":69344765,"question_id":65891480,"body_markdown":"Set the first word as uppercase and the rest lowercase   \r\n ```                \r\nString output = someString.substring(0, 1).toUpperCase() + someString.substring(1).toLowerCase(Locale.ROOT);\r\n```","title":"How to capitalize first letter and lowercase the rest while keeping the word capital if it is in fully uppercase - java","body":"<p>Set the first word as uppercase and the rest lowercase</p>\n<pre><code>String output = someString.substring(0, 1).toUpperCase() + someString.substring(1).toLowerCase(Locale.ROOT);\n</code></pre>\n"}],"owner":{"account_id":20543372,"reputation":33,"user_id":15077824,"display_name":"Jeffery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2728,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":65892823,"answer_count":5,"score":1,"last_activity_date":1632736938,"creation_date":1611604201,"question_id":65891480,"body_markdown":"    getSentenceCaseText()\r\n\r\nreturn a string representation of current text in sentence case. Sentence case is the\r\nconventional way of using capital letters in a sentence or capitalizing only the first\r\nword and any proper nouns. In addition, all capital word should remain as it is.\r\n\r\n**For this assignment, noun is limited to words that have ONE capital letter at the beginning.**\r\n\r\n**As an example the string &quot;First SenTence. secOND sentence. tHIRD SENTENCE&quot;\r\n\r\nits output will be (First sentence. Second sentence. Third SENTENCE)**\r\n\r\n\r\n----------------------------------------\r\nThis is my code for the above assignment. I could capitalize the first letter after every dot and set the rest as lowercase but i couldn&#39;t find out how to keep full uppercase word as it is.\r\n\r\nThis is my code below:\r\n\r\n    public String getSentenceCaseText(String text) { \r\n    \t\r\n    \tint pos = 0;\r\n    \tboolean capitalize = true;\r\n    \tStringBuilder sb = new StringBuilder(text);\r\n    \t\r\n    \twhile (pos &lt; sb.length()){\r\n    \t\t sb.setCharAt(pos, Character.toLowerCase(sb.charAt(pos)));\r\n    \t\t if (sb.charAt(pos) == &#39;.&#39;) {\r\n    \t        capitalize = true;      \r\n    \t    } else if (capitalize &amp;&amp; !Character.isWhitespace(sb.charAt(pos))) {\r\n    \t        sb.setCharAt(pos, Character.toUpperCase(sb.charAt(pos)));   \r\n    \t        capitalize = false;\r\n    \t    }\r\n    \t    pos++;\r\n    \t   }   \r\n       return sb.toString();\r\n    }\r\n    \t\r\n","title":"How to capitalize first letter and lowercase the rest while keeping the word capital if it is in fully uppercase - java","body":"<pre><code>getSentenceCaseText()\n</code></pre>\n<p>return a string representation of current text in sentence case. Sentence case is the\nconventional way of using capital letters in a sentence or capitalizing only the first\nword and any proper nouns. In addition, all capital word should remain as it is.</p>\n<p><strong>For this assignment, noun is limited to words that have ONE capital letter at the beginning.</strong></p>\n<p>**As an example the string &quot;First SenTence. secOND sentence. tHIRD SENTENCE&quot;</p>\n<p>its output will be (First sentence. Second sentence. Third SENTENCE)**</p>\n<hr />\n<p>This is my code for the above assignment. I could capitalize the first letter after every dot and set the rest as lowercase but i couldn't find out how to keep full uppercase word as it is.</p>\n<p>This is my code below:</p>\n<pre><code>public String getSentenceCaseText(String text) { \n    \n    int pos = 0;\n    boolean capitalize = true;\n    StringBuilder sb = new StringBuilder(text);\n    \n    while (pos &lt; sb.length()){\n         sb.setCharAt(pos, Character.toLowerCase(sb.charAt(pos)));\n         if (sb.charAt(pos) == '.') {\n            capitalize = true;      \n        } else if (capitalize &amp;&amp; !Character.isWhitespace(sb.charAt(pos))) {\n            sb.setCharAt(pos, Character.toUpperCase(sb.charAt(pos)));   \n            capitalize = false;\n        }\n        pos++;\n       }   \n   return sb.toString();\n}\n    \n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":6220603,"reputation":6013,"user_id":4840338,"display_name":"omuthu"},"score":1,"creation_date":1632714315,"post_id":69340903,"comment_id":122558145,"body_markdown":"what is the definition for s3client? Possibly not defined or typo there","body":"what is the definition for s3client? Possibly not defined or typo there"}],"answers":[{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632716124,"creation_date":1632715593,"answer_id":69341095,"question_id":69340903,"body_markdown":"You have both version 1 and version 2 of the Java SDK imported into the project. Both SDKs are very similar and have objects with same names. Most probably you imported the Request class from one version and the Client class from the another one.\r\n\r\nSDK versions 1 and 2 can coexist in the same project, but they are not compatible and you should avoid having both of them in the classpath. Import only the needed package (for example S3 package), never the &quot;whole SDK&quot;.\r\n\r\nBoth versions of SDK are maintained by AWS. By now (Sep. 2021) there are only few advantages using the version 2. See links:\r\n\r\nhttps://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/migration.html\r\n\r\nhttps://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/migration-side-by-side.html","title":"Cannot resolve method putObject on AWSS3bucket","body":"<p>You have both version 1 and version 2 of the Java SDK imported into the project. Both SDKs are very similar and have objects with same names. Most probably you imported the Request class from one version and the Client class from the another one.</p>\n<p>SDK versions 1 and 2 can coexist in the same project, but they are not compatible and you should avoid having both of them in the classpath. Import only the needed package (for example S3 package), never the &quot;whole SDK&quot;.</p>\n<p>Both versions of SDK are maintained by AWS. By now (Sep. 2021) there are only few advantages using the version 2. See links:</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/migration.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/migration.html</a></p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/migration-side-by-side.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/migration-side-by-side.html</a></p>\n"}],"owner":{"account_id":21859131,"reputation":49,"user_id":16150140,"display_name":"aaaaaajib"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1063,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632736877,"creation_date":1632713706,"question_id":69340903,"body_markdown":"I have used this code\r\n\r\n```\r\n      @Override\r\n    public UploadResponse upload(MultipartFile audio) throws IOException {\r\n        var fileName = audio.getOriginalFilename();\r\n        var inputFileStream = audio.getInputStream();\r\n        var size = audio.getSize();\r\n        File tempFile = File.createTempFile(fileName, &quot;&quot;);\r\n        FileUtils.copyInputStreamToFile(inputFileStream, tempFile);\r\n        InputStream in = FileUtils.openInputStream(tempFile);\r\n        uploadToS3(fileName, in, size);\r\n        return null;\r\n    }\r\n\r\n    private void uploadToS3(String fileName, InputStream in, long size) {\r\n            var putObjectRequest = PutObjectRequest.builder().bucket(bucketName).key(fileName).build();\r\n            var requestBody = RequestBody.fromInputStream(in, size);\r\n           this.s3client.putObject(putObjectRequest, requestBody);\r\n        }\r\n```\r\nIt is handling for upload mp3 or mp4 from Multipart API to AWS s3bucket. but when I use this method I got an error that cannot resolve the `putObject` Method. for handle this code I use dependencies :\r\n```\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n          &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n          &lt;version&gt;1.11.133&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n          &lt;artifactId&gt;s3&lt;/artifactId&gt;\r\n          &lt;version&gt;2.17.23&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nMy question is what is exactly problem from my code ?","title":"Cannot resolve method putObject on AWSS3bucket","body":"<p>I have used this code</p>\n<pre><code>      @Override\n    public UploadResponse upload(MultipartFile audio) throws IOException {\n        var fileName = audio.getOriginalFilename();\n        var inputFileStream = audio.getInputStream();\n        var size = audio.getSize();\n        File tempFile = File.createTempFile(fileName, &quot;&quot;);\n        FileUtils.copyInputStreamToFile(inputFileStream, tempFile);\n        InputStream in = FileUtils.openInputStream(tempFile);\n        uploadToS3(fileName, in, size);\n        return null;\n    }\n\n    private void uploadToS3(String fileName, InputStream in, long size) {\n            var putObjectRequest = PutObjectRequest.builder().bucket(bucketName).key(fileName).build();\n            var requestBody = RequestBody.fromInputStream(in, size);\n           this.s3client.putObject(putObjectRequest, requestBody);\n        }\n</code></pre>\n<p>It is handling for upload mp3 or mp4 from Multipart API to AWS s3bucket. but when I use this method I got an error that cannot resolve the <code>putObject</code> Method. for handle this code I use dependencies :</p>\n<pre><code>    &lt;dependency&gt;\n          &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n          &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n          &lt;version&gt;1.11.133&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n          &lt;artifactId&gt;s3&lt;/artifactId&gt;\n          &lt;version&gt;2.17.23&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>My question is what is exactly problem from my code ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1632147928,"post_id":69255691,"comment_id":122408301,"body_markdown":"How are these images stored? How are the product cards stored? Assuming the products are stored in a database, just look for any images older than a set amount of time that are not referred to by any product and delete them.","body":"How are these images stored? How are the product cards stored? Assuming the products are stored in a database, just look for any images older than a set amount of time that are not referred to by any product and delete them."},{"owner":{"account_id":22801721,"reputation":1,"user_id":16954290,"display_name":"Michael Joseph Jackson"},"score":0,"creation_date":1632150990,"post_id":69255691,"comment_id":122409754,"body_markdown":"@David Conrad Right, the product card is in the database, and the images are on the server, in the file system.\n\nYour version is very good, and I will definitely consider it. All this time I have been trying to come up with a mechanism where I would not have to access the database. But now I feel that I may have to follow your example.","body":"@David Conrad Right, the product card is in the database, and the images are on the server, in the file system.  Your version is very good, and I will definitely consider it. All this time I have been trying to come up with a mechanism where I would not have to access the database. But now I feel that I may have to follow your example."}],"answers":[{"tags":[],"owner":{"account_id":41689,"reputation":25007,"user_id":121260,"accept_rate":75,"display_name":"Eric Darchis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632736691,"creation_date":1632736691,"answer_id":69344712,"question_id":69255691,"body_markdown":"I see two main ways to address this:\r\n\r\n1. As pointed out by David Conrad, the usual way is to check for old files that are not referenced by any product and delete them. As you said, you&#39;ll need to check the database in order to do that but that shouldn&#39;t be too bad.\r\n\r\n2. You add some file processing to your product creation. For example, uploaded files end up into a staging area. When the product is created, you move that file into the &quot;product_images&quot; folder for example. That way, you can have a simple cron job that deletes files older than a set amount of time from the staging area.\r\n\r\nI personally like to have an &quot;upload&quot; table so that I have additional information about the upload like who uploaded it, from which browser/device, etc.","title":"Removing images from the server that are not linked to the item card","body":"<p>I see two main ways to address this:</p>\n<ol>\n<li><p>As pointed out by David Conrad, the usual way is to check for old files that are not referenced by any product and delete them. As you said, you'll need to check the database in order to do that but that shouldn't be too bad.</p>\n</li>\n<li><p>You add some file processing to your product creation. For example, uploaded files end up into a staging area. When the product is created, you move that file into the &quot;product_images&quot; folder for example. That way, you can have a simple cron job that deletes files older than a set amount of time from the staging area.</p>\n</li>\n</ol>\n<p>I personally like to have an &quot;upload&quot; table so that I have additional information about the upload like who uploaded it, from which browser/device, etc.</p>\n"}],"owner":{"account_id":22801721,"reputation":1,"user_id":16954290,"display_name":"Michael Joseph Jackson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632736691,"creation_date":1632146212,"question_id":69255691,"body_markdown":"Suppose on the page for adding a product, you can add only one image.\r\n\r\nMan presses a button to add an image. Selects the desired image and it is automatically uploaded to the server. There is no need to click an additional UPLOAD button.\r\n\r\nThe first thing I want to draw your attention to is that the product card has not been created yet, and the image has already been loaded.\r\n\r\nNow, suppose the customer has uploaded an image but hasn&#39;t created a product card and closed the browser. Naturally, the uploaded image remains on the server.\r\n\r\nThe image that remains on the server needs to be deleted somehow after a certain time.\r\n\r\nI also want to draw your attention to the fact that the client can upload the same image several times.\r\n\r\nNow the challenge is how to delete images that are not in use?\r\n\r\nI tried to do it in different ways. I wrote each image to a file, then I tried to process it all and nothing comes out.\r\n\r\nI have been trying to solve this problem for two weeks. I&#39;ve tried a lot of options and it just doesn&#39;t work.\r\n\r\nIs there anyone who faced a similar problem and how did you solve it?","title":"Removing images from the server that are not linked to the item card","body":"<p>Suppose on the page for adding a product, you can add only one image.</p>\n<p>Man presses a button to add an image. Selects the desired image and it is automatically uploaded to the server. There is no need to click an additional UPLOAD button.</p>\n<p>The first thing I want to draw your attention to is that the product card has not been created yet, and the image has already been loaded.</p>\n<p>Now, suppose the customer has uploaded an image but hasn't created a product card and closed the browser. Naturally, the uploaded image remains on the server.</p>\n<p>The image that remains on the server needs to be deleted somehow after a certain time.</p>\n<p>I also want to draw your attention to the fact that the client can upload the same image several times.</p>\n<p>Now the challenge is how to delete images that are not in use?</p>\n<p>I tried to do it in different ways. I wrote each image to a file, then I tried to process it all and nothing comes out.</p>\n<p>I have been trying to solve this problem for two weeks. I've tried a lot of options and it just doesn't work.</p>\n<p>Is there anyone who faced a similar problem and how did you solve it?</p>\n"},{"tags":["java","android","firebase","google-maps","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1632729860,"post_id":69335963,"comment_id":122561889,"body_markdown":"What exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":22063850,"reputation":69,"user_id":16326040,"display_name":"PI PI NAN"},"score":0,"creation_date":1632731475,"post_id":69335963,"comment_id":122562534,"body_markdown":"I want to get the latitude and longitude of certain location, stored it in ```double``` variable, but I couldn&#39;t find a way to do it...","body":"I want to get the latitude and longitude of certain location, stored it in <code>double</code> variable, but I couldn&#39;t find a way to do it..."},{"owner":{"account_id":22063850,"reputation":69,"user_id":16326040,"display_name":"PI PI NAN"},"score":0,"creation_date":1632731677,"post_id":69335963,"comment_id":122562609,"body_markdown":"```event.put(&quot;eventLocationLat&quot;, address.getLatitude);\n    event.put(&quot;eventLocationLong&quot;, address.getLongitude);```\nI try to access using ```address.getLatitude```, it appear error:\n```Cannot resolve symbol &#39;address&#39;```","body":"<code>event.put(&quot;eventLocationLat&quot;, address.getLatitude);     event.put(&quot;eventLocationLong&quot;, address.getLongitude);</code> I try to access using <code>address.getLatitude</code>, it appear error: <code>Cannot resolve symbol &#39;address&#39;</code>"},{"owner":{"account_id":22063850,"reputation":69,"user_id":16326040,"display_name":"PI PI NAN"},"score":0,"creation_date":1632731740,"post_id":69335963,"comment_id":122562628,"body_markdown":"So, I want to know is there another way that allow me to access the Lat and Long from the second setOnClickListener?","body":"So, I want to know is there another way that allow me to access the Lat and Long from the second setOnClickListener?"},{"owner":{"account_id":22063850,"reputation":69,"user_id":16326040,"display_name":"PI PI NAN"},"score":0,"creation_date":1632732227,"post_id":69335963,"comment_id":122562837,"body_markdown":"I apologize if I didn&#39;t state clearly regarding the problem.","body":"I apologize if I didn&#39;t state clearly regarding the problem."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1632732432,"post_id":69335963,"comment_id":122562918,"body_markdown":"What do you mean by &quot;Cannot resolve symbol &#39;address&#39;&quot;? Show us the entire error. Maybe a screenshot of it.","body":"What do you mean by &quot;Cannot resolve symbol &#39;address&#39;&quot;? Show us the entire error. Maybe a screenshot of it."},{"owner":{"account_id":22063850,"reputation":69,"user_id":16326040,"display_name":"PI PI NAN"},"score":0,"creation_date":1632732677,"post_id":69335963,"comment_id":122563029,"body_markdown":"Screenshot of the error added.","body":"Screenshot of the error added."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1632732934,"post_id":69335963,"comment_id":122563145,"body_markdown":"Ok, but please provide a more detailed one, to see how is exactly the address variable defined.","body":"Ok, but please provide a more detailed one, to see how is exactly the address variable defined."},{"owner":{"account_id":22063850,"reputation":69,"user_id":16326040,"display_name":"PI PI NAN"},"score":0,"creation_date":1632733198,"post_id":69335963,"comment_id":122563265,"body_markdown":"The ```address``` variable is defined in the if statement in the first ```setOnClickListener()``` block code. I try to access it in the second ```setOnClickListener()``` block code. Then, it appear error. Can you please refer to the first code block and second code block that I have provided?","body":"The <code>address</code> variable is defined in the if statement in the first <code>setOnClickListener()</code> block code. I try to access it in the second <code>setOnClickListener()</code> block code. Then, it appear error. Can you please refer to the first code block and second code block that I have provided?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1632733338,"post_id":69335963,"comment_id":122563337,"body_markdown":"Instead of describing how is the variable defined, show us the relevant code. So please edit your question and add the code to see it clearly.","body":"Instead of describing how is the variable defined, show us the relevant code. So please edit your question and add the code to see it clearly."},{"owner":{"account_id":22063850,"reputation":69,"user_id":16326040,"display_name":"PI PI NAN"},"score":0,"creation_date":1632735352,"post_id":69335963,"comment_id":122564198,"body_markdown":"I already edited the question based on your request. Thank you.","body":"I already edited the question based on your request. Thank you."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632736453,"creation_date":1632736453,"answer_id":69344657,"question_id":69335963,"body_markdown":"You are getting the following error:\r\n\r\n&gt; Cannot resolve symbol &#39;address&#39;\r\n\r\nBecause you have declared the `address` object inside the scope of the first listener. This means that the object is **not** visible inside the second listener, hence the error.\r\n\r\nTo solve this, declare the variable as a member of the class:\r\n\r\n    private Address address;\r\n\r\nInitilize it inside the first listener:\r\n\r\n     address = addressList.get(0);\r\n\r\nAnd then simply use it inside your second listener. The error will be gone.","title":"Failed to access Latitude and Longitude using address.getLatitude() in second setOnClickListener code","body":"<p>You are getting the following error:</p>\n<blockquote>\n<p>Cannot resolve symbol 'address'</p>\n</blockquote>\n<p>Because you have declared the <code>address</code> object inside the scope of the first listener. This means that the object is <strong>not</strong> visible inside the second listener, hence the error.</p>\n<p>To solve this, declare the variable as a member of the class:</p>\n<pre><code>private Address address;\n</code></pre>\n<p>Initilize it inside the first listener:</p>\n<pre><code> address = addressList.get(0);\n</code></pre>\n<p>And then simply use it inside your second listener. The error will be gone.</p>\n"}],"owner":{"account_id":22063850,"reputation":69,"user_id":16326040,"display_name":"PI PI NAN"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69344657,"answer_count":1,"score":1,"last_activity_date":1632736584,"creation_date":1632667162,"question_id":69335963,"body_markdown":"May I ask, how can I get the ***latitude and longitude*** from the first ```setOnClickListener``` below and pass it to second ```setOnClickListener```? I want to store the latitude and longitude in Firestore by using code in the second ```setOnClickListener```. My idea is when I click on the ***Search Icon***, the app will get the latitude and longitude of the location.[![Location Search][1]][1]\r\n\r\n**First ```setOnClickListener``` code**\r\n```\r\nsearchLoc.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Geocoder geoceoder = new Geocoder(getApplicationContext(), Locale.getDefault());\r\n                try{\r\n                    List&lt;Address&gt; addressList = geoceoder.getFromLocationName(locationName, 3);\r\n\r\n                    if(addressList.size() &gt; 0){\r\n                        //The address variable is declared in the first setOnClickListener.\r\n                        Address address = addressList.get(0);\r\n                        goToLocation(address.getLatitude(), address.getLongitude());\r\n.\r\n.\r\n.\r\n                        \r\n```\r\n**Second ```setOnClickListener``` code**\r\n\r\nI failed to access the Latitude and Longitude via ```address.getLatitude()``` in second ```setOnClickListener``` block code. I get error:\r\n```Cannot resolve symbol &#39;address&#39;```\r\n```\r\ncreate_eventBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Map&lt;String,Object&gt; event = new HashMap&lt;&gt;();\r\n                //Couldn&#39;t access the &quot;address&quot; in first setOnClickListener using address.getLatitude\r\n                event.put(&quot;eventLocationLat&quot;, address.getLatitude);\r\n                event.put(&quot;eventLocationLong&quot;, address.getLongitude);\r\n                fStore.collection(&quot;event&quot;).add(event)...;\r\n});\r\n```\r\nSo, when the user press the &quot;**Create Event**&quot; button at the bottom, the second ```setOnClickListener``` will be executed and store the **latitude and longitude** inside the **Firestore**.\r\n\r\n[![Add Event][2]][2]\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XWGvS.jpg\r\n  [2]: https://i.stack.imgur.com/dy9Em.jpg\r\n  [3]: https://i.stack.imgur.com/1kb4v.png","title":"Failed to access Latitude and Longitude using address.getLatitude() in second setOnClickListener code","body":"<p>May I ask, how can I get the <em><strong>latitude and longitude</strong></em> from the first <code>setOnClickListener</code> below and pass it to second <code>setOnClickListener</code>? I want to store the latitude and longitude in Firestore by using code in the second <code>setOnClickListener</code>. My idea is when I click on the <em><strong>Search Icon</strong></em>, the app will get the latitude and longitude of the location.<a href=\"https://i.stack.imgur.com/XWGvS.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XWGvS.jpg\" alt=\"Location Search\" /></a></p>\n<p><strong>First <code>setOnClickListener</code> code</strong></p>\n<pre><code>searchLoc.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Geocoder geoceoder = new Geocoder(getApplicationContext(), Locale.getDefault());\n                try{\n                    List&lt;Address&gt; addressList = geoceoder.getFromLocationName(locationName, 3);\n\n                    if(addressList.size() &gt; 0){\n                        //The address variable is declared in the first setOnClickListener.\n                        Address address = addressList.get(0);\n                        goToLocation(address.getLatitude(), address.getLongitude());\n.\n.\n.\n                        \n</code></pre>\n<p><strong>Second <code>setOnClickListener</code> code</strong></p>\n<p>I failed to access the Latitude and Longitude via <code>address.getLatitude()</code> in second <code>setOnClickListener</code> block code. I get error:\n<code>Cannot resolve symbol 'address'</code></p>\n<pre><code>create_eventBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Map&lt;String,Object&gt; event = new HashMap&lt;&gt;();\n                //Couldn't access the &quot;address&quot; in first setOnClickListener using address.getLatitude\n                event.put(&quot;eventLocationLat&quot;, address.getLatitude);\n                event.put(&quot;eventLocationLong&quot;, address.getLongitude);\n                fStore.collection(&quot;event&quot;).add(event)...;\n});\n</code></pre>\n<p>So, when the user press the &quot;<strong>Create Event</strong>&quot; button at the bottom, the second <code>setOnClickListener</code> will be executed and store the <strong>latitude and longitude</strong> inside the <strong>Firestore</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/dy9Em.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dy9Em.jpg\" alt=\"Add Event\" /></a>\n<a href=\"https://i.stack.imgur.com/1kb4v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1kb4v.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1632735351,"post_id":69344392,"comment_id":122564197,"body_markdown":"What is your java version?","body":"What is your java version?"},{"owner":{"account_id":22236721,"reputation":131,"user_id":16471939,"display_name":"MA-Dev"},"score":0,"creation_date":1632735445,"post_id":69344392,"comment_id":122564234,"body_markdown":"java version 1.8.0","body":"java version 1.8.0"}],"answers":[{"tags":[],"owner":{"account_id":4989128,"reputation":1168,"user_id":4011890,"display_name":"Noixes"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1632735558,"creation_date":1632735558,"answer_id":69344456,"question_id":69344392,"body_markdown":"    List&lt;User&gt; users = new ArrayList&lt;&gt;();\r\n    \r\n    List&lt;String&gt; departmentIdList = Arrays.asList(&quot;111&quot;, &quot;2222&quot;);\r\n    \r\n    List&lt;User&gt; usersNotInDepartments = users.stream()\r\n    \t\t.filter(u -&gt; !departmentIdList.contains(u.departmentId))\r\n    \t\t.collect(Collectors.toList());\r\n\r\nI would suggest that you make the departmentIdList to a Set data structure since it is more performant than Lists on lookup","title":"Java Stream filter a object list which does not contains a particular List of items as property","body":"<pre><code>List&lt;User&gt; users = new ArrayList&lt;&gt;();\n\nList&lt;String&gt; departmentIdList = Arrays.asList(&quot;111&quot;, &quot;2222&quot;);\n\nList&lt;User&gt; usersNotInDepartments = users.stream()\n        .filter(u -&gt; !departmentIdList.contains(u.departmentId))\n        .collect(Collectors.toList());\n</code></pre>\n<p>I would suggest that you make the departmentIdList to a Set data structure since it is more performant than Lists on lookup</p>\n"},{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1632735672,"creation_date":1632735672,"answer_id":69344486,"question_id":69344392,"body_markdown":"    users.stream().filter(\r\n        u -&gt; ! departmentIdList.contains(u.getDepartmentId())\r\n    ).collect(Collectors.toList())","title":"Java Stream filter a object list which does not contains a particular List of items as property","body":"<pre><code>users.stream().filter(\n    u -&gt; ! departmentIdList.contains(u.getDepartmentId())\n).collect(Collectors.toList())\n</code></pre>\n"}],"owner":{"account_id":22236721,"reputation":131,"user_id":16471939,"display_name":"MA-Dev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10026,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":69344486,"answer_count":2,"score":5,"last_activity_date":1632735672,"creation_date":1632735290,"question_id":69344392,"body_markdown":"I have a List of users. \r\n\r\n    public class User {\r\n    private String UserID;\r\n    private String departmentId;\r\n    private String email;\r\n    }\r\n\r\nAnd I have a list of departmentIds\r\n\r\n    List&lt;String&gt; departmentIdList = Arrays.asList(&quot;111&quot;, &quot;2222&quot;);\r\n\r\nI need to filter the users with department Id **not** in the departmentIdList.\r\nAs per above example I need users whose department ID not equal to 111 or 2222.\r\n","title":"Java Stream filter a object list which does not contains a particular List of items as property","body":"<p>I have a List of users.</p>\n<pre><code>public class User {\nprivate String UserID;\nprivate String departmentId;\nprivate String email;\n}\n</code></pre>\n<p>And I have a list of departmentIds</p>\n<pre><code>List&lt;String&gt; departmentIdList = Arrays.asList(&quot;111&quot;, &quot;2222&quot;);\n</code></pre>\n<p>I need to filter the users with department Id <strong>not</strong> in the departmentIdList.\nAs per above example I need users whose department ID not equal to 111 or 2222.</p>\n"},{"tags":["java","jboss","wildfly","javaagents"],"answers":[{"tags":[],"owner":{"account_id":151394,"reputation":52351,"user_id":365237,"accept_rate":96,"display_name":"eis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632735666,"creation_date":1632734979,"answer_id":69344308,"question_id":69344253,"body_markdown":"You can just add agentlib as startup option to Wildfly/JBoss, so yes, sure it&#39;s possible. However, if you just want to run the application with agentlib without Wildfly/JBoss classes being iterated, that you wouldn&#39;t be able to do, as java agents work on JVM level. So all classes in runtime JVM would be iterated, including Wildfly/JBoss classes.\r\n","title":"Is it possible deploy and run war-application with javaagent on Wildfly/JBoss?","body":"<p>You can just add agentlib as startup option to Wildfly/JBoss, so yes, sure it's possible. However, if you just want to run the application with agentlib without Wildfly/JBoss classes being iterated, that you wouldn't be able to do, as java agents work on JVM level. So all classes in runtime JVM would be iterated, including Wildfly/JBoss classes.</p>\n"}],"owner":{"account_id":2198896,"reputation":1375,"user_id":1943863,"accept_rate":100,"display_name":"Valeriy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69344308,"answer_count":1,"score":-1,"last_activity_date":1632735666,"creation_date":1632734694,"question_id":69344253,"body_markdown":"How to deploy and run war-application with javaagent on Wildfly/JBoss? Is it possible?\r\n","title":"Is it possible deploy and run war-application with javaagent on Wildfly/JBoss?","body":"<p>How to deploy and run war-application with javaagent on Wildfly/JBoss? Is it possible?</p>\n"},{"tags":["java","apache-spark"],"comments":[{"owner":{"account_id":4468601,"reputation":7627,"user_id":3635454,"accept_rate":75,"display_name":"pleft"},"score":1,"creation_date":1632489888,"post_id":69315663,"comment_id":122513721,"body_markdown":"Hi, can you please share what you have done so far? Your question is too vague.","body":"Hi, can you please share what you have done so far? Your question is too vague."},{"owner":{"account_id":11857563,"reputation":658,"user_id":8677191,"display_name":"Lee"},"score":0,"creation_date":1632492215,"post_id":69315663,"comment_id":122514767,"body_markdown":"This has very little information. Is it a CSV to a single dataframe? Is it a CSV to multiple dataframes? Is it multiple CSVs to a single dataframe?","body":"This has very little information. Is it a CSV to a single dataframe? Is it a CSV to multiple dataframes? Is it multiple CSVs to a single dataframe?"},{"owner":{"account_id":9303405,"reputation":9,"user_id":6908050,"display_name":"Shane aalam"},"score":0,"creation_date":1632732182,"post_id":69315663,"comment_id":122562823,"body_markdown":"@Lee Yes I have large file having multiple columns and I need to process it to multiple database table.","body":"@Lee Yes I have large file having multiple columns and I need to process it to multiple database table."}],"answers":[{"tags":[],"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1632496140,"creation_date":1632496140,"answer_id":69317327,"question_id":69315663,"body_markdown":"In this example, I read from CSV and save some data in Parquet and some data in CSV. The two dataframes are a bit different. You can easily modify to save to a relational database if you need to.\r\n\r\nHere is a quick way to load a CSV file in Spark w/ Java:\r\n\r\n    SparkSession spark = SparkSession.builder()\r\n        .appName(&quot;CSV to Dataset&quot;)\r\n        .master(&quot;local&quot;)\r\n        .getOrCreate();\r\n\r\n    // Reads a CSV file with header, called books.csv, stores it in a\r\n    // dataframe\r\n    Dataset&lt;Row&gt; df = spark.read().format(&quot;csv&quot;)\r\n        .option(&quot;header&quot;, &quot;true&quot;)\r\n        .load(&quot;data/books.csv&quot;);\r\n\r\nThen to save it, you can do it this way:\r\n\r\n\r\n    df\r\n        .write()\r\n        .format(&quot;parquet&quot;)\r\n        .mode(SaveMode.Overwrite)\r\n        .save(&quot;/tmp/fires_parquet&quot;);\r\n\r\n    Dataset&lt;Row&gt; outputDf = df\r\n        .filter(&quot;confidence_level = &#39;high&#39;&quot;)\r\n        .repartition(1);\r\n    outputDf\r\n        .write()\r\n        .format(&quot;csv&quot;)\r\n        .option(&quot;header&quot;, true)\r\n        .mode(SaveMode.Overwrite)\r\n        .save(&quot;/tmp/high_confidence_fires_csv&quot;);\r\n\r\nI adapted the code from two examples from https://github.com/jgperrin/net.jgp.books.spark.ch01/blob/master/src/main/java/net/jgp/books/spark/ch01/lab100_csv_to_dataframe/CsvToDataframeApp.java (read) and https://github.com/jgperrin/net.jgp.books.spark.ch17/blob/master/src/main/java/net/jgp/books/spark/ch17/lab100_export/ExportWildfiresApp.java write). ","title":"how to read csv files and save it to multiple tables using Apache spark java api","body":"<p>In this example, I read from CSV and save some data in Parquet and some data in CSV. The two dataframes are a bit different. You can easily modify to save to a relational database if you need to.</p>\n<p>Here is a quick way to load a CSV file in Spark w/ Java:</p>\n<pre><code>SparkSession spark = SparkSession.builder()\n    .appName(&quot;CSV to Dataset&quot;)\n    .master(&quot;local&quot;)\n    .getOrCreate();\n\n// Reads a CSV file with header, called books.csv, stores it in a\n// dataframe\nDataset&lt;Row&gt; df = spark.read().format(&quot;csv&quot;)\n    .option(&quot;header&quot;, &quot;true&quot;)\n    .load(&quot;data/books.csv&quot;);\n</code></pre>\n<p>Then to save it, you can do it this way:</p>\n<pre><code>df\n    .write()\n    .format(&quot;parquet&quot;)\n    .mode(SaveMode.Overwrite)\n    .save(&quot;/tmp/fires_parquet&quot;);\n\nDataset&lt;Row&gt; outputDf = df\n    .filter(&quot;confidence_level = 'high'&quot;)\n    .repartition(1);\noutputDf\n    .write()\n    .format(&quot;csv&quot;)\n    .option(&quot;header&quot;, true)\n    .mode(SaveMode.Overwrite)\n    .save(&quot;/tmp/high_confidence_fires_csv&quot;);\n</code></pre>\n<p>I adapted the code from two examples from <a href=\"https://github.com/jgperrin/net.jgp.books.spark.ch01/blob/master/src/main/java/net/jgp/books/spark/ch01/lab100_csv_to_dataframe/CsvToDataframeApp.java\" rel=\"nofollow noreferrer\">https://github.com/jgperrin/net.jgp.books.spark.ch01/blob/master/src/main/java/net/jgp/books/spark/ch01/lab100_csv_to_dataframe/CsvToDataframeApp.java</a> (read) and <a href=\"https://github.com/jgperrin/net.jgp.books.spark.ch17/blob/master/src/main/java/net/jgp/books/spark/ch17/lab100_export/ExportWildfiresApp.java\" rel=\"nofollow noreferrer\">https://github.com/jgperrin/net.jgp.books.spark.ch17/blob/master/src/main/java/net/jgp/books/spark/ch17/lab100_export/ExportWildfiresApp.java</a> write).</p>\n"}],"owner":{"account_id":9303405,"reputation":9,"user_id":6908050,"display_name":"Shane aalam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":165,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1632552942,"answer_count":1,"score":0,"last_activity_date":1632735660,"creation_date":1632489364,"question_id":69315663,"body_markdown":"I need to read csv files having multiple columns and save it to multiple tables using Apache spark java api. Please help if someone can.","title":"how to read csv files and save it to multiple tables using Apache spark java api","body":"<p>I need to read csv files having multiple columns and save it to multiple tables using Apache spark java api. Please help if someone can.</p>\n"},{"tags":["java","android","http","networking","proxy"],"comments":[{"owner":{"account_id":11550648,"reputation":1240,"user_id":8463412,"accept_rate":50,"display_name":"sak"},"score":0,"creation_date":1532684271,"post_id":17290970,"comment_id":90077040,"body_markdown":"You may not remember now but did you found the code which can redirect all device network traffic via a proxy? If possible can you please share the code?","body":"You may not remember now but did you found the code which can redirect all device network traffic via a proxy? If possible can you please share the code?"},{"owner":{"account_id":1046397,"reputation":2748,"user_id":1051292,"accept_rate":80,"display_name":"Kevin"},"score":0,"creation_date":1532710962,"post_id":17290970,"comment_id":90091829,"body_markdown":"@sak Sorry, no idea if I even got this working. Have you tried David&#39;s answer? Keep in mind this was asked 5 years ago, Android has changed a lot since then.","body":"@sak Sorry, no idea if I even got this working. Have you tried David&#39;s answer? Keep in mind this was asked 5 years ago, Android has changed a lot since then."},{"owner":{"account_id":11550648,"reputation":1240,"user_id":8463412,"accept_rate":50,"display_name":"sak"},"score":0,"creation_date":1532761939,"post_id":17290970,"comment_id":90104079,"body_markdown":"Yeah i know that but i am not getting any solution, trying from a long time,  according to David i think its not possible to redirect all device traffic to a proxy because he mentioned that &quot;each app runs in it&#39;s own Dalvik so you won&#39;t impact other app&#39;s network communications&quot;. But thanks at least for replying.","body":"Yeah i know that but i am not getting any solution, trying from a long time,  according to David i think its not possible to redirect all device traffic to a proxy because he mentioned that &quot;each app runs in it&#39;s own Dalvik so you won&#39;t impact other app&#39;s network communications&quot;. But thanks at least for replying."},{"owner":{"account_id":1046397,"reputation":2748,"user_id":1051292,"accept_rate":80,"display_name":"Kevin"},"score":0,"creation_date":1532828825,"post_id":17290970,"comment_id":90118669,"body_markdown":"@sak Good luck, I remember I originally asked this because I needed a way to control this via the app (locked down enterprise app on company phones that weren&#39;t managed at all, but had to connect through an APN to get the relevant data), but the phone itself has proxy settings that already allow this. Is that an option for you, just using the settings of the phone?","body":"@sak Good luck, I remember I originally asked this because I needed a way to control this via the app (locked down enterprise app on company phones that weren&#39;t managed at all, but had to connect through an APN to get the relevant data), but the phone itself has proxy settings that already allow this. Is that an option for you, just using the settings of the phone?"},{"owner":{"account_id":11550648,"reputation":1240,"user_id":8463412,"accept_rate":50,"display_name":"sak"},"score":0,"creation_date":1533557008,"post_id":17290970,"comment_id":90375065,"body_markdown":"Yes I can use the phone settings but it also doesn&#39;t work for all apps, I have tried that before.","body":"Yes I can use the phone settings but it also doesn&#39;t work for all apps, I have tried that before."},{"owner":{"account_id":11550648,"reputation":1240,"user_id":8463412,"accept_rate":50,"display_name":"sak"},"score":0,"creation_date":1533557263,"post_id":17290970,"comment_id":90375227,"body_markdown":"I have just got permission to use VPN, so can i redirect all data via VPN?","body":"I have just got permission to use VPN, so can i redirect all data via VPN?"}],"answers":[{"tags":[],"owner":{"account_id":421780,"reputation":2471,"user_id":800194,"display_name":"David C. Sainte-Claire"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1372144802,"creation_date":1372144802,"answer_id":17291398,"question_id":17290970,"body_markdown":"&lt;br/&gt;\r\nIt&#39;s been a year or two since I&#39;ve needed to use it, but if I remember correctly, you can use the &lt;code&gt;System.setProperty(String, String)&lt;/code&gt; in order to set an environment-wide setting for your application to route all HTTP traffic through a proxy.  The properties that you should need to set are &quot;http.proxyHost&quot; and &quot;http.proxyPort&quot; and then use your HttpClient normally without specifying a proxy because the VM will handle routing requests.&lt;br/&gt;\r\nDocs for more information about what I&#39;m talking about can be found here: [ProxySelector (just so you know what keys to use)][1] and [here][2] for documentation about the actual &lt;code&gt;System.setProperty(String, String)&lt;/code&gt; function &lt;br/&gt;\r\nIf that doesn&#39;t work for you, let me know and I&#39;ll try to dig out my old code that set a system-level proxy.  BTW, it&#39;s really only &quot;system-level&quot; since each app runs in it&#39;s own Dalvik so you won&#39;t impact other app&#39;s network communications.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/java/net/ProxySelector.html\r\n  [2]: http://developer.android.com/reference/java/lang/System.html#setProperty%28java.lang.String,%20java.lang.String%29","title":"How to make all network traffic go via a proxy?","body":"<p><br/>\nIt's been a year or two since I've needed to use it, but if I remember correctly, you can use the <code>System.setProperty(String, String)</code> in order to set an environment-wide setting for your application to route all HTTP traffic through a proxy.  The properties that you should need to set are \"http.proxyHost\" and \"http.proxyPort\" and then use your HttpClient normally without specifying a proxy because the VM will handle routing requests.<br/>\nDocs for more information about what I'm talking about can be found here: <a href=\"http://developer.android.com/reference/java/net/ProxySelector.html\" rel=\"nofollow\">ProxySelector (just so you know what keys to use)</a> and <a href=\"http://developer.android.com/reference/java/lang/System.html#setProperty%28java.lang.String,%20java.lang.String%29\" rel=\"nofollow\">here</a> for documentation about the actual <code>System.setProperty(String, String)</code> function <br/>\nIf that doesn't work for you, let me know and I'll try to dig out my old code that set a system-level proxy.  BTW, it's really only \"system-level\" since each app runs in it's own Dalvik so you won't impact other app's network communications.</p>\n"}],"owner":{"account_id":1046397,"reputation":2748,"user_id":1051292,"accept_rate":80,"display_name":"Kevin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3966,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":17291398,"answer_count":1,"score":2,"last_activity_date":1632735501,"creation_date":1372143262,"question_id":17290970,"body_markdown":"I have an app that makes http requests to a remote server. I do this with the following code:  \r\n\r\n        HttpClient httpClient = new DefaultHttpClient();\r\n        HttpPost httpPost = new HttpPost(&quot;myURL&quot;);\r\n        \r\n\t    try {\r\n\t    \t\r\n\t        ArrayList&lt;BasicNameValuePair&gt; postVariables = new ArrayList&lt;BasicNameValuePair&gt;(2);\r\n\t    \tpostVariables.add(new BasicNameValuePair(&quot;key&quot;,&quot;value&quot;));\r\n\t    \t\r\n\t    \thttpPost.setEntity(new UrlEncodedFormEntity(postVariables));\r\n        \tHttpResponse response = httpClient.execute(httpPost);\r\n        \tString responseString = EntityUtils.toString(response.getEntity());\r\n        \t\r\n        \tif (responseString.contains(&quot;\\&quot;success\\&quot;:true&quot;)){\r\n\t            //this means the request succeeded\r\n\t        } else {\r\n\t            //failed\r\n\t        }\r\n\t    } catch (ClientProtocolException e) {\r\n\t        e.printStackTrace();\r\n\t    } catch (IOException e) {\r\n\t        e.printStackTrace();\r\n        }\r\n\r\nThis goes really well, but one of our customers has set up an APN that requires requests to go via a certain proxy server. If I add the following to the request this works, the request gets rerouted via the proxy to the server:  \r\n\r\n        HttpHost httpHost = new HttpHost(&quot;proxyURL&quot;,8080);\r\n        httpClient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, httpHost);\r\n\r\nSo far so good, however, I use a library that makes some http requests as well. The library&#39;s code is not accesible for me, so I can&#39;t add those two lines to the code. I contacted the creators of that library, and they told me it should be possible to set up the android environment so that all requests will automatically go through the proxy. Is there something like that? I didn&#39;t find anything on google.  \r\nI&#39;m basically looking for a way to set the above two lines as a standard for all http requests. Please note that the APN does not set the proxy as a default for the entire phone, so apps will have to do this manually (and yes that means the majority of the apps don&#39;t work on that customer&#39;s phone).","title":"How to make all network traffic go via a proxy?","body":"<p>I have an app that makes http requests to a remote server. I do this with the following code:  </p>\n\n<pre><code>    HttpClient httpClient = new DefaultHttpClient();\n    HttpPost httpPost = new HttpPost(\"myURL\");\n\n    try {\n\n        ArrayList&lt;BasicNameValuePair&gt; postVariables = new ArrayList&lt;BasicNameValuePair&gt;(2);\n        postVariables.add(new BasicNameValuePair(\"key\",\"value\"));\n\n        httpPost.setEntity(new UrlEncodedFormEntity(postVariables));\n        HttpResponse response = httpClient.execute(httpPost);\n        String responseString = EntityUtils.toString(response.getEntity());\n\n        if (responseString.contains(\"\\\"success\\\":true\")){\n            //this means the request succeeded\n        } else {\n            //failed\n        }\n    } catch (ClientProtocolException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>This goes really well, but one of our customers has set up an APN that requires requests to go via a certain proxy server. If I add the following to the request this works, the request gets rerouted via the proxy to the server:  </p>\n\n<pre><code>    HttpHost httpHost = new HttpHost(\"proxyURL\",8080);\n    httpClient.getParams().setParameter(ConnRoutePNames.DEFAULT_PROXY, httpHost);\n</code></pre>\n\n<p>So far so good, however, I use a library that makes some http requests as well. The library's code is not accesible for me, so I can't add those two lines to the code. I contacted the creators of that library, and they told me it should be possible to set up the android environment so that all requests will automatically go through the proxy. Is there something like that? I didn't find anything on google.<br>\nI'm basically looking for a way to set the above two lines as a standard for all http requests. Please note that the APN does not set the proxy as a default for the entire phone, so apps will have to do this manually (and yes that means the majority of the apps don't work on that customer's phone).</p>\n"},{"tags":["java","maven","eclipse-plugin","eclipse-rcp","tycho"],"answers":[{"tags":[],"owner":{"account_id":178797,"reputation":1794,"user_id":3402449,"display_name":"Ahmad Shahwan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528879159,"creation_date":1528878968,"answer_id":50832648,"question_id":50832339,"body_markdown":"You have to specify the source level in your `pom.xml` file:\r\n\r\n    &lt;project&gt;\r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\nThis has nothing to do with tycho, it is the compiler plugin.\r\n\r\nYou can alternatively configure the plugin itself.\r\n\r\nPlease refer to [this page](https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html).","title":"Maven Tycho compilation failure","body":"<p>You have to specify the source level in your <code>pom.xml</code> file:</p>\n\n<pre><code>&lt;project&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n  &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>This has nothing to do with tycho, it is the compiler plugin.</p>\n\n<p>You can alternatively configure the plugin itself.</p>\n\n<p>Please refer to <a href=\"https://maven.apache.org/plugins/maven-compiler-plugin/examples/set-compiler-source-and-target.html\" rel=\"nofollow noreferrer\">this page</a>.</p>\n"},{"tags":[],"owner":{"account_id":2442113,"reputation":576,"user_id":2130309,"display_name":"Bằng"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1528888790,"creation_date":1528888790,"answer_id":50835918,"question_id":50832339,"body_markdown":"As mentioned in [the tycho-compiler-plugin documentation][1], the information in file ***.settings/org.eclipse.jdt.core.prefs*** will be passed to the compiler. \r\n\r\nIt is necessary then to update the file as follow:\r\n\r\n    org.eclipse.jdt.core.compiler.codegen.targetPlatform=1.8\r\n    org.eclipse.jdt.core.compiler.compliance=1.8\r\n    org.eclipse.jdt.core.compiler.source=1.8\r\n\r\n  [1]: https://www.eclipse.org/tycho/sitedocs/tycho-compiler-plugin/compile-mojo.html#useProjectSettings","title":"Maven Tycho compilation failure","body":"<p>As mentioned in <a href=\"https://www.eclipse.org/tycho/sitedocs/tycho-compiler-plugin/compile-mojo.html#useProjectSettings\" rel=\"noreferrer\">the tycho-compiler-plugin documentation</a>, the information in file <strong><em>.settings/org.eclipse.jdt.core.prefs</em></strong> will be passed to the compiler. </p>\n\n<p>It is necessary then to update the file as follow:</p>\n\n<pre><code>org.eclipse.jdt.core.compiler.codegen.targetPlatform=1.8\norg.eclipse.jdt.core.compiler.compliance=1.8\norg.eclipse.jdt.core.compiler.source=1.8\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5254099,"reputation":1061,"user_id":4197431,"display_name":"Ralf Renz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632735274,"creation_date":1632735274,"answer_id":69344390,"question_id":50832339,"body_markdown":"I had the same problem and the solution was to set JAVA_HOME to the right JDK.","title":"Maven Tycho compilation failure","body":"<p>I had the same problem and the solution was to set JAVA_HOME to the right JDK.</p>\n"}],"owner":{"account_id":2442113,"reputation":576,"user_id":2130309,"display_name":"Bằng"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1888,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":50835918,"answer_count":3,"score":3,"last_activity_date":1632735274,"creation_date":1528877928,"question_id":50832339,"body_markdown":"I am using maven and tycho plug-in to build an eclipse RCP application. I use some java 8 features like lambda expression, but it could not build correctly because of compilation failure.\r\n\r\n    [ERROR] Failed to execute goal org.eclipse.tycho:tycho-compiler-plugin:1.0.0:compile (default-compile) on project ***.***: Compilation failure: Compilation failure:      \r\n    [ERROR] \t.filter(Objects::nonNull)\r\n    [ERROR] \t        ^^^^^^^^^^^^^^^^\r\n    [ERROR] Method references are allowed only at source level 1.8 or above\r\n    [ERROR] 2 problems (2 errors)\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR] \r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR] \r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n\r\nMy questions are:\r\n\r\n - Do you think the files **.settings/org.eclipse.jdt.core.prefs** and **.classpath** (I guess not for this one) are necessary for the build of maven tycho? Do I have to explicitly define java 8 in those files?\r\n - Do I have to specify something else in the **pom** files?\r\n\r\n ","title":"Maven Tycho compilation failure","body":"<p>I am using maven and tycho plug-in to build an eclipse RCP application. I use some java 8 features like lambda expression, but it could not build correctly because of compilation failure.</p>\n\n<pre><code>[ERROR] Failed to execute goal org.eclipse.tycho:tycho-compiler-plugin:1.0.0:compile (default-compile) on project ***.***: Compilation failure: Compilation failure:      \n[ERROR]     .filter(Objects::nonNull)\n[ERROR]             ^^^^^^^^^^^^^^^^\n[ERROR] Method references are allowed only at source level 1.8 or above\n[ERROR] 2 problems (2 errors)\n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n\n<p>My questions are:</p>\n\n<ul>\n<li>Do you think the files <strong>.settings/org.eclipse.jdt.core.prefs</strong> and <strong>.classpath</strong> (I guess not for this one) are necessary for the build of maven tycho? Do I have to explicitly define java 8 in those files?</li>\n<li>Do I have to specify something else in the <strong>pom</strong> files?</li>\n</ul>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":5258135,"reputation":177,"user_id":4989143,"display_name":"Stomf"},"score":0,"creation_date":1632737000,"post_id":69344324,"comment_id":122564910,"body_markdown":"Are these methods getting called from within the same class?","body":"Are these methods getting called from within the same class?"},{"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"score":0,"creation_date":1632737376,"post_id":69344324,"comment_id":122565045,"body_markdown":"no, `update` is called on base class and `afterUpdate` is called on derived class.","body":"no, <code>update</code> is called on base class and <code>afterUpdate</code> is called on derived class."}],"owner":{"account_id":2879573,"reputation":8521,"user_id":2470765,"accept_rate":59,"display_name":"michal.jakubeczy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632735005,"creation_date":1632735005,"question_id":69344324,"body_markdown":"I use following methods to save changes to the database:\r\n\r\nBaseService.java\r\n```\r\n    @Transactional\r\n    public void update(TEntity entity) {\r\n        entityManager.merge(entity);\r\n        afterUpdate(entity);\r\n    }\r\n\r\n    @Transactional\r\n    public void afterUpdate(TEntity entity) {\r\n        // can be implemented in derived class to handle &#39;after&#39; update operations\r\n    }\r\n```\r\n\r\nIn one of the derived classes I override `afterUpdate` method in a following way:\r\n\r\n```\r\n    @Transactional\r\n    @Override\r\n    public void afterUpdate(Entity entity) {\r\n        entity.setProperties(...);\r\n        entityManager.merge(entity);\r\n    }\r\n```\r\n\r\nBut the `merge` does not save any changes - it does not trigger any SQL statement to database. As far as I know is that `merge` does not trigger SQL statement immediately but after the method annotated with `Transactional` ends it should save it to the database.\r\n\r\nBut it does not happen in this case.\r\n\r\nIf I put `entityManager.flush();` after `entityManager.merge(entity);` in `afterUpdate` it works fine.\r\n\r\nBut my goal is to avoid `flush` as I think it is not necessary here (`Transactional` should take care of it). \r\n\r\nWhat am I doing wrong so it is not saved without explicit calling of `flush`?","title":"Hibernate - Transactional does not save changes","body":"<p>I use following methods to save changes to the database:</p>\n<p>BaseService.java</p>\n<pre><code>    @Transactional\n    public void update(TEntity entity) {\n        entityManager.merge(entity);\n        afterUpdate(entity);\n    }\n\n    @Transactional\n    public void afterUpdate(TEntity entity) {\n        // can be implemented in derived class to handle 'after' update operations\n    }\n</code></pre>\n<p>In one of the derived classes I override <code>afterUpdate</code> method in a following way:</p>\n<pre><code>    @Transactional\n    @Override\n    public void afterUpdate(Entity entity) {\n        entity.setProperties(...);\n        entityManager.merge(entity);\n    }\n</code></pre>\n<p>But the <code>merge</code> does not save any changes - it does not trigger any SQL statement to database. As far as I know is that <code>merge</code> does not trigger SQL statement immediately but after the method annotated with <code>Transactional</code> ends it should save it to the database.</p>\n<p>But it does not happen in this case.</p>\n<p>If I put <code>entityManager.flush();</code> after <code>entityManager.merge(entity);</code> in <code>afterUpdate</code> it works fine.</p>\n<p>But my goal is to avoid <code>flush</code> as I think it is not necessary here (<code>Transactional</code> should take care of it).</p>\n<p>What am I doing wrong so it is not saved without explicit calling of <code>flush</code>?</p>\n"},{"tags":["java","iteration"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1632734298,"post_id":69344135,"comment_id":122563774,"body_markdown":"One thing that certainly isn&#39;t right is that you print the same variable/value for &quot;Amount&quot;, &quot;Transaction Line&quot; and &quot;Running Balance&quot; almost everywhere. I&#39;m sure that the variable `amt` doesn&#39;t represent all those values","body":"One thing that certainly isn&#39;t right is that you print the same variable/value for &quot;Amount&quot;, &quot;Transaction Line&quot; and &quot;Running Balance&quot; almost everywhere. I&#39;m sure that the variable <code>amt</code> doesn&#39;t represent all those values"},{"owner":{"account_id":20503604,"reputation":21,"user_id":15046975,"display_name":"Fly Wolfsbane"},"score":0,"creation_date":1632734567,"post_id":69344135,"comment_id":122563884,"body_markdown":"Oh right, thanks for noticing that. My eyes are twisted by looking at the code. I&#39;ve edited that bit but now it only adds the bal and amount, and not subtracting it even though it&#39;s a negative. I&#39;m updated the question with latest changes too","body":"Oh right, thanks for noticing that. My eyes are twisted by looking at the code. I&#39;ve edited that bit but now it only adds the bal and amount, and not subtracting it even though it&#39;s a negative. I&#39;m updated the question with latest changes too"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1632734706,"post_id":69344135,"comment_id":122563950,"body_markdown":"Please format your code properly. It&#39;ll make your code better readable, for both yourself and future readers.","body":"Please format your code properly. It&#39;ll make your code better readable, for both yourself and future readers."},{"owner":{"account_id":20503604,"reputation":21,"user_id":15046975,"display_name":"Fly Wolfsbane"},"score":0,"creation_date":1632736074,"post_id":69344135,"comment_id":122564506,"body_markdown":"I&#39;m not quite sure how to place the input amount in the next line though. It really starts from the top. and it doesnt end","body":"I&#39;m not quite sure how to place the input amount in the next line though. It really starts from the top. and it doesnt end"}],"owner":{"account_id":20503604,"reputation":21,"user_id":15046975,"display_name":"Fly Wolfsbane"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632734900,"creation_date":1632734132,"question_id":69344135,"body_markdown":"I&#39;m having trouble correcting the below code. It doesn&#39;t give me any syntax error, but I know there&#39;s some logic code behind it and I can&#39;t point it out, and correct it. \r\n\r\nI&#39;m still new to coding so I have to learn from your assistance on this.\r\nThank you!\r\n\r\nHere&#39;s the problem that I&#39;m supposed to make the code on:\r\n\r\n```\r\nMake a simple checkbook balancer that would input a sequence of \r\ndeposits (positive floating-point values) and \r\nissuances (negative floating-point values) terminated by a 0. \r\nIt would output the transaction type, the amount and the running balance for each entry. \r\nAssume the initial balance of 0. Ensure that the issued check won’t bounce!\r\n```\r\n\r\n\r\n\r\n```\r\nimport java.util.*;\r\nimport java.lang.*;\r\n\r\npublic class Checkbook{\r\n\tpublic static void main (String[]args){\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\tfloat bal=0, amt=0;\r\n\t\tchar reply;\r\n\r\n\t\tdo{\r\n\t\t\tSystem.out.print(&quot;Input Amount: &quot;);\r\n\t\t\tamt=input.nextInt();\r\n\t\t\tif(amt&gt;0){\r\n\r\n\t\t\t\tbal+=amt;\r\n\r\n\t\t\t\tSystem.out.print(&quot;\\nAmount: &quot; +amt);\r\n\t\t\t\tSystem.out.print(&quot;\\nTransaction Line: Deposit&quot;);\r\n\t\t\t\tSystem.out.print(&quot;\\nRunning Balance: &quot; +bal);\r\n\t\t\t\t;\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\telse if(amt&lt;0 ){\r\n\r\n\t\t\t\tbal-=amt;\r\n\r\n\t\t\t\tSystem.out.print(&quot;\\nAmount: &quot; +Math.abs(amt));\r\n\t\t\t\tSystem.out.print(&quot;\\nTransaction Line: Issuance&quot;);\r\n\t\t\t\tSystem.out.print(&quot;\\nRunning Balance: &quot; +bal);\r\n\t\t\t\t;\r\n\t\t\t\t}\r\n\t\t\telse\r\n\r\n\t\t\t\tdo{\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Hello world!&quot;);\r\n\t\t\t\t\t\t\tSystem.out.println(&quot;Again? [y/n]&quot;);\r\n\t\t\t\t\t\t\treply=input.next().charAt(0);\t\r\n\t\t\t\t}while(reply!=&#39;n&#39;);\r\n\r\n\r\n\r\n\t\t}while(bal!=0);\r\n\r\n\t}\r\n}\r\n```\r\n\r\n\r\nThis is how it currently looks like.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3Q6XV.png","title":"Java Checkbook Balancer","body":"<p>I'm having trouble correcting the below code. It doesn't give me any syntax error, but I know there's some logic code behind it and I can't point it out, and correct it.</p>\n<p>I'm still new to coding so I have to learn from your assistance on this.\nThank you!</p>\n<p>Here's the problem that I'm supposed to make the code on:</p>\n<pre><code>Make a simple checkbook balancer that would input a sequence of \ndeposits (positive floating-point values) and \nissuances (negative floating-point values) terminated by a 0. \nIt would output the transaction type, the amount and the running balance for each entry. \nAssume the initial balance of 0. Ensure that the issued check won’t bounce!\n</code></pre>\n<pre><code>import java.util.*;\nimport java.lang.*;\n\npublic class Checkbook{\n    public static void main (String[]args){\n        Scanner input = new Scanner(System.in);\n        float bal=0, amt=0;\n        char reply;\n\n        do{\n            System.out.print(&quot;Input Amount: &quot;);\n            amt=input.nextInt();\n            if(amt&gt;0){\n\n                bal+=amt;\n\n                System.out.print(&quot;\\nAmount: &quot; +amt);\n                System.out.print(&quot;\\nTransaction Line: Deposit&quot;);\n                System.out.print(&quot;\\nRunning Balance: &quot; +bal);\n                ;\n                }\n\n\n            else if(amt&lt;0 ){\n\n                bal-=amt;\n\n                System.out.print(&quot;\\nAmount: &quot; +Math.abs(amt));\n                System.out.print(&quot;\\nTransaction Line: Issuance&quot;);\n                System.out.print(&quot;\\nRunning Balance: &quot; +bal);\n                ;\n                }\n            else\n\n                do{\n                            System.out.println(&quot;Hello world!&quot;);\n                            System.out.println(&quot;Again? [y/n]&quot;);\n                            reply=input.next().charAt(0);   \n                }while(reply!='n');\n\n\n\n        }while(bal!=0);\n\n    }\n}\n</code></pre>\n<p>This is how it currently looks like.\n<a href=\"https://i.stack.imgur.com/3Q6XV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3Q6XV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","utf-8","multibyte","tamil"],"comments":[{"owner":{"account_id":5852847,"reputation":1341,"user_id":4611027,"accept_rate":81,"display_name":"Syed Mhamudul Hasan"},"score":0,"creation_date":1462867758,"post_id":37132530,"comment_id":61804817,"body_markdown":"Add your codes and share where  your problems are ?","body":"Add your codes and share where  your problems are ?"},{"owner":{"account_id":3572426,"reputation":195,"user_id":2982430,"accept_rate":45,"display_name":"pankti"},"score":0,"creation_date":1462868144,"post_id":37132530,"comment_id":61805056,"body_markdown":"please refer edits","body":"please refer edits"},{"owner":{"account_id":1068073,"reputation":875,"user_id":1068054,"display_name":"Jan Henke"},"score":0,"creation_date":1462871087,"post_id":37132530,"comment_id":61806845,"body_markdown":"Your Java code. Please include a [MCVE]. Also which console are you using?","body":"Your Java code. Please include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also which console are you using?"},{"owner":{"account_id":3572426,"reputation":195,"user_id":2982430,"accept_rate":45,"display_name":"pankti"},"score":0,"creation_date":1462946736,"post_id":37132530,"comment_id":61845424,"body_markdown":"Edited code. Actually I am running an applet file. Java console enabled at system level (i.e in Java Control Panel). I want to c tamil text in this console.","body":"Edited code. Actually I am running an applet file. Java console enabled at system level (i.e in Java Control Panel). I want to c tamil text in this console."}],"answers":[{"tags":[],"owner":{"account_id":1299032,"reputation":5308,"user_id":1249325,"accept_rate":50,"display_name":"KhAn SaAb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462874382,"creation_date":1462868201,"answer_id":37132827,"question_id":37132530,"body_markdown":" - **First Solution**\r\n\r\nI&#39;m not sure but you can use open tamil jar for it.\r\n\r\n[see this][1] might help you.\r\n\r\n\r\n - **Second Solution**\r\n\r\nGot to project Properties-&gt; Resource-&gt;change the Radio button to &quot;Other&quot;-&gt; and select &quot;UTF-8&quot; from drop down.\r\n\r\n[![See the screen shot.][2]][2]\r\n\r\n\r\nIn my eclipse its working.\r\n[![Output][3]][3]\r\n\r\n\r\n  [1]: https://ezhillang.wordpress.com/2015/06/07/open-tamil-java-usage/\r\n  [2]: http://i.stack.imgur.com/wzXX5.png\r\n  [3]: http://i.stack.imgur.com/MVPtI.png","title":"Multibyte character display in Java console","body":"<ul>\n<li><strong>First Solution</strong></li>\n</ul>\n\n<p>I'm not sure but you can use open tamil jar for it.</p>\n\n<p><a href=\"https://ezhillang.wordpress.com/2015/06/07/open-tamil-java-usage/\" rel=\"nofollow noreferrer\">see this</a> might help you.</p>\n\n<ul>\n<li><strong>Second Solution</strong></li>\n</ul>\n\n<p>Got to project Properties-> Resource->change the Radio button to \"Other\"-> and select \"UTF-8\" from drop down.</p>\n\n<p><a href=\"https://i.stack.imgur.com/wzXX5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wzXX5.png\" alt=\"See the screen shot.\"></a></p>\n\n<p>In my eclipse its working.\n<a href=\"https://i.stack.imgur.com/MVPtI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MVPtI.png\" alt=\"Output\"></a></p>\n"},{"tags":[],"owner":{"account_id":8412470,"reputation":65,"user_id":6313907,"display_name":"thread-game"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1462870692,"creation_date":1462870692,"answer_id":37133686,"question_id":37132530,"body_markdown":"If you use Eclipse Ide change bottom configurations and try.\r\n\r\nWindow &gt; Preferences &gt; General &gt; Content Types, set UTF-8 as the default encoding for all content types.\r\nWindow &gt; Preferences &gt; General &gt; Workspace, set &quot;Text file encoding&quot; to &quot;Other : UTF-8&quot;.","title":"Multibyte character display in Java console","body":"<p>If you use Eclipse Ide change bottom configurations and try.</p>\n\n<p>Window > Preferences > General > Content Types, set UTF-8 as the default encoding for all content types.\nWindow > Preferences > General > Workspace, set \"Text file encoding\" to \"Other : UTF-8\".</p>\n"}],"owner":{"account_id":3572426,"reputation":195,"user_id":2982430,"accept_rate":45,"display_name":"pankti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1335,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1632734801,"creation_date":1462867289,"question_id":37132530,"body_markdown":"I have some text to be printed in Tamil. How can I get it printed in Tamil on Java console. I&#39;m testing a piece of code and for debugging I require to see the text being printed.\r\n\r\n     public static void main(String[] args) {\r\n        String str = &quot;வீடிவீடிவீடிவீடிவீடி&quot;;\r\n        System.out.println(&quot;String is : &quot;+str);\r\n     }\r\n\r\nShows output in java console as \r\n\r\n    String is : ?????????????","title":"Multibyte character display in Java console","body":"<p>I have some text to be printed in Tamil. How can I get it printed in Tamil on Java console. I'm testing a piece of code and for debugging I require to see the text being printed.</p>\n\n<pre><code> public static void main(String[] args) {\n    String str = \"வீடிவீடிவீடிவீடிவீடி\";\n    System.out.println(\"String is : \"+str);\n }\n</code></pre>\n\n<p>Shows output in java console as </p>\n\n<pre><code>String is : ?????????????\n</code></pre>\n"},{"tags":["java","websocket","okhttp","stomp"],"answers":[{"tags":[],"owner":{"account_id":18525828,"reputation":11,"user_id":13497749,"display_name":"Johannes Losch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632734796,"creation_date":1632734796,"answer_id":69344277,"question_id":69343891,"body_markdown":"For dev usage I personally prefer the local solution. This means that you use the same WIFI as you server and use the public IP address of that server as IP.\r\n\r\nFor example your configuration looks like that (on local network site)\r\nrouter is running on 10.0.0.1\r\nserver is running on 10.0.0.24\r\nclient is running on 10.0.0.50\r\n\r\nso the web socket would run on `&quot;ws://10.0.0.24:8080/im/websocket&quot;`","title":"I am currently trying to create an program that can send data from browser to android app","body":"<p>For dev usage I personally prefer the local solution. This means that you use the same WIFI as you server and use the public IP address of that server as IP.</p>\n<p>For example your configuration looks like that (on local network site)\nrouter is running on 10.0.0.1\nserver is running on 10.0.0.24\nclient is running on 10.0.0.50</p>\n<p>so the web socket would run on <code>&quot;ws://10.0.0.24:8080/im/websocket&quot;</code></p>\n"}],"owner":{"account_id":20268132,"reputation":11,"user_id":14864875,"display_name":"Joe Tan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1632786635,"answer_count":1,"score":1,"last_activity_date":1632734796,"creation_date":1632733087,"question_id":69343891,"body_markdown":"I am currently trying to create an program that can send data from browser to android app, in this I am successfully able to do so only from browser to Android Studio Virtual Machine. However I would like to send data from the browser to the app on my phone, how would I need to change my ADDRESS to make it work?\r\n\r\nEdit: Do I have to use the same wifi to make it work?\r\n\r\n     //&lt;code&gt;im&lt;/code&gt; in address is the endpoint configured in server.\r\n\t //If you are using AVD provided by Android Studio, you should uncomment the upper address.\r\n\t //If you are using Genymotion, nothing else to do.\r\n\r\n\r\n\r\n    public class Const {\r\n\tpublic static final String TAG = &quot;xlui&quot;;\r\n\tpublic static final String placeholder = &quot;placeholder&quot;;\r\n\t \r\n\tprivate static final String ADDRESS = &quot;ws://10.0.2.2:8080/im/websocket&quot;;//for android vm\r\n\t//public static final String address = &quot;ws://10.0.3.2:8080/im/websocket&quot;;//for Genymotion\r\n\r\n\tpublic static final String broadcast = &quot;/broadcast&quot;;\r\n\tpublic static final String broadcastResponse = &quot;/b&quot;;\r\n\t// replace {@code placeholder} with group id\r\n\tpublic static final String group = &quot;/group/&quot; + placeholder;\r\n\tpublic static final String groupResponse = &quot;/g/&quot; + placeholder;\r\n\tpublic static final String chat = &quot;/chat&quot;;\r\n\t// replace {@code placeholder} with user id\r\n\tpublic static final String chatResponse = &quot;/user/&quot; + placeholder + &quot;/msg&quot;;\r\n    }","title":"I am currently trying to create an program that can send data from browser to android app","body":"<p>I am currently trying to create an program that can send data from browser to android app, in this I am successfully able to do so only from browser to Android Studio Virtual Machine. However I would like to send data from the browser to the app on my phone, how would I need to change my ADDRESS to make it work?</p>\n<p>Edit: Do I have to use the same wifi to make it work?</p>\n<pre><code> //&lt;code&gt;im&lt;/code&gt; in address is the endpoint configured in server.\n //If you are using AVD provided by Android Studio, you should uncomment the upper address.\n //If you are using Genymotion, nothing else to do.\n\n\n\npublic class Const {\npublic static final String TAG = &quot;xlui&quot;;\npublic static final String placeholder = &quot;placeholder&quot;;\n \nprivate static final String ADDRESS = &quot;ws://10.0.2.2:8080/im/websocket&quot;;//for android vm\n//public static final String address = &quot;ws://10.0.3.2:8080/im/websocket&quot;;//for Genymotion\n\npublic static final String broadcast = &quot;/broadcast&quot;;\npublic static final String broadcastResponse = &quot;/b&quot;;\n// replace {@code placeholder} with group id\npublic static final String group = &quot;/group/&quot; + placeholder;\npublic static final String groupResponse = &quot;/g/&quot; + placeholder;\npublic static final String chat = &quot;/chat&quot;;\n// replace {@code placeholder} with user id\npublic static final String chatResponse = &quot;/user/&quot; + placeholder + &quot;/msg&quot;;\n}\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632729427,"creation_date":1632729427,"answer_id":69343043,"question_id":69342822,"body_markdown":"For example you can try to use a quicksort algorithm, but every time you make a swap of two elements you increase an inversion counter. This way you&#39;ll get the number of inversions in O(n*log(n)) time.","title":"Check solvability for the 8-puzzle problem without using O(n&#178;) time","body":"<p>For example you can try to use a quicksort algorithm, but every time you make a swap of two elements you increase an inversion counter. This way you'll get the number of inversions in O(n*log(n)) time.</p>\n"}],"owner":{"account_id":22259865,"reputation":139,"user_id":16491467,"display_name":"Akcore"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632734646,"creation_date":1632728157,"question_id":69342822,"body_markdown":"When checking whether the 8-puzzle assignment problem can be solved, we need to check invertability. The most intuitive way is to use a **double for loop** and iterate through the list. Is there a way of checking for invertability without being O(n&#178;) time?","title":"Check solvability for the 8-puzzle problem without using O(n&#178;) time","body":"<p>When checking whether the 8-puzzle assignment problem can be solved, we need to check invertability. The most intuitive way is to use a <strong>double for loop</strong> and iterate through the list. Is there a way of checking for invertability without being O(n²) time?</p>\n"},{"tags":["java","ant","jar","fileutils"],"answers":[{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":38,"is_accepted":true,"score":38,"last_activity_date":1351712882,"creation_date":1351712882,"answer_id":13166389,"question_id":13166350,"body_markdown":"Open the project&#39;s properties---&gt; Java Build Path ---&gt; Libraries tab ---&gt; Add External Jars\r\n\r\nwill allow you to add jars. \r\n\r\nYou need to download [commonsIO from here][1].\r\n\r\n\r\n  [1]: http://commons.apache.org/io/","title":"Using FileUtils in eclipse","body":"<p>Open the project's properties---> Java Build Path ---> Libraries tab ---> Add External Jars</p>\n\n<p>will allow you to add jars. </p>\n\n<p>You need to download <a href=\"http://commons.apache.org/io/\" rel=\"noreferrer\">commonsIO from here</a>.</p>\n"},{"tags":[],"owner":{"account_id":1293741,"reputation":4913,"user_id":1245337,"accept_rate":100,"display_name":"atish shimpi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1422076298,"creation_date":1422076298,"answer_id":28122507,"question_id":13166350,"body_markdown":"`FileUtils` is class from apache `org.apache.commons.io` package, you need to download `org.apache.commons.io.jar` and then configure that `jar` file in your class path.","title":"Using FileUtils in eclipse","body":"<p><code>FileUtils</code> is class from apache <code>org.apache.commons.io</code> package, you need to download <code>org.apache.commons.io.jar</code> and then configure that <code>jar</code> file in your class path.</p>\n"},{"tags":[],"owner":{"account_id":13247830,"reputation":11,"user_id":9566352,"display_name":"HARIPRASAD H K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1541506372,"creation_date":1522269699,"answer_id":49543818,"question_id":13166350,"body_markdown":"I have come accross the above issue. I have solved it as below. Its working fine for me.\r\n\r\n1. Download the &#39;org.apache.commons.io.jar&#39; file on navigating to [org.apache.commons.io.FileUtils] [ http://www.java2s.com/Code/Jar/o/Downloadorgapachecommonsiojar.htm ]\r\n\r\n2. Extract the downloaded zip file to a specified folder.\r\n3. Update the project properties by using below navigation\r\n   Right click on project&gt;Select Properties&gt;Select Java Build Path&gt;\r\nClick Libraries tab&gt;Click Add External Class Folder button&gt;Select the folder where zip file is extracted for org.apache.commons.io.FileUtils.zip file.\r\n\r\n4. Now access the File Utils. \r\n\r\n","title":"Using FileUtils in eclipse","body":"<p>I have come accross the above issue. I have solved it as below. Its working fine for me.</p>\n\n<ol>\n<li><p>Download the 'org.apache.commons.io.jar' file on navigating to [org.apache.commons.io.FileUtils] [ <a href=\"http://www.java2s.com/Code/Jar/o/Downloadorgapachecommonsiojar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/o/Downloadorgapachecommonsiojar.htm</a> ]</p></li>\n<li><p>Extract the downloaded zip file to a specified folder.</p></li>\n<li><p>Update the project properties by using below navigation\nRight click on project>Select Properties>Select Java Build Path>\nClick Libraries tab>Click Add External Class Folder button>Select the folder where zip file is extracted for org.apache.commons.io.FileUtils.zip file.</p></li>\n<li><p>Now access the File Utils. </p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8795241,"reputation":109,"user_id":6573326,"display_name":"dom thomas"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1526014973,"creation_date":1525950388,"answer_id":50271499,"question_id":13166350,"body_markdown":"Now selenium supports following code: \r\n\r\n    FileHandler.copy(src, dest);","title":"Using FileUtils in eclipse","body":"<p>Now selenium supports following code: </p>\n\n<pre><code>FileHandler.copy(src, dest);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13835809,"reputation":61,"user_id":9987362,"display_name":"Sureshbabu T"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1529914987,"creation_date":1529905791,"answer_id":51017002,"question_id":13166350,"body_markdown":"    &lt;!-- https://mvnrepository.com/artifact/org.apache.directory.studio/org.apache.commons.io --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.directory.studio&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.apache.commons.io&lt;/artifactId&gt;\r\n        &lt;version&gt;2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAdd above dependency in pom.xml file","title":"Using FileUtils in eclipse","body":"<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.apache.directory.studio/org.apache.commons.io --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.directory.studio&lt;/groupId&gt;\n    &lt;artifactId&gt;org.apache.commons.io&lt;/artifactId&gt;\n    &lt;version&gt;2.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Add above dependency in pom.xml file</p>\n"},{"tags":[],"owner":{"account_id":16217474,"reputation":1,"user_id":11709921,"display_name":"vibi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561871951,"creation_date":1561871242,"answer_id":56822542,"question_id":13166350,"body_markdown":"For selenium automation users\r\n\r\n 1. Download Library file from http://www.java2s.com/Code/Jar/o/Downloadorgapachecommonsiojar.htm\r\n 2. Extract\r\n 3. Right click on the proj name from the explorer &gt;&gt; Build path &gt;&gt;Config Build Path","title":"Using FileUtils in eclipse","body":"<p>For selenium automation users</p>\n\n<ol>\n<li>Download Library file from <a href=\"http://www.java2s.com/Code/Jar/o/Downloadorgapachecommonsiojar.htm\" rel=\"nofollow noreferrer\">http://www.java2s.com/Code/Jar/o/Downloadorgapachecommonsiojar.htm</a></li>\n<li>Extract</li>\n<li>Right click on the proj name from the explorer >> Build path >>Config Build Path</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22871692,"reputation":1,"user_id":17014632,"display_name":"ANIKET GULHANE"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1632734636,"creation_date":1632734636,"answer_id":69344238,"question_id":13166350,"body_markdown":"Instead of using FileUtils.copyfile(src,trg);\r\nuse following in Selenium java\r\nFileHandler.copy(src, dest);","title":"Using FileUtils in eclipse","body":"<p>Instead of using FileUtils.copyfile(src,trg);\nuse following in Selenium java\nFileHandler.copy(src, dest);</p>\n"}],"owner":{"account_id":95531,"reputation":184375,"user_id":260127,"accept_rate":93,"display_name":"prosseek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138837,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":13166389,"answer_count":7,"score":27,"last_activity_date":1632734636,"creation_date":1351712680,"question_id":13166350,"body_markdown":"When trying to use `FileUtils` I get &quot;cannot be resolved&quot; error.\r\n\r\n![enter image description here][1]\r\n\r\nThen, how do I install `FileUtils` library to be able to use it in Eclipse? I see it is an Ant utility, but I am not sure how many jars I need to install. \r\n\r\n![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/oPUHn.png\r\n  [2]: http://i.stack.imgur.com/RPW14.png","title":"Using FileUtils in eclipse","body":"<p>When trying to use <code>FileUtils</code> I get \"cannot be resolved\" error.</p>\n\n<p><img src=\"https://i.stack.imgur.com/oPUHn.png\" alt=\"enter image description here\"></p>\n\n<p>Then, how do I install <code>FileUtils</code> library to be able to use it in Eclipse? I see it is an Ant utility, but I am not sure how many jars I need to install. </p>\n\n<p><img src=\"https://i.stack.imgur.com/RPW14.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","put","bytebuffer"],"comments":[{"owner":{"account_id":20818293,"reputation":11,"user_id":17014060,"display_name":"layereight"},"score":0,"creation_date":1632734035,"post_id":69344021,"comment_id":122563664,"body_markdown":"No it doesn&#39;t. Already checked if the getBytes() method might be the cause of the problem.\n\nI used        \n byte[] tmp = type.name().getBytes();\nand it returned an array containing the according letters, e.g. &quot;ClientRequest&quot; and is not null terminated.","body":"No it doesn&#39;t. Already checked if the getBytes() method might be the cause of the problem.  I used          byte[] tmp = type.name().getBytes(); and it returned an array containing the according letters, e.g. &quot;ClientRequest&quot; and is not null terminated."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1632734184,"creation_date":1632734184,"answer_id":69344147,"question_id":69344021,"body_markdown":"I think you may be slightly misinterpreting what is happening here. I note your comment about &quot;but not at the very end of the buffer&quot;.\r\n\r\nThe `\\0` is actually coming from the `putChar(char)` calls, not the `put(byte[])` calls. As it says in [the docs](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/ByteBuffer.html#putChar(char)) (emphasis added):\r\n\r\n&gt; Writes **two** bytes containing the given char value, in the current byte order\r\n\r\nThe default byte order is big endian; given that the chars you are writing are in the 7-bit ASCII range, this means &quot;the byte you want&quot; is going to be preceded by `0x00`.\r\n\r\nIf you want to write a byte, use `put(byte)`:\r\n\r\n```\r\nbuffer.put((byte) &#39;|&#39;);\r\n```","title":"ByteBuffer put method adds 0 after ByteArray","body":"<p>I think you may be slightly misinterpreting what is happening here. I note your comment about &quot;but not at the very end of the buffer&quot;.</p>\n<p>The <code>\\0</code> is actually coming from the <code>putChar(char)</code> calls, not the <code>put(byte[])</code> calls. As it says in <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/nio/ByteBuffer.html#putChar(char)\" rel=\"nofollow noreferrer\">the docs</a> (emphasis added):</p>\n<blockquote>\n<p>Writes <strong>two</strong> bytes containing the given char value, in the current byte order</p>\n</blockquote>\n<p>The default byte order is big endian; given that the chars you are writing are in the 7-bit ASCII range, this means &quot;the byte you want&quot; is going to be preceded by <code>0x00</code>.</p>\n<p>If you want to write a byte, use <code>put(byte)</code>:</p>\n<pre><code>buffer.put((byte) '|');\n</code></pre>\n"}],"owner":{"account_id":20818293,"reputation":11,"user_id":17014060,"display_name":"layereight"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69344147,"answer_count":1,"score":0,"last_activity_date":1632734184,"creation_date":1632733600,"question_id":69344021,"body_markdown":"I currently ran into a actually quite weird problem with the put method of java.nio.bytebuffer and I wondered if you might know the answer to it, so let&#39;s get to it.\r\n\r\nMy goal is it to concatenate some data to a bytebuffer. The problem is after I call the put method it always adds a 0 after the byte array. \r\n\r\nHere is the method which has those side effects:\r\n\r\n        public ByteBuffer toByteBuffer() {\r\n\r\n        ByteBuffer buffer = ByteBuffer.allocateDirect(1024));\r\n        \r\n        buffer.put(type.name().getBytes()); // 0 added here\r\n\r\n        data.forEach((key, value) -&gt; {\r\n            buffer.putChar(&#39;|&#39;);\r\n            buffer.put(key.getBytes()); // 0 added here\r\n            buffer.putChar(&#39;=&#39;);\r\n            buffer.put(value.getBytes()); // 0 added here\r\n        });\r\n\r\n        buffer.flip();\r\n\r\n        return buffer;\r\n    }\r\n\r\nExpected Output should look something like this:\r\n\r\n    ClientData|OAT=14.9926405|FQRIGHT=39.689075|..... \r\n\r\nActual Ouptut where _ represents the 0s:\r\n\r\n    ClientData_|OAT_=14.9926405_|FQRIGHT_=39.689075_|.....\r\n\r\n\r\nThe documentation doesn&#39;t say anything about this side effect. \r\nAlso the put method only puts a 0 in between the byte arrays but not at the very end of the buffer.\r\n\r\nI assume the method might be wrong or at least not properly documented, but I really have no clue why it would behave that way.\r\n\r\n\r\n\r\n\r\n","title":"ByteBuffer put method adds 0 after ByteArray","body":"<p>I currently ran into a actually quite weird problem with the put method of java.nio.bytebuffer and I wondered if you might know the answer to it, so let's get to it.</p>\n<p>My goal is it to concatenate some data to a bytebuffer. The problem is after I call the put method it always adds a 0 after the byte array.</p>\n<p>Here is the method which has those side effects:</p>\n<pre><code>    public ByteBuffer toByteBuffer() {\n\n    ByteBuffer buffer = ByteBuffer.allocateDirect(1024));\n    \n    buffer.put(type.name().getBytes()); // 0 added here\n\n    data.forEach((key, value) -&gt; {\n        buffer.putChar('|');\n        buffer.put(key.getBytes()); // 0 added here\n        buffer.putChar('=');\n        buffer.put(value.getBytes()); // 0 added here\n    });\n\n    buffer.flip();\n\n    return buffer;\n}\n</code></pre>\n<p>Expected Output should look something like this:</p>\n<pre><code>ClientData|OAT=14.9926405|FQRIGHT=39.689075|..... \n</code></pre>\n<p>Actual Ouptut where _ represents the 0s:</p>\n<pre><code>ClientData_|OAT_=14.9926405_|FQRIGHT_=39.689075_|.....\n</code></pre>\n<p>The documentation doesn't say anything about this side effect.\nAlso the put method only puts a 0 in between the byte arrays but not at the very end of the buffer.</p>\n<p>I assume the method might be wrong or at least not properly documented, but I really have no clue why it would behave that way.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1625301511,"post_id":68233843,"comment_id":120595437,"body_markdown":"Are you running your app from `/`? If not, I think your location URLs may be wrong.","body":"Are you running your app from <code>&#47;</code>? If not, I think your location URLs may be wrong."},{"owner":{"account_id":22089652,"reputation":11,"user_id":16347888,"display_name":"lonewolf.py"},"score":0,"creation_date":1625409913,"post_id":68233843,"comment_id":120614897,"body_markdown":"That was a typo","body":"That was a typo"},{"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"score":0,"creation_date":1625423699,"post_id":68233843,"comment_id":120618195,"body_markdown":"What was a typo? The URLs still look wrong to me after your edit. Both of the current answers explain why.","body":"What was a typo? The URLs still look wrong to me after your edit. Both of the current answers explain why."},{"owner":{"account_id":22089652,"reputation":11,"user_id":16347888,"display_name":"lonewolf.py"},"score":0,"creation_date":1625505382,"post_id":68233843,"comment_id":120639425,"body_markdown":"The typo was a single &#39;-&#39; in front of spring.config.location. I didn&#39;t edit the URLs as those are the ones I did use in my command.","body":"The typo was a single &#39;-&#39; in front of spring.config.location. I didn&#39;t edit the URLs as those are the ones I did use in my command."}],"answers":[{"tags":[],"owner":{"account_id":3286371,"reputation":825,"user_id":2765783,"display_name":"LynxZh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625311019,"creation_date":1625311019,"answer_id":68235746,"question_id":68233843,"body_markdown":"Spring boot has explicit indicate how to write this external configuration. See doc ref here: https://docs.spring.io/spring-boot/docs/2.5.2/reference/htmlsingle/#features.external-config.files\r\n\r\nBasically, you need to specify the location like this:\r\n1. --spring.config.location=classpath:/somefolder/somefile.properties\r\n2. --spring.config.location=file:./somefolder/somefile.properties\r\n\r\nFrom your command line, it seems that you are missing one dash, and also using a wrong format of file schema.","title":"Spring not looking in the Config subfolder","body":"<p>Spring boot has explicit indicate how to write this external configuration. See doc ref here: <a href=\"https://docs.spring.io/spring-boot/docs/2.5.2/reference/htmlsingle/#features.external-config.files\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.5.2/reference/htmlsingle/#features.external-config.files</a></p>\n<p>Basically, you need to specify the location like this:</p>\n<ol>\n<li>--spring.config.location=classpath:/somefolder/somefile.properties</li>\n<li>--spring.config.location=file:./somefolder/somefile.properties</li>\n</ol>\n<p>From your command line, it seems that you are missing one dash, and also using a wrong format of file schema.</p>\n"},{"tags":[],"owner":{"account_id":12863622,"reputation":2586,"user_id":9304616,"display_name":"Lebecca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625416319,"creation_date":1625416319,"answer_id":68246804,"question_id":68233843,"body_markdown":"**Q1**: Why are the files in the config directory not being read even after explicitly mentioning where to look?\r\n\r\n**A1**: If your config folder is beside your jar file, your command should be like\r\n\r\n- `java -jar myjar.jar --spring.config.location=file:./config/PROP1.properties`\r\n\r\nmeanwhile, you can also use the full path to target your config file.\r\n\r\n**Q2**: If I don&#39;t mention the properties files names explicitly as an argument then they won&#39;t be picked up even when they are in the config directory\r\n\r\n**A2**: No. See [this doc](https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files), Spring Boot will try to find config files from the four places:\r\n- A /config subdir of the current directory.\r\n- The current directory\r\n- A classpath /config package\r\n- The classpath root\r\n\r\nIf `spring.config.location` is `not` set, files in these folders named `application.properties` will be treated as valid config file. You can change the accepted file name by setting property `spring.config.name`.\r\n\r\n**Q3** About Config File Priority\r\n\r\n**A3** As described in the [doc](https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files) mentioned earlier, if same name properties appear in different config files, locations higher in the list override lower items.\r\n\r\nAnother tip, it will be better to remove config files inside the jar file, so you can get a full view of configuration just in one place (the externalized config folder);\r\n","title":"Spring not looking in the Config subfolder","body":"<p><strong>Q1</strong>: Why are the files in the config directory not being read even after explicitly mentioning where to look?</p>\n<p><strong>A1</strong>: If your config folder is beside your jar file, your command should be like</p>\n<ul>\n<li><code>java -jar myjar.jar --spring.config.location=file:./config/PROP1.properties</code></li>\n</ul>\n<p>meanwhile, you can also use the full path to target your config file.</p>\n<p><strong>Q2</strong>: If I don't mention the properties files names explicitly as an argument then they won't be picked up even when they are in the config directory</p>\n<p><strong>A2</strong>: No. See <a href=\"https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files\" rel=\"nofollow noreferrer\">this doc</a>, Spring Boot will try to find config files from the four places:</p>\n<ul>\n<li>A /config subdir of the current directory.</li>\n<li>The current directory</li>\n<li>A classpath /config package</li>\n<li>The classpath root</li>\n</ul>\n<p>If <code>spring.config.location</code> is <code>not</code> set, files in these folders named <code>application.properties</code> will be treated as valid config file. You can change the accepted file name by setting property <code>spring.config.name</code>.</p>\n<p><strong>Q3</strong> About Config File Priority</p>\n<p><strong>A3</strong> As described in the <a href=\"https://docs.spring.io/spring-boot/docs/1.0.1.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files\" rel=\"nofollow noreferrer\">doc</a> mentioned earlier, if same name properties appear in different config files, locations higher in the list override lower items.</p>\n<p>Another tip, it will be better to remove config files inside the jar file, so you can get a full view of configuration just in one place (the externalized config folder);</p>\n"}],"owner":{"account_id":22089652,"reputation":11,"user_id":16347888,"display_name":"lonewolf.py"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1973,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1632734107,"creation_date":1625294847,"question_id":68233843,"body_markdown":"I am new to Springboot and I am having trouble with externalizing my properties files.\r\nI have multiple &quot;.properties&quot; files that I have kept in a subdirectory &quot;config/&quot;. I have removed context-placeholders from my project and have included the comma-separated properties files while executing the jar.\r\n \r\neg. java -jar myjar.jar --spring.config.location=file:///&lt;path&gt;/config/PROP1.properties, file:///&lt;path&gt;config/PROP2.properties -debug\r\n\r\nI have few questions\r\n1. Why are the files in the config directory not being read even after explicitly mentioning where to look?\r\n2. I have my own dependencies in the project that have same-named properties files packed in its jar. Is that creating any sort of problem when SpringBoot tries to read the files from the config folder while executing my project jar?\r\n\r\n**Update**\r\n\r\nNow I am keeping only a single properties file suppose ABC.properties outside the jar in the same directory . I am using the name &quot;ABC&quot; instead of &quot;application&quot;. I am using the below command\r\n\r\njava -Dserver.log.dir=/path/to/log/dir -jar myjar.jar --server.port=9090 --spring.config.name=ABC --prop1=val1\r\n\r\nI have overriden a property in my external property file but I don&#39;t see the overriden value being used when I run the application. My new questions are\r\n\r\n 1. Is there anything wrong with the command-line?\r\n \r\n 2. I have the following line in xml bean configuration\r\n \r\n    &lt;context:property-placeholder location=&quot;ABC.properties&quot; /&gt;. Is this causing any sort of problems to detect and use the external properties? \r\n 3. If the above is true and I have to remove the line how will SpringBoot understand from where the property values are to be imported?\r\n 4. *(Not related directly to the question)* Is there a order that I need to follow while giving command line arguments?","title":"Spring not looking in the Config subfolder","body":"<p>I am new to Springboot and I am having trouble with externalizing my properties files.\nI have multiple &quot;.properties&quot; files that I have kept in a subdirectory &quot;config/&quot;. I have removed context-placeholders from my project and have included the comma-separated properties files while executing the jar.</p>\n<p>eg. java -jar myjar.jar --spring.config.location=file:////config/PROP1.properties, file:///config/PROP2.properties -debug</p>\n<p>I have few questions</p>\n<ol>\n<li>Why are the files in the config directory not being read even after explicitly mentioning where to look?</li>\n<li>I have my own dependencies in the project that have same-named properties files packed in its jar. Is that creating any sort of problem when SpringBoot tries to read the files from the config folder while executing my project jar?</li>\n</ol>\n<p><strong>Update</strong></p>\n<p>Now I am keeping only a single properties file suppose ABC.properties outside the jar in the same directory . I am using the name &quot;ABC&quot; instead of &quot;application&quot;. I am using the below command</p>\n<p>java -Dserver.log.dir=/path/to/log/dir -jar myjar.jar --server.port=9090 --spring.config.name=ABC --prop1=val1</p>\n<p>I have overriden a property in my external property file but I don't see the overriden value being used when I run the application. My new questions are</p>\n<ol>\n<li><p>Is there anything wrong with the command-line?</p>\n</li>\n<li><p>I have the following line in xml bean configuration</p>\n<p>&lt;context:property-placeholder location=&quot;ABC.properties&quot; /&gt;. Is this causing any sort of problems to detect and use the external properties?</p>\n</li>\n<li><p>If the above is true and I have to remove the line how will SpringBoot understand from where the property values are to be imported?</p>\n</li>\n<li><p><em>(Not related directly to the question)</em> Is there a order that I need to follow while giving command line arguments?</p>\n</li>\n</ol>\n"},{"tags":["java","php","encryption","aes"],"comments":[{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1632726382,"post_id":69342352,"comment_id":122560633,"body_markdown":"On Java you are encoding the ciphertext and IV with Base64**URL**, this is missing in PHP (you are using Base64 instead).","body":"On Java you are encoding the ciphertext and IV with Base64<b>URL</b>, this is missing in PHP (you are using Base64 instead)."}],"answers":[{"tags":[],"owner":{"account_id":7706890,"reputation":1,"user_id":5837570,"display_name":"Rabot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632734064,"creation_date":1632734064,"answer_id":69344118,"question_id":69342352,"body_markdown":"Thx to @Michael\r\n\r\nI use these functions : \r\n```\r\n    function base64url_encode( $data ){\r\n        return rtrim( strtr( base64_encode( $data ), &#39;+/&#39;, &#39;-_&#39;), &#39;=&#39;);\r\n    }\r\n\r\n    function base64url_decode( $data ){\r\n        return base64_decode( strtr( $data, &#39;-_&#39;, &#39;+/&#39;) . str_repeat(&#39;=&#39;, 3 - ( 3 + strlen( $data )) % 4 ));\r\n    }\r\n```\r\n\r\nInstead of base64_encode and base64_decode","title":"Convert encryption script AES/CBC/PKCS5PADDING Java to php","body":"<p>Thx to @Michael</p>\n<p>I use these functions :</p>\n<pre><code>    function base64url_encode( $data ){\n        return rtrim( strtr( base64_encode( $data ), '+/', '-_'), '=');\n    }\n\n    function base64url_decode( $data ){\n        return base64_decode( strtr( $data, '-_', '+/') . str_repeat('=', 3 - ( 3 + strlen( $data )) % 4 ));\n    }\n</code></pre>\n<p>Instead of base64_encode and base64_decode</p>\n"}],"owner":{"account_id":7706890,"reputation":1,"user_id":5837570,"display_name":"Rabot"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632734064,"creation_date":1632725704,"question_id":69342352,"body_markdown":"After 2 weeks of trying every code I found on internet I ask for help...\r\n\r\nI have to convert a java script into php\r\n\r\nI need your help to guide me to the solution\r\n\r\nHere the code of the class\r\n\r\n```\r\nimport java.io.UnsupportedEncodingException;\r\nimport java.security.SecureRandom;\r\nimport java.util.Base64;\r\n\r\nimport javax.crypto.Cipher;\r\nimport javax.crypto.spec.IvParameterSpec;\r\nimport javax.crypto.spec.SecretKeySpec;\r\n\r\nimport org.apache.log4j.Logger;\r\n\r\npublic class DirectLinkCryption {\r\n\r\n\tprivate static final String ALGORITHM = &quot;AES&quot;;\r\n\r\n\tprivate static final String UTF_8 = &quot;UTF-8&quot;;\r\n\r\n\t/**\r\n\t * AES encryption of the data with Cipher Block Chaining (CBC) and padding to fill up the empty bytes.\r\n\t */\r\n\tprivate static final String AES_CBC_PKCS5PADDING = &quot;AES/CBC/PKCS5PADDING&quot;;\r\n\r\n\tprivate IvParameterSpec ivParameterSpec;\r\n\r\n\tpublic DirectLinkCryption() {\r\n\t\tinitIvParameterSpec();\r\n\t}\r\n\r\n\tpublic String getEncryptedParameter(String parameter, String password) {\r\n\t\ttry {\r\n\t\t\tCipher cipher = Cipher.getInstance(AES_CBC_PKCS5PADDING);\r\n\t\t\tcipher.init(Cipher.ENCRYPT_MODE, getSecretKey(password), this.ivParameterSpec);\r\n\r\n\t\t\treturn Base64.getUrlEncoder().encodeToString(cipher.doFinal(parameter.getBytes()));\r\n\t\t} catch (Exception e) {\r\n\t\t\tLogger.getRootLogger().error(String.format(&quot;Could not encrypt parameter &#39;%s&#39;!&quot;, parameter));\r\n\t\t\tLogger.getRootLogger().error(e, e);\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static String getDecryptedParameter(String url, String password, String initializationVector) {\r\n\t\ttry {\r\n\t\t\tCipher cipher = Cipher.getInstance(AES_CBC_PKCS5PADDING);\r\n\t\t\tcipher.init(Cipher.DECRYPT_MODE, getSecretKey(password), new IvParameterSpec(Base64.getUrlDecoder().decode(initializationVector)));\r\n\r\n\t\t\treturn new String(cipher.doFinal(Base64.getUrlDecoder().decode(url)));\r\n\t\t} catch (Exception e) {\r\n\t\t\tLogger.getRootLogger().error(String.format(&quot;Could not decrypt url &#39;%s&#39; with AES 128&quot;, url));\r\n\t\t\tLogger.getRootLogger().error(e, e);\r\n\t\t\treturn &quot;&quot;;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate void initIvParameterSpec() {\r\n\t\tbyte[] ivBytes = new byte[16];\r\n\t\t(new SecureRandom()).nextBytes(ivBytes);\r\n\r\n\t\tthis.ivParameterSpec = new IvParameterSpec(ivBytes);\r\n\t}\r\n\r\n\tpublic String getInitializationVector() {\r\n\t\treturn Base64.getUrlEncoder().encodeToString(this.ivParameterSpec.getIV());\r\n\t}\r\n\r\n\tprivate static SecretKeySpec getSecretKey(String password) {\r\n\t\ttry {\r\n\t\t\treturn new SecretKeySpec(password.getBytes(UTF_8), ALGORITHM);\r\n\t\t} catch (UnsupportedEncodingException e) {\r\n\t\t\tLogger.getRootLogger().error(&quot;Unsupported encoding algorithm! &quot;, e);\r\n\t\t\treturn null;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nI tried a lot of thing, it doesn&#39;t give the same result as the java class but the most common solution is :\r\n\r\n\r\n```\r\n$iv  = base64_encode(openssl_random_pseudo_bytes(openssl_cipher_iv_length(&#39;AES-128-CBC&#39;)));\r\n\r\n$encodedEncryptedData = base64_encode(openssl_encrypt($string, &quot;AES-128-CBC&quot;, $key, OPENSSL_RAW_DATA, base64_decode($iv)));\r\n```\r\n\r\nI also tried with the same IV (fixed) but it doesn&#39;t work either...\r\n\r\nI miss something but I don&#39;t know what.\r\n\r\nThx in advance","title":"Convert encryption script AES/CBC/PKCS5PADDING Java to php","body":"<p>After 2 weeks of trying every code I found on internet I ask for help...</p>\n<p>I have to convert a java script into php</p>\n<p>I need your help to guide me to the solution</p>\n<p>Here the code of the class</p>\n<pre><code>import java.io.UnsupportedEncodingException;\nimport java.security.SecureRandom;\nimport java.util.Base64;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\n\nimport org.apache.log4j.Logger;\n\npublic class DirectLinkCryption {\n\n    private static final String ALGORITHM = &quot;AES&quot;;\n\n    private static final String UTF_8 = &quot;UTF-8&quot;;\n\n    /**\n     * AES encryption of the data with Cipher Block Chaining (CBC) and padding to fill up the empty bytes.\n     */\n    private static final String AES_CBC_PKCS5PADDING = &quot;AES/CBC/PKCS5PADDING&quot;;\n\n    private IvParameterSpec ivParameterSpec;\n\n    public DirectLinkCryption() {\n        initIvParameterSpec();\n    }\n\n    public String getEncryptedParameter(String parameter, String password) {\n        try {\n            Cipher cipher = Cipher.getInstance(AES_CBC_PKCS5PADDING);\n            cipher.init(Cipher.ENCRYPT_MODE, getSecretKey(password), this.ivParameterSpec);\n\n            return Base64.getUrlEncoder().encodeToString(cipher.doFinal(parameter.getBytes()));\n        } catch (Exception e) {\n            Logger.getRootLogger().error(String.format(&quot;Could not encrypt parameter '%s'!&quot;, parameter));\n            Logger.getRootLogger().error(e, e);\n            return &quot;&quot;;\n        }\n    }\n\n    public static String getDecryptedParameter(String url, String password, String initializationVector) {\n        try {\n            Cipher cipher = Cipher.getInstance(AES_CBC_PKCS5PADDING);\n            cipher.init(Cipher.DECRYPT_MODE, getSecretKey(password), new IvParameterSpec(Base64.getUrlDecoder().decode(initializationVector)));\n\n            return new String(cipher.doFinal(Base64.getUrlDecoder().decode(url)));\n        } catch (Exception e) {\n            Logger.getRootLogger().error(String.format(&quot;Could not decrypt url '%s' with AES 128&quot;, url));\n            Logger.getRootLogger().error(e, e);\n            return &quot;&quot;;\n        }\n    }\n\n    private void initIvParameterSpec() {\n        byte[] ivBytes = new byte[16];\n        (new SecureRandom()).nextBytes(ivBytes);\n\n        this.ivParameterSpec = new IvParameterSpec(ivBytes);\n    }\n\n    public String getInitializationVector() {\n        return Base64.getUrlEncoder().encodeToString(this.ivParameterSpec.getIV());\n    }\n\n    private static SecretKeySpec getSecretKey(String password) {\n        try {\n            return new SecretKeySpec(password.getBytes(UTF_8), ALGORITHM);\n        } catch (UnsupportedEncodingException e) {\n            Logger.getRootLogger().error(&quot;Unsupported encoding algorithm! &quot;, e);\n            return null;\n        }\n    }\n\n}\n</code></pre>\n<p>I tried a lot of thing, it doesn't give the same result as the java class but the most common solution is :</p>\n<pre><code>$iv  = base64_encode(openssl_random_pseudo_bytes(openssl_cipher_iv_length('AES-128-CBC')));\n\n$encodedEncryptedData = base64_encode(openssl_encrypt($string, &quot;AES-128-CBC&quot;, $key, OPENSSL_RAW_DATA, base64_decode($iv)));\n</code></pre>\n<p>I also tried with the same IV (fixed) but it doesn't work either...</p>\n<p>I miss something but I don't know what.</p>\n<p>Thx in advance</p>\n"},{"tags":["java","eclipse","currency","converters"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1548081330,"post_id":54292055,"comment_id":95404834,"body_markdown":"if you want other currency symbols, you&#39;ll need to pass another Locale then Locale.US. For Locale.US, the currency is (and will probably always be) USD.","body":"if you want other currency symbols, you&#39;ll need to pass another Locale then Locale.US. For Locale.US, the currency is (and will probably always be) USD."},{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1548082846,"post_id":54292055,"comment_id":95405741,"body_markdown":"Alternatively, you could have your `enum Currency` have a method for formatting, and then use the `from` value to do the formatting.  This avoids some semi-hacky &#39;choose locale which gives me this currency&#39; bit of code somewhere (which could change and give different results in the future).","body":"Alternatively, you could have your <code>enum Currency</code> have a method for formatting, and then use the <code>from</code> value to do the formatting.  This avoids some semi-hacky &#39;choose locale which gives me this currency&#39; bit of code somewhere (which could change and give different results in the future)."}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632734054,"creation_date":1548091864,"answer_id":54295086,"question_id":54292055,"body_markdown":"How about:\r\n\r\n    enum Currency {\r\n\r\n        USD(&quot;United States Dollar&quot;, Locale.US),\r\n        GBP(&quot;Great Britain Pound&quot;, Locale.UK),\r\n        AUD(&quot;Australian Dollar&quot;, new Locale(&quot;en&quot;, &quot;AUS&quot;)),\r\n        EUR(&quot;Euro&quot;, /*here little complicated*/ Locale.FRANCE);\r\n\r\n        private final Locale locale;\r\n        private final String description;\r\n\r\n        Currency(String description, Locale locale) {\r\n            this.description = description;\r\n            this.locale = locale;\r\n        }\r\n     \r\n        @Override public String toString() {\r\n            return this.name() + &quot; - &quot; + this.description;\r\n        }\r\n        //... getters\r\n    }\r\n\r\n..extending Currency by a &quot;locale&quot; field. (alternatively `String currency;`)\r\n\r\nAnd then fetch&amp;use it:\r\n\r\n     // Convert\r\n     BigDecimal conversion = convertCurrency(amountInputText);\r\n     // fetch (to) locale\r\n     Locale locale = ((Currency) toOptions.getSelectedItem()).getLocale();\r\n     // ... &amp; apply\r\n     convertText.setText(NumberFormat\r\n                    .getCurrencyInstance(locale)\r\n                    .format(conversion));\r\n\r\nOne (little) problem I see with this solution/formatting, that in the mentioned countries number format are not consistent.\r\n(thousands/decimal separator will change with applied locale) \r\n\r\nEDIT:\r\n\r\n..and even worse/uglier: some of the countries pre-pend their currency symbol others ap-pend. \r\n\r\n\r\n----------\r\n\r\nbetter approach:\r\n\r\n 1. With Currency.symbol:\r\n\r\n        enum Currency {\r\n\r\n          USD(&quot;United States Dollar&quot;, &quot;$&quot;),\r\n          GBP(&quot;Great Britain Pound&quot;, &quot;&#163;&quot;),\r\n          AUD(&quot;Australian Dollar&quot;, &quot;AUD&quot;),\r\n          EUR(&quot;Euro&quot;, &quot;€&quot;);\r\n\r\n          private final String symbol;\r\n         ...\r\n 2. Introduce (static) EnumMap of `&lt;Currency, DecimalFormat&gt;` and pre-fill it: \r\n\r\n    \r\n        private static final Map&lt;Currency, DecimalFormat&gt; SYMBOL2FMT\r\n            = new EnumMap&lt;&gt;(Currency.class) {{\r\n            for (Currency c : Currency.values()) {\r\n                put(c, new DecimalFormat(&quot;###,###.### &quot; + c.getSymbol()));\r\n            }\r\n        }};\r\n 3. bind it together:\r\n\r\n         // Convert ...\r\n         BigDecimal conversion = convertCurrency(amountInputText);\r\n         // fetch (to) symbol\r\n         Currency toCurrency = ((Currency) toOptions.getSelectedItem());\r\n         convertText.setText(SYMBOL2FMT.get(toCurrency).format(conversion));\r\n","title":"How to include currency symbol for the converted currencies?","body":"<p>How about:</p>\n<pre><code>enum Currency {\n\n    USD(&quot;United States Dollar&quot;, Locale.US),\n    GBP(&quot;Great Britain Pound&quot;, Locale.UK),\n    AUD(&quot;Australian Dollar&quot;, new Locale(&quot;en&quot;, &quot;AUS&quot;)),\n    EUR(&quot;Euro&quot;, /*here little complicated*/ Locale.FRANCE);\n\n    private final Locale locale;\n    private final String description;\n\n    Currency(String description, Locale locale) {\n        this.description = description;\n        this.locale = locale;\n    }\n \n    @Override public String toString() {\n        return this.name() + &quot; - &quot; + this.description;\n    }\n    //... getters\n}\n</code></pre>\n<p>..extending Currency by a &quot;locale&quot; field. (alternatively <code>String currency;</code>)</p>\n<p>And then fetch&amp;use it:</p>\n<pre><code> // Convert\n BigDecimal conversion = convertCurrency(amountInputText);\n // fetch (to) locale\n Locale locale = ((Currency) toOptions.getSelectedItem()).getLocale();\n // ... &amp; apply\n convertText.setText(NumberFormat\n                .getCurrencyInstance(locale)\n                .format(conversion));\n</code></pre>\n<p>One (little) problem I see with this solution/formatting, that in the mentioned countries number format are not consistent.\n(thousands/decimal separator will change with applied locale)</p>\n<p>EDIT:</p>\n<p>..and even worse/uglier: some of the countries pre-pend their currency symbol others ap-pend.</p>\n<hr />\n<p>better approach:</p>\n<ol>\n<li><p>With Currency.symbol:</p>\n<pre><code>enum Currency {\n\n  USD(&quot;United States Dollar&quot;, &quot;$&quot;),\n  GBP(&quot;Great Britain Pound&quot;, &quot;£&quot;),\n  AUD(&quot;Australian Dollar&quot;, &quot;AUD&quot;),\n  EUR(&quot;Euro&quot;, &quot;€&quot;);\n\n  private final String symbol;\n ...\n</code></pre>\n</li>\n<li><p>Introduce (static) EnumMap of <code>&lt;Currency, DecimalFormat&gt;</code> and pre-fill it:</p>\n<pre><code>private static final Map&lt;Currency, DecimalFormat&gt; SYMBOL2FMT\n    = new EnumMap&lt;&gt;(Currency.class) {{\n    for (Currency c : Currency.values()) {\n        put(c, new DecimalFormat(&quot;###,###.### &quot; + c.getSymbol()));\n    }\n}};\n</code></pre>\n</li>\n<li><p>bind it together:</p>\n<pre><code> // Convert ...\n BigDecimal conversion = convertCurrency(amountInputText);\n // fetch (to) symbol\n Currency toCurrency = ((Currency) toOptions.getSelectedItem());\n convertText.setText(SYMBOL2FMT.get(toCurrency).format(conversion));\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":9602449,"reputation":13,"user_id":7129473,"display_name":"Sami Gui"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":54295086,"answer_count":1,"score":1,"last_activity_date":1632734054,"creation_date":1548080889,"question_id":54292055,"body_markdown":"I tried to update the Java currency converter application in the following [link](https://stackoverflow.com/questions/16365794/java-currency-converter-gui#_=_).\r\nThis is the code \r\n\r\n       import static javax.swing.JFrame.EXIT_ON_CLOSE;\r\n\r\n        public class Main extends JPanel {\r\n\r\n        enum Currency {\r\n\r\n        USD(&quot;United States Dollar&quot;),\r\n        GBR(&quot;Great Britain Pound&quot;),\r\n        AUD(&quot;Australian Dollar&quot;),\r\n        EUR(&quot;Euro&quot;);\r\n\r\n        private String description;\r\n        Currency(String description) {\r\n\r\n            this.description = description;\r\n\r\n        }\r\n\r\n        @Override public String toString() {\r\n            return this.name() + &quot; - &quot; + this.description;\r\n\r\n        }\r\n    }\r\n    class CurrencyPair {\r\n\r\n        private final Currency from;\r\n        private final Currency to;\r\n\r\n        public CurrencyPair(Currency from, Currency to) {\r\n            this.from = from;\r\n            this.to = to;\r\n        }\r\n\r\n        @Override public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n\r\n            CurrencyPair that = (CurrencyPair) o;\r\n            if (from != that.from) return false;\r\n            return to == that.to;\r\n        }\r\n\r\n        @Override public int hashCode() {\r\n            int result = from.hashCode();\r\n            result = 31 * result + to.hashCode();\r\n            return result;\r\n        }\r\n    }\r\n\r\n    private final Map&lt;CurrencyPair, BigDecimal&gt; exchangeRates = new HashMap&lt;CurrencyPair, BigDecimal&gt;() {{\r\n        put(new CurrencyPair(Main.Currency.USD, Main.Currency.USD), BigDecimal.valueOf(1));\r\n        put(new CurrencyPair(Main.Currency.AUD, Main.Currency.AUD), BigDecimal.valueOf(1));\r\n        put(new CurrencyPair(Main.Currency.EUR, Main.Currency.EUR), BigDecimal.valueOf(1));\r\n        put(new CurrencyPair(Main.Currency.GBR, Main.Currency.GBR), BigDecimal.valueOf(1));\r\n\r\n        put(new CurrencyPair(Main.Currency.USD, Main.Currency.GBR), BigDecimal.valueOf(0.75));\r\n        put(new CurrencyPair(Main.Currency.USD, Main.Currency.AUD), BigDecimal.valueOf(1.33));\r\n        put(new CurrencyPair(Main.Currency.USD, Main.Currency.EUR), BigDecimal.valueOf(0.89));\r\n\r\n        put(new CurrencyPair(Main.Currency.EUR, Main.Currency.USD), BigDecimal.valueOf(1.12));\r\n        put(new CurrencyPair(Main.Currency.EUR, Main.Currency.AUD), BigDecimal.valueOf(1.49));\r\n        put(new CurrencyPair(Main.Currency.EUR, Main.Currency.GBR), BigDecimal.valueOf(0.85));\r\n\r\n        put(new CurrencyPair(Main.Currency.AUD, Main.Currency.USD), BigDecimal.valueOf(0.74));\r\n        put(new CurrencyPair(Main.Currency.AUD, Main.Currency.EUR), BigDecimal.valueOf(0.67));\r\n        put(new CurrencyPair(Main.Currency.AUD, Main.Currency.GBR), BigDecimal.valueOf(0.57));\r\n\r\n        put(new CurrencyPair(Main.Currency.GBR, Main.Currency.USD), BigDecimal.valueOf(1.33));\r\n        put(new CurrencyPair(Main.Currency.GBR, Main.Currency.EUR), BigDecimal.valueOf(1.18));\r\n        put(new CurrencyPair(Main.Currency.GBR, Main.Currency.AUD), BigDecimal.valueOf(1.76));\r\n\r\n    }};\r\n\r\n    public Main() {\r\n        super(new FlowLayout(FlowLayout.LEADING));\r\n\r\n        // Amount\r\n        JTextField amountInput = new JTextField(20);\r\n        JPanel amount = new JPanel();\r\n        amount.add(amountInput);\r\n        amount.setBorder(BorderFactory.createTitledBorder(&quot;Enter Amount&quot;));\r\n        add(amount, BorderLayout.CENTER);\r\n\r\n        // From\r\n        JPanel from = new JPanel();\r\n        JComboBox fromOptions = new JComboBox(Currency.values());\r\n        from.add(fromOptions);\r\n        from.setBorder(BorderFactory.createTitledBorder(&quot;Select currency&quot;));\r\n        add(from, BorderLayout.CENTER);\r\n\r\n        // To\r\n        JComboBox toOptions = new JComboBox(Currency.values());\r\n        JPanel to = new JPanel();\r\n        to.add(toOptions);\r\n        to.setBorder(BorderFactory.createTitledBorder(&quot;Convert to&quot;));\r\n        add(to, BorderLayout.CENTER);\r\n\r\n        // Convert Action\r\n        JLabel convertText = new JLabel();\r\n        JButton convertCmd = new JButton(&quot;Convert&quot;);\r\n        convertCmd.addActionListener(convertAction(amountInput, fromOptions, toOptions, convertText));\r\n        JPanel convert = new JPanel();\r\n        convert.add(convertCmd);\r\n        convert.add(convertText);\r\n        add(convert);\r\n    }\r\n\r\n    private ActionListener convertAction(\r\n            final JTextField amountInput,\r\n            final JComboBox fromOptions,\r\n            final JComboBox toOptions,\r\n            final JLabel convertText) {\r\n\r\n        return new ActionListener() {\r\n            public void actionPerformed(ActionEvent e) {\r\n                // TODO: Needs proper validation\r\n                String amountInputText = amountInput.getText();\r\n                if (&quot;&quot;.equals(amountInputText)) { return; }\r\n\r\n                // Convert\r\n                BigDecimal conversion = convertCurrency(amountInputText);\r\n                convertText.setText(NumberFormat\r\n                        .getCurrencyInstance(Locale.US)\r\n                        .format(conversion));\r\n            }\r\n\r\n            private BigDecimal convertCurrency(String amountInputText) {\r\n                // TODO: Needs proper rounding and precision setting\r\n                CurrencyPair currencyPair = new CurrencyPair(\r\n                        (Currency) fromOptions.getSelectedItem(),\r\n                        (Currency) toOptions.getSelectedItem());\r\n                BigDecimal rate = exchangeRates.get(currencyPair);\r\n                BigDecimal amount = new BigDecimal(amountInputText);\r\n                return amount.multiply(rate);\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame();\r\n        frame.getContentPane().add(new Main());\r\n        frame.setTitle(&quot;Currency Thing&quot;);\r\n        frame.setSize(500, 500);\r\n        frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        frame.setLocationRelativeTo(null);\r\n        frame.setVisible(true);\r\n    }\r\n    }\r\nThe main issue is `.getCurrencyInstance(Locale.US)`. The USD currency symbol appears to all converted results even they are different than USD. \r\n\r\n\r\nI tried to create the `if` clauses to the currency pairs e.g `if(new CurrencyPair(Currency.USD, Currency.USD))` but it is not a good code line.\r\n\r\nI want to implement a solution that any converted result to have their own currency.","title":"How to include currency symbol for the converted currencies?","body":"<p>I tried to update the Java currency converter application in the following <a href=\"https://stackoverflow.com/questions/16365794/java-currency-converter-gui#_=_\">link</a>.\nThis is the code</p>\n<pre><code>   import static javax.swing.JFrame.EXIT_ON_CLOSE;\n\n    public class Main extends JPanel {\n\n    enum Currency {\n\n    USD(&quot;United States Dollar&quot;),\n    GBR(&quot;Great Britain Pound&quot;),\n    AUD(&quot;Australian Dollar&quot;),\n    EUR(&quot;Euro&quot;);\n\n    private String description;\n    Currency(String description) {\n\n        this.description = description;\n\n    }\n\n    @Override public String toString() {\n        return this.name() + &quot; - &quot; + this.description;\n\n    }\n}\nclass CurrencyPair {\n\n    private final Currency from;\n    private final Currency to;\n\n    public CurrencyPair(Currency from, Currency to) {\n        this.from = from;\n        this.to = to;\n    }\n\n    @Override public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        CurrencyPair that = (CurrencyPair) o;\n        if (from != that.from) return false;\n        return to == that.to;\n    }\n\n    @Override public int hashCode() {\n        int result = from.hashCode();\n        result = 31 * result + to.hashCode();\n        return result;\n    }\n}\n\nprivate final Map&lt;CurrencyPair, BigDecimal&gt; exchangeRates = new HashMap&lt;CurrencyPair, BigDecimal&gt;() {{\n    put(new CurrencyPair(Main.Currency.USD, Main.Currency.USD), BigDecimal.valueOf(1));\n    put(new CurrencyPair(Main.Currency.AUD, Main.Currency.AUD), BigDecimal.valueOf(1));\n    put(new CurrencyPair(Main.Currency.EUR, Main.Currency.EUR), BigDecimal.valueOf(1));\n    put(new CurrencyPair(Main.Currency.GBR, Main.Currency.GBR), BigDecimal.valueOf(1));\n\n    put(new CurrencyPair(Main.Currency.USD, Main.Currency.GBR), BigDecimal.valueOf(0.75));\n    put(new CurrencyPair(Main.Currency.USD, Main.Currency.AUD), BigDecimal.valueOf(1.33));\n    put(new CurrencyPair(Main.Currency.USD, Main.Currency.EUR), BigDecimal.valueOf(0.89));\n\n    put(new CurrencyPair(Main.Currency.EUR, Main.Currency.USD), BigDecimal.valueOf(1.12));\n    put(new CurrencyPair(Main.Currency.EUR, Main.Currency.AUD), BigDecimal.valueOf(1.49));\n    put(new CurrencyPair(Main.Currency.EUR, Main.Currency.GBR), BigDecimal.valueOf(0.85));\n\n    put(new CurrencyPair(Main.Currency.AUD, Main.Currency.USD), BigDecimal.valueOf(0.74));\n    put(new CurrencyPair(Main.Currency.AUD, Main.Currency.EUR), BigDecimal.valueOf(0.67));\n    put(new CurrencyPair(Main.Currency.AUD, Main.Currency.GBR), BigDecimal.valueOf(0.57));\n\n    put(new CurrencyPair(Main.Currency.GBR, Main.Currency.USD), BigDecimal.valueOf(1.33));\n    put(new CurrencyPair(Main.Currency.GBR, Main.Currency.EUR), BigDecimal.valueOf(1.18));\n    put(new CurrencyPair(Main.Currency.GBR, Main.Currency.AUD), BigDecimal.valueOf(1.76));\n\n}};\n\npublic Main() {\n    super(new FlowLayout(FlowLayout.LEADING));\n\n    // Amount\n    JTextField amountInput = new JTextField(20);\n    JPanel amount = new JPanel();\n    amount.add(amountInput);\n    amount.setBorder(BorderFactory.createTitledBorder(&quot;Enter Amount&quot;));\n    add(amount, BorderLayout.CENTER);\n\n    // From\n    JPanel from = new JPanel();\n    JComboBox fromOptions = new JComboBox(Currency.values());\n    from.add(fromOptions);\n    from.setBorder(BorderFactory.createTitledBorder(&quot;Select currency&quot;));\n    add(from, BorderLayout.CENTER);\n\n    // To\n    JComboBox toOptions = new JComboBox(Currency.values());\n    JPanel to = new JPanel();\n    to.add(toOptions);\n    to.setBorder(BorderFactory.createTitledBorder(&quot;Convert to&quot;));\n    add(to, BorderLayout.CENTER);\n\n    // Convert Action\n    JLabel convertText = new JLabel();\n    JButton convertCmd = new JButton(&quot;Convert&quot;);\n    convertCmd.addActionListener(convertAction(amountInput, fromOptions, toOptions, convertText));\n    JPanel convert = new JPanel();\n    convert.add(convertCmd);\n    convert.add(convertText);\n    add(convert);\n}\n\nprivate ActionListener convertAction(\n        final JTextField amountInput,\n        final JComboBox fromOptions,\n        final JComboBox toOptions,\n        final JLabel convertText) {\n\n    return new ActionListener() {\n        public void actionPerformed(ActionEvent e) {\n            // TODO: Needs proper validation\n            String amountInputText = amountInput.getText();\n            if (&quot;&quot;.equals(amountInputText)) { return; }\n\n            // Convert\n            BigDecimal conversion = convertCurrency(amountInputText);\n            convertText.setText(NumberFormat\n                    .getCurrencyInstance(Locale.US)\n                    .format(conversion));\n        }\n\n        private BigDecimal convertCurrency(String amountInputText) {\n            // TODO: Needs proper rounding and precision setting\n            CurrencyPair currencyPair = new CurrencyPair(\n                    (Currency) fromOptions.getSelectedItem(),\n                    (Currency) toOptions.getSelectedItem());\n            BigDecimal rate = exchangeRates.get(currencyPair);\n            BigDecimal amount = new BigDecimal(amountInputText);\n            return amount.multiply(rate);\n        }\n    };\n}\n\n\npublic static void main(String[] args) {\n    JFrame frame = new JFrame();\n    frame.getContentPane().add(new Main());\n    frame.setTitle(&quot;Currency Thing&quot;);\n    frame.setSize(500, 500);\n    frame.setDefaultCloseOperation(EXIT_ON_CLOSE);\n    frame.setLocationRelativeTo(null);\n    frame.setVisible(true);\n}\n}\n</code></pre>\n<p>The main issue is <code>.getCurrencyInstance(Locale.US)</code>. The USD currency symbol appears to all converted results even they are different than USD.</p>\n<p>I tried to create the <code>if</code> clauses to the currency pairs e.g <code>if(new CurrencyPair(Currency.USD, Currency.USD))</code> but it is not a good code line.</p>\n<p>I want to implement a solution that any converted result to have their own currency.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":5889708,"reputation":6453,"user_id":4636715,"accept_rate":100,"display_name":"vahdet"},"score":0,"creation_date":1553844220,"post_id":55412328,"comment_id":97544091,"body_markdown":"Sounds very much alike https://stackoverflow.com/q/44301301/4636715 except `setOnClickListener` is mentioned there. May give you a clue.","body":"Sounds very much alike <a href=\"https://stackoverflow.com/q/44301301/4636715\">stackoverflow.com/q/44301301/4636715</a> except <code>setOnClickListener</code> is mentioned there. May give you a clue."},{"owner":{"account_id":15176340,"reputation":285,"user_id":10950977,"display_name":"Hemu Sharma"},"score":0,"creation_date":1553844454,"post_id":55412328,"comment_id":97544179,"body_markdown":"I am not familiar with kotlin i want to implement it in java.The problem is the listener has no body and suggestions shows ( Function1 &lt;?  super Model, Unit&gt;  ) i am not sure how to use this in java.","body":"I am not familiar with kotlin i want to implement it in java.The problem is the listener has no body and suggestions shows ( Function1 &lt;?  super Model, Unit&gt;  ) i am not sure how to use this in java."},{"owner":{"account_id":7331338,"reputation":990,"user_id":5584127,"accept_rate":100,"display_name":"lambda"},"score":0,"creation_date":1553845566,"post_id":55412328,"comment_id":97544654,"body_markdown":"This link might be helpful: [How to convert a kotlin source file to a java source file](https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file)","body":"This link might be helpful: <a href=\"https://stackoverflow.com/questions/34957430/how-to-convert-a-kotlin-source-file-to-a-java-source-file\">How to convert a kotlin source file to a java source file</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user6680983"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553846261,"creation_date":1553846261,"answer_id":55412847,"question_id":55412328,"body_markdown":"something like This::\r\n\r\n    bottomNavigation.setOnShowListener( new IBottomNavigationListener(Model model)\r\n    {\r\n  \r\n\r\n    } );","title":"Using Kotlin Library in java","body":"<p>something like This::</p>\n\n<pre><code>bottomNavigation.setOnShowListener( new IBottomNavigationListener(Model model)\n{\n\n\n} );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5548553,"reputation":3650,"user_id":4402462,"accept_rate":43,"display_name":"Srikar Reddy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1553850797,"creation_date":1553850797,"answer_id":55413985,"question_id":55412328,"body_markdown":"Function0, Function1, Function2, ... FunctionN are higher-order functions in kotlin.\r\n\r\nAfter converting to java, your click listeners become something like below.\r\n\r\n    // Set Menu Click Listener \r\n    bottomNavigation.setOnClickMenuListener(new Function1&lt;MeowBottomNavigation.Model, Unit&gt;() {\r\n            @Override\r\n            public Unit invoke(MeowBottomNavigation.Model p1) {\r\n                return Unit.INSTANCE;\r\n            }\r\n        });\r\n\r\n    // Set Menu Show listener\r\n    bottomNavigation.setOnShowListener(new Function1&lt;MeowBottomNavigation.Model, Unit&gt;() {\r\n            @Override\r\n            public Unit invoke(MeowBottomNavigation.Model s) {\r\n                return Unit.INSTANCE;\r\n            }\r\n        });","title":"Using Kotlin Library in java","body":"<p>Function0, Function1, Function2, ... FunctionN are higher-order functions in kotlin.</p>\n\n<p>After converting to java, your click listeners become something like below.</p>\n\n<pre><code>// Set Menu Click Listener \nbottomNavigation.setOnClickMenuListener(new Function1&lt;MeowBottomNavigation.Model, Unit&gt;() {\n        @Override\n        public Unit invoke(MeowBottomNavigation.Model p1) {\n            return Unit.INSTANCE;\n        }\n    });\n\n// Set Menu Show listener\nbottomNavigation.setOnShowListener(new Function1&lt;MeowBottomNavigation.Model, Unit&gt;() {\n        @Override\n        public Unit invoke(MeowBottomNavigation.Model s) {\n            return Unit.INSTANCE;\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20455174,"reputation":1,"user_id":15009018,"display_name":"miguelchavezmx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610667665,"creation_date":1610667665,"answer_id":65728484,"question_id":55412328,"body_markdown":"**if you are using fragments**\r\n\r\n//1.-declare fragments globally in your activity\r\n\r\n    private HomeFragment homeFragment = new HomeFragment();\r\n\r\n//2.- declare a method to switch between fragments\r\n\r\n    public void loadFragment(Fragment fragment){\r\n            FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\r\n            transaction.replace(R.id.yourFragmentContainer,fragment);\r\n            transaction.commit();\r\n        }\r\n//3.- in the Set Menu Click/show Listener call the fragment to show\r\n\r\n    // Set Menu Click Listener\r\n\r\n \r\n\r\n \r\n\r\n \r\n\r\n          bottomNavigation.setOnClickMenuListener(new Function1&lt;MeowBottomNavigation.Model, Unit&gt;() {\r\n                    @Override\r\n                    public Unit invoke(MeowBottomNavigation.Model model) {\r\n                        int i = model.getId();\r\n                        switch (i){\r\n                            case  1:\r\n                                loadFragment(homeFragment);\r\n                                break;\r\n                                //...other cases\r\n        \r\n                        }\r\n                        return Unit.INSTANCE;\r\n                    }\r\n                });\r\n            \r\n            // Set Menu Show listener\r\n            bottomNavigation.setOnShowListener(new Function1&lt;MeowBottomNavigation.Model, Unit&gt;() {\r\n                    @Override\r\n                    public Unit invoke(MeowBottomNavigation.Model model) {\r\n                        int i = model.getId();\r\n                        switch (i){\r\n                            case  1:\r\n                                loadFragment(homeFragment);\r\n                                break;\r\n                                //...other cases\r\n                        }\r\n                        return Unit.INSTANCE;\r\n                    }\r\n                });","title":"Using Kotlin Library in java","body":"<p><strong>if you are using fragments</strong></p>\n<p>//1.-declare fragments globally in your activity</p>\n<pre><code>private HomeFragment homeFragment = new HomeFragment();\n</code></pre>\n<p>//2.- declare a method to switch between fragments</p>\n<pre><code>public void loadFragment(Fragment fragment){\n        FragmentTransaction transaction = getSupportFragmentManager().beginTransaction();\n        transaction.replace(R.id.yourFragmentContainer,fragment);\n        transaction.commit();\n    }\n</code></pre>\n<p>//3.- in the Set Menu Click/show Listener call the fragment to show</p>\n<pre><code>// Set Menu Click Listener\n\n\n\n\n\n\n\n      bottomNavigation.setOnClickMenuListener(new Function1&lt;MeowBottomNavigation.Model, Unit&gt;() {\n                @Override\n                public Unit invoke(MeowBottomNavigation.Model model) {\n                    int i = model.getId();\n                    switch (i){\n                        case  1:\n                            loadFragment(homeFragment);\n                            break;\n                            //...other cases\n    \n                    }\n                    return Unit.INSTANCE;\n                }\n            });\n        \n        // Set Menu Show listener\n        bottomNavigation.setOnShowListener(new Function1&lt;MeowBottomNavigation.Model, Unit&gt;() {\n                @Override\n                public Unit invoke(MeowBottomNavigation.Model model) {\n                    int i = model.getId();\n                    switch (i){\n                        case  1:\n                            loadFragment(homeFragment);\n                            break;\n                            //...other cases\n                    }\n                    return Unit.INSTANCE;\n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22871603,"reputation":1,"user_id":17014557,"display_name":"user17014557"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632733885,"creation_date":1632733885,"answer_id":69344092,"question_id":55412328,"body_markdown":"use\r\nimplementation &#39;com.etebarian:meow-bottom-navigation-java:1.2.0&#39;\r\n\r\nfor details watch\r\nhttps://www.youtube.com/watch?v=MiphbOtSyWY ","title":"Using Kotlin Library in java","body":"<p>use\nimplementation 'com.etebarian:meow-bottom-navigation-java:1.2.0'</p>\n<p>for details watch\n<a href=\"https://www.youtube.com/watch?v=MiphbOtSyWY\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=MiphbOtSyWY</a></p>\n"}],"owner":{"account_id":15176340,"reputation":285,"user_id":10950977,"display_name":"Hemu Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3714,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":55413985,"answer_count":4,"score":4,"last_activity_date":1632733885,"creation_date":1553844062,"question_id":55412328,"body_markdown":"I am trying to use a GitHub library (MeowBottomNavigation)in Android Studio.But its written in kotlin and i cant use the listeners in it.\r\nThe only thing which is given is this \r\n\r\n    bottomNavigation.setOnShowListener {\r\n    }\r\n       \r\n    bottomNavigation.setOnClickMenuListener {\r\n    }\r\n\r\nthe suggestions shows to use \r\n\r\n   (Function1&lt;? super Model, Unit&gt;) \r\n\r\ni am not sure as to how to implement this in java . Any help will be appreciated.\r\n\r\n\r\n\r\nI am familiar with java but the library is written in Kotlin. Is there any way to use these listeners in java?\r\n\r\n\r\n\r\n    bottomNavigation.setOnClickMenuListener(new \r\n    Function1&lt;MeowBottomNavigation.Model, Unit&gt;() {\r\n            @Override\r\n            public Unit invoke(MeowBottomNavigation.Model p1) {\r\n                int i = p1.getId();\r\n                switch (i){\r\n                    case 4:\r\n                        Toast.makeText(UserMainActivity.this, i, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    case  1:\r\n                        Toast.makeText(UserMainActivity.this, i, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    case 2:\r\n                        Toast.makeText(UserMainActivity.this, i, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                    case 3:\r\n                        Toast.makeText(UserMainActivity.this, i, Toast.LENGTH_SHORT).show();\r\n                        break;\r\n                }\r\n                return Unit.INSTANCE;\r\n            }\r\n        });","title":"Using Kotlin Library in java","body":"<p>I am trying to use a GitHub library (MeowBottomNavigation)in Android Studio.But its written in kotlin and i cant use the listeners in it.\nThe only thing which is given is this </p>\n\n<pre><code>bottomNavigation.setOnShowListener {\n}\n\nbottomNavigation.setOnClickMenuListener {\n}\n</code></pre>\n\n<p>the suggestions shows to use </p>\n\n<p>(Function1) </p>\n\n<p>i am not sure as to how to implement this in java . Any help will be appreciated.</p>\n\n<p>I am familiar with java but the library is written in Kotlin. Is there any way to use these listeners in java?</p>\n\n<pre><code>bottomNavigation.setOnClickMenuListener(new \nFunction1&lt;MeowBottomNavigation.Model, Unit&gt;() {\n        @Override\n        public Unit invoke(MeowBottomNavigation.Model p1) {\n            int i = p1.getId();\n            switch (i){\n                case 4:\n                    Toast.makeText(UserMainActivity.this, i, Toast.LENGTH_SHORT).show();\n                    break;\n                case  1:\n                    Toast.makeText(UserMainActivity.this, i, Toast.LENGTH_SHORT).show();\n                    break;\n                case 2:\n                    Toast.makeText(UserMainActivity.this, i, Toast.LENGTH_SHORT).show();\n                    break;\n                case 3:\n                    Toast.makeText(UserMainActivity.this, i, Toast.LENGTH_SHORT).show();\n                    break;\n            }\n            return Unit.INSTANCE;\n        }\n    });\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","h2","spring-test"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":2,"creation_date":1632733509,"post_id":69343962,"comment_id":122563404,"body_markdown":"What error you are getting during fail of test case? Your stacktrace. And what is there in getByEmail method?","body":"What error you are getting during fail of test case? Your stacktrace. And what is there in getByEmail method?"},{"owner":{"account_id":13229986,"reputation":167,"user_id":9553927,"display_name":"S. Kostadinov"},"score":0,"creation_date":1632733873,"post_id":69343962,"comment_id":122563589,"body_markdown":"@GauravJeswani I have added a pastebin of the stacktrace on the bottom. The ```getByEmail``` method returns a ```User``` object. JPA picks up the name of the method and creates the query by itself.","body":"@GauravJeswani I have added a pastebin of the stacktrace on the bottom. The <code>getByEmail</code> method returns a <code>User</code> object. JPA picks up the name of the method and creates the query by itself."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1632734694,"post_id":69343962,"comment_id":122563941,"body_markdown":"Why do you use a modifiying query instead of updating the user entity? The update bypasses the persistence context and then you get the old user from the context and not the updated one","body":"Why do you use a modifiying query instead of updating the user entity? The update bypasses the persistence context and then you get the old user from the context and not the updated one"}],"owner":{"account_id":13229986,"reputation":167,"user_id":9553927,"display_name":"S. Kostadinov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1632764970,"answer_count":0,"score":0,"last_activity_date":1632733769,"creation_date":1632733342,"question_id":69343962,"body_markdown":"I want to test ```enableUser(String email)```, which is a @Query method in my ```UserRepository```. The method simply sets ```enabled``` field to ```TRUE```. Below is the code for the method:\r\n```\r\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n    ...\r\n\r\n    User getByEmail(String email);\r\n\r\n    @Transactional\r\n    @Modifying\r\n    @Query(&quot;UPDATE User a &quot; +\r\n            &quot;SET a.enabled = TRUE &quot; +\r\n            &quot;WHERE a.email = ?1&quot;)\r\n    void enableUser(String email);\r\n}\r\n\r\n```\r\nThis is the ```User``` entity class. The field ```enabled``` is set to ```false``` by default unless stated otherwise in the ```@AllArgsConstructor```:\r\n```\r\n@Entity\r\n@Getter\r\n@Setter\r\n@EqualsAndHashCode\r\n@ToString\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class User implements UserDetails {\r\n    @Id\r\n    @SequenceGenerator(\r\n            name = &quot;student_sequence&quot;,\r\n            sequenceName = &quot;student_sequence&quot;,\r\n            allocationSize = 1\r\n    )\r\n    @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;student_sequence&quot;\r\n    )\r\n    private Integer id;\r\n    private String fullName;\r\n    private String email;\r\n    private String password;\r\n    @Enumerated(EnumType.STRING)\r\n    private UserRole role;\r\n    private boolean locked = false;\r\n    private boolean enabled = false;\r\n\r\n    public User(String fullName, String email, String password, UserRole role) {\r\n        this.fullName = fullName;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.role = role;\r\n    }\r\n\r\n    ...    \r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return this.email;\r\n    }\r\n    \r\n    @Override\r\n    public boolean isEnabled() {\r\n        return this.enabled;\r\n    }\r\n}\r\n```\r\nThis is the test that is failing. First, I am creating a new instance of ```User``` and saving in into the database. Then I try to enable the user, retrieve him by email and check whether ```isEnabled()``` returns ```true```. However, it does not:\r\n```\r\n@DataJpaTest\r\nclass UserRepositoryTest {\r\n    @Autowired\r\n    private UserRepository componentUnderTest;\r\n\r\n    @Test\r\n    @DisplayName(&quot;Ensure the query for enabling a user works.&quot;)\r\n    void enableUser() {\r\n        User user = new User(&quot;full name&quot;, &quot;test@mail.com&quot;, &quot;passwd&quot;, UserRole.USER);\r\n        componentUnderTest.save(user);\r\n        componentUnderTest.enableUser(&quot;test@mail.com&quot;);\r\n        User enabledUser = componentUnderTest.getByEmail(&quot;test@mail.com&quot;);\r\n        assertThat(enabledUser.isEnabled()).isTrue();\r\n    }\r\n}\r\n```\r\nI have set ```spring.jpa.show-sql``` to ```true``` and this is the output. The queries run successfully:\r\n```\r\nHibernate: call next value for student_sequence\r\nHibernate: insert into user (email, enabled, full_name, locked, password, role, id) values (?, ?, ?, ?, ?, ?, ?)\r\nHibernate: update user set enabled=1 where email=?\r\nHibernate: select user0_.id as id1_2_, user0_.email as email2_2_, user0_.enabled as enabled3_2_, user0_.full_name as full_nam4_2_, user0_.locked as locked5_2_, user0_.password as password6_2_, user0_.role as role7_2_ from user user0_ where user0_.email=?\r\n```\r\n\r\nThe database I am using for testing is H2, but the test fails on MySQL as well. I should also mention that **the method works in production**, so I believe it has something to do with the test.\r\n\r\n**EDIT**:\r\nHere is the stacktrace:\r\nhttps://pastebin.com/mjXeLBzE\r\n","title":"Test for JPA @Query method fails, but method works in production","body":"<p>I want to test <code>enableUser(String email)</code>, which is a @Query method in my <code>UserRepository</code>. The method simply sets <code>enabled</code> field to <code>TRUE</code>. Below is the code for the method:</p>\n<pre><code>public interface UserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    ...\n\n    User getByEmail(String email);\n\n    @Transactional\n    @Modifying\n    @Query(&quot;UPDATE User a &quot; +\n            &quot;SET a.enabled = TRUE &quot; +\n            &quot;WHERE a.email = ?1&quot;)\n    void enableUser(String email);\n}\n\n</code></pre>\n<p>This is the <code>User</code> entity class. The field <code>enabled</code> is set to <code>false</code> by default unless stated otherwise in the <code>@AllArgsConstructor</code>:</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@EqualsAndHashCode\n@ToString\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User implements UserDetails {\n    @Id\n    @SequenceGenerator(\n            name = &quot;student_sequence&quot;,\n            sequenceName = &quot;student_sequence&quot;,\n            allocationSize = 1\n    )\n    @GeneratedValue(\n            strategy = GenerationType.SEQUENCE,\n            generator = &quot;student_sequence&quot;\n    )\n    private Integer id;\n    private String fullName;\n    private String email;\n    private String password;\n    @Enumerated(EnumType.STRING)\n    private UserRole role;\n    private boolean locked = false;\n    private boolean enabled = false;\n\n    public User(String fullName, String email, String password, UserRole role) {\n        this.fullName = fullName;\n        this.email = email;\n        this.password = password;\n        this.role = role;\n    }\n\n    ...    \n\n    @Override\n    public String getUsername() {\n        return this.email;\n    }\n    \n    @Override\n    public boolean isEnabled() {\n        return this.enabled;\n    }\n}\n</code></pre>\n<p>This is the test that is failing. First, I am creating a new instance of <code>User</code> and saving in into the database. Then I try to enable the user, retrieve him by email and check whether <code>isEnabled()</code> returns <code>true</code>. However, it does not:</p>\n<pre><code>@DataJpaTest\nclass UserRepositoryTest {\n    @Autowired\n    private UserRepository componentUnderTest;\n\n    @Test\n    @DisplayName(&quot;Ensure the query for enabling a user works.&quot;)\n    void enableUser() {\n        User user = new User(&quot;full name&quot;, &quot;test@mail.com&quot;, &quot;passwd&quot;, UserRole.USER);\n        componentUnderTest.save(user);\n        componentUnderTest.enableUser(&quot;test@mail.com&quot;);\n        User enabledUser = componentUnderTest.getByEmail(&quot;test@mail.com&quot;);\n        assertThat(enabledUser.isEnabled()).isTrue();\n    }\n}\n</code></pre>\n<p>I have set <code>spring.jpa.show-sql</code> to <code>true</code> and this is the output. The queries run successfully:</p>\n<pre><code>Hibernate: call next value for student_sequence\nHibernate: insert into user (email, enabled, full_name, locked, password, role, id) values (?, ?, ?, ?, ?, ?, ?)\nHibernate: update user set enabled=1 where email=?\nHibernate: select user0_.id as id1_2_, user0_.email as email2_2_, user0_.enabled as enabled3_2_, user0_.full_name as full_nam4_2_, user0_.locked as locked5_2_, user0_.password as password6_2_, user0_.role as role7_2_ from user user0_ where user0_.email=?\n</code></pre>\n<p>The database I am using for testing is H2, but the test fails on MySQL as well. I should also mention that <strong>the method works in production</strong>, so I believe it has something to do with the test.</p>\n<p><strong>EDIT</strong>:\nHere is the stacktrace:\n<a href=\"https://pastebin.com/mjXeLBzE\" rel=\"nofollow noreferrer\">https://pastebin.com/mjXeLBzE</a></p>\n"},{"tags":["java","android","firebase-cloud-messaging","amazon-sns"],"owner":{"account_id":12661907,"reputation":2449,"user_id":11110509,"display_name":"DIRTY DAVE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632733439,"creation_date":1632733439,"question_id":69343979,"body_markdown":"I&#39;m using AWS Sns to send a push notification to the user using the device&#39;s ```endpoint arn```.\r\n\r\nI have a ```FirebaseMessagingService``` that listens to incoming push messages from Sns.\r\n\r\nHowever the messages that are coming from SNS contain a JSON format I&#39;ve never seen before.\r\n\r\nIt has a equal sign in the middle of the String.\r\n\r\n```\r\n{message=hello there test message}\r\n```\r\n\r\nHow can I correctly parse this String into an object class?\r\n\r\nI&#39;ve tried using the GSON library but i&#39;m getting an error and I&#39;m not quite sure what I&#39;m doing incorrectly.\r\n\r\n```com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $```:\r\n\r\n```\r\npublic class FirebaseMsgService extends FirebaseMessagingService {\r\n\r\n    @Override\r\n    public void onMessageReceived(RemoteMessage remoteMessage) {\r\n        try {\r\n            Gson gson = new Gson();\r\n            Map&lt;String, String&gt; params = remoteMessage.getData();\r\n            PrintMessage message = gson.fromJson(params.get(&quot;message&quot;), PrintMessage.class);\r\n\r\n        } catch (Exception e) {\r\n            Timber.e(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class PrintMessage {\r\n    private String message;\r\n\r\n    public String getMessage() {\r\n        return message;\r\n    }\r\n}\r\n```\r\n\r\n","title":"AWS SNS - How to parse this json object with a equal sign?","body":"<p>I'm using AWS Sns to send a push notification to the user using the device's <code>endpoint arn</code>.</p>\n<p>I have a <code>FirebaseMessagingService</code> that listens to incoming push messages from Sns.</p>\n<p>However the messages that are coming from SNS contain a JSON format I've never seen before.</p>\n<p>It has a equal sign in the middle of the String.</p>\n<pre><code>{message=hello there test message}\n</code></pre>\n<p>How can I correctly parse this String into an object class?</p>\n<p>I've tried using the GSON library but i'm getting an error and I'm not quite sure what I'm doing incorrectly.</p>\n<p><code>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 1 path $</code>:</p>\n<pre><code>public class FirebaseMsgService extends FirebaseMessagingService {\n\n    @Override\n    public void onMessageReceived(RemoteMessage remoteMessage) {\n        try {\n            Gson gson = new Gson();\n            Map&lt;String, String&gt; params = remoteMessage.getData();\n            PrintMessage message = gson.fromJson(params.get(&quot;message&quot;), PrintMessage.class);\n\n        } catch (Exception e) {\n            Timber.e(e);\n        }\n    }\n}\n</code></pre>\n<pre><code>public class PrintMessage {\n    private String message;\n\n    public String getMessage() {\n        return message;\n    }\n}\n</code></pre>\n"},{"tags":["java","jar","resources"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1632733334,"post_id":69343930,"comment_id":122563333,"body_markdown":"Really no point in concerning yourself about anythng other than what&#39;s in the jar. Please post the output of `jar tf thejar.jar`","body":"Really no point in concerning yourself about anythng other than what&#39;s in the jar. Please post the output of <code>jar tf thejar.jar</code>"},{"owner":{"account_id":21589143,"reputation":9,"user_id":15919079,"display_name":"ExceptionalException"},"score":0,"creation_date":1632733888,"post_id":69343930,"comment_id":122563598,"body_markdown":"@g00se it lists all the files in my project, the resources I want are included. I don&#39;t think anything is missing. Whats interesting is that it put all the resources and classes in the same folder , is that how its supposed to be? https://pastebin.com/QHjcZmH0","body":"@g00se it lists all the files in my project, the resources I want are included. I don&#39;t think anything is missing. Whats interesting is that it put all the resources and classes in the same folder , is that how its supposed to be? <a href=\"https://pastebin.com/QHjcZmH0\" rel=\"nofollow noreferrer\">pastebin.com/QHjcZmH0</a>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1632738281,"post_id":69343930,"comment_id":122565400,"body_markdown":"`getResourceAsStream(&quot;/com/hhuebner/autogp/symbols/test.png&quot;);`","body":"<code>getResourceAsStream(&quot;&#47;com&#47;hhuebner&#47;autogp&#47;symbols&#47;test.png&quot;)&zwnj;&#8203;;</code>"},{"owner":{"account_id":21589143,"reputation":9,"user_id":15919079,"display_name":"ExceptionalException"},"score":0,"creation_date":1632741346,"post_id":69343930,"comment_id":122566606,"body_markdown":"@g00se Thanks, that worked for one image, but I also want to load a bunch of images dynamically later (all png files that are in a certain folder). How would I do that?  With an InputStream I can&#39;t filter for .png and I can&#39;t list files of a directory","body":"@g00se Thanks, that worked for one image, but I also want to load a bunch of images dynamically later (all png files that are in a certain folder). How would I do that?  With an InputStream I can&#39;t filter for .png and I can&#39;t list files of a directory"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1632746189,"post_id":69343930,"comment_id":122568456,"body_markdown":"You&#39;re reading them as resources so you will have put those resources where they are. Therefore you will know their names. If you need to load arbitrary images then you will have to treat them as files, not resources","body":"You&#39;re reading them as resources so you will have put those resources where they are. Therefore you will know their names. If you need to load arbitrary images then you will have to treat them as files, not resources"}],"owner":{"account_id":21589143,"reputation":9,"user_id":15919079,"display_name":"ExceptionalException"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1632733230,"creation_date":1632733230,"question_id":69343930,"body_markdown":"I have a problem loading images with getClass().getResource().\r\nBasically it wont load anything because my resources are appearently in a jar file..?\r\nI think the problem is that the resource laoder path is somehow wrong because getClass.getResource is looking for the resources in build/libs/COMPILED_JAR/pathtoresourcefolder when it should be looking for them in build/resources (I think). So appearently the path is wrong somehow but I have no idea why.\r\n\r\nWhat have I done wrong?\r\n\r\nMy project structure is:\r\n\r\nsrc/main/java -&gt; here are my classes\r\n\r\nsrc/main/resources -&gt; here are my resources\r\n\r\nNote: This is probably a duplicate but I couldn&#39;t find an answer and I have searched for an hour...","title":"Java resource path inside compiled jar file","body":"<p>I have a problem loading images with getClass().getResource().\nBasically it wont load anything because my resources are appearently in a jar file..?\nI think the problem is that the resource laoder path is somehow wrong because getClass.getResource is looking for the resources in build/libs/COMPILED_JAR/pathtoresourcefolder when it should be looking for them in build/resources (I think). So appearently the path is wrong somehow but I have no idea why.</p>\n<p>What have I done wrong?</p>\n<p>My project structure is:</p>\n<p>src/main/java -&gt; here are my classes</p>\n<p>src/main/resources -&gt; here are my resources</p>\n<p>Note: This is probably a duplicate but I couldn't find an answer and I have searched for an hour...</p>\n"},{"tags":["java","intellij-idea","enums"],"comments":[{"owner":{"account_id":19492242,"reputation":23,"user_id":14260221,"display_name":"Mustafa CEVIK"},"score":0,"creation_date":1632725930,"post_id":69341663,"comment_id":122560493,"body_markdown":"Does this answer your question? [How do you pass multiple enum values in C#?](https://stackoverflow.com/questions/1030090/how-do-you-pass-multiple-enum-values-in-c)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/1030090/how-do-you-pass-multiple-enum-values-in-c\">How do you pass multiple enum values in C#?</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1632727563,"post_id":69341663,"comment_id":122560989,"body_markdown":"@MustafaCEVIK this question is not tagged C#.","body":"@MustafaCEVIK this question is not tagged C#."},{"owner":{"account_id":17442825,"reputation":3,"user_id":12834607,"display_name":"TheGuradian"},"score":0,"creation_date":1632732966,"post_id":69341663,"comment_id":122563167,"body_markdown":"What is wrong with my question if my understanding is wrong I came here to learn","body":"What is wrong with my question if my understanding is wrong I came here to learn"}],"answers":[{"tags":[],"owner":{"account_id":8056033,"reputation":2316,"user_id":6073148,"accept_rate":75,"display_name":"Zahid Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1632731535,"creation_date":1632723867,"answer_id":69342069,"question_id":69341663,"body_markdown":"I have rewritten your class and enum. You should do it this way. \r\nAnd your understanding of the enum is incorrect. As you can think enum of named constants. You can&#39;t put data variables and functions inside the enum.\r\n\r\n\r\n----------\r\n\r\n\r\n```\r\nenum Suit {\r\n        Hearts,\r\n        Spades,\r\n        Clubs,\r\n        Diamond\r\n}\r\n\r\nenum Rank {\r\n        ONE,\r\n        TWO,\r\n        THREE,\r\n        FOUR,\r\n        FIVE,\r\n        SIX,\r\n        SEVEN,\r\n        EIGHT,\r\n        NINE,\r\n        TEN,\r\n        Jack,\r\n        Queen,\r\n        King,\r\n        Ace\r\n}\r\n\r\nclass CardMaker {\r\n        Suit name;\r\n        Rank rank;\r\n\r\n        public CardMaker(final String cardName, final String cardRank) {\r\n                this.name = Suit.valueOf(cardName);\r\n                this.rank = Rank.valueOf(cardRank);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n                return &quot;Name : &quot; + name + &quot; rank : &quot; + rank;\r\n        }\r\n}\r\n\r\nclass Scratch {\r\n        public static void main(String[] args) {\r\n                CardMaker card = new CardMaker(Suit.Hearts.name(), Rank.ONE.name());\r\n                System.out.println(card);\r\n        }\r\n}\r\n```","title":"How to input multiple parameters into an enum constructor?","body":"<p>I have rewritten your class and enum. You should do it this way.\nAnd your understanding of the enum is incorrect. As you can think enum of named constants. You can't put data variables and functions inside the enum.</p>\n<hr />\n<pre><code>enum Suit {\n        Hearts,\n        Spades,\n        Clubs,\n        Diamond\n}\n\nenum Rank {\n        ONE,\n        TWO,\n        THREE,\n        FOUR,\n        FIVE,\n        SIX,\n        SEVEN,\n        EIGHT,\n        NINE,\n        TEN,\n        Jack,\n        Queen,\n        King,\n        Ace\n}\n\nclass CardMaker {\n        Suit name;\n        Rank rank;\n\n        public CardMaker(final String cardName, final String cardRank) {\n                this.name = Suit.valueOf(cardName);\n                this.rank = Rank.valueOf(cardRank);\n        }\n\n        @Override\n        public String toString() {\n                return &quot;Name : &quot; + name + &quot; rank : &quot; + rank;\n        }\n}\n\nclass Scratch {\n        public static void main(String[] args) {\n                CardMaker card = new CardMaker(Suit.Hearts.name(), Rank.ONE.name());\n                System.out.println(card);\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1632727893,"creation_date":1632727489,"answer_id":69342698,"question_id":69341663,"body_markdown":"This line of code (from the image in your question) is not valid Java syntax.\r\n```java\r\nCardMaker Card = (Hearts, &quot;Jack&quot;);\r\n```\r\nI assume you want to create a `CardMaker` object, hence you need to call the constructor, as in\r\n```java\r\nCardMaker Card = new CardMaker(Hearts, &quot;Jack&quot;);\r\n```\r\nHowever, when I change your code accordingly, I get the following [compiler] error:\r\n```none\r\nCannot instantiate the type CardMaker\r\n```\r\nThat is because you cannot create an instance of an enum. You can only declare a variable whose type is the enum type and assign it one of the enum values. That is the whole purpose of an enum &amp;ndash; to ensure that you don&#39;t assign an invalid value.\r\n\r\nNonetheless, your enum seems strange. Why does it contain a member whose type is the same enum?\r\n\r\nI suggest using two enums: one for suit and another for rank.\r\n```java\r\npublic enum Suit {\r\n    CLUBS, DIAMONDS, HEARTS, SPADES;\r\n}\r\n\r\npublic enum Rank {\r\n    TWO,\r\n    THREE,\r\n    FOUR,\r\n    FIVE,\r\n    SIX,\r\n    SEVEN,\r\n    EIGHT,\r\n    NINE,\r\n    TEN,\r\n    JACK,\r\n    QUEEN,\r\n    KING,\r\n    ACE;\r\n\r\n    public int getValue() {\r\n        return ordinal() + 2;\r\n    }\r\n}\r\n```\r\nNote that enum `Rank` uses a kind of hack to make the value of the `Rank` match the actual value of the card. Refer to [How can a Java enum start with 1][1]\r\n\r\nFinally, class `CardMake` contains two members: one whose type is `Suit` and one whose type is `Rank`. (More notes after the code.)\r\n```java\r\npublic class CardMake {\r\n    private Rank rank;\r\n    private Suit suit;\r\n\r\n    public CardMake(Suit suit, Rank rank) {\r\n        this.rank = rank;\r\n        this.suit = suit;\r\n    }\r\n\r\n    public boolean equals(Object obj) {\r\n        boolean areEqual = false;\r\n        if (obj instanceof CardMake) {\r\n            CardMake other = (CardMake) obj;\r\n            areEqual = suit.ordinal() == other.suit.ordinal()  &amp;&amp;  rank.ordinal() == other.rank.ordinal();\r\n        }\r\n        return areEqual;\r\n    }\r\n\r\n    public int hashCode() {\r\n        return suit.ordinal() * 10 + rank.getValue();\r\n    }\r\n\r\n    public String toString() {\r\n        return String.format(&quot;%s of %s&quot;, rank, suit);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        CardMake card = new CardMake(Suit.HEARTS, Rank.JACK);\r\n        System.out.printf(&quot;Here&#39;s your card: %s%n&quot; ,card);\r\n    }\r\n}\r\n```\r\nNow, you can&#39;t create an instance of `CardMake` with an invalid rank, so no need to check that parameter in the constructor of class `CardMake`.\r\n\r\nYou need to override method `toString()` because if you don&#39;t, it uses the method from the superclass (which is `java.lang.Object`) which returns a string similar to the following.\r\n```java\r\nCardMake@1f\r\n```\r\nI also assume that you may want to check whether two cards are equal, hence I added method `equals` (which also overrides the superclass method). And it is recommended to also override method `hashCode` (again in the superclass, i.e. `java.lang.Object`) if you are overriding method `equals`.\r\n\r\nThe format string, in method `printf`, does not need the `1$`, especially not if there is only one argument. Refer to the *javadoc* for class [java.util.Formatter][2]\r\n\r\nYou don&#39;t need to explicitly call method `toString`, method `printf` does that for you.\r\n\r\nFinally, it is also recommended to use [Java naming conventions][3].\r\n\r\nRunning the above code produces the following output.\r\n```none\r\nHere&#39;s your card: JACK of HEARTS\r\n```\r\nNote that you can override method `toString` in either (or both) enums if you want the value to be **Jack** rather than JACK (for example).\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/35560954/how-can-a-java-enum-start-with-1\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html\r\n  [3]: https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html","title":"How to input multiple parameters into an enum constructor?","body":"<p>This line of code (from the image in your question) is not valid Java syntax.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CardMaker Card = (Hearts, &quot;Jack&quot;);\n</code></pre>\n<p>I assume you want to create a <code>CardMaker</code> object, hence you need to call the constructor, as in</p>\n<pre class=\"lang-java prettyprint-override\"><code>CardMaker Card = new CardMaker(Hearts, &quot;Jack&quot;);\n</code></pre>\n<p>However, when I change your code accordingly, I get the following [compiler] error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Cannot instantiate the type CardMaker\n</code></pre>\n<p>That is because you cannot create an instance of an enum. You can only declare a variable whose type is the enum type and assign it one of the enum values. That is the whole purpose of an enum – to ensure that you don't assign an invalid value.</p>\n<p>Nonetheless, your enum seems strange. Why does it contain a member whose type is the same enum?</p>\n<p>I suggest using two enums: one for suit and another for rank.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Suit {\n    CLUBS, DIAMONDS, HEARTS, SPADES;\n}\n\npublic enum Rank {\n    TWO,\n    THREE,\n    FOUR,\n    FIVE,\n    SIX,\n    SEVEN,\n    EIGHT,\n    NINE,\n    TEN,\n    JACK,\n    QUEEN,\n    KING,\n    ACE;\n\n    public int getValue() {\n        return ordinal() + 2;\n    }\n}\n</code></pre>\n<p>Note that enum <code>Rank</code> uses a kind of hack to make the value of the <code>Rank</code> match the actual value of the card. Refer to <a href=\"https://stackoverflow.com/questions/35560954/how-can-a-java-enum-start-with-1\">How can a Java enum start with 1</a></p>\n<p>Finally, class <code>CardMake</code> contains two members: one whose type is <code>Suit</code> and one whose type is <code>Rank</code>. (More notes after the code.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CardMake {\n    private Rank rank;\n    private Suit suit;\n\n    public CardMake(Suit suit, Rank rank) {\n        this.rank = rank;\n        this.suit = suit;\n    }\n\n    public boolean equals(Object obj) {\n        boolean areEqual = false;\n        if (obj instanceof CardMake) {\n            CardMake other = (CardMake) obj;\n            areEqual = suit.ordinal() == other.suit.ordinal()  &amp;&amp;  rank.ordinal() == other.rank.ordinal();\n        }\n        return areEqual;\n    }\n\n    public int hashCode() {\n        return suit.ordinal() * 10 + rank.getValue();\n    }\n\n    public String toString() {\n        return String.format(&quot;%s of %s&quot;, rank, suit);\n    }\n\n    public static void main(String[] args) {\n        CardMake card = new CardMake(Suit.HEARTS, Rank.JACK);\n        System.out.printf(&quot;Here's your card: %s%n&quot; ,card);\n    }\n}\n</code></pre>\n<p>Now, you can't create an instance of <code>CardMake</code> with an invalid rank, so no need to check that parameter in the constructor of class <code>CardMake</code>.</p>\n<p>You need to override method <code>toString()</code> because if you don't, it uses the method from the superclass (which is <code>java.lang.Object</code>) which returns a string similar to the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CardMake@1f\n</code></pre>\n<p>I also assume that you may want to check whether two cards are equal, hence I added method <code>equals</code> (which also overrides the superclass method). And it is recommended to also override method <code>hashCode</code> (again in the superclass, i.e. <code>java.lang.Object</code>) if you are overriding method <code>equals</code>.</p>\n<p>The format string, in method <code>printf</code>, does not need the <code>1$</code>, especially not if there is only one argument. Refer to the <em>javadoc</em> for class <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Formatter.html\" rel=\"nofollow noreferrer\">java.util.Formatter</a></p>\n<p>You don't need to explicitly call method <code>toString</code>, method <code>printf</code> does that for you.</p>\n<p>Finally, it is also recommended to use <a href=\"https://www.oracle.com/java/technologies/javase/codeconventions-namingconventions.html\" rel=\"nofollow noreferrer\">Java naming conventions</a>.</p>\n<p>Running the above code produces the following output.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Here's your card: JACK of HEARTS\n</code></pre>\n<p>Note that you can override method <code>toString</code> in either (or both) enums if you want the value to be <strong>Jack</strong> rather than JACK (for example).</p>\n"}],"owner":{"account_id":17442825,"reputation":3,"user_id":12834607,"display_name":"TheGuradian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":780,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"accepted_answer_id":69342069,"answer_count":2,"score":-3,"last_activity_date":1632733203,"creation_date":1632720998,"question_id":69341663,"body_markdown":"For an exercise I&#39;m making a program that initializes a single virtual playing card, and I&#39;m also using an enum as the main class as shown below.\r\n\r\nThe problem is this block over here\r\n\r\nIn the below code block I try to input both suit and rank into this variable, but Intellij says inputting &quot;Jack&quot; as the suit isn&#39;t a statement.[Error Message &quot;not a statement&quot;(it&#39;s under &quot;Jack&quot;).][1]\r\n```\r\n public static void main(String[] args)\r\n    {\r\n        CardMaker Card = (Hearts, &quot;Jack&quot;);\r\n        Card.printCard();\r\n    }\r\n```\r\n\r\n\r\nCode:\r\n\r\n```\r\nimport java.util.Arrays;\r\npublic enum CardMaker\r\n{\r\n    Hearts, Spades, Clubs, Diamond;\r\n    CardMaker Suit;\r\n    String[] Ranks = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot;};\r\n    String Rank = &quot;&quot;;\r\n    CardMaker(CardMaker Suit, String Rank)\r\n    {\r\n        this.Rank = Rank;\r\n        this.Suit = Suit;\r\n        if(Arrays.binarySearch(Ranks, Rank) &lt; 0)\r\n        {\r\n            System.out.println(&quot;Invalid Rank try again&quot;);\r\n            System.exit(1);\r\n        }\r\n    }\r\n    private String[] Card = {String.valueOf(Suit), Rank};\r\n\r\n    CardMaker()//This stops a error I forgot which one\r\n    {\r\n\r\n    }\r\n\r\n    private String printCard()\r\n    {\r\n        System.out.printf(&quot;Here&#39;s your card &#39;%1$s&quot; ,Card.toString());\r\n        return Card.toString();\r\n    }\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        CardMaker Card = (Hearts, &quot;Jack&quot;);\r\n        Card.printCard();\r\n    }\r\n\r\n\r\n}\r\n```\r\nhttps://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\r\nThe tutorial told me how enum constructors work, but 1st didn&#39;t tell me that you can&#39;t make an object of an enum.\r\n\r\n2nd it didn&#39;t say that you couldn&#39;t initialize a object of an enum type(Please explain how that works and if it relates to my issue).\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/soAKK.png\r\n\r\n(This isn&#39;t a dupe as while it&#39;s the same kind of question I&#39;m asking it for this project in java which is different then c# I ignored other languages as this is a java syntax question)","title":"How to input multiple parameters into an enum constructor?","body":"<p>For an exercise I'm making a program that initializes a single virtual playing card, and I'm also using an enum as the main class as shown below.</p>\n<p>The problem is this block over here</p>\n<p>In the below code block I try to input both suit and rank into this variable, but Intellij says inputting &quot;Jack&quot; as the suit isn't a statement.<a href=\"https://i.stack.imgur.com/soAKK.png\" rel=\"nofollow noreferrer\">Error Message &quot;not a statement&quot;(it's under &quot;Jack&quot;).</a></p>\n<pre><code> public static void main(String[] args)\n    {\n        CardMaker Card = (Hearts, &quot;Jack&quot;);\n        Card.printCard();\n    }\n</code></pre>\n<p>Code:</p>\n<pre><code>import java.util.Arrays;\npublic enum CardMaker\n{\n    Hearts, Spades, Clubs, Diamond;\n    CardMaker Suit;\n    String[] Ranks = {&quot;2&quot;, &quot;3&quot;, &quot;4&quot;, &quot;5&quot;, &quot;6&quot;, &quot;7&quot;, &quot;8&quot;, &quot;9&quot;, &quot;10&quot;, &quot;Jack&quot;, &quot;Queen&quot;, &quot;King&quot;, &quot;Ace&quot;};\n    String Rank = &quot;&quot;;\n    CardMaker(CardMaker Suit, String Rank)\n    {\n        this.Rank = Rank;\n        this.Suit = Suit;\n        if(Arrays.binarySearch(Ranks, Rank) &lt; 0)\n        {\n            System.out.println(&quot;Invalid Rank try again&quot;);\n            System.exit(1);\n        }\n    }\n    private String[] Card = {String.valueOf(Suit), Rank};\n\n    CardMaker()//This stops a error I forgot which one\n    {\n\n    }\n\n    private String printCard()\n    {\n        System.out.printf(&quot;Here's your card '%1$s&quot; ,Card.toString());\n        return Card.toString();\n    }\n\n    public static void main(String[] args)\n    {\n        CardMaker Card = (Hearts, &quot;Jack&quot;);\n        Card.printCard();\n    }\n\n\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html</a>\nThe tutorial told me how enum constructors work, but 1st didn't tell me that you can't make an object of an enum.</p>\n<p>2nd it didn't say that you couldn't initialize a object of an enum type(Please explain how that works and if it relates to my issue).</p>\n<p>(This isn't a dupe as while it's the same kind of question I'm asking it for this project in java which is different then c# I ignored other languages as this is a java syntax question)</p>\n"},{"tags":["java","linux","windows","docker"],"comments":[{"owner":{"account_id":4172828,"reputation":692,"user_id":3420376,"display_name":"ddegasperi"},"score":0,"creation_date":1632732772,"post_id":69343626,"comment_id":122563075,"body_markdown":"What advantage would you expect to gain by building the image on the server?","body":"What advantage would you expect to gain by building the image on the server?"}],"answers":[{"tags":[],"owner":{"account_id":19870082,"reputation":489,"user_id":14556461,"display_name":"Pawel Woroniecki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632732773,"creation_date":1632732773,"answer_id":69343819,"question_id":69343626,"body_markdown":"You can replace value of your `ARG` by passing it to `docker build` command: `docker build --build-arg JAR_FILE=path/to/files/*.jar Dockerfile`\r\n\r\nMaybe it would be reasonable to think of Docker images repository? You could set it up on your server or somewhere else where the server can read it and then you could build image locally and upload the image to this repo and just pull it on your server from the repo.","title":"Is there a way to build the dockeized image directly from the server?","body":"<p>You can replace value of your <code>ARG</code> by passing it to <code>docker build</code> command: <code>docker build --build-arg JAR_FILE=path/to/files/*.jar Dockerfile</code></p>\n<p>Maybe it would be reasonable to think of Docker images repository? You could set it up on your server or somewhere else where the server can read it and then you could build image locally and upload the image to this repo and just pull it on your server from the repo.</p>\n"}],"owner":{"account_id":19661739,"reputation":89,"user_id":14393024,"display_name":"nee nee"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1632732773,"creation_date":1632731978,"question_id":69343626,"body_markdown":"I have docker installed on my server which is the linux machine , and I am coding from the other system(windows) , is there anyway to create the dockerized image directly from the server ?\r\nHere is the file I am using . \r\n```\r\nFROM openjdk:8-jdk-alpine\r\nARG JAR_FILE=cobra-master-data-management-deploy/target/*.jar\r\nCOPY ${JAR_FILE} sample.jar\r\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/sample.jar&quot;]\r\n```\r\nIs there anyway to replace ```ARG JAR_FILE``` with the server&#39;s path or any other way so that it directly creates the image from the server without needing to copy and paste the files to server and then creating the image ?? ","title":"Is there a way to build the dockeized image directly from the server?","body":"<p>I have docker installed on my server which is the linux machine , and I am coding from the other system(windows) , is there anyway to create the dockerized image directly from the server ?\nHere is the file I am using .</p>\n<pre><code>FROM openjdk:8-jdk-alpine\nARG JAR_FILE=cobra-master-data-management-deploy/target/*.jar\nCOPY ${JAR_FILE} sample.jar\nENTRYPOINT [&quot;java&quot;,&quot;-jar&quot;,&quot;/sample.jar&quot;]\n</code></pre>\n<p>Is there anyway to replace <code>ARG JAR_FILE</code> with the server's path or any other way so that it directly creates the image from the server without needing to copy and paste the files to server and then creating the image ??</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1632732468,"post_id":69342905,"comment_id":122562933,"body_markdown":"Do you really need a `Map&lt;String, StreamBuilderFactoryBean&gt;`? Or do you only need the instances? If the latter you can use an `ObjectProvider&lt;StreamBuilderFactoryBean&gt;` and use the `iterator` or `stream` method to iterate over them.","body":"Do you really need a <code>Map&lt;String, StreamBuilderFactoryBean&gt;</code>? Or do you only need the instances? If the latter you can use an <code>ObjectProvider&lt;StreamBuilderFactoryBean&gt;</code> and use the <code>iterator</code> or <code>stream</code> method to iterate over them."}],"owner":{"account_id":8780993,"reputation":2797,"user_id":6564620,"display_name":"maow"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1632732387,"creation_date":1632728640,"question_id":69342905,"body_markdown":"I would like to know whether there are any best practices or standard patterns for autowiring factory beans themselves in Spring.\r\n\r\nI am working with [`StreamsBuilderFactoryBean`][1] which implements `SmartLifecycle`. In order to start and stop Streams at runtime, I implemented an actuator endpoint that autowires a `private Map&lt;String, StreamsBuilderFactoryBean&gt; topologyFactories`. Note, that I need the actual `FactoryBean`, not the object it creates. There seems to be an issue with the instantiation order. The `Map` is empty because Spring seems to instantiate the actuator endpoint before the FactoryBeans.\r\n\r\nI worked around this by calling\r\n```\r\n    @EventListener(ApplicationReadyEvent.class)\r\n    public void onReady() {\r\n        this.topologyFactories = ApplicationContextProvider.getApplicationContext()\r\n                .getBeansOfType(StreamsBuilderFactoryBean.class);\r\n    }\r\n```\r\nand basically, autowire &quot;a second time&quot;.\r\n\r\nFrom https://stackoverflow.com/questions/56494641/spring-multiple-configurations-and-compontentscan-order I could annotate the actuator class with `@DependsOn`, but then I would need to list every single `StreamsBuilderFactoryBean` and maintain this. \r\n\r\nIt &quot;feels&quot; like there should be a better way and I am probably just missing some knowledge about the bean lifecycle.\r\n\r\n  [1]: https://docs.spring.io/spring-kafka/docs/current/api/org/springframework/kafka/config/StreamsBuilderFactoryBean.html","title":"How to autowire FactoryBeans in an Actuator Endpoint","body":"<p>I would like to know whether there are any best practices or standard patterns for autowiring factory beans themselves in Spring.</p>\n<p>I am working with <a href=\"https://docs.spring.io/spring-kafka/docs/current/api/org/springframework/kafka/config/StreamsBuilderFactoryBean.html\" rel=\"nofollow noreferrer\"><code>StreamsBuilderFactoryBean</code></a> which implements <code>SmartLifecycle</code>. In order to start and stop Streams at runtime, I implemented an actuator endpoint that autowires a <code>private Map&lt;String, StreamsBuilderFactoryBean&gt; topologyFactories</code>. Note, that I need the actual <code>FactoryBean</code>, not the object it creates. There seems to be an issue with the instantiation order. The <code>Map</code> is empty because Spring seems to instantiate the actuator endpoint before the FactoryBeans.</p>\n<p>I worked around this by calling</p>\n<pre><code>    @EventListener(ApplicationReadyEvent.class)\n    public void onReady() {\n        this.topologyFactories = ApplicationContextProvider.getApplicationContext()\n                .getBeansOfType(StreamsBuilderFactoryBean.class);\n    }\n</code></pre>\n<p>and basically, autowire &quot;a second time&quot;.</p>\n<p>From <a href=\"https://stackoverflow.com/questions/56494641/spring-multiple-configurations-and-compontentscan-order\">Spring - multiple configurations and @CompontentScan order</a> I could annotate the actuator class with <code>@DependsOn</code>, but then I would need to list every single <code>StreamsBuilderFactoryBean</code> and maintain this.</p>\n<p>It &quot;feels&quot; like there should be a better way and I am probably just missing some knowledge about the bean lifecycle.</p>\n"},{"tags":["java","jpa","left-join","criteria-api"],"comments":[{"owner":{"account_id":303904,"reputation":2751,"user_id":613114,"accept_rate":70,"display_name":"user613114"},"score":0,"creation_date":1471853563,"post_id":39059070,"comment_id":65496533,"body_markdown":"Any expert who can help here?","body":"Any expert who can help here?"}],"answers":[{"tags":[],"owner":{"account_id":4470235,"reputation":361,"user_id":3636753,"display_name":"ArchanaJ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1479753491,"creation_date":1479753491,"answer_id":40727163,"question_id":39059070,"body_markdown":"For Approach 1: You can write subquery for criteria query\r\n\r\n    Subquery&lt;Entity1&gt; subquery = cq.subquery( Entity1.class );\r\n        Root fromSubQuery = subquery.from( Entity1.class );\r\n        subquery.select( cb.max( fromSubQuery.get( &quot;startDate&quot; ) ) );\r\n        subquery.where( cb.equal( fromSubQuery.get( &quot;xyzId&quot; ), fromRootOfParentQuery.get( &quot;xyzId&quot; ) ) );\r\n\r\nUse it as :\r\n\r\n    Root&lt;Entity2&gt; entity2 = cq.from( Entity2.class );\r\n    Predicate maxDatePredicate = cb.and( cb.equal( entyty2.get( &quot;startDate&quot; ), subquery ) );\r\n\r\n\r\nFor Approach 2:\r\nThere is no other way than having relationship between two entities for left join. You can define private variable for relationship without getter &amp; setter and use that variable for setting left join.\r\nThen add the predicate to criteriaBuilder","title":"JPA CriteriaBuilder left outer join for table with no relations?","body":"<p>For Approach 1: You can write subquery for criteria query</p>\n\n<pre><code>Subquery&lt;Entity1&gt; subquery = cq.subquery( Entity1.class );\n    Root fromSubQuery = subquery.from( Entity1.class );\n    subquery.select( cb.max( fromSubQuery.get( \"startDate\" ) ) );\n    subquery.where( cb.equal( fromSubQuery.get( \"xyzId\" ), fromRootOfParentQuery.get( \"xyzId\" ) ) );\n</code></pre>\n\n<p>Use it as :</p>\n\n<pre><code>Root&lt;Entity2&gt; entity2 = cq.from( Entity2.class );\nPredicate maxDatePredicate = cb.and( cb.equal( entyty2.get( \"startDate\" ), subquery ) );\n</code></pre>\n\n<p>For Approach 2:\nThere is no other way than having relationship between two entities for left join. You can define private variable for relationship without getter &amp; setter and use that variable for setting left join.\nThen add the predicate to criteriaBuilder</p>\n"},{"tags":[],"owner":{"account_id":14748107,"reputation":21,"user_id":10650923,"display_name":"Atit Shah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632732008,"creation_date":1632732008,"answer_id":69343633,"question_id":39059070,"body_markdown":"One solution is to create view and query against it using criteria builder.\r\nYou can see my answer in https://stackoverflow.com/questions/30639132/joining-tables-without-relation-using-jpa-criteria/69343522#69343522\r\nOnly change you need to do is use left join in your view definition.\r\nHope it solves your use case.\r\n","title":"JPA CriteriaBuilder left outer join for table with no relations?","body":"<p>One solution is to create view and query against it using criteria builder.\nYou can see my answer in <a href=\"https://stackoverflow.com/questions/30639132/joining-tables-without-relation-using-jpa-criteria/69343522#69343522\">Joining tables without relation using JPA criteria</a>\nOnly change you need to do is use left join in your view definition.\nHope it solves your use case.</p>\n"}],"owner":{"account_id":303904,"reputation":2751,"user_id":613114,"accept_rate":70,"display_name":"user613114"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4676,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1632732008,"creation_date":1471730590,"question_id":39059070,"body_markdown":"Initially I had requirement to write code using JPA CriteraiBuilder for following SQL:\r\n\r\n    SELECT ve.col_1,\r\n      (SELECT vm.col_4\r\n      FROM table2 vm\r\n      WHERE vm.col_2  = ve.col_2\r\n      AND vm.col_3 = ve.col_3\r\n      ) as col_a\r\n    FROM table1 ve;\r\n\r\n\r\nBut I learnt that, it is not possible to add subquery in select clause. So I changed my query to use left outer join like this.\r\n\r\n    SELECT ve.col_1,\r\n      vm.col_4 as col_a\r\n    FROM table1 ve,\r\n      table2 vm\r\n    WHERE \r\n    vm.col_2 (+)    = ve.col_2 \r\n    AND vm.col_3 (+) = ve.col_3;\r\n\r\n\r\nNow table1 and table2 do not have direct relations using foreign keys. Corresponding JPA entities look like:\r\n\r\n    Table1.java -&gt;\r\n    \r\n    @Column(name = &quot;COL_1&quot;)\r\n    private String col_1;\r\n    \r\n    @Column(name = &quot;COL_2&quot;)\r\n    private String col_2;\r\n    \r\n    @Column(name = &quot;COL_3&quot;)\r\n    private String col_3;\r\n    \r\n    @OneToOne(fetch = FetchType.LAZY)\r\n    @JoinColumns({\r\n    \t@JoinColumn(name=&quot;COL_2&quot;),\r\n    \t@JoinColumn(name=&quot;COL_3&quot;)\r\n    })\r\n    private Table2 table2;\r\n    \r\n    \r\n    Table2.java -&gt;\r\n    \r\n    @Column(name = &quot;COL_4&quot;)\r\n    private String col_4;\r\n    \r\n    @Column(name = &quot;COL_2&quot;)\r\n    private String col_2;\r\n    \r\n    @Column(name = &quot;COL_3&quot;)\r\n    private String col_3;\r\n\r\n\r\nMy code looks like:\r\n\r\n    final CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n    \r\n    final CriteriaQuery&lt;SearchTO&gt; query = criteriaBuilder.createQuery(\r\n    \t\tSearchTO.class);\r\n    Root&lt;Table1&gt; root = query.from(Table1.class);\r\n    \r\n    final Join&lt;Table1, Table2&gt; joinTable2 = root.join(Table1_.table2,\r\n    \t\tJoinType.LEFT);\r\n\r\nThen I am trying to fetch value using:\r\n\r\n    joinTable2.get(Table2_.col_4)\r\n\r\nThen now I am getting error as:\r\n\r\n    A Foreign key refering com.Table2 from com.Table1 has the wrong number of column\r\n\r\n\r\nTable2 has around 6 columns with annotation @Id and I can not change change it to have only two columns with @Id annotation.\r\n\r\nPlease let me know:\r\n\r\n- If it is possible to write code using CriteriaBuilder for my approach 1 (subquery in select clause).\r\n\r\n- If thats not possible, how can I implement this left outer join as mentioned for approach 2. Please note that Table2 does not have any references of Table1.\r\n\r\nPlease note that I am using plain JPA APIs. DB is Oracle11g. JDK version is 1.7.","title":"JPA CriteriaBuilder left outer join for table with no relations?","body":"<p>Initially I had requirement to write code using JPA CriteraiBuilder for following SQL:</p>\n\n<pre><code>SELECT ve.col_1,\n  (SELECT vm.col_4\n  FROM table2 vm\n  WHERE vm.col_2  = ve.col_2\n  AND vm.col_3 = ve.col_3\n  ) as col_a\nFROM table1 ve;\n</code></pre>\n\n<p>But I learnt that, it is not possible to add subquery in select clause. So I changed my query to use left outer join like this.</p>\n\n<pre><code>SELECT ve.col_1,\n  vm.col_4 as col_a\nFROM table1 ve,\n  table2 vm\nWHERE \nvm.col_2 (+)    = ve.col_2 \nAND vm.col_3 (+) = ve.col_3;\n</code></pre>\n\n<p>Now table1 and table2 do not have direct relations using foreign keys. Corresponding JPA entities look like:</p>\n\n<pre><code>Table1.java -&gt;\n\n@Column(name = \"COL_1\")\nprivate String col_1;\n\n@Column(name = \"COL_2\")\nprivate String col_2;\n\n@Column(name = \"COL_3\")\nprivate String col_3;\n\n@OneToOne(fetch = FetchType.LAZY)\n@JoinColumns({\n    @JoinColumn(name=\"COL_2\"),\n    @JoinColumn(name=\"COL_3\")\n})\nprivate Table2 table2;\n\n\nTable2.java -&gt;\n\n@Column(name = \"COL_4\")\nprivate String col_4;\n\n@Column(name = \"COL_2\")\nprivate String col_2;\n\n@Column(name = \"COL_3\")\nprivate String col_3;\n</code></pre>\n\n<p>My code looks like:</p>\n\n<pre><code>final CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n\nfinal CriteriaQuery&lt;SearchTO&gt; query = criteriaBuilder.createQuery(\n        SearchTO.class);\nRoot&lt;Table1&gt; root = query.from(Table1.class);\n\nfinal Join&lt;Table1, Table2&gt; joinTable2 = root.join(Table1_.table2,\n        JoinType.LEFT);\n</code></pre>\n\n<p>Then I am trying to fetch value using:</p>\n\n<pre><code>joinTable2.get(Table2_.col_4)\n</code></pre>\n\n<p>Then now I am getting error as:</p>\n\n<pre><code>A Foreign key refering com.Table2 from com.Table1 has the wrong number of column\n</code></pre>\n\n<p>Table2 has around 6 columns with annotation @Id and I can not change change it to have only two columns with @Id annotation.</p>\n\n<p>Please let me know:</p>\n\n<ul>\n<li><p>If it is possible to write code using CriteriaBuilder for my approach 1 (subquery in select clause).</p></li>\n<li><p>If thats not possible, how can I implement this left outer join as mentioned for approach 2. Please note that Table2 does not have any references of Table1.</p></li>\n</ul>\n\n<p>Please note that I am using plain JPA APIs. DB is Oracle11g. JDK version is 1.7.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8000,"page":1992,"page_size":100}
