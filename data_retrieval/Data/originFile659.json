{"items":[{"tags":["java","spring","spring-boot","rabbitmq","messagebroker"],"answers":[{"comments":[{"owner":{"account_id":6418753,"reputation":1055,"user_id":6446709,"accept_rate":89,"display_name":"Matheus Bica"},"score":0,"creation_date":1586631605,"post_id":61153899,"comment_id":108200507,"body_markdown":"Hi Mukhtiar, \n\nAfter using these parameters it was not able to find it, maybe some link between my project and the docker-compose file is needed?\n\nI just don&#39;t know how.\n\nIt has changed the connection phrase to:\nAttempting to connect to: null:5672","body":"Hi Mukhtiar,   After using these parameters it was not able to find it, maybe some link between my project and the docker-compose file is needed?  I just don&#39;t know how.  It has changed the connection phrase to: Attempting to connect to: null:5672"},{"owner":{"account_id":2169678,"reputation":611,"user_id":1922011,"display_name":"Mukhtiar Ahmed"},"score":1,"creation_date":1586670169,"post_id":61153899,"comment_id":108209061,"body_markdown":"I have mode changes the your Dockerfile","body":"I have mode changes the your Dockerfile"}],"tags":[],"owner":{"account_id":2169678,"reputation":611,"user_id":1922011,"display_name":"Mukhtiar Ahmed"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1586670079,"creation_date":1586593133,"answer_id":61153899,"question_id":61153705,"body_markdown":"Please correct your bean creation configuration you should replace with \r\n\r\n    @Bean\r\n    public ConnectionFactory connectionFactory() {\r\n        CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\r\n        connectionFactory.setHost(System.getProperty(&quot;RABBITMQ_HOST&quot;));\r\n        connectionFactory.setVirtualHost(System.getProperty(&quot;RABBITMQ_VHOST&quot;));\r\n        connectionFactory.setUsername(System.getProperty(&quot;RABBITMQ_USERNAME&quot;));\r\n        connectionFactory.setPassword(System.getProperty(&quot;RABBITMQ_PASSWORD&quot;));\r\n        return connectionFactory;\r\n    }\r\n\r\n\r\nand modify your Dockerfile last line \r\n\r\n    # Start with a base image containing Java runtime\r\n    FROM openjdk:8-jdk-alpine\r\n    # Add Maintainer Info\r\n    LABEL maintainer=&quot;hidden&quot;\r\n\r\n    # Add a volume pointing to /tmp\r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} app.jar\r\n    ENTRYPOINT java -DRABBITMQ_HOST=${RABBITMQ_HOST} -DRABBITMQ_VHOST=${RABBITMQ_VHOST} -DRABBITMQ_USERNAME=${RABBITMQ_USERNAME} -DRABBITMQ_PASSWORD=${RABBITMQ_PASSWORD} -Djava.security.egd=file:/dev/./urandom  -jar app.jar\r\n\r\n\r\n\r\n\r\n\r\n \r\n\r\n\r\n\r\n\r\n    \r\n\r\n","title":"RabbitMQ+SpringAMPQ: Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect","body":"<p>Please correct your bean creation configuration you should replace with </p>\n\n<pre><code>@Bean\npublic ConnectionFactory connectionFactory() {\n    CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\n    connectionFactory.setHost(System.getProperty(\"RABBITMQ_HOST\"));\n    connectionFactory.setVirtualHost(System.getProperty(\"RABBITMQ_VHOST\"));\n    connectionFactory.setUsername(System.getProperty(\"RABBITMQ_USERNAME\"));\n    connectionFactory.setPassword(System.getProperty(\"RABBITMQ_PASSWORD\"));\n    return connectionFactory;\n}\n</code></pre>\n\n<p>and modify your Dockerfile last line </p>\n\n<pre><code># Start with a base image containing Java runtime\nFROM openjdk:8-jdk-alpine\n# Add Maintainer Info\nLABEL maintainer=\"hidden\"\n\n# Add a volume pointing to /tmp\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT java -DRABBITMQ_HOST=${RABBITMQ_HOST} -DRABBITMQ_VHOST=${RABBITMQ_VHOST} -DRABBITMQ_USERNAME=${RABBITMQ_USERNAME} -DRABBITMQ_PASSWORD=${RABBITMQ_PASSWORD} -Djava.security.egd=file:/dev/./urandom  -jar app.jar\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6418753,"reputation":1055,"user_id":6446709,"accept_rate":89,"display_name":"Matheus Bica"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1586660028,"creation_date":1586660028,"answer_id":61166253,"question_id":61153705,"body_markdown":"I found the error today, we need to expose the RabbitMQ port in the docker-compose file or it won&#39;t be accessible. So we need to add the line - 5672:5672 in the rabbitmq &gt; ports\r\n\r\n    app:\r\n      build: .\r\n      environment:\r\n        INSERTION_QUEUE: insertion.queue\r\n        VALIDATION_QUEUE: validation.queue\r\n        NUMBER_OF_VALIDATION_CONSUMERS: 1\r\n        RESPONSE_EXCHANGE: response.exchange\r\n        RESPONSE_ROUTING_KEY: response.routing.key\r\n        RABBITMQ_HOST: rabbitmq\r\n        RABBITMQ_PORT: 5672\r\n        RABBITMQ_VHOST: /\r\n        RABBITMQ_USERNAME: guest\r\n        RABBITMQ_PASSWORD: guest\r\n        JDBC_URL: jdbc:mysql://mysql:3306/hided\r\n      links:\r\n        - mysql:mysql\r\n        - rabbitmq:rabbitmq\r\n    mysql:\r\n      image: mysql:5.7\r\n      environment:\r\n        MYSQL_DATABASE: hided\r\n        MYSQL_ROOT_PASSWORD: secret\r\n    rabbitmq:\r\n      image: rabbitmq:3.6-management\r\n      ports:\r\n        - 5672:5672\r\n        - 15672:15672\r\n\r\nThank you!","title":"RabbitMQ+SpringAMPQ: Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect","body":"<p>I found the error today, we need to expose the RabbitMQ port in the docker-compose file or it won't be accessible. So we need to add the line - 5672:5672 in the rabbitmq > ports</p>\n\n<pre><code>app:\n  build: .\n  environment:\n    INSERTION_QUEUE: insertion.queue\n    VALIDATION_QUEUE: validation.queue\n    NUMBER_OF_VALIDATION_CONSUMERS: 1\n    RESPONSE_EXCHANGE: response.exchange\n    RESPONSE_ROUTING_KEY: response.routing.key\n    RABBITMQ_HOST: rabbitmq\n    RABBITMQ_PORT: 5672\n    RABBITMQ_VHOST: /\n    RABBITMQ_USERNAME: guest\n    RABBITMQ_PASSWORD: guest\n    JDBC_URL: jdbc:mysql://mysql:3306/hided\n  links:\n    - mysql:mysql\n    - rabbitmq:rabbitmq\nmysql:\n  image: mysql:5.7\n  environment:\n    MYSQL_DATABASE: hided\n    MYSQL_ROOT_PASSWORD: secret\nrabbitmq:\n  image: rabbitmq:3.6-management\n  ports:\n    - 5672:5672\n    - 15672:15672\n</code></pre>\n\n<p>Thank you!</p>\n"},{"tags":[],"owner":{"account_id":14597027,"reputation":41,"user_id":10542408,"display_name":"Ahmed ALI"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591655909,"creation_date":1591655909,"answer_id":62272270,"question_id":61153705,"body_markdown":"You can run docker with this command to use the default value :\r\n\r\n    docker run -it --rm --name rabbitmq -p 5672:5672 -p 15672:15672 rabbitmq:3-management","title":"RabbitMQ+SpringAMPQ: Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect","body":"<p>You can run docker with this command to use the default value :</p>\n\n<pre><code>docker run -it --rm --name rabbitmq -p 5672:5672 -p 15672:15672 rabbitmq:3-management\n</code></pre>\n"},{"comments":[{"owner":{"account_id":439547,"reputation":1775,"user_id":828551,"accept_rate":63,"display_name":"joninx"},"score":0,"creation_date":1677578845,"post_id":75364874,"comment_id":133361315,"body_markdown":"You need to enable SSl within your spring boot application... Find it out in `spring.rabbitmq.ssl.enabled=true` or equivalent YAML config.","body":"You need to enable SSl within your spring boot application... Find it out in <code>spring.rabbitmq.ssl.enabled=true</code> or equivalent YAML config."}],"tags":[],"owner":{"account_id":27718689,"reputation":11,"user_id":21159782,"display_name":"MacawAbalone"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676045587,"creation_date":1675706004,"answer_id":75364874,"question_id":61153705,"body_markdown":"Got stuck on this error for a couple days.\r\nWhat worked for me was to include the \r\n```\r\nSPRING_RABBITMQ_SSL_ENABLED=true\r\n``` \r\nsetting in a `.env` file that&#39;s being pulled in by my `docker-compose.yml` file.","title":"RabbitMQ+SpringAMPQ: Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect","body":"<p>Got stuck on this error for a couple days.\nWhat worked for me was to include the</p>\n<pre><code>SPRING_RABBITMQ_SSL_ENABLED=true\n</code></pre>\n<p>setting in a <code>.env</code> file that's being pulled in by my <code>docker-compose.yml</code> file.</p>\n"}],"owner":{"account_id":6418753,"reputation":1055,"user_id":6446709,"accept_rate":89,"display_name":"Matheus Bica"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15094,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":61166253,"answer_count":4,"score":2,"last_activity_date":1676045587,"creation_date":1586591949,"question_id":61153705,"body_markdown":"I am currently learning RabbitMQ and Spring AMPQ.\r\nI was trying some examples this week but I am facing an issue in some step of the configuration.\r\n\r\nI have this docker-compose file:\r\n\r\n    app:\r\n      build: .\r\n      environment:\r\n        INSERTION_QUEUE: insertion.queue\r\n        VALIDATION_QUEUE: validation.queue\r\n        NUMBER_OF_VALIDATION_CONSUMERS: 1\r\n        RESPONSE_EXCHANGE: response.exchange\r\n        RESPONSE_ROUTING_KEY: response.routing.key\r\n        RABBITMQ_HOST: rabbitmq\r\n        RABBITMQ_PORT: 5672\r\n        RABBITMQ_VHOST: /\r\n        RABBITMQ_USERNAME: guest\r\n        RABBITMQ_PASSWORD: guest\r\n        JDBC_URL: jdbc:mysql://mysql:3306/hided\r\n      links:\r\n        - mysql:mysql\r\n        - rabbitmq:rabbitmq\r\n    mysql:\r\n      image: mysql:5.7\r\n      environment:\r\n        MYSQL_DATABASE: hided\r\n        MYSQL_ROOT_PASSWORD: secret\r\n    rabbitmq:\r\n      image: rabbitmq:3.6-management\r\n      ports:\r\n        - 15672:15672\r\n\r\nAnd I copied this example, adding maven configuration to it: https://github.com/spring-guides/gs-messaging-rabbitmq/tree/master/complete\r\n\r\nThe RabbitMQ is accessed through the URL localhost:15672 correctly with username and password &quot;guest&quot;\r\n\r\nBut when I run this example, it gives me this error (which I believe the important message is **Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect**):\r\n\r\n    2020-04-11 04:50:49.202  INFO 25576 --- [           main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\r\n    2020-04-11 04:50:51.222  INFO 25576 --- [           main] o.s.a.r.l.SimpleMessageListenerContainer : Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect\r\n    2020-04-11 04:50:51.225  INFO 25576 --- [    container-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\r\n    2020-04-11 04:50:53.242 ERROR 25576 --- [    container-1] o.s.a.r.l.SimpleMessageListenerContainer : Failed to check/redeclare auto-delete queue(s).\r\n    \r\n    org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect\r\n    \tat org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:510) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:751) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:214) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2095) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2068) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2048) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueInfo(RabbitAdmin.java:407) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueProperties(RabbitAdmin.java:391) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.attemptDeclarations(AbstractMessageListenerContainer.java:1830) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.redeclareElementsIfNecessary(AbstractMessageListenerContainer.java:1811) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1342) [spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1188) [spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat java.lang.Thread.run(Unknown Source) [na:1.8.0_241]\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n    \tat java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_241]\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[na:1.8.0_241]\r\n    \tat java.net.PlainSocketImpl.connect(Unknown Source) ~[na:1.8.0_241]\r\n    \tat java.net.SocksSocketImpl.connect(Unknown Source) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.connect(Unknown Source) ~[na:1.8.0_241]\r\n    \tat com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:60) ~[amqp-client-5.7.3.jar:5.7.3]\r\n    \tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1113) ~[amqp-client-5.7.3.jar:5.7.3]\r\n    \tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1063) ~[amqp-client-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:526) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:473) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \t... 12 common frames omitted\r\n    \r\n    2020-04-11 04:50:53.244  INFO 25576 --- [    container-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\r\n    2020-04-11 04:50:55.266  INFO 25576 --- [           main] c.a.A.AppNameApplication           : Started AppNameApplication in 7.328 seconds (JVM running for 8.175)\r\n    Sending message...\r\n    2020-04-11 04:50:55.268  INFO 25576 --- [           main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\r\n    2020-04-11 04:50:57.285  INFO 25576 --- [           main] ConditionEvaluationReportLoggingListener : \r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2020-04-11 04:50:57.293 ERROR 25576 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    java.lang.IllegalStateException: Failed to execute CommandLineRunner\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:787) [spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:768) [spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:322) [spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \tat com.appname.AppName.AppNameApplication.main(AppNameApplication.java:19) [classes/:na]\r\n    Caused by: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect\r\n    \tat org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:510) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:751) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:214) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2095) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2068) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.core.RabbitTemplate.send(RabbitTemplate.java:1009) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1075) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1068) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat com.appname.AppName.Runner.run(Runner.java:23) ~[classes/:na]\r\n    \tat org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784) [spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\r\n    \t... 5 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused: connect\r\n    \tat java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_241]\r\n    \tat java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[na:1.8.0_241]\r\n    \tat java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[na:1.8.0_241]\r\n    \tat java.net.PlainSocketImpl.connect(Unknown Source) ~[na:1.8.0_241]\r\n    \tat java.net.SocksSocketImpl.connect(Unknown Source) ~[na:1.8.0_241]\r\n    \tat java.net.Socket.connect(Unknown Source) ~[na:1.8.0_241]\r\n    \tat com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:60) ~[amqp-client-5.7.3.jar:5.7.3]\r\n    \tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1113) ~[amqp-client-5.7.3.jar:5.7.3]\r\n    \tat com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1063) ~[amqp-client-5.7.3.jar:5.7.3]\r\n    \tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:526) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \tat org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:473) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\r\n    \t... 14 common frames omitted\r\n    \r\n    2020-04-11 04:50:57.296  INFO 25576 --- [           main] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.\r\n    2020-04-11 04:50:57.296  INFO 25576 --- [           main] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.\r\n    2020-04-11 04:50:57.298  INFO 25576 --- [           main] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already\r\n\r\nI would like to understand what I am doing wrong, I tried to add the code below to &quot;MessagingRabbitmqApplication.java&quot; to force the connection, made some changes in ports, address, disabled firewall, no success:\r\n\r\n    @Bean\r\n    \tpublic ConnectionFactory connectionFactory() {\r\n    \t    CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\r\n    \t    connectionFactory.setHost(&quot;localhost&quot;);\r\n    \t    connectionFactory.setVirtualHost(&quot;/&quot;);\r\n    \t    connectionFactory.setUsername(&quot;guest&quot;);\r\n    \t    connectionFactory.setPassword(&quot;guest&quot;);\r\n    \t    return connectionFactory;\r\n    \t}\r\n\r\nI did try other examples but I keep facing this same error.\r\n\r\nMy Dockerfile is:\r\n\r\n    # Start with a base image containing Java runtime\r\n    FROM openjdk:8-jdk-alpine\r\n    \r\n    # Add Maintainer Info\r\n    LABEL maintainer=&quot;hidden&quot;\r\n    \r\n    # Add a volume pointing to /tmp\r\n    VOLUME /tmp\r\n    \r\n    ARG JAR_FILE=target/*.jar\r\n    COPY ${JAR_FILE} app.jar\r\n    ENTRYPOINT [&quot;java&quot;,&quot;-Djava.security.egd=file:/dev/./urandom&quot;,&quot;-jar&quot;,&quot;/app.jar&quot;]\r\n\r\nAnd my application.properties is:\r\n\r\n    #Database properties\r\n    spring.datasource.url = jdbc:mysql://mysql:3306/app_name?user=root&amp;password=secret\r\n    spring.datasource.username = root\r\n    spring.datasource.password = secret\r\n    spring.datasource.platform = mysql\r\n    spring.datasource.driver-class-name = com.mysql.cj.jdbc.Driver\r\n    \r\n    #Rabbitmq properties\r\n    spring.rabbitmq.host=localhost\r\n    spring.rabbitmq.port=5672\r\n    spring.rabbitmq.username=guest\r\n    spring.rabbitmq.password=guest\r\n    spring.rabbitmq.template.exchange=response.exchange\r\n    spring.rabbitmq.template.routing-key=response.routing.key\r\n    spring.rabbitmq.virtual-host=/\r\n\r\n\r\nThank you for your time,\r\nI appreciate any help.","title":"RabbitMQ+SpringAMPQ: Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect","body":"<p>I am currently learning RabbitMQ and Spring AMPQ.\nI was trying some examples this week but I am facing an issue in some step of the configuration.</p>\n\n<p>I have this docker-compose file:</p>\n\n<pre><code>app:\n  build: .\n  environment:\n    INSERTION_QUEUE: insertion.queue\n    VALIDATION_QUEUE: validation.queue\n    NUMBER_OF_VALIDATION_CONSUMERS: 1\n    RESPONSE_EXCHANGE: response.exchange\n    RESPONSE_ROUTING_KEY: response.routing.key\n    RABBITMQ_HOST: rabbitmq\n    RABBITMQ_PORT: 5672\n    RABBITMQ_VHOST: /\n    RABBITMQ_USERNAME: guest\n    RABBITMQ_PASSWORD: guest\n    JDBC_URL: jdbc:mysql://mysql:3306/hided\n  links:\n    - mysql:mysql\n    - rabbitmq:rabbitmq\nmysql:\n  image: mysql:5.7\n  environment:\n    MYSQL_DATABASE: hided\n    MYSQL_ROOT_PASSWORD: secret\nrabbitmq:\n  image: rabbitmq:3.6-management\n  ports:\n    - 15672:15672\n</code></pre>\n\n<p>And I copied this example, adding maven configuration to it: <a href=\"https://github.com/spring-guides/gs-messaging-rabbitmq/tree/master/complete\" rel=\"nofollow noreferrer\">https://github.com/spring-guides/gs-messaging-rabbitmq/tree/master/complete</a></p>\n\n<p>The RabbitMQ is accessed through the URL localhost:15672 correctly with username and password \"guest\"</p>\n\n<p>But when I run this example, it gives me this error (which I believe the important message is <strong>Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect</strong>):</p>\n\n<pre><code>2020-04-11 04:50:49.202  INFO 25576 --- [           main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\n2020-04-11 04:50:51.222  INFO 25576 --- [           main] o.s.a.r.l.SimpleMessageListenerContainer : Broker not available; cannot force queue declarations during start: java.net.ConnectException: Connection refused: connect\n2020-04-11 04:50:51.225  INFO 25576 --- [    container-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\n2020-04-11 04:50:53.242 ERROR 25576 --- [    container-1] o.s.a.r.l.SimpleMessageListenerContainer : Failed to check/redeclare auto-delete queue(s).\n\norg.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect\n    at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:510) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:751) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:214) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2095) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2068) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2048) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueInfo(RabbitAdmin.java:407) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.core.RabbitAdmin.getQueueProperties(RabbitAdmin.java:391) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.attemptDeclarations(AbstractMessageListenerContainer.java:1830) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.listener.AbstractMessageListenerContainer.redeclareElementsIfNecessary(AbstractMessageListenerContainer.java:1811) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.initialize(SimpleMessageListenerContainer.java:1342) [spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.listener.SimpleMessageListenerContainer$AsyncMessageProcessingConsumer.run(SimpleMessageListenerContainer.java:1188) [spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at java.lang.Thread.run(Unknown Source) [na:1.8.0_241]\nCaused by: java.net.ConnectException: Connection refused: connect\n    at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_241]\n    at java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[na:1.8.0_241]\n    at java.net.PlainSocketImpl.connect(Unknown Source) ~[na:1.8.0_241]\n    at java.net.SocksSocketImpl.connect(Unknown Source) ~[na:1.8.0_241]\n    at java.net.Socket.connect(Unknown Source) ~[na:1.8.0_241]\n    at com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:60) ~[amqp-client-5.7.3.jar:5.7.3]\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1113) ~[amqp-client-5.7.3.jar:5.7.3]\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1063) ~[amqp-client-5.7.3.jar:5.7.3]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:526) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:473) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    ... 12 common frames omitted\n\n2020-04-11 04:50:53.244  INFO 25576 --- [    container-1] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\n2020-04-11 04:50:55.266  INFO 25576 --- [           main] c.a.A.AppNameApplication           : Started AppNameApplication in 7.328 seconds (JVM running for 8.175)\nSending message...\n2020-04-11 04:50:55.268  INFO 25576 --- [           main] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]\n2020-04-11 04:50:57.285  INFO 25576 --- [           main] ConditionEvaluationReportLoggingListener : \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2020-04-11 04:50:57.293 ERROR 25576 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\njava.lang.IllegalStateException: Failed to execute CommandLineRunner\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:787) [spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.callRunners(SpringApplication.java:768) [spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:322) [spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1226) [spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1215) [spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    at com.appname.AppName.AppNameApplication.main(AppNameApplication.java:19) [classes/:na]\nCaused by: org.springframework.amqp.AmqpConnectException: java.net.ConnectException: Connection refused: connect\n    at org.springframework.amqp.rabbit.support.RabbitExceptionTranslator.convertRabbitAccessException(RabbitExceptionTranslator.java:61) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:510) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.connection.CachingConnectionFactory.createConnection(CachingConnectionFactory.java:751) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.connection.ConnectionFactoryUtils.createConnection(ConnectionFactoryUtils.java:214) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.doExecute(RabbitTemplate.java:2095) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.execute(RabbitTemplate.java:2068) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.send(RabbitTemplate.java:1009) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1075) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.core.RabbitTemplate.convertAndSend(RabbitTemplate.java:1068) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at com.appname.AppName.Runner.run(Runner.java:23) ~[classes/:na]\n    at org.springframework.boot.SpringApplication.callRunner(SpringApplication.java:784) [spring-boot-2.2.6.RELEASE.jar:2.2.6.RELEASE]\n    ... 5 common frames omitted\nCaused by: java.net.ConnectException: Connection refused: connect\n    at java.net.DualStackPlainSocketImpl.waitForConnect(Native Method) ~[na:1.8.0_241]\n    at java.net.DualStackPlainSocketImpl.socketConnect(Unknown Source) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.doConnect(Unknown Source) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connectToAddress(Unknown Source) ~[na:1.8.0_241]\n    at java.net.AbstractPlainSocketImpl.connect(Unknown Source) ~[na:1.8.0_241]\n    at java.net.PlainSocketImpl.connect(Unknown Source) ~[na:1.8.0_241]\n    at java.net.SocksSocketImpl.connect(Unknown Source) ~[na:1.8.0_241]\n    at java.net.Socket.connect(Unknown Source) ~[na:1.8.0_241]\n    at com.rabbitmq.client.impl.SocketFrameHandlerFactory.create(SocketFrameHandlerFactory.java:60) ~[amqp-client-5.7.3.jar:5.7.3]\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1113) ~[amqp-client-5.7.3.jar:5.7.3]\n    at com.rabbitmq.client.ConnectionFactory.newConnection(ConnectionFactory.java:1063) ~[amqp-client-5.7.3.jar:5.7.3]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.connect(AbstractConnectionFactory.java:526) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    at org.springframework.amqp.rabbit.connection.AbstractConnectionFactory.createBareConnection(AbstractConnectionFactory.java:473) ~[spring-rabbit-2.2.5.RELEASE.jar:2.2.5.RELEASE]\n    ... 14 common frames omitted\n\n2020-04-11 04:50:57.296  INFO 25576 --- [           main] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.\n2020-04-11 04:50:57.296  INFO 25576 --- [           main] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.\n2020-04-11 04:50:57.298  INFO 25576 --- [           main] o.s.a.r.l.SimpleMessageListenerContainer : Shutdown ignored - container is not active already\n</code></pre>\n\n<p>I would like to understand what I am doing wrong, I tried to add the code below to \"MessagingRabbitmqApplication.java\" to force the connection, made some changes in ports, address, disabled firewall, no success:</p>\n\n<pre><code>@Bean\n    public ConnectionFactory connectionFactory() {\n        CachingConnectionFactory connectionFactory = new CachingConnectionFactory();\n        connectionFactory.setHost(\"localhost\");\n        connectionFactory.setVirtualHost(\"/\");\n        connectionFactory.setUsername(\"guest\");\n        connectionFactory.setPassword(\"guest\");\n        return connectionFactory;\n    }\n</code></pre>\n\n<p>I did try other examples but I keep facing this same error.</p>\n\n<p>My Dockerfile is:</p>\n\n<pre><code># Start with a base image containing Java runtime\nFROM openjdk:8-jdk-alpine\n\n# Add Maintainer Info\nLABEL maintainer=\"hidden\"\n\n# Add a volume pointing to /tmp\nVOLUME /tmp\n\nARG JAR_FILE=target/*.jar\nCOPY ${JAR_FILE} app.jar\nENTRYPOINT [\"java\",\"-Djava.security.egd=file:/dev/./urandom\",\"-jar\",\"/app.jar\"]\n</code></pre>\n\n<p>And my application.properties is:</p>\n\n<pre><code>#Database properties\nspring.datasource.url = jdbc:mysql://mysql:3306/app_name?user=root&amp;password=secret\nspring.datasource.username = root\nspring.datasource.password = secret\nspring.datasource.platform = mysql\nspring.datasource.driver-class-name = com.mysql.cj.jdbc.Driver\n\n#Rabbitmq properties\nspring.rabbitmq.host=localhost\nspring.rabbitmq.port=5672\nspring.rabbitmq.username=guest\nspring.rabbitmq.password=guest\nspring.rabbitmq.template.exchange=response.exchange\nspring.rabbitmq.template.routing-key=response.routing.key\nspring.rabbitmq.virtual-host=/\n</code></pre>\n\n<p>Thank you for your time,\nI appreciate any help.</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux","pom.xml"],"comments":[{"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"score":1,"creation_date":1676047404,"post_id":75413490,"comment_id":133065335,"body_markdown":"your app is configured with spring mvc, not with webflux. This is the defualt behaviour when you have both spring mvc and spring webflux in your classpath. So you should somehow exclude web mvc dependency","body":"your app is configured with spring mvc, not with webflux. This is the defualt behaviour when you have both spring mvc and spring webflux in your classpath. So you should somehow exclude web mvc dependency"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1676074929,"post_id":75413490,"comment_id":133071302,"body_markdown":"what kerbermeister is writing is correct, you can try to enforce reactive by setting `SpringApplication.setWebApplicationType(WebApplicationType.REACTIVE)` in the main function as noted in the last section here https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.reactive.webflux in the docs","body":"what kerbermeister is writing is correct, you can try to enforce reactive by setting <code>SpringApplication.setWebApplicationType(WebApplicationType.R&zwnj;&#8203;EACTIVE)</code> in the main function as noted in the last section here <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#web.reactive.webflux\" rel=\"nofollow noreferrer\">docs.spring.io/spring-boot/docs/current/reference/htmlsingle&zwnj;&#8203;/&hellip;</a> in the docs"}],"owner":{"account_id":2237989,"reputation":3237,"user_id":1973779,"accept_rate":27,"display_name":"Rahul Raj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676045258,"creation_date":1676045258,"question_id":75413490,"body_markdown":"I&#39;m using `WebFlux` router for mapping a `GET` router:\r\n\r\n```\r\n@Configuration\r\npublic class BookingRouter {\r\n\r\n    @Bean\r\n    public RouterFunction&lt;ServerResponse&gt; route(BookingHandler handler) {\r\n        return RouterFunctions.route(GET(&quot;/booking&quot;), handler::getBooking);\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nHere&#39;s my `pom.xml`:\r\n```\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;booking.microservices&lt;/groupId&gt;\r\n    &lt;artifactId&gt;booking-parent&lt;/artifactId&gt; // contains all spring dependencies, and cannot be modified.\r\n    &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;relativePath/&gt;\r\n&lt;/parent&gt;\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\n\r\nWhen I try to access `http://localhost:8080/booking`, I get an error in console:\r\n\r\n```\r\n{&quot;timestamp&quot;:&quot;2023-02-10 21:19:20.709&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;thread&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;mdc&quot;:{&quot;traceId&quot;:&quot;c38258dc765969e9&quot;,&quot;spanId&quot;:&quot;c38258dc765969e9&quot;,&quot;correlationId&quot;:null},&quot;logger&quot;:&quot;org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver&quot;,&quot;message&quot;:&quot;Resolved [org.springframework.web.servlet.NoHandlerFoundException: No handler found for GET /booking]&quot;}\r\n\r\n```\r\n\r\nI cannot add an exclusion like below since I cannot modify parent pom:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nHow do I fix the issue?\r\n","title":"Spring WebFlux - org.springframework.web.servlet.NoHandlerFoundException: No handler found for GET /booking","body":"<p>I'm using <code>WebFlux</code> router for mapping a <code>GET</code> router:</p>\n<pre><code>@Configuration\npublic class BookingRouter {\n\n    @Bean\n    public RouterFunction&lt;ServerResponse&gt; route(BookingHandler handler) {\n        return RouterFunctions.route(GET(&quot;/booking&quot;), handler::getBooking);\n    }\n\n}\n</code></pre>\n<p>Here's my <code>pom.xml</code>:</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;booking.microservices&lt;/groupId&gt;\n    &lt;artifactId&gt;booking-parent&lt;/artifactId&gt; // contains all spring dependencies, and cannot be modified.\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;relativePath/&gt;\n&lt;/parent&gt;\n&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>When I try to access <code>http://localhost:8080/booking</code>, I get an error in console:</p>\n<pre><code>{&quot;timestamp&quot;:&quot;2023-02-10 21:19:20.709&quot;,&quot;level&quot;:&quot;WARN&quot;,&quot;thread&quot;:&quot;http-nio-8080-exec-1&quot;,&quot;mdc&quot;:{&quot;traceId&quot;:&quot;c38258dc765969e9&quot;,&quot;spanId&quot;:&quot;c38258dc765969e9&quot;,&quot;correlationId&quot;:null},&quot;logger&quot;:&quot;org.springframework.web.servlet.mvc.support.DefaultHandlerExceptionResolver&quot;,&quot;message&quot;:&quot;Resolved [org.springframework.web.servlet.NoHandlerFoundException: No handler found for GET /booking]&quot;}\n\n</code></pre>\n<p>I cannot add an exclusion like below since I cannot modify parent pom:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>How do I fix the issue?</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":2364020,"reputation":4921,"user_id":2070111,"accept_rate":81,"display_name":"Nick"},"score":0,"creation_date":1534143545,"post_id":51816707,"comment_id":90587619,"body_markdown":"When you say &#39;not working&#39; is there an error? If not, can you describe the actual behaviour and what you would like it to do instead?","body":"When you say &#39;not working&#39; is there an error? If not, can you describe the actual behaviour and what you would like it to do instead?"}],"answers":[{"comments":[{"owner":{"account_id":7523478,"reputation":124,"user_id":5714583,"display_name":"MehulGohil"},"score":0,"creation_date":1646038275,"post_id":52212319,"comment_id":126017133,"body_markdown":"I am not finding the Switch On option in dashboard","body":"I am not finding the Switch On option in dashboard"},{"owner":{"account_id":1304226,"reputation":659,"user_id":5477988,"display_name":"Thomas Elliot"},"score":1,"creation_date":1646435482,"post_id":52212319,"comment_id":126130677,"body_markdown":"You can try integrating their MAX solution, will provide better monetization through numerous demand partners: https://dash.applovin.com/documentation/mediation","body":"You can try integrating their MAX solution, will provide better monetization through numerous demand partners: <a href=\"https://dash.applovin.com/documentation/mediation\" rel=\"nofollow noreferrer\">dash.applovin.com/documentation/mediation</a>"}],"tags":[],"owner":{"account_id":1304226,"reputation":659,"user_id":5477988,"display_name":"Thomas Elliot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536268832,"creation_date":1536268832,"answer_id":52212319,"question_id":51816707,"body_markdown":"Make sure that you have your SDK key in the Android Manifest file as described [here][1]. Then, you need to go to your AppLovin dashboard and click Monetize -&gt; Manage Apps -&gt; Your App, then flip the &quot;Banner Ads&quot; switch to ON.\r\n\r\n\r\n  [1]: https://dash.applovin.com/integration#androidIntegration","title":"Applovin banner not show","body":"<p>Make sure that you have your SDK key in the Android Manifest file as described <a href=\"https://dash.applovin.com/integration#androidIntegration\" rel=\"nofollow noreferrer\">here</a>. Then, you need to go to your AppLovin dashboard and click Monetize -> Manage Apps -> Your App, then flip the \"Banner Ads\" switch to ON.</p>\n"},{"tags":[],"owner":{"account_id":19882630,"reputation":194,"user_id":14566306,"display_name":"TexD"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676044944,"creation_date":1676044944,"answer_id":75413435,"question_id":51816707,"body_markdown":"add Dependency in `buld.gradle(Module:app)`\r\n\r\n    //max/applovin dependency\r\n    implementation &#39;com.applovin:applovin-sdk:11.7.0&#39;\r\n    //if you use fb with applovin mediation\r\n    implementation &#39;com.applovin.mediation:facebook-adapter:6.12.0.2&#39;\r\n    implementation &#39;com.facebook.android:audience-network-sdk:6.12.0&#39;\r\n\r\nAdd this in `manifest` file above `&lt;/application&gt;` tag: sdkKey see in Applovin/Max setting.\r\n\r\n    &lt;meta-data\r\n            android:name=&quot;applovin.sdk.key&quot;\r\n            android:value=&quot;@string/sdkKey&quot; /&gt;\r\n\r\nIn `XML` (with adUnit Id):\r\n\r\n    &lt;com.applovin.mediation.ads.MaxAdView\r\n            xmlns:maxads=&quot;http://schemas.applovin.com/android/1.0&quot;\r\n            maxads:adUnitId=&quot;3ede******ed&quot;\r\n            android:background=&quot;@color/white&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;50dp&quot;\r\n            android:id=&quot;@+id/maxBannerADDDD&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            /&gt;\r\n\r\nIn `java`\r\n\r\nfirst initialize sdk\r\n\r\n    private MaxAdView adView;\r\n    //max banner ad\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_dictionary);\r\n\r\n        //add banner with findViewById\r\n        adView= findViewById(R.id.maxBannerADDDD);\r\n        maxSdkIntialize(); //call sdk initialize function\r\n\r\n    }\r\n\r\n    private void maxSdkIntialize(){\r\n        // Max/Applovin SDK initialize\r\n        AppLovinSdk.getInstance( this ).setMediationProvider( &quot;max&quot; );\r\n        AppLovinSdk.initializeSdk(getApplicationContext(), new AppLovinSdk.SdkInitializationListener() {\r\n            public void onSdkInitialized(AppLovinSdkConfiguration appLovinSdkConfiguration) {\r\n                //banner ads after intialize\r\n                funBannerAd();\r\n            }\r\n        });\r\n    }\r\n    private void funBannerAd(){\r\n        adView.loadAd();\r\n        adView.startAutoRefresh();\r\n    }\r\n\r\n\r\nThanks:)","title":"Applovin banner not show","body":"<p>add Dependency in <code>buld.gradle(Module:app)</code></p>\n<pre><code>//max/applovin dependency\nimplementation 'com.applovin:applovin-sdk:11.7.0'\n//if you use fb with applovin mediation\nimplementation 'com.applovin.mediation:facebook-adapter:6.12.0.2'\nimplementation 'com.facebook.android:audience-network-sdk:6.12.0'\n</code></pre>\n<p>Add this in <code>manifest</code> file above <code>&lt;/application&gt;</code> tag: sdkKey see in Applovin/Max setting.</p>\n<pre><code>&lt;meta-data\n        android:name=&quot;applovin.sdk.key&quot;\n        android:value=&quot;@string/sdkKey&quot; /&gt;\n</code></pre>\n<p>In <code>XML</code> (with adUnit Id):</p>\n<pre><code>&lt;com.applovin.mediation.ads.MaxAdView\n        xmlns:maxads=&quot;http://schemas.applovin.com/android/1.0&quot;\n        maxads:adUnitId=&quot;3ede******ed&quot;\n        android:background=&quot;@color/white&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;50dp&quot;\n        android:id=&quot;@+id/maxBannerADDDD&quot;\n        android:layout_gravity=&quot;bottom&quot;\n        /&gt;\n</code></pre>\n<p>In <code>java</code></p>\n<p>first initialize sdk</p>\n<pre><code>private MaxAdView adView;\n//max banner ad\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_dictionary);\n\n    //add banner with findViewById\n    adView= findViewById(R.id.maxBannerADDDD);\n    maxSdkIntialize(); //call sdk initialize function\n\n}\n\nprivate void maxSdkIntialize(){\n    // Max/Applovin SDK initialize\n    AppLovinSdk.getInstance( this ).setMediationProvider( &quot;max&quot; );\n    AppLovinSdk.initializeSdk(getApplicationContext(), new AppLovinSdk.SdkInitializationListener() {\n        public void onSdkInitialized(AppLovinSdkConfiguration appLovinSdkConfiguration) {\n            //banner ads after intialize\n            funBannerAd();\n        }\n    });\n}\nprivate void funBannerAd(){\n    adView.loadAd();\n    adView.startAutoRefresh();\n}\n</code></pre>\n<p>Thanks:)</p>\n"}],"owner":{"account_id":12981764,"reputation":21,"user_id":9383915,"display_name":"Danish Ali"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2247,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1676044944,"creation_date":1534143467,"question_id":51816707,"body_markdown":"I am trying this line of code but it does not work for me, could somebody help me?\r\n\r\n      \r\n    &lt;com.applovin.adview.AppLovinAdView\r\n      android:id=&quot;@+id/applovin_banner&quot;\r\n      android:layout_alignParentBottom=&quot;true&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;wrap_content&quot;&gt;\r\n      &lt;/com.applovin.adview.AppLovinAdView&gt;\r\n\r\njava:\r\n\r\n     AppLovinAdView adView=findViewById(R.id.applovin_banner);\r\n        adView.loadNextAd();\r\n        adView.isShown();\r\n\r\n  \r\n\r\n ","title":"Applovin banner not show","body":"<p>I am trying this line of code but it does not work for me, could somebody help me?</p>\n\n<pre><code>&lt;com.applovin.adview.AppLovinAdView\n  android:id=\"@+id/applovin_banner\"\n  android:layout_alignParentBottom=\"true\"\n  android:layout_width=\"match_parent\"\n  android:layout_height=\"wrap_content\"&gt;\n  &lt;/com.applovin.adview.AppLovinAdView&gt;\n</code></pre>\n\n<p>java:</p>\n\n<pre><code> AppLovinAdView adView=findViewById(R.id.applovin_banner);\n    adView.loadNextAd();\n    adView.isShown();\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","spring-security","spring-data-jpa"],"comments":[{"owner":{"account_id":23128289,"reputation":19,"user_id":17233773,"display_name":"witcha"},"score":0,"creation_date":1676038771,"post_id":75404617,"comment_id":133062472,"body_markdown":"@dsp_user `WebSecurityConfigurerAdapter` was deprecated by Spring. See the [link](https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter)  for further information.","body":"@dsp_user <code>WebSecurityConfigurerAdapter</code> was deprecated by Spring. See the <a href=\"https://spring.io/blog/2022/02/21/spring-security-without-the-websecurityconfigureradapter\" rel=\"nofollow noreferrer\">link</a>  for further information."},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1676040410,"post_id":75404617,"comment_id":133063022,"body_markdown":"Also the logs you have posted is only the starting logs of the server. You started the server and then copied the logs. We need the logs from when you are doing what it is you are doing. So that we can read the logs and see what server is doing","body":"Also the logs you have posted is only the starting logs of the server. You started the server and then copied the logs. We need the logs from when you are doing what it is you are doing. So that we can read the logs and see what server is doing"},{"owner":{"account_id":23128289,"reputation":19,"user_id":17233773,"display_name":"witcha"},"score":0,"creation_date":1676044215,"post_id":75404617,"comment_id":133064278,"body_markdown":"@Toerktumlare Thanks for letting me know. I have updated the logs. As I realize that the program keeps redirecting me to the same page and that&#39;s why I get _localhost redirected you too many times._ error. I have uploaded the project to GitHub so you can also check it out from [here](https://github.com/wiitcha/spring-boot-security).","body":"@Toerktumlare Thanks for letting me know. I have updated the logs. As I realize that the program keeps redirecting me to the same page and that&#39;s why I get <i>localhost redirected you too many times.</i> error. I have uploaded the project to GitHub so you can also check it out from <a href=\"https://github.com/wiitcha/spring-boot-security\" rel=\"nofollow noreferrer\">here</a>."},{"owner":{"account_id":1133647,"reputation":2061,"user_id":1119161,"accept_rate":31,"display_name":"dsp_user"},"score":0,"creation_date":1676056473,"post_id":75404617,"comment_id":133067764,"body_markdown":"@witcha, all those redirects (302) in the log clearly point to what is happening but I don&#39;t see anything wrong in your code. I can&#39;t say if that&#39;s a Spring boot bug either. you can perhaps try to use a default login page http.formLogin(withDefaults()); just to see if it makes any difference.","body":"@witcha, all those redirects (302) in the log clearly point to what is happening but I don&#39;t see anything wrong in your code. I can&#39;t say if that&#39;s a Spring boot bug either. you can perhaps try to use a default login page http.formLogin(withDefaults()); just to see if it makes any difference."}],"owner":{"account_id":23128289,"reputation":19,"user_id":17233773,"display_name":"witcha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1676123742,"answer_count":0,"score":0,"last_activity_date":1676044482,"creation_date":1675978307,"question_id":75404617,"body_markdown":"I am trying to build a Spring Boot Thymeleaf application to make use of Spring Security. I was trying to get redirected to my custom login page however I am getting the &quot;localhost redirected you too many times.&quot; error once I try to do it.\r\n\r\nMy Config File:\r\n\r\n```\r\npackage com.emir.securitydemo.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\npublic class EmployeeSecurityConfig {\r\n\t\r\n\t@Bean\r\n\tpublic UserDetailsService userDetailsService() {\r\n\t\treturn new EmployeeUserDetailsService();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\treturn http.authorizeHttpRequests()\r\n\t\t\t\t//.requestMatchers(&quot;/login/showMyLoginPage&quot;).permitAll()\r\n\t\t\t\t.and()\r\n\t\t\t\t.formLogin()\r\n\t\t\t\t\t.loginPage(&quot;/login/showMyLoginPage&quot;).permitAll()\r\n\t\t\t\t.and().build();\r\n\t\t\t\t\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic PasswordEncoder passwordEncoder() {\r\n\t\treturn new BCryptPasswordEncoder();\r\n\t}\r\n\t\r\n\t@Bean\r\n\tpublic AuthenticationProvider authenticationProvider() {\r\n\t\tDaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n\t\tauthenticationProvider.setUserDetailsService(userDetailsService());\r\n\t\tauthenticationProvider.setPasswordEncoder(passwordEncoder());\r\n\t\treturn authenticationProvider;\r\n\t}\r\n\t\r\n\t\r\n\r\n}\r\n```\r\nController:\r\n```package com.emir.securitydemo.controller;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\n\r\nimport com.emir.securitydemo.service.EmployeeService;\r\n\r\n@Controller\r\n@RequestMapping(&quot;/login&quot;)\r\npublic class LoginController {\r\n\t\r\n\t@Autowired\r\n\tprivate EmployeeService empService;\r\n\t\r\n\t@GetMapping(&quot;/showMyLoginPage&quot;)\r\n\tpublic String welcome() {\r\n\t\treturn &quot;login-page&quot;;\r\n\t}\r\n\r\n}\r\n```\r\nProject Structure:\r\n[![Project Structure][1]][1]\r\n\r\n\r\nI am able to get my default view page once I cleared inside of the .loginPage(). I tried various ways of editing my SecurityFilterChain function however I could not figure it out.\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iAlh0.png\r\n  [2]: https://i.stack.imgur.com/qU1lK.png\r\n\r\nDebug Logs:\r\n```\r\n2023-02-10T18:53:31.648+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver\r\n2023-02-10T18:53:31.648+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver\r\n2023-02-10T18:53:31.648+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver\r\n2023-02-10T18:53:31.649+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@35e7fcf2\r\n2023-02-10T18:53:31.649+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@da4c5cb\r\n2023-02-10T18:53:31.650+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n2023-02-10T18:53:31.650+03:00  INFO 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\r\n2023-02-10T18:53:31.715+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2023-02-10T18:53:31.729+03:00 DEBUG 1984 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\r\n2023-02-10T18:53:31.748+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n2023-02-10T18:53:31.748+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.w.servlet.view.InternalResourceView  : View name &#39;login/login-page&#39;, model {}\r\n2023-02-10T18:53:31.751+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\r\n2023-02-10T18:53:31.758+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-02-10T18:53:31.763+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2023-02-10T18:53:31.763+03:00 DEBUG 1984 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\r\n2023-02-10T18:53:31.764+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n2023-02-10T18:53:31.764+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.w.servlet.view.InternalResourceView  : View name &#39;login/login-page&#39;, model {}\r\n2023-02-10T18:53:31.765+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\r\n2023-02-10T18:53:31.768+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-02-10T18:53:31.773+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2023-02-10T18:53:31.774+03:00 DEBUG 1984 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\r\n2023-02-10T18:53:31.775+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n2023-02-10T18:53:31.775+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.w.servlet.view.InternalResourceView  : View name &#39;login/login-page&#39;, model {}\r\n2023-02-10T18:53:31.775+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\r\n2023-02-10T18:53:31.778+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-02-10T18:53:31.784+03:00 DEBUG 1984 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2023-02-10T18:53:31.785+03:00 DEBUG 1984 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\r\n2023-02-10T18:53:31.786+03:00 DEBUG 1984 --- [nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n2023-02-10T18:53:31.786+03:00 DEBUG 1984 --- [nio-8080-exec-4] o.s.w.servlet.view.InternalResourceView  : View name &#39;login/login-page&#39;, model {}\r\n2023-02-10T18:53:31.786+03:00 DEBUG 1984 --- [nio-8080-exec-4] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\r\n2023-02-10T18:53:31.790+03:00 DEBUG 1984 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-02-10T18:53:31.795+03:00 DEBUG 1984 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2023-02-10T18:53:31.796+03:00 DEBUG 1984 --- [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\r\n2023-02-10T18:53:31.797+03:00 DEBUG 1984 --- [nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n2023-02-10T18:53:31.797+03:00 DEBUG 1984 --- [nio-8080-exec-6] o.s.w.servlet.view.InternalResourceView  : View name &#39;login/login-page&#39;, model {}\r\n2023-02-10T18:53:31.797+03:00 DEBUG 1984 --- [nio-8080-exec-6] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\r\n2023-02-10T18:53:31.800+03:00 DEBUG 1984 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-02-10T18:53:31.806+03:00 DEBUG 1984 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2023-02-10T18:53:31.807+03:00 DEBUG 1984 --- [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\r\n2023-02-10T18:53:31.808+03:00 DEBUG 1984 --- [nio-8080-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n2023-02-10T18:53:31.808+03:00 DEBUG 1984 --- [nio-8080-exec-7] o.s.w.servlet.view.InternalResourceView  : View name &#39;login/login-page&#39;, model {}\r\n2023-02-10T18:53:31.808+03:00 DEBUG 1984 --- [nio-8080-exec-7] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\r\n2023-02-10T18:53:31.810+03:00 DEBUG 1984 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-02-10T18:53:31.814+03:00 DEBUG 1984 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2023-02-10T18:53:31.815+03:00 DEBUG 1984 --- [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\r\n2023-02-10T18:53:31.816+03:00 DEBUG 1984 --- [nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n2023-02-10T18:53:31.816+03:00 DEBUG 1984 --- [nio-8080-exec-8] o.s.w.servlet.view.InternalResourceView  : View name &#39;login/login-page&#39;, model {}\r\n2023-02-10T18:53:31.816+03:00 DEBUG 1984 --- [nio-8080-exec-8] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\r\n2023-02-10T18:53:31.818+03:00 DEBUG 1984 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-02-10T18:53:31.823+03:00 DEBUG 1984 --- [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2023-02-10T18:53:31.823+03:00 DEBUG 1984 --- [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\r\n2023-02-10T18:53:31.825+03:00 DEBUG 1984 --- [nio-8080-exec-9] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n2023-02-10T18:53:31.825+03:00 DEBUG 1984 --- [nio-8080-exec-9] o.s.w.servlet.view.InternalResourceView  : View name &#39;login/login-page&#39;, model {}\r\n2023-02-10T18:53:31.825+03:00 DEBUG 1984 --- [nio-8080-exec-9] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\r\n2023-02-10T18:53:31.828+03:00 DEBUG 1984 --- [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-02-10T18:53:31.833+03:00 DEBUG 1984 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2023-02-10T18:53:31.834+03:00 DEBUG 1984 --- [io-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\r\n2023-02-10T18:53:31.836+03:00 DEBUG 1984 --- [io-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n2023-02-10T18:53:31.836+03:00 DEBUG 1984 --- [io-8080-exec-10] o.s.w.servlet.view.InternalResourceView  : View name &#39;login/login-page&#39;, model {}\r\n2023-02-10T18:53:31.836+03:00 DEBUG 1984 --- [io-8080-exec-10] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\r\n2023-02-10T18:53:31.840+03:00 DEBUG 1984 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-02-10T18:53:31.845+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2023-02-10T18:53:31.845+03:00 DEBUG 1984 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\r\n2023-02-10T18:53:31.846+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n2023-02-10T18:53:31.846+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : View name &#39;login/login-page&#39;, model {}\r\n2023-02-10T18:53:31.846+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\r\n2023-02-10T18:53:31.848+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-02-10T18:53:31.853+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2023-02-10T18:53:31.854+03:00 DEBUG 1984 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\r\n2023-02-10T18:53:31.854+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n2023-02-10T18:53:31.854+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.w.servlet.view.InternalResourceView  : View name &#39;login/login-page&#39;, model {}\r\n2023-02-10T18:53:31.855+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\r\n2023-02-10T18:53:31.857+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-02-10T18:53:31.862+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2023-02-10T18:53:31.862+03:00 DEBUG 1984 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\r\n2023-02-10T18:53:31.863+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n2023-02-10T18:53:31.863+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.w.servlet.view.InternalResourceView  : View name &#39;login/login-page&#39;, model {}\r\n2023-02-10T18:53:31.864+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\r\n2023-02-10T18:53:31.868+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-02-10T18:53:31.873+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2023-02-10T18:53:31.874+03:00 DEBUG 1984 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\r\n2023-02-10T18:53:31.875+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected &#39;text/html&#39; given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\r\n2023-02-10T18:53:31.875+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.w.servlet.view.InternalResourceView  : View name &#39;login/login-page&#39;, model {}\r\n2023-02-10T18:53:31.875+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\r\n2023-02-10T18:53:31.877+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\r\n2023-02-10T18:53:31.881+03:00 DEBUG 1984 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\r\n2023-02-10T18:53:31.881+03:00 DEBUG 1984 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to \r\n```","title":"Unable to View Custom Login Page Using Spring Security","body":"<p>I am trying to build a Spring Boot Thymeleaf application to make use of Spring Security. I was trying to get redirected to my custom login page however I am getting the &quot;localhost redirected you too many times.&quot; error once I try to do it.</p>\n<p>My Config File:</p>\n<pre><code>package com.emir.securitydemo.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.method.configuration.EnableMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\n@EnableMethodSecurity\npublic class EmployeeSecurityConfig {\n    \n    @Bean\n    public UserDetailsService userDetailsService() {\n        return new EmployeeUserDetailsService();\n    }\n    \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        return http.authorizeHttpRequests()\n                //.requestMatchers(&quot;/login/showMyLoginPage&quot;).permitAll()\n                .and()\n                .formLogin()\n                    .loginPage(&quot;/login/showMyLoginPage&quot;).permitAll()\n                .and().build();\n                \n    }\n    \n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n    \n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n        authenticationProvider.setUserDetailsService(userDetailsService());\n        authenticationProvider.setPasswordEncoder(passwordEncoder());\n        return authenticationProvider;\n    }\n    \n    \n\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\nimport com.emir.securitydemo.service.EmployeeService;\n\n@Controller\n@RequestMapping(&quot;/login&quot;)\npublic class LoginController {\n    \n    @Autowired\n    private EmployeeService empService;\n    \n    @GetMapping(&quot;/showMyLoginPage&quot;)\n    public String welcome() {\n        return &quot;login-page&quot;;\n    }\n\n}\n</code></pre>\n<p>Project Structure:\n<a href=\"https://i.stack.imgur.com/iAlh0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iAlh0.png\" alt=\"Project Structure\" /></a></p>\n<p>I am able to get my default view page once I cleared inside of the .loginPage(). I tried various ways of editing my SecurityFilterChain function however I could not figure it out.\n<a href=\"https://i.stack.imgur.com/qU1lK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qU1lK.png\" alt=\"enter image description here\" /></a></p>\n<p>Debug Logs:</p>\n<pre><code>2023-02-10T18:53:31.648+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver\n2023-02-10T18:53:31.648+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver\n2023-02-10T18:53:31.648+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver\n2023-02-10T18:53:31.649+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@35e7fcf2\n2023-02-10T18:53:31.649+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@da4c5cb\n2023-02-10T18:53:31.650+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n2023-02-10T18:53:31.650+03:00  INFO 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\n2023-02-10T18:53:31.715+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-02-10T18:53:31.729+03:00 DEBUG 1984 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\n2023-02-10T18:53:31.748+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-02-10T18:53:31.748+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.w.servlet.view.InternalResourceView  : View name 'login/login-page', model {}\n2023-02-10T18:53:31.751+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\n2023-02-10T18:53:31.758+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-02-10T18:53:31.763+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-02-10T18:53:31.763+03:00 DEBUG 1984 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\n2023-02-10T18:53:31.764+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-02-10T18:53:31.764+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.w.servlet.view.InternalResourceView  : View name 'login/login-page', model {}\n2023-02-10T18:53:31.765+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\n2023-02-10T18:53:31.768+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-02-10T18:53:31.773+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-02-10T18:53:31.774+03:00 DEBUG 1984 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\n2023-02-10T18:53:31.775+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-02-10T18:53:31.775+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.w.servlet.view.InternalResourceView  : View name 'login/login-page', model {}\n2023-02-10T18:53:31.775+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\n2023-02-10T18:53:31.778+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-02-10T18:53:31.784+03:00 DEBUG 1984 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-02-10T18:53:31.785+03:00 DEBUG 1984 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\n2023-02-10T18:53:31.786+03:00 DEBUG 1984 --- [nio-8080-exec-4] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-02-10T18:53:31.786+03:00 DEBUG 1984 --- [nio-8080-exec-4] o.s.w.servlet.view.InternalResourceView  : View name 'login/login-page', model {}\n2023-02-10T18:53:31.786+03:00 DEBUG 1984 --- [nio-8080-exec-4] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\n2023-02-10T18:53:31.790+03:00 DEBUG 1984 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-02-10T18:53:31.795+03:00 DEBUG 1984 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-02-10T18:53:31.796+03:00 DEBUG 1984 --- [nio-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\n2023-02-10T18:53:31.797+03:00 DEBUG 1984 --- [nio-8080-exec-6] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-02-10T18:53:31.797+03:00 DEBUG 1984 --- [nio-8080-exec-6] o.s.w.servlet.view.InternalResourceView  : View name 'login/login-page', model {}\n2023-02-10T18:53:31.797+03:00 DEBUG 1984 --- [nio-8080-exec-6] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\n2023-02-10T18:53:31.800+03:00 DEBUG 1984 --- [nio-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-02-10T18:53:31.806+03:00 DEBUG 1984 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-02-10T18:53:31.807+03:00 DEBUG 1984 --- [nio-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\n2023-02-10T18:53:31.808+03:00 DEBUG 1984 --- [nio-8080-exec-7] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-02-10T18:53:31.808+03:00 DEBUG 1984 --- [nio-8080-exec-7] o.s.w.servlet.view.InternalResourceView  : View name 'login/login-page', model {}\n2023-02-10T18:53:31.808+03:00 DEBUG 1984 --- [nio-8080-exec-7] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\n2023-02-10T18:53:31.810+03:00 DEBUG 1984 --- [nio-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-02-10T18:53:31.814+03:00 DEBUG 1984 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-02-10T18:53:31.815+03:00 DEBUG 1984 --- [nio-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\n2023-02-10T18:53:31.816+03:00 DEBUG 1984 --- [nio-8080-exec-8] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-02-10T18:53:31.816+03:00 DEBUG 1984 --- [nio-8080-exec-8] o.s.w.servlet.view.InternalResourceView  : View name 'login/login-page', model {}\n2023-02-10T18:53:31.816+03:00 DEBUG 1984 --- [nio-8080-exec-8] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\n2023-02-10T18:53:31.818+03:00 DEBUG 1984 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-02-10T18:53:31.823+03:00 DEBUG 1984 --- [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-02-10T18:53:31.823+03:00 DEBUG 1984 --- [nio-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\n2023-02-10T18:53:31.825+03:00 DEBUG 1984 --- [nio-8080-exec-9] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-02-10T18:53:31.825+03:00 DEBUG 1984 --- [nio-8080-exec-9] o.s.w.servlet.view.InternalResourceView  : View name 'login/login-page', model {}\n2023-02-10T18:53:31.825+03:00 DEBUG 1984 --- [nio-8080-exec-9] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\n2023-02-10T18:53:31.828+03:00 DEBUG 1984 --- [nio-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-02-10T18:53:31.833+03:00 DEBUG 1984 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-02-10T18:53:31.834+03:00 DEBUG 1984 --- [io-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\n2023-02-10T18:53:31.836+03:00 DEBUG 1984 --- [io-8080-exec-10] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-02-10T18:53:31.836+03:00 DEBUG 1984 --- [io-8080-exec-10] o.s.w.servlet.view.InternalResourceView  : View name 'login/login-page', model {}\n2023-02-10T18:53:31.836+03:00 DEBUG 1984 --- [io-8080-exec-10] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\n2023-02-10T18:53:31.840+03:00 DEBUG 1984 --- [io-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-02-10T18:53:31.845+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-02-10T18:53:31.845+03:00 DEBUG 1984 --- [nio-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\n2023-02-10T18:53:31.846+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-02-10T18:53:31.846+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : View name 'login/login-page', model {}\n2023-02-10T18:53:31.846+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\n2023-02-10T18:53:31.848+03:00 DEBUG 1984 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-02-10T18:53:31.853+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-02-10T18:53:31.854+03:00 DEBUG 1984 --- [nio-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\n2023-02-10T18:53:31.854+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-02-10T18:53:31.854+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.w.servlet.view.InternalResourceView  : View name 'login/login-page', model {}\n2023-02-10T18:53:31.855+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\n2023-02-10T18:53:31.857+03:00 DEBUG 1984 --- [nio-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-02-10T18:53:31.862+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-02-10T18:53:31.862+03:00 DEBUG 1984 --- [nio-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\n2023-02-10T18:53:31.863+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-02-10T18:53:31.863+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.w.servlet.view.InternalResourceView  : View name 'login/login-page', model {}\n2023-02-10T18:53:31.864+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\n2023-02-10T18:53:31.868+03:00 DEBUG 1984 --- [nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-02-10T18:53:31.873+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-02-10T18:53:31.874+03:00 DEBUG 1984 --- [nio-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to com.emir.securitydemo.controller.LoginController#welcome()\n2023-02-10T18:53:31.875+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.w.s.v.ContentNegotiatingViewResolver : Selected 'text/html' given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, */*;q=0.8, application/signed-exchange;v=b3;q=0.7]\n2023-02-10T18:53:31.875+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.w.servlet.view.InternalResourceView  : View name 'login/login-page', model {}\n2023-02-10T18:53:31.875+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.w.servlet.view.InternalResourceView  : Forwarding to [login/login-page]\n2023-02-10T18:53:31.877+03:00 DEBUG 1984 --- [nio-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 302 FOUND\n2023-02-10T18:53:31.881+03:00 DEBUG 1984 --- [nio-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET &quot;/login&quot;, parameters={}\n2023-02-10T18:53:31.881+03:00 DEBUG 1984 --- [nio-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to \n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":339859,"reputation":13331,"user_id":669576,"accept_rate":85,"display_name":"001"},"score":0,"creation_date":1676041096,"post_id":75412658,"comment_id":133063224,"body_markdown":"Don&#39;t `System.out.print(&quot; &quot; +M[i][j] + &quot;\\t&quot;);` when printing `{S}` or `{E}` ?? You can use `if/else if/else`.","body":"Don&#39;t <code>System.out.print(&quot; &quot; +M[i][j] + &quot;\\t&quot;);</code> when printing <code>{S}</code> or <code>{E}</code> ?? You can use <code>if&#47;else if&#47;else</code>."}],"answers":[{"tags":[],"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676043729,"creation_date":1676043729,"answer_id":75413229,"question_id":75412658,"body_markdown":"The problem is that you always print m[i][j].\r\n\r\nWhat you need is to only print m[i][j] when i and j are not S and E positions.  When i and j are S and E positions, print S or E.  Otherwise, print m[i][j].\r\n\r\n```\r\n            if(row_start == i &amp;&amp; col_start == j) {\r\n                System.out.print(&quot;{S}&quot; + &quot;\\t&quot;);\r\n            } else if(row_end == i &amp;&amp; col_end == j) {\r\n                System.out.print(&quot;{E}&quot; + &quot;\\t&quot;);\r\n            } else {\r\n                System.out.print(&quot; &quot; +M[i][j] + &quot;\\t&quot;);\r\n            }\r\n```","title":"How to print a 2D array in java","body":"<p>The problem is that you always print m[i][j].</p>\n<p>What you need is to only print m[i][j] when i and j are not S and E positions.  When i and j are S and E positions, print S or E.  Otherwise, print m[i][j].</p>\n<pre><code>            if(row_start == i &amp;&amp; col_start == j) {\n                System.out.print(&quot;{S}&quot; + &quot;\\t&quot;);\n            } else if(row_end == i &amp;&amp; col_end == j) {\n                System.out.print(&quot;{E}&quot; + &quot;\\t&quot;);\n            } else {\n                System.out.print(&quot; &quot; +M[i][j] + &quot;\\t&quot;);\n            }\n</code></pre>\n"}],"owner":{"account_id":24955760,"reputation":11,"user_id":18820159,"display_name":"sam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676044129,"creation_date":1676040597,"question_id":75412658,"body_markdown":"Hello so am trying to create a 2D array of int with random number of rows and columns and a random starting and ending points using java to apply the A* algorithm on it.\r\nWhen i add {S} and {E} to define the tow points and print it there are numbers outside of the 2D array printed.\r\n\r\n       `Random rand = new Random();\r\n\tint min = 2, max = 10; \r\n        // a random number of rows and columns  \r\n\tint a = (int)(Math.random() * (max - min + 1)) + min;\r\n        // the location of the starting point.\t\r\n\tint row_start = rand.nextInt(a);\r\n\tint col_start = rand.nextInt(a);\r\n        // the location of the ending point.\r\n\tint row_end = rand.nextInt(a);\r\n\tint col_end = rand.nextInt(a);\r\n\t\t\r\n\tint [][] M = new int [a][a];\r\n\tpublic void create() {\r\n\t\t//empty: 0; grass: 1; sand: 2; water: 3; wall: 4.\r\n\t\tfor (int i = 0; i &lt; a; i++) {\r\n\t\t\tfor (int j = 0; j &lt; a; j++) {\r\n\t\t\t\tM[i][j] =   rand.nextInt(5);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; a; i++) {\r\n\t\t\tfor (int j = 0; j &lt; a; j++) {\r\n\t\t\t\tSystem.out.print(&quot; &quot; +M[i][j] + &quot;\\t&quot;);\r\n\t\t\t\tif(row_start == i &amp;&amp; col_start == j) {\r\n\t\t\t\t\tSystem.out.print(&quot;{S}&quot; + &quot;\\t&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tif(row_end == i &amp;&amp; col_end == j) {\r\n\t\t\t\t\tSystem.out.print(&quot;{E}&quot; + &quot;\\t&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tSystem.out.print(&quot;\\n&quot;);\r\n\t\t}\r\n\r\n\t}`\r\n\r\nthe output looks like this:\r\n\r\n     1\t 0\t 4\t 0\t\r\n     2\t{S}\t 1\t 2\t 2\t\r\n     4\t 4\t{E}\t 0\t 3\t\r\n     2\t 0\t 3\t 3\t\r\n\r\nthe 2 and 3 shouldn&#39;t appear there. ","title":"How to print a 2D array in java","body":"<p>Hello so am trying to create a 2D array of int with random number of rows and columns and a random starting and ending points using java to apply the A* algorithm on it.\nWhen i add {S} and {E} to define the tow points and print it there are numbers outside of the 2D array printed.</p>\n<pre><code>   `Random rand = new Random();\nint min = 2, max = 10; \n    // a random number of rows and columns  \nint a = (int)(Math.random() * (max - min + 1)) + min;\n    // the location of the starting point.  \nint row_start = rand.nextInt(a);\nint col_start = rand.nextInt(a);\n    // the location of the ending point.\nint row_end = rand.nextInt(a);\nint col_end = rand.nextInt(a);\n    \nint [][] M = new int [a][a];\npublic void create() {\n    //empty: 0; grass: 1; sand: 2; water: 3; wall: 4.\n    for (int i = 0; i &lt; a; i++) {\n        for (int j = 0; j &lt; a; j++) {\n            M[i][j] =   rand.nextInt(5);\n        }\n    }\n    \n    for (int i = 0; i &lt; a; i++) {\n        for (int j = 0; j &lt; a; j++) {\n            System.out.print(&quot; &quot; +M[i][j] + &quot;\\t&quot;);\n            if(row_start == i &amp;&amp; col_start == j) {\n                System.out.print(&quot;{S}&quot; + &quot;\\t&quot;);\n            }\n            if(row_end == i &amp;&amp; col_end == j) {\n                System.out.print(&quot;{E}&quot; + &quot;\\t&quot;);\n            }\n        }\n        System.out.print(&quot;\\n&quot;);\n    }\n\n}`\n</code></pre>\n<p>the output looks like this:</p>\n<pre><code> 1   0   4   0  \n 2  {S}  1   2   2  \n 4   4  {E}  0   3  \n 2   0   3   3  \n</code></pre>\n<p>the 2 and 3 shouldn't appear there.</p>\n"},{"tags":["java","try-with-resources"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1676043415,"post_id":75413087,"comment_id":133063987,"body_markdown":"No difference, tried resources get closed and cleaned up. I&#39;d go for option 2 for better readability.","body":"No difference, tried resources get closed and cleaned up. I&#39;d go for option 2 for better readability."},{"owner":{"account_id":6353419,"reputation":4594,"user_id":4931630,"display_name":"AterLux"},"score":1,"creation_date":1676043577,"post_id":75413087,"comment_id":133064046,"body_markdown":"@Robert it is not correct. In the first example, if the outer constructor (`new OutputStreamWriter(...)`) failed, then internal object (`FileOutputStream`) remains unclosed and leaks resources","body":"@Robert it is not correct. In the first example, if the outer constructor (<code>new OutputStreamWriter(...)</code>) failed, then internal object (<code>FileOutputStream</code>) remains unclosed and leaks resources"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676043816,"post_id":75413087,"comment_id":133064131,"body_markdown":"@AterLux Although true in theory, it is extremely unlikely that `OutputStreamWriter(OutputStream, Charset)` throws an exception (basically the only option is to pass in a null for either parameter).","body":"@AterLux Although true in theory, it is extremely unlikely that <code>OutputStreamWriter(OutputStream, Charset)</code> throws an exception (basically the only option is to pass in a null for either parameter)."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1676044064,"post_id":75413087,"comment_id":133064220,"body_markdown":"@MarkRotteveel in this specific usage it is indeed unlikely that OutputStreamWriter will throw, but in a more general case, `try(Writer writer = new OutputStreamWriter(new FileOutputStream(new File(path)), &quot;bad charset name&quot;))` _will_ leave the FileOutputStream open.","body":"@MarkRotteveel in this specific usage it is indeed unlikely that OutputStreamWriter will throw, but in a more general case, <code>try(Writer writer = new OutputStreamWriter(new FileOutputStream(new File(path)), &quot;bad charset name&quot;))</code> <i>will</i> leave the FileOutputStream open."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676044492,"post_id":75413087,"comment_id":133064372,"body_markdown":"@k314159 True, but unless you use user input for the character set, or run on a JVM with a limited number of character sets, that is a minor problem compared to the fact that you programmed in a non-existent character set. The stream will get closed eventually by its cleaner (or finalizer in older versions).","body":"@k314159 True, but unless you use user input for the character set, or run on a JVM with a limited number of character sets, that is a minor problem compared to the fact that you programmed in a non-existent character set. The stream will get closed eventually by its cleaner (or finalizer in older versions)."}],"owner":{"account_id":5446397,"reputation":57,"user_id":4332784,"display_name":"Shan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"closed_date":1676043490,"answer_count":0,"score":2,"last_activity_date":1676043927,"creation_date":1676043044,"question_id":75413087,"body_markdown":"Is there any difference between the two below code snippets, in terms of GC, resource closing etc?\r\n\r\nor both are same/correct technically?\r\n\r\n```\r\n#Option 1\r\ntry(Writer writer = new OutputStreamWriter(new FileOutputStream(new File(path)), StandardCharsets.UTF_8)) {\r\n\r\n}\r\n\r\n#Option 2\r\ntry(FileOutputStream fis = new FileOutputStream(new File(path);\r\n    Writer writer = new OutputStreamWriter(fis, StandardCharsets.UTF_8)) {\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\nJust to understand what&#39;s the best approach to use in a highly used java application.","title":"best practices with Java try with resources","body":"<p>Is there any difference between the two below code snippets, in terms of GC, resource closing etc?</p>\n<p>or both are same/correct technically?</p>\n<pre><code>#Option 1\ntry(Writer writer = new OutputStreamWriter(new FileOutputStream(new File(path)), StandardCharsets.UTF_8)) {\n\n}\n\n#Option 2\ntry(FileOutputStream fis = new FileOutputStream(new File(path);\n    Writer writer = new OutputStreamWriter(fis, StandardCharsets.UTF_8)) {\n\n}\n\n</code></pre>\n<p>Just to understand what's the best approach to use in a highly used java application.</p>\n"},{"tags":["java","spring","hibernate","entitymanager","hibernate-entitymanager"],"comments":[{"owner":{"account_id":19198927,"reputation":304,"user_id":14027230,"display_name":"meridbt"},"score":0,"creation_date":1676043388,"post_id":75412718,"comment_id":133063976,"body_markdown":"What is the purpose of using @JsonIdentityInfo?","body":"What is the purpose of using @JsonIdentityInfo?"},{"owner":{"account_id":5239932,"reputation":1,"user_id":4187326,"display_name":"MadMatts"},"score":0,"creation_date":1676043968,"post_id":75412718,"comment_id":133064187,"body_markdown":"@meridbt, good call. I ommited it in my solution finding process.","body":"@meridbt, good call. I ommited it in my solution finding process."}],"answers":[{"tags":[],"owner":{"account_id":5239932,"reputation":1,"user_id":4187326,"display_name":"MadMatts"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676043903,"creation_date":1676043903,"answer_id":75413262,"question_id":75412718,"body_markdown":"@JsonIdentityInfo in PaymentCategory was actually limiting the object property. \r\n\r\nThere is no use in this class due to due to single directional relation. ","title":"Hibernate maps full relational object only in first occurance in the aggregation","body":"<p>@JsonIdentityInfo in PaymentCategory was actually limiting the object property.</p>\n<p>There is no use in this class due to due to single directional relation.</p>\n"}],"owner":{"account_id":5239932,"reputation":1,"user_id":4187326,"display_name":"MadMatts"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75413262,"answer_count":1,"score":0,"last_activity_date":1676043903,"creation_date":1676040982,"question_id":75412718,"body_markdown":"Problem I have stumbbled upon is the relation below in my RestApi. \r\nWhile requesting for all payments Object having PaymentCategory in relation is fully returned. But when PaymentCategory in the List&lt;Payment&gt; is present for the next time, then the Payment object contains only an Id of PaymentCategory.\r\n\r\n\r\nsnippet Payment.class\r\n```\r\n    @ManyToOne(cascade = CascadeType.DETACH, fetch = FetchType.EAGER)\r\n    private PaymentCategory paymentCategory;\r\n```\r\n\r\nPaymentCategory.class\r\n```\r\n@Entity\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@JsonIdentityInfo(generator=ObjectIdGenerators.PropertyGenerator.class, property=&quot;id&quot;)\r\npublic class PaymentCategory {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    private String name;\r\n}\r\n```\r\n\r\nResponse querying all Payments\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;Hipoteka&quot;,\r\n        &quot;description&quot;: &quot;Hipoteka w banku PEKAO SA&quot;,\r\n        &quot;paymentDate&quot;: &quot;2022-10-11&quot;,\r\n        &quot;lastPaymentDate&quot;: &quot;2022-09-11&quot;,\r\n        &quot;paymentDueDay&quot;: 11,\r\n        &quot;amount&quot;: 13.13,\r\n        &quot;paymentClosed&quot;: false,\r\n        &quot;paymentClosingDate&quot;: null,\r\n        &quot;paymentCategory&quot;: {\r\n            &quot;id&quot;: 1,\r\n            &quot;name&quot;: &quot;Dom&quot;\r\n        },\r\n        &quot;logo&quot;: &quot;WAPBouvlSP6gEKLEPjl/7Hmul8o=&quot;,\r\n        &quot;repayments&quot;: []\r\n    },\r\n    {\r\n        &quot;id&quot;: 2,\r\n        &quot;name&quot;: &quot;Spotify&quot;,\r\n        &quot;description&quot;: &quot;Spotify premium&quot;,\r\n        &quot;paymentDate&quot;: &quot;2022-10-25&quot;,\r\n        &quot;lastPaymentDate&quot;: &quot;2022-09-25&quot;,\r\n        &quot;paymentDueDay&quot;: 25,\r\n        &quot;amount&quot;: 29.99,\r\n        &quot;paymentClosed&quot;: false,\r\n        &quot;paymentClosingDate&quot;: null,\r\n**        &quot;paymentCategory&quot;: {\r\n            &quot;id&quot;: 2,\r\n            &quot;name&quot;: &quot;Rozrywka&quot;\r\n        },**\r\n        &quot;logo&quot;: &quot;WAPBouvlSP6gEKLEPjl/7Hmul8o=&quot;,\r\n        &quot;repayments&quot;: []\r\n    },\r\n    {\r\n        &quot;id&quot;: 3,\r\n        &quot;name&quot;: &quot;Viaplay&quot;,\r\n        &quot;description&quot;: &quot;Viaplay abonament&quot;,\r\n        &quot;paymentDate&quot;: &quot;2022-10-11&quot;,\r\n        &quot;lastPaymentDate&quot;: &quot;2022-09-17&quot;,\r\n        &quot;paymentDueDay&quot;: 17,\r\n        &quot;amount&quot;: 34.0,\r\n        &quot;paymentClosed&quot;: false,\r\n        &quot;paymentClosingDate&quot;: null,\r\n        **&quot;paymentCategory&quot;: 2,**\r\n        &quot;logo&quot;: &quot;WAPBouvlSP6gEKLEPjl/7Hmul8o=&quot;,\r\n        &quot;repayments&quot;: []\r\n    }\r\n]\r\n```\r\n\r\n\r\nWhat am I missing here? \r\nIs there an additional configuration for entityManager?\r\n\r\n\r\nBest Regards,\r\nMateusz\r\n\r\n\r\n\r\n\r\nI have tried looking in some guides, but I didn&#39;t find solution I&#39;ve expected.","title":"Hibernate maps full relational object only in first occurance in the aggregation","body":"<p>Problem I have stumbbled upon is the relation below in my RestApi.\nWhile requesting for all payments Object having PaymentCategory in relation is fully returned. But when PaymentCategory in the List is present for the next time, then the Payment object contains only an Id of PaymentCategory.</p>\n<p>snippet Payment.class</p>\n<pre><code>    @ManyToOne(cascade = CascadeType.DETACH, fetch = FetchType.EAGER)\n    private PaymentCategory paymentCategory;\n</code></pre>\n<p>PaymentCategory.class</p>\n<pre><code>@Entity\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@JsonIdentityInfo(generator=ObjectIdGenerators.PropertyGenerator.class, property=&quot;id&quot;)\npublic class PaymentCategory {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String name;\n}\n</code></pre>\n<p>Response querying all Payments</p>\n<pre><code>[\n    {\n        &quot;id&quot;: 1,\n        &quot;name&quot;: &quot;Hipoteka&quot;,\n        &quot;description&quot;: &quot;Hipoteka w banku PEKAO SA&quot;,\n        &quot;paymentDate&quot;: &quot;2022-10-11&quot;,\n        &quot;lastPaymentDate&quot;: &quot;2022-09-11&quot;,\n        &quot;paymentDueDay&quot;: 11,\n        &quot;amount&quot;: 13.13,\n        &quot;paymentClosed&quot;: false,\n        &quot;paymentClosingDate&quot;: null,\n        &quot;paymentCategory&quot;: {\n            &quot;id&quot;: 1,\n            &quot;name&quot;: &quot;Dom&quot;\n        },\n        &quot;logo&quot;: &quot;WAPBouvlSP6gEKLEPjl/7Hmul8o=&quot;,\n        &quot;repayments&quot;: []\n    },\n    {\n        &quot;id&quot;: 2,\n        &quot;name&quot;: &quot;Spotify&quot;,\n        &quot;description&quot;: &quot;Spotify premium&quot;,\n        &quot;paymentDate&quot;: &quot;2022-10-25&quot;,\n        &quot;lastPaymentDate&quot;: &quot;2022-09-25&quot;,\n        &quot;paymentDueDay&quot;: 25,\n        &quot;amount&quot;: 29.99,\n        &quot;paymentClosed&quot;: false,\n        &quot;paymentClosingDate&quot;: null,\n**        &quot;paymentCategory&quot;: {\n            &quot;id&quot;: 2,\n            &quot;name&quot;: &quot;Rozrywka&quot;\n        },**\n        &quot;logo&quot;: &quot;WAPBouvlSP6gEKLEPjl/7Hmul8o=&quot;,\n        &quot;repayments&quot;: []\n    },\n    {\n        &quot;id&quot;: 3,\n        &quot;name&quot;: &quot;Viaplay&quot;,\n        &quot;description&quot;: &quot;Viaplay abonament&quot;,\n        &quot;paymentDate&quot;: &quot;2022-10-11&quot;,\n        &quot;lastPaymentDate&quot;: &quot;2022-09-17&quot;,\n        &quot;paymentDueDay&quot;: 17,\n        &quot;amount&quot;: 34.0,\n        &quot;paymentClosed&quot;: false,\n        &quot;paymentClosingDate&quot;: null,\n        **&quot;paymentCategory&quot;: 2,**\n        &quot;logo&quot;: &quot;WAPBouvlSP6gEKLEPjl/7Hmul8o=&quot;,\n        &quot;repayments&quot;: []\n    }\n]\n</code></pre>\n<p>What am I missing here?\nIs there an additional configuration for entityManager?</p>\n<p>Best Regards,\nMateusz</p>\n<p>I have tried looking in some guides, but I didn't find solution I've expected.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":0,"creation_date":1596823614,"post_id":63307103,"comment_id":111944853,"body_markdown":"`Thread.sleep(5000)` in try catch","body":"<code>Thread.sleep(5000)</code> in try catch"},{"owner":{"account_id":13596089,"reputation":2870,"user_id":9808098,"display_name":"vesii"},"score":0,"creation_date":1596823824,"post_id":63307103,"comment_id":111944942,"body_markdown":"@AniketSahrawat that&#39;s not gonna work because `onTextChanged` will be called again and you&#39;ll just have another sleep. Changed my title a bit so it will be easier to understand.","body":"@AniketSahrawat that&#39;s not gonna work because <code>onTextChanged</code> will be called again and you&#39;ll just have another sleep. Changed my title a bit so it will be easier to understand."},{"owner":{"account_id":7810904,"reputation":12490,"user_id":6099347,"accept_rate":100,"display_name":"Aniket Sahrawat"},"score":0,"creation_date":1596824072,"post_id":63307103,"comment_id":111945062,"body_markdown":"That needs to be executed in a different thread and checked for input. But if you aren&#39;t familiar with concurrency then don&#39;t do it because it will create more harm than ease.","body":"That needs to be executed in a different thread and checked for input. But if you aren&#39;t familiar with concurrency then don&#39;t do it because it will create more harm than ease."},{"owner":{"account_id":13596089,"reputation":2870,"user_id":9808098,"display_name":"vesii"},"score":0,"creation_date":1596825088,"post_id":63307103,"comment_id":111945460,"body_markdown":"I do understand how threads work. The problem is that `ChipsInput` is a third party so I&#39;m not the one that handles the execution of `onTextChanged`. I override the method and somehow I need to follow user&#39;s changes.","body":"I do understand how threads work. The problem is that <code>ChipsInput</code> is a third party so I&#39;m not the one that handles the execution of <code>onTextChanged</code>. I override the method and somehow I need to follow user&#39;s changes."},{"owner":{"account_id":7463872,"reputation":5539,"user_id":5674223,"accept_rate":100,"display_name":"UkFLSUI"},"score":0,"creation_date":1596825832,"post_id":63307103,"comment_id":111945747,"body_markdown":"Use a `runnable` with `Handler`","body":"Use a <code>runnable</code> with <code>Handler</code>"},{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1596828194,"post_id":63307103,"comment_id":111946657,"body_markdown":"The `Chip` extends `AppCompatTextView` extends `TextView` which supports a `onFocusChanged`; so extend `Chip` and implement the `onFocusChanged` callback - if losing focus is the criteria needed (rather than time).","body":"The <code>Chip</code> extends <code>AppCompatTextView</code> extends <code>TextView</code> which supports a <code>onFocusChanged</code>; so extend <code>Chip</code> and implement the <code>onFocusChanged</code> callback - if losing focus is the criteria needed (rather than time)."}],"answers":[{"comments":[{"owner":{"account_id":13596089,"reputation":2870,"user_id":9808098,"display_name":"vesii"},"score":0,"creation_date":1596829688,"post_id":63307932,"comment_id":111947175,"body_markdown":"You are awesome :)","body":"You are awesome :)"}],"tags":[],"owner":{"account_id":7165321,"reputation":6023,"user_id":8244632,"accept_rate":100,"display_name":"Lalit Fauzdar"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676043702,"creation_date":1596827685,"answer_id":63307932,"question_id":63307103,"body_markdown":"Its `onTextChanged` is called from `onTextChanged` of the Chip&#39;s `EditText` as declared [here](https://github.com/pchmn/MaterialChipsInput/blob/c1e7aa9997e422a4d7671c7642c73fb3838f42c6/library/src/main/java/com/pchmn/materialchips/adapter/ChipsAdapter.java#L158) in the library to which you cannot do much. So, here&#39;s I&#39;m pointing out a solution using `CountDownTimer`. \r\n\r\nWhy a CountDownTimer? Because You can reset the time back to 0 if user types again under 5 seconds. You can also do it using a `Handler` and reset it again as done in [this answer](https://stackoverflow.com/a/38701503/8244632). \r\n\r\n\r\n 1. Declare `mCountDownTimer` a global variable as : \r\n        \r\n        CountDownTimer mCountDownTimer;\r\n\r\n\r\n 2. Declare `countDownFunction()` as :\r\n\r\n        private void countDownFunction(String chipText) {\r\n            if(mCountDownTimer != null) \r\n                mCountDownTimer.cancel(); // Cancels the CountDown\r\n        \r\n            mCountDownTimer = new CountDownTimer(5000, 1000) {\r\n                @Override\r\n                public void onTick(long millisUntilFinished) {\r\n                    //Called after every delay of the above second parameter as a ticking count down\r\n                    //Current delay is 1 second as 1000 passed above\r\n                }\r\n\r\n                @Override\r\n                public void onFinish() {\r\n                    //This will only be called on successful five second delay\r\n                    chipsInput.addChip(chipText, null); //chipText is the parameter passed to this function\r\n                    //You may want to clear the Chip `EditText` here\r\n                }\r\n            };\r\n            mCountDownTimer.start(); // Restarts the CountDown\r\n         }\r\n\r\n        \r\n\r\n3. Call your `countDownFunction()` from the `onTextChanged` and pass the text to it as :\r\n\r\n        @Override\r\n        public void onTextChanged(CharSequence text) {\r\n            if (text != null &amp;&amp; text.toString().length() &gt; 1) {\r\n                if(text.toString().contains(&quot;,&quot;)){\r\n                    final String tag = Utils.capitalizeFully(text.toString().replaceAll(&quot;,&quot;,&quot;&quot;).trim());\r\n                    if (!(tag.isEmpty())) {\r\n                        chipsInput.addChip(tag, null);\r\n                    }\r\n                }\r\n                else\r\n                    countDownFunction(Utils.capitalizeFully(text.toString().trim()));\r\n            }\r\n        }\r\n\r\nNow, to improve this, you can use `AsyncTask` or Handler with `runnable` thread. There are many ways to do this, there are many ways to handle the async operation to ensure smooth running app.\r\n\r\nBut, this gives you the idea - What&#39;s happening here is every time a text is entered without comma `,`, this function is called and it either starts the count down if not previously started or restarts it because of which the `onFinish()` of the count down will only be called if it passes the 5 second time and then it will add the chip. \r\n\r\n**Edit :** Now, the resetting of the timer will work better. You can still look at [this question](https://stackoverflow.com/questions/19997588/countdowntimer-in-android-how-to-restart-it). ","title":"How to wait for a few seconds between text changed in Android?","body":"<p>Its <code>onTextChanged</code> is called from <code>onTextChanged</code> of the Chip's <code>EditText</code> as declared <a href=\"https://github.com/pchmn/MaterialChipsInput/blob/c1e7aa9997e422a4d7671c7642c73fb3838f42c6/library/src/main/java/com/pchmn/materialchips/adapter/ChipsAdapter.java#L158\" rel=\"nofollow noreferrer\">here</a> in the library to which you cannot do much. So, here's I'm pointing out a solution using <code>CountDownTimer</code>.</p>\n<p>Why a CountDownTimer? Because You can reset the time back to 0 if user types again under 5 seconds. You can also do it using a <code>Handler</code> and reset it again as done in <a href=\"https://stackoverflow.com/a/38701503/8244632\">this answer</a>.</p>\n<ol>\n<li><p>Declare <code>mCountDownTimer</code> a global variable as :</p>\n<pre><code>CountDownTimer mCountDownTimer;\n</code></pre>\n</li>\n<li><p>Declare <code>countDownFunction()</code> as :</p>\n<pre><code>private void countDownFunction(String chipText) {\n    if(mCountDownTimer != null) \n        mCountDownTimer.cancel(); // Cancels the CountDown\n\n    mCountDownTimer = new CountDownTimer(5000, 1000) {\n        @Override\n        public void onTick(long millisUntilFinished) {\n            //Called after every delay of the above second parameter as a ticking count down\n            //Current delay is 1 second as 1000 passed above\n        }\n\n        @Override\n        public void onFinish() {\n            //This will only be called on successful five second delay\n            chipsInput.addChip(chipText, null); //chipText is the parameter passed to this function\n            //You may want to clear the Chip `EditText` here\n        }\n    };\n    mCountDownTimer.start(); // Restarts the CountDown\n }\n</code></pre>\n</li>\n<li><p>Call your <code>countDownFunction()</code> from the <code>onTextChanged</code> and pass the text to it as :</p>\n<pre><code> @Override\n public void onTextChanged(CharSequence text) {\n     if (text != null &amp;&amp; text.toString().length() &gt; 1) {\n         if(text.toString().contains(&quot;,&quot;)){\n             final String tag = Utils.capitalizeFully(text.toString().replaceAll(&quot;,&quot;,&quot;&quot;).trim());\n             if (!(tag.isEmpty())) {\n                 chipsInput.addChip(tag, null);\n             }\n         }\n         else\n             countDownFunction(Utils.capitalizeFully(text.toString().trim()));\n     }\n }\n</code></pre>\n</li>\n</ol>\n<p>Now, to improve this, you can use <code>AsyncTask</code> or Handler with <code>runnable</code> thread. There are many ways to do this, there are many ways to handle the async operation to ensure smooth running app.</p>\n<p>But, this gives you the idea - What's happening here is every time a text is entered without comma <code>,</code>, this function is called and it either starts the count down if not previously started or restarts it because of which the <code>onFinish()</code> of the count down will only be called if it passes the 5 second time and then it will add the chip.</p>\n<p><strong>Edit :</strong> Now, the resetting of the timer will work better. You can still look at <a href=\"https://stackoverflow.com/questions/19997588/countdowntimer-in-android-how-to-restart-it\">this question</a>.</p>\n"}],"owner":{"account_id":13596089,"reputation":2870,"user_id":9808098,"display_name":"vesii"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":228,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":63307932,"answer_count":1,"score":0,"last_activity_date":1676043702,"creation_date":1596823559,"question_id":63307103,"body_markdown":"I&#39;m using [MaterialChipsInput][1] (although it does not matter what is the component I&#39;m using). I have the following code:\r\n```\r\nchipsInput.addChipsListener(new ChipsInput.ChipsListener() {\r\n\t@Override\r\n\tpublic void onChipAdded(ChipInterface chip, int newSize) {}\r\n\r\n\t@Override\r\n\tpublic void onChipRemoved(ChipInterface chip, int newSize) {}\r\n\r\n\t@Override\r\n\tpublic void onTextChanged(CharSequence text) {\r\n\t\tif (text != null &amp;&amp; text.toString().contains(&quot;,&quot;) &amp;&amp; text.toString().length() &gt; 1) {\r\n\t\t\tfinal String tag = Utils.capitalizeFully(text.toString().replaceAll(&quot;,&quot;,&quot;&quot;).trim());\r\n\t\t\tif (!(tag.isEmpty())) {\r\n\t\t\t\tchipsInput.addChip(tag, null);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n});\r\n```\r\nBasically, it add tags to `chipsInput` every time user enters a comma. The problem is that the user will have to end with a comma in order to add it as a chip. I would like to add a timer for 5 seconds and if there is no changes after those 5 seconds, it will add that chip to the `chipsInput`. What would be the easiest way to do it?\r\n\r\n  [1]: https://github.com/pchmn/MaterialChipsInput","title":"How to wait for a few seconds between text changed in Android?","body":"<p>I'm using <a href=\"https://github.com/pchmn/MaterialChipsInput\" rel=\"nofollow noreferrer\">MaterialChipsInput</a> (although it does not matter what is the component I'm using). I have the following code:</p>\n<pre><code>chipsInput.addChipsListener(new ChipsInput.ChipsListener() {\n    @Override\n    public void onChipAdded(ChipInterface chip, int newSize) {}\n\n    @Override\n    public void onChipRemoved(ChipInterface chip, int newSize) {}\n\n    @Override\n    public void onTextChanged(CharSequence text) {\n        if (text != null &amp;&amp; text.toString().contains(&quot;,&quot;) &amp;&amp; text.toString().length() &gt; 1) {\n            final String tag = Utils.capitalizeFully(text.toString().replaceAll(&quot;,&quot;,&quot;&quot;).trim());\n            if (!(tag.isEmpty())) {\n                chipsInput.addChip(tag, null);\n            }\n        }\n    }\n});\n</code></pre>\n<p>Basically, it add tags to <code>chipsInput</code> every time user enters a comma. The problem is that the user will have to end with a comma in order to add it as a chip. I would like to add a timer for 5 seconds and if there is no changes after those 5 seconds, it will add that chip to the <code>chipsInput</code>. What would be the easiest way to do it?</p>\n"},{"tags":["java","junit","powerapps","playwright","playwright-java"],"answers":[{"tags":[],"owner":{"account_id":23774385,"reputation":5,"user_id":17788059,"display_name":"gabo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676043210,"creation_date":1676043210,"answer_id":75413116,"question_id":75334008,"body_markdown":"The page wasn&#39;t initialise before use, it was initialise only in @BeforeEach.\r\n\r\n     Page page1 = persistentLogin(true); \r\n\r\nsolves the issue.","title":"Page reuse Playwright Java for PowerApps Testing","body":"<p>The page wasn't initialise before use, it was initialise only in @BeforeEach.</p>\n<pre><code> Page page1 = persistentLogin(true); \n</code></pre>\n<p>solves the issue.</p>\n"}],"owner":{"account_id":23774385,"reputation":5,"user_id":17788059,"display_name":"gabo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75413116,"answer_count":1,"score":0,"last_activity_date":1676043210,"creation_date":1675417799,"question_id":75334008,"body_markdown":"I want to reuse a page using Playwright with Java so I speed up the running of tests.\r\nI use a persistent context because of the login requirements on the project - organisation page and MFA. I tried implementing something similar to https://playwright.dev/java/docs/test-runners but I get a NullPointerException.\r\n\r\n\r\nLogin class:\r\n\r\n```\r\npublic class PersistentLogin {\r\n\r\n    private static String userDataDirPath = &quot;/Users/user/powerAppsTesting/userData&quot;;\r\n\r\n    public static Page persistentLogin(Boolean headlessState){\r\n        Playwright playwright = Playwright.create();\r\n        BrowserType chromium = playwright.chromium();\r\n        Path userDataDir = Paths.get(userDataDirPath);\r\n        BrowserContext context = chromium.launchPersistentContext(userDataDir\r\n                , new BrowserType.LaunchPersistentContextOptions().setHeadless(headlessState));\r\n        Page page = context.newPage();\r\n        return page;\r\n    };\r\n}\r\n```\r\n\r\nTests class:\r\n\r\n```\r\npublic class TestsExample {\r\n\r\n    private String goToUrl = &quot;www.example.com&quot;;    \r\n    Page page;\r\n\r\n    @BeforeAll //also tried @BeforeEach but with the same result\r\n    void createPage(){\r\n        page = persistentLogin(true);\r\n    }\r\n\r\n    @Test\r\n    public void saveHolidayPeriodFromAdminScreenTest(){\r\n\r\n        //Page page = persistentLogin(true);\r\n        page.navigate(goToUrl);\r\n\r\n        page.frameLocator(&quot;#fullscreen-app-host&quot;).getByRole(AriaRole.BUTTON, new FrameLocator.GetByRoleOptions().setName(&quot;Run as Admin&quot;)).click();\r\n        assertThat(page.frameLocator(&quot;#fullscreen-app-host&quot;).getByText(&quot;Preferences - New Summer Leave 2023&quot;)).isVisible();\r\n\r\n        page.close();\r\n    }\r\n```\r\n\r\nOutput:\r\n\r\n```\r\njava.lang.NullPointerException\r\n\tat org.PilotAnnualLeaveRequests.PilotsALUsingSamePageTests.saveHolidayPeriodFromAdminScreenTest(PilotsALUsingSamePageTests.java:61)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\r\n\tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n\tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\r\n\tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\n\tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\n\tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\n\tat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\n\tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\r\n\tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\r\n\tat org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\r\n\tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\r\n\tat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\n\tat org.junit.runners.ParentRunner.run(ParentRunner.java:413)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n\tat org.junit.runner.JUnitCore.run(JUnitCore.java:115)\r\n\tat org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\r\n\tat org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\r\n\tat org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n```\r\n\r\nI can&#39;t see what i am missing.\r\nThank you!","title":"Page reuse Playwright Java for PowerApps Testing","body":"<p>I want to reuse a page using Playwright with Java so I speed up the running of tests.\nI use a persistent context because of the login requirements on the project - organisation page and MFA. I tried implementing something similar to <a href=\"https://playwright.dev/java/docs/test-runners\" rel=\"nofollow noreferrer\">https://playwright.dev/java/docs/test-runners</a> but I get a NullPointerException.</p>\n<p>Login class:</p>\n<pre><code>public class PersistentLogin {\n\n    private static String userDataDirPath = &quot;/Users/user/powerAppsTesting/userData&quot;;\n\n    public static Page persistentLogin(Boolean headlessState){\n        Playwright playwright = Playwright.create();\n        BrowserType chromium = playwright.chromium();\n        Path userDataDir = Paths.get(userDataDirPath);\n        BrowserContext context = chromium.launchPersistentContext(userDataDir\n                , new BrowserType.LaunchPersistentContextOptions().setHeadless(headlessState));\n        Page page = context.newPage();\n        return page;\n    };\n}\n</code></pre>\n<p>Tests class:</p>\n<pre><code>public class TestsExample {\n\n    private String goToUrl = &quot;www.example.com&quot;;    \n    Page page;\n\n    @BeforeAll //also tried @BeforeEach but with the same result\n    void createPage(){\n        page = persistentLogin(true);\n    }\n\n    @Test\n    public void saveHolidayPeriodFromAdminScreenTest(){\n\n        //Page page = persistentLogin(true);\n        page.navigate(goToUrl);\n\n        page.frameLocator(&quot;#fullscreen-app-host&quot;).getByRole(AriaRole.BUTTON, new FrameLocator.GetByRoleOptions().setName(&quot;Run as Admin&quot;)).click();\n        assertThat(page.frameLocator(&quot;#fullscreen-app-host&quot;).getByText(&quot;Preferences - New Summer Leave 2023&quot;)).isVisible();\n\n        page.close();\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>java.lang.NullPointerException\n    at org.PilotAnnualLeaveRequests.PilotsALUsingSamePageTests.saveHolidayPeriodFromAdminScreenTest(PilotsALUsingSamePageTests.java:61)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:59)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:56)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\n    at org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:79)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:329)\n    at org.junit.runners.ParentRunner.access$100(ParentRunner.java:66)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:293)\n    at org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:413)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:115)\n    at org.junit.vintage.engine.execution.RunnerExecutor.execute(RunnerExecutor.java:42)\n    at org.junit.vintage.engine.VintageTestEngine.executeAllChildren(VintageTestEngine.java:80)\n    at org.junit.vintage.engine.VintageTestEngine.execute(VintageTestEngine.java:72)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n\n</code></pre>\n<p>I can't see what i am missing.\nThank you!</p>\n"},{"tags":["java","ejb","message-driven-bean"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1676043584,"post_id":75413041,"comment_id":133064049,"body_markdown":"From a quick look to the specs, it should work. However, I did not find a place to explicitly mention injection in MDB super classes. What you are seeing may be a bug or a gray area in the specs. Just to be sane however, you can try an alternative path, *preferring composition over inheritance*: You may factor the functionality of the `CommonQueue` in a separate, standalone CDI bean and inject and use that bean in your `QueueN` MDBs.","body":"From a quick look to the specs, it should work. However, I did not find a place to explicitly mention injection in MDB super classes. What you are seeing may be a bug or a gray area in the specs. Just to be sane however, you can try an alternative path, <i>preferring composition over inheritance</i>: You may factor the functionality of the <code>CommonQueue</code> in a separate, standalone CDI bean and inject and use that bean in your <code>QueueN</code> MDBs."},{"owner":{"account_id":2114210,"reputation":1539,"user_id":1878854,"accept_rate":78,"display_name":"Accollativo"},"score":0,"creation_date":1676280581,"post_id":75413041,"comment_id":133098450,"body_markdown":"@NikosParaskevopoulos yes I already did in this way, I created an interface with the getters of the dao and other variables that CommonQueue needs, I implement it in Queue1,2,... and pass it as parameter to the CommonQueue. It was just more staightforward had it injected directly on the parent class.","body":"@NikosParaskevopoulos yes I already did in this way, I created an interface with the getters of the dao and other variables that CommonQueue needs, I implement it in Queue1,2,... and pass it as parameter to the CommonQueue. It was just more staightforward had it injected directly on the parent class."}],"owner":{"account_id":2114210,"reputation":1539,"user_id":1878854,"accept_rate":78,"display_name":"Accollativo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676042794,"creation_date":1676042794,"question_id":75413041,"body_markdown":"I have several classes that handle queues, with similar methods. I would like to move the injection part, to the parent class. But in every attempt that I have done, the injected values are always `null`.\r\n\r\nThis is one of my child classes:\r\n\r\n    import javax.inject.Inject;\r\n    import javax.ejb.MessageDriven;\r\n    \r\n    @MessageDriven(name = &quot;QueueMDB1&quot;)\r\n    public class Queue1 extends CommonQueue implements MessageListener {\r\n    \t@Inject\r\n    \tprivate IDao dao;\r\n        [...]\r\n    }\r\nI would like to move `dao` from classes `Queue1,2,3...` to the parent class `CommonQueue`. Which annotation the parent class should have to allow the injection (if it&#39;s possible to do that)?","title":"Inject values on EJB parent class","body":"<p>I have several classes that handle queues, with similar methods. I would like to move the injection part, to the parent class. But in every attempt that I have done, the injected values are always <code>null</code>.</p>\n<p>This is one of my child classes:</p>\n<pre><code>import javax.inject.Inject;\nimport javax.ejb.MessageDriven;\n\n@MessageDriven(name = &quot;QueueMDB1&quot;)\npublic class Queue1 extends CommonQueue implements MessageListener {\n    @Inject\n    private IDao dao;\n    [...]\n}\n</code></pre>\n<p>I would like to move <code>dao</code> from classes <code>Queue1,2,3...</code> to the parent class <code>CommonQueue</code>. Which annotation the parent class should have to allow the injection (if it's possible to do that)?</p>\n"},{"tags":["java","apache-camel","amazon-sqs","spring-camel"],"owner":{"account_id":8499293,"reputation":33,"user_id":6372882,"display_name":"Mantas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676042753,"creation_date":1676042753,"question_id":75413034,"body_markdown":"We use a single AWS SQS for storing messages. There are 2 consumers - 2 instances of the same application. The application uses Apache Camel to consume from the queue. The issue is that the message is consumed by both application at almost the same time. We would like to avoid that. \r\n\r\nTo avoid that, we are setting the visibility timeout to make sure no other application can access the message while it is being processed by one. Visibility timeout is definitely big enough. However, the issue is still there.\r\n\r\nWhile going through Camel documentation, I noticed there exists two parameters related to visibility timeout - `defaultVisibilityTimeout` and `visibilityTimeout`\r\n\r\nAccording to [documentation][1],\r\n\r\n`defaultVisibilityTimeout` is *The default visibility timeout (in seconds)*\r\n\r\n`visibilityTimeout` is *The duration (in seconds) that the received messages are hidden from subsequent retrieve requests after being retrieved by a ReceiveMessage request to set in the com.amazonaws.services.sqs.model.SetQueueAttributesRequest. This only make sense if its different from defaultVisibilityTimeout. It changes the queue visibility timeout attribute permanently*\r\n\r\nAt this moment we are setting the `visibilityTimeout`, but I am thinking whether we should do if for `defaultVisibilityTimeout` as well? I cannot really understand the difference between the two fields as the documentation does not seem to be very clear. Why not have just one property?\r\n\r\n  [1]: https://camel.apache.org/components/2.x/aws-sqs-component.html","title":"What is the difference between visibility timeout and default visibility timeout in Apache Camel SQS?","body":"<p>We use a single AWS SQS for storing messages. There are 2 consumers - 2 instances of the same application. The application uses Apache Camel to consume from the queue. The issue is that the message is consumed by both application at almost the same time. We would like to avoid that.</p>\n<p>To avoid that, we are setting the visibility timeout to make sure no other application can access the message while it is being processed by one. Visibility timeout is definitely big enough. However, the issue is still there.</p>\n<p>While going through Camel documentation, I noticed there exists two parameters related to visibility timeout - <code>defaultVisibilityTimeout</code> and <code>visibilityTimeout</code></p>\n<p>According to <a href=\"https://camel.apache.org/components/2.x/aws-sqs-component.html\" rel=\"nofollow noreferrer\">documentation</a>,</p>\n<p><code>defaultVisibilityTimeout</code> is <em>The default visibility timeout (in seconds)</em></p>\n<p><code>visibilityTimeout</code> is <em>The duration (in seconds) that the received messages are hidden from subsequent retrieve requests after being retrieved by a ReceiveMessage request to set in the com.amazonaws.services.sqs.model.SetQueueAttributesRequest. This only make sense if its different from defaultVisibilityTimeout. It changes the queue visibility timeout attribute permanently</em></p>\n<p>At this moment we are setting the <code>visibilityTimeout</code>, but I am thinking whether we should do if for <code>defaultVisibilityTimeout</code> as well? I cannot really understand the difference between the two fields as the documentation does not seem to be very clear. Why not have just one property?</p>\n"},{"tags":["java","spring-boot","mockito","integration-testing","webclient"],"comments":[{"owner":{"account_id":14725244,"reputation":482,"user_id":10634487,"display_name":"Bill Naylor"},"score":0,"creation_date":1676056679,"post_id":75412994,"comment_id":133067817,"body_markdown":"Are you on junit 4 or 5 (aka jupiter), \nDo you have a `@Before`/ `@BeforeEach` method, and is it initialising the Mocks properly.\nIt looks to me like there is likely some issue with interaction between different Test classes interferring with each other.","body":"Are you on junit 4 or 5 (aka jupiter),  Do you have a <code>@Before</code>/ <code>@BeforeEach</code> method, and is it initialising the Mocks properly. It looks to me like there is likely some issue with interaction between different Test classes interferring with each other."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1676056952,"post_id":75412994,"comment_id":133067878,"body_markdown":"You are not calling `restClient.send()` in your test, are you?","body":"You are not calling <code>restClient.send()</code> in your test, are you?"},{"owner":{"account_id":14725244,"reputation":482,"user_id":10634487,"display_name":"Bill Naylor"},"score":1,"creation_date":1676061344,"post_id":75412994,"comment_id":133068875,"body_markdown":"@lesiak, the OP mentions that the tests pass when run in isolation, so I guess the `send` method must get called somwhere in the chain (why I mention interactions with other mocks).","body":"@lesiak, the OP mentions that the tests pass when run in isolation, so I guess the <code>send</code> method must get called somwhere in the chain (why I mention interactions with other mocks)."},{"owner":{"account_id":8847917,"reputation":37,"user_id":6608149,"display_name":"saloni"},"score":0,"creation_date":1676123102,"post_id":75412994,"comment_id":133076538,"body_markdown":"My Springboot API is on junit5. @Before method is present in the test class but it is not initialising any of the mocks mentioned above in the code.","body":"My Springboot API is on junit5. @Before method is present in the test class but it is not initialising any of the mocks mentioned above in the code."},{"owner":{"account_id":8847917,"reputation":37,"user_id":6608149,"display_name":"saloni"},"score":0,"creation_date":1676123680,"post_id":75412994,"comment_id":133076621,"body_markdown":"Above mocks are already annotated with @Mock, then what do we need to initialize in @Before?","body":"Above mocks are already annotated with @Mock, then what do we need to initialize in @Before?"}],"owner":{"account_id":8847917,"reputation":37,"user_id":6608149,"display_name":"saloni"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676042592,"creation_date":1676042592,"question_id":75412994,"body_markdown":"I am mocking a WebClient object when doing a post call with a body. I&#39;m just using Mockito not mockwebserver.\r\n\r\nThis is the method I&#39;m testing:\r\n\r\n    public class RestClient{\r\n    \r\n    public void send(){\r\n        webclient\r\n    .post()\r\n    .contentType(APPLICATION_JSON)\r\n    .headers(getHeaders())\r\n    .syncBody(requestObj)\r\n    .retrieve()\r\n    .bodyToMono(Void.class)\r\n    .block();\r\n    }\r\n    }\r\n\r\nAnd this is the test class code which works fine for the above post call.\r\n\r\n    @Mock\r\n    WebClient webClient;\r\n    \r\n    @Mock\r\n    WebClient.RequestBodyUriSpec requestBodyUriSpec;\r\n    \r\n    @Mock\r\n    WebClient.RequestHeadersSpec requestHeadersSpec;\r\n    \r\n    @Mock\r\n    WebClient.RequestBodySpec requestBodySpec;\r\n    \r\n    @Mock\r\n    WebClient.ResponseSpec responseSpec;\r\n    \r\n    @InjectMocks\r\n    RestClient restClient;\r\n\r\nmocking the post call in a method :\r\n\r\n        when(webClient.post()).thenReturn(requestBodyUriSpec);\r\n        when(requestBodyUriSpec.contentType(any())).thenReturn(requestBodySpec);\r\n        when(requestBodySpec.headers(any()).thenReturn(requestBodySpec);\r\n        when(requestBodySpec.syncBody(any())).thenReturn(requestHeadersSpec);\r\n        when(requestHeadersSpec.retrieve()).thenReturn(responseSpec);\r\n        when(responseSpec.bodyToMono(Void.class)\r\n                .thenReturn(Mono.empty());\r\n\r\n        \r\n        Mockito.verify(webClient,atLeast(1)).post();\r\n\r\n\r\nAgain the integration test method is passed if i run the integration test class individually.\r\n\r\nBut on running the maven build, it fails the same test method with an exception :\r\n\r\nMaven build logs:\r\n\r\n    Time elapsed : 1.136  &lt;&lt;&lt; FAILURE!\r\n    org.mockito.exceptions.verification.WantedButNotInvoked:\r\n    \r\n    webClient bean.post();\r\n    at ....\r\n    Actually, there were zero interactions with this mock.\r\n\r\n\r\nAny ideas what&#39;s wrong there?\r\n\r\n\r\n","title":"Mocking a WebClient post method when there&#39;s a request body, fails in maven build","body":"<p>I am mocking a WebClient object when doing a post call with a body. I'm just using Mockito not mockwebserver.</p>\n<p>This is the method I'm testing:</p>\n<pre><code>public class RestClient{\n\npublic void send(){\n    webclient\n.post()\n.contentType(APPLICATION_JSON)\n.headers(getHeaders())\n.syncBody(requestObj)\n.retrieve()\n.bodyToMono(Void.class)\n.block();\n}\n}\n</code></pre>\n<p>And this is the test class code which works fine for the above post call.</p>\n<pre><code>@Mock\nWebClient webClient;\n\n@Mock\nWebClient.RequestBodyUriSpec requestBodyUriSpec;\n\n@Mock\nWebClient.RequestHeadersSpec requestHeadersSpec;\n\n@Mock\nWebClient.RequestBodySpec requestBodySpec;\n\n@Mock\nWebClient.ResponseSpec responseSpec;\n\n@InjectMocks\nRestClient restClient;\n</code></pre>\n<p>mocking the post call in a method :</p>\n<pre><code>    when(webClient.post()).thenReturn(requestBodyUriSpec);\n    when(requestBodyUriSpec.contentType(any())).thenReturn(requestBodySpec);\n    when(requestBodySpec.headers(any()).thenReturn(requestBodySpec);\n    when(requestBodySpec.syncBody(any())).thenReturn(requestHeadersSpec);\n    when(requestHeadersSpec.retrieve()).thenReturn(responseSpec);\n    when(responseSpec.bodyToMono(Void.class)\n            .thenReturn(Mono.empty());\n\n    \n    Mockito.verify(webClient,atLeast(1)).post();\n</code></pre>\n<p>Again the integration test method is passed if i run the integration test class individually.</p>\n<p>But on running the maven build, it fails the same test method with an exception :</p>\n<p>Maven build logs:</p>\n<pre><code>Time elapsed : 1.136  &lt;&lt;&lt; FAILURE!\norg.mockito.exceptions.verification.WantedButNotInvoked:\n\nwebClient bean.post();\nat ....\nActually, there were zero interactions with this mock.\n</code></pre>\n<p>Any ideas what's wrong there?</p>\n"},{"tags":["javascript","java","selenium"],"owner":{"account_id":6952577,"reputation":82,"user_id":5334735,"display_name":"FlowStack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676042550,"creation_date":1675969577,"question_id":75403308,"body_markdown":"I am writing an IT test in selenium to click on a button that appears only when we hover over another button. Attached recording \r\n\r\nI have the below function, but for some reason, it is not hovering. The function is wrapped in a java method. \r\n\r\n    function moveNodeCenter(canvasParent, nodeIndex){\r\n    \tvar canvas = go.Diagram.fromDiv(canvasParent);\r\n    \tvar nodeDataArray = getAllNodes(canvasParent);\r\n    \tvar targetNodeKey = nodeDataArray[nodeIndex].key;\r\n    \tvar targetNodeObj = canvas.findNodeForKey(targetNodeKey);\r\n    \tvar robot = new Robot(canvas);\r\n    \trobotMove(robot,targetNodeObj.x,targetNodeObj.y);\r\n    } \r\n\r\n\tpublic void moveNodeCenter(int nodeIndex) throws IOException, InterruptedException {\r\n\t\tWebElement canvasParent = this.getCanvasParent();\r\n\t\tString script = ResourceUtilities.getResource(DESIGNER_SCRIPT_PATH);\r\n\t\tscript += &quot;\\n moveNodeCenter(arguments[0], arguments[1])&quot;;\r\n\t\tjs.executeScript(script, canvasParent, nodeIndex);\r\n\t}\r\n\r\ncan someone help? or is there any away i could do this.\r\ni do see mouseMove event here: https://gojs.net/latest/extensions/Robot.js\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SbHOY.gif","title":"How to hover mouse on goJS canvas diagram in selenium","body":"<p>I am writing an IT test in selenium to click on a button that appears only when we hover over another button. Attached recording</p>\n<p>I have the below function, but for some reason, it is not hovering. The function is wrapped in a java method.</p>\n<pre><code>function moveNodeCenter(canvasParent, nodeIndex){\n    var canvas = go.Diagram.fromDiv(canvasParent);\n    var nodeDataArray = getAllNodes(canvasParent);\n    var targetNodeKey = nodeDataArray[nodeIndex].key;\n    var targetNodeObj = canvas.findNodeForKey(targetNodeKey);\n    var robot = new Robot(canvas);\n    robotMove(robot,targetNodeObj.x,targetNodeObj.y);\n} \n\npublic void moveNodeCenter(int nodeIndex) throws IOException, InterruptedException {\n    WebElement canvasParent = this.getCanvasParent();\n    String script = ResourceUtilities.getResource(DESIGNER_SCRIPT_PATH);\n    script += &quot;\\n moveNodeCenter(arguments[0], arguments[1])&quot;;\n    js.executeScript(script, canvasParent, nodeIndex);\n}\n</code></pre>\n<p>can someone help? or is there any away i could do this.\ni do see mouseMove event here: <a href=\"https://gojs.net/latest/extensions/Robot.js\" rel=\"nofollow noreferrer\">https://gojs.net/latest/extensions/Robot.js</a></p>\n<p><a href=\"https://i.stack.imgur.com/SbHOY.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SbHOY.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","threadpool","threadpoolexecutor"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":0,"creation_date":1676038234,"post_id":75411085,"comment_id":133062284,"body_markdown":"Your while condition seems broken. `isTerminated` will return true when all of the tasks have completed. !isTerminated will be true but getCompletedTaskCount()==10 will return false until 10 tasks have been completed. So, if your 10 tasks have not been completed. You&#39;re while loop will not start. If all of your tasks are completed !isTerminated is false and your loop wont start. Actually, the first time. If all of the tasks are completed before the loop, then &quot;!isTerminated&quot; will be true and getCompletedTaskCount can be 10, since isTerminated is always false if there isn&#39;t a shutdown.","body":"Your while condition seems broken. <code>isTerminated</code> will return true when all of the tasks have completed. !isTerminated will be true but getCompletedTaskCount()==10 will return false until 10 tasks have been completed. So, if your 10 tasks have not been completed. You&#39;re while loop will not start. If all of your tasks are completed !isTerminated is false and your loop wont start. Actually, the first time. If all of the tasks are completed before the loop, then &quot;!isTerminated&quot; will be true and getCompletedTaskCount can be 10, since isTerminated is always false if there isn&#39;t a shutdown."},{"owner":{"account_id":27739582,"reputation":1,"user_id":21176347,"display_name":"Xbai-hang"},"score":0,"creation_date":1676040055,"post_id":75411085,"comment_id":133062930,"body_markdown":"You&#39;re right, i find it now. Thank you","body":"You&#39;re right, i find it now. Thank you"}],"answers":[{"tags":[],"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676032217,"creation_date":1676032217,"answer_id":75411150,"question_id":75411085,"body_markdown":"There might be some issues with the `getCompletedTaskCount` method, but I&#39;m not sure. I do know, that the suggested method of shutting down (and waiting for the imminent termination of) a ThreadPool is the following:\r\n\r\n```java\r\nThreadFactory threadFactory = new ThreadFactoryBuilder().setNameFormat(&quot;Thread-%d&quot;).build();\r\nThreadPoolExecutor poolExecutor = new ThreadPoolExecutor(\r\n    5, 10, 0, TimeUnit.SECONDS, new SynchronousQueue&lt;&gt;(),\r\n    threadFactory, new ThreadPoolExecutor.DiscardPolicy()\r\n);\r\n\r\n// submit to poolExecutor\r\n\r\npoolExecutor.shutdown();\r\n// This is where the magic happens:\r\n// maxTimeToWait is the amount of unitOfTimes to wait at max, before just continuing.\r\n// javadoc: Blocks until all tasks have completed execution after a shutdown request, or the timeout occurs, or the current thread is interrupted, whichever happens first.\r\npoolExecutor.awaitTermination(maxTimeToWait, unitOfTime);\r\n```","title":"How can I shut down a Thread Pool correctly by use a while loop","body":"<p>There might be some issues with the <code>getCompletedTaskCount</code> method, but I'm not sure. I do know, that the suggested method of shutting down (and waiting for the imminent termination of) a ThreadPool is the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ThreadFactory threadFactory = new ThreadFactoryBuilder().setNameFormat(&quot;Thread-%d&quot;).build();\nThreadPoolExecutor poolExecutor = new ThreadPoolExecutor(\n    5, 10, 0, TimeUnit.SECONDS, new SynchronousQueue&lt;&gt;(),\n    threadFactory, new ThreadPoolExecutor.DiscardPolicy()\n);\n\n// submit to poolExecutor\n\npoolExecutor.shutdown();\n// This is where the magic happens:\n// maxTimeToWait is the amount of unitOfTimes to wait at max, before just continuing.\n// javadoc: Blocks until all tasks have completed execution after a shutdown request, or the timeout occurs, or the current thread is interrupted, whichever happens first.\npoolExecutor.awaitTermination(maxTimeToWait, unitOfTime);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":27739582,"reputation":1,"user_id":21176347,"display_name":"Xbai-hang"},"score":0,"creation_date":1676039070,"post_id":75411911,"comment_id":133062564,"body_markdown":"My JDK version is 1.8.0_291，so I can&#39;t use this method，I have solved  my question，It&#39;s just my logic error，I&#39;m stupid！","body":"My JDK version is 1.8.0_291，so I can&#39;t use this method，I have solved  my question，It&#39;s just my logic error，I&#39;m stupid！"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676042498,"creation_date":1676036353,"answer_id":75411911,"question_id":75411085,"body_markdown":"# tl;dr\r\n\r\nCall `close` in Java 19+. \r\n\r\n# `shutdownAndAwaitTermination` boilerplate \r\n\r\nIn Java 5+, you can use the boilerplate code named `shutdownAndAwaitTermination` given in the Javadoc for [`ExecutorService`][1]. \r\n\r\n```\r\n void shutdownAndAwaitTermination(ExecutorService pool) {\r\n   pool.shutdown(); // Disable new tasks from being submitted\r\n   try {\r\n     // Wait a while for existing tasks to terminate\r\n     if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {\r\n       pool.shutdownNow(); // Cancel currently executing tasks\r\n       // Wait a while for tasks to respond to being cancelled\r\n       if (!pool.awaitTermination(60, TimeUnit.SECONDS))\r\n           System.err.println(&quot;Pool did not terminate&quot;);\r\n     }\r\n   } catch (InterruptedException ex) {\r\n     // (Re-)Cancel if current thread also interrupted\r\n     pool.shutdownNow();\r\n     // Preserve interrupt status\r\n     Thread.currentThread().interrupt();\r\n   }\r\n }\r\n``` \r\n\r\n# `ExecutorService#close`\r\n\r\nOr, in Java 19+, call [`close`][2]. \r\n\r\nSee [the source code][3] at OpenJDK. \r\n\r\n    @Override\r\n    default void close() {\r\n        boolean terminated = isTerminated();\r\n        if (!terminated) {\r\n            shutdown();\r\n            boolean interrupted = false;\r\n            while (!terminated) {\r\n                try {\r\n                    terminated = awaitTermination(1L, TimeUnit.DAYS);\r\n                } catch (InterruptedException e) {\r\n                    if (!interrupted) {\r\n                        shutdownNow();\r\n                        interrupted = true;\r\n                    }\r\n                }\r\n            }\r\n            if (interrupted) {\r\n                Thread.currentThread().interrupt();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n----------\r\n\r\n\r\nTip: Unless you have a special need, use [`Executors`][4] utility class to instantiate an `ExecutorService`. \r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html\r\n  [2]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html#close()\r\n  [3]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ExecutorService.java\r\n  [4]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executors.html","title":"How can I shut down a Thread Pool correctly by use a while loop","body":"<h1>tl;dr</h1>\n<p>Call <code>close</code> in Java 19+.</p>\n<h1><code>shutdownAndAwaitTermination</code> boilerplate</h1>\n<p>In Java 5+, you can use the boilerplate code named <code>shutdownAndAwaitTermination</code> given in the Javadoc for <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\"><code>ExecutorService</code></a>.</p>\n<pre><code> void shutdownAndAwaitTermination(ExecutorService pool) {\n   pool.shutdown(); // Disable new tasks from being submitted\n   try {\n     // Wait a while for existing tasks to terminate\n     if (!pool.awaitTermination(60, TimeUnit.SECONDS)) {\n       pool.shutdownNow(); // Cancel currently executing tasks\n       // Wait a while for tasks to respond to being cancelled\n       if (!pool.awaitTermination(60, TimeUnit.SECONDS))\n           System.err.println(&quot;Pool did not terminate&quot;);\n     }\n   } catch (InterruptedException ex) {\n     // (Re-)Cancel if current thread also interrupted\n     pool.shutdownNow();\n     // Preserve interrupt status\n     Thread.currentThread().interrupt();\n   }\n }\n</code></pre>\n<h1><code>ExecutorService#close</code></h1>\n<p>Or, in Java 19+, call <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/ExecutorService.html#close()\" rel=\"nofollow noreferrer\"><code>close</code></a>.</p>\n<p>See <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ExecutorService.java\" rel=\"nofollow noreferrer\">the source code</a> at OpenJDK.</p>\n<pre><code>@Override\ndefault void close() {\n    boolean terminated = isTerminated();\n    if (!terminated) {\n        shutdown();\n        boolean interrupted = false;\n        while (!terminated) {\n            try {\n                terminated = awaitTermination(1L, TimeUnit.DAYS);\n            } catch (InterruptedException e) {\n                if (!interrupted) {\n                    shutdownNow();\n                    interrupted = true;\n                }\n            }\n        }\n        if (interrupted) {\n            Thread.currentThread().interrupt();\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>Tip: Unless you have a special need, use <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/concurrent/Executors.html\" rel=\"nofollow noreferrer\"><code>Executors</code></a> utility class to instantiate an <code>ExecutorService</code>.</p>\n"},{"tags":[],"owner":{"account_id":27739582,"reputation":1,"user_id":21176347,"display_name":"Xbai-hang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676039786,"creation_date":1676039786,"answer_id":75412518,"question_id":75411085,"body_markdown":"I have solved my question, It just a logic error, Sorry waste everyone&#39;s time, the correct code is that:\r\n```java\r\npublic static void main(String[] args) {\r\n    ThreadFactory threadFactory = new ThreadFactoryBuilder().setNameFormat(&quot;Thread-%d&quot;).build();\r\n    ThreadPoolExecutor poolExecutor = new ThreadPoolExecutor(\r\n            5, 10, 0, TimeUnit.SECONDS, new SynchronousQueue&lt;&gt;(),\r\n            threadFactory, new ThreadPoolExecutor.DiscardPolicy()\r\n    );\r\n    while (!poolExecutor.isTerminated()) {\r\n        if (poolExecutor.getCompletedTaskCount() == 10) {\r\n            poolExecutor.shutdown();\r\n        }\r\n        \r\n    }\r\n}\r\n```\r\nIf I use the logical expression `!poolExecutor.isTerminated() &amp;&amp; poolExecutor.getCompletedTaskCount() == SORT_ALGORITHM_SIZE` in while loop, It will probably beacause `true &amp;&amp; false` and exit the loop. Then I can&#39;t close the thread pool\r\n\r\nThank you again for your help.","title":"How can I shut down a Thread Pool correctly by use a while loop","body":"<p>I have solved my question, It just a logic error, Sorry waste everyone's time, the correct code is that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    ThreadFactory threadFactory = new ThreadFactoryBuilder().setNameFormat(&quot;Thread-%d&quot;).build();\n    ThreadPoolExecutor poolExecutor = new ThreadPoolExecutor(\n            5, 10, 0, TimeUnit.SECONDS, new SynchronousQueue&lt;&gt;(),\n            threadFactory, new ThreadPoolExecutor.DiscardPolicy()\n    );\n    while (!poolExecutor.isTerminated()) {\n        if (poolExecutor.getCompletedTaskCount() == 10) {\n            poolExecutor.shutdown();\n        }\n        \n    }\n}\n</code></pre>\n<p>If I use the logical expression <code>!poolExecutor.isTerminated() &amp;&amp; poolExecutor.getCompletedTaskCount() == SORT_ALGORITHM_SIZE</code> in while loop, It will probably beacause <code>true &amp;&amp; false</code> and exit the loop. Then I can't close the thread pool</p>\n<p>Thank you again for your help.</p>\n"}],"owner":{"account_id":27739582,"reputation":1,"user_id":21176347,"display_name":"Xbai-hang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75412518,"answer_count":3,"score":0,"last_activity_date":1676042498,"creation_date":1676031889,"question_id":75411085,"body_markdown":"Here is some main code of my question，I&#39;m a Student in China，My English is not good, please the excuse me.\r\n\r\n```\r\npublic static void main(String[] args) {\r\n    ThreadFactory threadFactory = new ThreadFactoryBuilder().setNameFormat(&quot;Thread-%d&quot;).build();\r\n    ThreadPoolExecutor poolExecutor = new ThreadPoolExecutor(\r\n            5, 10, 0, TimeUnit.SECONDS, new SynchronousQueue&lt;&gt;(),\r\n            threadFactory, new ThreadPoolExecutor.DiscardPolicy()\r\n    );\r\n    // I submit 10 short task here\r\n    // &#128071;I want when ThreadPool finish 10 task, then shut down the pool&#128071;\r\n    while (!poolExecutor.isTerminated() &amp;&amp; poolExecutor.getCompletedTaskCount() == 10) {\r\n        poolExecutor.shutdown();\r\n    }\r\n}\r\n```\r\n\r\nI want when ThreadPool finish 10th task, then shut down the pool，but the while loop does not seems to execute，the main Thread has been finished，but the core Thread of ThreadPool is still Waiting for task。\r\n\r\nIf I do not use the `while` loop and directly use `poolExecutor.shutdown();`. I can get the expected results. All the threads are finished and shutdown correctly.\r\nBut I want to know what&#39;s the error of my code.","title":"How can I shut down a Thread Pool correctly by use a while loop","body":"<p>Here is some main code of my question，I'm a Student in China，My English is not good, please the excuse me.</p>\n<pre><code>public static void main(String[] args) {\n    ThreadFactory threadFactory = new ThreadFactoryBuilder().setNameFormat(&quot;Thread-%d&quot;).build();\n    ThreadPoolExecutor poolExecutor = new ThreadPoolExecutor(\n            5, 10, 0, TimeUnit.SECONDS, new SynchronousQueue&lt;&gt;(),\n            threadFactory, new ThreadPoolExecutor.DiscardPolicy()\n    );\n    // I submit 10 short task here\n    // 👇I want when ThreadPool finish 10 task, then shut down the pool👇\n    while (!poolExecutor.isTerminated() &amp;&amp; poolExecutor.getCompletedTaskCount() == 10) {\n        poolExecutor.shutdown();\n    }\n}\n</code></pre>\n<p>I want when ThreadPool finish 10th task, then shut down the pool，but the while loop does not seems to execute，the main Thread has been finished，but the core Thread of ThreadPool is still Waiting for task。</p>\n<p>If I do not use the <code>while</code> loop and directly use <code>poolExecutor.shutdown();</code>. I can get the expected results. All the threads are finished and shutdown correctly.\nBut I want to know what's the error of my code.</p>\n"},{"tags":["java","spring-boot","pagination"],"owner":{"account_id":1709457,"reputation":956,"user_id":1567785,"accept_rate":62,"display_name":"Don_Quijote"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676042106,"creation_date":1676042106,"question_id":75412918,"body_markdown":"I am having a task of implementing a continuation token for a spring boot app.\r\nSo basically I have a duo which contains list of devices:\r\n\r\n    @Data\r\n    public class ResponseDTO implements Serializable {\r\n    \r\n        @JsonProperty(&quot;Devices&quot;)\r\n        private List&lt;Device&gt; devices = new ArrayList&lt;&gt;();\r\n        /**\r\n         * App\r\n         * &lt;p&gt;\r\n         *\r\n         * (Required)\r\n         *\r\n         */\r\n        @JsonProperty(&quot;App&quot;)\r\n        private App app;\r\n    }\r\n\r\nHow can I do that? I never done this before, I always used standard Spring pagination. Now I am trying to find some examples, tutorials, but I didn&#39;t find anything interesting.\r\nPlease help.","title":"Pagination continuation token Java/Spring boot examples/tutorials","body":"<p>I am having a task of implementing a continuation token for a spring boot app.\nSo basically I have a duo which contains list of devices:</p>\n<pre><code>@Data\npublic class ResponseDTO implements Serializable {\n\n    @JsonProperty(&quot;Devices&quot;)\n    private List&lt;Device&gt; devices = new ArrayList&lt;&gt;();\n    /**\n     * App\n     * &lt;p&gt;\n     *\n     * (Required)\n     *\n     */\n    @JsonProperty(&quot;App&quot;)\n    private App app;\n}\n</code></pre>\n<p>How can I do that? I never done this before, I always used standard Spring pagination. Now I am trying to find some examples, tutorials, but I didn't find anything interesting.\nPlease help.</p>\n"},{"tags":["java","intellij-idea","junit"],"comments":[{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":4,"creation_date":1675973813,"post_id":75403940,"comment_id":133048651,"body_markdown":"Disable exception breakpoints, see https://stackoverflow.com/a/5810812/104891.","body":"Disable exception breakpoints, see <a href=\"https://stackoverflow.com/a/5810812/104891\">stackoverflow.com/a/5810812/104891</a>."},{"owner":{"account_id":13595329,"reputation":124,"user_id":9807545,"display_name":"Rasputin"},"score":0,"creation_date":1675975788,"post_id":75403940,"comment_id":133049202,"body_markdown":"I tried this, but it doesn&#39;t appear to prevent these errors coming up.  Moreover . . . why would they &quot;suddenly&quot; start showing up when they hadn&#39;t shown up on any of the prior 30 times I ran this unit test?  There has to be some sort of configuration I am missing here.","body":"I tried this, but it doesn&#39;t appear to prevent these errors coming up.  Moreover . . . why would they &quot;suddenly&quot; start showing up when they hadn&#39;t shown up on any of the prior 30 times I ran this unit test?  There has to be some sort of configuration I am missing here."}],"answers":[{"tags":[],"owner":{"account_id":13595329,"reputation":124,"user_id":9807545,"display_name":"Rasputin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676041961,"creation_date":1676041961,"answer_id":75412892,"question_id":75403940,"body_markdown":"So crazy coder (see above) was correct, but I thought I would add (after painfully trying every other alternative) that you have to go to: Run | View Breakpoints  and then scroll all the way down on the left side panel (which you may not notice if you have tons of breakpoints like I did) and at the bottom there are breakpoints for Java exceptions.  You need to click those OFF see below:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Ag6DC.png","title":"JUnit Stopping at Breakpoints in Files I Didn&#39;t Write and Don&#39;t Have Permission to","body":"<p>So crazy coder (see above) was correct, but I thought I would add (after painfully trying every other alternative) that you have to go to: Run | View Breakpoints  and then scroll all the way down on the left side panel (which you may not notice if you have tons of breakpoints like I did) and at the bottom there are breakpoints for Java exceptions.  You need to click those OFF see below:</p>\n<p><a href=\"https://i.stack.imgur.com/Ag6DC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ag6DC.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":13595329,"reputation":124,"user_id":9807545,"display_name":"Rasputin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676041961,"creation_date":1675973462,"question_id":75403940,"body_markdown":"I am running unit tests on java code using intelliJ and junit.  The unit tests were working fine, and they still are . . . until I run in debug mode. Today, when I run in debug mode, all of a sudden, they start iterating through java files that are installed with java, I didn&#39;t write, and that I don&#39;t have permission for like the following: \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThis is part of the java code base that I don&#39;t have any control over and I didn&#39;t set any breakpoint here.  Yet it pauses here and makes me click through it to get past it.  I wouldn&#39;t care if this was only a couple of additional clicks to click through, but I have clicked like 50 times and it still keeps going through base java code that I have no control over and is not what is throwing any problem or issue. \r\n\r\nI tried changing the settings for code coverage but that didn&#39;t seem to do anything.  Is there any way to get junit to only stop at breakpoints that I, myself, specified?  Any help here would be appreciated.  I didn&#39;t see a similar question on Stack Overflow and the stuff on other sites is all about crafting the unit test itself.   \r\n\r\n  [1]: https://i.stack.imgur.com/WyxTL.png","title":"JUnit Stopping at Breakpoints in Files I Didn&#39;t Write and Don&#39;t Have Permission to","body":"<p>I am running unit tests on java code using intelliJ and junit.  The unit tests were working fine, and they still are . . . until I run in debug mode. Today, when I run in debug mode, all of a sudden, they start iterating through java files that are installed with java, I didn't write, and that I don't have permission for like the following:</p>\n<p><a href=\"https://i.stack.imgur.com/WyxTL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WyxTL.png\" alt=\"enter image description here\" /></a></p>\n<p>This is part of the java code base that I don't have any control over and I didn't set any breakpoint here.  Yet it pauses here and makes me click through it to get past it.  I wouldn't care if this was only a couple of additional clicks to click through, but I have clicked like 50 times and it still keeps going through base java code that I have no control over and is not what is throwing any problem or issue.</p>\n<p>I tried changing the settings for code coverage but that didn't seem to do anything.  Is there any way to get junit to only stop at breakpoints that I, myself, specified?  Any help here would be appreciated.  I didn't see a similar question on Stack Overflow and the stuff on other sites is all about crafting the unit test itself.</p>\n"},{"tags":["java","json","scala","dictionary"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":2,"creation_date":1676039983,"post_id":75412208,"comment_id":133062906,"body_markdown":"Either use `.asInstanceOf` or introduce a hierarchy (algebraic data type) instead of Object: `sealed trait A` `case class B(s: String) extends A` `case class C(m: Map[String, String]) extends A` `case class D(mm: Map[String, Map[String, String]]) extends A`, you have a `Map[String, A]`, you can use pattern matching","body":"Either use <code>.asInstanceOf</code> or introduce a hierarchy (algebraic data type) instead of Object: <code>sealed trait A</code> <code>case class B(s: String) extends A</code> <code>case class C(m: Map[String, String]) extends A</code> <code>case class D(mm: Map[String, Map[String, String]]) extends A</code>, you have a <code>Map[String, A]</code>, you can use pattern matching"},{"owner":{"account_id":5335286,"reputation":39836,"user_id":4254517,"accept_rate":48,"display_name":"Dima"},"score":1,"creation_date":1676040040,"post_id":75412208,"comment_id":133062924,"body_markdown":"You should not be using `var` or mutable collections, that&#39;s not really how you write code in scala. You should also, probably, read some basic intro about the language and type system. `requiredVar.get(&quot;three&quot;).put(&quot;six&quot;,&quot;seven&quot;)` -- you declared values of this map to be `Object`,  so, you can&#39;t `put` things there. \n`val a = Map(&quot;one&quot; -&gt; &quot;two&quot; , &quot;three&quot; -&gt; Map(&quot;four&quot;-&gt;&quot;five&quot;))` -- you should not be mixing types like this. `a` ends up being `Map[String, Any]`, so you can&#39;t `put` anything into value without casting again. Also, `Map.get` returns an `Option`.","body":"You should not be using <code>var</code> or mutable collections, that&#39;s not really how you write code in scala. You should also, probably, read some basic intro about the language and type system. <code>requiredVar.get(&quot;three&quot;).put(&quot;six&quot;,&quot;seven&quot;)</code> -- you declared values of this map to be <code>Object</code>,  so, you can&#39;t <code>put</code> things there.  <code>val a = Map(&quot;one&quot; -&gt; &quot;two&quot; , &quot;three&quot; -&gt; Map(&quot;four&quot;-&gt;&quot;five&quot;))</code> -- you should not be mixing types like this. <code>a</code> ends up being <code>Map[String, Any]</code>, so you can&#39;t <code>put</code> anything into value without casting again. Also, <code>Map.get</code> returns an <code>Option</code>."}],"answers":[{"tags":[],"owner":{"account_id":5306592,"reputation":810,"user_id":4234254,"display_name":"anqit"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1676041394,"creation_date":1676041394,"answer_id":75412791,"question_id":75412208,"body_markdown":"In the first case, when using Java, you get the error because the compiler doesn&#39;t know that the value that retrieved from `requiredVar` is a `Map`.\r\nYou declare `requiredVar` to be a `HashMap[String, Object]`, so the compiler will only know anything retrieved from the map is an `Object`, nothing more specific.\r\n\r\nSpecifically, in your case:\r\n\r\n```requiredVar.get(&quot;three&quot;).put(&quot;six&quot;,&quot;seven&quot;)```\r\n\r\n`requiredVar.get(&quot;three&quot;)` returns an `Object`, which doesn&#39;t have a `put()` method.\r\n\r\nYou are running into a similar issue in the Scala version of your code as well. When you create the `Map`:\r\n\r\n```val a = Map(&quot;one&quot; -&gt; &quot;two&quot; , &quot;three&quot; -&gt; Map(&quot;four&quot;-&gt;&quot;five&quot;))```\r\n\r\nthe compiler must infer the types of the keys and values, which it is doing by finding the closest common ancestor of all the values, which for a `String` and another `Map`, is `Any`, Scala&#39;s equivalent to Java&#39;s `Object`. So when you try to do\r\n\r\n```a.get(&quot;three&quot;).put(&quot;six&quot;-&gt;&quot;seven&quot;)```\r\n\r\n`a.get(&quot;three&quot;)` is returning an `Option[Any]`, which doesn&#39;t have a `put` method. By the way, Scala&#39;s `Map.get` returns an `Option`, so that if the key is not present in the map, a `None` is returned instead an exception being thrown. You can also use the more concise method `a(&quot;three&quot;)`, which returns the value type directly (in this case `Any`), but will throw an exception if the key is not in the map.\r\n\r\nThere are a few ways I can think of try to achieve what you want to do.\r\n\r\n**1) Casting**\r\n\r\nIf you are absolutely sure that the value you are retrieving from the map is another `Map` instead of a `String`, you can cast the value:\r\n\r\n```scala\r\nrequiredVar.get(&quot;three&quot;).asInstanceOf[HashMap[String, String]].put(&quot;six&quot;,&quot;seven&quot;)\r\n```\r\n\r\nThis is a fairly brittle approach, as if the value is a `String`, then you will get a runtime exception thrown.\r\n\r\n**2) Pattern Matching**\r\n\r\nRather than casting arbitrarily, you can test the retrieved value for its type, and only call `put` on values you know are maps:\r\n\r\n```scala\r\nrequiredVar.get(&quot;three&quot;) match {\r\n  case m: HashMap[String, String] =&gt; m.put(&quot;six&quot;, &quot;seven&quot;)\r\n  case _ =&gt; // the value is probably a string here, handle this how you&#39;d like\r\n}\r\n```\r\n\r\nThis allows you to guard against the case that the value is not a map. However, it is still brittle because the value type is `Any`, so in the `case _` case, you don&#39;t actually know the value is a `String`, and would have to pattern match or cast to know for sure and use the value as a `String`\r\n\r\n**3) Create a new value type**\r\n\r\nRather than rely on a top type like `Object` or `Any`, you can create types of your own to use as the value type. Something like the following could work:\r\n\r\n```scala\r\nimport scala.collection.mutable.Map\r\n\r\nsealed trait MyVal \r\ncase class StringVal(s: String) extends MyVal\r\ncase class MapVal(m: Map[String, String]) extends MyVal\r\n\r\nobject MyVal {\r\n  def apply(s: String): StringVal = StringVal(s)\r\n  def apply(m: Map[String, String]): MapVal = MapVal(m)\r\n}\r\n\r\nvar rv = Map[String, MyVal]()\r\nrv += &quot;one&quot; -&gt; MyVal(&quot;two&quot;)\r\nrv += &quot;three&quot; -&gt; MyVal(Map[String, String](&quot;four&quot; -&gt; &quot;five&quot;))\r\n\r\nrv.get(&quot;three&quot;) match {\r\n  case Some(v) =&gt; v match {\r\n    case MapVal(m) =&gt; m(&quot;six&quot;) = &quot;seven&quot;\r\n    case StringVal(s) =&gt;  // handle the string case as you&#39;d like\r\n  }\r\n  case None =&gt; // handle the key not being present in the map here\r\n}\r\n```\r\n\r\nThe usage may look similar, but the advantage now is that the pattern match on the `rv.get(&quot;three&quot;)` is complete.\r\n\r\n**4) Union types**\r\n\r\nIf you happen to be using a 3.x version of Scala, you can use a union type to specify exactly what types of values you will have in your map, and achieve something like the above option much less verbosely:\r\n\r\n```scala\r\nimport scala.collection.mutable.Map\r\n\r\nval rv: Map[String, String | Map[String, String]] = Map()\r\nrv += &quot;one&quot; -&gt; &quot;two&quot;\r\nrv += &quot;three&quot; -&gt; Map[String, String](&quot;four&quot; -&gt; &quot;five&quot;)\r\nrv.get(&quot;three&quot;) match {\r\n  case Some(m: Map[String, String]) =&gt; m += &quot;six&quot; -&gt; &quot;seven&quot;\r\n  case Some(s: String) =&gt; // handle string values\r\n  case None =&gt; // handle key not present\r\n}\r\n```\r\n\r\n\r\nOne thing to note though, with all of the above options, is that in Scala, it is preferable to use immutable collections, instead of mutable versions like `HashMap` or `scala.collection.mutable.Map` (which is by default a `HashMap` under the hood). I would do some research about immutable collections and try to think about how you can redesign your code accordingly.","title":"How to create a Hashmap in Scala with key as String and value as another String or another Hashmap","body":"<p>In the first case, when using Java, you get the error because the compiler doesn't know that the value that retrieved from <code>requiredVar</code> is a <code>Map</code>.\nYou declare <code>requiredVar</code> to be a <code>HashMap[String, Object]</code>, so the compiler will only know anything retrieved from the map is an <code>Object</code>, nothing more specific.</p>\n<p>Specifically, in your case:</p>\n<p><code>requiredVar.get(&quot;three&quot;).put(&quot;six&quot;,&quot;seven&quot;)</code></p>\n<p><code>requiredVar.get(&quot;three&quot;)</code> returns an <code>Object</code>, which doesn't have a <code>put()</code> method.</p>\n<p>You are running into a similar issue in the Scala version of your code as well. When you create the <code>Map</code>:</p>\n<p><code>val a = Map(&quot;one&quot; -&gt; &quot;two&quot; , &quot;three&quot; -&gt; Map(&quot;four&quot;-&gt;&quot;five&quot;))</code></p>\n<p>the compiler must infer the types of the keys and values, which it is doing by finding the closest common ancestor of all the values, which for a <code>String</code> and another <code>Map</code>, is <code>Any</code>, Scala's equivalent to Java's <code>Object</code>. So when you try to do</p>\n<p><code>a.get(&quot;three&quot;).put(&quot;six&quot;-&gt;&quot;seven&quot;)</code></p>\n<p><code>a.get(&quot;three&quot;)</code> is returning an <code>Option[Any]</code>, which doesn't have a <code>put</code> method. By the way, Scala's <code>Map.get</code> returns an <code>Option</code>, so that if the key is not present in the map, a <code>None</code> is returned instead an exception being thrown. You can also use the more concise method <code>a(&quot;three&quot;)</code>, which returns the value type directly (in this case <code>Any</code>), but will throw an exception if the key is not in the map.</p>\n<p>There are a few ways I can think of try to achieve what you want to do.</p>\n<p><strong>1) Casting</strong></p>\n<p>If you are absolutely sure that the value you are retrieving from the map is another <code>Map</code> instead of a <code>String</code>, you can cast the value:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>requiredVar.get(&quot;three&quot;).asInstanceOf[HashMap[String, String]].put(&quot;six&quot;,&quot;seven&quot;)\n</code></pre>\n<p>This is a fairly brittle approach, as if the value is a <code>String</code>, then you will get a runtime exception thrown.</p>\n<p><strong>2) Pattern Matching</strong></p>\n<p>Rather than casting arbitrarily, you can test the retrieved value for its type, and only call <code>put</code> on values you know are maps:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>requiredVar.get(&quot;three&quot;) match {\n  case m: HashMap[String, String] =&gt; m.put(&quot;six&quot;, &quot;seven&quot;)\n  case _ =&gt; // the value is probably a string here, handle this how you'd like\n}\n</code></pre>\n<p>This allows you to guard against the case that the value is not a map. However, it is still brittle because the value type is <code>Any</code>, so in the <code>case _</code> case, you don't actually know the value is a <code>String</code>, and would have to pattern match or cast to know for sure and use the value as a <code>String</code></p>\n<p><strong>3) Create a new value type</strong></p>\n<p>Rather than rely on a top type like <code>Object</code> or <code>Any</code>, you can create types of your own to use as the value type. Something like the following could work:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.collection.mutable.Map\n\nsealed trait MyVal \ncase class StringVal(s: String) extends MyVal\ncase class MapVal(m: Map[String, String]) extends MyVal\n\nobject MyVal {\n  def apply(s: String): StringVal = StringVal(s)\n  def apply(m: Map[String, String]): MapVal = MapVal(m)\n}\n\nvar rv = Map[String, MyVal]()\nrv += &quot;one&quot; -&gt; MyVal(&quot;two&quot;)\nrv += &quot;three&quot; -&gt; MyVal(Map[String, String](&quot;four&quot; -&gt; &quot;five&quot;))\n\nrv.get(&quot;three&quot;) match {\n  case Some(v) =&gt; v match {\n    case MapVal(m) =&gt; m(&quot;six&quot;) = &quot;seven&quot;\n    case StringVal(s) =&gt;  // handle the string case as you'd like\n  }\n  case None =&gt; // handle the key not being present in the map here\n}\n</code></pre>\n<p>The usage may look similar, but the advantage now is that the pattern match on the <code>rv.get(&quot;three&quot;)</code> is complete.</p>\n<p><strong>4) Union types</strong></p>\n<p>If you happen to be using a 3.x version of Scala, you can use a union type to specify exactly what types of values you will have in your map, and achieve something like the above option much less verbosely:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.collection.mutable.Map\n\nval rv: Map[String, String | Map[String, String]] = Map()\nrv += &quot;one&quot; -&gt; &quot;two&quot;\nrv += &quot;three&quot; -&gt; Map[String, String](&quot;four&quot; -&gt; &quot;five&quot;)\nrv.get(&quot;three&quot;) match {\n  case Some(m: Map[String, String]) =&gt; m += &quot;six&quot; -&gt; &quot;seven&quot;\n  case Some(s: String) =&gt; // handle string values\n  case None =&gt; // handle key not present\n}\n</code></pre>\n<p>One thing to note though, with all of the above options, is that in Scala, it is preferable to use immutable collections, instead of mutable versions like <code>HashMap</code> or <code>scala.collection.mutable.Map</code> (which is by default a <code>HashMap</code> under the hood). I would do some research about immutable collections and try to think about how you can redesign your code accordingly.</p>\n"}],"owner":{"account_id":4469491,"reputation":1200,"user_id":3744997,"accept_rate":83,"display_name":"Abhishek Agarwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":277,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75412791,"answer_count":1,"score":0,"last_activity_date":1676041394,"creation_date":1676037824,"question_id":75412208,"body_markdown":"I want to create a variable in Scala which can have data of the following format:\r\n\r\n    &quot;one&quot; -&gt; &quot;two&quot;,\r\n    &quot;three -&gt; {&quot;four&quot; -&gt; &quot;five&quot;, &quot;six -&gt; &quot;seven&quot;},\r\n    &quot;eight&quot; -&gt; {&quot;nine&quot; -&gt; { &quot;ten&quot; -&gt; &quot;eleven&quot;, &quot;twelve&quot; -&gt; &quot;thirteen&quot;},\r\n               &quot;fourteen&quot; -&gt; {&quot;fifteen&quot; -&gt; &quot;sixteen}\r\n               }\r\n\r\nI tried creating a Java HashMap using:\r\n\r\n    var requiredVar = new HashMap[String, Object]()\r\n\r\nI am able to do something like :\r\n\r\n    var hm = new HashMap[String, String]\r\n    hm.put(&quot;four&quot;,&quot;five&quot;)\r\n    requiredVar.put(&quot;three&quot;,hm)\r\n\r\nBut if I try to add :\r\n\r\n    requiredVar.get(&quot;three&quot;).put(&quot;six&quot;,&quot;seven&quot;)\r\n\r\nI get the error that\r\n\r\n&gt;  value put is not a member of Object\r\n\r\nHow can I get this done? \r\n\r\nI have tried something like native to Scala as well:\r\n\r\n    val a = Map(&quot;one&quot; -&gt; &quot;two&quot; , &quot;three&quot; -&gt; Map(&quot;four&quot;-&gt;&quot;five&quot;))\r\n    a.get(&quot;three&quot;).put(&quot;six&quot;-&gt;&quot;seven&quot;)\r\n\r\nbut get the following error:\r\n\r\n&gt; error: value put is not a member of Option[Any]","title":"How to create a Hashmap in Scala with key as String and value as another String or another Hashmap","body":"<p>I want to create a variable in Scala which can have data of the following format:</p>\n<pre><code>&quot;one&quot; -&gt; &quot;two&quot;,\n&quot;three -&gt; {&quot;four&quot; -&gt; &quot;five&quot;, &quot;six -&gt; &quot;seven&quot;},\n&quot;eight&quot; -&gt; {&quot;nine&quot; -&gt; { &quot;ten&quot; -&gt; &quot;eleven&quot;, &quot;twelve&quot; -&gt; &quot;thirteen&quot;},\n           &quot;fourteen&quot; -&gt; {&quot;fifteen&quot; -&gt; &quot;sixteen}\n           }\n</code></pre>\n<p>I tried creating a Java HashMap using:</p>\n<pre><code>var requiredVar = new HashMap[String, Object]()\n</code></pre>\n<p>I am able to do something like :</p>\n<pre><code>var hm = new HashMap[String, String]\nhm.put(&quot;four&quot;,&quot;five&quot;)\nrequiredVar.put(&quot;three&quot;,hm)\n</code></pre>\n<p>But if I try to add :</p>\n<pre><code>requiredVar.get(&quot;three&quot;).put(&quot;six&quot;,&quot;seven&quot;)\n</code></pre>\n<p>I get the error that</p>\n<blockquote>\n<p>value put is not a member of Object</p>\n</blockquote>\n<p>How can I get this done?</p>\n<p>I have tried something like native to Scala as well:</p>\n<pre><code>val a = Map(&quot;one&quot; -&gt; &quot;two&quot; , &quot;three&quot; -&gt; Map(&quot;four&quot;-&gt;&quot;five&quot;))\na.get(&quot;three&quot;).put(&quot;six&quot;-&gt;&quot;seven&quot;)\n</code></pre>\n<p>but get the following error:</p>\n<blockquote>\n<p>error: value put is not a member of Option[Any]</p>\n</blockquote>\n"},{"tags":["java","time","floating-point"],"comments":[{"owner":{"account_id":203587,"reputation":10443,"user_id":451321,"accept_rate":50,"display_name":"Michael Chourdakis"},"score":1,"creation_date":1674863251,"post_id":75264370,"comment_id":132811500,"body_markdown":"2.30 decimal is not 2 &#39; 30&#39;&#39;. Are you sure?","body":"2.30 decimal is not 2 &#39; 30&#39;&#39;. Are you sure?"},{"owner":{"account_id":27639434,"reputation":1,"user_id":21096677,"display_name":"Eleazar Valiente"},"score":0,"creation_date":1674863441,"post_id":75264370,"comment_id":132811538,"body_markdown":"Yes. They aren&#39;t separate.","body":"Yes. They aren&#39;t separate."},{"owner":{"account_id":16397024,"reputation":1,"user_id":11844224,"display_name":"Andrew"},"score":0,"creation_date":1674918613,"post_id":75264370,"comment_id":132818466,"body_markdown":"2.30 is not a valid float","body":"2.30 is not a valid float"},{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1676065814,"post_id":75264370,"comment_id":133069870,"body_markdown":"If you are given a float value of 2.30, that isn&#39;t a valid representation in Java time formatting of 2&#39; 30&quot; (two minutes thirty seconds). It&#39;s 2.30 seconds -- a big difference! If you said that the 2.30 was a String value, the yes, it might mean 2&#39; 30&quot;. But the unit delimiter should be a colon (&quot;:&quot;). So, what is the actual data type?","body":"If you are given a float value of 2.30, that isn&#39;t a valid representation in Java time formatting of 2&#39; 30&quot; (two minutes thirty seconds). It&#39;s 2.30 seconds -- a big difference! If you said that the 2.30 was a String value, the yes, it might mean 2&#39; 30&quot;. But the unit delimiter should be a colon (&quot;:&quot;). So, what is the actual data type?"}],"answers":[{"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1676066181,"post_id":75268660,"comment_id":133069962,"body_markdown":"I don&#39;t think this is correct. If 2.3 is a float, and the units are seconds, that&#39;s 2 and 30/100 seconds, not 2 and 50/100 seconds. If the value is &quot;2.30&quot; where the &quot;.&quot; is the unit delimiter (not correct in Java time formatting; should be a colon, &quot;:&quot;), then yes, you could argue that it represents 2&#39; 30&quot;. If that&#39;s the case, you have to split the string using &quot;.&quot; as the delimiter (result = [ 2, 30 ]) and treat each item differently: (2*60) + 30 = 150.","body":"I don&#39;t think this is correct. If 2.3 is a float, and the units are seconds, that&#39;s 2 and 30/100 seconds, not 2 and 50/100 seconds. If the value is &quot;2.30&quot; where the &quot;.&quot; is the unit delimiter (not correct in Java time formatting; should be a colon, &quot;:&quot;), then yes, you could argue that it represents 2&#39; 30&quot;. If that&#39;s the case, you have to split the string using &quot;.&quot; as the delimiter (result = [ 2, 30 ]) and treat each item differently: (2*60) + 30 = 150."}],"tags":[],"owner":{"account_id":16397024,"reputation":1,"user_id":11844224,"display_name":"Andrew"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674919045,"creation_date":1674919045,"answer_id":75268660,"question_id":75264370,"body_markdown":"The biggest issue is that 2.30 is not exactly representable as a float; this is resolved by round().  The trailing 0 is also an issue; this is resolved by * 100:\r\n\r\n    &gt;&gt;&gt; v=2.30\r\n    &gt;&gt;&gt; v\r\n    2.3\r\n    &gt;&gt;&gt; v=v*100\r\n    &gt;&gt;&gt; v\r\n    229.99999999999997\r\n    &gt;&gt;&gt; v=round(v,2)\r\n    &gt;&gt;&gt; v\r\n    230.0\r\n    &gt;&gt;&gt; sec = v%100\r\n    &gt;&gt;&gt; sec\r\n    30.0\r\n    &gt;&gt;&gt; min = (v-v%100)/100\r\n    &gt;&gt;&gt; min\r\n    2.0\r\n    &gt;&gt;&gt; int = sec + min * 60\r\n    &gt;&gt;&gt; int\r\n    150.0\r\n    &gt;&gt;&gt; ","title":"How would I convert a value of 2.30 (two minutes and thirty seconds) to just integer seconds","body":"<p>The biggest issue is that 2.30 is not exactly representable as a float; this is resolved by round().  The trailing 0 is also an issue; this is resolved by * 100:</p>\n<pre><code>&gt;&gt;&gt; v=2.30\n&gt;&gt;&gt; v\n2.3\n&gt;&gt;&gt; v=v*100\n&gt;&gt;&gt; v\n229.99999999999997\n&gt;&gt;&gt; v=round(v,2)\n&gt;&gt;&gt; v\n230.0\n&gt;&gt;&gt; sec = v%100\n&gt;&gt;&gt; sec\n30.0\n&gt;&gt;&gt; min = (v-v%100)/100\n&gt;&gt;&gt; min\n2.0\n&gt;&gt;&gt; int = sec + min * 60\n&gt;&gt;&gt; int\n150.0\n&gt;&gt;&gt; \n</code></pre>\n"}],"owner":{"account_id":27639434,"reputation":1,"user_id":21096677,"display_name":"Eleazar Valiente"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1676041272,"creation_date":1674863109,"question_id":75264370,"body_markdown":"Let me know please if i can be more specific. \r\n\r\nI&#39;ve tried multiplying and dividing but haven&#39;t been able to figure anything out. ","title":"How would I convert a value of 2.30 (two minutes and thirty seconds) to just integer seconds","body":"<p>Let me know please if i can be more specific.</p>\n<p>I've tried multiplying and dividing but haven't been able to figure anything out.</p>\n"},{"tags":["java","spring-boot","hibernate","jackson"],"answers":[{"comments":[{"owner":{"account_id":4984082,"reputation":45,"user_id":10480956,"display_name":"sozza594"},"score":0,"creation_date":1676041389,"post_id":75412760,"comment_id":133063331,"body_markdown":"I was hoping there might be a way to do it with an annotation on the builder object as I have a lot of lists in my builder class and want to avoid having to call Collection.sort each time I assign something to that field. Perhaps there isn&#39;t a way to do that though.","body":"I was hoping there might be a way to do it with an annotation on the builder object as I have a lot of lists in my builder class and want to avoid having to call Collection.sort each time I assign something to that field. Perhaps there isn&#39;t a way to do that though."},{"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"score":0,"creation_date":1676041593,"post_id":75412760,"comment_id":133063415,"body_markdown":"let me search this for you , if i find any solution i&#39;ll say","body":"let me search this for you , if i find any solution i&#39;ll say"}],"tags":[],"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676041199,"creation_date":1676041199,"answer_id":75412760,"question_id":75412706,"body_markdown":"you can sort this list with Collection.sort(list) and then set this list to your pojo and let object mapper to map ","title":"How do I ensure the contents of a list will be sorted in alphabetic order when converted to JSON?","body":"<p>you can sort this list with Collection.sort(list) and then set this list to your pojo and let object mapper to map</p>\n"}],"owner":{"account_id":4984082,"reputation":45,"user_id":10480956,"display_name":"sozza594"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676041199,"creation_date":1676040882,"question_id":75412706,"body_markdown":"I&#39;m working on a Java Springboot application, and have a builder data class that I convert to JSON using objectMapper.writeValueAsString(value). I can see that you can sort the fields in the JSON with the annotations \r\n@JsonPropertyOrder(alphabetic = true) or @SortNatural but these are class level annotations. I have a field that is a List&lt;String&gt;, which I want the contents of to always be in alphabetic order. These 2 annotations don&#39;t seem to work at a field level, is there an alternative?\r\n","title":"How do I ensure the contents of a list will be sorted in alphabetic order when converted to JSON?","body":"<p>I'm working on a Java Springboot application, and have a builder data class that I convert to JSON using objectMapper.writeValueAsString(value). I can see that you can sort the fields in the JSON with the annotations\n@JsonPropertyOrder(alphabetic = true) or @SortNatural but these are class level annotations. I have a field that is a List, which I want the contents of to always be in alphabetic order. These 2 annotations don't seem to work at a field level, is there an alternative?</p>\n"},{"tags":["java","google-api","httprequest","google-people-api","import-contacts"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1676040794,"post_id":75412590,"comment_id":133063147,"body_markdown":"Is that not the [max page size](https://developers.google.com/people/api/rest/v1/people.connections/list#body.QUERY_PARAMETERS.page_size)?","body":"Is that not the <a href=\"https://developers.google.com/people/api/rest/v1/people.connections/list#body.QUERY_PARAMETERS.page_size\" rel=\"nofollow noreferrer\">max page size</a>?"},{"owner":{"account_id":27096880,"reputation":1,"user_id":20644000,"display_name":"det"},"score":0,"creation_date":1676041632,"post_id":75412590,"comment_id":133063425,"body_markdown":"Yes, but, is it possible to get the next 1700 contacts ?","body":"Yes, but, is it possible to get the next 1700 contacts ?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1676042676,"post_id":75412590,"comment_id":133063753,"body_markdown":"Yes, it is possible.","body":"Yes, it is possible."},{"owner":{"account_id":2066403,"reputation":109440,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"score":0,"creation_date":1676043667,"post_id":75412590,"comment_id":133064083,"body_markdown":"is there a next page token returned?","body":"is there a next page token returned?"},{"owner":{"account_id":27096880,"reputation":1,"user_id":20644000,"display_name":"det"},"score":0,"creation_date":1676043839,"post_id":75412590,"comment_id":133064144,"body_markdown":"Can you guide me on how to retrieve the rest of my contacts? What should I add to the API request to achieve this?","body":"Can you guide me on how to retrieve the rest of my contacts? What should I add to the API request to achieve this?"},{"owner":{"account_id":27096880,"reputation":1,"user_id":20644000,"display_name":"det"},"score":0,"creation_date":1676043993,"post_id":75412590,"comment_id":133064194,"body_markdown":"No, there is no next page returned.","body":"No, there is no next page returned."},{"owner":{"account_id":23310874,"reputation":2081,"user_id":17390145,"display_name":"Giselle Valladares"},"score":0,"creation_date":1676048152,"post_id":75412590,"comment_id":133065597,"body_markdown":"You can get the next page token inside the response body. You will get something like [this](https://developers.google.com/people/api/rest/v1/people.connections/list#response-body). Have you tried to add a logger.log or something similar from the response?","body":"You can get the next page token inside the response body. You will get something like <a href=\"https://developers.google.com/people/api/rest/v1/people.connections/list#response-body\" rel=\"nofollow noreferrer\">this</a>. Have you tried to add a logger.log or something similar from the response?"}],"owner":{"account_id":27096880,"reputation":1,"user_id":20644000,"display_name":"det"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676040990,"creation_date":1676040160,"question_id":75412590,"body_markdown":"I&#39;m using the Google People API to retrieve my contacts, but I&#39;m not able to retrieve all of them. \r\nI&#39;ve checked my API key and quotas, and everything seems to be in order. I&#39;ve also verified that the contacts I&#39;m trying to retrieve are not hidden.\r\n\r\nHere&#39;s the a part of the code I&#39;m using to make the API request:\r\n\r\n```\r\nURI uri = URI.create(&quot;https://people.googleapis.com/v1/people/me/connections?pageSize=2000&amp;personFields=names&quot;);\r\nHttpClient client = HttpClient.newHttpClient();\r\nHttpRequest request = \r\n  HttpRequest.newBuilder()\r\n    .uri(uri)\r\n    .header(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken)\r\n    .GET()\r\n    .build();\r\n```\r\n\r\nThe API is only returning 1000, even though I have 2700 contacts stored in my account. I actually would like to have a solution not to be limited in only 2000 or less, i want to be able to get all my contacts so that i can save them in my database.\r\nI would appreciate any help in resolving this issue.\r\n","title":"People API not retrieving all contacts","body":"<p>I'm using the Google People API to retrieve my contacts, but I'm not able to retrieve all of them.\nI've checked my API key and quotas, and everything seems to be in order. I've also verified that the contacts I'm trying to retrieve are not hidden.</p>\n<p>Here's the a part of the code I'm using to make the API request:</p>\n<pre><code>URI uri = URI.create(&quot;https://people.googleapis.com/v1/people/me/connections?pageSize=2000&amp;personFields=names&quot;);\nHttpClient client = HttpClient.newHttpClient();\nHttpRequest request = \n  HttpRequest.newBuilder()\n    .uri(uri)\n    .header(&quot;Authorization&quot;, &quot;Bearer &quot; + accessToken)\n    .GET()\n    .build();\n</code></pre>\n<p>The API is only returning 1000, even though I have 2700 contacts stored in my account. I actually would like to have a solution not to be limited in only 2000 or less, i want to be able to get all my contacts so that i can save them in my database.\nI would appreciate any help in resolving this issue.</p>\n"},{"tags":["java","html","xml","ms-word","apache-poi"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1676036852,"post_id":75410753,"comment_id":133061798,"body_markdown":"Does this answer your question? [How to unescape HTML character entities in Java?](https://stackoverflow.com/questions/994331/how-to-unescape-html-character-entities-in-java) For example, this will show you how to convert a string containing `&amp;lt;div class=&amp;apos;table-wrap&amp;apos;&amp;gt;` to a string containing `&lt;div class=&#39;table-wrap&#39;&gt;`, and so on.","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/994331/how-to-unescape-html-character-entities-in-java\">How to unescape HTML character entities in Java?</a> For example, this will show you how to convert a string containing <code>&amp;lt;div class=&amp;apos;table-wrap&amp;apos;&amp;gt;</code> to a string containing <code>&lt;div class=&#39;table-wrap&#39;&gt;</code>, and so on."},{"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"score":0,"creation_date":1676037727,"post_id":75410753,"comment_id":133062082,"body_markdown":"After using the htmlUnescape(source string)..when I do string.contains(&quot;&lt;tr&gt;&quot;) or string.contains(&quot;&lt;td&gt;&quot;), why is it always false? How can I retrieve the tags after applying htmlUnescape on the string?","body":"After using the htmlUnescape(source string)..when I do string.contains(&quot;&lt;tr&gt;&quot;) or string.contains(&quot;&lt;td&gt;&quot;), why is it always false? How can I retrieve the tags after applying htmlUnescape on the string?"},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676038076,"post_id":75410753,"comment_id":133062229,"body_markdown":"After unescaping HTML characters, you still end up with a string, not a HTML document. If you want to parse that string as HTML, you can use a tool which is designed for that, such as [JSoup](https://stackoverflow.com/q/1497946/12567365) or other similar libraries.","body":"After unescaping HTML characters, you still end up with a string, not a HTML document. If you want to parse that string as HTML, you can use a tool which is designed for that, such as <a href=\"https://stackoverflow.com/q/1497946/12567365\">JSoup</a> or other similar libraries."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1676038586,"post_id":75410753,"comment_id":133062413,"body_markdown":"In fact (I didn&#39;t realize this before) Jsoup can handle the unescaping for you, also.","body":"In fact (I didn&#39;t realize this before) Jsoup can handle the unescaping for you, also."}],"answers":[{"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676040941,"creation_date":1676040941,"answer_id":75412711,"question_id":75410753,"body_markdown":"Here is a basic demo using Jsoup. \r\n\r\nIt assumes you have already extracted the text content from your `&lt;customfieldvalue&gt;...&lt;/customfieldvalue&gt;` element.\r\n\r\nSo, now you have a string containing:\r\n\r\n    &amp;lt;div class=&amp;apos;table-wrap&amp;apos;&amp;gt; ... &amp;lt;/div&amp;gt;\r\n\r\nTo extract that content as a HTML document using Jsoup:\r\n\r\n```java\r\nboolean strictMode = true;\r\nString unescapedString = Parser.unescapeEntities(escapedString, strictMode);\r\nElement element = Jsoup.parse(unescapedString).body();\r\n```\r\n\r\nYou can iterate through all the child elements of this containing element:\r\n\r\n```java\r\nfor (Element element : Jsoup.parse(unescapedString).body().children().select(&quot;*&quot;)) {\r\n    System.out.println(element.nodeName() + &quot; - &quot; + element.ownText());\r\n}\r\n```\r\n\r\nIn this case, all I am doing is printing each element with any data it contains.\r\n\r\nThe output is:\r\n\r\n```\r\ndiv - \r\ntable - \r\ntbody - \r\ntr - \r\ntd - \r\nul - \r\nli - Product1:\r\ntd - \r\nul - \r\nli - Product2:\r\ntr - \r\ntd - \r\nul - \r\nli - Product3;/li&gt;\r\nli - Product4\r\ntd - \r\nul - \r\nli - Product5\r\nli - Product6\r\n```\r\n\r\nInterestingly, you can see that there is some malformed escaped HTML in the original data:\r\n\r\n    &amp;lt;li&amp;gt;Product3;/li&amp;gt;\r\n\r\n---\r\n\r\nOnce you have full access to the data-as-HTML, you can build your Word table using POI in the ususal way.","title":"How to parse a table content and structure from xml to word with Apache poi?","body":"<p>Here is a basic demo using Jsoup.</p>\n<p>It assumes you have already extracted the text content from your <code>&lt;customfieldvalue&gt;...&lt;/customfieldvalue&gt;</code> element.</p>\n<p>So, now you have a string containing:</p>\n<pre><code>&amp;lt;div class=&amp;apos;table-wrap&amp;apos;&amp;gt; ... &amp;lt;/div&amp;gt;\n</code></pre>\n<p>To extract that content as a HTML document using Jsoup:</p>\n<pre class=\"lang-java prettyprint-override\"><code>boolean strictMode = true;\nString unescapedString = Parser.unescapeEntities(escapedString, strictMode);\nElement element = Jsoup.parse(unescapedString).body();\n</code></pre>\n<p>You can iterate through all the child elements of this containing element:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (Element element : Jsoup.parse(unescapedString).body().children().select(&quot;*&quot;)) {\n    System.out.println(element.nodeName() + &quot; - &quot; + element.ownText());\n}\n</code></pre>\n<p>In this case, all I am doing is printing each element with any data it contains.</p>\n<p>The output is:</p>\n<pre><code>div - \ntable - \ntbody - \ntr - \ntd - \nul - \nli - Product1:\ntd - \nul - \nli - Product2:\ntr - \ntd - \nul - \nli - Product3;/li&gt;\nli - Product4\ntd - \nul - \nli - Product5\nli - Product6\n</code></pre>\n<p>Interestingly, you can see that there is some malformed escaped HTML in the original data:</p>\n<pre><code>&amp;lt;li&amp;gt;Product3;/li&amp;gt;\n</code></pre>\n<hr />\n<p>Once you have full access to the data-as-HTML, you can build your Word table using POI in the ususal way.</p>\n"}],"owner":{"account_id":16152922,"reputation":365,"user_id":11660873,"display_name":"Jeet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676117858,"accepted_answer_id":75412711,"answer_count":1,"score":0,"last_activity_date":1676040941,"creation_date":1676029924,"question_id":75410753,"body_markdown":"I am trying to parse a table in the XML file defined by its HTML tags and generate a word document. The table structure and the content should be automatically generated in the word document. In order to parse XML with java, I am taking help of the Apache poi library. When I retrieve the values from the XML I don&#39;t see the HTML tags that are present or associated with the table structure. However without the corresponding tags in the XML I cannot create a corresponding table int the word document. How should I proceed in that case?\r\n\r\nThe XML that I am parsing has one field with values that are arranged in a table structure.\r\n\r\n    &lt;customfield id=&quot;9999&quot; key=&quot;com.atlassian.jira.plugin.system.customfieldtypes:textarea&quot;&gt;\r\n      &lt;customfieldname&gt;Product&lt;/customfieldname&gt;\r\n           &lt;customfieldvalues&gt;\r\n              &lt;customfieldvalue&gt;\r\n        &amp;lt;div class=&amp;apos;table-wrap&amp;apos;&amp;gt;\r\n        &amp;lt;table class=&amp;apos;conTable&amp;apos;&amp;gt;&amp;lt;tbody&amp;gt;\r\n        &amp;lt;tr&amp;gt;\r\n        &amp;lt;td class=&amp;apos;confluenceTd&amp;apos;&amp;gt;&amp;lt;ul&amp;gt;\r\n        \t&amp;lt;li&amp;gt;Product1:&amp;lt;/li&amp;gt;\r\n        &amp;lt;/ul&amp;gt;\r\n        &amp;lt;/td&amp;gt;\r\n        &amp;lt;td class=&amp;apos;confluenceTd&amp;apos;&amp;gt;&amp;lt;ul&amp;gt;\r\n        \t&amp;lt;li&amp;gt;Product2:&amp;lt;/li&amp;gt;\r\n        &amp;lt;/ul&amp;gt;\r\n        &amp;lt;/td&amp;gt;\r\n        &amp;lt;/tr&amp;gt;\r\n        &amp;lt;tr&amp;gt;\r\n        &amp;lt;td class=&amp;apos;confluenceTd&amp;apos;&amp;gt;&amp;lt;ul&amp;gt;\r\n        \t&amp;lt;li&amp;gt;Product3;/li&amp;gt;\r\n        \t&amp;lt;li&amp;gt;Product4&amp;lt;/li&amp;gt;\r\n        &amp;lt;/ul&amp;gt;\r\n        &amp;lt;/td&amp;gt;\r\n        &amp;lt;td class=&amp;apos;confluenceTd&amp;apos;&amp;gt;&amp;lt;ul&amp;gt;\r\n        \t&amp;lt;li&amp;gt;Product5&amp;lt;/li&amp;gt;\r\n        \t&amp;lt;li&amp;gt;Product6&amp;lt;/li&amp;gt;\r\n        &amp;lt;/ul&amp;gt;\r\n        &amp;lt;/td&amp;gt;\r\n        &amp;lt;/tr&amp;gt;\r\n        &amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt;\r\n        &amp;lt;/div&amp;gt;\r\n             &lt;/customfieldvalue&gt;\r\n         &lt;/customfieldvalues&gt;\r\n      &lt;/customfield&gt;\r\n\r\n \r\nThe corresponding HTML is as follows\r\n\r\n    &gt; &lt;customfieldvalues&gt;\r\n    &gt;     &lt;customfieldvalue&gt; &lt;div class=&#39;table-wrap&#39;&gt; &lt;table class=&#39;confluenceTable&#39;&gt;&lt;tbody&gt; &lt;tr&gt; &lt;td class=&#39;confluenceTd&#39;&gt;&lt;ul&gt;\r\n    &gt; &lt;li&gt;Product1:&lt;/li&gt; &lt;/ul&gt; &lt;/td&gt; &lt;td class=&#39;confluenceTd&#39;&gt;&lt;ul&gt;\r\n    &gt; &lt;li&gt;Product2:&lt;/li&gt; &lt;/ul&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td\r\n    &gt; class=&#39;confluenceTd&#39;&gt;&lt;ul&gt; &lt;li&gt;Product3&lt;/li&gt; &lt;li&gt;Product4&lt;/li&gt; &lt;/ul&gt;\r\n    &gt; &lt;/td&gt; &lt;td class=&#39;confluenceTd&#39;&gt;&lt;ul&gt; &lt;li&gt;Product5&lt;/li&gt;\r\n    &gt; &lt;li&gt;Product6&lt;/li&gt; &lt;/ul&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/div&gt;    \r\n    &gt; &lt;/customfieldvalue&gt; &lt;/customfieldvalues&gt;\r\n\r\n I have parsed the XML normally to retrieve its value \r\n\r\n    element.item(n).getChildNodes().item(0).getNodeValue()","title":"How to parse a table content and structure from xml to word with Apache poi?","body":"<p>I am trying to parse a table in the XML file defined by its HTML tags and generate a word document. The table structure and the content should be automatically generated in the word document. In order to parse XML with java, I am taking help of the Apache poi library. When I retrieve the values from the XML I don't see the HTML tags that are present or associated with the table structure. However without the corresponding tags in the XML I cannot create a corresponding table int the word document. How should I proceed in that case?</p>\n<p>The XML that I am parsing has one field with values that are arranged in a table structure.</p>\n<pre><code>&lt;customfield id=&quot;9999&quot; key=&quot;com.atlassian.jira.plugin.system.customfieldtypes:textarea&quot;&gt;\n  &lt;customfieldname&gt;Product&lt;/customfieldname&gt;\n       &lt;customfieldvalues&gt;\n          &lt;customfieldvalue&gt;\n    &amp;lt;div class=&amp;apos;table-wrap&amp;apos;&amp;gt;\n    &amp;lt;table class=&amp;apos;conTable&amp;apos;&amp;gt;&amp;lt;tbody&amp;gt;\n    &amp;lt;tr&amp;gt;\n    &amp;lt;td class=&amp;apos;confluenceTd&amp;apos;&amp;gt;&amp;lt;ul&amp;gt;\n        &amp;lt;li&amp;gt;Product1:&amp;lt;/li&amp;gt;\n    &amp;lt;/ul&amp;gt;\n    &amp;lt;/td&amp;gt;\n    &amp;lt;td class=&amp;apos;confluenceTd&amp;apos;&amp;gt;&amp;lt;ul&amp;gt;\n        &amp;lt;li&amp;gt;Product2:&amp;lt;/li&amp;gt;\n    &amp;lt;/ul&amp;gt;\n    &amp;lt;/td&amp;gt;\n    &amp;lt;/tr&amp;gt;\n    &amp;lt;tr&amp;gt;\n    &amp;lt;td class=&amp;apos;confluenceTd&amp;apos;&amp;gt;&amp;lt;ul&amp;gt;\n        &amp;lt;li&amp;gt;Product3;/li&amp;gt;\n        &amp;lt;li&amp;gt;Product4&amp;lt;/li&amp;gt;\n    &amp;lt;/ul&amp;gt;\n    &amp;lt;/td&amp;gt;\n    &amp;lt;td class=&amp;apos;confluenceTd&amp;apos;&amp;gt;&amp;lt;ul&amp;gt;\n        &amp;lt;li&amp;gt;Product5&amp;lt;/li&amp;gt;\n        &amp;lt;li&amp;gt;Product6&amp;lt;/li&amp;gt;\n    &amp;lt;/ul&amp;gt;\n    &amp;lt;/td&amp;gt;\n    &amp;lt;/tr&amp;gt;\n    &amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt;\n    &amp;lt;/div&amp;gt;\n         &lt;/customfieldvalue&gt;\n     &lt;/customfieldvalues&gt;\n  &lt;/customfield&gt;\n</code></pre>\n<p>The corresponding HTML is as follows</p>\n<pre><code>&gt; &lt;customfieldvalues&gt;\n&gt;     &lt;customfieldvalue&gt; &lt;div class='table-wrap'&gt; &lt;table class='confluenceTable'&gt;&lt;tbody&gt; &lt;tr&gt; &lt;td class='confluenceTd'&gt;&lt;ul&gt;\n&gt; &lt;li&gt;Product1:&lt;/li&gt; &lt;/ul&gt; &lt;/td&gt; &lt;td class='confluenceTd'&gt;&lt;ul&gt;\n&gt; &lt;li&gt;Product2:&lt;/li&gt; &lt;/ul&gt; &lt;/td&gt; &lt;/tr&gt; &lt;tr&gt; &lt;td\n&gt; class='confluenceTd'&gt;&lt;ul&gt; &lt;li&gt;Product3&lt;/li&gt; &lt;li&gt;Product4&lt;/li&gt; &lt;/ul&gt;\n&gt; &lt;/td&gt; &lt;td class='confluenceTd'&gt;&lt;ul&gt; &lt;li&gt;Product5&lt;/li&gt;\n&gt; &lt;li&gt;Product6&lt;/li&gt; &lt;/ul&gt; &lt;/td&gt; &lt;/tr&gt; &lt;/tbody&gt;&lt;/table&gt; &lt;/div&gt;    \n&gt; &lt;/customfieldvalue&gt; &lt;/customfieldvalues&gt;\n</code></pre>\n<p>I have parsed the XML normally to retrieve its value</p>\n<pre><code>element.item(n).getChildNodes().item(0).getNodeValue()\n</code></pre>\n"},{"tags":["java","numbers","calculator","number-formatting"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1676039162,"post_id":75412414,"comment_id":133062601,"body_markdown":"So do you want the user to be able to enter &quot;1k&quot; and have that translate to the int value 1000 internally?","body":"So do you want the user to be able to enter &quot;1k&quot; and have that translate to the int value 1000 internally?"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1676039446,"post_id":75412414,"comment_id":133062722,"body_markdown":"If what @OHGODSPIDERS said is true, just check the string for k&#39;s and replace them. A pretty easy solution, but it can also be exploited as easily. To improve on this you could set the max k-count to 1 and always check for it to be at the last position in the string.","body":"If what @OHGODSPIDERS said is true, just check the string for k&#39;s and replace them. A pretty easy solution, but it can also be exploited as easily. To improve on this you could set the max k-count to 1 and always check for it to be at the last position in the string."},{"owner":{"account_id":27753713,"reputation":69,"user_id":21187677,"display_name":"sartep"},"score":0,"creation_date":1676039671,"post_id":75412414,"comment_id":133062800,"body_markdown":"No, if for ex. user enters &quot;abc&quot;, I get = Exception in thread &quot;main&quot; java.util.InputMismatchException\n\tat java.base/java.util.Scanner.throwFor(Scanner.java:943)\n\tat java.base/java.util.Scanner.next(Scanner.java:1598)\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2263)\n\tat java.base/java.util.Scanner.nextInt(Scanner.java:2217)\n\tat com.petras.Main.main(Main.java:20)                                                                                   But I want to get the line &quot;Please enter valid number&quot; //not letter and let him put the number again, how should my code look?","body":"No, if for ex. user enters &quot;abc&quot;, I get = Exception in thread &quot;main&quot; java.util.InputMismatchException \tat java.base/java.util.Scanner.throwFor(Scanner.java:943) \tat java.base/java.util.Scanner.next(Scanner.java:1598) \tat java.base/java.util.Scanner.nextInt(Scanner.java:2263) \tat java.base/java.util.Scanner.nextInt(Scanner.java:2217) \tat com.petras.Main.main(Main.java:20)                                                                                   But I want to get the line &quot;Please enter valid number&quot; //not letter and let him put the number again, how should my code look?"}],"answers":[{"comments":[{"owner":{"account_id":27753713,"reputation":69,"user_id":21187677,"display_name":"sartep"},"score":0,"creation_date":1676040596,"post_id":75412633,"comment_id":133063081,"body_markdown":"could you provide how the line of code would look?","body":"could you provide how the line of code would look?"}],"tags":[],"owner":{"account_id":68630,"reputation":2092,"user_id":200136,"display_name":"Andrew McGuinness"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676040864,"creation_date":1676040463,"answer_id":75412633,"question_id":75412414,"body_markdown":"The simplest way to do what you want is to wrap the inside of your loop in a try {} block and **catch** the InputMismatchException\r\n\r\nIf the input is an int it will process as it does now; if not then instead of carrying on after the Scanner.nextInt() line, java will execute the contents of your catch(InputMismatchException e) { } block\r\n\r\n\r\nThere&#39;s an argument that you should validate the input more explicitly, but that will be more complex and for a beginner learning how to catch exceptions is probably more useful.\r\n\r\n\r\n\r\n    while (true) {\r\n        try {\r\n            principal = scanner.nextInt();\r\n            if (principal &gt;= 1000 &amp;&amp; principal &lt;= 1_000_000)\r\n                break;\r\n            System.out.println(&quot;Enter a value between 1k - 1m&quot;);\r\n        }\r\n        catch (InputMismatchException e) {\r\n            System.out.println(&quot;Please enter numbers&quot;);\r\n        }\r\n    }","title":"Mortgage calculator, how to exclude letter and accept only numbers","body":"<p>The simplest way to do what you want is to wrap the inside of your loop in a try {} block and <strong>catch</strong> the InputMismatchException</p>\n<p>If the input is an int it will process as it does now; if not then instead of carrying on after the Scanner.nextInt() line, java will execute the contents of your catch(InputMismatchException e) { } block</p>\n<p>There's an argument that you should validate the input more explicitly, but that will be more complex and for a beginner learning how to catch exceptions is probably more useful.</p>\n<pre><code>while (true) {\n    try {\n        principal = scanner.nextInt();\n        if (principal &gt;= 1000 &amp;&amp; principal &lt;= 1_000_000)\n            break;\n        System.out.println(&quot;Enter a value between 1k - 1m&quot;);\n    }\n    catch (InputMismatchException e) {\n        System.out.println(&quot;Please enter numbers&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676040853,"creation_date":1676040853,"answer_id":75412697,"question_id":75412414,"body_markdown":"From the comments, the OP replied:\r\n\r\n&gt; No, if for ex. user enters &quot;abc&quot;, I get = `Exception in thread &quot;main&quot; java.util.InputMismatchException at java.base/java.util.Scanner.throwFor(Scanner.java:943) at java.base/java.util.Scanner.next(Scanner.java:1598) at java.base/java.util.Scanner.nextInt(Scanner.java:2263) at java.base/java.util.Scanner.nextInt(Scanner.java:2217) at com.petras.Main.main(Main.java:20)`\r\nBut I want to get the line &quot;*Please enter valid number*&quot; //not letter and let him put the number again, how should my code look?\r\n\r\nThe problem is that your code assumes the user will always enter a valid integer value. Instead, as your comment reply indicates, you have to account for invalid inputs by wrapping `scanner.nextInt()` in a try/catch block\r\n\r\n```\r\nScanner scanner = new Scanner(System.in);\r\n\r\nSystem.out.print(&quot;Enter Principal Amount (1k to 1m) &quot;) ;\r\nint principal = 0;\r\nwhile (true) {\r\n  try {\r\n    principal = scanner.nextInt();\r\n  } catch(InputMismatchException ime) {\r\n    System.out.println(&quot;Invalid input: &quot; + principal + &quot;. Please enter an integer value&quot;);\r\n    continue;\r\n  } catch (Exception e) {\r\n    // This is most likely a &quot;true&quot; error. Handle accordingly.\r\n  }\r\n  if (principal &gt;= 1000 &amp;&amp; principal &lt;= 1_000_000)\r\n    break;\r\n  System.out.println(&quot;Enter a value between 1k - 1m&quot;);\r\n}\r\n```","title":"Mortgage calculator, how to exclude letter and accept only numbers","body":"<p>From the comments, the OP replied:</p>\n<blockquote>\n<p>No, if for ex. user enters &quot;abc&quot;, I get = <code>Exception in thread &quot;main&quot; java.util.InputMismatchException at java.base/java.util.Scanner.throwFor(Scanner.java:943) at java.base/java.util.Scanner.next(Scanner.java:1598) at java.base/java.util.Scanner.nextInt(Scanner.java:2263) at java.base/java.util.Scanner.nextInt(Scanner.java:2217) at com.petras.Main.main(Main.java:20)</code>\nBut I want to get the line &quot;<em>Please enter valid number</em>&quot; //not letter and let him put the number again, how should my code look?</p>\n</blockquote>\n<p>The problem is that your code assumes the user will always enter a valid integer value. Instead, as your comment reply indicates, you have to account for invalid inputs by wrapping <code>scanner.nextInt()</code> in a try/catch block</p>\n<pre><code>Scanner scanner = new Scanner(System.in);\n\nSystem.out.print(&quot;Enter Principal Amount (1k to 1m) &quot;) ;\nint principal = 0;\nwhile (true) {\n  try {\n    principal = scanner.nextInt();\n  } catch(InputMismatchException ime) {\n    System.out.println(&quot;Invalid input: &quot; + principal + &quot;. Please enter an integer value&quot;);\n    continue;\n  } catch (Exception e) {\n    // This is most likely a &quot;true&quot; error. Handle accordingly.\n  }\n  if (principal &gt;= 1000 &amp;&amp; principal &lt;= 1_000_000)\n    break;\n  System.out.println(&quot;Enter a value between 1k - 1m&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":27753713,"reputation":69,"user_id":21187677,"display_name":"sartep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":2,"score":3,"last_activity_date":1676040864,"creation_date":1676039075,"question_id":75412414,"body_markdown":"we have this method\r\n\r\n\r\n```\r\n System.out.print(&quot;Enter Principal Amount (1k to 1m) &quot;) ;\r\n        while (true) {\r\n            principal = scanner.nextInt();\r\n            if (principal &gt;= 1000 &amp;&amp; principal &lt;= 1_000_000)\r\n                break;\r\n            System.out.println(&quot;Enter a value between 1k - 1m&quot;);\r\n```\r\nIf person puts in letters instead of numbers the error occurs,\r\nI need to get the program to ask the question to put in numbers instead of letter\r\n\r\n\r\n\r\n\r\n```\r\n Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.print(&quot;Enter Principal Amount (1k to 1m) &quot;) ;\r\n        while (true) {\r\n            principal = scanner.nextInt();\r\n           // if (scanner.nextInt() != NumberFormat??) What should I write in my mortgage calculator that -&gt;\r\n            //  --&gt; if numbers are not put (for ex. letters) it would print out (&quot;Please enter numbers letters are invalid&quot;)\r\n            //System.out.println(&quot;Please enter numbers&quot;);\r\n            if (principal &gt;= 1000 &amp;&amp; principal &lt;= 1_000_000)\r\n                break;\r\n            System.out.println(&quot;Enter a value between 1k - 1m&quot;);\r\n        }\r\n```\r\n","title":"Mortgage calculator, how to exclude letter and accept only numbers","body":"<p>we have this method</p>\n<pre><code> System.out.print(&quot;Enter Principal Amount (1k to 1m) &quot;) ;\n        while (true) {\n            principal = scanner.nextInt();\n            if (principal &gt;= 1000 &amp;&amp; principal &lt;= 1_000_000)\n                break;\n            System.out.println(&quot;Enter a value between 1k - 1m&quot;);\n</code></pre>\n<p>If person puts in letters instead of numbers the error occurs,\nI need to get the program to ask the question to put in numbers instead of letter</p>\n<pre><code> Scanner scanner = new Scanner(System.in);\n\n        System.out.print(&quot;Enter Principal Amount (1k to 1m) &quot;) ;\n        while (true) {\n            principal = scanner.nextInt();\n           // if (scanner.nextInt() != NumberFormat??) What should I write in my mortgage calculator that -&gt;\n            //  --&gt; if numbers are not put (for ex. letters) it would print out (&quot;Please enter numbers letters are invalid&quot;)\n            //System.out.println(&quot;Please enter numbers&quot;);\n            if (principal &gt;= 1000 &amp;&amp; principal &lt;= 1_000_000)\n                break;\n            System.out.println(&quot;Enter a value between 1k - 1m&quot;);\n        }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":11934158,"reputation":21,"user_id":8733240,"display_name":"Vince Jack Ludovice"},"score":0,"creation_date":1555653720,"post_id":55756949,"comment_id":98190082,"body_markdown":"And what if i have many question on my quiz?","body":"And what if i have many question on my quiz?"},{"owner":{"account_id":15240508,"reputation":1895,"user_id":11143190,"display_name":"Zain Arshad"},"score":0,"creation_date":1555671616,"post_id":55756949,"comment_id":98196286,"body_markdown":"Many question like ? You can repeat all questions in a loop !","body":"Many question like ? You can repeat all questions in a loop !"},{"owner":{"account_id":15240508,"reputation":1895,"user_id":11143190,"display_name":"Zain Arshad"},"score":0,"creation_date":1555671646,"post_id":55756949,"comment_id":98196293,"body_markdown":"Did you get your answer from the answers posted below or I should help you ?","body":"Did you get your answer from the answers posted below or I should help you ?"},{"owner":{"account_id":11934158,"reputation":21,"user_id":8733240,"display_name":"Vince Jack Ludovice"},"score":0,"creation_date":1555743786,"post_id":55756949,"comment_id":98215371,"body_markdown":"yeah i need another opinion","body":"yeah i need another opinion"}],"answers":[{"comments":[{"owner":{"account_id":11934158,"reputation":21,"user_id":8733240,"display_name":"Vince Jack Ludovice"},"score":0,"creation_date":1555653956,"post_id":55757032,"comment_id":98190146,"body_markdown":"What if i have multiple questions in my quiz program? @Rafal","body":"What if i have multiple questions in my quiz program? @Rafal"},{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":0,"creation_date":1555654184,"post_id":55757032,"comment_id":98190217,"body_markdown":"@VinceJackLudovice Then I suggest to create class Question when you will store Question, Answer and number of question and make some list of this question put this while loop inside for each when you iterate through your list of questions","body":"@VinceJackLudovice Then I suggest to create class Question when you will store Question, Answer and number of question and make some list of this question put this while loop inside for each when you iterate through your list of questions"},{"owner":{"account_id":11934158,"reputation":21,"user_id":8733240,"display_name":"Vince Jack Ludovice"},"score":0,"creation_date":1555654316,"post_id":55757032,"comment_id":98190256,"body_markdown":"can you give me a example? @Rafal","body":"can you give me a example? @Rafal"},{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":0,"creation_date":1555654510,"post_id":55757032,"comment_id":98190316,"body_markdown":"@VinceJackLudovice Just made an edit to my answer. Check it please","body":"@VinceJackLudovice Just made an edit to my answer. Check it please"},{"owner":{"account_id":11934158,"reputation":21,"user_id":8733240,"display_name":"Vince Jack Ludovice"},"score":0,"creation_date":1555655374,"post_id":55757032,"comment_id":98190601,"body_markdown":"no, i don.t get it, your satying thta i create another class for class question, answer  and number of of question and make some list of this question?","body":"no, i don.t get it, your satying thta i create another class for class question, answer  and number of of question and make some list of this question?"},{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":0,"creation_date":1555655397,"post_id":55757032,"comment_id":98190612,"body_markdown":"One class for all of this. Number actually is not neccessary. So you can create object where you store your question and answer for that question right? And then you create list of few questions","body":"One class for all of this. Number actually is not neccessary. So you can create object where you store your question and answer for that question right? And then you create list of few questions"},{"owner":{"account_id":11934158,"reputation":21,"user_id":8733240,"display_name":"Vince Jack Ludovice"},"score":0,"creation_date":1555655630,"post_id":55757032,"comment_id":98190698,"body_markdown":"and i repeat it in all 26 question on my quiz?","body":"and i repeat it in all 26 question on my quiz?"},{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":0,"creation_date":1555655670,"post_id":55757032,"comment_id":98190711,"body_markdown":"You have to somehow create those questions. You can also put them into file and read them","body":"You have to somehow create those questions. You can also put them into file and read them"},{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":0,"creation_date":1555659733,"post_id":55757032,"comment_id":98192026,"body_markdown":"@VinceJackLudovice I don&#39;t understand your question","body":"@VinceJackLudovice I don&#39;t understand your question"},{"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"score":0,"creation_date":1555662541,"post_id":55757032,"comment_id":98192895,"body_markdown":"Did you see my code? You have class question where you define how you question looks like. You dont create that if statements for all your questions. And that for loop makes all your job. You just put there question and that&#39;s all. In Question class you can also define number of score for question. All you have to do is create e.g 26 objects with questions and add them to your questionList and that&#39;s all","body":"Did you see my code? You have class question where you define how you question looks like. You dont create that if statements for all your questions. And that for loop makes all your job. You just put there question and that&#39;s all. In Question class you can also define number of score for question. All you have to do is create e.g 26 objects with questions and add them to your questionList and that&#39;s all"},{"owner":{"account_id":11934158,"reputation":21,"user_id":8733240,"display_name":"Vince Jack Ludovice"},"score":0,"creation_date":1555667196,"post_id":55757032,"comment_id":98194606,"body_markdown":"but i can&#39;t post my code in the comment because it&#39;s  so long to post it","body":"but i can&#39;t post my code in the comment because it&#39;s  so long to post it"}],"tags":[],"owner":{"account_id":7953408,"reputation":1827,"user_id":6003541,"display_name":"Rafał Sokalski"},"comment_count":11,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1555654493,"creation_date":1555651754,"answer_id":55757032,"question_id":55756949,"body_markdown":"I suggest to use while loop and add some flag if the answer is correct and iterate until it will be correct\r\n\t\r\n**QUESTION**\r\n\r\n    public class Question {\r\n\tprivate String question;\r\n\tprivate String answer;\r\n\r\n\tpublic Question(String question, String answer) {\r\n\t\tthis.question = question;\r\n\t\tthis.answer = answer;\r\n\t}\r\n\r\n\tpublic String getQuestion() {\r\n\t\treturn question;\r\n\t}\r\n\r\n\tpublic void setQuestion(String question) {\r\n\t\tthis.question = question;\r\n\t}\r\n\r\n\tpublic String getAnswer() {\r\n\t\treturn answer;\r\n\t}\r\n\r\n\tpublic void setAnswer(String answer) {\r\n\t\tthis.answer = answer;\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n**MAIN**\r\n\r\n    public static void main(String[] args) {\r\n    \t\tint score = 0;\r\n    \t\tQuestion q1 = new Question(&quot;What year when the release of Java?\\n&quot; + (&quot;2 points \\n&quot;)\r\n    \t\t\t\t+ &quot;(A.)1990\\n (B.)1991\\n (C.)1998\\n (D.)1980\\n&quot;, &quot;B&quot;);\r\n    \t\tQuestion q2 = new Question(&quot;What is hourse&quot; + (&quot;2 points \\n&quot;) + &quot;(A.)Animal\\n (B.)Dog\\n (C.)Human\\n (D.)Lake\\n&quot;,\r\n    \t\t\t\t&quot;A&quot;);\r\n    \r\n    \t\tList&lt;Question&gt; questionsList = new ArrayList&lt;&gt;();\r\n    \t\tquestionsList.add(q1);\r\n    \t\tquestionsList.add(q2);\r\n    \r\n    \t\tfor(Question question : questionsList) {\r\n    \t\t\tboolean isCorrectQuestion = false;\r\n    \t\t\twhile (!isCorrectQuestion) {\r\n    \t\t\t\tString answer = JOptionPane.showInputDialog(question.getQuestion());\r\n    \t\t\t\tif (question.getAnswer().equals(answer)) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Correct\\n&quot;);\r\n    \t\t\t\t\tscore += 2;\r\n    \t\t\t\t\tisCorrectQuestion = true;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tSystem.out.println(&quot;Incorrect\\n&quot;);\r\n    \r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \r\n    \t}\r\n\r\n\r\nBy the way first release of Java was in 1996 ","title":"How to repeat the question after the user chose the wrong answer on my quiz program in java","body":"<p>I suggest to use while loop and add some flag if the answer is correct and iterate until it will be correct</p>\n\n<p><strong>QUESTION</strong></p>\n\n<pre><code>public class Question {\nprivate String question;\nprivate String answer;\n\npublic Question(String question, String answer) {\n    this.question = question;\n    this.answer = answer;\n}\n\npublic String getQuestion() {\n    return question;\n}\n\npublic void setQuestion(String question) {\n    this.question = question;\n}\n\npublic String getAnswer() {\n    return answer;\n}\n\npublic void setAnswer(String answer) {\n    this.answer = answer;\n}\n</code></pre>\n\n<p>}</p>\n\n<p><strong>MAIN</strong></p>\n\n<pre><code>public static void main(String[] args) {\n        int score = 0;\n        Question q1 = new Question(\"What year when the release of Java?\\n\" + (\"2 points \\n\")\n                + \"(A.)1990\\n (B.)1991\\n (C.)1998\\n (D.)1980\\n\", \"B\");\n        Question q2 = new Question(\"What is hourse\" + (\"2 points \\n\") + \"(A.)Animal\\n (B.)Dog\\n (C.)Human\\n (D.)Lake\\n\",\n                \"A\");\n\n        List&lt;Question&gt; questionsList = new ArrayList&lt;&gt;();\n        questionsList.add(q1);\n        questionsList.add(q2);\n\n        for(Question question : questionsList) {\n            boolean isCorrectQuestion = false;\n            while (!isCorrectQuestion) {\n                String answer = JOptionPane.showInputDialog(question.getQuestion());\n                if (question.getAnswer().equals(answer)) {\n                    System.out.println(\"Correct\\n\");\n                    score += 2;\n                    isCorrectQuestion = true;\n                } else {\n                    System.out.println(\"Incorrect\\n\");\n\n                }\n            }\n        }\n\n\n    }\n</code></pre>\n\n<p>By the way first release of Java was in 1996 </p>\n"},{"comments":[{"owner":{"account_id":11934158,"reputation":21,"user_id":8733240,"display_name":"Vince Jack Ludovice"},"score":0,"creation_date":1555653856,"post_id":55757067,"comment_id":98190123,"body_markdown":"What if i have multiple question in my quiz program? @Tasha","body":"What if i have multiple question in my quiz program? @Tasha"},{"owner":{"account_id":9298568,"reputation":9,"user_id":6904792,"display_name":"Tasha"},"score":0,"creation_date":1555656582,"post_id":55757067,"comment_id":98190988,"body_markdown":"Create individual boolean variables for each question in conjunction with an if-statement enclosing the question, like: if(isWrong) { // question }, also create a counter variable to count the correct answered questions, which should then be used in the while loop, as to terminate once all questions have been answered correctly.","body":"Create individual boolean variables for each question in conjunction with an if-statement enclosing the question, like: if(isWrong) { // question }, also create a counter variable to count the correct answered questions, which should then be used in the while loop, as to terminate once all questions have been answered correctly."},{"owner":{"account_id":11934158,"reputation":21,"user_id":8733240,"display_name":"Vince Jack Ludovice"},"score":0,"creation_date":1555666958,"post_id":55757067,"comment_id":98194508,"body_markdown":"can you give me a example on how to make it?","body":"can you give me a example on how to make it?"},{"owner":{"account_id":9298568,"reputation":9,"user_id":6904792,"display_name":"Tasha"},"score":0,"creation_date":1555669386,"post_id":55757067,"comment_id":98195501,"body_markdown":"Edited code in the answer. The boolean values &quot;a&quot; and &quot;b&quot; determine if a question should be asked again in the next iteration of the do-while-loop. The condition in the while part determines if all questions have already been answered correctly. Count ceiling equals amount of questions, obviously.","body":"Edited code in the answer. The boolean values &quot;a&quot; and &quot;b&quot; determine if a question should be asked again in the next iteration of the do-while-loop. The condition in the while part determines if all questions have already been answered correctly. Count ceiling equals amount of questions, obviously."},{"owner":{"account_id":11934158,"reputation":21,"user_id":8733240,"display_name":"Vince Jack Ludovice"},"score":0,"creation_date":1555675182,"post_id":55757067,"comment_id":98197543,"body_markdown":"What if i have an 28 questions in my quiz?","body":"What if i have an 28 questions in my quiz?"},{"owner":{"account_id":9298568,"reputation":9,"user_id":6904792,"display_name":"Tasha"},"score":0,"creation_date":1555675309,"post_id":55757067,"comment_id":98197579,"body_markdown":"Then you should consider the solution from Rafal Sokalski.","body":"Then you should consider the solution from Rafal Sokalski."},{"owner":{"account_id":11934158,"reputation":21,"user_id":8733240,"display_name":"Vince Jack Ludovice"},"score":0,"creation_date":1555677693,"post_id":55757067,"comment_id":98198554,"body_markdown":"or i just put boolean c for another question?","body":"or i just put boolean c for another question?"},{"owner":{"account_id":9298568,"reputation":9,"user_id":6904792,"display_name":"Tasha"},"score":0,"creation_date":1555678938,"post_id":55757067,"comment_id":98199079,"body_markdown":"Yes, you will have to duplicate and create for every question a variable of type boolean with a unique name.","body":"Yes, you will have to duplicate and create for every question a variable of type boolean with a unique name."},{"owner":{"account_id":11934158,"reputation":21,"user_id":8733240,"display_name":"Vince Jack Ludovice"},"score":0,"creation_date":1555731282,"post_id":55757067,"comment_id":98213562,"body_markdown":"i try the boolean a - z in the code but  when i run the the code, if you 5 wrong answer it will back to the last question with wrong answer, but may problem is the scoring  because the total score only 150 points in all but with 5 wrong answer it will total on 178 points in total","body":"i try the boolean a - z in the code but  when i run the the code, if you 5 wrong answer it will back to the last question with wrong answer, but may problem is the scoring  because the total score only 150 points in all but with 5 wrong answer it will total on 178 points in total"}],"tags":[],"owner":{"account_id":9298568,"reputation":9,"user_id":6904792,"display_name":"Tasha"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676040677,"creation_date":1555651976,"answer_id":55757067,"question_id":55756949,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n\r\n        int score = 0;\r\n        int count = 0;\r\n\r\n        boolean a = true;\r\n        boolean b = true;\r\n\r\n        do {\r\n            if (a == true) {\r\n                String question1 = JOptionPane.showInputDialog(&quot;What year when the release of Java?\\n&quot;\r\n                        + (&quot;2 points \\n&quot;)\r\n                        + &quot;(A.)1990\\n (B.)1991\\n (C.)1998\\n (D.)1980\\n&quot;);\r\n\r\n\r\n                if (&quot;B&quot;.equals(question1)) {\r\n                    System.out.println(&quot;Correct\\n&quot;);\r\n                    score += 2;\r\n                    count++;\r\n                    a = false;\r\n                } else {\r\n                    System.out.println(&quot;Incorrect\\n&quot;);\r\n                }\r\n\r\n            }\r\n\r\n\r\n            if (b == true) {\r\n                String question2 = JOptionPane.showInputDialog(&quot;#2: What year when the release of Java?\\n&quot;\r\n                        + (&quot;2 points \\n&quot;)\r\n                        + &quot;(A.)1990\\n (B.)1991\\n (C.)1998\\n (D.)1980\\n&quot;);\r\n\r\n\r\n                if (&quot;B&quot;.equals(question2)) {\r\n                    System.out.println(&quot;Correct\\n&quot;);\r\n                    score += 2;\r\n                    count++;\r\n                    b = false;\r\n                } else {\r\n                    System.out.println(&quot;Incorrect\\n&quot;);\r\n                }\r\n\r\n            }\r\n\r\n        } while (count &lt; 2);\r\n    }\r\n}\r\n```","title":"How to repeat the question after the user chose the wrong answer on my quiz program in java","body":"<pre><code>public static void main(String[] args) {\n\n        int score = 0;\n        int count = 0;\n\n        boolean a = true;\n        boolean b = true;\n\n        do {\n            if (a == true) {\n                String question1 = JOptionPane.showInputDialog(&quot;What year when the release of Java?\\n&quot;\n                        + (&quot;2 points \\n&quot;)\n                        + &quot;(A.)1990\\n (B.)1991\\n (C.)1998\\n (D.)1980\\n&quot;);\n\n\n                if (&quot;B&quot;.equals(question1)) {\n                    System.out.println(&quot;Correct\\n&quot;);\n                    score += 2;\n                    count++;\n                    a = false;\n                } else {\n                    System.out.println(&quot;Incorrect\\n&quot;);\n                }\n\n            }\n\n\n            if (b == true) {\n                String question2 = JOptionPane.showInputDialog(&quot;#2: What year when the release of Java?\\n&quot;\n                        + (&quot;2 points \\n&quot;)\n                        + &quot;(A.)1990\\n (B.)1991\\n (C.)1998\\n (D.)1980\\n&quot;);\n\n\n                if (&quot;B&quot;.equals(question2)) {\n                    System.out.println(&quot;Correct\\n&quot;);\n                    score += 2;\n                    count++;\n                    b = false;\n                } else {\n                    System.out.println(&quot;Incorrect\\n&quot;);\n                }\n\n            }\n\n        } while (count &lt; 2);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11934158,"reputation":21,"user_id":8733240,"display_name":"Vince Jack Ludovice"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1042,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676040677,"creation_date":1555651128,"question_id":55756949,"body_markdown":"I want to make a quiz program in java, i need an output that if the user chose the wrong answer all question will repeat until the the user chose the correct answer and put an output that must display also the key to correction and i hope you all help guys on my quiz program in java. and i want to correct my score when 5 wrong answer will back in the question with two wrong answer. when i run the code the score is 178 points with the 5 wrong answer in code but when i perfect the quiz the score is 150 that&#39;s is the total score of my quiz\r\n\r\n```\r\n  int score = 0;\r\n           int count = 0;\r\n          \r\n        String name;\r\n        String age;\r\n        String subject;\r\n        String course;\r\n        String schoolyear;\r\n        name = JOptionPane.showInputDialog(&quot;Enter your name&quot;);\r\n        age = JOptionPane.showInputDialog(&quot;Enter your age&quot;);\r\n        subject = JOptionPane.showInputDialog(&quot;Enter your subject&quot;);\r\n        course = JOptionPane.showInputDialog(&quot;Enter your course&quot;);\r\n        schoolyear = JOptionPane.showInputDialog(&quot;Enter your school year today&quot;);\r\n        \r\n        \r\n      \r\n        boolean a = true;\r\n        boolean b = true;\r\n        boolean c = true;\r\n\r\n do {\r\n        if (a == true) {\r\n        String question1 =JOptionPane.showInputDialog(&quot;What year when the release of Java?\\n&quot;\r\n                         + (&quot;2 points \\n&quot;)\r\n                         + (&quot;The answer is B\\n&quot;)\r\n                         + &quot;(A.)1990\\n (B.)1991\\n (C.)1998\\n (D.)1980\\n&quot; );\r\n       \r\n        \r\n        \r\n\tif(&quot;B&quot;.equals(question1)) \r\n\t{\r\n\t\tSystem.out.println(&quot;Correct\\n&quot;);\r\n\t\tscore+= 2;\r\n                count++;\r\n                a = false;\r\n                \r\n\t}else{\r\n\t\tSystem.out.println(&quot;Incorrect\\n&quot;);\r\n              \r\n\t}\r\n        \r\n }       \r\n        \r\n        if (b == true) {\r\n        String question2 =JOptionPane.showInputDialog(&quot;Who created Java?\\n&quot;\r\n                         + (&quot;2 points \\n&quot;)\r\n                         + (&quot;The answer is B\\n&quot;)\r\n                         + &quot;(A.)Manny Pacquio\\n (B.)James Gosling\\n (C.)James Bond\\n (D.)Matt Damon\\n&quot;);\r\n      \r\n\tif(&quot;B&quot;.equals(question2)) \r\n       \r\n\t{\r\n\t        System.out.println(&quot;Correct\\n&quot;);\r\n\t\tscore+= 2;\r\n                count++;\r\n                b = false;\r\n           \r\n               \r\n\t}else{\r\n\t\tSystem.out.println(&quot;Incorrect\\n&quot;);\r\n              \r\n\t} \r\n      \r\n    }  \r\n        \r\n        if (c == true) {\r\n        String question3 =JOptionPane.showInputDialog(&quot;In Which team where Java created?\\n&quot;\r\n                         + (&quot;2 points \\n&quot;)\r\n                         + (&quot;The answer is D\\n&quot;)\r\n                         + &quot;(A.)Team Black\\n (B.)Team White\\n (C.)Team Brown\\n (D.)Team Green\\n&quot; );\r\n\r\n\r\n\tif(&quot;D&quot;.equals(question3))\r\n\t{\r\n\t\tSystem.out.println(&quot;Correct\\n&quot;);\r\n\t\tscore+= 2;\r\n                count++;\r\n                c = false;\r\n                 \r\n               \r\n\t}else{\r\n\t\tSystem.out.println(&quot;Incorrect\\n&quot;);\r\n\t}\r\n} while (count &lt;3);     \r\n\r\n   } \r\n        \r\n\r\nScanner input = new Scanner(System.in);\r\n       System.out.println(&quot;Your score: &quot; + score);\r\n       System.out.println(100 *score/150 + &quot;%&quot;);\r\n       \r\n       \r\n       if (score &gt;=150) {\r\n       System.out.println(&quot;Excellent&quot;);\r\n       } else if (score &gt;=140) {\r\n       System.out.println(&quot;Ultimatum!&quot;);\r\n       } else if (score &gt;=120) {\r\n       System.out.println(&quot;Great Job!&quot;);\r\n       } else if (score &gt;=100) {\r\n       System.out.println(&quot;Good Job!&quot;);\r\n       } else if (score &gt;=80) {\r\n       System.out.println(&quot;Pass&quot;);\r\n       } else if (score &gt;=60) {\r\n       System.out.println(&quot;Passangawa&quot;);\r\n       } else if (score &gt;=40) {\r\n       System.out.println(&quot;Satisfy&quot;);\r\n       } else if (score &gt;=20) {\r\n       System.out.println(&quot;Try again&quot;);\r\n       } else if (score &gt;=0) {\r\n       System.out.println(&quot;Failed&quot;);    \r\n       } else {\r\n       System.out.println(&quot;Wasted!&quot;);  \r\n    \r\n\r\n        \r\n```All question will repeat until the user chose the correct answer and i need the score will be correct when one or more wrong answer will back to answer again and the score will back to its correct score with the 28 question in total. ","title":"How to repeat the question after the user chose the wrong answer on my quiz program in java","body":"<p>I want to make a quiz program in java, i need an output that if the user chose the wrong answer all question will repeat until the the user chose the correct answer and put an output that must display also the key to correction and i hope you all help guys on my quiz program in java. and i want to correct my score when 5 wrong answer will back in the question with two wrong answer. when i run the code the score is 178 points with the 5 wrong answer in code but when i perfect the quiz the score is 150 that's is the total score of my quiz</p>\n\n<pre><code>  int score = 0;\n           int count = 0;\n\n        String name;\n        String age;\n        String subject;\n        String course;\n        String schoolyear;\n        name = JOptionPane.showInputDialog(\"Enter your name\");\n        age = JOptionPane.showInputDialog(\"Enter your age\");\n        subject = JOptionPane.showInputDialog(\"Enter your subject\");\n        course = JOptionPane.showInputDialog(\"Enter your course\");\n        schoolyear = JOptionPane.showInputDialog(\"Enter your school year today\");\n\n\n\n        boolean a = true;\n        boolean b = true;\n        boolean c = true;\n\n do {\n        if (a == true) {\n        String question1 =JOptionPane.showInputDialog(\"What year when the release of Java?\\n\"\n                         + (\"2 points \\n\")\n                         + (\"The answer is B\\n\")\n                         + \"(A.)1990\\n (B.)1991\\n (C.)1998\\n (D.)1980\\n\" );\n\n\n\n    if(\"B\".equals(question1)) \n    {\n        System.out.println(\"Correct\\n\");\n        score+= 2;\n                count++;\n                a = false;\n\n    }else{\n        System.out.println(\"Incorrect\\n\");\n\n    }\n\n }       \n\n        if (b == true) {\n        String question2 =JOptionPane.showInputDialog(\"Who created Java?\\n\"\n                         + (\"2 points \\n\")\n                         + (\"The answer is B\\n\")\n                         + \"(A.)Manny Pacquio\\n (B.)James Gosling\\n (C.)James Bond\\n (D.)Matt Damon\\n\");\n\n    if(\"B\".equals(question2)) \n\n    {\n            System.out.println(\"Correct\\n\");\n        score+= 2;\n                count++;\n                b = false;\n\n\n    }else{\n        System.out.println(\"Incorrect\\n\");\n\n    } \n\n    }  \n\n        if (c == true) {\n        String question3 =JOptionPane.showInputDialog(\"In Which team where Java created?\\n\"\n                         + (\"2 points \\n\")\n                         + (\"The answer is D\\n\")\n                         + \"(A.)Team Black\\n (B.)Team White\\n (C.)Team Brown\\n (D.)Team Green\\n\" );\n\n\n    if(\"D\".equals(question3))\n    {\n        System.out.println(\"Correct\\n\");\n        score+= 2;\n                count++;\n                c = false;\n\n\n    }else{\n        System.out.println(\"Incorrect\\n\");\n    }\n} while (count &lt;3);     \n\n   } \n\n\nScanner input = new Scanner(System.in);\n       System.out.println(\"Your score: \" + score);\n       System.out.println(100 *score/150 + \"%\");\n\n\n       if (score &gt;=150) {\n       System.out.println(\"Excellent\");\n       } else if (score &gt;=140) {\n       System.out.println(\"Ultimatum!\");\n       } else if (score &gt;=120) {\n       System.out.println(\"Great Job!\");\n       } else if (score &gt;=100) {\n       System.out.println(\"Good Job!\");\n       } else if (score &gt;=80) {\n       System.out.println(\"Pass\");\n       } else if (score &gt;=60) {\n       System.out.println(\"Passangawa\");\n       } else if (score &gt;=40) {\n       System.out.println(\"Satisfy\");\n       } else if (score &gt;=20) {\n       System.out.println(\"Try again\");\n       } else if (score &gt;=0) {\n       System.out.println(\"Failed\");    \n       } else {\n       System.out.println(\"Wasted!\");  \n\n\n\n```All question will repeat until the user chose the correct answer and i need the score will be correct when one or more wrong answer will back to answer again and the score will back to its correct score with the 28 question in total. \n</code></pre>\n"},{"tags":["java","concurrency","thread-safety"],"answers":[{"comments":[{"owner":{"account_id":21601781,"reputation":55,"user_id":15929801,"display_name":"Neran"},"score":0,"creation_date":1675979742,"post_id":75404508,"comment_id":133050230,"body_markdown":"I also thought about the atomic data types. When can atomic types NOT be used?","body":"I also thought about the atomic data types. When can atomic types NOT be used?"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1675987407,"post_id":75404508,"comment_id":133051588,"body_markdown":"@Neran At least in the most obvious realization, atomics don&#39;t actually work for this problem. You can atomically swap a local with an atomic, but you can&#39;t swap an with an atomic atomically (see [this](https://stackoverflow.com/a/60556120/1424875)). After some sketching, I found at least one access pattern that starts with Datas 1, 2, 3 and ends up with Datas 2, 3, 2 after two swaps (using atomic accesses) race (because each swap requires multiple atomics). Krzysztof - do you have a particular lock-free algorithm that you&#39;re suggesting?","body":"@Neran At least in the most obvious realization, atomics don&#39;t actually work for this problem. You can atomically swap a local with an atomic, but you can&#39;t swap an with an atomic atomically (see <a href=\"https://stackoverflow.com/a/60556120/1424875\">this</a>). After some sketching, I found at least one access pattern that starts with Datas 1, 2, 3 and ends up with Datas 2, 3, 2 after two swaps (using atomic accesses) race (because each swap requires multiple atomics). Krzysztof - do you have a particular lock-free algorithm that you&#39;re suggesting?"},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1675987959,"post_id":75404508,"comment_id":133051670,"body_markdown":"If we have datas A, B, C, load B -&gt; tempvar 1, load B -&gt; tempvar 2, swap tempvar 1 and A, swap tempvar 2 with C, store tempvar 1 to B, store tempvar 2 to B ends up with two copies of B and one of C, with the copy of A lost.","body":"If we have datas A, B, C, load B -&gt; tempvar 1, load B -&gt; tempvar 2, swap tempvar 1 and A, swap tempvar 2 with C, store tempvar 1 to B, store tempvar 2 to B ends up with two copies of B and one of C, with the copy of A lost."}],"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"comment_count":3,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675977580,"creation_date":1675977580,"answer_id":75404508,"question_id":75404387,"body_markdown":"In your case, just use AtomicInteger or AtomicLong instead inventing the wheel again. About the synchronization and deadlocks part of your question in general - `DO NOT RELY ON PROBABILITY` -- it is way too tricky and too easy to get it wrong, unless you&#39;re experienced mathematician knowing exactly what youre doing - but even then it is risky. One example when probability is used is UUID, but if computers will get fast enough then the code that shouldn&#39;t reasonably break till the end of universe can break in matter of milliseconds or faster, it is better to write code that do not rely on probability, especially concurrent code.","title":"Is repeatedly trying to get locks a good solution to prevent deadlocks?","body":"<p>In your case, just use AtomicInteger or AtomicLong instead inventing the wheel again. About the synchronization and deadlocks part of your question in general - <code>DO NOT RELY ON PROBABILITY</code> -- it is way too tricky and too easy to get it wrong, unless you're experienced mathematician knowing exactly what youre doing - but even then it is risky. One example when probability is used is UUID, but if computers will get fast enough then the code that shouldn't reasonably break till the end of universe can break in matter of milliseconds or faster, it is better to write code that do not rely on probability, especially concurrent code.</p>\n"},{"comments":[{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1675986706,"post_id":75404535,"comment_id":133051456,"body_markdown":"I&#39;ve edited out the claim (added in a suggested edit) that the wrong unlock order can deadlock. Releasing locks should not itself block, so the thread that&#39;s unlocking ought to be able to make progress and release the next thread.","body":"I&#39;ve edited out the claim (added in a suggested edit) that the wrong unlock order can deadlock. Releasing locks should not itself block, so the thread that&#39;s unlocking ought to be able to make progress and release the next thread."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1676039613,"post_id":75404535,"comment_id":133062778,"body_markdown":"I assumed too much. Please accept my apology for that. But I still believe the &#39;good practice&#39; you reference is actually a required part of lock ordering.","body":"I assumed too much. Please accept my apology for that. But I still believe the &#39;good practice&#39; you reference is actually a required part of lock ordering."},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1676039817,"post_id":75404535,"comment_id":133062847,"body_markdown":"@Queeg I agree that unlock ordering becomes important when you have *reacquisition* while under a subset of the locks. I can&#39;t think of a locking sequence that deadlocks for *this* algorithm when the releases are out of order.","body":"@Queeg I agree that unlock ordering becomes important when you have <i>reacquisition</i> while under a subset of the locks. I can&#39;t think of a locking sequence that deadlocks for <i>this</i> algorithm when the releases are out of order."}],"tags":[],"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675987029,"creation_date":1675977740,"answer_id":75404535,"question_id":75404387,"body_markdown":"There are two issues at play here:\r\n\r\n* First, mixing `Data.lock` with the built-in lock used by the `synchronized` keyword\r\n* Second, inconsistent locking order among four (!) locks - this.lock, other.lock, the built-in lock of this, and the built-in lock of other\r\n\r\nEven without `synchronized`, `a.swapValue(b)` and `b.swapValue(a)` can deadlock unless you use your approach to try to spin while locking and unlocking, which is inefficient.\r\n\r\nOne approach that you could take is add a field with some kind of `final` *unique* ID to each `Data` object - when swapping data of two objects, lock the one with a lower ID before the one with the higher ID, regardless of which is `this` and which is `other`. Note that [System.identityHashCode is unfortunately not unique](https://stackoverflow.com/a/4933258/1424875) so it can&#39;t be easily used here.\r\n\r\nThe unlock ordering isn&#39;t critical *here*, but [unlocking in the reverse order of locking is generally a good practice to follow where possible](https://stackoverflow.com/a/8949355/1424875).","title":"Is repeatedly trying to get locks a good solution to prevent deadlocks?","body":"<p>There are two issues at play here:</p>\n<ul>\n<li>First, mixing <code>Data.lock</code> with the built-in lock used by the <code>synchronized</code> keyword</li>\n<li>Second, inconsistent locking order among four (!) locks - this.lock, other.lock, the built-in lock of this, and the built-in lock of other</li>\n</ul>\n<p>Even without <code>synchronized</code>, <code>a.swapValue(b)</code> and <code>b.swapValue(a)</code> can deadlock unless you use your approach to try to spin while locking and unlocking, which is inefficient.</p>\n<p>One approach that you could take is add a field with some kind of <code>final</code> <em>unique</em> ID to each <code>Data</code> object - when swapping data of two objects, lock the one with a lower ID before the one with the higher ID, regardless of which is <code>this</code> and which is <code>other</code>. Note that <a href=\"https://stackoverflow.com/a/4933258/1424875\">System.identityHashCode is unfortunately not unique</a> so it can't be easily used here.</p>\n<p>The unlock ordering isn't critical <em>here</em>, but <a href=\"https://stackoverflow.com/a/8949355/1424875\">unlocking in the reverse order of locking is generally a good practice to follow where possible</a>.</p>\n"},{"comments":[{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1675984353,"post_id":75404780,"comment_id":133051096,"body_markdown":"While the resources to lock are sorted, ensure unlocking happens in the reverse order.","body":"While the resources to lock are sorted, ensure unlocking happens in the reverse order."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1675984613,"post_id":75404780,"comment_id":133051145,"body_markdown":"@Queeg, Why? What does it matter which lock is unlocked first? The unlock calls will neither block nor fail.","body":"@Queeg, Why? What does it matter which lock is unlocked first? The unlock calls will neither block nor fail."},{"owner":{"account_id":1394089,"reputation":40460,"user_id":1424875,"accept_rate":86,"display_name":"nanofarad"},"score":0,"creation_date":1675986701,"post_id":75404780,"comment_id":133051454,"body_markdown":"@Queeg I also wonder the same thing - releasing a lock does not block and does not depend on acquiring other locks. Can you explain your rationale for this claim? (which should have been a comment rather than an edit, as it is not my answer&#39;s intent to make that claim). I can imagine that it&#39;s *neater* to do it this way, but I am struggling to identify a locking pattern that deadlocks when the *acquisition* order is correct.","body":"@Queeg I also wonder the same thing - releasing a lock does not block and does not depend on acquiring other locks. Can you explain your rationale for this claim? (which should have been a comment rather than an edit, as it is not my answer&#39;s intent to make that claim). I can imagine that it&#39;s <i>neater</i> to do it this way, but I am struggling to identify a locking pattern that deadlocks when the <i>acquisition</i> order is correct."},{"owner":{"account_id":21601781,"reputation":55,"user_id":15929801,"display_name":"Neran"},"score":0,"creation_date":1676028961,"post_id":75404780,"comment_id":133059449,"body_markdown":"I came across a smiliar post here on SO that proposes a very similar solution taken from a concurrency book &quot;java concurrency in practice&quot;. its from 2006, so pretty &quot;old&quot;. are the solutions to concurrency problems in that book still very common/up to date as o f now?","body":"I came across a smiliar post here on SO that proposes a very similar solution taken from a concurrency book &quot;java concurrency in practice&quot;. its from 2006, so pretty &quot;old&quot;. are the solutions to concurrency problems in that book still very common/up to date as o f now?"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1676038059,"post_id":75404780,"comment_id":133062222,"body_markdown":"@Neran, Books get old. Algorithms don&#39;t. It&#39;s been years since I cracked open Java Concurrency in Practice, but I think it maybe spent more words discussing how to solve certain problems _in Java_ than it spent on describing the problems themselves. Java has grown much since then, but the underlying ideas still are the same. You want to safely lock multiple objects? That problem and this solution both have been around since before Java was even dreamed of. I don&#39;t know if there is a better _architecture_ for solving your problem, but this solution will work for the architecture you have now.","body":"@Neran, Books get old. Algorithms don&#39;t. It&#39;s been years since I cracked open Java Concurrency in Practice, but I think it maybe spent more words discussing how to solve certain problems <i>in Java</i> than it spent on describing the problems themselves. Java has grown much since then, but the underlying ideas still are the same. You want to safely lock multiple objects? That problem and this solution both have been around since before Java was even dreamed of. I don&#39;t know if there is a better <i>architecture</i> for solving your problem, but this solution will work for the architecture you have now."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1676039567,"post_id":75404780,"comment_id":133062765,"body_markdown":"It seems we agree that locking in order is good to prevent deadlocks. The explanation in https://stackoverflow.com/questions/1951275/would-you-explain-lock-ordering/8949355#8949355 shows that if you release locks out of order, lock order breaches may be hidden in the code. But a breach in lock order would mean the prevention of deadlocks done by lock ordering is not in effect.","body":"It seems we agree that locking in order is good to prevent deadlocks. The explanation in <a href=\"https://stackoverflow.com/questions/1951275/would-you-explain-lock-ordering/8949355#8949355\" title=\"would you explain lock ordering\">stackoverflow.com/questions/1951275/&hellip;</a> shows that if you release locks out of order, lock order breaches may be hidden in the code. But a breach in lock order would mean the prevention of deadlocks done by lock ordering is not in effect."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1676040341,"post_id":75404780,"comment_id":133063008,"body_markdown":"@Queeg, OK, so in this _specific_ case, there is no &quot;lock order breach...hidden in the code,&quot; But I can see how, in general, it would be good hygiene to always unlock the locks in the opposite order to which they were locked.","body":"@Queeg, OK, so in this <i>specific</i> case, there is no &quot;lock order breach...hidden in the code,&quot; But I can see how, in general, it would be good hygiene to always unlock the locks in the opposite order to which they were locked."}],"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":7,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1676040616,"creation_date":1675979411,"answer_id":75404780,"question_id":75404387,"body_markdown":"@Nanofarad has the right idea: Give every `Data` instance a unique, permanent numeric ID, and then use those IDs to decide which object to lock first. Here&#39;s what that might look like in practice:\r\n\r\n``` lang-java\r\nprivate static void lockBoth(Data a, Data b) {\r\n    Lock first = a.lock;\r\n    Lock second = b.lock;\r\n    if (a.getID() &lt; b.getID()) {\r\n        first = b.lock;\r\n        second = a.lock;\r\n    }\r\n    first.lock();\r\n    second.lock();\r\n}\r\n\r\nprivate static void unlockBoth(Data a, Data b) {\r\n    a.lock.unlock();\r\n    b.lock.unlock();\r\n\r\n    // Note: @Queeg suggests in comments below that in the general case,\r\n    // it would be good practice to make this routine always unlock the\r\n    // two locks in the order opposite to which `lockBoth()` locked them.\r\n    // See https://stackoverflow.com/a/8949355/801894 for an explanation.\r\n}\r\n\r\npublic void swapValue(Data other) {\r\n    lockBoth(this, other);\r\n    ...swap &#39;em...\r\n    unlockBoth(this, other);\r\n}\r\n```\r\n","title":"Is repeatedly trying to get locks a good solution to prevent deadlocks?","body":"<p>@Nanofarad has the right idea: Give every <code>Data</code> instance a unique, permanent numeric ID, and then use those IDs to decide which object to lock first. Here's what that might look like in practice:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static void lockBoth(Data a, Data b) {\n    Lock first = a.lock;\n    Lock second = b.lock;\n    if (a.getID() &lt; b.getID()) {\n        first = b.lock;\n        second = a.lock;\n    }\n    first.lock();\n    second.lock();\n}\n\nprivate static void unlockBoth(Data a, Data b) {\n    a.lock.unlock();\n    b.lock.unlock();\n\n    // Note: @Queeg suggests in comments below that in the general case,\n    // it would be good practice to make this routine always unlock the\n    // two locks in the order opposite to which `lockBoth()` locked them.\n    // See https://stackoverflow.com/a/8949355/801894 for an explanation.\n}\n\npublic void swapValue(Data other) {\n    lockBoth(this, other);\n    ...swap 'em...\n    unlockBoth(this, other);\n}\n</code></pre>\n"}],"owner":{"account_id":21601781,"reputation":55,"user_id":15929801,"display_name":"Neran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75404535,"answer_count":3,"score":0,"last_activity_date":1676040616,"creation_date":1675976514,"question_id":75404387,"body_markdown":"my question is about synchronisation and preventing deadlocks when using threads. In this example an object simply holds an integer variable and multiple threads call swapValue on those objects. \r\n\r\n    public class Data {\r\n    \r\n        private long value;\r\n    \r\n        public Data(long value) {\r\n            this.value = value;\r\n        }\r\n        public synchronized long getValue() {\r\n            return value;\r\n        }\r\n        public synchronized void setValue(long value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        public void swapValue(Data other) {\r\n            long temp = getValue();\r\n            long newValue = other.getValue();\r\n            setValue(newValue);\r\n            other.setValue(temp);\r\n        }\r\n    }\r\n\r\nThe swapValue method should be thread safe and should not skip swapping the values if the resources are not available. Simply using the synchronized keyword on the method signature will result in a deadlock. I came up with this (apparently) working solution, which is only based on the probability that one thread unlocks its resource and the other tries to claim it while the resource is still unlocked.\r\n\r\n    private Lock lock = new ReentrantLock();\r\n   \r\n    ...\r\n\r\n    public void swapValue(Data other) {\r\n        lock.lock();\r\n        while(!other.lock.tryLock())\r\n        {\r\n            lock.unlock();\r\n            lock.lock();\r\n        }\r\n\r\n        long temp = getValue();\r\n        long newValue = other.getValue();\r\n        setValue(newValue);\r\n        other.setValue(temp);\r\n        \r\n        other.lock.unlock();\r\n        lock.unlock();\r\n\r\n    }\r\n\r\nTo me this looks like a hack. Is this a common solution for these kind of problems? Are there solutions that are &quot;more deterministic&quot; in their behaviour and also applicable in practice?","title":"Is repeatedly trying to get locks a good solution to prevent deadlocks?","body":"<p>my question is about synchronisation and preventing deadlocks when using threads. In this example an object simply holds an integer variable and multiple threads call swapValue on those objects.</p>\n<pre><code>public class Data {\n\n    private long value;\n\n    public Data(long value) {\n        this.value = value;\n    }\n    public synchronized long getValue() {\n        return value;\n    }\n    public synchronized void setValue(long value) {\n        this.value = value;\n    }\n\n    public void swapValue(Data other) {\n        long temp = getValue();\n        long newValue = other.getValue();\n        setValue(newValue);\n        other.setValue(temp);\n    }\n}\n</code></pre>\n<p>The swapValue method should be thread safe and should not skip swapping the values if the resources are not available. Simply using the synchronized keyword on the method signature will result in a deadlock. I came up with this (apparently) working solution, which is only based on the probability that one thread unlocks its resource and the other tries to claim it while the resource is still unlocked.</p>\n<pre><code>private Lock lock = new ReentrantLock();\n\n...\n\npublic void swapValue(Data other) {\n    lock.lock();\n    while(!other.lock.tryLock())\n    {\n        lock.unlock();\n        lock.lock();\n    }\n\n    long temp = getValue();\n    long newValue = other.getValue();\n    setValue(newValue);\n    other.setValue(temp);\n    \n    other.lock.unlock();\n    lock.unlock();\n\n}\n</code></pre>\n<p>To me this looks like a hack. Is this a common solution for these kind of problems? Are there solutions that are &quot;more deterministic&quot; in their behaviour and also applicable in practice?</p>\n"},{"tags":["java","android","xml","android-studio","navigation-drawer"],"owner":{"account_id":27471919,"reputation":57,"user_id":20960654,"display_name":"Marfog509"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676040517,"creation_date":1676040517,"question_id":75412646,"body_markdown":"I have setup two xml pages in my app, one is the activity_main.xml while the other is my side_menu.xml which I added the drawerlayout to it, this is the code in my side_menu.xml:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:id=&quot;@+id/drawer_layout&quot;\r\n        android:fitsSystemWindows=&quot;true&quot;\r\n        tools:openDrawer=&quot;start&quot;\r\n        tools:context=&quot;.MainActivity&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n            &lt;androidx.appcompat.widget.Toolbar\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                android:elevation=&quot;4dp&quot;\r\n                android:background=&quot;#6666ff&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;?attr/actionBarSize&quot;&gt;\r\n    \r\n            &lt;/androidx.appcompat.widget.Toolbar&gt;\r\n    \r\n            &lt;include\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                layout=&quot;@layout/activity_main&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;com.google.android.material.navigation.NavigationView\r\n            android:id=&quot;@+id/nav_view&quot;\r\n            android:layout_gravity=&quot;start&quot;\r\n            app:headerLayout=&quot;@layout/nav_head&quot;\r\n            app:menu=&quot;@menu/nav_menu&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;/com.google.android.material.navigation.NavigationView&gt;\r\n    &lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\r\n\r\n\r\nWhat code do I need to add in my MainActivity.java class for this navigation menu to work properly and show up in my app? I can&#39;t figure out how to do it.\r\n","title":"How do I setup my drawerlayout programmatically to show up in my app in android studio?","body":"<p>I have setup two xml pages in my app, one is the activity_main.xml while the other is my side_menu.xml which I added the drawerlayout to it, this is the code in my side_menu.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:id=&quot;@+id/drawer_layout&quot;\n    android:fitsSystemWindows=&quot;true&quot;\n    tools:openDrawer=&quot;start&quot;\n    tools:context=&quot;.MainActivity&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;LinearLayout\n        android:orientation=&quot;vertical&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;androidx.appcompat.widget.Toolbar\n            android:id=&quot;@+id/toolbar&quot;\n            android:elevation=&quot;4dp&quot;\n            android:background=&quot;#6666ff&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;?attr/actionBarSize&quot;&gt;\n\n        &lt;/androidx.appcompat.widget.Toolbar&gt;\n\n        &lt;include\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            layout=&quot;@layout/activity_main&quot; /&gt;\n    &lt;/LinearLayout&gt;\n\n    &lt;com.google.android.material.navigation.NavigationView\n        android:id=&quot;@+id/nav_view&quot;\n        android:layout_gravity=&quot;start&quot;\n        app:headerLayout=&quot;@layout/nav_head&quot;\n        app:menu=&quot;@menu/nav_menu&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\n&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;\n</code></pre>\n<p>What code do I need to add in my MainActivity.java class for this navigation menu to work properly and show up in my app? I can't figure out how to do it.</p>\n"},{"tags":["java","python","docker","docker-compose","dockerfile"],"comments":[{"owner":{"account_id":13863020,"reputation":137043,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1629390295,"post_id":68851130,"comment_id":121680529,"body_markdown":"What code produces the error you quote?  Instead of manually installing Java on a plain Ubuntu image, can you start your image `FROM openjdk`?","body":"What code produces the error you quote?  Instead of manually installing Java on a plain Ubuntu image, can you start your image <code>FROM openjdk</code>?"},{"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"score":0,"creation_date":1629390572,"post_id":68851130,"comment_id":121680657,"body_markdown":"Is this your full DOCKERFILE? Of it is you should probably look at examples online and like @davidmaze suggested, use a prebuilt java or openjdk image, they usually keep up to date and are more stable than otherwise home brewed ones","body":"Is this your full DOCKERFILE? Of it is you should probably look at examples online and like @davidmaze suggested, use a prebuilt java or openjdk image, they usually keep up to date and are more stable than otherwise home brewed ones"},{"owner":{"account_id":15278609,"reputation":194,"user_id":11023664,"display_name":"Titan"},"score":0,"creation_date":1629397286,"post_id":68851130,"comment_id":121683079,"body_markdown":"Hey thanks for the response, can you please give a example. i tried a lot.","body":"Hey thanks for the response, can you please give a example. i tried a lot."},{"owner":{"account_id":15278609,"reputation":194,"user_id":11023664,"display_name":"Titan"},"score":0,"creation_date":1629397385,"post_id":68851130,"comment_id":121683118,"body_markdown":"after giving from openjdk still gives tabula.errors.JavaNotFoundError: `java` command is not found from this Python process.","body":"after giving from openjdk still gives tabula.errors.JavaNotFoundError: <code>java</code> command is not found from this Python process."},{"owner":{"account_id":15278609,"reputation":194,"user_id":11023664,"display_name":"Titan"},"score":0,"creation_date":1629437497,"post_id":68851130,"comment_id":121691384,"body_markdown":"@NoamYizraeli i have updated please help","body":"@NoamYizraeli i have updated please help"},{"owner":{"account_id":21924087,"reputation":337,"user_id":16206948,"display_name":"abhi"},"score":0,"creation_date":1664445707,"post_id":68851130,"comment_id":130475570,"body_markdown":"@Titan where you able to solve this for Tabula?","body":"@Titan where you able to solve this for Tabula?"}],"answers":[{"comments":[{"owner":{"account_id":15278609,"reputation":194,"user_id":11023664,"display_name":"Titan"},"score":0,"creation_date":1629454288,"post_id":68860384,"comment_id":121696763,"body_markdown":"Thanks, i replaced tabula with pdfplumber, now working good.","body":"Thanks, i replaced tabula with pdfplumber, now working good."}],"tags":[],"owner":{"account_id":7142651,"reputation":4656,"user_id":5459640,"display_name":"Noam Yizraeli"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1629453884,"creation_date":1629453582,"answer_id":68860384,"question_id":68851130,"body_markdown":"Generally one should refrain from using a container image with more than one main process, such as python and java, and I would personally advise finding a replacement to tabula-py that doesn&#39;t require a java enviroment for that is the best practice when using containers as specified [here](https://docs.docker.com/config/containers/multi-service_container) as so:\r\n\r\n&gt; It is generally recommended that you separate areas of concern by using one service per container.\r\n\r\nWith that in mind, because I don&#39;t know if you can do those things I&#39;m gonna provide an alternative as well.\r\n\r\n[this][4] docker image packs multiple runnable environments into one such as java and python, and its dockerfile is listed [here][1].\r\nBecause it encompasses more environments than you need you can slim it down to your needs. \r\n\r\nthere is also [this][2] project though it wasn&#39;t updated for awhile or [this][3] article describing a consise homebrewed python and java dockerfile \r\n\r\n  \r\n\r\n\r\n  [1]: https://github.com/DrSnowbird/jdk-mvn-py3/blob/master/Dockerfile-openjdk8\r\n  [2]: https://newbedev.com/how-to-run-docker-with-python-and-java\r\n  [3]: https://hub.docker.com/r/rappdw/docker-java-python/\r\n  [4]: https://hub.docker.com/r/openkbs/jre-mvn-py3","title":"How to install java for tabula inside docker container","body":"<p>Generally one should refrain from using a container image with more than one main process, such as python and java, and I would personally advise finding a replacement to tabula-py that doesn't require a java enviroment for that is the best practice when using containers as specified <a href=\"https://docs.docker.com/config/containers/multi-service_container\" rel=\"nofollow noreferrer\">here</a> as so:</p>\n<blockquote>\n<p>It is generally recommended that you separate areas of concern by using one service per container.</p>\n</blockquote>\n<p>With that in mind, because I don't know if you can do those things I'm gonna provide an alternative as well.</p>\n<p><a href=\"https://hub.docker.com/r/openkbs/jre-mvn-py3\" rel=\"nofollow noreferrer\">this</a> docker image packs multiple runnable environments into one such as java and python, and its dockerfile is listed <a href=\"https://github.com/DrSnowbird/jdk-mvn-py3/blob/master/Dockerfile-openjdk8\" rel=\"nofollow noreferrer\">here</a>.\nBecause it encompasses more environments than you need you can slim it down to your needs.</p>\n<p>there is also <a href=\"https://newbedev.com/how-to-run-docker-with-python-and-java\" rel=\"nofollow noreferrer\">this</a> project though it wasn't updated for awhile or <a href=\"https://hub.docker.com/r/rappdw/docker-java-python/\" rel=\"nofollow noreferrer\">this</a> article describing a consise homebrewed python and java dockerfile</p>\n"},{"tags":[],"owner":{"account_id":12054688,"reputation":159,"user_id":8816168,"accept_rate":60,"display_name":"Cristian Favaro Carri&#231;o"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676040083,"creation_date":1676039717,"answer_id":75412509,"question_id":68851130,"body_markdown":"In case anyone is trying to achieve that and doesn&#39;t want to switch to another library, here is a way of making it work with Tabula. \r\n\r\nBy the way, here I&#39;m using Tabula in jupyter notebook... but you just have to change the image from Jupyter to python to achieve what you want with Flask. \r\n\r\nYour docker-compose will be like this: \r\n\r\n```\r\njupyter:\r\n  container_name: jupyter_lab\r\n  build: .\r\n  ports: \r\n    - &quot;8888:8888&quot;\r\n  environment: \r\n    - JUPYTER_ENABLE_LAB=yes\r\n  volumes: \r\n    - ./work:/home/jovyan/work\r\n```\r\nThis is your Dockerfile:\r\n\r\n```\r\n# Image base-notebook \r\nFROM jupyter/minimal-notebook #getting the basic one. \r\n\r\n# Change to root user to install java 8\r\nUSER root\r\n\r\n# Install java 8\r\nRUN apt-get update \\\r\n    &amp;&amp; echo &quot;Updated apt-get&quot; \\\r\n    &amp;&amp; apt-get install -y openjdk-8-jre \\\r\n    &amp;&amp; echo &quot;Installed openjdk 8&quot;\r\n  \r\n# Install requirements\r\nCOPY requirements.txt ./\r\nRUN pip3 install -r requirements.txt\r\n\r\nRUN rm -rf requirements.txt\r\n\r\n# Change to  &quot;$NB_USER&quot; command so the image runs as a non root user by default\r\nUSER $NB_UID\r\n```\r\n\r\nYour requirements.txt\r\n\r\n```\r\ntabula.py \r\n\r\n```\r\n\r\nCreate the folder &quot;work&quot; (that is the folder that is going to be synced with the container).\r\n\r\nNow open the terminal and type ```docker-compose up --build```\r\nThis command will build and start your container. With these steps, you should be ready to go. \r\n\r\nTest with this line of code in the notebook:\r\n\r\n```\r\nfrom tabula import read_pdf\r\npdf = read_pdf(&quot;path_to_your_pdf.pdf&quot;, pages=&#39;all&#39;)\r\n\r\n```\r\n","title":"How to install java for tabula inside docker container","body":"<p>In case anyone is trying to achieve that and doesn't want to switch to another library, here is a way of making it work with Tabula.</p>\n<p>By the way, here I'm using Tabula in jupyter notebook... but you just have to change the image from Jupyter to python to achieve what you want with Flask.</p>\n<p>Your docker-compose will be like this:</p>\n<pre><code>jupyter:\n  container_name: jupyter_lab\n  build: .\n  ports: \n    - &quot;8888:8888&quot;\n  environment: \n    - JUPYTER_ENABLE_LAB=yes\n  volumes: \n    - ./work:/home/jovyan/work\n</code></pre>\n<p>This is your Dockerfile:</p>\n<pre><code># Image base-notebook \nFROM jupyter/minimal-notebook #getting the basic one. \n\n# Change to root user to install java 8\nUSER root\n\n# Install java 8\nRUN apt-get update \\\n    &amp;&amp; echo &quot;Updated apt-get&quot; \\\n    &amp;&amp; apt-get install -y openjdk-8-jre \\\n    &amp;&amp; echo &quot;Installed openjdk 8&quot;\n  \n# Install requirements\nCOPY requirements.txt ./\nRUN pip3 install -r requirements.txt\n\nRUN rm -rf requirements.txt\n\n# Change to  &quot;$NB_USER&quot; command so the image runs as a non root user by default\nUSER $NB_UID\n</code></pre>\n<p>Your requirements.txt</p>\n<pre><code>tabula.py \n\n</code></pre>\n<p>Create the folder &quot;work&quot; (that is the folder that is going to be synced with the container).</p>\n<p>Now open the terminal and type <code>docker-compose up --build</code>\nThis command will build and start your container. With these steps, you should be ready to go.</p>\n<p>Test with this line of code in the notebook:</p>\n<pre><code>from tabula import read_pdf\npdf = read_pdf(&quot;path_to_your_pdf.pdf&quot;, pages='all')\n\n</code></pre>\n"}],"owner":{"account_id":15278609,"reputation":194,"user_id":11023664,"display_name":"Titan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":68860384,"answer_count":2,"score":0,"last_activity_date":1676040083,"creation_date":1629388864,"question_id":68851130,"body_markdown":"I cant find anything related to my question\r\n\r\nI tried below docker file\r\n\r\n    RUN apt-get update &amp;&amp; apt-get install -y \\\r\n    software-properties-common\r\n\r\n\r\n    RUN apt-get update &amp;&amp; \\\r\n        apt-cache search openjdk &amp;&amp; \\\r\n        apt-get install openjdk-8-jdk &amp;&amp; \\\r\n        apt-get clean;\r\n\r\n    RUN apt-get update &amp;&amp; \\\r\n        apt-get install ca-certificates-java &amp;&amp; \\\r\n        apt-get clean &amp;&amp; \\\r\n        update-ca-certificates -f;\r\n\r\n    ENV JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64/\r\n    RUN export JAVA_HOME  \r\n\r\n    #tabula.errors.JavaNotFoundError: `java` command is not found from this Python \r\n    #process.Please ensure Java is installed and PATH is set for `java`\r\n\r\nwhen i use import tabula im getting tabula.errors.JavaNotFoundError. can someone please help what to do to get rid of this error in docker ?\r\n\r\nUPDATE:\r\n\r\nIm using flask and mongodb. in flask there is a code responsible to read pdf files which is tabula and it needs Java as it says in its error. for other python package i installed with pipfile and pipfile.lock\r\n\r\n    RUN pip install pipenv\r\n    COPY Pipfile .         #&lt;---- contains tabula package\r\n    COPY Pipfile.lock .    #&lt;---- contains tabula package\r\n    RUN PIPENV_VENV_IN_PROJECT=1 pipenv install --deploy \r\n\r\n    ##But i have no idea how to install java for tabula dependecy.\r\n\r\n**************** FINAL UPDATE *****************\r\n\r\nI replaced tabula with pdfplumber. now working good, thanks for all who tried to help me. ","title":"How to install java for tabula inside docker container","body":"<p>I cant find anything related to my question</p>\n<p>I tried below docker file</p>\n<pre><code>RUN apt-get update &amp;&amp; apt-get install -y \\\nsoftware-properties-common\n\n\nRUN apt-get update &amp;&amp; \\\n    apt-cache search openjdk &amp;&amp; \\\n    apt-get install openjdk-8-jdk &amp;&amp; \\\n    apt-get clean;\n\nRUN apt-get update &amp;&amp; \\\n    apt-get install ca-certificates-java &amp;&amp; \\\n    apt-get clean &amp;&amp; \\\n    update-ca-certificates -f;\n\nENV JAVA_HOME /usr/lib/jvm/java-8-openjdk-amd64/\nRUN export JAVA_HOME  \n\n#tabula.errors.JavaNotFoundError: `java` command is not found from this Python \n#process.Please ensure Java is installed and PATH is set for `java`\n</code></pre>\n<p>when i use import tabula im getting tabula.errors.JavaNotFoundError. can someone please help what to do to get rid of this error in docker ?</p>\n<p>UPDATE:</p>\n<p>Im using flask and mongodb. in flask there is a code responsible to read pdf files which is tabula and it needs Java as it says in its error. for other python package i installed with pipfile and pipfile.lock</p>\n<pre><code>RUN pip install pipenv\nCOPY Pipfile .         #&lt;---- contains tabula package\nCOPY Pipfile.lock .    #&lt;---- contains tabula package\nRUN PIPENV_VENV_IN_PROJECT=1 pipenv install --deploy \n\n##But i have no idea how to install java for tabula dependecy.\n</code></pre>\n<p>**************** FINAL UPDATE *****************</p>\n<p>I replaced tabula with pdfplumber. now working good, thanks for all who tried to help me.</p>\n"},{"tags":["java","file-upload","selenium-webdriver"],"answers":[{"comments":[{"owner":{"account_id":447279,"reputation":253,"user_id":840816,"display_name":"Alex"},"score":1,"creation_date":1337847275,"post_id":10717319,"comment_id":13943903,"body_markdown":"Thanks, the problem is that &quot;sendKeys&quot; is not working for me cause i upload the file through an ajax call before i send the form. But maybe it helps others. :)","body":"Thanks, the problem is that &quot;sendKeys&quot; is not working for me cause i upload the file through an ajax call before i send the form. But maybe it helps others. :)"},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":3,"creation_date":1337847546,"post_id":10717319,"comment_id":13943984,"body_markdown":"But. It just fills in the path, any ajax calls __should be resolved__ after the `&lt;input&gt;` loses focus (which means that after the `sendkeys()` call, you need to click outside the `&lt;input&gt;` or start filling some other one for `onchange` scripts to trigger).","body":"But. It just fills in the path, any ajax calls <b>should be resolved</b> after the <code>&lt;input&gt;</code> loses focus (which means that after the <code>sendkeys()</code> call, you need to click outside the <code>&lt;input&gt;</code> or start filling some other one for <code>onchange</code> scripts to trigger)."},{"owner":{"account_id":447279,"reputation":253,"user_id":840816,"display_name":"Alex"},"score":0,"creation_date":1337848382,"post_id":10717319,"comment_id":13944252,"body_markdown":"Yes, you are right, but the fileupload that i use, uses a fake input field that only shows the name of the file uploaded. The ajax is not triggered when this field loses the focus. It is not really an easy process and can&#180;t be tested like that, tho i would much prefer it was that way.","body":"Yes, you are right, but the fileupload that i use, uses a fake input field that only shows the name of the file uploaded. The ajax is not triggered when this field loses the focus. It is not really an easy process and can&#180;t be tested like that, tho i would much prefer it was that way."},{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":1,"creation_date":1337848550,"post_id":10717319,"comment_id":13944308,"body_markdown":"Fun. I&#39;d really be interested to see the internals of that. Hopefully I won&#39;t :).","body":"Fun. I&#39;d really be interested to see the internals of that. Hopefully I won&#39;t :)."},{"owner":{"account_id":376706,"reputation":795,"user_id":728345,"accept_rate":63,"display_name":"obesechicken13"},"score":0,"creation_date":1350934700,"post_id":10717319,"comment_id":17668525,"body_markdown":"Id like to add, you may want to use `C:\\\\path\\\\to\\\\file.jpg` instead of `C:/path/to/file.jpg`.","body":"Id like to add, you may want to use <code>C:\\\\path\\\\to\\\\file.jpg</code> instead of <code>C:&#47;path&#47;to&#47;file.jpg</code>."},{"owner":{"account_id":2027867,"reputation":116,"user_id":1812384,"display_name":"smithleej"},"score":0,"creation_date":1402483903,"post_id":10717319,"comment_id":37287771,"body_markdown":"Yeah I could only get it to work using `C:\\\\path\\\\to\\\\file.jpg` or `file:/C:/path/to/file.jpg`, the `file:/` was key for me.","body":"Yeah I could only get it to work using <code>C:\\\\path\\\\to\\\\file.jpg</code> or <code>file:&#47;C:&#47;path&#47;to&#47;file.jpg</code>, the <code>file:&#47;</code> was key for me."},{"owner":{"account_id":1682656,"reputation":7274,"user_id":1546574,"display_name":"eugene.polschikov"},"score":0,"creation_date":1426590055,"post_id":10717319,"comment_id":46425255,"body_markdown":"thanks much! That worked like a charm for me . But the only thing I had to do is to find &#39;input&#39; element on a sublayout withing which I were working - http://gyazo.com/8e4ad312d13d57a0d371087882ec0ce0  . It was not the same with the element calling modal attach file popup.   And also it&#39;s worth mentioning that I&#39;ve used CSS selector  div#addDetailImageModal input[type=&quot;file&quot;]  and absolute path represented in the following form: &quot;C:\\\\Selenium\\\\emenu_food.png&quot;  .  + upvote from me ;-)","body":"thanks much! That worked like a charm for me . But the only thing I had to do is to find &#39;input&#39; element on a sublayout withing which I were working - <a href=\"http://gyazo.com/8e4ad312d13d57a0d371087882ec0ce0\" rel=\"nofollow noreferrer\">gyazo.com/8e4ad312d13d57a0d371087882ec0ce0</a>  . It was not the same with the element calling modal attach file popup.   And also it&#39;s worth mentioning that I&#39;ve used CSS selector  div#addDetailImageModal input[type=&quot;file&quot;]  and absolute path represented in the following form: &quot;C:\\\\Selenium\\\\emenu_food.png&quot;  .  + upvote from me ;-)"}],"tags":[],"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"comment_count":7,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1337766551,"creation_date":1337766117,"answer_id":10717319,"question_id":9431978,"body_markdown":"Actually, there is an in-built technique for this, too. It should work in all browsers and operating systems.\r\n\r\nSelenium 2 (WebDriver) Java example:\r\n\r\n    // assuming driver is a healthy WebDriver instance\r\n    WebElement fileInput = driver.findElement(By.xpath(&quot;//input[@type=&#39;file&#39;]&quot;));\r\n    fileInput.sendKeys(&quot;C:/path/to/file.jpg&quot;);\r\n\r\nThe idea is to directly send the absolute path to the file to an element which you would usually click at to get the modal window - that is `&lt;input type=&#39;file&#39; /&gt;` element.","title":"One solution for File Upload using Java Robot API with Selenium WebDriver by Java","body":"<p>Actually, there is an in-built technique for this, too. It should work in all browsers and operating systems.</p>\n\n<p>Selenium 2 (WebDriver) Java example:</p>\n\n<pre><code>// assuming driver is a healthy WebDriver instance\nWebElement fileInput = driver.findElement(By.xpath(\"//input[@type='file']\"));\nfileInput.sendKeys(\"C:/path/to/file.jpg\");\n</code></pre>\n\n<p>The idea is to directly send the absolute path to the file to an element which you would usually click at to get the modal window - that is <code>&lt;input type='file' /&gt;</code> element.</p>\n"},{"comments":[{"owner":{"account_id":447279,"reputation":253,"user_id":840816,"display_name":"Alex"},"score":0,"creation_date":1373446127,"post_id":17544274,"comment_id":25555978,"body_markdown":"Im glad to hear it helped you :)","body":"Im glad to hear it helped you :)"}],"tags":[],"owner":{"account_id":2492477,"reputation":113,"user_id":2169671,"display_name":"Kasun Mathota"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1459257804,"creation_date":1373360993,"answer_id":17544274,"question_id":9431978,"body_markdown":"Thanks Alex,\r\n\r\nJava Robot API helped me for uploading file. I was fedup with File Upload using WebDriver. Following is the code I used (Small modification to yours):\r\n\r\n    Robot robot = new Robot();\r\n    robot.delay(1000);\r\n\r\n    robot.keyPress(KeyEvent.VK_CONTROL);\r\n    robot.keyPress(KeyEvent.VK_V);\r\n    robot.keyRelease(KeyEvent.VK_V);\r\n    robot.keyRelease(KeyEvent.VK_CONTROL);\r\n    robot.keyPress(KeyEvent.VK_ENTER);\r\n    robot.keyRelease(KeyEvent.VK_ENTER);\r\n    robot.delay(1000);\r\n","title":"One solution for File Upload using Java Robot API with Selenium WebDriver by Java","body":"<p>Thanks Alex,</p>\n\n<p>Java Robot API helped me for uploading file. I was fedup with File Upload using WebDriver. Following is the code I used (Small modification to yours):</p>\n\n<pre><code>Robot robot = new Robot();\nrobot.delay(1000);\n\nrobot.keyPress(KeyEvent.VK_CONTROL);\nrobot.keyPress(KeyEvent.VK_V);\nrobot.keyRelease(KeyEvent.VK_V);\nrobot.keyRelease(KeyEvent.VK_CONTROL);\nrobot.keyPress(KeyEvent.VK_ENTER);\nrobot.keyRelease(KeyEvent.VK_ENTER);\nrobot.delay(1000);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":447279,"reputation":253,"user_id":840816,"display_name":"Alex"},"score":0,"creation_date":1375174235,"post_id":17934135,"comment_id":26218828,"body_markdown":"Happy to hear it. ah! and thanks for sharing your solution :)","body":"Happy to hear it. ah! and thanks for sharing your solution :)"},{"owner":{"account_id":3549615,"reputation":187,"user_id":2964789,"accept_rate":77,"display_name":"jcuwaz"},"score":0,"creation_date":1407154203,"post_id":17934135,"comment_id":39092421,"body_markdown":"Hey Mashhood could you help me with converting your version of the keypress file upload on mac for use with the python bindings of selenium: http://selenium.googlecode.com/svn/trunk/docs/api/py/webdriver/selenium.webdriver.common.keys.html. I too couldn&#39;t get sendKeys to work properly for my use case.","body":"Hey Mashhood could you help me with converting your version of the keypress file upload on mac for use with the python bindings of selenium: <a href=\"http://selenium.googlecode.com/svn/trunk/docs/api/py/webdriver/selenium.webdriver.common.keys.html\" rel=\"nofollow noreferrer\">selenium.googlecode.com/svn/trunk/docs/api/py/webdriver/&hellip;</a>. I too couldn&#39;t get sendKeys to work properly for my use case."}],"tags":[],"owner":{"account_id":2566644,"reputation":1,"user_id":2226496,"display_name":"Mashhood Rastgar"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375133002,"creation_date":1375131735,"answer_id":17934135,"question_id":9431978,"body_markdown":"Thanks Alex! I needed this since I could not get the sendKeys function to work when used via Play framework 2.1 (fluentlenium wrapper). I am testing over Firefox [17.0.7] for Mac and had to make a few mods to get it working. Below is an approximation of the final snippet I used.\r\n\r\n        val file = new File(PATH_TO_IPA)\r\n        val stringSelection: StringSelection = new StringSelection(file.getAbsolutePath)\r\n        Toolkit.getDefaultToolkit.getSystemClipboard().setContents(stringSelection, null)\r\n        val robot: Robot = new Robot()\r\n        // Cmd + Tab is needed since it launches a Java app and the browser looses focus\r\n        robot.keyPress(KeyEvent.VK_META)\r\n        robot.keyPress(KeyEvent.VK_TAB)\r\n        robot.keyRelease(KeyEvent.VK_META)\r\n        robot.keyRelease(KeyEvent.VK_TAB)\r\n        robot.delay(500)\r\n        robot.keyPress(KeyEvent.VK_META)\r\n        robot.keyPress(KeyEvent.VK_SHIFT)\r\n        robot.keyPress(KeyEvent.VK_G)\r\n        robot.keyRelease(KeyEvent.VK_META)\r\n        robot.keyRelease(KeyEvent.VK_SHIFT)\r\n        robot.keyRelease(KeyEvent.VK_G)\r\n        robot.keyPress(KeyEvent.VK_META)\r\n        robot.keyPress(KeyEvent.VK_V)\r\n        robot.keyRelease(KeyEvent.VK_META)\r\n        robot.keyRelease(KeyEvent.VK_V)\r\n        robot.keyPress(KeyEvent.VK_ENTER)\r\n        robot.keyRelease(KeyEvent.VK_ENTER)\r\n        robot.delay(500)\r\n        robot.keyPress(KeyEvent.VK_ENTER)\r\n        robot.keyRelease(KeyEvent.VK_ENTER)","title":"One solution for File Upload using Java Robot API with Selenium WebDriver by Java","body":"<p>Thanks Alex! I needed this since I could not get the sendKeys function to work when used via Play framework 2.1 (fluentlenium wrapper). I am testing over Firefox [17.0.7] for Mac and had to make a few mods to get it working. Below is an approximation of the final snippet I used.</p>\n\n<pre><code>    val file = new File(PATH_TO_IPA)\n    val stringSelection: StringSelection = new StringSelection(file.getAbsolutePath)\n    Toolkit.getDefaultToolkit.getSystemClipboard().setContents(stringSelection, null)\n    val robot: Robot = new Robot()\n    // Cmd + Tab is needed since it launches a Java app and the browser looses focus\n    robot.keyPress(KeyEvent.VK_META)\n    robot.keyPress(KeyEvent.VK_TAB)\n    robot.keyRelease(KeyEvent.VK_META)\n    robot.keyRelease(KeyEvent.VK_TAB)\n    robot.delay(500)\n    robot.keyPress(KeyEvent.VK_META)\n    robot.keyPress(KeyEvent.VK_SHIFT)\n    robot.keyPress(KeyEvent.VK_G)\n    robot.keyRelease(KeyEvent.VK_META)\n    robot.keyRelease(KeyEvent.VK_SHIFT)\n    robot.keyRelease(KeyEvent.VK_G)\n    robot.keyPress(KeyEvent.VK_META)\n    robot.keyPress(KeyEvent.VK_V)\n    robot.keyRelease(KeyEvent.VK_META)\n    robot.keyRelease(KeyEvent.VK_V)\n    robot.keyPress(KeyEvent.VK_ENTER)\n    robot.keyRelease(KeyEvent.VK_ENTER)\n    robot.delay(500)\n    robot.keyPress(KeyEvent.VK_ENTER)\n    robot.keyRelease(KeyEvent.VK_ENTER)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11482048,"reputation":165,"user_id":8415786,"display_name":"Radek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1506090990,"creation_date":1506090990,"answer_id":46367263,"question_id":9431978,"body_markdown":"The switching of application on Mac is much better to do with AppleScript. AppleScript is integrated to system, so it will be always functional and does not depend on order of apps on Cmd+Tab. Your test/app will be less fragile.\r\nhttps://developer.apple.com/library/content/documentation/AppleScript/Conceptual/AppleScriptLangGuide/reference/ASLR_cmds.html\r\n\r\nYou need only detect you are on mac and has name of the application.\r\n\r\n    Runtime runtime = Runtime.getRuntime();\r\n                String[] args = { &quot;osascript&quot;, &quot;-e&quot;, &quot;tell app \\&quot;Chrome\\&quot; to activate&quot; };\r\n                Process process = runtime.exec(args);","title":"One solution for File Upload using Java Robot API with Selenium WebDriver by Java","body":"<p>The switching of application on Mac is much better to do with AppleScript. AppleScript is integrated to system, so it will be always functional and does not depend on order of apps on Cmd+Tab. Your test/app will be less fragile.\n<a href=\"https://developer.apple.com/library/content/documentation/AppleScript/Conceptual/AppleScriptLangGuide/reference/ASLR_cmds.html\" rel=\"nofollow noreferrer\">https://developer.apple.com/library/content/documentation/AppleScript/Conceptual/AppleScriptLangGuide/reference/ASLR_cmds.html</a></p>\n\n<p>You need only detect you are on mac and has name of the application.</p>\n\n<pre><code>Runtime runtime = Runtime.getRuntime();\n            String[] args = { \"osascript\", \"-e\", \"tell app \\\"Chrome\\\" to activate\" };\n            Process process = runtime.exec(args);\n</code></pre>\n"}],"owner":{"account_id":447279,"reputation":253,"user_id":840816,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44384,"favorite_count":0,"down_vote_count":1,"up_vote_count":22,"accepted_answer_id":10717319,"answer_count":4,"score":21,"last_activity_date":1676040023,"creation_date":1330092012,"question_id":9431978,"body_markdown":"I saw that lots of people have Problems uploading a file in a test Environment with Selenium WebDriver. I use the selenium WebDriver and java, and had the same problem. I finally have found a solution, so i will post it here hoping that it helps someone else.\r\n\r\nWhen i need to upload a file in a test, i click with Webdriver in the button and wait for the window &quot;Open&quot; to pop. And then i copy the path to the file in the clipboard and then paste it in the &quot;open&quot; window and click &quot;Enter&quot;. This is working because when the window &quot;open&quot; pops up, the focus is always in the &quot;open&quot; button.\r\n\r\n\r\nYou will need these classes and method:\r\n\r\n    import java.awt.Robot;\r\n    import java.awt.event.KeyEvent;\r\n    import java.awt.Toolkit;\r\n    import java.awt.datatransfer.StringSelection;\r\n\r\n\r\n    public static void setClipboardData(String string) {\r\n       StringSelection stringSelection = new StringSelection(string);\r\n       Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\r\n    }\r\n\r\nAnd that is what i do, just after opening the &quot;open&quot; window:\r\n\r\n    setClipboardData(&quot;C:\\\\path to file\\\\example.jpg&quot;);\r\n    //native key strokes for CTRL, V and ENTER keys\r\n    Robot robot = new Robot();\r\n    robot.keyPress(KeyEvent.VK_CONTROL);\r\n    robot.keyPress(KeyEvent.VK_V);\r\n    robot.keyRelease(KeyEvent.VK_V);\r\n    robot.keyRelease(KeyEvent.VK_CONTROL);\r\n    robot.keyPress(KeyEvent.VK_ENTER);\r\n    robot.keyRelease(KeyEvent.VK_ENTER);\r\n\r\nAnd that&#180;s it. It is working for me, i hope it works for some of you.","title":"One solution for File Upload using Java Robot API with Selenium WebDriver by Java","body":"<p>I saw that lots of people have Problems uploading a file in a test Environment with Selenium WebDriver. I use the selenium WebDriver and java, and had the same problem. I finally have found a solution, so i will post it here hoping that it helps someone else.</p>\n\n<p>When i need to upload a file in a test, i click with Webdriver in the button and wait for the window \"Open\" to pop. And then i copy the path to the file in the clipboard and then paste it in the \"open\" window and click \"Enter\". This is working because when the window \"open\" pops up, the focus is always in the \"open\" button.</p>\n\n<p>You will need these classes and method:</p>\n\n<pre><code>import java.awt.Robot;\nimport java.awt.event.KeyEvent;\nimport java.awt.Toolkit;\nimport java.awt.datatransfer.StringSelection;\n\n\npublic static void setClipboardData(String string) {\n   StringSelection stringSelection = new StringSelection(string);\n   Toolkit.getDefaultToolkit().getSystemClipboard().setContents(stringSelection, null);\n}\n</code></pre>\n\n<p>And that is what i do, just after opening the \"open\" window:</p>\n\n<pre><code>setClipboardData(\"C:\\\\path to file\\\\example.jpg\");\n//native key strokes for CTRL, V and ENTER keys\nRobot robot = new Robot();\nrobot.keyPress(KeyEvent.VK_CONTROL);\nrobot.keyPress(KeyEvent.VK_V);\nrobot.keyRelease(KeyEvent.VK_V);\nrobot.keyRelease(KeyEvent.VK_CONTROL);\nrobot.keyPress(KeyEvent.VK_ENTER);\nrobot.keyRelease(KeyEvent.VK_ENTER);\n</code></pre>\n\n<p>And that´s it. It is working for me, i hope it works for some of you.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1676028340,"post_id":75410402,"comment_id":133059286,"body_markdown":"If your goal is performance and avoiding looping through the list a second time, you&#39;re better off just using a regular `for` loop.","body":"If your goal is performance and avoiding looping through the list a second time, you&#39;re better off just using a regular <code>for</code> loop."}],"answers":[{"tags":[],"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676039816,"creation_date":1676030745,"answer_id":75410903,"question_id":75410402,"body_markdown":"Just check if the name matches in the first loop:\r\n\r\n    alist.forEach(x -&gt; x.setCount(x.getName().equalsIgnoreCase(tempName) ? 1 : 0));","title":"Merging two stream operation into one in Java for performance improvement","body":"<p>Just check if the name matches in the first loop:</p>\n<pre><code>alist.forEach(x -&gt; x.setCount(x.getName().equalsIgnoreCase(tempName) ? 1 : 0));\n</code></pre>\n"}],"owner":{"account_id":7720636,"reputation":1532,"user_id":5846981,"accept_rate":100,"display_name":"Som"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75410903,"answer_count":1,"score":-1,"last_activity_date":1676039816,"creation_date":1676027903,"question_id":75410402,"body_markdown":"I have this object\r\n\r\n    Class A {\r\n    \r\n        int count;\r\n        String name;\r\n    \r\n    }\r\n\r\nI have a list of my above custom object as below :\r\n\r\n    List&lt;A&gt; aList = new ArrayList&lt;&gt;();\r\n    A a = new A(1,&quot;abc&quot;);\r\n    A b = new A(0,&quot;def&quot;);\r\n    A c = new A(0,&quot;xyz&quot;);\r\n\r\n    aList.add(a);\r\n    aList.add(b);\r\n    aList.add(c);\r\n\r\nI will get this list as input in my service. Now based upon some scenario, first I need to set &quot;count&quot; to ZERO for all elements in the list and based on a check with &quot;name&quot; I need to set the count as ONE for a particular name.\r\n\r\n\r\nThis is how I am doing now :\r\n\r\n    String tempName = &quot;Some Name like abc/def/xyz&quot;;\r\n\r\n    alist.stream().forEach(x -&gt; x.setCount(0));\r\n    aList.stream().filter(x -&gt; x.getName().equalsIgnoreCase(tempName))\r\n                  .findFirst()\r\n                  .ifPresent(y -&gt; y.setCount(1));\r\n\r\nThis is doing my job, but I want to know if I can simplify the above logic and use one single stream instead of two and improve the performance by avoiding looping through the list twice.","title":"Merging two stream operation into one in Java for performance improvement","body":"<p>I have this object</p>\n<pre><code>Class A {\n\n    int count;\n    String name;\n\n}\n</code></pre>\n<p>I have a list of my above custom object as below :</p>\n<pre><code>List&lt;A&gt; aList = new ArrayList&lt;&gt;();\nA a = new A(1,&quot;abc&quot;);\nA b = new A(0,&quot;def&quot;);\nA c = new A(0,&quot;xyz&quot;);\n\naList.add(a);\naList.add(b);\naList.add(c);\n</code></pre>\n<p>I will get this list as input in my service. Now based upon some scenario, first I need to set &quot;count&quot; to ZERO for all elements in the list and based on a check with &quot;name&quot; I need to set the count as ONE for a particular name.</p>\n<p>This is how I am doing now :</p>\n<pre><code>String tempName = &quot;Some Name like abc/def/xyz&quot;;\n\nalist.stream().forEach(x -&gt; x.setCount(0));\naList.stream().filter(x -&gt; x.getName().equalsIgnoreCase(tempName))\n              .findFirst()\n              .ifPresent(y -&gt; y.setCount(1));\n</code></pre>\n<p>This is doing my job, but I want to know if I can simplify the above logic and use one single stream instead of two and improve the performance by avoiding looping through the list twice.</p>\n"},{"tags":["java","sql-server","spring","spring-webflux","reactive-programming"],"comments":[{"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"score":0,"creation_date":1675873206,"post_id":75388647,"comment_id":133022632,"body_markdown":"earliest existing version seems to be 0.8.0.RELEASE on maven central. https://search.maven.org/artifact/io.r2dbc/r2dbc-mssql/0.8.0.RELEASE/jar","body":"earliest existing version seems to be 0.8.0.RELEASE on maven central. <a href=\"https://search.maven.org/artifact/io.r2dbc/r2dbc-mssql/0.8.0.RELEASE/jar\" rel=\"nofollow noreferrer\">search.maven.org/artifact/io.r2dbc/r2dbc-mssql/0.8.0.RELEASE&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":12368769,"reputation":81,"user_id":9019797,"display_name":"Mohammed Salah"},"score":1,"creation_date":1675873367,"post_id":75388647,"comment_id":133022704,"body_markdown":"I am asking about the DB not the driver itself. thank you for your comment tho.","body":"I am asking about the DB not the driver itself. thank you for your comment tho."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":2,"creation_date":1675887341,"post_id":75388647,"comment_id":133027043,"body_markdown":"Why do you need this? Do you have some SQL Server 2000 CD-ROMs lying around","body":"Why do you need this? Do you have some SQL Server 2000 CD-ROMs lying around"},{"owner":{"account_id":166167,"reputation":8075,"user_id":390122,"accept_rate":75,"display_name":"AlwaysLearning"},"score":0,"creation_date":1675913140,"post_id":75388647,"comment_id":133031568,"body_markdown":"Given [r2dbc-mssql](https://github.com/r2dbc/r2dbc-mssql)&#39;s lack of support for even the `xml` data type and its discussion of &quot;SSL Encryption support&quot; I&#39;m thinking your problem is here more likely going to be the maximum version of SQL Server that it supports. The `xml` data type was introduced with SQL Server 2000. SSL, TLS 1.0 and TLS 1.1 are all deprecated protocols that shouldn&#39;t be used for anything any more.","body":"Given <a href=\"https://github.com/r2dbc/r2dbc-mssql\" rel=\"nofollow noreferrer\">r2dbc-mssql</a>&#39;s lack of support for even the <code>xml</code> data type and its discussion of &quot;SSL Encryption support&quot; I&#39;m thinking your problem is here more likely going to be the maximum version of SQL Server that it supports. The <code>xml</code> data type was introduced with SQL Server 2000. SSL, TLS 1.0 and TLS 1.1 are all deprecated protocols that shouldn&#39;t be used for anything any more."},{"owner":{"account_id":12368769,"reputation":81,"user_id":9019797,"display_name":"Mohammed Salah"},"score":0,"creation_date":1676038691,"post_id":75388647,"comment_id":133062444,"body_markdown":"What I need to know if the client I am working with that having a MS SQL SERVER DB is supporting the reactive model or not. So, I can use it in a Spring Reactive project. My current production version details is: &quot;&quot; Microsoft SQL Server 2016 (SP2) (KB4052908) - 13.0.5026.0 (X64)   Mar 18 2018 09:11:49   Copyright (c) Microsoft Corporation  Enterprise Edition: Core-based Licensing (64-bit) &quot;&quot;","body":"What I need to know if the client I am working with that having a MS SQL SERVER DB is supporting the reactive model or not. So, I can use it in a Spring Reactive project. My current production version details is: &quot;&quot; Microsoft SQL Server 2016 (SP2) (KB4052908) - 13.0.5026.0 (X64)   Mar 18 2018 09:11:49   Copyright (c) Microsoft Corporation  Enterprise Edition: Core-based Licensing (64-bit) &quot;&quot;"}],"owner":{"account_id":12368769,"reputation":81,"user_id":9019797,"display_name":"Mohammed Salah"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676038816,"creation_date":1675872874,"question_id":75388647,"body_markdown":"As stated in the title, I want any reference document that mention the minimum supported version of MS SQL Server that can work with R2DBC driver.\r\n\r\nThanks in advance.\r\n\r\nEDIT: my current MS SQL Server DB version is: Microsoft SQL Server 2016 (SP2) (KB4052908) - 13.0.5026.0 (X64)   Mar 18 2018 09:11:49   Copyright (c) Microsoft Corporation  Enterprise Edition: Core-based Licensing (64-bit)\r\n\r\nAnd I want to know if it supports reactive way or not.","title":"SQL Server, minimum supported version for R2DBC (Reactive JDBC)","body":"<p>As stated in the title, I want any reference document that mention the minimum supported version of MS SQL Server that can work with R2DBC driver.</p>\n<p>Thanks in advance.</p>\n<p>EDIT: my current MS SQL Server DB version is: Microsoft SQL Server 2016 (SP2) (KB4052908) - 13.0.5026.0 (X64)   Mar 18 2018 09:11:49   Copyright (c) Microsoft Corporation  Enterprise Edition: Core-based Licensing (64-bit)</p>\n<p>And I want to know if it supports reactive way or not.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":13033096,"reputation":775,"user_id":9418902,"display_name":"Csisanyi"},"score":0,"creation_date":1538059227,"post_id":52539414,"comment_id":92018735,"body_markdown":"This could probably help. https://tutorials.visualstudio.com/Java/hello-world/install-jdk","body":"This could probably help. <a href=\"https://tutorials.visualstudio.com/Java/hello-world/install-jdk\" rel=\"nofollow noreferrer\">tutorials.visualstudio.com/Java/hello-world/install-jdk</a>"},{"owner":{"account_id":14087267,"reputation":1918,"user_id":10176717,"display_name":"amirali"},"score":0,"creation_date":1538064937,"post_id":52539414,"comment_id":92022240,"body_markdown":"What is your operating system?","body":"What is your operating system?"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1676032575,"post_id":52539414,"comment_id":133060493,"body_markdown":"That image link is now broken: *&quot;404 Not Found&quot;*. Does [the original](http://prntscr.com/kzf994) still work (it seems weirdly JavaScript&#39;y)?","body":"That image link is now broken: <i>&quot;404 Not Found&quot;</i>. Does <a href=\"http://prntscr.com/kzf994\" rel=\"nofollow noreferrer\">the original</a> still work (it seems weirdly JavaScript&#39;y)?"}],"answers":[{"comments":[{"owner":{"account_id":13635622,"reputation":2750,"user_id":9836706,"display_name":"Francesco Iapicca"},"score":0,"creation_date":1548230443,"post_id":52541654,"comment_id":95463601,"body_markdown":"hi, amirali\nfollowed step 1,2 and 3 without problems, but clicking ctrl+&#39;s&#39; nothing happens\nhow do I finalize the changes in the workspace settings?","body":"hi, amirali followed step 1,2 and 3 without problems, but clicking ctrl+&#39;s&#39; nothing happens how do I finalize the changes in the workspace settings?"},{"owner":{"account_id":14087267,"reputation":1918,"user_id":10176717,"display_name":"amirali"},"score":0,"creation_date":1548233577,"post_id":52541654,"comment_id":95465270,"body_markdown":"@FrancescoIapicca What&#39;s your operating system? Have you used vscode before? And please share what `where java` returns with us.","body":"@FrancescoIapicca What&#39;s your operating system? Have you used vscode before? And please share what <code>where java</code> returns with us."},{"owner":{"account_id":13635622,"reputation":2750,"user_id":9836706,"display_name":"Francesco Iapicca"},"score":1,"creation_date":1548233738,"post_id":52541654,"comment_id":95465349,"body_markdown":"I&#39;m on win10, I use vscode for dart and flutter, but I have to import an .aar file\nand call the service using java(hopefully kotlin), so yes (I use it) and no (never with java) [edit:\n\n{&quot;java.home&quot;:&quot;C:\\\\Program Files\\\\Java\\\\jdk-11.0.2&quot;\n}","body":"I&#39;m on win10, I use vscode for dart and flutter, but I have to import an .aar file and call the service using java(hopefully kotlin), so yes (I use it) and no (never with java) [edit:  {&quot;java.home&quot;:&quot;C:\\\\Program Files\\\\Java\\\\jdk-11.0.2&quot; }"},{"owner":{"account_id":14087267,"reputation":1918,"user_id":10176717,"display_name":"amirali"},"score":2,"creation_date":1548234099,"post_id":52541654,"comment_id":95465555,"body_markdown":"@FrancescoIapicca Have you added `&quot;java.home&quot;: &quot;C:/Program Files/Java/jdk-11.0.2&quot;` to your `settings.json` file? please make sure you have written it in correct format.","body":"@FrancescoIapicca Have you added <code>&quot;java.home&quot;: &quot;C:&#47;Program Files&#47;Java&#47;jdk-11.0.2&quot;</code> to your <code>settings.json</code> file? please make sure you have written it in correct format."},{"owner":{"account_id":3671605,"reputation":2418,"user_id":3058674,"accept_rate":80,"display_name":"Madura Pradeep"},"score":4,"creation_date":1644552164,"post_id":52541654,"comment_id":125642838,"body_markdown":"java.home is deprecated now. use java.jdt.ls.java.home","body":"java.home is deprecated now. use java.jdt.ls.java.home"}],"tags":[],"owner":{"account_id":14087267,"reputation":1918,"user_id":10176717,"display_name":"amirali"},"comment_count":5,"down_vote_count":3,"up_vote_count":24,"is_accepted":false,"score":21,"last_activity_date":1676038616,"creation_date":1538066679,"answer_id":52541654,"question_id":52539414,"body_markdown":" - Press &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;comma&lt;/kbd&gt;.\r\n - Search for _&quot;java.home&quot;_.\r\n\r\nIn case you are on the newest Visual Studio Code version:\r\n\r\nType in your Java path (*don&#39;t* forget to put the path in `&quot; &quot;`).\r\n\r\nIn case you are on an older version of Visual Studio Code:\r\n\r\n - Click on the pencil next to the line starting with _&quot;java.home&quot;_.\r\n - click on _&quot;Copy to settings&quot;_.\r\n - Type in your Java path (*don&#39;t* forget to put the path in `&quot; &quot;`).\r\n - Press &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;S&lt;/kbd&gt;.\r\n\r\nIf you don&#39;t know your Java path, type in `which java` in your terminal (on Windows, please note the right format, e.g., `&quot;java.home&quot;: &quot;C:/Program Files/Java/jdk-11.0.2&quot;`).\r\n","title":"I can&#39;t set up JDK on Visual Studio Code","body":"<ul>\n<li>Press <kbd>Ctrl</kbd>+<kbd>comma</kbd>.</li>\n<li>Search for <em>&quot;java.home&quot;</em>.</li>\n</ul>\n<p>In case you are on the newest Visual Studio Code version:</p>\n<p>Type in your Java path (<em>don't</em> forget to put the path in <code>&quot; &quot;</code>).</p>\n<p>In case you are on an older version of Visual Studio Code:</p>\n<ul>\n<li>Click on the pencil next to the line starting with <em>&quot;java.home&quot;</em>.</li>\n<li>click on <em>&quot;Copy to settings&quot;</em>.</li>\n<li>Type in your Java path (<em>don't</em> forget to put the path in <code>&quot; &quot;</code>).</li>\n<li>Press <kbd>Ctrl</kbd> + <kbd>S</kbd>.</li>\n</ul>\n<p>If you don't know your Java path, type in <code>which java</code> in your terminal (on Windows, please note the right format, e.g., <code>&quot;java.home&quot;: &quot;C:/Program Files/Java/jdk-11.0.2&quot;</code>).</p>\n"},{"comments":[{"owner":{"account_id":5779366,"reputation":2567,"user_id":4560509,"accept_rate":58,"display_name":"Michael Paccione"},"score":1,"creation_date":1622153717,"post_id":64781851,"comment_id":119717730,"body_markdown":"The java.home variable defined in Visual Studio Code settings (/usr/lib/jvm/java-11-openjdk-amd64) does not point to a JDK.","body":"The java.home variable defined in Visual Studio Code settings (/usr/lib/jvm/java-11-openjdk-amd64) does not point to a JDK."}],"tags":[],"owner":{"account_id":16458207,"reputation":465,"user_id":11889907,"display_name":"Shallon Kobusinge"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1634757912,"creation_date":1605078001,"answer_id":64781851,"question_id":52539414,"body_markdown":"Shifting to Java 11 did the trick for me. That is the minimum version required to run the **Language Support for Java** extension.\r\nAfter installation, open your `settings.json` file with the following:  \r\n- &lt;kbd&gt;Ctrl or CMD&lt;/kbd&gt; + &lt;kbd&gt;Shift&lt;/kbd&gt; + &lt;kbd&gt;P&lt;/kbd&gt;\r\n - Type &quot;settings&quot;\r\n - Click on &quot;Preferences: Open Settings (JSON)&quot;\r\n\r\n Then add this line:  \r\n\r\n    &quot;java.home&quot;: &quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\r\n\r\nDon&#39;t forget a trailing comma if you add this setting before another.","title":"I can&#39;t set up JDK on Visual Studio Code","body":"<p>Shifting to Java 11 did the trick for me. That is the minimum version required to run the <strong>Language Support for Java</strong> extension.\nAfter installation, open your <code>settings.json</code> file with the following:</p>\n<ul>\n<li><kbd>Ctrl or CMD</kbd> + <kbd>Shift</kbd> + <kbd>P</kbd></li>\n<li>Type &quot;settings&quot;</li>\n<li>Click on &quot;Preferences: Open Settings (JSON)&quot;</li>\n</ul>\n<p>Then add this line:</p>\n<pre><code>&quot;java.home&quot;: &quot;/usr/lib/jvm/java-11-openjdk-amd64&quot;\n</code></pre>\n<p>Don't forget a trailing comma if you add this setting before another.</p>\n"}],"owner":{"account_id":14431495,"reputation":131,"user_id":10424728,"display_name":"İmran Durmuş"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73380,"favorite_count":0,"down_vote_count":3,"up_vote_count":13,"answer_count":2,"score":10,"last_activity_date":1676038616,"creation_date":1538058663,"question_id":52539414,"body_markdown":"I saw this,\r\n\r\n![Java runtime could not be located][1]\r\n\r\nand clicked on it. It redirected me to the Red Hat site and made me download Red Hat Developer Studio, but as I said, I want it in Visual Studio Code. I did download the JDK, but what should I do next?\r\n\r\n  [1]: https://image.prntscr.com/image/yPF0Wv1ZQ3iWbh2Ob2yd8A.png","title":"I can&#39;t set up JDK on Visual Studio Code","body":"<p>I saw this,</p>\n<p><img src=\"https://image.prntscr.com/image/yPF0Wv1ZQ3iWbh2Ob2yd8A.png\" alt=\"Java runtime could not be located\" /></p>\n<p>and clicked on it. It redirected me to the Red Hat site and made me download Red Hat Developer Studio, but as I said, I want it in Visual Studio Code. I did download the JDK, but what should I do next?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":1,"creation_date":1675957029,"post_id":75400736,"comment_id":133043132,"body_markdown":"See if https://stackoverflow.com/questions/56462624/read-excel-and-show-it-on-tableview-populate-tableview-using-2d-array-or-list-o/56528141#56528141 can help.","body":"See if <a href=\"https://stackoverflow.com/questions/56462624/read-excel-and-show-it-on-tableview-populate-tableview-using-2d-array-or-list-o/56528141#56528141\" title=\"read excel and show it on tableview populate tableview using 2d array or list o\">stackoverflow.com/questions/56462624/&hellip;</a> can help."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1675960284,"post_id":75400736,"comment_id":133044431,"body_markdown":"I think James noticed that issue in your code and closed it based on that. The link I shared should give you some ideas on how to solve your issue. Also, it looks like you are not using a library to parse your `CSV` file. I think you should.","body":"I think James noticed that issue in your code and closed it based on that. The link I shared should give you some ideas on how to solve your issue. Also, it looks like you are not using a library to parse your <code>CSV</code> file. I think you should."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1675961991,"post_id":75400736,"comment_id":133045080,"body_markdown":"[mcve] please .. make sure to read and understand that help page, then act accordingly .. and mind the __M__! :)","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .. make sure to read and understand that help page, then act accordingly .. and mind the <b>M</b>! :)"},{"owner":{"account_id":12884963,"reputation":93,"user_id":9318804,"display_name":"Cbrady"},"score":0,"creation_date":1675963344,"post_id":75400736,"comment_id":133045547,"body_markdown":"In reply to @SedJ601, I followed that link and my columns are setup differently now. However, there is a new problem where my rows are populated for the correct amount of rows that are in the CSV file but the problem is that the rows are populated with the column name values. i.e student number appears in the column then 4 times in the rows below.","body":"In reply to @SedJ601, I followed that link and my columns are setup differently now. However, there is a new problem where my rows are populated for the correct amount of rows that are in the CSV file but the problem is that the rows are populated with the column name values. i.e student number appears in the column then 4 times in the rows below."},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":2,"creation_date":1675963867,"post_id":75400736,"comment_id":133045735,"body_markdown":"How is it not the fix? You need to provide a callback that takes each row model instance (your `StudentCsv` object), and returns an `ObservableValue` wrapping the value to be displayed in the column. Obviously you cannot have a property called &quot;student number&quot;, as that&#39;s not even a valid property name.","body":"How is it not the fix? You need to provide a callback that takes each row model instance (your <code>StudentCsv</code> object), and returns an <code>ObservableValue</code> wrapping the value to be displayed in the column. Obviously you cannot have a property called &quot;student number&quot;, as that&#39;s not even a valid property name."},{"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1675984019,"post_id":75400736,"comment_id":133051025,"body_markdown":"Probable duplicate [populate TableView from student CSV](https://stackoverflow.com/questions/75277201/tableview-doesnt-populate-from-an-arraylist/75277852#75277852).","body":"Probable duplicate <a href=\"https://stackoverflow.com/questions/75277201/tableview-doesnt-populate-from-an-arraylist/75277852#75277852\">populate TableView from student CSV</a>."},{"owner":{"account_id":12884963,"reputation":93,"user_id":9318804,"display_name":"Cbrady"},"score":0,"creation_date":1675987008,"post_id":75400736,"comment_id":133051513,"body_markdown":"I have provided a minimal reproducible example as requested, this was done on another post but since was removed, so can i request that the question be re-reopened?","body":"I have provided a minimal reproducible example as requested, this was done on another post but since was removed, so can i request that the question be re-reopened?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1676012183,"post_id":75400736,"comment_id":133054894,"body_markdown":"You wrote in your [comment](https://stackoverflow.com/questions/75400736/dynamically-add-rows-to-a-table-in-javafx#comment133051513_75400736): _I have provided a minimal reproducible example as requested_ I don&#39;t think you have. I need to be able to copy your code as is (from your question), compile it and run it without changing anything and it will display the behavior that you describe in your question. You have not posted the code of the class that extends class [Application](https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html).","body":"You wrote in your <a href=\"https://stackoverflow.com/questions/75400736/dynamically-add-rows-to-a-table-in-javafx#comment133051513_75400736\">comment</a>: <i>I have provided a minimal reproducible example as requested</i> I don&#39;t think you have. I need to be able to copy your code as is (from your question), compile it and run it without changing anything and it will display the behavior that you describe in your question. You have not posted the code of the class that extends class <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">Application</a>."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1676012380,"post_id":75400736,"comment_id":133054941,"body_markdown":"Continuing from my previous [comment](https://stackoverflow.com/questions/75400736/dynamically-add-rows-to-a-table-in-javafx#comment133054894_75400736): It appears class `tableViewTest` is your FXML controller class but you did not post the FXML.","body":"Continuing from my previous <a href=\"https://stackoverflow.com/questions/75400736/dynamically-add-rows-to-a-table-in-javafx#comment133054894_75400736\">comment</a>: It appears class <code>tableViewTest</code> is your FXML controller class but you did not post the FXML."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":2,"creation_date":1676012592,"post_id":75400736,"comment_id":133054986,"body_markdown":"Your problem is the parameter you are passing to `setCellValueFactory`. You are returning the `StudentCsv` object and not one of its attributes. And the result you are seeing is probably because class `StudentCsv` does not override method [toString](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()).","body":"Your problem is the parameter you are passing to <code>setCellValueFactory</code>. You are returning the <code>StudentCsv</code> object and not one of its attributes. And the result you are seeing is probably because class <code>StudentCsv</code> does not override method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()\" rel=\"nofollow noreferrer\">toString</a>."},{"owner":{"account_id":12884963,"reputation":93,"user_id":9318804,"display_name":"Cbrady"},"score":0,"creation_date":1676027128,"post_id":75400736,"comment_id":133058941,"body_markdown":"the fxml file is just a table with an fxid of tableView I didn’t think this needed provided. Is there any recommended fix for this problem?","body":"the fxml file is just a table with an fxid of tableView I didn’t think this needed provided. Is there any recommended fix for this problem?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1676027706,"post_id":75400736,"comment_id":133059122,"body_markdown":"repeating the previous comment by @Abra _You are returning the StudentCsv object and not one of its attributes_ - that __is__ the answer to the string representation in the cell. Please work through a tutorial on how to use TableView. And regarding: _the fxml file is just a table with an fxid of tableView I didn’t think this needed provided_ well, then it&#39;s not a [mcve] but just a code snippet, useless for reproducing the problem without change (as it has to be, and already mentioned in several comments ;)","body":"repeating the previous comment by @Abra <i>You are returning the StudentCsv object and not one of its attributes</i> - that <b>is</b> the answer to the string representation in the cell. Please work through a tutorial on how to use TableView. And regarding: <i>the fxml file is just a table with an fxid of tableView I didn’t think this needed provided</i> well, then it&#39;s not a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> but just a code snippet, useless for reproducing the problem without change (as it has to be, and already mentioned in several comments ;)"},{"owner":{"account_id":12884963,"reputation":93,"user_id":9318804,"display_name":"Cbrady"},"score":0,"creation_date":1676027896,"post_id":75400736,"comment_id":133059165,"body_markdown":"In a previous post I was told by a member of stack overflow that fxml wouldnt be needed. I have now edited it so that everything is in.","body":"In a previous post I was told by a member of stack overflow that fxml wouldnt be needed. I have now edited it so that everything is in."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676027905,"post_id":75400736,"comment_id":133059169,"body_markdown":".. and start fixing those naming violations - they hurt the eye ;)","body":".. and start fixing those naming violations - they hurt the eye ;)"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1676028055,"post_id":75400736,"comment_id":133059208,"body_markdown":"fine, thanks for the edit :) but then, @Abra was kind enough to wade through your code  and spotted the error with a keen eye, fix it and be happy. Make sure to read and understand the javadoc of CellDataFeatures (== type of param given to the factory)","body":"fine, thanks for the edit :) but then, @Abra was kind enough to wade through your code  and spotted the error with a keen eye, fix it and be happy. Make sure to read and understand the javadoc of CellDataFeatures (== type of param given to the factory)"},{"owner":{"account_id":12884963,"reputation":93,"user_id":9318804,"display_name":"Cbrady"},"score":0,"creation_date":1676028205,"post_id":75400736,"comment_id":133059262,"body_markdown":"I am happy @Abra has spotted where I&#39;m going wrong, but not sure why you have to be constantly commenting condescending comments on my posts lol. I&#39;m happy for someone to tell me where I&#39;m going wrong or where my post lacks depth. Just no need for the condescending remarks. Thanks.","body":"I am happy @Abra has spotted where I&#39;m going wrong, but not sure why you have to be constantly commenting condescending comments on my posts lol. I&#39;m happy for someone to tell me where I&#39;m going wrong or where my post lacks depth. Just no need for the condescending remarks. Thanks."}],"answers":[{"comments":[{"owner":{"account_id":12884963,"reputation":93,"user_id":9318804,"display_name":"Cbrady"},"score":0,"creation_date":1676032080,"post_id":75410896,"comment_id":133060369,"body_markdown":"Thanks James, I think that would work as well. I managed to fix the problem also but in a different way. Earlier it wouldn&#39;t allow me to post an answer so I will post mine also. I appreciate you taking the time to help out :)","body":"Thanks James, I think that would work as well. I managed to fix the problem also but in a different way. Earlier it wouldn&#39;t allow me to post an answer so I will post mine also. I appreciate you taking the time to help out :)"}],"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676038613,"creation_date":1676030703,"answer_id":75410896,"question_id":75400736,"body_markdown":"The cell value factory for a column is a function which takes the object representing a row (a `StudentCsv`, which is a terrible name for the class) and returns an `ObservableValue` containing the value to be displayed in that column for that row (i.e. the value in each cell in the column). The function is applied to each visible row in the table to determine what to display in the cells in the column.\r\n\r\nSo your cell value factory should be a function that takes a `Student` and returns an `ObservableValue` wrapping the value for that column. The first column&#39;s cell value factory should return an `ObservableValue` containing the `studentNumber`. The remaining columns cell value factories should return an `ObservableNumber` containing the respective `mark`. \r\n\r\nSo you need to start by having accessor methods for `studentNumber` and `marks`. At a minimum:\r\n\r\n    public class Student {\r\n        private int[] marks;\r\n        private String studentNumber;\r\n        public Student(String studentNumber, int[] marks) {\r\n            this.studentNumber=studentNumber;\r\n            this.marks = marks;\r\n        }\r\n\r\n        public String getStudentNumber() {\r\n            return studentNumber;\r\n        }\r\n\r\n        public int[] getMarks() {\r\n            return marks;\r\n        }\r\n    }\r\n\r\nNow your cell value factories can return appropriate values for each column. I fixed some of the ugly code here. I&#39;m not sure why you have a field called `studentNumber` which is a `String` (and not a numeric type of some kind), but I left it in case there is some good reason for it.\r\n\r\n    public class TableViewTest implements Initializable {\r\n        @FXML\r\n        private TableView&lt;Student&gt; tableView;\r\n        @Override\r\n        public void initialize(URL url, ResourceBundle resourceBundle) {\r\n            ArrayList&lt;Student&gt; testStudents = new ArrayList&lt;&gt;();\r\n    \r\n            Student student1 = new Student(&quot;40236387&quot;, new int[]{2, 3, 4, 5, 6});\r\n            Student student2 = new Student(&quot;40236388&quot;, new int[]{7, 8, 9, 10, 11});\r\n            Student student3 = new Student(&quot;40236388&quot;, new int[]{12, 13, 14, 15, 16});\r\n    \r\n            testStudents.add(student1);\r\n            testStudents.add(student2);\r\n            testStudents.add(student3);\r\n    \r\n            String[] columnNames = {&quot;Student number&quot;, &quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;, &quot;q4&quot;, &quot;q5&quot;};\r\n    \r\n            ObservableList&lt;Student&gt; studentData = FXCollections.observableArrayList();\r\n            studentData.addAll(testStudents);\r\n            tableView.setItems(studentData);\r\n    \r\n            TableColumn&lt;Student, String&gt; studentNumberColumn = new TableColumn&lt;&gt;(&quot;Student number&quot;);\r\n            studentNumberColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getStudentNumber()));\r\n            tableView.getColumns().add(studentNumberColumn);\r\n    \r\n            for (int i = 1; i &lt; columnNames.length; i++) {\r\n                TableColumn&lt;Student, Number&gt; column = new TableColumn&lt;&gt;(columnNames[i]);\r\n                final int marksIndex = i-1 ;\r\n                column.setCellValueFactory(cellData -&gt;\r\n                        new SimpleIntegerProperty&lt;&gt;(cellData.getValue().getMarks()[marksIndex]));\r\n                column.setPrefWidth(75);\r\n                tableView.getColumns().add(column);\r\n            }\r\n        }\r\n    }\r\n\r\nThis is not tested, so there may be typos.","title":"Dynamically add Rows to a table in JavaFX","body":"<p>The cell value factory for a column is a function which takes the object representing a row (a <code>StudentCsv</code>, which is a terrible name for the class) and returns an <code>ObservableValue</code> containing the value to be displayed in that column for that row (i.e. the value in each cell in the column). The function is applied to each visible row in the table to determine what to display in the cells in the column.</p>\n<p>So your cell value factory should be a function that takes a <code>Student</code> and returns an <code>ObservableValue</code> wrapping the value for that column. The first column's cell value factory should return an <code>ObservableValue</code> containing the <code>studentNumber</code>. The remaining columns cell value factories should return an <code>ObservableNumber</code> containing the respective <code>mark</code>.</p>\n<p>So you need to start by having accessor methods for <code>studentNumber</code> and <code>marks</code>. At a minimum:</p>\n<pre><code>public class Student {\n    private int[] marks;\n    private String studentNumber;\n    public Student(String studentNumber, int[] marks) {\n        this.studentNumber=studentNumber;\n        this.marks = marks;\n    }\n\n    public String getStudentNumber() {\n        return studentNumber;\n    }\n\n    public int[] getMarks() {\n        return marks;\n    }\n}\n</code></pre>\n<p>Now your cell value factories can return appropriate values for each column. I fixed some of the ugly code here. I'm not sure why you have a field called <code>studentNumber</code> which is a <code>String</code> (and not a numeric type of some kind), but I left it in case there is some good reason for it.</p>\n<pre><code>public class TableViewTest implements Initializable {\n    @FXML\n    private TableView&lt;Student&gt; tableView;\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        ArrayList&lt;Student&gt; testStudents = new ArrayList&lt;&gt;();\n\n        Student student1 = new Student(&quot;40236387&quot;, new int[]{2, 3, 4, 5, 6});\n        Student student2 = new Student(&quot;40236388&quot;, new int[]{7, 8, 9, 10, 11});\n        Student student3 = new Student(&quot;40236388&quot;, new int[]{12, 13, 14, 15, 16});\n\n        testStudents.add(student1);\n        testStudents.add(student2);\n        testStudents.add(student3);\n\n        String[] columnNames = {&quot;Student number&quot;, &quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;, &quot;q4&quot;, &quot;q5&quot;};\n\n        ObservableList&lt;Student&gt; studentData = FXCollections.observableArrayList();\n        studentData.addAll(testStudents);\n        tableView.setItems(studentData);\n\n        TableColumn&lt;Student, String&gt; studentNumberColumn = new TableColumn&lt;&gt;(&quot;Student number&quot;);\n        studentNumberColumn.setCellValueFactory(cellData -&gt; new SimpleStringProperty(cellData.getValue().getStudentNumber()));\n        tableView.getColumns().add(studentNumberColumn);\n\n        for (int i = 1; i &lt; columnNames.length; i++) {\n            TableColumn&lt;Student, Number&gt; column = new TableColumn&lt;&gt;(columnNames[i]);\n            final int marksIndex = i-1 ;\n            column.setCellValueFactory(cellData -&gt;\n                    new SimpleIntegerProperty&lt;&gt;(cellData.getValue().getMarks()[marksIndex]));\n            column.setPrefWidth(75);\n            tableView.getColumns().add(column);\n        }\n    }\n}\n</code></pre>\n<p>This is not tested, so there may be typos.</p>\n"}],"owner":{"account_id":12884963,"reputation":93,"user_id":9318804,"display_name":"Cbrady"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75410896,"answer_count":1,"score":0,"last_activity_date":1676038613,"creation_date":1675956194,"question_id":75400736,"body_markdown":"I am trying to read from a CSV file in one class, which loops through the contents of the CSV file which takes the form of Student Number in column 1 and Question 1 to Question xAmount in the columns and creates an object from the rows in the CSV file. In another class, I am creating a table and trying to dynamically populate the table using the contents of the CSV file. \r\n\r\nSo far I have set it up so that the columns dynamically populate based on the headers in the CSV file, however whenever it comes to the rows it throws an error: &quot;WARNING: Can not retrieve property &#39;student number&#39; in PropertyValueFactory: javafx.scene.control.cell.PropertyValueFactory@76afc271 with provided class type: class java.lang.String&quot; and does this for each column in the CSV file. Is there anyway I can dynamically populate the rows?\r\n\r\nHere is the code for the StudentCsv Class:\r\n\r\n```\r\npublic class StudentCsv {\r\n    private int[] marks;\r\n    private String studentNumber;\r\n    public StudentCsv(String studentNumber, int[] marks) {\r\n        this.studentNumber=studentNumber;\r\n        this.marks = marks;\r\n    }\r\n}\r\n```\r\n\r\nAnd here is the code for the tableView class:\r\n\r\n```\r\npublic class tableViewTest implements Initializable {\r\n    @FXML\r\n    private TableView tableView;\r\n    @Override\r\n    public void initialize(URL url, ResourceBundle resourceBundle) {\r\n        ArrayList&lt;StudentCsv&gt; testStudents = new ArrayList&lt;&gt;();\r\n\r\n        StudentCsv studentCsv1 = new StudentCsv(&quot;40236387&quot;, new int[]{2, 3, 4, 5, 6});\r\n        StudentCsv studentCsv2 = new StudentCsv(&quot;40236388&quot;, new int[]{7, 8, 9, 10, 11});\r\n        StudentCsv studentCsv3 = new StudentCsv(&quot;40236388&quot;, new int[]{12, 13, 14, 15, 16});\r\n\r\n        testStudents.add(studentCsv1);\r\n        testStudents.add(studentCsv2);\r\n        testStudents.add(studentCsv3);\r\n\r\n        String[] columnNames = {&quot;Student number&quot;, &quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;, &quot;q4&quot;, &quot;q5&quot;};\r\n\r\n        ObservableList&lt;StudentCsv&gt; studentData = FXCollections.observableArrayList();\r\n        for (int i = 0; i &lt; testStudents.size(); i++) {\r\n            studentData.add(testStudents.get(i));\r\n        }\r\n        tableView.setItems(studentData);\r\n        for (int i = 0; i &lt; columnNames.length; i++) {\r\n            TableColumn&lt;StudentCsv, String&gt; column = new TableColumn&lt;&gt;(columnNames[i]);\r\n            column.setCellValueFactory(param -&gt;\r\n                    new ReadOnlyObjectWrapper&lt;&gt;(param.getValue()).asString());\r\n            column.setPrefWidth(75);\r\n            tableView.getColumns().add(column);\r\n        }\r\n    }\r\n}\r\n```\r\n```\r\npublic class Main extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        try{\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;tableViewTest.fxml&quot;));\r\n            Scene scene = new Scene(root);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }catch (Exception e){\r\n            e.printStackTrace();\r\n        }\r\n\r\n    }\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.TableView?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n\r\n&lt;AnchorPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.testfx.tableViewTest&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;TableView fx:id=&quot;tableView&quot; layoutX=&quot;43.0&quot; layoutY=&quot;76.0&quot; prefHeight=&quot;286.0&quot; prefWidth=&quot;505.0&quot; /&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\nWhen the table populates it populates like [![this][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/k91lL.png","title":"Dynamically add Rows to a table in JavaFX","body":"<p>I am trying to read from a CSV file in one class, which loops through the contents of the CSV file which takes the form of Student Number in column 1 and Question 1 to Question xAmount in the columns and creates an object from the rows in the CSV file. In another class, I am creating a table and trying to dynamically populate the table using the contents of the CSV file.</p>\n<p>So far I have set it up so that the columns dynamically populate based on the headers in the CSV file, however whenever it comes to the rows it throws an error: &quot;WARNING: Can not retrieve property 'student number' in PropertyValueFactory: javafx.scene.control.cell.PropertyValueFactory@76afc271 with provided class type: class java.lang.String&quot; and does this for each column in the CSV file. Is there anyway I can dynamically populate the rows?</p>\n<p>Here is the code for the StudentCsv Class:</p>\n<pre><code>public class StudentCsv {\n    private int[] marks;\n    private String studentNumber;\n    public StudentCsv(String studentNumber, int[] marks) {\n        this.studentNumber=studentNumber;\n        this.marks = marks;\n    }\n}\n</code></pre>\n<p>And here is the code for the tableView class:</p>\n<pre><code>public class tableViewTest implements Initializable {\n    @FXML\n    private TableView tableView;\n    @Override\n    public void initialize(URL url, ResourceBundle resourceBundle) {\n        ArrayList&lt;StudentCsv&gt; testStudents = new ArrayList&lt;&gt;();\n\n        StudentCsv studentCsv1 = new StudentCsv(&quot;40236387&quot;, new int[]{2, 3, 4, 5, 6});\n        StudentCsv studentCsv2 = new StudentCsv(&quot;40236388&quot;, new int[]{7, 8, 9, 10, 11});\n        StudentCsv studentCsv3 = new StudentCsv(&quot;40236388&quot;, new int[]{12, 13, 14, 15, 16});\n\n        testStudents.add(studentCsv1);\n        testStudents.add(studentCsv2);\n        testStudents.add(studentCsv3);\n\n        String[] columnNames = {&quot;Student number&quot;, &quot;q1&quot;, &quot;q2&quot;, &quot;q3&quot;, &quot;q4&quot;, &quot;q5&quot;};\n\n        ObservableList&lt;StudentCsv&gt; studentData = FXCollections.observableArrayList();\n        for (int i = 0; i &lt; testStudents.size(); i++) {\n            studentData.add(testStudents.get(i));\n        }\n        tableView.setItems(studentData);\n        for (int i = 0; i &lt; columnNames.length; i++) {\n            TableColumn&lt;StudentCsv, String&gt; column = new TableColumn&lt;&gt;(columnNames[i]);\n            column.setCellValueFactory(param -&gt;\n                    new ReadOnlyObjectWrapper&lt;&gt;(param.getValue()).asString());\n            column.setPrefWidth(75);\n            tableView.getColumns().add(column);\n        }\n    }\n}\n</code></pre>\n<pre><code>public class Main extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        try{\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;tableViewTest.fxml&quot;));\n            Scene scene = new Scene(root);\n            stage.setScene(scene);\n            stage.show();\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n\n    }\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.TableView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n\n&lt;AnchorPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;com.example.testfx.tableViewTest&quot;&gt;\n   &lt;children&gt;\n      &lt;TableView fx:id=&quot;tableView&quot; layoutX=&quot;43.0&quot; layoutY=&quot;76.0&quot; prefHeight=&quot;286.0&quot; prefWidth=&quot;505.0&quot; /&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>When the table populates it populates like <a href=\"https://i.stack.imgur.com/k91lL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k91lL.png\" alt=\"this\" /></a></p>\n"},{"tags":["java","selenium","jmeter","webdriver"],"answers":[{"comments":[{"owner":{"account_id":26411307,"reputation":13,"user_id":20060369,"display_name":"akcenurt"},"score":0,"creation_date":1676273921,"post_id":75412343,"comment_id":133096833,"body_markdown":"I really appreciate your answers, Dmitri, they always direct me towards some new point of view, thank you!","body":"I really appreciate your answers, Dmitri, they always direct me towards some new point of view, thank you!"},{"owner":{"account_id":26411307,"reputation":13,"user_id":20060369,"display_name":"akcenurt"},"score":0,"creation_date":1676286473,"post_id":75412343,"comment_id":133100072,"body_markdown":"I resolved the issue with this (it is basically Dmitri&#39;s solution but with more details: https://stackoverflow.com/questions/70835911/web-automation-login-with-certificate-chrome-python ). It perfectly works, when I launch my script in Jmeter GUI with default ChromeDriverConfig setting (so in tab Driver all is unchecked), but when I try to launch my script in headless mode without launching Chrome gui (so in ChromeDriverConfig in Driver tab &quot;Headless&quot; is checked) my script fails on the same step. When it is headless, it is not able to choose certificate automatically. Is there some solution?","body":"I resolved the issue with this (it is basically Dmitri&#39;s solution but with more details: <a href=\"https://stackoverflow.com/questions/70835911/web-automation-login-with-certificate-chrome-python\" title=\"web automation login with certificate chrome python\">stackoverflow.com/questions/70835911/&hellip;</a> ). It perfectly works, when I launch my script in Jmeter GUI with default ChromeDriverConfig setting (so in tab Driver all is unchecked), but when I try to launch my script in headless mode without launching Chrome gui (so in ChromeDriverConfig in Driver tab &quot;Headless&quot; is checked) my script fails on the same step. When it is headless, it is not able to choose certificate automatically. Is there some solution?"}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676038603,"creation_date":1676038603,"answer_id":75412343,"question_id":75411627,"body_markdown":"What you set in JMeter&#39;s &quot;system.properties&quot; file only affects the [client certificates for HTTP Request samplers.][1] \r\n\r\n[WebDriver Sampler][2] is a different beast, it uses [Selenium][3] libraries to automate the real browser hence you need to follow your browser documentation to learn how to automate the certificate selection process.\r\n\r\nFor example for \r\n - [Chrome on Windows it&#39;s in registry][4]\r\n - for [Chrome on Linux/Unix][5] it&#39;s under `/etc/chromium/policies/managed` folder   \r\n\r\nMore information: [AutoSelectCertificateForUrls][6]\r\n\r\n\r\n  [1]: https://www.blazemeter.com/blog/client-side-performance-testing-using-jmeter\r\n  [2]: https://jmeter-plugins.org/wiki/WebDriverSampler/\r\n  [3]: https://www.selenium.dev/\r\n  [4]: https://admx.help/?Category=Chrome&amp;Policy=Google.Policies.Chrome::AutoSelectCertificateForUrls\r\n  [5]: https://www.chromium.org/administrators/linux-quick-start/\r\n  [6]: https://chromeenterprise.google/policies/?policy=AutoSelectCertificateForUrls","title":"Certificate authentization while using WebSampler in JMeter","body":"<p>What you set in JMeter's &quot;system.properties&quot; file only affects the <a href=\"https://www.blazemeter.com/blog/client-side-performance-testing-using-jmeter\" rel=\"nofollow noreferrer\">client certificates for HTTP Request samplers.</a></p>\n<p><a href=\"https://jmeter-plugins.org/wiki/WebDriverSampler/\" rel=\"nofollow noreferrer\">WebDriver Sampler</a> is a different beast, it uses <a href=\"https://www.selenium.dev/\" rel=\"nofollow noreferrer\">Selenium</a> libraries to automate the real browser hence you need to follow your browser documentation to learn how to automate the certificate selection process.</p>\n<p>For example for</p>\n<ul>\n<li><a href=\"https://admx.help/?Category=Chrome&amp;Policy=Google.Policies.Chrome::AutoSelectCertificateForUrls\" rel=\"nofollow noreferrer\">Chrome on Windows it's in registry</a></li>\n<li>for <a href=\"https://www.chromium.org/administrators/linux-quick-start/\" rel=\"nofollow noreferrer\">Chrome on Linux/Unix</a> it's under <code>/etc/chromium/policies/managed</code> folder</li>\n</ul>\n<p>More information: <a href=\"https://chromeenterprise.google/policies/?policy=AutoSelectCertificateForUrls\" rel=\"nofollow noreferrer\">AutoSelectCertificateForUrls</a></p>\n"}],"owner":{"account_id":26411307,"reputation":13,"user_id":20060369,"display_name":"akcenurt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676038603,"creation_date":1676034828,"question_id":75411627,"body_markdown":"I am trying to handle the following issue while trying to automate login process with JMeter WebDriver Sampler to our web app, which requests an authoriaztion certificate for a user to log in.\r\nAfter filling credentials and clicking the Login button, the following window is called:\r\n[dialog window](https://i.stack.imgur.com/eXjxA.png). I assume this is an OS window that cant be aimed by Selenium/WebDriver Sampler script - or is it possilbe?\r\nEDIT: I found some solution e.g. https://sqa.stackexchange.com/questions/7640/how-to-select-security-certificate-from-security-dialog bit I am kind of afraid of implement the recommended code to the script - isnt there another solution then via Selenium script?\r\n\r\n\r\nI tried to set a certificate in jmeter&#39;s system.properties file:\r\n[system.properties keystore setting](https://i.stack.imgur.com/Qlotr.png).\r\nI supposed it makes SOMETHING, e.g. some error after launching script, but it ends on the exactly same step - dialog window with Certificate choosing offer. So I assume this is wrong place to set user authentication certificate.\r\nHow is it possible to handle this kind of login process? I guess it is necessary to set a default certificate that is paired with the user&#39;s credentials I am sending in the previous step in my script, but I dont know where.","title":"Certificate authentization while using WebSampler in JMeter","body":"<p>I am trying to handle the following issue while trying to automate login process with JMeter WebDriver Sampler to our web app, which requests an authoriaztion certificate for a user to log in.\nAfter filling credentials and clicking the Login button, the following window is called:\n<a href=\"https://i.stack.imgur.com/eXjxA.png\" rel=\"nofollow noreferrer\">dialog window</a>. I assume this is an OS window that cant be aimed by Selenium/WebDriver Sampler script - or is it possilbe?\nEDIT: I found some solution e.g. <a href=\"https://sqa.stackexchange.com/questions/7640/how-to-select-security-certificate-from-security-dialog\">https://sqa.stackexchange.com/questions/7640/how-to-select-security-certificate-from-security-dialog</a> bit I am kind of afraid of implement the recommended code to the script - isnt there another solution then via Selenium script?</p>\n<p>I tried to set a certificate in jmeter's system.properties file:\n<a href=\"https://i.stack.imgur.com/Qlotr.png\" rel=\"nofollow noreferrer\">system.properties keystore setting</a>.\nI supposed it makes SOMETHING, e.g. some error after launching script, but it ends on the exactly same step - dialog window with Certificate choosing offer. So I assume this is wrong place to set user authentication certificate.\nHow is it possible to handle this kind of login process? I guess it is necessary to set a default certificate that is paired with the user's credentials I am sending in the previous step in my script, but I dont know where.</p>\n"},{"tags":["java","spring","spring-boot","cron"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1675105723,"post_id":75261925,"comment_id":132853156,"body_markdown":"Does the dynamic scheduler need to use a cron or is a simple updatable  frequency ok?","body":"Does the dynamic scheduler need to use a cron or is a simple updatable  frequency ok?"},{"owner":{"account_id":12275501,"reputation":367,"user_id":8959442,"accept_rate":75,"display_name":"R.S."},"score":0,"creation_date":1675182077,"post_id":75261925,"comment_id":132871543,"body_markdown":"It needs a cron. I solved this using SchedulingConfigurer class.","body":"It needs a cron. I solved this using SchedulingConfigurer class."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1675182262,"post_id":75261925,"comment_id":132871607,"body_markdown":"How about posting the solution as an answer and accepting it? This is a problem others will have.","body":"How about posting the solution as an answer and accepting it? This is a problem others will have."}],"answers":[{"tags":[],"owner":{"account_id":4646986,"reputation":304,"user_id":3764947,"display_name":"CrazedCoder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674844168,"creation_date":1674844168,"answer_id":75262039,"question_id":75261925,"body_markdown":"You could try doing this using your own Runnable and a [ScheduledExecutorService][1] Which starts a thread to do what you are asking once every hour. \r\n\r\n    private final ScheduledExecutorService scheduler =\r\n         Executors.newScheduledThreadPool(1);\r\n    \r\n    public void chronJob Runner() {\r\n         final Runnable chronJobWorker = new Runnable() {\r\n           public void run() { //Request logic }\r\n         };\r\n    scheduler.scheduleAtFixedRate(beeper, 1, 60, TimeUnit.MINUTES);\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\r\n\r\nNot sure if this is the best way of doing it, but is certainly one possible way of completing this task at a scheduled rate.","title":"Spring boot: @Scheduler that updates cron espression without restarting","body":"<p>You could try doing this using your own Runnable and a <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a> Which starts a thread to do what you are asking once every hour.</p>\n<pre><code>private final ScheduledExecutorService scheduler =\n     Executors.newScheduledThreadPool(1);\n\npublic void chronJob Runner() {\n     final Runnable chronJobWorker = new Runnable() {\n       public void run() { //Request logic }\n     };\nscheduler.scheduleAtFixedRate(beeper, 1, 60, TimeUnit.MINUTES);\n</code></pre>\n<p>Not sure if this is the best way of doing it, but is certainly one possible way of completing this task at a scheduled rate.</p>\n"},{"comments":[{"owner":{"account_id":3482752,"reputation":703,"user_id":2914366,"display_name":"lafual"},"score":0,"creation_date":1681473443,"post_id":75412281,"comment_id":134065998,"body_markdown":"Be aware that nextExecutionDate will only run at the next expected time. So if you were to change your cron from (for example) monthly to daily, you code would only pick up the change on the next month.  If you are only expecting changes to minutes or seconds then this is not so relevant.","body":"Be aware that nextExecutionDate will only run at the next expected time. So if you were to change your cron from (for example) monthly to daily, you code would only pick up the change on the next month.  If you are only expecting changes to minutes or seconds then this is not so relevant."}],"tags":[],"owner":{"account_id":12275501,"reputation":367,"user_id":8959442,"accept_rate":75,"display_name":"R.S."},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676038539,"creation_date":1676038226,"answer_id":75412281,"question_id":75261925,"body_markdown":"Solved this using SchedulingConfigurer, here&#39;s a sample:\r\n    \r\n    @Configuration\r\n    @EnableScheduling\r\n    public class BatchConfig implements SchedulingConfigurer {\r\n    \r\n      \r\n    \r\n        @Override\r\n        public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\r\n            taskRegistrar.addTriggerTask(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n    \r\n    \r\n                    //run your code here\r\n                }\r\n            }, new Trigger() {\r\n                @Override\r\n                public Date nextExecutionTime(TriggerContext triggerContext) {\r\n                 //extract cron from database\r\n    \r\n                    \r\n    \r\n                    CronTrigger trigger = new CronTrigger(new CronTrigger(//insert cron that you got from database));\r\n                    return trigger.nextExecutionTime(triggerContext);\r\n                }\r\n            });\r\n        }\r\n    }","title":"Spring boot: @Scheduler that updates cron espression without restarting","body":"<p>Solved this using SchedulingConfigurer, here's a sample:</p>\n<pre><code>@Configuration\n@EnableScheduling\npublic class BatchConfig implements SchedulingConfigurer {\n\n  \n\n    @Override\n    public void configureTasks(ScheduledTaskRegistrar taskRegistrar) {\n        taskRegistrar.addTriggerTask(new Runnable() {\n            @Override\n            public void run() {\n\n\n                //run your code here\n            }\n        }, new Trigger() {\n            @Override\n            public Date nextExecutionTime(TriggerContext triggerContext) {\n             //extract cron from database\n\n                \n\n                CronTrigger trigger = new CronTrigger(new CronTrigger(//insert cron that you got from database));\n                return trigger.nextExecutionTime(triggerContext);\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":12275501,"reputation":367,"user_id":8959442,"accept_rate":75,"display_name":"R.S."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75412281,"answer_count":2,"score":1,"last_activity_date":1676038539,"creation_date":1674843524,"question_id":75261925,"body_markdown":"I Need to schedule a task on Spring Boot that reads a cron espression from the database. I did this using the @Scheduled annotation and reading a property inside a database, but my client is asking to be able to update the cron expression in the database and having it affect the scheduled without restarting the application. I know this isnt possible with the @Scheduled annotation, but would It be possible to schedule another task that extracts the cron expression every hour, and then feed the updated expression to the actual scheduled that executes the task? Basically updating the variable that Is Fed to the second scheduled. If this isnt possible, do you know any alternative ways to achieve this without using the @Scheduled annotation? Thank you.\r\n","title":"Spring boot: @Scheduler that updates cron espression without restarting","body":"<p>I Need to schedule a task on Spring Boot that reads a cron espression from the database. I did this using the @Scheduled annotation and reading a property inside a database, but my client is asking to be able to update the cron expression in the database and having it affect the scheduled without restarting the application. I know this isnt possible with the @Scheduled annotation, but would It be possible to schedule another task that extracts the cron expression every hour, and then feed the updated expression to the actual scheduled that executes the task? Basically updating the variable that Is Fed to the second scheduled. If this isnt possible, do you know any alternative ways to achieve this without using the @Scheduled annotation? Thank you.</p>\n"},{"tags":["java","android","android-mediaplayer"],"owner":{"account_id":6401533,"reputation":61,"user_id":4964009,"display_name":"Stefan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676038007,"creation_date":1676038007,"question_id":75412241,"body_markdown":"I use MediaRouter to connect to remote players.Not using Google Cast. I have problem to customize what users see on e.g. TV. ,mainly text : Default Media Receiver.  \r\n\r\nHOW CAN I CHANGE IT ?\r\n\r\nHere is code I have:\r\nIn PlayerActivity (MediaRouter Callback, OnCreate method and DiscoveryFragment class):\r\n\r\n    public static androidx.mediarouter.media.MediaRouter mMediaRouter;\r\n    \r\n    private final androidx.mediarouter.media.MediaRouter.Callback mMediaRouterCB = new androidx.mediarouter.media.MediaRouter.Callback() {\r\n    @Override\r\n            public void onRouteSelected(@NonNull androidx.mediarouter.media.MediaRouter router, @NonNull androidx.mediarouter.media.MediaRouter.RouteInfo route, int reason) {\r\n                super.onRouteSelected(router, route, reason);\r\n         \r\n                if (route.supportsControlCategory(MediaControlIntent.CATEGORY_REMOTE_PLAYBACK)){\r\n                    mRoute = route;\r\n    \r\n                    isSetRemotePlayer = true;\r\n                    if (route.isDefault()){\r\n                        isSetRemotePlayer = false;\r\n                    }\r\n                    \r\n                    mMediaRouter.getInstance(PlayerActivity.this);\r\n                    mMediaRouter.addProvider(new SampleMediaRouteProvider(PlayerActivity.this));\r\n                }\r\n            }\r\n    }\r\n    \r\n    \r\n    @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n           // Get the media router service.\r\n            mMediaRouter = androidx.mediarouter.media.MediaRouter.getInstance(this);\r\n            mMediaRouter.setRouterParams(new MediaRouterParams.Builder().setTransferToLocalEnabled(true).build());\r\n    \r\n    \r\n            // Create a route selector for the type of routes that we care about.\r\n            mSelector =\r\n                    new MediaRouteSelector.Builder().addControlCategory(MediaControlIntent\r\n                            .CATEGORY_REMOTE_PLAYBACK).addControlCategory(MediaControlIntent\r\n                            .CATEGORY_LIVE_AUDIO).addControlCategory(SampleMediaRouteProvider.CATEGORY_SAMPLE_ROUTE)\r\n                            .build();\r\n    \r\n    \r\n            // Add a fragment to take care of media route discovery.\r\n            FragmentManager fm =  getSupportFragmentManager();\r\n            fs = new ForegroundService();\r\n            DiscoveryFragment fragment =\r\n                    (PlayerActivity.DiscoveryFragment) fm.findFragmentByTag(DISCOVERY_FRAGMENT_TAG);\r\n            if (fragment == null) {\r\n                fragment = new DiscoveryFragment();\r\n                fragment.setCallback(mMediaRouterCB);\r\n                fragment.setRouteSelector(mSelector);\r\n                fm.beginTransaction().add(fragment, DISCOVERY_FRAGMENT_TAG).commit();\r\n            } else {\r\n                fragment.setCallback(mMediaRouterCB);\r\n                fragment.setRouteSelector(mSelector);\r\n            }\r\n    \r\n    \r\n    }\r\n    \r\n    \r\n    \r\n    \r\n    public static final class DiscoveryFragment extends MediaRouteDiscoveryFragment {\r\n            private static final String TAG = &quot;DiscoveryFragment&quot;;\r\n            private androidx.mediarouter.media.MediaRouter.Callback mCallback;\r\n    \r\n            public DiscoveryFragment() {\r\n                mCallback = null;\r\n            }\r\n    \r\n            public void setCallback(androidx.mediarouter.media.MediaRouter.Callback cb) {\r\n                mCallback = cb;\r\n            }\r\n    \r\n            @Override\r\n            public androidx.mediarouter.media.MediaRouter.Callback onCreateCallback() {\r\n                return mCallback;\r\n            }\r\n    \r\n            @Override\r\n            public int onPrepareCallbackFlags() {\r\n                // Add the CALLBACK_FLAG_UNFILTERED_EVENTS flag to ensure that we will\r\n                // observe and log all route events including those that are for routes\r\n                // that do not match our selector.  This is only for demonstration purposes\r\n                // and should not be needed by most applications.\r\n                return super.onPrepareCallbackFlags() | androidx.mediarouter.media.MediaRouter.CALLBACK_FLAG_UNFILTERED_EVENTS;\r\n            }\r\n        }\r\n\r\nSampleRouteProvider is class provided by android pages(https://developer.android.com/guide/topics/media/mediarouter) and on bottom is Sample (https://github.com/android/media-samples/tree/main/MediaRouter/):\r\nMANY THANKS","title":"How can I change text &quot;Default Media Receiver&quot; on Remote Player","body":"<p>I use MediaRouter to connect to remote players.Not using Google Cast. I have problem to customize what users see on e.g. TV. ,mainly text : Default Media Receiver.</p>\n<p>HOW CAN I CHANGE IT ?</p>\n<p>Here is code I have:\nIn PlayerActivity (MediaRouter Callback, OnCreate method and DiscoveryFragment class):</p>\n<pre><code>public static androidx.mediarouter.media.MediaRouter mMediaRouter;\n\nprivate final androidx.mediarouter.media.MediaRouter.Callback mMediaRouterCB = new androidx.mediarouter.media.MediaRouter.Callback() {\n@Override\n        public void onRouteSelected(@NonNull androidx.mediarouter.media.MediaRouter router, @NonNull androidx.mediarouter.media.MediaRouter.RouteInfo route, int reason) {\n            super.onRouteSelected(router, route, reason);\n     \n            if (route.supportsControlCategory(MediaControlIntent.CATEGORY_REMOTE_PLAYBACK)){\n                mRoute = route;\n\n                isSetRemotePlayer = true;\n                if (route.isDefault()){\n                    isSetRemotePlayer = false;\n                }\n                \n                mMediaRouter.getInstance(PlayerActivity.this);\n                mMediaRouter.addProvider(new SampleMediaRouteProvider(PlayerActivity.this));\n            }\n        }\n}\n\n\n@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n       // Get the media router service.\n        mMediaRouter = androidx.mediarouter.media.MediaRouter.getInstance(this);\n        mMediaRouter.setRouterParams(new MediaRouterParams.Builder().setTransferToLocalEnabled(true).build());\n\n\n        // Create a route selector for the type of routes that we care about.\n        mSelector =\n                new MediaRouteSelector.Builder().addControlCategory(MediaControlIntent\n                        .CATEGORY_REMOTE_PLAYBACK).addControlCategory(MediaControlIntent\n                        .CATEGORY_LIVE_AUDIO).addControlCategory(SampleMediaRouteProvider.CATEGORY_SAMPLE_ROUTE)\n                        .build();\n\n\n        // Add a fragment to take care of media route discovery.\n        FragmentManager fm =  getSupportFragmentManager();\n        fs = new ForegroundService();\n        DiscoveryFragment fragment =\n                (PlayerActivity.DiscoveryFragment) fm.findFragmentByTag(DISCOVERY_FRAGMENT_TAG);\n        if (fragment == null) {\n            fragment = new DiscoveryFragment();\n            fragment.setCallback(mMediaRouterCB);\n            fragment.setRouteSelector(mSelector);\n            fm.beginTransaction().add(fragment, DISCOVERY_FRAGMENT_TAG).commit();\n        } else {\n            fragment.setCallback(mMediaRouterCB);\n            fragment.setRouteSelector(mSelector);\n        }\n\n\n}\n\n\n\n\npublic static final class DiscoveryFragment extends MediaRouteDiscoveryFragment {\n        private static final String TAG = &quot;DiscoveryFragment&quot;;\n        private androidx.mediarouter.media.MediaRouter.Callback mCallback;\n\n        public DiscoveryFragment() {\n            mCallback = null;\n        }\n\n        public void setCallback(androidx.mediarouter.media.MediaRouter.Callback cb) {\n            mCallback = cb;\n        }\n\n        @Override\n        public androidx.mediarouter.media.MediaRouter.Callback onCreateCallback() {\n            return mCallback;\n        }\n\n        @Override\n        public int onPrepareCallbackFlags() {\n            // Add the CALLBACK_FLAG_UNFILTERED_EVENTS flag to ensure that we will\n            // observe and log all route events including those that are for routes\n            // that do not match our selector.  This is only for demonstration purposes\n            // and should not be needed by most applications.\n            return super.onPrepareCallbackFlags() | androidx.mediarouter.media.MediaRouter.CALLBACK_FLAG_UNFILTERED_EVENTS;\n        }\n    }\n</code></pre>\n<p>SampleRouteProvider is class provided by android pages(<a href=\"https://developer.android.com/guide/topics/media/mediarouter\" rel=\"nofollow noreferrer\">https://developer.android.com/guide/topics/media/mediarouter</a>) and on bottom is Sample (<a href=\"https://github.com/android/media-samples/tree/main/MediaRouter/\" rel=\"nofollow noreferrer\">https://github.com/android/media-samples/tree/main/MediaRouter/</a>):\nMANY THANKS</p>\n"},{"tags":["java","concurrency","synchronized","java-threads"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1676039650,"post_id":75412042,"comment_id":133062794,"body_markdown":"Re, &quot;I am trying to solve the problem using `synchronized`.&quot; That&#39;s a mistake. `synchronized` should be used for one thing only: Use it to prevent different threads from accessing the same shared data at the same time. There are numerous other ways\\* to make one thread wait for another thread to _do_ something. The way to make thread A wait for thread B to _terminate_ is to have thread A call `B.join()`. \\[\\* See the classes in the `java.util.concurrent` package for some examples.\\]","body":"Re, &quot;I am trying to solve the problem using <code>synchronized</code>.&quot; That&#39;s a mistake. <code>synchronized</code> should be used for one thing only: Use it to prevent different threads from accessing the same shared data at the same time. There are numerous other ways* to make one thread wait for another thread to <i>do</i> something. The way to make thread A wait for thread B to <i>terminate</i> is to have thread A call <code>B.join()</code>. &#91;* See the classes in the <code>java.util.concurrent</code> package for some examples.&#93;"}],"answers":[{"tags":[],"owner":{"account_id":16657935,"reputation":834,"user_id":13927534,"display_name":"Miss Skooter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676037873,"creation_date":1676037873,"answer_id":75412212,"question_id":75412042,"body_markdown":"First, you must understand that the main class is also running on a thread. That thread is seperate from the threads you created for the function and is thus running in parallel to them. By that logic, `int maxmax = tasks[0].getMax();` is running asynchronously and possibly before the loop is finished. \r\n\r\nOne possible solution would be to lock that part of the code and force the execution to wait before executing that line. Only release the lock after everyone in the loop is done. Synchronizing access to the run method only defeats the purpose of running multiple threads since you&#39;re forcing the whole thing to be sequential. \r\n\r\nIt is also not recommended to create a thread for every single element, since there&#39;s a tradeoff between number of threads and how much you&#39;re speeding up execution.","title":"Synchronized getter and synchronized thread run method in java","body":"<p>First, you must understand that the main class is also running on a thread. That thread is seperate from the threads you created for the function and is thus running in parallel to them. By that logic, <code>int maxmax = tasks[0].getMax();</code> is running asynchronously and possibly before the loop is finished.</p>\n<p>One possible solution would be to lock that part of the code and force the execution to wait before executing that line. Only release the lock after everyone in the loop is done. Synchronizing access to the run method only defeats the purpose of running multiple threads since you're forcing the whole thing to be sequential.</p>\n<p>It is also not recommended to create a thread for every single element, since there's a tradeoff between number of threads and how much you're speeding up execution.</p>\n"}],"owner":{"account_id":4517097,"reputation":51,"user_id":3671591,"display_name":"GuyO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676037873,"creation_date":1676037014,"question_id":75412042,"body_markdown":"The followiing code uses threads to calculate the max value in a subarry, and then calculates the max value out of the max values the threads returned. I have a bug that the main thread doesn&#39;t wait for the threads to finish when collecting the results.\r\n\r\nThread class:\r\n```\r\npublic class MaxTask extends Thread {\r\n  private int[] arr;\r\n  private int max;\r\n  private int first, last;\r\n  public MaxTask(int[] arr, int first, int last) {\r\n    this.arr = arr;\r\n    this.first = first;\r\n    this.last = last;\r\n  }\r\n  public int getMax() {\r\n    return max;\r\n  }\r\n  public void run() {\r\n    max = arr[first];\r\n    for (int i = first + 1; i &lt;= last; i++) {\r\n      if (arr[i] &gt; max) max = arr[i];\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nMain:\r\n\r\n```\r\npublic class MainMax {\r\n  public static void main(String[] args) throws Exception {\r\n    int size = 100;\r\n    int workers = 10;\r\n    int[] arr = new int[size];\r\n    int max = 0;\r\n    for (int i = 0; i &lt; size; i++) {\r\n      arr[i] = (int)(Math.random() * 100);\r\n      if (max &lt; arr[i]) max = arr[i];\r\n    }\r\n    System.out.println(&quot;max=&quot; + max);\r\n    int gsize = (arr.length - 1) / workers;\r\n    MaxTask[] tasks = new MaxTask[workers];\r\n    int first = 0;\r\n    int last;\r\n    for (int i = 0; i &lt; workers; i++) {\r\n      last = first + gsize;\r\n      tasks[i] = new MaxTask(arr, first, last);\r\n      tasks[i].start();\r\n      first = last + 1;\r\n    }\r\n    int maxmax = tasks[0].getMax();\r\n    int temp;\r\n    for (int i = 1; i &lt; workers; i++) {\r\n      temp = tasks[i].getMax();\r\n      if (temp &gt; maxmax) maxmax = temp;\r\n    }\r\n    System.out.println(&quot;maxmax=&quot; + maxmax);\r\n  }\r\n}\r\n```\r\n\r\n\r\nI am trying to solve the problem using `synchronized`. I managed to get it working when using `synchronized` on both `run` and `getMax`. But I really don&#39;t understand why this solves the problem.","title":"Synchronized getter and synchronized thread run method in java","body":"<p>The followiing code uses threads to calculate the max value in a subarry, and then calculates the max value out of the max values the threads returned. I have a bug that the main thread doesn't wait for the threads to finish when collecting the results.</p>\n<p>Thread class:</p>\n<pre><code>public class MaxTask extends Thread {\n  private int[] arr;\n  private int max;\n  private int first, last;\n  public MaxTask(int[] arr, int first, int last) {\n    this.arr = arr;\n    this.first = first;\n    this.last = last;\n  }\n  public int getMax() {\n    return max;\n  }\n  public void run() {\n    max = arr[first];\n    for (int i = first + 1; i &lt;= last; i++) {\n      if (arr[i] &gt; max) max = arr[i];\n    }\n  }\n}\n</code></pre>\n<p>Main:</p>\n<pre><code>public class MainMax {\n  public static void main(String[] args) throws Exception {\n    int size = 100;\n    int workers = 10;\n    int[] arr = new int[size];\n    int max = 0;\n    for (int i = 0; i &lt; size; i++) {\n      arr[i] = (int)(Math.random() * 100);\n      if (max &lt; arr[i]) max = arr[i];\n    }\n    System.out.println(&quot;max=&quot; + max);\n    int gsize = (arr.length - 1) / workers;\n    MaxTask[] tasks = new MaxTask[workers];\n    int first = 0;\n    int last;\n    for (int i = 0; i &lt; workers; i++) {\n      last = first + gsize;\n      tasks[i] = new MaxTask(arr, first, last);\n      tasks[i].start();\n      first = last + 1;\n    }\n    int maxmax = tasks[0].getMax();\n    int temp;\n    for (int i = 1; i &lt; workers; i++) {\n      temp = tasks[i].getMax();\n      if (temp &gt; maxmax) maxmax = temp;\n    }\n    System.out.println(&quot;maxmax=&quot; + maxmax);\n  }\n}\n</code></pre>\n<p>I am trying to solve the problem using <code>synchronized</code>. I managed to get it working when using <code>synchronized</code> on both <code>run</code> and <code>getMax</code>. But I really don't understand why this solves the problem.</p>\n"},{"tags":["java","html","pdf","itext"],"comments":[{"owner":{"account_id":13734,"reputation":1450,"user_id":27760,"display_name":"Glenner003"},"score":0,"creation_date":1682586806,"post_id":75412173,"comment_id":134240508,"body_markdown":"I believe the relative paths cannot be resolved since your HTML is read from a stream, there is nothing these relative paths can relate to.","body":"I believe the relative paths cannot be resolved since your HTML is read from a stream, there is nothing these relative paths can relate to."}],"owner":{"account_id":12275501,"reputation":367,"user_id":8959442,"accept_rate":75,"display_name":"R.S."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676037621,"creation_date":1676037621,"question_id":75412173,"body_markdown":"i&#39;m trying to generate a pdf using Itextpdf, this is my code:\r\n\r\n     public byte[] generatePdf(String template, Map&lt;String, Object&gt; data) {\r\n        if (logger.isDebugEnabled()) {\r\n            logger.debug(&quot;generatePdf::start&quot;);\r\n        }\r\n        byte[] pdf;\r\n        try {\r\n            OutputStream htmlMod = marker(template, data);\r\n            pdf = createPdf(htmlMod);\r\n        } catch (Exception e) {\r\n            throw new PdfCreationException(e);\r\n        }\r\n        if (logger.isDebugEnabled()) {\r\n            logger.debug(&quot;generatePdf::end&quot;);\r\n        }\r\n        return pdf;\r\n    }\r\n\r\n    private byte[] createPdf(OutputStream inHtml) throws IOException, DocumentException {\r\n        if (logger.isDebugEnabled()) {\r\n            logger.debug(&quot;createPdf::start&quot;);\r\n        }\r\n        Document document = new Document();//PageSize.A4, 10, 0, 0, 0);\r\n        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\r\n        PdfWriter writer = PdfWriter.getInstance(document, byteArrayOutputStream);\r\n        writer.setPageEvent(new HeaderFooter());\r\n        writer.setBoxSize(&quot;art&quot;, new Rectangle(36, 54, 559, 788));\r\n        document.open();\r\n        InputStream in = new ByteArrayInputStream(inHtml.toString().getBytes(Charset.forName(&quot;UTF-8&quot;)));\r\n        CSSResolver cssResolver = XMLWorkerHelper.getInstance().getDefaultCssResolver(true);\r\n\r\n        HtmlPipelineContext htmlContext = new HtmlPipelineContext(null);\r\n        htmlContext.setTagFactory(Tags.getHtmlTagProcessorFactory());\r\n        htmlContext.setImageProvider(new ImageProvider());\r\n\r\n        PdfWriterPipeline pdf = new PdfWriterPipeline(document, writer);\r\n        HtmlPipeline html = new HtmlPipeline(htmlContext, pdf);\r\n        CssResolverPipeline css = new CssResolverPipeline(cssResolver, html);\r\n        XMLWorker worker = new XMLWorker(css, true);\r\n        XMLParser p = new XMLParser(worker);\r\n        p.parse(in, Charset.forName(&quot;UTF-8&quot;));\r\n        document.close();\r\n        if (logger.isDebugEnabled()) {\r\n            logger.debug(&quot;createPdf::end&quot;);\r\n        }\r\n        return byteArrayOutputStream.toByteArray();\r\n    }\r\n\r\ni have some custom fonts inside my spring boot application that i added to my html template:\r\n\r\n    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n    &lt;head&gt;\r\n\t    &lt;meta charset=&quot;utf-8&quot; /&gt;\r\n\t    &lt;title&gt;&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;style type=&quot;text/css&quot;&gt;\r\n\t    @font-face {\r\n\t\t    font-family: GiustiziaPalace;\r\n\t\tsrc: url(&quot;../assets/fonts/palace-script-mt-semi-bold.ttf&quot;);\r\n\r\n\t}\r\n\t@font-face {\r\n\t\tfont-family: GiustiziaArial;\r\n\t\tsrc: url(&quot;../assets/fonts/arial.ttf&quot;);\r\n\t}\r\n\t@font-face {\r\n\t\tfont-family: GiustiziaArialBold;\r\n\t\tsrc: url(&quot;../assets/fonts/arial-bold.ttf&quot;);\r\n\t}\r\n    &lt;/style&gt;\r\n    &lt;body&gt;\r\n\t    &lt;div style=&quot;font-family: GiustiziaArial; padding: 0 10px 10px 10px; display: flex; \r\n    flex-direction: column; gap: 10px;&quot;&gt;\r\n\r\nBut unfortunately my fonts are never displayed on the pdf. If i open the html page on chrome, i can see the fonts. How can i fix this? Thank you.","title":"Java ITextPdf: added fonts not showing up on my pdf using html template","body":"<p>i'm trying to generate a pdf using Itextpdf, this is my code:</p>\n<pre><code> public byte[] generatePdf(String template, Map&lt;String, Object&gt; data) {\n    if (logger.isDebugEnabled()) {\n        logger.debug(&quot;generatePdf::start&quot;);\n    }\n    byte[] pdf;\n    try {\n        OutputStream htmlMod = marker(template, data);\n        pdf = createPdf(htmlMod);\n    } catch (Exception e) {\n        throw new PdfCreationException(e);\n    }\n    if (logger.isDebugEnabled()) {\n        logger.debug(&quot;generatePdf::end&quot;);\n    }\n    return pdf;\n}\n\nprivate byte[] createPdf(OutputStream inHtml) throws IOException, DocumentException {\n    if (logger.isDebugEnabled()) {\n        logger.debug(&quot;createPdf::start&quot;);\n    }\n    Document document = new Document();//PageSize.A4, 10, 0, 0, 0);\n    ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();\n    PdfWriter writer = PdfWriter.getInstance(document, byteArrayOutputStream);\n    writer.setPageEvent(new HeaderFooter());\n    writer.setBoxSize(&quot;art&quot;, new Rectangle(36, 54, 559, 788));\n    document.open();\n    InputStream in = new ByteArrayInputStream(inHtml.toString().getBytes(Charset.forName(&quot;UTF-8&quot;)));\n    CSSResolver cssResolver = XMLWorkerHelper.getInstance().getDefaultCssResolver(true);\n\n    HtmlPipelineContext htmlContext = new HtmlPipelineContext(null);\n    htmlContext.setTagFactory(Tags.getHtmlTagProcessorFactory());\n    htmlContext.setImageProvider(new ImageProvider());\n\n    PdfWriterPipeline pdf = new PdfWriterPipeline(document, writer);\n    HtmlPipeline html = new HtmlPipeline(htmlContext, pdf);\n    CssResolverPipeline css = new CssResolverPipeline(cssResolver, html);\n    XMLWorker worker = new XMLWorker(css, true);\n    XMLParser p = new XMLParser(worker);\n    p.parse(in, Charset.forName(&quot;UTF-8&quot;));\n    document.close();\n    if (logger.isDebugEnabled()) {\n        logger.debug(&quot;createPdf::end&quot;);\n    }\n    return byteArrayOutputStream.toByteArray();\n}\n</code></pre>\n<p>i have some custom fonts inside my spring boot application that i added to my html template:</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=&quot;utf-8&quot; /&gt;\n    &lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;style type=&quot;text/css&quot;&gt;\n    @font-face {\n        font-family: GiustiziaPalace;\n    src: url(&quot;../assets/fonts/palace-script-mt-semi-bold.ttf&quot;);\n\n}\n@font-face {\n    font-family: GiustiziaArial;\n    src: url(&quot;../assets/fonts/arial.ttf&quot;);\n}\n@font-face {\n    font-family: GiustiziaArialBold;\n    src: url(&quot;../assets/fonts/arial-bold.ttf&quot;);\n}\n&lt;/style&gt;\n&lt;body&gt;\n    &lt;div style=&quot;font-family: GiustiziaArial; padding: 0 10px 10px 10px; display: flex; \nflex-direction: column; gap: 10px;&quot;&gt;\n</code></pre>\n<p>But unfortunately my fonts are never displayed on the pdf. If i open the html page on chrome, i can see the fonts. How can i fix this? Thank you.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":6126073,"reputation":1795,"user_id":4778022,"display_name":"Andrew Coates"},"score":0,"creation_date":1675794246,"post_id":75374513,"comment_id":133004132,"body_markdown":"Consider updating your code with https://stackoverflow.com/a/72697441/4778022, and if this pattern does not work then update the code in the question to reflect your new code.  This may help those looking to help you futhur.","body":"Consider updating your code with <a href=\"https://stackoverflow.com/a/72697441/4778022\">stackoverflow.com/a/72697441/4778022</a>, and if this pattern does not work then update the code in the question to reflect your new code.  This may help those looking to help you futhur."},{"owner":{"account_id":8039182,"reputation":569,"user_id":6061414,"display_name":"Jiinxy"},"score":0,"creation_date":1675840410,"post_id":75374513,"comment_id":133012224,"body_markdown":"Good point - I did try the, slightly contradictory, suggestions in both posts linked but removed the them since they didn not work.","body":"Good point - I did try the, slightly contradictory, suggestions in both posts linked but removed the them since they didn not work."}],"owner":{"account_id":8039182,"reputation":569,"user_id":6061414,"display_name":"Jiinxy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":690,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676037176,"creation_date":1675778958,"question_id":75374513,"body_markdown":"For an existing application Im working on adding a functionality for being able to produce information on to a Kafka-topic.\r\nThe application is based on SpringBoot:3.0.1 together with Java 17 and built using Gradle:7.6. To enable the kafka-functionality Ive also added Spring-kafka:3.0.1 as a dependency.\r\n\r\nThe code is pretty simple. I declare a configuration\r\n\r\n    public ProducerFactory&lt;String, DeltaLogMessage&gt; producerFactory() {\r\n        final ClassLoader currentClassLoader = Thread.currentThread().getContextClassLoader();\r\n        // TRY AS SUGGESTED IN https://stackoverflow.com/questions/66261214/unable-to-find-loginmodule-class-org-apache-kafka-common-security-plain-plainlo\r\n        try {\r\n            Thread.currentThread().setContextClassLoader(null);\r\n            Thread.currentThread().setContextClassLoader(KafkaProducer.class.getClassLoader());\r\n\r\n            return new DefaultKafkaProducerFactory&lt;&gt;(\r\n                    Map.of(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress,\r\n                            ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\r\n                            ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class,\r\n                            CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, security_protocol,\r\n                            SaslConfigs.SASL_MECHANISM, sasl_mechanism,\r\n                            SaslConfigs.SASL_JAAS_CONFIG, String.format(&quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), &quot;&quot;, &quot;&quot;),\r\n                            &quot;ssl.truststore.location&quot;, truststore_location,\r\n                            &quot;ssl.truststore.password&quot;, truststore_password\r\n                    ));\r\n\r\n        } finally {\r\n            Thread.currentThread().setContextClassLoader(currentClassLoader);\r\n        }\r\n    }\r\n\r\nand then I use it like\r\n\r\n    kafkaTemplate.send(TOPIC_NAME, msg)\r\n\r\nHere is the problem.\r\nWhile running the application through IntelliJ it works like a charm. However, when packaging into a fat-jar and run using something like \r\n\r\n&gt; java -jar fatjar.jar\r\n\r\n I get the error that the Jaas-moduel PlainLoginModule is missing and cant be loaded (ClassNotFoundException) resulting in LoginException.\r\n\r\n&gt; Caused by: org.apache.kafka.common.KafkaException:\r\n&gt; javax.security.auth.login.LoginException: No LoginModule found for\r\n&gt; org.apache.kafka.common.security.plain.PlainLoginModule \tat\r\n&gt; org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:184)\r\n&gt; ~[kafka-clients-3.3.1.jar!/:na] \tat\r\n&gt; org.apache.kafka.common.network.ChannelBuilders.create(ChannelBuilders.java:192)\r\n&gt; ~[kafka-clients-3.3.1.jar!/:na] \tat\r\n&gt; org.apache.kafka.common.network.ChannelBuilders.clientChannelBuilder(ChannelBuilders.java:81)\r\n&gt; ~[kafka-clients-3.3.1.jar!/:na] \tat\r\n&gt; org.apache.kafka.clients.ClientUtils.createChannelBuilder(ClientUtils.java:105)\r\n&gt; ~[kafka-clients-3.3.1.jar!/:na] \tat\r\n&gt; org.apache.kafka.clients.producer.KafkaProducer.newSender(KafkaProducer.java:514)\r\n&gt; ~[kafka-clients-3.3.1.jar!/:na] \tat\r\n&gt; org.apache.kafka.clients.producer.KafkaProducer.&lt;init&gt;(KafkaProducer.java:457)\r\n&gt; ~[kafka-clients-3.3.1.jar!/:na] \t... 17 common frames omitted Caused\r\n&gt; by: javax.security.auth.login.LoginException: No LoginModule found for\r\n&gt; org.apache.kafka.common.security.plain.PlainLoginModule \tat\r\n&gt; java.base/javax.security.auth.login.LoginContext.invoke(LoginContext.java:739)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/javax.security.auth.login.LoginContext$4.run(LoginContext.java:679)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/javax.security.auth.login.LoginContext$4.run(LoginContext.java:677)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/java.security.AccessController.doPrivileged(AccessController.java:712)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:677)\r\n&gt; ~[na:na] \tat\r\n&gt; java.base/javax.security.auth.login.LoginContext.login(LoginContext.java:587)\r\n&gt; ~[na:na] \tat\r\n&gt; org.apache.kafka.common.security.authenticator.AbstractLogin.login(AbstractLogin.java:60)\r\n&gt; ~[kafka-clients-3.3.1.jar!/:na] \tat\r\n&gt; org.apache.kafka.common.security.authenticator.LoginManager.&lt;init&gt;(LoginManager.java:62)\r\n&gt; ~[kafka-clients-3.3.1.jar!/:na] \tat\r\n&gt; org.apache.kafka.common.security.authenticator.LoginManager.acquireLoginManager(LoginManager.java:105)\r\n&gt; ~[kafka-clients-3.3.1.jar!/:na] \tat\r\n&gt; org.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:170)\r\n&gt; ~[kafka-clients-3.3.1.jar!/:na] \t... 22 common frames omitted\r\n\r\nI can see that the produced jar-file contains the required dependency (kafka-clients:3.3.1).\r\n\r\n&gt; jar tvf build/libs/mitaka-0.0.1-SNAPSHOT.jar  | grep kafka  \r\n&gt; BOOT-INF/lib/spring-kafka-3.0.1.jar  \r\n&gt; BOOT-INF/lib/kafka-clients-3.3.1.jar\r\n\r\nIf I connect intellij-debugger to the running jar-file and put a breakpoint in any of my own code I can do a `Class.forName(&quot;org.apache.kafka.common.security.plain.PlainLoginModule&quot;)` successfully.\r\nBut if I try to put the break point in `javax.security.auth.login.LoginContext.invoke(LoginContext.java)` where the error occures I get `ClassNotFoundException`. Im not skilled enough with regards to class-loading to be able to decide why this happens.\r\n\r\nIve looked at suggested solutions in https://stackoverflow.com/questions/66261214/unable-to-find-loginmodule-class-org-apache-kafka-common-security-plain-plainlo and https://stackoverflow.com/questions/74888635/spring-kafka-msk-unable-to-find-loginmodule-class\r\nbut none of them seem to make any difference for me.\r\n\r\nIve been been pulling my hair now on this for a couple of days and would very much appreciate some help.\r\nPlease let me know if there is any additional information that I can provide\r\n\r\nRegards\r\n\r\n**EDIT**:\r\nNo one that has any suggestions? What puzzles me is how there can be difference in running\r\n\r\n    ./gradlew clean build &amp;&amp; java -jar build/lib/fat.jar\r\n\r\nvs\r\n\r\n    ./gradlew bootRun\r\n\r\n","title":"Unable to find LoginModule PlainLoginModule","body":"<p>For an existing application Im working on adding a functionality for being able to produce information on to a Kafka-topic.\nThe application is based on SpringBoot:3.0.1 together with Java 17 and built using Gradle:7.6. To enable the kafka-functionality Ive also added Spring-kafka:3.0.1 as a dependency.</p>\n<p>The code is pretty simple. I declare a configuration</p>\n<pre><code>public ProducerFactory&lt;String, DeltaLogMessage&gt; producerFactory() {\n    final ClassLoader currentClassLoader = Thread.currentThread().getContextClassLoader();\n    // TRY AS SUGGESTED IN https://stackoverflow.com/questions/66261214/unable-to-find-loginmodule-class-org-apache-kafka-common-security-plain-plainlo\n    try {\n        Thread.currentThread().setContextClassLoader(null);\n        Thread.currentThread().setContextClassLoader(KafkaProducer.class.getClassLoader());\n\n        return new DefaultKafkaProducerFactory&lt;&gt;(\n                Map.of(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapAddress,\n                        ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class,\n                        ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class,\n                        CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, security_protocol,\n                        SaslConfigs.SASL_MECHANISM, sasl_mechanism,\n                        SaslConfigs.SASL_JAAS_CONFIG, String.format(&quot;%s required username=\\&quot;%s\\&quot; &quot; + &quot;password=\\&quot;%s\\&quot;;&quot;, PlainLoginModule.class.getName(), &quot;&quot;, &quot;&quot;),\n                        &quot;ssl.truststore.location&quot;, truststore_location,\n                        &quot;ssl.truststore.password&quot;, truststore_password\n                ));\n\n    } finally {\n        Thread.currentThread().setContextClassLoader(currentClassLoader);\n    }\n}\n</code></pre>\n<p>and then I use it like</p>\n<pre><code>kafkaTemplate.send(TOPIC_NAME, msg)\n</code></pre>\n<p>Here is the problem.\nWhile running the application through IntelliJ it works like a charm. However, when packaging into a fat-jar and run using something like</p>\n<blockquote>\n<p>java -jar fatjar.jar</p>\n</blockquote>\n<p>I get the error that the Jaas-moduel PlainLoginModule is missing and cant be loaded (ClassNotFoundException) resulting in LoginException.</p>\n<blockquote>\n<p>Caused by: org.apache.kafka.common.KafkaException:\njavax.security.auth.login.LoginException: No LoginModule found for\norg.apache.kafka.common.security.plain.PlainLoginModule   at\norg.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:184)\n~[kafka-clients-3.3.1.jar!/:na]   at\norg.apache.kafka.common.network.ChannelBuilders.create(ChannelBuilders.java:192)\n~[kafka-clients-3.3.1.jar!/:na]   at\norg.apache.kafka.common.network.ChannelBuilders.clientChannelBuilder(ChannelBuilders.java:81)\n~[kafka-clients-3.3.1.jar!/:na]   at\norg.apache.kafka.clients.ClientUtils.createChannelBuilder(ClientUtils.java:105)\n~[kafka-clients-3.3.1.jar!/:na]   at\norg.apache.kafka.clients.producer.KafkaProducer.newSender(KafkaProducer.java:514)\n~[kafka-clients-3.3.1.jar!/:na]   at\norg.apache.kafka.clients.producer.KafkaProducer.(KafkaProducer.java:457)\n~[kafka-clients-3.3.1.jar!/:na]   ... 17 common frames omitted Caused\nby: javax.security.auth.login.LoginException: No LoginModule found for\norg.apache.kafka.common.security.plain.PlainLoginModule   at\njava.base/javax.security.auth.login.LoginContext.invoke(LoginContext.java:739)\n~[na:na]  at\njava.base/javax.security.auth.login.LoginContext$4.run(LoginContext.java:679)\n~[na:na]  at\njava.base/javax.security.auth.login.LoginContext$4.run(LoginContext.java:677)\n~[na:na]  at\njava.base/java.security.AccessController.doPrivileged(AccessController.java:712)\n~[na:na]  at\njava.base/javax.security.auth.login.LoginContext.invokePriv(LoginContext.java:677)\n~[na:na]  at\njava.base/javax.security.auth.login.LoginContext.login(LoginContext.java:587)\n~[na:na]  at\norg.apache.kafka.common.security.authenticator.AbstractLogin.login(AbstractLogin.java:60)\n~[kafka-clients-3.3.1.jar!/:na]   at\norg.apache.kafka.common.security.authenticator.LoginManager.(LoginManager.java:62)\n~[kafka-clients-3.3.1.jar!/:na]   at\norg.apache.kafka.common.security.authenticator.LoginManager.acquireLoginManager(LoginManager.java:105)\n~[kafka-clients-3.3.1.jar!/:na]   at\norg.apache.kafka.common.network.SaslChannelBuilder.configure(SaslChannelBuilder.java:170)\n~[kafka-clients-3.3.1.jar!/:na]   ... 22 common frames omitted</p>\n</blockquote>\n<p>I can see that the produced jar-file contains the required dependency (kafka-clients:3.3.1).</p>\n<blockquote>\n<p>jar tvf build/libs/mitaka-0.0.1-SNAPSHOT.jar  | grep kafka<br />\nBOOT-INF/lib/spring-kafka-3.0.1.jar<br />\nBOOT-INF/lib/kafka-clients-3.3.1.jar</p>\n</blockquote>\n<p>If I connect intellij-debugger to the running jar-file and put a breakpoint in any of my own code I can do a <code>Class.forName(&quot;org.apache.kafka.common.security.plain.PlainLoginModule&quot;)</code> successfully.\nBut if I try to put the break point in <code>javax.security.auth.login.LoginContext.invoke(LoginContext.java)</code> where the error occures I get <code>ClassNotFoundException</code>. Im not skilled enough with regards to class-loading to be able to decide why this happens.</p>\n<p>Ive looked at suggested solutions in <a href=\"https://stackoverflow.com/questions/66261214/unable-to-find-loginmodule-class-org-apache-kafka-common-security-plain-plainlo\">unable to find LoginModule class: org.apache.kafka.common.security.plain.PlainLoginModule when the springboot app is run on docker container</a> and <a href=\"https://stackoverflow.com/questions/74888635/spring-kafka-msk-unable-to-find-loginmodule-class\">Spring Kafka MSK : Unable to find LoginModule class:</a>\nbut none of them seem to make any difference for me.</p>\n<p>Ive been been pulling my hair now on this for a couple of days and would very much appreciate some help.\nPlease let me know if there is any additional information that I can provide</p>\n<p>Regards</p>\n<p><strong>EDIT</strong>:\nNo one that has any suggestions? What puzzles me is how there can be difference in running</p>\n<pre><code>./gradlew clean build &amp;&amp; java -jar build/lib/fat.jar\n</code></pre>\n<p>vs</p>\n<pre><code>./gradlew bootRun\n</code></pre>\n"},{"tags":["java","performance","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1676043959,"post_id":75412062,"comment_id":133064182,"body_markdown":"Don&#39;t use the second parameter and update to 2.0.27.","body":"Don&#39;t use the second parameter and update to 2.0.27."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1676047205,"post_id":75412062,"comment_id":133065256,"body_markdown":"Also *&quot;9 page PDF&quot;* doesn&#39;t mean anything. A PDF of 9 pages may contain more complicated structure and huger resources than another 1000 page PDF.","body":"Also <i>&quot;9 page PDF&quot;</i> doesn&#39;t mean anything. A PDF of 9 pages may contain more complicated structure and huger resources than another 1000 page PDF."}],"owner":{"account_id":3617264,"reputation":151,"user_id":3016813,"display_name":"Jay M Harkhani"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1676037117,"creation_date":1676037117,"question_id":75412062,"body_markdown":"I am using pdfbox 2.0.24 and JAVA 8 to load pdf file. It takes around 53 mins to load 9 page PDF file. Code snippet is as below:\r\n\r\n    PDDocument pdfDocument = PDDocument.load(new File(&quot;C:\\local\\first.pdf&quot;), MemoryUsageSetting.setupTempFileOnly());\r\n\r\nWe load pdf to check file is password protected or not? Can someone suggest any optimize way or other approach for this.","title":"Performance issue in PDFBox load function","body":"<p>I am using pdfbox 2.0.24 and JAVA 8 to load pdf file. It takes around 53 mins to load 9 page PDF file. Code snippet is as below:</p>\n<pre><code>PDDocument pdfDocument = PDDocument.load(new File(&quot;C:\\local\\first.pdf&quot;), MemoryUsageSetting.setupTempFileOnly());\n</code></pre>\n<p>We load pdf to check file is password protected or not? Can someone suggest any optimize way or other approach for this.</p>\n"},{"tags":["java","enums","nullpointerexception","jls","cyclic-reference"],"comments":[{"owner":{"account_id":29836,"reputation":36360,"user_id":80901,"accept_rate":80,"display_name":"mjn"},"score":1,"creation_date":1674208787,"post_id":75182408,"comment_id":132669470,"body_markdown":"See also: https://stackoverflow.com/questions/56661077/null-pointer-exception-in-java-enum","body":"See also: <a href=\"https://stackoverflow.com/questions/56661077/null-pointer-exception-in-java-enum\" title=\"null pointer exception in java enum\">stackoverflow.com/questions/56661077/&hellip;</a>"},{"owner":{"account_id":17006998,"reputation":713,"user_id":12302982,"display_name":"Igor Flakiewicz"},"score":0,"creation_date":1674210458,"post_id":75182408,"comment_id":132670025,"body_markdown":"What&#39;s the error given when they fail?","body":"What&#39;s the error given when they fail?"},{"owner":{"account_id":29836,"reputation":36360,"user_id":80901,"accept_rate":80,"display_name":"mjn"},"score":0,"creation_date":1674210625,"post_id":75182408,"comment_id":132670077,"body_markdown":"@IgorFlakiewicz the second `assertThat( ... ).isNotNull()` fails with &quot;Expecting actual not to be null&quot;, which means that the `get...()` returns null.","body":"@IgorFlakiewicz the second <code>assertThat( ... ).isNotNull()</code> fails with &quot;Expecting actual not to be null&quot;, which means that the <code>get...()</code> returns null."}],"answers":[{"tags":[],"owner":{"account_id":1460128,"reputation":10123,"user_id":1374678,"accept_rate":93,"display_name":"rolve"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675599242,"creation_date":1675339112,"answer_id":75322845,"question_id":75182408,"body_markdown":"## Explanation\r\n\r\nEnum constants are initialized like static fields, so you get a similar outcome as described [here][1]. Basically, to initialize one enum correctly, the other already needs to be fully initialized, and vice versa. Obviously, this is a circular dependency and cannot work.\r\n\r\nAs a result, the constants of the `Shape` enum are initialized before the initialization of `Color` is complete. Therefore, the fields corresponding to the `Color` constants `RED`, `GREEN`, and `BLUE` are still `null` when `Shape` accesses them during initialization.\r\n\r\nBy the way, it seems like any of the two enums could be the one that ends up incorrectly initialized, because the two form a symmetric cycle. However, [the order of initialization is determined by the order in which a class is first used][2] in the program code. In your tests, the `Color` enum is used first, and so its initialization is started first. Hence, the JVM loads the code of `Color`, which references `Shape`. Before the initalization of `Color` continues, the code of `Shape` is loaded. `Shape` in turn references `Color`, but since `Color` is already in the process of being intialized, `Shape`&#39;s initialization continues, using the uninitialized fields of `Color`. Finally, `Color`&#39;s initialization completes, and by now the fields of `Shape` contain the `Shape` constants, so `Color` initializes correctly. \r\n\r\n## Solution\r\n\r\nI would replace one of the getters, e.g., the one in `Shape` with something like this:\r\n\r\n```\r\nColor getColor() {\r\n    for (Color c : Color.values()) {\r\n        if (c.getShape() == this) {\r\n            return c;\r\n        }\r\n    }\r\n    throw new AssertionError();\r\n}\r\n```\r\n\r\nThis way, you don&#39;t need the `color` field in `Shape` and the circular dependency is avoided.\r\n\r\nAn added benefit is that the two enums are guaranteed to be consistent. A change in the `Color` enum will automatically be reflected in `Shape`.\r\n\r\nAnd if you worry about performance ([I wouldn&#39;t][3]), you could also keep the `color` field in `Shape` and initialize it the first time `getColor` is called:\r\n\r\n```\r\nColor getColor() {\r\n    if (color == null) {\r\n        for (Color c : Color.values()) {\r\n            if (c.getShape() == this) {\r\n                color = c;\r\n                return color;\r\n            }\r\n        }\r\n        throw new AssertionError();\r\n    }\r\n    return color;\r\n}\r\n```\r\n\r\nRegarding thread-safety, it&#39;s not necessary to have any sort of synchronization here or to make the `color` field `volatile`. In case some thread does not see the initialization performed by another thread, it will simply redo the bit of work, but the result will be the same.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6416481/1374678\r\n  [2]: https://docs.oracle.com/javase/specs/jls/se18/html/jls-12.html#jls-12.4\r\n  [3]: https://softwareengineering.stackexchange.com/q/80084/366400","title":"What is the explanation of null values in a cyclic dependency in final private enum fields?","body":"<h2>Explanation</h2>\n<p>Enum constants are initialized like static fields, so you get a similar outcome as described <a href=\"https://stackoverflow.com/a/6416481/1374678\">here</a>. Basically, to initialize one enum correctly, the other already needs to be fully initialized, and vice versa. Obviously, this is a circular dependency and cannot work.</p>\n<p>As a result, the constants of the <code>Shape</code> enum are initialized before the initialization of <code>Color</code> is complete. Therefore, the fields corresponding to the <code>Color</code> constants <code>RED</code>, <code>GREEN</code>, and <code>BLUE</code> are still <code>null</code> when <code>Shape</code> accesses them during initialization.</p>\n<p>By the way, it seems like any of the two enums could be the one that ends up incorrectly initialized, because the two form a symmetric cycle. However, <a href=\"https://docs.oracle.com/javase/specs/jls/se18/html/jls-12.html#jls-12.4\" rel=\"nofollow noreferrer\">the order of initialization is determined by the order in which a class is first used</a> in the program code. In your tests, the <code>Color</code> enum is used first, and so its initialization is started first. Hence, the JVM loads the code of <code>Color</code>, which references <code>Shape</code>. Before the initalization of <code>Color</code> continues, the code of <code>Shape</code> is loaded. <code>Shape</code> in turn references <code>Color</code>, but since <code>Color</code> is already in the process of being intialized, <code>Shape</code>'s initialization continues, using the uninitialized fields of <code>Color</code>. Finally, <code>Color</code>'s initialization completes, and by now the fields of <code>Shape</code> contain the <code>Shape</code> constants, so <code>Color</code> initializes correctly.</p>\n<h2>Solution</h2>\n<p>I would replace one of the getters, e.g., the one in <code>Shape</code> with something like this:</p>\n<pre><code>Color getColor() {\n    for (Color c : Color.values()) {\n        if (c.getShape() == this) {\n            return c;\n        }\n    }\n    throw new AssertionError();\n}\n</code></pre>\n<p>This way, you don't need the <code>color</code> field in <code>Shape</code> and the circular dependency is avoided.</p>\n<p>An added benefit is that the two enums are guaranteed to be consistent. A change in the <code>Color</code> enum will automatically be reflected in <code>Shape</code>.</p>\n<p>And if you worry about performance (<a href=\"https://softwareengineering.stackexchange.com/q/80084/366400\">I wouldn't</a>), you could also keep the <code>color</code> field in <code>Shape</code> and initialize it the first time <code>getColor</code> is called:</p>\n<pre><code>Color getColor() {\n    if (color == null) {\n        for (Color c : Color.values()) {\n            if (c.getShape() == this) {\n                color = c;\n                return color;\n            }\n        }\n        throw new AssertionError();\n    }\n    return color;\n}\n</code></pre>\n<p>Regarding thread-safety, it's not necessary to have any sort of synchronization here or to make the <code>color</code> field <code>volatile</code>. In case some thread does not see the initialization performed by another thread, it will simply redo the bit of work, but the result will be the same.</p>\n"},{"tags":[],"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1675599913,"creation_date":1675596378,"answer_id":75351871,"question_id":75182408,"body_markdown":"One way to break the cycle is to make the evaluation lazy in at least one of the enums, thus allowing the other to get initialised before being used. E.g.:\r\n\r\n    enum Color {\r\n        RED(() -&gt; Shape.CIRCLE),\r\n        GREEN(() -&gt; Shape.TRIANGLE),\r\n        BLUE(() -&gt; Shape.SQUARE);\r\n\r\n        private final Supplier&lt;Shape&gt; shape;\r\n\r\n        Color(Supplier&lt;Shape&gt; shape) {\r\n            this.shape = shape;\r\n        }\r\n\r\n        Shape getShape() {\r\n            return shape.get();\r\n        }\r\n    }\r\n\r\n    enum Shape {\r\n        CIRCLE(Color.RED),\r\n        TRIANGLE(Color.GREEN),\r\n        SQUARE(Color.BLUE);\r\n\r\n        private final Color color;\r\n\r\n        Shape(Color color) {\r\n            this.color = color;\r\n        }\r\n\r\n        Color getColor() {\r\n            return color;\r\n        }\r\n    }\r\n\r\nBut I would strongly advice that you revisit your design, as cyclic dependencies are usually a code smell. If shapes are not of a certain color by their nature and the other way around, you probably need a separate abstraction that defines &quot;red circles&quot; and &quot;blue squares&quot;, which has nothing to do with merely being a &quot;circle/square&quot; or being &quot;red/blue&quot;.\r\n\r\n\r\n    enum Color { RED, GREEN, BLUE }\r\n    enum Shape { CIRCLE, TRIANGLE, SQUARE }\r\n    \r\n    enum ColoredShape {\r\n\r\n        RED_CIRCLE(Shape.CIRCLE, Color.RED),\r\n        GREEN_TRIANGLE(Shape.TRIANGLE, Color.GREEN),\r\n        MAGENTA_TRIANGLE(...) // because why not? :)\r\n        // ......\r\n\r\n        private final Shape shape;\r\n        private final Color color;\r\n\r\n\r\n        ColoredShape(Shape shape, Color color) {\r\n            this.shape = shape;\r\n            this.color = color;\r\n        }\r\n\r\n        Color color() { return color; }\r\n        Shape shape() { return shape; }\r\n\r\n    }\r\n\r\nThis makes it all explicit and renders colors and shapes reusable in contexts other than this very specific one.\r\n\r\n----\r\n\r\nAnother major defect of your aproach is that it does not enforce that the pair choices match both ways. I.e. nothing stops me from defining e.g. `Color.RED(Shape.CIRCLE)` and `Shape.CIRCLE(Color.BLUE)`. So if you want this mapping to be consistent, you should define it in a single place and infer/reuse it the second time (or add some validation logic to ensure consistency).","title":"What is the explanation of null values in a cyclic dependency in final private enum fields?","body":"<p>One way to break the cycle is to make the evaluation lazy in at least one of the enums, thus allowing the other to get initialised before being used. E.g.:</p>\n<pre><code>enum Color {\n    RED(() -&gt; Shape.CIRCLE),\n    GREEN(() -&gt; Shape.TRIANGLE),\n    BLUE(() -&gt; Shape.SQUARE);\n\n    private final Supplier&lt;Shape&gt; shape;\n\n    Color(Supplier&lt;Shape&gt; shape) {\n        this.shape = shape;\n    }\n\n    Shape getShape() {\n        return shape.get();\n    }\n}\n\nenum Shape {\n    CIRCLE(Color.RED),\n    TRIANGLE(Color.GREEN),\n    SQUARE(Color.BLUE);\n\n    private final Color color;\n\n    Shape(Color color) {\n        this.color = color;\n    }\n\n    Color getColor() {\n        return color;\n    }\n}\n</code></pre>\n<p>But I would strongly advice that you revisit your design, as cyclic dependencies are usually a code smell. If shapes are not of a certain color by their nature and the other way around, you probably need a separate abstraction that defines &quot;red circles&quot; and &quot;blue squares&quot;, which has nothing to do with merely being a &quot;circle/square&quot; or being &quot;red/blue&quot;.</p>\n<pre><code>enum Color { RED, GREEN, BLUE }\nenum Shape { CIRCLE, TRIANGLE, SQUARE }\n\nenum ColoredShape {\n\n    RED_CIRCLE(Shape.CIRCLE, Color.RED),\n    GREEN_TRIANGLE(Shape.TRIANGLE, Color.GREEN),\n    MAGENTA_TRIANGLE(...) // because why not? :)\n    // ......\n\n    private final Shape shape;\n    private final Color color;\n\n\n    ColoredShape(Shape shape, Color color) {\n        this.shape = shape;\n        this.color = color;\n    }\n\n    Color color() { return color; }\n    Shape shape() { return shape; }\n\n}\n</code></pre>\n<p>This makes it all explicit and renders colors and shapes reusable in contexts other than this very specific one.</p>\n<hr />\n<p>Another major defect of your aproach is that it does not enforce that the pair choices match both ways. I.e. nothing stops me from defining e.g. <code>Color.RED(Shape.CIRCLE)</code> and <code>Shape.CIRCLE(Color.BLUE)</code>. So if you want this mapping to be consistent, you should define it in a single place and infer/reuse it the second time (or add some validation logic to ensure consistency).</p>\n"},{"comments":[{"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"score":0,"creation_date":1675598768,"post_id":75352069,"comment_id":132959988,"body_markdown":"You don&#39;t need that value property (which you omitted, btw); and `valueOf` takes a string, not an index. Enums have a built-in `ordinal()` method for this, so I think what you meant was: `return Shape.values()[ordinal()]` and `return Color.values()[ordinal()]` respectively.","body":"You don&#39;t need that value property (which you omitted, btw); and <code>valueOf</code> takes a string, not an index. Enums have a built-in <code>ordinal()</code> method for this, so I think what you meant was: <code>return Shape.values()[ordinal()]</code> and <code>return Color.values()[ordinal()]</code> respectively."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1675599147,"post_id":75352069,"comment_id":132960047,"body_markdown":"@CostiCiudatu thanks for pointing these out. Edited my answer accordingly.","body":"@CostiCiudatu thanks for pointing these out. Edited my answer accordingly."},{"owner":{"account_id":96690,"reputation":37290,"user_id":262683,"display_name":"Costi Ciudatu"},"score":0,"creation_date":1675599238,"post_id":75352069,"comment_id":132960060,"body_markdown":"No worries. Since we&#39;re friends now, I took the liberty to edit it further. Hope you won&#39;t mind.","body":"No worries. Since we&#39;re friends now, I took the liberty to edit it further. Hope you won&#39;t mind."},{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":1,"creation_date":1675599265,"post_id":75352069,"comment_id":132960063,"body_markdown":"@CostiCiudatu not at all. Multumesc for the edit!","body":"@CostiCiudatu not at all. Multumesc for the edit!"},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1675601104,"post_id":75352069,"comment_id":132960354,"body_markdown":"That&#39;s a nicer way than my second suggestion, sadly I did not spot that the arrays are already declared.","body":"That&#39;s a nicer way than my second suggestion, sadly I did not spot that the arrays are already declared."}],"tags":[],"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"comment_count":5,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1675599202,"creation_date":1675598576,"answer_id":75352069,"question_id":75182408,"body_markdown":"The reason for the problem is that when `Color` was being initialized, `Shape` was not initialized yet, hence the shape of the color ends up being `null`. Circular dependencies are signs of bad design, so I would fix the error in the plan. Instead, you could use the same numeric values for the pairs, like this:\r\n\r\n```\r\nenum Color {\r\n    RED,\r\n    GREEN,\r\n    BLUE;\r\n\r\n    Shape getShape() {\r\n        return Shape.values()[ordinal()];\r\n    }\r\n}\r\n\r\nenum Shape {\r\n    CIRCLE,\r\n    TRIANGLE,\r\n    SQUARE;\r\n\r\n    Color getColor() {\r\n        return Color.values()[ordinal()];\r\n    }\r\n}\r\n```\r\n\r\nThis way you have a reliable mapping and you can get the shape of the color or the color of the shape.","title":"What is the explanation of null values in a cyclic dependency in final private enum fields?","body":"<p>The reason for the problem is that when <code>Color</code> was being initialized, <code>Shape</code> was not initialized yet, hence the shape of the color ends up being <code>null</code>. Circular dependencies are signs of bad design, so I would fix the error in the plan. Instead, you could use the same numeric values for the pairs, like this:</p>\n<pre><code>enum Color {\n    RED,\n    GREEN,\n    BLUE;\n\n    Shape getShape() {\n        return Shape.values()[ordinal()];\n    }\n}\n\nenum Shape {\n    CIRCLE,\n    TRIANGLE,\n    SQUARE;\n\n    Color getColor() {\n        return Color.values()[ordinal()];\n    }\n}\n</code></pre>\n<p>This way you have a reliable mapping and you can get the shape of the color or the color of the shape.</p>\n"}],"owner":{"account_id":29836,"reputation":36360,"user_id":80901,"accept_rate":80,"display_name":"mjn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":75351871,"answer_count":3,"score":10,"last_activity_date":1676037098,"creation_date":1674208703,"question_id":75182408,"body_markdown":"Consider these enum declarations:\r\n\r\n    enum Color {\r\n\t\tRED(Shape.CIRCLE),\r\n\t\tGREEN(Shape.TRIANGLE),\r\n\t\tBLUE(Shape.SQUARE);\r\n\r\n\t\tprivate final Shape shape;\r\n\r\n\t\tColor(Shape shape) {\r\n\t\t\tthis.shape = shape;\r\n\t\t}\r\n\r\n\t\tShape getShape() {\r\n\t\t\treturn shape;\r\n\t\t}\r\n\t}\r\n\r\n\tenum Shape {\r\n\t\tCIRCLE(Color.RED),\r\n\t\tTRIANGLE(Color.GREEN),\r\n\t\tSQUARE(Color.BLUE);\r\n\r\n\t\tprivate final Color color;\r\n\r\n\t\tShape(Color color) {\r\n\t\t\tthis.color = color;\r\n\t\t}\r\n\r\n\t\tColor getColor() {\r\n\t\t\treturn color;\r\n\t\t}\r\n\t}\r\n\r\nThere are cyclic dependencies between the enum fields. There are no compiler warnings (using Java 8).\r\n\r\nHowever, all these tests will fail in the second line:\r\n\r\n    \r\n\t@Test\r\n\tpublic void testRedAndCircle() {\r\n\t\tassertThat(Color.RED.getShape()).isNotNull();\r\n\t\tassertThat(Shape.CIRCLE.getColor()).isNotNull(); // fails\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testCircleAndRed() {\r\n\t\tassertThat(Shape.CIRCLE.getColor()).isNotNull();\r\n\t\tassertThat(Color.RED.getShape()).isNotNull(); // fails\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testGreenAndTriangle() {\r\n\t\tassertThat(Color.GREEN.getShape()).isNotNull();\r\n\t\tassertThat(Shape.TRIANGLE.getColor()).isNotNull(); // fails\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void testBlueAndSquare() {\r\n\t\tassertThat(Color.BLUE.getShape()).isNotNull();\r\n\t\tassertThat(Shape.SQUARE.getColor()).isNotNull(); // fails\r\n\t}\r\n\r\n\r\nHow can the null value in the enum field be explained? \r\n\r\nIt seems that the enum object in the private final fields is not yet completely instantiated.","title":"What is the explanation of null values in a cyclic dependency in final private enum fields?","body":"<p>Consider these enum declarations:</p>\n<pre><code>enum Color {\n    RED(Shape.CIRCLE),\n    GREEN(Shape.TRIANGLE),\n    BLUE(Shape.SQUARE);\n\n    private final Shape shape;\n\n    Color(Shape shape) {\n        this.shape = shape;\n    }\n\n    Shape getShape() {\n        return shape;\n    }\n}\n\nenum Shape {\n    CIRCLE(Color.RED),\n    TRIANGLE(Color.GREEN),\n    SQUARE(Color.BLUE);\n\n    private final Color color;\n\n    Shape(Color color) {\n        this.color = color;\n    }\n\n    Color getColor() {\n        return color;\n    }\n}\n</code></pre>\n<p>There are cyclic dependencies between the enum fields. There are no compiler warnings (using Java 8).</p>\n<p>However, all these tests will fail in the second line:</p>\n<pre><code>@Test\npublic void testRedAndCircle() {\n    assertThat(Color.RED.getShape()).isNotNull();\n    assertThat(Shape.CIRCLE.getColor()).isNotNull(); // fails\n}\n\n@Test\npublic void testCircleAndRed() {\n    assertThat(Shape.CIRCLE.getColor()).isNotNull();\n    assertThat(Color.RED.getShape()).isNotNull(); // fails\n}\n\n@Test\npublic void testGreenAndTriangle() {\n    assertThat(Color.GREEN.getShape()).isNotNull();\n    assertThat(Shape.TRIANGLE.getColor()).isNotNull(); // fails\n}\n\n@Test\npublic void testBlueAndSquare() {\n    assertThat(Color.BLUE.getShape()).isNotNull();\n    assertThat(Shape.SQUARE.getColor()).isNotNull(); // fails\n}\n</code></pre>\n<p>How can the null value in the enum field be explained?</p>\n<p>It seems that the enum object in the private final fields is not yet completely instantiated.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3044638,"reputation":1627,"user_id":2580649,"display_name":"PakkuDon"},"score":2,"creation_date":1400726378,"post_id":23796951,"comment_id":36602616,"body_markdown":"What is `setArray` and what&#39;s the purpose of the call to `getSetArray()`?","body":"What is <code>setArray</code> and what&#39;s the purpose of the call to <code>getSetArray()</code>?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":2,"creation_date":1400726508,"post_id":23796951,"comment_id":36602644,"body_markdown":"what line are you getting the NPE on?","body":"what line are you getting the NPE on?"},{"owner":{"account_id":4270347,"reputation":35,"user_id":3492292,"accept_rate":57,"display_name":"Engah"},"score":0,"creation_date":1400727011,"post_id":23796951,"comment_id":36602750,"body_markdown":"these are my line of error\n\njava.lang.NullPointerException\n    at java.util.ComparableTimSort.binarySort(ComparableTimSort.java:232)\n    at java.util.ComparableTimSort.sort(ComparableTimSort.java:176)\n    at java.util.ComparableTimSort.sort(ComparableTimSort.java:146)\n    at java.util.Arrays.sort(Arrays.java:472)\n    at setadt.SetADT.sorted(SetADT.java:280)\n    at setadt.SetADTDriver_sol.main(SetADTDriver_sol.java:233)","body":"these are my line of error  java.lang.NullPointerException     at java.util.ComparableTimSort.binarySort(ComparableTimSort.jav&zwnj;&#8203;a:232)     at java.util.ComparableTimSort.sort(ComparableTimSort.java:176)     at java.util.ComparableTimSort.sort(ComparableTimSort.java:146)     at java.util.Arrays.sort(Arrays.java:472)     at setadt.SetADT.sorted(SetADT.java:280)     at setadt.SetADTDriver_sol.main(SetADTDriver_sol.java:233)"},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1400727120,"post_id":23796951,"comment_id":36602776,"body_markdown":"What version of Java are you on? Line 232 in `ComparableTimSort.java` for me is in the middle of a javadoc comment...","body":"What version of Java are you on? Line 232 in <code>ComparableTimSort.java</code> for me is in the middle of a javadoc comment..."},{"owner":{"account_id":4270347,"reputation":35,"user_id":3492292,"accept_rate":57,"display_name":"Engah"},"score":0,"creation_date":1400727222,"post_id":23796951,"comment_id":36602799,"body_markdown":"I&#39;m not quite sure my teacher told me to download the program called &quot;netbeans&quot; on verious 7.2","body":"I&#39;m not quite sure my teacher told me to download the program called &quot;netbeans&quot; on verious 7.2"},{"owner":{"account_id":4392279,"reputation":11804,"user_id":3580294,"accept_rate":80,"display_name":"awksp"},"score":0,"creation_date":1400727427,"post_id":23796951,"comment_id":36602845,"body_markdown":"That&#39;s an IDE, not your Java version... What happens if you open up a command prompt and type in &quot;java -version&quot;?","body":"That&#39;s an IDE, not your Java version... What happens if you open up a command prompt and type in &quot;java -version&quot;?"},{"owner":{"account_id":4270347,"reputation":35,"user_id":3492292,"accept_rate":57,"display_name":"Engah"},"score":0,"creation_date":1400727525,"post_id":23796951,"comment_id":36602863,"body_markdown":"not sure if it helps but I posted my whole code","body":"not sure if it helps but I posted my whole code"},{"owner":{"account_id":4270347,"reputation":35,"user_id":3492292,"accept_rate":57,"display_name":"Engah"},"score":0,"creation_date":1400727669,"post_id":23796951,"comment_id":36602900,"body_markdown":"when i type in &quot;java- version&quot; in cmd it says \n&quot;unrecongnized option&quot;\n&quot;Error:could not creat the java virtual machine.&quot;\n&quot;Error: a fatal expetion has occurred. program will exit.&quot;","body":"when i type in &quot;java- version&quot; in cmd it says  &quot;unrecongnized option&quot; &quot;Error:could not creat the java virtual machine.&quot; &quot;Error: a fatal expetion has occurred. program will exit.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":7639,"reputation":23810,"user_id":13317,"accept_rate":85,"display_name":"Kenster"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1400727905,"creation_date":1400727905,"answer_id":23797172,"question_id":23796951,"body_markdown":"See if any elements of `setArray` are null. `Arrays.sort()` requires that each element of the array being sorted has to be non-null: [&quot;All elements in the array must implement the Comparable interface.&quot;][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort%28java.lang.Object%5B%5D%29","title":"Why do I have NullPointerException in my sort implementation?","body":"<p>See if any elements of <code>setArray</code> are null. <code>Arrays.sort()</code> requires that each element of the array being sorted has to be non-null: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Arrays.html#sort%28java.lang.Object%5B%5D%29\" rel=\"nofollow\">\"All elements in the array must implement the Comparable interface.\"</a></p>\n"},{"tags":[],"owner":{"account_id":166521,"reputation":30443,"user_id":390695,"accept_rate":72,"display_name":"Damian Leszczyński - Vash"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1400728924,"creation_date":1400728458,"answer_id":23797247,"question_id":23796951,"body_markdown":"The cause of NPE is that you store null in your array. The implementation of [ComparableTimSort][1] does not check for null. \r\n\r\n\r\n     private static void binarySort(Object[] a, int lo, int hi, int start) {\r\n     214         assert lo &lt;= start &amp;&amp; start &lt;= hi;\r\n     215         if (start == lo)\r\n     216             start++;\r\n     217         for ( ; start &lt; hi; start++) {\r\n     218             @SuppressWarnings(&quot;unchecked&quot;)\r\n     219             Comparable&lt;Object&gt; pivot = (Comparable) a[start];\r\n     220 \r\n     221             // Set left (and right) to the index where a[start] (pivot) belongs\r\n     222             int left = lo;\r\n     223             int right = start;\r\n     224             assert left &lt;= right;\r\n     225             /*\r\n     226              * Invariants:\r\n     227              *   pivot &gt;= all in [lo, left).\r\n     228              *   pivot &lt;  all in [right, start).\r\n     229              */\r\n     230             while (left &lt; right) {\r\n     231                 int mid = (left + right) &gt;&gt;&gt; 1;\r\n     232                 if (pivot.compareTo(a[mid]) &lt; 0)\r\n     233                     right = mid;\r\n     234                 else\r\n     235                     left = mid + 1;\r\n     236             }\r\n     237             assert left == right;\r\n     238 \r\n\r\n\r\nYou must assure that null value is not stored in your array. \r\n\r\n\r\nTo do that you must assert that argument passed in method `add` is not null and create a copy of your container before sorting to valid size. \r\n\r\n\r\n    public Object[] sorted() {\r\n    \r\n        Object[] toSort = Arrays.copyOf(getSetArray(),getSize());\r\n        Arrays.sort(toSort);\r\n        return toSort;\r\n    }\r\n\r\n[1]:http://cr.openjdk.java.net/~martin/webrevs/openjdk7/timsort/src/share/classes/java/util/ComparableTimSort.java.html\r\n","title":"Why do I have NullPointerException in my sort implementation?","body":"<p>The cause of NPE is that you store null in your array. The implementation of <a href=\"http://cr.openjdk.java.net/~martin/webrevs/openjdk7/timsort/src/share/classes/java/util/ComparableTimSort.java.html\" rel=\"nofollow\">ComparableTimSort</a> does not check for null. </p>\n\n<pre><code> private static void binarySort(Object[] a, int lo, int hi, int start) {\n 214         assert lo &lt;= start &amp;&amp; start &lt;= hi;\n 215         if (start == lo)\n 216             start++;\n 217         for ( ; start &lt; hi; start++) {\n 218             @SuppressWarnings(\"unchecked\")\n 219             Comparable&lt;Object&gt; pivot = (Comparable) a[start];\n 220 \n 221             // Set left (and right) to the index where a[start] (pivot) belongs\n 222             int left = lo;\n 223             int right = start;\n 224             assert left &lt;= right;\n 225             /*\n 226              * Invariants:\n 227              *   pivot &gt;= all in [lo, left).\n 228              *   pivot &lt;  all in [right, start).\n 229              */\n 230             while (left &lt; right) {\n 231                 int mid = (left + right) &gt;&gt;&gt; 1;\n 232                 if (pivot.compareTo(a[mid]) &lt; 0)\n 233                     right = mid;\n 234                 else\n 235                     left = mid + 1;\n 236             }\n 237             assert left == right;\n 238 \n</code></pre>\n\n<p>You must assure that null value is not stored in your array. </p>\n\n<p>To do that you must assert that argument passed in method <code>add</code> is not null and create a copy of your container before sorting to valid size. </p>\n\n<pre><code>public Object[] sorted() {\n\n    Object[] toSort = Arrays.copyOf(getSetArray(),getSize());\n    Arrays.sort(toSort);\n    return toSort;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2707688,"reputation":773,"user_id":2336934,"display_name":"dan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676037069,"creation_date":1675874285,"answer_id":75388923,"question_id":23796951,"body_markdown":"While the other answers (at this point in time) are correct in that none of the elements of your array/list should be `null`, however, the explanations given are only suggestive.  This is because the contracts of the JDK&#39;s collection sort methods don&#39;t directly address `null` elements except to say:\r\n\r\n * From `Collections.sort()`: *All elements in the list must implement the Comparable interface.*\r\n * From `List.sort()`: *All elements in this list must be mutually comparable using the specified comparator (that is, c.compare(e1, e2) must not throw a ClassCastException for any elements e1 and e2 in the list).*\r\n * From `Arrays.sort()`: *All elements in the array must be mutually comparable by the specified comparator (that is, c.compare(e1, e2) must not throw a ClassCastException for any elements e1 and e2 in the array).*\r\n\r\nFrom simple interpretation of the contracts of these sort methods, `null` indeed does not implement `Comparable` nor is it going to be safe during a cast.  **Indirectly speaking, you can&#39;t have `null` in your sortable collection.**\r\n\r\nIf you can change the contract on your collection to disallow `null` elements, then you&#39;re done.\r\n\r\nHowever, that doesn&#39;t resolve the **glaring contract requirement in `java.lang.Comparable`**:\r\n\r\n&gt; *Note that null is not an instance of any class, and e.compareTo(null) should throw a NullPointerException even though e.equals(null) returns false.*\r\n\r\nThis requires code in your `Comparable` implementation to handle a `null` argument.\r\n\r\nIf you&#39;ve gotten here because your test code didn&#39;t throw the right `NullPointerException` when attempting to sort your test list with a `null` element, you&#39;re testing the wrong thing.  But there&#39;s tradeoffs even after testing the right thing.\r\n\r\n`java.util.ComparableTimSort.countRunAndMakeAscending()` assumes element 1 is not `null`.  If it is, you get the unexpected NPE - but not the one you were expecting from your `Comparable` implementation.\r\n\r\n__The Fix__\r\n\r\nMaybe you&#39;re here because you&#39;re trying to get 100% test coverage on your method that sorts a collection.  The Collection Framework&#39;s sort methods won&#39;t accept `null` in your collection even though they don&#39;t directly speak to it, but your `Comparable` implementation must still handle a `null`.\r\n\r\nYou must instead test your Comparable implementation directly with a `null` parameter.  This may require raising its visibility to *default*, i.e. package visibility and then write a test method directly against your `Comparable` implementation.\r\n\r\nYour `Comparable.compareTo(T)` method might look something like:\r\n```\r\npublic class ListManipulator {\r\n\tprivate List&lt;Percentage&gt; mylist;\r\n\tclass Percentage implements Comparable&lt;Percentage&gt; {\r\n\t\t@Override\r\n\t\tpublic int compareTo(Percentage o) {\r\n\t\t\tif (o == null) {\r\n\t\t\t\tthrow new NullPointerException(&quot;null is not comparable&quot;);\r\n\t\t\t}\r\n\t\t\tif (o.percent == percent) {\r\n\t\t\t\treturn 0;\r\n\t\t\t}\r\n\t\t\telse if (this.percent &lt; o.percent) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\telse return 1;\r\n\t\t}\r\n\t\t...\r\n\t}\r\n\t...\r\n}\r\n```\r\n\r\nYou&#39;ll need test code similar to:\r\n```\r\n\ttry {\r\n\t\tcut = new ListManipulator();\r\n\t\tcut.new Percentage(10).compareTo(null);\r\n\t\tfail(&quot;should have thrown a NullPointerException: cannot have a null value&quot;);\r\n\t}\r\n\tcatch (NullPointerException e) {\r\n\t\tassertThat(e.getMessage(), is(notNullValue()));\r\n\t\tSystem.out.println(e.getMessage());\r\n\t}\r\n```\r\n\r\nThe drawback here is possibly needing to raise the visibility of your `Comparable` implementation.  At the end of the day, it gets the test coverage you wanted.\r\n\r\nHowever, if you don&#39;t want to raise the visibility of your `Comparable` because your code is highly cohesive and not coupled (nice work!) then decide if you can live with less than 100% test coverage.\r\n\r\nAn ugly alternative places a `null` in a test list at position `0` and a valid element at position `1`.  Sorting that will produce the NPE you were looking for but at the expense of writing test code coupled to implementation details in the JDK.  **Don&#39;t do this.**\r\n\r\n__Bottom Line__\r\n\r\nIdeally, you should be directly testing your `Comparable` implementation to verify your null handling code, as shown above.  If you&#39;re in the practice of disabling the JVM&#39;s visibility restrictions when your test cases run, then you won&#39;t need to raise the visibility of your `Comparable` implementation.\r\n","title":"Why do I have NullPointerException in my sort implementation?","body":"<p>While the other answers (at this point in time) are correct in that none of the elements of your array/list should be <code>null</code>, however, the explanations given are only suggestive.  This is because the contracts of the JDK's collection sort methods don't directly address <code>null</code> elements except to say:</p>\n<ul>\n<li>From <code>Collections.sort()</code>: <em>All elements in the list must implement the Comparable interface.</em></li>\n<li>From <code>List.sort()</code>: <em>All elements in this list must be mutually comparable using the specified comparator (that is, c.compare(e1, e2) must not throw a ClassCastException for any elements e1 and e2 in the list).</em></li>\n<li>From <code>Arrays.sort()</code>: <em>All elements in the array must be mutually comparable by the specified comparator (that is, c.compare(e1, e2) must not throw a ClassCastException for any elements e1 and e2 in the array).</em></li>\n</ul>\n<p>From simple interpretation of the contracts of these sort methods, <code>null</code> indeed does not implement <code>Comparable</code> nor is it going to be safe during a cast.  <strong>Indirectly speaking, you can't have <code>null</code> in your sortable collection.</strong></p>\n<p>If you can change the contract on your collection to disallow <code>null</code> elements, then you're done.</p>\n<p>However, that doesn't resolve the <strong>glaring contract requirement in <code>java.lang.Comparable</code></strong>:</p>\n<blockquote>\n<p><em>Note that null is not an instance of any class, and e.compareTo(null) should throw a NullPointerException even though e.equals(null) returns false.</em></p>\n</blockquote>\n<p>This requires code in your <code>Comparable</code> implementation to handle a <code>null</code> argument.</p>\n<p>If you've gotten here because your test code didn't throw the right <code>NullPointerException</code> when attempting to sort your test list with a <code>null</code> element, you're testing the wrong thing.  But there's tradeoffs even after testing the right thing.</p>\n<p><code>java.util.ComparableTimSort.countRunAndMakeAscending()</code> assumes element 1 is not <code>null</code>.  If it is, you get the unexpected NPE - but not the one you were expecting from your <code>Comparable</code> implementation.</p>\n<p><strong>The Fix</strong></p>\n<p>Maybe you're here because you're trying to get 100% test coverage on your method that sorts a collection.  The Collection Framework's sort methods won't accept <code>null</code> in your collection even though they don't directly speak to it, but your <code>Comparable</code> implementation must still handle a <code>null</code>.</p>\n<p>You must instead test your Comparable implementation directly with a <code>null</code> parameter.  This may require raising its visibility to <em>default</em>, i.e. package visibility and then write a test method directly against your <code>Comparable</code> implementation.</p>\n<p>Your <code>Comparable.compareTo(T)</code> method might look something like:</p>\n<pre><code>public class ListManipulator {\n    private List&lt;Percentage&gt; mylist;\n    class Percentage implements Comparable&lt;Percentage&gt; {\n        @Override\n        public int compareTo(Percentage o) {\n            if (o == null) {\n                throw new NullPointerException(&quot;null is not comparable&quot;);\n            }\n            if (o.percent == percent) {\n                return 0;\n            }\n            else if (this.percent &lt; o.percent) {\n                return -1;\n            }\n            else return 1;\n        }\n        ...\n    }\n    ...\n}\n</code></pre>\n<p>You'll need test code similar to:</p>\n<pre><code>    try {\n        cut = new ListManipulator();\n        cut.new Percentage(10).compareTo(null);\n        fail(&quot;should have thrown a NullPointerException: cannot have a null value&quot;);\n    }\n    catch (NullPointerException e) {\n        assertThat(e.getMessage(), is(notNullValue()));\n        System.out.println(e.getMessage());\n    }\n</code></pre>\n<p>The drawback here is possibly needing to raise the visibility of your <code>Comparable</code> implementation.  At the end of the day, it gets the test coverage you wanted.</p>\n<p>However, if you don't want to raise the visibility of your <code>Comparable</code> because your code is highly cohesive and not coupled (nice work!) then decide if you can live with less than 100% test coverage.</p>\n<p>An ugly alternative places a <code>null</code> in a test list at position <code>0</code> and a valid element at position <code>1</code>.  Sorting that will produce the NPE you were looking for but at the expense of writing test code coupled to implementation details in the JDK.  <strong>Don't do this.</strong></p>\n<p><strong>Bottom Line</strong></p>\n<p>Ideally, you should be directly testing your <code>Comparable</code> implementation to verify your null handling code, as shown above.  If you're in the practice of disabling the JVM's visibility restrictions when your test cases run, then you won't need to raise the visibility of your <code>Comparable</code> implementation.</p>\n"}],"owner":{"account_id":4270347,"reputation":35,"user_id":3492292,"accept_rate":57,"display_name":"Engah"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6659,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":23797247,"answer_count":3,"score":-1,"last_activity_date":1676037069,"creation_date":1400726326,"question_id":23796951,"body_markdown":"I&#39;m working on my assignment and I am suppose to create a sort method for my array. However, I&#39;m getting a null pointer error in my sort method and I&#39;m not sure why. This is my code below.\r\n\r\n\r\n    public Object[] sorted() {\r\n        getSetArray();\r\n        Arrays.sort(setArray);\r\n        return setArray;\r\n    }\r\n\r\n\r\n\r\n\r\n&gt; these are my line of error java.lang.NullPointerException at\r\n&gt; java.util.ComparableTimSort.binarySort(ComparableTimSort.java:232) at\r\n&gt; java.util.ComparableTimSort.sort(ComparableTimSort.java:176) at\r\n&gt; java.util.ComparableTimSort.sort(ComparableTimSort.java:146) at\r\n&gt; java.util.Arrays.sort(Arrays.java:472) at\r\n&gt; setadt.SetADT.sorted(SetADT.java:280) at\r\n&gt; setadt.SetADTDriver_sol.main(SetADTDriver_sol.java:233)\r\n\r\n\r\n    package setadt;\r\n    import java.util.*;\r\n    \r\n    \r\n    \r\n    public class SetADT {\r\n    \r\n        private static Random rand = new Random();\r\n        private final int DEFAULT_CAPACITY = 100;\r\n        private final int NOT_FOUND = -1;\r\n        private int size;\r\n        private Object[] setArray;\r\n    \r\n        public SetADT() {\r\n            size = 0;\r\n            setArray = new Object[DEFAULT_CAPACITY];\r\n        }\r\n    \r\n        public SetADT(int capacity) {\r\n            size = 0;\r\n            setArray = new Object[capacity];\r\n        }\r\n    \r\n        public void add(Object newElement) {\r\n    \r\n            if (size() == setArray.length) {\r\n                resize();\r\n            }\r\n            if(!contains(newElement) == true){\r\n               setArray[size] = newElement;\r\n             size++;   \r\n            }\r\n            //System.out.println(newElement +&quot;\\t&quot; + size);\r\n        }\r\n    \r\n        public void addAll(SetADT set) {\r\n    \r\n            Object[] temp = set.getSetArray();\r\n    \r\n            for (int i = 0; i &lt; set.size(); i++) {\r\n                if (!this.containsValue(temp[i])) {\r\n                    add(temp[i]);\r\n                }\r\n            }\r\n        }\r\n       public boolean contains(Object element) {\r\n    \r\n            for (int i = 0; i &lt; size; i++) {\r\n                if (setArray[i].equals(element)) {\r\n                    return true;\r\n                }\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    \r\n        public boolean containsValue(Object element) {\r\n    \r\n            for (int i = 0; i &lt; size; i++) {\r\n                if (setArray[i].toString().equals(element.toString())) {\r\n                    return true;\r\n                }\r\n            }\r\n    \r\n            return false;\r\n        }\r\n    \r\n        public boolean equals(SetADT set) {\r\n    \r\n            boolean result = false;\r\n            Object element;\r\n    \r\n            if (size() == set.size()) {\r\n                result = true;\r\n                for (int i = 0; i &lt; size(); i++) {\r\n                    element = setArray[i];\r\n                    if (!set.contains(element)) {\r\n                        return false;\r\n    \r\n                    }\r\n                }\r\n            }\r\n    \r\n            return result;\r\n        }\r\n    \r\n        public boolean isEmpty() {\r\n    \r\n            if (size == 0) {\r\n                return true;\r\n            } else {\r\n                return false;\r\n            }\r\n        }\r\n    \r\n        public Object remove(Object element) {\r\n    \r\n            Object result = new Integer(NOT_FOUND);\r\n            int search = NOT_FOUND;\r\n    \r\n            if (!isEmpty()) {\r\n                for (int i = 0; i &lt; size() &amp;&amp; search == NOT_FOUND; i++) {\r\n                    if (setArray[i].equals(element)) {\r\n                        search = i;\r\n                    }\r\n                }\r\n    \r\n                if (search != NOT_FOUND) {\r\n    \r\n                    result = setArray[search];\r\n    \r\n                    setArray[search] = setArray[size - 1];\r\n                    setArray[size - 1] = null;\r\n                    size--;\r\n                }\r\n            }\r\n    \r\n            return result;\r\n        }\r\n        public Object removeRandom() {\r\n            int element;\r\n            Object value = new Integer(NOT_FOUND);\r\n    \r\n            if (!isEmpty()) {\r\n    \r\n                element = rand.nextInt(size);\r\n                value = setArray[element];\r\n    \r\n                setArray[element] = setArray[size - 1];\r\n                setArray[size - 1] = null;\r\n                size--;\r\n            }\r\n    \r\n            return value;\r\n        }\r\n        public int size() {\r\n    \r\n            return size;\r\n        }\r\n        public SetADT union(SetADT set) {\r\n    \r\n            SetADT newSet = new SetADT();\r\n    \r\n            newSet.addAll(this);\r\n            newSet.addAll(set);\r\n    \r\n            return newSet;\r\n        }\r\n    \r\n        private void resize() {\r\n    \r\n            Object[] newArray = new Object[setArray.length * 2];\r\n    \r\n            for (int i = 0; i &lt; setArray.length; i++) {\r\n                newArray[i] = setArray[i];\r\n            }\r\n    \r\n            setArray = newArray;\r\n        }\r\n    \r\n        public Object[] getSetArray() {\r\n    \r\n            return setArray;\r\n        }\r\n    \r\n        public String toString() {\r\n            String result = &quot;&quot;;\r\n    \r\n            for (int i = 0; i &lt; size(); i++) {\r\n                if ((i % 10) == 0 &amp;&amp; i != 0) {\r\n                    result += &quot;\\n&quot;;\r\n                } \r\n    \r\n                result = result + setArray[i].toString() + &quot;\\t&quot;;\r\n            }\r\n            return result;\r\n        }\r\n    \r\n        public SetADT intersection(SetADT set) {\r\n            \r\n            SetADT newSet = new SetADT(); \r\n            for(int index = 0; index &lt; set.size; index++){\r\n                if(set.contains(set) == set.contains(setArray)){\r\n                    newSet.add(set);\r\n                }   \r\n            }\r\n            return newSet;\r\n        }\r\n    \r\n        public SetADT difference(SetADT set) {\r\n            \r\n            SetADT newSet = new SetADT();\r\n            for(int index = 0; index &lt; set.size; index++){\r\n                if(set.contains(set) == false){\r\n                \r\n                    newSet.add(set);\r\n                }\r\n            }\r\n            return newSet;\r\n        }\r\n    \r\n        public Object[] sorted() {\r\n            setArray = getSetArray();\r\n            Arrays.sort(setArray);\r\n            return setArray;\r\n        }\r\n    \r\n        public static String getObjectArray(Object[] o) {\r\n            String s = &quot;&quot;;\r\n            for (int i = 0; i &lt; o.length; i++) {\r\n                s += (o[i] + &quot; &quot;);\r\n            }\r\n            return s;\r\n    \r\n        }\r\n    }\r\n","title":"Why do I have NullPointerException in my sort implementation?","body":"<p>I'm working on my assignment and I am suppose to create a sort method for my array. However, I'm getting a null pointer error in my sort method and I'm not sure why. This is my code below.</p>\n\n<pre><code>public Object[] sorted() {\n    getSetArray();\n    Arrays.sort(setArray);\n    return setArray;\n}\n</code></pre>\n\n<blockquote>\n  <p>these are my line of error java.lang.NullPointerException at\n  java.util.ComparableTimSort.binarySort(ComparableTimSort.java:232) at\n  java.util.ComparableTimSort.sort(ComparableTimSort.java:176) at\n  java.util.ComparableTimSort.sort(ComparableTimSort.java:146) at\n  java.util.Arrays.sort(Arrays.java:472) at\n  setadt.SetADT.sorted(SetADT.java:280) at\n  setadt.SetADTDriver_sol.main(SetADTDriver_sol.java:233)</p>\n</blockquote>\n\n<pre><code>package setadt;\nimport java.util.*;\n\n\n\npublic class SetADT {\n\n    private static Random rand = new Random();\n    private final int DEFAULT_CAPACITY = 100;\n    private final int NOT_FOUND = -1;\n    private int size;\n    private Object[] setArray;\n\n    public SetADT() {\n        size = 0;\n        setArray = new Object[DEFAULT_CAPACITY];\n    }\n\n    public SetADT(int capacity) {\n        size = 0;\n        setArray = new Object[capacity];\n    }\n\n    public void add(Object newElement) {\n\n        if (size() == setArray.length) {\n            resize();\n        }\n        if(!contains(newElement) == true){\n           setArray[size] = newElement;\n         size++;   \n        }\n        //System.out.println(newElement +\"\\t\" + size);\n    }\n\n    public void addAll(SetADT set) {\n\n        Object[] temp = set.getSetArray();\n\n        for (int i = 0; i &lt; set.size(); i++) {\n            if (!this.containsValue(temp[i])) {\n                add(temp[i]);\n            }\n        }\n    }\n   public boolean contains(Object element) {\n\n        for (int i = 0; i &lt; size; i++) {\n            if (setArray[i].equals(element)) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public boolean containsValue(Object element) {\n\n        for (int i = 0; i &lt; size; i++) {\n            if (setArray[i].toString().equals(element.toString())) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    public boolean equals(SetADT set) {\n\n        boolean result = false;\n        Object element;\n\n        if (size() == set.size()) {\n            result = true;\n            for (int i = 0; i &lt; size(); i++) {\n                element = setArray[i];\n                if (!set.contains(element)) {\n                    return false;\n\n                }\n            }\n        }\n\n        return result;\n    }\n\n    public boolean isEmpty() {\n\n        if (size == 0) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    public Object remove(Object element) {\n\n        Object result = new Integer(NOT_FOUND);\n        int search = NOT_FOUND;\n\n        if (!isEmpty()) {\n            for (int i = 0; i &lt; size() &amp;&amp; search == NOT_FOUND; i++) {\n                if (setArray[i].equals(element)) {\n                    search = i;\n                }\n            }\n\n            if (search != NOT_FOUND) {\n\n                result = setArray[search];\n\n                setArray[search] = setArray[size - 1];\n                setArray[size - 1] = null;\n                size--;\n            }\n        }\n\n        return result;\n    }\n    public Object removeRandom() {\n        int element;\n        Object value = new Integer(NOT_FOUND);\n\n        if (!isEmpty()) {\n\n            element = rand.nextInt(size);\n            value = setArray[element];\n\n            setArray[element] = setArray[size - 1];\n            setArray[size - 1] = null;\n            size--;\n        }\n\n        return value;\n    }\n    public int size() {\n\n        return size;\n    }\n    public SetADT union(SetADT set) {\n\n        SetADT newSet = new SetADT();\n\n        newSet.addAll(this);\n        newSet.addAll(set);\n\n        return newSet;\n    }\n\n    private void resize() {\n\n        Object[] newArray = new Object[setArray.length * 2];\n\n        for (int i = 0; i &lt; setArray.length; i++) {\n            newArray[i] = setArray[i];\n        }\n\n        setArray = newArray;\n    }\n\n    public Object[] getSetArray() {\n\n        return setArray;\n    }\n\n    public String toString() {\n        String result = \"\";\n\n        for (int i = 0; i &lt; size(); i++) {\n            if ((i % 10) == 0 &amp;&amp; i != 0) {\n                result += \"\\n\";\n            } \n\n            result = result + setArray[i].toString() + \"\\t\";\n        }\n        return result;\n    }\n\n    public SetADT intersection(SetADT set) {\n\n        SetADT newSet = new SetADT(); \n        for(int index = 0; index &lt; set.size; index++){\n            if(set.contains(set) == set.contains(setArray)){\n                newSet.add(set);\n            }   \n        }\n        return newSet;\n    }\n\n    public SetADT difference(SetADT set) {\n\n        SetADT newSet = new SetADT();\n        for(int index = 0; index &lt; set.size; index++){\n            if(set.contains(set) == false){\n\n                newSet.add(set);\n            }\n        }\n        return newSet;\n    }\n\n    public Object[] sorted() {\n        setArray = getSetArray();\n        Arrays.sort(setArray);\n        return setArray;\n    }\n\n    public static String getObjectArray(Object[] o) {\n        String s = \"\";\n        for (int i = 0; i &lt; o.length; i++) {\n            s += (o[i] + \" \");\n        }\n        return s;\n\n    }\n}\n</code></pre>\n"},{"tags":["java","timer","scheduled-tasks","executorservice","scheduledexecutorservice"],"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1648861540,"post_id":71712004,"comment_id":126738576,"body_markdown":"Be careful not to post paragraphs with line-breaks. I fixed some of them. And I broke up your lengthy paragraph into logical chunks — hopefully, please verify that my edits make sense.","body":"Be careful not to post paragraphs with line-breaks. I fixed some of them. And I broke up your lengthy paragraph into logical chunks — hopefully, please verify that my edits make sense."},{"owner":{"account_id":3535938,"reputation":4707,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"score":0,"creation_date":1648988227,"post_id":71712004,"comment_id":126757196,"body_markdown":"You seem to ask for the impossible. Using a **single thread** executor, if the task starting at time 5000 takes 3000, how shall the executor start a task at 6000. That single thread just does not get a chance to schedule another task before 8000. You seem be asking for `newScheduledThreadPool`, though be aware that if on long term average your tasks take longer than the rate you want, you&#39;ll always eventually run out of threads.","body":"You seem to ask for the impossible. Using a <b>single thread</b> executor, if the task starting at time 5000 takes 3000, how shall the executor start a task at 6000. That single thread just does not get a chance to schedule another task before 8000. You seem be asking for <code>newScheduledThreadPool</code>, though be aware that if on long term average your tasks take longer than the rate you want, you&#39;ll always eventually run out of threads."},{"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"score":0,"creation_date":1648989560,"post_id":71712004,"comment_id":126757471,"body_markdown":"@Harald sorry, but you seem to have completely misunderstood the question. What I&#39;m looking for is easy to implement. E.g. `while (true) { long start = time(); task.run(); long sleep = period - time() + start; if (sleep &gt; 0) sleep(sleep); }`. I&#39;m just looking for a `Timer`- or `ScheduledExecutorService`-like implementation of this.","body":"@Harald sorry, but you seem to have completely misunderstood the question. What I&#39;m looking for is easy to implement. E.g. <code>while (true) { long start = time(); task.run(); long sleep = period - time() + start; if (sleep &gt; 0) sleep(sleep); }</code>. I&#39;m just looking for a <code>Timer</code>- or <code>ScheduledExecutorService</code>-like implementation of this."}],"answers":[{"comments":[{"owner":{"account_id":4434146,"reputation":1148,"user_id":3610458,"accept_rate":80,"display_name":"SensorSmith"},"score":0,"creation_date":1689610330,"post_id":71761712,"comment_id":135234559,"body_markdown":"Warning: The ending example uses the `Date` class to calculate execution delays.  This can result in unfortunate behaviors when a user sets the clock, or when protocols like NTP automatically jump or &quot;skew&quot; the clock.  If this is all the Spring Framework gives you to work with, shame on them.  &quot;Wall clock&quot; scheduling is perfect for &quot;calendaring&quot;, but should never be used when you want a fixed rate or delay.  For that you should use an &quot;elapsed&quot; time measure like `System.nanoTime` (as used by the ThreadPoolScheduler).","body":"Warning: The ending example uses the <code>Date</code> class to calculate execution delays.  This can result in unfortunate behaviors when a user sets the clock, or when protocols like NTP automatically jump or &quot;skew&quot; the clock.  If this is all the Spring Framework gives you to work with, shame on them.  &quot;Wall clock&quot; scheduling is perfect for &quot;calendaring&quot;, but should never be used when you want a fixed rate or delay.  For that you should use an &quot;elapsed&quot; time measure like <code>System.nanoTime</code> (as used by the ThreadPoolScheduler)."}],"tags":[],"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676034872,"creation_date":1649224866,"answer_id":71761712,"question_id":71712004,"body_markdown":"It turns out that I have a wrong assumption in my question.\r\n\r\n&gt; A `Timer` has very similar methods that do the same thing.\r\n\r\nIn fact, this isn&#39;t true. Although the Java API Docs state that [`Timer#schedule(TimerTask, long, long)`][1]\r\n\r\n&gt; Schedules the specified task for repeated fixed-delay execution,\r\n\r\nit doesn&#39;t do the same thing as [`ScheduledThreadPoolExecutor#scheduleWithFixedDelay(…)`][2]. See the following comparison when executing the code from the question with all methods.\r\n\r\n```\r\n|-------|----------|----------|\r\n|       | STPE     | Timer    |\r\n|-------|----------|----------|\r\n|       | 0: 0     | 0: 0     |\r\n|       | 5012: 1  | 5007: 1  |\r\n|       | 6018: 2  | 5007: 2  | &lt;--\r\n|       | 7024: 3  | 6019: 3  |\r\n| Fixed | 8025: 4  | 7019: 4  |\r\n| delay | 9029: 5  | 8022: 5  |\r\n|       | 10037: 6 | 9024: 6  |\r\n|       | 11042: 7 | 10027: 7 |\r\n|       | 12050: 8 | 11042: 8 |\r\n|       | ...      | ...      |\r\n|-------|----------|----------|\r\n|       | 0: 0     | 0: 0     |\r\n|       | 5024: 1  | 5014: 1  |\r\n|       | 5024: 2  | 5014: 2  |\r\n|       | 5024: 3  | 5014: 3  |\r\n| Fixed | 5024: 4  | 5015: 4  |\r\n| rate  | 5025: 5  | 5015: 5  |\r\n|       | 5025: 6  | 5015: 6  |\r\n|       | 6025: 7  | 6002: 7  |\r\n|       | 7024: 8  | 7002: 8  |\r\n|       | ...      | ...      |\r\n|-------|----------|----------|\r\n```\r\n\r\nThus `Timer#schedule(TimerTask, long, long)` is in fact what I&#39;m looking for. The difference is that `ScheduledThreadPoolExecutor#scheduleWithFixedDelay(…)` adds a fixed delay between the completion of the current task and the execution of the next task (this is bad because the task computation time always affects the effective period), whereas `Timer#schedule(TimerTask, long, long)` re-schedules the next task at the current time (before executing the current task) + a period later. (In contrast, the fixed rate methods don&#39;t use the current time + a period, but always the planned execution time + a period. This leads to a burst of ticks when running behind a long time.)\r\n\r\nHowever, although `Timer#schedule(TimerTask, long, long)` satisfies my requirements, it isn&#39;t an ideal solution in my opinion either. The best solution is to use fixed rate scheduling as long as the task computation time doesn&#39;t exceed the specified period, and only if it does, the subsequent period is executed based on fixed delay scheduling, discarding the delay.\r\n\r\nHowever, this isn&#39;t possible with the JDK&#39;s `ScheduledThreadPoolExecutor` and `Timer` because they both habe only two hardcoded so-called (in other frameworks) `Trigger`s each, one for fixed rate scheduling and one for fixed delay scheduling. [Here][3] are the `Trigger`s of `ScheduledThreadPoolExecutor` and [here][4] are the `Trigger`s of `Timer`.\r\n\r\nThe `Trigger` of `ScheduledThreadPoolExecutor` for fixed rate scheduling is for example `time += p`. When this is replaced with another `Trigger`, namely `time = Math.max(System.nanoTime(), time + p)`, it does exactly what I am asking for in my question, namely scheduling at fixed rate without catching up.\r\n\r\nThe problem is that it&#39;s not possible to schedule tasks with custom `Trigger`s with the JDK&#39;s inbuilt options `ScheduledThreadPoolExecutor` and `Timer`. Luckily there are some open-source libraries/frameworks, which provide schedulers that support scheduling tasks with custom `Trigger`s.\r\n\r\nExamples for such libraries/frameworks are [Wisp][5], [Quartz][6] and the [Spring Framework][7]. For demonstration I will use the Spring Framework&#39;s class [`ThreadPoolTaskScheduler`][8], which has the method [`#schedule(Runnable, Trigger)`][9] that uses a custom [`Trigger`][10]. For standard fixed rate and fixed delay scheduling there is already an implementation, namely [`PeriodicTrigger`][11]. However, to schedule a task at fixed rate without catching up, one can use the following `Trigger`.\r\n\r\n```java\r\nThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\r\nthreadPoolTaskScheduler.setPoolSize(1);\r\nthreadPoolTaskScheduler.initialize();\r\nthreadPoolTaskScheduler.schedule(task, t -&gt; {\r\n    Date lastExecution = t.lastScheduledExecutionTime();\r\n    Date lastCompletion = t.lastCompletionTime();\r\n\r\n    if (lastExecution == null || lastCompletion == null) {\r\n        return new Date(t.getClock().millis() + delay);\r\n    }\r\n\r\n    return new Date(Math.max(lastCompletion.getTime(), lastExecution.getTime() + period));\r\n});\r\n```\r\n\r\nWhen using this scheduler, the result is the same as in the table above for the `Timer`, when fixed delay scheduling is used, except that this scheduler is much more precise because true fixed rate scheduling is used as much as possible.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Timer.html#schedule(java.util.TimerTask,long,long)\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\r\n  [3]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ScheduledThreadPoolExecutor.java#L276-L285\r\n  [4]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Timer.java#L555-L559\r\n  [5]: https://github.com/Coreoz/Wisp\r\n  [6]: https://github.com/quartz-scheduler/quartz\r\n  [7]: https://github.com/spring-projects/spring-framework\r\n  [8]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskScheduler.html\r\n  [9]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskScheduler.html#schedule-java.lang.Runnable-org.springframework.scheduling.Trigger-\r\n  [10]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/Trigger.html\r\n  [11]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/PeriodicTrigger.html","title":"SingleThreadScheduledExecutor or Timer scheduleAtFixedRate but don&#39;t catch up?","body":"<p>It turns out that I have a wrong assumption in my question.</p>\n<blockquote>\n<p>A <code>Timer</code> has very similar methods that do the same thing.</p>\n</blockquote>\n<p>In fact, this isn't true. Although the Java API Docs state that <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Timer.html#schedule(java.util.TimerTask,long,long)\" rel=\"nofollow noreferrer\"><code>Timer#schedule(TimerTask, long, long)</code></a></p>\n<blockquote>\n<p>Schedules the specified task for repeated fixed-delay execution,</p>\n</blockquote>\n<p>it doesn't do the same thing as <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledThreadPoolExecutor.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>ScheduledThreadPoolExecutor#scheduleWithFixedDelay(…)</code></a>. See the following comparison when executing the code from the question with all methods.</p>\n<pre><code>|-------|----------|----------|\n|       | STPE     | Timer    |\n|-------|----------|----------|\n|       | 0: 0     | 0: 0     |\n|       | 5012: 1  | 5007: 1  |\n|       | 6018: 2  | 5007: 2  | &lt;--\n|       | 7024: 3  | 6019: 3  |\n| Fixed | 8025: 4  | 7019: 4  |\n| delay | 9029: 5  | 8022: 5  |\n|       | 10037: 6 | 9024: 6  |\n|       | 11042: 7 | 10027: 7 |\n|       | 12050: 8 | 11042: 8 |\n|       | ...      | ...      |\n|-------|----------|----------|\n|       | 0: 0     | 0: 0     |\n|       | 5024: 1  | 5014: 1  |\n|       | 5024: 2  | 5014: 2  |\n|       | 5024: 3  | 5014: 3  |\n| Fixed | 5024: 4  | 5015: 4  |\n| rate  | 5025: 5  | 5015: 5  |\n|       | 5025: 6  | 5015: 6  |\n|       | 6025: 7  | 6002: 7  |\n|       | 7024: 8  | 7002: 8  |\n|       | ...      | ...      |\n|-------|----------|----------|\n</code></pre>\n<p>Thus <code>Timer#schedule(TimerTask, long, long)</code> is in fact what I'm looking for. The difference is that <code>ScheduledThreadPoolExecutor#scheduleWithFixedDelay(…)</code> adds a fixed delay between the completion of the current task and the execution of the next task (this is bad because the task computation time always affects the effective period), whereas <code>Timer#schedule(TimerTask, long, long)</code> re-schedules the next task at the current time (before executing the current task) + a period later. (In contrast, the fixed rate methods don't use the current time + a period, but always the planned execution time + a period. This leads to a burst of ticks when running behind a long time.)</p>\n<p>However, although <code>Timer#schedule(TimerTask, long, long)</code> satisfies my requirements, it isn't an ideal solution in my opinion either. The best solution is to use fixed rate scheduling as long as the task computation time doesn't exceed the specified period, and only if it does, the subsequent period is executed based on fixed delay scheduling, discarding the delay.</p>\n<p>However, this isn't possible with the JDK's <code>ScheduledThreadPoolExecutor</code> and <code>Timer</code> because they both habe only two hardcoded so-called (in other frameworks) <code>Trigger</code>s each, one for fixed rate scheduling and one for fixed delay scheduling. <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/concurrent/ScheduledThreadPoolExecutor.java#L276-L285\" rel=\"nofollow noreferrer\">Here</a> are the <code>Trigger</code>s of <code>ScheduledThreadPoolExecutor</code> and <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Timer.java#L555-L559\" rel=\"nofollow noreferrer\">here</a> are the <code>Trigger</code>s of <code>Timer</code>.</p>\n<p>The <code>Trigger</code> of <code>ScheduledThreadPoolExecutor</code> for fixed rate scheduling is for example <code>time += p</code>. When this is replaced with another <code>Trigger</code>, namely <code>time = Math.max(System.nanoTime(), time + p)</code>, it does exactly what I am asking for in my question, namely scheduling at fixed rate without catching up.</p>\n<p>The problem is that it's not possible to schedule tasks with custom <code>Trigger</code>s with the JDK's inbuilt options <code>ScheduledThreadPoolExecutor</code> and <code>Timer</code>. Luckily there are some open-source libraries/frameworks, which provide schedulers that support scheduling tasks with custom <code>Trigger</code>s.</p>\n<p>Examples for such libraries/frameworks are <a href=\"https://github.com/Coreoz/Wisp\" rel=\"nofollow noreferrer\">Wisp</a>, <a href=\"https://github.com/quartz-scheduler/quartz\" rel=\"nofollow noreferrer\">Quartz</a> and the <a href=\"https://github.com/spring-projects/spring-framework\" rel=\"nofollow noreferrer\">Spring Framework</a>. For demonstration I will use the Spring Framework's class <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskScheduler.html\" rel=\"nofollow noreferrer\"><code>ThreadPoolTaskScheduler</code></a>, which has the method <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/concurrent/ThreadPoolTaskScheduler.html#schedule-java.lang.Runnable-org.springframework.scheduling.Trigger-\" rel=\"nofollow noreferrer\"><code>#schedule(Runnable, Trigger)</code></a> that uses a custom <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/Trigger.html\" rel=\"nofollow noreferrer\"><code>Trigger</code></a>. For standard fixed rate and fixed delay scheduling there is already an implementation, namely <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/scheduling/support/PeriodicTrigger.html\" rel=\"nofollow noreferrer\"><code>PeriodicTrigger</code></a>. However, to schedule a task at fixed rate without catching up, one can use the following <code>Trigger</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ThreadPoolTaskScheduler threadPoolTaskScheduler = new ThreadPoolTaskScheduler();\nthreadPoolTaskScheduler.setPoolSize(1);\nthreadPoolTaskScheduler.initialize();\nthreadPoolTaskScheduler.schedule(task, t -&gt; {\n    Date lastExecution = t.lastScheduledExecutionTime();\n    Date lastCompletion = t.lastCompletionTime();\n\n    if (lastExecution == null || lastCompletion == null) {\n        return new Date(t.getClock().millis() + delay);\n    }\n\n    return new Date(Math.max(lastCompletion.getTime(), lastExecution.getTime() + period));\n});\n</code></pre>\n<p>When using this scheduler, the result is the same as in the table above for the <code>Timer</code>, when fixed delay scheduling is used, except that this scheduler is much more precise because true fixed rate scheduling is used as much as possible.</p>\n"}],"owner":{"account_id":4808299,"reputation":1399,"user_id":3882565,"accept_rate":81,"display_name":"stonar96"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1249,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1676034872,"creation_date":1648841844,"question_id":71712004,"body_markdown":"Currently I&#39;m using an [`Executors.newSingleThreadScheduledExecutor()`][1] to schedule a task periodically. The `ScheduledExecutorService` provides two options for this, namely:\r\n\r\n 1. [`ScheduledExecutorService#scheduleWithFixedDelay(…)`][2]\r\n 2. [`ScheduledExecutorService#scheduleAtFixedRate(…)`][3]\r\n\r\nA `Timer` has very similar methods that do the same thing. The problem is that none of those do exactly what I want. \r\n\r\nThe task that I want to schedule will often take a significant part of the period and sometimes even exceed it (depending on how much work there is currently). \r\n\r\n - I don&#39;t want to use `#scheduleWithFixedDelay` because in this case the task computation time and the period will add up, thus the period will almost always be too long (and depend on the task computation time), even if the period isn&#39;t exceeded. \r\n - So it seems like `#scheduleAtFixedRate` is what I want. However,\r\n   consider the case where there are several subsequent periods with too long task computation times, or consider a single period with a task computation time that has an order of magnitude of multiple periods. This will result in multiple periods that are too short afterwards because the `ScheduledExecutorService` or the `Timer` tries to catch up. The delay can grow indefinitely and affect many periods afterwards, causing a busy CPU when it&#39;s maybe not even necessary anymore.\r\n\r\nWhat I want is `#scheduleAtFixedRate` but the period should never be shorter than specified (it shouldn&#39;t try to catch up). With the following code I want to demonstrate this with an example.\r\n\r\n```java\r\npublic final class Test {\r\n    private static int i = 0;\r\n\r\n    public static void main(String[] args) {\r\n        long start = System.currentTimeMillis();\r\n        System.out.println((System.currentTimeMillis() - start) + &quot;: &quot; + i);\r\n        ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\r\n        scheduledExecutorService.scheduleWithFixedDelay(() -&gt; {\r\n            i++;\r\n\r\n            if (i == 1) {\r\n                try {\r\n                    Thread.sleep(5000L);\r\n                } catch (InterruptedException e) {\r\n                    Thread.currentThread().interrupt();\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n            System.out.println((System.currentTimeMillis() - start) + &quot;: &quot; + i);\r\n        }, 0L, 1000L, TimeUnit.MILLISECONDS);\r\n    }\r\n}\r\n```\r\n\r\nThe output of this code using `#scheduleWithFixedDelay` is something like this.\r\n\r\n```\r\n0: 0\r\n5012: 1\r\n6018: 2\r\n7024: 3\r\n8025: 4\r\n9029: 5\r\n10037: 6\r\n11042: 7\r\n12050: 8\r\n...\r\n```\r\n\r\nThe output of this code using `#scheduleAtFixedRate` is something like this.\r\n\r\n```\r\n0: 0\r\n5024: 1\r\n5024: 2\r\n5024: 3\r\n5024: 4\r\n5025: 5\r\n5025: 6\r\n6025: 7\r\n7024: 8\r\n...\r\n```\r\n\r\n(Ignore the least significant time digits.) What I actually want is a `#schedule` method that bahaves like this.\r\n\r\n```\r\n0: 0\r\n5000: 1\r\n5000: 2\r\n6000: 3\r\n7000: 4\r\n8000: 5\r\n9000: 6\r\n10000: 7\r\n11000: 8\r\n...\r\n```\r\n\r\nI think this is similar to how game loops work. The question is, does Java have an inbuilt way, similar to `ScheduledExecutorService` or `Timer`, to schedule a task like that. If not, is there an easy way to implement this or are there any external libraries that I can use for this, without reinventing the wheel?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor()\r\n  [2]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\r\n  [3]: https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)","title":"SingleThreadScheduledExecutor or Timer scheduleAtFixedRate but don&#39;t catch up?","body":"<p>Currently I'm using an <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/Executors.html#newSingleThreadScheduledExecutor()\" rel=\"nofollow noreferrer\"><code>Executors.newSingleThreadScheduledExecutor()</code></a> to schedule a task periodically. The <code>ScheduledExecutorService</code> provides two options for this, namely:</p>\n<ol>\n<li><a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleWithFixedDelay(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService#scheduleWithFixedDelay(…)</code></a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/concurrent/ScheduledExecutorService.html#scheduleAtFixedRate(java.lang.Runnable,long,long,java.util.concurrent.TimeUnit)\" rel=\"nofollow noreferrer\"><code>ScheduledExecutorService#scheduleAtFixedRate(…)</code></a></li>\n</ol>\n<p>A <code>Timer</code> has very similar methods that do the same thing. The problem is that none of those do exactly what I want.</p>\n<p>The task that I want to schedule will often take a significant part of the period and sometimes even exceed it (depending on how much work there is currently).</p>\n<ul>\n<li>I don't want to use <code>#scheduleWithFixedDelay</code> because in this case the task computation time and the period will add up, thus the period will almost always be too long (and depend on the task computation time), even if the period isn't exceeded.</li>\n<li>So it seems like <code>#scheduleAtFixedRate</code> is what I want. However,\nconsider the case where there are several subsequent periods with too long task computation times, or consider a single period with a task computation time that has an order of magnitude of multiple periods. This will result in multiple periods that are too short afterwards because the <code>ScheduledExecutorService</code> or the <code>Timer</code> tries to catch up. The delay can grow indefinitely and affect many periods afterwards, causing a busy CPU when it's maybe not even necessary anymore.</li>\n</ul>\n<p>What I want is <code>#scheduleAtFixedRate</code> but the period should never be shorter than specified (it shouldn't try to catch up). With the following code I want to demonstrate this with an example.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class Test {\n    private static int i = 0;\n\n    public static void main(String[] args) {\n        long start = System.currentTimeMillis();\n        System.out.println((System.currentTimeMillis() - start) + &quot;: &quot; + i);\n        ScheduledExecutorService scheduledExecutorService = Executors.newSingleThreadScheduledExecutor();\n        scheduledExecutorService.scheduleWithFixedDelay(() -&gt; {\n            i++;\n\n            if (i == 1) {\n                try {\n                    Thread.sleep(5000L);\n                } catch (InterruptedException e) {\n                    Thread.currentThread().interrupt();\n                    e.printStackTrace();\n                }\n            }\n\n            System.out.println((System.currentTimeMillis() - start) + &quot;: &quot; + i);\n        }, 0L, 1000L, TimeUnit.MILLISECONDS);\n    }\n}\n</code></pre>\n<p>The output of this code using <code>#scheduleWithFixedDelay</code> is something like this.</p>\n<pre><code>0: 0\n5012: 1\n6018: 2\n7024: 3\n8025: 4\n9029: 5\n10037: 6\n11042: 7\n12050: 8\n...\n</code></pre>\n<p>The output of this code using <code>#scheduleAtFixedRate</code> is something like this.</p>\n<pre><code>0: 0\n5024: 1\n5024: 2\n5024: 3\n5024: 4\n5025: 5\n5025: 6\n6025: 7\n7024: 8\n...\n</code></pre>\n<p>(Ignore the least significant time digits.) What I actually want is a <code>#schedule</code> method that bahaves like this.</p>\n<pre><code>0: 0\n5000: 1\n5000: 2\n6000: 3\n7000: 4\n8000: 5\n9000: 6\n10000: 7\n11000: 8\n...\n</code></pre>\n<p>I think this is similar to how game loops work. The question is, does Java have an inbuilt way, similar to <code>ScheduledExecutorService</code> or <code>Timer</code>, to schedule a task like that. If not, is there an easy way to implement this or are there any external libraries that I can use for this, without reinventing the wheel?</p>\n"},{"tags":["java","spring-boot","swagger-2.0","springfox"],"comments":[{"owner":{"account_id":3388916,"reputation":1080,"user_id":7537885,"display_name":"Hermann Steidel"},"score":0,"creation_date":1551879129,"post_id":55010362,"comment_id":96801634,"body_markdown":"What does your Swagger Docket configuration look like?","body":"What does your Swagger Docket configuration look like?"},{"owner":{"account_id":2623128,"reputation":775,"user_id":2270735,"accept_rate":50,"display_name":"Alberto"},"score":0,"creation_date":1551896868,"post_id":55010362,"comment_id":96812353,"body_markdown":"I have edited the post to add the Swagger configuration","body":"I have edited the post to add the Swagger configuration"}],"answers":[{"tags":[],"owner":{"account_id":11252448,"reputation":3639,"user_id":8253209,"display_name":"Matt Ke"},"comment_count":0,"down_vote_count":1,"up_vote_count":37,"is_accepted":true,"score":36,"last_activity_date":1676034373,"creation_date":1551905042,"answer_id":55031852,"question_id":55010362,"body_markdown":"You have added the `@ApiIgnore` annotation on an interface. It looks like, this annotation doesn&#39;t work when added on an interface. (I really don&#39;t understand why `@Api` works on an interface and `@ApiIgnore` don&#39;t. &#128533;)\r\n\r\nAdd the annotation directly to your controller class. This should solve your problem.\r\n\r\nThe `hidden` property on the `@Api` annotation doesn&#39;t work currently. (See [this](https://github.com/springfox/springfox/issues/2437) GitHub issue.)\r\n\r\n---\r\n\r\nFor Springdoc see: https://stackoverflow.com/questions/62102261","title":"How to hide endpoints from Swagger documentation with Springfox","body":"<p>You have added the <code>@ApiIgnore</code> annotation on an interface. It looks like, this annotation doesn't work when added on an interface. (I really don't understand why <code>@Api</code> works on an interface and <code>@ApiIgnore</code> don't. 😕)</p>\n<p>Add the annotation directly to your controller class. This should solve your problem.</p>\n<p>The <code>hidden</code> property on the <code>@Api</code> annotation doesn't work currently. (See <a href=\"https://github.com/springfox/springfox/issues/2437\" rel=\"nofollow noreferrer\">this</a> GitHub issue.)</p>\n<hr />\n<p>For Springdoc see: <a href=\"https://stackoverflow.com/questions/62102261\">How to hide endpoints from OpenAPI documentation with Springdoc</a></p>\n"},{"comments":[{"owner":{"account_id":2303331,"reputation":4667,"user_id":2023148,"accept_rate":50,"display_name":"bpedroso"},"score":0,"creation_date":1590438284,"post_id":56115342,"comment_id":109674695,"body_markdown":"I resolved hiddon the operation too. By my docs was in a interface. A recommend it.","body":"I resolved hiddon the operation too. By my docs was in a interface. A recommend it."}],"tags":[],"owner":{"account_id":13678404,"reputation":444,"user_id":9869329,"display_name":"Purushotham CK"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1557761821,"creation_date":1557760759,"answer_id":56115342,"question_id":55010362,"body_markdown":"One more way is to use `@ApiOperation(hidden = true)`\r\nThis can be used at controller/handler level method.\r\nE.g.\r\n\r\n    @RestController\r\n    public HomeController{\r\n    @ApiOperation(value = &quot;&lt;Your Message&gt;&quot;, hidden = true)\r\n        public String getMessage(@RequestParam(value = &quot;msg&quot;) final String msg){\r\n            return msg;\r\n        }\r\n    }","title":"How to hide endpoints from Swagger documentation with Springfox","body":"<p>One more way is to use <code>@ApiOperation(hidden = true)</code>\nThis can be used at controller/handler level method.\nE.g.</p>\n\n<pre><code>@RestController\npublic HomeController{\n@ApiOperation(value = \"&lt;Your Message&gt;\", hidden = true)\n    public String getMessage(@RequestParam(value = \"msg\") final String msg){\n        return msg;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":251436,"reputation":924,"user_id":528821,"display_name":"Good Lux"},"comment_count":0,"down_vote_count":8,"up_vote_count":0,"is_accepted":false,"score":-8,"last_activity_date":1574210847,"creation_date":1574210847,"answer_id":58945012,"question_id":55010362,"body_markdown":"Another option is to just remove the @Api completely, and your controller and its methods shouldn&#39;t be picked up by swagger. \r\n","title":"How to hide endpoints from Swagger documentation with Springfox","body":"<p>Another option is to just remove the @Api completely, and your controller and its methods shouldn't be picked up by swagger. </p>\n"},{"comments":[{"owner":{"account_id":182970,"reputation":3454,"user_id":418057,"display_name":"Craigo"},"score":0,"creation_date":1675730303,"post_id":60513001,"comment_id":132988003,"body_markdown":"Thank you.  And it is found here `import io.swagger.v3.oas.annotations.Hidden;`","body":"Thank you.  And it is found here <code>import io.swagger.v3.oas.annotations.Hidden;</code>"}],"tags":[],"owner":{"account_id":2431775,"reputation":566,"user_id":2122524,"display_name":"user2122524"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1583257961,"creation_date":1583257961,"answer_id":60513001,"question_id":55010362,"body_markdown":"  The scenario where we want to hide only a particular method(s) from the class. For swagger.v3 there is an annotation with name `Hidden` in `io.swagger.core.v3:swagger-annotations:2.0.10 jar`. Methods to be hidden can be annotated with `Hidden` annotation as shown below. The below method shows the method with `DELETE` operation which needs to be hidden from the swagger documentation.\r\n\r\n    @DELETE\r\n    @Hidden\r\n    public void deleteList(int id) {\r\n    //code goes here.\r\n    }","title":"How to hide endpoints from Swagger documentation with Springfox","body":"<p>The scenario where we want to hide only a particular method(s) from the class. For swagger.v3 there is an annotation with name <code>Hidden</code> in <code>io.swagger.core.v3:swagger-annotations:2.0.10 jar</code>. Methods to be hidden can be annotated with <code>Hidden</code> annotation as shown below. The below method shows the method with <code>DELETE</code> operation which needs to be hidden from the swagger documentation.</p>\n\n<pre><code>@DELETE\n@Hidden\npublic void deleteList(int id) {\n//code goes here.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6132618,"reputation":301,"user_id":4782364,"display_name":"u33how"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1586166343,"creation_date":1586161157,"answer_id":61055598,"question_id":55010362,"body_markdown":"For *OpenAPI3* and *SpringBoot*:  \r\nI used @Hidden annotation on a method of a controller.  \r\nIt seems to work both at method level and controller level.\r\n\r\n@Hidden annotation was imported from using:\r\n```\r\nimport io.swagger.v3.oas.annotations;\r\n```","title":"How to hide endpoints from Swagger documentation with Springfox","body":"<p>For <em>OpenAPI3</em> and <em>SpringBoot</em>:<br>\nI used @Hidden annotation on a method of a controller.<br>\nIt seems to work both at method level and controller level.</p>\n\n<p>@Hidden annotation was imported from using:</p>\n\n<pre><code>import io.swagger.v3.oas.annotations;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3017894,"reputation":51,"user_id":2559534,"display_name":"Helias Karagozidis"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1642004920,"creation_date":1642004920,"answer_id":70685050,"question_id":55010362,"body_markdown":"Another different great way is to define the visible paths on the SpringFox Configuration \r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SpringFoxConfig {\r\n\r\n        @Bean\r\n        public Docket api() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.any())\r\n                    .paths(Predicates.or(PathSelectors.ant(&quot;/rtm/**&quot;), PathSelectors.ant(&quot;/appview/**&quot;)))\r\n                    .build().apiInfo(apiEndPointsInfo());\r\n        }\r\n    }\r\n\r\nThis way you can define the visible paths centraly and avoid puting swagger annotations on many controllers.\r\n  ","title":"How to hide endpoints from Swagger documentation with Springfox","body":"<p>Another different great way is to define the visible paths on the SpringFox Configuration</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SpringFoxConfig {\n\n    @Bean\n    public Docket api() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .select()\n                .apis(RequestHandlerSelectors.any())\n                .paths(Predicates.or(PathSelectors.ant(&quot;/rtm/**&quot;), PathSelectors.ant(&quot;/appview/**&quot;)))\n                .build().apiInfo(apiEndPointsInfo());\n    }\n}\n</code></pre>\n<p>This way you can define the visible paths centraly and avoid puting swagger annotations on many controllers.</p>\n"}],"owner":{"account_id":2623128,"reputation":775,"user_id":2270735,"accept_rate":50,"display_name":"Alberto"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72983,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":55031852,"answer_count":6,"score":20,"last_activity_date":1676034373,"creation_date":1551814946,"question_id":55010362,"body_markdown":"I have a Spring Boot project with next dependency of Springfox:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t&lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd I have my Interface:\r\n\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import io.swagger.annotations.Api;\r\n    import io.swagger.annotations.ApiOperation;\r\n    import springfox.documentation.annotations.ApiIgnore;\r\n    \r\n    @RestController\r\n    @RequestMapping(value = &quot;/cache&quot;)\r\n    @ApiIgnore\r\n    @Api(hidden = true)\r\n    public interface CacheController {\r\n    \r\n    \t@RequestMapping(\r\n    \t\tvalue = &quot;clear/&quot;,\r\n    \t\tmethod = RequestMethod.GET,\r\n    \t\tproduces = {MediaType.APPLICATION_JSON_VALUE, MediaType.TEXT_PLAIN_VALUE}\r\n    \t)\r\n    \t@ApiOperation(value = &quot;&quot;, hidden = true)\r\n    \tResponseEntity&lt;String&gt; clearToken();\r\n    }\r\n\r\nThe annotations `@ApiIgnore` and `@Api(hidden = true)` (I&#39;ve tested them separately and they don&#39;t work either.) haven&#39;t effects to hide the documentation. It only works if the annotation is over the method, but I would like hide them all since I have other endpoints I&#39;d like to hide.\r\n\r\nSome ideas?\r\n\r\nEDIT:\r\n\r\nThis is my Swagger configuration:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    \r\n    import springfox.documentation.builders.ApiInfoBuilder;\r\n    import springfox.documentation.builders.PathSelectors;\r\n    import springfox.documentation.builders.RequestHandlerSelectors;\r\n    import springfox.documentation.builders.ResponseMessageBuilder;\r\n    import springfox.documentation.service.ApiInfo;\r\n    import springfox.documentation.service.ApiKey;\r\n    import springfox.documentation.service.AuthorizationScope;\r\n    import springfox.documentation.service.Contact;\r\n    import springfox.documentation.service.ResponseMessage;\r\n    import springfox.documentation.service.SecurityReference;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spi.service.contexts.SecurityContext;\r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n    \r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig {\r\n    \t\r\n    \tpublic static String API_KEY_NAME;\r\n    \r\n    \t@Bean\r\n        public Docket apiDocumentation() {\r\n    \t\tList&lt;ResponseMessage&gt; errorList = this.defineResponseMessages();\r\n    \t\t\r\n            return new Docket(DocumentationType.SWAGGER_2)  \r\n              .select()       \r\n              .apis(RequestHandlerSelectors.basePackage(&quot;my.package.rest&quot;))              \r\n              .paths(PathSelectors.any())                          \r\n              .build()\r\n              .useDefaultResponseMessages(true)\r\n              .globalResponseMessage(RequestMethod.GET, errorList)\r\n              .securitySchemes(Arrays.asList(this.apiKey()))\r\n              .securityContexts(Arrays.asList(this.securityContext()))\r\n              .apiInfo(this.apiInfo());                                          \r\n        }\r\n    \t\r\n    \t@Value(&quot;${server.security.apiKeyName}&quot;)\r\n    \tpublic void setApiKeyName(final String apiKeyName) {\r\n    \t\tSwaggerConfig.API_KEY_NAME = apiKeyName;\r\n    \t}\r\n    \r\n    \tprivate ApiKey apiKey() {\r\n    \t\treturn new ApiKey(&quot;apiKey&quot;, API_KEY_NAME, &quot;header&quot;);\r\n    \t}\r\n    \t\r\n    \tprivate SecurityContext securityContext() {\r\n    \t\treturn SecurityContext.builder()\r\n    \t\t\t.securityReferences(defaultAuth())\r\n    \t\t\t.forPaths(PathSelectors.any()).build();\r\n    \t}\r\n    \t\r\n    \tprivate List&lt;SecurityReference&gt; defaultAuth() {\r\n    \t\tAuthorizationScope authorizationScope = new AuthorizationScope(&quot;global&quot;, &quot;accessEverything&quot;);\r\n    \t\tAuthorizationScope[] authorizationScopes = new AuthorizationScope[1];\r\n    \t\tauthorizationScopes[0] = authorizationScope;\r\n    \t\treturn Arrays.asList(new SecurityReference(&quot;apiKey&quot;, authorizationScopes));\r\n    \t}\r\n    \r\n    \tprivate List&lt;ResponseMessage&gt; defineResponseMessages() {\r\n    \t\tList&lt;ResponseMessage&gt; errorList = new ArrayList&lt;ResponseMessage&gt;();\r\n    \t\t\r\n    \t\tResponseMessage responseMessage = new ResponseMessageBuilder()\r\n    \t\t\t.code(HttpStatus.INTERNAL_SERVER_ERROR.value())\r\n    \t\t\t.message(HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase())\r\n    \t\t\t.build();\r\n    \t\t\r\n    \t\terrorList.add(responseMessage);\r\n    \t\t\r\n    \t\tresponseMessage = new ResponseMessageBuilder()\r\n    \t\t\t\t.code(HttpStatus.UNAUTHORIZED.value())\r\n    \t\t\t\t.message(HttpStatus.UNAUTHORIZED.getReasonPhrase())\r\n    \t\t\t\t.build();\r\n    \t\t\r\n    \t\terrorList.add(responseMessage);\r\n    \t\t\r\n    \t\tresponseMessage = new ResponseMessageBuilder()\r\n    \t\t\t\t.code(HttpStatus.NOT_FOUND.value())\r\n    \t\t\t\t.message(HttpStatus.NOT_FOUND.getReasonPhrase())\r\n    \t\t\t\t.build();\r\n    \t\t\r\n    \t\terrorList.add(responseMessage);\r\n    \t\t\r\n    \t\treturn errorList;\r\n    \t}\r\n    \t\r\n    \tprivate ApiInfo apiInfo() {\r\n    \t\tApiInfoBuilder apiInfoBuilder = new ApiInfoBuilder();\r\n    \t\treturn apiInfoBuilder\r\n    \t\t\t.title(&quot;My API&quot;)\r\n    \t\t\t.description(&quot;Description&quot;)\r\n    \t\t\t.version(&quot;1.0.0 Beta&quot;)\r\n    \t\t\t.build();\r\n    \t}\r\n    }\r\n\r\n","title":"How to hide endpoints from Swagger documentation with Springfox","body":"<p>I have a Spring Boot project with next dependency of Springfox:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n    &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n    &lt;version&gt;2.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And I have my Interface:</p>\n\n<pre><code>import org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\nimport springfox.documentation.annotations.ApiIgnore;\n\n@RestController\n@RequestMapping(value = \"/cache\")\n@ApiIgnore\n@Api(hidden = true)\npublic interface CacheController {\n\n    @RequestMapping(\n        value = \"clear/\",\n        method = RequestMethod.GET,\n        produces = {MediaType.APPLICATION_JSON_VALUE, MediaType.TEXT_PLAIN_VALUE}\n    )\n    @ApiOperation(value = \"\", hidden = true)\n    ResponseEntity&lt;String&gt; clearToken();\n}\n</code></pre>\n\n<p>The annotations <code>@ApiIgnore</code> and <code>@Api(hidden = true)</code> (I've tested them separately and they don't work either.) haven't effects to hide the documentation. It only works if the annotation is over the method, but I would like hide them all since I have other endpoints I'd like to hide.</p>\n\n<p>Some ideas?</p>\n\n<p>EDIT:</p>\n\n<p>This is my Swagger configuration:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.web.bind.annotation.RequestMethod;\n\nimport springfox.documentation.builders.ApiInfoBuilder;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.builders.ResponseMessageBuilder;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.service.ApiKey;\nimport springfox.documentation.service.AuthorizationScope;\nimport springfox.documentation.service.Contact;\nimport springfox.documentation.service.ResponseMessage;\nimport springfox.documentation.service.SecurityReference;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spi.service.contexts.SecurityContext;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n    public static String API_KEY_NAME;\n\n    @Bean\n    public Docket apiDocumentation() {\n        List&lt;ResponseMessage&gt; errorList = this.defineResponseMessages();\n\n        return new Docket(DocumentationType.SWAGGER_2)  \n          .select()       \n          .apis(RequestHandlerSelectors.basePackage(\"my.package.rest\"))              \n          .paths(PathSelectors.any())                          \n          .build()\n          .useDefaultResponseMessages(true)\n          .globalResponseMessage(RequestMethod.GET, errorList)\n          .securitySchemes(Arrays.asList(this.apiKey()))\n          .securityContexts(Arrays.asList(this.securityContext()))\n          .apiInfo(this.apiInfo());                                          \n    }\n\n    @Value(\"${server.security.apiKeyName}\")\n    public void setApiKeyName(final String apiKeyName) {\n        SwaggerConfig.API_KEY_NAME = apiKeyName;\n    }\n\n    private ApiKey apiKey() {\n        return new ApiKey(\"apiKey\", API_KEY_NAME, \"header\");\n    }\n\n    private SecurityContext securityContext() {\n        return SecurityContext.builder()\n            .securityReferences(defaultAuth())\n            .forPaths(PathSelectors.any()).build();\n    }\n\n    private List&lt;SecurityReference&gt; defaultAuth() {\n        AuthorizationScope authorizationScope = new AuthorizationScope(\"global\", \"accessEverything\");\n        AuthorizationScope[] authorizationScopes = new AuthorizationScope[1];\n        authorizationScopes[0] = authorizationScope;\n        return Arrays.asList(new SecurityReference(\"apiKey\", authorizationScopes));\n    }\n\n    private List&lt;ResponseMessage&gt; defineResponseMessages() {\n        List&lt;ResponseMessage&gt; errorList = new ArrayList&lt;ResponseMessage&gt;();\n\n        ResponseMessage responseMessage = new ResponseMessageBuilder()\n            .code(HttpStatus.INTERNAL_SERVER_ERROR.value())\n            .message(HttpStatus.INTERNAL_SERVER_ERROR.getReasonPhrase())\n            .build();\n\n        errorList.add(responseMessage);\n\n        responseMessage = new ResponseMessageBuilder()\n                .code(HttpStatus.UNAUTHORIZED.value())\n                .message(HttpStatus.UNAUTHORIZED.getReasonPhrase())\n                .build();\n\n        errorList.add(responseMessage);\n\n        responseMessage = new ResponseMessageBuilder()\n                .code(HttpStatus.NOT_FOUND.value())\n                .message(HttpStatus.NOT_FOUND.getReasonPhrase())\n                .build();\n\n        errorList.add(responseMessage);\n\n        return errorList;\n    }\n\n    private ApiInfo apiInfo() {\n        ApiInfoBuilder apiInfoBuilder = new ApiInfoBuilder();\n        return apiInfoBuilder\n            .title(\"My API\")\n            .description(\"Description\")\n            .version(\"1.0.0 Beta\")\n            .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","routes","apache-camel","spring-camel"],"answers":[{"tags":[],"owner":{"account_id":17332701,"reputation":86,"user_id":12555370,"display_name":"Artique"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676034182,"creation_date":1676034182,"answer_id":75411512,"question_id":75372840,"body_markdown":"The `@Consume` annotation in Apache Camel is used to subscribe to a Camel endpoint and consume messages from it. The endpoint can be either a direct endpoint or any other type of endpoint such as a JMS queue or a REST endpoint, depending on your use case.\r\n\r\nThe endpoint URI, which is specified in the uri attribute of the `@Consume` annotation, determines where the messages are consumed from. In your example, `direct:products.create.validate.interceptor` and `direct:listAccountsPostHook` are both direct endpoints.\r\n\r\nIn Apache Camel, direct endpoints are in-memory endpoints that allow you to send messages directly to another endpoint in the same JVM. The mapping between the endpoint and the method that consumes the messages is done by Camel&#39;s routing engine.\r\nMore on Camel Direct endpoints you can read [here](https://camel.apache.org/components/3.20.x/direct-component.html).\r\n\r\nTo understand how the messages are being consumed, you should look at the Camel routes that are defined in your project. In a Spring Boot project, you can define your Camel routes in a `RouteBuilder` class. This is where you would specify the mapping between the direct endpoint and the method that will consume the messages.\r\n\r\nFor example, if you have a `RouteBuilder` class that looks like this:\r\n\r\n```\r\npublic class MyRouteBuilder extends RouteBuilder {\r\n  @Override\r\n  public void configure() {\r\n    from(&quot;direct:products.create.validate.interceptor&quot;)\r\n      .to(&quot;bean:myBean?method=executeCreate&quot;);\r\n  }\r\n}\r\n```\r\n\r\nIn this example, the direct endpoint `direct:products.create.validate.interceptor` is mapped to the `executeCreate` method in the `myBean` bean. The `?method=executeCreate` part of the to URI tells Camel **to** call the executeCreate method on the myBean bean when a message is received at the endpoint.\r\n\r\nSo, in short, you should look for the Camel routes in your project that define the mapping between the endpoint and the method that consumes the messages.","title":"How @Consume from Apache Camel does the mapping in Spring Boot project?","body":"<p>The <code>@Consume</code> annotation in Apache Camel is used to subscribe to a Camel endpoint and consume messages from it. The endpoint can be either a direct endpoint or any other type of endpoint such as a JMS queue or a REST endpoint, depending on your use case.</p>\n<p>The endpoint URI, which is specified in the uri attribute of the <code>@Consume</code> annotation, determines where the messages are consumed from. In your example, <code>direct:products.create.validate.interceptor</code> and <code>direct:listAccountsPostHook</code> are both direct endpoints.</p>\n<p>In Apache Camel, direct endpoints are in-memory endpoints that allow you to send messages directly to another endpoint in the same JVM. The mapping between the endpoint and the method that consumes the messages is done by Camel's routing engine.\nMore on Camel Direct endpoints you can read <a href=\"https://camel.apache.org/components/3.20.x/direct-component.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>To understand how the messages are being consumed, you should look at the Camel routes that are defined in your project. In a Spring Boot project, you can define your Camel routes in a <code>RouteBuilder</code> class. This is where you would specify the mapping between the direct endpoint and the method that will consume the messages.</p>\n<p>For example, if you have a <code>RouteBuilder</code> class that looks like this:</p>\n<pre><code>public class MyRouteBuilder extends RouteBuilder {\n  @Override\n  public void configure() {\n    from(&quot;direct:products.create.validate.interceptor&quot;)\n      .to(&quot;bean:myBean?method=executeCreate&quot;);\n  }\n}\n</code></pre>\n<p>In this example, the direct endpoint <code>direct:products.create.validate.interceptor</code> is mapped to the <code>executeCreate</code> method in the <code>myBean</code> bean. The <code>?method=executeCreate</code> part of the to URI tells Camel <strong>to</strong> call the executeCreate method on the myBean bean when a message is received at the endpoint.</p>\n<p>So, in short, you should look for the Camel routes in your project that define the mapping between the endpoint and the method that consumes the messages.</p>\n"}],"owner":{"account_id":2090997,"reputation":844,"user_id":7516740,"display_name":"elvis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":301,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75411512,"answer_count":1,"score":2,"last_activity_date":1676034182,"creation_date":1675769976,"question_id":75372840,"body_markdown":"I&#39;m learning about Apache Camel routes in Spring Boot projects and I have a project that does extension from some endpoints. The endpoints are not in this project, only the extension is done here. The extension is done using @Consume from org.apache.camel in this way:\r\n\r\n    @Consume(uri = &quot;direct:products.create.validate.interceptor&quot;)\r\n    public void executeCreate(RequestWrapper&lt;Product&gt; productWrapper) {\r\n    ...\r\n    }\r\n\r\nI try to understand how this direct:products.create.validate.interceptor is mapped to an endpoint from another service. Can somebody explain me how this @Consume annotation does the mapping?\r\nOr another example is this:\r\n\r\n    @Consume(uri = &quot;direct:listAccountsPostHook&quot;)\r\n    public void executeCreate(RequestWrapper&lt;Account&gt; accountWrapper) {\r\n    ...\r\n    }\r\n\r\nWhere should I look to understand how they are mapped? In the controller of the other service? I can&#39;t find any example with @Consume. Thank you!","title":"How @Consume from Apache Camel does the mapping in Spring Boot project?","body":"<p>I'm learning about Apache Camel routes in Spring Boot projects and I have a project that does extension from some endpoints. The endpoints are not in this project, only the extension is done here. The extension is done using @Consume from org.apache.camel in this way:</p>\n<pre><code>@Consume(uri = &quot;direct:products.create.validate.interceptor&quot;)\npublic void executeCreate(RequestWrapper&lt;Product&gt; productWrapper) {\n...\n}\n</code></pre>\n<p>I try to understand how this direct:products.create.validate.interceptor is mapped to an endpoint from another service. Can somebody explain me how this @Consume annotation does the mapping?\nOr another example is this:</p>\n<pre><code>@Consume(uri = &quot;direct:listAccountsPostHook&quot;)\npublic void executeCreate(RequestWrapper&lt;Account&gt; accountWrapper) {\n...\n}\n</code></pre>\n<p>Where should I look to understand how they are mapped? In the controller of the other service? I can't find any example with @Consume. Thank you!</p>\n"},{"tags":["java","inputstream"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1542209669,"post_id":53303571,"comment_id":93488176,"body_markdown":"It&#39;s the utf8 byte order mark. Some editors save the BOM inside the file (in order to be used as a header) which regularly causes confusion because it is optional.","body":"It&#39;s the utf8 byte order mark. Some editors save the BOM inside the file (in order to be used as a header) which regularly causes confusion because it is optional."}],"answers":[{"tags":[],"owner":{"account_id":48070,"reputation":99610,"user_id":142637,"accept_rate":100,"display_name":"sloth"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1542209589,"creation_date":1542209589,"answer_id":53303683,"question_id":53303571,"body_markdown":"Are you sure it&#39;s not `239 187 191`? (`EF BB BF` in hex)\n\nYou&#39;re seeing the [byte order mark][1] of the file:\n\n&gt; The byte order mark (BOM) is a Unicode character, U+FEFF BYTE ORDER MARK (BOM), whose appearance as a magic number at the start of a text stream can signal several things to a program reading the text:\n&gt;\n&gt;    The byte order, or endianness, of the text stream;  \n&gt;    The fact that the text stream&#39;s encoding is Unicode, to a high level of confidence;  \n&gt;    Which Unicode encoding the text stream is encoded as.\n\n\n  [1]: https://en.wikipedia.org/wiki/Byte_order_mark","title":"Why does the FileReader stream read 239, 187, 191 from a textfile?","body":"<p>Are you sure it's not <code>239 187 191</code>? (<code>EF BB BF</code> in hex)</p>\n<p>You're seeing the <a href=\"https://en.wikipedia.org/wiki/Byte_order_mark\" rel=\"noreferrer\">byte order mark</a> of the file:</p>\n<blockquote>\n<p>The byte order mark (BOM) is a Unicode character, U+FEFF BYTE ORDER MARK (BOM), whose appearance as a magic number at the start of a text stream can signal several things to a program reading the text:</p>\n<p>The byte order, or endianness, of the text stream;<br />\nThe fact that the text stream's encoding is Unicode, to a high level of confidence;<br />\nWhich Unicode encoding the text stream is encoded as.</p>\n</blockquote>\n"}],"owner":{"account_id":13785848,"reputation":165,"user_id":9949802,"display_name":"Mireodon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3629,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":53303683,"answer_count":1,"score":8,"last_activity_date":1676034017,"creation_date":1542209239,"question_id":53303571,"body_markdown":"I have a text file with a just a character &#39;T&#39; inside, and I have created a read stream to output to the console what is being read and I got 239, 187, 191 and 84, I understand that 84 represents &#39;T&#39;, I know 239, 187, 191 represent other characters as well but I don&#39;t have those characters in my text file, what is going on??\r\n\r\n    public class Test {\r\n    \r\n       public static void main(String args[]) throws IOException {  \r\n          FileInputStream in = null;\r\n    \r\n          try {\r\n             in = new FileInputStream(&quot;input.txt&quot;);         \r\n             int c;\r\n             while ((c = in.read()) != -1) {\r\n            \t System.out.println(c);\r\n       \r\n             }\r\n          }finally {\r\n             if (in != null) {\r\n                in.close();\r\n             }\r\n          }\r\n       }\r\n    }","title":"Why does the FileReader stream read 239, 187, 191 from a textfile?","body":"<p>I have a text file with a just a character 'T' inside, and I have created a read stream to output to the console what is being read and I got 239, 187, 191 and 84, I understand that 84 represents 'T', I know 239, 187, 191 represent other characters as well but I don't have those characters in my text file, what is going on??</p>\n\n<pre><code>public class Test {\n\n   public static void main(String args[]) throws IOException {  \n      FileInputStream in = null;\n\n      try {\n         in = new FileInputStream(\"input.txt\");         \n         int c;\n         while ((c = in.read()) != -1) {\n             System.out.println(c);\n\n         }\n      }finally {\n         if (in != null) {\n            in.close();\n         }\n      }\n   }\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":7363309,"reputation":260,"user_id":5605881,"display_name":"TheZero"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1662716956,"creation_date":1662716956,"answer_id":73660265,"question_id":73659494,"body_markdown":"I have 2 option for you.\r\n\r\n 1. If you just want set text size/ margin for only one screen size. Create file `dimens` on `values` folder. And use that code `getResources().getDimension(R.dimen.dimen_name)`. The point is `dimens` just allow  dp, sp and px. But I think that is enough.\r\n 2. In case you want set for multi-screen. You can use that lib `com.intuit.sdp:sdp-android` and call multi-dimension like that `getResources().getDimension(R.dimen._1sdp)`","title":"How to set the dimensions of a view programatically using sdp in andorid?","body":"<p>I have 2 option for you.</p>\n<ol>\n<li>If you just want set text size/ margin for only one screen size. Create file <code>dimens</code> on <code>values</code> folder. And use that code <code>getResources().getDimension(R.dimen.dimen_name)</code>. The point is <code>dimens</code> just allow  dp, sp and px. But I think that is enough.</li>\n<li>In case you want set for multi-screen. You can use that lib <code>com.intuit.sdp:sdp-android</code> and call multi-dimension like that <code>getResources().getDimension(R.dimen._1sdp)</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":25931969,"reputation":398,"user_id":19652887,"display_name":"M Ashhal"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662718001,"creation_date":1662718001,"answer_id":73660471,"question_id":73659494,"body_markdown":"You could make ur dimens.xml file and enter your desired margins/dimensions for each density.\r\n\r\nI would suggest using a library from https://github.com/intuit/sdp\r\n\r\nYou could use this to set your margins or dimensions using \r\n\r\n```\r\nJava -&gt;\r\ngetResources.getDimension(R.dimen._**sdp);\r\n\r\nKotlin -&gt;\r\nresources.getDimension(R.dimen._**sdp)\r\n```\r\n\r\nIf u want progmatically set text size or sp sizes, use this https://github.com/intuit/ssp\r\n\r\n```\r\nJava -&gt;\r\ntasks.setTextSize(getResources.getDimension(R.dimen._**ssp);\r\n\r\nKotlin -&gt;\r\ntasks.setTextSize(resources.getDimension(R.dimen._**ssp)\r\n```\r\n\r\nHope this helps! :)\r\n","title":"How to set the dimensions of a view programatically using sdp in andorid?","body":"<p>You could make ur dimens.xml file and enter your desired margins/dimensions for each density.</p>\n<p>I would suggest using a library from <a href=\"https://github.com/intuit/sdp\" rel=\"nofollow noreferrer\">https://github.com/intuit/sdp</a></p>\n<p>You could use this to set your margins or dimensions using</p>\n<pre><code>Java -&gt;\ngetResources.getDimension(R.dimen._**sdp);\n\nKotlin -&gt;\nresources.getDimension(R.dimen._**sdp)\n</code></pre>\n<p>If u want progmatically set text size or sp sizes, use this <a href=\"https://github.com/intuit/ssp\" rel=\"nofollow noreferrer\">https://github.com/intuit/ssp</a></p>\n<pre><code>Java -&gt;\ntasks.setTextSize(getResources.getDimension(R.dimen._**ssp);\n\nKotlin -&gt;\ntasks.setTextSize(resources.getDimension(R.dimen._**ssp)\n</code></pre>\n<p>Hope this helps! :)</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676314493,"post_id":75411456,"comment_id":133108803,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75411456/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27752667,"reputation":1,"user_id":21186811,"display_name":"451-F"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676033906,"creation_date":1676033831,"answer_id":75411456,"question_id":73659494,"body_markdown":"in Kotlin I solved it this way\r\n\r\n    headerTimer.layoutParams.height = resources.getDimension(com.intuit.sdp.R.dimen._180sdp).toInt()\r\n\r\nand it works correctly\r\n\r\n  ","title":"How to set the dimensions of a view programatically using sdp in andorid?","body":"<p>in Kotlin I solved it this way</p>\n<pre><code>headerTimer.layoutParams.height = resources.getDimension(com.intuit.sdp.R.dimen._180sdp).toInt()\n</code></pre>\n<p>and it works correctly</p>\n"}],"owner":{"account_id":23537247,"reputation":730,"user_id":17582019,"display_name":"Deepak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73660265,"answer_count":3,"score":2,"last_activity_date":1676033906,"creation_date":1662712826,"question_id":73659494,"body_markdown":"I want to programmatically set the dimensions of `TextView`. But I&#39;m using `sdp` and `ssp` values. How can I use these values to set the dimensions of a textview programatically.\r\n\r\n    TextView tasks = new TextView(this);\r\n    tasks.setText(name);\r\n    tasks.setTextSize(??);\r\n    tasks.setMargin(??)\r\n    ViewGroup.LayoutParams l1 = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, height??); // what is the height input here?\r\n\r\nAnd how to set the text size (ssp) and margin/padding (sdp)? \r\n\r\n","title":"How to set the dimensions of a view programatically using sdp in andorid?","body":"<p>I want to programmatically set the dimensions of <code>TextView</code>. But I'm using <code>sdp</code> and <code>ssp</code> values. How can I use these values to set the dimensions of a textview programatically.</p>\n<pre><code>TextView tasks = new TextView(this);\ntasks.setText(name);\ntasks.setTextSize(??);\ntasks.setMargin(??)\nViewGroup.LayoutParams l1 = new ViewGroup.LayoutParams(ViewGroup.LayoutParams.MATCH_PARENT, height??); // what is the height input here?\n</code></pre>\n<p>And how to set the text size (ssp) and margin/padding (sdp)?</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1657544047,"post_id":72938859,"comment_id":128828194,"body_markdown":"That proves that your browser is not sending that header. Why do you expect that to happen?","body":"That proves that your browser is not sending that header. Why do you expect that to happen?"},{"owner":{"account_id":19360557,"reputation":11,"user_id":14155884,"display_name":"Madan Mohan Mishra"},"score":0,"creation_date":1657546126,"post_id":72938859,"comment_id":128829081,"body_markdown":"Browser is sending the header, I have verified that.","body":"Browser is sending the header, I have verified that."},{"owner":{"account_id":19360557,"reputation":11,"user_id":14155884,"display_name":"Madan Mohan Mishra"},"score":0,"creation_date":1657559973,"post_id":72938859,"comment_id":128834626,"body_markdown":"Any help will be really appreciated, just to highlight I am running both front end and backend in localhost but at different ports","body":"Any help will be really appreciated, just to highlight I am running both front end and backend in localhost but at different ports"}],"answers":[{"comments":[{"owner":{"account_id":19360557,"reputation":11,"user_id":14155884,"display_name":"Madan Mohan Mishra"},"score":0,"creation_date":1657629803,"post_id":72945229,"comment_id":128851955,"body_markdown":"Thanks for your reply but can you explain or tell what changes I need to make so that it could work from browser as well","body":"Thanks for your reply but can you explain or tell what changes I need to make so that it could work from browser as well"},{"owner":{"account_id":19360557,"reputation":11,"user_id":14155884,"display_name":"Madan Mohan Mishra"},"score":0,"creation_date":1657630115,"post_id":72945229,"comment_id":128852077,"body_markdown":"just to update, I am hitting the api from Angular application","body":"just to update, I am hitting the api from Angular application"},{"owner":{"account_id":19360557,"reputation":11,"user_id":14155884,"display_name":"Madan Mohan Mishra"},"score":0,"creation_date":1657634145,"post_id":72945229,"comment_id":128853822,"body_markdown":"Thanks, this issue is resolved, actually for pre-flight request it is coming as null but after that it is having correct value","body":"Thanks, this issue is resolved, actually for pre-flight request it is coming as null but after that it is having correct value"}],"tags":[],"owner":{"account_id":15984107,"reputation":1,"user_id":11535084,"display_name":"Михаил Егоров"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657579046,"creation_date":1657578037,"answer_id":72945229,"question_id":72938859,"body_markdown":"i guess in browser your request could be not cors (crosserver). Case frontend and backend running on same domain - localhost. When you are using Postman, your request is cross domain.","title":"Getting request.getHeader(&quot;Authorization&quot;) as null while hitting api from browser but not in postman","body":"<p>i guess in browser your request could be not cors (crosserver). Case frontend and backend running on same domain - localhost. When you are using Postman, your request is cross domain.</p>\n"}],"owner":{"account_id":19360557,"reputation":11,"user_id":14155884,"display_name":"Madan Mohan Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2565,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1676033630,"creation_date":1657543688,"question_id":72938859,"body_markdown":"Here is my filter which I have written in java that will intercept all the incoming http request.\r\n\r\nWhen I am trying to get or print `request.getHeader(&quot;Authorization&quot;)`, it is giving me `null` but if I am hitting same request from postman, I am getting the value of it.\r\n\r\n```\r\npackage com.web.filter;\r\n\r\nimport java.io.IOException;\r\n\r\nimport javax.servlet.Filter;\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.FilterConfig;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.ServletRequest;\r\nimport javax.servlet.ServletResponse;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\n\r\nimport org.springframework.core.Ordered;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\n@Order(Ordered.HIGHEST_PRECEDENCE)\r\npublic class CORSFilter implements Filter{\r\n\t\r\n\t@Override\r\n\tpublic void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws \r\n\t\tIOException, ServletException {\r\n\t\tHttpServletResponse response = (HttpServletResponse) res;\r\n\t\tHttpServletRequest request = (HttpServletRequest) req;\r\n\t\tString header=request.getHeader(&quot;Authorization&quot;);\r\n\t\t\t\t\r\n\t\tresponse.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\r\n\t\tresponse.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;*&quot;);\r\n\t\tresponse.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\r\n\t\tresponse.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\r\n\r\n\t\tif (&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {\t            \r\n\t\t\tresponse.setStatus(HttpServletResponse.SC_OK);\r\n\t\t} else {\r\n\t\t\tchain.doFilter(req, res);\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void init(FilterConfig filterConfig) {\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void destroy() {\r\n\t}\r\n}\r\n```","title":"Getting request.getHeader(&quot;Authorization&quot;) as null while hitting api from browser but not in postman","body":"<p>Here is my filter which I have written in java that will intercept all the incoming http request.</p>\n<p>When I am trying to get or print <code>request.getHeader(&quot;Authorization&quot;)</code>, it is giving me <code>null</code> but if I am hitting same request from postman, I am getting the value of it.</p>\n<pre><code>package com.web.filter;\n\nimport java.io.IOException;\n\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\n\nimport org.springframework.core.Ordered;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.stereotype.Component;\n\n@Component\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic class CORSFilter implements Filter{\n    \n    @Override\n    public void doFilter(ServletRequest req, ServletResponse res, FilterChain chain) throws \n        IOException, ServletException {\n        HttpServletResponse response = (HttpServletResponse) res;\n        HttpServletRequest request = (HttpServletRequest) req;\n        String header=request.getHeader(&quot;Authorization&quot;);\n                \n        response.setHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;*&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Methods&quot;, &quot;*&quot;);\n        response.setHeader(&quot;Access-Control-Max-Age&quot;, &quot;3600&quot;);\n        response.setHeader(&quot;Access-Control-Allow-Headers&quot;, &quot;*&quot;);\n\n        if (&quot;OPTIONS&quot;.equalsIgnoreCase(request.getMethod())) {              \n            response.setStatus(HttpServletResponse.SC_OK);\n        } else {\n            chain.doFilter(req, res);\n        }\n    }\n\n    @Override\n    public void init(FilterConfig filterConfig) {\n    }\n\n    @Override\n    public void destroy() {\n    }\n}\n</code></pre>\n"},{"tags":["java","android","dialog","fragment"],"answers":[{"tags":[],"owner":{"account_id":10698530,"reputation":592,"user_id":7874746,"display_name":"Abdullah Javed"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676033569,"creation_date":1676033569,"answer_id":75411402,"question_id":75410265,"body_markdown":"Use `getActivity()` instead of `MoviesFragFragmentActivity.this`","title":"How to display an Alert Dialog in a fragment","body":"<p>Use <code>getActivity()</code> instead of <code>MoviesFragFragmentActivity.this</code></p>\n"}],"owner":{"account_id":23727738,"reputation":13,"user_id":17747424,"display_name":"user17747424"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676033569,"creation_date":1676027184,"question_id":75410265,"body_markdown":"I am trying to display a custom Alert Dialog in a fragment. The name of my fragment is MoviesFragFragmentActivity.java\r\n\r\nHere is my code:\r\n\r\n```\r\nfinal AlertDialog dialog1 = new AlertDialog.Builder(MoviesFragFragmentActivity.this).create();\r\nView inflate = getLayoutInflater().inflate(R.layout.custom3,null); \r\ndialog1.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\r\ndialog1.setView(inflate);\r\nTextView t1 = (TextView) inflate.findViewById(R.id.t1);\r\n\r\nTextView t2 = (TextView) inflate.findViewById(R.id.t2);\r\n\r\nTextView t3 = (TextView) inflate.findViewById(R.id.t3);\r\n\r\nLinearLayout b1 = (LinearLayout) inflate.findViewById(R.id.b1);\r\n\r\nImageView i1 = (ImageView) inflate.findViewById(R.id.i1);\r\n\r\nLinearLayout bg = (LinearLayout) inflate.findViewById(R.id.bg);\r\nt1.setTypeface(Typeface.createFromAsset(getAssets(),&quot;fonts/en_medium.ttf&quot;), 0);\r\nt2.setTypeface(Typeface.createFromAsset(getAssets(),&quot;fonts/sansation_regular.ttf&quot;), 0);\r\nt3.setTypeface(Typeface.createFromAsset(getAssets(),&quot;fonts/sansation_regular.ttf&quot;), 0);\r\ni1.setImageResource(R.drawable.splash);\r\ni1.getDrawable().setColorFilter(Color.parseColor(&quot;#008DCD&quot;), PorterDuff.Mode.SRC_IN);\r\nt1.setText(&quot;Oh,No...&quot;);\r\nt2.setText(&quot;This feature is not available yet, try after new update &quot;);\r\nt3.setText(&quot;Try again&quot;);\r\n_rippleRoundStroke(bg, &quot;#FAFAFA&quot;, &quot;#000000&quot;, 40, 0, &quot;#000000&quot;);\r\n_CardView(b1, 10, 100, &quot;#008DCD&quot;, true);\r\nb1.setOnClickListener(new View.OnClickListener(){ public void onClick(View v){ \r\n\t\t// Default item selected on bottom navigation onCreate\r\n\t\tbottomnavigation4.getMenu().findItem(2).setChecked(true);\r\n\t\tSketchwareUtil.showMessage(getApplicationContext(), &quot;Try again later&quot;);\r\n\t\tdialog1.dismiss();\r\n\t}\r\n});\r\ndialog1.setCancelable(false);\r\ndialog1.show();\r\n```\r\nOn compilation, it gives me this error:\r\n1. ERROR in /storage/emulated/0/.sketchware/mysc/680/app/src/main/java/com/liquidapps/movieapp/MoviesFragFragmentActivity.java (at line 601)\r\n\r\n\tfinal AlertDialog dialog1 = new AlertDialog.Builder(MoviesFragFragmentActivity.this).create();\r\nThe constructor AlertDialog.Builder(MoviesFragFragmentActivity) is undefined\r\n\r\nHow does I display my alert dialog in my Fragment?\r\n\r\nI tried using the same code in an activity (Main activity.java) and it works fine, but once I use the code in a fragment, I receive the error.","title":"How to display an Alert Dialog in a fragment","body":"<p>I am trying to display a custom Alert Dialog in a fragment. The name of my fragment is MoviesFragFragmentActivity.java</p>\n<p>Here is my code:</p>\n<pre><code>final AlertDialog dialog1 = new AlertDialog.Builder(MoviesFragFragmentActivity.this).create();\nView inflate = getLayoutInflater().inflate(R.layout.custom3,null); \ndialog1.getWindow().setBackgroundDrawableResource(android.R.color.transparent);\ndialog1.setView(inflate);\nTextView t1 = (TextView) inflate.findViewById(R.id.t1);\n\nTextView t2 = (TextView) inflate.findViewById(R.id.t2);\n\nTextView t3 = (TextView) inflate.findViewById(R.id.t3);\n\nLinearLayout b1 = (LinearLayout) inflate.findViewById(R.id.b1);\n\nImageView i1 = (ImageView) inflate.findViewById(R.id.i1);\n\nLinearLayout bg = (LinearLayout) inflate.findViewById(R.id.bg);\nt1.setTypeface(Typeface.createFromAsset(getAssets(),&quot;fonts/en_medium.ttf&quot;), 0);\nt2.setTypeface(Typeface.createFromAsset(getAssets(),&quot;fonts/sansation_regular.ttf&quot;), 0);\nt3.setTypeface(Typeface.createFromAsset(getAssets(),&quot;fonts/sansation_regular.ttf&quot;), 0);\ni1.setImageResource(R.drawable.splash);\ni1.getDrawable().setColorFilter(Color.parseColor(&quot;#008DCD&quot;), PorterDuff.Mode.SRC_IN);\nt1.setText(&quot;Oh,No...&quot;);\nt2.setText(&quot;This feature is not available yet, try after new update &quot;);\nt3.setText(&quot;Try again&quot;);\n_rippleRoundStroke(bg, &quot;#FAFAFA&quot;, &quot;#000000&quot;, 40, 0, &quot;#000000&quot;);\n_CardView(b1, 10, 100, &quot;#008DCD&quot;, true);\nb1.setOnClickListener(new View.OnClickListener(){ public void onClick(View v){ \n        // Default item selected on bottom navigation onCreate\n        bottomnavigation4.getMenu().findItem(2).setChecked(true);\n        SketchwareUtil.showMessage(getApplicationContext(), &quot;Try again later&quot;);\n        dialog1.dismiss();\n    }\n});\ndialog1.setCancelable(false);\ndialog1.show();\n</code></pre>\n<p>On compilation, it gives me this error:</p>\n<ol>\n<li><p>ERROR in /storage/emulated/0/.sketchware/mysc/680/app/src/main/java/com/liquidapps/movieapp/MoviesFragFragmentActivity.java (at line 601)</p>\n<p>final AlertDialog dialog1 = new AlertDialog.Builder(MoviesFragFragmentActivity.this).create();\nThe constructor AlertDialog.Builder(MoviesFragFragmentActivity) is undefined</p>\n</li>\n</ol>\n<p>How does I display my alert dialog in my Fragment?</p>\n<p>I tried using the same code in an activity (Main activity.java) and it works fine, but once I use the code in a fragment, I receive the error.</p>\n"},{"tags":["java","tomcat","intellij-idea","servlets"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1675998434,"post_id":75406539,"comment_id":133053116,"body_markdown":"That means Tomcat is running, and the URL you&#39;re hitting doesn&#39;t exist. Seems more like a web app config/code issue than a Tomcat issue so far.","body":"That means Tomcat is running, and the URL you&#39;re hitting doesn&#39;t exist. Seems more like a web app config/code issue than a Tomcat issue so far."},{"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"score":0,"creation_date":1675998967,"post_id":75406539,"comment_id":133053173,"body_markdown":"I see. So, what would you advise me to check / update?","body":"I see. So, what would you advise me to check / update?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1675999001,"post_id":75406539,"comment_id":133053176,"body_markdown":"Your web app config and code?","body":"Your web app config and code?"},{"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"score":0,"creation_date":1675999160,"post_id":75406539,"comment_id":133053196,"body_markdown":"Here is my web config [web.xml]: \n\n&lt;!DOCTYPE web-app PUBLIC\n        &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;\n        &quot;http://java.sun.com/dtd/web-app_2_3.dtd&quot; &gt;\n\n&lt;web-app&gt;\n    &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;\n\n&lt;/web-app&gt;","body":"Here is my web config [web.xml]:   &lt;!DOCTYPE web-app PUBLIC         &quot;-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN&quot;         &quot;<a href=\"http://java.sun.com/dtd/web-app_2_3.dtd\" rel=\"nofollow noreferrer\">java.sun.com/dtd/web-app_2_3.dtd</a>&quot; &gt;  &lt;web-app&gt;     &lt;display-name&gt;Archetype Created Web Application&lt;/display-name&gt;  &lt;/web-app&gt;"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1675999820,"post_id":75406539,"comment_id":133053273,"body_markdown":"(1) Your picture Screen 2, Tomcat - Deployment \n**Application context** , is empty,  set **Application context:**  value **filter**, (2) browser, open `http://localhost:8080/filter`","body":"(1) Your picture Screen 2, Tomcat - Deployment  <b>Application context</b> , is empty,  set <b>Application context:</b>  value <b>filter</b>, (2) browser, open <code>http:&#47;&#47;localhost:8080&#47;filter</code>"},{"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"score":0,"creation_date":1676000212,"post_id":75406539,"comment_id":133053312,"body_markdown":"@life888888 I added `/filter` into Application context field, but still getting 404&#129300;","body":"@life888888 I added <code>&#47;filter</code> into Application context field, but still getting 404🤔"},{"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"score":0,"creation_date":1676000366,"post_id":75406539,"comment_id":133053322,"body_markdown":"by default, there was `/filter_war_exploded`, but I had removed it to land directly on the home page","body":"by default, there was <code>&#47;filter_war_exploded</code>, but I had removed it to land directly on the home page"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1676000985,"post_id":75406539,"comment_id":133053406,"body_markdown":"By default,  when you deployment `XXX.war`  to tomcat, application context will be `XXX`, mapping to url , will be `http://localhost:8080/XXX`. application context `/` will mapping to `http://localhost:8080/`, application context `/` default is for Tomcat Root,","body":"By default,  when you deployment <code>XXX.war</code>  to tomcat, application context will be <code>XXX</code>, mapping to url , will be <code>http:&#47;&#47;localhost:8080&#47;XXX</code>. application context <code>&#47;</code> will mapping to <code>http:&#47;&#47;localhost:8080&#47;</code>, application context <code>&#47;</code> default is for Tomcat Root,"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1676001332,"post_id":75406539,"comment_id":133053453,"body_markdown":"Your browser error message have `The requestd resource [/login] is not available`. You need check this request `/login` is come from your code, or come from tomcat config?","body":"Your browser error message have <code>The requestd resource [&#47;login] is not available</code>. You need check this request <code>&#47;login</code> is come from your code, or come from tomcat config?"}],"answers":[{"comments":[{"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"score":0,"creation_date":1676002133,"post_id":75406800,"comment_id":133053568,"body_markdown":"Indeed, I have been successfully accessing the `index.jsp`. I just checked my server again by replacing forwarding in `index.jsp` with with something like `Hello world` text and the browser returned this text. I am a total newbie in Java Servlets&#128591;","body":"Indeed, I have been successfully accessing the <code>index.jsp</code>. I just checked my server again by replacing forwarding in <code>index.jsp</code> with with something like <code>Hello world</code> text and the browser returned this text. I am a total newbie in Java Servlets🙏"}],"tags":[],"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676001512,"creation_date":1676001512,"answer_id":75406800,"question_id":75406539,"body_markdown":"In your forked sample project&#39;s `src/main/webapp/index.jsp` file, it contains this part:\r\n\r\n```\r\n&lt;jsp:forward page=&quot;/login&quot;/&gt;\r\n```\r\n\r\nActually, you have already accessed the index page successfully, and it redirects to the `/login` page which does not exist in your project so 404 here.\r\n\r\nBut you have an `src/main/webapp/login.jsp` file in this project, so you could access the `http://localhost:8080/xxxx/login.jsp`.\r\n\r\nIf you change the `&lt;jsp:forward page=&quot;/login&quot;/&gt;` to `&lt;jsp:forward page=&quot;/login.jsp&quot;/&gt;`, it would help too.","title":"How to setup Tomcat 9 server to run it on Intellij IDEA UE (macOS)","body":"<p>In your forked sample project's <code>src/main/webapp/index.jsp</code> file, it contains this part:</p>\n<pre><code>&lt;jsp:forward page=&quot;/login&quot;/&gt;\n</code></pre>\n<p>Actually, you have already accessed the index page successfully, and it redirects to the <code>/login</code> page which does not exist in your project so 404 here.</p>\n<p>But you have an <code>src/main/webapp/login.jsp</code> file in this project, so you could access the <code>http://localhost:8080/xxxx/login.jsp</code>.</p>\n<p>If you change the <code>&lt;jsp:forward page=&quot;/login&quot;/&gt;</code> to <code>&lt;jsp:forward page=&quot;/login.jsp&quot;/&gt;</code>, it would help too.</p>\n"},{"tags":[],"owner":{"account_id":18304375,"reputation":11,"user_id":13328487,"display_name":"Sendi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676033372,"creation_date":1676033372,"answer_id":75411372,"question_id":75406539,"body_markdown":"Adding &quot;/&quot; (slash) to the Application context in the deployment tab should do it. \r\n\r\nIf that doesn&#39;t solve it, then go to [this page.][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11731377/servlet-returns-http-status-404-the-requested-resource-servlet-is-not-availa","title":"How to setup Tomcat 9 server to run it on Intellij IDEA UE (macOS)","body":"<p>Adding &quot;/&quot; (slash) to the Application context in the deployment tab should do it.</p>\n<p>If that doesn't solve it, then go to <a href=\"https://stackoverflow.com/questions/11731377/servlet-returns-http-status-404-the-requested-resource-servlet-is-not-availa\">this page.</a></p>\n"}],"owner":{"account_id":19293855,"reputation":465,"user_id":14103174,"display_name":"Sarvar Khalimov"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75406800,"answer_count":2,"score":0,"last_activity_date":1676033372,"creation_date":1675998167,"question_id":75406539,"body_markdown":"I forked this [Java Project][1] and set up Tomcat 9 as usual. But, when I start the server running, I get `HTTP Status 404`.\r\n\r\nWhich part of my Tomcat / IntelliJ IDEA, do I have to update? I&#39;m using IntelliJ Ultimate with Tomcat 9 and 10 (both installed, but using 9) on macOS - MacBook Air (M1, 2020).\r\n\r\nHere are some relevant screenshots from my project:\r\n1. Tomcat Server\r\n[![enter image description here][2]][2]\r\n\r\n2. Tomcat Deployment\r\n[![enter image description here][3]][3]\r\n\r\n3. Browser\r\n[![enter image description here][4]][4]\r\n\r\n4. Artifact\r\n[![enter image description here][5]][5]\r\n\r\n5. pom.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;filter&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.3&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n             \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;${junit.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.4&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.0&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.8.2&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n  [1]: https://github.com/SarvarKh/stage2-module2-task2\r\n  [2]: https://i.stack.imgur.com/NxQA3.jpg\r\n  [3]: https://i.stack.imgur.com/YVCLM.png\r\n  [4]: https://i.stack.imgur.com/9ooeU.jpg\r\n  [5]: https://i.stack.imgur.com/ymhAp.jpg","title":"How to setup Tomcat 9 server to run it on Intellij IDEA UE (macOS)","body":"<p>I forked this <a href=\"https://github.com/SarvarKh/stage2-module2-task2\" rel=\"nofollow noreferrer\">Java Project</a> and set up Tomcat 9 as usual. But, when I start the server running, I get <code>HTTP Status 404</code>.</p>\n<p>Which part of my Tomcat / IntelliJ IDEA, do I have to update? I'm using IntelliJ Ultimate with Tomcat 9 and 10 (both installed, but using 9) on macOS - MacBook Air (M1, 2020).</p>\n<p>Here are some relevant screenshots from my project:</p>\n<ol>\n<li><p>Tomcat Server\n<a href=\"https://i.stack.imgur.com/NxQA3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NxQA3.jpg\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Tomcat Deployment\n<a href=\"https://i.stack.imgur.com/YVCLM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YVCLM.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Browser\n<a href=\"https://i.stack.imgur.com/9ooeU.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9ooeU.jpg\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Artifact\n<a href=\"https://i.stack.imgur.com/ymhAp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ymhAp.jpg\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>pom.xml</p>\n</li>\n</ol>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;filter&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;junit.version&gt;5.8.2&lt;/junit.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;jstl&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.3&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n             \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;${junit.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;3.12.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;3.12.4&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;!-- see http://maven.apache.org/ref/current/maven-core/default-bindings.html#Plugin_bindings_for_war_packaging --&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.0&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-install-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.2&lt;/version&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-deploy-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.8.2&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n"},{"tags":["java","liquibase"],"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676033336,"creation_date":1675849579,"question_id":75383904,"body_markdown":"I updated the org.liquibase:liquibase-core from 4.16.1 to 4.19.0.\r\n\r\nMy lquibase.xml is\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;databaseChangeLog\r\n            xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\r\n            xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n            xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\r\n          http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.5.xsd&quot;&gt;\r\n        &lt;includeAll path=&quot;classpath:db/migration&quot;/&gt;\r\n    &lt;/databaseChangeLog&gt;\r\n\r\n\r\nWith the version 4.19.0 find no more files in &quot;classpath:db/migration&quot;. But I do no know why.\r\n\r\nTo do the migration I use the following code\r\n\r\n           try (final var connection = DatabaseUtils.createMySQLConnection(db, user, pass) {\r\n    \r\n                final var contexts = new Contexts();\r\n    \r\n                final Database database = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(connection));\r\n                final Liquibase liquibase = new liquibase.Liquibase(&quot;db/liquibase.xml&quot;, new ClassLoaderResourceAccessor(), database);\r\n                liquibase.update(contexts, new LabelExpression());\r\n            } catch (final Exception ex) {\r\n                logger.error(ExceptionUtils.getStackTrace(ex));\r\n            }\r\n\r\n\r\nAny idea why no files found in db/migration ?","title":"liquibase no migration files found in jar","body":"<p>I updated the org.liquibase:liquibase-core from 4.16.1 to 4.19.0.</p>\n<p>My lquibase.xml is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;databaseChangeLog\n        xmlns=&quot;http://www.liquibase.org/xml/ns/dbchangelog&quot;\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n        xsi:schemaLocation=&quot;http://www.liquibase.org/xml/ns/dbchangelog\n      http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-4.5.xsd&quot;&gt;\n    &lt;includeAll path=&quot;classpath:db/migration&quot;/&gt;\n&lt;/databaseChangeLog&gt;\n</code></pre>\n<p>With the version 4.19.0 find no more files in &quot;classpath:db/migration&quot;. But I do no know why.</p>\n<p>To do the migration I use the following code</p>\n<pre><code>       try (final var connection = DatabaseUtils.createMySQLConnection(db, user, pass) {\n\n            final var contexts = new Contexts();\n\n            final Database database = DatabaseFactory.getInstance().findCorrectDatabaseImplementation(new JdbcConnection(connection));\n            final Liquibase liquibase = new liquibase.Liquibase(&quot;db/liquibase.xml&quot;, new ClassLoaderResourceAccessor(), database);\n            liquibase.update(contexts, new LabelExpression());\n        } catch (final Exception ex) {\n            logger.error(ExceptionUtils.getStackTrace(ex));\n        }\n</code></pre>\n<p>Any idea why no files found in db/migration ?</p>\n"},{"tags":["java","swing","oop","uml","sequence-diagram"],"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1676025833,"post_id":75409857,"comment_id":133058550,"body_markdown":"The sequence should be implementation independent - that is to say, the sequence could be implemented on a text or web or desktop or mobile interface, it shouldn&#39;t matter.  If your model classes are tightly coupled to your UI then you have a problem.  Your model classes should do just that, model the data, the UI will then interact with them, against what the sequence diagram is describing.  My suggestion - to consider the UI in the diagram, &quot;how&quot; the use interacts with the flow should not be of concern.","body":"The sequence should be implementation independent - that is to say, the sequence could be implemented on a text or web or desktop or mobile interface, it shouldn&#39;t matter.  If your model classes are tightly coupled to your UI then you have a problem.  Your model classes should do just that, model the data, the UI will then interact with them, against what the sequence diagram is describing.  My suggestion - to consider the UI in the diagram, &quot;how&quot; the use interacts with the flow should not be of concern."},{"owner":{"account_id":24512771,"reputation":11,"user_id":18426888,"display_name":"Adrian Floroiu"},"score":0,"creation_date":1676029314,"post_id":75409857,"comment_id":133059534,"body_markdown":"So let&#39;s say I want to draw a sequence diagram for the customer login process. Considering my classes structure, which object should the customer actor send the message &quot;input account number and PIN&quot;? My answer would be that it needs to send the message to the ATM object. However, in my case, the inputs are received in a CustomerLogin class, which represents the login Swing form, so it represents the UI. In CustomerLogin I create a Customer object, for which I call the login() method.","body":"So let&#39;s say I want to draw a sequence diagram for the customer login process. Considering my classes structure, which object should the customer actor send the message &quot;input account number and PIN&quot;? My answer would be that it needs to send the message to the ATM object. However, in my case, the inputs are received in a CustomerLogin class, which represents the login Swing form, so it represents the UI. In CustomerLogin I create a Customer object, for which I call the login() method."}],"answers":[{"comments":[{"owner":{"account_id":24512771,"reputation":11,"user_id":18426888,"display_name":"Adrian Floroiu"},"score":0,"creation_date":1676049344,"post_id":75411353,"comment_id":133065955,"body_markdown":"I see, there is no best way. So it would be fine to only add the Customer actor, the Swing UI Frame for login from which the JOptionPane messages are displayed regarding the login process, the Customer, the ATM and the Database?","body":"I see, there is no best way. So it would be fine to only add the Customer actor, the Swing UI Frame for login from which the JOptionPane messages are displayed regarding the login process, the Customer, the ATM and the Database?"},{"owner":{"account_id":4118713,"reputation":35681,"user_id":3379653,"accept_rate":82,"display_name":"qwerty_so"},"score":0,"creation_date":1676063003,"post_id":75411353,"comment_id":133069255,"body_markdown":"@AdrianFloroiu Correct. Use as many SDs as you need. Probably one per collaboration (more likely multiple since each collaboration has many scenarios).","body":"@AdrianFloroiu Correct. Use as many SDs as you need. Probably one per collaboration (more likely multiple since each collaboration has many scenarios)."}],"tags":[],"owner":{"account_id":4589753,"reputation":69966,"user_id":3723423,"accept_rate":50,"display_name":"Christophe"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676033261,"creation_date":1676033261,"answer_id":75411353,"question_id":75409857,"body_markdown":"The class diagram without any of the app&#39;s internals is a &quot;domain model&quot;. Its goal is not to document all possible classes used in your apps, but to focus on the domain knowledge, independently of how the app is implemented. The diagram would stay the same if you had a real ATM device, if you would implement a web service, or if you would use any other UI framework.\r\n\r\nSo you made a clear choice on what you wanted the diagram to show.  You could perfectly have chosen to have monstrous class diagram including in addition the classes required for the business logic, for database interaction and for the UI (e.g. using the famous [Entity Boundary Control][1] pattern). The diagram would then be more dependent on your implementation choices.  \r\n\r\nFor the sequence diagram, it&#39;s the same.  There is no best way to draft this diagram.  **The question is only about what you want this diagram to focus on**: do you want to model the **domain logic** ?  In this case you would use your domain classes and show how they interact.  Or do you want to model the **detailed application design** , in which case you could envisage to add also UI classes. But the diagrams would then quickly become very complex, and you&#39;d better break them down into several simpler SDs, each focusing on some parts of your detailed technical design.    \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Entity-control-boundary","title":"Draw sequence diagrams for a Java Swing application","body":"<p>The class diagram without any of the app's internals is a &quot;domain model&quot;. Its goal is not to document all possible classes used in your apps, but to focus on the domain knowledge, independently of how the app is implemented. The diagram would stay the same if you had a real ATM device, if you would implement a web service, or if you would use any other UI framework.</p>\n<p>So you made a clear choice on what you wanted the diagram to show.  You could perfectly have chosen to have monstrous class diagram including in addition the classes required for the business logic, for database interaction and for the UI (e.g. using the famous <a href=\"https://en.wikipedia.org/wiki/Entity-control-boundary\" rel=\"nofollow noreferrer\">Entity Boundary Control</a> pattern). The diagram would then be more dependent on your implementation choices.</p>\n<p>For the sequence diagram, it's the same.  There is no best way to draft this diagram.  <strong>The question is only about what you want this diagram to focus on</strong>: do you want to model the <strong>domain logic</strong> ?  In this case you would use your domain classes and show how they interact.  Or do you want to model the <strong>detailed application design</strong> , in which case you could envisage to add also UI classes. But the diagrams would then quickly become very complex, and you'd better break them down into several simpler SDs, each focusing on some parts of your detailed technical design.</p>\n"}],"owner":{"account_id":24512771,"reputation":11,"user_id":18426888,"display_name":"Adrian Floroiu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1676117425,"accepted_answer_id":75411353,"answer_count":1,"score":-1,"last_activity_date":1676033261,"creation_date":1676025129,"question_id":75409857,"body_markdown":"I have a simple ATM system implemented in Java using Swing (I know Swing isn&#39;t really used anymore but I wanted it to be simple). The way I implemented it is as follows:\r\n\r\n - I have a `Customer` class which holds information about a customer and has a `login()` method\r\n - I have an `Account` class which holds information about an account and has methods for withdrawing, depositing and transferring money\r\n - I have a `Transaction` class which holds information about a transaction and has a `generateReceipt()` method that creates and exports a PDF with transaction info\r\n - I have an `ATM` class which holds the logged in account and the corresponding customer and has static methods for getting transactions, such as the current account transactions\r\n - Finally, I have an `Admin` class with username and password as attributes and methods for getting all the customers and accounts, adding a customer or creating an account and deleting a customer or an account.\r\n\r\nMy application uses a MySQL database for storing information and making updates. Also, customers can have multiple accounts and one can log in the system using the account number and PIN.\r\n\r\nI drew the use case diagrams, and the class diagram, not considering my UI in the class diagram.\r\n\r\nI have a hard time creating sequence diagrams for this application, as all my classes and objects are used in classes made with Swing.\r\nMy question is: how should I structure my sequence diagrams, considering the fact that it is a Swing application? Should I add the UI classes or should I make it more conceptual and only describe the process and relations between my other 5 classes?\r\nAny help is highly appreciated!\r\n\r\nI tried separating as much logic from the actual UI, but I still can&#39;t figure out how should my sequence diagrams look, as a customer and the admin interacts with the Swing frames.","title":"Draw sequence diagrams for a Java Swing application","body":"<p>I have a simple ATM system implemented in Java using Swing (I know Swing isn't really used anymore but I wanted it to be simple). The way I implemented it is as follows:</p>\n<ul>\n<li>I have a <code>Customer</code> class which holds information about a customer and has a <code>login()</code> method</li>\n<li>I have an <code>Account</code> class which holds information about an account and has methods for withdrawing, depositing and transferring money</li>\n<li>I have a <code>Transaction</code> class which holds information about a transaction and has a <code>generateReceipt()</code> method that creates and exports a PDF with transaction info</li>\n<li>I have an <code>ATM</code> class which holds the logged in account and the corresponding customer and has static methods for getting transactions, such as the current account transactions</li>\n<li>Finally, I have an <code>Admin</code> class with username and password as attributes and methods for getting all the customers and accounts, adding a customer or creating an account and deleting a customer or an account.</li>\n</ul>\n<p>My application uses a MySQL database for storing information and making updates. Also, customers can have multiple accounts and one can log in the system using the account number and PIN.</p>\n<p>I drew the use case diagrams, and the class diagram, not considering my UI in the class diagram.</p>\n<p>I have a hard time creating sequence diagrams for this application, as all my classes and objects are used in classes made with Swing.\nMy question is: how should I structure my sequence diagrams, considering the fact that it is a Swing application? Should I add the UI classes or should I make it more conceptual and only describe the process and relations between my other 5 classes?\nAny help is highly appreciated!</p>\n<p>I tried separating as much logic from the actual UI, but I still can't figure out how should my sequence diagrams look, as a customer and the admin interacts with the Swing frames.</p>\n"},{"tags":["java","spring","annotations","event-handling"],"answers":[{"tags":[],"owner":{"account_id":23515390,"reputation":73,"user_id":17563398,"display_name":"Ign"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676033009,"creation_date":1676033009,"answer_id":75411300,"question_id":75399119,"body_markdown":"Got it. Should&#39;ve added dependency:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nNow it works.","title":"When trying to use @RepositoryEventHandler annotatin I get &#39;Cannot resolve symbol &#39;RepositoryEventHandler&#39; and the annotation is colored red","body":"<p>Got it. Should've added dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n    &lt;version&gt;3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Now it works.</p>\n"}],"owner":{"account_id":23515390,"reputation":73,"user_id":17563398,"display_name":"Ign"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75411300,"answer_count":1,"score":0,"last_activity_date":1676033009,"creation_date":1675948448,"question_id":75399119,"body_markdown":"my problem is that when I&#39;m trying to use @RepositoryEventHandeler annotation I get &quot;Cannot resolve symbol &#39;RepositoryEventHandler&#39;&quot; information, as if Spring didn&#39;t recognize this annotation, I checked and it does not look like I need to add any dependencies for it to work. It&#39;s my first attempt at using it so maybe I got the whole idea behind it wrong. What am I doing wrong? Thanks in advance.\r\n\r\nConfiguration class where I create a bean from class annotated with @RepositoryEventHandler\r\n\r\n```\r\n@Configuration\r\npublic class ConfigurationBeans {\r\n\r\n    @Bean\r\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AbsenceRepositoryEventHandler absenceRepositoryEventHandler() {\r\n        return new AbsenceRepositoryEventHandler();\r\n    }\r\n}\r\n\r\n```\r\n\r\nRepository\r\n\r\n```\r\n@Repository\r\npublic interface AbsenceRepository extends JpaRepository&lt;Absence, Long&gt; {\r\n    List&lt;Absence&gt; findAbsencesByBarberId(Long barberId);\r\n\r\n    List&lt;Absence&gt; findAbsencesByWorkDay_Id(Long workDayId);\r\n}\r\n\r\n```\r\nEntity\r\n\r\n```\r\n@Getter\r\n@Entity\r\n@Table(name = &quot;absences&quot;)\r\n@Builder\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Absence {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @ManyToOne\r\n    @NotNull\r\n    @JoinColumn(name = &quot;barber_id&quot;)\r\n    private Barber barber;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;work_day_id&quot;)\r\n    private WorkDay workDay;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;absence_start&quot;)\r\n    private LocalTime absenceStart;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;absence_end&quot;)\r\n    private LocalTime absenceEnd;\r\n}\r\n```\r\n\r\nClass annotated with @RepositoryEventHandler (this annotation is all red and gives Cannot resolve symbol &#39;RepositoryEventHandle info)\r\n\r\n```\r\n@RepositoryEventHandler(Absence.class)\r\npublic class AbsenceRepositoryEventHandler {\r\n\r\n    @HandleBeforeCreate\r\n    public void handleAbsenceBeforeCreate(Absence absence){\r\n    }\r\n}\r\n```\r\nController class\r\n\r\n```\r\n@RestController\r\n@AllArgsConstructor\r\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\r\n\r\npublic class AbsenceController {\r\n\r\n    private final AbsenceServiceImpl absenceService;\r\n    private final AbsenceRepository absenceRepository;\r\n\r\n    @GetMapping(&quot;/absences&quot;)\r\n    public List&lt;Absence&gt; getAllAbsences() {\r\n        return absenceRepository.findAll();\r\n    }\r\n\r\n    @GetMapping(&quot;/absencesById&quot;)\r\n    public AbsenceDto getAbsencesById(@RequestParam Long id) {\r\n        return absenceService.getAbsenceById(id);\r\n    }\r\n\r\n    @GetMapping(&quot;/absencesByBarber&quot;)\r\n    public List&lt;AbsenceDto&gt; getAbsencesByBarber(@RequestParam Long id) {\r\n        return absenceService.getAbsenceByBarber(id);\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/absencesByWorkDay&quot;)\r\n    public List&lt;AbsenceDto&gt; getAbsencesByWorkDay(@RequestParam Long id) {\r\n        return absenceService.getAbsenceByWorkDay(id);\r\n    }\r\n\r\n    @PostMapping(&quot;/absence&quot;)\r\n    public AbsenceDto createAbsence(@RequestBody @Valid CreateAbsenceDto absenceDto) {\r\n        return absenceService.addAbsence(absenceDto);\r\n    }\r\n\r\n\r\n    @PutMapping(&quot;/update/absence/{id}&quot;)\r\n    public ResponseEntity&lt;String&gt; updateAbsence(@PathVariable(&quot;id&quot;) long id, @RequestBody @Valid AbsenceDto absence) {\r\n        absenceService.updateAbsence(id, absence);\r\n        return new ResponseEntity&lt;&gt;(&quot;Absence was updated.&quot;, HttpStatus.OK);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/delete/absence/{id}&quot;)\r\n    public ResponseEntity&lt;String&gt; deleteAbsence(@PathVariable(&quot;id&quot;) long id) {\r\n        absenceService.removeAbsence(id);\r\n        return new ResponseEntity&lt;&gt;(&quot;Absence was deleted.&quot;, HttpStatus.OK);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n","title":"When trying to use @RepositoryEventHandler annotatin I get &#39;Cannot resolve symbol &#39;RepositoryEventHandler&#39; and the annotation is colored red","body":"<p>my problem is that when I'm trying to use @RepositoryEventHandeler annotation I get &quot;Cannot resolve symbol 'RepositoryEventHandler'&quot; information, as if Spring didn't recognize this annotation, I checked and it does not look like I need to add any dependencies for it to work. It's my first attempt at using it so maybe I got the whole idea behind it wrong. What am I doing wrong? Thanks in advance.</p>\n<p>Configuration class where I create a bean from class annotated with @RepositoryEventHandler</p>\n<pre><code>@Configuration\npublic class ConfigurationBeans {\n\n    @Bean\n    public BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AbsenceRepositoryEventHandler absenceRepositoryEventHandler() {\n        return new AbsenceRepositoryEventHandler();\n    }\n}\n\n</code></pre>\n<p>Repository</p>\n<pre><code>@Repository\npublic interface AbsenceRepository extends JpaRepository&lt;Absence, Long&gt; {\n    List&lt;Absence&gt; findAbsencesByBarberId(Long barberId);\n\n    List&lt;Absence&gt; findAbsencesByWorkDay_Id(Long workDayId);\n}\n\n</code></pre>\n<p>Entity</p>\n<pre><code>@Getter\n@Entity\n@Table(name = &quot;absences&quot;)\n@Builder\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Absence {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @ManyToOne\n    @NotNull\n    @JoinColumn(name = &quot;barber_id&quot;)\n    private Barber barber;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;work_day_id&quot;)\n    private WorkDay workDay;\n\n    @NotNull\n    @Column(name = &quot;absence_start&quot;)\n    private LocalTime absenceStart;\n\n    @NotNull\n    @Column(name = &quot;absence_end&quot;)\n    private LocalTime absenceEnd;\n}\n</code></pre>\n<p>Class annotated with @RepositoryEventHandler (this annotation is all red and gives Cannot resolve symbol 'RepositoryEventHandle info)</p>\n<pre><code>@RepositoryEventHandler(Absence.class)\npublic class AbsenceRepositoryEventHandler {\n\n    @HandleBeforeCreate\n    public void handleAbsenceBeforeCreate(Absence absence){\n    }\n}\n</code></pre>\n<p>Controller class</p>\n<pre><code>@RestController\n@AllArgsConstructor\n@CrossOrigin(origins = &quot;http://localhost:3000&quot;)\n\npublic class AbsenceController {\n\n    private final AbsenceServiceImpl absenceService;\n    private final AbsenceRepository absenceRepository;\n\n    @GetMapping(&quot;/absences&quot;)\n    public List&lt;Absence&gt; getAllAbsences() {\n        return absenceRepository.findAll();\n    }\n\n    @GetMapping(&quot;/absencesById&quot;)\n    public AbsenceDto getAbsencesById(@RequestParam Long id) {\n        return absenceService.getAbsenceById(id);\n    }\n\n    @GetMapping(&quot;/absencesByBarber&quot;)\n    public List&lt;AbsenceDto&gt; getAbsencesByBarber(@RequestParam Long id) {\n        return absenceService.getAbsenceByBarber(id);\n    }\n\n\n    @GetMapping(&quot;/absencesByWorkDay&quot;)\n    public List&lt;AbsenceDto&gt; getAbsencesByWorkDay(@RequestParam Long id) {\n        return absenceService.getAbsenceByWorkDay(id);\n    }\n\n    @PostMapping(&quot;/absence&quot;)\n    public AbsenceDto createAbsence(@RequestBody @Valid CreateAbsenceDto absenceDto) {\n        return absenceService.addAbsence(absenceDto);\n    }\n\n\n    @PutMapping(&quot;/update/absence/{id}&quot;)\n    public ResponseEntity&lt;String&gt; updateAbsence(@PathVariable(&quot;id&quot;) long id, @RequestBody @Valid AbsenceDto absence) {\n        absenceService.updateAbsence(id, absence);\n        return new ResponseEntity&lt;&gt;(&quot;Absence was updated.&quot;, HttpStatus.OK);\n    }\n\n    @DeleteMapping(&quot;/delete/absence/{id}&quot;)\n    public ResponseEntity&lt;String&gt; deleteAbsence(@PathVariable(&quot;id&quot;) long id) {\n        absenceService.removeAbsence(id);\n        return new ResponseEntity&lt;&gt;(&quot;Absence was deleted.&quot;, HttpStatus.OK);\n    }\n}\n\n</code></pre>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1633118634,"post_id":69411398,"comment_id":122684511,"body_markdown":"A processed class with a huge number of fields and there are many such classes.","body":"A processed class with a huge number of fields and there are many such classes."},{"owner":{"account_id":14221799,"reputation":280,"user_id":10273851,"display_name":"OjtamOjtam"},"score":0,"creation_date":1633119296,"post_id":69411398,"comment_id":122684686,"body_markdown":"Take a look at one of the other libraries https://stackoverflow.com/questions/7067734/fill-primitive-properties-with-random-data-automatically . It may be possible to achieve  what you need easier with them","body":"Take a look at one of the other libraries <a href=\"https://stackoverflow.com/questions/7067734/fill-primitive-properties-with-random-data-automatically\" title=\"fill primitive properties with random data automatically\">stackoverflow.com/questions/7067734/&hellip;</a> . It may be possible to achieve  what you need easier with them"}],"tags":[],"owner":{"account_id":14221799,"reputation":280,"user_id":10273851,"display_name":"OjtamOjtam"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1633118251,"creation_date":1633118251,"answer_id":69411398,"question_id":69409938,"body_markdown":"easy random documentation doesn&#39;t show a way to do it, but you can just change your get methods. \r\nCode person.getAge() to always return java.lang.Math.abs() of whatever has been generated by the library etc.","title":"How to limit the range of generating numbers in EasyRandom library","body":"<p>easy random documentation doesn't show a way to do it, but you can just change your get methods.\nCode person.getAge() to always return java.lang.Math.abs() of whatever has been generated by the library etc.</p>\n"},{"tags":[],"owner":{"account_id":126610,"reputation":13693,"user_id":323221,"accept_rate":76,"display_name":"Erik Pragt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634891941,"creation_date":1634891941,"answer_id":69673857,"question_id":69409938,"body_markdown":"You can do the following:\r\n\r\n```\r\nEnhancedRandom enhancedRandom = aNewEnhancedRandomBuilder()\r\n                .randomize(Double.class, new DoubleRangeRandomizer(1, 10))\r\n                .build()\r\n```\r\n\r\nBased on the answer here: https://github.com/j-easy/easy-random/issues/276","title":"How to limit the range of generating numbers in EasyRandom library","body":"<p>You can do the following:</p>\n<pre><code>EnhancedRandom enhancedRandom = aNewEnhancedRandomBuilder()\n                .randomize(Double.class, new DoubleRangeRandomizer(1, 10))\n                .build()\n</code></pre>\n<p>Based on the answer here: <a href=\"https://github.com/j-easy/easy-random/issues/276\" rel=\"nofollow noreferrer\">https://github.com/j-easy/easy-random/issues/276</a></p>\n"},{"tags":[],"owner":{"account_id":11675548,"reputation":1,"user_id":8549229,"display_name":"manerajona"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676032963,"creation_date":1675875502,"answer_id":75389173,"question_id":69409938,"body_markdown":"You can try with `Randomizer&lt;T&gt;`, for example using `BigDecimal` with scale of 9:\r\n\r\n    Randomizer&lt;BigDecimal&gt; randomizer =\r\n            new BigDecimalRandomizer(9, RoundingMode.DOWN);\r\n\r\n    EasyRandom easyRandom = new EasyRandom(\r\n            new EasyRandomParameters()\r\n                .randomize(BigDecimal.class, randomizer)\r\n    );\r\n\r\nDoc: https://www.javadoc.io/doc/org.jeasy/easy-random-core/4.0.0/org/jeasy/random/api/Randomizer.html\r\n","title":"How to limit the range of generating numbers in EasyRandom library","body":"<p>You can try with <code>Randomizer&lt;T&gt;</code>, for example using <code>BigDecimal</code> with scale of 9:</p>\n<pre><code>Randomizer&lt;BigDecimal&gt; randomizer =\n        new BigDecimalRandomizer(9, RoundingMode.DOWN);\n\nEasyRandom easyRandom = new EasyRandom(\n        new EasyRandomParameters()\n            .randomize(BigDecimal.class, randomizer)\n);\n</code></pre>\n<p>Doc: <a href=\"https://www.javadoc.io/doc/org.jeasy/easy-random-core/4.0.0/org/jeasy/random/api/Randomizer.html\" rel=\"nofollow noreferrer\">https://www.javadoc.io/doc/org.jeasy/easy-random-core/4.0.0/org/jeasy/random/api/Randomizer.html</a></p>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2885,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1676032963,"creation_date":1633109663,"question_id":69409938,"body_markdown":"EasyRandom library to fill an object with random values\r\n\r\nfor example:\r\n\r\n```java\r\npublic EasyRandomParameters getParametersForEasyRandom() {\r\n\r\n        final long seedForRandom = Integer.MAX_VALUE;\r\n        final int objectPoolSize = 100;\r\n        final int randomizationDepth = 5;\r\n        final int minStringLength = 3;\r\n        final int maxStringLength = 50;\r\n        final int minCollectionSize = 3;\r\n        final int maxCollectionSize = 3;\r\n\r\n\r\n        EasyRandomParameters parameters = new EasyRandomParameters()\r\n                .seed(seedForRandom)\r\n                .objectPoolSize(objectPoolSize)\r\n                .randomizationDepth(randomizationDepth)\r\n                .stringLengthRange(minStringLength, maxStringLength)\r\n                .collectionSizeRange(minCollectionSize, maxCollectionSize)\r\n                .scanClasspathForConcreteTypes(true)\r\n                .overrideDefaultInitialization(true)\r\n                .ignoreRandomizationErrors(true);\r\n\r\n\r\n        return parameters;\r\n    }\r\n```\r\n- test\r\n\r\n```java\r\n@Test\r\nvoid givenDefaultConfiguration_thenGenerateSingleObject() {\r\n    EasyRandom generator = new EasyRandom();\r\n    Person person = generator.nextObject(Person.class);\r\n\r\n    assertNotNull(person.getAge());\r\n    assertNotNull(person.getFirstName());\r\n    assertNotNull(person.getLastName());\r\n}\r\n```\r\n\r\n\r\n&gt; Person[firstName=&#39;eOMtThyhVNLWUZNRcBaQKxI&#39;, lastName=&#39;yedUsFwdkelQbxeTeQOvaScfqIOOmaa&#39;, age=-1188957731]\r\n\r\nWhile the library is running, it can generate negative values in Integer and Long type fields, and too large a range, how can this be limited, the main thing is that there are no negative values?\r\n","title":"How to limit the range of generating numbers in EasyRandom library","body":"<p>EasyRandom library to fill an object with random values</p>\n<p>for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public EasyRandomParameters getParametersForEasyRandom() {\n\n        final long seedForRandom = Integer.MAX_VALUE;\n        final int objectPoolSize = 100;\n        final int randomizationDepth = 5;\n        final int minStringLength = 3;\n        final int maxStringLength = 50;\n        final int minCollectionSize = 3;\n        final int maxCollectionSize = 3;\n\n\n        EasyRandomParameters parameters = new EasyRandomParameters()\n                .seed(seedForRandom)\n                .objectPoolSize(objectPoolSize)\n                .randomizationDepth(randomizationDepth)\n                .stringLengthRange(minStringLength, maxStringLength)\n                .collectionSizeRange(minCollectionSize, maxCollectionSize)\n                .scanClasspathForConcreteTypes(true)\n                .overrideDefaultInitialization(true)\n                .ignoreRandomizationErrors(true);\n\n\n        return parameters;\n    }\n</code></pre>\n<ul>\n<li>test</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid givenDefaultConfiguration_thenGenerateSingleObject() {\n    EasyRandom generator = new EasyRandom();\n    Person person = generator.nextObject(Person.class);\n\n    assertNotNull(person.getAge());\n    assertNotNull(person.getFirstName());\n    assertNotNull(person.getLastName());\n}\n</code></pre>\n<blockquote>\n<p>Person[firstName='eOMtThyhVNLWUZNRcBaQKxI', lastName='yedUsFwdkelQbxeTeQOvaScfqIOOmaa', age=-1188957731]</p>\n</blockquote>\n<p>While the library is running, it can generate negative values in Integer and Long type fields, and too large a range, how can this be limited, the main thing is that there are no negative values?</p>\n"},{"tags":["java","json","serialization","jackson","http-message-converter"],"comments":[{"owner":{"account_id":2124329,"reputation":612,"user_id":1886904,"display_name":"egeorge"},"score":0,"creation_date":1675980542,"post_id":75403474,"comment_id":133050401,"body_markdown":"So `leistungszeitraum` works as expected?","body":"So <code>leistungszeitraum</code> works as expected?"},{"owner":{"account_id":20067946,"reputation":11,"user_id":14713290,"display_name":"Tobias Walter"},"score":0,"creation_date":1676022115,"post_id":75403474,"comment_id":133057446,"body_markdown":"yes it does - there are multiple other classes with the same approach and it works fine","body":"yes it does - there are multiple other classes with the same approach and it works fine"},{"owner":{"account_id":20067946,"reputation":11,"user_id":14713290,"display_name":"Tobias Walter"},"score":0,"creation_date":1676022608,"post_id":75403474,"comment_id":133057585,"body_markdown":"but this is the only YearMonth type","body":"but this is the only YearMonth type"}],"answers":[{"comments":[{"owner":{"account_id":20067946,"reputation":11,"user_id":14713290,"display_name":"Tobias Walter"},"score":0,"creation_date":1676032809,"post_id":75411264,"comment_id":133060562,"body_markdown":"@JsonSerialize(using = YearMonthSerializer.class) alone did not the trick - i needed to use JsonAlias to prevent the ambigous error","body":"@JsonSerialize(using = YearMonthSerializer.class) alone did not the trick - i needed to use JsonAlias to prevent the ambigous error"}],"tags":[],"owner":{"account_id":20067946,"reputation":11,"user_id":14713290,"display_name":"Tobias Walter"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676032772,"creation_date":1676032772,"answer_id":75411264,"question_id":75403474,"body_markdown":"Solved it with:\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM&quot;)\r\n    @JsonAlias(&quot;abrechnungsMonat&quot;)\r\n    @JsonDeserialize(using = YearMonthDeserializer.class)\r\n    @JsonSerialize(using = YearMonthSerializer.class)\r\n    private YearMonth abrechnungsmonat;","title":"Conflicting/ambiguous property name definitions while serializing","body":"<p>Solved it with:</p>\n<pre><code>@JsonFormat(pattern=&quot;yyyy-MM&quot;)\n@JsonAlias(&quot;abrechnungsMonat&quot;)\n@JsonDeserialize(using = YearMonthDeserializer.class)\n@JsonSerialize(using = YearMonthSerializer.class)\nprivate YearMonth abrechnungsmonat;\n</code></pre>\n"}],"owner":{"account_id":20067946,"reputation":11,"user_id":14713290,"display_name":"Tobias Walter"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676032772,"creation_date":1675970612,"question_id":75403474,"body_markdown":"I have a class AusgangsrechnungGeneral which has a property &quot;abrechnungsmonat&quot;. It is set from JSON via Jackson which has the same property, but defined as &quot;abrechnungsMonat&quot; - which works fine.\r\n\r\nNow I need to deserialize the property from \r\n\r\n**&quot;abrechnungsMonat&quot; -\\&gt; &quot;abrechnungsmonat&quot;**\r\n\r\nbut serialize it as  \r\n\r\n**&quot;abrechnungsmonat&quot;**\r\n\r\nTherefore I implemented follwong code:\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM&quot;)\r\n    @JsonDeserialize(using = YearMonthDeserializer.class)\r\n    @JsonSetter(&quot;abrechnungsMonat&quot;)\r\n    private YearMonth abrechnungsmonat;\r\n\r\n    @JsonGetter(&quot;abrechnungsmonat&quot;)\r\n    public YearMonth getAbrechnungsmonat() {\r\n        return this.abrechnungsmonat;\r\n    }\r\n\r\n**For other properties this method works fine**, but here I got the following Error:\r\n\r\n*java.lang.IllegalStateException: Conflicting/ambiguous property name definitions (implicit name &#39;abrechnungsmonat&#39;): found multiple explicit names: [abrechnungsmonat, abrechnungsMonat], but also implicit accessor: [field com.itf.ghost.propartsyncservice.api.rechnung.propartmodel.AusgangsrechnungGeneral#abrechnungsmonat][visible=true,ignore=false,explicitName=false]*\r\n\r\nI am using Lombok, but as far as I know Lombok will not generate additional getters if they are already defined. This is the class:\r\n\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@ToString(callSuper = true)\r\n@SuperBuilder\r\n@JsonIgnoreProperties(ignoreUnknown = true)\r\npublic class AusgangsrechnungGeneral extends Rechnung {\r\n\r\n    @JsonSetter(&quot;leistungsZeitraum&quot;)\r\n    private String leistungszeitraum;\r\n\r\n    @JsonGetter(&quot;leistungszeitraum&quot;)\r\n    public String getLeistugnszeitraum() {\r\n        return this.leistungszeitraum;\r\n    }\r\n\r\n    private String filePath;\r\n\r\n    private Boolean isProberechnung;\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    @JsonDeserialize(using = LocalDateDeserializer.class)\r\n    private LocalDate bezahltAm;\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\r\n    @JsonDeserialize(using = LocalDateDeserializer.class)\r\n    private LocalDate zahlungErwartetAm;\r\n\r\n    @JsonFormat(pattern=&quot;yyyy-MM&quot;)\r\n    @JsonDeserialize(using = YearMonthDeserializer.class)\r\n    @JsonSetter(&quot;abrechnungsMonat&quot;)\r\n    private YearMonth abrechnungsmonat;\r\n\r\n    @JsonGetter(&quot;abrechnungsmonat&quot;)\r\n    public YearMonth getAbrechnungsmonat() {\r\n        return this.abrechnungsmonat;\r\n    }\r\n\r\n    @JsonSetter(&quot;kundenId&quot;)\r\n    private Long kunde;\r\n\r\n    @JsonGetter(&quot;kunde&quot;)\r\n    public Long getKunde() {\r\n        return this.kunde;\r\n    }\r\n\r\n    @JsonSetter(&quot;abls&quot;)\r\n    private List&lt;AbrechenbareLeistung&gt; abrechenbareLeistungen;\r\n\r\n    @JsonGetter(&quot;abrechenbareLeistungen&quot;)\r\n    public List&lt;AbrechenbareLeistung&gt; getAbrechenbareLeistungen() {\r\n        return this.abrechenbareLeistungen;\r\n    }\r\n}\r\n\r\n```","title":"Conflicting/ambiguous property name definitions while serializing","body":"<p>I have a class AusgangsrechnungGeneral which has a property &quot;abrechnungsmonat&quot;. It is set from JSON via Jackson which has the same property, but defined as &quot;abrechnungsMonat&quot; - which works fine.</p>\n<p>Now I need to deserialize the property from</p>\n<p><strong>&quot;abrechnungsMonat&quot; -&gt; &quot;abrechnungsmonat&quot;</strong></p>\n<p>but serialize it as</p>\n<p><strong>&quot;abrechnungsmonat&quot;</strong></p>\n<p>Therefore I implemented follwong code:</p>\n<pre><code>@JsonFormat(pattern=&quot;yyyy-MM&quot;)\n@JsonDeserialize(using = YearMonthDeserializer.class)\n@JsonSetter(&quot;abrechnungsMonat&quot;)\nprivate YearMonth abrechnungsmonat;\n\n@JsonGetter(&quot;abrechnungsmonat&quot;)\npublic YearMonth getAbrechnungsmonat() {\n    return this.abrechnungsmonat;\n}\n</code></pre>\n<p><strong>For other properties this method works fine</strong>, but here I got the following Error:</p>\n<p><em>java.lang.IllegalStateException: Conflicting/ambiguous property name definitions (implicit name 'abrechnungsmonat'): found multiple explicit names: [abrechnungsmonat, abrechnungsMonat], but also implicit accessor: [field com.itf.ghost.propartsyncservice.api.rechnung.propartmodel.AusgangsrechnungGeneral#abrechnungsmonat][visible=true,ignore=false,explicitName=false]</em></p>\n<p>I am using Lombok, but as far as I know Lombok will not generate additional getters if they are already defined. This is the class:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@ToString(callSuper = true)\n@SuperBuilder\n@JsonIgnoreProperties(ignoreUnknown = true)\npublic class AusgangsrechnungGeneral extends Rechnung {\n\n    @JsonSetter(&quot;leistungsZeitraum&quot;)\n    private String leistungszeitraum;\n\n    @JsonGetter(&quot;leistungszeitraum&quot;)\n    public String getLeistugnszeitraum() {\n        return this.leistungszeitraum;\n    }\n\n    private String filePath;\n\n    private Boolean isProberechnung;\n\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\n    @JsonDeserialize(using = LocalDateDeserializer.class)\n    private LocalDate bezahltAm;\n\n    @JsonFormat(pattern=&quot;yyyy-MM-dd&quot;)\n    @JsonDeserialize(using = LocalDateDeserializer.class)\n    private LocalDate zahlungErwartetAm;\n\n    @JsonFormat(pattern=&quot;yyyy-MM&quot;)\n    @JsonDeserialize(using = YearMonthDeserializer.class)\n    @JsonSetter(&quot;abrechnungsMonat&quot;)\n    private YearMonth abrechnungsmonat;\n\n    @JsonGetter(&quot;abrechnungsmonat&quot;)\n    public YearMonth getAbrechnungsmonat() {\n        return this.abrechnungsmonat;\n    }\n\n    @JsonSetter(&quot;kundenId&quot;)\n    private Long kunde;\n\n    @JsonGetter(&quot;kunde&quot;)\n    public Long getKunde() {\n        return this.kunde;\n    }\n\n    @JsonSetter(&quot;abls&quot;)\n    private List&lt;AbrechenbareLeistung&gt; abrechenbareLeistungen;\n\n    @JsonGetter(&quot;abrechenbareLeistungen&quot;)\n    public List&lt;AbrechenbareLeistung&gt; getAbrechenbareLeistungen() {\n        return this.abrechenbareLeistungen;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","apache-camel","jaxb","integration"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1676032313,"creation_date":1647339688,"answer_id":71480559,"question_id":71423226,"body_markdown":"## Generating classes from XSD with CLI tool\r\n\r\nYou can use xjc command-line tool that comes pre-installed with at JDK 8 to generate jaxb classes. \r\n\r\n**Example:**\r\n```bash\r\nxjc material.xsd\r\n\r\n# With groupId\r\nxjc -p &lt;groupId&gt; material.xsd\r\n\r\n# With groupId and bindings configuration file\r\nxjc -p &lt;groupId&gt; -b bindings.xjb material.xsd\r\n```\r\n\r\n## Generating classes from XSD using maven plugin\r\n\r\nAlternatively you can use maven plugin to do the same. By default the plugin will look for schema xsd files from `src/main/xsd` and  bindings xjb files from `src/main/xjb`\r\n\r\n```xml\r\n&lt;build&gt;\r\n    &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.0&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;id&gt;xjc&lt;/id&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;xjc&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n            &lt;configuration&gt;\r\n                &lt;packageName&gt;com.example.group&lt;/packageName&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```\r\n\r\nIf you&#39;re using JDK 11 or later you&#39;ll also have to include couple of related dependencies that are no longer included in the JDK. \r\n\r\n```xml\r\n&lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n```\r\n\r\nWith these maven should generate the classes to `target/generated-sources/jaxb` folder after running `mvn clean install`. With maven plugin you&#39;re better off creating separate api-project for these and adding it as a dependency for your camel integration project.\r\n\r\n## Usage in camel\r\n\r\nYou can use jaxb with camel by creating JaxbDataFormat using JAXBContext instance. \r\n\r\n```java\r\nJAXBContext jaxbContext = JAXBContext.newInstance(Materials.class);\r\nJaxbDataFormat jaxbDataformat = new JaxbDataFormat(jaxbContext);\r\n\r\nfrom(&quot;direct:marshalMaterials&quot;)\r\n    .routeId(&quot;marshalMaterials&quot;)\r\n    .marshal(jaxbDataformat)\r\n    .log(&quot;${body}&quot;);\r\n```\r\n\r\nSince you&#39;re querying a database that by default returns list of maps, you&#39;ll have to convert it to appropriate Jaxb object. You can use generated `ObjectFactory` class to generate different jaxb class instances.\r\n\r\nWith JDK 11 you might also need following dependencies\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.3.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- versions obtained from dependency-management camel-bom --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n## Namespace change from javax to jakarta\r\n\r\nMore recent versions of jaxb are using jakarta namespace instead of javax. If you want to use the newer jakarta namespace instead you can use `jaxb2-maven-plugin` and `jakarta.xml.bind-api` version 3.x or higher. Support for Jakarta namespace is planned for Camel 4.x so if you&#39;re using Camel 3.x you might want to wait or upgrade to that first. \r\n\r\n## Bindings XJB files \r\n\r\nWith bindings xjb files you can tweak how classes get generated like change class or property names, prevent nested class mess etc. \r\n\r\n**Example: Empty binding file template**\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;jaxb:bindings xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; \r\n    xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot; \r\n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \r\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n    version=&quot;2.1&quot; \r\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxb http://java.sun.com/xml/ns/jaxb/bindingschema_2_0.xsd&quot;&gt;\r\n\r\n    ...\r\n\r\n&lt;/jaxb:bindings&gt;\r\n```","title":"How to generate JAXB data format from XSD schema?","body":"<h2>Generating classes from XSD with CLI tool</h2>\n<p>You can use xjc command-line tool that comes pre-installed with at JDK 8 to generate jaxb classes.</p>\n<p><strong>Example:</strong></p>\n<pre class=\"lang-bash prettyprint-override\"><code>xjc material.xsd\n\n# With groupId\nxjc -p &lt;groupId&gt; material.xsd\n\n# With groupId and bindings configuration file\nxjc -p &lt;groupId&gt; -b bindings.xjb material.xsd\n</code></pre>\n<h2>Generating classes from XSD using maven plugin</h2>\n<p>Alternatively you can use maven plugin to do the same. By default the plugin will look for schema xsd files from <code>src/main/xsd</code> and  bindings xjb files from <code>src/main/xjb</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.5.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;xjc&lt;/id&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;xjc&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n            &lt;configuration&gt;\n                &lt;packageName&gt;com.example.group&lt;/packageName&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>If you're using JDK 11 or later you'll also have to include couple of related dependencies that are no longer included in the JDK.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-xjc&lt;/artifactId&gt;\n        &lt;version&gt;2.3.6&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>With these maven should generate the classes to <code>target/generated-sources/jaxb</code> folder after running <code>mvn clean install</code>. With maven plugin you're better off creating separate api-project for these and adding it as a dependency for your camel integration project.</p>\n<h2>Usage in camel</h2>\n<p>You can use jaxb with camel by creating JaxbDataFormat using JAXBContext instance.</p>\n<pre class=\"lang-java prettyprint-override\"><code>JAXBContext jaxbContext = JAXBContext.newInstance(Materials.class);\nJaxbDataFormat jaxbDataformat = new JaxbDataFormat(jaxbContext);\n\nfrom(&quot;direct:marshalMaterials&quot;)\n    .routeId(&quot;marshalMaterials&quot;)\n    .marshal(jaxbDataformat)\n    .log(&quot;${body}&quot;);\n</code></pre>\n<p>Since you're querying a database that by default returns list of maps, you'll have to convert it to appropriate Jaxb object. You can use generated <code>ObjectFactory</code> class to generate different jaxb class instances.</p>\n<p>With JDK 11 you might also need following dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3.3&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- versions obtained from dependency-management camel-bom --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<h2>Namespace change from javax to jakarta</h2>\n<p>More recent versions of jaxb are using jakarta namespace instead of javax. If you want to use the newer jakarta namespace instead you can use <code>jaxb2-maven-plugin</code> and <code>jakarta.xml.bind-api</code> version 3.x or higher. Support for Jakarta namespace is planned for Camel 4.x so if you're using Camel 3.x you might want to wait or upgrade to that first.</p>\n<h2>Bindings XJB files</h2>\n<p>With bindings xjb files you can tweak how classes get generated like change class or property names, prevent nested class mess etc.</p>\n<p><strong>Example: Empty binding file template</strong></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;jaxb:bindings xmlns:jaxb=&quot;http://java.sun.com/xml/ns/jaxb&quot; \n    xmlns:xjc=&quot;http://java.sun.com/xml/ns/jaxb/xjc&quot; \n    xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; \n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n    version=&quot;2.1&quot; \n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/jaxb http://java.sun.com/xml/ns/jaxb/bindingschema_2_0.xsd&quot;&gt;\n\n    ...\n\n&lt;/jaxb:bindings&gt;\n</code></pre>\n"}],"owner":{"account_id":19468506,"reputation":99,"user_id":14241358,"display_name":"Hellmick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3881,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71480559,"answer_count":1,"score":1,"last_activity_date":1676032313,"creation_date":1646911071,"question_id":71423226,"body_markdown":"When I try to marshal data I got from the database in Apache Camel using JAXB and providing XSD schema I get the error\r\n\r\n&gt; java.io.org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: java.util.LinkedHashMap to the required type: java.io.InputStream with value {id=5, number=5599, type=B3, ... }\r\n\r\nwhen I try to send the message to ActiveMQ. I&#39;m new to integration and this is my intern Camel project. When I marshal the message to json everything is alright. I thought about converting the message to json and then to XML, but it seems to me that isn&#39;t the way I should do it. I&#39;ve got a prepared XSD schema that looks like this:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n           xmlns:pc=&quot;com.release11.packages&quot;\r\n           targetNamespace=&quot;com.release11.materials&quot;&gt;\r\n    &lt;xs:import schemaLocation=&quot;packages.xsd&quot;\r\n               namespace=&quot;com.release11.packages&quot;/&gt;\r\n\r\n    &lt;xs:simpleType name=&quot;materialTypeType&quot;&gt;\r\n        &lt;xs:restriction base=&quot;xs:string&quot;&gt;\r\n            &lt;xs:enumeration value=&quot;A1&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;A2&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;A3&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;B1&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;B2&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;B3&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;C1&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;C2&quot;/&gt;\r\n            &lt;xs:enumeration value=&quot;C3&quot;/&gt;\r\n        &lt;/xs:restriction&gt;\r\n    &lt;/xs:simpleType&gt;\r\n\r\n    &lt;xs:complexType name=&quot;materialType&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;Id&quot; type=&quot;xs:integer&quot;/&gt;\r\n            &lt;xs:element name=&quot;Number&quot; type=&quot;xs:integer&quot;/&gt;\r\n            &lt;xs:element name=&quot;Type&quot; type=&quot;materialTypeType&quot;/&gt;\r\n            &lt;xs:element name=&quot;Name&quot; type=&quot;xs:string&quot;/&gt;\r\n            &lt;xs:element name=&quot;Description&quot; type=&quot;xs:string&quot;/&gt;\r\n            &lt;xs:element name=&quot;Is_deleted&quot; type=&quot;xs:boolean&quot;/&gt;\r\n            &lt;xs:element ref=&quot;pc:Packages&quot; minOccurs=&quot;0&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n\r\n    &lt;xs:complexType name=&quot;materialsType&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n            &lt;xs:element name=&quot;Material&quot; type=&quot;materialType&quot; maxOccurs=&quot;unbounded&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n    &lt;/xs:complexType&gt;\r\n\r\n    &lt;xs:element name=&quot;Materials&quot; type=&quot;materialsType&quot;/&gt;\r\n\r\n    &lt;/xs:schema&gt;\r\n\r\nI tried to find the answer on the web, but I found nothing useful or I couldn&#39;t understand the answer so I need someone to explain this to me. Please help me.\r\n\r\nHere&#39;s my code:\r\n\r\n    public class InputAdapter {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n\r\n        BasicDataSource dataSource = new BasicDataSource();\r\n        dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\r\n        dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/Packages&quot;);\r\n        dataSource.setUsername(&quot;uname&quot;);\r\n        dataSource.setPassword(&quot;passwd&quot;);\r\n        SimpleRegistry registry = new SimpleRegistry();\r\n        registry.bind(&quot;dataSource&quot;, dataSource);\r\n\r\n        ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\r\n        activeMQConnectionFactory.setBrokerURL(&quot;tcp://127.0.0.1:61616&quot;);\r\n\r\n        Connection connection = activeMQConnectionFactory.createConnection();\r\n        connection.start();\r\n\r\n        Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\r\n        Destination destination = session.createQueue(&quot;MESSAGES_RAW&quot;);\r\n\r\n        MessageProducer producer = session.createProducer(destination);\r\n        producer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\r\n\r\n        CamelContext context = new DefaultCamelContext(registry);\r\n        context.addComponent(&quot;activemq&quot;, JmsComponent.jmsComponentAutoAcknowledge(activeMQConnectionFactory));\r\n\r\n        context.addRoutes(new RouteBuilder() {\r\n            @Override\r\n            public void configure() {\r\n                JaxbDataFormat dataFormat = new JaxbDataFormat();\r\n                dataFormat.setSchemaLocation(&quot;material.xsd&quot;);\r\n\r\n                from(&quot;timer://foo?repeatCount=1&quot;)\r\n                        .setBody(constant(&quot;SELECT * FROM material;&quot;))\r\n                        .to(&quot;jdbc:dataSource&quot;)\r\n                        .split(body())\r\n                        .marshal(dataFormat)\r\n                        .to(&quot;activemq:queue:MESSAGES_RAW&quot;);\r\n            }\r\n        });\r\n        context.start();\r\n        Thread.sleep(1000);\r\n        context.stop();\r\n    }\r\n    }\r\n\r\n","title":"How to generate JAXB data format from XSD schema?","body":"<p>When I try to marshal data I got from the database in Apache Camel using JAXB and providing XSD schema I get the error</p>\n<blockquote>\n<p>java.io.org.apache.camel.NoTypeConversionAvailableException: No type converter available to convert from type: java.util.LinkedHashMap to the required type: java.io.InputStream with value {id=5, number=5599, type=B3, ... }</p>\n</blockquote>\n<p>when I try to send the message to ActiveMQ. I'm new to integration and this is my intern Camel project. When I marshal the message to json everything is alright. I thought about converting the message to json and then to XML, but it seems to me that isn't the way I should do it. I've got a prepared XSD schema that looks like this:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;\n       xmlns:pc=&quot;com.release11.packages&quot;\n       targetNamespace=&quot;com.release11.materials&quot;&gt;\n&lt;xs:import schemaLocation=&quot;packages.xsd&quot;\n           namespace=&quot;com.release11.packages&quot;/&gt;\n\n&lt;xs:simpleType name=&quot;materialTypeType&quot;&gt;\n    &lt;xs:restriction base=&quot;xs:string&quot;&gt;\n        &lt;xs:enumeration value=&quot;A1&quot;/&gt;\n        &lt;xs:enumeration value=&quot;A2&quot;/&gt;\n        &lt;xs:enumeration value=&quot;A3&quot;/&gt;\n        &lt;xs:enumeration value=&quot;B1&quot;/&gt;\n        &lt;xs:enumeration value=&quot;B2&quot;/&gt;\n        &lt;xs:enumeration value=&quot;B3&quot;/&gt;\n        &lt;xs:enumeration value=&quot;C1&quot;/&gt;\n        &lt;xs:enumeration value=&quot;C2&quot;/&gt;\n        &lt;xs:enumeration value=&quot;C3&quot;/&gt;\n    &lt;/xs:restriction&gt;\n&lt;/xs:simpleType&gt;\n\n&lt;xs:complexType name=&quot;materialType&quot;&gt;\n    &lt;xs:sequence&gt;\n        &lt;xs:element name=&quot;Id&quot; type=&quot;xs:integer&quot;/&gt;\n        &lt;xs:element name=&quot;Number&quot; type=&quot;xs:integer&quot;/&gt;\n        &lt;xs:element name=&quot;Type&quot; type=&quot;materialTypeType&quot;/&gt;\n        &lt;xs:element name=&quot;Name&quot; type=&quot;xs:string&quot;/&gt;\n        &lt;xs:element name=&quot;Description&quot; type=&quot;xs:string&quot;/&gt;\n        &lt;xs:element name=&quot;Is_deleted&quot; type=&quot;xs:boolean&quot;/&gt;\n        &lt;xs:element ref=&quot;pc:Packages&quot; minOccurs=&quot;0&quot;/&gt;\n    &lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n\n&lt;xs:complexType name=&quot;materialsType&quot;&gt;\n    &lt;xs:sequence&gt;\n        &lt;xs:element name=&quot;Material&quot; type=&quot;materialType&quot; maxOccurs=&quot;unbounded&quot;/&gt;\n    &lt;/xs:sequence&gt;\n&lt;/xs:complexType&gt;\n\n&lt;xs:element name=&quot;Materials&quot; type=&quot;materialsType&quot;/&gt;\n\n&lt;/xs:schema&gt;\n</code></pre>\n<p>I tried to find the answer on the web, but I found nothing useful or I couldn't understand the answer so I need someone to explain this to me. Please help me.</p>\n<p>Here's my code:</p>\n<pre><code>public class InputAdapter {\n\npublic static void main(String[] args) throws Exception {\n\n    BasicDataSource dataSource = new BasicDataSource();\n    dataSource.setDriverClassName(&quot;com.mysql.jdbc.Driver&quot;);\n    dataSource.setUrl(&quot;jdbc:mysql://localhost:3306/Packages&quot;);\n    dataSource.setUsername(&quot;uname&quot;);\n    dataSource.setPassword(&quot;passwd&quot;);\n    SimpleRegistry registry = new SimpleRegistry();\n    registry.bind(&quot;dataSource&quot;, dataSource);\n\n    ActiveMQConnectionFactory activeMQConnectionFactory = new ActiveMQConnectionFactory();\n    activeMQConnectionFactory.setBrokerURL(&quot;tcp://127.0.0.1:61616&quot;);\n\n    Connection connection = activeMQConnectionFactory.createConnection();\n    connection.start();\n\n    Session session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);\n    Destination destination = session.createQueue(&quot;MESSAGES_RAW&quot;);\n\n    MessageProducer producer = session.createProducer(destination);\n    producer.setDeliveryMode(DeliveryMode.NON_PERSISTENT);\n\n    CamelContext context = new DefaultCamelContext(registry);\n    context.addComponent(&quot;activemq&quot;, JmsComponent.jmsComponentAutoAcknowledge(activeMQConnectionFactory));\n\n    context.addRoutes(new RouteBuilder() {\n        @Override\n        public void configure() {\n            JaxbDataFormat dataFormat = new JaxbDataFormat();\n            dataFormat.setSchemaLocation(&quot;material.xsd&quot;);\n\n            from(&quot;timer://foo?repeatCount=1&quot;)\n                    .setBody(constant(&quot;SELECT * FROM material;&quot;))\n                    .to(&quot;jdbc:dataSource&quot;)\n                    .split(body())\n                    .marshal(dataFormat)\n                    .to(&quot;activemq:queue:MESSAGES_RAW&quot;);\n        }\n    });\n    context.start();\n    Thread.sleep(1000);\n    context.stop();\n}\n}\n</code></pre>\n"},{"tags":["java","spring-boot","reactive"],"comments":[{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":2,"creation_date":1576186073,"post_id":59312867,"comment_id":104827755,"body_markdown":"Post a complete minimal example reproducing the issue. What you posted can&#39;t even compile: methodB() returns a String, and String doesn&#39;t have a flatMap() method.","body":"Post a complete minimal example reproducing the issue. What you posted can&#39;t even compile: methodB() returns a String, and String doesn&#39;t have a flatMap() method."},{"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"score":0,"creation_date":1576190611,"post_id":59312867,"comment_id":104829298,"body_markdown":"@JBNizet I apologize, I had a typo, but you should be able to figure it out. Strings don&#39;t have a flatMap, but Mono does.","body":"@JBNizet I apologize, I had a typo, but you should be able to figure it out. Strings don&#39;t have a flatMap, but Mono does."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1576190689,"post_id":59312867,"comment_id":104829318,"body_markdown":"I don&#39;t have any issue with my code. You have. So do what&#39;s needed to get help: post a minimal reproducible example. Don&#39;t make us guess what could be wrong in the code you didn&#39;t post.","body":"I don&#39;t have any issue with my code. You have. So do what&#39;s needed to get help: post a minimal reproducible example. Don&#39;t make us guess what could be wrong in the code you didn&#39;t post."},{"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"score":0,"creation_date":1576191355,"post_id":59312867,"comment_id":104829513,"body_markdown":"No reason to be snappy. I posted here to get help and gave enough information that I thought was necessary. Turns out that our when condition was not matching, so the mapper had a null response, hence the exception.","body":"No reason to be snappy. I posted here to get help and gave enough information that I thought was necessary. Turns out that our when condition was not matching, so the mapper had a null response, hence the exception."},{"owner":{"account_id":277416,"reputation":681888,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1576192477,"post_id":59312867,"comment_id":104829830,"body_markdown":"I understand that. But after you posted the question, and I asked you to post a minimal example, you refused to post it. We don&#39;t ask that to be snappy. We ask that because we need it to help you.","body":"I understand that. But after you posted the question, and I asked you to post a minimal example, you refused to post it. We don&#39;t ask that to be snappy. We ask that because we need it to help you."},{"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"score":0,"creation_date":1576262948,"post_id":59312867,"comment_id":104855932,"body_markdown":"@JBNizet I&#39;m sorry. This was a minimal example that I came up with as the real problem was too complicated to post. I find that if the question is too complicated, it is likely not to get answered. Unfortunately, at a fault of my own, I didn&#39;t test the example before posting as I was posting for a friend. But after running this short example on my own time, it compiled and passed in testing, which led me to the reason of the exception: the Mockito expression was wrong. Much appreciation for your help and sorry for wasting your time.","body":"@JBNizet I&#39;m sorry. This was a minimal example that I came up with as the real problem was too complicated to post. I find that if the question is too complicated, it is likely not to get answered. Unfortunately, at a fault of my own, I didn&#39;t test the example before posting as I was posting for a friend. But after running this short example on my own time, it compiled and passed in testing, which led me to the reason of the exception: the Mockito expression was wrong. Much appreciation for your help and sorry for wasting your time."},{"owner":{"account_id":7592404,"reputation":605,"user_id":5759656,"display_name":"Christian Meyer"},"score":1,"creation_date":1595369798,"post_id":59312867,"comment_id":111449748,"body_markdown":"I don&#39;t think this should be downvoted. I have the same question and can&#39;t think of a more precise way to phrase it..","body":"I don&#39;t think this should be downvoted. I have the same question and can&#39;t think of a more precise way to phrase it.."}],"answers":[{"comments":[{"owner":{"account_id":1353955,"reputation":2623,"user_id":1292745,"display_name":"gpunto"},"score":0,"creation_date":1576344754,"post_id":59313916,"comment_id":104872789,"body_markdown":"That&#39;s because Mockito&#39;s mocks are relaxed by default: they return default values if the method call is not mocked","body":"That&#39;s because Mockito&#39;s mocks are relaxed by default: they return default values if the method call is not mocked"}],"tags":[],"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1576191726,"creation_date":1576191726,"answer_id":59313916,"question_id":59312867,"body_markdown":"Turns out that if anybody gets an issue like this, be sure `Mockito.when` is defined correctly. If it doesn&#39;t match, then it returns null. Hence the exception. \r\n\r\nOn a side note, I had left some information out of my question to make it a little less complicated, but turns out that the example I had described worked perfectly. Reworking through it shown the actual code I had didn&#39;t match the when clause.","title":"Why does mocking a response of Mono.empty() inside flatmap end in error?","body":"<p>Turns out that if anybody gets an issue like this, be sure <code>Mockito.when</code> is defined correctly. If it doesn't match, then it returns null. Hence the exception. </p>\n\n<p>On a side note, I had left some information out of my question to make it a little less complicated, but turns out that the example I had described worked perfectly. Reworking through it shown the actual code I had didn't match the when clause.</p>\n"},{"tags":[],"owner":{"account_id":766390,"reputation":540,"user_id":797512,"display_name":"jeremyt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607445755,"creation_date":1607445755,"answer_id":65203130,"question_id":59312867,"body_markdown":"It might be worth mentioning (especially since I&#39;m converting code that returns Optional into code that returns Mono and I just realised this) that while Mockito returns Optional.empty() so you don&#39;t have to explicitly set-up `when` expectations, it doesn&#39;t (out of the box at least) do anything similar for Mono. Mockito returns null and you get NullPointerExceptions.\r\n\r\nHope this helps anyone who stumbles upon it.","title":"Why does mocking a response of Mono.empty() inside flatmap end in error?","body":"<p>It might be worth mentioning (especially since I'm converting code that returns Optional into code that returns Mono and I just realised this) that while Mockito returns Optional.empty() so you don't have to explicitly set-up <code>when</code> expectations, it doesn't (out of the box at least) do anything similar for Mono. Mockito returns null and you get NullPointerExceptions.</p>\n<p>Hope this helps anyone who stumbles upon it.</p>\n"}],"owner":{"account_id":4900381,"reputation":424,"user_id":3948882,"display_name":"Brandon"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3631,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":59313916,"answer_count":2,"score":1,"last_activity_date":1676032168,"creation_date":1576185564,"question_id":59312867,"body_markdown":"We have a methodA which returns:\r\n\r\n    return bObj.methodB()\r\n        .flatMap(x -&gt; cObj.methodC(x));\r\n\r\nmethodB returns `Mono&lt;String&gt;` and methodC returns `Mono&lt;Void&gt;`.\r\n\r\nWhen using Mockito, methodB we are able to mock, but methodC we are not.\r\n\r\n    when(bObj.methodB()).thenReturn(Mono.just(&quot;x&quot;));\r\n    when(cObj.methodC(eq(&quot;x&quot;))).thenReturn(Mono.empty());\r\n\r\n    aObj.methodA();\r\n\r\nWhen this runs, we get the following exception:\r\n\r\n    java.lang.NullPointerException: The mapper returned a null Publisher\r\n\r\nWhen running the application, this works fine, but when running with Mockito, it doesn&#39;t. I assume it&#39;s something to do with the flatMap, but can&#39;t figure it out. Referencing [this question](https://stackoverflow.com/questions/58215810/returning-a-null-in-a-map-versus-flatmap-in-reactor) it seems like it should work, but doesn&#39;t. Any ideas?","title":"Why does mocking a response of Mono.empty() inside flatmap end in error?","body":"<p>We have a methodA which returns:</p>\n\n<pre><code>return bObj.methodB()\n    .flatMap(x -&gt; cObj.methodC(x));\n</code></pre>\n\n<p>methodB returns <code>Mono&lt;String&gt;</code> and methodC returns <code>Mono&lt;Void&gt;</code>.</p>\n\n<p>When using Mockito, methodB we are able to mock, but methodC we are not.</p>\n\n<pre><code>when(bObj.methodB()).thenReturn(Mono.just(\"x\"));\nwhen(cObj.methodC(eq(\"x\"))).thenReturn(Mono.empty());\n\naObj.methodA();\n</code></pre>\n\n<p>When this runs, we get the following exception:</p>\n\n<pre><code>java.lang.NullPointerException: The mapper returned a null Publisher\n</code></pre>\n\n<p>When running the application, this works fine, but when running with Mockito, it doesn't. I assume it's something to do with the flatMap, but can't figure it out. Referencing <a href=\"https://stackoverflow.com/questions/58215810/returning-a-null-in-a-map-versus-flatmap-in-reactor\">this question</a> it seems like it should work, but doesn't. Any ideas?</p>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":11577458,"reputation":385,"user_id":8482314,"display_name":"Lyze"},"score":1,"creation_date":1507012762,"post_id":46538176,"comment_id":80031332,"body_markdown":"Do other statements work? If not check permissions of the database and if the user has proper access rights.","body":"Do other statements work? If not check permissions of the database and if the user has proper access rights."},{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1507013100,"post_id":46538176,"comment_id":80031481,"body_markdown":"Its small app with `HSQL` database and no defined roles.","body":"Its small app with <code>HSQL</code> database and no defined roles."}],"answers":[{"comments":[{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1507014615,"post_id":46538887,"comment_id":80032164,"body_markdown":"I have made the Id of the User entity as Long, it doesn&#39;t solve the issue. I still get the same errors.","body":"I have made the Id of the User entity as Long, it doesn&#39;t solve the issue. I still get the same errors."},{"owner":{"account_id":3875481,"reputation":114,"user_id":3209635,"accept_rate":50,"display_name":"ismailzakky"},"score":1,"creation_date":1507015288,"post_id":46538887,"comment_id":80032534,"body_markdown":"try to add this in your properties or yaml for &quot; Unsuccessful: create table user &quot; spring.jpa.hibernate.ddl-auto:create-drop","body":"try to add this in your properties or yaml for &quot; Unsuccessful: create table user &quot; spring.jpa.hibernate.ddl-auto:create-drop"},{"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"score":0,"creation_date":1507015432,"post_id":46538887,"comment_id":80032625,"body_markdown":"I have this statement in the properties file, `spring.jpa.hibernate.ddl-auto=create` also change it to the `create-drop`. None of this helps me.","body":"I have this statement in the properties file, <code>spring.jpa.hibernate.ddl-auto=create</code> also change it to the <code>create-drop</code>. None of this helps me."},{"owner":{"account_id":3875481,"reputation":114,"user_id":3209635,"accept_rate":50,"display_name":"ismailzakky"},"score":0,"creation_date":1507015782,"post_id":46538887,"comment_id":80032814,"body_markdown":"sry, but it seem i cant help u, never work with HQL before, but i hope these 2 links may help you. https://stackoverflow.com/questions/38415734/hsql-database-user-lacks-privilege-or-object-not-found-error , and https://stackoverflow.com/questions/36505559/user-lacks-privilege-or-object-not-found","body":"sry, but it seem i cant help u, never work with HQL before, but i hope these 2 links may help you. <a href=\"https://stackoverflow.com/questions/38415734/hsql-database-user-lacks-privilege-or-object-not-found-error\" title=\"hsql database user lacks privilege or object not found error\">stackoverflow.com/questions/38415734/&hellip;</a> , and <a href=\"https://stackoverflow.com/questions/36505559/user-lacks-privilege-or-object-not-found\" title=\"user lacks privilege or object not found\">stackoverflow.com/questions/36505559/&hellip;</a>"}],"tags":[],"owner":{"account_id":3875481,"reputation":114,"user_id":3209635,"accept_rate":50,"display_name":"ismailzakky"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1507014310,"creation_date":1507014310,"answer_id":46538887,"question_id":46538176,"body_markdown":"Try to change your\r\n\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt;{\r\n    \r\n        User save(User user);\r\n    \r\n        @Query(&quot;SELECT t.name FROM User t where t.id = :id&quot;)\r\n        String findNameById(@Param(&quot;id&quot;) Long id);\r\n    \r\n        @Query(&quot;UPDATE User SET NAME=:name, EMAIL=:email, ADDRESS=:address, PASSWORD=:password, NEWSLETTER=:newsletter, FRAMEWORK=:framework, SEX=:sex, NUMBER=:number, COUNTRY=:country, SKILL=:skill WHERE id=:id&quot;)\r\n        User update (@Param(&quot;id&quot;) Long id);\r\n    }\r\n\r\n\r\nTo \r\n\r\n    public interface UserRepository extends CrudRepository&lt;User, Integer&gt;{\r\n        \r\n            User save(User user);\r\n        \r\n            @Query(&quot;SELECT t.name FROM User t where t.id = :id&quot;)\r\n            String findNameById(@Param(&quot;id&quot;) Integer id);\r\n        \r\n            @Query(&quot;UPDATE User SET NAME=:name, EMAIL=:email, ADDRESS=:address, PASSWORD=:password, NEWSLETTER=:newsletter, FRAMEWORK=:framework, SEX=:sex, NUMBER=:number, COUNTRY=:country, SKILL=:skill WHERE id=:id&quot;)\r\n            User update (@Param(&quot;id&quot;) Integer id);\r\n    }\r\n\r\nidk if this will solve your problem, \r\nbut as i see, your userrepository set Long as Entity ID type, but your User Entitiy Id use Integer as it&#39;s type.","title":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare SQL statement","body":"<p>Try to change your</p>\n\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, Long&gt;{\n\n    User save(User user);\n\n    @Query(\"SELECT t.name FROM User t where t.id = :id\")\n    String findNameById(@Param(\"id\") Long id);\n\n    @Query(\"UPDATE User SET NAME=:name, EMAIL=:email, ADDRESS=:address, PASSWORD=:password, NEWSLETTER=:newsletter, FRAMEWORK=:framework, SEX=:sex, NUMBER=:number, COUNTRY=:country, SKILL=:skill WHERE id=:id\")\n    User update (@Param(\"id\") Long id);\n}\n</code></pre>\n\n<p>To </p>\n\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, Integer&gt;{\n\n        User save(User user);\n\n        @Query(\"SELECT t.name FROM User t where t.id = :id\")\n        String findNameById(@Param(\"id\") Integer id);\n\n        @Query(\"UPDATE User SET NAME=:name, EMAIL=:email, ADDRESS=:address, PASSWORD=:password, NEWSLETTER=:newsletter, FRAMEWORK=:framework, SEX=:sex, NUMBER=:number, COUNTRY=:country, SKILL=:skill WHERE id=:id\")\n        User update (@Param(\"id\") Integer id);\n}\n</code></pre>\n\n<p>idk if this will solve your problem, \nbut as i see, your userrepository set Long as Entity ID type, but your User Entitiy Id use Integer as it's type.</p>\n"},{"comments":[{"owner":{"account_id":368427,"reputation":1132,"user_id":715239,"accept_rate":91,"display_name":"Artog"},"score":1,"creation_date":1568095923,"post_id":57864761,"comment_id":102155184,"body_markdown":"While this code may solve the question, [including an explanation](https://meta.stackexchange.com/q/114762) of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please [edit] your answer to add explanations and give an indication of what limitations and assumptions apply.","body":"While this code may solve the question, <a href=\"https://meta.stackexchange.com/q/114762\">including an explanation</a> of how and why this solves the problem would really help to improve the quality of your post, and probably result in more up-votes. Remember that you are answering the question for readers in the future, not just the person asking now. Please <a href=\"https://stackoverflow.com/posts/57864761/edit\">edit</a> your answer to add explanations and give an indication of what limitations and assumptions apply."}],"tags":[],"owner":{"account_id":15708013,"reputation":1,"user_id":11334221,"display_name":"Shams"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676032161,"creation_date":1568094870,"answer_id":57864761,"question_id":46538176,"body_markdown":"Add this to your application.yml file\r\n\r\n    spring:   \r\n      jpa:\r\n        show-sql: true\r\n        generate-ddl: true\r\n        hibernate:\r\n          ddl-auto: create-drop","title":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare SQL statement","body":"<p>Add this to your application.yml file</p>\n<pre><code>spring:   \n  jpa:\n    show-sql: true\n    generate-ddl: true\n    hibernate:\n      ddl-auto: create-drop\n</code></pre>\n"}],"owner":{"account_id":3260426,"reputation":11579,"user_id":2746110,"accept_rate":67,"display_name":"Arefe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15576,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":46538887,"answer_count":2,"score":3,"last_activity_date":1676032161,"creation_date":1507011168,"question_id":46538176,"body_markdown":"I work with small Spring boot app and I get the error triggered by the method `findAll()` from the controller, \r\n\r\n    @Controller\r\n    @RequestMapping(value = &quot;/&quot;)\r\n    public class UserController {\r\n    \r\n        @Autowired\r\n        private UserService userService;\r\n    \r\n        @GetMapping(value = &quot;/&quot;)\r\n        public String index() {\r\n            return &quot;redirect:/users&quot;;\r\n        }\r\n    \r\n    \r\n        @GetMapping(value = &quot;/users&quot;)\r\n        public String showAllUsers(Model model) {\r\n    \r\n            model.addAttribute(&quot;users&quot;, userService.findAll());\r\n            return &quot;list&quot;;\r\n        }\r\n    }\r\n\r\n\r\nThe important part of the error stack is,\r\n\r\n    org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select user0_.id as id1_1_, user0_.address as address2_1_, user0_.confirm_password as confirm_3_1_, user0_.country as country4_1_, user0_.email as email5_1_, user0_.name as name6_1_, user0_.newsletter as newslett7_1_, user0_.number as number8_1_, user0_.password as password9_1_, user0_.sex as sex10_1_ from user user0_]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\r\n    \r\n    Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: USER0_.ADDRESS in statement [select user0_.id as id1_1_, user0_.address as address2_1_, user0_.confirm_password as confirm_3_1_, user0_.country as country4_1_, user0_.email as email5_1_, user0_.name as name6_1_, user0_.newsletter as newslett7_1_, user0_.number as number8_1_, user0_.password as password9_1_, user0_.sex as sex10_1_ from user user0_]\r\n    \r\n    Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: USER0_.ADDRESS\r\n\r\n\r\n\r\nThe entity class is provided, \r\n\r\n    @Entity\r\n    public class User {\r\n    \r\n        // form:hidden - hidden value\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        Integer id;\r\n    \r\n        // form:input - textbox\r\n        @Column(name = &quot;name&quot;, columnDefinition = &quot;VARCHAR(30)&quot;, nullable = false)\r\n        String name;\r\n    \r\n        // form:input - textbox\r\n        @Column(name = &quot;email&quot;, columnDefinition = &quot;VARCHAR(50)&quot;, nullable = false)\r\n        String email;\r\n    \r\n        // form:textarea - textarea\r\n        @Column(name = &quot;address&quot;, columnDefinition = &quot;VARCHAR(255)&quot;, nullable = true)\r\n        String address;\r\n    \r\n        // form:input - password\r\n        @Column(name = &quot;password&quot;, columnDefinition = &quot;VARCHAR(20)&quot;, nullable = false)\r\n        String password;\r\n    \r\n        // form:input - password\r\n        String confirmPassword;\r\n    \r\n        // form:checkbox - single checkbox\r\n        @Column(name = &quot;newsletter&quot;, nullable = true)\r\n        boolean newsletter;\r\n    \r\n        // form:checkboxes - multiple checkboxes\r\n    //    @Column(columnDefinition = &quot;VARCHAR(500)&quot;, nullable = false)\r\n        @ElementCollection\r\n        List&lt;String&gt; framework;\r\n    \r\n        // form:radiobutton - radio button\r\n        @Column(name = &quot;sex&quot;, columnDefinition = &quot;VARCHAR(1)&quot;, nullable = true)\r\n        String sex;\r\n    \r\n        // form:radiobuttons - radio button\r\n        @Column(name = &quot;number&quot;, nullable = true)\r\n        Integer number;\r\n    \r\n        // form:select - form:option - dropdown - single select\r\n        @Column(name = &quot;&quot;, columnDefinition = &quot;VARCHAR(10)&quot;, nullable = true)\r\n        String country;\r\n    \r\n        // form:select - multiple=true - dropdown - multiple select\r\n    //    @Column(columnDefinition = &quot;VARCHAR(500)&quot;, nullable = true)\r\n        @ElementCollection\r\n        List&lt;String&gt; skill;\r\n    \r\n        //Check if this is for New of Update\r\n        public boolean isNew() {\r\n            return (this.id == null);\r\n        }\r\n    \r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public void setAddress(String address) {\r\n            this.address = address;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        public String getConfirmPassword() {\r\n            return confirmPassword;\r\n        }\r\n    \r\n        public void setConfirmPassword(String confirmPassword) {\r\n            this.confirmPassword = confirmPassword;\r\n        }\r\n    \r\n        public boolean isNewsletter() {\r\n            return newsletter;\r\n        }\r\n    \r\n        public void setNewsletter(boolean newsletter) {\r\n            this.newsletter = newsletter;\r\n        }\r\n    \r\n        public List&lt;String&gt; getFramework() {\r\n            return framework;\r\n        }\r\n    \r\n        public void setFramework(List&lt;String&gt; framework) {\r\n            this.framework = framework;\r\n        }\r\n    \r\n        public String getSex() {\r\n            return sex;\r\n        }\r\n    \r\n        public void setSex(String sex) {\r\n            this.sex = sex;\r\n        }\r\n    \r\n        public Integer getNumber() {\r\n            return number;\r\n        }\r\n    \r\n        public void setNumber(Integer number) {\r\n            this.number = number;\r\n        }\r\n    \r\n        public String getCountry() {\r\n            return country;\r\n        }\r\n    \r\n        public void setCountry(String country) {\r\n            this.country = country;\r\n        }\r\n    \r\n        public List&lt;String&gt; getSkill() {\r\n            return skill;\r\n        }\r\n    \r\n        public void setSkill(List&lt;String&gt; skill) {\r\n            this.skill = skill;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof User)) return false;\r\n    \r\n            User user = (User) o;\r\n    \r\n            if (isNewsletter() != user.isNewsletter()) return false;\r\n            if (!getId().equals(user.getId())) return false;\r\n            if (!getName().equals(user.getName())) return false;\r\n            if (!getEmail().equals(user.getEmail())) return false;\r\n            if (getAddress() != null ? !getAddress().equals(user.getAddress()) : user.getAddress() != null) return false;\r\n            if (!getPassword().equals(user.getPassword())) return false;\r\n            if (getConfirmPassword() != null ? !getConfirmPassword().equals(user.getConfirmPassword()) : user.getConfirmPassword() != null)\r\n                return false;\r\n            if (!getFramework().equals(user.getFramework())) return false;\r\n            if (getSex() != null ? !getSex().equals(user.getSex()) : user.getSex() != null) return false;\r\n            if (getNumber() != null ? !getNumber().equals(user.getNumber()) : user.getNumber() != null) return false;\r\n            if (getCountry() != null ? !getCountry().equals(user.getCountry()) : user.getCountry() != null) return false;\r\n            return getSkill() != null ? getSkill().equals(user.getSkill()) : user.getSkill() == null;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n    \r\n            int result = getId().hashCode();\r\n    \r\n            result = 31 * result + getName().hashCode();\r\n            result = 31 * result + getEmail().hashCode();\r\n            result = 31 * result + (getAddress() != null ? getAddress().hashCode() : 0);\r\n            result = 31 * result + getPassword().hashCode();\r\n            result = 31 * result + (getConfirmPassword() != null ? getConfirmPassword().hashCode() : 0);\r\n            result = 31 * result + (isNewsletter() ? 1 : 0);\r\n            result = 31 * result + getFramework().hashCode();\r\n            result = 31 * result + (getSex() != null ? getSex().hashCode() : 0);\r\n            result = 31 * result + (getNumber() != null ? getNumber().hashCode() : 0);\r\n            result = 31 * result + (getCountry() != null ? getCountry().hashCode() : 0);\r\n            result = 31 * result + (getSkill() != null ? getSkill().hashCode() : 0);\r\n            return result;\r\n        }\r\n    }\r\n\r\n\r\nThe interfaces in the repositoy directory provided, \r\n\r\n    @NoRepositoryBean\r\n    public interface CrudRepository&lt;T, ID extends Serializable&gt;\r\n            extends Repository&lt;T, ID&gt; {\r\n    \r\n        &lt;S extends T&gt; S save(S entity);\r\n    \r\n        T findOne(ID primaryKey);\r\n    \r\n        Iterable&lt;T&gt; findAll();\r\n    \r\n        Long count();\r\n    \r\n        void delete(T entity);\r\n        void delete(ID idx);\r\n    \r\n        boolean exists(ID primaryKey);\r\n    \r\n        // … more functionality omitted.\r\n    }\r\n\r\n\r\nand, the extension of the interface, \r\n\r\n    public interface UserRepository extends CrudRepository&lt;User, Long&gt;{\r\n    \r\n        User save(User user);\r\n    \r\n        @Query(&quot;SELECT t.name FROM User t where t.id = :id&quot;)\r\n        String findNameById(@Param(&quot;id&quot;) Long id);\r\n    \r\n        @Query(&quot;UPDATE User SET NAME=:name, EMAIL=:email, ADDRESS=:address, PASSWORD=:password, NEWSLETTER=:newsletter, FRAMEWORK=:framework, SEX=:sex, NUMBER=:number, COUNTRY=:country, SKILL=:skill WHERE id=:id&quot;)\r\n        User update (@Param(&quot;id&quot;) Long id);\r\n    }\r\n\r\nThe user controller class is provided earlier. If I turn off the `address` field, it shows error to the another field. I can provide more info if required. What is the issue here?\r\n\r\n\r\n\r\nI commented out all but the Id and name, and still having the same type of errors, \r\n\r\n    Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: USER0_.NAME in statement [select user0_.id as id1_1_, user0_.name as name2_1_ from user user0_]\r\n    \r\n    ....\r\n    ....\r\n    Caused by: org.hsqldb.HsqlException: user lacks privilege or object not found: USER0_.NAME\r\n\r\n\r\nHere is 2 line smore of the error, \r\n\r\n    2017-10-03 12:50:52.537 ERROR 8116 --- [on(2)-127.0.0.1] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000389: Unsuccessful: create table user (id integer generated by default as identity (start with 1), name VARCHAR(30) not null, primary key (id))\r\n    2017-10-03 12:50:52.538 ERROR 8116 --- [on(2)-127.0.0.1] org.hibernate.tool.hbm2ddl.SchemaExport  : object name already exists: USER in statement [create table user (id integer generated by default as identity (start with 1), name VARCHAR(30) not null, primary key (id))]\r\n\r\n\r\n\r\nI assume the issue is with the lack of privileges. I have simple config file that is empty now, \r\n\r\n    @Configuration\r\n    @EnableJpaRepositories(basePackages = {\r\n            &quot;com.boot.repository&quot;,\r\n            &quot;com.boot.entity&quot;\r\n    })\r\n    @EnableTransactionManagement\r\n    class PersistenceContext {\r\n    \r\n    }\r\n\r\n\r\nHow would I enable the priviledges for the user in the app?\r\n\r\n\r\n","title":"org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare SQL statement","body":"<p>I work with small Spring boot app and I get the error triggered by the method <code>findAll()</code> from the controller, </p>\n\n<pre><code>@Controller\n@RequestMapping(value = \"/\")\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @GetMapping(value = \"/\")\n    public String index() {\n        return \"redirect:/users\";\n    }\n\n\n    @GetMapping(value = \"/users\")\n    public String showAllUsers(Model model) {\n\n        model.addAttribute(\"users\", userService.findAll());\n        return \"list\";\n    }\n}\n</code></pre>\n\n<p>The important part of the error stack is,</p>\n\n<pre><code>org.springframework.dao.InvalidDataAccessResourceUsageException: could not prepare statement; SQL [select user0_.id as id1_1_, user0_.address as address2_1_, user0_.confirm_password as confirm_3_1_, user0_.country as country4_1_, user0_.email as email5_1_, user0_.name as name6_1_, user0_.newsletter as newslett7_1_, user0_.number as number8_1_, user0_.password as password9_1_, user0_.sex as sex10_1_ from user user0_]; nested exception is org.hibernate.exception.SQLGrammarException: could not prepare statement\n\nCaused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: USER0_.ADDRESS in statement [select user0_.id as id1_1_, user0_.address as address2_1_, user0_.confirm_password as confirm_3_1_, user0_.country as country4_1_, user0_.email as email5_1_, user0_.name as name6_1_, user0_.newsletter as newslett7_1_, user0_.number as number8_1_, user0_.password as password9_1_, user0_.sex as sex10_1_ from user user0_]\n\nCaused by: org.hsqldb.HsqlException: user lacks privilege or object not found: USER0_.ADDRESS\n</code></pre>\n\n<p>The entity class is provided, </p>\n\n<pre><code>@Entity\npublic class User {\n\n    // form:hidden - hidden value\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    Integer id;\n\n    // form:input - textbox\n    @Column(name = \"name\", columnDefinition = \"VARCHAR(30)\", nullable = false)\n    String name;\n\n    // form:input - textbox\n    @Column(name = \"email\", columnDefinition = \"VARCHAR(50)\", nullable = false)\n    String email;\n\n    // form:textarea - textarea\n    @Column(name = \"address\", columnDefinition = \"VARCHAR(255)\", nullable = true)\n    String address;\n\n    // form:input - password\n    @Column(name = \"password\", columnDefinition = \"VARCHAR(20)\", nullable = false)\n    String password;\n\n    // form:input - password\n    String confirmPassword;\n\n    // form:checkbox - single checkbox\n    @Column(name = \"newsletter\", nullable = true)\n    boolean newsletter;\n\n    // form:checkboxes - multiple checkboxes\n//    @Column(columnDefinition = \"VARCHAR(500)\", nullable = false)\n    @ElementCollection\n    List&lt;String&gt; framework;\n\n    // form:radiobutton - radio button\n    @Column(name = \"sex\", columnDefinition = \"VARCHAR(1)\", nullable = true)\n    String sex;\n\n    // form:radiobuttons - radio button\n    @Column(name = \"number\", nullable = true)\n    Integer number;\n\n    // form:select - form:option - dropdown - single select\n    @Column(name = \"\", columnDefinition = \"VARCHAR(10)\", nullable = true)\n    String country;\n\n    // form:select - multiple=true - dropdown - multiple select\n//    @Column(columnDefinition = \"VARCHAR(500)\", nullable = true)\n    @ElementCollection\n    List&lt;String&gt; skill;\n\n    //Check if this is for New of Update\n    public boolean isNew() {\n        return (this.id == null);\n    }\n\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public String getConfirmPassword() {\n        return confirmPassword;\n    }\n\n    public void setConfirmPassword(String confirmPassword) {\n        this.confirmPassword = confirmPassword;\n    }\n\n    public boolean isNewsletter() {\n        return newsletter;\n    }\n\n    public void setNewsletter(boolean newsletter) {\n        this.newsletter = newsletter;\n    }\n\n    public List&lt;String&gt; getFramework() {\n        return framework;\n    }\n\n    public void setFramework(List&lt;String&gt; framework) {\n        this.framework = framework;\n    }\n\n    public String getSex() {\n        return sex;\n    }\n\n    public void setSex(String sex) {\n        this.sex = sex;\n    }\n\n    public Integer getNumber() {\n        return number;\n    }\n\n    public void setNumber(Integer number) {\n        this.number = number;\n    }\n\n    public String getCountry() {\n        return country;\n    }\n\n    public void setCountry(String country) {\n        this.country = country;\n    }\n\n    public List&lt;String&gt; getSkill() {\n        return skill;\n    }\n\n    public void setSkill(List&lt;String&gt; skill) {\n        this.skill = skill;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof User)) return false;\n\n        User user = (User) o;\n\n        if (isNewsletter() != user.isNewsletter()) return false;\n        if (!getId().equals(user.getId())) return false;\n        if (!getName().equals(user.getName())) return false;\n        if (!getEmail().equals(user.getEmail())) return false;\n        if (getAddress() != null ? !getAddress().equals(user.getAddress()) : user.getAddress() != null) return false;\n        if (!getPassword().equals(user.getPassword())) return false;\n        if (getConfirmPassword() != null ? !getConfirmPassword().equals(user.getConfirmPassword()) : user.getConfirmPassword() != null)\n            return false;\n        if (!getFramework().equals(user.getFramework())) return false;\n        if (getSex() != null ? !getSex().equals(user.getSex()) : user.getSex() != null) return false;\n        if (getNumber() != null ? !getNumber().equals(user.getNumber()) : user.getNumber() != null) return false;\n        if (getCountry() != null ? !getCountry().equals(user.getCountry()) : user.getCountry() != null) return false;\n        return getSkill() != null ? getSkill().equals(user.getSkill()) : user.getSkill() == null;\n    }\n\n    @Override\n    public int hashCode() {\n\n        int result = getId().hashCode();\n\n        result = 31 * result + getName().hashCode();\n        result = 31 * result + getEmail().hashCode();\n        result = 31 * result + (getAddress() != null ? getAddress().hashCode() : 0);\n        result = 31 * result + getPassword().hashCode();\n        result = 31 * result + (getConfirmPassword() != null ? getConfirmPassword().hashCode() : 0);\n        result = 31 * result + (isNewsletter() ? 1 : 0);\n        result = 31 * result + getFramework().hashCode();\n        result = 31 * result + (getSex() != null ? getSex().hashCode() : 0);\n        result = 31 * result + (getNumber() != null ? getNumber().hashCode() : 0);\n        result = 31 * result + (getCountry() != null ? getCountry().hashCode() : 0);\n        result = 31 * result + (getSkill() != null ? getSkill().hashCode() : 0);\n        return result;\n    }\n}\n</code></pre>\n\n<p>The interfaces in the repositoy directory provided, </p>\n\n<pre><code>@NoRepositoryBean\npublic interface CrudRepository&lt;T, ID extends Serializable&gt;\n        extends Repository&lt;T, ID&gt; {\n\n    &lt;S extends T&gt; S save(S entity);\n\n    T findOne(ID primaryKey);\n\n    Iterable&lt;T&gt; findAll();\n\n    Long count();\n\n    void delete(T entity);\n    void delete(ID idx);\n\n    boolean exists(ID primaryKey);\n\n    // … more functionality omitted.\n}\n</code></pre>\n\n<p>and, the extension of the interface, </p>\n\n<pre><code>public interface UserRepository extends CrudRepository&lt;User, Long&gt;{\n\n    User save(User user);\n\n    @Query(\"SELECT t.name FROM User t where t.id = :id\")\n    String findNameById(@Param(\"id\") Long id);\n\n    @Query(\"UPDATE User SET NAME=:name, EMAIL=:email, ADDRESS=:address, PASSWORD=:password, NEWSLETTER=:newsletter, FRAMEWORK=:framework, SEX=:sex, NUMBER=:number, COUNTRY=:country, SKILL=:skill WHERE id=:id\")\n    User update (@Param(\"id\") Long id);\n}\n</code></pre>\n\n<p>The user controller class is provided earlier. If I turn off the <code>address</code> field, it shows error to the another field. I can provide more info if required. What is the issue here?</p>\n\n<p>I commented out all but the Id and name, and still having the same type of errors, </p>\n\n<pre><code>Caused by: java.sql.SQLSyntaxErrorException: user lacks privilege or object not found: USER0_.NAME in statement [select user0_.id as id1_1_, user0_.name as name2_1_ from user user0_]\n\n....\n....\nCaused by: org.hsqldb.HsqlException: user lacks privilege or object not found: USER0_.NAME\n</code></pre>\n\n<p>Here is 2 line smore of the error, </p>\n\n<pre><code>2017-10-03 12:50:52.537 ERROR 8116 --- [on(2)-127.0.0.1] org.hibernate.tool.hbm2ddl.SchemaExport  : HHH000389: Unsuccessful: create table user (id integer generated by default as identity (start with 1), name VARCHAR(30) not null, primary key (id))\n2017-10-03 12:50:52.538 ERROR 8116 --- [on(2)-127.0.0.1] org.hibernate.tool.hbm2ddl.SchemaExport  : object name already exists: USER in statement [create table user (id integer generated by default as identity (start with 1), name VARCHAR(30) not null, primary key (id))]\n</code></pre>\n\n<p>I assume the issue is with the lack of privileges. I have simple config file that is empty now, </p>\n\n<pre><code>@Configuration\n@EnableJpaRepositories(basePackages = {\n        \"com.boot.repository\",\n        \"com.boot.entity\"\n})\n@EnableTransactionManagement\nclass PersistenceContext {\n\n}\n</code></pre>\n\n<p>How would I enable the priviledges for the user in the app?</p>\n"},{"tags":["java","c++","apache-arrow"],"comments":[{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1675976026,"post_id":75402797,"comment_id":133049275,"body_markdown":"Please show code instead of a description of the code.","body":"Please show code instead of a description of the code."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1676031578,"post_id":75402797,"comment_id":133060221,"body_markdown":"Unless I am wildly off the mark, you can get a raw pointer by doing `array.data()-&gt;GetValues(0)`. But your bigger problem is that `importArray` transfers ownership of the data from Java to C++, so you somehow need to transfer it back?","body":"Unless I am wildly off the mark, you can get a raw pointer by doing <code>array.data()-&gt;GetValues(0)</code>. But your bigger problem is that <code>importArray</code> transfers ownership of the data from Java to C++, so you somehow need to transfer it back?"},{"owner":{"account_id":26954504,"reputation":11,"user_id":20523124,"display_name":"Timothy Miller"},"score":0,"creation_date":1676035330,"post_id":75402797,"comment_id":133061271,"body_markdown":"Unfortunately, GetValues returns a const pointer, which indicates to me that if I were to strip away the const, the container might not be designed to handle the new values being added.","body":"Unfortunately, GetValues returns a const pointer, which indicates to me that if I were to strip away the const, the container might not be designed to handle the new values being added."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1676036038,"post_id":75402797,"comment_id":133061502,"body_markdown":"There is a very real difference between creating an array from scratch and filling an existing vector with data. Can you please edit your post with at least some pseudocode that explains what you are trying to do? Why is allocating from Java a requirement? How is the builder approach &quot;incredibly slow&quot;?","body":"There is a very real difference between creating an array from scratch and filling an existing vector with data. Can you please edit your post with at least some pseudocode that explains what you are trying to do? Why is allocating from Java a requirement? How is the builder approach &quot;incredibly slow&quot;?"},{"owner":{"account_id":96711,"reputation":11791,"user_id":262727,"display_name":"li.davidm"},"score":0,"creation_date":1676336145,"post_id":75402797,"comment_id":133113156,"body_markdown":"The other thing is: why allocate it in Java? Why not make a JNI call, have the C++ _allocate and fill_ the vector, then export the array from C++ to Java?","body":"The other thing is: why allocate it in Java? Why not make a JNI call, have the C++ <i>allocate and fill</i> the vector, then export the array from C++ to Java?"},{"owner":{"account_id":96711,"reputation":11791,"user_id":262727,"display_name":"li.davidm"},"score":0,"creation_date":1676336195,"post_id":75402797,"comment_id":133113163,"body_markdown":"And for why Value() is slow, and why you can&#39;t get more direct access: what have you tried, and what isn&#39;t working?","body":"And for why Value() is slow, and why you can&#39;t get more direct access: what have you tried, and what isn&#39;t working?"},{"owner":{"account_id":26954504,"reputation":11,"user_id":20523124,"display_name":"Timothy Miller"},"score":0,"creation_date":1676383339,"post_id":75402797,"comment_id":133122893,"body_markdown":"I&#39;m comparing Apache Arrow to nio off-heap buffers. Value() is slow because it goes through multiple layers of abstraction for each access. I can get a raw pointer, and that helps. For writing, I can&#39;t seem to find a way around using an ArrayBuilder, and AppendValues requires a copy. Then the import/export operations to change ownership are very expensive.","body":"I&#39;m comparing Apache Arrow to nio off-heap buffers. Value() is slow because it goes through multiple layers of abstraction for each access. I can get a raw pointer, and that helps. For writing, I can&#39;t seem to find a way around using an ArrayBuilder, and AppendValues requires a copy. Then the import/export operations to change ownership are very expensive."},{"owner":{"account_id":26954504,"reputation":11,"user_id":20523124,"display_name":"Timothy Miller"},"score":0,"creation_date":1676383397,"post_id":75402797,"comment_id":133122920,"body_markdown":"I&#39;ve done a variety of benchmark comparisons between using nio buffers and Arrow, and using nio buffers is orders of magnitude faster for allocation and access by both Java and native code.","body":"I&#39;ve done a variety of benchmark comparisons between using nio buffers and Arrow, and using nio buffers is orders of magnitude faster for allocation and access by both Java and native code."}],"owner":{"account_id":26954504,"reputation":11,"user_id":20523124,"display_name":"Timothy Miller"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":213,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676031848,"creation_date":1675966462,"question_id":75402797,"body_markdown":"Main question\r\n---\r\n\r\nI am working with Apache Arrow vectors, and I&#39;d like some help on figuring out how to fill a vector from C++ code that was created in Java. I have figured out how to create them in Java, share them with native code, and read the contents. But creating a new vector in C++ and filling it using a builder is incredibly slow. \r\n\r\nI would like to figure out how to do the following:\r\n\r\n- Allocate an Arrow vector in Java and pass it to C++ code.\r\n  - I assume this is the same as if I created a vector in Java that I want to read in C++; see below.\r\n- Get a raw pointer in C++ and write directly to the memory allocated in Java.\r\n  - I know how to get a raw pointer from a Buffer object, but not from something like an Int32Array.\r\n- Finalize the vector, set the length, etc.\r\n  - I have no idea at all how to do this.\r\n- Be able to just read it in Java with minimal extra overhead.\r\n\r\n-----\r\n\r\nAppendix\r\n---\r\n\r\nFor reference, here&#39;s how I have been exporting vectors from Java that I want to read in C++.\r\n\r\n- In Java:\r\n  - Have a RootAllocator manage a memory pool.\r\n  - Allocate an Arrow vector using that allocator.\r\n  - Call `vector.allocateNew` to reserve capacity.\r\n  - Use `vector.set(index, data)` to fill the vector.\r\n  - Call `vector.setValueCount` to finalize the vector.\r\n  - Allocate an ArrowSchema and an ArrowArray.\r\n  - Call `Data.exportVector` to populate them with data about the vector.\r\n  - Pass the array and schema pointers through JNI.\r\n- In C++:\r\n  - Call `arrow::ImportArray` with the array and schema pointers\r\n  - Use `ValueOrDie` and a static cast to get access to vector of the right type.\r\n- Back in Java:\r\n  - Read the vector data\r\n  - call `close()` when finished to free memory.\r\n\r\nI have found calling `vector_ptr-&gt;Value(index)` to be *incredibly slow.* Supposedly, there is a `raw_values` method that I should be able to use to get direct pointer to the data, but I can&#39;t figure out how to get access to that from an Int32Array.","title":"How to fill Java-managed Apache Arrow vector from JNI/C++ with zero copy","body":"<h2>Main question</h2>\n<p>I am working with Apache Arrow vectors, and I'd like some help on figuring out how to fill a vector from C++ code that was created in Java. I have figured out how to create them in Java, share them with native code, and read the contents. But creating a new vector in C++ and filling it using a builder is incredibly slow.</p>\n<p>I would like to figure out how to do the following:</p>\n<ul>\n<li>Allocate an Arrow vector in Java and pass it to C++ code.\n<ul>\n<li>I assume this is the same as if I created a vector in Java that I want to read in C++; see below.</li>\n</ul>\n</li>\n<li>Get a raw pointer in C++ and write directly to the memory allocated in Java.\n<ul>\n<li>I know how to get a raw pointer from a Buffer object, but not from something like an Int32Array.</li>\n</ul>\n</li>\n<li>Finalize the vector, set the length, etc.\n<ul>\n<li>I have no idea at all how to do this.</li>\n</ul>\n</li>\n<li>Be able to just read it in Java with minimal extra overhead.</li>\n</ul>\n<hr />\n<h2>Appendix</h2>\n<p>For reference, here's how I have been exporting vectors from Java that I want to read in C++.</p>\n<ul>\n<li>In Java:\n<ul>\n<li>Have a RootAllocator manage a memory pool.</li>\n<li>Allocate an Arrow vector using that allocator.</li>\n<li>Call <code>vector.allocateNew</code> to reserve capacity.</li>\n<li>Use <code>vector.set(index, data)</code> to fill the vector.</li>\n<li>Call <code>vector.setValueCount</code> to finalize the vector.</li>\n<li>Allocate an ArrowSchema and an ArrowArray.</li>\n<li>Call <code>Data.exportVector</code> to populate them with data about the vector.</li>\n<li>Pass the array and schema pointers through JNI.</li>\n</ul>\n</li>\n<li>In C++:\n<ul>\n<li>Call <code>arrow::ImportArray</code> with the array and schema pointers</li>\n<li>Use <code>ValueOrDie</code> and a static cast to get access to vector of the right type.</li>\n</ul>\n</li>\n<li>Back in Java:\n<ul>\n<li>Read the vector data</li>\n<li>call <code>close()</code> when finished to free memory.</li>\n</ul>\n</li>\n</ul>\n<p>I have found calling <code>vector_ptr-&gt;Value(index)</code> to be <em>incredibly slow.</em> Supposedly, there is a <code>raw_values</code> method that I should be able to use to get direct pointer to the data, but I can't figure out how to get access to that from an Int32Array.</p>\n"},{"tags":["java","recursion"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1676003385,"post_id":75406941,"comment_id":133053734,"body_markdown":"What&#39;s the problem?","body":"What&#39;s the problem?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1676003398,"post_id":75406941,"comment_id":133053736,"body_markdown":"You can pass the `int` value `a` to as many functions as you like. But perhaps I don&#39;t understand what you mean.","body":"You can pass the <code>int</code> value <code>a</code> to as many functions as you like. But perhaps I don&#39;t understand what you mean."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1676003561,"post_id":75406941,"comment_id":133053756,"body_markdown":"I&#39;m not sure that I know exactly what you&#39;re asking, but it sounds like you only want to run the three lines from `Scanner s= ...` down to `int a= s.nextInt();` once.  You could try picking them up and moving them to before the beginning of the `for` loop.","body":"I&#39;m not sure that I know exactly what you&#39;re asking, but it sounds like you only want to run the three lines from <code>Scanner s= ...</code> down to <code>int a= s.nextInt();</code> once.  You could try picking them up and moving them to before the beginning of the <code>for</code> loop."},{"owner":{"account_id":27750030,"reputation":1,"user_id":21184615,"display_name":"Elizabeth Meza"},"score":0,"creation_date":1676003631,"post_id":75406941,"comment_id":133053767,"body_markdown":"When it runs it currently asks the user to enter a number six times, I need it to only ask the user once and if they enter for example 40, to increment 6 times, ex. 41, 42,43,45","body":"When it runs it currently asks the user to enter a number six times, I need it to only ask the user once and if they enter for example 40, to increment 6 times, ex. 41, 42,43,45"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1676003706,"post_id":75406941,"comment_id":133053777,"body_markdown":"So, start with my suggestion, then adjust things if you don&#39;t get the result you want.","body":"So, start with my suggestion, then adjust things if you don&#39;t get the result you want."},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1676003769,"post_id":75406941,"comment_id":133053787,"body_markdown":"You should also be aware that an `int` is only just large enough to hold the 46th Fibonacci number.  If you&#39;re going to try to calculate a bigger Fibonacci number than that, you&#39;ll need `long` instead.","body":"You should also be aware that an <code>int</code> is only just large enough to hold the 46th Fibonacci number.  If you&#39;re going to try to calculate a bigger Fibonacci number than that, you&#39;ll need <code>long</code> instead."}],"answers":[{"tags":[],"owner":{"account_id":16834348,"reputation":21,"user_id":12171444,"display_name":"jironemo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676003766,"creation_date":1676003766,"answer_id":75406992,"question_id":75406941,"body_markdown":"Move your Scanner and int a outside the for loop. Currently, the Scanner is being run 6 consecutive times. ","title":"how do I create the number entered into 6 consecutive calls in java?","body":"<p>Move your Scanner and int a outside the for loop. Currently, the Scanner is being run 6 consecutive times.</p>\n"},{"tags":[],"owner":{"account_id":26882945,"reputation":81,"user_id":20463038,"display_name":"pizzamonkey"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676004520,"creation_date":1676004520,"answer_id":75407065,"question_id":75406941,"body_markdown":"This will run everything inside the brackets 6 times. If you want only the second part to be run 6 times, confine it to that.\r\n\r\nAlso you never defined start, so your timing code won&#39;t work at all.\r\n\r\n```\r\n     public static void main(String args[])\r\n    {\r\n        int n =6;\r\n        \r\n\r\n       long start=new Date().getTime();\r\n       Scanner s=new Scanner(System.in);\r\n       System.out.println(&quot;Enter a number: &quot;);\r\n       int a= s.nextInt();\r\n       for (int i=1; i&lt;= n; ++i){\r\n            long start=new Date().getTime();\r\n            System.out.println(&quot;This Fibonacci number =&quot; +fibonacci(a));\r\n            long end=new Date().getTime();\r\n            System.out.println(&quot;seconds used for this calculation =&quot;+((end-start)/1000));\r\n\r\n        }\r\n\r\n    }\r\n```","title":"how do I create the number entered into 6 consecutive calls in java?","body":"<p>This will run everything inside the brackets 6 times. If you want only the second part to be run 6 times, confine it to that.</p>\n<p>Also you never defined start, so your timing code won't work at all.</p>\n<pre><code>     public static void main(String args[])\n    {\n        int n =6;\n        \n\n       long start=new Date().getTime();\n       Scanner s=new Scanner(System.in);\n       System.out.println(&quot;Enter a number: &quot;);\n       int a= s.nextInt();\n       for (int i=1; i&lt;= n; ++i){\n            long start=new Date().getTime();\n            System.out.println(&quot;This Fibonacci number =&quot; +fibonacci(a));\n            long end=new Date().getTime();\n            System.out.println(&quot;seconds used for this calculation =&quot;+((end-start)/1000));\n\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":27750030,"reputation":1,"user_id":21184615,"display_name":"Elizabeth Meza"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1676030807,"creation_date":1676003179,"question_id":75406941,"body_markdown":"I am having trouble implementing a consecutive call here. For example I want the user to only enter a number once, say 40.. and have 6 consecutive calls.\r\n\r\n```java\r\nimport java.util.Date;\r\nimport java.util.Scanner;\r\n\r\nclass Main\r\n{\r\n    public static int count = 0;\r\n\r\n    public static int fibonacci(int a)\r\n    {\r\n        count +=1;\r\n        if (a&lt;=1)\r\n        {\r\n            return a;\r\n        }\r\n        return fibonacci(a-1)+fibonacci(a-2);\r\n    }\r\n\r\n    public static void main(String args[])\r\n    {\r\n        int n =6;\r\n        for (int i=1; i&lt;= n; ++i){\r\n            long start=new Date().getTime();\r\n            Scanner s=new Scanner(System.in);\r\n            System.out.println(&quot;Enter a number: &quot;);\r\n            int a= s.nextInt();\r\n\r\n            System.out.println(&quot;This Fibonacci number =&quot; +fibonacci(a));\r\n            long end=new Date().getTime();\r\n            System.out.println(&quot;seconds used for this calculation =&quot;+((end-start)/1000));\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nthis is what I have so far.","title":"how do I create the number entered into 6 consecutive calls in java?","body":"<p>I am having trouble implementing a consecutive call here. For example I want the user to only enter a number once, say 40.. and have 6 consecutive calls.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Date;\nimport java.util.Scanner;\n\nclass Main\n{\n    public static int count = 0;\n\n    public static int fibonacci(int a)\n    {\n        count +=1;\n        if (a&lt;=1)\n        {\n            return a;\n        }\n        return fibonacci(a-1)+fibonacci(a-2);\n    }\n\n    public static void main(String args[])\n    {\n        int n =6;\n        for (int i=1; i&lt;= n; ++i){\n            long start=new Date().getTime();\n            Scanner s=new Scanner(System.in);\n            System.out.println(&quot;Enter a number: &quot;);\n            int a= s.nextInt();\n\n            System.out.println(&quot;This Fibonacci number =&quot; +fibonacci(a));\n            long end=new Date().getTime();\n            System.out.println(&quot;seconds used for this calculation =&quot;+((end-start)/1000));\n        }\n    }\n}\n</code></pre>\n<p>this is what I have so far.</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1676003227,"post_id":75406898,"comment_id":133053712,"body_markdown":"Change the condition to `if (Character.isDigit(lst5[i]) != Character.isDigit(lst5[j]) ? Character.isDigit(lst5[i]) : lst5[i] &gt; lst5[j])`","body":"Change the condition to <code>if (Character.isDigit(lst5[i]) != Character.isDigit(lst5[j]) ? Character.isDigit(lst5[i]) : lst5[i] &gt; lst5[j])</code>"}],"answers":[{"tags":[],"owner":{"account_id":1021725,"reputation":10018,"user_id":1031887,"accept_rate":77,"display_name":"phatfingers"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676006028,"creation_date":1676004910,"answer_id":75407103,"question_id":75406898,"body_markdown":"Your first for loop should be:\r\n\r\n    for (int i = 0; i &lt; lst5.length-2; i++)\r\n\r\nTo more directly answer your question, the expression\r\n\r\n    (!Character.isDigit(lst5[i]) &amp;&amp; !Character.isDigit(lst5[j]) &amp;&amp; lst5[i] &gt; lst5[j])\r\n\r\nfalls through by evaluating to false when both characters are already-sorted digits.  The next expression `(lst5[i] &lt; lst5[j] &amp;&amp; (Character.isDigit(lst5[i]))` is treated as though there&#39;s certainty that the characters are neither both digits nor both non-digits, which is a fallacy as they could also reach that third expression when already in sorted order.\r\n","title":"Sorting array of chars without using built-in sort()?","body":"<p>Your first for loop should be:</p>\n<pre><code>for (int i = 0; i &lt; lst5.length-2; i++)\n</code></pre>\n<p>To more directly answer your question, the expression</p>\n<pre><code>(!Character.isDigit(lst5[i]) &amp;&amp; !Character.isDigit(lst5[j]) &amp;&amp; lst5[i] &gt; lst5[j])\n</code></pre>\n<p>falls through by evaluating to false when both characters are already-sorted digits.  The next expression <code>(lst5[i] &lt; lst5[j] &amp;&amp; (Character.isDigit(lst5[i]))</code> is treated as though there's certainty that the characters are neither both digits nor both non-digits, which is a fallacy as they could also reach that third expression when already in sorted order.</p>\n"}],"owner":{"account_id":92573,"reputation":13381,"user_id":253656,"accept_rate":80,"display_name":"ipkiss"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75407103,"answer_count":1,"score":-1,"last_activity_date":1676030669,"creation_date":1676002666,"question_id":75406898,"body_markdown":"I have the following code:\r\n\r\n```java\r\nString input5 = &quot;A2B3C1&quot;;\r\nchar[] lst5 = input5.toCharArray();\r\n  \r\nfor (int i = 0; i &lt; lst5.length; i++) {\r\n    for (int j = i + 1; j &lt; lst5.length; j++) {\r\n        if ((Character.isDigit(lst5[i]) &amp;&amp; Character.isDigit(lst5[j]) &amp;&amp; lst5[i] &gt; lst5[j]) || \r\n                (!Character.isDigit(lst5[i]) &amp;&amp; !Character.isDigit(lst5[j]) &amp;&amp; lst5[i] &gt; lst5[j]) || \r\n                (lst5[i] &lt; lst5[j] &amp;&amp; (Character.isDigit(lst5[i])))) {\r\n            char tmp = lst5[i];\r\n            lst5[i] = lst5[j];\r\n            lst5[j] = tmp;\r\n        }\r\n    }\r\n\r\n}\r\nSystem.out.println(lst5);\r\n```\r\n\r\nWhat I expected: &quot;ABC123&quot;\\\r\nBut I got: &quot;ABC132&quot;\r\n\r\nWhat did I do wrong?","title":"Sorting array of chars without using built-in sort()?","body":"<p>I have the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input5 = &quot;A2B3C1&quot;;\nchar[] lst5 = input5.toCharArray();\n  \nfor (int i = 0; i &lt; lst5.length; i++) {\n    for (int j = i + 1; j &lt; lst5.length; j++) {\n        if ((Character.isDigit(lst5[i]) &amp;&amp; Character.isDigit(lst5[j]) &amp;&amp; lst5[i] &gt; lst5[j]) || \n                (!Character.isDigit(lst5[i]) &amp;&amp; !Character.isDigit(lst5[j]) &amp;&amp; lst5[i] &gt; lst5[j]) || \n                (lst5[i] &lt; lst5[j] &amp;&amp; (Character.isDigit(lst5[i])))) {\n            char tmp = lst5[i];\n            lst5[i] = lst5[j];\n            lst5[j] = tmp;\n        }\n    }\n\n}\nSystem.out.println(lst5);\n</code></pre>\n<p>What I expected: &quot;ABC123&quot;<br />\nBut I got: &quot;ABC132&quot;</p>\n<p>What did I do wrong?</p>\n"},{"tags":["java","memory","jvm","version","methodhandle"],"answers":[{"comments":[{"owner":{"account_id":12782866,"reputation":307,"user_id":11079979,"display_name":"Aliaksei Budavei"},"score":0,"creation_date":1676132835,"post_id":75409623,"comment_id":133078142,"body_markdown":"The execution of test cases in _a short-lived forked process_ seems like a [reasonable](https://openjdk.org/jeps/318#Motivation) job for a non-memory-reclaiming GC, i.e. Epsilon.","body":"The execution of test cases in <i>a short-lived forked process</i> seems like a <a href=\"https://openjdk.org/jeps/318#Motivation\" rel=\"nofollow noreferrer\">reasonable</a> job for a non-memory-reclaiming GC, i.e. Epsilon."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1676281026,"post_id":75409623,"comment_id":133098571,"body_markdown":"Yes, such test cases are reasonable, but you still have to be prepared for high memory consumption. 30MB aren’t that much and maxing out the number of parameters is a corner case. Still, I found it interesting to dig into the issue.","body":"Yes, such test cases are reasonable, but you still have to be prepared for high memory consumption. 30MB aren’t that much and maxing out the number of parameters is a corner case. Still, I found it interesting to dig into the issue."}],"tags":[],"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1676030316,"creation_date":1676023865,"answer_id":75409623,"question_id":75407367,"body_markdown":"The main reason for the high memory consumption is, of course, the option `-XX:+UseEpsilonGC`, as turning off the garbage collector implies having all temporary objects in memory instead of being reclaimed.\r\n\r\nYou can simply make a heap dump at the end of the program to see the dominating objects and use a profiling tool to track the allocations. I found quite a lot `StringBuilder` instances in Java 11 (170,000) and in turn, `byte[]` arrays, compared to Java 17 (4,000 `StringBuilder` instances). One of the source of allocations revealed by [async-profiler] was `jdk.internal.org.objectweb.asm.Type` which is a class of the [ASM library] embedded in Java.\r\n\r\nJava 11 uses version 6 of this library whereas Java 17 uses version 8. [In-between these versions] there is a change documented as\r\n\r\n&gt; small optimizations in asm.Type\r\n\r\nOne of the frequently invoked methods in this class is\r\n\r\n&gt; ```java\r\n&gt; public String getDescriptor() {\r\n&gt;     StringBuilder buf = new StringBuilder();\r\n&gt;     getDescriptor(buf);\r\n&gt;     return buf.toString();\r\n&gt; }\r\n&gt; ```\r\n\r\nwe don’t need to dig into the actual implementation method to see that there’s a `StringBuilder` allocated unconditionally. In contrast, the newer implementation looks like\r\n\r\n&gt; ```java\r\n&gt; public String getDescriptor() {\r\n&gt;     if (sort == OBJECT) {\r\n&gt;         return valueBuffer.substring(valueBegin - 1, valueEnd + 1);\r\n&gt;     } else if (sort == INTERNAL) {\r\n&gt;         return &#39;L&#39; + valueBuffer.substring(valueBegin, valueEnd) + &#39;;&#39;;\r\n&gt;     } else {\r\n&gt;         return valueBuffer.substring(valueBegin, valueEnd);\r\n&gt;     }\r\n&gt; }\r\n&gt; ```\r\n\r\nwhich will allocate a `StringBuilder` only in some cases. This especially applies to your case of having lots `int` or `long` parameters, which will end up at the last branch, just calling `substring` on the method signature to produce a string equal to `&quot;I&quot;` or `&quot;J&quot;`. In contrast, the old code allocated a `StringBuilder` instance and a `byte[]` array of length 16 (the default capacity) in addition to the result string, for each invocation.\r\n\r\nThere might be more allocations sites, differing between the Java versions, but I think this provides you with the necessary information about where to search and how to search.\r\n\r\n[async-profiler]: https://github.com/jvm-profiling-tools/async-profiler\r\n[ASM library]: https://asm.ow2.io/index.html\r\n[In-between these versions]: https://asm.ow2.io/versions.html#7.1","title":"What?! 3 vs 36 MiB for a no-op 254-ary method call via a method handle","body":"<p>The main reason for the high memory consumption is, of course, the option <code>-XX:+UseEpsilonGC</code>, as turning off the garbage collector implies having all temporary objects in memory instead of being reclaimed.</p>\n<p>You can simply make a heap dump at the end of the program to see the dominating objects and use a profiling tool to track the allocations. I found quite a lot <code>StringBuilder</code> instances in Java 11 (170,000) and in turn, <code>byte[]</code> arrays, compared to Java 17 (4,000 <code>StringBuilder</code> instances). One of the source of allocations revealed by <a href=\"https://github.com/jvm-profiling-tools/async-profiler\" rel=\"noreferrer\">async-profiler</a> was <code>jdk.internal.org.objectweb.asm.Type</code> which is a class of the <a href=\"https://asm.ow2.io/index.html\" rel=\"noreferrer\">ASM library</a> embedded in Java.</p>\n<p>Java 11 uses version 6 of this library whereas Java 17 uses version 8. <a href=\"https://asm.ow2.io/versions.html#7.1\" rel=\"noreferrer\">In-between these versions</a> there is a change documented as</p>\n<blockquote>\n<p>small optimizations in asm.Type</p>\n</blockquote>\n<p>One of the frequently invoked methods in this class is</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public String getDescriptor() {\n    StringBuilder buf = new StringBuilder();\n    getDescriptor(buf);\n    return buf.toString();\n}\n</code></pre>\n</blockquote>\n<p>we don’t need to dig into the actual implementation method to see that there’s a <code>StringBuilder</code> allocated unconditionally. In contrast, the newer implementation looks like</p>\n<blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>public String getDescriptor() {\n    if (sort == OBJECT) {\n        return valueBuffer.substring(valueBegin - 1, valueEnd + 1);\n    } else if (sort == INTERNAL) {\n        return 'L' + valueBuffer.substring(valueBegin, valueEnd) + ';';\n    } else {\n        return valueBuffer.substring(valueBegin, valueEnd);\n    }\n}\n</code></pre>\n</blockquote>\n<p>which will allocate a <code>StringBuilder</code> only in some cases. This especially applies to your case of having lots <code>int</code> or <code>long</code> parameters, which will end up at the last branch, just calling <code>substring</code> on the method signature to produce a string equal to <code>&quot;I&quot;</code> or <code>&quot;J&quot;</code>. In contrast, the old code allocated a <code>StringBuilder</code> instance and a <code>byte[]</code> array of length 16 (the default capacity) in addition to the result string, for each invocation.</p>\n<p>There might be more allocations sites, differing between the Java versions, but I think this provides you with the necessary information about where to search and how to search.</p>\n"}],"owner":{"account_id":12782866,"reputation":307,"user_id":11079979,"display_name":"Aliaksei Budavei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":75409623,"answer_count":1,"score":-1,"last_activity_date":1676030316,"creation_date":1676007766,"question_id":75407367,"body_markdown":"It could be shown (see _below_ a rewritten [test case](https://bitbucket.org/zzzyxwvut/ate/src/657638671a39e58aa4c7c134be462d6a51f1b24e/ate/src/org.zzzyxwvut.ate/tests/tester/ate/ArgumentableCardinalityTests.java)) that method handles for 254-ary methods claim less memory in Java 17 than in Java 11, when compiled and run by its tools.\r\n\r\nSince no method-handle- or reflection-related features are advertised in release summaries for Java versions from [11](https://openjdk.org/projects/jdk/11/) to [17](https://openjdk.org/projects/jdk/17/), I&#39;m curious: what changes have contributed to less memory consumption?\r\n\r\n---\r\n\r\nThis is a rewritten test case `ArityLimits.java`:\r\n```java\r\nimport java.lang.invoke.MethodHandle;\r\nimport java.lang.invoke.MethodHandles.Lookup;\r\nimport java.lang.invoke.MethodHandles;\r\nimport java.lang.reflect.Method;\r\nimport java.lang.reflect.Modifier;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.function.Consumer;\r\nimport java.util.function.Supplier;\r\n\r\nclass ArityLimits\r\n{\r\n\tpublic static void main(String[] args) throws Throwable\r\n\t{\r\n\t\t// Pick an implementation with the 1st argument, e.g. core.\r\n\t\tfinal Invocable invocable = (args.length &gt; 0\r\n\t\t\t\t\t&amp;&amp; args[0].equalsIgnoreCase(&quot;core&quot;))\r\n\t\t\t? new CoreInvoker(ArityLimits::new)\r\n\t\t\t: new HandleInvoker(ArityLimits::new,\r\n\t\t\t\tMethodHandles.privateLookupIn(\r\n\t\t\t\t\t\tArityLimits.class,\r\n\t\t\t\t\t\tMethodHandles.lookup()));\r\n\r\n\t\t// Pick which methods to call with the 2nd argument, e.g.\r\n\t\t// $(( 1|2|4|8 )).\r\n\t\tfinal int agenda = (args.length &gt; 1)\r\n\t\t\t? 0xf &amp; Integer.parseInt(args[1])\r\n\t\t\t: (1 | 2 | 4 | 8);\r\n\t\tfinal Map&lt;String, List&lt;?&gt;&gt; arguments = new HashMap&lt;&gt;(8);\r\n\r\n\t\tif ((agenda &amp; 1) != 0)\r\n\t\t\targuments.put(&quot;passCrunchLongsFix128&quot;,\r\n\t\t\t\tCollections.nCopies(128 - 2 /* (handle, this) */, 0L));\r\n\r\n\t\tif ((agenda &amp; 2) != 0)\r\n\t\t\targuments.put(&quot;passClassCrunchLongsFix128&quot;,\r\n\t\t\t\tCollections.nCopies(128 - 1 /* (handle) */, 0L));\r\n\r\n\t\tif ((agenda &amp; 4) != 0)\r\n\t\t\targuments.put(&quot;passCrunchIntsFix255&quot;,\r\n\t\t\t\tCollections.nCopies(255 - 2 /* (handle, this) */, 0));\r\n\r\n\t\tif ((agenda &amp; 8) != 0)\r\n\t\t\targuments.put(&quot;passClassCrunchIntsFix255&quot;,\r\n\t\t\t\tCollections.nCopies(255 - 1 /* (handle) */, 0));\r\n\r\n\t\tfinal Consumer&lt;Method&gt; announcer = (&quot;Linux&quot;.equalsIgnoreCase(\r\n\t\t\t\t\tSystem.getProperty(&quot;os.name&quot;, &quot;&quot;)))\r\n\t\t\t? method -&gt; System.err.format(&quot;\\033[7m%s\\033[0m%n&quot;,\r\n\t\t\t\t\t\t\tmethod.getName())\r\n\t\t\t: method -&gt; System.err.println(method.getName());\r\n\r\n\t\tfor (Method method : ArityLimits.class.getDeclaredMethods()) {\r\n\t\t\tfinal List&lt;?&gt; methodArgs = arguments.get(\r\n\t\t\t\t\t\t\tmethod.getName());\r\n\r\n\t\t\tif (methodArgs == null)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tinvocable.invoke(method, methodArgs);\r\n\t\t\tannouncer.accept(method);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate interface Invocable\r\n\t{\r\n\t\tvoid invoke(Method method, List&lt;?&gt; args) throws Throwable;\r\n\r\n\t\tstatic boolean warnTooManyArgs(Method method, List&lt;?&gt; args)\r\n\t\t{\r\n\t\t\tif (method.isVarArgs() || args.size() &lt; 256)\r\n\t\t\t\treturn false;\r\n\r\n\t\t\tSystem.err.println(method.getName()\r\n\t\t\t\t\t.concat(&quot;: too many arguments&quot;));\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static final class CoreInvoker implements Invocable\r\n\t{\r\n\t\tprivate final Supplier&lt;?&gt; instanceer;\r\n\r\n\t\tCoreInvoker(Supplier&lt;?&gt; instanceer)\r\n\t\t{\r\n\t\t\tthis.instanceer = instanceer;\r\n\t\t}\r\n\r\n\t\tpublic void invoke(Method method, List&lt;?&gt; args)\r\n\t\t\t\t\tthrows ReflectiveOperationException\r\n\t\t{\r\n\t\t\tif (Invocable.warnTooManyArgs(method, args))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tmethod.invoke((Modifier.isStatic(method.getModifiers()))\r\n\t\t\t\t\t? null\r\n\t\t\t\t\t: instanceer.get(),\r\n\t\t\t\targs.toArray());\r\n\t\t}\r\n\t}\r\n\r\n\tprivate static final class HandleInvoker implements Invocable\r\n\t{\r\n\t\tprivate final Supplier&lt;?&gt; instanceer;\r\n\t\tprivate final Lookup lookup;\r\n\r\n\t\tHandleInvoker(Supplier&lt;?&gt; instanceer, Lookup lookup)\r\n\t\t{\r\n\t\t\tthis.instanceer = instanceer;\r\n\t\t\tthis.lookup = lookup;\r\n\t\t}\r\n\r\n\t\tpublic void invoke(Method method, List&lt;?&gt; args) throws Throwable\r\n\t\t{\r\n\t\t\t// Here a handle shall check its parameter constraints.\r\n\t\t\tfinal MethodHandle mh1 = lookup.unreflect(method);\r\n\r\n\t\t\tif (Invocable.warnTooManyArgs(method, args))\r\n\t\t\t\treturn;\r\n\r\n\t\t\tfinal MethodHandle mh2 = (Modifier.isStatic(\r\n\t\t\t\t\t\t\tmethod.getModifiers()))\r\n\t\t\t\t? mh1\r\n\t\t\t\t: mh1.bindTo(instanceer.get());\r\n\t\t\tmh2.invokeWithArguments(args);\r\n\t\t}\r\n\t}\r\n\r\n\tvoid passCrunchLongsFix128(/* MethodHandle mh, ArityLimits al, */\r\n\t\t\tlong _001, long _002, long _003, long _004, long _005,\r\n\t\t\tlong _006, long _007, long _008, long _009, long _010,\r\n\t\t\tlong _011, long _012, long _013, long _014, long _015,\r\n\t\t\tlong _016, long _017, long _018, long _019, long _020,\r\n\t\t\tlong _021, long _022, long _023, long _024, long _025,\r\n\t\t\tlong _026, long _027, long _028, long _029, long _030,\r\n\t\t\tlong _031, long _032, long _033, long _034, long _035,\r\n\t\t\tlong _036, long _037, long _038, long _039, long _040,\r\n\t\t\tlong _041, long _042, long _043, long _044, long _045,\r\n\t\t\tlong _046, long _047, long _048, long _049, long _050,\r\n\r\n\t\t\tlong _051, long _052, long _053, long _054, long _055,\r\n\t\t\tlong _056, long _057, long _058, long _059, long _060,\r\n\t\t\tlong _061, long _062, long _063, long _064, long _065,\r\n\t\t\tlong _066, long _067, long _068, long _069, long _070,\r\n\t\t\tlong _071, long _072, long _073, long _074, long _075,\r\n\t\t\tlong _076, long _077, long _078, long _079, long _080,\r\n\t\t\tlong _081, long _082, long _083, long _084, long _085,\r\n\t\t\tlong _086, long _087, long _088, long _089, long _090,\r\n\t\t\tlong _091, long _092, long _093, long _094, long _095,\r\n\t\t\tlong _096, long _097, long _098, long _099, long _100,\r\n\r\n\t\t\tlong _101, long _102, long _103, long _104, long _105,\r\n\t\t\tlong _106, long _107, long _108, long _109, long _110,\r\n\t\t\tlong _111, long _112, long _113, long _114, long _115,\r\n\t\t\tlong _116, long _117, long _118, long _119, long _120,\r\n\t\t\tlong _121, long _122, long _123, long _124, long _125,\r\n\t\t\tlong _126) { }\r\n\r\n\tstatic void passClassCrunchLongsFix128(/* MethodHandle mh, */\r\n\t\t\tlong _001, long _002, long _003, long _004, long _005,\r\n\t\t\tlong _006, long _007, long _008, long _009, long _010,\r\n\t\t\tlong _011, long _012, long _013, long _014, long _015,\r\n\t\t\tlong _016, long _017, long _018, long _019, long _020,\r\n\t\t\tlong _021, long _022, long _023, long _024, long _025,\r\n\t\t\tlong _026, long _027, long _028, long _029, long _030,\r\n\t\t\tlong _031, long _032, long _033, long _034, long _035,\r\n\t\t\tlong _036, long _037, long _038, long _039, long _040,\r\n\t\t\tlong _041, long _042, long _043, long _044, long _045,\r\n\t\t\tlong _046, long _047, long _048, long _049, long _050,\r\n\r\n\t\t\tlong _051, long _052, long _053, long _054, long _055,\r\n\t\t\tlong _056, long _057, long _058, long _059, long _060,\r\n\t\t\tlong _061, long _062, long _063, long _064, long _065,\r\n\t\t\tlong _066, long _067, long _068, long _069, long _070,\r\n\t\t\tlong _071, long _072, long _073, long _074, long _075,\r\n\t\t\tlong _076, long _077, long _078, long _079, long _080,\r\n\t\t\tlong _081, long _082, long _083, long _084, long _085,\r\n\t\t\tlong _086, long _087, long _088, long _089, long _090,\r\n\t\t\tlong _091, long _092, long _093, long _094, long _095,\r\n\t\t\tlong _096, long _097, long _098, long _099, long _100,\r\n\r\n\t\t\tlong _101, long _102, long _103, long _104, long _105,\r\n\t\t\tlong _106, long _107, long _108, long _109, long _110,\r\n\t\t\tlong _111, long _112, long _113, long _114, long _115,\r\n\t\t\tlong _116, long _117, long _118, long _119, long _120,\r\n\t\t\tlong _121, long _122, long _123, long _124, long _125,\r\n\t\t\tlong _126, long _127) { }\r\n\r\n\tvoid passCrunchIntsFix255(/* MethodHandle mh, ArityLimits al, */\r\n\t\t\tint _001, int _002, int _003, int _004, int _005,\r\n\t\t\tint _006, int _007, int _008, int _009, int _010,\r\n\t\t\tint _011, int _012, int _013, int _014, int _015,\r\n\t\t\tint _016, int _017, int _018, int _019, int _020,\r\n\t\t\tint _021, int _022, int _023, int _024, int _025,\r\n\t\t\tint _026, int _027, int _028, int _029, int _030,\r\n\t\t\tint _031, int _032, int _033, int _034, int _035,\r\n\t\t\tint _036, int _037, int _038, int _039, int _040,\r\n\t\t\tint _041, int _042, int _043, int _044, int _045,\r\n\t\t\tint _046, int _047, int _048, int _049, int _050,\r\n\r\n\t\t\tint _051, int _052, int _053, int _054, int _055,\r\n\t\t\tint _056, int _057, int _058, int _059, int _060,\r\n\t\t\tint _061, int _062, int _063, int _064, int _065,\r\n\t\t\tint _066, int _067, int _068, int _069, int _070,\r\n\t\t\tint _071, int _072, int _073, int _074, int _075,\r\n\t\t\tint _076, int _077, int _078, int _079, int _080,\r\n\t\t\tint _081, int _082, int _083, int _084, int _085,\r\n\t\t\tint _086, int _087, int _088, int _089, int _090,\r\n\t\t\tint _091, int _092, int _093, int _094, int _095,\r\n\t\t\tint _096, int _097, int _098, int _099, int _100,\r\n\r\n\t\t\tint _101, int _102, int _103, int _104, int _105,\r\n\t\t\tint _106, int _107, int _108, int _109, int _110,\r\n\t\t\tint _111, int _112, int _113, int _114, int _115,\r\n\t\t\tint _116, int _117, int _118, int _119, int _120,\r\n\t\t\tint _121, int _122, int _123, int _124, int _125,\r\n\t\t\tint _126, int _127, int _128, int _129, int _130,\r\n\t\t\tint _131, int _132, int _133, int _134, int _135,\r\n\t\t\tint _136, int _137, int _138, int _139, int _140,\r\n\t\t\tint _141, int _142, int _143, int _144, int _145,\r\n\t\t\tint _146, int _147, int _148, int _149, int _150,\r\n\r\n\t\t\tint _151, int _152, int _153, int _154, int _155,\r\n\t\t\tint _156, int _157, int _158, int _159, int _160,\r\n\t\t\tint _161, int _162, int _163, int _164, int _165,\r\n\t\t\tint _166, int _167, int _168, int _169, int _170,\r\n\t\t\tint _171, int _172, int _173, int _174, int _175,\r\n\t\t\tint _176, int _177, int _178, int _179, int _180,\r\n\t\t\tint _181, int _182, int _183, int _184, int _185,\r\n\t\t\tint _186, int _187, int _188, int _189, int _190,\r\n\t\t\tint _191, int _192, int _193, int _194, int _195,\r\n\t\t\tint _196, int _197, int _198, int _199, int _200,\r\n\r\n\t\t\tint _201, int _202, int _203, int _204, int _205,\r\n\t\t\tint _206, int _207, int _208, int _209, int _210,\r\n\t\t\tint _211, int _212, int _213, int _214, int _215,\r\n\t\t\tint _216, int _217, int _218, int _219, int _220,\r\n\t\t\tint _221, int _222, int _223, int _224, int _225,\r\n\t\t\tint _226, int _227, int _228, int _229, int _230,\r\n\t\t\tint _231, int _232, int _233, int _234, int _235,\r\n\t\t\tint _236, int _237, int _238, int _239, int _240,\r\n\t\t\tint _241, int _242, int _243, int _244, int _245,\r\n\t\t\tint _246, int _247, int _248, int _249, int _250,\r\n\r\n\t\t\tint _251, int _252, int _253) { }\r\n\r\n\tstatic void passClassCrunchIntsFix255(/* MethodHandle mh, */\r\n\t\t\tint _001, int _002, int _003, int _004, int _005,\r\n\t\t\tint _006, int _007, int _008, int _009, int _010,\r\n\t\t\tint _011, int _012, int _013, int _014, int _015,\r\n\t\t\tint _016, int _017, int _018, int _019, int _020,\r\n\t\t\tint _021, int _022, int _023, int _024, int _025,\r\n\t\t\tint _026, int _027, int _028, int _029, int _030,\r\n\t\t\tint _031, int _032, int _033, int _034, int _035,\r\n\t\t\tint _036, int _037, int _038, int _039, int _040,\r\n\t\t\tint _041, int _042, int _043, int _044, int _045,\r\n\t\t\tint _046, int _047, int _048, int _049, int _050,\r\n\r\n\t\t\tint _051, int _052, int _053, int _054, int _055,\r\n\t\t\tint _056, int _057, int _058, int _059, int _060,\r\n\t\t\tint _061, int _062, int _063, int _064, int _065,\r\n\t\t\tint _066, int _067, int _068, int _069, int _070,\r\n\t\t\tint _071, int _072, int _073, int _074, int _075,\r\n\t\t\tint _076, int _077, int _078, int _079, int _080,\r\n\t\t\tint _081, int _082, int _083, int _084, int _085,\r\n\t\t\tint _086, int _087, int _088, int _089, int _090,\r\n\t\t\tint _091, int _092, int _093, int _094, int _095,\r\n\t\t\tint _096, int _097, int _098, int _099, int _100,\r\n\r\n\t\t\tint _101, int _102, int _103, int _104, int _105,\r\n\t\t\tint _106, int _107, int _108, int _109, int _110,\r\n\t\t\tint _111, int _112, int _113, int _114, int _115,\r\n\t\t\tint _116, int _117, int _118, int _119, int _120,\r\n\t\t\tint _121, int _122, int _123, int _124, int _125,\r\n\t\t\tint _126, int _127, int _128, int _129, int _130,\r\n\t\t\tint _131, int _132, int _133, int _134, int _135,\r\n\t\t\tint _136, int _137, int _138, int _139, int _140,\r\n\t\t\tint _141, int _142, int _143, int _144, int _145,\r\n\t\t\tint _146, int _147, int _148, int _149, int _150,\r\n\r\n\t\t\tint _151, int _152, int _153, int _154, int _155,\r\n\t\t\tint _156, int _157, int _158, int _159, int _160,\r\n\t\t\tint _161, int _162, int _163, int _164, int _165,\r\n\t\t\tint _166, int _167, int _168, int _169, int _170,\r\n\t\t\tint _171, int _172, int _173, int _174, int _175,\r\n\t\t\tint _176, int _177, int _178, int _179, int _180,\r\n\t\t\tint _181, int _182, int _183, int _184, int _185,\r\n\t\t\tint _186, int _187, int _188, int _189, int _190,\r\n\t\t\tint _191, int _192, int _193, int _194, int _195,\r\n\t\t\tint _196, int _197, int _198, int _199, int _200,\r\n\r\n\t\t\tint _201, int _202, int _203, int _204, int _205,\r\n\t\t\tint _206, int _207, int _208, int _209, int _210,\r\n\t\t\tint _211, int _212, int _213, int _214, int _215,\r\n\t\t\tint _216, int _217, int _218, int _219, int _220,\r\n\t\t\tint _221, int _222, int _223, int _224, int _225,\r\n\t\t\tint _226, int _227, int _228, int _229, int _230,\r\n\t\t\tint _231, int _232, int _233, int _234, int _235,\r\n\t\t\tint _236, int _237, int _238, int _239, int _240,\r\n\t\t\tint _241, int _242, int _243, int _244, int _245,\r\n\t\t\tint _246, int _247, int _248, int _249, int _250,\r\n\r\n\t\t\tint _251, int _252, int _253, int _254) { }\r\n}\r\n```\r\n\r\nThis is an argument file `args`:\r\n```sh\r\n-XX:+UnlockExperimentalVMOptions\r\n-XX:+UseEpsilonGC\r\n-XX:+AlwaysPreTouch\r\n-Xms136m\r\n-Xmx136m\r\n-Xlog:heap*=info,gc=info\r\n```\r\n\r\nSave the files in, for example, a `/tmp` directory, and start a Java 11 version Docker container:\r\n\r\n```sh\r\ndocker run --entrypoint /bin/sh --interactive \\\r\n  --rm --tty --volume=&quot;/tmp:/tmp&quot; \\\r\n  --workdir=&quot;/tmp&quot; eclipse-temurin:11-jdk-alpine    # It may pull in ~200 MiB.\r\n\r\njavac -Xdiags:verbose -Xlint ArityLimits.java\r\njava @args ArityLimits handle $(( 1 | 2 | 4 | 8 ))  # 91/136 MiB of heap used\r\njava @args ArityLimits handle 8                     # 36/136 (see title)\r\njava @args ArityLimits core $(( 1 | 2 | 4 | 8 ))    #  1/136\r\njava @args ArityLimits core 8                       #  1/136\r\nrm *.class\r\nexit\r\n```\r\n\r\nNow, start a Java 17 version Docker container:\r\n\r\n```sh\r\ndocker run --entrypoint /bin/sh --interactive \\\r\n  --rm --tty --volume=&quot;/tmp:/tmp&quot; \\\r\n  --workdir=&quot;/tmp&quot; eclipse-temurin:17-jdk-alpine    # It may pull in ~200 MiB.\r\n\r\njavac -Xdiags:verbose -Xlint ArityLimits.java\r\njava @args ArityLimits handle $(( 1 | 2 | 4 | 8 ))  #  5/136 MiB of heap used\r\njava @args ArityLimits handle 8                     #  3/136 (see title)\r\njava @args ArityLimits core $(( 1 | 2 | 4 | 8 ))    #  1/136\r\njava @args ArityLimits core 8                       #  1/136\r\nrm *.class\r\nexit\r\n```\r\n","title":"What?! 3 vs 36 MiB for a no-op 254-ary method call via a method handle","body":"<p>It could be shown (see <em>below</em> a rewritten <a href=\"https://bitbucket.org/zzzyxwvut/ate/src/657638671a39e58aa4c7c134be462d6a51f1b24e/ate/src/org.zzzyxwvut.ate/tests/tester/ate/ArgumentableCardinalityTests.java\" rel=\"nofollow noreferrer\">test case</a>) that method handles for 254-ary methods claim less memory in Java 17 than in Java 11, when compiled and run by its tools.</p>\n<p>Since no method-handle- or reflection-related features are advertised in release summaries for Java versions from <a href=\"https://openjdk.org/projects/jdk/11/\" rel=\"nofollow noreferrer\">11</a> to <a href=\"https://openjdk.org/projects/jdk/17/\" rel=\"nofollow noreferrer\">17</a>, I'm curious: what changes have contributed to less memory consumption?</p>\n<hr />\n<p>This is a rewritten test case <code>ArityLimits.java</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.lang.invoke.MethodHandle;\nimport java.lang.invoke.MethodHandles.Lookup;\nimport java.lang.invoke.MethodHandles;\nimport java.lang.reflect.Method;\nimport java.lang.reflect.Modifier;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.function.Consumer;\nimport java.util.function.Supplier;\n\nclass ArityLimits\n{\n    public static void main(String[] args) throws Throwable\n    {\n        // Pick an implementation with the 1st argument, e.g. core.\n        final Invocable invocable = (args.length &gt; 0\n                    &amp;&amp; args[0].equalsIgnoreCase(&quot;core&quot;))\n            ? new CoreInvoker(ArityLimits::new)\n            : new HandleInvoker(ArityLimits::new,\n                MethodHandles.privateLookupIn(\n                        ArityLimits.class,\n                        MethodHandles.lookup()));\n\n        // Pick which methods to call with the 2nd argument, e.g.\n        // $(( 1|2|4|8 )).\n        final int agenda = (args.length &gt; 1)\n            ? 0xf &amp; Integer.parseInt(args[1])\n            : (1 | 2 | 4 | 8);\n        final Map&lt;String, List&lt;?&gt;&gt; arguments = new HashMap&lt;&gt;(8);\n\n        if ((agenda &amp; 1) != 0)\n            arguments.put(&quot;passCrunchLongsFix128&quot;,\n                Collections.nCopies(128 - 2 /* (handle, this) */, 0L));\n\n        if ((agenda &amp; 2) != 0)\n            arguments.put(&quot;passClassCrunchLongsFix128&quot;,\n                Collections.nCopies(128 - 1 /* (handle) */, 0L));\n\n        if ((agenda &amp; 4) != 0)\n            arguments.put(&quot;passCrunchIntsFix255&quot;,\n                Collections.nCopies(255 - 2 /* (handle, this) */, 0));\n\n        if ((agenda &amp; 8) != 0)\n            arguments.put(&quot;passClassCrunchIntsFix255&quot;,\n                Collections.nCopies(255 - 1 /* (handle) */, 0));\n\n        final Consumer&lt;Method&gt; announcer = (&quot;Linux&quot;.equalsIgnoreCase(\n                    System.getProperty(&quot;os.name&quot;, &quot;&quot;)))\n            ? method -&gt; System.err.format(&quot;\\033[7m%s\\033[0m%n&quot;,\n                            method.getName())\n            : method -&gt; System.err.println(method.getName());\n\n        for (Method method : ArityLimits.class.getDeclaredMethods()) {\n            final List&lt;?&gt; methodArgs = arguments.get(\n                            method.getName());\n\n            if (methodArgs == null)\n                continue;\n\n            invocable.invoke(method, methodArgs);\n            announcer.accept(method);\n        }\n    }\n\n    private interface Invocable\n    {\n        void invoke(Method method, List&lt;?&gt; args) throws Throwable;\n\n        static boolean warnTooManyArgs(Method method, List&lt;?&gt; args)\n        {\n            if (method.isVarArgs() || args.size() &lt; 256)\n                return false;\n\n            System.err.println(method.getName()\n                    .concat(&quot;: too many arguments&quot;));\n            return true;\n        }\n    }\n\n    private static final class CoreInvoker implements Invocable\n    {\n        private final Supplier&lt;?&gt; instanceer;\n\n        CoreInvoker(Supplier&lt;?&gt; instanceer)\n        {\n            this.instanceer = instanceer;\n        }\n\n        public void invoke(Method method, List&lt;?&gt; args)\n                    throws ReflectiveOperationException\n        {\n            if (Invocable.warnTooManyArgs(method, args))\n                return;\n\n            method.invoke((Modifier.isStatic(method.getModifiers()))\n                    ? null\n                    : instanceer.get(),\n                args.toArray());\n        }\n    }\n\n    private static final class HandleInvoker implements Invocable\n    {\n        private final Supplier&lt;?&gt; instanceer;\n        private final Lookup lookup;\n\n        HandleInvoker(Supplier&lt;?&gt; instanceer, Lookup lookup)\n        {\n            this.instanceer = instanceer;\n            this.lookup = lookup;\n        }\n\n        public void invoke(Method method, List&lt;?&gt; args) throws Throwable\n        {\n            // Here a handle shall check its parameter constraints.\n            final MethodHandle mh1 = lookup.unreflect(method);\n\n            if (Invocable.warnTooManyArgs(method, args))\n                return;\n\n            final MethodHandle mh2 = (Modifier.isStatic(\n                            method.getModifiers()))\n                ? mh1\n                : mh1.bindTo(instanceer.get());\n            mh2.invokeWithArguments(args);\n        }\n    }\n\n    void passCrunchLongsFix128(/* MethodHandle mh, ArityLimits al, */\n            long _001, long _002, long _003, long _004, long _005,\n            long _006, long _007, long _008, long _009, long _010,\n            long _011, long _012, long _013, long _014, long _015,\n            long _016, long _017, long _018, long _019, long _020,\n            long _021, long _022, long _023, long _024, long _025,\n            long _026, long _027, long _028, long _029, long _030,\n            long _031, long _032, long _033, long _034, long _035,\n            long _036, long _037, long _038, long _039, long _040,\n            long _041, long _042, long _043, long _044, long _045,\n            long _046, long _047, long _048, long _049, long _050,\n\n            long _051, long _052, long _053, long _054, long _055,\n            long _056, long _057, long _058, long _059, long _060,\n            long _061, long _062, long _063, long _064, long _065,\n            long _066, long _067, long _068, long _069, long _070,\n            long _071, long _072, long _073, long _074, long _075,\n            long _076, long _077, long _078, long _079, long _080,\n            long _081, long _082, long _083, long _084, long _085,\n            long _086, long _087, long _088, long _089, long _090,\n            long _091, long _092, long _093, long _094, long _095,\n            long _096, long _097, long _098, long _099, long _100,\n\n            long _101, long _102, long _103, long _104, long _105,\n            long _106, long _107, long _108, long _109, long _110,\n            long _111, long _112, long _113, long _114, long _115,\n            long _116, long _117, long _118, long _119, long _120,\n            long _121, long _122, long _123, long _124, long _125,\n            long _126) { }\n\n    static void passClassCrunchLongsFix128(/* MethodHandle mh, */\n            long _001, long _002, long _003, long _004, long _005,\n            long _006, long _007, long _008, long _009, long _010,\n            long _011, long _012, long _013, long _014, long _015,\n            long _016, long _017, long _018, long _019, long _020,\n            long _021, long _022, long _023, long _024, long _025,\n            long _026, long _027, long _028, long _029, long _030,\n            long _031, long _032, long _033, long _034, long _035,\n            long _036, long _037, long _038, long _039, long _040,\n            long _041, long _042, long _043, long _044, long _045,\n            long _046, long _047, long _048, long _049, long _050,\n\n            long _051, long _052, long _053, long _054, long _055,\n            long _056, long _057, long _058, long _059, long _060,\n            long _061, long _062, long _063, long _064, long _065,\n            long _066, long _067, long _068, long _069, long _070,\n            long _071, long _072, long _073, long _074, long _075,\n            long _076, long _077, long _078, long _079, long _080,\n            long _081, long _082, long _083, long _084, long _085,\n            long _086, long _087, long _088, long _089, long _090,\n            long _091, long _092, long _093, long _094, long _095,\n            long _096, long _097, long _098, long _099, long _100,\n\n            long _101, long _102, long _103, long _104, long _105,\n            long _106, long _107, long _108, long _109, long _110,\n            long _111, long _112, long _113, long _114, long _115,\n            long _116, long _117, long _118, long _119, long _120,\n            long _121, long _122, long _123, long _124, long _125,\n            long _126, long _127) { }\n\n    void passCrunchIntsFix255(/* MethodHandle mh, ArityLimits al, */\n            int _001, int _002, int _003, int _004, int _005,\n            int _006, int _007, int _008, int _009, int _010,\n            int _011, int _012, int _013, int _014, int _015,\n            int _016, int _017, int _018, int _019, int _020,\n            int _021, int _022, int _023, int _024, int _025,\n            int _026, int _027, int _028, int _029, int _030,\n            int _031, int _032, int _033, int _034, int _035,\n            int _036, int _037, int _038, int _039, int _040,\n            int _041, int _042, int _043, int _044, int _045,\n            int _046, int _047, int _048, int _049, int _050,\n\n            int _051, int _052, int _053, int _054, int _055,\n            int _056, int _057, int _058, int _059, int _060,\n            int _061, int _062, int _063, int _064, int _065,\n            int _066, int _067, int _068, int _069, int _070,\n            int _071, int _072, int _073, int _074, int _075,\n            int _076, int _077, int _078, int _079, int _080,\n            int _081, int _082, int _083, int _084, int _085,\n            int _086, int _087, int _088, int _089, int _090,\n            int _091, int _092, int _093, int _094, int _095,\n            int _096, int _097, int _098, int _099, int _100,\n\n            int _101, int _102, int _103, int _104, int _105,\n            int _106, int _107, int _108, int _109, int _110,\n            int _111, int _112, int _113, int _114, int _115,\n            int _116, int _117, int _118, int _119, int _120,\n            int _121, int _122, int _123, int _124, int _125,\n            int _126, int _127, int _128, int _129, int _130,\n            int _131, int _132, int _133, int _134, int _135,\n            int _136, int _137, int _138, int _139, int _140,\n            int _141, int _142, int _143, int _144, int _145,\n            int _146, int _147, int _148, int _149, int _150,\n\n            int _151, int _152, int _153, int _154, int _155,\n            int _156, int _157, int _158, int _159, int _160,\n            int _161, int _162, int _163, int _164, int _165,\n            int _166, int _167, int _168, int _169, int _170,\n            int _171, int _172, int _173, int _174, int _175,\n            int _176, int _177, int _178, int _179, int _180,\n            int _181, int _182, int _183, int _184, int _185,\n            int _186, int _187, int _188, int _189, int _190,\n            int _191, int _192, int _193, int _194, int _195,\n            int _196, int _197, int _198, int _199, int _200,\n\n            int _201, int _202, int _203, int _204, int _205,\n            int _206, int _207, int _208, int _209, int _210,\n            int _211, int _212, int _213, int _214, int _215,\n            int _216, int _217, int _218, int _219, int _220,\n            int _221, int _222, int _223, int _224, int _225,\n            int _226, int _227, int _228, int _229, int _230,\n            int _231, int _232, int _233, int _234, int _235,\n            int _236, int _237, int _238, int _239, int _240,\n            int _241, int _242, int _243, int _244, int _245,\n            int _246, int _247, int _248, int _249, int _250,\n\n            int _251, int _252, int _253) { }\n\n    static void passClassCrunchIntsFix255(/* MethodHandle mh, */\n            int _001, int _002, int _003, int _004, int _005,\n            int _006, int _007, int _008, int _009, int _010,\n            int _011, int _012, int _013, int _014, int _015,\n            int _016, int _017, int _018, int _019, int _020,\n            int _021, int _022, int _023, int _024, int _025,\n            int _026, int _027, int _028, int _029, int _030,\n            int _031, int _032, int _033, int _034, int _035,\n            int _036, int _037, int _038, int _039, int _040,\n            int _041, int _042, int _043, int _044, int _045,\n            int _046, int _047, int _048, int _049, int _050,\n\n            int _051, int _052, int _053, int _054, int _055,\n            int _056, int _057, int _058, int _059, int _060,\n            int _061, int _062, int _063, int _064, int _065,\n            int _066, int _067, int _068, int _069, int _070,\n            int _071, int _072, int _073, int _074, int _075,\n            int _076, int _077, int _078, int _079, int _080,\n            int _081, int _082, int _083, int _084, int _085,\n            int _086, int _087, int _088, int _089, int _090,\n            int _091, int _092, int _093, int _094, int _095,\n            int _096, int _097, int _098, int _099, int _100,\n\n            int _101, int _102, int _103, int _104, int _105,\n            int _106, int _107, int _108, int _109, int _110,\n            int _111, int _112, int _113, int _114, int _115,\n            int _116, int _117, int _118, int _119, int _120,\n            int _121, int _122, int _123, int _124, int _125,\n            int _126, int _127, int _128, int _129, int _130,\n            int _131, int _132, int _133, int _134, int _135,\n            int _136, int _137, int _138, int _139, int _140,\n            int _141, int _142, int _143, int _144, int _145,\n            int _146, int _147, int _148, int _149, int _150,\n\n            int _151, int _152, int _153, int _154, int _155,\n            int _156, int _157, int _158, int _159, int _160,\n            int _161, int _162, int _163, int _164, int _165,\n            int _166, int _167, int _168, int _169, int _170,\n            int _171, int _172, int _173, int _174, int _175,\n            int _176, int _177, int _178, int _179, int _180,\n            int _181, int _182, int _183, int _184, int _185,\n            int _186, int _187, int _188, int _189, int _190,\n            int _191, int _192, int _193, int _194, int _195,\n            int _196, int _197, int _198, int _199, int _200,\n\n            int _201, int _202, int _203, int _204, int _205,\n            int _206, int _207, int _208, int _209, int _210,\n            int _211, int _212, int _213, int _214, int _215,\n            int _216, int _217, int _218, int _219, int _220,\n            int _221, int _222, int _223, int _224, int _225,\n            int _226, int _227, int _228, int _229, int _230,\n            int _231, int _232, int _233, int _234, int _235,\n            int _236, int _237, int _238, int _239, int _240,\n            int _241, int _242, int _243, int _244, int _245,\n            int _246, int _247, int _248, int _249, int _250,\n\n            int _251, int _252, int _253, int _254) { }\n}\n</code></pre>\n<p>This is an argument file <code>args</code>:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>-XX:+UnlockExperimentalVMOptions\n-XX:+UseEpsilonGC\n-XX:+AlwaysPreTouch\n-Xms136m\n-Xmx136m\n-Xlog:heap*=info,gc=info\n</code></pre>\n<p>Save the files in, for example, a <code>/tmp</code> directory, and start a Java 11 version Docker container:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run --entrypoint /bin/sh --interactive \\\n  --rm --tty --volume=&quot;/tmp:/tmp&quot; \\\n  --workdir=&quot;/tmp&quot; eclipse-temurin:11-jdk-alpine    # It may pull in ~200 MiB.\n\njavac -Xdiags:verbose -Xlint ArityLimits.java\njava @args ArityLimits handle $(( 1 | 2 | 4 | 8 ))  # 91/136 MiB of heap used\njava @args ArityLimits handle 8                     # 36/136 (see title)\njava @args ArityLimits core $(( 1 | 2 | 4 | 8 ))    #  1/136\njava @args ArityLimits core 8                       #  1/136\nrm *.class\nexit\n</code></pre>\n<p>Now, start a Java 17 version Docker container:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>docker run --entrypoint /bin/sh --interactive \\\n  --rm --tty --volume=&quot;/tmp:/tmp&quot; \\\n  --workdir=&quot;/tmp&quot; eclipse-temurin:17-jdk-alpine    # It may pull in ~200 MiB.\n\njavac -Xdiags:verbose -Xlint ArityLimits.java\njava @args ArityLimits handle $(( 1 | 2 | 4 | 8 ))  #  5/136 MiB of heap used\njava @args ArityLimits handle 8                     #  3/136 (see title)\njava @args ArityLimits core $(( 1 | 2 | 4 | 8 ))    #  1/136\njava @args ArityLimits core 8                       #  1/136\nrm *.class\nexit\n</code></pre>\n"},{"tags":["java","android","kotlin","android-fragments","fragment"],"comments":[{"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"score":0,"creation_date":1677385951,"post_id":75410824,"comment_id":133326239,"body_markdown":"Fixed this issue by handling the removal of fragment from backstack. Read this answer for more : https://stackoverflow.com/questions/55932672/navigation-popupto-and-popuptoinclusive-arent-clearing-the-backstack","body":"Fixed this issue by handling the removal of fragment from backstack. Read this answer for more : <a href=\"https://stackoverflow.com/questions/55932672/navigation-popupto-and-popuptoinclusive-arent-clearing-the-backstack\" title=\"navigation popupto and popuptoinclusive arent clearing the backstack\">stackoverflow.com/questions/55932672/&hellip;</a>"}],"owner":{"account_id":12446767,"reputation":956,"user_id":9062752,"display_name":"oyeraghib"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676030315,"creation_date":1676030315,"question_id":75410824,"body_markdown":"I am trying to move from one bottom sheet dialog fragment to another bottom sheet dialog fragment. While doing so, on my second bottom sheet dialog fragment I could see the first bottom sheet with (less focus).\r\n\r\nIs there a way to completely hide the first bottom sheet dialog upon an event such as onClick.\r\n\r\nFragments are implemented using Android Navigation component","title":"Moving from one bottom sheet dialog fragment to other shows the previous one in background","body":"<p>I am trying to move from one bottom sheet dialog fragment to another bottom sheet dialog fragment. While doing so, on my second bottom sheet dialog fragment I could see the first bottom sheet with (less focus).</p>\n<p>Is there a way to completely hide the first bottom sheet dialog upon an event such as onClick.</p>\n<p>Fragments are implemented using Android Navigation component</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","mapstruct","jpa-buddy"],"comments":[{"owner":{"account_id":1421571,"reputation":668,"user_id":1346076,"accept_rate":67,"display_name":"Vicki"},"score":0,"creation_date":1676026914,"post_id":75410018,"comment_id":133058879,"body_markdown":"It appears that this questions is answered [here](https://stackoverflow.com/q/47676369/1346076)","body":"It appears that this questions is answered <a href=\"https://stackoverflow.com/q/47676369/1346076\">here</a>"},{"owner":{"account_id":3775152,"reputation":91,"user_id":3136181,"display_name":"Andrey Belyaev"},"score":2,"creation_date":1676273364,"post_id":75410018,"comment_id":133096736,"body_markdown":"It looks like you haven&#39;t specified Lombok annotation processor in your build file. Please refer to the [Lombok documentation](https://projectlombok.org/setup/) to install it. The [link](https://stackoverflow.com/a/47684351/3136181) from the previous comment will help you to configure everything properly.","body":"It looks like you haven&#39;t specified Lombok annotation processor in your build file. Please refer to the <a href=\"https://projectlombok.org/setup/\" rel=\"nofollow noreferrer\">Lombok documentation</a> to install it. The <a href=\"https://stackoverflow.com/a/47684351/3136181\">link</a> from the previous comment will help you to configure everything properly."},{"owner":{"account_id":1421571,"reputation":668,"user_id":1346076,"accept_rate":67,"display_name":"Vicki"},"score":0,"creation_date":1676377195,"post_id":75410018,"comment_id":133120987,"body_markdown":"Hi Andrey, this was indeed the case and the problem has now been resolved. Thanks for your comment","body":"Hi Andrey, this was indeed the case and the problem has now been resolved. Thanks for your comment"}],"answers":[{"comments":[{"owner":{"account_id":1421571,"reputation":668,"user_id":1346076,"accept_rate":67,"display_name":"Vicki"},"score":0,"creation_date":1676377361,"post_id":75410793,"comment_id":133121034,"body_markdown":"Thanks for you comment Amir. The problem was resolved using the response here https://stackoverflow.com/q/47676369/1346076","body":"Thanks for you comment Amir. The problem was resolved using the response here <a href=\"https://stackoverflow.com/q/47676369/1346076\">stackoverflow.com/q/47676369/1346076</a>"},{"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"score":0,"creation_date":1676799253,"post_id":75410793,"comment_id":133206878,"body_markdown":"happy about you,I am sure what I answered work based on your question, pls be careful about what you ask, good question and problem description have half of correct response.","body":"happy about you,I am sure what I answered work based on your question, pls be careful about what you ask, good question and problem description have half of correct response."}],"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1676030123,"creation_date":1676030123,"answer_id":75410793,"question_id":75410018,"body_markdown":"please define you entity like this,\r\n    \r\n     @Entity\r\n     @Data\r\n     @AllArgsConstructor\r\n     @NoArgsConstructor\r\n     public class ActivityType {\r\n        @Id\r\n        @Column(name = &quot;ActivityTypeId&quot;, nullable = false)\r\n        private Integer id;\r\n     \r\n        @Column(name = &quot;ActivityName&quot;, nullable = false, length = 30)\r\n        private String activityName;\r\n     \r\n        @Column(name = &quot;ActivityDescription&quot;)\r\n        private String activityDescription;\r\n     \r\n     }\r\n\r\nthen define ActivityTypeDTO like this,\r\n\r\n    @Data\r\n    public class ActivityTypeDTO {\r\n\r\n       @JsonProperty(&quot;id&quot;)\r\n       private Integer id;\r\n\r\n       @JsonProperty(&quot;ActivityName&quot;)\r\n       private String ActivityName;\r\n\r\n       @JsonProperty(&quot;activityDescription&quot;)\r\n       private String activityDescription;\r\n\r\nbest practice to use MapStruct is like this,\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;, uses = {})\r\n    public interface ActivityMapper extends EntityMapper&lt;ActivityTypeDTO, ActivityType&gt; {\r\n\r\n       ActivityTypeDTO toDto(ActivityType activityType);\r\n       ActivityType toEntity(ActivityTypeDTO activityTypeDTO);\r\n    }\r\n\r\nand EntityMApper in Mapper should be like this,\r\n\r\n    public interface EntityMapper&lt;D, E&gt; {\r\n       E toEntity(D dto);\r\n       D toDto(E entity);\r\n    }\r\n\r\nNow I am sure you mapper work correctly.","title":"Mapstruct in Spring Boot Sets all fields to null","body":"<p>please define you entity like this,</p>\n<pre><code> @Entity\n @Data\n @AllArgsConstructor\n @NoArgsConstructor\n public class ActivityType {\n    @Id\n    @Column(name = &quot;ActivityTypeId&quot;, nullable = false)\n    private Integer id;\n \n    @Column(name = &quot;ActivityName&quot;, nullable = false, length = 30)\n    private String activityName;\n \n    @Column(name = &quot;ActivityDescription&quot;)\n    private String activityDescription;\n \n }\n</code></pre>\n<p>then define ActivityTypeDTO like this,</p>\n<pre><code>@Data\npublic class ActivityTypeDTO {\n\n   @JsonProperty(&quot;id&quot;)\n   private Integer id;\n\n   @JsonProperty(&quot;ActivityName&quot;)\n   private String ActivityName;\n\n   @JsonProperty(&quot;activityDescription&quot;)\n   private String activityDescription;\n</code></pre>\n<p>best practice to use MapStruct is like this,</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;, uses = {})\npublic interface ActivityMapper extends EntityMapper&lt;ActivityTypeDTO, ActivityType&gt; {\n\n   ActivityTypeDTO toDto(ActivityType activityType);\n   ActivityType toEntity(ActivityTypeDTO activityTypeDTO);\n}\n</code></pre>\n<p>and EntityMApper in Mapper should be like this,</p>\n<pre><code>public interface EntityMapper&lt;D, E&gt; {\n   E toEntity(D dto);\n   D toDto(E entity);\n}\n</code></pre>\n<p>Now I am sure you mapper work correctly.</p>\n"}],"owner":{"account_id":1421571,"reputation":668,"user_id":1346076,"accept_rate":67,"display_name":"Vicki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":644,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676030123,"creation_date":1676025925,"question_id":75410018,"body_markdown":"I have Spring Boot application (v3.0.2, Java 17), and in it, a simple entity ActivityType and corresponding ActivityDto. \r\n\r\n```\r\n //Entity (uses Lombok 1.18.24)...\r\n \r\n     @Getter\r\n     @Setter\r\n     @Entity\r\n     public class ActivityType {\r\n     \t@Id\r\n     \t@Column(name = &quot;ActivityTypeId&quot;, nullable = false)\r\n     \tprivate Integer id;\r\n     \r\n     \t@Column(name = &quot;ActivityName&quot;, nullable = false, length = 30)\r\n     \tprivate String activityName;\r\n     \r\n     \t@Column(name = &quot;ActivityDescription&quot;)\r\n     \tprivate String activityDescription;\r\n     \r\n     }\r\n \r\n //DTO...\r\n \r\n         public record ActivityTypeDto(\r\n            Integer id, \r\n            String activityName, \r\n            String activityDescription) implements Serializable {\r\n         }\r\n```\r\n\r\n\r\nI&#39;m using IntelliJ Idea (v2022.2.4) and JPA Buddy (v2022.5.4-222)  to generate the Mapper Interface (MapStruct v1.5.3.Final).  When I build the Mapper implementation, in the generated code, both the `toEntity` and  `toDto` methods are incorrect.\r\n\r\n```\r\n @Component public class ActivityTypeMapperImpl implements ActivityTypeMapper {\r\n \r\n     @Override\r\n     public ActivityType toEntity(ActivityTypeDto activityTypeDto) {\r\n         if ( activityTypeDto == null ) {\r\n             return null;\r\n         }\r\n \r\n         ActivityType activityType = new ActivityType();\r\n \r\n         return activityType;\r\n     }\r\n \r\n     @Override\r\n     public ActivityTypeDto toDto(ActivityType activityType) {\r\n         if ( activityType == null ) {\r\n             return null;\r\n         }\r\n \r\n     // What&#39;s this all about?? Why not activityType.id, etc??\r\n         Integer id = null;\r\n         String activityName = null;\r\n         String activityDescription = null;\r\n \r\n         ActivityTypeDto activityTypeDto = new ActivityTypeDto( id, activityName, activityDescription );\r\n \r\n         return activityTypeDto;\r\n     }\r\n \r\n     @Override\r\n     public ActivityType partialUpdate(ActivityTypeDto activityTypeDto, ActivityType activityType) {\r\n         if ( activityTypeDto == null ) {\r\n             return activityType;\r\n         }\r\n \r\n         return activityType;\r\n     } \r\n```\r\n\r\nI&#39;ve tried various alternatives, including using a class for the DTO instead of a record, but no success. Looks like I&#39;ve missed something, but not sure what.\r\n\r\n\r\n----------\r\n\r\nUpdate: \r\n\r\nI can fix this by not using Lombok for the Entity getters/setters, which leads me on to final question, is there a setting on the MapStruct plugin to take Lomboz into account?\r\n\r\n\r\n\r\n\r\n","title":"Mapstruct in Spring Boot Sets all fields to null","body":"<p>I have Spring Boot application (v3.0.2, Java 17), and in it, a simple entity ActivityType and corresponding ActivityDto.</p>\n<pre><code> //Entity (uses Lombok 1.18.24)...\n \n     @Getter\n     @Setter\n     @Entity\n     public class ActivityType {\n        @Id\n        @Column(name = &quot;ActivityTypeId&quot;, nullable = false)\n        private Integer id;\n     \n        @Column(name = &quot;ActivityName&quot;, nullable = false, length = 30)\n        private String activityName;\n     \n        @Column(name = &quot;ActivityDescription&quot;)\n        private String activityDescription;\n     \n     }\n \n //DTO...\n \n         public record ActivityTypeDto(\n            Integer id, \n            String activityName, \n            String activityDescription) implements Serializable {\n         }\n</code></pre>\n<p>I'm using IntelliJ Idea (v2022.2.4) and JPA Buddy (v2022.5.4-222)  to generate the Mapper Interface (MapStruct v1.5.3.Final).  When I build the Mapper implementation, in the generated code, both the <code>toEntity</code> and  <code>toDto</code> methods are incorrect.</p>\n<pre><code> @Component public class ActivityTypeMapperImpl implements ActivityTypeMapper {\n \n     @Override\n     public ActivityType toEntity(ActivityTypeDto activityTypeDto) {\n         if ( activityTypeDto == null ) {\n             return null;\n         }\n \n         ActivityType activityType = new ActivityType();\n \n         return activityType;\n     }\n \n     @Override\n     public ActivityTypeDto toDto(ActivityType activityType) {\n         if ( activityType == null ) {\n             return null;\n         }\n \n     // What's this all about?? Why not activityType.id, etc??\n         Integer id = null;\n         String activityName = null;\n         String activityDescription = null;\n \n         ActivityTypeDto activityTypeDto = new ActivityTypeDto( id, activityName, activityDescription );\n \n         return activityTypeDto;\n     }\n \n     @Override\n     public ActivityType partialUpdate(ActivityTypeDto activityTypeDto, ActivityType activityType) {\n         if ( activityTypeDto == null ) {\n             return activityType;\n         }\n \n         return activityType;\n     } \n</code></pre>\n<p>I've tried various alternatives, including using a class for the DTO instead of a record, but no success. Looks like I've missed something, but not sure what.</p>\n<hr />\n<p>Update:</p>\n<p>I can fix this by not using Lombok for the Entity getters/setters, which leads me on to final question, is there a setting on the MapStruct plugin to take Lomboz into account?</p>\n"},{"tags":["java","spring-boot","spring-integration"],"answers":[{"comments":[{"owner":{"account_id":20491582,"reputation":199,"user_id":15037564,"display_name":"Nichole"},"score":0,"creation_date":1675875550,"post_id":75387389,"comment_id":133023468,"body_markdown":"Thanks Artem. I tried to use update. however  Status is not updated to &#39;P&#39; .  I have updated the code above with update. Please advise","body":"Thanks Artem. I tried to use update. however  Status is not updated to &#39;P&#39; .  I have updated the code above with update. Please advise"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675875791,"post_id":75387389,"comment_id":133023537,"body_markdown":"Not sure. Looks like you have missed to save your edit for the question. I don&#39;t see an updated code.","body":"Not sure. Looks like you have missed to save your edit for the question. I don&#39;t see an updated code."},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675877252,"post_id":75387389,"comment_id":133024063,"body_markdown":"All looks good. Although it is not clear why do you talk about ` Status` since your filter and update are against `accType`...","body":"All looks good. Although it is not clear why do you talk about ` Status` since your filter and update are against <code>accType</code>..."},{"owner":{"account_id":20491582,"reputation":199,"user_id":15037564,"display_name":"Nichole"},"score":0,"creation_date":1675919237,"post_id":75387389,"comment_id":133032386,"body_markdown":"typed Status by mistake...updated it to accType. Can you please clarify for me-  DOes jdbc inbound channel adapter fires query  and gets the entire result set on every poll ? If there are millions of records with accType = &#39;N&#39;, will those all be fetched on every poll ?","body":"typed Status by mistake...updated it to accType. Can you please clarify for me-  DOes jdbc inbound channel adapter fires query  and gets the entire result set on every poll ? If there are millions of records with accType = &#39;N&#39;, will those all be fetched on every poll ?"},{"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1675952149,"post_id":75387389,"comment_id":133041317,"body_markdown":"You said it yourself `max-rows-per-poll=&quot;100&quot;`. So, no more than 100 per SELECT. As long as you update those out from `accType =&#39;N&#39;` they become invisible for `SELECT` and the next poll will fetch other 100.","body":"You said it yourself <code>max-rows-per-poll=&quot;100&quot;</code>. So, no more than 100 per SELECT. As long as you update those out from <code>accType =&#39;N&#39;</code> they become invisible for <code>SELECT</code> and the next poll will fetch other 100."}],"tags":[],"owner":{"account_id":3273937,"reputation":114870,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1675867246,"creation_date":1675867246,"answer_id":75387389,"question_id":75381609,"body_markdown":"It does call that `query=&quot;SELECT * FROM Accounts&quot;` on every polling cycle and pulls `100` rows and probably in your case those are only first `100` since there is no other criteria to filter out. \r\n\r\nIn general it is bad practice to do a common `SELECT` without any `WHERE`.\r\n\r\nSee there is an `update` atribute to perform against just pulled rows. Your `SELECT` must be adjusted with a `WHERE` to take only those rows which have not been updated before. \r\n\r\nSee more info in docs: https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-inbound-channel-adapter\r\n\r\n","title":"Does Spring Integration&#39;s JDBC inbound channel adapter poll new records added the table?","body":"<p>It does call that <code>query=&quot;SELECT * FROM Accounts&quot;</code> on every polling cycle and pulls <code>100</code> rows and probably in your case those are only first <code>100</code> since there is no other criteria to filter out.</p>\n<p>In general it is bad practice to do a common <code>SELECT</code> without any <code>WHERE</code>.</p>\n<p>See there is an <code>update</code> atribute to perform against just pulled rows. Your <code>SELECT</code> must be adjusted with a <code>WHERE</code> to take only those rows which have not been updated before.</p>\n<p>See more info in docs: <a href=\"https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-inbound-channel-adapter\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/html/jdbc.html#jdbc-inbound-channel-adapter</a></p>\n"}],"owner":{"account_id":20491582,"reputation":199,"user_id":15037564,"display_name":"Nichole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75387389,"answer_count":1,"score":0,"last_activity_date":1676029941,"creation_date":1675833447,"question_id":75381609,"body_markdown":"I have written jdbcinboud channel adapter as below. I am using update query. however it is not working. The query retrieves two rows, but update statement does not set the `accType` of these two rows to &#39;P&#39;. \r\nPlease advise \r\n\r\n    &lt;int-jdbc:inbound-channel-adapter id=&quot;jdbcInbound&quot;\r\n              channel=&quot;channel&quot;\r\n              data-source=&quot;dataSource&quot;\r\n              query=&quot;SELECT id, acct_nam FROM Accounts where accType =&#39;N&#39;&quot;       \r\n              update=&quot;update Accounts set accType=&#39;P&#39; where ID in (:id)        \r\n              row-mapper=&quot;AccountRowMapper&quot;\r\n              max-rows-per-poll=&quot;100&quot;&gt;\r\n        &lt;int:poller fixed-rate=&quot;1000&quot;/&gt;\r\n    &lt;/int-jdbc:inbound-channel-adapter&gt;","title":"Does Spring Integration&#39;s JDBC inbound channel adapter poll new records added the table?","body":"<p>I have written jdbcinboud channel adapter as below. I am using update query. however it is not working. The query retrieves two rows, but update statement does not set the <code>accType</code> of these two rows to 'P'.\nPlease advise</p>\n<pre><code>&lt;int-jdbc:inbound-channel-adapter id=&quot;jdbcInbound&quot;\n          channel=&quot;channel&quot;\n          data-source=&quot;dataSource&quot;\n          query=&quot;SELECT id, acct_nam FROM Accounts where accType ='N'&quot;       \n          update=&quot;update Accounts set accType='P' where ID in (:id)        \n          row-mapper=&quot;AccountRowMapper&quot;\n          max-rows-per-poll=&quot;100&quot;&gt;\n    &lt;int:poller fixed-rate=&quot;1000&quot;/&gt;\n&lt;/int-jdbc:inbound-channel-adapter&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot","springdoc-openapi-ui"],"comments":[{"owner":{"account_id":3845096,"reputation":126,"user_id":3186906,"display_name":"viglu"},"score":0,"creation_date":1676035300,"post_id":75410717,"comment_id":133061263,"body_markdown":"It&#39;s possible that your models are missing getter/setter ?","body":"It&#39;s possible that your models are missing getter/setter ?"},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1676042008,"post_id":75410717,"comment_id":133063521,"body_markdown":"@viglu I am using lombok for getter and setter","body":"@viglu I am using lombok for getter and setter"},{"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"score":0,"creation_date":1676254564,"post_id":75410717,"comment_id":133094464,"body_markdown":"Pls suggest something on this issue","body":"Pls suggest something on this issue"}],"owner":{"account_id":6299962,"reputation":580,"user_id":4894924,"accept_rate":43,"display_name":"Pracheer Pancholi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1676029750,"creation_date":1676029750,"question_id":75410717,"body_markdown":"I am using springdoc-openapi-ui for my web application but when I hit http://localhost:8080/swagger-ui/index.html in the browser I am getting 406 error code.\r\n\r\n  Below is the dependency in pom.xml \r\n  ``` \r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.14&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n ```\r\nAnd Spring Security config is \r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SpringSecurityConfig {\r\n\r\n  @Bean\r\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n\t\thttp.authorizeRequests().antMatchers(&quot;/&quot;).permitAll();\r\n\t\thttp.headers().frameOptions().sameOrigin();\r\n\t\treturn http.build();\r\n  }\r\n  \r\n  @Bean\r\n  public WebSecurityCustomizer webSecurityCustomizer() {\r\n      return web -&gt; web.ignoring().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;);\r\n  }\r\n  \r\n```\r\nSpring boot version I am using 2.7.7\r\n\r\nBelow is network detail via inspect element in chrome for the swagger-ui.config ..\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Bl1Vo.png","title":"springdoc-openapi-ui returning 406 error-not-acceptable","body":"<p>I am using springdoc-openapi-ui for my web application but when I hit http://localhost:8080/swagger-ui/index.html in the browser I am getting 406 error code.</p>\n<p>Below is the dependency in pom.xml</p>\n<pre><code>  &lt;dependency&gt;\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n          &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n          &lt;version&gt;1.6.14&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>And Spring Security config is</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SpringSecurityConfig {\n\n  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        http.authorizeRequests().antMatchers(&quot;/&quot;).permitAll();\n        http.headers().frameOptions().sameOrigin();\n        return http.build();\n  }\n  \n  @Bean\n  public WebSecurityCustomizer webSecurityCustomizer() {\n      return web -&gt; web.ignoring().antMatchers(&quot;/swagger-ui/**&quot;, &quot;/v3/api-docs/**&quot;);\n  }\n  \n</code></pre>\n<p>Spring boot version I am using 2.7.7</p>\n<p>Below is network detail via inspect element in chrome for the swagger-ui.config ..\n<a href=\"https://i.stack.imgur.com/Bl1Vo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bl1Vo.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","eclipse","maven","jaxb"],"answers":[{"tags":[],"owner":{"account_id":3058944,"reputation":445,"user_id":2592045,"display_name":"Romano"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1583866769,"creation_date":1583863974,"answer_id":60623609,"question_id":56635095,"body_markdown":"Can you check what is the version of your JDK used by Eclipse against the one you use in your command line?\r\nI got a similar problem using Zulu 11, with jaxb2 as well.\r\nSince this might be related to https://github.com/eclipse-ee4j/jaxb-ri/issues/1220 try to make you Eclipse JDK compliance to match the one you are using in your console.\r\n\r\nEDIT: Moving from Maven 3.6.0 to 3.6.3 fixed the problem on my end, hopefully it will also be the case for you.","title":"maven-jaxb2-plugin reports prefix is already bound, only in Eclipse","body":"<p>Can you check what is the version of your JDK used by Eclipse against the one you use in your command line?\nI got a similar problem using Zulu 11, with jaxb2 as well.\nSince this might be related to <a href=\"https://github.com/eclipse-ee4j/jaxb-ri/issues/1220\" rel=\"nofollow noreferrer\">https://github.com/eclipse-ee4j/jaxb-ri/issues/1220</a> try to make you Eclipse JDK compliance to match the one you are using in your console.</p>\n\n<p>EDIT: Moving from Maven 3.6.0 to 3.6.3 fixed the problem on my end, hopefully it will also be the case for you.</p>\n"},{"tags":[],"owner":{"account_id":20649586,"reputation":1,"user_id":15160221,"display_name":"Yuri.Detochkin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676029728,"creation_date":1676029728,"answer_id":75410714,"question_id":56635095,"body_markdown":"I had this issue too with Maven 3.5.2\r\nThe Maven version on server is not up to me to change.\r\n\r\nSo I changed plugin version to **0.15.1** in pom.xml and it worked:\r\n\r\n    \t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.15.1&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;","title":"maven-jaxb2-plugin reports prefix is already bound, only in Eclipse","body":"<p>I had this issue too with Maven 3.5.2\nThe Maven version on server is not up to me to change.</p>\n<p>So I changed plugin version to <strong>0.15.1</strong> in pom.xml and it worked:</p>\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.15.1&lt;/version&gt;\n            &lt;executions&gt;\n</code></pre>\n"}],"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2525,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676029728,"creation_date":1560787622,"question_id":56635095,"body_markdown":"I&#39;m trying to debug a Maven-based Spring Boot project.  It makes SOAP calls, and it uses the maven-jaxb2-plugin artifact in group org.jvnet.jaxb2.maven2 to generate Java classes from WSDL files.\r\n\r\nWhen I build this project from the mvn command line, it builds fine.\r\n\r\nHowever, when I load it into Eclipse (2019-03), I see errors like this in the Problems view:\r\n\r\n    org.apache.maven.plugin.PluginExecutionException: Execution addrole of goal org.jvnet.jaxb2.maven2:maven-jaxb2-plugin:0.13.3:generate failed: Prefix &#39;&#39; is already bound to &#39;&#39;\r\n\t\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:148)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:331)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.lambda$7(MavenImpl.java:1342)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:1341)\r\n\t\tat org.eclipse.m2e.core.project.configurator.MojoExecutionBuildParticipant.build(MojoExecutionBuildParticipant.java:52)\r\n\t\tat org.eclipse.m2e.core.internal.builder.MavenBuilderImpl.build(MavenBuilderImpl.java:137)\r\n\t\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:173)\r\n\t\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:1)\r\n\t\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1$1.call(MavenBuilder.java:116)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\r\n\t\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1.call(MavenBuilder.java:106)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:151)\r\n\t\tat org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:99)\r\n\t\tat org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.execute(MavenBuilder.java:87)\r\n\t\tat org.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:201)\r\n\t\tat org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:833)\r\n\t\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\t\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:220)\r\n\t\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263)\r\n\t\tat org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:316)\r\n\t\tat org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\r\n\t\tat org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:319)\r\n\t\tat org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:371)\r\n\t\tat org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:392)\r\n\t\tat org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154)\r\n\t\tat org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:244)\r\n\t\tat org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\r\n\tCaused by: java.lang.IllegalArgumentException: Prefix &#39;&#39; is already bound to &#39;&#39;\r\n\t\tat com.sun.xml.txw2.StartTag.addNamespaceDecl(StartTag.java:191)\r\n\t\tat com.sun.xml.txw2.ContainerElement._namespace(ContainerElement.java:333)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\t\tat com.sun.xml.txw2.ContainerElement.invoke(ContainerElement.java:134)\r\n\t\tat com.sun.proxy.$Proxy60._namespace(Unknown Source)\r\n\t\tat com.sun.tools.xjc.addon.episode.PluginImpl.run(PluginImpl.java:174)\r\n\t\tat com.sun.tools.xjc.model.Model.generateCode(Model.java:292)\r\n\t\tat org.jvnet.mjiip.v_2_2.XJC22Mojo.generateCode(XJC22Mojo.java:66)\r\n\t\tat org.jvnet.mjiip.v_2_2.XJC22Mojo.doExecute(XJC22Mojo.java:41)\r\n\t\tat org.jvnet.mjiip.v_2_2.XJC22Mojo.doExecute(XJC22Mojo.java:28)\r\n\t\tat org.jvnet.jaxb2.maven2.RawXJC2Mojo.doExecute(RawXJC2Mojo.java:473)\r\n\t\tat org.jvnet.jaxb2.maven2.RawXJC2Mojo.execute(RawXJC2Mojo.java:316)\r\n\t\tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\r\n\t\t... 30 more\r\n\r\nThe plugin is referenced in the pom like this:\r\n\r\n    \t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;0.13.3&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;suggestHandle&lt;/id&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;generate&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;schemaDirectory&gt;${project.basedir}/src/main/resources/schemas/mpssoap&lt;/schemaDirectory&gt;\r\n\t\t\t\t\t&lt;schemaIncludes&gt;\r\n\t\t\t\t\t\t&lt;include&gt;*.wsdl&lt;/include&gt;\r\n\t\t\t\t\t&lt;/schemaIncludes&gt;\r\n\t\t\t\t\t&lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\r\nThis is followed by a dozen or so more execution elements, pointing to different subdirectories of src/main/resources.\r\n\r\nI already installed the &quot;m2e connector for jaxb&quot; plugin, but that didn&#39;t appear to make any difference.\r\n\r\nWhat else could be going wrong here?\r\n\r\nI&#39;m using Eclipse 2019-03 and v0.13.3 of the maven-jaxb2-plugin artifact.","title":"maven-jaxb2-plugin reports prefix is already bound, only in Eclipse","body":"<p>I'm trying to debug a Maven-based Spring Boot project.  It makes SOAP calls, and it uses the maven-jaxb2-plugin artifact in group org.jvnet.jaxb2.maven2 to generate Java classes from WSDL files.</p>\n\n<p>When I build this project from the mvn command line, it builds fine.</p>\n\n<p>However, when I load it into Eclipse (2019-03), I see errors like this in the Problems view:</p>\n\n<pre><code>org.apache.maven.plugin.PluginExecutionException: Execution addrole of goal org.jvnet.jaxb2.maven2:maven-jaxb2-plugin:0.13.3:generate failed: Prefix '' is already bound to ''\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:148)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:331)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.lambda$7(MavenImpl.java:1342)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\n    at org.eclipse.m2e.core.internal.embedder.MavenImpl.execute(MavenImpl.java:1341)\n    at org.eclipse.m2e.core.project.configurator.MojoExecutionBuildParticipant.build(MojoExecutionBuildParticipant.java:52)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilderImpl.build(MavenBuilderImpl.java:137)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:173)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$1.method(MavenBuilder.java:1)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1$1.call(MavenBuilder.java:116)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:112)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod$1.call(MavenBuilder.java:106)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.executeBare(MavenExecutionContext.java:177)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:151)\n    at org.eclipse.m2e.core.internal.embedder.MavenExecutionContext.execute(MavenExecutionContext.java:99)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder$BuildMethod.execute(MavenBuilder.java:87)\n    at org.eclipse.m2e.core.internal.builder.MavenBuilder.build(MavenBuilder.java:201)\n    at org.eclipse.core.internal.events.BuildManager$2.run(BuildManager.java:833)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:220)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:263)\n    at org.eclipse.core.internal.events.BuildManager$1.run(BuildManager.java:316)\n    at org.eclipse.core.runtime.SafeRunner.run(SafeRunner.java:45)\n    at org.eclipse.core.internal.events.BuildManager.basicBuild(BuildManager.java:319)\n    at org.eclipse.core.internal.events.BuildManager.basicBuildLoop(BuildManager.java:371)\n    at org.eclipse.core.internal.events.BuildManager.build(BuildManager.java:392)\n    at org.eclipse.core.internal.events.AutoBuildJob.doBuild(AutoBuildJob.java:154)\n    at org.eclipse.core.internal.events.AutoBuildJob.run(AutoBuildJob.java:244)\n    at org.eclipse.core.internal.jobs.Worker.run(Worker.java:63)\nCaused by: java.lang.IllegalArgumentException: Prefix '' is already bound to ''\n    at com.sun.xml.txw2.StartTag.addNamespaceDecl(StartTag.java:191)\n    at com.sun.xml.txw2.ContainerElement._namespace(ContainerElement.java:333)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n    at com.sun.xml.txw2.ContainerElement.invoke(ContainerElement.java:134)\n    at com.sun.proxy.$Proxy60._namespace(Unknown Source)\n    at com.sun.tools.xjc.addon.episode.PluginImpl.run(PluginImpl.java:174)\n    at com.sun.tools.xjc.model.Model.generateCode(Model.java:292)\n    at org.jvnet.mjiip.v_2_2.XJC22Mojo.generateCode(XJC22Mojo.java:66)\n    at org.jvnet.mjiip.v_2_2.XJC22Mojo.doExecute(XJC22Mojo.java:41)\n    at org.jvnet.mjiip.v_2_2.XJC22Mojo.doExecute(XJC22Mojo.java:28)\n    at org.jvnet.jaxb2.maven2.RawXJC2Mojo.doExecute(RawXJC2Mojo.java:473)\n    at org.jvnet.jaxb2.maven2.RawXJC2Mojo.execute(RawXJC2Mojo.java:316)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:137)\n    ... 30 more\n</code></pre>\n\n<p>The plugin is referenced in the pom like this:</p>\n\n<pre><code>    &lt;plugin&gt;\n    &lt;groupId&gt;org.jvnet.jaxb2.maven2&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jaxb2-plugin&lt;/artifactId&gt;\n    &lt;version&gt;0.13.3&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;suggestHandle&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;schemaDirectory&gt;${project.basedir}/src/main/resources/schemas/mpssoap&lt;/schemaDirectory&gt;\n                &lt;schemaIncludes&gt;\n                    &lt;include&gt;*.wsdl&lt;/include&gt;\n                &lt;/schemaIncludes&gt;\n                &lt;clearOutputDir&gt;false&lt;/clearOutputDir&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n</code></pre>\n\n<p>This is followed by a dozen or so more execution elements, pointing to different subdirectories of src/main/resources.</p>\n\n<p>I already installed the \"m2e connector for jaxb\" plugin, but that didn't appear to make any difference.</p>\n\n<p>What else could be going wrong here?</p>\n\n<p>I'm using Eclipse 2019-03 and v0.13.3 of the maven-jaxb2-plugin artifact.</p>\n"},{"tags":["java","batch-file","batch-processing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675966684,"post_id":75402777,"comment_id":133046610,"body_markdown":"Are you sure test.exe is returning the correct exit code?","body":"Are you sure test.exe is returning the correct exit code?"},{"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"score":0,"creation_date":1675969704,"post_id":75402777,"comment_id":133047566,"body_markdown":"yes, in batch file I have checked ```IF %ERRORLEVEL% NEQ 0 ECHO error code=%ERRORLEVEL% ``` and the exit code is correctly shown. For example error code= 13","body":"yes, in batch file I have checked <code>IF %ERRORLEVEL% NEQ 0 ECHO error code=%ERRORLEVEL% </code> and the exit code is correctly shown. For example error code= 13"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675971266,"post_id":75402777,"comment_id":133048013,"body_markdown":"I don&#39;t see `/W` btw. But I do see `/WAIT`, which is probably what you want","body":"I don&#39;t see <code>&#47;W</code> btw. But I do see <code>&#47;WAIT</code>, which is probably what you want"},{"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"score":0,"creation_date":1675971427,"post_id":75402777,"comment_id":133048056,"body_markdown":"I do use /wait. Sorry, I missed to mention it before. I have now included it in my question.","body":"I do use /wait. Sorry, I missed to mention it before. I have now included it in my question."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675971480,"post_id":75402777,"comment_id":133048071,"body_markdown":"Well `/WAIT` is still not showing in the batch file itself, And you don&#39;t need start elsewhere (or wait for that matter)","body":"Well <code>&#47;WAIT</code> is still not showing in the batch file itself, And you don&#39;t need start elsewhere (or wait for that matter)"},{"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"score":0,"creation_date":1675971777,"post_id":75402777,"comment_id":133048156,"body_markdown":"Alright, I tried ```START /WAIT test.exe``` but still the same behavior","body":"Alright, I tried <code>START &#47;WAIT test.exe</code> but still the same behavior"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1675973963,"post_id":75402777,"comment_id":133048687,"body_markdown":"Ok. Can you tighten up the editing to show the accurate code?","body":"Ok. Can you tighten up the editing to show the accurate code?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1675975214,"post_id":75402777,"comment_id":133049029,"body_markdown":"Why not run the .exe directly from Java?","body":"Why not run the .exe directly from Java?"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676029630,"creation_date":1676028974,"answer_id":75410589,"question_id":75402777,"body_markdown":"You are asking Java to launch `CMD.EXE` with the command `start /wait test.bat` which starts a second `CMD.EXE` process. There is `EXIT %ERRORLEVEL%` in the second `CMD.EXE` but there is no call in the scriptlet which tells the first `CMD.EXE` to use the status code as `EXIT %ERRORLEVEL%`. Thus you don&#39;t get the non-zero code of `test.bat` passed up to first `CMD.EXE`.\r\n\r\nThe fix is easy as you don&#39;t need to use `start /wait`, just change the command to avoid second `CMD.EXE` process and then the `EXIT %ERRORLEVEL%` of the batch script applies to the only `CMD.EXE`:\r\n\r\n    Process process = Runtime.getRuntime().exec(&quot;cmd /c test.bat&quot;);\r\n\r\nNote that `Runtime` is not a good way to launch sub-processes, use `ProcessBuilder` instead with cmd passed as `String[]` not `String` so that you don&#39;t need to escape spaces in parameters. \r\n\r\nHeed the warnings of the `Process` javadoc: **failure\r\n to promptly write the input stream or read the output stream of\r\n the process may cause the process to block, or even deadlock**. This means you should consume STDERR + STDOUT on different threads, or redirect STDERR to STDOUT, or redirect them to files or inherit IO streams - otherwise you may encounter problems. Many examples shown in StackOverflow won&#39;t work correctly.\r\n\r\n\r\n\r\n\r\n\r\n    \r\n","title":"Process.waitFor() returns 0 eventhough batch file being called exits with an errorcode other than 0","body":"<p>You are asking Java to launch <code>CMD.EXE</code> with the command <code>start /wait test.bat</code> which starts a second <code>CMD.EXE</code> process. There is <code>EXIT %ERRORLEVEL%</code> in the second <code>CMD.EXE</code> but there is no call in the scriptlet which tells the first <code>CMD.EXE</code> to use the status code as <code>EXIT %ERRORLEVEL%</code>. Thus you don't get the non-zero code of <code>test.bat</code> passed up to first <code>CMD.EXE</code>.</p>\n<p>The fix is easy as you don't need to use <code>start /wait</code>, just change the command to avoid second <code>CMD.EXE</code> process and then the <code>EXIT %ERRORLEVEL%</code> of the batch script applies to the only <code>CMD.EXE</code>:</p>\n<pre><code>Process process = Runtime.getRuntime().exec(&quot;cmd /c test.bat&quot;);\n</code></pre>\n<p>Note that <code>Runtime</code> is not a good way to launch sub-processes, use <code>ProcessBuilder</code> instead with cmd passed as <code>String[]</code> not <code>String</code> so that you don't need to escape spaces in parameters.</p>\n<p>Heed the warnings of the <code>Process</code> javadoc: <strong>failure\nto promptly write the input stream or read the output stream of\nthe process may cause the process to block, or even deadlock</strong>. This means you should consume STDERR + STDOUT on different threads, or redirect STDERR to STDOUT, or redirect them to files or inherit IO streams - otherwise you may encounter problems. Many examples shown in StackOverflow won't work correctly.</p>\n"}],"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75410589,"answer_count":1,"score":0,"last_activity_date":1676029630,"creation_date":1675966349,"question_id":75402777,"body_markdown":"I&#39;m starting a process (.bat) in java using java.lang.Process\r\n```\r\nRuntime.getRuntime().exec(&quot;cmd /c start /wait test.bat&quot;);\r\nexitCode = process.waitFor();\r\n```\r\nThe .bat process inturn calls .exe file, this .exe returns an exit code !=0 on error cases.\r\n```\r\nSTART /W test.exe\r\nEXIT %ERRORLEVEL%\r\n```\r\n\r\nI want to get back the exit code returned from the batch file, but still I get back exitcode=0 always. I referred [this](https://stackoverflow.com/questions/56982666/java-process-waitfor-returns-with-inconsistent-value) but does not help.\r\n\r\nPlease let me know how can I get back the actual returned exit code from the process.","title":"Process.waitFor() returns 0 eventhough batch file being called exits with an errorcode other than 0","body":"<p>I'm starting a process (.bat) in java using java.lang.Process</p>\n<pre><code>Runtime.getRuntime().exec(&quot;cmd /c start /wait test.bat&quot;);\nexitCode = process.waitFor();\n</code></pre>\n<p>The .bat process inturn calls .exe file, this .exe returns an exit code !=0 on error cases.</p>\n<pre><code>START /W test.exe\nEXIT %ERRORLEVEL%\n</code></pre>\n<p>I want to get back the exit code returned from the batch file, but still I get back exitcode=0 always. I referred <a href=\"https://stackoverflow.com/questions/56982666/java-process-waitfor-returns-with-inconsistent-value\">this</a> but does not help.</p>\n<p>Please let me know how can I get back the actual returned exit code from the process.</p>\n"},{"tags":["java","android","android-studio","tor"],"comments":[{"owner":{"account_id":11715705,"reputation":1082,"user_id":8576293,"display_name":"salmanseifian"},"score":0,"creation_date":1515937688,"post_id":48250069,"comment_id":83482964,"body_markdown":"what do you mean by live url?","body":"what do you mean by live url?"},{"owner":{"account_id":7348759,"reputation":1741,"user_id":5595678,"accept_rate":57,"display_name":"Johnny"},"score":0,"creation_date":1515938202,"post_id":48250069,"comment_id":83483092,"body_markdown":"@salman it means if you can ping it, it is accessible or not","body":"@salman it means if you can ping it, it is accessible or not"},{"owner":{"account_id":11715705,"reputation":1082,"user_id":8576293,"display_name":"salmanseifian"},"score":0,"creation_date":1515938361,"post_id":48250069,"comment_id":83483138,"body_markdown":"you can use [this](https://stackoverflow.com/questions/2786720/android-service-ping-url)","body":"you can use <a href=\"https://stackoverflow.com/questions/2786720/android-service-ping-url\">this</a>"}],"answers":[{"tags":[],"owner":{"account_id":6054393,"reputation":651,"user_id":6083410,"accept_rate":50,"display_name":"VINET"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676029027,"creation_date":1676029027,"answer_id":75410597,"question_id":48250069,"body_markdown":"You need to have a server on which the tor will work and already give from it either the desired status or the page that you need. For the site tor-sites.link we did the proxying of the tor through the tor launched into the container and the express.js server. You can see how it works at [previewer][1]. Schematically, it looks like this:\r\n\r\n1. HTTP request\r\n2. express.js server\r\n3. request to tor\r\n4. returning a response to the client\r\n\r\nThis way you can get data from the onino site.\r\n\r\nDockerfile: \r\n\r\n    FROM node:slim\r\n    \r\n    ENV PUPPETEER_SKIP_CHROMIUM_DOWNLOAD true\r\n    \r\n    RUN apt-get update &amp;&amp; apt-get install gnupg wget -y &amp;&amp; \\\r\n      wget --quiet --output-document=- https://dl-ssl.google.com/linux/linux_signing_key.pub | gpg --dearmor &gt; /etc/apt/trusted.gpg.d/google-archive.gpg &amp;&amp; \\\r\n      sh -c &#39;echo &quot;deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main&quot; &gt;&gt; /etc/apt/sources.list.d/google.list&#39; &amp;&amp; \\\r\n      apt-get update &amp;&amp; \\\r\n      apt-get install google-chrome-stable -y --no-install-recommends &amp;&amp; \\\r\n      apt-get install tor -y --no-install-recommends &amp;&amp; \\\r\n      apt-get install torsocks -y --no-install-recommends &amp;&amp; \\\r\n      apt-get install curl gnupg &amp;&amp; \\\r\n      rm -rf /var/lib/apt/lists/*\r\n    \r\n    \r\n    WORKDIR /usr/src/app\r\n    \r\n    RUN mkdir src\r\n    RUN mkdir tmp\r\n    COPY ./src ./src\r\n    COPY ./package.json \\\r\n         ./ecosystem.config.js \\\r\n         ./tsconfig.json \\\r\n         ./\r\n    \r\n    RUN npm i -g pm2 npm@9.2.0\r\n    RUN yarn &amp;&amp; yarn build\r\n    \r\n    RUN rm -rf src\r\n    \r\n    \r\n    #HEALTHCHECK --start-period=150s --interval=300s --retries=99999 --timeout=120s CMD curl --fail http://localhost:3000/healthcheck || kill 1\r\n    \r\n    \r\n    EXPOSE 3000\r\n    \r\n    CMD [&quot;pm2-runtime&quot;, &quot;start&quot;, &quot;ecosystem.config.js&quot;]\r\n\r\n\r\n  [1]: https://www.tor-sites.link/previewer","title":"Check if Onion URL is live","body":"<p>You need to have a server on which the tor will work and already give from it either the desired status or the page that you need. For the site tor-sites.link we did the proxying of the tor through the tor launched into the container and the express.js server. You can see how it works at <a href=\"https://www.tor-sites.link/previewer\" rel=\"nofollow noreferrer\">previewer</a>. Schematically, it looks like this:</p>\n<ol>\n<li>HTTP request</li>\n<li>express.js server</li>\n<li>request to tor</li>\n<li>returning a response to the client</li>\n</ol>\n<p>This way you can get data from the onino site.</p>\n<p>Dockerfile:</p>\n<pre><code>FROM node:slim\n\nENV PUPPETEER_SKIP_CHROMIUM_DOWNLOAD true\n\nRUN apt-get update &amp;&amp; apt-get install gnupg wget -y &amp;&amp; \\\n  wget --quiet --output-document=- https://dl-ssl.google.com/linux/linux_signing_key.pub | gpg --dearmor &gt; /etc/apt/trusted.gpg.d/google-archive.gpg &amp;&amp; \\\n  sh -c 'echo &quot;deb [arch=amd64] http://dl.google.com/linux/chrome/deb/ stable main&quot; &gt;&gt; /etc/apt/sources.list.d/google.list' &amp;&amp; \\\n  apt-get update &amp;&amp; \\\n  apt-get install google-chrome-stable -y --no-install-recommends &amp;&amp; \\\n  apt-get install tor -y --no-install-recommends &amp;&amp; \\\n  apt-get install torsocks -y --no-install-recommends &amp;&amp; \\\n  apt-get install curl gnupg &amp;&amp; \\\n  rm -rf /var/lib/apt/lists/*\n\n\nWORKDIR /usr/src/app\n\nRUN mkdir src\nRUN mkdir tmp\nCOPY ./src ./src\nCOPY ./package.json \\\n     ./ecosystem.config.js \\\n     ./tsconfig.json \\\n     ./\n\nRUN npm i -g pm2 npm@9.2.0\nRUN yarn &amp;&amp; yarn build\n\nRUN rm -rf src\n\n\n#HEALTHCHECK --start-period=150s --interval=300s --retries=99999 --timeout=120s CMD curl --fail http://localhost:3000/healthcheck || kill 1\n\n\nEXPOSE 3000\n\nCMD [&quot;pm2-runtime&quot;, &quot;start&quot;, &quot;ecosystem.config.js&quot;]\n</code></pre>\n"}],"owner":{"account_id":7348759,"reputation":1741,"user_id":5595678,"accept_rate":57,"display_name":"Johnny"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676029027,"creation_date":1515936516,"question_id":48250069,"body_markdown":"I am making an Android application in Java. There is an onion Url that I want to check is live or not. Basically, Onion Url is mapped to an IP-address, so is there any Java library or API that can assist in determining this check?\r\nAny help in this regard will be appreciated.\r\nThanks.","title":"Check if Onion URL is live","body":"<p>I am making an Android application in Java. There is an onion Url that I want to check is live or not. Basically, Onion Url is mapped to an IP-address, so is there any Java library or API that can assist in determining this check?\nAny help in this regard will be appreciated.\nThanks.</p>\n"},{"tags":["java","zip","zipinputstream","zipexception"],"answers":[{"tags":[],"owner":{"account_id":19997482,"reputation":61,"user_id":14657204,"display_name":"barduchi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1676028864,"creation_date":1676028864,"answer_id":75410569,"question_id":75410466,"body_markdown":"I don&#39;t know if it is the best way to solve it, but I managed to ignore the empty directory entry with Reflections:\r\n\r\n        try{\r\n        ZipEntry ze = null;\r\n        while((ze = zin.getNextEntry()) != null){\r\n            if(!ze.isDirectory()){\r\n                // DO SOMETHING WITH THE FILE\r\n            } else if(ze.getName().startsWith(&quot;.&quot;)){ //CHECK IF IS THE AFOREMENTIONED DIRECTORY\r\n                // MAKE THE ENTRY NULL, THUS THE ZIPINPUTSTREAM WILL NEED TO FECTH ANOTHER\r\n                Field entry = zin.getClass().getDeclaredField(&quot;entry&quot;);\r\n                entry.setAccessible(true);\r\n                entry.set(zin, null);\r\n                \r\n                // MARK THE END OF THE DIRECTORY ENTRY                                                \r\n                Field eof = zin.getClass().getDeclaredField(&quot;entryEOF&quot;);\r\n                eof.setAccessible(true);\r\n                eof.set(zin, true);\r\n            }\r\n        }   \r\n    } catch (ZipException ex){\r\n        // EXCEPTION IS NOT THROWN ANYMORE\r\n    } finally {\r\n        zin.close();\r\n    }","title":"How to solve ZipException: Invalid Block lengths when reading ZipInputStream with empty directory inside zip file (Java)","body":"<p>I don't know if it is the best way to solve it, but I managed to ignore the empty directory entry with Reflections:</p>\n<pre><code>    try{\n    ZipEntry ze = null;\n    while((ze = zin.getNextEntry()) != null){\n        if(!ze.isDirectory()){\n            // DO SOMETHING WITH THE FILE\n        } else if(ze.getName().startsWith(&quot;.&quot;)){ //CHECK IF IS THE AFOREMENTIONED DIRECTORY\n            // MAKE THE ENTRY NULL, THUS THE ZIPINPUTSTREAM WILL NEED TO FECTH ANOTHER\n            Field entry = zin.getClass().getDeclaredField(&quot;entry&quot;);\n            entry.setAccessible(true);\n            entry.set(zin, null);\n            \n            // MARK THE END OF THE DIRECTORY ENTRY                                                \n            Field eof = zin.getClass().getDeclaredField(&quot;entryEOF&quot;);\n            eof.setAccessible(true);\n            eof.set(zin, true);\n        }\n    }   \n} catch (ZipException ex){\n    // EXCEPTION IS NOT THROWN ANYMORE\n} finally {\n    zin.close();\n}\n</code></pre>\n"}],"owner":{"account_id":19997482,"reputation":61,"user_id":14657204,"display_name":"barduchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75410569,"answer_count":1,"score":0,"last_activity_date":1676028864,"creation_date":1676028256,"question_id":75410466,"body_markdown":"I am getting the error &quot;ZipException: Invalid Block lengths&quot; when reading a ZipInputStream from my java code. \r\n\r\nMy zip file oppens and is extracted normally with my Zip file utility from windows, so it is not corrupted.\r\n\r\nThe first entry inside the zip file is an empty directory named &quot;.&quot; (is a zip file generated from other system that I don&#39;t have access to). When the code tries to get the next entry after the the &quot;.&quot; directory, the exception is thrown.\r\n\r\nI am getting this file from a SQL Database and don&#39;t want to store it in my file system before reading. Here is my code:\r\n\r\n\r\n```\r\ntry{\r\n    ZipEntry ze = null;\r\n    while((ze = zin.getNextEntry()) != null){ //zin is the ZipInputStream\r\n        if(!ze.isDirectory()){\r\n            // DO SOMETHING WITH THE FILE\r\n        }\r\n    }   \r\n} catch (ZipException ex){\r\n    # EXCEPTION THROWN\r\n} finally {\r\n    zin.close();\r\n}\r\n```\r\n","title":"How to solve ZipException: Invalid Block lengths when reading ZipInputStream with empty directory inside zip file (Java)","body":"<p>I am getting the error &quot;ZipException: Invalid Block lengths&quot; when reading a ZipInputStream from my java code.</p>\n<p>My zip file oppens and is extracted normally with my Zip file utility from windows, so it is not corrupted.</p>\n<p>The first entry inside the zip file is an empty directory named &quot;.&quot; (is a zip file generated from other system that I don't have access to). When the code tries to get the next entry after the the &quot;.&quot; directory, the exception is thrown.</p>\n<p>I am getting this file from a SQL Database and don't want to store it in my file system before reading. Here is my code:</p>\n<pre><code>try{\n    ZipEntry ze = null;\n    while((ze = zin.getNextEntry()) != null){ //zin is the ZipInputStream\n        if(!ze.isDirectory()){\n            // DO SOMETHING WITH THE FILE\n        }\n    }   \n} catch (ZipException ex){\n    # EXCEPTION THROWN\n} finally {\n    zin.close();\n}\n</code></pre>\n"},{"tags":["java","telegram","telegram-bot"],"answers":[{"comments":[{"owner":{"account_id":6517675,"reputation":2645,"user_id":5042987,"accept_rate":80,"display_name":"Diego Victor de Jesus"},"score":0,"creation_date":1576555271,"post_id":59341651,"comment_id":104928400,"body_markdown":"Yes, it is not possible to use arguments when you send a command. But what i would like to do is imitate a flow like BotFather does when you create a bot.","body":"Yes, it is not possible to use arguments when you send a command. But what i would like to do is imitate a flow like BotFather does when you create a bot."}],"tags":[],"owner":{"account_id":17293101,"reputation":56,"user_id":12524311,"display_name":"Anas Ablan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576390770,"creation_date":1576390770,"answer_id":59341651,"question_id":59341135,"body_markdown":"Usually to be specific on what are you sending to the telegram bot, you would communicate with the bot using commands, (telegram commands starts with /, and each command have a specific command handler on the server side), unfortunately, so far there is no way to send extra params along with the command to the telegram bot, you can use one of the workarounds mentioned in the conversation below : \r\nhttps://stackoverflow.com/questions/36059572/how-do-i-have-my-bot-respond-with-arguments\r\n \r\nif you are not familiar with bot commands using java, please refer to the following examples: \r\nhttps://www.programcreek.com/java-api-examples/?api=org.telegram.telegrambots.bots.AbsSender\r\n\r\nI hope this helps. ","title":"Telegram Bot - Process user response based on last bot question","body":"<p>Usually to be specific on what are you sending to the telegram bot, you would communicate with the bot using commands, (telegram commands starts with /, and each command have a specific command handler on the server side), unfortunately, so far there is no way to send extra params along with the command to the telegram bot, you can use one of the workarounds mentioned in the conversation below : \n<a href=\"https://stackoverflow.com/questions/36059572/how-do-i-have-my-bot-respond-with-arguments\">How do I have my Bot respond with arguments?</a></p>\n\n<p>if you are not familiar with bot commands using java, please refer to the following examples: \n<a href=\"https://www.programcreek.com/java-api-examples/?api=org.telegram.telegrambots.bots.AbsSender\" rel=\"nofollow noreferrer\">https://www.programcreek.com/java-api-examples/?api=org.telegram.telegrambots.bots.AbsSender</a></p>\n\n<p>I hope this helps. </p>\n"},{"comments":[{"owner":{"account_id":6517675,"reputation":2645,"user_id":5042987,"accept_rate":80,"display_name":"Diego Victor de Jesus"},"score":0,"creation_date":1576554220,"post_id":59361003,"comment_id":104928207,"body_markdown":"I am using Java :(","body":"I am using Java :("}],"tags":[],"owner":{"account_id":15277484,"reputation":49,"user_id":12062970,"display_name":"Aleksey"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1576515092,"creation_date":1576515092,"answer_id":59361003,"question_id":59341135,"body_markdown":"One of the most popular tasks when developing telegram bots.&lt;br&gt; There is a solution, you need to install the **shapoapps/multibot_driver package** (composer require shapoapps/multibot_driver) for Laravel. &lt;br&gt;This package has a session manager, an analogue of sessions for web page users. After each user message, you record user input into the session on server side. When each new request(message) received, you read the data from the session and build the logic. \r\n&lt;br&gt; Here&#39;s the documentation - https://github.com/shapoapps/multibot_driver","title":"Telegram Bot - Process user response based on last bot question","body":"<p>One of the most popular tasks when developing telegram bots.<br> There is a solution, you need to install the <strong>shapoapps/multibot_driver package</strong> (composer require shapoapps/multibot_driver) for Laravel. <br>This package has a session manager, an analogue of sessions for web page users. After each user message, you record user input into the session on server side. When each new request(message) received, you read the data from the session and build the logic. \n<br> Here's the documentation - <a href=\"https://github.com/shapoapps/multibot_driver\" rel=\"nofollow noreferrer\">https://github.com/shapoapps/multibot_driver</a></p>\n"},{"tags":[],"owner":{"account_id":6517675,"reputation":2645,"user_id":5042987,"accept_rate":80,"display_name":"Diego Victor de Jesus"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1604333017,"creation_date":1604296310,"answer_id":64640429,"question_id":59341135,"body_markdown":"Since it was quite hard to find ideas that could lead me to a solution (in **Java**), I am going to share mine here for the sake of future Java googlers. I am using [telegrambots library][1] together with Spring Boot/Data.\r\n\r\nThe best way to implement this flow is saving states on your database. To do so, **use the messages unique chat ids to distinguish a chat from another**.\r\n\r\nHere is the relevant part of the Java implementation (the logic pretty much applies to any language):\r\n\r\nThe entity that holds Telegram chat information related to a system user.\r\n\r\n    @Entity\r\n    @Table(name = &quot;user_bot&quot;)\r\n    public class UserBot implements Serializable {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n    \r\n        @Column(name = &quot;chat_id&quot;, unique = true, nullable = false, length = 255)\r\n        private String chatId;\r\n    \r\n        @Column(name = &quot;bot_verification_code&quot;, length = 6)\r\n        private String botVerificationCode;\r\n    \r\n        @Enumerated\r\n        @Column(name = &quot;last_bot_state&quot;, columnDefinition = &quot;SMALLINT DEFAULT NULL&quot;)\r\n        private BotState lastBotState;\r\n    \r\n        @Column(columnDefinition = &quot;TINYINT(1)&quot;)\r\n        private boolean verified;\r\n    \r\n        @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        private User user;\r\n    }\r\n\r\n\r\nThe enum that represents all possible bot responses (states).\r\n\r\n    public enum BotState {\r\n        // Respostas do bot que representam estados\r\n        AUTH_STEP_1(&quot;Muito bem. Qual &#233; o seu e-mail no sistema?&quot;), AUTH_STEP_2(&quot;Enviei um c&#243;digo para o seu e-mail. Por favor, digite-o aqui.&quot;),\r\n        NO_STATE(&quot;&quot;);\r\n    \r\n        private final String state;\r\n    \r\n        private BotState(String state) {\r\n            this.state = state;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return this.state;\r\n        }\r\n    }\r\n\r\n\r\nThe service that receives messages and respond accordingly.\r\n\r\n    @Service\r\n    public class TelegramBotService extends TelegramLongPollingBot {\r\n    \r\n        @Autowired\r\n        private CodeUtils codeUtils;\r\n    \r\n        @Autowired\r\n        private UserBotRepository userBotRepository;\r\n    \r\n        @Autowired\r\n        private UserRepository userRepository;\r\n    \r\n        @Value(&quot;${telegram.bot.username}&quot;)\r\n        private String botUsername;\r\n    \r\n        @Value(&quot;${telegram.bot.token}&quot;)\r\n        private String botToken;\r\n    \r\n        @PostConstruct\r\n        public void registerBot() {\r\n            TelegramBotsApi botsApi = new TelegramBotsApi();\r\n            try {\r\n                botsApi.registerBot(this);\r\n            } catch (TelegramApiException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public void onUpdateReceived(Update update) {\r\n            if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\r\n                String receivedMessage = update.getMessage().getText();\r\n                SendMessage sendMessage = null;\r\n    \r\n                // TODO: futuramente, tratar casos onde um usu&#225;rio chama um comando sem ainda estar autenticado\r\n                switch (receivedMessage) {\r\n                    case &quot;/autenticar&quot;:\r\n                        sendMessage = handleAuthentication(update);\r\n                        break;\r\n                    default:\r\n                        // Quando nenhum comando atender, ser&#225; um texto a ser checado de acordo com o estado anterior\r\n                        sendMessage = checkState(update);\r\n                }\r\n    \r\n                try {\r\n                    execute(sendMessage);\r\n                } catch (TelegramApiException e) {\r\n                    codeUtils.log(e.getMessage(), this);\r\n                }\r\n            }\r\n        }\r\n    \r\n        private SendMessage handleAuthentication(Update update) {\r\n            SendMessage sendMessage = new SendMessage()\r\n                    .setChatId(update.getMessage().getChatId())\r\n                    .setText(BotState.AUTH_STEP_1.toString());\r\n    \r\n            UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\r\n    \r\n            if (userBot == null) {\r\n                userBot = new UserBot();\r\n                userBot.setChatId(update.getMessage().getChatId().toString());\r\n                userBot.setLastBotState(BotState.AUTH_STEP_1);\r\n            } else if (userBot.isVerified()) {\r\n                // Um texto simples enviado no sendMessage indica o fim de um fluxo\r\n                sendMessage.setText(&quot;Este aparelho j&#225; est&#225; autenticado no sistema.&quot;);\r\n                userBot.setLastBotState(null);\r\n            }\r\n    \r\n            userBotRepository.save(userBot);\r\n            return sendMessage;\r\n        }\r\n    \r\n        // Checa o estado anterior do bot em rela&#231;&#227;o ao chatId recebido\r\n        private SendMessage checkState(Update update) {\r\n            UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\r\n            SendMessage sendMessage = null;\r\n    \r\n            if (userBot == null || userBot.getLastBotState() == null)\r\n                return sendDefaultMessage(update);\r\n    \r\n            switch (Optional.ofNullable(userBot.getLastBotState()).orElse(BotState.NO_STATE)) {\r\n                case AUTH_STEP_1:\r\n                    sendMessage = sendCode(update);\r\n                    break;\r\n                case AUTH_STEP_2:\r\n                    sendMessage = validateCode(update);\r\n                    break;\r\n                default:\r\n                    sendMessage = sendDefaultMessage(update);\r\n            }\r\n    \r\n            return sendMessage;\r\n        }\r\n    \r\n        // Grava o c&#243;digo no banco e envia para o e-mail do usu&#225;rio\r\n        private SendMessage sendCode(Update update) {\r\n            User user = userRepository.findByEmail(update.getMessage().getText().toLowerCase());\r\n            SendMessage sendMessage = new SendMessage(update.getMessage().getChatId(), &quot;&quot;);\r\n    \r\n            if (user == null)\r\n                sendMessage.setText(&quot;N&#227;o encontrei nenhum usu&#225;rio no sistema com este e-mail :(&quot;);\r\n            else {\r\n                UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\r\n    \r\n                String verificationCode = Integer.toString(new Random().nextInt(899999) + 100000);\r\n                String text = &quot;Este &#233; um e-mail autom&#225;tico de verifica&#231;&#227;o de identidade. Informe este c&#243;digo para o bot do Telegram: &quot; + verificationCode;\r\n                codeUtils.sendEmail(new String[]{user.getEmail()}, &quot;CCR Laudos - C&#243;digo de Verifica&#231;&#227;o&quot;, text);\r\n    \r\n                // Associa a conversa&#231;&#227;o ao usu&#225;rio, mas a validade depende da flag verified\r\n                userBot.setUser(user);\r\n                userBot.setBotVerificationCode(verificationCode);\r\n                userBot.setLastBotState(BotState.AUTH_STEP_2);\r\n                userBotRepository.save(userBot);\r\n    \r\n                sendMessage.setText(BotState.AUTH_STEP_2.toString());\r\n            }\r\n    \r\n            return sendMessage;\r\n        }\r\n    \r\n        // Checa se o c&#243;digo informado foi o mesmo passado por e-mail para o usu&#225;rio a fim de autentic&#225;-lo\r\n        private SendMessage validateCode(Update update) {\r\n            UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\r\n            SendMessage sendMessage = new SendMessage(update.getMessage().getChatId(), &quot;&quot;);\r\n    \r\n            if (update.getMessage().getText().equals(userBot.getBotVerificationCode())) {\r\n                userBot.setVerified(true);\r\n                sendMessage.setText(&quot;O aparelho foi autenticado com sucesso. Voc&#234; passar&#225; a receber notifica&#231;&#245;es do sistema.&quot;);\r\n            } else {\r\n                userBot.setUser(null);\r\n                sendMessage.setText(&quot;C&#243;digo inv&#225;lido.&quot;);\r\n            }\r\n    \r\n            userBotRepository.save(userBot);\r\n            return sendMessage;\r\n        }\r\n    \r\n        private SendMessage sendDefaultMessage(Update update) {\r\n            String markdownMessage = &quot;N&#227;o entendi \\ud83e\\udd14 \\n&quot;\r\n                    + &quot;Que tal tentar um comando digitando */* ?&quot;;\r\n            return new SendMessage(update.getMessage().getChatId(), markdownMessage).setParseMode(ParseMode.MARKDOWN);\r\n        }\r\n    \r\n        @Override\r\n        public String getBotUsername() {\r\n            return this.botUsername;\r\n        }\r\n    \r\n        @Override\r\n        public String getBotToken() {\r\n            return this.botToken;\r\n        }\r\n    }\r\n\r\n\r\nThe implemented flow is:\r\n\r\n1. User sends /authenticate.\r\n\r\n2. System knows nothing about the device, so store the chat id and the last state. **The last state will be the response to the user.** System asks for the user&#39;s e-mail.\r\n\r\n3. User sends his e-mail.\r\n\r\n4. The text is not recognized as a command, so system checks if there is a last state relative to this chat id. If a previous state exists, use the incoming text as a parameter to this state&#39;s method. System sends a code to the user&#39;s e-mail and asks for it.\r\n\r\n5. User sends the code.\r\n\r\n6. System checks the previous state again and authenticates the user, if the code is correct.\r\n\r\nThat&#39;s it! Hope it helps someone.\r\n\r\n\r\n  [1]: https://github.com/rubenlagus/TelegramBots","title":"Telegram Bot - Process user response based on last bot question","body":"<p>Since it was quite hard to find ideas that could lead me to a solution (in <strong>Java</strong>), I am going to share mine here for the sake of future Java googlers. I am using <a href=\"https://github.com/rubenlagus/TelegramBots\" rel=\"noreferrer\">telegrambots library</a> together with Spring Boot/Data.</p>\n<p>The best way to implement this flow is saving states on your database. To do so, <strong>use the messages unique chat ids to distinguish a chat from another</strong>.</p>\n<p>Here is the relevant part of the Java implementation (the logic pretty much applies to any language):</p>\n<p>The entity that holds Telegram chat information related to a system user.</p>\n<pre><code>@Entity\n@Table(name = &quot;user_bot&quot;)\npublic class UserBot implements Serializable {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;chat_id&quot;, unique = true, nullable = false, length = 255)\n    private String chatId;\n\n    @Column(name = &quot;bot_verification_code&quot;, length = 6)\n    private String botVerificationCode;\n\n    @Enumerated\n    @Column(name = &quot;last_bot_state&quot;, columnDefinition = &quot;SMALLINT DEFAULT NULL&quot;)\n    private BotState lastBotState;\n\n    @Column(columnDefinition = &quot;TINYINT(1)&quot;)\n    private boolean verified;\n\n    @JoinColumn(name = &quot;user_id&quot;, referencedColumnName = &quot;id&quot;)\n    @ManyToOne(fetch = FetchType.EAGER)\n    private User user;\n}\n</code></pre>\n<p>The enum that represents all possible bot responses (states).</p>\n<pre><code>public enum BotState {\n    // Respostas do bot que representam estados\n    AUTH_STEP_1(&quot;Muito bem. Qual é o seu e-mail no sistema?&quot;), AUTH_STEP_2(&quot;Enviei um código para o seu e-mail. Por favor, digite-o aqui.&quot;),\n    NO_STATE(&quot;&quot;);\n\n    private final String state;\n\n    private BotState(String state) {\n        this.state = state;\n    }\n\n    @Override\n    public String toString() {\n        return this.state;\n    }\n}\n</code></pre>\n<p>The service that receives messages and respond accordingly.</p>\n<pre><code>@Service\npublic class TelegramBotService extends TelegramLongPollingBot {\n\n    @Autowired\n    private CodeUtils codeUtils;\n\n    @Autowired\n    private UserBotRepository userBotRepository;\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Value(&quot;${telegram.bot.username}&quot;)\n    private String botUsername;\n\n    @Value(&quot;${telegram.bot.token}&quot;)\n    private String botToken;\n\n    @PostConstruct\n    public void registerBot() {\n        TelegramBotsApi botsApi = new TelegramBotsApi();\n        try {\n            botsApi.registerBot(this);\n        } catch (TelegramApiException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onUpdateReceived(Update update) {\n        if (update.hasMessage() &amp;&amp; update.getMessage().hasText()) {\n            String receivedMessage = update.getMessage().getText();\n            SendMessage sendMessage = null;\n\n            // TODO: futuramente, tratar casos onde um usuário chama um comando sem ainda estar autenticado\n            switch (receivedMessage) {\n                case &quot;/autenticar&quot;:\n                    sendMessage = handleAuthentication(update);\n                    break;\n                default:\n                    // Quando nenhum comando atender, será um texto a ser checado de acordo com o estado anterior\n                    sendMessage = checkState(update);\n            }\n\n            try {\n                execute(sendMessage);\n            } catch (TelegramApiException e) {\n                codeUtils.log(e.getMessage(), this);\n            }\n        }\n    }\n\n    private SendMessage handleAuthentication(Update update) {\n        SendMessage sendMessage = new SendMessage()\n                .setChatId(update.getMessage().getChatId())\n                .setText(BotState.AUTH_STEP_1.toString());\n\n        UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\n\n        if (userBot == null) {\n            userBot = new UserBot();\n            userBot.setChatId(update.getMessage().getChatId().toString());\n            userBot.setLastBotState(BotState.AUTH_STEP_1);\n        } else if (userBot.isVerified()) {\n            // Um texto simples enviado no sendMessage indica o fim de um fluxo\n            sendMessage.setText(&quot;Este aparelho já está autenticado no sistema.&quot;);\n            userBot.setLastBotState(null);\n        }\n\n        userBotRepository.save(userBot);\n        return sendMessage;\n    }\n\n    // Checa o estado anterior do bot em relação ao chatId recebido\n    private SendMessage checkState(Update update) {\n        UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\n        SendMessage sendMessage = null;\n\n        if (userBot == null || userBot.getLastBotState() == null)\n            return sendDefaultMessage(update);\n\n        switch (Optional.ofNullable(userBot.getLastBotState()).orElse(BotState.NO_STATE)) {\n            case AUTH_STEP_1:\n                sendMessage = sendCode(update);\n                break;\n            case AUTH_STEP_2:\n                sendMessage = validateCode(update);\n                break;\n            default:\n                sendMessage = sendDefaultMessage(update);\n        }\n\n        return sendMessage;\n    }\n\n    // Grava o código no banco e envia para o e-mail do usuário\n    private SendMessage sendCode(Update update) {\n        User user = userRepository.findByEmail(update.getMessage().getText().toLowerCase());\n        SendMessage sendMessage = new SendMessage(update.getMessage().getChatId(), &quot;&quot;);\n\n        if (user == null)\n            sendMessage.setText(&quot;Não encontrei nenhum usuário no sistema com este e-mail :(&quot;);\n        else {\n            UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\n\n            String verificationCode = Integer.toString(new Random().nextInt(899999) + 100000);\n            String text = &quot;Este é um e-mail automático de verificação de identidade. Informe este código para o bot do Telegram: &quot; + verificationCode;\n            codeUtils.sendEmail(new String[]{user.getEmail()}, &quot;CCR Laudos - Código de Verificação&quot;, text);\n\n            // Associa a conversação ao usuário, mas a validade depende da flag verified\n            userBot.setUser(user);\n            userBot.setBotVerificationCode(verificationCode);\n            userBot.setLastBotState(BotState.AUTH_STEP_2);\n            userBotRepository.save(userBot);\n\n            sendMessage.setText(BotState.AUTH_STEP_2.toString());\n        }\n\n        return sendMessage;\n    }\n\n    // Checa se o código informado foi o mesmo passado por e-mail para o usuário a fim de autenticá-lo\n    private SendMessage validateCode(Update update) {\n        UserBot userBot = userBotRepository.findByChatId(update.getMessage().getChatId().toString());\n        SendMessage sendMessage = new SendMessage(update.getMessage().getChatId(), &quot;&quot;);\n\n        if (update.getMessage().getText().equals(userBot.getBotVerificationCode())) {\n            userBot.setVerified(true);\n            sendMessage.setText(&quot;O aparelho foi autenticado com sucesso. Você passará a receber notificações do sistema.&quot;);\n        } else {\n            userBot.setUser(null);\n            sendMessage.setText(&quot;Código inválido.&quot;);\n        }\n\n        userBotRepository.save(userBot);\n        return sendMessage;\n    }\n\n    private SendMessage sendDefaultMessage(Update update) {\n        String markdownMessage = &quot;Não entendi \\ud83e\\udd14 \\n&quot;\n                + &quot;Que tal tentar um comando digitando */* ?&quot;;\n        return new SendMessage(update.getMessage().getChatId(), markdownMessage).setParseMode(ParseMode.MARKDOWN);\n    }\n\n    @Override\n    public String getBotUsername() {\n        return this.botUsername;\n    }\n\n    @Override\n    public String getBotToken() {\n        return this.botToken;\n    }\n}\n</code></pre>\n<p>The implemented flow is:</p>\n<ol>\n<li><p>User sends /authenticate.</p>\n</li>\n<li><p>System knows nothing about the device, so store the chat id and the last state. <strong>The last state will be the response to the user.</strong> System asks for the user's e-mail.</p>\n</li>\n<li><p>User sends his e-mail.</p>\n</li>\n<li><p>The text is not recognized as a command, so system checks if there is a last state relative to this chat id. If a previous state exists, use the incoming text as a parameter to this state's method. System sends a code to the user's e-mail and asks for it.</p>\n</li>\n<li><p>User sends the code.</p>\n</li>\n<li><p>System checks the previous state again and authenticates the user, if the code is correct.</p>\n</li>\n</ol>\n<p>That's it! Hope it helps someone.</p>\n"}],"owner":{"account_id":6517675,"reputation":2645,"user_id":5042987,"accept_rate":80,"display_name":"Diego Victor de Jesus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7418,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":64640429,"answer_count":3,"score":8,"last_activity_date":1676028855,"creation_date":1576382381,"question_id":59341135,"body_markdown":"I want my Telegram bot to process user inputs based on the last question the bot asked. Basically, this is the flow:\r\n\r\n- User calls /authenticate command\r\n- Bot asks for email\r\n- User sends his email\r\n- Bot answers with a message about sending a code to the user&#39;s email for confirmation and asks for the user to type the code on the chat\r\n- User types the code\r\n- Bot validates the user code and user is authenticated and start receiving notifications\r\n\r\nThe problem is: how do i know that the user is answering a specific bot question in this flow?\r\n\r\nI thought about two ways to do so:\r\n\r\n- Send the message with force reply option so the user has to reply to the bot question. This would send me back the message to which the user is responding so i could compare the bot message string to see what was the answer about.\r\n\r\n- Store the last bot message somewhere, then when a message arrives, check what was the last bot message and assume that the user message is a response.\r\n\r\n\r\nIs there a better way? I am using Java with [telegrambots library][1].\r\n\r\n\r\n  [1]: https://github.com/rubenlagus/TelegramBots","title":"Telegram Bot - Process user response based on last bot question","body":"<p>I want my Telegram bot to process user inputs based on the last question the bot asked. Basically, this is the flow:</p>\n\n<ul>\n<li>User calls /authenticate command</li>\n<li>Bot asks for email</li>\n<li>User sends his email</li>\n<li>Bot answers with a message about sending a code to the user's email for confirmation and asks for the user to type the code on the chat</li>\n<li>User types the code</li>\n<li>Bot validates the user code and user is authenticated and start receiving notifications</li>\n</ul>\n\n<p>The problem is: how do i know that the user is answering a specific bot question in this flow?</p>\n\n<p>I thought about two ways to do so:</p>\n\n<ul>\n<li><p>Send the message with force reply option so the user has to reply to the bot question. This would send me back the message to which the user is responding so i could compare the bot message string to see what was the answer about.</p></li>\n<li><p>Store the last bot message somewhere, then when a message arrives, check what was the last bot message and assume that the user message is a response.</p></li>\n</ul>\n\n<p>Is there a better way? I am using Java with <a href=\"https://github.com/rubenlagus/TelegramBots\" rel=\"noreferrer\">telegrambots library</a>.</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676028687,"post_id":75410327,"comment_id":133059372,"body_markdown":"The `identified by &#39;&lt;password&gt;&#39;` part doesn&#39;t belong in this statement, see [13.7.1.6 GRANT Statement](https://dev.mysql.com/doc/refman/8.0/en/grant.html). You seem to have combined two different solutions into one statement.","body":"The <code>identified by &#39;&lt;password&gt;&#39;</code> part doesn&#39;t belong in this statement, see <a href=\"https://dev.mysql.com/doc/refman/8.0/en/grant.html\" rel=\"nofollow noreferrer\">13.7.1.6 GRANT Statement</a>. You seem to have combined two different solutions into one statement."}],"owner":{"account_id":23411594,"reputation":1,"user_id":17473182,"display_name":"marcom966"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676028713,"answer_count":0,"score":0,"last_activity_date":1676028576,"creation_date":1676027458,"question_id":75410327,"body_markdown":"I know this question&#39;s been asked already a million times, but I can&#39;t connect my database to my back-end in Java. How do I solve this?\r\n\r\nI tried to grant all the permissions using this syntax:\r\n\r\n```sql\r\nGRANT ALL PRIVILEGES ON *.* TO &#39;root&#39;@&#39;%&#39; IDENTIFIED BY &#39;mypassword&#39; \r\nWITH GRANT OPTION;\r\n```\r\n\r\nboth in MySQL Workbench and even from command line, but I get the following errors:\r\n\r\n[![Workbench][1]][1]\r\n\r\n[![Terminal][2]][2]\r\n\r\nI use windows 11.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rcipx.jpg\r\n  [2]: https://i.stack.imgur.com/76TEO.jpg","title":"java.sql.SQLException: Access denied for user &#39;&quot;root&quot;&#39;@&#39;localhost&#39; (using password: YES) spring boot windows","body":"<p>I know this question's been asked already a million times, but I can't connect my database to my back-end in Java. How do I solve this?</p>\n<p>I tried to grant all the permissions using this syntax:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>GRANT ALL PRIVILEGES ON *.* TO 'root'@'%' IDENTIFIED BY 'mypassword' \nWITH GRANT OPTION;\n</code></pre>\n<p>both in MySQL Workbench and even from command line, but I get the following errors:</p>\n<p><a href=\"https://i.stack.imgur.com/rcipx.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rcipx.jpg\" alt=\"Workbench\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/76TEO.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/76TEO.jpg\" alt=\"Terminal\" /></a></p>\n<p>I use windows 11.</p>\n"},{"tags":["java","postgresql","hibernate","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1676028402,"post_id":75405418,"comment_id":133059298,"body_markdown":"Given DBeaver also uses the PostgreSQL JDBC driver, it is likely that you either did something else in DBeaver, or DBeaver has special handling to give this the appearance of supporting parameters (e.g. by rewriting the query to use a literal on execute).","body":"Given DBeaver also uses the PostgreSQL JDBC driver, it is likely that you either did something else in DBeaver, or DBeaver has special handling to give this the appearance of supporting parameters (e.g. by rewriting the query to use a literal on execute)."},{"owner":{"account_id":9827023,"reputation":239,"user_id":7279957,"display_name":"Kaushik Patel"},"score":0,"creation_date":1676032981,"post_id":75405418,"comment_id":133060623,"body_markdown":"Got from DBeaver that it takes the parameter substitutes it in query itself and executes the final query on DB. Hence it is working on DBeaver. Finally SET statement cannot be used as parameterized queries.","body":"Got from DBeaver that it takes the parameter substitutes it in query itself and executes the final query on DB. Hence it is working on DBeaver. Finally SET statement cannot be used as parameterized queries."}],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218443,"user_id":6464308,"display_name":"Laurenz Albe"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676000137,"creation_date":1676000137,"answer_id":75406680,"question_id":75405418,"body_markdown":"The SQL statement `SET` accepts no parameters. Only `SELECT`, `VALUES`, `INSERT`, `UPDATE`, `DELETE` and `MERGE` do.","title":"Syntax error at or near &quot;$1&quot; jdbc postgres -&gt; SET var=?","body":"<p>The SQL statement <code>SET</code> accepts no parameters. Only <code>SELECT</code>, <code>VALUES</code>, <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code> and <code>MERGE</code> do.</p>\n"}],"owner":{"account_id":9827023,"reputation":239,"user_id":7279957,"display_name":"Kaushik Patel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676028345,"creation_date":1675984314,"question_id":75405418,"body_markdown":"Trying to execute the following code : \r\n\r\n```java\r\nthis.getSessionFactory().getCurrentSession()\r\n        .createNativeQuery(&quot;SET app.variable = :variable&quot;)\r\n        .setParameter(&quot;variable&quot;,&quot;variableValue&quot;)\r\n        .executeUpdate();\r\n```\r\n\r\nIt is giving me the following error : \r\n\r\n```none\r\norg.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;$1&quot;\r\n  Position: 26\r\n```\r\n\r\nI&#39;m not sure if this is a bug in JDBC or PostgreSQL.\r\n\r\nIt seems not a PostgreSQL issue as when I use the DBeaver using bind variables the query works fine.\r\n\r\n\r\n\r\n\r\n\r\nTried the same query by creating a prepared statement as well and the Result was same.","title":"Syntax error at or near &quot;$1&quot; jdbc postgres -&gt; SET var=?","body":"<p>Trying to execute the following code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.getSessionFactory().getCurrentSession()\n        .createNativeQuery(&quot;SET app.variable = :variable&quot;)\n        .setParameter(&quot;variable&quot;,&quot;variableValue&quot;)\n        .executeUpdate();\n</code></pre>\n<p>It is giving me the following error :</p>\n<pre class=\"lang-none prettyprint-override\"><code>org.postgresql.util.PSQLException: ERROR: syntax error at or near &quot;$1&quot;\n  Position: 26\n</code></pre>\n<p>I'm not sure if this is a bug in JDBC or PostgreSQL.</p>\n<p>It seems not a PostgreSQL issue as when I use the DBeaver using bind variables the query works fine.</p>\n<p>Tried the same query by creating a prepared statement as well and the Result was same.</p>\n"},{"tags":["java","effective-java"],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1428547718,"creation_date":1428547718,"answer_id":29528879,"question_id":29528850,"body_markdown":"`clone()` is widely regarded to have been a failed experiment for a number of reasons. In this case, someone passing in a `Date` could have passed in an `EvilDate extends Date` whose `clone()` method sneakily returned a copy that was still mutable by someone else.","title":"Why shouldn&#39;t clone() be used for defensive copying?","body":"<p><code>clone()</code> is widely regarded to have been a failed experiment for a number of reasons. In this case, someone passing in a <code>Date</code> could have passed in an <code>EvilDate extends Date</code> whose <code>clone()</code> method sneakily returned a copy that was still mutable by someone else.</p>\n"},{"comments":[{"owner":{"account_id":2391748,"reputation":3436,"user_id":2091470,"accept_rate":58,"display_name":"Oliver Gondža"},"score":1,"creation_date":1508920940,"post_id":29529092,"comment_id":80802309,"body_markdown":"Obviously, but why is that a concern for `clone()` only? If you do not trust that implementations will adhere to method contracts or even you suspect they would be outright malicious, you should not trust _any_ overridden method. Which effectively kill polymorphism and OOP to begin with. I am probably missing something.","body":"Obviously, but why is that a concern for <code>clone()</code> only? If you do not trust that implementations will adhere to method contracts or even you suspect they would be outright malicious, you should not trust <i>any</i> overridden method. Which effectively kill polymorphism and OOP to begin with. I am probably missing something."},{"owner":{"account_id":6095697,"reputation":362,"user_id":4756564,"display_name":"egracer"},"score":0,"creation_date":1508976540,"post_id":29529092,"comment_id":80835180,"body_markdown":"Haven&#39;t read the book myself so I&#39;m not sure of the full context, just took the assumptions made by the passage that accompanied the question. If I had to guess, I&#39;d say that the passage refers to a library that you are implementing for consumption by a third party. Don&#39;t use `clone()` for defensive copying unless your class is a final class.","body":"Haven&#39;t read the book myself so I&#39;m not sure of the full context, just took the assumptions made by the passage that accompanied the question. If I had to guess, I&#39;d say that the passage refers to a library that you are implementing for consumption by a third party. Don&#39;t use <code>clone()</code> for defensive copying unless your class is a final class."}],"tags":[],"owner":{"account_id":6095697,"reputation":362,"user_id":4756564,"display_name":"egracer"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1617289548,"creation_date":1428549040,"answer_id":29529092,"question_id":29528850,"body_markdown":"Consider this code:\r\n\r\n    public class MaliciousDate extends Date { /** malicious code here **/ }\r\n    \r\n    public class SomeClass {\r\n        public static void main(String[] args) {\r\n            MaliciousDate someDate = new MaliciousDate();\r\n            Date copyOfMaliciousDate = someDate;\r\n            Date anotherDate = copyOfMaliciousDate.clone();\r\n        }\r\n    }\r\n\r\nSince `copyOfMaliciousDate` is of type `Date`, you can call `clone()` and it will return a `Date` object, but calling `clone` on `copyOfMaliciousDate` executes the code written in the `MaliciousDate` class&#39; `clone()` because the _instance_ stored in `copyOfMaliciousDate` is a `MaliciousDate`.","title":"Why shouldn&#39;t clone() be used for defensive copying?","body":"<p>Consider this code:</p>\n<pre><code>public class MaliciousDate extends Date { /** malicious code here **/ }\n\npublic class SomeClass {\n    public static void main(String[] args) {\n        MaliciousDate someDate = new MaliciousDate();\n        Date copyOfMaliciousDate = someDate;\n        Date anotherDate = copyOfMaliciousDate.clone();\n    }\n}\n</code></pre>\n<p>Since <code>copyOfMaliciousDate</code> is of type <code>Date</code>, you can call <code>clone()</code> and it will return a <code>Date</code> object, but calling <code>clone</code> on <code>copyOfMaliciousDate</code> executes the code written in the <code>MaliciousDate</code> class' <code>clone()</code> because the <em>instance</em> stored in <code>copyOfMaliciousDate</code> is a <code>MaliciousDate</code>.</p>\n"},{"comments":[{"owner":{"account_id":6478453,"reputation":101,"user_id":5016333,"display_name":"Rodrigo V"},"score":0,"creation_date":1683963441,"post_id":58982047,"comment_id":134449790,"body_markdown":"This is the BEST and correct answer. The text from the book gives the idea that not using clone will somehow help with the application security. But if the attacker can simply inject a class in the classpath, that it all he needs to do whatever he wants!\nCongrats for the answer, straight to the point!","body":"This is the BEST and correct answer. The text from the book gives the idea that not using clone will somehow help with the application security. But if the attacker can simply inject a class in the classpath, that it all he needs to do whatever he wants! Congrats for the answer, straight to the point!"}],"tags":[],"owner":{"account_id":325434,"reputation":25037,"user_id":646619,"accept_rate":90,"display_name":"Colonel Thirty Two"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574363060,"creation_date":1574363060,"answer_id":58982047,"question_id":29528850,"body_markdown":"I haven&#39;t read the book you quoted from, but that paragraph gives a poor justification and offers no protection against any sort of attack.\r\n\r\nThe quote mentions that an attacker with the ability to load code into your program could potentially submit a `Date` subclass with malicious methods, for example returning a subclass of `Date` from `clone`.\r\n\r\nBut that&#39;s only a minor way an attacker with the ability to load code can cause harm. They could also:\r\n\r\n* Use reflection to get read+write access to pretty much anything marked private,\r\n* Mess with the class loaders to load their own versions of classes,\r\n* Call `System.exit()` to stop your program, and\r\n* Do anything your program could do, like spawn other programs or access files.\r\n\r\nIf the attacker is running code in your process, the game&#39;s over and your process is compromised, and this silly little guard is not going to help.\r\n\r\nMaybe you think that clone is bad from a design standpoint, and that&#39;s fine, but please don&#39;t pretend that not using it will protect you from some security threat, because it won&#39;t.","title":"Why shouldn&#39;t clone() be used for defensive copying?","body":"<p>I haven't read the book you quoted from, but that paragraph gives a poor justification and offers no protection against any sort of attack.</p>\n\n<p>The quote mentions that an attacker with the ability to load code into your program could potentially submit a <code>Date</code> subclass with malicious methods, for example returning a subclass of <code>Date</code> from <code>clone</code>.</p>\n\n<p>But that's only a minor way an attacker with the ability to load code can cause harm. They could also:</p>\n\n<ul>\n<li>Use reflection to get read+write access to pretty much anything marked private,</li>\n<li>Mess with the class loaders to load their own versions of classes,</li>\n<li>Call <code>System.exit()</code> to stop your program, and</li>\n<li>Do anything your program could do, like spawn other programs or access files.</li>\n</ul>\n\n<p>If the attacker is running code in your process, the game's over and your process is compromised, and this silly little guard is not going to help.</p>\n\n<p>Maybe you think that clone is bad from a design standpoint, and that's fine, but please don't pretend that not using it will protect you from some security threat, because it won't.</p>\n"},{"comments":[{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":0,"creation_date":1676314386,"post_id":75410320,"comment_id":133108772,"body_markdown":"Could you clarify what is wrong in the example shared.","body":"Could you clarify what is wrong in the example shared."},{"owner":{"account_id":23655692,"reputation":1,"user_id":17684026,"display_name":"Abipriya Rajendran"},"score":1,"creation_date":1676433521,"post_id":75410320,"comment_id":133134196,"body_markdown":"Nothing seems incorrect to me. This answer would further support the passage from the book.`Such a subclass could, for example, record a reference to each instance in a private static list at the time of its creation and allow the attacker to access this list. This would give the attacker free reign over all instances.`","body":"Nothing seems incorrect to me. This answer would further support the passage from the book.<code>Such a subclass could, for example, record a reference to each instance in a private static list at the time of its creation and allow the attacker to access this list. This would give the attacker free reign over all instances.</code>"}],"tags":[],"owner":{"account_id":23655692,"reputation":1,"user_id":17684026,"display_name":"Abipriya Rajendran"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676027424,"creation_date":1676027424,"answer_id":75410320,"question_id":29528850,"body_markdown":"Since Date class is non-final, it can be extended and the clone method can be overridden to store the instances which later can be accessed to modify the state.\r\n\r\nMaliciousDate.java\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    \r\n    public class MaliciousDate extends Date {\r\n    \r\n        private static List&lt;MaliciousDate&gt; instances = new ArrayList&lt;&gt;();\r\n    \r\n        @Override\r\n        public Object clone() {\r\n            instances.add(this);\r\n            return super.clone();\r\n        }\r\n    \r\n        public List&lt;MaliciousDate&gt; getInstances() {\r\n            return instances;\r\n        }\r\n    }\r\n \r\nPeriod.java\r\n   \r\n    import java.util.Date;\r\n    \r\n    public class Period {\r\n        private static Date start;\r\n        private static Date end;\r\n    \r\n        public Period(Date start, Date end) {\r\n            this.start = (Date) start.clone();\r\n            this.end = (Date) end.clone();\r\n            if (start.getTime() &gt; end.getTime()) {\r\n                throw new IllegalArgumentException(&quot;start is greater than end&quot;);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            MaliciousDate start = new MaliciousDate();\r\n            MaliciousDate end = new MaliciousDate();\r\n            Period p = new Period(start, end);\r\n            //...\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Why shouldn&#39;t clone() be used for defensive copying?","body":"<p>Since Date class is non-final, it can be extended and the clone method can be overridden to store the instances which later can be accessed to modify the state.</p>\n<p>MaliciousDate.java</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Date;\nimport java.util.List;\n\npublic class MaliciousDate extends Date {\n\n    private static List&lt;MaliciousDate&gt; instances = new ArrayList&lt;&gt;();\n\n    @Override\n    public Object clone() {\n        instances.add(this);\n        return super.clone();\n    }\n\n    public List&lt;MaliciousDate&gt; getInstances() {\n        return instances;\n    }\n}\n</code></pre>\n<p>Period.java</p>\n<pre><code>import java.util.Date;\n\npublic class Period {\n    private static Date start;\n    private static Date end;\n\n    public Period(Date start, Date end) {\n        this.start = (Date) start.clone();\n        this.end = (Date) end.clone();\n        if (start.getTime() &gt; end.getTime()) {\n            throw new IllegalArgumentException(&quot;start is greater than end&quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        MaliciousDate start = new MaliciousDate();\n        MaliciousDate end = new MaliciousDate();\n        Period p = new Period(start, end);\n        //...\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2360404,"reputation":379,"user_id":2067197,"accept_rate":58,"display_name":"Kyle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1503,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":29529092,"answer_count":4,"score":6,"last_activity_date":1676027940,"creation_date":1428547539,"question_id":29528850,"body_markdown":"In Effective Java (Chapter 7), it says\r\n&gt;Note also that we did not use Date’s clone method to make the defensive copies. Because Date is nonfinal, the clone method is not guaranteed to return an object whose class is java.util.Date: it could return an instance of an untrusted subclass specifically designed for malicious mischief. Such a subclass could, for example, record a reference to each instance in a private static list at the time of its creation and allow the attacker to access this list. This would give the attacker free reign over all instances. To prevent this sort of attack, do not use the clone method to make a defensive copy of a parameter whose type is subclassable by untrusted parties.\r\n\r\nI don&#39;t quite understand its explanation. Why does clone() not return a Date object? How can the instance be of untrusted subclass?","title":"Why shouldn&#39;t clone() be used for defensive copying?","body":"<p>In Effective Java (Chapter 7), it says</p>\n\n<blockquote>\n  <p>Note also that we did not use Date’s clone method to make the defensive copies. Because Date is nonfinal, the clone method is not guaranteed to return an object whose class is java.util.Date: it could return an instance of an untrusted subclass specifically designed for malicious mischief. Such a subclass could, for example, record a reference to each instance in a private static list at the time of its creation and allow the attacker to access this list. This would give the attacker free reign over all instances. To prevent this sort of attack, do not use the clone method to make a defensive copy of a parameter whose type is subclassable by untrusted parties.</p>\n</blockquote>\n\n<p>I don't quite understand its explanation. Why does clone() not return a Date object? How can the instance be of untrusted subclass?</p>\n"},{"tags":["java","node.js","graalvm"],"answers":[{"comments":[{"owner":{"account_id":24451181,"reputation":7,"user_id":18373413,"display_name":"Ezz"},"score":0,"creation_date":1675921444,"post_id":75394491,"comment_id":133032701,"body_markdown":"nodejs is installed, that&#39;s the problem here","body":"nodejs is installed, that&#39;s the problem here"},{"owner":{"account_id":10162875,"reputation":11,"user_id":7505775,"display_name":"Pratha"},"score":0,"creation_date":1675925965,"post_id":75394491,"comment_id":133033464,"body_markdown":"Did you set the PATH?","body":"Did you set the PATH?"},{"owner":{"account_id":24451181,"reputation":7,"user_id":18373413,"display_name":"Ezz"},"score":0,"creation_date":1675954823,"post_id":75394491,"comment_id":133042369,"body_markdown":"yeah PATH is set","body":"yeah PATH is set"}],"tags":[],"owner":{"account_id":10162875,"reputation":11,"user_id":7505775,"display_name":"Pratha"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675919920,"creation_date":1675919920,"answer_id":75394491,"question_id":75394475,"body_markdown":"The error message indicates that &quot;nodejs&quot; is not installed in the environment.\r\nTry using \r\n\r\n    Context c = Context.create(&quot;js&quot;);","title":"Graalvm not detecting nodejs","body":"<p>The error message indicates that &quot;nodejs&quot; is not installed in the environment.\nTry using</p>\n<pre><code>Context c = Context.create(&quot;js&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3674304,"reputation":927,"user_id":3060725,"accept_rate":67,"display_name":"BoriS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676027670,"creation_date":1676027670,"answer_id":75410368,"question_id":75394475,"body_markdown":"TL;DR; Creating a Context to execute node.js is not supported. You can execute plain JavaScript, but not node.js.\r\n\r\n==\r\n\r\nYou are making a category error here. Let me explain.\r\n\r\nAs stated in the Context javadoc (https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/Context.html)\r\n\r\n\r\n&gt; A polyglot context represents the global runtime state of all installed and permitted **languages**.\r\n\r\nNode.js is not a language. As stated on https://nodejs.org/en/\r\n\r\n&gt; Node.js&#174; is an open-source, cross-platform JavaScript **runtime environment**\r\n\r\nIt&#39;s an environment for executing JavaScript. GraalVM supports node.js as an environment for executing the GraalVM JavaScript Engine. When you install GraalVM node.js as you did, you can run \r\n\r\n```\r\n$GRAALVM_HOME/bin/nodejs -e &#39;console.log(1+1)&#39;\r\n```\r\n\r\nAnd it will happily work. This is because the nodejs executable here is a **runtimne enviroment**  for JavaScript which knows, for example, how to talk to your terminal when you tell it to `console.log`. But if you are running in your JVM application (which is a runtime itself and knows how to talk to your terminal as per our example) creating a Context to execute node.js does not make sense since node.js wants to talk to the terminal directly but in this case it would have to talk to the JVM since it&#39;s the one that talks to the terminal. This is a silly example but it illustrates the point I think.\r\n\r\nWhat you can do though, interestingly, is run your node.js application on GraalVM, call into some Java code that creates a Context with e.g. `ruby` as the language and execute ruby code inside Java code inside the node.js code. This works because the Context API was intentionally designed to be **embeddeable** into other applications and runtimes. This is **not true** for node.js.\r\n\r\n\r\nFinally, to sum up - you cannot create a Context for executing node.js, because Contexts are for **languages** and node.js is a **runtime environment**","title":"Graalvm not detecting nodejs","body":"<p>TL;DR; Creating a Context to execute node.js is not supported. You can execute plain JavaScript, but not node.js.</p>\n<p>==</p>\n<p>You are making a category error here. Let me explain.</p>\n<p>As stated in the Context javadoc (<a href=\"https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/Context.html\" rel=\"nofollow noreferrer\">https://www.graalvm.org/truffle/javadoc/org/graalvm/polyglot/Context.html</a>)</p>\n<blockquote>\n<p>A polyglot context represents the global runtime state of all installed and permitted <strong>languages</strong>.</p>\n</blockquote>\n<p>Node.js is not a language. As stated on <a href=\"https://nodejs.org/en/\" rel=\"nofollow noreferrer\">https://nodejs.org/en/</a></p>\n<blockquote>\n<p>Node.js® is an open-source, cross-platform JavaScript <strong>runtime environment</strong></p>\n</blockquote>\n<p>It's an environment for executing JavaScript. GraalVM supports node.js as an environment for executing the GraalVM JavaScript Engine. When you install GraalVM node.js as you did, you can run</p>\n<pre><code>$GRAALVM_HOME/bin/nodejs -e 'console.log(1+1)'\n</code></pre>\n<p>And it will happily work. This is because the nodejs executable here is a <strong>runtimne enviroment</strong>  for JavaScript which knows, for example, how to talk to your terminal when you tell it to <code>console.log</code>. But if you are running in your JVM application (which is a runtime itself and knows how to talk to your terminal as per our example) creating a Context to execute node.js does not make sense since node.js wants to talk to the terminal directly but in this case it would have to talk to the JVM since it's the one that talks to the terminal. This is a silly example but it illustrates the point I think.</p>\n<p>What you can do though, interestingly, is run your node.js application on GraalVM, call into some Java code that creates a Context with e.g. <code>ruby</code> as the language and execute ruby code inside Java code inside the node.js code. This works because the Context API was intentionally designed to be <strong>embeddeable</strong> into other applications and runtimes. This is <strong>not true</strong> for node.js.</p>\n<p>Finally, to sum up - you cannot create a Context for executing node.js, because Contexts are for <strong>languages</strong> and node.js is a <strong>runtime environment</strong></p>\n"}],"owner":{"account_id":24451181,"reputation":7,"user_id":18373413,"display_name":"Ezz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676027670,"creation_date":1675919681,"question_id":75394475,"body_markdown":"New to graalvm. Trying to run a node module in Intellij\r\n```\r\n        Context c = Context.create(&quot;nodejs&quot;);\r\n\r\n        try {\r\n            File birdJS = new File(PATH);\r\n            c.eval(Source.newBuilder(&quot;nodejs&quot;, birdJS).build());\r\n            Value testFunction = c.getBindings(&quot;nodejs&quot;).getMember(&quot;test&quot;);\r\n            String testResult = testFunction.execute().asString();\r\n            System.out.println(testResult);\r\n            Value callAPIFunction = c.getBindings(&quot;nodejs&quot;).getMember(&quot;callAPI&quot;);\r\n            String callAPIresult = callAPIFunction.execute().asString();\r\n            System.out.println(callAPIresult);\r\n\r\n        } catch (IOException e){\r\n            e.printStackTrace();\r\n        }\r\n```\r\n but im getting this error (stack trace below):\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: A language with id &#39;nodejs&#39; is not installed. Installed languages are: [js].\r\n\tat org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotEngineException.illegalArgument(PolyglotEngineException.java:131)\r\n\tat org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotEngineImpl.throwNotInstalled(PolyglotEngineImpl.java:1109)\r\n\tat org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotEngineImpl.requirePublicLanguage(PolyglotEngineImpl.java:1116)\r\n\tat org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextImpl.requirePublicLanguage(PolyglotContextImpl.java:1491)\r\n\tat org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextImpl.lookupLanguageContext(PolyglotContextImpl.java:1453)\r\n\tat org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextImpl.eval(PolyglotContextImpl.java:1462)\r\n\tat org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextDispatch.eval(PolyglotContextDispatch.java:63)\r\n\tat org.graalvm.sdk/org.graalvm.polyglot.Context.eval(Context.java:399)\r\n```\r\n\r\nBefore I changed it from a JavaScript file to a node module the code ran and returned as expected\r\n\r\nNode is definitely installed in graalvm, I can interact with it on the command line and when I check using gu list its there (version 22.3.1) along with js","title":"Graalvm not detecting nodejs","body":"<p>New to graalvm. Trying to run a node module in Intellij</p>\n<pre><code>        Context c = Context.create(&quot;nodejs&quot;);\n\n        try {\n            File birdJS = new File(PATH);\n            c.eval(Source.newBuilder(&quot;nodejs&quot;, birdJS).build());\n            Value testFunction = c.getBindings(&quot;nodejs&quot;).getMember(&quot;test&quot;);\n            String testResult = testFunction.execute().asString();\n            System.out.println(testResult);\n            Value callAPIFunction = c.getBindings(&quot;nodejs&quot;).getMember(&quot;callAPI&quot;);\n            String callAPIresult = callAPIFunction.execute().asString();\n            System.out.println(callAPIresult);\n\n        } catch (IOException e){\n            e.printStackTrace();\n        }\n</code></pre>\n<p>but im getting this error (stack trace below):</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: A language with id 'nodejs' is not installed. Installed languages are: [js].\n    at org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotEngineException.illegalArgument(PolyglotEngineException.java:131)\n    at org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotEngineImpl.throwNotInstalled(PolyglotEngineImpl.java:1109)\n    at org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotEngineImpl.requirePublicLanguage(PolyglotEngineImpl.java:1116)\n    at org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextImpl.requirePublicLanguage(PolyglotContextImpl.java:1491)\n    at org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextImpl.lookupLanguageContext(PolyglotContextImpl.java:1453)\n    at org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextImpl.eval(PolyglotContextImpl.java:1462)\n    at org.graalvm.truffle/com.oracle.truffle.polyglot.PolyglotContextDispatch.eval(PolyglotContextDispatch.java:63)\n    at org.graalvm.sdk/org.graalvm.polyglot.Context.eval(Context.java:399)\n</code></pre>\n<p>Before I changed it from a JavaScript file to a node module the code ran and returned as expected</p>\n<p>Node is definitely installed in graalvm, I can interact with it on the command line and when I check using gu list its there (version 22.3.1) along with js</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"owner":{"account_id":1193173,"reputation":4237,"user_id":1165499,"accept_rate":76,"display_name":"ashur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676027498,"creation_date":1676027498,"question_id":75410333,"body_markdown":"We&#39;ve deployed our `kafka-streams` application on real environment and observing metrics provided by the lib itself we noticed some weird peaks and drops.\r\n\r\nIs there any simple way to find why is it behaving in such way?\r\n\r\nI can&#39;t see any errors or problems in logs.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0pOPr.png","title":"Peaking and dropping end to end (E2E) latency for kafka streams app","body":"<p>We've deployed our <code>kafka-streams</code> application on real environment and observing metrics provided by the lib itself we noticed some weird peaks and drops.</p>\n<p>Is there any simple way to find why is it behaving in such way?</p>\n<p>I can't see any errors or problems in logs.</p>\n<p><a href=\"https://i.stack.imgur.com/0pOPr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0pOPr.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gradle","processbuilder","gradlew"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1675961634,"post_id":75401810,"comment_id":133044963,"body_markdown":"You aren&#39;t reading the `Process`&#39;s error stream, which may be why you don&#39;t see any error but also don&#39;t see any expected output. You can do `pb.redirectErrorStream()` to redirect the process&#39;s error stream to its output stream. What do you see if you do that?","body":"You aren&#39;t reading the <code>Process</code>&#39;s error stream, which may be why you don&#39;t see any error but also don&#39;t see any expected output. You can do <code>pb.redirectErrorStream()</code> to redirect the process&#39;s error stream to its output stream. What do you see if you do that?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1675961793,"post_id":75401810,"comment_id":133045015,"body_markdown":"You may also want to check out the [Gradle Tooling API](https://docs.gradle.org/current/userguide/third_party_integration.html#embedding).","body":"You may also want to check out the <a href=\"https://docs.gradle.org/current/userguide/third_party_integration.html#embedding\" rel=\"nofollow noreferrer\">Gradle Tooling API</a>."},{"owner":{"account_id":27746258,"reputation":21,"user_id":21181692,"display_name":"jade"},"score":0,"creation_date":1676026388,"post_id":75401810,"comment_id":133058712,"body_markdown":"Once I had redirected the error stream, I realised it wasn&#39;t passing `--arg=&quot;argy&quot;`, just `&quot;argy&quot;`. \nSo I added \n`String myArgVar = &quot;argy&quot;;`, \n`String myArg = String.format(&quot;--args=\\&quot; %s&quot;, myArgVar);` and myArg instead of &quot;argy&quot; in the `processBuilder` section and it worked. Alas it only takes String arguments as user16320675 pointed out so I&#39;m now wading around the Gradle Tooling API, thanks Slaw! I think that&#39;s more what I was looking for.","body":"Once I had redirected the error stream, I realised it wasn&#39;t passing <code>--arg=&quot;argy&quot;</code>, just <code>&quot;argy&quot;</code>.  So I added  <code>String myArgVar = &quot;argy&quot;;</code>,  <code>String myArg = String.format(&quot;--args=\\&quot; %s&quot;, myArgVar);</code> and myArg instead of &quot;argy&quot; in the <code>processBuilder</code> section and it worked. Alas it only takes String arguments as user16320675 pointed out so I&#39;m now wading around the Gradle Tooling API, thanks Slaw! I think that&#39;s more what I was looking for."}],"answers":[{"tags":[],"owner":{"account_id":27746258,"reputation":21,"user_id":21181692,"display_name":"jade"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676027347,"creation_date":1676027347,"answer_id":75410299,"question_id":75401810,"body_markdown":"After placing `pb.redirectErrorStream(true)`; before `pb.start()`, it became clear that I was passing &quot;argy&quot; as a command not an argument.\r\nTo run gradle, you need the command `./gradlew run --args=&quot;string_args&quot;` so I edited it to:\r\n\r\n```\r\n\r\n        String argy= &quot;argybargy\\&quot;&quot;;\r\n        String myArg = String.format(&quot;--args=\\&quot; %s&quot;, argy);\r\n\r\n\r\n        try {\r\n            String lines = null;\r\n\r\n            ProcessBuilder pb = new ProcessBuilder(&quot;./gradlew&quot;, &quot;run&quot;, myArg);\r\n\r\n            pb.redirectErrorStream(true);\r\n            Process pr = pb.start();\r\n            System.out.println(&quot;Processbuilder run&quot;);\r\n\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(pr.getInputStream()));\r\n            while ((lines = reader.readLine())!=null) {\r\n                System.out.println(&quot;Line: &quot; + lines);\r\n            } \r\n            \r\n\r\n        }\r\n        catch (IOException e)\r\n        { \r\n            System.out.print(&quot;error&quot;);\r\n            e.printStackTrace();\r\n        }\r\n```\r\n\r\nWhich now runs, passes the argument correctly, and redirects any errors to the terminal. Many thanks for all the help.","title":"Can&#39;t call Gradle with arguments from a java app using Process Builder, build fails","body":"<p>After placing <code>pb.redirectErrorStream(true)</code>; before <code>pb.start()</code>, it became clear that I was passing &quot;argy&quot; as a command not an argument.\nTo run gradle, you need the command <code>./gradlew run --args=&quot;string_args&quot;</code> so I edited it to:</p>\n<pre><code>\n        String argy= &quot;argybargy\\&quot;&quot;;\n        String myArg = String.format(&quot;--args=\\&quot; %s&quot;, argy);\n\n\n        try {\n            String lines = null;\n\n            ProcessBuilder pb = new ProcessBuilder(&quot;./gradlew&quot;, &quot;run&quot;, myArg);\n\n            pb.redirectErrorStream(true);\n            Process pr = pb.start();\n            System.out.println(&quot;Processbuilder run&quot;);\n\n            BufferedReader reader = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n            while ((lines = reader.readLine())!=null) {\n                System.out.println(&quot;Line: &quot; + lines);\n            } \n            \n\n        }\n        catch (IOException e)\n        { \n            System.out.print(&quot;error&quot;);\n            e.printStackTrace();\n        }\n</code></pre>\n<p>Which now runs, passes the argument correctly, and redirects any errors to the terminal. Many thanks for all the help.</p>\n"}],"owner":{"account_id":27746258,"reputation":21,"user_id":21181692,"display_name":"jade"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":188,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676027347,"creation_date":1675961117,"question_id":75401810,"body_markdown":"I&#39;m trying to call a Gradle app from a separate java app, on Linux. I&#39;m using ProcessBuilder, which calls the Gradle app no problem when not passing an argument, and the Gradle app builds. But when I include an argument, it doesn&#39;t appear to run Gradle at all, but doesn&#39;t give an error, and still prints `Processbuilder run` to the Terminal.\r\n\r\nThis is in the main method:\r\n\r\n```\r\n        String cmd = &quot;./gradlew&quot;;\r\n\r\n        try {\r\n            String lines = null;\r\n\r\n            //This works but doesn&#39;t send an argument:\r\n            //ProcessBuilder pb = new ProcessBuilder(cmd, &quot;run&quot;); \r\n\r\n            //won&#39;t run with an argument!\r\n            ProcessBuilder pb = new ProcessBuilder(cmd, &quot;run&quot;, &quot;argy&quot;); \r\n\r\n            Process pr = pb.start();\r\n\r\n            System.out.println(&quot;Processbuilder run&quot;);\r\n\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(pr.getInputStream()));\r\n            while ((lines = reader.readLine())!=null) {\r\n                System.out.println(&quot;Line: &quot; + lines);\r\n            }\r\n            \r\n\r\n        }\r\n        catch (IOException e)\r\n        { \r\n            System.out.print(&quot;error&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    \r\n\r\n    }\r\n```\r\n\r\nTerminal output when run ProcessBuilder without `argy` :\r\n\r\n```\r\n    Processbuilder run\r\n    Line: &gt; Task :app:compileJava\r\n    Line: &gt; Task :app:processResources\r\n    Line: &gt; Task :app:classes\r\n    Line: \r\n    Line: &gt; Task :app:run\r\n    Line: \r\n    Line: BUILD SUCCESSFUL in 1s\r\n    Line: 3 actionable tasks: 3 executed\r\n`\r\n```\r\n\r\n\r\nTerminal output when run ProcessBuilder with `argy` :\r\n``` \r\n    Processbuilder run\r\n```\r\n\r\nI need to pass java objects through so I can&#39;t use `Runtime.getRuntime().exec()` as it only passes through a string as an argument.\r\n\r\nHow can I get ProcessBuilder to supply the argument to Gradle and have it run? Or is there some other way of calling a Gradle app from a totally separate java package?\r\n\r\n\r\n","title":"Can&#39;t call Gradle with arguments from a java app using Process Builder, build fails","body":"<p>I'm trying to call a Gradle app from a separate java app, on Linux. I'm using ProcessBuilder, which calls the Gradle app no problem when not passing an argument, and the Gradle app builds. But when I include an argument, it doesn't appear to run Gradle at all, but doesn't give an error, and still prints <code>Processbuilder run</code> to the Terminal.</p>\n<p>This is in the main method:</p>\n<pre><code>        String cmd = &quot;./gradlew&quot;;\n\n        try {\n            String lines = null;\n\n            //This works but doesn't send an argument:\n            //ProcessBuilder pb = new ProcessBuilder(cmd, &quot;run&quot;); \n\n            //won't run with an argument!\n            ProcessBuilder pb = new ProcessBuilder(cmd, &quot;run&quot;, &quot;argy&quot;); \n\n            Process pr = pb.start();\n\n            System.out.println(&quot;Processbuilder run&quot;);\n\n            BufferedReader reader = new BufferedReader(new InputStreamReader(pr.getInputStream()));\n            while ((lines = reader.readLine())!=null) {\n                System.out.println(&quot;Line: &quot; + lines);\n            }\n            \n\n        }\n        catch (IOException e)\n        { \n            System.out.print(&quot;error&quot;);\n            e.printStackTrace();\n        }\n    \n\n    }\n</code></pre>\n<p>Terminal output when run ProcessBuilder without <code>argy</code> :</p>\n<pre><code>    Processbuilder run\n    Line: &gt; Task :app:compileJava\n    Line: &gt; Task :app:processResources\n    Line: &gt; Task :app:classes\n    Line: \n    Line: &gt; Task :app:run\n    Line: \n    Line: BUILD SUCCESSFUL in 1s\n    Line: 3 actionable tasks: 3 executed\n`\n</code></pre>\n<p>Terminal output when run ProcessBuilder with <code>argy</code> :</p>\n<pre><code>    Processbuilder run\n</code></pre>\n<p>I need to pass java objects through so I can't use <code>Runtime.getRuntime().exec()</code> as it only passes through a string as an argument.</p>\n<p>How can I get ProcessBuilder to supply the argument to Gradle and have it run? Or is there some other way of calling a Gradle app from a totally separate java package?</p>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":5485279,"reputation":469,"user_id":4360272,"accept_rate":46,"display_name":"KurdTt-"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676027221,"creation_date":1676027221,"question_id":75410274,"body_markdown":"I&#39;ve got old Android project in Java and I want to extend it with new API from Kotlin. The problem is, when I call more than one suspend function in project, it loses execution point. When suspend function calls another one, it does not return any value, but cuts off all code execution. I ran debugger with &quot;Suspend: All&quot; and still nothing.\r\n\r\nIn my `AuthAPI.java` file I&#39;ve got class with function (for now I&#39;ve removed callbacks):\r\n\r\n```\r\n    public void login(AuthType authType, String password) {\r\n        kotlinBackendApi.login(new AuthData(AuthType.PIN, password));\r\n    }\r\n```\r\n\r\nIn `KotlinBackendApi.kt` I&#39;ve created simply `Main` coroutine scope with launch method, that&#39;s my adapter for API:\r\n\r\n```\r\nprivate val scope = CoroutineScope(Job() + Dispatchers.Main)\r\n\r\nfun login(authData: AuthData) {\r\n        scope.launch() {\r\n            authenticator.authenticate(authData)\r\n        }\r\n    }\r\n```\r\n\r\nAuthenticator contains suspend function `authenticate`, that firstly call for JWT Token:\r\n\r\n```\r\noverride suspend fun authenticate(authData: AuthData) {\r\n        withContext(dispatcher) {\r\n            val orgAuthToken = getOrganizationToken()\r\n            // Other stuff\r\n            }\r\n        }\r\n```\r\n\r\nLater, `getOrganizationToken` is another suspend function:\r\n\r\n```\r\n    private suspend fun getOrganizationToken(): String {\r\n        return tokenJwtApi.getOrganizationToken()\r\n    }\r\n```\r\n\r\nIt breaks on line `return tokenJwtApi.getOrganizationToken()`. *It does not return any value*, like it seems to change coroutine to another one with scope UI, loosing conext in the meantime. Application hangs.","title":"Call Kotlin suspend function via Kotlin class in Java without freeze","body":"<p>I've got old Android project in Java and I want to extend it with new API from Kotlin. The problem is, when I call more than one suspend function in project, it loses execution point. When suspend function calls another one, it does not return any value, but cuts off all code execution. I ran debugger with &quot;Suspend: All&quot; and still nothing.</p>\n<p>In my <code>AuthAPI.java</code> file I've got class with function (for now I've removed callbacks):</p>\n<pre><code>    public void login(AuthType authType, String password) {\n        kotlinBackendApi.login(new AuthData(AuthType.PIN, password));\n    }\n</code></pre>\n<p>In <code>KotlinBackendApi.kt</code> I've created simply <code>Main</code> coroutine scope with launch method, that's my adapter for API:</p>\n<pre><code>private val scope = CoroutineScope(Job() + Dispatchers.Main)\n\nfun login(authData: AuthData) {\n        scope.launch() {\n            authenticator.authenticate(authData)\n        }\n    }\n</code></pre>\n<p>Authenticator contains suspend function <code>authenticate</code>, that firstly call for JWT Token:</p>\n<pre><code>override suspend fun authenticate(authData: AuthData) {\n        withContext(dispatcher) {\n            val orgAuthToken = getOrganizationToken()\n            // Other stuff\n            }\n        }\n</code></pre>\n<p>Later, <code>getOrganizationToken</code> is another suspend function:</p>\n<pre><code>    private suspend fun getOrganizationToken(): String {\n        return tokenJwtApi.getOrganizationToken()\n    }\n</code></pre>\n<p>It breaks on line <code>return tokenJwtApi.getOrganizationToken()</code>. <em>It does not return any value</em>, like it seems to change coroutine to another one with scope UI, loosing conext in the meantime. Application hangs.</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-webflux","exponential-backoff"],"owner":{"account_id":15213774,"reputation":396,"user_id":10977681,"display_name":"Tom Carmi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1676026652,"creation_date":1675710935,"question_id":75365636,"body_markdown":"I have a `Kafka` consumer written in `Java` and `SpringBoot`.\r\nI am using `WebFlux` in order to make a call to trigger some actions on a third party server (and waiting the result of course).\r\nThis server has rate limit that is limiting me from making a lot of requests in a short time.\r\nIn order to prevent failures I intend to keep on trying calling the server using `WebFlux backoff`:\r\n```\r\nwebClientBuilder.build()\r\n.get()\r\n...\r\n.retryWhen(getRetryPolicyOnTooManyRequests())\r\n...\r\n\r\nprivate RetryBackoffSpec getRetryPolicyOnTooManyRequests() {\r\n    return Retry.backoff(20, Duration.ofSeconds(retryBackoffMinimumSeconds))\r\n        .filter(this::is429Error);\r\n}\r\n\r\nprivate boolean is429Error(Throwable throwable) {\r\n    return throwable instanceof WebClientResponseException\r\n        &amp;&amp; ((WebClientResponseException) throwable).getStatusCode() == HttpStatus.TOO_MANY_REQUESTS;\r\n}\r\n\r\n```\r\nMy questions are about the behavior I should expect from my kafka:\r\n\r\n 1. What will happen when I&#39;ll be `backoff`ing one of my calls? Will I be blocking the thread? Will a new thread be opened to process another message?\r\n 2. If I got the default consumer configurations (`max.poll.records`=500, `max.poll.interval.ms`=30000) and my backoff time will get to 5 minutes will the kafka group be rebalanced? \r\n 3. If so, is there a smarter way to tackle this issue so I won&#39;t get rebalanced\r\n    each time, other than just putting a super high number in `max.poll.interval.ms`\r\n\r\n","title":"WebFlux backoff and multi-threading in a kafka consumer flow","body":"<p>I have a <code>Kafka</code> consumer written in <code>Java</code> and <code>SpringBoot</code>.\nI am using <code>WebFlux</code> in order to make a call to trigger some actions on a third party server (and waiting the result of course).\nThis server has rate limit that is limiting me from making a lot of requests in a short time.\nIn order to prevent failures I intend to keep on trying calling the server using <code>WebFlux backoff</code>:</p>\n<pre><code>webClientBuilder.build()\n.get()\n...\n.retryWhen(getRetryPolicyOnTooManyRequests())\n...\n\nprivate RetryBackoffSpec getRetryPolicyOnTooManyRequests() {\n    return Retry.backoff(20, Duration.ofSeconds(retryBackoffMinimumSeconds))\n        .filter(this::is429Error);\n}\n\nprivate boolean is429Error(Throwable throwable) {\n    return throwable instanceof WebClientResponseException\n        &amp;&amp; ((WebClientResponseException) throwable).getStatusCode() == HttpStatus.TOO_MANY_REQUESTS;\n}\n\n</code></pre>\n<p>My questions are about the behavior I should expect from my kafka:</p>\n<ol>\n<li>What will happen when I'll be <code>backoff</code>ing one of my calls? Will I be blocking the thread? Will a new thread be opened to process another message?</li>\n<li>If I got the default consumer configurations (<code>max.poll.records</code>=500, <code>max.poll.interval.ms</code>=30000) and my backoff time will get to 5 minutes will the kafka group be rebalanced?</li>\n<li>If so, is there a smarter way to tackle this issue so I won't get rebalanced\neach time, other than just putting a super high number in <code>max.poll.interval.ms</code></li>\n</ol>\n"},{"tags":["java","angular","algorithm","aes","cbc-mode"],"answers":[{"tags":[],"owner":{"account_id":19185283,"reputation":41,"user_id":14016187,"display_name":"Antoine Dargouge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676022693,"creation_date":1676022693,"answer_id":75409381,"question_id":75408841,"body_markdown":"I finaly find a post who sayd they pkcs5 in java are the same as pkcs7 in angular\r\n--&gt;padding (128)\r\n\r\nsource:\r\nhttps://crypto.stackexchange.com/questions/9043/what-is-the-difference-between-pkcs5-padding-and-pkcs7-padding\r\n","title":"AES CBC algorithm/padding in java/angular","body":"<p>I finaly find a post who sayd they pkcs5 in java are the same as pkcs7 in angular\n--&gt;padding (128)</p>\n<p>source:\n<a href=\"https://crypto.stackexchange.com/questions/9043/what-is-the-difference-between-pkcs5-padding-and-pkcs7-padding\">https://crypto.stackexchange.com/questions/9043/what-is-the-difference-between-pkcs5-padding-and-pkcs7-padding</a></p>\n"},{"tags":[],"owner":{"account_id":26534196,"reputation":36,"user_id":20165976,"display_name":"Manali Lakhani"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676026593,"creation_date":1676026593,"answer_id":75410149,"question_id":75408841,"body_markdown":"As per your code seems like, There is a issue with your PBEKeySpec and key length specification. \r\n**JAVA**: you must need to use &quot;AES/CBC/PKCS5Padding&quot; instead of &quot;AES/CBC/PKCS7Padding&quot;\r\n**Angular**: Make changes on key length and PBEKeySpec\r\n  let encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(&quot;hasan test&quot;), key,\r\n  {\r\n      keySize: 16,\r\n      iv: iv,\r\n      mode: CryptoJS.mode.CBC,\r\n      padding: CryptoJS.pad.Pkcs7\r\n  }).toString();\r\n","title":"AES CBC algorithm/padding in java/angular","body":"<p>As per your code seems like, There is a issue with your PBEKeySpec and key length specification.\n<strong>JAVA</strong>: you must need to use &quot;AES/CBC/PKCS5Padding&quot; instead of &quot;AES/CBC/PKCS7Padding&quot;\n<strong>Angular</strong>: Make changes on key length and PBEKeySpec\nlet encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(&quot;hasan test&quot;), key,\n{\nkeySize: 16,\niv: iv,\nmode: CryptoJS.mode.CBC,\npadding: CryptoJS.pad.Pkcs7\n}).toString();</p>\n"}],"owner":{"account_id":19185283,"reputation":41,"user_id":14016187,"display_name":"Antoine Dargouge"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":163,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75410149,"answer_count":2,"score":2,"last_activity_date":1676026593,"creation_date":1676019388,"question_id":75408841,"body_markdown":"I have written this code in Angular to encrypt a string:\r\n\r\n\r\n    import { Injectable } from &#39;@angular/core&#39;;\r\n    import * as CryptoJS from &#39;crypto-js&#39;;\r\n    \r\n    @Injectable({\r\n        providedIn: &#39;root&#39;,\r\n      })\r\n    export class CryptoService {\r\n      \r\n      encrypt(message: string, clef: string): string {\r\n    \r\n        const salt = CryptoJS.SHA256(&quot;123456789123&quot;);\r\n    \r\n        const key = CryptoJS.PBKDF2(clef, salt, {\r\n          keySize: 128 / 32,\r\n          iterations: 1000\r\n      });\r\n    \r\n        // var key = CryptoJS.enc.Utf8.parse(clef);\r\n        let iv = CryptoJS.enc.Utf8.parse(clef);\r\n        let encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(message.toString()), key,\r\n        {\r\n            keySize: 128 / 8,\r\n            iv: iv,\r\n            mode: CryptoJS.mode.CBC,\r\n            padding: CryptoJS.pad.Pkcs7\r\n        });\r\n    \r\n    \r\n        // var encryptedMessage = CryptoJS.AES.encrypt(message.trim(), key).toString();\r\n    \r\n        return encrypted.toString();\r\n      }\r\n    \r\n      generateKey(): string {\r\n          let result = &#39;&#39;;\r\n          const characters = &#39;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789&#39;;\r\n          const charactersLength = characters.length;\r\n          let counter = 0;\r\n          while (counter &lt; 16) {\r\n          result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n          counter += 1;\r\n          }\r\n          return result;\r\n      }\r\n    }\r\n\r\nI transfer my key and encriptedMessage to the back for the decryption.\r\n\r\nI code dat on java:\r\n\r\n    import java.security.InvalidAlgorithmParameterException;\r\n    import java.security.InvalidKeyException;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.KeySpec;\r\n    import java.util.Base64;\r\n    \r\n    import javax.crypto.BadPaddingException;\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.IllegalBlockSizeException;\r\n    import javax.crypto.NoSuchPaddingException;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.IvParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    \r\n    public class AESUtilService {\r\n    \t\r\n    \tprotected static final String salt = &quot;123456789123&quot;;\r\n    \t\r\n    \tpublic SecretKey getKeyFromPassword(String password)\r\n    \t\tthrows NoSuchAlgorithmException, InvalidKeySpecException {\r\n    \t    \r\n    \t    SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\r\n    \t    KeySpec spec = new PBEKeySpec(password.toCharArray(), salt.getBytes(), 1000, 128/32);\r\n    \t    SecretKey secret = factory.generateSecret(spec);\r\n    \t    return secret;\r\n    \t}\r\n        public String decrypt(String cipherText, SecretKey key)\r\n    \t\tthrows NoSuchPaddingException, NoSuchAlgorithmException,\r\n    \t\tInvalidAlgorithmParameterException, InvalidKeyException,\r\n    \t\tBadPaddingException, IllegalBlockSizeException {\r\n    \t\t    \r\n    \t\tString algorithm = &quot;AES/CBC/PKCS7Padding&quot;;\r\n    \t\tIvParameterSpec iv = new IvParameterSpec(&quot;MnTQLHcWumIKTXpQ&quot;.getBytes());\r\n    \t\t\r\n    \t\tCipher cipher = Cipher.getInstance(algorithm);\r\n    \t\tcipher.init(Cipher.DECRYPT_MODE, key, iv);\r\n    \t\tbyte[] plainText = cipher.doFinal(Base64.getDecoder().decode(cipherText));\r\n    \t\treturn new String(plainText);\r\n    \t}\r\n    \t\r\n    }\r\n\r\nMy issue is the following.\r\nThe part of the code `Cipher cipher = Cipher.getInstance(algorithm);` crashes in java, if I use `String algorithm = &quot;AES/CBC/PKCS7Padding&quot;;`\r\nHowever it would pass with `String algorithm = &quot;AES/CBC/PKCS5Padding&quot;;`, but this time it&#39;s angular that would crash. **padding: CryptoJS.pad.Pkcs5**\r\n\r\nI can&#39;t find a solution for this problem, and that&#39;s why I ask for your help.\r\n","title":"AES CBC algorithm/padding in java/angular","body":"<p>I have written this code in Angular to encrypt a string:</p>\n<pre><code>import { Injectable } from '@angular/core';\nimport * as CryptoJS from 'crypto-js';\n\n@Injectable({\n    providedIn: 'root',\n  })\nexport class CryptoService {\n  \n  encrypt(message: string, clef: string): string {\n\n    const salt = CryptoJS.SHA256(&quot;123456789123&quot;);\n\n    const key = CryptoJS.PBKDF2(clef, salt, {\n      keySize: 128 / 32,\n      iterations: 1000\n  });\n\n    // var key = CryptoJS.enc.Utf8.parse(clef);\n    let iv = CryptoJS.enc.Utf8.parse(clef);\n    let encrypted = CryptoJS.AES.encrypt(CryptoJS.enc.Utf8.parse(message.toString()), key,\n    {\n        keySize: 128 / 8,\n        iv: iv,\n        mode: CryptoJS.mode.CBC,\n        padding: CryptoJS.pad.Pkcs7\n    });\n\n\n    // var encryptedMessage = CryptoJS.AES.encrypt(message.trim(), key).toString();\n\n    return encrypted.toString();\n  }\n\n  generateKey(): string {\n      let result = '';\n      const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n      const charactersLength = characters.length;\n      let counter = 0;\n      while (counter &lt; 16) {\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\n      counter += 1;\n      }\n      return result;\n  }\n}\n</code></pre>\n<p>I transfer my key and encriptedMessage to the back for the decryption.</p>\n<p>I code dat on java:</p>\n<pre><code>import java.security.InvalidAlgorithmParameterException;\nimport java.security.InvalidKeyException;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Base64;\n\nimport javax.crypto.BadPaddingException;\nimport javax.crypto.Cipher;\nimport javax.crypto.IllegalBlockSizeException;\nimport javax.crypto.NoSuchPaddingException;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.IvParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\n\npublic class AESUtilService {\n    \n    protected static final String salt = &quot;123456789123&quot;;\n    \n    public SecretKey getKeyFromPassword(String password)\n        throws NoSuchAlgorithmException, InvalidKeySpecException {\n        \n        SecretKeyFactory factory = SecretKeyFactory.getInstance(&quot;PBKDF2WithHmacSHA256&quot;);\n        KeySpec spec = new PBEKeySpec(password.toCharArray(), salt.getBytes(), 1000, 128/32);\n        SecretKey secret = factory.generateSecret(spec);\n        return secret;\n    }\n    public String decrypt(String cipherText, SecretKey key)\n        throws NoSuchPaddingException, NoSuchAlgorithmException,\n        InvalidAlgorithmParameterException, InvalidKeyException,\n        BadPaddingException, IllegalBlockSizeException {\n            \n        String algorithm = &quot;AES/CBC/PKCS7Padding&quot;;\n        IvParameterSpec iv = new IvParameterSpec(&quot;MnTQLHcWumIKTXpQ&quot;.getBytes());\n        \n        Cipher cipher = Cipher.getInstance(algorithm);\n        cipher.init(Cipher.DECRYPT_MODE, key, iv);\n        byte[] plainText = cipher.doFinal(Base64.getDecoder().decode(cipherText));\n        return new String(plainText);\n    }\n    \n}\n</code></pre>\n<p>My issue is the following.\nThe part of the code <code>Cipher cipher = Cipher.getInstance(algorithm);</code> crashes in java, if I use <code>String algorithm = &quot;AES/CBC/PKCS7Padding&quot;;</code>\nHowever it would pass with <code>String algorithm = &quot;AES/CBC/PKCS5Padding&quot;;</code>, but this time it's angular that would crash. <strong>padding: CryptoJS.pad.Pkcs5</strong></p>\n<p>I can't find a solution for this problem, and that's why I ask for your help.</p>\n"},{"tags":["java","microsoft-graph-api"],"answers":[{"tags":[],"owner":{"account_id":8070277,"reputation":911,"user_id":6083277,"display_name":"Romeo Sheshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660907148,"creation_date":1660907148,"answer_id":73415810,"question_id":73415368,"body_markdown":"Seems that the example may be an old example, actually you can use a different method based on the object you want instead of `members()` the `membersAsUser()`  actually the memberAsUser add the path microsoft.graph.user like this way \r\n\r\n    //microsoft ghraph source code\r\n    @Nonnull\r\n    public UserCollectionRequestBuilder membersAsUser() {\r\n        return new UserCollectionRequestBuilder(getRequestUrlWithAdditionalSegment(&quot;members&quot;) + &quot;/microsoft.graph.user&quot;, getClient(), null);\r\n    }\r\n\r\nso the example with be like this way \r\n   \r\n\r\n    UserCollectionPage user = graphClient.groups(&quot;{id}&quot;).membersAsUser()\r\n                    .buildRequest( requestOptions )\r\n                    .select(&quot;displayName,id&quot;)\r\n                    .orderBy(&quot;displayName&quot;)\r\n                    .get();","title":"Microsoft Graph API fetch user collection from Group members using java","body":"<p>Seems that the example may be an old example, actually you can use a different method based on the object you want instead of <code>members()</code> the <code>membersAsUser()</code>  actually the memberAsUser add the path microsoft.graph.user like this way</p>\n<pre><code>//microsoft ghraph source code\n@Nonnull\npublic UserCollectionRequestBuilder membersAsUser() {\n    return new UserCollectionRequestBuilder(getRequestUrlWithAdditionalSegment(&quot;members&quot;) + &quot;/microsoft.graph.user&quot;, getClient(), null);\n}\n</code></pre>\n<p>so the example with be like this way</p>\n<pre><code>UserCollectionPage user = graphClient.groups(&quot;{id}&quot;).membersAsUser()\n                .buildRequest( requestOptions )\n                .select(&quot;displayName,id&quot;)\n                .orderBy(&quot;displayName&quot;)\n                .get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":314096,"reputation":335,"user_id":629096,"display_name":"stephen ebichondo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676026163,"creation_date":1676026163,"answer_id":75410066,"question_id":73415368,"body_markdown":"I had a similar issue with the groups endpoint \r\n\r\n    GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n    \r\n    LinkedList&lt;Option&gt; requestOptions = new LinkedList&lt;Option&gt;();\r\n    requestOptions.add(new HeaderOption(&quot;ConsistencyLevel&quot;, &quot;eventual&quot;));\r\n    GroupCollectionPage group = graphClient.users({id}).memberOf().microsoft.graph.group()\r\n\t.buildRequest( requestOptions )\r\n\t.filter(&quot;startswith(displayName, &#39;in&#39;)&quot;)\r\n\t.orderBy(&quot;displayName&quot;)\r\n\t.get();\r\n\r\nI had to work around it since .microsoft() method does not exist and isn&#39;t resolving to anything. \r\n\r\n      final GroupCollectionPage userGroups = _appClient.users({id})\r\n                .memberOfAsGroup()\r\n                .buildRequest(requestOptions)\r\n                .select(&quot;displayName,id,mail&quot;)\r\n                .filter(&quot;startswith(displayName, &#39;c&#39;)&quot;)\r\n                .orderBy(&quot;displayName&quot;)\r\n                .get();\r\n\r\n\r\n\r\n","title":"Microsoft Graph API fetch user collection from Group members using java","body":"<p>I had a similar issue with the groups endpoint</p>\n<pre><code>GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nLinkedList&lt;Option&gt; requestOptions = new LinkedList&lt;Option&gt;();\nrequestOptions.add(new HeaderOption(&quot;ConsistencyLevel&quot;, &quot;eventual&quot;));\nGroupCollectionPage group = graphClient.users({id}).memberOf().microsoft.graph.group()\n.buildRequest( requestOptions )\n.filter(&quot;startswith(displayName, 'in')&quot;)\n.orderBy(&quot;displayName&quot;)\n.get();\n</code></pre>\n<p>I had to work around it since .microsoft() method does not exist and isn't resolving to anything.</p>\n<pre><code>  final GroupCollectionPage userGroups = _appClient.users({id})\n            .memberOfAsGroup()\n            .buildRequest(requestOptions)\n            .select(&quot;displayName,id,mail&quot;)\n            .filter(&quot;startswith(displayName, 'c')&quot;)\n            .orderBy(&quot;displayName&quot;)\n            .get();\n</code></pre>\n"}],"owner":{"account_id":5568337,"reputation":614,"user_id":4414667,"display_name":"Ahmet Eroğlu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":734,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676026163,"creation_date":1660904941,"question_id":73415368,"body_markdown":"I need to fetch the users from a group with certain ID. For this one there is a code snippet in the official documentation.\r\n\r\n\r\nhttps://learn.microsoft.com/en-us/graph/api/group-list-members?view=graph-rest-1.0&amp;tabs=java\r\n\r\n        GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n    \r\n    LinkedList&lt;Option&gt; requestOptions = new LinkedList&lt;Option&gt;();\r\n    requestOptions.add(new HeaderOption(&quot;ConsistencyLevel&quot;, &quot;eventual&quot;));\r\n    requestOptions.add(new QueryOption(&quot;$search&quot;, &quot;displayName:Pr&quot;));\r\n    \r\n    UserCollectionPage user = graphClient.groups(&quot;{id}&quot;).members().microsoft.graph.user()\r\n    \t.buildRequest( requestOptions )\r\n    \t.select(&quot;displayName,id&quot;)\r\n    \t.orderBy(&quot;displayName&quot;)\r\n    \t.get();\r\n\r\nAs can be seen from the above sample given, there is a chain call after members(). method, however although I use the latest version from maven central repository, .microsoft() method does not exist and isn&#39;t resolving to anything.\r\nIf I use members().buildRequest().get() then it brings me an another directory instance but not the usercollectionpage list. How can i fix this problem?","title":"Microsoft Graph API fetch user collection from Group members using java","body":"<p>I need to fetch the users from a group with certain ID. For this one there is a code snippet in the official documentation.</p>\n<p><a href=\"https://learn.microsoft.com/en-us/graph/api/group-list-members?view=graph-rest-1.0&amp;tabs=java\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/graph/api/group-list-members?view=graph-rest-1.0&amp;tabs=java</a></p>\n<pre><code>    GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nLinkedList&lt;Option&gt; requestOptions = new LinkedList&lt;Option&gt;();\nrequestOptions.add(new HeaderOption(&quot;ConsistencyLevel&quot;, &quot;eventual&quot;));\nrequestOptions.add(new QueryOption(&quot;$search&quot;, &quot;displayName:Pr&quot;));\n\nUserCollectionPage user = graphClient.groups(&quot;{id}&quot;).members().microsoft.graph.user()\n    .buildRequest( requestOptions )\n    .select(&quot;displayName,id&quot;)\n    .orderBy(&quot;displayName&quot;)\n    .get();\n</code></pre>\n<p>As can be seen from the above sample given, there is a chain call after members(). method, however although I use the latest version from maven central repository, .microsoft() method does not exist and isn't resolving to anything.\nIf I use members().buildRequest().get() then it brings me an another directory instance but not the usercollectionpage list. How can i fix this problem?</p>\n"},{"tags":["java","maven","maven-plugin","dependency-management"],"owner":{"account_id":27642790,"reputation":1,"user_id":21099385,"display_name":"silspi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676026071,"creation_date":1676025962,"question_id":75410027,"body_markdown":"I&#39;m trying to implement a Maven based Minecraft Plugin. For this I need some Jar files, such as Coreprotect or Craftbukkit. When I add them to my &quot;local-maven-repo&quot; in the project, it doesn&#39;t accept the dependency in the pom.xml file. \r\n\r\nHere are the methods I tried:\r\n\r\n1. I created the &quot;local-maven-repo&quot; in the pom.xml file:\r\n```\r\n&lt;repository&gt;\r\n        &lt;id&gt;local-maven-repo&lt;/id&gt;\r\n        &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\r\n&lt;/repository&gt;\r\n```\r\n[&quot;local-maven-repo&quot; creation](https://i.stack.imgur.com/CGQQJ.png)\r\n\r\n2. I put the Jar files into the respective folder:\r\n[Jar files in repo folder](https://i.stack.imgur.com/cCZ2W.png)\r\n\r\n3. I added the dependency as follows and got this error:\r\n```\r\n&lt;dependency&gt;\r\n       &lt;groupId&gt;net.coreprotect&lt;/groupId&gt;\r\n       &lt;artifactId&gt;CoreProtect&lt;/artifactId&gt;\r\n       &lt;version&gt;21.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n       &lt;groupId&gt;org.bukkit.craftbukkit&lt;/groupId&gt;\r\n       &lt;artifactId&gt;craftbukkit&lt;/artifactId&gt;\r\n       &lt;version&gt;1.19.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n[Dependency and error message](https://i.stack.imgur.com/EVNHE.png)\r\n\r\n------------*\r\nAnother way I tried is, installing the jars via the commandline (from my Downloads folder into the &quot;local-maven-repo&quot;), using the following command:\r\nmvn install:install-file \r\n-DgroupId=net.coreprotect -DartifactId=Coreprotect -Dversion=21.3 \r\n-Dpackaging=jar -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=C:\\Users\\silsp\\Downloads\\CoreProtect-21.3.jar\r\n\r\nI am not 100% sure about the correct names in this command, however the error looks like this: \r\n[Maven build compile error](https://i.stack.imgur.com/eohCm.png)\r\nI don&#39;t know why it refers to &quot;.coreprotect&quot; as the lifecycle phase, so I am not sure how to fix this error.\r\n\r\nMy pom.xml file can be found under this likn: https://www.mediafire.com/file/6671dpyo040yace/pomStackOverflow.xml/file\r\n\r\nAny help or advices on how I get these Jar files as a dependency in my project is much appreciated.\r\n","title":"How to add a local Jar file as project dependency in Maven","body":"<p>I'm trying to implement a Maven based Minecraft Plugin. For this I need some Jar files, such as Coreprotect or Craftbukkit. When I add them to my &quot;local-maven-repo&quot; in the project, it doesn't accept the dependency in the pom.xml file.</p>\n<p>Here are the methods I tried:</p>\n<ol>\n<li>I created the &quot;local-maven-repo&quot; in the pom.xml file:</li>\n</ol>\n<pre><code>&lt;repository&gt;\n        &lt;id&gt;local-maven-repo&lt;/id&gt;\n        &lt;url&gt;file:///${project.basedir}/local-maven-repo&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CGQQJ.png\" rel=\"nofollow noreferrer\">&quot;local-maven-repo&quot; creation</a></p>\n<ol start=\"2\">\n<li><p>I put the Jar files into the respective folder:\n<a href=\"https://i.stack.imgur.com/cCZ2W.png\" rel=\"nofollow noreferrer\">Jar files in repo folder</a></p>\n</li>\n<li><p>I added the dependency as follows and got this error:</p>\n</li>\n</ol>\n<pre><code>&lt;dependency&gt;\n       &lt;groupId&gt;net.coreprotect&lt;/groupId&gt;\n       &lt;artifactId&gt;CoreProtect&lt;/artifactId&gt;\n       &lt;version&gt;21.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n       &lt;groupId&gt;org.bukkit.craftbukkit&lt;/groupId&gt;\n       &lt;artifactId&gt;craftbukkit&lt;/artifactId&gt;\n       &lt;version&gt;1.19.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/EVNHE.png\" rel=\"nofollow noreferrer\">Dependency and error message</a></p>\n<p>------------*\nAnother way I tried is, installing the jars via the commandline (from my Downloads folder into the &quot;local-maven-repo&quot;), using the following command:\nmvn install:install-file\n-DgroupId=net.coreprotect -DartifactId=Coreprotect -Dversion=21.3\n-Dpackaging=jar -Durl=file:./local-maven-repo/ -DrepositoryId=local-maven-repo -DupdateReleaseInfo=true -Dfile=C:\\Users\\silsp\\Downloads\\CoreProtect-21.3.jar</p>\n<p>I am not 100% sure about the correct names in this command, however the error looks like this:\n<a href=\"https://i.stack.imgur.com/eohCm.png\" rel=\"nofollow noreferrer\">Maven build compile error</a>\nI don't know why it refers to &quot;.coreprotect&quot; as the lifecycle phase, so I am not sure how to fix this error.</p>\n<p>My pom.xml file can be found under this likn: <a href=\"https://www.mediafire.com/file/6671dpyo040yace/pomStackOverflow.xml/file\" rel=\"nofollow noreferrer\">https://www.mediafire.com/file/6671dpyo040yace/pomStackOverflow.xml/file</a></p>\n<p>Any help or advices on how I get these Jar files as a dependency in my project is much appreciated.</p>\n"},{"tags":["java","mysql","spring-boot","spring-data-jpa","geospatial"],"answers":[{"comments":[{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1692727131,"post_id":75408743,"comment_id":135663010,"body_markdown":"can you please help? https://stackoverflow.com/questions/76952490/point-data-type-into-mysql8","body":"can you please help? <a href=\"https://stackoverflow.com/questions/76952490/point-data-type-into-mysql8\" title=\"point data type into mysql8\">stackoverflow.com/questions/76952490/&hellip;</a>"},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1692734875,"post_id":75408743,"comment_id":135664491,"body_markdown":"Let me try ) Will write an answer if I have one","body":"Let me try ) Will write an answer if I have one"}],"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676018783,"creation_date":1676018783,"answer_id":75408743,"question_id":75407458,"body_markdown":"As it&#39;s stated [here][1] \r\n\r\n&gt; This query will throw the mentioned error: #1416 - Cannot get geometry object from data you send to the GEOMETRY field. This happens because the query is invalid. To prevent this exception from appearing, you need to fix your query to match the current version of MySQL or MariaDB.\r\n\r\nI think something is wrong about how you construct `Point` object, namely instead of `wktToGeometry` you should use `wktToPoint`:\r\n\r\n&gt; - ST_GeomFromText(wkt, srid) can return ANY spatial type that is supported by MySQL and can be represented by WKT. This makes it loosely typed if you want to think of it like that.\r\n&gt; - ST_PointFromText(wkt, srid) a strongly-typed POINT-constructor from Well-known text.\r\n\r\n\r\n  [1]: https://ourcodeworld.com/articles/read/1583/what-is-causing-mysql-error-1416-cannot-get-geometry-object-from-data-you-send-to-the-geometry-field#:~:text=This%20query%20will%20throw%20the,version%20of%20MySQL%20or%20MariaDB.","title":"How to insert Geo location using spring data JPA","body":"<p>As it's stated <a href=\"https://ourcodeworld.com/articles/read/1583/what-is-causing-mysql-error-1416-cannot-get-geometry-object-from-data-you-send-to-the-geometry-field#:%7E:text=This%20query%20will%20throw%20the,version%20of%20MySQL%20or%20MariaDB.\" rel=\"nofollow noreferrer\">here</a></p>\n<blockquote>\n<p>This query will throw the mentioned error: #1416 - Cannot get geometry object from data you send to the GEOMETRY field. This happens because the query is invalid. To prevent this exception from appearing, you need to fix your query to match the current version of MySQL or MariaDB.</p>\n</blockquote>\n<p>I think something is wrong about how you construct <code>Point</code> object, namely instead of <code>wktToGeometry</code> you should use <code>wktToPoint</code>:</p>\n<blockquote>\n<ul>\n<li>ST_GeomFromText(wkt, srid) can return ANY spatial type that is supported by MySQL and can be represented by WKT. This makes it loosely typed if you want to think of it like that.</li>\n<li>ST_PointFromText(wkt, srid) a strongly-typed POINT-constructor from Well-known text.</li>\n</ul>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676026063,"creation_date":1676026063,"answer_id":75410050,"question_id":75407458,"body_markdown":"I forgot mentioned one properties in my code. \r\nActually instead of simple MySql dialet we need to use below spatial dialet\r\n\r\n    hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL56SpatialDialect\r\n\r\nAfter updating dialet it will work fine.","title":"How to insert Geo location using spring data JPA","body":"<p>I forgot mentioned one properties in my code.\nActually instead of simple MySql dialet we need to use below spatial dialet</p>\n<pre><code>hibernate.dialect=org.hibernate.spatial.dialect.mysql.MySQL56SpatialDialect\n</code></pre>\n<p>After updating dialet it will work fine.</p>\n"}],"owner":{"account_id":5672211,"reputation":4278,"user_id":4969916,"accept_rate":35,"display_name":"Shiladittya Chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":571,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1676026063,"creation_date":1676008948,"question_id":75407458,"body_markdown":"I am trying to insert Geo location into MySql database using spring data JPA. \r\nMySql Version : 5.7.17\r\n\r\nFor spring boot I have used 2.5.6 boot version and below dependency I have used\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nBelow is the Entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;USER_DETAILS&quot;)\r\n    @Getter\r\n    @Setter\r\n    @Data\r\n    public class UserDetails implements Serializable {\r\n    \r\n    \tprivate static final long serialVersionUID = 3937414011943770889L;\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \t@Column(name = &quot;ID&quot;)\r\n    \tprivate Integer id;\r\n    \r\n    \t@Column(name = &quot;USER_NAME&quot;)\r\n    \tprivate String userName;\r\n    \r\n    \t@Column(name = &quot;MOBILE_NO&quot;)\r\n    \tprivate String mobileNo;\r\n    \r\n    \t@Column(name = &quot;EMAIL_ID&quot;)\r\n    \tprivate String emailId;\r\n    \r\n    \t@Column(name = &quot;COORDINATE&quot;)\r\n    \tprivate Point point;\r\n\r\nFrom java side I have used below code\r\n\r\n\tpublic Geometry wktToGeometry(String wellKnownText) throws ParseException {\r\n\t\treturn new WKTReader().read(wellKnownText);\r\n\t}\r\n\r\n\tpublic void saveUser(String lat, String longitude) {\r\n\t\ttry {\r\n\t\t\tfinal User user = getUserDetails();\r\n\r\n\t\t\tUserDetails userDetails = new UserDetails();\r\n\t\t\tuserDetails.setUserName(user.getName());\r\n\t\t\tuserDetails.setEmailId(user.getEmail());\r\n\t\t\tuserDetails.setPoint( (Point) wktToGeometry(&quot;POINT (2 5)&quot;));\r\n\t\t\tuserDetailsRepository.save(userDetails);\r\n\t\t} catch (Exception e) {\r\n\t\t\tSystem.out.println(&quot;Something went wrong!\\n&quot; + e.getMessage());\r\n\t\t}\r\n\t}\r\n\r\nBut after executing above code getting below issue\t\r\n\r\n    Hibernate: insert into user_details (email_id, mobile_no, coordinate, user_name) values (?, ?, ?, ?)\r\n    [2m2023-02-10 11:15:19.905[0;39m [33m WARN[0;39m [35m11468[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m SQL Error: 1416, SQLState: 22001\r\n    [2m2023-02-10 11:15:19.906[0;39m [31mERROR[0;39m [35m11468[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m Data truncation: Cannot get geometry object from data you send to the GEOMETRY field\r\n\r\nTable Structure\r\n\r\n  \r\n\r\n    CREATE TABLE USER_DETAILS (\r\n    \t  ID INT(10) NOT NULL AUTO_INCREMENT,\r\n    \t  USER_NAME VARCHAR(100) DEFAULT NULL,\r\n    \t  MOBILE_NO VARCHAR(10) DEFAULT NULL, \r\n    \t  EMAIL_ID VARCHAR(100) DEFAULT NULL,\r\n    \t  COORDINATE POINT NOT NULL,\r\n    \t  PRIMARY KEY (ID),\r\n    \t  SPATIAL INDEX (COORDINATE)\r\n    \t);","title":"How to insert Geo location using spring data JPA","body":"<p>I am trying to insert Geo location into MySql database using spring data JPA.\nMySql Version : 5.7.17</p>\n<p>For spring boot I have used 2.5.6 boot version and below dependency I have used</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-spatial&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Below is the Entity</p>\n<pre><code>@Entity\n@Table(name = &quot;USER_DETAILS&quot;)\n@Getter\n@Setter\n@Data\npublic class UserDetails implements Serializable {\n\n    private static final long serialVersionUID = 3937414011943770889L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;ID&quot;)\n    private Integer id;\n\n    @Column(name = &quot;USER_NAME&quot;)\n    private String userName;\n\n    @Column(name = &quot;MOBILE_NO&quot;)\n    private String mobileNo;\n\n    @Column(name = &quot;EMAIL_ID&quot;)\n    private String emailId;\n\n    @Column(name = &quot;COORDINATE&quot;)\n    private Point point;\n</code></pre>\n<p>From java side I have used below code</p>\n<pre><code>public Geometry wktToGeometry(String wellKnownText) throws ParseException {\n    return new WKTReader().read(wellKnownText);\n}\n\npublic void saveUser(String lat, String longitude) {\n    try {\n        final User user = getUserDetails();\n\n        UserDetails userDetails = new UserDetails();\n        userDetails.setUserName(user.getName());\n        userDetails.setEmailId(user.getEmail());\n        userDetails.setPoint( (Point) wktToGeometry(&quot;POINT (2 5)&quot;));\n        userDetailsRepository.save(userDetails);\n    } catch (Exception e) {\n        System.out.println(&quot;Something went wrong!\\n&quot; + e.getMessage());\n    }\n}\n</code></pre>\n<p>But after executing above code getting below issue</p>\n<pre><code>Hibernate: insert into user_details (email_id, mobile_no, coordinate, user_name) values (?, ?, ?, ?)\n[2m2023-02-10 11:15:19.905[0;39m [33m WARN[0;39m [35m11468[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m SQL Error: 1416, SQLState: 22001\n[2m2023-02-10 11:15:19.906[0;39m [31mERROR[0;39m [35m11468[0;39m [2m---[0;39m [2m[nio-8080-exec-3][0;39m [36mo.h.engine.jdbc.spi.SqlExceptionHelper  [0;39m [2m:[0;39m Data truncation: Cannot get geometry object from data you send to the GEOMETRY field\n</code></pre>\n<p>Table Structure</p>\n<pre><code>CREATE TABLE USER_DETAILS (\n      ID INT(10) NOT NULL AUTO_INCREMENT,\n      USER_NAME VARCHAR(100) DEFAULT NULL,\n      MOBILE_NO VARCHAR(10) DEFAULT NULL, \n      EMAIL_ID VARCHAR(100) DEFAULT NULL,\n      COORDINATE POINT NOT NULL,\n      PRIMARY KEY (ID),\n      SPATIAL INDEX (COORDINATE)\n    );\n</code></pre>\n"},{"tags":["java","spring-cloud-config-server"],"owner":{"account_id":11661724,"reputation":23,"user_id":8539792,"display_name":"Eager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676025957,"creation_date":1676025957,"question_id":75410025,"body_markdown":"I am doing a POC on Config Server wherein I will connect to BitBucket repo and if any checkin happen in that repo, my Config Service will pick those changes. In the below code if I am providing bitbucket credentials (hardcoding username and password), its able to connect to BitBucket and everything is working fine. But if I try to provide SSH key, its throwing below error:\r\n***application.yml***\r\n```\r\nserver.port: 8888\r\n\r\nspring:\r\n  application.name: config-server\r\n  cloud.config.server.git.uri: ${url}\r\n  cloud:\r\n    config:\r\n      server:\r\n        git:\r\n          cloneOnStart: true\r\n          username: username\r\n          password: password\r\n          default-label: master\r\n\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: refresh\r\neureka:\r\n  client:\r\n    serviceUrl:\r\n      defaultZone: http://localhost:7001/eureka/\r\n    registryFetchIntervalSeconds: 1\r\n  instance:\r\n    leaseRenewalIntervalInSeconds: 1\r\n```\r\nLike I said the above configuration is working fine. When I replaced with the below configuration.\r\n```\r\nserver.port: 8888\r\n\r\nspring:\r\n  application.name: config-server\r\n  cloud.config.server.git.uri: ${URL}\r\n  cloud:\r\n    config:\r\n      server:\r\n        git:\r\n          #cloneOnStart: true\r\n          ignore-local-ssh-settings: true\r\n          hostKey: ${hostKEY}\r\n          hostKeyAlgorithm: ssh-rsa\r\n          private-key: ${SSH PRIVATE KEY}\r\n\r\n\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: refresh\r\neureka:\r\n  client:\r\n    serviceUrl:\r\n      defaultZone: http://localhost:7001/eureka/\r\n    registryFetchIntervalSeconds: 1\r\n  instance:\r\n    leaseRenewalIntervalInSeconds: 1\r\n```\r\nI am getting below error::\r\n```\r\n2023-02-10T12:26:39.276+05:30  INFO 24628 --- [           main] c.e.c.ConfigServerApplication            : Started ConfigServerApplication in 2.949 seconds (process running for 3.646)\r\n2023-02-10T12:26:41.041+05:30  WARN 24628 --- [2)-10.73.53.175] .c.s.e.MultipleJGitEnvironmentRepository : Error occured cloning to base directory.\r\n\r\norg.eclipse.jgit.api.errors.TransportException: https://bitbucketdc-cluster07.jpmchase.net/scm/ccbrft/ccbrap-config.git: Authentication is required but no CredentialsProvider has been registered\r\n```\r\nI created SSH Key using command :: ssh-keygen -m PEM -t rsa -b 4096 -C &quot;cigfid_dev@example.com\r\n\r\nAny help is appreciated.\r\n","title":"Configure SSH key with Config Server","body":"<p>I am doing a POC on Config Server wherein I will connect to BitBucket repo and if any checkin happen in that repo, my Config Service will pick those changes. In the below code if I am providing bitbucket credentials (hardcoding username and password), its able to connect to BitBucket and everything is working fine. But if I try to provide SSH key, its throwing below error:\n<em><strong>application.yml</strong></em></p>\n<pre><code>server.port: 8888\n\nspring:\n  application.name: config-server\n  cloud.config.server.git.uri: ${url}\n  cloud:\n    config:\n      server:\n        git:\n          cloneOnStart: true\n          username: username\n          password: password\n          default-label: master\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: refresh\neureka:\n  client:\n    serviceUrl:\n      defaultZone: http://localhost:7001/eureka/\n    registryFetchIntervalSeconds: 1\n  instance:\n    leaseRenewalIntervalInSeconds: 1\n</code></pre>\n<p>Like I said the above configuration is working fine. When I replaced with the below configuration.</p>\n<pre><code>server.port: 8888\n\nspring:\n  application.name: config-server\n  cloud.config.server.git.uri: ${URL}\n  cloud:\n    config:\n      server:\n        git:\n          #cloneOnStart: true\n          ignore-local-ssh-settings: true\n          hostKey: ${hostKEY}\n          hostKeyAlgorithm: ssh-rsa\n          private-key: ${SSH PRIVATE KEY}\n\n\nmanagement:\n  endpoints:\n    web:\n      exposure:\n        include: refresh\neureka:\n  client:\n    serviceUrl:\n      defaultZone: http://localhost:7001/eureka/\n    registryFetchIntervalSeconds: 1\n  instance:\n    leaseRenewalIntervalInSeconds: 1\n</code></pre>\n<p>I am getting below error::</p>\n<pre><code>2023-02-10T12:26:39.276+05:30  INFO 24628 --- [           main] c.e.c.ConfigServerApplication            : Started ConfigServerApplication in 2.949 seconds (process running for 3.646)\n2023-02-10T12:26:41.041+05:30  WARN 24628 --- [2)-10.73.53.175] .c.s.e.MultipleJGitEnvironmentRepository : Error occured cloning to base directory.\n\norg.eclipse.jgit.api.errors.TransportException: https://bitbucketdc-cluster07.jpmchase.net/scm/ccbrft/ccbrap-config.git: Authentication is required but no CredentialsProvider has been registered\n</code></pre>\n<p>I created SSH Key using command :: ssh-keygen -m PEM -t rsa -b 4096 -C &quot;cigfid_dev@example.com</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","android","flutter","connection","network-connection"],"comments":[{"owner":{"account_id":9286061,"reputation":183,"user_id":6895907,"display_name":"DMacAttack"},"score":0,"creation_date":1654178680,"post_id":71439413,"comment_id":128033433,"body_markdown":"Did you find an answer to this ?","body":"Did you find an answer to this ?"},{"owner":{"account_id":16810239,"reputation":3,"user_id":12153416,"display_name":"TuceT"},"score":0,"creation_date":1654255403,"post_id":71439413,"comment_id":128053049,"body_markdown":"Unfortunately I couldn&#39;t find","body":"Unfortunately I couldn&#39;t find"}],"owner":{"account_id":16810239,"reputation":3,"user_id":12153416,"display_name":"TuceT"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676025922,"creation_date":1647005935,"question_id":71439413,"body_markdown":"My tablet has 2 network connections(UsbEtherhet and wifi) but I want to default connection Usb/Ethernet.\r\n\r\nAndroid 10 and previous versions default connection is Usb/Ethernet but Android 11 default connection is wifi .How can set default can you help?\r\n\r\nI&#39;m using flutter and kotlin for native (java is possible)","title":"Set default connection ethernet Java in Andorid?","body":"<p>My tablet has 2 network connections(UsbEtherhet and wifi) but I want to default connection Usb/Ethernet.</p>\n<p>Android 10 and previous versions default connection is Usb/Ethernet but Android 11 default connection is wifi .How can set default can you help?</p>\n<p>I'm using flutter and kotlin for native (java is possible)</p>\n"},{"tags":["java","maven","maven-plugin"],"comments":[{"owner":{"account_id":17835,"reputation":303915,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1675948120,"post_id":75398885,"comment_id":133039821,"body_markdown":"AFAIK Maven runs all of its plugins in the same JVM, so you can&#39;t do that. The few cases where you can specify a JVM to run (such as for tests) are when the plugin itself launches a new JVM.","body":"AFAIK Maven runs all of its plugins in the same JVM, so you can&#39;t do that. The few cases where you can specify a JVM to run (such as for tests) are when the plugin itself launches a new JVM."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1675950153,"post_id":75398885,"comment_id":133040495,"body_markdown":"Which plugin has such issues? Can you name it?","body":"Which plugin has such issues? Can you name it?"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676025884,"creation_date":1676025884,"answer_id":75410007,"question_id":75398885,"body_markdown":"Depending on the plugins and the context, you may solve the problem by using separate Maven runs, i.e. run\r\n\r\n`mvn clean install`\r\n\r\nwith JDK17 and then run `mvn some:plugin` with a different JDK.","title":"use different java versions for different maven plugins","body":"<p>Depending on the plugins and the context, you may solve the problem by using separate Maven runs, i.e. run</p>\n<p><code>mvn clean install</code></p>\n<p>with JDK17 and then run <code>mvn some:plugin</code> with a different JDK.</p>\n"}],"owner":{"account_id":329066,"reputation":6021,"user_id":652378,"accept_rate":52,"display_name":"Chirlo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":268,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1676025884,"creation_date":1675947182,"question_id":75398885,"body_markdown":"I have a pom including some plugins. The project&#39;s sources are java 17 and as such, the maven build is run with a jdk17+. Now, one of the plugins bound to the `site` lifecycle, let&#39;s say plugin `P1`,  is older and it doesn&#39;t work with java versions newer than 9 ( because of some deprecated API that is no longer present in the jdk)\r\n\r\nMy question is: is it possible to somehow configure in the pom that **some plugins** should be run with a different java version? \r\n\r\nMy intention is to run the plugin as it is, not wanting to re-write it or modify it in any way. \r\nI know about maven `toolchains`, but I don&#39;t see how this applies, as that configures the jdk version for all plugins. ","title":"use different java versions for different maven plugins","body":"<p>I have a pom including some plugins. The project's sources are java 17 and as such, the maven build is run with a jdk17+. Now, one of the plugins bound to the <code>site</code> lifecycle, let's say plugin <code>P1</code>,  is older and it doesn't work with java versions newer than 9 ( because of some deprecated API that is no longer present in the jdk)</p>\n<p>My question is: is it possible to somehow configure in the pom that <strong>some plugins</strong> should be run with a different java version?</p>\n<p>My intention is to run the plugin as it is, not wanting to re-write it or modify it in any way.\nI know about maven <code>toolchains</code>, but I don't see how this applies, as that configures the jdk version for all plugins.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676037337,"post_id":75410004,"comment_id":133061944,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27752368,"reputation":1,"user_id":21186571,"display_name":"Jove Garcia Florian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676025840,"creation_date":1676025840,"question_id":75410004,"body_markdown":"I do not manage to create an application on android studio to abcner a robot in bluetooth with the alphabot hc-05 and alsoi it is necessary to make a detector of intruder thanks to the detector of movement and send a sms when it detects an intruder\r\n\r\nI tried to create a code but it doesn&#39;t work","title":"Surveillance robot application on android studio","body":"<p>I do not manage to create an application on android studio to abcner a robot in bluetooth with the alphabot hc-05 and alsoi it is necessary to make a detector of intruder thanks to the detector of movement and send a sms when it detects an intruder</p>\n<p>I tried to create a code but it doesn't work</p>\n"},{"tags":["java","multithreading","concurrenthashmap","happens-before"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1622739725,"post_id":67825678,"comment_id":119884905,"body_markdown":"I would consider this to be implied by the thread-safety guarantee.","body":"I would consider this to be implied by the thread-safety guarantee."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1622797003,"post_id":67825678,"comment_id":119899831,"body_markdown":"You’re going back to the issue already [explained here](https://stackoverflow.com/a/67822241/2711488). The problem is, what does the caller of `read` do? It will see “the result of the latest `write`”, but which write was the latest write? Without any defined order, none may have happen yet and all of them may be running just now, concurrently to the caller of the `read` method.","body":"You’re going back to the issue already <a href=\"https://stackoverflow.com/a/67822241/2711488\">explained here</a>. The problem is, what does the caller of <code>read</code> do? It will see “the result of the latest <code>write</code>”, but which write was the latest write? Without any defined order, none may have happen yet and all of them may be running just now, concurrently to the caller of the <code>read</code> method."},{"owner":{"account_id":63444,"reputation":7018,"user_id":187808,"accept_rate":100,"display_name":"Tamas Rev"},"score":0,"creation_date":1622816357,"post_id":67825678,"comment_id":119907973,"body_markdown":"Yes, it is good enough for visibility. I think it&#39;s a bit too much for visibility. For the `read()` method you can use `CHM.get()` and live happily ever after.","body":"Yes, it is good enough for visibility. I think it&#39;s a bit too much for visibility. For the <code>read()</code> method you can use <code>CHM.get()</code> and live happily ever after."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1622833684,"post_id":67825678,"comment_id":119914556,"body_markdown":"@TamasRev no you can&#39;t use `get`. The comments and the initial questions I linked discuss that much broader.","body":"@TamasRev no you can&#39;t use <code>get</code>. The comments and the initial questions I linked discuss that much broader."},{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1623203402,"post_id":67825678,"comment_id":120009585,"body_markdown":"@Holger do you mind posting an answer? I understood your point finally.","body":"@Holger do you mind posting an answer? I understood your point finally."}],"answers":[{"comments":[{"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1623175910,"post_id":67831727,"comment_id":120002308,"body_markdown":"I don&#39;t know where you decided in the first paragraph that it is going to _replace_ the value and that no mutations are allowed, which is still replace, if you ask me. Then simply highlighting the words _happens-before_ is not what I was after, by far. I don&#39;t think this answers my question. I will may be revise my opinion after some time when I re-read it, but currently I can&#39;t accept this.","body":"I don&#39;t know where you decided in the first paragraph that it is going to <i>replace</i> the value and that no mutations are allowed, which is still replace, if you ask me. Then simply highlighting the words <i>happens-before</i> is not what I was after, by far. I don&#39;t think this answers my question. I will may be revise my opinion after some time when I re-read it, but currently I can&#39;t accept this."}],"tags":[],"owner":{"account_id":21829083,"reputation":31,"user_id":16124211,"display_name":"pluk"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1622783005,"creation_date":1622783005,"answer_id":67831727,"question_id":67825678,"body_markdown":"The `compute()` javadoc [says](https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1876) what this method does:\r\n&gt; Attempts to compute a mapping for the specified key and its current mapped value (or `null` if there is no current mapping).\r\n\r\nSo `compute()` **replaces** a value for the key.\r\n\r\nTo use `compute()` to modify the internal fields of some object (even the object is stored as a value in the map) is not what `compute()` was meant for.  \r\nTherefore, naturally, `compute()`&#39;s specification/documentation guarantees (and even says) nothing about that.\r\n\r\n\r\nRegarding `happens-before`, there are multiple mentions in the documentation:\r\n- [ConcurrentHashMap](https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L89):\r\n    &gt; More formally, an update operation for a given key bears a _happens-before_ relation with any (non-null) retrieval for that key reporting the updated value.\r\n- [ConcurrentMap](https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentMap.java#L55):  \r\n    &gt; Memory consistency effects: As with other concurrent collections, actions in a thread prior to placing an object into a `ConcurrentMap` as a key or value _happen-before_ actions subsequent to the access or removal of that object from the `ConcurrentMap` in another thread.\r\n- [java.util.concurrent](https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/package-info.java#L270):  \r\n    &gt; Actions in a thread prior to placing an object into any concurrent collection _happen-before_ actions subsequent to the access or removal of that element from the collection in another thread.\r\n\r\nThe important thing is that the `happen-before` relation is only guaranteed between insertion/removal/retrieval of objects to/from the collection.  \r\nIn your case it is the same `State` object (only internal its fields are updated), so IMO according to documentation `ConcurrentHashMap` is even allowed to decide that nothing changed and skip the remaining synchronization steps.","title":"ConcurrentHashMap read/update only via compute method","body":"<p>The <code>compute()</code> javadoc <a href=\"https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L1876\" rel=\"nofollow noreferrer\">says</a> what this method does:</p>\n<blockquote>\n<p>Attempts to compute a mapping for the specified key and its current mapped value (or <code>null</code> if there is no current mapping).</p>\n</blockquote>\n<p>So <code>compute()</code> <strong>replaces</strong> a value for the key.</p>\n<p>To use <code>compute()</code> to modify the internal fields of some object (even the object is stored as a value in the map) is not what <code>compute()</code> was meant for.<br />\nTherefore, naturally, <code>compute()</code>'s specification/documentation guarantees (and even says) nothing about that.</p>\n<p>Regarding <code>happens-before</code>, there are multiple mentions in the documentation:</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentHashMap.java#L89\" rel=\"nofollow noreferrer\">ConcurrentHashMap</a>:\n<blockquote>\n<p>More formally, an update operation for a given key bears a <em>happens-before</em> relation with any (non-null) retrieval for that key reporting the updated value.</p>\n</blockquote>\n</li>\n<li><a href=\"https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/ConcurrentMap.java#L55\" rel=\"nofollow noreferrer\">ConcurrentMap</a>:\n<blockquote>\n<p>Memory consistency effects: As with other concurrent collections, actions in a thread prior to placing an object into a <code>ConcurrentMap</code> as a key or value <em>happen-before</em> actions subsequent to the access or removal of that object from the <code>ConcurrentMap</code> in another thread.</p>\n</blockquote>\n</li>\n<li><a href=\"https://github.com/openjdk/jdk16u/blob/jdk16.0.1/src/java.base/share/classes/java/util/concurrent/package-info.java#L270\" rel=\"nofollow noreferrer\">java.util.concurrent</a>:\n<blockquote>\n<p>Actions in a thread prior to placing an object into any concurrent collection <em>happen-before</em> actions subsequent to the access or removal of that element from the collection in another thread.</p>\n</blockquote>\n</li>\n</ul>\n<p>The important thing is that the <code>happen-before</code> relation is only guaranteed between insertion/removal/retrieval of objects to/from the collection.<br />\nIn your case it is the same <code>State</code> object (only internal its fields are updated), so IMO according to documentation <code>ConcurrentHashMap</code> is even allowed to decide that nothing changed and skip the remaining synchronization steps.</p>\n"},{"tags":[],"owner":{"account_id":6183990,"reputation":71,"user_id":4818628,"display_name":"Sergey Kosarev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676025693,"creation_date":1676025693,"answer_id":75409974,"question_id":67825678,"body_markdown":"There is `happens-before` between `Holder.read` and `Holder.write` methods obviously. But no any guaranties between `State.getAge` and `Holder.write`.\r\nif you want to read age you actually need to execute two operations:\r\n\r\n    (1) State state = holder.read(key);\r\n\r\n    (2) int age = state.getAge();\r\n\r\nSo, if `Holder.write` in another thread happens after (1) but before (2), you may see old age value in (2).\r\n\r\n","title":"ConcurrentHashMap read/update only via compute method","body":"<p>There is <code>happens-before</code> between <code>Holder.read</code> and <code>Holder.write</code> methods obviously. But no any guaranties between <code>State.getAge</code> and <code>Holder.write</code>.\nif you want to read age you actually need to execute two operations:</p>\n<pre><code>(1) State state = holder.read(key);\n\n(2) int age = state.getAge();\n</code></pre>\n<p>So, if <code>Holder.write</code> in another thread happens after (1) but before (2), you may see old age value in (2).</p>\n"}],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":588,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1676025693,"creation_date":1622739462,"question_id":67825678,"body_markdown":"This is basically a continuation of [this][1] or [this][2], or many others in that regard.\r\n\r\nMy question is probably simple, if I use `ConcurrentHashMap::compute` _only_, in both readers and writers of some value, is that enough to ensure _visibility_?\r\n\r\nI do know that `compute` method:\r\n\r\n&gt; The entire method invocation is performed atomically\r\n\r\nIs that enough to guarantee _visibility_? Specifically, is that true specification/documentation wise with regards to `happens-before`? To simplify my question, here is an example:\r\n\r\n\r\n    static class State {\r\n\t\tprivate int age;\r\n\r\n\t\tint getAge() {\r\n\t\t\treturn age;\r\n\t\t}\r\n\r\n\t\tState setAge(int age) {\r\n\t\t\tthis.age = age;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t} \r\n\r\n\r\nand :\r\n\r\n\r\n    // very simplified, no checks\r\n\tstatic class Holder {\r\n\r\n\t\tprivate static final ConcurrentHashMap&lt;String, State&gt; CHM = new ConcurrentHashMap&lt;&gt;();\r\n\r\n\t\tpublic State read(String key) {\r\n\t\t\treturn CHM.compute(key, (x, y) -&gt; y);\r\n\t\t}\r\n\r\n\t\tpublic State write(String key, int age) {\r\n\t\t\treturn CHM.compute(key, (x, y) -&gt; y.setAge(y.getAge() + age));\r\n\t\t}\r\n\t}\r\n\r\nNo one has access to `CHM` and can only work via `Holder`.\r\n\r\nTo me the answer is obviously yes, this is safe and all readers will see the result of the latest `write` method. I just can&#39;t connect the dots with the documentation of `ConcurrentHashMap`, which is most probably obvious, but I seem to miss it. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/67795988/atomic-updates-of-values-in-concurrent-hash-map-how-to\r\n  [2]: https://stackoverflow.com/questions/52577524/java-concurrenthashmap-computeifpresent-value-modification-visibility","title":"ConcurrentHashMap read/update only via compute method","body":"<p>This is basically a continuation of <a href=\"https://stackoverflow.com/questions/67795988/atomic-updates-of-values-in-concurrent-hash-map-how-to\">this</a> or <a href=\"https://stackoverflow.com/questions/52577524/java-concurrenthashmap-computeifpresent-value-modification-visibility\">this</a>, or many others in that regard.</p>\n<p>My question is probably simple, if I use <code>ConcurrentHashMap::compute</code> <em>only</em>, in both readers and writers of some value, is that enough to ensure <em>visibility</em>?</p>\n<p>I do know that <code>compute</code> method:</p>\n<blockquote>\n<p>The entire method invocation is performed atomically</p>\n</blockquote>\n<p>Is that enough to guarantee <em>visibility</em>? Specifically, is that true specification/documentation wise with regards to <code>happens-before</code>? To simplify my question, here is an example:</p>\n<pre><code>static class State {\n    private int age;\n\n    int getAge() {\n        return age;\n    }\n\n    State setAge(int age) {\n        this.age = age;\n        return this;\n    }\n} \n</code></pre>\n<p>and :</p>\n<pre><code>// very simplified, no checks\nstatic class Holder {\n\n    private static final ConcurrentHashMap&lt;String, State&gt; CHM = new ConcurrentHashMap&lt;&gt;();\n\n    public State read(String key) {\n        return CHM.compute(key, (x, y) -&gt; y);\n    }\n\n    public State write(String key, int age) {\n        return CHM.compute(key, (x, y) -&gt; y.setAge(y.getAge() + age));\n    }\n}\n</code></pre>\n<p>No one has access to <code>CHM</code> and can only work via <code>Holder</code>.</p>\n<p>To me the answer is obviously yes, this is safe and all readers will see the result of the latest <code>write</code> method. I just can't connect the dots with the documentation of <code>ConcurrentHashMap</code>, which is most probably obvious, but I seem to miss it.</p>\n"},{"tags":["java","spring","rest","spring-mvc"],"comments":[{"owner":{"account_id":1052629,"reputation":3982,"user_id":1056138,"accept_rate":50,"display_name":"ATrubka"},"score":0,"creation_date":1502126182,"post_id":26550124,"comment_id":78064431,"body_markdown":"Actually ResponseEntity&lt;Void&gt; works perfectly. See examples here: http://www.concretepage.com/spring-4/spring-4-mvc-responseentity-bodybuilder-responseentity-enhancements-example","body":"Actually ResponseEntity&lt;Void&gt; works perfectly. See examples here: <a href=\"http://www.concretepage.com/spring-4/spring-4-mvc-responseentity-bodybuilder-responseentity-enhancements-example\" rel=\"nofollow noreferrer\">concretepage.com/spring-4/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"score":0,"creation_date":1414256777,"post_id":26550756,"comment_id":41749221,"body_markdown":"T is a response body type, could be anything, String is an option.try that if it does`t work share the new code with and the stack-trace. @SotiriosDelimanolis I am curious what`s wrong with the code?","body":"T is a response body type, could be anything, String is an option.try that if it does<code>t work share the new code with and the stack-trace. @SotiriosDelimanolis I am curious what</code>s wrong with the code?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1414258762,"post_id":26550756,"comment_id":41749807,"body_markdown":"Is `T` a type variable? Where is it declared? What differences will your suggestions make.","body":"Is <code>T</code> a type variable? Where is it declared? What differences will your suggestions make."},{"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"score":2,"creation_date":1414259546,"post_id":26550756,"comment_id":41750032,"body_markdown":"I did not change anything  dramatic from the the original code rather than suggesting the use of HttpStatus.NO_CONTENT instead of HttpStatus.OK for a no body response","body":"I did not change anything  dramatic from the the original code rather than suggesting the use of HttpStatus.NO_CONTENT instead of HttpStatus.OK for a no body response"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1414259895,"post_id":26550756,"comment_id":41750143,"body_markdown":"So please explain how that will fix the OP&#39;s problem.","body":"So please explain how that will fix the OP&#39;s problem."}],"tags":[],"owner":{"account_id":411559,"reputation":3015,"user_id":784088,"accept_rate":50,"display_name":"iamiddy"},"comment_count":4,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1414163169,"creation_date":1414163169,"answer_id":26550756,"question_id":26550124,"body_markdown":"Your method implementation is ambiguous, try the following , edited your code  a little bit and used `HttpStatus.NO_CONTENT` i.e 204 No Content as in place of `HttpStatus.OK`\r\n\r\n&gt; The server has fulfilled the request but does not need to return an\r\n&gt; entity-body, and might want to return updated metainformation. The\r\n&gt; response MAY include new or updated metainformation in the form of\r\n&gt; entity-headers, which if present SHOULD be associated with the\r\n&gt; requested variant.\r\n\r\n*Any value of **T** will be ignored for 204,  but not for 404*\r\n    \r\n  \r\n\r\n      public ResponseEntity&lt;?&gt; taxonomyPackageExists( @PathVariable final String key ) {\r\n                LOG.debug( &quot;taxonomyPackageExists queried with key: {0}&quot;, key ); //$NON-NLS-1$\r\n                final TaxonomyKey taxonomyKey = TaxonomyKey.fromString( key );\r\n                LOG.debug( &quot;Taxonomy key created: {0}&quot;, taxonomyKey ); //$NON-NLS-1$\r\n        \r\n                if ( this.xbrlInstanceValidator.taxonomyPackageExists( taxonomyKey ) ) {\r\n                    LOG.debug( &quot;Taxonomy package with key: {0} exists.&quot;, taxonomyKey ); //$NON-NLS-1$\r\n                     return new ResponseEntity&lt;T&gt;(HttpStatus.NO_CONTENT);\r\n                } else {\r\n                   LOG.debug( &quot;Taxonomy package with key: {0} does NOT exist.&quot;, taxonomyKey ); //$NON-NLS-1$\r\n                    return new ResponseEntity&lt;T&gt;( HttpStatus.NOT_FOUND );\r\n                }\r\n            \r\n        }","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>Your method implementation is ambiguous, try the following , edited your code  a little bit and used <code>HttpStatus.NO_CONTENT</code> i.e 204 No Content as in place of <code>HttpStatus.OK</code></p>\n\n<blockquote>\n  <p>The server has fulfilled the request but does not need to return an\n  entity-body, and might want to return updated metainformation. The\n  response MAY include new or updated metainformation in the form of\n  entity-headers, which if present SHOULD be associated with the\n  requested variant.</p>\n</blockquote>\n\n<p><em>Any value of <strong>T</strong> will be ignored for 204,  but not for 404</em></p>\n\n<pre><code>  public ResponseEntity&lt;?&gt; taxonomyPackageExists( @PathVariable final String key ) {\n            LOG.debug( \"taxonomyPackageExists queried with key: {0}\", key ); //$NON-NLS-1$\n            final TaxonomyKey taxonomyKey = TaxonomyKey.fromString( key );\n            LOG.debug( \"Taxonomy key created: {0}\", taxonomyKey ); //$NON-NLS-1$\n\n            if ( this.xbrlInstanceValidator.taxonomyPackageExists( taxonomyKey ) ) {\n                LOG.debug( \"Taxonomy package with key: {0} exists.\", taxonomyKey ); //$NON-NLS-1$\n                 return new ResponseEntity&lt;T&gt;(HttpStatus.NO_CONTENT);\n            } else {\n               LOG.debug( \"Taxonomy package with key: {0} does NOT exist.\", taxonomyKey ); //$NON-NLS-1$\n                return new ResponseEntity&lt;T&gt;( HttpStatus.NOT_FOUND );\n            }\n\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3472792,"reputation":1260,"user_id":2906739,"accept_rate":70,"display_name":"Matthias T"},"score":6,"creation_date":1414406426,"post_id":26551712,"comment_id":41786719,"body_markdown":"Hi Sotirios, thanks for your reply. Just be sure: You are in effect saying that I have to use ResponseEntity &lt;String&gt;, right?","body":"Hi Sotirios, thanks for your reply. Just be sure: You are in effect saying that I have to use ResponseEntity &lt;String&gt;, right?"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1414420886,"post_id":26551712,"comment_id":41794860,"body_markdown":"@MatthiasT One option is to set the return type to `ResponseEntity&lt;?&gt;` and use whatever when constructing the actual return value. You can also provide `HttpHeaders` with an appropriate content-type to the `ResponseEntity` constructor. Though it does not really make sense to set a content-type when you have no content.","body":"@MatthiasT One option is to set the return type to <code>ResponseEntity&lt;?&gt;</code> and use whatever when constructing the actual return value. You can also provide <code>HttpHeaders</code> with an appropriate content-type to the <code>ResponseEntity</code> constructor. Though it does not really make sense to set a content-type when you have no content."},{"owner":{"account_id":376706,"reputation":795,"user_id":728345,"accept_rate":63,"display_name":"obesechicken13"},"score":0,"creation_date":1449243733,"post_id":26551712,"comment_id":55936296,"body_markdown":"If you use ResponseEntity&lt;?&gt; and then set a responseEntity with no body, isn&#39;t the body still void? meaning you have the same issue?","body":"If you use ResponseEntity&lt;?&gt; and then set a responseEntity with no body, isn&#39;t the body still void? meaning you have the same issue?"},{"owner":{"account_id":2086791,"reputation":331,"user_id":1857583,"accept_rate":83,"display_name":"renatoaraujoc"},"score":0,"creation_date":1470327689,"post_id":26551712,"comment_id":64916716,"body_markdown":"From my tests, setting ResponseEntity&lt;Void&gt; will write a &quot;null&quot; on responseBody which is pretty buggy. If you really intend to have an empty responseBody, return a ResponseEntity&lt;String&gt; with an empty String like &quot;return ResponseEntity&lt;&gt;(&quot;&quot;, HttpStatus.OK)&quot;","body":"From my tests, setting ResponseEntity&lt;Void&gt; will write a &quot;null&quot; on responseBody which is pretty buggy. If you really intend to have an empty responseBody, return a ResponseEntity&lt;String&gt; with an empty String like &quot;return ResponseEntity&lt;&gt;(&quot;&quot;, HttpStatus.OK)&quot;"},{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1470328933,"post_id":26551712,"comment_id":64917538,"body_markdown":"@Renatinn That depends on what `HttpMessageConverter` instances you have registered. But, sure, an empty string also works.","body":"@Renatinn That depends on what <code>HttpMessageConverter</code> instances you have registered. But, sure, an empty string also works."}],"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":5,"down_vote_count":2,"up_vote_count":59,"is_accepted":true,"score":57,"last_activity_date":1576686883,"creation_date":1414166350,"answer_id":26551712,"question_id":26550124,"body_markdown":"**NOTE: This is true for the version mentioned in the question, 4.1.1.RELEASE.**\r\n\r\nSpring MVC handles a `ResponseEntity` return value through `HttpEntityMethodProcessor`. \r\n\r\nWhen the `ResponseEntity` value doesn&#39;t have a body set, as is the case in your snippet, `HttpEntityMethodProcessor` tries to determine a content type for the response body from the parameterization of the `ResponseEntity` return type in the signature of the `@RequestMapping` handler method.\r\n\r\nSo for\r\n\r\n    public ResponseEntity&lt;Void&gt; taxonomyPackageExists( @PathVariable final String key ) {\r\n\r\nthat type will be `Void`. `HttpEntityMethodProcessor` will then loop through all its registered `HttpMessageConverter` instances and find one that can write a body for a `Void` type. Depending on your configuration, it may or may not find any.\r\n\r\nIf it does find any, it still needs to make sure that the corresponding body will be written with a Content-Type that matches the type(s) provided in the request&#39;s `Accept` header, `application/xml` in your case.\r\n\r\nIf after all these checks, no such `HttpMessageConverter` exists, Spring MVC  will decide that it cannot produce an acceptable response and therefore return a 406 Not Acceptable HTTP response.\r\n\r\nWith `ResponseEntity&lt;String&gt;`, Spring will use `String` as the response body and find `StringHttpMessageConverter` as a handler. And since `StringHttpMessageHandler` can produce content for any media type (provided in the `Accept` header), it will be able to handle the `application/xml` that your client is requesting.\r\n\r\n**Spring MVC has since been changed to only return 406 if the body in the `ResponseEntity` is NOT `null`. You won&#39;t see the behavior in the original question if you&#39;re using a more recent version of Spring MVC.**\r\n\r\n----------\r\n\r\n\r\nIn [iddy85&#39;s solution][1], which seems to suggest `ResponseEntity&lt;?&gt;`, the type for the body will be inferred as `Object`. If you have the correct libraries in your classpath, ie. Jackson (version &gt; 2.5.0) and its XML extension, Spring MVC will have access to `MappingJackson2XmlHttpMessageConverter` which it can use to produce `application/xml` for the type `Object`. **Their solution only works under these conditions.** Otherwise, it will fail for the same reason I&#39;ve described above.\r\n\r\n  [1]: https://stackoverflow.com/a/26550756/438154","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p><strong>NOTE: This is true for the version mentioned in the question, 4.1.1.RELEASE.</strong></p>\n\n<p>Spring MVC handles a <code>ResponseEntity</code> return value through <code>HttpEntityMethodProcessor</code>. </p>\n\n<p>When the <code>ResponseEntity</code> value doesn't have a body set, as is the case in your snippet, <code>HttpEntityMethodProcessor</code> tries to determine a content type for the response body from the parameterization of the <code>ResponseEntity</code> return type in the signature of the <code>@RequestMapping</code> handler method.</p>\n\n<p>So for</p>\n\n<pre><code>public ResponseEntity&lt;Void&gt; taxonomyPackageExists( @PathVariable final String key ) {\n</code></pre>\n\n<p>that type will be <code>Void</code>. <code>HttpEntityMethodProcessor</code> will then loop through all its registered <code>HttpMessageConverter</code> instances and find one that can write a body for a <code>Void</code> type. Depending on your configuration, it may or may not find any.</p>\n\n<p>If it does find any, it still needs to make sure that the corresponding body will be written with a Content-Type that matches the type(s) provided in the request's <code>Accept</code> header, <code>application/xml</code> in your case.</p>\n\n<p>If after all these checks, no such <code>HttpMessageConverter</code> exists, Spring MVC  will decide that it cannot produce an acceptable response and therefore return a 406 Not Acceptable HTTP response.</p>\n\n<p>With <code>ResponseEntity&lt;String&gt;</code>, Spring will use <code>String</code> as the response body and find <code>StringHttpMessageConverter</code> as a handler. And since <code>StringHttpMessageHandler</code> can produce content for any media type (provided in the <code>Accept</code> header), it will be able to handle the <code>application/xml</code> that your client is requesting.</p>\n\n<p><strong>Spring MVC has since been changed to only return 406 if the body in the <code>ResponseEntity</code> is NOT <code>null</code>. You won't see the behavior in the original question if you're using a more recent version of Spring MVC.</strong></p>\n\n<hr>\n\n<p>In <a href=\"https://stackoverflow.com/a/26550756/438154\">iddy85's solution</a>, which seems to suggest <code>ResponseEntity&lt;?&gt;</code>, the type for the body will be inferred as <code>Object</code>. If you have the correct libraries in your classpath, ie. Jackson (version > 2.5.0) and its XML extension, Spring MVC will have access to <code>MappingJackson2XmlHttpMessageConverter</code> which it can use to produce <code>application/xml</code> for the type <code>Object</code>. <strong>Their solution only works under these conditions.</strong> Otherwise, it will fail for the same reason I've described above.</p>\n"},{"tags":[],"owner":{"account_id":11892452,"reputation":3088,"user_id":8702849,"display_name":"adanilev"},"comment_count":0,"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1532405195,"creation_date":1532405195,"answer_id":51490312,"question_id":26550124,"body_markdown":"You can also not specify the type parameter which seems a bit cleaner and what Spring intended when looking at the [docs][1]:\r\n\r\n    @RequestMapping(method = RequestMethod.HEAD, value = Constants.KEY )\r\n    public ResponseEntity taxonomyPackageExists( @PathVariable final String key ){\r\n        // ...\r\n        return new ResponseEntity(HttpStatus.NO_CONTENT);\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/3.0.x/javadoc-api/org/springframework/http/ResponseEntity.html#ResponseEntity(org.springframework.http.HttpStatus)","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>You can also not specify the type parameter which seems a bit cleaner and what Spring intended when looking at the <a href=\"https://docs.spring.io/spring/docs/3.0.x/javadoc-api/org/springframework/http/ResponseEntity.html#ResponseEntity(org.springframework.http.HttpStatus)\" rel=\"noreferrer\">docs</a>:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.HEAD, value = Constants.KEY )\npublic ResponseEntity taxonomyPackageExists( @PathVariable final String key ){\n    // ...\n    return new ResponseEntity(HttpStatus.NO_CONTENT);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":0,"down_vote_count":0,"up_vote_count":58,"is_accepted":false,"score":58,"last_activity_date":1676025508,"creation_date":1533678190,"answer_id":51735848,"question_id":26550124,"body_markdown":"According [Spring 4 MVC ResponseEntity.BodyBuilder and ResponseEntity Enhancements Example](https://www.concretepage.com/spring-4/spring-4-mvc-responseentity-bodybuilder-responseentity-enhancements-example) it could be written as:\r\n\r\n    ....\r\n       return ResponseEntity.ok().build();\r\n    ....\r\n       return ResponseEntity.noContent().build();\r\n\r\nUPDATE:\r\n\r\nIf returned value is `Optional`, there are convenient method, returned `ok()` or `notFound()`:\r\n```java\r\nreturn ResponseEntity.of(optional)\r\n```\r\n\r\nUPDATE 2: also feel free to use for status `OK(200)`\r\n\r\n    public void taxonomyPackageExists(...\r\n\r\nand for status `NO_CONTENT(204)`\r\n\r\n    @ResponseStatus(HttpStatus.NO_CONTENT)\r\n    public void taxonomyPackageExists(...\r\n","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>According <a href=\"https://www.concretepage.com/spring-4/spring-4-mvc-responseentity-bodybuilder-responseentity-enhancements-example\" rel=\"noreferrer\">Spring 4 MVC ResponseEntity.BodyBuilder and ResponseEntity Enhancements Example</a> it could be written as:</p>\n<pre><code>....\n   return ResponseEntity.ok().build();\n....\n   return ResponseEntity.noContent().build();\n</code></pre>\n<p>UPDATE:</p>\n<p>If returned value is <code>Optional</code>, there are convenient method, returned <code>ok()</code> or <code>notFound()</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return ResponseEntity.of(optional)\n</code></pre>\n<p>UPDATE 2: also feel free to use for status <code>OK(200)</code></p>\n<pre><code>public void taxonomyPackageExists(...\n</code></pre>\n<p>and for status <code>NO_CONTENT(204)</code></p>\n<pre><code>@ResponseStatus(HttpStatus.NO_CONTENT)\npublic void taxonomyPackageExists(...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3585957,"reputation":4619,"user_id":3241889,"accept_rate":72,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1537536158,"creation_date":1537536158,"answer_id":52444715,"question_id":26550124,"body_markdown":"Personally, to deal with empty responses, I use in my Integration Tests the MockMvcResponse object like this : \r\n\r\n\r\n    MockMvcResponse response = RestAssuredMockMvc.given()\r\n                    .webAppContextSetup(webApplicationContext)\r\n                    .when()\r\n                    .get(&quot;/v1/ticket&quot;);\r\n    \r\n        assertThat(response.mockHttpServletResponse().getStatus()).isEqualTo(HttpStatus.NO_CONTENT.value());\r\n\r\nand in my controller I return empty response in a specific case like this : \r\n\r\n    return ResponseEntity.noContent().build();","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>Personally, to deal with empty responses, I use in my Integration Tests the MockMvcResponse object like this : </p>\n\n<pre><code>MockMvcResponse response = RestAssuredMockMvc.given()\n                .webAppContextSetup(webApplicationContext)\n                .when()\n                .get(\"/v1/ticket\");\n\n    assertThat(response.mockHttpServletResponse().getStatus()).isEqualTo(HttpStatus.NO_CONTENT.value());\n</code></pre>\n\n<p>and in my controller I return empty response in a specific case like this : </p>\n\n<pre><code>return ResponseEntity.noContent().build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":243786,"reputation":30863,"user_id":516167,"accept_rate":94,"display_name":"MariuszS"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1581428929,"creation_date":1581428929,"answer_id":60170361,"question_id":26550124,"body_markdown":"For Spring 5.2+ this works for me:\r\n\r\n\t@PostMapping(&quot;/foo&quot;)\r\n\tResponseEntity&lt;Void&gt; foo(@PathVariable UUID fooId) {\r\n\t\treturn fooService.findExam(fooId)\r\n\t\t\t\t.map(uri -&gt; ResponseEntity.noContent().&lt;Void&gt;build())\r\n\t\t\t\t.orElse(ResponseEntity.notFound().build());\r\n\t}","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>For Spring 5.2+ this works for me:</p>\n\n<pre><code>@PostMapping(\"/foo\")\nResponseEntity&lt;Void&gt; foo(@PathVariable UUID fooId) {\n    return fooService.findExam(fooId)\n            .map(uri -&gt; ResponseEntity.noContent().&lt;Void&gt;build())\n            .orElse(ResponseEntity.notFound().build());\n}\n</code></pre>\n"}],"owner":{"account_id":3472792,"reputation":1260,"user_id":2906739,"accept_rate":70,"display_name":"Matthias T"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229649,"favorite_count":0,"down_vote_count":1,"up_vote_count":75,"accepted_answer_id":26551712,"answer_count":6,"score":74,"last_activity_date":1676025508,"creation_date":1414161349,"question_id":26550124,"body_markdown":"We are implementing a REST API with Spring (4.1.1.). For certain HTTP requests, we would like to return a head with no body as a response. However, using `ResponseEntity&lt;Void&gt;` doesn&#39;t seem to work. When called with a `MockMvc` test, a 406 (Not acceptable) is returned. Using `ResponseEntity&lt;String&gt;` without a parameter value (`new  ResponseEntity&lt;String&gt;( HttpStatus.NOT_FOUND )`) works fine. \r\n\r\n\r\n\r\nMethod:\r\n   \r\n    @RequestMapping( method = RequestMethod.HEAD, value = Constants.KEY )\r\n    public ResponseEntity&lt;Void&gt; taxonomyPackageExists( @PathVariable final String key ) {\r\n\r\n        LOG.debug( &quot;taxonomyPackageExists queried with key: {0}&quot;, key ); //$NON-NLS-1$\r\n\r\n        final TaxonomyKey taxonomyKey = TaxonomyKey.fromString( key );\r\n\r\n        LOG.debug( &quot;Taxonomy key created: {0}&quot;, taxonomyKey ); //$NON-NLS-1$\r\n\r\n        if ( this.xbrlInstanceValidator.taxonomyPackageExists( taxonomyKey ) ) {\r\n\r\n            LOG.debug( &quot;Taxonomy package with key: {0} exists.&quot;, taxonomyKey ); //$NON-NLS-1$\r\n\r\n            return new ResponseEntity&lt;Void&gt;( HttpStatus.OK );\r\n\r\n        } else {\r\n\r\n            LOG.debug( &quot;Taxonomy package with key: {0} does NOT exist.&quot;, taxonomyKey ); //$NON-NLS-1$\r\n\r\n            return new ResponseEntity&lt;Void&gt;( HttpStatus.NOT_FOUND );\r\n        }\r\n\r\n    }\r\n\r\nTest case (TestNG):\r\n\r\n    public class TaxonomyQueryControllerTest {\r\n\r\n    private XbrlInstanceValidator   xbrlInstanceValidatorMock;\r\n    private TaxonomyQueryController underTest;\r\n    private MockMvc                 mockMvc;\r\n\r\n    @BeforeMethod\r\n    public void setUp() {\r\n        this.xbrlInstanceValidatorMock = createMock( XbrlInstanceValidator.class );\r\n        this.underTest = new TaxonomyQueryController( this.xbrlInstanceValidatorMock );\r\n        this.mockMvc = MockMvcBuilders.standaloneSetup( this.underTest ).build();\r\n    }\r\n\r\n    @Test\r\n    public void taxonomyPackageDoesNotExist() throws Exception {\r\n        // record\r\n        expect( this.xbrlInstanceValidatorMock.taxonomyPackageExists( anyObject( TaxonomyKey.class ) ) ).andStubReturn(\r\n                false );\r\n\r\n        // replay\r\n        replay( this.xbrlInstanceValidatorMock );\r\n\r\n        // do the test\r\n        final String taxonomyKey = RestDataFixture.taxonomyKeyString;\r\n\r\n        this.mockMvc.perform( head( &quot;/taxonomypackages/{key}&quot;, taxonomyKey ).accept( //$NON-NLS-1$\r\n                MediaType.APPLICATION_XML ) ).andExpect( status().isNotFound() );\r\n\r\n    }\r\n\r\n    }\r\n\r\nFails with this stack trace: \r\n\r\n    FAILED: taxonomyPackageDoesNotExist\r\n    java.lang.AssertionError: Status expected:&lt;404&gt; but was:&lt;406&gt;\r\n\tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:60)\r\n\tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:89)\r\n\tat org.springframework.test.web.servlet.result.StatusResultMatchers$10.match(StatusResultMatchers.java:652)\r\n\tat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:153)\r\n\tat de.zeb.control.application.xbrlstandalonevalidator.restservice.TaxonomyQueryControllerTest.taxonomyPackageDoesNotExist(TaxonomyQueryControllerTest.java:54)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:84)\r\n\tat org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\r\n\tat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\r\n\tat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:767)\r\n\tat org.testng.TestRunner.run(TestRunner.java:617)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:240)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1224)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1149)\r\n\tat org.testng.TestNG.run(TestNG.java:1057)\r\n\tat org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:111)\r\n\tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\r\n\tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\r\n\r\n\r\n\r\n","title":"Spring: Returning empty HTTP Responses with ResponseEntity&lt;Void&gt; doesn&#39;t work","body":"<p>We are implementing a REST API with Spring (4.1.1.). For certain HTTP requests, we would like to return a head with no body as a response. However, using <code>ResponseEntity&lt;Void&gt;</code> doesn't seem to work. When called with a <code>MockMvc</code> test, a 406 (Not acceptable) is returned. Using <code>ResponseEntity&lt;String&gt;</code> without a parameter value (<code>new  ResponseEntity&lt;String&gt;( HttpStatus.NOT_FOUND )</code>) works fine. </p>\n\n<p>Method:</p>\n\n<pre><code>@RequestMapping( method = RequestMethod.HEAD, value = Constants.KEY )\npublic ResponseEntity&lt;Void&gt; taxonomyPackageExists( @PathVariable final String key ) {\n\n    LOG.debug( \"taxonomyPackageExists queried with key: {0}\", key ); //$NON-NLS-1$\n\n    final TaxonomyKey taxonomyKey = TaxonomyKey.fromString( key );\n\n    LOG.debug( \"Taxonomy key created: {0}\", taxonomyKey ); //$NON-NLS-1$\n\n    if ( this.xbrlInstanceValidator.taxonomyPackageExists( taxonomyKey ) ) {\n\n        LOG.debug( \"Taxonomy package with key: {0} exists.\", taxonomyKey ); //$NON-NLS-1$\n\n        return new ResponseEntity&lt;Void&gt;( HttpStatus.OK );\n\n    } else {\n\n        LOG.debug( \"Taxonomy package with key: {0} does NOT exist.\", taxonomyKey ); //$NON-NLS-1$\n\n        return new ResponseEntity&lt;Void&gt;( HttpStatus.NOT_FOUND );\n    }\n\n}\n</code></pre>\n\n<p>Test case (TestNG):</p>\n\n<pre><code>public class TaxonomyQueryControllerTest {\n\nprivate XbrlInstanceValidator   xbrlInstanceValidatorMock;\nprivate TaxonomyQueryController underTest;\nprivate MockMvc                 mockMvc;\n\n@BeforeMethod\npublic void setUp() {\n    this.xbrlInstanceValidatorMock = createMock( XbrlInstanceValidator.class );\n    this.underTest = new TaxonomyQueryController( this.xbrlInstanceValidatorMock );\n    this.mockMvc = MockMvcBuilders.standaloneSetup( this.underTest ).build();\n}\n\n@Test\npublic void taxonomyPackageDoesNotExist() throws Exception {\n    // record\n    expect( this.xbrlInstanceValidatorMock.taxonomyPackageExists( anyObject( TaxonomyKey.class ) ) ).andStubReturn(\n            false );\n\n    // replay\n    replay( this.xbrlInstanceValidatorMock );\n\n    // do the test\n    final String taxonomyKey = RestDataFixture.taxonomyKeyString;\n\n    this.mockMvc.perform( head( \"/taxonomypackages/{key}\", taxonomyKey ).accept( //$NON-NLS-1$\n            MediaType.APPLICATION_XML ) ).andExpect( status().isNotFound() );\n\n}\n\n}\n</code></pre>\n\n<p>Fails with this stack trace: </p>\n\n<pre><code>FAILED: taxonomyPackageDoesNotExist\njava.lang.AssertionError: Status expected:&lt;404&gt; but was:&lt;406&gt;\nat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:60)\nat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:89)\nat org.springframework.test.web.servlet.result.StatusResultMatchers$10.match(StatusResultMatchers.java:652)\nat org.springframework.test.web.servlet.MockMvc$1.andExpect(MockMvc.java:153)\nat de.zeb.control.application.xbrlstandalonevalidator.restservice.TaxonomyQueryControllerTest.taxonomyPackageDoesNotExist(TaxonomyQueryControllerTest.java:54)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:606)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:84)\nat org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\nat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\nat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\nat org.testng.TestRunner.privateRun(TestRunner.java:767)\nat org.testng.TestRunner.run(TestRunner.java:617)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\nat org.testng.SuiteRunner.run(SuiteRunner.java:240)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1224)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1149)\nat org.testng.TestNG.run(TestNG.java:1057)\nat org.testng.remote.RemoteTestNG.run(RemoteTestNG.java:111)\nat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:204)\nat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:175)\n</code></pre>\n"},{"tags":["java","android-studio","android-debug"],"answers":[{"comments":[{"owner":{"account_id":23532552,"reputation":1,"user_id":17577951,"display_name":"Suceru"},"score":0,"creation_date":1676190174,"post_id":75409848,"comment_id":133084652,"body_markdown":"That&#39;s cool, although not the way I want to do it, I&#39;ll try it.","body":"That&#39;s cool, although not the way I want to do it, I&#39;ll try it."}],"tags":[],"owner":{"account_id":6544046,"reputation":51,"user_id":5060590,"display_name":"Anique Azhar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676025070,"creation_date":1676025070,"answer_id":75409848,"question_id":75306605,"body_markdown":"Well, there is no direct way to modify an apk dynamically using java. All you can do is instrument the apk using any of instrumentation library which are written in multiple languages like tyscript or JavaScript. \r\n\r\nAmong these libraries,  [Frida][1] &amp; [Objection][2] are the most famous ones. Frida allows you to change any value, methods, return types of values, any thing loaded in memory. \r\n\r\nGood thing is that you dont need to learn smali, you can still use Java libraries to call any function on it. \r\n\r\nSample code in your case will look like\r\n \r\n\r\n    Java.perform(function() {\r\n    var object = Java.use(&#39;packageName.ActivityName&#39;);\r\n   \r\n    object.check.implementation = function() {\r\n        \r\n        return 3;\r\n    }\r\n    });\r\n\r\n  [1]: https://frida.re/\r\n  [2]: https://github.com/sensepost/objection\r\n\r\n","title":"How to use java language to dynamically debug APK in AndroidStudio?","body":"<p>Well, there is no direct way to modify an apk dynamically using java. All you can do is instrument the apk using any of instrumentation library which are written in multiple languages like tyscript or JavaScript.</p>\n<p>Among these libraries,  <a href=\"https://frida.re/\" rel=\"nofollow noreferrer\">Frida</a> &amp; <a href=\"https://github.com/sensepost/objection\" rel=\"nofollow noreferrer\">Objection</a> are the most famous ones. Frida allows you to change any value, methods, return types of values, any thing loaded in memory.</p>\n<p>Good thing is that you dont need to learn smali, you can still use Java libraries to call any function on it.</p>\n<p>Sample code in your case will look like</p>\n<pre><code>Java.perform(function() {\nvar object = Java.use('packageName.ActivityName');\n\nobject.check.implementation = function() {\n    \n    return 3;\n}\n});\n</code></pre>\n"}],"owner":{"account_id":23532552,"reputation":1,"user_id":17577951,"display_name":"Suceru"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676025070,"creation_date":1675234502,"question_id":75306605,"body_markdown":"Requirement: I now have a `CrackMe.apk` without project file and code, I want to modify its code in java language without using smali and to dynamically debug the modified java file. I looked up many ways to dynamically debug the apk on the internet, and the internet is full of debugging using smali language, there is no case of debugging the apk using java language. Now, I am able to modify and run CrackMe.apk, but I don&#39;t know how to debug my code dynamically, I would like to ask how to implement dynamic debugging feature?\r\n\r\nSteps: I extract the dex file from `CrackMe.apk`, convert it to `classes.jar` file, remove the `android` and `androidx` packages from the jar file (not removing it will prompt the existence of the same package name after Add As Library).\r\nThen create a new blank project `test` in AS software, add `classes.jar` As Library. then create a new class `MainActivity.java` with the same name in the file path `src/main/com.XXX.XXX`, modify the code `if (this$0. check() == 999)` to `if (this$0.check() == 3)` and compile it. After compiling, overwrite the new MainActivity.class in the path `build\\intermediates\\javac\\debug\\classes\\com.XXX.XXX` with the `MainActivity.class` file of the same name in the old `classes.jar`, and then convert the `classes.jar` to `classes.dex` and replace the old `classes.dex`, then after signing it, it can be installed and run.\r\n\r\nDuring this process, can I debug the new MainActivity.java file at the AS software breakpoint in the test project path `src/main/com.XXX.XXX`. The class file generated by the test project is in the test project file path `build\\ intermediates\\javac\\debug\\classes\\com.XXX.XXX` in the test project. I want to dynamically debug `CrackMe.apk`, not `test-debug.apk`, MainActivity.java has nothing to do with the test project.  \r\nApkLink: [CrackMe.apk](https://www.dropbox.com/s/dyn1wbjj6d9p5lx/CrackMe.apk?dl=0)","title":"How to use java language to dynamically debug APK in AndroidStudio?","body":"<p>Requirement: I now have a <code>CrackMe.apk</code> without project file and code, I want to modify its code in java language without using smali and to dynamically debug the modified java file. I looked up many ways to dynamically debug the apk on the internet, and the internet is full of debugging using smali language, there is no case of debugging the apk using java language. Now, I am able to modify and run CrackMe.apk, but I don't know how to debug my code dynamically, I would like to ask how to implement dynamic debugging feature?</p>\n<p>Steps: I extract the dex file from <code>CrackMe.apk</code>, convert it to <code>classes.jar</code> file, remove the <code>android</code> and <code>androidx</code> packages from the jar file (not removing it will prompt the existence of the same package name after Add As Library).\nThen create a new blank project <code>test</code> in AS software, add <code>classes.jar</code> As Library. then create a new class <code>MainActivity.java</code> with the same name in the file path <code>src/main/com.XXX.XXX</code>, modify the code <code>if (this$0. check() == 999)</code> to <code>if (this$0.check() == 3)</code> and compile it. After compiling, overwrite the new MainActivity.class in the path <code>build\\intermediates\\javac\\debug\\classes\\com.XXX.XXX</code> with the <code>MainActivity.class</code> file of the same name in the old <code>classes.jar</code>, and then convert the <code>classes.jar</code> to <code>classes.dex</code> and replace the old <code>classes.dex</code>, then after signing it, it can be installed and run.</p>\n<p>During this process, can I debug the new MainActivity.java file at the AS software breakpoint in the test project path <code>src/main/com.XXX.XXX</code>. The class file generated by the test project is in the test project file path <code>build\\ intermediates\\javac\\debug\\classes\\com.XXX.XXX</code> in the test project. I want to dynamically debug <code>CrackMe.apk</code>, not <code>test-debug.apk</code>, MainActivity.java has nothing to do with the test project.<br />\nApkLink: <a href=\"https://www.dropbox.com/s/dyn1wbjj6d9p5lx/CrackMe.apk?dl=0\" rel=\"nofollow noreferrer\">CrackMe.apk</a></p>\n"},{"tags":["java","spring","spring-boot","junit","mockito"],"comments":[{"owner":{"account_id":5779615,"reputation":1456,"user_id":4560689,"display_name":"Chantell Osejo"},"score":0,"creation_date":1599858350,"post_id":61625060,"comment_id":112915909,"body_markdown":"Did you ever figure this out? I&#39;m running into this same problem.","body":"Did you ever figure this out? I&#39;m running into this same problem."},{"owner":{"account_id":1683176,"reputation":1761,"user_id":1546990,"accept_rate":91,"display_name":"GarlicBread"},"score":0,"creation_date":1600031778,"post_id":61625060,"comment_id":112952944,"body_markdown":"@ChantellOsejo: It&#39;s a while back now, but I don&#39;t think I did. All I could test was the workings of the RowCallbackHandler itself.","body":"@ChantellOsejo: It&#39;s a while back now, but I don&#39;t think I did. All I could test was the workings of the RowCallbackHandler itself."},{"owner":{"account_id":5779615,"reputation":1456,"user_id":4560689,"display_name":"Chantell Osejo"},"score":0,"creation_date":1600125128,"post_id":61625060,"comment_id":112983522,"body_markdown":"I did eventually come up with something, posted it as an answer here, maybe it&#39;ll be helpful for others (even though it&#39;s not a 1:1 mapping to what you are trying to do, I believe my answer can be flexed a bit to accomplish what you were trying to do here).","body":"I did eventually come up with something, posted it as an answer here, maybe it&#39;ll be helpful for others (even though it&#39;s not a 1:1 mapping to what you are trying to do, I believe my answer can be flexed a bit to accomplish what you were trying to do here)."}],"answers":[{"tags":[],"owner":{"account_id":5779615,"reputation":1456,"user_id":4560689,"display_name":"Chantell Osejo"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1600125030,"creation_date":1600125030,"answer_id":63892914,"question_id":61625060,"body_markdown":"I ran into this problem in my own code, thought I&#39;d share the solution here, even though it&#39;s slightly different than the situation above as I mock the jdbcTemplate as well.\r\n\r\n\r\n    @InjectMocks\r\n    private JdbcOperationRepository jdbcOperationRepository;\r\n\r\n    @Mock\r\n    private NamedParameterJdbcTemplate mockJdbcTemplate;\r\n\r\n    @Test\r\n    public void testMyResults() {\r\n      final ResultSet mockResult1 = mock(ResultSet.class);\r\n      when(mockResult1.getString(MY_COLUMN)).thenReturn(value);\r\n      // ... other when statements to mock the returned data\r\n    \r\n      doAnswer(invocation -&gt; {\r\n          RowCallbackHandler callbackHandler = invocation.getArgument(2);\r\n          callbackHandler.processRow(mockResult1);\r\n          callbackHandler.processRow(mockResult2);\r\n          return null;\r\n      }).when(mockJdbcTemplate).query(any(), any(), any(RowCallbackHandler.class));\r\n    }","title":"JUnit: mocking jdbcTemplate&#39;s query() method with a RowCallbackHandler","body":"<p>I ran into this problem in my own code, thought I'd share the solution here, even though it's slightly different than the situation above as I mock the jdbcTemplate as well.</p>\n<pre><code>@InjectMocks\nprivate JdbcOperationRepository jdbcOperationRepository;\n\n@Mock\nprivate NamedParameterJdbcTemplate mockJdbcTemplate;\n\n@Test\npublic void testMyResults() {\n  final ResultSet mockResult1 = mock(ResultSet.class);\n  when(mockResult1.getString(MY_COLUMN)).thenReturn(value);\n  // ... other when statements to mock the returned data\n\n  doAnswer(invocation -&gt; {\n      RowCallbackHandler callbackHandler = invocation.getArgument(2);\n      callbackHandler.processRow(mockResult1);\n      callbackHandler.processRow(mockResult2);\n      return null;\n  }).when(mockJdbcTemplate).query(any(), any(), any(RowCallbackHandler.class));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9835759,"reputation":471,"user_id":7286223,"display_name":"Raihanul Alam Hridoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676024978,"creation_date":1676024978,"answer_id":75409832,"question_id":61625060,"body_markdown":"I was struggling with the same problem. First, you have to keep in mind that you can mock almost anything in spring boot using Junit tests.\r\n\r\nI am writing the solution in a generalized pattern so that everyone can get an idea how it gets implemented and used.\r\n\r\nSuppose, we have a function implemented in our BookService.java class:\r\n\r\n```java\r\n@Service\r\npublic class BookService {\r\n\r\n    @Inject\r\n    private NamedParameterJdbcOperations jdbcTemplate;\r\n    \r\n    @Inject\r\n    private FileHelper fileHelper;\r\n    \r\n    public List&lt;BookDTO&gt; getBooks(Long libraryId){\r\n        String sql = fileHelper.getFileContents(&quot;SQL_FILE_PATH&quot;);\r\n        \r\n        Map&lt;String, Object&gt; parameterMap = new HashMap&lt;&gt;();\r\n        if(libraryId!=null){\r\n            parameterMap.put(&quot;libraryId&quot;, libraryId);\r\n        }\r\n        \r\n        List&lt;BookDTO&gt; books = new ArrayList&lt;&gt;();\r\n        \r\n        jdbcTemplate.query(sql, parameterMap, rs -&gt; {\r\n            BookDTO book = new BookDTO();\r\n            book.setId(rs.getLong(&quot;id&quot;));\r\n            book.setName(rs.getString(&quot;name&quot;));\r\n            \r\n            if(rs.getObject(&quot;librarian&quot;) != null){\r\n                book.setLibrarian(rs.getString(&quot;librarian&quot;));\r\n            }\r\n            books.add(book);\r\n        });\r\n        \r\n        return books;\r\n    }\r\n}\r\n\r\n```\r\n\r\nNow, we want to mock the functionality of the `jdbcTemplate.query()` method for the above service class.\r\n\r\nOur test should be written in this pattern:\r\n\r\n```\r\npublic class BookServiceMockTest {\r\n    @Mock\r\n    private NamedParameterJdbcOperations jdbcTemplate;\r\n    \r\n    @Mock\r\n    private FileHelper fileHelper;\r\n    \r\n    private BookService mockBookService;\r\n    \r\n    @Before\r\n    public void setup(){\r\n        mockBookService = new BookService();\r\n        // using reflectionUtils setFields of the fileHelper and jdbcTemplate.\r\n        // ....\r\n    }\r\n    \r\n    @Test\r\n    public void getBooksTest(){\r\n        \r\n        when(fileHelper.getFileContents(&quot;SQL_FILE_PATH&quot;)).thenReturn(&quot;SOME SQL&quot;);\r\n        doAnswer(invocation -&gt; {\r\n            // we are going to mock ResultSet class.\r\n            ResultSet rs = Mockito.mock(ResultSet.class);\r\n            when(rs.getLong(&quot;id&quot;)).thenReturn(1L);\r\n            when(rs.getString(&quot;name&quot;)).thenReturn(&quot;Game of Thrones&quot;);\r\n            \r\n            // this will mock the if() statement\r\n            when(rs.getObject(&quot;librarian&quot;)).thenReturn(&quot;John Doe&quot;);\r\n            \r\n            // this will mock the actual get statement call on getString() inside the if statement\r\n            when(rs.getString(&quot;librarian&quot;)).thenReturn(&quot;John Doe&quot;);\r\n            \r\n            // the argument index is important here.\r\n            // we are doing getArgument(2).\r\n            // This means the third parameter passed in the jdbcTemplate.query(Param0, Param1, Param2) in the BookService.getBooks() function.\r\n            RowCallbackHandler rch = (RowCallbackHandler) invocation.getArgument(2);\r\n            // as we are mocking only one row..\r\n            rch.processRow(rs);\r\n            \r\n            /* // if we wanter two or more results:\r\n                when(rs.getLong(&quot;id&quot;)).thenReturn(1L).thenReturn(2L);\r\n                when(rs.getString(&quot;name&quot;)).thenReturn(&quot;Game of Thrones&quot;).thenReturn(&quot;Dance of the Dragon&quot;);\r\n                int n = 2; // no of rows..\r\n                for(int i=0; i&lt;n; i++){\r\n                    rch.processRow(rs);\r\n                }\r\n            */\r\n            return null;\r\n        })\r\n        // the parameters used here are important. Any mismatch will result in unsuccessful.\r\n        .when(jdbcTemplate).query(eq(&quot;SOME SQL&quot;), anyMap(), any(RowCallbackHandler.class));\r\n        \r\n        List&lt;BookDTO&gt; books = mockBookService.getBooks(anyLong());\r\n        \r\n        verify(jdbcTemplate, times(1)).query(eq(&quot;SOME SQL&quot;), anyMap(), any(RowCallbackHandler.class));\r\n        \r\n        assertThat(books).hasSize(1);\r\n    }\r\n}\r\n```\r\n\r\nI hope this answered what you were looking for!","title":"JUnit: mocking jdbcTemplate&#39;s query() method with a RowCallbackHandler","body":"<p>I was struggling with the same problem. First, you have to keep in mind that you can mock almost anything in spring boot using Junit tests.</p>\n<p>I am writing the solution in a generalized pattern so that everyone can get an idea how it gets implemented and used.</p>\n<p>Suppose, we have a function implemented in our BookService.java class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class BookService {\n\n    @Inject\n    private NamedParameterJdbcOperations jdbcTemplate;\n    \n    @Inject\n    private FileHelper fileHelper;\n    \n    public List&lt;BookDTO&gt; getBooks(Long libraryId){\n        String sql = fileHelper.getFileContents(&quot;SQL_FILE_PATH&quot;);\n        \n        Map&lt;String, Object&gt; parameterMap = new HashMap&lt;&gt;();\n        if(libraryId!=null){\n            parameterMap.put(&quot;libraryId&quot;, libraryId);\n        }\n        \n        List&lt;BookDTO&gt; books = new ArrayList&lt;&gt;();\n        \n        jdbcTemplate.query(sql, parameterMap, rs -&gt; {\n            BookDTO book = new BookDTO();\n            book.setId(rs.getLong(&quot;id&quot;));\n            book.setName(rs.getString(&quot;name&quot;));\n            \n            if(rs.getObject(&quot;librarian&quot;) != null){\n                book.setLibrarian(rs.getString(&quot;librarian&quot;));\n            }\n            books.add(book);\n        });\n        \n        return books;\n    }\n}\n\n</code></pre>\n<p>Now, we want to mock the functionality of the <code>jdbcTemplate.query()</code> method for the above service class.</p>\n<p>Our test should be written in this pattern:</p>\n<pre><code>public class BookServiceMockTest {\n    @Mock\n    private NamedParameterJdbcOperations jdbcTemplate;\n    \n    @Mock\n    private FileHelper fileHelper;\n    \n    private BookService mockBookService;\n    \n    @Before\n    public void setup(){\n        mockBookService = new BookService();\n        // using reflectionUtils setFields of the fileHelper and jdbcTemplate.\n        // ....\n    }\n    \n    @Test\n    public void getBooksTest(){\n        \n        when(fileHelper.getFileContents(&quot;SQL_FILE_PATH&quot;)).thenReturn(&quot;SOME SQL&quot;);\n        doAnswer(invocation -&gt; {\n            // we are going to mock ResultSet class.\n            ResultSet rs = Mockito.mock(ResultSet.class);\n            when(rs.getLong(&quot;id&quot;)).thenReturn(1L);\n            when(rs.getString(&quot;name&quot;)).thenReturn(&quot;Game of Thrones&quot;);\n            \n            // this will mock the if() statement\n            when(rs.getObject(&quot;librarian&quot;)).thenReturn(&quot;John Doe&quot;);\n            \n            // this will mock the actual get statement call on getString() inside the if statement\n            when(rs.getString(&quot;librarian&quot;)).thenReturn(&quot;John Doe&quot;);\n            \n            // the argument index is important here.\n            // we are doing getArgument(2).\n            // This means the third parameter passed in the jdbcTemplate.query(Param0, Param1, Param2) in the BookService.getBooks() function.\n            RowCallbackHandler rch = (RowCallbackHandler) invocation.getArgument(2);\n            // as we are mocking only one row..\n            rch.processRow(rs);\n            \n            /* // if we wanter two or more results:\n                when(rs.getLong(&quot;id&quot;)).thenReturn(1L).thenReturn(2L);\n                when(rs.getString(&quot;name&quot;)).thenReturn(&quot;Game of Thrones&quot;).thenReturn(&quot;Dance of the Dragon&quot;);\n                int n = 2; // no of rows..\n                for(int i=0; i&lt;n; i++){\n                    rch.processRow(rs);\n                }\n            */\n            return null;\n        })\n        // the parameters used here are important. Any mismatch will result in unsuccessful.\n        .when(jdbcTemplate).query(eq(&quot;SOME SQL&quot;), anyMap(), any(RowCallbackHandler.class));\n        \n        List&lt;BookDTO&gt; books = mockBookService.getBooks(anyLong());\n        \n        verify(jdbcTemplate, times(1)).query(eq(&quot;SOME SQL&quot;), anyMap(), any(RowCallbackHandler.class));\n        \n        assertThat(books).hasSize(1);\n    }\n}\n</code></pre>\n<p>I hope this answered what you were looking for!</p>\n"}],"owner":{"account_id":1683176,"reputation":1761,"user_id":1546990,"accept_rate":91,"display_name":"GarlicBread"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2908,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1676024978,"creation_date":1588723139,"question_id":61625060,"body_markdown":"I have the following code in my Java class in a Spring Boot (v. 2.2.1.RELEASE) application:\r\n\r\n    @Inject\r\n    private JdbcTemplate jdbcTemplate;\r\n\r\n    @Inject\r\n    private MyRowCallbackHandler myRowCallbackHandler;\r\n\r\n    public void myMethod() {\r\n        jdbcTemplate.query(MY_QUERY, myRowCallbackHandler);\r\n    }\r\n\r\nThe JDBC template object is an implementation of org.springframework.jdbc.core.JdbcTemplate and the handler is an implementation of org.springframework.jdbc.core.RowCallbackHandler.\r\n\r\nWith JUnit version 4 and Mockito, can I mimic the retrieval of one or more rows from a database by the query method, thus calling the handler&#39;s processRow() method?\r\n\r\nThanks for any assistance.","title":"JUnit: mocking jdbcTemplate&#39;s query() method with a RowCallbackHandler","body":"<p>I have the following code in my Java class in a Spring Boot (v. 2.2.1.RELEASE) application:</p>\n\n<pre><code>@Inject\nprivate JdbcTemplate jdbcTemplate;\n\n@Inject\nprivate MyRowCallbackHandler myRowCallbackHandler;\n\npublic void myMethod() {\n    jdbcTemplate.query(MY_QUERY, myRowCallbackHandler);\n}\n</code></pre>\n\n<p>The JDBC template object is an implementation of org.springframework.jdbc.core.JdbcTemplate and the handler is an implementation of org.springframework.jdbc.core.RowCallbackHandler.</p>\n\n<p>With JUnit version 4 and Mockito, can I mimic the retrieval of one or more rows from a database by the query method, thus calling the handler's processRow() method?</p>\n\n<p>Thanks for any assistance.</p>\n"},{"tags":["java","jmeter","ubuntu-16.04"],"answers":[{"tags":[],"owner":{"account_id":13260014,"reputation":1971,"user_id":9574885,"display_name":"sunny_teo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529058779,"creation_date":1529058779,"answer_id":50873812,"question_id":50869774,"body_markdown":"Try to open and save again your jmx with &quot;Save Test Plan As&quot; and run again. It may happen when your jmx file does not contain &quot;Test Plan&quot; or sometimes when it is not get saved properly.\nIf that does not work try to rename the default name of the &quot;Test Plan&quot; to something else like &quot;My Test Plan&quot;.\n\n\n[![enter image description here][1]][1]\n\nHope this help.\n\n  [1]: https://i.stack.imgur.com/4P0OF.png","title":"Error in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class! on ubunto","body":"<p>Try to open and save again your jmx with &quot;Save Test Plan As&quot; and run again. It may happen when your jmx file does not contain &quot;Test Plan&quot; or sometimes when it is not get saved properly.\nIf that does not work try to rename the default name of the &quot;Test Plan&quot; to something else like &quot;My Test Plan&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/4P0OF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4P0OF.png\" alt=\"enter image description here\" /></a></p>\n<p>Hope this help.</p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1676411210,"post_id":75409821,"comment_id":133131102,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/75409821/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":27752300,"reputation":1,"user_id":21186511,"display_name":"user21186511"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676024933,"creation_date":1676024933,"answer_id":75409821,"question_id":50869774,"body_markdown":"I just write jmeter before -n and -t command and then the path of script. It works for me\r\neg. jmeter -n -t (location of test script)","title":"Error in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class! on ubunto","body":"<p>I just write jmeter before -n and -t command and then the path of script. It works for me\neg. jmeter -n -t (location of test script)</p>\n"}],"owner":{"account_id":9857087,"reputation":29,"user_id":7301265,"display_name":"Sumit Garg"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1551,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676024933,"creation_date":1529041811,"question_id":50869774,"body_markdown":"lenovo@lenovo-thinkcentre-mini:~/Documents/apache-jmeter-4.0/bin$ jmeter -n -t test.jmx -l my-test-plan-result.jtl -j my-test-plan-result.log -DTHREADS=500 -DRAMP_UP=60 -DDURATION=300\r\n\r\nCreating summariser &lt;summary&gt;\r\n\r\nCreated the tree successfully using test.jmx\r\n\r\nError in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class!","title":"Error in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class! on ubunto","body":"<p>lenovo@lenovo-thinkcentre-mini:~/Documents/apache-jmeter-4.0/bin$ jmeter -n -t test.jmx -l my-test-plan-result.jtl -j my-test-plan-result.log -DTHREADS=500 -DRAMP_UP=60 -DDURATION=300</p>\n\n<p>Creating summariser </p>\n\n<p>Created the tree successfully using test.jmx</p>\n\n<p>Error in NonGUIDriver java.lang.RuntimeException: Could not find the TestPlan class!</p>\n"},{"tags":["java","string","split"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1676017312,"post_id":75408499,"comment_id":133056067,"body_markdown":"Did you read the docs?","body":"Did you read the docs?"},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1676017335,"post_id":75408499,"comment_id":133056074,"body_markdown":"It&#39;s size 1 and size 2 (not 0 and 1)!","body":"It&#39;s size 1 and size 2 (not 0 and 1)!"},{"owner":{"account_id":16119704,"reputation":1,"user_id":11635962,"display_name":"Rohit Dhawan"},"score":0,"creation_date":1676018103,"post_id":75408499,"comment_id":133056272,"body_markdown":"Sorry for the typo. str1 size is 2 and str2 size is 1. str2 is clear as it has one space character. That&#39;s why the size is 1 but why the str1 size is 2? Considering that also has only one space character. I&#39;ve now corrected the typo in the question as well.","body":"Sorry for the typo. str1 size is 2 and str2 size is 1. str2 is clear as it has one space character. That&#39;s why the size is 1 but why the str1 size is 2? Considering that also has only one space character. I&#39;ve now corrected the typo in the question as well."}],"owner":{"account_id":16119704,"reputation":1,"user_id":11635962,"display_name":"Rohit Dhawan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1676017295,"answer_count":0,"score":0,"last_activity_date":1676024721,"creation_date":1676017177,"question_id":75408499,"body_markdown":"When I was trying to split a string using comma delimiter and string was having just two characters: a comma and a trailing space. After split the size of array is 2 but when I use string having a leading space and a comma, the size of array after split is 1. Can anyone please explain in details about this difference and its reason. \r\n\r\n```\r\nString s1 = &quot;, &quot;;\r\nString s2 = &quot; ,&quot;;\r\nString[] str1 = s1.split(&quot;,&quot;);\r\nString[] str2 = s2.split(&quot;,&quot;);\r\n#str1 is of 2 size and str2 is of 1 size.\r\n```\r\n\r\nI can understand the reason of str2 size as 1 which is because split&#39;s default behaviour is to discard empty strings after delimiter but why the size of str1 is 2? Does it consider leading empty strings? If yes, when I take string with comma as the only character, why the size is 0? Does it not consider leading empty strings at that time?","title":"Java Split Method Behaviour","body":"<p>When I was trying to split a string using comma delimiter and string was having just two characters: a comma and a trailing space. After split the size of array is 2 but when I use string having a leading space and a comma, the size of array after split is 1. Can anyone please explain in details about this difference and its reason.</p>\n<pre><code>String s1 = &quot;, &quot;;\nString s2 = &quot; ,&quot;;\nString[] str1 = s1.split(&quot;,&quot;);\nString[] str2 = s2.split(&quot;,&quot;);\n#str1 is of 2 size and str2 is of 1 size.\n</code></pre>\n<p>I can understand the reason of str2 size as 1 which is because split's default behaviour is to discard empty strings after delimiter but why the size of str1 is 2? Does it consider leading empty strings? If yes, when I take string with comma as the only character, why the size is 0? Does it not consider leading empty strings at that time?</p>\n"},{"tags":["java","centering","image-rotation","affinetransform","blurry"],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676024623,"creation_date":1676023812,"answer_id":75409612,"question_id":75409182,"body_markdown":"I would suggestion always rotating form the original image. Keep track of the total rotation.\r\n\r\n    int angleDegrees = 0;\r\n\r\nThat way there is less image quality degradation. Normally each time you use a bi-linear interpolation there will be some blurring.\r\n\r\n    AffineTransform transform = new AffineTransform();\r\n    angle += (angle + 1)%360;\r\n    transform.rotate(Math.toRad(angle), img.getWidth()/2, img.getHeight()/2);\r\n    AffineTransformOp op = new AffineTransformOp(transform, AffineTransformOp.TYPE_BILINEAR);\r\n    BufferedImage rotatedImage = op.createCompatibleDestImage(img, ColorModel.getRGBdefault());\r\n    op.filter(img, rotatedImage);\r\n    lbIm1.setIcon(new ImageIcon(rotatedImage));\r\n    lbIm1.repaint();\r\n\r\nNote the icon is changing sizes because the destination image is large enough to hold the whole image. That means the center of the icon will appear to move.\r\n\r\nIf you create the destination image this way.\r\n\r\n    BufferedImage rotatedImage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\r\n\r\nThen the destination will be cropped, but stay the same size. That way the center of the image doesn&#39;t appear to move.\r\n\r\nThe transform you&#39;re using, translate + rotate + translate back, work with this technique to. The 1 degree rotation causes some rounding error in the size of the image. So I wonder if that is why the image &quot;runs away&quot;","title":"Revolve image around center (blurry and not exactly at center)","body":"<p>I would suggestion always rotating form the original image. Keep track of the total rotation.</p>\n<pre><code>int angleDegrees = 0;\n</code></pre>\n<p>That way there is less image quality degradation. Normally each time you use a bi-linear interpolation there will be some blurring.</p>\n<pre><code>AffineTransform transform = new AffineTransform();\nangle += (angle + 1)%360;\ntransform.rotate(Math.toRad(angle), img.getWidth()/2, img.getHeight()/2);\nAffineTransformOp op = new AffineTransformOp(transform, AffineTransformOp.TYPE_BILINEAR);\nBufferedImage rotatedImage = op.createCompatibleDestImage(img, ColorModel.getRGBdefault());\nop.filter(img, rotatedImage);\nlbIm1.setIcon(new ImageIcon(rotatedImage));\nlbIm1.repaint();\n</code></pre>\n<p>Note the icon is changing sizes because the destination image is large enough to hold the whole image. That means the center of the icon will appear to move.</p>\n<p>If you create the destination image this way.</p>\n<pre><code>BufferedImage rotatedImage = new BufferedImage(img.getWidth(), img.getHeight(), BufferedImage.TYPE_INT_ARGB);\n</code></pre>\n<p>Then the destination will be cropped, but stay the same size. That way the center of the image doesn't appear to move.</p>\n<p>The transform you're using, translate + rotate + translate back, work with this technique to. The 1 degree rotation causes some rounding error in the size of the image. So I wonder if that is why the image &quot;runs away&quot;</p>\n"}],"owner":{"account_id":19848299,"reputation":117,"user_id":14646358,"display_name":"RichS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1676024623,"creation_date":1676021559,"question_id":75409182,"body_markdown":"I&#39;m trying to revolve a BufferedImage around its center. Here&#39;s my Code:\r\n```\r\nframe = new JFrame();\r\nGridBagLayout gLayout = new GridBagLayout();\r\nframe.getContentPane().setLayout(gLayout);\r\n\r\nlbIm1 = new JLabel(new ImageIcon(img));\r\nlbIm1.setPreferredSize(new Dimension(800, 800));\r\nTimer timer = new Timer(100, e -&gt; {\r\n\t\tAffineTransform transform = new AffineTransform();\r\n\t\ttransform.translate(img.getWidth()/2, img.getHeight()/2);\r\n\t\ttransform.rotate(Math.toRadians(1), 0, 0);\r\n\t\ttransform.translate(-img.getWidth()/2, -img.getHeight()/2);\r\n\t\tAffineTransformOp op = new AffineTransformOp(transform, AffineTransformOp.TYPE_BILINEAR);\r\n\t\tBufferedImage rotatedImage = op.createCompatibleDestImage(img, img.getColorModel());\r\n\t\top.filter(img, rotatedImage);\r\n\t\tlbIm1.setIcon(new ImageIcon(rotatedImage));\r\n\t\timg = rotatedImage;\r\n\t\tlbIm1.repaint();\r\n});\r\ntimer.start();\r\n\r\nc.fill = GridBagConstraints.HORIZONTAL;\r\nc.gridx = 0;\r\nc.gridy = 1;\r\nframe.getContentPane().add(lbIm1, c);\r\n\r\nframe.pack();\r\nframe.setVisible(true);\r\n```\r\n\r\nThe image size is 512 x 512. The problem in this code are:\r\n1. The rotation is not exactly at center. It would rotate out of the screen.\r\n2. The imagine became blurry over time.\r\n\r\nI have searched online for a very long time and nothing seems to help. Any suggestions would be much appreciated. Thanks.","title":"Revolve image around center (blurry and not exactly at center)","body":"<p>I'm trying to revolve a BufferedImage around its center. Here's my Code:</p>\n<pre><code>frame = new JFrame();\nGridBagLayout gLayout = new GridBagLayout();\nframe.getContentPane().setLayout(gLayout);\n\nlbIm1 = new JLabel(new ImageIcon(img));\nlbIm1.setPreferredSize(new Dimension(800, 800));\nTimer timer = new Timer(100, e -&gt; {\n        AffineTransform transform = new AffineTransform();\n        transform.translate(img.getWidth()/2, img.getHeight()/2);\n        transform.rotate(Math.toRadians(1), 0, 0);\n        transform.translate(-img.getWidth()/2, -img.getHeight()/2);\n        AffineTransformOp op = new AffineTransformOp(transform, AffineTransformOp.TYPE_BILINEAR);\n        BufferedImage rotatedImage = op.createCompatibleDestImage(img, img.getColorModel());\n        op.filter(img, rotatedImage);\n        lbIm1.setIcon(new ImageIcon(rotatedImage));\n        img = rotatedImage;\n        lbIm1.repaint();\n});\ntimer.start();\n\nc.fill = GridBagConstraints.HORIZONTAL;\nc.gridx = 0;\nc.gridy = 1;\nframe.getContentPane().add(lbIm1, c);\n\nframe.pack();\nframe.setVisible(true);\n</code></pre>\n<p>The image size is 512 x 512. The problem in this code are:</p>\n<ol>\n<li>The rotation is not exactly at center. It would rotate out of the screen.</li>\n<li>The imagine became blurry over time.</li>\n</ol>\n<p>I have searched online for a very long time and nothing seems to help. Any suggestions would be much appreciated. Thanks.</p>\n"},{"tags":["java","spring","validation","hibernate-validator"],"comments":[{"owner":{"account_id":14999839,"reputation":138,"user_id":10827862,"display_name":"smileis2333"},"score":0,"creation_date":1683796530,"post_id":75403432,"comment_id":134422532,"body_markdown":"the `@NotBlank` and `@Email`(it is validate then not blank) validation are  independent,  so there is no need to controll the validation order","body":"the <code>@NotBlank</code> and <code>@Email</code>(it is validate then not blank) validation are  independent,  so there is no need to controll the validation order"}],"answers":[{"tags":[],"owner":{"account_id":6366204,"reputation":2197,"user_id":4940126,"display_name":"mark_o"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676024592,"creation_date":1676024592,"answer_id":75409767,"question_id":75403432,"body_markdown":"Note that having validation group sequences means that as soon as one of the groups defined in the sequence generates at least one constraint violation, no further groups will be processed. With that said, one way to approach this could be:\r\n\r\nAdd groups to your constraints: \r\n\r\n    class User {\r\n    \t@NotBlank                                               // leave in the default group\r\n    \t@Email(regexp = &quot;.*@email.com&quot;, groups = Second.class)  // need to have a group to put it in the &quot;second round&quot; of validation\r\n    \t@UniqueEmail(groups = Third.class)                      // need to have a group to put it in the &quot;third round&quot; of validation\r\n    \tprivate String email;\r\n    \r\n    \t@NotBlank                       // leave in the default group\r\n    \t@Length(min = 8)                // leave in the default group\r\n    \tprivate String password;\r\n    \r\n    \tpublic User(String email, String password) {\r\n    \t\tthis.email = email;\r\n    \t\tthis.password = password;\r\n    \t}\r\n    }\r\n\r\nand then define your sequences as:\r\n\r\n    @GroupSequence({Default.class, Second.class, Third.class})\r\n    interface UserCreateValidationGroupSequence {}\r\n    \r\n    @GroupSequence({Default.class, Second.class})\r\n    interface UserUpdateValidationGroupSequence {}\r\n\r\nand then you&#39;d pass either create or update sequence to the validator, in your case, it could be:\r\n\r\n    @Service\r\n    public class UserService {\r\n    \tpublic void addUser(@Validated(UserCreateValidationGroupSequence.class) User user){...}\r\n    \tpublic void updateUser(@Validated(UserUpdateValidationGroupSequence.class) User user){...}\r\n    }\r\n\r\nNow, if you&#39;d like to keep the `updateUser()` service call without passing the specific group(sequence) and only mark it with `@Valid/@Validated` you can consider looking at default group sequence redefinition. In such case, you&#39;d add the default (update) sequence definition to your class:\r\n\r\n    @GroupSequence({User.class, Second.class})\r\n    class User {\r\n    \t@NotBlank                                               // leave in the default group\r\n    \t@Email(regexp = &quot;.*@email.com&quot;, groups = Second.class)  // need to have a group to put it in the &quot;second round&quot; of validation\r\n    \t@UniqueEmail(groups = Third.class)                      // need to have a group to put it in the &quot;third round&quot; of validation\r\n    \tprivate String email;\r\n    \r\n    \t@NotBlank                       // leave in the default group\r\n    \t@Length(min = 8)                // leave in the default group\r\n    \tprivate String password;\r\n    \r\n    }\r\n\r\nhave the create sequence:\r\n\r\n    @GroupSequence({Default.class, Second.class, Third.class})\r\n    interface UserCreateValidationGroupSequence {}\r\n\r\nand finally, in service:\r\n\r\n    @Service\r\n    public class UserService {\r\n    \tpublic void addUser(@Validated(UserCreateValidationGroupSequence.class) User user){...}\r\n    \tpublic void updateUser(@Valid User user){...}\r\n    }","title":"Bean validation - Combining validation groups and group sequence","body":"<p>Note that having validation group sequences means that as soon as one of the groups defined in the sequence generates at least one constraint violation, no further groups will be processed. With that said, one way to approach this could be:</p>\n<p>Add groups to your constraints:</p>\n<pre><code>class User {\n    @NotBlank                                               // leave in the default group\n    @Email(regexp = &quot;.*@email.com&quot;, groups = Second.class)  // need to have a group to put it in the &quot;second round&quot; of validation\n    @UniqueEmail(groups = Third.class)                      // need to have a group to put it in the &quot;third round&quot; of validation\n    private String email;\n\n    @NotBlank                       // leave in the default group\n    @Length(min = 8)                // leave in the default group\n    private String password;\n\n    public User(String email, String password) {\n        this.email = email;\n        this.password = password;\n    }\n}\n</code></pre>\n<p>and then define your sequences as:</p>\n<pre><code>@GroupSequence({Default.class, Second.class, Third.class})\ninterface UserCreateValidationGroupSequence {}\n\n@GroupSequence({Default.class, Second.class})\ninterface UserUpdateValidationGroupSequence {}\n</code></pre>\n<p>and then you'd pass either create or update sequence to the validator, in your case, it could be:</p>\n<pre><code>@Service\npublic class UserService {\n    public void addUser(@Validated(UserCreateValidationGroupSequence.class) User user){...}\n    public void updateUser(@Validated(UserUpdateValidationGroupSequence.class) User user){...}\n}\n</code></pre>\n<p>Now, if you'd like to keep the <code>updateUser()</code> service call without passing the specific group(sequence) and only mark it with <code>@Valid/@Validated</code> you can consider looking at default group sequence redefinition. In such case, you'd add the default (update) sequence definition to your class:</p>\n<pre><code>@GroupSequence({User.class, Second.class})\nclass User {\n    @NotBlank                                               // leave in the default group\n    @Email(regexp = &quot;.*@email.com&quot;, groups = Second.class)  // need to have a group to put it in the &quot;second round&quot; of validation\n    @UniqueEmail(groups = Third.class)                      // need to have a group to put it in the &quot;third round&quot; of validation\n    private String email;\n\n    @NotBlank                       // leave in the default group\n    @Length(min = 8)                // leave in the default group\n    private String password;\n\n}\n</code></pre>\n<p>have the create sequence:</p>\n<pre><code>@GroupSequence({Default.class, Second.class, Third.class})\ninterface UserCreateValidationGroupSequence {}\n</code></pre>\n<p>and finally, in service:</p>\n<pre><code>@Service\npublic class UserService {\n    public void addUser(@Validated(UserCreateValidationGroupSequence.class) User user){...}\n    public void updateUser(@Valid User user){...}\n}\n</code></pre>\n"}],"owner":{"account_id":17814639,"reputation":63,"user_id":12938483,"display_name":"PoCiTo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1676024592,"creation_date":1675970351,"question_id":75403432,"body_markdown":"I have simple entity with some validations. I want some of them to run in certain order, and other to run only in particural case. So far I end with something like this, but dont know how to use the groups properly.\r\n\r\nEntity class\r\n\r\n    @Entity\r\n    public class User{\r\n    \t@NotBlank\t\t\t\t\t\t//This should go FIRST\r\n    \t@Email(regexp = &quot;xxxxx&quot;)\t\t//This should go SECOND\r\n    \t@UniqueEmail\t\t\t\t\t//This should go THIRD but only on create\r\n    \tprivate String email;\r\n    \t\r\n    \t@NotBlank\t\t\t\t\t\t//This should go FIRST\r\n    \t@Length(min = 8)\t\t\t\t//This should go FIRST\r\n    \tprivate String password;\r\n    }\r\n\r\nService class\r\n\r\n    @Service\r\n    public class UserService {\r\n    \tpublic void addUser(@Validated(OnCreate.class) User user){...}\r\n    \tpublic void updateUser(User user){...}\r\n    }\r\n\r\nValidation groups\r\n\r\n    public class UserValidationGroups {\r\n    \t@GroupSequence({Default.class, EmailFormatValid.class, UniqueEmail.class})\r\n    \tpublic interface UserValidationGroupSeqence{}\r\n    \tpublic interface UniqueEmail{}\r\n    \tpublic interface EmailFormatValid{}\r\n    \t\r\n    }\r\n\r\nHow can I make these validation to work the way as commented?","title":"Bean validation - Combining validation groups and group sequence","body":"<p>I have simple entity with some validations. I want some of them to run in certain order, and other to run only in particural case. So far I end with something like this, but dont know how to use the groups properly.</p>\n<p>Entity class</p>\n<pre><code>@Entity\npublic class User{\n    @NotBlank                       //This should go FIRST\n    @Email(regexp = &quot;xxxxx&quot;)        //This should go SECOND\n    @UniqueEmail                    //This should go THIRD but only on create\n    private String email;\n    \n    @NotBlank                       //This should go FIRST\n    @Length(min = 8)                //This should go FIRST\n    private String password;\n}\n</code></pre>\n<p>Service class</p>\n<pre><code>@Service\npublic class UserService {\n    public void addUser(@Validated(OnCreate.class) User user){...}\n    public void updateUser(User user){...}\n}\n</code></pre>\n<p>Validation groups</p>\n<pre><code>public class UserValidationGroups {\n    @GroupSequence({Default.class, EmailFormatValid.class, UniqueEmail.class})\n    public interface UserValidationGroupSeqence{}\n    public interface UniqueEmail{}\n    public interface EmailFormatValid{}\n    \n}\n</code></pre>\n<p>How can I make these validation to work the way as commented?</p>\n"},{"tags":["java","mockito","sap-commerce-cloud","hybris-data-hub"],"comments":[{"owner":{"account_id":16450692,"reputation":574,"user_id":11884183,"display_name":"Felix Schildmann"},"score":0,"creation_date":1675719408,"post_id":75365243,"comment_id":132986042,"body_markdown":"Have you tried performing &quot;Update Running System&quot; and &quot;Clear orphan types&quot; in hac?","body":"Have you tried performing &quot;Update Running System&quot; and &quot;Clear orphan types&quot; in hac?"},{"owner":{"account_id":18052411,"reputation":55,"user_id":13121754,"display_name":"Hero Hamada"},"score":0,"creation_date":1675757209,"post_id":75365243,"comment_id":132992003,"body_markdown":"@FelixSchildmann, yes I&#39;ve tried both of them, hac says there is no orphan type","body":"@FelixSchildmann, yes I&#39;ve tried both of them, hac says there is no orphan type"}],"answers":[{"tags":[],"owner":{"account_id":3644469,"reputation":784,"user_id":3037847,"display_name":"Ricardo Machado"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1675761139,"creation_date":1675761139,"answer_id":75371094,"question_id":75365243,"body_markdown":"If you want to use ProductData from items.xml you should be using ProductDataModel instead of ProductData. ","title":"Hybris. Couldn&#39;t run any test because of NPE exception Item.getImplementation() not found","body":"<p>If you want to use ProductData from items.xml you should be using ProductDataModel instead of ProductData.</p>\n"}],"owner":{"account_id":18052411,"reputation":55,"user_id":13121754,"display_name":"Hero Hamada"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75371094,"answer_count":1,"score":1,"last_activity_date":1676024567,"creation_date":1675708138,"question_id":75365243,"body_markdown":"I run Hybris locally. But I&#39;m getting error while running tests:\r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke &quot;de.hybris.platform.jalo.Item$ItemImpl.isLocalCachingSupported()&quot; because the return value of &quot;de.hybris.platform.jalo.Item.getImplementation()&quot; is null\r\n\r\nat `ProductData` setter code lines:\r\n\r\n    \tpublic void setCode(final SessionContext ctx, final String value)\r\n\t{\r\n\t\tsetProperty(ctx, &quot;code&quot;.intern(),value);\r\n\t}\r\n\t\r\n\r\nIntegration and Unit test are same returns errors.\r\n \r\nBefore that `ant yunitinit` helped me. But this time I even have tried `ant clean all`, `ant initialize` but no changings.\r\n\r\nIt&#39;s my added item type. It generated correct table and class.\r\n\r\n    \t\t&lt;itemtype code=&quot;ProductData&quot; autocreate=&quot;true&quot; generate=&quot;true&quot;&gt;\r\n\t\t\t&lt;deployment table=&quot;ProductData&quot; typecode=&quot;30800&quot;/&gt;\r\n\t\t\t&lt;attributes&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;code&quot; type=&quot;java.lang.String&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;weight&quot; type=&quot;java.lang.Double&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;height&quot; type=&quot;java.lang.Double&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;length&quot; type=&quot;java.lang.Double&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t&lt;attribute qualifier=&quot;width&quot; type=&quot;java.lang.Double&quot;&gt;\r\n\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\r\n\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t&lt;/attributes&gt;\r\n\t\t&lt;/itemtype&gt;\r\n\r\nAnd test class itself:\r\n\r\n    package com.epam.trainingextension.setup.populator;\r\n\r\n    import com.epam.trainingextension.enums.ProductOption;\r\n    import com.epam.trainingextension.jalo.ProductData;\r\n    import de.hybris.bootstrap.annotations.IntegrationTest;\r\n    import de.hybris.bootstrap.annotations.UnitTest;\r\n    import de.hybris.platform.core.Registry;\r\n    import de.hybris.platform.core.model.product.ProductModel;\r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    import org.junit.runner.RunWith;\r\n    import org.mockito.InjectMocks;\r\n    import org.mockito.Mock;\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n    import org.springframework.jdbc.core.JdbcTemplate;\r\n    \r\n    import java.util.Collections;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import static org.junit.Assert.assertEquals;\r\n    import static org.junit.Assert.assertNull;\r\n    import static org.mockito.Mockito.when;\r\n    \r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ProductPopulatorTest {\r\n        @InjectMocks\r\n        private ProductPopulator productPopulator;\r\n    \r\n        @Mock\r\n        private ProductModel productModel;\r\n    \r\n        @Test\r\n        public void testPopulate_whenPhysicalDimensionsOptionIsPassed_shouldPopulateWeight()\r\n        {\r\n            when(productModel.getCode()).thenReturn(&quot;productCode&quot;);\r\n            when(productModel.getWeight()).thenReturn(100.0);\r\n    \r\n            final ProductData productData = new ProductData();\r\n            productPopulator.populate(productModel, productData, Collections.singletonList(ProductOption.PHYSICAL_DIMENSIONS));\r\n    \r\n            assertEquals(&quot;productCode&quot;, productData.getCode());\r\n            assertEquals(100.0, productData.getWeight(), 0.0);\r\n        }\r\n    }\r\n\r\nTest was green, but I&#39;ve changed declaration of `ProductData`. I used `items.xml` instead of just usual declaration of class in packages. I thought maybe here was left orphans, but I don&#39;t have one. \r\n\r\n**Cause of error was that I had already ProductData in db, and I removed declaration of ProductData from items.xml how suggested in answers, and declared class instead**","title":"Hybris. Couldn&#39;t run any test because of NPE exception Item.getImplementation() not found","body":"<p>I run Hybris locally. But I'm getting error while running tests:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke &quot;de.hybris.platform.jalo.Item$ItemImpl.isLocalCachingSupported()&quot; because the return value of &quot;de.hybris.platform.jalo.Item.getImplementation()&quot; is null</p>\n</blockquote>\n<p>at <code>ProductData</code> setter code lines:</p>\n<pre><code>    public void setCode(final SessionContext ctx, final String value)\n{\n    setProperty(ctx, &quot;code&quot;.intern(),value);\n}\n</code></pre>\n<p>Integration and Unit test are same returns errors.</p>\n<p>Before that <code>ant yunitinit</code> helped me. But this time I even have tried <code>ant clean all</code>, <code>ant initialize</code> but no changings.</p>\n<p>It's my added item type. It generated correct table and class.</p>\n<pre><code>        &lt;itemtype code=&quot;ProductData&quot; autocreate=&quot;true&quot; generate=&quot;true&quot;&gt;\n        &lt;deployment table=&quot;ProductData&quot; typecode=&quot;30800&quot;/&gt;\n        &lt;attributes&gt;\n            &lt;attribute qualifier=&quot;code&quot; type=&quot;java.lang.String&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n            &lt;attribute qualifier=&quot;weight&quot; type=&quot;java.lang.Double&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n            &lt;attribute qualifier=&quot;height&quot; type=&quot;java.lang.Double&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n            &lt;attribute qualifier=&quot;length&quot; type=&quot;java.lang.Double&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n            &lt;attribute qualifier=&quot;width&quot; type=&quot;java.lang.Double&quot;&gt;\n                &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;modifiers read=&quot;true&quot; write=&quot;true&quot; search=&quot;true&quot; optional=&quot;true&quot;/&gt;\n            &lt;/attribute&gt;\n        &lt;/attributes&gt;\n    &lt;/itemtype&gt;\n</code></pre>\n<p>And test class itself:</p>\n<pre><code>package com.epam.trainingextension.setup.populator;\n\nimport com.epam.trainingextension.enums.ProductOption;\nimport com.epam.trainingextension.jalo.ProductData;\nimport de.hybris.bootstrap.annotations.IntegrationTest;\nimport de.hybris.bootstrap.annotations.UnitTest;\nimport de.hybris.platform.core.Registry;\nimport de.hybris.platform.core.model.product.ProductModel;\nimport org.junit.Before;\nimport org.junit.Test;\nimport org.junit.runner.RunWith;\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.junit.MockitoJUnitRunner;\nimport org.springframework.jdbc.core.JdbcTemplate;\n\nimport java.util.Collections;\nimport java.util.concurrent.TimeUnit;\n\nimport static org.junit.Assert.assertEquals;\nimport static org.junit.Assert.assertNull;\nimport static org.mockito.Mockito.when;\n\n@RunWith(MockitoJUnitRunner.class)\npublic class ProductPopulatorTest {\n    @InjectMocks\n    private ProductPopulator productPopulator;\n\n    @Mock\n    private ProductModel productModel;\n\n    @Test\n    public void testPopulate_whenPhysicalDimensionsOptionIsPassed_shouldPopulateWeight()\n    {\n        when(productModel.getCode()).thenReturn(&quot;productCode&quot;);\n        when(productModel.getWeight()).thenReturn(100.0);\n\n        final ProductData productData = new ProductData();\n        productPopulator.populate(productModel, productData, Collections.singletonList(ProductOption.PHYSICAL_DIMENSIONS));\n\n        assertEquals(&quot;productCode&quot;, productData.getCode());\n        assertEquals(100.0, productData.getWeight(), 0.0);\n    }\n}\n</code></pre>\n<p>Test was green, but I've changed declaration of <code>ProductData</code>. I used <code>items.xml</code> instead of just usual declaration of class in packages. I thought maybe here was left orphans, but I don't have one.</p>\n<p><strong>Cause of error was that I had already ProductData in db, and I removed declaration of ProductData from items.xml how suggested in answers, and declared class instead</strong></p>\n"},{"tags":["java","dns","java-web-start"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":0,"creation_date":1322829639,"post_id":6140872,"comment_id":10307670,"body_markdown":"Note, that it is necessary for enforcement of the same-origin policy that DNS mappings are pinned.","body":"Note, that it is necessary for enforcement of the same-origin policy that DNS mappings are pinned."}],"answers":[{"comments":[{"owner":{"account_id":56256,"reputation":53237,"user_id":168493,"accept_rate":92,"display_name":"Marcus Adams"},"score":0,"creation_date":1306427896,"post_id":6141273,"comment_id":7130755,"body_markdown":"It&#39;s a security property, not a system one. Also, setting the property isn&#39;t the issue. It&#39;s being ignored. Thanks.","body":"It&#39;s a security property, not a system one. Also, setting the property isn&#39;t the issue. It&#39;s being ignored. Thanks."}],"tags":[],"owner":{"account_id":21804,"reputation":7207,"user_id":53300,"accept_rate":53,"display_name":"DaveH"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1306424544,"creation_date":1306424544,"answer_id":6141273,"question_id":6140872,"body_markdown":"Are you running this with javaws? If you are, have you tried\r\n\r\n    javaws -J-Dnetworkaddress.cache.ttl=0 yourapp.jnlp","title":"How to set Java DNS resolver cache TTL in Web Start application?","body":"<p>Are you running this with javaws? If you are, have you tried</p>\n\n<pre><code>javaws -J-Dnetworkaddress.cache.ttl=0 yourapp.jnlp\n</code></pre>\n"},{"comments":[{"owner":{"account_id":56256,"reputation":53237,"user_id":168493,"accept_rate":92,"display_name":"Marcus Adams"},"score":0,"creation_date":1323100717,"post_id":8304052,"comment_id":10354247,"body_markdown":"I haven&#39;t tested this out yet, but since you&#39;ve, at a minimum, given me more information, you get the bounty. Thank you.","body":"I haven&#39;t tested this out yet, but since you&#39;ve, at a minimum, given me more information, you get the bounty. Thank you."},{"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"score":0,"creation_date":1323103861,"post_id":8304052,"comment_id":10355364,"body_markdown":"@Marcus, the info should be valid for Java6 (or 7) since you&#39;re using webstart I assumed Java6.","body":"@Marcus, the info should be valid for Java6 (or 7) since you&#39;re using webstart I assumed Java6."}],"tags":[],"owner":{"account_id":266709,"reputation":11856,"user_id":554431,"display_name":"bestsss"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1322555292,"creation_date":1322524285,"answer_id":8304052,"question_id":6140872,"body_markdown":"The simple answer is that `sun.net.InetAddressCachePolicy` is initialized only once in the static{} initializer taking into account the property you specify. Webstart loader obviously uses the class, hence it doesn&#39;t take your value.\r\n\r\nHowever, since the property may not be initialized you can use `InetAddressCachePolicy.setIfNotSet(InetAddressCachePolicy.NEVER)`.\r\n\r\nAlternatively there is a system property to add to the jnlp:\r\n*&lt; property name=&quot;com.sun.net.inetaddr.ttl&quot; value=&quot;0&quot; /&gt;*\r\n\r\nIf it is specified already by the webstart (have not tested) you can resort only on hacking via reflection `Field f= InetAddressCachePolicy.getDeclaredField(&quot;cachePolicy&quot;); f.setAccessible(true); f.setInt(0);` *which may or may not work.*\r\n\r\nGood luck and happy hacking!","title":"How to set Java DNS resolver cache TTL in Web Start application?","body":"<p>The simple answer is that <code>sun.net.InetAddressCachePolicy</code> is initialized only once in the static{} initializer taking into account the property you specify. Webstart loader obviously uses the class, hence it doesn't take your value.</p>\n\n<p>However, since the property may not be initialized you can use <code>InetAddressCachePolicy.setIfNotSet(InetAddressCachePolicy.NEVER)</code>.</p>\n\n<p>Alternatively there is a system property to add to the jnlp:\n<em>&lt; property name=\"com.sun.net.inetaddr.ttl\" value=\"0\" /></em></p>\n\n<p>If it is specified already by the webstart (have not tested) you can resort only on hacking via reflection <code>Field f= InetAddressCachePolicy.getDeclaredField(\"cachePolicy\"); f.setAccessible(true); f.setInt(0);</code> <em>which may or may not work.</em></p>\n\n<p>Good luck and happy hacking!</p>\n"}],"owner":{"account_id":56256,"reputation":53237,"user_id":168493,"accept_rate":92,"display_name":"Marcus Adams"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2585,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1676024551,"creation_date":1306422696,"question_id":6140872,"body_markdown":"I am able to tell the Java DNS resolver not to cache like this:\r\n\r\n    java.security.Security.setProperty(&quot;networkaddress.cache.ttl&quot;, &quot;0&quot;);\r\n\r\nThis works just fine when the program is run directly from the JRE, however, when run from Web Start, this setting seems to be ignored, and it caches forever. I don&#39;t get a SecurityException.\r\n\r\nHowever, if I set the security manager to null, the setting will work in Web Start:\r\n\r\n    System.setSecurityManager(null);\r\n\r\nDoes anybody know a way to enable this property in Web Start without turning off the Security Manager? Also, if you can simply shed more light on what&#39;s going on, I&#39;d appreciate it.","title":"How to set Java DNS resolver cache TTL in Web Start application?","body":"<p>I am able to tell the Java DNS resolver not to cache like this:</p>\n\n<pre><code>java.security.Security.setProperty(\"networkaddress.cache.ttl\", \"0\");\n</code></pre>\n\n<p>This works just fine when the program is run directly from the JRE, however, when run from Web Start, this setting seems to be ignored, and it caches forever. I don't get a SecurityException.</p>\n\n<p>However, if I set the security manager to null, the setting will work in Web Start:</p>\n\n<pre><code>System.setSecurityManager(null);\n</code></pre>\n\n<p>Does anybody know a way to enable this property in Web Start without turning off the Security Manager? Also, if you can simply shed more light on what's going on, I'd appreciate it.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5000707,"reputation":1097,"user_id":4019835,"display_name":"Bouramas"},"score":0,"creation_date":1676012878,"post_id":75406234,"comment_id":133055035,"body_markdown":"Try this one: `&lt;dependency&gt;\n    &lt;groupId&gt;javax.sql&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.sql-api&lt;/artifactId&gt;\n    &lt;version&gt;XX.XX.XX&lt;/version&gt;\n&lt;/dependency&gt;`","body":"Try this one: <code>&lt;dependency&gt;     &lt;groupId&gt;javax.sql&lt;&#47;groupId&gt;     &lt;artifactId&gt;javax.sql-api&lt;&#47;artifactId&gt;     &lt;version&gt;XX.XX.XX&lt;&#47;version&gt; &lt;&#47;dependency&gt;</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676012912,"post_id":75406234,"comment_id":133055047,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"comments":[{"owner":{"account_id":26598430,"reputation":1,"user_id":20220402,"display_name":"Galen"},"score":0,"creation_date":1676009824,"post_id":75406495,"comment_id":133054551,"body_markdown":"thanks, but the problem  is not resolved. PS, my db is postgresql.","body":"thanks, but the problem  is not resolved. PS, my db is postgresql."}],"tags":[],"owner":{"account_id":5534447,"reputation":42,"user_id":4393276,"display_name":"luckyqiao"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675997774,"creation_date":1675997774,"answer_id":75406495,"question_id":75406234,"body_markdown":"try to import this maven library\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.32&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n","title":"The type java.sql.SQLException cannot be resolved. It is indirectly referenced from required type com.alibaba.druid.pool.DruidDataSource","body":"<p>try to import this maven library</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n    &lt;version&gt;8.0.32&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676325075,"post_id":75409752,"comment_id":133111293,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/75409752/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":26598430,"reputation":1,"user_id":20220402,"display_name":"Galen"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676024526,"creation_date":1676024526,"answer_id":75409752,"question_id":75406234,"body_markdown":"it should be jre compatibility issue, jre1.8 is ok","title":"The type java.sql.SQLException cannot be resolved. It is indirectly referenced from required type com.alibaba.druid.pool.DruidDataSource","body":"<p>it should be jre compatibility issue, jre1.8 is ok</p>\n"}],"owner":{"account_id":26598430,"reputation":1,"user_id":20220402,"display_name":"Galen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1676024526,"creation_date":1675994002,"question_id":75406234,"body_markdown":"\r\n```\r\npackage com.test.redis.config;\r\n\r\nimport com.alibaba.druid.pool.DruidDataSource;\r\nimport com.alibaba.druid.support.http.StatViewServlet;\r\nimport com.alibaba.druid.support.http.WebStatFilter;\r\n \r\n\r\nimport javax.sql.DataSource;\r\nimport java.sql.SQLException;\r\n```\r\n\r\nIDEA SpringTooSuit4, maven pom.xml config jpa. \r\n\r\n-----------\r\njavax.sql.DataSource,java.sql.SQLException can not be resolved.\r\n\r\nno idea ............\r\nexpect import success","title":"The type java.sql.SQLException cannot be resolved. It is indirectly referenced from required type com.alibaba.druid.pool.DruidDataSource","body":"<pre><code>package com.test.redis.config;\n\nimport com.alibaba.druid.pool.DruidDataSource;\nimport com.alibaba.druid.support.http.StatViewServlet;\nimport com.alibaba.druid.support.http.WebStatFilter;\n \n\nimport javax.sql.DataSource;\nimport java.sql.SQLException;\n</code></pre>\n<p>IDEA SpringTooSuit4, maven pom.xml config jpa.</p>\n<hr />\n<p>javax.sql.DataSource,java.sql.SQLException can not be resolved.</p>\n<p>no idea ............\nexpect import success</p>\n"},{"tags":["java","stdin","readline","ioexception"],"answers":[{"tags":[],"owner":{"account_id":2248,"reputation":7914,"user_id":3105,"accept_rate":86,"display_name":"Marcin"},"comment_count":0,"down_vote_count":0,"up_vote_count":74,"is_accepted":true,"score":74,"last_activity_date":1496030531,"creation_date":1266758329,"answer_id":2305980,"question_id":2305966,"body_markdown":"You should add &quot;throws IOException&quot; to your main method:\r\n\r\n`public static void main(String[] args) throws IOException {`   \r\n\r\nYou can read a bit more about checked exceptions (which are specific to Java) in [JLS][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>You should add \"throws IOException\" to your main method:</p>\n\n<p><code>public static void main(String[] args) throws IOException {</code>   </p>\n\n<p>You can read a bit more about checked exceptions (which are specific to Java) in <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html\" rel=\"noreferrer\">JLS</a>.</p>\n"},{"tags":[],"owner":{"account_id":103891,"reputation":17673,"user_id":278042,"accept_rate":51,"display_name":"jkff"},"comment_count":0,"down_vote_count":0,"up_vote_count":53,"is_accepted":false,"score":53,"last_activity_date":1266758629,"creation_date":1266758629,"answer_id":2305992,"question_id":2305966,"body_markdown":"Java has a feature called &quot;checked exceptions&quot;. That means that there are certain kinds of exceptions, namely those that subclass Exception but not RuntimeException, such that if a method may throw them, it *must* list them in its throws declaration, say: void readData() throws IOException. IOException is one of those.\r\n\r\nThus, when you are calling a method that lists IOException in its throws declaration, you must either list it in your own throws declaration or catch it.\r\n\r\nThe rationale for the presence of checked exceptions is that for some kinds of exceptions, you must not ignore the fact that they may happen, because their happening is quite a regular situation, not a program error. So, the compiler helps you not to forget about the possibility of such an exception being raised and requires you to handle it in some way.\r\n\r\nHowever, not all checked exception classes in Java standard library fit under this rationale, but that&#39;s a totally different topic.","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>Java has a feature called \"checked exceptions\". That means that there are certain kinds of exceptions, namely those that subclass Exception but not RuntimeException, such that if a method may throw them, it <em>must</em> list them in its throws declaration, say: void readData() throws IOException. IOException is one of those.</p>\n\n<p>Thus, when you are calling a method that lists IOException in its throws declaration, you must either list it in your own throws declaration or catch it.</p>\n\n<p>The rationale for the presence of checked exceptions is that for some kinds of exceptions, you must not ignore the fact that they may happen, because their happening is quite a regular situation, not a program error. So, the compiler helps you not to forget about the possibility of such an exception being raised and requires you to handle it in some way.</p>\n\n<p>However, not all checked exception classes in Java standard library fit under this rationale, but that's a totally different topic.</p>\n"},{"tags":[],"owner":{"account_id":79066,"reputation":529,"user_id":224509,"accept_rate":40,"display_name":"Parth"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1445609852,"creation_date":1266764503,"answer_id":2306266,"question_id":2305966,"body_markdown":"Try again with this code snippet:\r\n\r\n    import java.io.*;\r\n\r\n    class IO {\r\n        public static void main(String[] args) {    \r\n            try {\r\n                BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));    \r\n                String userInput;    \r\n                while ((userInput = stdIn.readLine()) != null) {\r\n                    System.out.println(userInput);\r\n                }\r\n            } catch(IOException ie) {\r\n                ie.printStackTrace();\r\n            }   \r\n        }\r\n    }\r\n\r\n\r\n\r\nUsing `try-catch-finally` is better than using `throws`. Finding errors and debugging are easier when you use `try-catch-finally`.","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>Try again with this code snippet:</p>\n\n<pre><code>import java.io.*;\n\nclass IO {\n    public static void main(String[] args) {    \n        try {\n            BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));    \n            String userInput;    \n            while ((userInput = stdIn.readLine()) != null) {\n                System.out.println(userInput);\n            }\n        } catch(IOException ie) {\n            ie.printStackTrace();\n        }   \n    }\n}\n</code></pre>\n\n<p>Using <code>try-catch-finally</code> is better than using <code>throws</code>. Finding errors and debugging are easier when you use <code>try-catch-finally</code>.</p>\n"},{"tags":[],"owner":{"account_id":2246708,"reputation":17,"user_id":1979895,"display_name":"vivz"},"comment_count":0,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1358754295,"creation_date":1358731672,"answer_id":14431324,"question_id":2305966,"body_markdown":"Reading input from keyboard is analogous to downloading files from the internet, the java io system opens connections with the source of data to be read using InputStream or Reader, you have to handle a situation where the connection can break by using IOExceptions\r\n\r\nIf you want to know exactly what it means to work with InputStreams and BufferedReader [this video][1] shows it\r\n\r\n\r\n[1]: http://www.youtube.com/watch?v=tXsZHUtmNs4","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>Reading input from keyboard is analogous to downloading files from the internet, the java io system opens connections with the source of data to be read using InputStream or Reader, you have to handle a situation where the connection can break by using IOExceptions</p>\n\n<p>If you want to know exactly what it means to work with InputStreams and BufferedReader <a href=\"http://www.youtube.com/watch?v=tXsZHUtmNs4\" rel=\"nofollow\">this video</a> shows it</p>\n"},{"tags":[],"owner":{"account_id":6379287,"reputation":1756,"user_id":5404469,"display_name":"harun ugur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518017099,"creation_date":1518017099,"answer_id":48667399,"question_id":2305966,"body_markdown":"add &quot;throws IOException&quot; to your method like this:\r\n\r\n \r\n\r\n    public static void main(String args[]) throws  IOException{\r\n    \r\n            FileReader reader=new FileReader(&quot;db.properties&quot;);\r\n    \r\n            Properties p=new Properties();\r\n            p.load(reader);\r\n    \r\n            \r\n        }","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>add \"throws IOException\" to your method like this:</p>\n\n<pre><code>public static void main(String args[]) throws  IOException{\n\n        FileReader reader=new FileReader(\"db.properties\");\n\n        Properties p=new Properties();\n        p.load(reader);\n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6498173,"reputation":908,"user_id":5130800,"display_name":"KoKlA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614353315,"creation_date":1614353315,"answer_id":66388540,"question_id":2305966,"body_markdown":"I got the Error even though i was catching the exception.\r\n\r\n        try {\r\n            bitmap = BitmapFactory.decodeStream(getAssets().open(&quot;kitten.jpg&quot;));\r\n        } catch (IOException e) {\r\n            Log.e(&quot;blabla&quot;, &quot;Error&quot;, e);\r\n            finish();\r\n        }\r\n\r\n\r\n\r\n\r\nIssue was that the IOException wasn&#39;t imported\r\n\r\n    import java.io.IOException;\r\n","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>I got the Error even though i was catching the exception.</p>\n<pre><code>    try {\n        bitmap = BitmapFactory.decodeStream(getAssets().open(&quot;kitten.jpg&quot;));\n    } catch (IOException e) {\n        Log.e(&quot;blabla&quot;, &quot;Error&quot;, e);\n        finish();\n    }\n</code></pre>\n<p>Issue was that the IOException wasn't imported</p>\n<pre><code>import java.io.IOException;\n</code></pre>\n"}],"owner":{"account_id":88863,"reputation":126169,"user_id":245549,"accept_rate":66,"display_name":"Roman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":223322,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":2305980,"answer_count":6,"score":46,"last_activity_date":1676023610,"creation_date":1266758047,"question_id":2305966,"body_markdown":"I have the following simple code:\r\n\r\n    import java.io.*;\r\n    class IO {\r\n        public static void main(String[] args) {    \r\n    \t   BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));    \r\n    \t   String userInput;\t\r\n    \t   while ((userInput = stdIn.readLine()) != null) {\r\n    \t      System.out.println(userInput);\r\n    \t   }\r\n        }\r\n    }\r\n\r\nAnd I get the following error message:\r\n\r\n    ----------\r\n    1. ERROR in io.java (at line 10)\r\n    \twhile ((userInput = stdIn.readLine()) != null) {\r\n    \t                    ^^^^^^^^^^^^^^^^\r\n    Unhandled exception type IOException\r\n    ----------\r\n    1 problem (1 error)roman@roman-laptop:~/work/java$ mcedit io.java \r\n\r\nDoes anybody have any ideas why? I just tried to simplify the code given on the sum web site ([here][1]). Did I oversimplify?\r\n\r\n\r\n  [1]: http://java.sun.com/docs/books/tutorial/networking/sockets/readingWriting.html","title":"Why do I get the &quot;Unhandled exception type IOException&quot;?","body":"<p>I have the following simple code:</p>\n\n<pre><code>import java.io.*;\nclass IO {\n    public static void main(String[] args) {    \n       BufferedReader stdIn = new BufferedReader(new InputStreamReader(System.in));    \n       String userInput;    \n       while ((userInput = stdIn.readLine()) != null) {\n          System.out.println(userInput);\n       }\n    }\n}\n</code></pre>\n\n<p>And I get the following error message:</p>\n\n<pre><code>----------\n1. ERROR in io.java (at line 10)\n    while ((userInput = stdIn.readLine()) != null) {\n                        ^^^^^^^^^^^^^^^^\nUnhandled exception type IOException\n----------\n1 problem (1 error)roman@roman-laptop:~/work/java$ mcedit io.java \n</code></pre>\n\n<p>Does anybody have any ideas why? I just tried to simplify the code given on the sum web site (<a href=\"http://java.sun.com/docs/books/tutorial/networking/sockets/readingWriting.html\" rel=\"noreferrer\">here</a>). Did I oversimplify?</p>\n"},{"tags":["java","itext"],"owner":{"account_id":20146453,"reputation":1,"user_id":14774862,"display_name":"eldoxz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676023547,"creation_date":1676023324,"question_id":75409523,"body_markdown":"How to add all the content of a pdf to a second pdf that has a table. I want all the content to be placed in one cell. I am using the itext library. \r\n\r\nI tried the code as below but it only pastes the content of the pdf without keeping the table:\r\n```\r\nPdfReader reader2 = new PdfReader(outputFile);\r\n\r\nPdfContentByte cb1 = writer.getDirectContent();\r\nfor (int i = 1; i &lt;= reader2.getNumberOfPages(); i++) {\r\n    document.newPage();\r\n    PdfImportedPage page = writer.getImportedPage(reader2, i);\r\n    cb1.addTemplate(page,0,0);\r\n}\r\n```\r\n\r\nI want it to look like this: \r\n```none\r\n| Table A        | \r\n| -------------- | \r\n| Pdf 1 content  |\r\n| Pdf 1 content  |\r\n| Pdf 2 content  |\r\n| Pdf 1 content  |\r\n```","title":"Adding pdf content to the table","body":"<p>How to add all the content of a pdf to a second pdf that has a table. I want all the content to be placed in one cell. I am using the itext library.</p>\n<p>I tried the code as below but it only pastes the content of the pdf without keeping the table:</p>\n<pre><code>PdfReader reader2 = new PdfReader(outputFile);\n\nPdfContentByte cb1 = writer.getDirectContent();\nfor (int i = 1; i &lt;= reader2.getNumberOfPages(); i++) {\n    document.newPage();\n    PdfImportedPage page = writer.getImportedPage(reader2, i);\n    cb1.addTemplate(page,0,0);\n}\n</code></pre>\n<p>I want it to look like this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>| Table A        | \n| -------------- | \n| Pdf 1 content  |\n| Pdf 1 content  |\n| Pdf 2 content  |\n| Pdf 1 content  |\n</code></pre>\n"},{"tags":["javascript","java","overflow","int32"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1676022838,"post_id":75409135,"comment_id":133057663,"body_markdown":"Related question that might help: https://stackoverflow.com/q/30678303/5133585","body":"Related question that might help: <a href=\"https://stackoverflow.com/q/30678303/5133585\">stackoverflow.com/q/30678303/5133585</a>"}],"answers":[{"comments":[{"owner":{"account_id":3780411,"reputation":45,"user_id":3140057,"display_name":"airone"},"score":0,"creation_date":1676025919,"post_id":75409370,"comment_id":133058577,"body_markdown":"Thank you for the detailed explaination !","body":"Thank you for the detailed explaination !"}],"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676022662,"creation_date":1676022662,"answer_id":75409370,"question_id":75409135,"body_markdown":"I can&#39;t provide a definitive answer as to exactly why you get these exact numbers; but consider that all numbers in JS are doubles.\r\n\r\nSo, whereas `current * 0x08088405` is done using integer arithmetic in Java, `a[0]*a[1]` is done using double arithmetic in JS, so these intermediate results are different; and the limited precision of a double means that adding 1 to that doesn&#39;t actually change the value:\r\n\r\n```\r\nconsole.log(a[0]*a[1]) =&gt; -215607868985706270\r\nconsole.log(a[0]*a[1] + a[2]) =&gt; = -215607868985706270\r\n```\r\n\r\nCompare this to Java, where integer arithmetic is used:\r\n\r\n```\r\nint[] a = { -1599751945, 0x08088405, 1};\r\nSystem.out.println(a[0]*a[1])          =&gt; 374601939\r\nSystem.out.println(a[0]*a[1] + a[2])   =&gt; 374601940\r\n```\r\n\r\nIf we make Java do this in double arithmetic:\r\n\r\n```\r\ndouble[] a = { -1599751945, 0x08088405, 1};\r\nSystem.out.println(a[0]*a[1]);         =&gt; -2.15607868985706272E17\r\nSystem.out.println(a[0]*a[1] + a[2]);  =&gt; -2.15607868985706272E17\r\n```\r\n\r\nYou can see that this is _almost_ the same, but differs in the least significant digit:\r\n\r\n```\r\n-215607868985706270  // JS\r\n-215607868985706272  // Java\r\n```\r\n\r\nI don&#39;t know why there is such a difference here.","title":"Int32 computation difference between Java and JavaScript","body":"<p>I can't provide a definitive answer as to exactly why you get these exact numbers; but consider that all numbers in JS are doubles.</p>\n<p>So, whereas <code>current * 0x08088405</code> is done using integer arithmetic in Java, <code>a[0]*a[1]</code> is done using double arithmetic in JS, so these intermediate results are different; and the limited precision of a double means that adding 1 to that doesn't actually change the value:</p>\n<pre><code>console.log(a[0]*a[1]) =&gt; -215607868985706270\nconsole.log(a[0]*a[1] + a[2]) =&gt; = -215607868985706270\n</code></pre>\n<p>Compare this to Java, where integer arithmetic is used:</p>\n<pre><code>int[] a = { -1599751945, 0x08088405, 1};\nSystem.out.println(a[0]*a[1])          =&gt; 374601939\nSystem.out.println(a[0]*a[1] + a[2])   =&gt; 374601940\n</code></pre>\n<p>If we make Java do this in double arithmetic:</p>\n<pre><code>double[] a = { -1599751945, 0x08088405, 1};\nSystem.out.println(a[0]*a[1]);         =&gt; -2.15607868985706272E17\nSystem.out.println(a[0]*a[1] + a[2]);  =&gt; -2.15607868985706272E17\n</code></pre>\n<p>You can see that this is <em>almost</em> the same, but differs in the least significant digit:</p>\n<pre><code>-215607868985706270  // JS\n-215607868985706272  // Java\n</code></pre>\n<p>I don't know why there is such a difference here.</p>\n"},{"tags":[],"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676022807,"creation_date":1676022807,"answer_id":75409399,"question_id":75409135,"body_markdown":"Floating point numbers only support precision up to a specific number of digits. JavaScript promotes numbers larger than 32 bits to floating point numbers.\r\n\r\nJava is &quot;more correct&quot; here.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    // -215607868985706285 is the 64 bit result of your multiplication\r\n    console.log(-215607868985706285); // will print -215607868985706285\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nSee https://stackoverflow.com/questions/588004/is-floating-point-math-broken for a general discussion of this topic.","title":"Int32 computation difference between Java and JavaScript","body":"<p>Floating point numbers only support precision up to a specific number of digits. JavaScript promotes numbers larger than 32 bits to floating point numbers.</p>\n<p>Java is &quot;more correct&quot; here.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// -215607868985706285 is the 64 bit result of your multiplication\nconsole.log(-215607868985706285); // will print -215607868985706285</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>See <a href=\"https://stackoverflow.com/questions/588004/is-floating-point-math-broken\">Is floating point math broken?</a> for a general discussion of this topic.</p>\n"},{"tags":[],"owner":{"account_id":19619018,"reputation":127,"user_id":14359869,"display_name":"antonio_s87"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1676023381,"creation_date":1676023381,"answer_id":75409531,"question_id":75409135,"body_markdown":"Use Math.imul() in JavaScript. That should produce the correct result.\r\n\r\n    const a = new Int32Array(4)\r\n\r\n    a[0] = -1599751945\r\n    a[1] = 0x08088405\r\n    a[2] = 1\r\n    a[3] = Math.imul(a[0], a[1]) + a[2]\r\n\r\n    console.log(&#39;a[3] = &#39; + a[3])\r\n\r\nAdditional details as to why can be found [here][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/21865422/14359869","title":"Int32 computation difference between Java and JavaScript","body":"<p>Use Math.imul() in JavaScript. That should produce the correct result.</p>\n<pre><code>const a = new Int32Array(4)\n\na[0] = -1599751945\na[1] = 0x08088405\na[2] = 1\na[3] = Math.imul(a[0], a[1]) + a[2]\n\nconsole.log('a[3] = ' + a[3])\n</code></pre>\n<p>Additional details as to why can be found <a href=\"https://stackoverflow.com/a/21865422/14359869\">here</a>.</p>\n"}],"owner":{"account_id":3780411,"reputation":45,"user_id":3140057,"display_name":"airone"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1676025214,"accepted_answer_id":75409531,"answer_count":3,"score":4,"last_activity_date":1676023465,"creation_date":1676021314,"question_id":75409135,"body_markdown":"I need to rewrite some legacy Java code performing arithmetic transformations from Java to TypeScript/JavaScript. The problem is the legacy code uses the `int` Java type (signed 32-bits) and relies on overflows. I almost got what I want using Int32Array in JavaScript, but I still have a difference I can&#39;t explain. Look below.\r\n\r\nJava:\r\n\r\n```java\r\nint current = -1599751945;\r\nint next = current * 0x08088405 + 1;\r\nSystem.out.println(&quot;next = &quot; + next);\r\n```\r\n\r\nOutput: next = **374601940**\r\n\r\nJavascript:\r\n\r\n```js\r\nconst a = new Int32Array(4)\r\n\r\na[0] = -1599751945\r\na[1] = 0x08088405\r\na[2] = 1\r\na[3] = a[0]*a[1] + a[2]\r\n\r\nconsole.log(&#39;a[3] = &#39; + a[3])\r\n```\r\n\r\nOutput: a[3] = **374601952**\r\n\r\nCan someone explain the difference? And how can I get same result in JavaScript? I tried shift operations, coerce with |0, methods to convert etc., but best result is the one above.\r\n\r\n","title":"Int32 computation difference between Java and JavaScript","body":"<p>I need to rewrite some legacy Java code performing arithmetic transformations from Java to TypeScript/JavaScript. The problem is the legacy code uses the <code>int</code> Java type (signed 32-bits) and relies on overflows. I almost got what I want using Int32Array in JavaScript, but I still have a difference I can't explain. Look below.</p>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int current = -1599751945;\nint next = current * 0x08088405 + 1;\nSystem.out.println(&quot;next = &quot; + next);\n</code></pre>\n<p>Output: next = <strong>374601940</strong></p>\n<p>Javascript:</p>\n<pre class=\"lang-js prettyprint-override\"><code>const a = new Int32Array(4)\n\na[0] = -1599751945\na[1] = 0x08088405\na[2] = 1\na[3] = a[0]*a[1] + a[2]\n\nconsole.log('a[3] = ' + a[3])\n</code></pre>\n<p>Output: a[3] = <strong>374601952</strong></p>\n<p>Can someone explain the difference? And how can I get same result in JavaScript? I tried shift operations, coerce with |0, methods to convert etc., but best result is the one above.</p>\n"},{"tags":["java","google-maps","ssl","google-app-engine","mocking"],"owner":{"account_id":18718450,"reputation":175,"user_id":13646924,"display_name":"TaeXtreme"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1676022747,"creation_date":1676022747,"question_id":75409390,"body_markdown":"I currently working on an app that need to call google maps fleet engine gRPC API. The App is implemented in Java 11 and connecting to google engine using [Fleet Engine Auth][1]. And right now, I try to create a mock fleet engine server using [Camouflage][2] API simulation tools that support gRPC. So far, the mock server is work when I use it with Postman. But when I try to use it with the app, the app fails to connect with the mock server. Then, I enable TLS in mock server using certificate and key that I generate using JDK keytool and openssl. After putting cert and key files into the mock and setting app config to match with the mock the app still won&#39;t connect to the mock server.\r\n\r\nIs there an alternative way to mocking google maps fleet engine gRPC API?\r\nOr what I need to do to set up a mock properly?\r\n\r\nError message when I am using mock server with TLS disable.\r\n```\r\ncom.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n\tat com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:67)\r\n\tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\r\n\tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\r\n\tat com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\r\n\tat com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\r\n\tat com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)\r\n\tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\r\n\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)\r\n\tat com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:724)\r\n\tat com.google.common.util.concurrent.ForwardingListenableFuture.addListener(ForwardingListenableFuture.java:45)\r\n\tat com.google.api.core.ApiFutureToListenableFuture.addListener(ApiFutureToListenableFuture.java:52)\r\n\tat com.google.common.util.concurrent.Futures.addCallback(Futures.java:1014)\r\n\tat com.google.api.core.ApiFutures.addCallback(ApiFutures.java:63)\r\n\tat com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:67)\r\n\tat com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\r\n\tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tSuppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\r\n\t\tat com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\r\n\t\tat com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n\t\tat google.maps.fleetengine.v1.TripServiceClient.createTrip(TripServiceClient.java:178)\r\n\t\tat th.co.rbh.expodrd.services.proxy.TripServiceProxy.createTrip(TripServiceProxy.java:23)\r\n\t\tat th.co.rbh.expodrd.services.TripService.postTripNew(TripService.java:169)\r\n\t\tat th.co.rbh.expodrd.services.TripService$$FastClassBySpringCGLIB$$114d2f28.invoke(&lt;generated&gt;)\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\r\n\t\tat th.co.rbh.expodrd.services.TripService$$EnhancerBySpringCGLIB$$9e7db346.postTripNew(&lt;generated&gt;)\r\n\t\tat th.co.rbh.expodrd.controllers.TripController.postTrip(TripController.java:38)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n\t\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n\t\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n\t\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n\t\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\r\n\t\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat th.co.rbh.library.filter.RequestFilter.doFilterInternal(RequestFilter.java:117)\r\n\t\tat th.co.rbh.library.filter.RequestFilter.doFilter(RequestFilter.java:96)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat th.co.rbh.library.filter.CustomHeaderFilter.doFilter(CustomHeaderFilter.java:30)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n\t\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat io.opentracing.contrib.web.servlet.filter.TracingFilter.doFilter(TracingFilter.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\t\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\t... 1 common frames omitted\r\nCaused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n\tat io.grpc.Status.asRuntimeException(Status.java:535)\r\n\tat io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:534)\r\n\tat io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)\r\n\tat io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\r\n\t... 3 common frames omitted\r\nCaused by: io.grpc.netty.shaded.io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 000000040000000000\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1254)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t... 1 common frames omitted\r\n```\r\n\r\nError when I am using mock with TLS\r\n```\r\ncom.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n\tat com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:67)\r\n\tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\r\n\tat com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\r\n\tat com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\r\n\tat com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\r\n\tat com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)\r\n\tat com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\r\n\tat com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)\r\n\tat com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:724)\r\n\tat com.google.common.util.concurrent.ForwardingListenableFuture.addListener(ForwardingListenableFuture.java:45)\r\n\tat com.google.api.core.ApiFutureToListenableFuture.addListener(ApiFutureToListenableFuture.java:52)\r\n\tat com.google.common.util.concurrent.Futures.addCallback(Futures.java:1014)\r\n\tat com.google.api.core.ApiFutures.addCallback(ApiFutures.java:63)\r\n\tat com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:67)\r\n\tat com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\r\n\tat com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\r\n\tat com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n\tSuppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\r\n\t\tat com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\r\n\t\tat com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\r\n\t\tat google.maps.fleetengine.v1.VehicleServiceClient.searchVehicles(VehicleServiceClient.java:675)\r\n\t\tat th.co.rbh.expodrd.services.proxy.VehicleServiceProxy.searchVehicles(VehicleServiceProxy.java:32)\r\n\t\tat th.co.rbh.expodrd.services.VehicleSearchService.searchVehicles(VehicleSearchService.java:69)\r\n\t\tat th.co.rbh.expodrd.services.ODRDStateAsync.matchVehicleToTrip(ODRDStateAsync.java:58)\r\n\t\tat th.co.rbh.expodrd.services.ODRDStateAsync$$FastClassBySpringCGLIB$$2f75af1a.invoke(&lt;generated&gt;)\r\n\t\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\r\n\t\tat io.opentracing.contrib.spring.cloud.async.TraceAsyncAspect.traceBackgroundThread(TraceAsyncAspect.java:56)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\t\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\r\n\t\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\r\n\t\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\t\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\r\n\t\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\t\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\t\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\r\n\t\tat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\r\n\t\tat io.opentracing.contrib.concurrent.TracedCallable.call(TracedCallable.java:32)\r\n\t\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\t\t... 3 common frames omitted\r\nCaused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\r\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\r\n\tat io.grpc.Status.asRuntimeException(Status.java:535)\r\n\tat io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:534)\r\n\tat io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)\r\n\tat io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)\r\n\tat io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)\r\n\tat io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\r\n\tat io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\r\n\t... 3 common frames omitted\r\nCaused by: javax.net.ssl.SSLHandshakeException: General OpenSslEngine problem\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.handshakeException(ReferenceCountedOpenSslEngine.java:1771)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.wrap(ReferenceCountedOpenSslEngine.java:776)\r\n\tat java.base/javax.net.ssl.SSLEngine.wrap(SSLEngine.java:522)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:1079)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:970)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1443)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1275)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\r\n\tat io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tat io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tat io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\r\n\tat io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\t... 1 common frames omitted\r\nCaused by: java.security.cert.CertificateException: No subject alternative names present\r\n\tat java.base/sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:142)\r\n\tat java.base/sun.security.util.HostnameChecker.match(HostnameChecker.java:101)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:455)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:429)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:283)\r\n\tat java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:141)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslClientContext$ExtendedTrustManagerVerifyCallback.verify(ReferenceCountedOpenSslClientContext.java:261)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslContext$AbstractCertificateVerifier.verify(ReferenceCountedOpenSslContext.java:700)\r\n\tat io.grpc.netty.shaded.io.netty.internal.tcnative.SSL.readFromSSL(Native Method)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.readPlaintextData(ReferenceCountedOpenSslEngine.java:595)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1202)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1324)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1367)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler$SslEngineType$1.unwrap(SslHandler.java:206)\r\n\tat io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1380)\r\n\t... 21 common frames omitted\r\n\tSuppressed: javax.net.ssl.SSLHandshakeException: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED\r\n\t\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.sslReadErrorResult(ReferenceCountedOpenSslEngine.java:1287)\r\n\t\tat io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1248)\r\n\t\t... 25 common frames omitted\r\n```\r\n\r\n  [1]: https://github.com/googlemaps/java-fleetengine-auth\r\n  [2]: https://testinggospels.github.io/camouflage/","title":"Cannot mock Google Maps gRPC service with TLS for Testing","body":"<p>I currently working on an app that need to call google maps fleet engine gRPC API. The App is implemented in Java 11 and connecting to google engine using <a href=\"https://github.com/googlemaps/java-fleetengine-auth\" rel=\"nofollow noreferrer\">Fleet Engine Auth</a>. And right now, I try to create a mock fleet engine server using <a href=\"https://testinggospels.github.io/camouflage/\" rel=\"nofollow noreferrer\">Camouflage</a> API simulation tools that support gRPC. So far, the mock server is work when I use it with Postman. But when I try to use it with the app, the app fails to connect with the mock server. Then, I enable TLS in mock server using certificate and key that I generate using JDK keytool and openssl. After putting cert and key files into the mock and setting app config to match with the mock the app still won't connect to the mock server.</p>\n<p>Is there an alternative way to mocking google maps fleet engine gRPC API?\nOr what I need to do to set up a mock properly?</p>\n<p>Error message when I am using mock server with TLS disable.</p>\n<pre><code>com.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n    at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:67)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\n    at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\n    at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\n    at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)\n    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\n    at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)\n    at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:724)\n    at com.google.common.util.concurrent.ForwardingListenableFuture.addListener(ForwardingListenableFuture.java:45)\n    at com.google.api.core.ApiFutureToListenableFuture.addListener(ApiFutureToListenableFuture.java:52)\n    at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1014)\n    at com.google.api.core.ApiFutures.addCallback(ApiFutures.java:63)\n    at com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:67)\n    at com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\n    at com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\n        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\n        at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n        at google.maps.fleetengine.v1.TripServiceClient.createTrip(TripServiceClient.java:178)\n        at th.co.rbh.expodrd.services.proxy.TripServiceProxy.createTrip(TripServiceProxy.java:23)\n        at th.co.rbh.expodrd.services.TripService.postTripNew(TripService.java:169)\n        at th.co.rbh.expodrd.services.TripService$$FastClassBySpringCGLIB$$114d2f28.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698)\n        at th.co.rbh.expodrd.services.TripService$$EnhancerBySpringCGLIB$$9e7db346.postTripNew(&lt;generated&gt;)\n        at th.co.rbh.expodrd.controllers.TripController.postTrip(TripController.java:38)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:681)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at th.co.rbh.library.filter.RequestFilter.doFilterInternal(RequestFilter.java:117)\n        at th.co.rbh.library.filter.RequestFilter.doFilter(RequestFilter.java:96)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at th.co.rbh.library.filter.CustomHeaderFilter.doFilter(CustomHeaderFilter.java:30)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.boot.actuate.metrics.web.servlet.WebMvcMetricsFilter.doFilterInternal(WebMvcMetricsFilter.java:96)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at io.opentracing.contrib.web.servlet.filter.TracingFilter.doFilter(TracingFilter.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:360)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:399)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:889)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1743)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        ... 1 common frames omitted\nCaused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n    at io.grpc.Status.asRuntimeException(Status.java:535)\n    at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:534)\n    at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)\n    at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\n    ... 3 common frames omitted\nCaused by: io.grpc.netty.shaded.io.netty.handler.ssl.NotSslRecordException: not an SSL/TLS record: 000000040000000000\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1254)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    ... 1 common frames omitted\n</code></pre>\n<p>Error when I am using mock with TLS</p>\n<pre><code>com.google.api.gax.rpc.UnavailableException: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n    at com.google.api.gax.rpc.ApiExceptionFactory.createException(ApiExceptionFactory.java:67)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:72)\n    at com.google.api.gax.grpc.GrpcApiExceptionFactory.create(GrpcApiExceptionFactory.java:60)\n    at com.google.api.gax.grpc.GrpcExceptionCallable$ExceptionTransformingFuture.onFailure(GrpcExceptionCallable.java:97)\n    at com.google.api.core.ApiFutures$1.onFailure(ApiFutures.java:68)\n    at com.google.common.util.concurrent.Futures$CallbackListener.run(Futures.java:1041)\n    at com.google.common.util.concurrent.DirectExecutor.execute(DirectExecutor.java:30)\n    at com.google.common.util.concurrent.AbstractFuture.executeListener(AbstractFuture.java:1215)\n    at com.google.common.util.concurrent.AbstractFuture.addListener(AbstractFuture.java:724)\n    at com.google.common.util.concurrent.ForwardingListenableFuture.addListener(ForwardingListenableFuture.java:45)\n    at com.google.api.core.ApiFutureToListenableFuture.addListener(ApiFutureToListenableFuture.java:52)\n    at com.google.common.util.concurrent.Futures.addCallback(Futures.java:1014)\n    at com.google.api.core.ApiFutures.addCallback(ApiFutures.java:63)\n    at com.google.api.gax.grpc.GrpcExceptionCallable.futureCall(GrpcExceptionCallable.java:67)\n    at com.google.api.gax.rpc.AttemptCallable.call(AttemptCallable.java:87)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask$TrustedFutureInterruptibleTask.runInterruptibly(TrustedListenableFutureTask.java:125)\n    at com.google.common.util.concurrent.InterruptibleTask.run(InterruptibleTask.java:69)\n    at com.google.common.util.concurrent.TrustedListenableFutureTask.run(TrustedListenableFutureTask.java:78)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n    Suppressed: com.google.api.gax.rpc.AsyncTaskException: Asynchronous task failed\n        at com.google.api.gax.rpc.ApiExceptions.callAndTranslateApiException(ApiExceptions.java:57)\n        at com.google.api.gax.rpc.UnaryCallable.call(UnaryCallable.java:112)\n        at google.maps.fleetengine.v1.VehicleServiceClient.searchVehicles(VehicleServiceClient.java:675)\n        at th.co.rbh.expodrd.services.proxy.VehicleServiceProxy.searchVehicles(VehicleServiceProxy.java:32)\n        at th.co.rbh.expodrd.services.VehicleSearchService.searchVehicles(VehicleSearchService.java:69)\n        at th.co.rbh.expodrd.services.ODRDStateAsync.matchVehicleToTrip(ODRDStateAsync.java:58)\n        at th.co.rbh.expodrd.services.ODRDStateAsync$$FastClassBySpringCGLIB$$2f75af1a.invoke(&lt;generated&gt;)\n        at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:89)\n        at io.opentracing.contrib.spring.cloud.async.TraceAsyncAspect.traceBackgroundThread(TraceAsyncAspect.java:56)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:634)\n        at org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:624)\n        at org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:72)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n        at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)\n        at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n        at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n        at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753)\n        at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\n        at io.opentracing.contrib.concurrent.TracedCallable.call(TracedCallable.java:32)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        ... 3 common frames omitted\nCaused by: io.grpc.StatusRuntimeException: UNAVAILABLE: io exception\nChannel Pipeline: [SslHandler#0, ProtocolNegotiators$ClientTlsHandler#0, WriteBufferingAndExceptionHandler#0, DefaultChannelPipeline$TailContext#0]\n    at io.grpc.Status.asRuntimeException(Status.java:535)\n    at io.grpc.stub.ClientCalls$UnaryStreamToFuture.onClose(ClientCalls.java:534)\n    at io.grpc.internal.ClientCallImpl.closeObserver(ClientCallImpl.java:617)\n    at io.grpc.internal.ClientCallImpl.access$300(ClientCallImpl.java:70)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInternal(ClientCallImpl.java:803)\n    at io.grpc.internal.ClientCallImpl$ClientStreamListenerImpl$1StreamClosed.runInContext(ClientCallImpl.java:782)\n    at io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)\n    at io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)\n    ... 3 common frames omitted\nCaused by: javax.net.ssl.SSLHandshakeException: General OpenSslEngine problem\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.handshakeException(ReferenceCountedOpenSslEngine.java:1771)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.wrap(ReferenceCountedOpenSslEngine.java:776)\n    at java.base/javax.net.ssl.SSLEngine.wrap(SSLEngine.java:522)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrap(SslHandler.java:1079)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.wrapNonAppData(SslHandler.java:970)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1443)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1275)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1322)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:501)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:440)\n    at io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:276)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    at io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    at io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:163)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:714)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:650)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:576)\n    at io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:493)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    ... 1 common frames omitted\nCaused by: java.security.cert.CertificateException: No subject alternative names present\n    at java.base/sun.security.util.HostnameChecker.matchIP(HostnameChecker.java:142)\n    at java.base/sun.security.util.HostnameChecker.match(HostnameChecker.java:101)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:455)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkIdentity(X509TrustManagerImpl.java:429)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkTrusted(X509TrustManagerImpl.java:283)\n    at java.base/sun.security.ssl.X509TrustManagerImpl.checkServerTrusted(X509TrustManagerImpl.java:141)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslClientContext$ExtendedTrustManagerVerifyCallback.verify(ReferenceCountedOpenSslClientContext.java:261)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslContext$AbstractCertificateVerifier.verify(ReferenceCountedOpenSslContext.java:700)\n    at io.grpc.netty.shaded.io.netty.internal.tcnative.SSL.readFromSSL(Native Method)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.readPlaintextData(ReferenceCountedOpenSslEngine.java:595)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1202)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1324)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1367)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler$SslEngineType$1.unwrap(SslHandler.java:206)\n    at io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1380)\n    ... 21 common frames omitted\n    Suppressed: javax.net.ssl.SSLHandshakeException: error:1000007d:SSL routines:OPENSSL_internal:CERTIFICATE_VERIFY_FAILED\n        at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.sslReadErrorResult(ReferenceCountedOpenSslEngine.java:1287)\n        at io.grpc.netty.shaded.io.netty.handler.ssl.ReferenceCountedOpenSslEngine.unwrap(ReferenceCountedOpenSslEngine.java:1248)\n        ... 25 common frames omitted\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9564,"page":659,"page_size":100}
